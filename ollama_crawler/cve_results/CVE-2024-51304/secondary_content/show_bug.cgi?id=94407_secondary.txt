Title: 94407 – infinite "X server startup timeout" in syslog upon init/kdm startup
URL: https://bugs.gentoo.org/show_bug.cgi?id=94407

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 94407
infinite "X server startup timeout" in syslog upon init/kdm startup
Last modified: 2009-10-25 15:28:57 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 94407 
      - infinite "X server startup timeout" in syslog upon init/kdm startup


Summary:
infinite "X server startup timeout" in syslog upon init/kdm startup
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

PPC64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-05-29 12:15 UTC by Michael Caine





      Modified:
    
2009-10-25 15:28 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



evilmax
ppc64









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Michael Caine





          2005-05-29 12:15:44 UTC
        

G5 w/ 2.6.11-gentoo-r6 #1 SMP Wed May 4 03:23:46 UTC 2005 ppc64 PPC970FX, 
altivec supported PowerMac7,3 GNU/Linux. 
 
KDE 3.3. 
/etc/rc.conf contains: DISPLAYMANAGER="kdm" 
 
 
Basically, kdm doesn't start up on bootup. X/kdm logs incessantly to syslog, 
from the moment the init-script runs until I '/etc/init.d/xdm stop' to stop it.  
It rotates the whole syslog collection faster than you can say "woah".  It 
fills every inch of log files with: 
	[kdm] X server startup timeout, terminating 
	[kdm] X server termination timeout, killing 
Even if /usr/kde/3.3/share/config/kdm/kdmrc timeout values, like OpenTimeout 
(in [X-*-Core]) and ServerTimeout (in [X-:*-Core]) do nothing.  The timeouts 
seem to be occurring instantaneously and attempts are repeated instantly and 
indefinitely. 
 
Note that I _can_ startx successfully (I have exec startkde in my ~/.xinitrc, 
so startx does start kde). 

Reproducible: Always
Steps to Reproduce:
Please see "Details" section. 
Actual Results:  
Please see "Details" section. Nothing happens except the logs continually fill 
up. 

Expected Results:  
Kdm should start. 

None




Comment 1


Gregorio Guidi (RETIRED)






          2005-06-08 07:44:55 UTC
        

Never seen something like this... does it happen with newer versions of kdm, 
too? 




Comment 2


Markus Rothe (RETIRED)






          2005-06-09 12:41:15 UTC
        

does xdm start at boot if you have DISPLAYMANAGER="xdm"?




Comment 3


Markus Rothe (RETIRED)






          2005-06-18 10:31:37 UTC
        

please please answer my question, because then we can see, if this problem is
kdm or X related...

please provide also your emerge --info output. :-)




Comment 4


Markus Rothe (RETIRED)






          2005-06-19 13:01:26 UTC
        

user seems dead.. please reopen if you want provide more information :-)  




Comment 5


Michael Caine





          2005-07-07 21:00:08 UTC
        

Sorry for taking so long to respond....   
   
In answer to your question: I haven't yet tried more recent versions of kdm...   
I'm not sure that any newer versions are are masked ~ppc64 yet.  I'm intending   
on trying to debug it more in several weeks, but am in the middle of a move at   
the moment... I don't mind leaving this outstanding for a few weeks and   
returning to it later, if you don't.  I currently just startx manually to get   
around the problem.  
  
I will also attach emerge --info this evening when I get back on that box. 
 
Again, sorry for my untimely "death". :) 




Comment 6


Markus Rothe (RETIRED)






          2006-02-01 10:26:05 UTC
        

hmm.. kde-3.4.3 is stable now. could you please try again and provide the emerge --info output and maybe add your xorg.conf to this bug as an attachment. thanks

P.S.: I cannot reproduce this bug...




Comment 7


Markus Rothe (RETIRED)






          2006-03-15 13:34:38 UTC
        

sorry, you are just too slow providing information ;-(




Comment 8


Maksim Privalov





          2009-07-01 16:18:39 UTC
        

Have one "X server startup timeout" in /var/log/messages  KDE-3.5.10. After logging in into console I can smoothly run KDE by /etc/init.d/xdm start


Output of "rc-update -s" :

evil ~ # rc-update -s
           alsasound |      default
            bootmisc | boot
             checkfs | boot
           checkroot | boot
               clock | boot
         consolefont | boot
          consolekit |      default
               cupsd |      default
                 gpm |      default
                hald |      default
            hostname | boot
            iptables |      default
             keymaps | boot
               local |      default nonetwork
          localmount | boot
             modules | boot
            net.eth0 |      default
              net.lo | boot
            netmount |      default
          ntp-client |      default
             numlock |      default
           rmnologin | boot
                sshd |      default
           syslog-ng |      default
      udev-postmount |      default
             urandom | boot
          vixie-cron |      default
              vmware |      default
                 xdm |      default


Output of "emerge --info":

Portage 2.1.6.13 (default/linux/amd64/2008.0/desktop, gcc-4.3.2, glibc-2.9_p20081201-r2, 2.6.29-gentoo-r5 x86_64)
=================================================================
System uname: Linux-2.6.29-gentoo-r5-x86_64-Intel-R-_Core-TM-2_Quad_CPU_Q9550_@_2.83GHz-with-glibc2.2.5
Timestamp of tree: Wed, 01 Jul 2009 14:30:02 +0000
app-shells/bash:     3.2_p39
dev-java/java-config: 1.3.7-r1, 2.1.7
dev-lang/python:     2.4.4-r13, 2.5.4-r2
dev-util/cmake:      2.6.4
sys-apps/baselayout: 1.12.11.1
sys-apps/sandbox:    1.6-r2
sys-devel/autoconf:  2.13, 2.63
sys-devel/automake:  1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.2
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.27-r2
ACCEPT_KEYWORDS="amd64"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -pipe -march=native -mmmx -msse4.1"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/config"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-O2 -pipe -march=native -mmmx -msse4.1"
DISTDIR="/usr/portage/distfiles"
FEATURES="distlocks fixpackages parallel-fetch protect-owned sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LANG="ru_RU.UTF-8"
LC_ALL="ru_RU.UTF-8"
LDFLAGS="-Wl,-O1"
LINGUAS="ru"
MAKEOPTS="-j9"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage/layman/rostov /usr/local/portage/layman/vmware"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X acl acpi alsa amd64 berkdb bluetooth branding bzip2 cairo cdr cli cracklib crypt cups dbus dri dvd dvdr dvdread eds emboss encode esd evo fam firefox fortran gdbm gif gpm gstreamer gtk hal iconv ipv6 isdnlog jpeg kde kdeenablefinal kdehiddenvisibility ldap libnotify mad midi mikmod mmx mp3 mpeg mudflap multilib ncurses nls nptl nptlonly ogg opengl openmp pam pcre pdf perl png ppds pppd python qt3 qt3support qt4 quicktime readline reflection sdl session spell spl sse sse2 sse3 sse4.1 ssl ssse3 startup-notification svg sysfs tcpd tiff truetype type1 unicode usb v4l v4l2 vorbis xml xorg xulrunner xv zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" APACHE2_MPMS="prefork" ELIBC="glibc" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="ru" USERLAND="GNU" VIDEO_CARDS="fbdev glint i810 intel mach64 mga neomagic nv r128 radeon savage sis tdfx trident vesa vga via vmware voodoo"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS


P.S. Overlays are used only for 2 package installation: vmware-workstation and openoffice-infra-bin

Please, reopen this bug.




Comment 9


Maksim Privalov





          2009-07-01 16:22:32 UTC
        

P.S. Have this bug on x86_64 system.




Comment 10


Jens Saak





          2009-10-25 15:28:57 UTC
        

(In reply to comment #9)
> P.S. Have this bug on x86_64 system.
> 
me, too, well until a few minutes ago i had. I fixed it by adding 

ServerTimeout=120

to the [X-*-Core] section in my kdmrc following:
http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=524751









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

