Title: 284555 – java-utils-2.eclass: "Can't run java-config --help"
URL: https://bugs.gentoo.org/show_bug.cgi?id=284555

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 284555
java-utils-2.eclass: "Can't run java-config --help"
Last modified: 2009-09-23 21:37:47 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 284555 
      - java-utils-2.eclass: "Can't run java-config --help"


Summary:
java-utils-2.eclass: "Can't run java-config --help"
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Eclasses

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Java team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-09-11 05:45 UTC by André Terpstra





      Modified:
    
2009-09-23 21:37 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



jer









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


André Terpstra





          2009-09-11 05:45:12 UTC
        

In the stable tree, suddenly net-dns/libidn-1.15 fails to emerge complaining about java-config. Re-emerging java-config solves the problem.

NOTE: this may have been caused by the bash upgrade to 4.0 (or something else); unfortunately I am unable to determine that.

Reproducible: Always

Steps to Reproduce:
1.emerge -u world
2.
3.

Actual Results:  
the following error message appears:

 * Messages for package net-dns/libidn-1.15:

 * 
 * Can't run java-config --help
 * Have you upgraded python recently but haven't
 * run python-updater yet?
 * 
 * ERROR: net-dns/libidn-1.15 failed.
 * Call stack:
 *               ebuild.sh, line   49:  Called pkg_setup
 *               ebuild.sh, line 1273:  Called java-pkg-opt-2_pkg_setup
 *   java-pkg-opt-2.eclass, line   45:  Called java-pkg_init
 *     java-utils-2.eclass, line 2050:  Called die
 * The specific snippet of code:
 *   		die "Can't run java-config --help"
 *  The die message:
 *   Can't run java-config --help
 * 
 * If you need support, post the topmost build error, and the call stack if relevant.
 * A complete build log is located at '/var/log/portage/net-dns:libidn-1.15:20090911-053918.log'.
 * The ebuild environment file is located at '/var/tmp/portage/net-dns/libidn-1.15/temp/die.env'.
 *

Expected Results:  
compile normally

ZeusGentoo ~ # emerge --info
Portage 2.1.6.13 (default/linux/amd64/2008.0/desktop, gcc-4.3.2, glibc-2.9_p20081201-r2, 2.6.30-gentoo-r4 x86_64)
=================================================================
System uname: Linux-2.6.30-gentoo-r4-x86_64-Intel-R-_Core-TM-2_Duo_CPU_E6750_@_2.66GHz-with-gentoo-1.12.11.1
Timestamp of tree: Fri, 11 Sep 2009 04:20:01 +0000
ccache version 2.4 [enabled]
app-shells/bash:     4.0_p28
dev-java/java-config: 1.3.7-r1, 2.1.8-r1
dev-lang/python:     2.6.2-r1
dev-util/ccache:     2.4-r7
dev-util/cmake:      2.6.4
sys-apps/baselayout: 1.12.11.1
sys-apps/sandbox:    1.6-r2
sys-devel/autoconf:  2.13, 2.63-r1
sys-devel/automake:  1.7.9-r1, 1.9.6-r2, 1.10.2
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.27-r2
ACCEPT_KEYWORDS="amd64"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS=" -O2 -march=nocona -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /var/lib/hsqldb"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/udev/rules.d"
CXXFLAGS=" -O2 -march=nocona -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="candy ccache distlocks fixpackages parallel-fetch protect-owned sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="ftp://192.168.1.222/gentoo"
LDFLAGS="-Wl,-O1"
LINGUAS="nl"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://192.168.1.222/gentoo-portage"
USE="X a52 aac acl acpi alsa amd64 artworkextra berkdb bluetooth branding bzip2 cairo cdr cleartype cli cracklib crypt cups dbus dri dts dvd dvdr eds emboss encode epiphany esd evo exif fam fat ffmpeg firefox firefox3 flac fontconfig fortran gdbm gif gnome gphoto2 gpm gstreamer gtk hal iconv ieee1394 ipv6 isdnlog java jpeg jpeg2k ldap libnotify lm_sensors mad mikmod mmx mp3 mp4 mpeg mudflap multilib nautilus ncurses network-cron nls nptl nptlonly nsplugin ntfs ogg opengl openmp pam pcre pdf perl png ppds pppd python quicktime readline reflection reiser4 reiserfs sdl session spell spl sse sse2 ssl ssse3 startup-notification svg sysfs tcpd theora thunar tiff truetype unicode usb vorbis wmf x264 xcomposite xml xorg xulrunner xv xvid zlib" ALSA_CARDS=" intel-hda" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CAMERAS=" canon" ELIBC="glibc" INPUT_DEVICES=" keyboard mouse joystick evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="nl" USERLAND="GNU" VIDEO_CARDS=" fbdev nv nvidia vesa vga"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LANG, LC_ALL, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY




Comment 1


Peter Alfredsen (RETIRED)






          2009-09-11 05:54:23 UTC
        

TL;DR: Stuff fails, reemerging it helps.
Sporadic error. Re-open if you have more info.




Comment 2


André Terpstra





          2009-09-11 10:37:26 UTC
        

(In reply to comment #1)
> TL;DR: Stuff fails, reemerging it helps.
> Sporadic error. Re-open if you have more info.
> 
If I understand this somewhat cryptic message well, your suggestion is wrong. It's not the failing package (libidn) that I re-emerge. Re-emerging java-config is not more than a workaround, and just my little contribution towards a solution, as is the suggestion on the possible cause of the problem.

In fact this happened today on 2 different machines, on one I have applied this workaround, the other is still waiting. I cannot provide more information without specific instructions.




Comment 3


André Terpstra





          2009-09-17 19:24:19 UTC
        

This error is still present. I refuse to repeat the workaround again, since I really think this is a bug. Somehow java-config got "corrupted" and I want to know how.




Comment 4


André Terpstra





          2009-09-17 19:47:59 UTC
        

More proof.

Now net-libs/xulrunner-1.9.0.14 fails because of exactly this same error, when I did "emerge --resume --skipfirst"





Comment 5


Patrick Lauer






          2009-09-18 21:50:33 UTC
        

 * Can't run java-config --help
 * Have you upgraded python recently but haven't
 * run python-updater yet?


Error message makes message. Message messages!




Comment 6


André Terpstra





          2009-09-19 10:00:52 UTC
        

Do you want to be funny? Of course python-updater has been run and it doesn't help because nothing happens.

OK it's clear you don't *want* to help me or even consider this bug. I give up.

Note: I only reopen this bug to make sure someone reads this. I don't care any longer what happens afterwards...




Comment 7


Petteri Räty (RETIRED)






          2009-09-21 20:23:26 UTC
        

(In reply to comment #0)
> 
>  * 
>  * Can't run java-config --help
>  * Have you upgraded python recently but haven't
>  * run python-updater yet?
>  * 

Please read the full error message next time. You upgraded your python installation but haven't run python-updater yet. re-emerging java-config solves this because what python-updater does is to re-emerge needed stuff for you.




Comment 8


Petteri Räty (RETIRED)






          2009-09-21 20:25:26 UTC
        

(In reply to comment #7)
> 
> Please read the full error message next time. You upgraded your python
> installation but haven't run python-updater yet. re-emerging java-config solves
> this because what python-updater does is to re-emerge needed stuff for you.
> 

I didn't notice that comments here as I thought this was coming directly from bug-wranglers. Please post the output of java-config --help.




Comment 9


André Terpstra





          2009-09-23 12:28:45 UTC
        

Too late. I had to apply my own workaround again. 




Comment 10


Petteri Räty (RETIRED)






          2009-09-23 21:37:47 UTC
        

(In reply to comment #9)
> Too late. I had to apply my own workaround again. 
> 

Well if you can't provide any further information there's not much we can do. If there's something wrong with python-updater it's not maintained by us.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

