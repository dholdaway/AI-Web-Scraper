Title: 704588 – kde-apps/akregator - segmentation fault in KontactInterface::PimUniqueApplication::start(QStringList const&) () at /usr/lib64/libKF5KontactInterface.so.5
URL: https://bugs.gentoo.org/show_bug.cgi?id=704588

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 704588
kde-apps/akregator - segmentation fault in KontactInterface::PimUniqueApplication::start(QStringList const&) () at /usr/lib64/libKF5KontactInterface.so.5
Last modified: 2020-01-29 21:51:01 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 704588 
      - kde-apps/akregator - segmentation fault in KontactInterface::PimUniqueApplication::start(QStringList const&) () at /usr/lib64/libKF5KontactInterface.so.5


Summary:
kde-apps/akregator - segmentation fault in KontactInterface::PimUniqueApplica...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2020-01-02 18:09 UTC by Thomas Capricelli





      Modified:
    
2020-01-29 21:51 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Thomas Capricelli





          2020-01-02 18:09:34 UTC
        

akregator doesn't start anymore. Using gdb i can see that: 

#0  0x00007f9aa364869f in select () at /lib64/libc.so.6
#1  0x00007f9a99ec2aa9 in g_spawn_sync () at /usr/lib64/libglib-2.0.so.0
#2  0x00007f9a7438a802 in spd_open2 () at /usr/lib64/libspeechd.so.2
#3  0x00007f9a7438ad68 in spd_open () at /usr/lib64/libspeechd.so.2
#4  0x00007f9a743ea0bb in QTextToSpeechEngineSpeechd::connectToSpeechDispatcher() [clone .part.0] () at /usr/lib64/qt5/plugins/texttospeech/libqtexttospeech_speechd.so
#5  0x00007f9a743ebde6 in QTextToSpeechPluginSpeechd::createTextToSpeechEngine(QMap<QString, QVariant> const&, QObject*, QString*) const ()
    at /usr/lib64/qt5/plugins/texttospeech/libqtexttospeech_speechd.so
#6  0x00007f9a958857d3 in QTextToSpeechPrivate::QTextToSpeechPrivate(QTextToSpeech*, QString const&) () at /usr/lib64/libQt5TextToSpeech.so.5
#7  0x00007f9a958880cf in QTextToSpeech::QTextToSpeech(QString const&, QObject*) () at /usr/lib64/libQt5TextToSpeech.so.5
#8  0x00007f9a9b427806 in KPIMTextEdit::TextToSpeech::reloadSettings() () at /usr/lib64/libKF5PimTextEdit.so.5
#9  0x00007f9a9b42790e in KPIMTextEdit::TextToSpeech::self() () at /usr/lib64/libKF5PimTextEdit.so.5
#10 0x00007f9a9b42a56f in KPIMTextEdit::TextToSpeechInterface::TextToSpeechInterface(KPIMTextEdit::TextToSpeechWidget*, QObject*) () at /usr/lib64/libKF5PimTextEdit.so.5
#11 0x00007f9a9b42858b in KPIMTextEdit::TextToSpeechWidget::TextToSpeechWidget(QWidget*) () at /usr/lib64/libKF5PimTextEdit.so.5
#12 0x00007f9aa524fee5 in Akregator::ArticleViewerWebEngineWidgetNg::initializeLayout(KActionCollection*) () at /usr/lib64/libakregatorprivate.so.5
#13 0x00007f9aa5250433 in Akregator::ArticleViewerWebEngineWidgetNg::ArticleViewerWebEngineWidgetNg(KActionCollection*, QWidget*) () at /usr/lib64/libakregatorprivate.so.5
#14 0x00007f9aa525a758 in Akregator::ArticleViewerWidget::ArticleViewerWidget(QString const&, KActionCollection*, QWidget*) () at /usr/lib64/libakregatorprivate.so.5
#15 0x00007f9a75da61b8 in Akregator::MainWidget::MainWidget(Akregator::Part*, QWidget*, Akregator::ActionManagerImpl*, QString const&) ()
    at /usr/lib64/qt5/plugins/akregatorpart.so
#16 0x00007f9a75d9c049 in Akregator::Part::Part(QWidget*, QObject*, QList<QVariant> const&) () at /usr/lib64/qt5/plugins/akregatorpart.so
#17 0x00007f9a75d9ed12 in QObject* KPluginFactory::createPartInstance<Akregator::Part>(QWidget*, QObject*, QList<QVariant> const&) ()
    at /usr/lib64/qt5/plugins/akregatorpart.so
#18 0x00007f9aa4e63112 in KPluginFactory::create(char const*, QWidget*, QObject*, QList<QVariant> const&, QString const&) () at /usr/lib64/libKF5CoreAddons.so.5
#19 0x000055ae41effd84 in Akregator::MainWindow::loadPart() ()
#20 0x000055ae41efe62a in Akregator::Application::activate(QStringList const&, QString const&) ()
#21 0x00007f9aa52c689b in KontactInterface::PimUniqueApplication::start(QStringList const&) () at /usr/lib64/libKF5KontactInterface.so.5
#22 0x000055ae41efdddb in main ()

I tried updating (19.08.3 -> 19.12.0), but it still doesn't start.


I tried several time to get rid of those completely useless (to me) texttospeech, as it often breaks software (not only akregator, pulseaudio too for exemple), but never managed.




Comment 1


Thomas Capricelli





          2020-01-02 20:51:30 UTC
        


I confirm my original report : akregator hangs at start, it doesn't crash at all. It just runs, you can see it in 'ps', but no window is mapped on screen. That's because the whole process is stucked on the 'text to speech' plugin, waiting for something (that's the "select" on top of stacktrace).

(gdb/stacktrace is useful beyond crash, as in this exemple)




Comment 2


Andreas Sturmlechner






          2020-01-02 21:43:47 UTC
        

I dont see that crash. qtspeech is a hard-dependency all over KDE PIM.

For submitting to upstream your gdb stacktrace is missing debug symbols.

https://wiki.gentoo.org/wiki/Debugging




Comment 3


Thomas Capricelli





          2020-01-03 03:16:49 UTC
        

Err.. i didn't report a crash. And i even confirmed in the last comment that it does not crash.




Comment 4


Andreas Sturmlechner






          2020-01-05 09:57:07 UTC
        

You pasted a stacktrace, it is missing debug symbols, no matter if it's a crash or not.




Comment 5


Andreas Sturmlechner






          2020-01-26 15:03:34 UTC
        

Any progress with 19.12.1?




Comment 6


Thomas Capricelli





          2020-01-26 15:53:23 UTC
        

i'm still using 19.12.0. I somehow managed to have it working by shuffling/removing speechtotext related stuff, but that's unstable (my distribution, gentoo, want them back). I dont dare touching anything.




Comment 7


Thomas Capricelli





          2020-01-26 15:54:27 UTC
        

And again, the current title "kde-apps/akregator - segmentation fault in ..."
 is wrong.

There's not segfault, that's not my orignal report.




Comment 8


Andreas Sturmlechner






          2020-01-26 15:56:12 UTC
        

I'm not really sure how to move forward here when this is the only report of its kind, and the description is already talking about having tried to get rid of a required dependency.




Comment 9


Andreas Sturmlechner






          2020-01-29 21:51:01 UTC
        

Closing this for now as it is not clear to the maintainers what may or may not have been done to the local dev-qt/qtspeech installation and the reporter can not reproduce the problem at this point.

Please reopen once the same issue happens again on a system with undoubtedly consistent Qt5 installation.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

