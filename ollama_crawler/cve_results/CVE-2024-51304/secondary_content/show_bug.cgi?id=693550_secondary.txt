Title: 693550 – www-client/seamonkey-2.49.5 crashes on loading specific web page
URL: https://bugs.gentoo.org/show_bug.cgi?id=693550

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 693550
www-client/seamonkey-2.49.5 crashes on loading specific web page
Last modified: 2022-10-04 10:38:46 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 693550 
      - www-client/seamonkey-2.49.5 crashes on loading specific web page


Summary:
www-client/seamonkey-2.49.5 crashes on loading specific web page
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Myckel Habets








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2019-09-05 14:01 UTC by Cyp





      Modified:
    
2022-10-04 10:38 UTC
      (History)
    




          CC List:
        

3 
          users
          
            (show)
          



gentoo-bugs
mozilla
njsg









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Cyp





          2019-09-05 14:01:48 UTC
        

www-client/seamonkey-2.49.5 crashes on loading specific web page.
www-client/seamonkey-2.49.9.1_p0 worked fine on the same page.

The page which brutally crashes my current installation of Seamonkey:
https://seblagarde.wordpress.com/2011/08/17/feeding-a-physical-based-lighting-mode/




Comment 1


Lars Wendler (Polynomial-C) (RETIRED)






          2019-09-05 14:04:44 UTC
        

Does not crash my seamonkey-2.49.5 installation here. Please post the output of

  emerge --info seamonkey

command.




Comment 2


Cyp





          2019-09-05 14:06:57 UTC
        

$ emerge --info seamonkey
Portage 2.3.69 (python 3.6.5-final-0, default/linux/amd64/17.1/desktop/plasma, gcc-8.3.0, glibc-2.29-r2, 4.19.44-gentoo x86_64)
=================================================================
                         System Settings
=================================================================
System uname: Linux-4.19.44-gentoo-x86_64-Intel-R-_Core-TM-_i7-3770K_CPU_@_3.50GHz-with-gentoo-2.6
KiB Mem:    32849828 total,   2779496 free
KiB Swap:   33554428 total,  33554428 free
Timestamp of repository gentoo: Thu, 05 Sep 2019 09:00:02 +0000
Head commit of repository gentoo: 716228c1dda2d2660b69567b018045cd3b76f947
sh bash 4.4_p23-r1
ld GNU ld (Gentoo 2.31.1 p7) 2.31.1
ccache version 3.7.2 [disabled]
app-shells/bash:          4.4_p23-r1::gentoo
dev-java/java-config:     2.2.0-r4::gentoo
dev-lang/perl:            5.28.2-r1::gentoo
dev-lang/python:          2.7.15::gentoo, 3.5.5::gentoo, 3.6.5::gentoo
dev-util/ccache:          3.7.2::gentoo
dev-util/cmake:           3.14.6::gentoo
dev-util/pkgconfig:       0.29.2::gentoo
sys-apps/baselayout:      2.6-r1::gentoo
sys-apps/openrc:          0.41.2::gentoo
sys-apps/sandbox:         2.13::gentoo
sys-devel/autoconf:       2.13-r1::gentoo, 2.69-r4::gentoo
sys-devel/automake:       1.11.6-r3::gentoo, 1.13.4-r2::gentoo, 1.15.1-r2::gentoo, 1.16.1-r1::gentoo
sys-devel/binutils:       2.30-r4::gentoo, 2.31.1-r6::gentoo, 2.32-r1::gentoo
sys-devel/gcc:            4.5.4-r2::gentoo, 4.9.4::gentoo, 5.4.0-r4::gentoo, 6.4.0-r1::gentoo, 7.3.0-r3::gentoo, 8.2.0-r6::gentoo, 8.3.0-r1::gentoo
sys-devel/gcc-config:     2.0::gentoo
sys-devel/libtool:        2.4.6-r3::gentoo
sys-devel/make:           4.2.1-r4::gentoo
sys-kernel/linux-headers: 4.20::gentoo (virtual/os-headers)
sys-libs/glibc:           2.29-r2::gentoo
Repositories:

gentoo
    location: /usr/portage
    sync-type: rsync
    sync-uri: rsync://rsync.gentoo.org/gentoo-portage
    priority: -1000
    sync-rsync-verify-jobs: 1
    sync-rsync-verify-metamanifest: yes
    sync-rsync-verify-max-age: 24
    sync-rsync-extra-opts: 

My_local_repo
    location: /usr/local/portage
    masters: gentoo
    priority: 0

betagarden
    location: /var/lib/layman/betagarden
    masters: gentoo
    priority: 50

mrueg
    location: /var/lib/layman/mrueg
    masters: gentoo
    priority: 50

ssnb
    location: /var/lib/layman/ssnb
    masters: gentoo
    priority: 50

torbrowser
    location: /var/lib/layman/torbrowser
    masters: gentoo
    priority: 50

ACCEPT_KEYWORDS="amd64"
ACCEPT_LICENSE="* -@EULA"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=native -O2 -pipe -g"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/lib/X11/xkb /usr/lib64/libreoffice/program/sofficerc /usr/share/config /usr/share/gnupg/qualified.txt"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/dconf /etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php7.2/ext-active/ /etc/php/apache2-php7.3/ext-active/ /etc/php/cgi-php7.2/ext-active/ /etc/php/cgi-php7.3/ext-active/ /etc/php/cli-php7.2/ext-active/ /etc/php/cli-php7.3/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c"
CXXFLAGS="-march=native -O2 -pipe -g"
DISTDIR="/usr/portage/distfiles"
ENV_UNSET="DBUS_SESSION_BUS_ADDRESS DISPLAY GOBIN PERL5LIB PERL5OPT PERLPREFIX PERL_CORE PERL_MB_OPT PERL_MM_OPT XAUTHORITY XDG_CACHE_HOME XDG_CONFIG_HOME XDG_DATA_HOME XDG_RUNTIME_DIR"
FCFLAGS="-O2 -pipe"
FEATURES="assume-digests binpkg-docompress binpkg-dostrip binpkg-logs config-protect-if-modified distlocks ebuild-locks fixlafiles ipc-sandbox merge-sync multilib-strict network-sandbox news parallel-fetch pid-sandbox preserve-libs protect-owned sandbox sfperms splitdebug strict unknown-features-warn unmerge-logs unmerge-orphans userfetch userpriv usersandbox usersync xattr"
FFLAGS="-O2 -pipe"
GENTOO_MIRRORS=" http://mirror.mdfnet.se/gentoo http://ftp.snt.utwente.nl/pub/os/linux/gentoo http://mirror.leaseweb.com/gentoo/ http://mirrors.evowise.com/gentoo/ "
LANG="en_US.UTF8"
LDFLAGS="-Wl,-O1 -Wl,--as-needed -Wl,-O1"
LINGUAS="en da it pt pt_BR"
MAKEOPTS="-j8"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --omit-dir-times --compress --force --whole-file --delete --stats --human-readable --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --exclude=/.git"
PORTAGE_TMPDIR="/var/tmp"
USE="3dnow 3dnowext X a52 aac aalib acl acpi activities alisp alsa amd64 apache2 apng ares bash-completion bazaar bdf berkdb bluetooth branding bzip2 cairo cdda cdr cli consolekit crypt css cups curl cvs cxx dbus dec_av2 declarative dhcp djvu dk doc dri dts dvd dvdr dvipdfm ebook editor emboss emoticons-manager encode epub exif expat extensions extra fam ffmpeg firefox3 flac fluidsynth fontconfig foomaticdb fortran g3dvl gcj gd gdbm gif git glamor gles gles2 glitz gmp go gpm graphite graphviz gtk iconv icu imlib ipv6 irda ithreads jadetex java jpeg jpeg2k kde kerberos kipi kompare kpathsea kwallet lcms ldap libcaca libnotify libtirpc live llvm logitech-mouse lzma mad mercurial midi mikmod mjpeg mmxext mng mobi mod mozilla mp2 mp3 mp4 mpeg msn mudflap multilib multitarget mysql ncurses network nls nodrm nptl nsplugin objc objc++ objc-gc offensive ogg ogre ois opencl opengl openmp otr pam pango pcre pdf phonon plasma plotutils png policykit povray ppds qml qt5 qthelp readline rle rtmp samba scanner sdl se_swedb seccomp semantic-desktop server sift sip sndfile solver speex spell split-usr sql ssl ssse3 startup-notification subversion svg tcpd tga theora threads tiff timidity tk tokenizer truetype udev udisks unicode upower usb v4l v4l2 vcd video videos vnc vorbis vpx wav wayland webkit widgets wma wxwidgets x264 xattr xcb xcomposite xine xml xscreensaver xv xvid xvmc zip zlib" ABI_X86="64" ADA_TARGET="gnat_2018" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" APACHE2_MODULES="*" CALLIGRA_FEATURES="karbon sheets words" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" CPU_FLAGS_X86="aes avx mmx mmxext popcnt sse sse2 sse3 sse4_1 sse4_2 ssse3" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock isync itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf skytraq superstar2 timing tsip tripmate tnt ublox ubx" INPUT_DEVICES="evdev keyboard mouse" KERNEL="linux" L10N="da en it pt pt-BR" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LIBREOFFICE_EXTENSIONS="presenter-console presenter-minimizer" NETBEANS_MODULES="apisupport cnd groovy gsf harness ide identity j2ee java mobility nb php profiler soa visualweb webcommon websvccommon xml" OFFICE_IMPLEMENTATION="libreoffice" PHP_TARGETS="php7-2" POSTGRES_TARGETS="postgres10 postgres11" PYTHON_SINGLE_TARGET="python3_6" PYTHON_TARGETS="python2_7 python3_5 python3_6" RUBY_TARGETS="ruby24 ruby25" USERLAND="GNU" VIDEO_CARDS="v4l vesa vga intel radeon r600" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account"
Unset:  CC, CPPFLAGS, CTARGET, CXX, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LC_ALL, PORTAGE_BINHOST, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS

=================================================================
                        Package Settings
=================================================================

www-client/seamonkey-2.49.5::gentoo was built with the following:
USE="calendar chatzilla crypt dbus gmp-autoupdate ipc roaming startup-notification -clang -custom-cflags -custom-optimization -debug -jack -minimal (-neon) -pulseaudio (-selinux) -system-harfbuzz -system-icu -system-jpeg -system-libevent -system-libvpx -system-sqlite -test -wifi" ABI_X86="(64)" L10N="it -cs -de -en-GB -es-AR -es-ES -fr -hu -ja -lt -nl -pl -pt-PT -ru -sk -sv -zh-CN -zh-TW"
CFLAGS="-march=native -pipe -g -mno-avx"
CXXFLAGS="-march=native -pipe -g -flifetime-dse=1 -mno-avx"
LDFLAGS="-Wl,-O1 -Wl,--as-needed -Wl,-O1 -Wl,-rpath=/usr/lib64/seamonkey,--enable-new-dtags"




Comment 3


Cyp





          2019-09-05 14:18:20 UTC
        

I should probably note that I'm currently on step 10 of the 2019-06-05-amd64-17-1-profiles-are-now-stable news item.

Only steps left after the 7 versions of gcc finish recompiling are emerge -1v --deep /lib32 /usr/lib32 /usr/lib/llvm/*/lib32 ; rm /lib32 /usr/lib32, which I don't think can be related though..?




Comment 4


Cyp





          2019-09-11 14:19:20 UTC
        

Getting crashes with several more pages (always reproducible). The pages seem to at least partially load before crashing.

They all seem to crash in js::ProxyObject::New.

Here's a small-looking page that crashes quickly, with stack trace:
http://insanecoding.blogspot.com/2011/10/stronger-cc-preprocesser.html

******************
**** VALGRIND ****
******************

==13476== Invalid read of size 4
==13476==    at 0xAE20CA8: js::ProxyObject::New(JSContext*, js::BaseProxyHandler const*, JS::Handle<JS::Value>, js::TaggedProto, js::ProxyOptions const&) (ProxyObject.cpp:50)
==13476==    by 0xACEB8A2: js::CloneObject(JSContext*, JS::Handle<JSObject*>, JS::Handle<js::TaggedProto>) (jsobj.cpp:1136)
==13476==    by 0xACB061E: JS_CloneObject(JSContext*, JS::Handle<JSObject*>, JS::Handle<JSObject*>) (jsfriendapi.cpp:656)
==13476==    by 0x99EBC1C: mozilla::dom::ReparentWrapper(JSContext*, JS::Handle<JSObject*>) (BindingUtils.cpp:2146)
==13476==    by 0x9B68BBD: nsHTMLDocument::Open(JSContext*, nsAString_internal const&, nsAString_internal const&, mozilla::ErrorResult&) (nsHTMLDocument.cpp:1634)
==13476==    by 0x994C1D1: mozilla::dom::HTMLDocumentBinding::open(JSContext*, JS::Handle<JSObject*>, nsHTMLDocument*, JSJitMethodCallArgs const&) (HTMLDocumentBinding.cpp:527)
==13476==    by 0x99E8E62: mozilla::dom::GenericBindingMethod(JSContext*, unsigned int, JS::Value*) (BindingUtils.cpp:2904)
==13476==    by 0xAE0D45D: CallJSNative (jscntxtinlines.h:239)
==13476==    by 0xAE0D45D: js::InternalCallOrConstruct(JSContext*, JS::CallArgs const&, js::MaybeConstruct) (Interpreter.cpp:459)
==13476==    by 0xAE110F4: InternalCall (Interpreter.cpp:504)
==13476==    by 0xAE110F4: js::Call(JSContext*, JS::Handle<JS::Value>, JS::Handle<JS::Value>, js::AnyInvokeArgs const&, JS::MutableHandle<JS::Value>) (Interpreter.cpp:523)
==13476==    by 0xAD461C8: js::Wrapper::call(JSContext*, JS::Handle<JSObject*>, JS::CallArgs const&) const (Wrapper.cpp:165)
==13476==    by 0xAD37550: js::CrossCompartmentWrapper::call(JSContext*, JS::Handle<JSObject*>, JS::CallArgs const&) const (CrossCompartmentWrapper.cpp:333)
==13476==    by 0xAD3643B: call (Proxy.cpp:400)
==13476==    by 0xAD3643B: js::proxy_Call(JSContext*, unsigned int, JS::Value*) (Proxy.cpp:689)
==13476==  Address 0xfffe8 is not stack'd, malloc'd or (recently) free'd



*************
**** GDB ****
*************

Thread 1 "seamonkey" received signal SIGSEGV, Segmentation fault.
0x00007ffff360dca8 in js::ProxyObject::New (cx=cx@entry=0x7fffddee9000, handler=0x7ffff4b06960 <mozilla::dom::HTMLDocumentBinding::DOMProxyHandler::getInstance()::instance>, priv=..., proto_=..., options=...)
    at /var/tmp/portage/www-client/seamonkey-2.49.5/work/seamonkey-2.49.5/seamonk/dist/include/js/HeapAPI.h:341
341     /var/tmp/portage/www-client/seamonkey-2.49.5/work/seamonkey-2.49.5/seamonk/dist/include/js/HeapAPI.h: No such file or directory.
(gdb) bt
#0  0x00007ffff360dca8 in js::ProxyObject::New(JSContext*, js::BaseProxyHandler const*, JS::Handle<JS::Value>, js::TaggedProto, js::ProxyOptions const&)
    (cx=cx@entry=0x7fffddee9000, handler=0x7ffff4b06960 <mozilla::dom::HTMLDocumentBinding::DOMProxyHandler::getInstance()::instance>, priv=..., proto_=..., options=...)
    at /var/tmp/portage/www-client/seamonkey-2.49.5/work/seamonkey-2.49.5/seamonk/dist/include/js/HeapAPI.h:341
#1  0x00007ffff34d88a3 in js::CloneObject(JSContext*, JS::Handle<JSObject*>, JS::Handle<js::TaggedProto>) (cx=0x7fffddee9000, obj=..., proto=..., proto@entry=...)
    at /var/tmp/portage/www-client/seamonkey-2.49.5/work/seamonkey-2.49.5/seamonk/dist/include/js/Proxy.h:421
#2  0x00007ffff349d61f in JS_CloneObject(JSContext*, JS::Handle<JSObject*>, JS::Handle<JSObject*>) (cx=<optimized out>, obj=..., obj@entry=..., protoArg=...)
    at /var/tmp/portage/www-client/seamonkey-2.49.5/work/seamonkey-2.49.5/seamonk/dist/include/js/RootingAPI.h:1004
#3  0x00007ffff21d8c1d in mozilla::dom::ReparentWrapper(JSContext*, JS::Handle<JSObject*>) (aCx=<optimized out>, aObjArg=..., aObjArg@entry=...)
    at /var/tmp/portage/www-client/seamonkey-2.49.5/work/seamonkey-2.49.5/seamonk/dist/include/js/RootingAPI.h:1004
#4  0x00007ffff2355bbe in nsHTMLDocument::Open(JSContext*, nsAString_internal const&, nsAString_internal const&, mozilla::ErrorResult&) (this=this@entry=0x7fffb980d000, cx=<optimized out>, 
    cx@entry=0x7fffddee9000, aType=..., aReplace=..., rv=...) at /var/tmp/portage/www-client/seamonkey-2.49.5/work/seamonkey-2.49.5/seamonk/dist/include/js/RootingAPI.h:1004
#5  0x00007ffff21391d2 in mozilla::dom::HTMLDocumentBinding::open(JSContext*, JS::Handle<JSObject*>, nsHTMLDocument*, JSJitMethodCallArgs const&) (cx=0x7fffddee9000, obj=..., self=0x7fffb980d000, args=...)
    at /var/tmp/portage/www-client/seamonkey-2.49.5/work/seamonkey-2.49.5/seamonk/dist/include/mozilla/dom/FakeString.h:104
#6  0x00007ffff21d5e63 in mozilla::dom::GenericBindingMethod(JSContext*, unsigned int, JS::Value*) (cx=<optimized out>, cx@entry=0x7fffddee9000, argc=<optimized out>, vp=<optimized out>)
    at /var/tmp/portage/www-client/seamonkey-2.49.5/work/seamonkey-2.49.5/seamonk/dist/include/js/RootingAPI.h:1004
#7  0x00007ffff35fa45e in js::CallJSNative(JSContext*, bool (*)(JSContext*, unsigned int, JS::Value*), JS::CallArgs const&)
    (args=..., native=0x7ffff21d5ced <mozilla::dom::GenericBindingMethod(JSContext*, unsigned int, JS::Value*)>, cx=0x7fffddee9000)
    at /var/tmp/portage/www-client/seamonkey-2.49.5/work/seamonkey-2.49.5/seamonk/dist/include/js/CallArgs.h:269
#8  0x00007ffff35fa45e in js::InternalCallOrConstruct(JSContext*, JS::CallArgs const&, js::MaybeConstruct) (cx=cx@entry=0x7fffddee9000, args=..., construct=construct@entry=js::NO_CONSTRUCT)
    at /var/tmp/portage/www-client/seamonkey-2.49.5/work/seamonkey-2.49.5/mozilla/js/src/vm/Interpreter.cpp:459
#9  0x00007ffff35fe0f5 in InternalCall (args=..., cx=0x7fffddee9000) at /var/tmp/portage/www-client/seamonkey-2.49.5/work/seamonkey-2.49.5/mozilla/js/src/vm/Interpreter.cpp:504
#10 0x00007ffff35fe0f5 in js::Call(JSContext*, JS::Handle<JS::Value>, JS::Handle<JS::Value>, js::AnyInvokeArgs const&, JS::MutableHandle<JS::Value>) (cx=cx@entry=0x7fffddee9000, fval=..., 
    fval@entry=..., thisv=..., args=..., rval=...) at /var/tmp/portage/www-client/seamonkey-2.49.5/work/seamonkey-2.49.5/mozilla/js/src/vm/Interpreter.cpp:523
#11 0x00007ffff35331c9 in js::Wrapper::call(JSContext*, JS::Handle<JSObject*>, JS::CallArgs const&) const
    (this=this@entry=0x7ffff4c88340 <js::CrossCompartmentWrapper::singleton>, cx=cx@entry=0x7fffddee9000, proxy=..., proxy@entry=..., args=...)
    at /var/tmp/portage/www-client/seamonkey-2.49.5/work/seamonkey-2.49.5/seamonk/dist/include/js/RootingAPI.h:1004
#12 0x00007ffff3524551 in js::CrossCompartmentWrapper::call(JSContext*, JS::Handle<JSObject*>, JS::CallArgs const&) const
    (this=0x7ffff4c88340 <js::CrossCompartmentWrapper::singleton>, cx=0x7fffddee9000, wrapper=..., args=...)
    at /var/tmp/portage/www-client/seamonkey-2.49.5/work/seamonkey-2.49.5/mozilla/js/src/proxy/CrossCompartmentWrapper.cpp:333
#13 0x00007ffff352343c in js::Proxy::call(JSContext*, JS::Handle<JSObject*>, JS::CallArgs const&) (args=..., proxy=..., cx=0x7fffddee9000)
    at /var/tmp/portage/www-client/seamonkey-2.49.5/work/seamonkey-2.49.5/mozilla/js/src/proxy/Proxy.cpp:400
#14 0x00007ffff352343c in js::proxy_Call(JSContext*, unsigned int, JS::Value*) (cx=cx@entry=0x7fffddee9000, argc=<optimized out>, vp=<optimized out>)
    at /var/tmp/portage/www-client/seamonkey-2.49.5/work/seamonkey-2.49.5/mozilla/js/src/proxy/Proxy.cpp:689
#15 0x00007ffff35fa4f8 in js::CallJSNative(JSContext*, bool (*)(JSContext*, unsigned int, JS::Value*), JS::CallArgs const&)
    (args=..., native=0x7ffff35232f0 <js::proxy_Call(JSContext*, unsigned int, JS::Value*)>, cx=0x7fffddee9000)
    at /var/tmp/portage/www-client/seamonkey-2.49.5/work/seamonkey-2.49.5/seamonk/dist/include/js/CallArgs.h:269
#16 0x00007ffff35fa4f8 in js::InternalCallOrConstruct(JSContext*, JS::CallArgs const&, js::MaybeConstruct) (cx=0x7fffddee9000, args=..., construct=js::NO_CONSTRUCT)
    at /var/tmp/portage/www-client/seamonkey-2.49.5/work/seamonkey-2.49.5/mozilla/js/src/vm/Interpreter.cpp:447
#17 0x00007ffff35ed7be in js::CallFromStack(JSContext*, JS::CallArgs const&) (args=..., cx=0x7fffddee9000)
    at /var/tmp/portage/www-client/seamonkey-2.49.5/work/seamonkey-2.49.5/mozilla/js/src/vm/Interpreter.cpp:2922
#18 0x00007ffff35ed7be in Interpret(JSContext*, js::RunState&) (cx=0x7fffddee9000, state=...) at /var/tmp/portage/www-client/seamonkey-2.49.5/work/seamonkey-2.49.5/mozilla/js/src/vm/Interpreter.cpp:2922
#19 0x00007ffff35f9fc2 in js::RunScript(JSContext*, js::RunState&) (cx=cx@entry=0x7fffddee9000, state=...)
    at /var/tmp/portage/www-client/seamonkey-2.49.5/work/seamonkey-2.49.5/mozilla/js/src/vm/Interpreter.cpp:405
#20 0x00007ffff35fa326 in js::InternalCallOrConstruct(JSContext*, JS::CallArgs const&, js::MaybeConstruct) (cx=cx@entry=0x7fffddee9000, args=..., construct=construct@entry=js::NO_CONSTRUCT)
    at /var/tmp/portage/www-client/seamonkey-2.49.5/work/seamonkey-2.49.5/mozilla/js/src/vm/Interpreter.cpp:477
#21 0x00007ffff35fe0f5 in InternalCall (args=..., cx=0x7fffddee9000) at /var/tmp/portage/www-client/seamonkey-2.49.5/work/seamonkey-2.49.5/mozilla/js/src/vm/Interpreter.cpp:504
#22 0x00007ffff35fe0f5 in js::Call(JSContext*, JS::Handle<JS::Value>, JS::Handle<JS::Value>, js::AnyInvokeArgs const&, JS::MutableHandle<JS::Value>) (cx=cx@entry=0x7fffddee9000, fval=..., 
    fval@entry=..., thisv=..., args=..., rval=...) at /var/tmp/portage/www-client/seamonkey-2.49.5/work/seamonkey-2.49.5/mozilla/js/src/vm/Interpreter.cpp:523
#23 0x00007ffff34bf0cc in js::fun_apply(JSContext*, unsigned int, JS::Value*) (cx=cx@entry=0x7fffddee9000, argc=<optimized out>, vp=0x7fffd70d8590)
    at /var/tmp/portage/www-client/seamonkey-2.49.5/work/seamonkey-2.49.5/seamonk/dist/include/js/RootingAPI.h:580
#24 0x00007ffff35fa45e in js::CallJSNative(JSContext*, bool (*)(JSContext*, unsigned int, JS::Value*), JS::CallArgs const&)
    (args=..., native=0x7ffff34bee50 <js::fun_apply(JSContext*, unsigned int, JS::Value*)>, cx=0x7fffddee9000) at /var/tmp/portage/www-client/seamonkey-2.49.5/work/seamonkey-2.49.5/seamonk/dist/include/js/CallArgs.h:269
#25 0x00007ffff35fa45e in js::InternalCallOrConstruct(JSContext*, JS::CallArgs const&, js::MaybeConstruct) (cx=0x7fffddee9000, args=..., construct=<optimized out>) at /var/tmp/portage/www-client/seamonkey-2.49.5/work/seamonkey-2.49.5/mozilla/js/src/vm/Interpreter.cpp:459
#26 0x00007ffff35ed7be in js::CallFromStack(JSContext*, JS::CallArgs const&) (args=..., cx=0x7fffddee9000) at /var/tmp/portage/www-client/seamonkey-2.49.5/work/seamonkey-2.49.5/mozilla/js/src/vm/Interpreter.cpp:2922
#27 0x00007ffff35ed7be in Interpret(JSContext*, js::RunState&) (cx=0x7fffddee9000, state=...) at /var/tmp/portage/www-client/seamonkey-2.49.5/work/seamonkey-2.49.5/mozilla/js/src/vm/Interpreter.cpp:2922
#28 0x00007ffff35f9fc2 in js::RunScript(JSContext*, js::RunState&) (cx=cx@entry=0x7fffddee9000, state=...) at /var/tmp/portage/www-client/seamonkey-2.49.5/work/seamonkey-2.49.5/mozilla/js/src/vm/Interpreter.cpp:405
#29 0x00007ffff35fa326 in js::InternalCallOrConstruct(JSContext*, JS::CallArgs const&, js::MaybeConstruct) (cx=cx@entry=0x7fffddee9000, args=..., construct=construct@entry=js::NO_CONSTRUCT) at /var/tmp/portage/www-client/seamonkey-2.49.5/work/seamonkey-2.49.5/mozilla/js/src/vm/Interpreter.cpp:477
#30 0x00007ffff35fe044 in InternalCall (args=..., cx=0x7fffddee9000) at /var/tmp/portage/www-client/seamonkey-2.49.5/work/seamonkey-2.49.5/mozilla/js/src/vm/Interpreter.cpp:504
#31 0x00007ffff35fe044 in js::CallFromStack(JSContext*, JS::CallArgs const&) (cx=cx@entry=0x3a, args=...) at /var/tmp/portage/www-client/seamonkey-2.49.5/work/seamonkey-2.49.5/mozilla/js/src/vm/Interpreter.cpp:510
#32 0x00007ffff3817450 in js::jit::DoCallFallback(JSContext*, js::jit::BaselineFrame*, js::jit::ICCall_Fallback*, uint32_t, JS::Value*, JS::MutableHandleValue) (cx=0x3a, frame=0x7fffffffa188, stub_=0x7fffbff3fb08, argc=0, vp=0x0, res=...) at /var/tmp/portage/www-client/seamonkey-2.49.5/work/seamonkey-2.49.5/mozilla/js/src/jit/BaselineIC.cpp:6020
#33 0x00000eae5e58ba96 in  ()
#34 0x00007fffffffa100 in  ()
#35 0x00007fffffff9f68 in  ()
#36 0x00007fffffffa1b8 in  ()
#37 0xfff9000000000000 in  ()
#38 0x00007ffff4e4a1c0 in js::jit::DoCallFallbackInfo () at /usr/lib64/seamonkey/libxul.so
#39 0x00007fffd7271520 in  ()
#40 0x00000eae5e6687c3 in  ()
#41 0x0000000000004022 in  ()
#42 0x00007fffffffa188 in  ()
#43 0x00007fffbff3fb08 in  ()
#44 0x0000000000000000 in  ()
(gdb) q




Comment 5


Lars Wendler (Polynomial-C) (RETIRED)






          2019-09-11 14:42:11 UTC
        

Upstream assumes it's because seamonkey was build with >=gcc-8. It seems they still build their releases with gcc-7




Comment 6


Chí-Thanh Christopher Nguyễn






          2019-09-13 20:23:47 UTC
        

I found another website which makes seamonkey reproducibly crash here:

https://www.electronicdesign.com/industrial-automation/11-myths-about-usb-type-c

Due to bug 694318 I cannot get a good stack trace right now




Comment 7


Lars Wendler (Polynomial-C) (RETIRED)






          2019-10-15 14:07:05 UTC
        

Does this still happen with =www-client/seamonkey-2.49.5-r1?




Comment 8


Cyp





          2019-10-16 08:41:26 UTC
        

Ok, thanks, 2.49.5-r1 seems to be working for me too, without going back to gcc-6 while compiling it. But I have noscript and uBlock installed in Seamonkey now (tried enabling all scripts on the crashy pages, though), so it's not a 1-1 comparison.




Comment 9


Myckel Habets





          2022-10-04 10:38:46 UTC
        

Can't reproduce in recent seamonkey versions and https://bugs.gentoo.org/693550#c8 suggests it is fixed, so I'm closing this bug.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

