Title: 183436 – sys-fs/udev-113, 114, 114-r1 fails to compile without MAKEOPTS
URL: https://bugs.gentoo.org/show_bug.cgi?id=183436

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 183436
sys-fs/udev-113, 114, 114-r1 fails to compile without MAKEOPTS
Last modified: 2007-08-22 21:39:24 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 183436 
      - sys-fs/udev-113, 114, 114-r1 fails to compile without MAKEOPTS


Summary:
sys-fs/udev-113, 114, 114-r1 fails to compile without MAKEOPTS
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Core system

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

udev maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-06-27 17:47 UTC by Geert Vanhaute





      Modified:
    
2007-08-22 21:39 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




The build log

              (build.log,29.69 KB,
                text/plain)

            
2007-06-27 17:48 UTC,

            Geert Vanhaute




Details





The build log with locales set to C

              (build.log,29.03 KB,
                text/plain)

            
2007-06-27 18:19 UTC,

            Geert Vanhaute




Details





Show
              Obsolete (1)
            View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Geert Vanhaute





          2007-06-27 17:47:21 UTC
        

>>> Install udev-113 into /var/tmp/portage/sys-fs/udev-113/image/ category sys-fs fails on ~amd64

Reproducible: Always

Steps to Reproduce:
1.emerge udev
2.
3.

Actual Results:  
ebuild log in attach


emerge info:

Portage 2.1.3_rc5 (default-linux/amd64/2007.0/desktop, gcc-4.1.2, glibc-2.5-r3, 2.6.21-viper2 x86_64)
=================================================================
System uname: 2.6.21-viper2 x86_64 Intel(R) Core(TM)2 CPU 6600 @ 2.40GHz
Gentoo Base System release 1.12.10
Timestamp of tree: Wed, 27 Jun 2007 16:20:01 +0000
ccache version 2.4 [enabled]
dev-java/java-config: 1.3.7, 2.0.33-r1
dev-lang/python:     2.4.4-r4
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     2.4-r7
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.61
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.17
sys-devel/gcc-config: 1.3.16
sys-devel/libtool:   1.5.23b
virtual/os-headers:  2.6.21
ACCEPT_KEYWORDS="amd64 ~amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=nocona -O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/X11/xkb"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/revdep-rebuild /etc/splash /etc/terminfo"
CXXFLAGS="-march=nocona -O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="ccache distlocks metadata-transfer parallel-fetch sandbox sfperms strict unmerge-orphans"
GENTOO_MIRRORS="http://ftp.belnet.be/mirror/rsync.gentoo.org/gentoo/ http://linux.rz.ruhr-uni-bochum.de/download/gentoo-mirror/ http://ftp.snt.utwente.nl/pub/os/linux/gentoo "
LANG="nl_BE@euro"
LC_ALL="nl_BE@euro"
LINGUAS="en en_GB nl"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage /usr/portage/local/layman/sunrise"
SYNC="rsync://rsync.namerica.gentoo.org/gentoo-portage"
USE="X a52 aac acpi alsa amd64 amr apm automount avahi bash-completion berkdb binary-drivers bitmap-fonts bluetooth branding bzip2 cairo cdda cddb cdparanoia cdr cli cpudetection cracklib crypt cups dbus directfb dts dvd dvdnav dvdr dvdread emboss emerald encode esd evo exif fam fbcon ffmpeg fftw firefox flac fortran gdbm gif gimp glitz gnome gphoto2 gpm gstreamer gtk hal hddtemp iconv imlib irmc isdnlog java javascript jbig jpeg jpeg2k libg++ libnotify libsexy lm_sensors logrotate mad midi mikmod mmkeys mmx mmxext mp3 mpeg mplayer musepack ncurses nls nptl nptlonly nsplugin ntfs nvidia ogg old-daemons opengl openmp oss pam paste64 pcre pdf perl plugins png pppd python quicktime readline realmedia reflection reiser4 rt2500pci rt61pci rtc rtsp sdl sdl-image sensord session skins smp sms spell spl srt sse sse2 ssl streamripper subtitles svg swat sysfs tcpd test-programs threads tiff totem tracker trayicon truetype truetype-fonts type1-fonts unicode upnp usb userlocales vorbis winbind wma wmf wmp xcb xcomposite xml xorg xosd xprint xscreensaver xv xvid xvmc zlib" ALSA_CARDS="hda-intel" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" CAMERAS="directory lg_gsm" ELIBC="glibc" INPUT_DEVICES="keyboard mouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en en_GB nl" USERLAND="GNU" VIDEO_CARDS="nvidia vesa nv"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LDFLAGS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Geert Vanhaute





          2007-06-27 17:48:26 UTC
        

Created attachment 123227 [details]
The build log




Comment 2


Jakub Moc (RETIRED)






          2007-06-27 17:52:59 UTC
        

Please, set your locales to C when reporting bugs. :)




Comment 3


Geert Vanhaute





          2007-06-27 18:19:36 UTC
        

Created attachment 123233 [details]
The build log with locales set to C




Comment 4


Matthias Schwarzott






          2007-06-27 18:35:59 UTC
        

Well, still cannot see any error in compile phase.
Perhaps doing this will clear it up more:
# MAKEOPTS="V=yes" LC_ALL=C emerge udev




Comment 5


Geert Vanhaute





          2007-06-27 18:52:23 UTC
        

I re-emerged device-mapper and apparently, the problem is solved. It now compiles correctly.




Comment 6


Geert Vanhaute





          2007-08-17 18:47:24 UTC
        

I've tried also 114 and 114-r1 now. Apparently, it only compiles when I use:
MAKEOPTS="V=yes" LC_ALL=C emerge udev
Without the MAKEOPTS, it doesn't compile.




Comment 7


Matthias Schwarzott






          2007-08-18 10:20:12 UTC
        

(In reply to comment #6)
> I've tried also 114 and 114-r1 now. Apparently, it only compiles when I use:
> MAKEOPTS="V=yes" LC_ALL=C emerge udev
> Without the MAKEOPTS, it doesn't compile.
> 
Maybe it is caused by the MAKEOPTS value you set in make.conf.

Can you try these values for MAKEOPTS:
MAKEOPTS="V=yes -j1"
MAKEOPTS="V=yes -j2"
MAKEOPTS="V=yes -j3"
MAKEOPTS="V=yes -j -l 3"
and test for which it will fail?

Does it always fail with the same error message?




Comment 8


Geert Vanhaute





          2007-08-22 21:39:24 UTC
        

I reinstalled my system from scratch and problem is solved.
It was something really strange as I do/did have MAKEOPTS="-j3" in make.conf









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

