Title: 211673 – mail-client/mutt-1.5.16: uses wrong /root/.maildir-sent//tmp/cur path
URL: https://bugs.gentoo.org/show_bug.cgi?id=211673

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 211673
mail-client/mutt-1.5.16: uses wrong /root/.maildir-sent//tmp/cur path
Last modified: 2009-07-17 12:18:25 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 211673 
      - mail-client/mutt-1.5.16: uses wrong /root/.maildir-sent//tmp/cur path


Summary:
mail-client/mutt-1.5.16: uses wrong /root/.maildir-sent//tmp/cur path
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Net-Mail Packages








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-02-27 20:38 UTC by Martin Mokrejš





      Modified:
    
2009-07-17 12:18 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Martin Mokrejš





          2008-02-27 20:38:29 UTC
        

I have installed netqmail-1.05-r8, qmail-scanner-2.02-r1, etc. After composing a message in mutt, it attempts to create a file in a non-existing subdirectory. The message I get is:

/root/.maildir-sent//tmp/cur.1204143825.24439_0.vrapenec:2,S: No such file or 
directory (errno = 2)

while I do have:

# ls -la ~/.maildir-sent/cur/
total 20
drwx------ 2 root root 4096 May  9  2006 .
drwx------ 3 root root 4096 Apr 30  2007 ..
-rw------- 1 root root  304 Apr 20  2006 1145553299.17893_2.vrapenec:2,S
-rw------- 1 root root  282 May  9  2006 1147211547.14409_2.vrapenec:2,S
-rw------- 1 root root  283 May  9  2006 1147211606.14428_2.vrapenec:2,S



I fear this might be a configuration issue. qmail-scanner just force installation of maildrop on my system, according to Changelog in portage tree just to use another tool to rip mime attachments, but maybe it has also introduced yet another tool able to deliver emails to maildir/ . Hmm, qmail can write in maildir/ format, procmail can write in maildir/ format, and maildrop as well. Could that be the issue? At the moment I suspect simple bug in mutt, and I would prefer procmail to be my local delivery agent over anything else for its superior filtering capabilities proven safety.

# emerge -pv netqmail procmail qmail-scanner clamav maildrop

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild   R   ] mail-mta/netqmail-1.05-r8  USE="ssl -gencertdaily -highvolume -mailwrapper -noauthcram -qmail-spp -vanilla" 313 kB 
[ebuild   R   ] mail-filter/maildrop-2.0.4  USE="berkdb fam gdbm mysql -authlib -debug -ldap -postgres" 0 kB 
[ebuild   R   ] app-antivirus/clamav-0.92.1  USE="bzip2 crypt nls -mailwrapper -milter (-selinux)" 14,927 kB 
[ebuild   R   ] mail-filter/procmail-3.22-r8  USE="-mbox (-selinux)" 222 kB 
[ebuild   R   ] mail-filter/qmail-scanner-2.02-r1  USE="clamav -spamassassin" 0 kB 



 * Messages for package net-libs/courier-authlib-0.59.2:

 * The dev-tcltk/expect package is not installed.
 * Without it, you will not be able to change system login passwords.
 * However non-system authentication modules (LDAP, MySQL, PostgreSQL,
 * and others) will work just fine.
 * Both gdbm and berkdb selected. Using gdbm.

 * Messages for package mail-filter/maildrop-2.0.4:

 * Both gdbm and berkdb selected. Using gdbm.
 * This package will overwrite one or more files that may belong to other
 * packages (see list below). Add "collision-protect" to FEATURES in
 * make.conf if you would like the merge to abort in cases like this. You
 * can use a command such as `portageq owners / <filename>` to identify
 * the installed package that owns a file. If portageq reports that only
 * one package owns a file then do NOT file a bug report. A bug report is
 * only useful if it identifies at least two or more packages that are
 * known to install the same file(s). If a collision occurs and you can
 * not explain where the file came from then you should simply ignore the
 * collision since there is not enough information to determine if a real
 * problem exists. Please do NOT file a bug report at
 * http://bugs.gentoo.org unless you report exactly which two packages
 * install the same file(s). Once again, please do NOT file a bug report
 * unless you have completely understood the above message.
 * 
 * Detected file collision(s):
 * 
 *      /usr/share/man/man1/maildirmake.1.bz2
 *      /usr/share/man/man5/maildir.5.bz2




Comment 1


Fernando J. Pereda (RETIRED)






          2008-02-27 21:21:23 UTC
        

Who created /root/.maildir-sent/ ?

- ferdy




Comment 2


Martin Mokrejš





          2008-02-28 17:59:32 UTC
        

I just guess it was created by maildirmake from procmail package.

I have zapped the directory and recreated also ~.maildir/ with maildirmake supposedly from maildrop, re-ran mutt and managed to send an email:

# ls -la ~/.maildir-sent/cur/
total 12
drwx------ 2 root root 4096 Feb 28 18:49 .
drwx------ 5 root root 4096 Feb 28 18:49 ..
-rw------- 1 root root  327 Feb 28 18:49 1204220969.31567_1.vrapenec:2,S
#




Comment 3


Martin Mokrejš





          2008-02-28 18:01:16 UTC
        

Sorry, I wanted to say procmail created ~/.maildir/ and I believe it could have been only mutt who has created ~/.maildir-sent/ . I have except mutt only mail and mailx, I belive. ;-)




Comment 4


Fernando J. Pereda (RETIRED)






          2008-02-28 19:15:50 UTC
        

Whoever created that maildir is at fault here. I doubt it's mutt. Can you reproduce this bug?

- ferdy




Comment 5


Martin Mokrejš





          2008-03-01 13:41:47 UTC
        

Cannot reproduce by creating ~/.maildir-sent/ neither with these two:
mail-mta/netqmail-1.05-r8 (/var/qmail/bin/maildirmake)
mail-filter/maildrop-2.0.4 (/usr/bin/maildirmake)




Comment 6


Fabian Groffen






          2009-06-28 12:43:19 UTC
        

is there still a bug or not?  If so, does it also affect 1.5.20?




Comment 7


Martin Mokrejš





          2009-07-17 12:18:15 UTC
        

Cannot reproduce with mutt-1.5.20-r1 (deleted .maildir-sent/ and let mutt re-create it with its subdirectory tree.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

