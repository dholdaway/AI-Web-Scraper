Title: 232959 – sci-mathematics/glpk-4.29 fails (mysql-5.0.60-r1 header problem)
URL: https://bugs.gentoo.org/show_bug.cgi?id=232959

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 232959
sci-mathematics/glpk-4.29 fails (mysql-5.0.60-r1 header problem)
Last modified: 2008-09-09 16:43:01 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 232959 
      - sci-mathematics/glpk-4.29 fails (mysql-5.0.60-r1 header problem)


Summary:
sci-mathematics/glpk-4.29 fails (mysql-5.0.60-r1 header problem)
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux MySQL bugs team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-07-25 19:38 UTC by Patrizio Bassi





      Modified:
    
2008-09-09 16:43 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



cbm









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Patrizio Bassi





          2008-07-25 19:38:03 UTC
        

/bin/sh ../libtool --tag=CC   --mode=compile x86_64-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I.. -I../include  -I/usr/include/mysql  -I/usr/include/iodbc  -O3 -pipe -mtune=core2 -march=core2 -fomit-frame-pointer -mmmx -msse -msse2 -msse3 -mfpmath=sse -MT glpssx02.lo -MD -MP -MF .deps/glpssx02.Tpo -c -o glpssx02.lo glpssx02.c
 x86_64-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I.. -I../include -I/usr/include/mysql -I/usr/include/iodbc -O3 -pipe -mtune=core2 -march=core2 -fomit-frame-pointer -mmmx -msse -msse2 -msse3 -mfpmath=sse -MT glpsql.lo -MD -MP -MF .deps/glpsql.Tpo -c glpsql.c  -fPIC -DPIC -o .libs/glpsql.o
 x86_64-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I.. -I../include -I/usr/include/mysql -I/usr/include/iodbc -O3 -pipe -mtune=core2 -march=core2 -fomit-frame-pointer -mmmx -msse -msse2 -msse3 -mfpmath=sse -MT glpssx02.lo -MD -MP -MF .deps/glpssx02.Tpo -c glpssx02.c  -fPIC -DPIC -o .libs/glpssx02.o
glpsql.c: In function '_glp_db_iodbc_open':
glpsql.c:700: warning: passing argument 6 of 'dl_SQLBindCol' from incompatible pointer type
In file included from glpsql.c:956:
/usr/include/mysql/my_global.h:361:24: error: asm/atomic.h: No such file or directory
make[2]: *** [glpsql.lo] Error 1
make[2]: *** Waiting for unfinished jobs....
 x86_64-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I.. -I../include -I/usr/include/mysql -I/usr/include/iodbc -O3 -pipe -mtune=core2 -march=core2 -fomit-frame-pointer -mmmx -msse -msse2 -msse3 -mfpmath=sse -MT glpssx02.lo -MD -MP -MF .deps/glpssx02.Tpo -c glpssx02.c -o glpssx02.o >/dev/null 2>&1
 x86_64-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I.. -I../include -I/usr/include/mysql -I/usr/include/iodbc -O3 -pipe -mtune=core2 -march=core2 -fomit-frame-pointer -mmmx -msse -msse2 -msse3 -mfpmath=sse -MT glpssx01.lo -MD -MP -MF .deps/glpssx01.Tpo -c glpssx01.c  -fPIC -DPIC -o .libs/glpssx01.o
mv -f .deps/glpssx02.Tpo .deps/glpssx02.Plo
 x86_64-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I.. -I../include -I/usr/include/mysql -I/usr/include/iodbc -O3 -pipe -mtune=core2 -march=core2 -fomit-frame-pointer -mmmx -msse -msse2 -msse3 -mfpmath=sse -MT glpssx01.lo -MD -MP -MF .deps/glpssx01.Tpo -c glpssx01.c -o glpssx01.o >/dev/null 2>&1
mv -f .deps/glpspx01.Tpo .deps/glpspx01.Plo
mv -f .deps/glpssx01.Tpo .deps/glpssx01.Plo
make[2]: Leaving directory `/mnt/Dati/Gentoo/tmp/portage/sci-mathematics/glpk-4.29/work/glpk-4.29/src'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/mnt/Dati/Gentoo/tmp/portage/sci-mathematics/glpk-4.29/work/glpk-4.29'
make: *** [all] Error 2




Comment 1


Carsten Lohrke (RETIRED)






          2008-07-25 19:44:37 UTC
        

This seems to be a dupe of bug 168931. Which MySQL ebuild are you using exactly?




Comment 2


Patrizio Bassi





          2008-07-25 21:25:48 UTC
        

[ebuild   R   ] dev-db/mysql-5.0.60-r1  USE="berkdb extraengine perl ssl
-big-tables -cluster -debug -embedded -latin1 -max-idx-128 -minimal (-selinux)
-static" 27,369 kB




Comment 3


Wormo (RETIRED)






          2008-07-25 23:04:10 UTC
        

Maybe the same bug was reintroduced in later versions... try this test to see if behavior is same as in bug 168931:

>As a test, I moved the old /usr/include/mysql/my_config.h file to a temporary
location, then re-emerged dev-db/mysql-5.0.32 again, and this time it did
install the newly generated my_config.h file into /usr/include/mysql. However,
at the same time, I observed the following error towards the end of the build,
either immediately before or during the install phase:
>
>install: cannot stat `/usr/include/mysql/my_config.h': No such file or directory
 
Also, tell us what happens if you unmerge mysql and then install it, since the old issue happened when reinstalling over an existing mysql.




Comment 4


Patrizio Bassi





          2008-07-26 08:21:29 UTC
        

it has been enough to delete the my_config.h, reemerge mysql then this one.

so it's an error in the update procedure of mysql.

for me, we can close this bug, but the other must be reopen.

It's up to you now.




Comment 5


Wormo (RETIRED)






          2008-07-26 19:38:21 UTC
        

Thanks for the clarification. I'll assign this to mysql guys and let them decide whether to keep this one open or reopen the other.




Comment 6


Chad A. Simmons





          2008-08-07 16:22:10 UTC
        

verified here. Fix of deleting file and reemerging mysql fixed.




Comment 7


Patrizio Bassi





          2008-09-09 16:43:01 UTC
        

i would like to close it, as it's mysql issue only.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

