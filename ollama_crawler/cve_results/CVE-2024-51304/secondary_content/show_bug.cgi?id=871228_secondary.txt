Title: 871228 – net-proxy/squidguard-1.6.0-r1 - econf failed: The Berkley DB library version 2.6.4 or newer    is required
URL: https://bugs.gentoo.org/show_bug.cgi?id=871228

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 871228
net-proxy/squidguard-1.6.0-r1 - econf failed: The Berkley DB library version 2.6.4 or newer    is required
Last modified: 2023-09-14 10:39:42 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 871228 
      - net-proxy/squidguard-1.6.0-r1 - econf failed: The Berkley DB library version 2.6.4 or newer    is required


Summary:
net-proxy/squidguard-1.6.0-r1 - econf failed: The Berkley DB library version ...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Sergey Popov (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:




c99-porting



 

        Show dependency tree





 





      Reported:
    
2022-09-18 10:00 UTC by Toralf Förster





      Modified:
    
2023-09-14 10:39 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge-info.txt

              (emerge-info.txt,18.73 KB,
                text/plain)

            
2022-09-18 10:00 UTC,

            Toralf Förster




Details





emerge-history.txt

              (emerge-history.txt,175.09 KB,
                text/plain)

            
2022-09-18 10:00 UTC,

            Toralf Förster




Details





environment

              (environment,80.29 KB,
                text/plain)

            
2022-09-18 10:00 UTC,

            Toralf Förster




Details





etc.portage.tar.bz2

              (etc.portage.tar.bz2,14.03 KB,
                application/x-bzip)

            
2022-09-18 10:00 UTC,

            Toralf Förster




Details





logs.tar.bz2

              (logs.tar.bz2,4.49 KB,
                application/x-bzip)

            
2022-09-18 10:00 UTC,

            Toralf Förster




Details





net-proxy:squidguard-1.6.0-r1:20220918-094630.log

              (net-proxy:squidguard-1.6.0-r1:20220918-094630.log,4.88 KB,
                text/plain)

            
2022-09-18 10:00 UTC,

            Toralf Förster




Details





temp.tar.bz2

              (temp.tar.bz2,23.20 KB,
                application/x-bzip)

            
2022-09-18 10:00 UTC,

            Toralf Förster




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Toralf Förster






          2022-09-18 10:00:39 UTC
        


!!! Please attach the following file when seeking support:
!!! /var/tmp/portage/net-proxy/squidguard-1.6.0-r1/work/squidguard-1.6.0/config.log
 * ERROR: net-proxy/squidguard-1.6.0-r1::gentoo failed (configure phase):
 *   econf failed
 * 
 * Call stack:

  -------------------------------------------------------------------

  This is an unstable amd64 chroot image at a tinderbox (==build bot)
  name: 17.1_hardened-j4-20220916-040004

  -------------------------------------------------------------------

gcc-config -l:
 [1] x86_64-pc-linux-gnu-9.3.1
 [2] x86_64-pc-linux-gnu-12.2.0 *
clang/llvm (if any):
clang version 15.0.0
Target: x86_64-pc-linux-gnu
Thread model: posix
InstalledDir: /usr/lib/llvm/15/bin
/usr/lib/llvm/15
15.0.0
Python 3.10.7
Available Ruby profiles:
  [1]   ruby27 (with Rubygems)
  [2]   ruby31 (with Rubygems) *
Available Rust versions:
  [1]   rust-bin-1.63.0 *
The following VMs are available for generation-2:
*)	Eclipse Temurin JDK 17.0.4.1_p1 [openjdk-bin-17]
2)	Eclipse Temurin JDK 8.345_p01 [openjdk-bin-8]
Available Java Virtual Machines:
  [1]   openjdk-bin-8 
  [2]   openjdk-bin-17  system-vm

The Glorious Glasgow Haskell Compilation System, version 9.0.2
php cli (if any):
GNU Make 4.3.90

  HEAD of ::gentoo
commit 4737e48d935a07ae10cdeb0bcba4f17c85f93223
Author: Repository mirror & CI <repomirrorci@gentoo.org>
Date:   Sun Sep 18 08:46:57 2022 +0000

    2022-09-18 08:46:56 UTC

emerge -qpvO net-proxy/squidguard
[ebuild  N    ] net-proxy/squidguard-1.6.0-r1  USE="-ldap"




Comment 1


Toralf Förster






          2022-09-18 10:00:40 UTC
        

Created attachment 810595 [details]
emerge-info.txt




Comment 2


Toralf Förster






          2022-09-18 10:00:42 UTC
        

Created attachment 810598 [details]
emerge-history.txt




Comment 3


Toralf Förster






          2022-09-18 10:00:43 UTC
        

Created attachment 810601 [details]
environment




Comment 4


Toralf Förster






          2022-09-18 10:00:44 UTC
        

Created attachment 810604 [details]
etc.portage.tar.bz2




Comment 5


Toralf Förster






          2022-09-18 10:00:45 UTC
        

Created attachment 810607 [details]
logs.tar.bz2




Comment 6


Toralf Förster






          2022-09-18 10:00:46 UTC
        

Created attachment 810610 [details]
net-proxy:squidguard-1.6.0-r1:20220918-094630.log




Comment 7


Toralf Förster






          2022-09-18 10:00:47 UTC
        

Created attachment 810613 [details]
temp.tar.bz2




Comment 8


Larry the Git Cow






          2022-12-15 07:49:15 UTC
        

The bug has been referenced in the following commit(s):

https://gitweb.gentoo.org/repo/gentoo.git/commit/?id=bfb379b65e263532855151e6fbe754c2c54bcfaf

commit bfb379b65e263532855151e6fbe754c2c54bcfaf
Author:     Sergey Popov <pinkbyte@gentoo.org>
AuthorDate: 2022-12-15 07:48:47 +0000
Commit:     Sergey Popov <pinkbyte@gentoo.org>
CommitDate: 2022-12-15 07:48:54 +0000

    net-proxy/squidguard: attemp to handle build failure
    
    Bug: https://bugs.gentoo.org/871228
    Signed-off-by: Sergey Popov <pinkbyte@gentoo.org>

 .../squidguard/files/squidguard-1.6.0-stdlib.patch | 22 ++++++++++++++++++++++
 net-proxy/squidguard/squidguard-1.6.0-r1.ebuild    |  3 ++-
 2 files changed, 24 insertions(+), 1 deletion(-)




Comment 9


Sergey Popov (RETIRED)






          2022-12-15 07:51:41 UTC
        

Can not reproduce it, but looking at your config.log i saw that culprit may be in '-Werror=implicit-function-declaration -Werror=implicit-int' which i do not have in my config.log

Not sure where it comes from, though, it does not defined explicitly in your make.conf

I applied patch to possibly fix this issue, but as i can not reproduce it, i am not sure if it is fixed or not...




Comment 10


Toralf Förster






          2022-12-15 09:42:19 UTC
        

(In reply to Sergey Popov from comment #9)
> Can not reproduce it, but looking at your config.log i saw that culprit may
> be in '-Werror=implicit-function-declaration -Werror=implicit-int' which i
> do not have in my config.log
> 
> Not sure where it comes from, though, it does not defined explicitly in your
> make.conf
> 
> I applied patch to possibly fix this issue, but as i can not reproduce it, i
> am not sure if it is fixed or not...

This is the bashrc.clang hook probably.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

