Title: 230951 – Compiling of sci-mathematics/dataplot-20080225 failed.
URL: https://bugs.gentoo.org/show_bug.cgi?id=230951

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 230951
Compiling of sci-mathematics/dataplot-20080225 failed.
Last modified: 2008-09-01 01:17:20 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 230951 
      - Compiling of sci-mathematics/dataplot-20080225 failed.


Summary:
Compiling of sci-mathematics/dataplot-20080225 failed.
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       enhancement
      


Assignee:

Gentoo Science Mathematics related packages








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-07-06 16:12 UTC by Philipp Jeske





      Modified:
    
2008-09-01 01:17 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



tanderson









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Philipp Jeske





          2008-07-06 16:12:01 UTC
        

* ERROR: sci-mathematics/dataplot-20080225 failed.
 * Call stack:
 *               ebuild.sh, line   49:  Called src_compile
 *             environment, line 2721:  Called die
 * The specific snippet of code:
 *       emake || die "Make failed"
 *  The die message:
 *   Make failed


Reproducible: Always

Steps to Reproduce:
1.emerge sci-mathematics/dataplot
2.
3.

Actual Results:  
 * ERROR: sci-mathematics/dataplot-20080225 failed.
 * Call stack:
 *               ebuild.sh, line   49:  Called src_compile
 *             environment, line 2721:  Called die
 * The specific snippet of code:
 *       emake || die "Make failed"
 *  The die message:
 *   Make failed

Expected Results:  
Compile the programm.




Comment 1


Jeroen Roovers (RETIRED)






          2008-07-06 20:47:46 UTC
        

Please post your `emerge --info' and the entire build log as well.




Comment 2


Philipp Jeske





          2008-07-07 12:28:17 UTC
        

# emerge --info

Portage 2.2_rc1 (default-linux/x86/2007.0, gcc-4.1.1, glibc-2.8_p20080602-r0, 2.6.25-gentoo-r2 i686)
=================================================================
System uname: Linux-2.6.25-gentoo-r2-i686-Intel-R-_Core-TM-2_Duo_CPU_E6850_@_3.00GHz-with-glibc2.0
Timestamp of tree: Sat, 05 Jul 2008 15:30:01 +0000
ccache version 2.4 [enabled]
app-shells/bash:     3.2_p39
dev-java/java-config: 1.3.7, 2.1.6-r1
dev-lang/python:     2.4.3-r4, 2.5.2-r5
dev-python/pycrypto: 2.0.1-r6
dev-util/ccache:     2.4-r7
sys-apps/baselayout: 2.0.0
sys-apps/openrc:     0.2.5
sys-apps/sandbox:    1.2.18.1-r3
sys-devel/autoconf:  2.13, 2.62-r1
sys-devel/automake:  1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.1-r1
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   2.2.4
virtual/os-headers:  2.6.25-r4
ACCEPT_KEYWORDS="x86 ~x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -mtune=i686 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/config"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/terminfo /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-O2 -mtune=i686 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="ccache distlocks parallel-fetch preserve-libs sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LANG="de_DE.UTF-8"
LC_ALL="de_DE.UTF-8"
LDFLAGS=""
LINGUAS="de en"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portage/local/local-overlay"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X acessibility acl alsa berkdb cli cracklib crypt cups dbus dri fortran gdbm gif gnome gpm gtk hal hpeg iconv ipv6 isdnlog java kde libnotify loop-aes midi mudflap mysql ncurses nls nptl nptlonly opengl openmp pam pcre perl png pppd python qt3support qt4 readline real reflection session spl sqlite ssl startup-notification svg tcpd unicode usb x86 xinerama xorg zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1     emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m       maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="de en" USERLAND="GNU" VIDEO_CARDS="apm ark chips cirrus cyrix dummy fbdev glint i128 i740 i810 imstt    mach64 mga neomagic nsc nv r128 radeon rendition s3 s3virge savage      siliconmotion sis sisusb tdfx tga trident tseng v4l vesa vga via vmware    voodoo"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS


Calculating dependencies... done!
>>> Verifying ebuild Manifests...

>>> Emerging (1 of 1) sci-mathematics/dataplot-20080225 to /
 * dplib.02_25_2008.tar.gz RMD160 SHA1 SHA256 size ;-) ...                                                                                                                                   [ ok ]
 * dpsrc.02_25_2008.tar.gz RMD160 SHA1 SHA256 size ;-) ...                                                                                                                                   [ ok ]
 * checking ebuild checksums ;-) ...                                                                                                                                                         [ ok ]
 * checking auxfile checksums ;-) ...                                                                                                                                                        [ ok ]
 * checking miscfile checksums ;-) ...                                                                                                                                                       [ ok ]
 * checking dpsrc.02_25_2008.tar.gz ;-) ...                                                                                                                                                  [ ok ]
 * checking dplib.02_25_2008.tar.gz ;-) ...                                                                                                                                                  [ ok ]
 * You need one of these Fortran Compilers: gfortran
 * Installed are:  gfortran
>>> Unpacking source...
/var/tmp/portage/sci-mathematics/dataplot-20080225/work/dplib.02_25_2008 /var/tmp/portage/sci-mathematics/dataplot-20080225/work
>>> Unpacking dplib.02_25_2008.tar.gz to /var/tmp/portage/sci-mathematics/dataplot-20080225/work/dplib.02_25_2008
/var/tmp/portage/sci-mathematics/dataplot-20080225/work
>>> Unpacking dpsrc.02_25_2008.tar.gz to /var/tmp/portage/sci-mathematics/dataplot-20080225/work/dpsrc.02_25_2008
 * Applying dpsrc-patchset-20080225.patch ...                                                                                                                                                [ ok ]
 * Applying dpsrc-dp1patches-20080225.patch ...                                                                                                                                              [ ok ]
 * Running eautoreconf in '/var/tmp/portage/sci-mathematics/dataplot-20080225/work/dpsrc.02_25_2008' ...
 * Running aclocal ...                                                                                                                                                                       [ ok ]
 * Running autoconf ...                                                                                                                                                                      [ ok ]
 * Running autoheader ...                                                                                                                                                                    [ ok ]
 * Running automake --add-missing --copy --foreign ...                                                                                                                                       [ ok ]
>>> Source unpacked.
>>> Compiling source in /var/tmp/portage/sci-mathematics/dataplot-20080225/work/dpsrc.02_25_2008 ...
 * econf: updating dpsrc.02_25_2008/config/config.guess with /usr/share/gnuconfig/config.guess
 * econf: updating dpsrc.02_25_2008/config/config.sub with /usr/share/gnuconfig/config.sub
./configure --prefix=/usr --host=i686-pc-linux-gnu --mandir=/usr/share/man --infodir=/usr/share/info --datadir=/usr/share --sysconfdir=/etc --localstatedir=/var/lib --disable-gd --disable-gs --enable-opengl --enable-X --build=i686-pc-linux-gnu
configure: WARNING: Unrecognized options: --enable-opengl
checking whether to enable maintainer-specific portions of Makefiles... no
checking for a BSD-compatible install... /usr/bin/install -c
checking whether build environment is sane... yes
checking for a thread-safe mkdir -p... /bin/mkdir -p
checking for gawk... gawk
checking whether make sets $(MAKE)... yes
checking for i686-pc-linux-gnu-gcc... i686-pc-linux-gnu-gcc
checking for C compiler default output file name... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... no
checking for suffix of executables...
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether i686-pc-linux-gnu-gcc accepts -g... yes
checking for i686-pc-linux-gnu-gcc option to accept ISO C89... none needed
checking for style of include used by make... GNU
checking dependency style of i686-pc-linux-gnu-gcc... gcc3
checking for i686-pc-linux-gnu-g77... no
checking for i686-pc-linux-gnu-xlf... no
checking for i686-pc-linux-gnu-f77... no
checking for i686-pc-linux-gnu-frt... no
checking for i686-pc-linux-gnu-pgf77... no
checking for i686-pc-linux-gnu-cf77... no
checking for i686-pc-linux-gnu-fort77... no
checking for i686-pc-linux-gnu-fl32... no
checking for i686-pc-linux-gnu-af77... no
checking for i686-pc-linux-gnu-xlf90... no
checking for i686-pc-linux-gnu-f90... no
checking for i686-pc-linux-gnu-pgf90... no
checking for i686-pc-linux-gnu-pghpf... no
checking for i686-pc-linux-gnu-epcf90... no
checking for i686-pc-linux-gnu-gfortran... i686-pc-linux-gnu-gfortran
checking whether we are using the GNU Fortran 77 compiler... yes
checking whether i686-pc-linux-gnu-gfortran accepts -g... yes
checking how to get verbose linking output from i686-pc-linux-gnu-gfortran... -v
checking for Fortran 77 libraries of i686-pc-linux-gnu-gfortran...  -L/usr/lib/gcc/i686-pc-linux-gnu/4.1.1 -L/usr/lib/gcc/i686-pc-linux-gnu/4.1.1/../../../../i686-pc-linux-gnu/lib -L/usr/lib/gcc/i686-pc-linux-gnu/4.1.1/../../.. -lgfortranbegin -lgfortran -lm
checking build system type... i686-pc-linux-gnu
checking host system type... i686-pc-linux-gnu
checking for i686-pc-linux-gnu-pkg-config... no
checking for pkg-config... /usr/bin/pkg-config
checking pkg-config is at least version 0.9.0... yes
checking for X11... yes
configure: creating ./config.status
config.status: creating Makefile
config.status: creating DPCOPA.INC
config.status: creating dp1_linux.f
config.status: WARNING:  'dp1_linux.f.in' seems to ignore the --datarootdir setting
config.status: creating config.h
config.status: linking dp1_linux.f to dp1_fdriv.f
config.status: executing depfiles commands
configure: WARNING: Unrecognized options: --enable-opengl
make  all-am
make[1]: Entering directory `/var/tmp/portage/sci-mathematics/dataplot-20080225/work/dpsrc.02_25_2008'
i686-pc-linux-gnu-gfortran  -g -O2 -w -fno-range-check -c -o dp1_fdriv.o dp1_fdriv.f
i686-pc-linux-gnu-gfortran  -g -O2 -w -fno-range-check -c -o dp2.o dp2.f
f951: Fehler: nicht erkannte Kommandozeilenoption »-fno-range-check«
f951: Fehler: nicht erkannte Kommandozeilenoption »-fno-range-check«
make[1]: *** [dp1_fdriv.o] Fehler 1
make[1]: *** Warte auf noch nicht beendete Prozesse...
make[1]: *** [dp2.o] Fehler 1
make[1]: Leaving directory `/var/tmp/portage/sci-mathematics/dataplot-20080225/work/dpsrc.02_25_2008'
make: *** [all] Fehler 2
 *
 * ERROR: sci-mathematics/dataplot-20080225 failed.
 * Call stack:
 *               ebuild.sh, line   49:  Called src_compile
 *             environment, line 2721:  Called die
 * The specific snippet of code:
 *       emake || die "Make failed"
 *  The die message:
 *   Make failed
 *
 * If you need support, post the topmost build error, and the call stack if relevant.
 * A complete build log is located at '/var/tmp/portage/sci-mathematics/dataplot-20080225/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/sci-mathematics/dataplot-20080225/temp/environment'.
 *

 * Messages for package sci-mathematics/dataplot-20080225:

 *
 * ERROR: sci-mathematics/dataplot-20080225 failed.
 * Call stack:
 *               ebuild.sh, line   49:  Called src_compile
 *             environment, line 2721:  Called die
 * The specific snippet of code:
 *       emake || die "Make failed"
 *  The die message:
 *   Make failed
 *
 * If you need support, post the topmost build error, and the call stack if relevant.
 * A complete build log is located at '/var/tmp/portage/sci-mathematics/dataplot-20080225/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/sci-mathematics/dataplot-20080225/temp/environment'.





Comment 3


Markus Dittrich (RETIRED)






          2008-07-08 10:08:47 UTC
        

The problem is our configure.ac.20080225 file which appends
the "-fno-range-check" flag. As far as I know, this flag is
new to gfortran-4.3 and compilation will hence fail with
anything older. If there is any reason why we need this 
flag (such as bad code otherwise) we need to force gcc-4.3,
otherwise we should get rid of it. Maybe gentoofan23 has some
more insight. In the meantime, you should be able to compile
dataplot with gcc-4.3.

Thanks,
Markus




Comment 4


Thomas Anderson (tanderson) (RETIRED)






          2008-07-08 15:52:32 UTC
        

No Markus, -fno-range-check is present in 4.1.2, however it might not be present in 4.1.1, which is what Phillip has. Phillip, would you please do "man gfortran" and search for "-fno-range-check"? I have a hunch that -fno-range-check was added in 4.1.2




Comment 5


Markus Dittrich (RETIRED)






          2008-07-09 21:15:04 UTC
        

Hi Thomas,

Yes, you are correct and sorry for the confusion ;)
As a matter of habit I must have accidentally looked
at the gcc man page. gfortran-4.1.2 indeed has
this flag.

Best,
Markus




Comment 6


Philipp Jeske





          2008-07-11 09:16:18 UTC
        

I compiled dataplot with the newest gcc-version and it works. Nice tool.




Comment 7


Thomas Anderson (tanderson) (RETIRED)






          2008-07-11 11:25:34 UTC
        

Phillip, are you saying that upgrading gcc from 4.1.1 to 4.1.2 fixed your problem? Or did you upgrade to a different compiler version?




Comment 8


Philipp Jeske





          2008-07-11 12:14:10 UTC
        

I upgrade to gcc-4.3.1-r1. It was the version portage installed as I typed emerge gcc.




Comment 9


Thomas Anderson (tanderson) (RETIRED)






          2008-09-01 01:17:20 UTC
        

I think we can close this bug, as no one should be using gcc-4.1.1 anymore. Thanks for the report anyway, Phillip, and thanks for the interest in dataplot :)









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

