Title: 156755 – Evolution fails to print
URL: https://bugs.gentoo.org/show_bug.cgi?id=156755

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 156755
Evolution fails to print
Last modified: 2006-12-02 14:21:44 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 156755 
      - Evolution fails to print


Summary:
Evolution fails to print
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] GNOME

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux Gnome Desktop Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-11-30 22:31 UTC by Roger





      Modified:
    
2006-12-02 14:21 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



printing









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Roger





          2006-11-30 22:31:16 UTC
        

Evolution seems to fail to print using the cups daemon even though it is present.

I can print using the pdf/ps filter, another failure is Evolution failing to provide font/text within the headers of the contacts.  ie. 'A', 'B', 'C', ... as well as the contact name within the header?

(I've done a search, but this bug has been present for some time here and I'm thinking it has to be posted someplace already.)




Comment 1


Roger





          2006-11-30 22:33:08 UTC
        

Here's the relevant emerge --info (aka USE Flags).  (Might be a flag missing or conflicting?)

USE="x86 16bit S3TC X a52 aac aalib acpi aim alsa amd apache2 artworkextra bash-completion berkdb bidi bitmap-fonts bluetooth browserplugin bzip2 bzlib cairo caps cddb cdinstall cdparanoia cdr clamav cli cpudetection cracklib crypt css cups curlwrappers custom-cflags dba dbus devmap dga dhcp dio directfb divx4linux dlloader dri dts dv dvb dvd dvdr dvdread elibc_glibc encode escreen esd ethereal etwin evo exif fame fbcon festival ffmpeg flac font-server foomaticdb fortran fpx freetype gd gdbm gimp gimpprint gkrellm glibc-omitfp gnokii gnome gphoto2 gpm gps gs gstreamer gtk gtk2 gtkhtml hal hbci hpn iconv icq ieee1394 ignore-glep31 imagemagick imap imlib input_devices_evdev input_devices_joystick input_devices_keyboard input_devices_mouse input_devices_wacom ipv6 irda irmc isdnlog jabber jack java javascript jbig jce jikes joystick jp2 jpeg2k justify kdeenablefinal kerberos kernel_linux kqemu lcd lcms ldap libcaca libclamav libg++ libvisual linguas_en_GB lirc lirc_devices_hauppauge live logwatch lzo lzw lzw-tiff mbox mikmod mime mjpeg mmx mmxext mono mozcalendar mozdevelop moznoirc moznomail mozsvg mp3 mpeg mysql mysqli mythtv nas ncurses network nfs nls nntp no-old-linux nptl nptlonly nsplugin nuvexport nvidia offensive ofx ogg oggvorbis openal opengl openh323 osc oscar pam pcre pdf perl php pic pie png pnp posix ppds pppd private profile python qemu-fast qt3 qt4 quicktime razor readline real reflection reiserfs rtc samba sasl scanner sdk sdl seamonkey session silc smartcard smime smp sms sox speex spell spl sse ssl svg svga symlink sysvipc tcltk tcpd theora threads tidy tiff tools transcode truetype truetype-fonts trusted type1-fonts udev unicode usb userland_GNU v4l v4l2 vcd video_cards_fbdev video_cards_nv video_cards_nvidia video_cards_vesa videos vim-with-x visualization vnc vorbis wifi win32codecs xanim xcomposite xine xml xml2 xorg xosd xprint xrandr xv xvid xvmc yahoo yv12 zlib"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, MAKEOPTS, PORTAGE_RSYNC_EXTRA_OPTS





Comment 2


Roger





          2006-11-30 22:41:08 UTC
        

I find if I specify "lpr" "default" instead of "file", I Evolution will use lpr to print.

But if I specify "Color-Laserjet-2600n  Ready" (as noted as my default Cups printer and is readily usable via any other application on my system)... Evolution will fail when using this method to print.





Comment 3


Roger





          2006-12-02 00:49:54 UTC
        

I'm now seeing this bug with ggv, gv, kview.  All postscript viewers and when printing from these applications, my printer blinks several times for a period of ~3 minutes and the window says, "Printing..." But nothing is warming up or even moving.  After the ~3 minutes, the printer acts normal like nothing happened. :-/

But, I can print from Seamonkey and Acroread.  I'm guessing this is because both of these applications use their own postscript filter?

I was able to print with OpenOffice once before it started acting like the above.

Well, I'll scronge around and see if removing the cache files or what else I can find.

Hints are welcome here.  Don't everybody speak at once! :-)





Comment 4


Roger





          2006-12-02 03:36:33 UTC
        

Ok.  This is weird.  I'm able to debug this further with OpenOffice with editing my printers specific options more easily.

Sometimes the printer works.  Sometimes not.

I'm starting to wonder if this is a h/w related issue.  But not because I was using OpenOffice on Windows XP just fine.

Seem more likely, something with foomatic/postscript is borking here. :-/





Comment 5


Rémi Cardona (RETIRED)






          2006-12-02 03:49:40 UTC
        

mozilla et al. use the "lpr" command which is provided by cups. So without really knowing anything about cups, they are still using it (and the configured filters).

In my experience, if you can print a Cups test page, then gnome apps work just fine. :)

Please make sure Cups is working correctly, and don't hesitate to reopen this bug if specific gnome apps are failing.

Thanks




Comment 6


Roger





          2006-12-02 04:22:35 UTC
        

It appears OpenOffice dislikes me using using "2 Bits Per Plane".

As such,...

When "2 Bits Per Plane" is used, I see the above symptoms.

When "1 Bit Per Plane" is used, the printer has printed everytime I pressed "print".


--- Warning: Speculation Follows ---
I also know KDE print modules allow these settings as well within it's user interface.

Acroread and Mozilla/Seamonkey does not have a user interface for these settings.

But this doesn't explain gv behavoir (nor ggv).  I'm guessing gv & ggv might be reading their own settings or something.





Comment 7


Roger





          2006-12-02 04:35:22 UTC
        

btw... Cups test page works just fine and dandy.

So who knows why openoffice, kview, ggv, and gv are all having issues. :-/





Comment 8


Rémi Cardona (RETIRED)






          2006-12-02 07:20:03 UTC
        

ggv is still gnome but have you tried with evince (the new official gnome viewer)

Printing herd: what do you think about this bug?




Comment 9


Roger





          2006-12-02 14:21:44 UTC
        

Printing with evince gives me a nice print dialog with the three selections (create pdf, generic postscript, my_color_hp_printer_via_cups).

Of course, printing with my_cups_printer again fails with the blinking light and do-nothing symptoms, but the "generic postscript" option gives me an option printing with this filter instead.

Still, the same symptoms. 

Ah.  The test.ps I'm printing was created with OpenOffice and it is an envelope format.  I am betting the margins of this test.ps postscript file are outside the capabilities of my printer?

Creating a test2.ps from Seamonkey/Mozilla and then using evince is finally printing.

I'm curious what error windows provides with trying to print my unfreindly test.ps file?  I'm guessing the window's printer drivers will reformat the test.ps to hp specifications before sending to the printer.

As far as Evolution failing to print, as I noted before, seems to be relevant to me specifying "2 bit per plane", for which, this is specifically a foo2zjs or ghostscript error.  I just tested this and confirmed this 1 and 2 bit per plane issue.

Can somebody provide me with more info as to whether this might be due to a ghostscript/cups recent package update?

If nobody has other info, I'm going to mark this as "worksforme" and will wait until I get more data to post.










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

