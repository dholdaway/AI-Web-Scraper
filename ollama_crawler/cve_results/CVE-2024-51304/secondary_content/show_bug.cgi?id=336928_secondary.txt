Title: 336928 – dev-cpp/glibmm with USE="-doc" does not install /usr/share/glibmm-2.4/doctool
URL: https://bugs.gentoo.org/show_bug.cgi?id=336928

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 336928
dev-cpp/glibmm with USE="-doc" does not install /usr/share/glibmm-2.4/doctool
Last modified: 2011-05-09 11:29:45 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 336928 
      - dev-cpp/glibmm with USE="-doc" does not install /usr/share/glibmm-2.4/doctool


Summary:
dev-cpp/glibmm with USE="-doc" does not install /usr/share/glibmm-2.4/doctool
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

GNOME C++ Bindings Maintainers (OBSOLETE)








URL:







Whiteboard:




Keywords:









Duplicates (3):
    

336675 336929 337267

      (view as bug list)
    


Depends on:







Blocks:




332491



 

        Show dependency tree





 





      Reported:
    
2010-09-12 16:21 UTC by Thomas Raschbacher





      Modified:
    
2011-05-09 11:29 UTC
      (History)
    




          CC List:
        

4 
          users
          
            (show)
          



amigadave
don
roothorick
wlsoftware









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Thomas Raschbacher






          2010-09-12 16:21:52 UTC
        

glibmm with USE="-doc" does not install
/usr/share/glibmm-2.4/doctool 
/usr/share/glibmm-2.4/doctool/doc-install.pl
/usr/share/glibmm-2.4/doctool/doc-postprocess.pl
/usr/share/glibmm-2.4/doctool/doxygen.css
/usr/share/glibmm-2.4/doctool/tagfile-to-devhelp2.xsl

Those files are needed e.g. by gconfmm even with USE="-doc" (possibly others but I did not check all *mm packages ;))




Comment 1


Thomas Raschbacher






          2010-09-12 16:30:33 UTC
        

As you probably know those are documentation generation tools. as to why gconfmm,.. need them i don'T know... maybe the bug is there..




Comment 2


Gilles Dartiguelongue (RETIRED)






          2010-09-15 08:34:57 UTC
        

*** Bug 337267 has been marked as a duplicate of this bug. ***




Comment 3


Gilles Dartiguelongue (RETIRED)






          2010-09-15 08:35:24 UTC
        

*** Bug 336929 has been marked as a duplicate of this bug. ***




Comment 4


Pacho Ramos






          2010-09-15 12:12:08 UTC
        

This is caused by my following commit:

  09 Sep 2010; Pacho Ramos <pacho@gentoo.org> glibmm-2.24.2.ebuild:
  Pass --disable-documentation when needed (bug #332491) by Martin
  Mokrejš).


Sorry a lot, I didn't expect to cause this breakage :'(

I am working on fixing gconfmm and others depends that also need to pass --disable-documentation properly, but, sadly, I am not sure if will be able to fix all broken pieces today due lack of time.




Comment 5


Pacho Ramos






          2010-09-15 12:54:55 UTC
        

Change reverted until we reach a consensus about how to handle this properly, there seems to be two options:
1. Install always the following files:
/usr/share/glibmm-2.4/doctool 
/usr/share/glibmm-2.4/doctool/doc-install.pl
/usr/share/glibmm-2.4/doctool/doc-postprocess.pl
/usr/share/glibmm-2.4/doctool/doxygen.css
/usr/share/glibmm-2.4/doctool/tagfile-to-devhelp2.xsl

2. Make all depending packages pass --disable/enable-documentation and RDEPEND on >=dev-cpp/glibmm-2.12[doc?]




Comment 6


Thomas Raschbacher






          2010-09-15 16:10:20 UTC
        

Well i'd say installing those 4 files is hardly gonna be an issue if it is the easier choice ;)




Comment 7


Gilles Dartiguelongue (RETIRED)






          2010-09-15 18:07:42 UTC
        

*** Bug 336675 has been marked as a duplicate of this bug. ***




Comment 8


David J Cozatt





          2010-12-06 00:54:16 UTC
        

should depend or block 262491
QA Notice: Unrecognized configure options:                                    │
│                                                                              │
│        configure: WARNING: unrecognized options: --disable-gtk-doc  




Comment 9


M. B.





          2011-03-18 10:01:37 UTC
        

As of today, this is still broken in dev-cpp/glibmm-2.27.97 from the gnome-overlay.

config.log shows this ./configure line being used:
  $ ./configure --prefix=/usr --build=x86_64-pc-linux-gnu --host=x86_64-pc-linux-gnu --mandir=/usr/share/man --infodir=/usr/share/info --datadir=/usr/share --sysconfdir=/etc --localstatedir=/var/lib --libdir=/usr/lib64 --disable-documentation --disable-schemas-compile --enable-deprecated-api --disable-gtk-doc

build.log shows this reason for dying:
checking location of documentation utilities... configure: error: not found
The required module mm-common-util could not be found on this system.  If you
are running a binary distribution and the mm-common package is installed,
make sure that any separate development package for mm-common is installed
as well.  If you built mm-common yourself, it may be necessary to adjust
the PKG_CONFIG_PATH environment variable for pkg-config to find it.

This happens with -doc enabled, but regardless of doxygen being installed or not. Installing dev-cpp/mm-common fixes it.




Comment 10


Pacho Ramos






          2011-03-18 10:52:05 UTC
        

You are looking for bug 359263




Comment 11


Pacho Ramos






          2011-05-09 11:29:45 UTC
        

This behavior is the normal as those files are not needed when --disable-documentation is used

If you find packages failing to build due this files missing, file a bug to handle enable/disable-documentation properly









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

