Title: 202565 – www-servers/apache - autoindex configuration problem, wrong icon directory
URL: https://bugs.gentoo.org/show_bug.cgi?id=202565

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 202565
www-servers/apache - autoindex configuration problem, wrong icon directory
Last modified: 2007-12-17 15:07:44 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 202565 
      - www-servers/apache - autoindex configuration problem, wrong icon directory


Summary:
www-servers/apache - autoindex configuration problem, wrong icon directory
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-12-17 12:01 UTC by kavol





      Modified:
    
2007-12-17 15:07 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


kavol





          2007-12-17 12:01:15 UTC
        

hi,

I needed to switch on indexing for one directory at my webserver
after typing the address in the browser, I have noticed that there are missing icons
looking at the Apache configuration, I have found that within /etc/apache2/modules.d/00_autoindex.conf there are these lines:

Alias /icons/ "/var/www/localhost/icons/"

<Directory "/var/www/localhost/icons">
        Options Indexes MultiViews
        AllowOverride None
        Order allow,deny
        Allow from all
</Directory>


however, no /var/www/localhost/icons exists - the icons are found at /usr/share/doc/apache-2.2.6-r5/webroot/icons/ ... after replacing the path in the config file with this directory, reloading configuration and then reloading the page the icons appeared in the browser

Reproducible: Always

Steps to Reproduce:
1. Install and configure apache web server.
2. Create some testing directory under the webroot and allow indexing for it, e.g. by putting there .htaccess file containing
Options Indexes
(Make sure there is no index file in that directory that would take precedence before automatic indexing. Also make sure that FancyIndexing is turned on.)
3. Point your browser to the web page corresponding to the testing directory.

Actual Results:  
There are images (icons) missing on the page. If you try to follow the image sources, you get http error 403.

Expected Results:  
The page is displayed properly without any missing elements.




Comment 1


Jakub Moc (RETIRED)






          2007-12-17 14:37:17 UTC
        

You need to run emerge --config =www-servers/apache-<version> to get this. And no, it won't be done automatically because people moaned about overwriting their index.html and whatnot.




Comment 2


kavol





          2007-12-17 15:07:44 UTC
        

(In reply to comment #1)
> You need to run emerge --config =www-servers/apache-<version> to get this.

oops, looking back to logs, I see:

 * If you would like to install the latest webroot, please run
 * emerge --config =apache-2.2.6-r5

somehow, I did not connect these two :-/

> And no, it won't be done automatically because people moaned about
> overwriting their index.html and whatnot.

and I do not want you to do that :-)

in fact, I do not see any point in copying the files from here to there - I'd rather see the default configfile modified to point to the location before the copying ... this way, it would work on default install, and using custom configuration, it won't get overwritten automagically and user would be forced to check the changes, which happens anyway

but I won't reopen this, as it looks like some intended policy









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

