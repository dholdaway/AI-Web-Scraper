Title: 626074 – =media-libs/mediastreamer-2.15.1::rion: ../src/.libs/libmediastreamer_voip.so: undefined reference to `ms_devices_info_free'
URL: https://bugs.gentoo.org/show_bug.cgi?id=626074

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 626074
=media-libs/mediastreamer-2.15.1::rion: ../src/.libs/libmediastreamer_voip.so: undefined reference to `ms_devices_info_free'
Last modified: 2017-09-23 20:00:55 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 626074 
      - =media-libs/mediastreamer-2.15.1::rion: ../src/.libs/libmediastreamer_voip.so: undefined reference to `ms_devices_info_free'


Summary:
=media-libs/mediastreamer-2.15.1::rion: ../src/.libs/libmediastreamer_voip.so...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Andrew Savchenko








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2017-07-24 19:01 UTC by Thomas Beutin





      Modified:
    
2017-09-23 20:00 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



jstein









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build.log

              (build.log,92.08 KB,
                text/plain)

            
2017-07-24 19:02 UTC,

            Thomas Beutin




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Thomas Beutin





          2017-07-24 19:01:07 UTC
        

Making all in tools
make[2]: Entering directory '/var/tmp/portage/media-libs/mediastreamer-2.15.1/work/mediastreamer-2.15.1/tools'
x86_64-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..  -I../include/ -D_REENTRANT    -Wall -Wuninitialized -Wdeclaration-after-statement -Wstrict-prototypes -DVIDEO_ENABLED -DHAVE_GL -DHAVE_XV -I/usr/include -march=corei7-avx -fomit-frame-pointer -O2 -pipe -Wall -fdiagnostics-show-option -pthread -D_REENTRANT   -c -o mtudiscover.o mtudiscover.c
/bin/sh ../libtool  --tag=CC   --mode=link x86_64-pc-linux-gnu-gcc -Wall -Wuninitialized -Wdeclaration-after-statement -Wstrict-prototypes -DVIDEO_ENABLED -DHAVE_GL -DHAVE_XV -I/usr/include -march=corei7-avx -fomit-frame-pointer -O2 -pipe -Wall -fdiagnostics-show-option -pthread -D_REENTRANT   -export-dynamic  -Wl,-O1 -Wl,--as-needed -o mtudiscover mtudiscover.o ../src/libmediastreamer_base.la ../src/libmediastreamer_voip.la -lortp -lbctoolbox  -lasound  -lspeex  -lspeexdsp  -lgsm -ltheora -logg  -lvpx -lm  -lavcodec  -lavutil -lswscale  -lX11 -lGL -lGLEW -L/usr/lib64 -Wl,-rpath,/usr/lib64 -lpcap -lbctoolbox  -pthread -lpthread  -lXv -ldl -lbctoolbox 
libtool: link: x86_64-pc-linux-gnu-gcc -Wall -Wuninitialized -Wdeclaration-after-statement -Wstrict-prototypes -DVIDEO_ENABLED -DHAVE_GL -DHAVE_XV -I/usr/include -march=corei7-avx -fomit-frame-pointer -O2 -pipe -Wall -fdiagnostics-show-option -pthread -D_REENTRANT -Wl,-O1 -o .libs/mtudiscover mtudiscover.o -Wl,-rpath -Wl,/usr/lib64 -pthread -Wl,--export-dynamic  -Wl,--as-needed ../src/.libs/libmediastreamer_base.so ../src/.libs/libmediastreamer_voip.so -L/usr/lib64 /var/tmp/portage/media-libs/mediastreamer-2.15.1/work/mediastreamer-2.15.1/src/.libs/libmediastreamer_base.so -lportaudio -lpulse -lv4l2 -lv4lconvert -lspandsp -ltiff /usr/lib64/libopus.so -lsrtp -lGLU -lupnp -lthreadutil -lixml -lortp -lasound -lspeex -lspeexdsp -lgsm -ltheora -logg -lvpx -lm -lavcodec -lavutil -lswscale -lX11 -lGL -lGLEW -lpcap -lXv /usr/lib64/libbctoolbox.so -lmbedtls -lmbedcrypto -lmbedx509 -ldl -lpthread -pthread
../src/.libs/libmediastreamer_voip.so: undefined reference to `ms_devices_info_free'
../src/.libs/libmediastreamer_voip.so: undefined reference to `ms_read_wav_header_from_fd'
../src/.libs/libmediastreamer_voip.so: undefined reference to `video_recorder_handle_event'
../src/.libs/libmediastreamer_voip.so: undefined reference to `video_stream_open_player'
../src/.libs/libmediastreamer_voip.so: undefined reference to `register_video_preset_high_fps'
../src/.libs/libmediastreamer_voip.so: undefined reference to `ms_devices_info_new'
../src/.libs/libmediastreamer_voip.so: undefined reference to `video_stream_close_player'
collect2: error: ld returned 1 exit status
make[2]: *** [Makefile:733: mtudiscover] Error 1
make[2]: Leaving directory '/var/tmp/portage/media-libs/mediastreamer-2.15.1/work/mediastreamer-2.15.1/tools'
make[1]: *** [Makefile:643: all-recursive] Error 1
make[1]: Leaving directory '/var/tmp/portage/media-libs/mediastreamer-2.15.1/work/mediastreamer-2.15.1'
make: *** [Makefile:550: all] Error 2

emerge --info =media-libs/mediastreamer-2.15.1
Portage 2.3.6 (python 2.7.12-final-0, default/linux/amd64/13.0/desktop, gcc-5.4.0, glibc-2.23-r4, 4.9.16-gentoo x86_64)
=================================================================
                         System Settings
=================================================================
System uname: Linux-4.9.16-gentoo-x86_64-Intel-R-_Core-TM-_i5-2520M_CPU_@_2.50GHz-with-gentoo-2.3
KiB Mem:    16357952 total,    251864 free
KiB Swap:   33554428 total,  33265852 free
Timestamp of repository gentoo: Mon, 24 Jul 2017 17:30:01 +0000
sh bash 4.3_p48-r1
ld GNU ld (Gentoo 2.26.1 p1.0) 2.26.1
app-shells/bash:          4.3_p48-r1::gentoo
dev-java/java-config:     2.2.0-r3::gentoo
dev-lang/perl:            5.24.1-r2::gentoo
dev-lang/python:          2.7.12::gentoo, 3.4.5::gentoo
dev-util/cmake:           3.7.2::gentoo
dev-util/pkgconfig:       0.28-r3::gentoo
sys-apps/baselayout:      2.3::gentoo
sys-apps/openrc:          0.26.3::gentoo
sys-apps/sandbox:         2.10-r3::gentoo
sys-devel/autoconf:       2.13::gentoo, 2.69::gentoo
sys-devel/automake:       1.11.6-r1::gentoo, 1.12.6::gentoo, 1.13.4::gentoo, 1.14.1::gentoo, 1.15-r2::gentoo
sys-devel/binutils:       2.26.1::gentoo, 2.28-r2::gentoo
sys-devel/gcc:            5.4.0-r3::gentoo
sys-devel/gcc-config:     1.7.3::gentoo
sys-devel/libtool:        2.4.6-r3::gentoo
sys-devel/make:           4.2.1::gentoo
sys-kernel/linux-headers: 4.10::gentoo (virtual/os-headers)
sys-libs/glibc:           2.23-r4::gentoo
Repositories:

gentoo
    location: /usr/portage
    sync-type: rsync
    sync-uri: rsync://rsync.gentoo.org/gentoo-portage
    priority: -1000

x-portage
    location: /usr/local/portage
    masters: gentoo
    priority: 0

barzog-overlay
    location: /mnt/gentoo/layman/barzog-overlay
    masters: gentoo
    priority: 50

desktop-effects
    location: /mnt/gentoo/layman/desktop-effects
    masters: gentoo
    priority: 50

gentoo-mate
    location: /mnt/gentoo/layman/gentoo-mate
    masters: gentoo
    priority: 50

java
    location: /mnt/gentoo/layman/java
    masters: gentoo
    priority: 50

prism-overlay
    location: /mnt/gentoo/layman/prism-overlay
    masters: gentoo
    priority: 50

python
    location: /mnt/gentoo/layman/python
    masters: gentoo
    priority: 50

rion
    location: /mnt/gentoo/layman/rion
    masters: gentoo
    priority: 50

science
    location: /mnt/gentoo/layman/science
    masters: gentoo
    priority: 50

seden
    location: /mnt/gentoo/layman/seden
    masters: gentoo
    priority: 50

sunrise
    location: /mnt/gentoo/layman/sunrise
    masters: gentoo
    priority: 50

ACCEPT_KEYWORDS="amd64"
ACCEPT_LICENSE="*"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=corei7-avx -fomit-frame-pointer -O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/lib64/fax /usr/share/gnupg/qualified.txt /var/spool/fax/etc /var/spool/munin-async/.ssh"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/dconf /etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php5.6/ext-active/ /etc/php/apache2-php7.0/ext-active/ /etc/php/cgi-php5.6/ext-active/ /etc/php/cgi-php7.0/ext-active/ /etc/php/cli-php5.6/ext-active/ /etc/php/cli-php7.0/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c"
CXXFLAGS="-march=corei7-avx -fomit-frame-pointer -O2 -pipe"
DISTDIR="/mnt/gentoo/distfiles/"
FCFLAGS="-O2 -pipe"
FEATURES="assume-digests binpkg-logs config-protect-if-modified distlocks ebuild-locks fixlafiles merge-sync news parallel-fetch preserve-libs protect-owned sandbox sfperms strict unknown-features-warn unmerge-logs unmerge-orphans userfetch userpriv usersandbox usersync xattr"
FFLAGS="-O2 -pipe"
GENTOO_MIRRORS="http://distfiles.gentoo.org"
INSTALL_MASK="/usr/lib/systemd/"
LDFLAGS="-Wl,-O1 -Wl,--as-needed"
MAKEOPTS="-j1"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --omit-dir-times --compress --force --whole-file --delete --stats --human-readable --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --exclude=/.git"
PORTAGE_TMPDIR="/var/tmp"
USE="R X X509 a52 aac aalib accounting acl acpi adns aim aio alsa amd64 amr ansi ao aot apache2 apng applet archive ass audio audiofile automount avahi avx awt bacula-console bash-completion bazaar bcmath berkdb bidi bind-mysql bittorrent blas bluetooth bluray bonobo boost bzip2 cacert cairo caja calendar caps ccache cdb cdda cddb cdio cdparanoia cdr cgi chipcard chroot colord command-args consolekit corefonts cpudetection cpulimit cracklib cramfs crypt cscope css csv ctype cups curl curlwrappers customlog cvs cvsgraph cxx cyrus dba dbi dbm dbus dbx devhelp device-mapper devmap dga dhcp dirac directfb djvu dlna dlopen dnsdb dri dri3 drm dts dv dvb dvd dvdr dvi ecc egl enchant encode excel exif expat faad fam fastcgi fat fdk ffmpeg fftw fits flac flash flatfile fltk fontconfig fonts fpx ftp fuse fusefs gallium gd gdal gdbm gdu geoip geos gif gimp ginac git glib glpk glut gmp gnome-keyring gnuplot gpg gphoto2 graphviz gs gsf gsl gssapi gstreamer gtk gtk2 gtk3 gudev gzip h323 hardened hardenedphp hddtemp hdf5 hdri highlight hpn html http hunspell hwdb iconv icq icu idea idled idn imap imlib imlib2 inifile innodb int64 introspection ios ipalias ipc ipod ipv6 iso jabber jack java javascript jbig jingle jit jpeg jpeg2k json kdrive kerberos keymap kmod kpathsea lame lapack latex lcms ldap less libass libnotify libsamplerate libv4l libv4l2 libwww live llvm lm_sensors lmtp logrotate logwatch lua lz4 lzma lzo mad magic matroska mbox mcal md5sum memlimit mercurial metis mgetty mhash midi milter mime mimencode ming mmap mms mmx mmxext mng mp3 mp4 mpeg mplayer msn mtp multilib mumps musepack musicbrainz mysql mysqli nagios-dns nagios-game nagios-ntp nagios-ping nagios-ssh ncurses net netboot netcdf netlink network network-uri networkmanager nfs nis nls nntp nptl nsplugin nss ntfs ntp oav ocaml ocamlopt ocatve octave odbc offensive ogg openal opencl openexr opengl openmp openrc openssh openssl orc osc oscar pam pam_chroot pam_console pam_timestamp pango parse-clocks pcf pci pcntl pcre pda pdf pdfkit pdflib perl pgo php pic plotutils png policykit portaudio posix postfix postgis postgres postproc postscript ppds procmail ps pulseaudio pwdb python qdbm qt5 quotas quvi radius raw rdesktop rdp readline recode reiserfs rpc rrdtool rss rtmp samba sample sasl scanner schroedinger scotch screen sendfile sensord session sftp sftplogging shaper shared sharedext shorten sieve simplexml slang slp smartcard smime smp sms smtp sna sndfile snmp snortsam soap sockets socks5 sound sox spamassassin sparse spatialite speex spell spice spl sql sqlite sqlite3 sse sse2 sse3 sse4 sse4_1 ssh ssl ssse3 stream subversion svg sysfs syslog sysvipc szip t1lib taglib tcpd telepathy test-programs theora threads tidy tiff timidity tokenizer tools transparent-proxy truetype truetype-fonts tslib twolame type1-fonts udev udisks unicode upnp upnp-av upower usb userlocales utf8 uuid v4l vaapi vala vcd vdpau vhosts video vim-syntax virtual-users virus-scan vnc vorbis vpx vte wayland wddx weather webdav webkit webm webp wifi win32codecs withsamplescripts wmf x264 x265 xattr xcb xcomposite xetex xface xfs xft xinerama xinetd xml xml2 xmlrpc xmp xmpp xorg xosd xpdf-headers xpm xps xrandr xscreensaver xsl xslt xv xvfb xvid xvmc xz yahoo yaml yaz zlib zvbi" ABI_X86="32 64" APACHE2_MODULES="access auth auth_basic auth_digest authn_default authn_core authn_file authn_dbm authn_dbd authn_alias authn_anon authz_core authz_groupfile authz_host authz_user authz_dbd authz_dbm authz_owner authz_default dbd ident imagemap alias echo charset_lite cache file_cache disk_cache mem_cache ext_filter case_filter case-filter-in deflate filter mime_magic cern_meta proxy proxy_connect proxy_ftp http2 proxy_html proxy_http proxy_ajp proxy_balancer proxy_fcgi proxy_wstunnel expires headers usertrack info include cgi cgid dav dav_lock dav_fs vhost_alias speling rewrite log_config logio env setenvif mime status substitute autoindex asis negotiation dir imap actions userdir so unique_id version dumpio log_forensic reqtimeout socache_shmcb unixd slotmem_shm ratelimit remoteip lbmethod_bybusyness lbmethod_byrequests lbmethod_bytraffic lbmethod_heartbeat xml2enc" APACHE2_MPMS="worker" CPU_FLAGS_X86="aes avx mmx mmxext popcnt sse sse2 sse3 sse4 sse4_1 sse4_2 ssse3" CURL_SSL="nss" ELIBC="glibc" FFTOOLS="cws2fws qt-faststart aviocat ismindex" GPSD_PROTOCOLS="aivdm sirf mtk3301 gpsclock superstar2 timing nmea" GRUB_PLATFORMS="pc multiboot efi coreboot efi-64" INPUT_DEVICES="keyboard mouse evdev wacom synaptics" KERNEL="linux" L10N="en_GB en en_US de_DE de" LIBREOFFICE_EXTENSIONS="presenter-console presenter-minimizer nlpsolver pdfimport wiki-publisher" LINGUAS="en_GB en en_US de_DE de" LLVM_TARGETS="X86 NVPTX" PHP_TARGETS="php5-6 php7-0" POSTGRES_TARGETS="postgres9_6" PYTHON_SINGLE_TARGET="python3_4" PYTHON_TARGETS="python2_7 python3_4" QEMU_SOFTMMU_TARGETS="i386 x86_64" QEMU_USER_TARGETS="i386 x86_64" RUBY_TARGETS="ruby21 ruby22" SANE_BACKENDS="net hp" USERLAND="GNU" VIDEO_CARDS="vga intel i915 i965 fbdev vesa" XFCE_PLUGINS="clock multiload-nandhp power trash"
USE_PYTHON="2.7 3.4"
Unset:  CC, CPPFLAGS, CTARGET, CXX, EMERGE_DEFAULT_OPTS, LANG, LC_ALL, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Thomas Beutin





          2017-07-24 19:02:05 UTC
        

Created attachment 486724 [details]
build.log




Comment 2


Jonas Stein






          2017-07-25 09:13:45 UTC
        

This could be also the result from a broken gcc [0] upgrade. 
Please check with the help of our support channels. [1]

[0] https://wiki.gentoo.org/wiki/Upgrading_GCC
[1] https://www.gentoo.org/support/




Comment 3


Thomas Beutin





          2017-09-23 20:00:55 UTC
        

=media-libs/mediastreamer-2.15.1::rion is no longer available, and =media-libs/mediastreamer-2.16.1::rion works









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

