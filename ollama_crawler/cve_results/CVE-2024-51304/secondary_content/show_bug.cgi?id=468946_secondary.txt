Title: 468946 – media-sound/spotify-0.9.0.133 - spotify is already running, but not responding
URL: https://bugs.gentoo.org/show_bug.cgi?id=468946

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 468946
media-sound/spotify-0.9.0.133 - spotify is already running, but not responding
Last modified: 2013-08-14 07:29:51 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 468946 
      - media-sound/spotify-0.9.0.133 - spotify is already running, but not responding


Summary:
media-sound/spotify-0.9.0.133 - spotify is already running, but not responding
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Matthew Thode ( prometheanfire )








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2013-05-07 21:06 UTC by manwe





      Modified:
    
2013-08-14 07:29 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



kavafree
thomas.jaeger









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


manwe





          2013-05-07 21:06:31 UTC
        

I've removed everything (application, config from $HOME), reemerged newest version but still when trying to launch i get:

$ /usr/bin/spotify
/opt/spotify/spotify-client/spotify: /usr/lib64/libcrypto.so.1.0.0: no version information available (required by /opt/spotify/spotify-client/spotify)
/opt/spotify/spotify-client/spotify: /usr/lib64/libssl.so.1.0.0: no version information available (required by /opt/spotify/spotify-client/spotify)
21:03:55.891 I [breakpad.cpp:107                ] Registered Breakpad for product: spotify

21:03:55.893 I [translate.cpp:139               ] Reloading language file

and than Qt-styled message window "Spotify is already running, but not responding. Please close it and try again". Of course there's no spotify process (or anything similiar) and this happens even after reboot. 

Reproducible: Always

Steps to Reproduce:
1. emerge =media-sound/spotify-0.9.0.133
2. /usr/bin/spotify



# emerge --info =media-sound/spotify-0.9.0.133
Portage 2.1.11.62 (default/linux/amd64/13.0, gcc-4.7.2, glibc-2.17, 3.7.10-gentoo-heroth-v5 x86_64)
=================================================================
                        System Settings
=================================================================
System uname: Linux-3.7.10-gentoo-heroth-v5-x86_64-Intel-R-_Core-TM-_i7_CPU_Q_740_@_1.73GHz-with-gentoo-2.2
KiB Mem:     8094404 total,   4209560 free
KiB Swap:    4194300 total,   4194300 free
Timestamp of tree: Tue, 07 May 2013 19:45:01 +0000
ld GNU ld (GNU Binutils) 2.23.1
app-shells/bash:          4.2_p45
dev-java/java-config:     2.2.0
dev-lang/python:          2.7.3-r3
dev-util/cmake:           2.8.10.2-r1
dev-util/pkgconfig:       0.28
sys-apps/baselayout:      2.2
sys-apps/openrc:          0.11.8
sys-apps/sandbox:         2.6-r1
sys-devel/autoconf:       2.13, 2.69
sys-devel/automake:       1.11.6, 1.13.1
sys-devel/binutils:       2.23.1
sys-devel/gcc:            4.7.2-r1
sys-devel/gcc-config:     1.8
sys-devel/libtool:        2.4.2
sys-devel/make:           3.82-r4
sys-kernel/linux-headers: 3.8 (virtual/os-headers)
sys-libs/glibc:           2.17
Repositories:

gentoo
    location: /usr/portage
    sync: rsync://rsync1.pl.gentoo.org/gentoo-portage
    priority: -1000

manwe
    location: /usr/portages/layman/manwe
    masters: gentoo
    priority: 0

asux
    location: /usr/portages/layman/asux
    masters: gentoo
    priority: 1

g-ctan
    location: /var/lib/g-ctan
    masters: gentoo
    priority: 2

ABI="amd64"
ABI_X86="64 32"
ACCEPT_KEYWORDS="amd64 ~amd64"
ACCEPT_LICENSE="*"
ACCEPT_PROPERTIES="*"
ALSA_CARDS="usb-audio hda-intel"
ALSA_PCM_PLUGINS="ioplug dmix empty copy rate null route share shm softvol lfloat linear file ioplug extplug"
ANDROID_SWT="/usr/share/swt-4.2/lib"
ANT_HOME="/usr/share/ant"
APACHE2_MODULES=""
ARCH="amd64"
AUTOCLEAN="yes"
BOOTSTRAP_USE="cxx unicode python_targets_python3_2 python_targets_python2_7 multilib"
CALLIGRA_FEATURES=""
CAMERAS=""
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -pipe -march=native -mtune=native"
CFLAGS_amd64="-m64"
CFLAGS_x32="-mx32"
CFLAGS_x86="-m32"
CHOST="x86_64-pc-linux-gnu"
CHOST_amd64="x86_64-pc-linux-gnu"
CHOST_x32="x86_64-pc-linux-gnux32"
CHOST_x86="i686-pc-linux-gnu"
CLEAN_DELAY="5"
COLLECTD_PLUGINS=""
COLLISION_IGNORE="/lib/modules/* *.py[co] *$py.class"
COLORTERM="rxvt"
CONFIG_PROTECT="/etc /usr/share/gnupg/qualified.txt"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/dconf /etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php5.3/ext-active/ /etc/php/apache2-php5.4/ext-active/ /etc/php/cgi-php5.3/ext-active/ /etc/php/cgi-php5.4/ext-active/ /etc/php/cli-php5.3/ext-active/ /etc/php/cli-php5.4/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/splash /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c"
CURL_SSL="gnutls"
CXXFLAGS="-O2 -pipe -march=native -mtune=native"
DEFAULT_ABI="amd64"
DISPLAY=":0.0"
DISTDIR="/usr/portage/distfiles"
EDITOR="/usr/bin/vim"
ELIBC="glibc"
EMERGE_DEFAULT_OPTS="--verbose --ask --tree --keep-going --usepkg --with-bdeps y --jobs 2"
EMERGE_WARNING_DELAY="10"
EPREFIX=""
EROOT="/"
FCFLAGS="-O2 -pipe"
FEATURES="assume-digests binpkg-logs config-protect-if-modified distlocks ebuild-locks fixlafiles merge-sync news parallel-fetch protect-owned sandbox sfperms strict unknown-features-warn unmerge-logs unmerge-orphans userfetch"
FETCHCOMMAND="wget -t 3 -T 60 --passive-ftp -O "${DISTDIR}/${FILE}" "${URI}""
FETCHCOMMAND_RSYNC="rsync -avP "${URI}" "${DISTDIR}/${FILE}""
FETCHCOMMAND_SFTP="bash -c "x=\${2#sftp://} ; host=\${x%%/*} ; port=\${host##*:} ; host=\${host%:*} ; [[ \${host} = \${port} ]] && port=22 ; exec sftp -P \${port} \"\${host}:/\${x#*/}\" \"\$1\"" sftp "${DISTDIR}/${FILE}" "${URI}""
FETCHCOMMAND_SSH="bash -c "x=\${2#ssh://} ; host=\${x%%/*} ; port=\${host##*:} ; host=\${host%:*} ; [[ \${host} = \${port} ]] && port=22 ; exec rsync --rsh=\"ssh -p\${port}\" -avP \"\${host}:/\${x#*/}\" \"\$1\"" rsync "${DISTDIR}/${FILE}" "${URI}""
FFLAGS="-O2 -pipe"
FLTK_DOCDIR="/usr/share/doc/fltk-1.3.2/html"
FOO2ZJS_DEVICES="hp1020"
GCC_SPECS=""
GENTOO_MIRRORS="http://gentoo.po.opole.pl http://gentoo.prz.rzeszow.pl ftp://ftp.eenet.ee/gentoo"
GPSD_PROTOCOLS=""
GRUB_PLATFORMS=""
GSETTINGS_BACKEND="dconf"
GTK2_RC_FILES="/home/manwe/.gtkrc-2.0"
GUILE_LOAD_PATH="/usr/share/guile/1.8"
HISTIGNORE="&:[ ]*:exit"
HISTSIZE="1000"
HOME="/root"
INFOPATH="/usr/share/info:/usr/share/gcc-data/x86_64-pc-linux-gnu/4.7.2/info:/usr/share/binutils-data/x86_64-pc-linux-gnu/2.23.1/info"
INPUT_DEVICES="mouse keyboard synaptics evdev"
IUSE_IMPLICIT="prefix"
JAVAC="/etc/java-config-2/current-system-vm/bin/javac"
JAVA_HOME="/etc/java-config-2/current-system-vm"
JDK_HOME="/etc/java-config-2/current-system-vm"
KERNEL="linux"
LANG="pl_PL"
LANGUAGE="48"
LCD_DEVICES="g15"
LC_ALL="pl_PL"
LDFLAGS="-Wl,--as-needed,-O1"
LDFLAGS_amd64="-m elf_x86_64"
LDFLAGS_x32="-m elf32_x86_64"
LDFLAGS_x86="-m elf_i386"
LESS="-R -M --shift 5"
LESSOPEN="|lesspipe %s"
LIBDIR_amd64="lib64"
LIBDIR_amd64_fbsd="lib64"
LIBDIR_n32="lib32"
LIBDIR_n64="lib64"
LIBDIR_o32="lib"
LIBDIR_ppc="lib32"
LIBDIR_ppc64="lib64"
LIBDIR_s390="lib32"
LIBDIR_s390x="lib64"
LIBDIR_sparc32="lib32"
LIBDIR_sparc64="lib64"
LIBDIR_x32="libx32"
LIBDIR_x86="lib32"
LIBDIR_x86_fbsd="lib32"
LIBREOFFICE_EXTENSIONS=""
LIBXCB_ALLOW_SLOPPY_LOCK="1"
LINGUAS="pl"
LOGNAME="root"
MAKEOPTS="-j5"
MANPATH="/etc/java-config-2/current-system-vm/man:/usr/local/share/man:/usr/share/man:/usr/share/gcc-data/x86_64-pc-linux-gnu/4.7.2/man:/usr/share/binutils-data/x86_64-pc-linux-gnu/2.23.1/man:/etc/java-config-2/current-system-vm/man/:/usr/lib64/php5.3/man/:/usr/lib64/php5.4/man/"
MULTILIB_ABIS="amd64 x86"
MULTILIB_STRICT_DENY="64-bit.*shared object"
MULTILIB_STRICT_DIRS="/lib32 /lib /usr/lib32 /usr/lib /usr/kde/*/lib32 /usr/kde/*/lib /usr/qt/*/lib32 /usr/qt/*/lib /usr/X11R6/lib32 /usr/X11R6/lib"
MULTILIB_STRICT_EXEMPT="(perl5|gcc|gcc-lib|binutils|eclipse-3|debug|portage|udev)"
NETBEANS="apisupport cnd groovy gsf harness ide identity j2ee java mobility nb php profiler soa visualweb webcommon websvccommon xml"
NGINX_MODULES_HTTP="access auth_basic autoindex browser charset empty_gif fastcgi geo gzip limit_req limit_zone map memcached proxy referer rewrite scgi split_clients ssi upstream_ip_hash userid uwsgi addition fancyindex geoip upload upload_progress stub_status enmemcache"
OFFICE_IMPLEMENTATION=""
OOO_FORCE_DESKTOP="gnome"
OPENCL_PROFILE="nvidia"
OPENGL_PROFILE="nvidia"
PAGER="/usr/bin/less"
PATH="/home/manwe/.bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/bin:/home/manwe/.bin:/usr/x86_64-pc-linux-gnu/gcc-bin/4.7.2:/usr/x86_64-pc-linux-gnu/avr/gcc-bin/4.6.3:/opt/vmware/bin:/opt/android-sdk-update-manager/tools:/opt/android-sdk-update-manager/platform-tools:/sbin:/usr/sbin"
PHP_TARGETS="php5-3 php5-4"
PKGDIR="/usr/portage/packages"
PLAYONLINUX="/home/manwe/.PlayOnLinux/playonlinux"
PORTAGE_ARCHLIST="ppc sparc64-freebsd ppc-openbsd x86-openbsd ppc64 x86-winnt x86-fbsd ppc-aix alpha arm x86-freebsd s390 amd64 arm-linux x86-macos x64-openbsd ia64-hpux hppa x86-netbsd ppc64-linux x86-cygwin amd64-linux ia64-linux x86 sparc-solaris x64-freebsd sparc64-solaris x86-linux x64-macos sparc m68k-mint ia64 mips ppc-macos x86-interix hppa-hpux amd64-fbsd x64-solaris m68k sh x86-solaris sparc-fbsd"
PORTAGE_BIN_PATH="/usr/lib64/portage/bin"
PORTAGE_COMPRESS_EXCLUDE_SUFFIXES="css gif htm[l]? jp[e]?g js pdf png"
PORTAGE_CONFIGROOT="/"
PORTAGE_DEBUG="0"
PORTAGE_DEPCACHEDIR="/var/cache/edb/dep"
PORTAGE_ECLASS_WARNING_ENABLE="0"
PORTAGE_ELOG_CLASSES="warn error info log qa"
PORTAGE_ELOG_MAILFROM="portage@localhost"
PORTAGE_ELOG_MAILSUBJECT="[portage] ebuild log for ${PACKAGE} on ${HOST}"
PORTAGE_ELOG_MAILURI="root"
PORTAGE_ELOG_SYSTEM="save"
PORTAGE_FETCH_CHECKSUM_TRY_MIRRORS="5"
PORTAGE_FETCH_RESUME_MIN_SIZE="350K"
PORTAGE_GID="250"
PORTAGE_GPG_SIGNING_COMMAND="gpg --sign --digest-algo SHA256 --clearsign --yes --default-key "${PORTAGE_GPG_KEY}" --homedir "${PORTAGE_GPG_DIR}" "${FILE}""
PORTAGE_INST_GID="0"
PORTAGE_INST_UID="0"
PORTAGE_INTERNAL_CALLER="1"
PORTAGE_IONICE_COMMAND="sh -c "schedtool -D ${PID}; ionice -c 3 -p ${PID}""
PORTAGE_NICENESS="19"
PORTAGE_OVERRIDE_EPREFIX=""
PORTAGE_PYM_PATH="/usr/lib64/portage/pym"
PORTAGE_RSYNC_INITIAL_TIMEOUT="500"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --human-readable --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_RSYNC_RETRIES="-1"
PORTAGE_SYNC_STALE="30"
PORTAGE_TMPDIR="/var/tmp"
PORTAGE_VERBOSE="1"
PORTAGE_WORKDIR_MODE="0700"
PORTAGE_XATTR_EXCLUDE="security.*"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portages/layman/manwe /usr/portages/layman/asux /var/lib/g-ctan"
PORT_LOGDIR="/var/log/portage"
PORT_LOGDIR_CLEAN="find "${PORT_LOGDIR}" -type f ! -name "summary.log*" -mtime +7 -delete"
PRELINK_PATH_MASK="/usr/lib64/klibc:/usr/lib64/libfreebl3.so:/usr/lib64/libnssdbm3.so:/usr/lib64/libsoftokn3.so"
PROFILE_ONLY_VARIABLES="ARCH ELIBC IUSE_IMPLICIT KERNEL USERLAND USE_EXPAND_IMPLICIT USE_EXPAND_UNPREFIXED USE_EXPAND_VALUES_ARCH USE_EXPAND_VALUES_ELIBC USE_EXPAND_VALUES_KERNEL USE_EXPAND_VALUES_USERLAND"
PWD="/root"
PYTHONDONTWRITEBYTECODE="1"
PYTHON_SINGLE_TARGET="python2_7"
PYTHON_TARGETS="python2_7"
QT_GRAPHICSSYSTEM="raster"
RESUMECOMMAND="wget -c -t 3 -T 60 --passive-ftp -O "${DISTDIR}/${FILE}" "${URI}""
RESUMECOMMAND_RSYNC="rsync -avP "${URI}" "${DISTDIR}/${FILE}""
RESUMECOMMAND_SSH="bash -c "x=\${2#ssh://} ; host=\${x%%/*} ; port=\${host##*:} ; host=\${host%:*} ; [[ \${host} = \${port} ]] && port=22 ; exec rsync --rsh=\"ssh -p\${port}\" -avP \"\${host}:/\${x#*/}\" \"\$1\"" rsync "${DISTDIR}/${FILE}" "${URI}""
ROOT="/"
ROOTPATH="/opt/bin:/home/manwe/.bin:/usr/x86_64-pc-linux-gnu/gcc-bin/4.7.2:/usr/x86_64-pc-linux-gnu/avr/gcc-bin/4.6.3:/opt/vmware/bin"
RPMDIR="/usr/portage/rpm"
RUBYOPT="-rauto_gem"
RUBY_TARGETS="ruby19"
SHELL="/bin/bash"
SHLVL="2"
SVN_EDITOR="/usr/bin/subl"
SYMLINK_LIB="yes"
SYNC="rsync://rsync1.pl.gentoo.org/gentoo-portage"
TERM="rxvt"
UNINSTALL_IGNORE="/lib/modules/*"
USE="X a52 aac aalib acpi aiglx alsa amd64 apm bash-completion bcmath berkdb bluetooth bmp branding browserplugin bzip2 calendar cdinstall cdr cleartype crypt cups cxx dbus directfb dvd dvdr dvdread encode fbcon ffmpeg flac ftp gd-exteral gif glut gpm gtk2 ieee1394 jabber javascript jpeg libnotify libwww mmx mozilla mp3 mpd mpeg3 multilib mysql ncurses newspr nls nptl nptlonly nsplugin nvidia ogg opengl pam pdf perl php png readline smp soap spell sse sse2 sse3 sse4_1 ssl ssse3 svg threads tiff truetype truetype-fonts usb userlocales vdpau vim wifi with-x wmf xcomposite xinerama xml xorg xosd xv xvid" ABI_X86="64 32" ALSA_CARDS="usb-audio hda-intel" ALSA_PCM_PLUGINS="ioplug dmix empty copy rate null route share shm softvol lfloat linear file ioplug extplug" CURL_SSL="gnutls" ELIBC="glibc" FOO2ZJS_DEVICES="hp1020" INPUT_DEVICES="mouse keyboard synaptics evdev" KERNEL="linux" LCD_DEVICES="g15" LINGUAS="pl" NGINX_MODULES_HTTP="access auth_basic autoindex browser charset empty_gif fastcgi geo gzip limit_req limit_zone map memcached proxy referer rewrite scgi split_clients ssi upstream_ip_hash userid uwsgi addition fancyindex geoip upload upload_progress stub_status enmemcache" PHP_TARGETS="php5-3 php5-4" PYTHON_SINGLE_TARGET="python2_7" PYTHON_TARGETS="python2_7" RUBY_TARGETS="ruby19" USERLAND="GNU" VIDEO_CARDS="nvidia nv fbdev"
USER="root"
USERLAND="GNU"
USE_EXPAND="ABI_X86 ALSA_CARDS ALSA_PCM_PLUGINS APACHE2_MODULES APACHE2_MPMS CALLIGRA_FEATURES CAMERAS COLLECTD_PLUGINS CROSSCOMPILE_OPTS CURL_SSL DRACUT_MODULES DVB_CARDS ELIBC ENLIGHTENMENT_MODULES FCDSL_CARDS FFTOOLS FOO2ZJS_DEVICES FRITZCAPI_CARDS GPSD_PROTOCOLS GRUB_PLATFORMS INPUT_DEVICES KERNEL LCD_DEVICES LIBREOFFICE_EXTENSIONS LINGUAS LIRC_DEVICES MISDN_CARDS NETBEANS_MODULES NGINX_MODULES_HTTP NGINX_MODULES_MAIL OFED_DRIVERS OFFICE_IMPLEMENTATION OPENMPI_FABRICS OPENMPI_OFED_FEATURES OPENMPI_RM PHP_TARGETS PYTHON_SINGLE_TARGET PYTHON_TARGETS QEMU_SOFTMMU_TARGETS QEMU_USER_TARGETS RUBY_TARGETS SANE_BACKENDS USERLAND VIDEO_CARDS VOICEMAIL_STORAGE XFCE_PLUGINS XTABLES_ADDONS"
USE_EXPAND_HIDDEN="CROSSCOMPILE_OPTS ELIBC KERNEL USERLAND"
USE_EXPAND_IMPLICIT="ARCH ELIBC KERNEL USERLAND"
USE_EXPAND_UNPREFIXED="ARCH"
USE_EXPAND_VALUES_ARCH="alpha amd64 amd64-fbsd amd64-linux arm arm-linux hppa hppa-hpux ia64 ia64-hpux ia64-linux m68k m68k-mint mips ppc ppc64 ppc64-linux ppc-aix ppc-macos ppc-openbsd s390 sh sparc sparc64-freebsd sparc64-solaris sparc-fbsd sparc-solaris x64-freebsd x64-macos x64-openbsd x64-solaris x86 x86-cygwin x86-fbsd x86-freebsd x86-interix x86-linux x86-macos x86-netbsd x86-openbsd x86-solaris x86-winnt"
USE_EXPAND_VALUES_ELIBC="AIX Cygwin Darwin FreeBSD glibc HPUX Interix mintlib NetBSD OpenBSD SunOS uclibc Winnt"
USE_EXPAND_VALUES_KERNEL="AIX Cygwin Darwin FreeBSD freemint HPUX Interix linux NetBSD OpenBSD SunOS Winnt"
USE_EXPAND_VALUES_USERLAND="BSD GNU"
USE_ORDER="env:pkg:conf:defaults:pkginternal:repo:env.d"
VBOX_APP_HOME="/opt/VirtualBox"
VIDEO_CARDS="nvidia nv fbdev"
WANT_MP="true"
XAUTHORITY="/root/.xauth6KxP76"
XDG_CONFIG_DIRS="/etc/xdg"
XDG_DATA_DIRS="/usr/local/share:/usr/share"
XTABLES_ADDONS=""

=================================================================
                        Package Settings
=================================================================

media-sound/spotify-0.9.0.133 was built with the following:
USE="(multilib) -gnome -pax_kernel -pulseaudio" ABI_X86="64"




Comment 1


Matthew Thode ( prometheanfire )









          2013-05-08 14:29:40 UTC
        

There's a lock file somewhere, let me see if I can find it :|




Comment 2


manwe





          2013-05-08 14:48:26 UTC
        

I have tmpfs mounted in /tmp and /var/tmp so definitely not there. Also removing $HOME/.config/spotify doesn't help.




Comment 3


selckin





          2013-05-13 07:34:47 UTC
        

same issue with recent ~amd64 

removing /opt/spotify/spotify-client/libcef.so from LD_PRELOAD makes it startup, but then crashed on playing a song




Comment 4


selckin





          2013-05-13 07:43:30 UTC
        

downgrading too '=nss-3.14.1' and '=dev-libs/nspr-4.9.4' makes it startup again with preload in spotify runscript, but still crashing on playback trying older versions




Comment 5


Matthew Thode ( prometheanfire )









          2013-05-17 15:07:20 UTC
        

What's the ldd of '/opt/spotify/spotify-client/libcef.so' give you?




Comment 6


manwe





          2013-05-18 13:23:37 UTC
        

Good shot :)

# ldd /opt/spotify/spotify-client/libcef.so
        linux-vdso.so.1 (0x00007fff727ff000)
        libgtk-x11-2.0.so.0 => /usr/lib64/libgtk-x11-2.0.so.0 (0x00007f3e0f87c000)
        libgdk-x11-2.0.so.0 => /usr/lib64/libgdk-x11-2.0.so.0 (0x00007f3e0f5c8000)
        libgdk_pixbuf-2.0.so.0 => /usr/lib64/libgdk_pixbuf-2.0.so.0 (0x00007f3e0f3a7000)
        libpangocairo-1.0.so.0 => /usr/lib64/libpangocairo-1.0.so.0 (0x00007f3e0f19a000)
        libcairo.so.2 => /usr/lib64/libcairo.so.2 (0x00007f3e0ee94000)
        libpango-1.0.so.0 => /usr/lib64/libpango-1.0.so.0 (0x00007f3e0ec47000)
        libfreetype.so.6 => /usr/lib64/libfreetype.so.6 (0x00007f3e0e9ab000)
        libfontconfig.so.1 => /usr/lib64/libfontconfig.so.1 (0x00007f3e0e770000)
        libgobject-2.0.so.0 => /usr/lib64/libgobject-2.0.so.0 (0x00007f3e0e51f000)
        librt.so.1 => /lib64/librt.so.1 (0x00007f3e0e317000)
        libglib-2.0.so.0 => /usr/lib64/libglib-2.0.so.0 (0x00007f3e0dff2000)
        libX11.so.6 => /usr/lib64/libX11.so.6 (0x00007f3e0dcb5000)
        libXrandr.so.2 => /usr/lib64/libXrandr.so.2 (0x00007f3e0daab000)
        libdl.so.2 => /lib64/libdl.so.2 (0x00007f3e0d8a7000)
        libXi.so.6 => /usr/lib64/libXi.so.6 (0x00007f3e0d696000)
        libnss3.so.12 => /usr/lib64/libnss3.so.12 (0x00007f3e0d359000)
        libnssutil3.so.12 => /usr/lib64/libnssutil3.so.12 (0x00007f3e0d12d000)
        libsmime3.so.12 => /usr/lib64/libsmime3.so.12 (0x00007f3e0ceff000)
        libplc4.so.9 => not found
        libnspr4.so.9 => not found
        libpthread.so.0 => /lib64/libpthread.so.0 (0x00007f3e0cce1000)
        libgconf-2.so.4 => /usr/lib64/libgconf-2.so.4 (0x00007f3e0caaf000)
        libresolv.so.2 => /lib64/libresolv.so.2 (0x00007f3e0c898000)
        libdbus-1.so.3 => /usr/lib64/libdbus-1.so.3 (0x00007f3e0c65a000)
        libcups.so.2 => /usr/lib64/libcups.so.2 (0x00007f3e0c3f9000)
        libgcrypt.so.11 => /usr/lib64/libgcrypt.so.11 (0x00007f3e0c17a000)
        libXrender.so.1 => /usr/lib64/libXrender.so.1 (0x00007f3e0bf6f000)
        libXext.so.6 => /usr/lib64/libXext.so.6 (0x00007f3e0bd5d000)
        libXfixes.so.3 => /usr/lib64/libXfixes.so.3 (0x00007f3e0bb57000)
        libXcomposite.so.1 => /usr/lib64/libXcomposite.so.1 (0x00007f3e0b953000)
        libasound.so.2 => /usr/lib64/libasound.so.2 (0x00007f3e0b671000)
        libstdc++.so.6 => /usr/lib/gcc/x86_64-pc-linux-gnu/4.7.2/libstdc++.so.6 (0x00007f3e0b36b000)
        libm.so.6 => /lib64/libm.so.6 (0x00007f3e0b06d000)
        libgcc_s.so.1 => /usr/lib/gcc/x86_64-pc-linux-gnu/4.7.2/libgcc_s.so.1 (0x00007f3e0ae57000)
        libc.so.6 => /lib64/libc.so.6 (0x00007f3e0aaac000)
        libXinerama.so.1 => /usr/lib64/libXinerama.so.1 (0x00007f3e0a8a8000)
        libXcursor.so.1 => /usr/lib64/libXcursor.so.1 (0x00007f3e0a69d000)
        libgmodule-2.0.so.0 => /usr/lib64/libgmodule-2.0.so.0 (0x00007f3e0a499000)
        libXdamage.so.1 => /usr/lib64/libXdamage.so.1 (0x00007f3e0a295000)
        libatk-1.0.so.0 => /usr/lib64/libatk-1.0.so.0 (0x00007f3e0a071000)
        libgio-2.0.so.0 => /usr/lib64/libgio-2.0.so.0 (0x00007f3e09d1c000)
        libpangoft2-1.0.so.0 => /usr/lib64/libpangoft2-1.0.so.0 (0x00007f3e09b06000)
        libz.so.1 => /lib64/libz.so.1 (0x00007f3e098f0000)
        libbz2.so.1 => /lib64/libbz2.so.1 (0x00007f3e096e0000)
        libpng16.so.16 => /usr/lib64/libpng16.so.16 (0x00007f3e094a9000)
        libharfbuzz.so.0 => /usr/lib64/libharfbuzz.so.0 (0x00007f3e0920d000)
        libpixman-1.so.0 => /usr/lib64/libpixman-1.so.0 (0x00007f3e08f71000)
        libEGL.so.1 => /usr/lib64/libEGL.so.1 (0x00007f3e08d51000)
        libdirectfb-1.6.so.0 => /usr/lib64/libdirectfb-1.6.so.0 (0x00007f3e08a4d000)
        libfusion-1.6.so.0 => /usr/lib64/libfusion-1.6.so.0 (0x00007f3e0883d000)
        libdirect-1.6.so.0 => /usr/lib64/libdirect-1.6.so.0 (0x00007f3e0861b000)
        libGL.so.1 => /usr/lib64/libGL.so.1 (0x00007f3e082ed000)
        libexpat.so.1 => /usr/lib64/libexpat.so.1 (0x00007f3e080c1000)
        libgthread-2.0.so.0 => /usr/lib64/libgthread-2.0.so.0 (0x00007f3e07ebf000)
        libffi.so.6 => /usr/lib64/libffi.so.6 (0x00007f3e07cb7000)
        libxcb.so.1 => /usr/lib64/libxcb.so.1 (0x00007f3e07a95000)
        /lib64/ld-linux-x86-64.so.2 (0x00007f3e13377000)
        libplc4.so => /usr/lib64/libplc4.so (0x00007f3e07890000)
        libplds4.so => /usr/lib64/libplds4.so (0x00007f3e0768b000)
        libnspr4.so => /usr/lib64/libnspr4.so (0x00007f3e0744c000)
        libdbus-glib-1.so.2 => /usr/lib64/libdbus-glib-1.so.2 (0x00007f3e07224000)
        libgnutls.so.28 => /usr/lib64/libgnutls.so.28 (0x00007f3e06f16000)
        libgpg-error.so.0 => /usr/lib64/libgpg-error.so.0 (0x00007f3e06d11000)
        libgraphite2.so.3 => /usr/lib64/libgraphite2.so.3 (0x00007f3e06af3000)
        libicule.so.51 => /usr/lib64/libicule.so.51 (0x00007f3e068a7000)
        libicuuc.so.51 => /usr/lib64/libicuuc.so.51 (0x00007f3e06530000)
        libicudata.so.51 => /usr/lib64/libicudata.so.51 (0x00007f3e04de6000)
        libX11-xcb.so.1 => /usr/lib64/libX11-xcb.so.1 (0x00007f3e04be4000)
        libxcb-dri2.so.0 => /usr/lib64/libxcb-dri2.so.0 (0x00007f3e049de000)
        libxcb-xfixes.so.0 => /usr/lib64/libxcb-xfixes.so.0 (0x00007f3e047d7000)
        libxcb-render.so.0 => /usr/lib64/libxcb-render.so.0 (0x00007f3e045cd000)
        libxcb-shape.so.0 => /usr/lib64/libxcb-shape.so.0 (0x00007f3e043c8000)
        libgbm.so.1 => /usr/lib64/libgbm.so.1 (0x00007f3e041c2000)
        libglapi.so.0 => /usr/lib64/libglapi.so.0 (0x00007f3e03f9c000)
        libudev.so.1 => /lib64/libudev.so.1 (0x00007f3e03d89000)
        libdrm.so.2 => /usr/lib64/libdrm.so.2 (0x00007f3e03b7d000)
        libnvidia-tls.so.319.17 => /usr/lib64/libnvidia-tls.so.319.17 (0x00007f3e03979000)
        libnvidia-glcore.so.319.17 => /usr/lib64/libnvidia-glcore.so.319.17 (0x00007f3e01424000)
        libXau.so.6 => /usr/lib64/libXau.so.6 (0x00007f3e01220000)
        libXdmcp.so.6 => /usr/lib64/libXdmcp.so.6 (0x00007f3e01019000)
        libnettle.so.4 => /usr/lib64/libnettle.so.4 (0x00007f3e00de8000)
        libhogweed.so.2 => /usr/lib64/libhogweed.so.2 (0x00007f3e00bb9000)
        libgmp.so.10 => /usr/lib64/libgmp.so.10 (0x00007f3e00942000)



So looks like dev-libs/nspr (I have 4.9.6) doesn't create .so.9 symlinks, I had only .so files. After creating .so.9 -> .so spotify starts, but there seems to be some kind of problem related do displaying albums. 

When I go to "radio", select one from "Recommended stations" music start to play, but main display box (with album cover) is half-way locked. Doesn't change covers, doesn't react to clicks (play/pause), I cannot like/dislike anything. Controls from left-bottom corner (prev/play/next) are working fine. 

Messages after selecting "radio" panel:
13:22:03.898 I [ApplicationPage.cpp:154         ] Keeping application home alive for 60000 ms.
13:22:03.920 I [AppManager.cpp:239              ] Creating instance of the application radio.
(spotify:13730): GLib-GObject-WARNING **: invalid cast from `GtkFixed' to `GtkBox'
(spotify:13730): Gtk-CRITICAL **: gtk_box_pack: assertion `GTK_IS_BOX (box)' failed
13:22:04.017 I [MainView.cpp:7106               ] Load complete (0) url: sp://1315e58fdcb8374bbf825871125b94c9a086320c.radio/index.html
13:22:12.566 I [index.html:1                    ] Uncaught SyntaxError: Unexpected number
13:22:16.607 E [watchdog.cpp:198                ] High-latency (gui, 3349)




Comment 7


Matthew Thode ( prometheanfire )









          2013-05-20 15:48:46 UTC
        

Can you test the radio stuff with nspr-4.9.5 as it works for me?




Comment 8


selckin





          2013-05-21 10:00:17 UTC
        

everything works for me with =dev-libs/nspr-4.9.5 && =dev-libs/nss-3.14.3




Comment 9


Matthew Thode ( prometheanfire )









          2013-05-21 10:02:41 UTC
        

ya, may have to just set a max dep on it.




Comment 10


manwe





          2013-05-21 11:10:12 UTC
        

(In reply to comment #7)
> Can you test the radio stuff with nspr-4.9.5 as it works for me?

No. With nspr-4.9.5 and nss-3.14.3 I still have this radio issues. Afaik this whole album/buttons stuff is showed using webkit (qtwebkit), maybe it's problem with it.




Comment 11


Matthew Thode ( prometheanfire )









          2013-07-03 19:09:54 UTC
        

are you still having the issue, if you fixed it, how?




Comment 12


manwe





          2013-07-06 17:11:42 UTC
        

Yeah, still have it. Spotify starts with =dev-libs/nspr-4.9.5 and =dev-libs/nss-3.14.3, but interface is problematic. To be honest I don't use it anymore, I've switched to https://play.spotify.com/. I had no time for this so-called application, which is only an interface to the same website.




Comment 13


Matthew Thode ( prometheanfire )









          2013-08-02 15:06:50 UTC
        

I've found that running spotify like this 'solves it'.  Let me know if it helps

dbus-launch spotify




Comment 14


Matthew Thode ( prometheanfire )









          2013-08-05 19:04:57 UTC
        

ok, add this to your xinitrc (or just start it at login, however you do that with whatever you are using as a WM).

eval $(dbus-launch --auto-syntax)




Comment 15


selckin





          2013-08-14 07:29:51 UTC
        

dbus too the rescue, maybe add a einfo or something with this information?


einfo 'If on startup you receive the error: "Spotify is already running", '
einfo 'try running it under dbus-launch: # dbus-launch spotify'









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

