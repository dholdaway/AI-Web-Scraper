Title: 141767 – media-libs/freetype Possible incomplete fix CVE-2006-1861 (CVE-2006-3467)
URL: https://bugs.gentoo.org/show_bug.cgi?id=141767

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 141767
media-libs/freetype Possible incomplete fix CVE-2006-1861 (CVE-2006-3467)
Last modified: 2006-09-06 04:17:25 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 141767 
      - media-libs/freetype Possible incomplete fix CVE-2006-1861 (CVE-2006-3467)


Summary:
media-libs/freetype Possible incomplete fix CVE-2006-1861 (CVE-2006-3467)
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Security




Classification:

Unclassified




Component:

Auditing

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Security








URL:



http://cve.mitre.org/cgi-bin/cvename....
        




Whiteboard:
B3? [ebuild?] jaervosz  
  


Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-07-26 02:23 UTC by Sune Kloppenborg Jeppesen (RETIRED)





      Modified:
    
2006-09-06 04:17 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



fonts









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




fix for CVE 2006 3467

              (freetype-2.1.10-CVE-2006-3467.patch,1.01 KB,
                patch)

            
2006-07-31 08:28 UTC,

            foser (RETIRED)




Details
            | Diff





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Sune Kloppenborg Jeppesen (RETIRED)






          2006-07-26 02:23:49 UTC
        

Seems like the following bad font file is still an issue: http://scary.beasts.org/misc/bad1.pcf




Comment 1


Sune Kloppenborg Jeppesen (RETIRED)






          2006-07-26 02:25:07 UTC
        

Marinus please advise.




Comment 2


Sune Kloppenborg Jeppesen (RETIRED)






          2006-07-26 02:27:30 UTC
        

Ok, this is already public :-)

Integer overflow in FreeType before 2.2 allows remote attackers to cause a denial of service (crash) and possibly execute arbitrary code via unknown vectors, as demonstrated by the Red Hat bad1.pcf test file, due to a partial fix of CVE-2006-1861.




Comment 3


foser (RETIRED)






          2006-07-31 08:28:34 UTC
        

Created attachment 93124 [details, diff]
fix for CVE 2006 3467

If I add the supposed fix to 2.1.10 I still get crashes with the font attached to this bug. Can someone please confirm this ?




Comment 4


Thierry Carrez (RETIRED)






          2006-08-12 07:47:40 UTC
        

Setting to Auditing for a patch review.
Tavis, could you have a look ?




Comment 5


Tim Yamin (RETIRED)






          2006-08-13 11:46:07 UTC
        

(In reply to comment #3)
> Created an attachment (id=93124) [edit]
> fix for CVE 2006 3467
> 
> If I add the supposed fix to 2.1.10 I still get crashes with the font attached
> to this bug. Can someone please confirm this ?

foser, how are you testing? I used the supplied patch and after a rebuild of 2.1.10-r1 with the patch it no longer goes boom:

plasmaroo /tmp $ ./ftcrash ./bad1.pcf
error: 2
ftcrash: moo.c:34: main: Assertion `error == 0' failed.
Aborted




Comment 6


foser (RETIRED)






          2006-08-14 06:26:20 UTC
        

I just drop the font in my ~/.fonts dir. Starting any GUI app afterwards results in a segfault.




Comment 7


Sune Kloppenborg Jeppesen (RETIRED)






          2006-08-19 09:23:59 UTC
        

plasmaroo did you get a chance to test it again?




Comment 8


Tim Yamin (RETIRED)






          2006-08-19 09:26:09 UTC
        

(In reply to comment #7)
> plasmaroo did you get a chance to test it again?

Yeah, I think foser isn't patching his freetype correctly or something is compiled with a static older version somewhere... It definitely fixes the bug for me.




Comment 9


foser (RETIRED)






          2006-08-30 12:22:00 UTC
        

Sorry for my slow update.

I'm patching fine and im certain I have no older versions lying around. I have been dealing with fc/ft for a long time, i know the pitfalls.

The only thing I can think of is gcc/glibc issues, but I don't see them anywhere else. So I would like to see more confirmation to be sure it's not a local problem.




Comment 10


Tavis Ormandy (RETIRED)






          2006-09-06 04:17:25 UTC
        

marking WFM, the patch looks good to me, and I cant recreate the issue.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

