Title: 113124 – depclean should not remove gnutls
URL: https://bugs.gentoo.org/show_bug.cgi?id=113124

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 113124
depclean should not remove gnutls
Last modified: 2006-03-02 10:31:27 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 113124 
      - depclean should not remove gnutls


Summary:
depclean should not remove gnutls
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Portage Development




Classification:

Unclassified




Component:

Core - Dependencies

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Portage team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-11-20 16:32 UTC by Carlos Eduardo Santos





      Modified:
    
2006-03-02 10:31 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Output of emerge -pd depclean

              (emerge-pd_depclean.out.bz2,27.70 KB,
                application/octet-stream)

            
2005-12-02 15:18 UTC,

            Carlos Eduardo Santos




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Carlos Eduardo Santos





          2005-11-20 16:32:48 UTC
        

emerge depclean removes gnutls, and emerge -uDN world installs it again, and
then depclean removes it, and so on...

Reproducible: Always
Steps to Reproduce:
1.emerge depclean
2.emerge -uDN world

Actual Results:  
1. gnutls is uninstalled
2. gnutls is installed again

Expected Results:  
It should not be uninstalled by depclean because some apps use gnutls.

# equery depends gnut
[ Searching for packages depending on gnutls... ]
gnome-base/gnome-vfs-2.10.1-r2
net-im/gaim-1.5.0
net-libs/libsoup-2.2.6.1
net-misc/curl-7.15.0
# equery uses gaim
[ Found these USE variables for net-im/gaim-1.5.0 ]
 U I
 + + nls    : <unknown>
 + + perl   : Adds support/bindings for the Perl language.
 - - spell  : Adds dictionary support
 - - nas    : Adds support for network audio sound
 - - cjk    : Adds support for Multi-byte character languages (Chinese,
Japanese, Korean)
 - - gnutls : Adds support for net-libs/gnutls
etc...
# emerge info
Portage 2.0.51.22-r3 (default-linux/x86/2005.0, gcc-3.3.6, glibc-2.3.5-r2,
2.6.14-gentoo-r2 i686)
=================================================================
System uname: 2.6.14-gentoo-r2 i686 AMD Athlon(tm) XP 2600+
Gentoo Base System version 1.6.13
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
ccache version 2.3 [enabled]
dev-lang/python:     2.3.5-r2, 2.4.2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.15.92.0.2-r10
sys-devel/libtool:   1.5.20
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=athlon-xp -O3 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.3/env
/usr/kde/3.3/share/config /usr/kde/3.3/shutdown /usr/kde/3.4/env
/usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/share/config /usr/share/texmf/dvipdfm/config/
/usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/
/usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/ /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-march=athlon-xp -O3 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig candy ccache distlocks fixpackages sandbox sfperms strict"
GENTOO_MIRRORS="ftp://ftp.las.ic.unicamp.br/pub/gentoo/
http://www.las.ic.unicamp.br/pub/gentoo/"
LANG="en_US.UTF-8"
LC_ALL="en_US.UTF-8"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.samerica.gentoo.org/gentoo-portage"
USE="x86 3dnow 3dnowext 7zip X apache2 audiofile avi bash-completion berkdb
bitmap-fonts bluetooth bonobo bzip2 bzlib cddb cdr crypt cups curl divx4linux
dts dvd dvdr emboss esd ethereal exif expat fam ffmpeg firefox flac foomaticdb
fortran gd gdbm gif glut gmp gphoto2 gpm gstreamer gtk gtk2 gtkhtml guile idn
imagemagick imlib innodb java javascript jpeg jpeg2k junit kdeenablefinal lcms
libg++ libwww logrotate mad mmx mmx2 mmxext mng motif mp3 mpeg msn mysql ncurses
nls nptl nvidia offensive ogg oggvorbis opengl oscar pam pcre pdflib perl php
png python quicktime readline rtc ruby samba sasl sdl slang sqlite sse ssl tcpd
tetex threads tiff truetype truetype-fonts type1-fonts udev unicode usb v4l v4l2
vhosts vorbis win32codecs xine xinerama xml xml2 xmms xosd xprint xvv xvid yv12
zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LDFLAGS, LINGUAS, MAKEOPTS, PORTDIR_OVERLAY




Comment 1


Carlos Eduardo Santos





          2005-11-20 16:34:28 UTC
        

# equery depends gnut
was wrongly typed. The correct is:
# equery depends gnutls




Comment 2


Zac Medico






          2005-11-21 08:58:10 UTC
        

This seems like a duplicate of bug 67179.  Would you please attach the output of
`emerge -pd depclean`?




Comment 3


Carlos Eduardo Santos





          2005-12-02 15:18:27 UTC
        

Created attachment 73957 [details]
Output of emerge -pd depclean




Comment 4


Carlos Eduardo Santos





          2006-03-02 10:31:27 UTC
        

gnutls is not shown in "emerge -p depclean" anymore.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

