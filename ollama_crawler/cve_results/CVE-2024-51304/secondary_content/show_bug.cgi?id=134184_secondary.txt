Title: 134184 – bootstrapping does not continue with bootstrap.sh -v
URL: https://bugs.gentoo.org/show_bug.cgi?id=134184

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 134184
bootstrapping does not continue with bootstrap.sh -v
Last modified: 2006-05-25 19:06:33 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 134184 
      - bootstrapping does not continue with bootstrap.sh -v


Summary:
bootstrapping does not continue with bootstrap.sh -v
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Portage Development




Classification:

Unclassified




Component:

Core - Interface (emerge)

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       trivial
      


Assignee:

Portage team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-05-24 03:30 UTC by Werner Jansen





      Modified:
    
2006-05-25 19:06 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Werner Jansen





          2006-05-24 03:30:20 UTC
        

I did a stage1 install last night. Due to my own stupidity, I forgot to copy /etc/resolv.conf into the chroot. /usr/portage was mounted from my file server via NFS. 

This is what I did:

emerge metadata
cd /usr/portage
scripts/bootstrap.sh -v

The last command failed while trying to download some code into /usr/portage/distfiles that wasn't on my file server yet. Since /etc/resolv.conf was missing, it couldn't resolve host names for downloading.

I fixed this and started bootstrap again. It recognized that it failed last time and continued from where it stopped.
I got this error message (typing out of my memory)
--resume cannot be used with -v

So, next try: starting bootstrap.sh without -v
Message: bootstrap was completed, if you really want to run it, it will start from the beginning. So I had to boostrap from scratch.

So, bootstrap (and portage?) do not act as expected when using "-v". The use of -v is not marked als discouraged as far as I know.

Expected behaviour would be that bootstrap can continue even if "-v" is used at the command line. Perhaps it should filter it out, giving a warning about -v and --resume?




Comment 1


Chris Gianelloni (RETIRED)






          2006-05-24 08:49:19 UTC
        

There's no message like that "--resume cannot be used with -v" in bootstrap.sh anywhere.  This must be something in portage.




Comment 2


Zac Medico






          2006-05-24 14:59:44 UTC
        

The "--resume cannot be used with -v" limitation is only in portage 2.0.x (fixed a few weeks ago in the 2.1 branch).




Comment 3


Alec Warner (RETIRED)








          2006-05-25 19:06:33 UTC
        

Fixed in rc portage, no time to really backport it to 2.0









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

