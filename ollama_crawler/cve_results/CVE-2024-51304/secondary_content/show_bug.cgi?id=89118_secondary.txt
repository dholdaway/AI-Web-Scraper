Title: 89118 – cdrdao will not compile due to undefined references in STL library.
URL: https://bugs.gentoo.org/show_bug.cgi?id=89118

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 89118
cdrdao will not compile due to undefined references in STL library.
Last modified: 2005-06-10 09:20:38 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 89118 
      - cdrdao will not compile due to undefined references in STL library.


Summary:
cdrdao will not compile due to undefined references in STL library.
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Optical Media project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-04-14 12:03 UTC by Jason LeBrun





      Modified:
    
2005-06-10 09:20 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Jason LeBrun





          2005-04-14 12:03:39 UTC
        

When I try to emerge cdrdao, I get the following error (I've included the compilation command that generates it):


i686-pc-linux-gnu-g++ -DXTHREADS -D_REENTRANT -DXUSE_MTSAFE_API -I/usr/include/gtkmm-2.0 -I/usr/lib/gtkmm-2.0/include -I/usr/include/gtk-2.0 -I/usr/lib/sigc++-1.2/include -I/usr/include/sigc++-1.2 -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include -I/usr/lib/gtk-2.0/include -I/usr/include/pango-1.0 -I/usr/include/freetype2 -I/usr/include/freetype2/config -I/usr/include/atk-1.0   -DXTHREADS -D_REENTRANT -DXUSE_MTSAFE_API -DORBIT2=1 -pthread -I/usr/include/libgnomeuimm-2.0 -I/usr/lib/libgnomeuimm-2.0/include -I/usr/include/libgnomemm-2.0 -I/usr/lib/libgnomemm-2.0/include -I/usr/include/libgnomecanvasmm-2.0 -I/usr/lib/libgnomecanvasmm-2.0/include -I/usr/include/gconfmm-2.0 -I/usr/lib/gconfmm-2.0/include -I/usr/include/libglademm-2.0 -I/usr/lib/libglademm-2.0/include -I/usr/include/libgnomeui-2.0 -I/usr/include/gtkmm-2.0 -I/usr/lib/gtkmm-2.0/include -I/usr/include/libgnome-2.0 -I/usr/include/gtk-2.0 -I/usr/lib/sigc++-1.2/include -I/usr/include/sigc++-1.2 -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include -I/usr/lib/gtk-2.0/include -I/usr/include/pango-1.0 -I/usr/include/freetype2 -I/usr/include/freetype2/config -I/usr/include/atk-1.0 -I/usr/include/orbit-2.0 -I/usr/include/libbonobo-2.0 -I/usr/include/gconf/2 -I/usr/include/gnome-vfs-2.0 -I/usr/lib/gnome-vfs-2.0/include -I/usr/include/bonobo-activation-2.0 -I/usr/include/libgnomecanvas-2.0 -I/usr/include/libart-2.0 -I/usr/include/libglade-2.0 -I/usr/include/libxml2 -I/usr/include/libbonoboui-2.0   -march=pentium3 -mfpmath=sse -O3 -mmmx -msse -msse2 -pipe -fomit-frame-pointer -fprefetch-loop-arrays   -o gcdmaster  AddFileDialog.o AddSilenceDialog.o AudioCDChild.o AudioCDProject.o AudioCDView.o BlankCDDialog.o CdDevice.o CdTextDialog.o DeviceConfDialog.o DeviceList.o DumpCDProject.o DuplicateCDProject.o gcdmaster.o GenericChild.o GenericView.o guiUpdate.o Icons.o MessageBox.o ProcessMonitor.o ProgressDialog.o Project.o ProjectChooser.o RecordCDSource.o RecordCDTarget.o RecordHDTarget.o RecordTocDialog.o RecordTocSource.o SampleDisplay.o SampleManager.o Settings.o TextEdit.o TocEdit.o TocEditView.o TocInfoDialog.o TrackDataScrap.o TrackInfoDialog.o TrackManager.o xcdrdao.o SoundIF-linux.o -L../dao -ldao -L../paranoia -lcdda_paranoia -L../trackdb -ltrackdb -L../scsilib/export -lscg -lschily -Wl,--export-dynamic -pthread -lgnomeuimm-2.0 -lgnomemm-2.0 -lgnomecanvasmm-2.0 -lgconfmm-2.0 -lglademm-2.0 -lgnomeui-2 -lSM -lICE -lgtkmm-2.0 -lglade-2.0 -lgdkmm-2.0 -latkmm-1.0 -lpangomm-1.0 -lglibmm-2.0 -lsigc-1.2 -lbonoboui-2 -lxml2 -lpthread -lz -lgnomecanvas-2 -lgnome-2 -lpopt -lart_lgpl_2 -lpangoft2-1.0 -lgtk-x11-2.0 -lgdk-x11-2.0 -latk-1.0 -lgdk_pixbuf-2.0 -lpangoxft-1.0 -lpangox-1.0 -lpango-1.0 -lgobject-2.0 -lgnomevfs-2 -lbonobo-2 -lgconf-2 -lbonobo-activation -lORBit-2 -lm -lgmodule-2.0 -ldl -lgthread-2.0 -lglib-2.0   -Wl,--export-dynamic -lgtkmm-2.0 -lgdkmm-2.0 -latkmm-1.0 -lgtk-x11-2.0 -lpangomm-1.0 -lglibmm-2.0 -lsigc-1.2 -lgdk-x11-2.0 -latk-1.0 -lgdk_pixbuf-2.0 -lm -lpangoxft-1.0 -lpangox-1.0 -lpango-1.0 -lgobject-2.0 -lgmodule-2.0 -ldl -lglib-2.0   -lnsl
/usr/lib/gcc/i686-pc-linux-gnu/3.4.3-20050110/../../../libglademm-2.0.so: undefined reference to `std::__default_alloc_template<true, 0>::allocate(unsigned int)'
/usr/lib/gcc/i686-pc-linux-gnu/3.4.3-20050110/../../../libglademm-2.0.so: undefined reference to `std::basic_string<char, std::char_traits<char>, std::allocator<char> >::_S_empty_rep_storage'
/usr/lib/gcc/i686-pc-linux-gnu/3.4.3-20050110/../../../libglademm-2.0.so: undefined reference to `std::__default_alloc_template<true, 0>::deallocate(void*, unsigned int)'
collect2: ld returned 1 exit status
make[3]: *** [gcdmaster] Error 1
make[3]: Leaving directory `/var/tmp/portage/cdrdao-1.1.9-r2/work/cdrdao-1.1.9/xdao'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/var/tmp/portage/cdrdao-1.1.9-r2/work/cdrdao-1.1.9/xdao'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/cdrdao-1.1.9-r2/work/cdrdao-1.1.9'
make: *** [all] Error 2





Reproducible: Always
Steps to Reproduce:
1. emerge cdrdao
2.
3.

Actual Results:  
The build aborts during link stage of gcdmaster (see notes above)

Expected Results:  
It should have compiled successfully.


Emerge info:
Portage 2.0.51.19 (default-linux/x86/2005.0, gcc-3.4.3-20050110,
glibc-2.3.4.20050125-r1, 2.6.11-gentoo-r4 i686)
=================================================================
System uname: 2.6.11-gentoo-r4 i686 Intel(R) Pentium(R) M processor 1400MHz
Gentoo Base System version 1.6.10
Python:              dev-lang/python-2.3.5 [2.3.5 (#1, Feb 27 2005, 02:22:41)]
dev-lang/python:     2.3.5
sys-devel/autoconf:  2.59-r6, 2.13
sys-devel/automake:  1.7.9-r1, 1.8.5-r3, 1.5, 1.4_p6, 1.6.3, 1.9.5
sys-devel/binutils:  2.15.92.0.2-r8
sys-devel/libtool:   1.5.14
virtual/os-headers:  2.6.8.1-r4
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CFLAGS="-march=pentium3 -mfpmath=sse -O3 -mmmx -msse -msse2 -pipe
-fomit-frame-pointer -fprefetch-loop-arrays"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.3/env
/usr/kde/3.3/share/config /usr/kde/3.3/shutdown /usr/kde/3.4/env
/usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/texmf/web2c /etc/env.d"
CXXFLAGS="-march=pentium3 -mfpmath=sse -O3 -mmmx -msse -msse2 -pipe
-fomit-frame-pointer -fprefetch-loop-arrays"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig ccache distlocks sandbox sfperms"
GENTOO_MIRRORS="http://distfiles.gentoo.org
http://distro.ibiblio.org/pub/Linux/distributions/gentoo"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X acl acpi alsa avi berkdb bitmap-fonts bonobo cdr crypt cscope cups curl
doc dvd emboss encode fam flac foomaticdb fortran gd gdbm ggi gif gmail gnome
gnome2 gpm gstreamer gtk gtk2 gtkhtml guile imagemagick imlib ipv6 jack java
jikes joystick jpeg junit ldap libg++ libwww mad mikmod mmx mmx2 motif mp3 mpeg
mysql ncurses net nls nntp nptl ogg oggvorbis opengl oss pam pda pdflib perl png
python qt quicktime readline ruby samba sdl slang spell sqlite sse ssl svga
tcltk tcpd tetex tiff truetype truetype-fonts type1-fonts unicode usb vorbis x86
xinerama xml xml2 xmms xosd xv zlib video_cards_radeon"
Unset:  ASFLAGS, CBUILD, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTDIR_OVERLAY

i686-pc-linux-gnu-g++ -DXTHREADS -D_REENTRANT -DXUSE_MTSAFE_API
-I/usr/include/gtkmm-2.0 -I/usr/lib/gtkmm-2.0/include -I/usr/include/gtk-2.0
-I/usr/lib/sigc++-1.2/include -I/usr/include/sigc++-1.2 -I/usr/include/glib-2.0
-I/usr/lib/glib-2.0/include -I/usr/lib/gtk-2.0/include -I/usr/include/pango-1.0
-I/usr/include/freetype2 -I/usr/include/freetype2/config -I/usr/include/atk-1.0
  -DXTHREADS -D_REENTRANT -DXUSE_MTSAFE_API -DORBIT2=1 -pthread
-I/usr/include/libgnomeuimm-2.0 -I/usr/lib/libgnomeuimm-2.0/include
-I/usr/include/libgnomemm-2.0 -I/usr/lib/libgnomemm-2.0/include
-I/usr/include/libgnomecanvasmm-2.0 -I/usr/lib/libgnomecanvasmm-2.0/include
-I/usr/include/gconfmm-2.0 -I/usr/lib/gconfmm-2.0/include
-I/usr/include/libglademm-2.0 -I/usr/lib/libglademm-2.0/include
-I/usr/include/libgnomeui-2.0 -I/usr/include/gtkmm-2.0
-I/usr/lib/gtkmm-2.0/include -I/usr/include/libgnome-2.0 -I/usr/include/gtk-2.0
-I/usr/lib/sigc++-1.2/include -I/usr/include/sigc++-1.2 -I/usr/include/glib-2.0
-I/usr/lib/glib-2.0/include -I/usr/lib/gtk-2.0/include -I/usr/include/pango-1.0
-I/usr/include/freetype2 -I/usr/include/freetype2/config -I/usr/include/atk-1.0
-I/usr/include/orbit-2.0 -I/usr/include/libbonobo-2.0 -I/usr/include/gconf/2
-I/usr/include/gnome-vfs-2.0 -I/usr/lib/gnome-vfs-2.0/include
-I/usr/include/bonobo-activation-2.0 -I/usr/include/libgnomecanvas-2.0
-I/usr/include/libart-2.0 -I/usr/include/libglade-2.0 -I/usr/include/libxml2
-I/usr/include/libbonoboui-2.0   -march=pentium3 -mfpmath=sse -O3 -mmmx -msse
-msse2 -pipe -fomit-frame-pointer -fprefetch-loop-arrays   -o gcdmaster 
AddFileDialog.o AddSilenceDialog.o AudioCDChild.o AudioCDProject.o AudioCDView.o
BlankCDDialog.o CdDevice.o CdTextDialog.o DeviceConfDialog.o DeviceList.o
DumpCDProject.o DuplicateCDProject.o gcdmaster.o GenericChild.o GenericView.o
guiUpdate.o Icons.o MessageBox.o ProcessMonitor.o ProgressDialog.o Project.o
ProjectChooser.o RecordCDSource.o RecordCDTarget.o RecordHDTarget.o
RecordTocDialog.o RecordTocSource.o SampleDisplay.o SampleManager.o Settings.o
TextEdit.o TocEdit.o TocEditView.o TocInfoDialog.o TrackDataScrap.o
TrackInfoDialog.o TrackManager.o xcdrdao.o SoundIF-linux.o -L../dao -ldao
-L../paranoia -lcdda_paranoia -L../trackdb -ltrackdb -L../scsilib/export -lscg
-lschily -Wl,--export-dynamic -pthread -lgnomeuimm-2.0 -lgnomemm-2.0
-lgnomecanvasmm-2.0 -lgconfmm-2.0 -lglademm-2.0 -lgnomeui-2 -lSM -lICE
-lgtkmm-2.0 -lglade-2.0 -lgdkmm-2.0 -latkmm-1.0 -lpangomm-1.0 -lglibmm-2.0
-lsigc-1.2 -lbonoboui-2 -lxml2 -lpthread -lz -lgnomecanvas-2 -lgnome-2 -lpopt
-lart_lgpl_2 -lpangoft2-1.0 -lgtk-x11-2.0 -lgdk-x11-2.0 -latk-1.0
-lgdk_pixbuf-2.0 -lpangoxft-1.0 -lpangox-1.0 -lpango-1.0 -lgobject-2.0
-lgnomevfs-2 -lbonobo-2 -lgconf-2 -lbonobo-activation -lORBit-2 -lm
-lgmodule-2.0 -ldl -lgthread-2.0 -lglib-2.0   -Wl,--export-dynamic -lgtkmm-2.0
-lgdkmm-2.0 -latkmm-1.0 -lgtk-x11-2.0 -lpangomm-1.0 -lglibmm-2.0 -lsigc-1.2
-lgdk-x11-2.0 -latk-1.0 -lgdk_pixbuf-2.0 -lm -lpangoxft-1.0 -lpangox-1.0
-lpango-1.0 -lgobject-2.0 -lgmodule-2.0 -ldl -lglib-2.0   -lnsl
/usr/lib/gcc/i686-pc-linux-gnu/3.4.3-20050110/../../../libglademm-2.0.so:
undefined reference to `std::__default_alloc_template<true,
0>::allocate(unsigned int)'
/usr/lib/gcc/i686-pc-linux-gnu/3.4.3-20050110/../../../libglademm-2.0.so:
undefined reference to `std::basic_string<char, std::char_traits<char>,
std::allocator<char> >::_S_empty_rep_storage'
/usr/lib/gcc/i686-pc-linux-gnu/3.4.3-20050110/../../../libglademm-2.0.so:
undefined reference to `std::__default_alloc_template<true,
0>::deallocate(void*, unsigned int)'
collect2: ld returned 1 exit status
make[3]: *** [gcdmaster] Error 1
make[3]: Leaving directory `/var/tmp/portage/cdrdao-1.1.9-r2/work/cdrdao-1.1.9/xdao'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/var/tmp/portage/cdrdao-1.1.9-r2/work/cdrdao-1.1.9/xdao'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/cdrdao-1.1.9-r2/work/cdrdao-1.1.9'
make: *** [all] Error 2




Comment 1


Lars Weiler (RETIRED)






          2005-04-19 15:10:46 UTC
        

Can you try with more stable CFLAGS, like "-O2 -march=pentium3 -pipe"?




Comment 2


Lars Weiler (RETIRED)






          2005-06-10 09:20:38 UTC
        

No further info given.  Closing.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

