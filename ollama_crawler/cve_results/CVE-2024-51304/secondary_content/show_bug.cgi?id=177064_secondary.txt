Title: 177064 – crosscompile fails on many packages due to rpl_malloc renaming
URL: https://bugs.gentoo.org/show_bug.cgi?id=177064

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 177064
crosscompile fails on many packages due to rpl_malloc renaming
Last modified: 2022-06-17 02:33:50 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 177064 
      - crosscompile fails on many packages due to rpl_malloc renaming


Summary:
crosscompile fails on many packages due to rpl_malloc renaming
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Unspecified

  (show other bugs)



Hardware:

ARM
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Embedded Gentoo Team








URL:



http://wiki.buici.com/wiki/Autoconf_a...
        




Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-05-04 17:02 UTC by Karl H





      Modified:
    
2022-06-17 02:33 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:


675368





Package list:







Runtime testing required:

---























      Attachments
    




build.log

              (build.log,6.88 KB,
                text/plain)

            
2007-05-04 17:03 UTC,

            Karl H




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Karl H





          2007-05-04 17:02:57 UTC
        

xmerge usbutils   fails because of rpl_malloc not in uclibc

armeb-softfloat-linux-uclibc-gcc -Wall -W -Wunused -Os -pipe   -o lsusb  lsusb.o names.o devtree.o usbmisc.o  -lusb
names.o: In function `new_genericstrtable':
names.c:(.text+0x38c): undefined reference to `rpl_malloc'
names.o: In function `names_init':
names.c:(.text+0xacc): undefined reference to `rpl_malloc'
names.c:(.text+0xc80): undefined reference to `rpl_malloc'
names.c:(.text+0xdec): undefined reference to `rpl_malloc'
names.c:(.text+0x1044): undefined reference to `rpl_malloc'
names.o:names.c:(.text+0x11a8): more undefined references to `rpl_malloc' follow
collect2: ld returned 1 exit status
make[1]: *** [lsusb] Error 1
make[1]: Leaving directory `/var/tmp/portage/sys-apps/usbutils-0.72-r4/work/usbutils-0.72'
make: *** [all] Error 2

!!! ERROR: sys-apps/usbutils-0.72-r4 failed.
Call stack:
  ebuild.sh, line 1614:   Called dyn_compile
  ebuild.sh, line 971:   Called qa_call 'src_compile'
  ebuild.sh, line 44:   Called src_compile
  usbutils-0.72-r4.ebuild, line 37:   Called die

!!! make failed


This is a known issue described at:
http://wiki.buici.com/wiki/Autoconf_and_RPL_MALLOC




Comment 1


Karl H





          2007-05-04 17:03:48 UTC
        

Created attachment 118161 [details]
build.log




Comment 2


SpanKY






          2007-05-04 17:10:38 UTC
        

as noted already in that wiki page, the only thing we can suggest at this time is:
export ac_cv_func_malloc_0_nonnull=yes




Comment 3


SpanKY






          2007-05-04 17:11:24 UTC
        

oh, and rpl_malloc is not supposed to be part of the toolchain ... it's a gnulib thing that packages generally are supposed to include as a fallback









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

