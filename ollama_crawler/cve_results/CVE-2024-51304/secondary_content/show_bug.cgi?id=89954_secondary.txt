Title: 89954 – emerging kdelibs-3.3.2-r8 failed
URL: https://bugs.gentoo.org/show_bug.cgi?id=89954

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 89954
emerging kdelibs-3.3.2-r8 failed
Last modified: 2005-05-12 17:18:26 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 89954 
      - emerging kdelibs-3.3.2-r8 failed


Summary:
emerging kdelibs-3.3.2-r8 failed
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-04-21 12:12 UTC by Lukasz W





      Modified:
    
2005-05-12 17:18 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Lukasz W





          2005-04-21 12:14:28 UTC
        

Everything goes OK, until this point:

grep: /usr/lib/libasound.la: No such file or directory
/bin/sed: can't read /usr/lib/libasound.la: No such file or directory
libtool: link: `/usr/lib/libasound.la' is not a valid libtool archive
make[3]: *** [libartskde.la] Error 1
make[3]: Leaving directory `/var/tmp/portage/kdelibs-3.3.2-r8/work/kdelibs-3.3.2/arts/kde'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/var/tmp/portage/kdelibs-3.3.2-r8/work/kdelibs-3.3.2/arts'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/kdelibs-3.3.2-r8/work/kdelibs-3.3.2'
make: *** [all] Error 2

!!! ERROR: kde-base/kdelibs-3.3.2-r8 failed.
!!! Function kde_src_compile, Line 166, Exitcode 2
!!! died running emake, kde_src_compile:make
!!! If you need support, post the topmost build error, NOT this status message.


Reproducible: Always
Steps to Reproduce:
1. emerge -uvD kde


Actual Results:  
Command failed.

Expected Results:  
Upgrade properly.

Portage 2.0.51.19 (default-linux/x86/2005.0, gcc-3.3.5-20050130,
glibc-2.3.4.20041102-r1, 2.6.11.5 i686)
=================================================================
System uname: 2.6.11.5 i686 mobile AMD Athlon(tm) XP-M 2800+
Gentoo Base System version 1.4.16
Python:              dev-lang/python-2.3.4-r1 [2.3.4 (#1, Feb  8 2005, 01:32:32)]
dev-lang/python:     2.3.4-r1
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.4
sys-devel/binutils:  2.15.92.0.2-r7
sys-devel/libtool:   1.5.14
virtual/os-headers:  2.6.8.1-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CFLAGS="-O2 -march=athlon-xp -s -mcpu=athlon-xp -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.3/env
/usr/kde/3.3/share/config /usr/kde/3.3/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=athlon-xp -s -mcpu=athlon-xp -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig ccache distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org
http://distro.ibiblio.org/pub/Linux/distributions/gentoo"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 3dnow X apm arts avi berkdb bitmap-fonts cdr crypt cscope cups curl
divx4linux dvb dvd dvdr emboss encode esd fam flac foomaticdb fortran gdbm gif
gpmgtk2 imagemagick imlib java jpeg junit kde libg++ libwww mad mikmod mmx motif
mp3 mpeg ncurses nls nptl nptlonly ogg oggvorbis opengl oss pam pdflib perl png
python qt quicktime readline sdl spell ssl svga tcpd tiff truetype
truetype-fontstype1-fonts vorbis xml2 xmms xv zlib"
Unset:  ASFLAGS, CBUILD, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTDIR_OVERLAY




Comment 1


Carsten Lohrke (RETIRED)






          2005-04-21 12:39:39 UTC
        

Does /usr/lib/libasound.la exist?




Comment 2


Lukasz W





          2005-04-21 13:45:16 UTC
        

No.




Comment 3


Carsten Lohrke (RETIRED)






          2005-04-21 14:00:38 UTC
        

Please post the output of `equery f media-libs/alsa-lib | grep libasound`.




Comment 4


Lukasz W





          2005-04-21 14:55:39 UTC
        

lw root # equery f media-libs/alsa-lib | grep libasound
lw root #
Nothing at all... in USE I have -alsa and according to 'emerge -puvD kde':

[ebuild     U ] kde-base/kdelibs-3.3.2-r8 [3.3.2-r7] -alsa +arts +cups -debug -doc -ipv6 -kdeenablefinal -kerberos -ldap +spell +ssl +tiff -xinerama 0 kB

Seems lika alsa should not be taken into account.
Thanks.




Comment 5


Gregorio Guidi (RETIRED)






          2005-05-12 15:42:42 UTC
        

Probably some kde dependency is still referencing alsa, please try doing a revdep-rebuild.




Comment 6


Lukasz W





          2005-05-12 15:57:34 UTC
        

I rebuild whole system with alsa support and problem dissapeared.
Not really a solution, but worked for me and now I can't reproduce this error. 
Thanks.




Comment 7


Gregorio Guidi (RETIRED)






          2005-05-12 16:24:05 UTC
        

Closing.

As a rule of thumb, always run revdep-rebuild every time you remove a library from the system.




Comment 8


Carsten Lohrke (RETIRED)






          2005-05-12 16:48:58 UTC
        

Just to get that clear. Did you not use alsa at all before?




Comment 9


Lukasz W





          2005-05-12 17:18:26 UTC
        

Not at all... It didn't work with my laptop at the beginning and I had whole system (with kernel) with OSS. I tried ALSA recently and managed to get it work.
I didn't know about revdep-rebuild - IMVHO emerge --depclean should mention it at the end.
Thanks









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

