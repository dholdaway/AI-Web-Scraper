Title: 268736 – app-office/openoffice-3.0.1 build fails with Internal compiler error
URL: https://bugs.gentoo.org/show_bug.cgi?id=268736

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 268736
app-office/openoffice-3.0.1 build fails with Internal compiler error
Last modified: 2009-05-07 09:20:42 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 268736 
      - app-office/openoffice-3.0.1 build fails with Internal compiler error


Summary:
app-office/openoffice-3.0.1 build fails with Internal compiler error
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       major
      


Assignee:

Gentoo Office Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-05-05 17:02 UTC by Rutger van Bergen





      Modified:
    
2009-05-07 09:20 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Build log

              (build.log.gz,547.08 KB,
                application/gzip)

            
2009-05-05 17:06 UTC,

            Rutger van Bergen




Details





Build environment

              (environment,207.22 KB,
                text/plain)

            
2009-05-05 17:06 UTC,

            Rutger van Bergen




Details





Build log (correct mime type)

              (build.log.gz,547.08 KB,
                application/gzip)

            
2009-05-05 19:11 UTC,

            Rutger van Bergen




Details





Show
              Obsolete (1)
            View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Rutger van Bergen





          2009-05-05 17:02:08 UTC
        

A build of app-office/openoffice-3.0.1 fails with an Internal compiler error on /var/tmp/portage/app-office/openoffice-3.0.1/work/ooo/build/ooo300-m15/dbaccess/source/ui/misc/DExport.cxx.

A previous build of the same version of OO did succeed, apparently the rebuild was triggered by the mono USE flag being masked.

Reproducible: Always

Steps to Reproduce:
1. emerge openoffice

Actual Results:  
Build fails with an Internal compiler error.

Expected Results:  
Successful build.

** Topmost build error:

/var/tmp/portage/app-office/openoffice-3.0.1/work/ooo/build/ooo300-m15/dbaccess/source/ui/misc/DExport.cxx:241: internal compiler error: Segmentation fault     
Please submit a full bug report,                                                
with preprocessed source if appropriate.                                        
See <http://bugs.gentoo.org/> for instructions.                                 
dmake:  Error code 1, while making '../../../unxlngi6.pro/slo/DExport.obj'      

ERROR: Error 65280 occurred while making /var/tmp/portage/app-office/openoffice-3.0.1/work/ooo/build/ooo300-m15/dbaccess/source/ui/misc                         
rmdir /tmp/9984                                                                 
make: *** [stamp/build] Error 1                                                 
 *                                                                              
 * ERROR: app-office/openoffice-3.0.1 failed.                                   
 * Call stack:                                                                  
 *               ebuild.sh, line   49:  Called src_compile                      
 *             environment, line 5034:  Called die                              
 * The specific snippet of code:                                                
 *       make || die "Build failed"                                             
 *  The die message:                                                            
 *   Build failed                                                               
 *                                                                              
 * If you need support, post the topmost build error, and the call stack if relevant.                                                                           
 * A complete build log is located at '/var/tmp/portage/app-office/openoffice-3.0.1/temp/build.log'.                                                            
 * The ebuild environment file is located at '/var/tmp/portage/app-office/openoffice-3.0.1/temp/environment'.                                                   
 *                                                                              
!!! When you file a bug report, please include the following information:       
GENTOO_VM=  CLASSPATH="" JAVA_HOME=""                                           
JAVACFLAGS="" COMPILER=""                                                       
and of course, the output of emerge --info                                      

** emerge --info:

Portage 2.1.6.13 (default/linux/x86/2008.0/desktop, gcc-4.3.3, glibc-2.9_p20081201-r2, 2.6.29-gentoo-r2 i686)                                                   
=================================================================               
System uname: Linux-2.6.29-gentoo-r2-i686-Genuine_Intel-R-_CPU_T2400_@_1.83GHz-with-gentoo-2.0.0                                                                
Timestamp of tree: Mon, 04 May 2009 16:00:01 +0000                              
app-shells/bash:     4.0_p17-r1                                                 
dev-java/java-config: 2.1.7                                                     
dev-lang/python:     2.5.4-r2, 2.6.2                                            
dev-util/cmake:      2.6.4                                                      
sys-apps/baselayout: 2.0.0                                                      
sys-apps/openrc:     0.4.3-r2                                                   
sys-apps/sandbox:    1.9                                                        
sys-devel/autoconf:  2.13, 2.63-r1                                              
sys-devel/automake:  1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.2                  
sys-devel/binutils:  2.19.1-r1                                                  
sys-devel/gcc-config: 1.4.1                                                     
sys-devel/libtool:   2.2.6a                                                     
virtual/os-headers:  2.6.28-r1                                                  
ACCEPT_KEYWORDS="x86 ~x86"                                                      
CBUILD="i686-pc-linux-gnu"                                                      
CFLAGS="-O2 -march=prescott -pipe -fomit-frame-pointer"                         
CHOST="i686-pc-linux-gnu"                                                       
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/config"                                                        
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/udev/rules.d"                                             
CXXFLAGS="-O2 -march=prescott -pipe -fomit-frame-pointer"                       
DISTDIR="/usr/portage/distfiles"                                                
FEATURES="distlocks fixpackages parallel-fetch protect-owned sandbox sfperms strict unmerge-orphans userfetch"                                                  
GENTOO_MIRRORS="http://ftp.snt.utwente.nl/pub/os/linux/gentoo http://gentoo.tiscali.nl/ http://mirror.muntinternet.net/pub/gentoo/ http://mirror.cambrium.nl/pub/os/linux/gentoo/ http://mirror.leaseweb.com/gentoo/ "                          
LANG="en_US"                                                                    
LDFLAGS="-Wl,-O1"                                                               
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress--force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X acl acpi alsa arts bash-completion berkdb bluetooth branding bzip2 cairocdr cli connection-sharing consolekit cracklib crypt cups dbus dhcpcd directfb dri dvd dvdr dvdread eds emboss encode esd evo exif fam fat firefox fortran gdbmgif gnome gpm gstreamer gtk hal iconv ipv6 irmc isdnlog jpeg kde ldap libnotifymad midi mikmod mmx mng mono moonlight mp3 mpeg mudflap mysql ncurses networkmanager nls nptl nptlonly ntfs obex ogg opengl openmp pam pcre pda pdf perl png ppds pppd python qt3 qt3support qt4 quicktime raw readline reflection resolvconf samba sdl serial session smp spell spl sse sse2 ssl startup-notification svg sysfs tcpd tiff truetype unicode usb vorbis webkit win32codecs x86 xml xorg xulrunner xv xvid zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1 emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logiomem_cache mime mime_magic negotiation rewrite setenvif speling status unique_iduserdir usertrack vhost_alias" CAMERAS="canon" ELIBC="glibc" INPUT_DEVICES="keyboard mouse synaptics" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" USERLAND="GNU" VIDEO_CARDS="radeon radeonhd"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LC_ALL, LINGUAS, MAKEOPTS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY




Comment 1


Rutger van Bergen





          2009-05-05 17:03:03 UTC
        

** Topmost build error:

/var/tmp/portage/app-office/openoffice-3.0.1/work/ooo/build/ooo300-m15/dbaccess/source/ui/misc/DExport.cxx:241:
internal compiler error: Segmentation fault     
Please submit a full bug report,                                                
with preprocessed source if appropriate.                                        
See <http://bugs.gentoo.org/> for instructions.                                 
dmake:  Error code 1, while making '../../../unxlngi6.pro/slo/DExport.obj'      

ERROR: Error 65280 occurred while making
/var/tmp/portage/app-office/openoffice-3.0.1/work/ooo/build/ooo300-m15/dbaccess/source/ui/misc 
rmdir /tmp/9984                                                                 
make: *** [stamp/build] Error 1                                                 
 *                                                                              
 * ERROR: app-office/openoffice-3.0.1 failed.                                   
 * Call stack:                                                                  
 *               ebuild.sh, line   49:  Called src_compile                      
 *             environment, line 5034:  Called die                              
 * The specific snippet of code:                                                
 *       make || die "Build failed"                                             
 *  The die message:                                                            
 *   Build failed                                                               
 *                                                                              
 * If you need support, post the topmost build error, and the call stack if
relevant.                                                                       
 * A complete build log is located at
'/var/tmp/portage/app-office/openoffice-3.0.1/temp/build.log'.                  
 * The ebuild environment file is located at
'/var/tmp/portage/app-office/openoffice-3.0.1/temp/environment'.                
 *                                                                              
!!! When you file a bug report, please include the following information:       
GENTOO_VM=  CLASSPATH="" JAVA_HOME=""                                           
JAVACFLAGS="" COMPILER=""                                                       
and of course, the output of emerge --info                                      

** emerge --info:

Portage 2.1.6.13 (default/linux/x86/2008.0/desktop, gcc-4.3.3,
glibc-2.9_p20081201-r2, 2.6.29-gentoo-r2 i686)                                  
=================================================================               
System uname:
Linux-2.6.29-gentoo-r2-i686-Genuine_Intel-R-_CPU_T2400_@_1.83GHz-with-gentoo-2.0.0 
Timestamp of tree: Mon, 04 May 2009 16:00:01 +0000                              
app-shells/bash:     4.0_p17-r1                                                 
dev-java/java-config: 2.1.7                                                     
dev-lang/python:     2.5.4-r2, 2.6.2                                            
dev-util/cmake:      2.6.4                                                      
sys-apps/baselayout: 2.0.0                                                      
sys-apps/openrc:     0.4.3-r2                                                   
sys-apps/sandbox:    1.9                                                        
sys-devel/autoconf:  2.13, 2.63-r1                                              
sys-devel/automake:  1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.2                  
sys-devel/binutils:  2.19.1-r1                                                  
sys-devel/gcc-config: 1.4.1                                                     
sys-devel/libtool:   2.2.6a                                                     
virtual/os-headers:  2.6.28-r1                                                  
ACCEPT_KEYWORDS="x86 ~x86"                                                      
CBUILD="i686-pc-linux-gnu"                                                      
CFLAGS="-O2 -march=prescott -pipe -fomit-frame-pointer"                         
CHOST="i686-pc-linux-gnu"                                                       
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config
/usr/kde/3.5/shutdown /usr/share/config"                                        
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/
/etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/revdep-rebuild
/etc/sandbox.d /etc/terminfo /etc/udev/rules.d"                                 
CXXFLAGS="-O2 -march=prescott -pipe -fomit-frame-pointer"                       
DISTDIR="/usr/portage/distfiles"                                                
FEATURES="distlocks fixpackages parallel-fetch protect-owned sandbox sfperms
strict unmerge-orphans userfetch"                                               
GENTOO_MIRRORS="http://ftp.snt.utwente.nl/pub/os/linux/gentoo
http://gentoo.tiscali.nl/ http://mirror.muntinternet.net/pub/gentoo/
http://mirror.cambrium.nl/pub/os/linux/gentoo/
http://mirror.leaseweb.com/gentoo/ "                          
LANG="en_US"                                                                    
LDFLAGS="-Wl,-O1"                                                               
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times
--compress--force --whole-file --delete --stats --timeout=180
--exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X acl acpi alsa arts bash-completion berkdb bluetooth branding bzip2
cairocdr cli connection-sharing consolekit cracklib crypt cups dbus dhcpcd
directfb dri dvd dvdr dvdread eds emboss encode esd evo exif fam fat firefox
fortran gdbmgif gnome gpm gstreamer gtk hal iconv ipv6 irmc isdnlog jpeg kde
ldap libnotifymad midi mikmod mmx mng mono moonlight mp3 mpeg mudflap mysql
ncurses networkmanager nls nptl nptlonly ntfs obex ogg opengl openmp pam pcre
pda pdf perl png ppds pppd python qt3 qt3support qt4 quicktime raw readline
reflection resolvconf samba sdl serial session smp spell spl sse sse2 ssl
startup-notification svg sysfs tcpd tiff truetype unicode usb vorbis webkit
win32codecs x86 xml xorg xulrunner xv xvid zlib" ALSA_CARDS="ali5451 als4000
atiixp atiixp-modem bt87x ca0106 cmipci emu10k1 emu10k1x ens1370 ens1371 es1938
es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx
via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop
empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul
mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions
alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file
authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user
autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires
ext_filter file_cache filter headers include info log_config logiomem_cache
mime mime_magic negotiation rewrite setenvif speling status unique_iduserdir
usertrack vhost_alias" CAMERAS="canon" ELIBC="glibc" INPUT_DEVICES="keyboard
mouse synaptics" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk
hd44780 lb216 lcdm001 mtxorb ncurses text" USERLAND="GNU" VIDEO_CARDS="radeon
radeonhd"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LC_ALL,
LINGUAS, MAKEOPTS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS,
PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY





Comment 2


Rutger van Bergen





          2009-05-05 17:06:02 UTC
        

Created attachment 190427 [details]
Build log




Comment 3


Rutger van Bergen





          2009-05-05 17:06:29 UTC
        

Created attachment 190429 [details]
Build environment




Comment 4


Rutger van Bergen





          2009-05-05 19:11:23 UTC
        

Created attachment 190435 [details]
Build log (correct mime type)




Comment 5


Rutger van Bergen





          2009-05-07 09:20:42 UTC
        

Okay, that was odd... remerged gcc, after which the build of OO succeeded.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

