Title: 294851 – qt4-build.eclass installs documentation outside /usr/share/doc/${PF}
URL: https://bugs.gentoo.org/show_bug.cgi?id=294851

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 294851
qt4-build.eclass installs documentation outside /usr/share/doc/${PF}
Last modified: 2009-12-18 18:56:08 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 294851 
      - qt4-build.eclass installs documentation outside /usr/share/doc/${PF}


Summary:
qt4-build.eclass installs documentation outside /usr/share/doc/${PF}
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       minor
      


Assignee:

Qt Bug Alias








URL:







Whiteboard:




Keywords:









Duplicates (1):
    

295101

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2009-11-27 14:12 UTC by Diego Elio Pettenò (RETIRED)





      Modified:
    
2009-12-18 18:56 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



qa









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Diego Elio Pettenò (RETIRED)






          2009-11-27 14:12:02 UTC
        

You're getting this bug because the package in summary installs its documentation (or at least part of it) outside the usual /usr/share/doc/${PF} directory.

First, please keep in mind that this bug might not be noticeable for -r0 ebuilds, but it might be for -r1 and later, since if the ebuild has same name and version of the package, for -r0 it might correspond properly.

To fix this, if the package uses autotools, recent version (autoconf 2.61+) have two ./configure switches: --docdir and --htmldir to decide where to put the documentation. Older versions might require you override docdir/htmldir or other custom variables during make install.

For non-autotooled build systems, good luck, since I cannot tell you how to achieve the proper results, the same holds true with totally broken buildsystems even when based on autotools.

Thanks,
Diego




Comment 1


Ben de Groot (RETIRED)






          2009-12-17 16:33:48 UTC
        

We install Qt documentation in /usr/share/doc/qt-${PV}/
I see no need to change this.




Comment 2


Ben de Groot (RETIRED)






          2009-12-17 16:34:55 UTC
        

*** Bug 295101 has been marked as a duplicate of this bug. ***




Comment 3


Diego Elio Pettenò (RETIRED)






          2009-12-17 17:04:31 UTC
        

QA policy states that quite clearly.




Comment 4


Ben de Groot (RETIRED)






          2009-12-18 18:11:57 UTC
        

*** Bug 295101 has been marked as a duplicate of this bug. ***




Comment 5


Ben de Groot (RETIRED)






          2009-12-18 18:23:25 UTC
        

qt-core, qt-assistant and qt-demo install documentation files to /usr/share/doc/qt-${PV}/ as that is the docdir location defined in the qt4-build.eclass. In my opinion this is the most logical location.

qt-core[doc] will install html documentation for all of Qt into that directory, and qt-assistant installs binary "compressed help" files there, again covering all of Qt.

The fact that the canonical location that QA demands isn't used, is because we use split ebuilds, which facilitates recompiling individual modules, instead of all of Qt, e.g. in case of a revbump of one of the modules with an added patch.

So we ask QA to consider this a valid exception from the rule. Alternatively, we could move the documentation to /usr/share/qt4/doc/ if that is somehow considered a better location.




Comment 6


Mark Loeser (RETIRED)






          2009-12-18 18:56:08 UTC
        

Works for me.  Thank you for the explanation.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

