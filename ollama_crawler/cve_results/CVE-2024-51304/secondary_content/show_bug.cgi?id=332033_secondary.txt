Title: 332033 – Xen routed networking wrong for hvm guests
URL: https://bugs.gentoo.org/show_bug.cgi?id=332033

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 332033
Xen routed networking wrong for hvm guests
Last modified: 2011-03-26 11:40:00 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 332033 
      - Xen routed networking wrong for hvm guests


Summary:
Xen routed networking wrong for hvm guests
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Xen Devs








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2010-08-10 12:38 UTC by Michael Wyraz





      Modified:
    
2011-03-26 11:40 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Michael Wyraz





          2010-08-10 12:38:00 UTC
        

When using xen with routed networking, normally a route is set up for each ip of the guest to the vif.XXX device. This is wrong for HVM guests because there the route must be set to the tapXXX device.
I found this solution in an old german forum entry but it is still valid for xen-4.


Reproducible: Always

Steps to Reproduce:
1. Setup bridged networking
2. Setup a hvm guest with a vif with a certain ip
3. Start the xen guest

Actual Results:  
Route:
XXX.XXX.XXX.XXX    0.0.0.0         255.255.255.255 UH    0      0        0 vif25.0


Expected Results:  
Route:
XXX.XXX.XXX.XXX    0.0.0.0         255.255.255.255 UH    0      0        0 tap25.0




Comment 1


Alexey Shvetsov







          2011-03-26 11:40:00 UTC
        

Xen 4.1 in tree. Please test with it and reopen if it doesnt work









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

