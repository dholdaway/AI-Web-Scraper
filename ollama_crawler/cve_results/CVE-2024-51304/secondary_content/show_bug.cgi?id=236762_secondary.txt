Title: 236762 – sys-devel/gcc-4.3.2 failed to build libgfortran with LANG=zh_CN.UTF-8
URL: https://bugs.gentoo.org/show_bug.cgi?id=236762

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 236762
sys-devel/gcc-4.3.2 failed to build libgfortran with LANG=zh_CN.UTF-8
Last modified: 2009-12-31 01:33:19 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 236762 
      - sys-devel/gcc-4.3.2 failed to build libgfortran with LANG=zh_CN.UTF-8


Summary:
sys-devel/gcc-4.3.2 failed to build libgfortran with LANG=zh_CN.UTF-8
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Unspecified

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Toolchain Maintainers








URL:







Whiteboard:




Keywords:









Duplicates (2):
    

252238 298817

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2008-09-05 01:42 UTC by Hongjiu Zhang





      Modified:
    
2009-12-31 01:33 UTC
      (History)
    




          CC List:
        

4 
          users
          
            (show)
          



k.kanryu
leighton
oahong
wangbj









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




log

              (gcc-4.2.3-r2-failures,5.51 KB,
                text/plain)

            
2009-01-02 15:01 UTC,

            Hong Hao




Details





tail of build.log

              (gcc-4.3.2-r3-failures,5.56 KB,
                text/plain)

            
2009-03-09 19:15 UTC,

            KATO Kanryu




Details





/var/tmp/portage/sys-devel/gcc-4.3.2-r3/temp/build.log

              (build.log,285.49 KB,
                text/plain)

            
2009-06-01 07:32 UTC,

            gvwolf3d




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Hongjiu Zhang





          2008-09-05 01:42:49 UTC
        

$ tail -n 50 /var/tmp/portage/sys-devel/gcc-4.3.1-r1/temp/build.log
libtool: compile:  /var/tmp/portage/sys-devel/gcc-4.3.1-r1/work/build/./gcc/gfortran -B/var/tmp/portage/sys-devel/gcc-4.3.1-r1/work/build/./gcc/ -B/usr/i686-pc-linux-gnu/bin/ -B/usr/i686-pc-linux-gnu/lib/ -isystem /usr/i686-pc-linux-gnu/include -isystem /usr/i686-pc-linux-gnu/sys-include -I . -Wall -fno-repack-arrays -fno-underscoring -fallow-leading-underscore -c /var/tmp/portage/sys-devel/gcc-4.3.1-r1/work/gcc-4.3.1/libgfortran/intrinsics/selected_int_kind.f90  -fPIC -o .libs/selected_int_kind.o
/var/tmp/portage/sys-devel/gcc-4.3.1-r1/work/gcc-4.3.1/libgfortran/intrinsics/selected_int_kind.f90:35.5:

  do i = 1, c
    1
Error: Syntax error in array constructor at (1)
/var/tmp/portage/sys-devel/gcc-4.3.1-r1/work/gcc-4.3.1/libgfortran/intrinsics/selected_int_kind.f90:36.27:

    if (r <= int_infos (i) % range) then
                          1
Error: Syntax error in IF-expression at (1)
/var/tmp/portage/sys-devel/gcc-4.3.1-r1/work/gcc-4.3.1/libgfortran/intrinsics/selected_int_kind.f90:37.6:

      _gfortran_selected_int_kind = int_infos (i) % kind
     1
Error: Unclassifiable statement at (1)
/var/tmp/portage/sys-devel/gcc-4.3.1-r1/work/gcc-4.3.1/libgfortran/intrinsics/selected_int_kind.f90:39.7:

    end if
      1
Error: Expecting END FUNCTION statement at (1)
/var/tmp/portage/sys-devel/gcc-4.3.1-r1/work/gcc-4.3.1/libgfortran/intrinsics/selected_int_kind.f90:40.5:

  end do
    1
Error: Expecting END FUNCTION statement at (1)
make[3]: *** [selected_int_kind.lo] Error 1
make[3]: Leaving directory `/var/tmp/portage/sys-devel/gcc-4.3.1-r1/work/build/i686-pc-linux-gnu/libgfortran'
make[2]: *** [all] Error 2
make[2]: Leaving directory `/var/tmp/portage/sys-devel/gcc-4.3.1-r1/work/build/i686-pc-linux-gnu/libgfortran'
make[1]: *** [all-target-libgfortran] Error 2
make[1]: Leaving directory `/var/tmp/portage/sys-devel/gcc-4.3.1-r1/work/build'
make: *** [profiledbootstrap] Error 2
 *
 * ERROR: sys-devel/gcc-4.3.1-r1 failed.
 * Call stack:
 *               ebuild.sh, line   49:  Called src_compile
 *             environment, line 4553:  Called toolchain_src_compile
 *             environment, line 5068:  Called gcc_src_compile
 *             environment, line 2916:  Called gcc_do_make
 *             environment, line 2739:  Called die
 * The specific snippet of code:
 *       emake LDFLAGS="${LDFLAGS}" STAGE1_CFLAGS="${STAGE1_CFLAGS}" LIBPATH="${LIBPATH}" BOOT_CFLAGS="${BOOT_CFLAGS}" ${GCC_MAKE_TARGET} || die "emake failed with ${GCC_MAKE_TARGET}";
 *  The die message:
 *   emake failed with profiledbootstrap
 *
 * If you need support, post the topmost build error, and the call stack if relevant.
 * A complete build log is located at '/var/tmp/portage/sys-devel/gcc-4.3.1-r1/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/sys-devel/gcc-4.3.1-r1/temp/environment'.
 *
$ emerge --info
Portage 2.2_rc8 (default/linux/x86/2008.0/desktop, gcc-4.3.1, glibc-2.8_p20080602-r0, 2.6.24-19-generic i686)
=================================================================
System uname: Linux-2.6.24-19-generic-i686-Genuine_Intel-R-_CPU_T2050_@_1.60GHz-with-glibc2.0
Timestamp of tree: Thu, 04 Sep 2008 05:16:01 +0000
app-shells/bash:     3.2_p39
dev-java/java-config: 2.1.6-r1
dev-lang/python:     2.4.4-r13
sys-apps/baselayout: 1.12.11.1
sys-apps/sandbox:    1.2.18.1-r3
sys-devel/autoconf:  2.62-r1
sys-devel/automake:  1.10.1
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.24
virtual/os-headers:  2.6.26
ACCEPT_KEYWORDS="x86 ~x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=i686 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/terminfo"
CXXFLAGS="-O2 -march=i686 -pipe"
DISTDIR="/usr/portage/distfiles"
EMERGE_DEFAULT_OPTS="--with-bdeps y"
FEATURES="buildpkg distlocks parallel-fetch preserve-libs sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="ftp://gentoo.anheng.com.cn/gentoo"
LANG="zh_CN.UTF-8"
LDFLAGS="-Wl,-O1"
LINGUAS="en_US en af am ar as_IN az be be_BY bg bn bo br bs ca cs csb cy da de dz el en_GB en_ZA eo es es_AR es_ES es_LA et et_EE eu fa fi fo fr fr_CA fy fy_NL ga ga_IE gl gu gu_IN he hi hi_IN hr hsb hu hy id is it ja ka kk km kn ko ku la lo lt lv mk ml ml_IN mn mr_IN ms mt nb nb_NO nds ne nl nn nn_NO no nr ns nso oc or_IN pa pa_IN pl pt pt_BR pt_PT ro ru rw se sh sh_YU si sk sl sq sr sr@Latn sr_CS ss st sv sv_SE sw_TZ ta ta_IN te te_IN tg th ti_ER tk tl tn tr ts uk ur_IN uz ve vi wa xh zh zh_CN zh_HK zh_TW zu"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/overlay"
SYNC="rsync://rsync.asia.gentoo.org/gentoo-portage"
USE="X aac acl acpi alsa avahi bash-completion berkdb bluetooth branding bzip2 cairo cdr cjk cli cracklib crypt cups dbus doc dri dvd dvdr dvdread emboss encode expat fam fbcon fortran gdbm gif git gnutls gpm hal iconv ipv6 isdnlog java java6 jpeg jpeg2k kde kerberos latex ldap libnotify mad midi mikmod mmx mmxext mp3 mpeg mudflap ncurses networkmanager nls nptl nptlonly nsplugin ogg opengl openmp pam pcre pdf perl png ppds pppd python qt3 qt3support qt4 quicktime readline reflection samba sdl session spell spl sse sse2 ssl startup-notification subversion svg sysfs syslog tcpd tiff truetype unicode usb v4l v4l2 vim-syntax vorbis win32codecs wxwindows x86 xml xorg xulrunner xv zeroconf zlib" ALSA_CARDS="hda-intel" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="evdev keyboard mouse synaptics" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en_US en af am ar as_IN az be be_BY bg bn bo br bs ca cs csb cy da de dz el en_GB en_ZA eo es es_AR es_ES es_LA et et_EE eu fa fi fo fr fr_CA fy fy_NL ga ga_IE gl gu gu_IN he hi hi_IN hr hsb hu hy id is it ja ka kk km kn ko ku la lo lt lv mk ml ml_IN mn mr_IN ms mt nb nb_NO nds ne nl nn nn_NO no nr ns nso oc or_IN pa pa_IN pl pt pt_BR pt_PT ro ru rw se sh sh_YU si sk sl sq sr sr@Latn sr_CS ss st sv sv_SE sw_TZ ta ta_IN te te_IN tg th ti_ER tk tl tn tr ts uk ur_IN uz ve vi wa xh zh zh_CN zh_HK zh_TW zu" USERLAND="GNU" VIDEO_CARDS="i810"
Unset:  CPPFLAGS, CTARGET, FFLAGS, INSTALL_MASK, LC_ALL, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS


Reproducible: Always

Steps to Reproduce:
1.emerge -1u gcc, update the version of gcc to 4.3.1-r1. (I update it with /usr/portage/script/bootstrap.sh. I am so sorry to do that. I hope this have nothing to do with the problem.)
2.emerge -1 gcc, or emerge -1e @system.
3.Got it.




Comment 1


Hongjiu Zhang





          2008-09-14 11:12:52 UTC
        

And adding "LC_ALL=C" into /etc/make.conf makes it successfully worked.




Comment 2


SpanKY






          2008-12-07 19:07:52 UTC
        

can you double verify that ?  if LANG is set to zh_CN.UTF-8, then it fails, but if it's set to LC_ALL=C, it works fine ?




Comment 3


SpanKY






          2008-12-29 09:42:09 UTC
        

*** Bug 252238 has been marked as a duplicate of this bug. ***




Comment 4


SpanKY






          2008-12-30 07:55:45 UTC
        

unfortunately, i cant reproduce this on my system.

LC_ALL=zh_CN.UTF-8 emerge =sys-devel/gcc-4.3.2-r2

the flags enabled are:
USE="fortran gcj gtk mudflap (multilib) multislot nls objc objc-gc openmp ..."

and this is on an x86_64 system




Comment 5


Hong Hao





          2009-01-02 09:09:11 UTC
        

I have problem with LC_ALL="zh_CN.UTF-8"

emerge --info 

Portage 2.2_rc20 (default/linux/x86/2008.0/desktop, gcc-4.3.2, glibc-2.9_p20081201-r1, 2.6.27-gentoo-r5 i686)
=================================================================
System uname: Linux-2.6.27-gentoo-r5-i686-Genuine_Intel-R-_CPU_T2300_@_1.66GHz-with-glibc2.0
Timestamp of tree: Tue, 30 Dec 2008 19:30:01 +0000
ccache version 2.4 [enabled]
app-shells/bash:     3.2_p48
dev-java/java-config: 1.3.7-r1, 2.1.6-r1
dev-lang/python:     2.5.2-r8
dev-python/pycrypto: 2.0.1-r6
dev-util/ccache:     2.4-r8
dev-util/cmake:      2.6.2
sys-apps/baselayout: 2.0.0
sys-apps/openrc:     9999
sys-apps/sandbox:    1.3.2
sys-devel/autoconf:  2.13, 2.63
sys-devel/automake:  1.4_p6, 1.5, 1.7.9-r1, 1.9.6-r2, 1.10.2
sys-devel/binutils:  2.19
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   2.2.6a
virtual/os-headers:  2.6.28-r1
ACCEPT_KEYWORDS="x86 ~x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=native -O2 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/splash /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-march=native -O2 -pipe -fomit-frame-pointer"
DISTDIR="/var/distfiles"
FEATURES="ccache collision-protect confcache distlocks elog fixpackages metadata-transfer notitles parallel-fetch preserve-libs protect-owned sandbox sfperms sign strict unmerge-orphans userfetch userpriv usersandbox"
GENTOO_MIRRORS="ftp://gentoo.anheng.com.cn/gentoo       http://mirror.averse.net/pub/gentoo                 http://mirrors.acm.cs.rpi.edu/gentoo        http://distfiles.gentoo.org"
INSTALL_MASK="TODO.bz2 INSTALL.bz2"
LANG="en_US.utf-8"
LC_ALL="zh_CN.UTF-8"
LDFLAGS="-Wl,--hash-style=both -Wl,-O1 -Wl,--as-needed -Wl,--sort-common"
LINGUAS="en zh_CN zh"
MAKEOPTS="-j5"
PKGDIR="/home/oahong/binpkgs"
PORTAGE_COMPRESS=""
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/var/portage/gentoo"
PORTDIR_OVERLAY="/var/portage/gnustep /var/portage/webapps-experimental /var/portage/gentoo-taiwan /var/portage/wolf31o2 /var/portage/x11 /var/portage/sunrise /var/portage/rbu /var/portage/lxde /var/portage/gnome /var/portage/enlightenment /var/portage/desktop-effects /var/portage/initng /var/portage/remi /var/portage/rbu /var/portage/oahong"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X a52 aac acl acpi alsa bash-comletion berkdb bluetooth branding bzip2 cairo cdparanoia cdr cjk cli crypt cups custom-optimization dbus dri dvd dvdr dvdread emboss encode exif fam ffmpeg flac foomaticdb fortran gdbm gif glitz gphoto2 gpm gstreamer gtk hal iceweasel iconv ieee1394 imagemagic ipv6 ipw3945 irc isdnlog jabber joystick jpeg latex ldap libnotify logrotate mad midi mikmod mmx mono mp3 mpeg mplayer msn mudflap mysql ncurses nls nptl nptlonly nsplugin ogg opengl openmp pam pcre pdf perl php png ppds pppd python qt3support quicktime readline reflection samba sdl session spell spl sse sse2 ssl startup-notification subversion svg sysfs tcpd tiff tokenizer truetype unicode usb vcd vhosts vim-syntax vorbis wifi win32codecs x86 xcb xcomposite xine xinerama xml xorg xulrunner xv zlib" ALSA_CARDS="hda-intel" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic auth_digest authn_anon authn_alias     authn_dbd authn_dbm authn_default authn_file authz_dbm authz_default         authz_groupfile authz_host authz_owner authz_user autoindex cache dav        dav_fs dav_lock dbd deflate dir disk_cache env expires ext_filter            file_cache filter headers ident imagemap include info log_config logio       mem_cache mime mime_magic negotiation proxy proxy_ajp proxy_balancer         proxy_connect proxy_http rewrite setenvif so speling status unique_id        userdir usertrack vhost_alias" CAMERAS="canon fuji sony_dscf55 samsung" ELIBC="glibc" INPUT_DEVICES="mouse keyboard evdev synaptics" KERNEL="linux" LCD_DEVICES="ncurses text" LINGUAS="en zh_CN zh" USERLAND="GNU" VIDEO_CARDS="vesa radeon radeonhd"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS





Comment 6


Hong Hao





          2009-01-02 15:01:21 UTC
        

Created attachment 177099 [details]
log

It's failed to merge but not the same as secludedsage's




Comment 7


KATO Kanryu





          2009-03-09 19:15:17 UTC
        

Created attachment 184481 [details]
tail of build.log




Comment 8


KATO Kanryu





          2009-03-09 20:32:51 UTC
        

I cannot build gcc4.3.2, too.

susanoh gcc # emerge --info
Portage 2.1.6.7 (default/linux/amd64/2008.0/desktop, gcc-4.2.4, glibc-2.8_p20080602-r1, 2.6.27-gentoo-r8 x86_64)
=================================================================
System uname: Linux-2.6.27-gentoo-r8-x86_64-AMD_Athlon-tm-_Processor_1640B-with-glibc2.2.5
Timestamp of tree: Sun, 08 Mar 2009 00:00:01 +0000
app-shells/bash:     3.2_p39
dev-java/java-config: 2.1.6-r1
dev-lang/python:     2.4.4-r13, 2.5.2-r7
dev-util/cmake:      2.4.8
sys-apps/baselayout: 1.12.11.1
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.63
sys-devel/automake:  1.7.9-r1, 1.9.6-r2, 1.10.2
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.27-r2
ACCEPT_KEYWORDS="amd64"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -pipe -march=k8 -mtune=k8"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/eselect/postgresql /etc/fonts/fonts.conf /etc/gconf /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/terminfo /etc/udev/rules.d"
CXXFLAGS="-O2 -pipe -march=k8 -mtune=k8"
DISTDIR="/usr/portage/distfiles"
FEATURES="distlocks fixpackages parallel-fetch protect-owned sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://mirror.gentoo.gr.jp http://gentoo.gg3.net/ ftp://ftp.ecc.u-tokyo.ac.jp/GENTOO http://ftp.ucsb.edu/pub/mirrors/linux/gentoo/"
LDFLAGS="-Wl,-O1"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="3dnow 3dnowext X acl acpi alsa amd64 apache2 berkdb bluetooth branding bzip2 cairo cdr cli cracklib crypt cups dbus dri dvd dvdr dvdread eds emboss encode esd evo fam firefox fortran gdbm gif gnome gpm gstreamer gtk hal iconv ipv6 isdnlog jpeg kde ldap libnotify mad midi mikmod mmx mp3 mpeg mudflap multilib ncurses nls nptl nptlonly ogg opengl openmp pam pcre pdf perl png ppds pppd python qt3 qt3support qt4 quicktime readline reflection sdl session spell spl sse sse2 ssl startup-notification svg sysfs tcpd threads tiff truetype unicode usb vorbis xml xorg xulrunner xv zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" USERLAND="GNU" VIDEO_CARDS="fbdev glint i810 intel mach64 mga neomagic nv r128 radeon savage sis tdfx trident vesa vga via vmware voodoo"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LANG, LC_ALL, LINGUAS, MAKEOPTS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS





Comment 9


Hongjiu Zhang





          2009-03-27 05:38:05 UTC
        

I am sorry that I tried to reproduce this bug for 20 times and finally failed.
This bug might be invalid...




Comment 10


gvwolf3d





          2009-06-01 07:25:35 UTC
        

I cannot build gcc-4.3.2-r3 also:


...
-I/var/tmp/portage/sys-devel/gcc-4.3.2-r3/work/gcc-4.3.2/libgfortran -I. -iquote/var/tmp/portage/sys-devel/gcc-4.3.2-r3/work/gcc-4.3.2/libgfortran/io -I/var/tmp/portage/sys-devel/gcc-4.3.2-r3/work/gcc-4.3.2/libgfortran/../gcc -I/var/tmp/portage/sys-devel/gcc-4.3.2-r3/work/gcc-4.3.2/libgfortran/../gcc/config -I../.././gcc -D_GNU_SOURCE -std=gnu99 -Wall -Wstrict-prototypes -Wmissing-prototypes -Wold-style-definition -Wextra -Wwrite-strings -O2 -g -O2 -march=i686 -pipe -MT unix.lo -MD -MP -MF .deps/unix.Tpo -c /var/tmp/portage/sys-devel/gcc-4.3.2-r3/work/gcc-4.3.2/libgfortran/io/unix.c  -fPIC -DPIC -o .libs/unix.o
{standard input}: Assembler messages:
{standard input}:6433: Error: symbol `fstatat64' is already defined
{standard input}:6470: Error: symbol `fstat64' is already defined
{standard input}:7286: Error: symbol `lstat64' is already defined
{standard input}:7319: Error: symbol `stat64' is already defined
make[3]: *** [unix.lo] Error 1
make[3]: Leaving directory `/var/tmp/portage/sys-devel/gcc-4.3.2-r3/work/build/i686-pc-linux-gnu/libgfortran'
make[2]: *** [install] Error 2
make[2]: Leaving directory `/var/tmp/portage/sys-devel/gcc-4.3.2-r3/work/build/i686-pc-linux-gnu/libgfortran'
make[1]: *** [install-target-libgfortran] Error 2
make[1]: Leaving directory `/var/tmp/portage/sys-devel/gcc-4.3.2-r3/work/build'
make: *** [install] Error 2
 * 
 * ERROR: sys-devel/gcc-4.3.2-r3 failed.
 * Call stack:
 *               ebuild.sh, line   48:  Called src_install
 *             environment, line 4818:  Called toolchain_src_install
 *             environment, line 5344:  Called gcc-compiler_src_install
 *             environment, line 2451:  Called die
 * The specific snippet of code:
 *       S=${WORKDIR}/build emake -j1 DESTDIR="${D}" install || die;
 *  The die message:
 *   (no error message)
 * 
 * If you need support, post the topmost build error, and the call stack if relevant.
 * A complete build log is located at '/var/tmp/portage/sys-devel/gcc-4.3.2-r3/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/sys-devel/gcc-4.3.2-r3/temp/environment'.
 * 





Comment 11


gvwolf3d





          2009-06-01 07:32:15 UTC
        

Created attachment 193111 [details]
/var/tmp/portage/sys-devel/gcc-4.3.2-r3/temp/build.log

got this error on two systems




Comment 12


gvwolf3d





          2009-06-01 07:33:25 UTC
        

dax linux # emerge --info
Portage 2.1.6.11 (default/linux/x86/2008.0, gcc-4.1.1, glibc-2.5-r0, 2.6.24-gentoo-r8 i686)
=================================================================
System uname: Linux-2.6.24-gentoo-r8-i686-Intel-R-_Pentium-R-_M_processor_1.80GHz-with-glibc2.0
Timestamp of tree: Sun, 31 May 2009 18:00:01 +0000
app-shells/bash:     3.2_p39
dev-java/java-config: 1.3.7, 2.1.6
dev-lang/python:     2.4.4-r13
dev-python/pycrypto: 2.0.1-r6
sys-apps/baselayout: 1.12.11.1
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.61
sys-devel/automake:  1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.1
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.27-r2
ACCEPT_KEYWORDS="x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=i686 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/revdep-rebuild /etc/terminfo /etc/udev/rules.d"
CXXFLAGS="-O2 -march=i686 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="distlocks fixpackages parallel-fetch protect-owned sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LDFLAGS="-Wl,-O1"
LINGUAS="de us"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X acl alsa berkdb bzip2 cdr cli cracklib crypt cups dri dvd filepicker fortran gdbm gnome gpm gtk iconv ipv6 isdnlog java kde midi mudflap ncurses nls nptl nptlonly opengl openmp pam pcre perl pppd python qt3 qt4 readline reflection screenshot session spl ssl sysfs tcpd unicode x86 xorg xscreensaver zlib" ALSA_CARDS="intel8x0" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="keyboard mouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="de us" USERLAND="GNU" VIDEO_CARDS="vga vesa i810"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LANG, LC_ALL, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY





Comment 13


gvwolf3d





          2009-06-01 07:35:26 UTC
        

As you can see in my "emerge --info", LANG and LC_ALL are not set.
I will try to build with LC_ALL=C




Comment 14


gvwolf3d





          2009-06-01 13:53:10 UTC
        

Got the same error when using LC_ALL=C in /etc/make.conf




Comment 15


SpanKY






          2009-06-03 01:13:28 UTC
        

your issue is completely unrelated (the error messages dont even look remotely similar).  new issues -> new bug reports.




Comment 16


Hongjiu Zhang





          2009-07-25 03:59:17 UTC
        

http://bugs.gentoo.org/show_bug.cgi?id=226651

I notice that this bug might be duplicate of #226651  At least the original bug in this page is the same as #226651

In #226651 I reproduced the bug and provide: selected_int_kind.inc


Step:
1. set LC_ALL="en_US.UTF-8" or LC_ALL="zh_CN.UTF-8" in /etc/make.conf
2. USE="fortran" emerge -1 gcc glibc binutils && USE="fortran" emerge -1 gcc.

Reproducible: Still unknown.




Comment 17


Mark Loeser (RETIRED)






          2009-07-26 19:46:32 UTC
        

I can't reproduce this, and it seems you have problems reproducing it as well.  I'd recommend running memtest to check your RAM.




Comment 18


SpanKY






          2009-12-29 17:00:50 UTC
        

*** Bug 298817 has been marked as a duplicate of this bug. ***




Comment 19


Hongjiu Zhang





          2009-12-31 01:33:19 UTC
        

I dunno. maybe just /var/tmp/portage/sys-devel/gcc-4.3.1-r1/work/gcc-4.3.1/libgfortran/intrinsics/selected_int_kind.f90 is encoded in ANSI instead of UTF8?









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

