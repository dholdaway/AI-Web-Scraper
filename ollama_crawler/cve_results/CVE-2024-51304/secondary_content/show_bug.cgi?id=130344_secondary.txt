Title: 130344 – Exim and Apache die in unsuccessful dhcp attempt
URL: https://bugs.gentoo.org/show_bug.cgi?id=130344

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 130344
Exim and Apache die in unsuccessful dhcp attempt
Last modified: 2006-04-18 05:54:29 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 130344 
      - Exim and Apache die in unsuccessful dhcp attempt


Summary:
Exim and Apache die in unsuccessful dhcp attempt
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Core system

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-04-18 03:40 UTC by Matej Stepanek





      Modified:
    
2006-04-18 05:54 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Matej Stepanek





          2006-04-18 03:40:31 UTC
        

When the user does /etc/init.d/net.eth0 restart and he doesn't get dhcp, apache
and exim are stopped, even when they are binding to the loca interface. This situation is typical for when someone is somewhere in an open space and tries to
connect to a WiFi network.

When the network connectivity is restored and /etc/init.d/net.eth0 restart rerun, Apache and Exim aren't restored either.

There is a perfect reason to run Apache without connectivity - I am having a local copy of webpage on my notebook which is written in PHP and cannot be
viewed without Apache. When I debug the webpage I am looking with a browser
at the locally running HTTP server.

I suggest Apache and Exim to not be stopped by /etc/init.d/net.eth0 restart and if there's a technical reason to stop them, then for them to be restarted again. I am using the locally bound interface of Exim for fetchmail.




Comment 1


Jakub Moc (RETIRED)






          2006-04-18 05:41:29 UTC
        

For stuff that needs net, you need to set RC_NET_STRICT_CHECKING accordingly in /etc/conf.d/rc if you want it to run even when network is not available. See comments in that file.





Comment 2


Matej Stepanek





          2006-04-18 05:54:29 UTC
        

Thanks :) I didn't have the slightest notion that I should look into
this file :(

Not getting dhcp is a very common situation. I suggest to enrich the dhcp failure error message of net.eth0 script with "Some of the services were left shut down.
To change this behaviour see RC_PARALLEL_STARTUP in /etc/conf.d/rc."









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

