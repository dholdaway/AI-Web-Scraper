Title: 119121 – mkxf86config build bad xorg.conf, mouse doesn't work
URL: https://bugs.gentoo.org/show_bug.cgi?id=119121

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 119121
mkxf86config build bad xorg.conf, mouse doesn't work
Last modified: 2006-06-07 13:53:13 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 119121 
      - mkxf86config build bad xorg.conf, mouse doesn't work


Summary:
mkxf86config build bad xorg.conf, mouse doesn't work
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Development

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo LiveCD Package Maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-01-15 13:14 UTC by lxg





      Modified:
    
2006-06-07 13:53 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


lxg





          2006-01-15 13:14:14 UTC
        

The autoconfig service starts livecd-functions.sh which again uses x-setup (afaik). The file /etc/X11/xorg.conf is hereby overwritten with an automatically generated config file.

In this file, the first mouse input device is set to "/dev/ttyS0", a serial mouse. While starting, X takes this (first defined) device, which results in the mouse not working. Deleting this section and restarting the X server with Ctrl+Alt+BS solves the problem, the mouse then works.

I tested this on several machines, I always had the same effect with the same solution.

Possible workaround (better: ugly hack ;-)
write a script that deletes the respective entry from the xorg.conf and get it called by /etc/init.d/local (put it into /etc/init.d/local.start).

btw, if somebody could provide some documentation on x-setup I would be very thankful.




Comment 1


lxg





          2006-01-15 13:17:00 UTC
        

In the workaround, it should be:
[...] put it into /etc/conf.d/local.start [...]




Comment 2


Chris Gianelloni (RETIRED)






          2006-01-15 20:52:15 UTC
        

If mkxf86config is setting up a serial mouse, it is because it is failing detection of any other mouse types.  What kind of mouse do you have and which CD is this happening to you on?




Comment 3


lxg





          2006-01-16 01:27:40 UTC
        

The devices were on two machines pretty simple USB mice, on my notebook I additionally have a Synaptics PS/2 touch pad.

In the config file, there are several mice: the first is as mentioned the serial one, then a IMPS/2 and a USB. As I said, when deleting the first entry, both other work. Even the Synaptics together with the USB mouse, and the latter even with scroll wheel.

The CD is a LiveCD I built myself taking inspirations from http://gentoo-wiki.com/HOWTO_build_a_LiveCD_from_scratch.

Could the serial mouse entry be created because I compiled some support for serial devices into the kernel? If there is a theoretical possibility for this, I could try to compile a kernel w/o serial support and see what happens.




Comment 4


Chris Gianelloni (RETIRED)






          2006-01-16 06:54:28 UTC
        

Which version of mkxf86config are you pulling into your CD?

Using official Gentoo CD creation methods (using catalyst) there are no such issues.  Unfortunately, I cannot either verify nor endorse the use of the wiki's method for creating a CD, as it is first off completely incorrect on catalyst, and second off, outside of the scope of the Gentoo project.

If you have a patch that resolves this problem for you on the latest mkxf86config version, that does not impact official CD building processes, then I'll gladly add it.




Comment 5


Chris Gianelloni (RETIRED)






          2006-06-07 13:53:13 UTC
        

No response...

I've put out a new version of mkxf86config and I still cannot reproduce this.  Resolving as WORKSFORME.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

