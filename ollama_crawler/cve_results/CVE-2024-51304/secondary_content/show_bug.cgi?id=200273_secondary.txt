Title: 200273 – [net-www/swfdec-mozilla] Doesn't install the library properly
URL: https://bugs.gentoo.org/show_bug.cgi?id=200273

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 200273
[net-www/swfdec-mozilla] Doesn't install the library properly
Last modified: 2007-11-25 11:29:20 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 200273 
      - [net-www/swfdec-mozilla] Doesn't install the library properly


Summary:
[net-www/swfdec-mozilla] Doesn't install the library properly
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       enhancement
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-11-25 11:23 UTC by Sander Knopper





      Modified:
    
2007-11-25 11:29 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Modification of the original ebuild

              (swfdec-mozilla-0.5.4.ebuild,1.08 KB,
                text/plain)

            
2007-11-25 11:24 UTC,

            Sander Knopper




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Sander Knopper





          2007-11-25 11:23:53 UTC
        

As stated in the installation instructions the path where the file is installed can't be changed after compilation. So when exeinto() followed by doexe() is called in src_install() the installation basically is screwed and will not work. To avoid this there's a configure option available called "--with-plugin-dir=..." which solves this issue.

I modified the ebuild and added this to make the plugin work, see the attachment I'm going to attach in a minute.




Comment 1


Sander Knopper





          2007-11-25 11:24:58 UTC
        

Created attachment 136969 [details]
Modification of the original ebuild




Comment 2


Jakub Moc (RETIRED)






          2007-11-25 11:29:20 UTC
        

I really don't see what you fixed here, sorry.

<snip>
--- swfdec-mozilla-0.5.4.ebuild.orig	2007-11-24 19:13:58.000000000 +0100
+++ swfdec-mozilla-0.5.ebuild	2007-11-25 12:27:57.000000000 +0100
@@ -1,6 +1,6 @@
 # Copyright 1999-2007 Gentoo Foundation
 # Distributed under the terms of the GNU General Public License v2
-# $Header: /var/cvsroot/gentoo-x86/net-www/swfdec-mozilla/swfdec-mozilla-0.5.4.ebuild,v 1.1 2007/11/24 18:13:58 pclouds Exp $
+# $Header: /var/cvsroot/gentoo-x86/net-www/swfdec-mozilla/swfdec-mozilla-0.5.3.ebuild,v 1.1 2007/10/20 10:51:58 pclouds Exp $
 
 inherit multilib versionator
 
@@ -19,8 +19,9 @@
 RDEPEND=""
 
 src_compile() {
-	econf --with-plugin-dir=/usr/$(get_libdir)/nsbrowser/plugins
-	emake || die "emake failed"
+	econf --with-plugin-dir=/usr/$(get_libdir)/nsbrowser/plugins || die "Couldn't run configure"
+	
+	emake
 }
 
 src_install() {
@@ -29,3 +30,4 @@
 		  insinto /usr/$(get_libdir)/nsbrowser/plugins
 		  doins src/libswfdecmozilla.la
 }
+
</snip>









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

