Title: 211308 – Ksysguard doesn't support lm_sensors with KDE 3.5.9
URL: https://bugs.gentoo.org/show_bug.cgi?id=211308

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 211308
Ksysguard doesn't support lm_sensors with KDE 3.5.9
Last modified: 2008-05-28 06:54:27 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 211308 
      - Ksysguard doesn't support lm_sensors with KDE 3.5.9


Summary:
Ksysguard doesn't support lm_sensors with KDE 3.5.9
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-02-24 20:32 UTC by Niels





      Modified:
    
2008-05-28 06:54 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



1i5t5.duncan
gentoo3









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Niels





          2008-02-24 20:32:11 UTC
        

Simply put: Ksysguard doesn't support lm_sensors with KDE 3.5.9.

There's a patch here:
http://lists-archives.org/kde-devel/15569-ksysguard-to-support-lmsensor-3-x-in-kde-3-5-9.html

I haven't tried it.

Reproducible: Always




Comment 1


Ingmar Vanhassel (RETIRED)






          2008-02-25 10:39:58 UTC
        

KDE 3.5.9 already has this patch as you can see here:

http://websvn.kde.org/tags/KDE/3.5.9/kdebase/ksysguard/ksysguardd/Linux/lmsensors.c?view=log

As sys-apps/lm_sensors-3* isn't in the tree I can't test it, so closing...




Comment 2


Duncan





          2008-03-08 16:07:02 UTC
        

Niels, you may wish to reopen this, as I'm having the issue with lm_sensors-2.10.4 (which is in the tree).  ksysguard-3.5.8 works (I use FEATURES=buildpkg so could just emerge --nodeps =old.version).  ksysguard-3.5.9 just shows the little broken icon in the upper-left corner and won't graph any of my temps on the kicker applet, and when I start the main ksysguard app, it doesn't show any of the lm_sensors choices at all!

KDE team, looking at that log, that patch was the one and only patch between .8 and .9.  I'd say it might have fixed lm_sensors-3, but it appears to have broken lm_sensors 2.x.  Maybe a conditional revert?

I hope to test a revert later and confirm, but I've been up all night testing and filing bugs on OpenRC and the kernel, so it'll have to wait, for now.




Comment 3


Duncan





          2008-03-12 15:38:15 UTC
        

FWIW, there's an lm_sensors-3.0.1 ebuild (and related files) on bug #198030.  I tried it with ksysguard-3.5.9 and while ksysguard would build (3.5.8 won't even build against lm_sensors-3.0.1) and merge, the resulting ksysguard was still broken re lm_sensors (BOTH 3.x and 2.x).

And I didn't bother testing reverting the patch as I had mentioned.  I just fell back to ksysguard-3.5.8, first using the previous binary package and --nodeps as mentioned above, then overlaying it and fixing the deps so it didn't require kdelibs-3.5.8. FWIW, it's a one-line change.  ksysguard-3.5.8.ebuild pseudo-diff:

 KMNAME=kdebase
-MAXKDEVER=$PV
+MAXKDEVER=3.5.9
 KM_DEPRANGE="$PV $MAXKDEVER"
 inherit kde-meta eutils

After that and a remanifest, it remerged just fine against kdelibs-3.5.9.  A quick addition to package.mask then took care of portage's desire to upgrade to the b0rken ksysguard-3.5.9. =8^)




Comment 4


Norman Back





          2008-05-28 06:54:27 UTC
        

I have the same issue with ksysguard-3.5.9.
To work round the issue I have I followed Ducan's to revert to ksysguard-3.5.8.










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

