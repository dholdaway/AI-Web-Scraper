Title: 85584 – media-video/nvidia-glx-1.0.6106-r3 fails to unmerge with portage 2.0.51.19
URL: https://bugs.gentoo.org/show_bug.cgi?id=85584

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 85584
media-video/nvidia-glx-1.0.6106-r3 fails to unmerge with portage 2.0.51.19
Last modified: 2006-03-24 15:13:59 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 85584 
      - media-video/nvidia-glx-1.0.6106-r3 fails to unmerge with portage 2.0.51.19


Summary:
media-video/nvidia-glx-1.0.6106-r3 fails to unmerge with portage 2.0.51.19
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       trivial
      


Assignee:

X11 External Driver Maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-03-16 20:45 UTC by Mike Roest





      Modified:
    
2006-03-24 15:13 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Mike Roest





          2005-03-16 20:45:55 UTC
        

My system had gotten quite out of date.  I updated my system to use the 2004.3 profile, and did a full emerge -u world.  Which completed successfully but emerge is unable to remove an old version of nvidia-glx (1.0.6106-r3). This causes a error at the end of every emerge I run.  The following error message is kicked out if I let portage try to auto unmerge or if I manually try to unmerge.

$ sudo emerge unmerge =media-video/nvidia-glx-1.0.6106-r3

 media-video/nvidia-glx
    selected: 1.0.6106-r3
   protected: none
     omitted: 1.0.6629-r1

>>> 'Selected' packages are slated for removal.
>>> 'Protected' and 'omitted' packages will not be removed.

>>> Waiting 5 seconds before starting...
>>> (Control-C to abort)...
>>> Unmerging in: 5 4 3 2 1
>>> Unmerging media-video/nvidia-glx-1.0.6106-r3...
No package files given... Grabbing a set.

QA Notice: ECLASS 'eutils' inherited illegally in media-video/nvidia-glx-1.0.6106-r3


QA Notice: ECLASS 'multilib' inherited illegally in media-video/nvidia-glx-1.0.6106-r3

/usr/lib/portage/bin/ebuild.sh: /var/db/pkg/media-video/nvidia-glx-1.0.6106-r3/nvidia-glx-1.0.6106-r3.ebuild: line 58: syntax errornear unexpected token `)'
/usr/lib/portage/bin/ebuild.sh: /var/db/pkg/media-video/nvidia-glx-1.0.6106-r3/nvidia-glx-1.0.6106-r3.ebuild: line 58: `           einfo "  1) emerge app-emulation/emul-linux-x86-nvidia"'

!!! ERROR: media-video/nvidia-glx-1.0.6106-r3 failed.
!!! Function , Line 1702, Exitcode 1
!!! error sourcing ebuild
!!! If you need support, post the topmost build error, NOT this status message.

!!! FAILED prerm: 1


Reproducible: Always
Steps to Reproduce:



Expected Results:  
It should have unmerged

$ emerge info
Portage 2.0.51.19 (default-linux/x86/2004.3, gcc-3.3.5, glibc-2.3.4.20040808-r1,
2.6.7-gentoo-r11 i686)
=================================================================
System uname: 2.6.7-gentoo-r11 i686 AMD Athlon(tm) XP 1600+
Gentoo Base System version 1.4.16
Python:              dev-lang/python-2.3.4-r1 [2.3.4 (#1, Mar 14 2005, 19:49:27)]
distcc 2.16 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
ccache version 2.3 [enabled]
dev-lang/python:     2.3.4-r1
sys-devel/autoconf:  2.59-r6, 2.13
sys-devel/automake:  1.7.9-r1, 1.8.5-r3, 1.5, 1.4_p6, 1.6.3, 1.9.4
sys-devel/binutils:  2.15.92.0.2-r1
sys-devel/libtool:   1.4.3-r4, 1.5.10-r4
virtual/os-headers:  2.4.22-r1
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CFLAGS="-O2 -march=athlon-xp -fomit-frame-pointer -funroll-loops -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/X11R6/lib/X11/xkb /usr/kde/2/share/config
/usr/kde/3.2/share/config /usr/kde/3.3/env /usr/kde/3.3/share/config
/usr/kde/3.3/shutdown /usr/kde/3/share/config /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=athlon-xp -fomit-frame-pointer -funroll-loops -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig ccache distlocks sandbox sfperms"
GENTOO_MIRRORS="ftp://gentoo.agsn.ca/
ftp://ftp.sunsite.ualberta.ca/pub/unix/Linux/gentoo/
ftp://mirror.cpsc.ucalgary.ca/mirror/gentoo.org"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://gentoo.agsn.ca/gentoo-portage"
USE="x86 3dnow X aalib alsa apm arts avi berkdb bitmap-fonts bonobo cdr crypt
cscope cups curl doc dvd dvdr emboss encode esd fam flac font-server foomaticdb
fortran gdbm gif gpm gtk gtk2 gtkhtml guile imagemagick imap imlib innodb java
jpeg junit kde ldap libg++libwww mad mikmod mmx motif mozilla mp3 mpeg ncurses
nls ogg oggvorbis opengl oss pam pda pdflib perl perlsuid png python qt
quicktime readline ruby samba sdl slang spell sse ssl svga tcpd tetex tiff
truetype truetype-fonts type1-fonts xml xml2 xmms xv zlib"
Unset:  ASFLAGS, CBUILD, CTARGET, LANG, LC_ALL, LDFLAGS, PORTDIR_OVERLAY




Comment 1


Jeremy Huddleston (RETIRED)






          2005-10-28 00:21:22 UTC
        

can you tell me what the SLOTs are for the two packages?

/var/db/pkg/media-video/nvidia-glx-*/SLOT




Comment 2


Jeremy Huddleston (RETIRED)






          2006-03-24 15:13:59 UTC
        

no response, closing.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

