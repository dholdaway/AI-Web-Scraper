Title: 111217 – [glibc/hardened] emerge glibc-2.3.5-r2 failed:  undefined reference to `.LC2'
URL: https://bugs.gentoo.org/show_bug.cgi?id=111217

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 111217
[glibc/hardened] emerge glibc-2.3.5-r2 failed:  undefined reference to `.LC2'
Last modified: 2007-03-13 17:16:11 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 111217 
      - [glibc/hardened] emerge glibc-2.3.5-r2 failed:  undefined reference to `.LC2'


Summary:
[glibc/hardened] emerge glibc-2.3.5-r2 failed:  undefined reference to `.LC2'
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Core system

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Toolchain Maintainers








URL:







Whiteboard:




Keywords:









Duplicates (2):
    

113625 169270

      (view as bug list)
    


Depends on:




99934



Blocks:







 

        Show dependency tree





 





      Reported:
    
2005-11-02 01:50 UTC by Jacek Sieka





      Modified:
    
2007-03-13 17:16 UTC
      (History)
    




          CC List:
        

5 
          users
          
            (show)
          



GNUtoo
hardened
jni
jsaker
ticho









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Jacek Sieka





          2005-11-02 01:50:00 UTC
        

Here's another issue with upgrading from glibc-2.3.4.20041102-r1. I've seen
#99934, but I do not have -fstack-protector* in my CFLAGS. I've also tried
compiling with CFLAGS="-march=c3-2 -O2 -pipe" and with gcc-3.4.3 but still
doesn't work. Emerge info and last error lines follow, please let me know if
there's anything else you need or I can help out with. Compiled with distcc on
two identical machines with identical setup.

Emerge info:

Portage 2.0.51.22-r2 (hardened/x86/2.6, gcc-3.4.4, glibc-2.3.4.20041102-r1,
2.6.11-hardened-r1 i686)
=================================================================
System uname: 2.6.11-hardened-r1 i686 VIA Nehemiah
Gentoo Base System version 1.6.13
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [enabled]
dev-lang/python:     2.3.5
sys-apps/sandbox:    1.2.11
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.5
sys-devel/binutils:  2.15.92.0.2-r10
sys-devel/libtool:   1.5.18-r1
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-mtune=c3-2 -march=c3-2 -Os -pipe -fomit-frame-pointer -finline-functions"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config
/usr/share/config /var/qmail/alias /var/qmail/control /var/vpopmail/domains
/var/vpopmail/etc"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-mtune=c3-2 -march=c3-2 -Os -pipe -fomit-frame-pointer -finline-functions"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distcc distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://mirror.pudas.net/gentoo"
LANG="en_US.utf8"
LDFLAGS="-Wl,-O2"
MAKEOPTS="-j5"
PKGDIR="/usr/portage//packages/x86/"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage/"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="acl acpi apache2 bash-completion berkdb crypt curl dlloader enscript gd
gdbm glibc-omitfp gmp graphviz hardened hardenedphp imagemagick ithreads java
javascript jpeg latex libg++ libwww memlimit mysql ncurses nls no-htdocs nptl
nptlonly pam parse-clocks pcre perl php pic png postgres python qmail readline
source sqlite ssl symlink tcpd threads truetype unicode userlocales vhosts x86
xml2 zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LC_ALL, LINGUAS, PORTDIR_OVERLAY


Last lines of error:
make[2]: Entering directory `/var/tmp/portage/glibc-2.3.5-r2/work/glibc-2.3.5/iconv'
make[2]: Leaving directory `/var/tmp/portage/glibc-2.3.5-r2/work/glibc-2.3.5/iconv'
make[2]: Entering directory `/var/tmp/portage/glibc-2.3.5-r2/work/glibc-2.3.5/iconv'
i686-pc-linux-gnu-gcc iconv_charmap.c -c -std=gnu99 -O2 -Wall -Winline
-Wstrict-prototypes -Wwrite-strings -march=c3-2 -mtune=c3-2 -pipe
-mpreferred-stack-boundary=2  -g0 -O99 -fomit-frame-pointer
-D__USE_STRING_INLINES -I../locale/programs   -I../include -I.
-I/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv
-I.. -I../libio -I../nptl
-I/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl
-I../sysdeps/i386/elf -I../nptl/sysdeps/unix/sysv/linux/i386/i686
-I../nptl/sysdeps/unix/sysv/linux/i386 -I../nptl/sysdeps/unix/sysv/linux
-I../nptl/sysdeps/pthread -I../sysdeps/pthread -I../nptl/sysdeps/unix/sysv
-I../nptl/sysdeps/unix -I../nptl/sysdeps/i386/i686 -I../nptl/sysdeps/i386
-I../libidn/sysdeps/unix -I../sysdeps/unix/sysv/linux/i386
-I../sysdeps/unix/sysv/linux -I../sysdeps/gnu -I../sysdeps/unix/common
-I../sysdeps/unix/mman -I../sysdeps/unix/inet -I../sysdeps/unix/sysv/i386
-I../sysdeps/unix/sysv -I../sysdeps/unix/i386 -I../sysdeps/unix
-I../sysdeps/posix -I../sysdeps/i386/i686/fpu -I../sysdeps/i386/i686
-I../sysdeps/i386/i486 -I../nptl/sysdeps/i386/i486 -I../sysdeps/i386/fpu
-I../sysdeps/i386 -I../sysdeps/wordsize-32 -I../sysdeps/ieee754/ldbl-96
-I../sysdeps/ieee754/dbl-64 -I../sysdeps/ieee754/flt-32 -I../sysdeps/ieee754
-I../sysdeps/generic/elf -I../sysdeps/generic -nostdinc -isystem
/usr/lib/gcc/i686-pc-linux-gnu/3.4.4/include -isystem //usr/include
-D_LIBC_REENTRANT -D_LIBC_REENTRANT -include ../include/libc-symbols.h  -DPIC  
 -DNOT_IN_libc -o
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/iconv_charmap.o
-MD -MP -MF
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/iconv_charmap.o.dt
-MT
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/iconv_charmap.o
i686-pc-linux-gnu-gcc ../locale/programs/charmap.c -c -std=gnu99 -O2 -Wall
-Winline -Wstrict-prototypes -Wwrite-strings -march=c3-2 -mtune=c3-2 -pipe
-mpreferred-stack-boundary=2  -g0 -O99 -fomit-frame-pointer
-D__USE_STRING_INLINES -DCHARMAP_PATH='"/usr/share/i18n/charmaps"'
-DDEFAULT_CHARMAP=null_pointer -DNEED_NULL_POINTER   -I../include -I.
-I/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv
-I.. -I../libio -I../nptl
-I/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl
-I../sysdeps/i386/elf -I../nptl/sysdeps/unix/sysv/linux/i386/i686
-I../nptl/sysdeps/unix/sysv/linux/i386 -I../nptl/sysdeps/unix/sysv/linux
-I../nptl/sysdeps/pthread -I../sysdeps/pthread -I../nptl/sysdeps/unix/sysv
-I../nptl/sysdeps/unix -I../nptl/sysdeps/i386/i686 -I../nptl/sysdeps/i386
-I../libidn/sysdeps/unix -I../sysdeps/unix/sysv/linux/i386
-I../sysdeps/unix/sysv/linux -I../sysdeps/gnu -I../sysdeps/unix/common
-I../sysdeps/unix/mman -I../sysdeps/unix/inet -I../sysdeps/unix/sysv/i386
-I../sysdeps/unix/sysv -I../sysdeps/unix/i386 -I../sysdeps/unix
-I../sysdeps/posix -I../sysdeps/i386/i686/fpu -I../sysdeps/i386/i686
-I../sysdeps/i386/i486 -I../nptl/sysdeps/i386/i486 -I../sysdeps/i386/fpu
-I../sysdeps/i386 -I../sysdeps/wordsize-32 -I../sysdeps/ieee754/ldbl-96
-I../sysdeps/ieee754/dbl-64 -I../sysdeps/ieee754/flt-32 -I../sysdeps/ieee754
-I../sysdeps/generic/elf -I../sysdeps/generic -nostdinc -isystem
/usr/lib/gcc/i686-pc-linux-gnu/3.4.4/include -isystem //usr/include
-D_LIBC_REENTRANT -D_LIBC_REENTRANT -include ../include/libc-symbols.h  -DPIC  
 -DNOT_IN_libc -o
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/charmap.o
-MD -MP -MF
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/charmap.o.dt
-MT
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/charmap.o
i686-pc-linux-gnu-gcc ../locale/programs/charmap-dir.c -c -std=gnu99 -O2 -Wall
-Winline -Wstrict-prototypes -Wwrite-strings -march=c3-2 -mtune=c3-2 -pipe
-mpreferred-stack-boundary=2  -g0 -O99 -fomit-frame-pointer
-D__USE_STRING_INLINES    -I../include -I.
-I/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv
-I.. -I../libio -I../nptl
-I/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl
-I../sysdeps/i386/elf -I../nptl/sysdeps/unix/sysv/linux/i386/i686
-I../nptl/sysdeps/unix/sysv/linux/i386 -I../nptl/sysdeps/unix/sysv/linux
-I../nptl/sysdeps/pthread -I../sysdeps/pthread -I../nptl/sysdeps/unix/sysv
-I../nptl/sysdeps/unix -I../nptl/sysdeps/i386/i686 -I../nptl/sysdeps/i386
-I../libidn/sysdeps/unix -I../sysdeps/unix/sysv/linux/i386
-I../sysdeps/unix/sysv/linux -I../sysdeps/gnu -I../sysdeps/unix/common
-I../sysdeps/unix/mman -I../sysdeps/unix/inet -I../sysdeps/unix/sysv/i386
-I../sysdeps/unix/sysv -I../sysdeps/unix/i386 -I../sysdeps/unix
-I../sysdeps/posix -I../sysdeps/i386/i686/fpu -I../sysdeps/i386/i686
-I../sysdeps/i386/i486 -I../nptl/sysdeps/i386/i486 -I../sysdeps/i386/fpu
-I../sysdeps/i386 -I../sysdeps/wordsize-32 -I../sysdeps/ieee754/ldbl-96
-I../sysdeps/ieee754/dbl-64 -I../sysdeps/ieee754/flt-32 -I../sysdeps/ieee754
-I../sysdeps/generic/elf -I../sysdeps/generic -nostdinc -isystem
/usr/lib/gcc/i686-pc-linux-gnu/3.4.4/include -isystem //usr/include
-D_LIBC_REENTRANT -D_LIBC_REENTRANT -include ../include/libc-symbols.h  -DPIC  
 -DNOT_IN_libc -o
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/charmap-dir.o
-MD -MP -MF
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/charmap-dir.o.dt
-MT
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/charmap-dir.o
i686-pc-linux-gnu-gcc ../locale/programs/linereader.c -c -std=gnu99 -O2 -Wall
-Winline -Wstrict-prototypes -Wwrite-strings -march=c3-2 -mtune=c3-2 -pipe
-mpreferred-stack-boundary=2  -g0 -O99 -fomit-frame-pointer
-D__USE_STRING_INLINES -DNO_TRANSLITERATION   -I../include -I.
-I/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv
-I.. -I../libio -I../nptl
-I/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl
-I../sysdeps/i386/elf -I../nptl/sysdeps/unix/sysv/linux/i386/i686
-I../nptl/sysdeps/unix/sysv/linux/i386 -I../nptl/sysdeps/unix/sysv/linux
-I../nptl/sysdeps/pthread -I../sysdeps/pthread -I../nptl/sysdeps/unix/sysv
-I../nptl/sysdeps/unix -I../nptl/sysdeps/i386/i686 -I../nptl/sysdeps/i386
-I../libidn/sysdeps/unix -I../sysdeps/unix/sysv/linux/i386
-I../sysdeps/unix/sysv/linux -I../sysdeps/gnu -I../sysdeps/unix/common
-I../sysdeps/unix/mman -I../sysdeps/unix/inet -I../sysdeps/unix/sysv/i386
-I../sysdeps/unix/sysv -I../sysdeps/unix/i386 -I../sysdeps/unix
-I../sysdeps/posix -I../sysdeps/i386/i686/fpu -I../sysdeps/i386/i686
-I../sysdeps/i386/i486 -I../nptl/sysdeps/i386/i486 -I../sysdeps/i386/fpu
-I../sysdeps/i386 -I../sysdeps/wordsize-32 -I../sysdeps/ieee754/ldbl-96
-I../sysdeps/ieee754/dbl-64 -I../sysdeps/ieee754/flt-32 -I../sysdeps/ieee754
-I../sysdeps/generic/elf -I../sysdeps/generic -nostdinc -isystem
/usr/lib/gcc/i686-pc-linux-gnu/3.4.4/include -isystem //usr/include
-D_LIBC_REENTRANT -D_LIBC_REENTRANT -include ../include/libc-symbols.h  -DPIC  
 -DNOT_IN_libc -o
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/linereader.o
-MD -MP -MF
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/linereader.o.dt
-MT
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/linereader.o
i686-pc-linux-gnu-gcc dummy-repertoire.c -c -std=gnu99 -O2 -Wall -Winline
-Wstrict-prototypes -Wwrite-strings -march=c3-2 -mtune=c3-2 -pipe
-mpreferred-stack-boundary=2  -g0 -O99 -fomit-frame-pointer
-D__USE_STRING_INLINES -I../locale/programs   -I../include -I.
-I/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv
-I.. -I../libio -I../nptl
-I/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl
-I../sysdeps/i386/elf -I../nptl/sysdeps/unix/sysv/linux/i386/i686
-I../nptl/sysdeps/unix/sysv/linux/i386 -I../nptl/sysdeps/unix/sysv/linux
-I../nptl/sysdeps/pthread -I../sysdeps/pthread -I../nptl/sysdeps/unix/sysv
-I../nptl/sysdeps/unix -I../nptl/sysdeps/i386/i686 -I../nptl/sysdeps/i386
-I../libidn/sysdeps/unix -I../sysdeps/unix/sysv/linux/i386
-I../sysdeps/unix/sysv/linux -I../sysdeps/gnu -I../sysdeps/unix/common
-I../sysdeps/unix/mman -I../sysdeps/unix/inet -I../sysdeps/unix/sysv/i386
-I../sysdeps/unix/sysv -I../sysdeps/unix/i386 -I../sysdeps/unix
-I../sysdeps/posix -I../sysdeps/i386/i686/fpu -I../sysdeps/i386/i686
-I../sysdeps/i386/i486 -I../nptl/sysdeps/i386/i486 -I../sysdeps/i386/fpu
-I../sysdeps/i386 -I../sysdeps/wordsize-32 -I../sysdeps/ieee754/ldbl-96
-I../sysdeps/ieee754/dbl-64 -I../sysdeps/ieee754/flt-32 -I../sysdeps/ieee754
-I../sysdeps/generic/elf -I../sysdeps/generic -nostdinc -isystem
/usr/lib/gcc/i686-pc-linux-gnu/3.4.4/include -isystem //usr/include
-D_LIBC_REENTRANT -D_LIBC_REENTRANT -include ../include/libc-symbols.h  -DPIC  
  -o
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/dummy-repertoire.o
-MD -MP -MF
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/dummy-repertoire.o.dt
-MT
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/dummy-repertoire.o
i686-pc-linux-gnu-gcc ../locale/programs/simple-hash.c -c -std=gnu99 -O2 -Wall
-Winline -Wstrict-prototypes -Wwrite-strings -march=c3-2 -mtune=c3-2 -pipe
-mpreferred-stack-boundary=2  -g0 -O99 -fomit-frame-pointer
-D__USE_STRING_INLINES -I../locale   -I../include -I.
-I/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv
-I.. -I../libio -I../nptl
-I/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl
-I../sysdeps/i386/elf -I../nptl/sysdeps/unix/sysv/linux/i386/i686
-I../nptl/sysdeps/unix/sysv/linux/i386 -I../nptl/sysdeps/unix/sysv/linux
-I../nptl/sysdeps/pthread -I../sysdeps/pthread -I../nptl/sysdeps/unix/sysv
-I../nptl/sysdeps/unix -I../nptl/sysdeps/i386/i686 -I../nptl/sysdeps/i386
-I../libidn/sysdeps/unix -I../sysdeps/unix/sysv/linux/i386
-I../sysdeps/unix/sysv/linux -I../sysdeps/gnu -I../sysdeps/unix/common
-I../sysdeps/unix/mman -I../sysdeps/unix/inet -I../sysdeps/unix/sysv/i386
-I../sysdeps/unix/sysv -I../sysdeps/unix/i386 -I../sysdeps/unix
-I../sysdeps/posix -I../sysdeps/i386/i686/fpu -I../sysdeps/i386/i686
-I../sysdeps/i386/i486 -I../nptl/sysdeps/i386/i486 -I../sysdeps/i386/fpu
-I../sysdeps/i386 -I../sysdeps/wordsize-32 -I../sysdeps/ieee754/ldbl-96
-I../sysdeps/ieee754/dbl-64 -I../sysdeps/ieee754/flt-32 -I../sysdeps/ieee754
-I../sysdeps/generic/elf -I../sysdeps/generic -nostdinc -isystem
/usr/lib/gcc/i686-pc-linux-gnu/3.4.4/include -isystem //usr/include
-D_LIBC_REENTRANT -D_LIBC_REENTRANT -include ../include/libc-symbols.h  -DPIC  
  -o
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/simple-hash.o
-MD -MP -MF
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/simple-hash.o.dt
-MT
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/simple-hash.o
i686-pc-linux-gnu-gcc ../locale/programs/xstrdup.c -c -std=gnu99 -O2 -Wall
-Winline -Wstrict-prototypes -Wwrite-strings -march=c3-2 -mtune=c3-2 -pipe
-mpreferred-stack-boundary=2  -g0 -O99 -fomit-frame-pointer
-D__USE_STRING_INLINES    -I../include -I.
-I/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv
-I.. -I../libio -I../nptl
-I/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl
-I../sysdeps/i386/elf -I../nptl/sysdeps/unix/sysv/linux/i386/i686
-I../nptl/sysdeps/unix/sysv/linux/i386 -I../nptl/sysdeps/unix/sysv/linux
-I../nptl/sysdeps/pthread -I../sysdeps/pthread -I../nptl/sysdeps/unix/sysv
-I../nptl/sysdeps/unix -I../nptl/sysdeps/i386/i686 -I../nptl/sysdeps/i386
-I../libidn/sysdeps/unix -I../sysdeps/unix/sysv/linux/i386
-I../sysdeps/unix/sysv/linux -I../sysdeps/gnu -I../sysdeps/unix/common
-I../sysdeps/unix/mman -I../sysdeps/unix/inet -I../sysdeps/unix/sysv/i386
-I../sysdeps/unix/sysv -I../sysdeps/unix/i386 -I../sysdeps/unix
-I../sysdeps/posix -I../sysdeps/i386/i686/fpu -I../sysdeps/i386/i686
-I../sysdeps/i386/i486 -I../nptl/sysdeps/i386/i486 -I../sysdeps/i386/fpu
-I../sysdeps/i386 -I../sysdeps/wordsize-32 -I../sysdeps/ieee754/ldbl-96
-I../sysdeps/ieee754/dbl-64 -I../sysdeps/ieee754/flt-32 -I../sysdeps/ieee754
-I../sysdeps/generic/elf -I../sysdeps/generic -nostdinc -isystem
/usr/lib/gcc/i686-pc-linux-gnu/3.4.4/include -isystem //usr/include
-D_LIBC_REENTRANT -D_LIBC_REENTRANT -include ../include/libc-symbols.h  -DPIC  
  -o
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/xstrdup.o
-MD -MP -MF
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/xstrdup.o.dt
-MT
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/xstrdup.oi686-pc-linux-gnu-gcc
../locale/programs/xmalloc.c -c -std=gnu99 -O2 -Wall -Winline
-Wstrict-prototypes -Wwrite-strings -march=c3-2 -mtune=c3-2 -pipe
-mpreferred-stack-boundary=2  -g0 -O99 -fomit-frame-pointer
-D__USE_STRING_INLINES    -I../include -I.
-I/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv
-I.. -I../libio -I../nptl
-I/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl
-I../sysdeps/i386/elf -I../nptl/sysdeps/unix/sysv/linux/i386/i686
-I../nptl/sysdeps/unix/sysv/linux/i386 -I../nptl/sysdeps/unix/sysv/linux
-I../nptl/sysdeps/pthread -I../sysdeps/pthread -I../nptl/sysdeps/unix/sysv
-I../nptl/sysdeps/unix -I../nptl/sysdeps/i386/i686 -I../nptl/sysdeps/i386
-I../libidn/sysdeps/unix -I../sysdeps/unix/sysv/linux/i386
-I../sysdeps/unix/sysv/linux -I../sysdeps/gnu -I../sysdeps/unix/common
-I../sysdeps/unix/mman -I../sysdeps/unix/inet -I../sysdeps/unix/sysv/i386
-I../sysdeps/unix/sysv -I../sysdeps/unix/i386 -I../sysdeps/unix
-I../sysdeps/posix -I../sysdeps/i386/i686/fpu -I../sysdeps/i386/i686
-I../sysdeps/i386/i486 -I../nptl/sysdeps/i386/i486 -I../sysdeps/i386/fpu
-I../sysdeps/i386 -I../sysdeps/wordsize-32 -I../sysdeps/ieee754/ldbl-96
-I../sysdeps/ieee754/dbl-64 -I../sysdeps/ieee754/flt-32 -I../sysdeps/ieee754
-I../sysdeps/generic/elf -I../sysdeps/generic -nostdinc -isystem
/usr/lib/gcc/i686-pc-linux-gnu/3.4.4/include -isystem //usr/include
-D_LIBC_REENTRANT -D_LIBC_REENTRANT -include ../include/libc-symbols.h  -DPIC  
  -o
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/xmalloc.o
-MD -MP -MF
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/xmalloc.o.dt
-MT
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/xmalloc.o../locale/programs/charmap-dir.c:
In function `charmap_aliases':
../locale/programs/charmap-dir.c:268: warning: float format, pointer arg (arg 3)
../locale/programs/charmap-dir.c:269: warning: float format, pointer arg (arg 3)
i686-pc-linux-gnu-gcc strtab.c -c -std=gnu99 -O2 -Wall -Winline
-Wstrict-prototypes -Wwrite-strings -march=c3-2 -mtune=c3-2 -pipe
-mpreferred-stack-boundary=2  -g0 -O99 -fomit-frame-pointer
-D__USE_STRING_INLINES    -I../include -I.
-I/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv
-I.. -I../libio -I../nptl
-I/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl
-I../sysdeps/i386/elf -I../nptl/sysdeps/unix/sysv/linux/i386/i686
-I../nptl/sysdeps/unix/sysv/linux/i386 -I../nptl/sysdeps/unix/sysv/linux
-I../nptl/sysdeps/pthread -I../sysdeps/pthread -I../nptl/sysdeps/unix/sysv
-I../nptl/sysdeps/unix -I../nptl/sysdeps/i386/i686 -I../nptl/sysdeps/i386
-I../libidn/sysdeps/unix -I../sysdeps/unix/sysv/linux/i386
-I../sysdeps/unix/sysv/linux -I../sysdeps/gnu -I../sysdeps/unix/common
-I../sysdeps/unix/mman -I../sysdeps/unix/inet -I../sysdeps/unix/sysv/i386
-I../sysdeps/unix/sysv -I../sysdeps/unix/i386 -I../sysdeps/unix
-I../sysdeps/posix -I../sysdeps/i386/i686/fpu -I../sysdeps/i386/i686
-I../sysdeps/i386/i486 -I../nptl/sysdeps/i386/i486 -I../sysdeps/i386/fpu
-I../sysdeps/i386 -I../sysdeps/wordsize-32 -I../sysdeps/ieee754/ldbl-96
-I../sysdeps/ieee754/dbl-64 -I../sysdeps/ieee754/flt-32 -I../sysdeps/ieee754
-I../sysdeps/generic/elf -I../sysdeps/generic -nostdinc -isystem
/usr/lib/gcc/i686-pc-linux-gnu/3.4.4/include -isystem //usr/include
-D_LIBC_REENTRANT -D_LIBC_REENTRANT -include ../include/libc-symbols.h  -DPIC  
 -DNOT_IN_libc -o
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/strtab.o
-MD -MP -MF
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/strtab.o.dt
-MT
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/strtab.o
i686-pc-linux-gnu-gcc ../intl/hash-string.c -c -std=gnu99 -O2 -Wall -Winline
-Wstrict-prototypes -Wwrite-strings -march=c3-2 -mtune=c3-2 -pipe
-mpreferred-stack-boundary=2  -g0 -O99 -fomit-frame-pointer
-D__USE_STRING_INLINES    -I../include -I.
-I/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv
-I.. -I../libio -I../nptl
-I/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl
-I../sysdeps/i386/elf -I../nptl/sysdeps/unix/sysv/linux/i386/i686
-I../nptl/sysdeps/unix/sysv/linux/i386 -I../nptl/sysdeps/unix/sysv/linux
-I../nptl/sysdeps/pthread -I../sysdeps/pthread -I../nptl/sysdeps/unix/sysv
-I../nptl/sysdeps/unix -I../nptl/sysdeps/i386/i686 -I../nptl/sysdeps/i386
-I../libidn/sysdeps/unix -I../sysdeps/unix/sysv/linux/i386
-I../sysdeps/unix/sysv/linux -I../sysdeps/gnu -I../sysdeps/unix/common
-I../sysdeps/unix/mman -I../sysdeps/unix/inet -I../sysdeps/unix/sysv/i386
-I../sysdeps/unix/sysv -I../sysdeps/unix/i386 -I../sysdeps/unix
-I../sysdeps/posix -I../sysdeps/i386/i686/fpu -I../sysdeps/i386/i686
-I../sysdeps/i386/i486 -I../nptl/sysdeps/i386/i486 -I../sysdeps/i386/fpu
-I../sysdeps/i386 -I../sysdeps/wordsize-32 -I../sysdeps/ieee754/ldbl-96
-I../sysdeps/ieee754/dbl-64 -I../sysdeps/ieee754/flt-32 -I../sysdeps/ieee754
-I../sysdeps/generic/elf -I../sysdeps/generic -nostdinc -isystem
/usr/lib/gcc/i686-pc-linux-gnu/3.4.4/include -isystem //usr/include
-D_LIBC_REENTRANT -D_LIBC_REENTRANT -include ../include/libc-symbols.h  -DPIC  
  -o
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/hash-string.o
-MD -MP -MF
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/hash-string.o.dt
-MT
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/hash-string.o
i686-pc-linux-gnu-gcc iconvconfig.c -c -std=gnu99 -O2 -Wall -Winline
-Wstrict-prototypes -Wwrite-strings -march=c3-2 -mtune=c3-2 -pipe
-mpreferred-stack-boundary=2  -g0 -O99 -fomit-frame-pointer
-D__USE_STRING_INLINES -DGCONV_PATH='"/usr/lib/gconv"'
-DGCONV_DIR='"/usr/lib/gconv"'   -I../include -I.
-I/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv
-I.. -I../libio -I../nptl
-I/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl
-I../sysdeps/i386/elf -I../nptl/sysdeps/unix/sysv/linux/i386/i686
-I../nptl/sysdeps/unix/sysv/linux/i386 -I../nptl/sysdeps/unix/sysv/linux
-I../nptl/sysdeps/pthread -I../sysdeps/pthread -I../nptl/sysdeps/unix/sysv
-I../nptl/sysdeps/unix -I../nptl/sysdeps/i386/i686 -I../nptl/sysdeps/i386
-I../libidn/sysdeps/unix -I../sysdeps/unix/sysv/linux/i386
-I../sysdeps/unix/sysv/linux -I../sysdeps/gnu -I../sysdeps/unix/common
-I../sysdeps/unix/mman -I../sysdeps/unix/inet -I../sysdeps/unix/sysv/i386
-I../sysdeps/unix/sysv -I../sysdeps/unix/i386 -I../sysdeps/unix
-I../sysdeps/posix -I../sysdeps/i386/i686/fpu -I../sysdeps/i386/i686
-I../sysdeps/i386/i486 -I../nptl/sysdeps/i386/i486 -I../sysdeps/i386/fpu
-I../sysdeps/i386 -I../sysdeps/wordsize-32 -I../sysdeps/ieee754/ldbl-96
-I../sysdeps/ieee754/dbl-64 -I../sysdeps/ieee754/flt-32 -I../sysdeps/ieee754
-I../sysdeps/generic/elf -I../sysdeps/generic -nostdinc -isystem
/usr/lib/gcc/i686-pc-linux-gnu/3.4.4/include -isystem //usr/include
-D_LIBC_REENTRANT -D_LIBC_REENTRANT -include ../include/libc-symbols.h  -DPIC
-DNOT_IN_libc=1   -DNOT_IN_libc -o
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/iconvconfig.o
-MD -MP -MF
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/iconvconfig.o.dt
-MT
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/iconvconfig.o
rm -f
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/libc.so.6.new
/bin/sh ../scripts/rellns-sh
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/libc.so
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/libc.so.6.new
i686-pc-linux-gnu-gcc iconv_prog.c -c -std=gnu99 -O2 -Wall -Winline
-Wstrict-prototypes -Wwrite-strings -march=c3-2 -mtune=c3-2 -pipe
-mpreferred-stack-boundary=2  -g0 -O99 -fomit-frame-pointer
-D__USE_STRING_INLINES -I../locale/programs   -I../include -I.
-I/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv
-I.. -I../libio -I../nptl
-I/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl
-I../sysdeps/i386/elf -I../nptl/sysdeps/unix/sysv/linux/i386/i686
-I../nptl/sysdeps/unix/sysv/linux/i386 -I../nptl/sysdeps/unix/sysv/linux
-I../nptl/sysdeps/pthread -I../sysdeps/pthread -I../nptl/sysdeps/unix/sysv
-I../nptl/sysdeps/unix -I../nptl/sysdeps/i386/i686 -I../nptl/sysdeps/i386
-I../libidn/sysdeps/unix -I../sysdeps/unix/sysv/linux/i386
-I../sysdeps/unix/sysv/linux -I../sysdeps/gnu -I../sysdeps/unix/common
-I../sysdeps/unix/mman -I../sysdeps/unix/inet -I../sysdeps/unix/sysv/i386
-I../sysdeps/unix/sysv -I../sysdeps/unix/i386 -I../sysdeps/unix
-I../sysdeps/posix -I../sysdeps/i386/i686/fpu -I../sysdeps/i386/i686
-I../sysdeps/i386/i486 -I../nptl/sysdeps/i386/i486 -I../sysdeps/i386/fpu
-I../sysdeps/i386 -I../sysdeps/wordsize-32 -I../sysdeps/ieee754/ldbl-96
-I../sysdeps/ieee754/dbl-64 -I../sysdeps/ieee754/flt-32 -I../sysdeps/ieee754
-I../sysdeps/generic/elf -I../sysdeps/generic -nostdinc -isystem
/usr/lib/gcc/i686-pc-linux-gnu/3.4.4/include -isystem //usr/include
-D_LIBC_REENTRANT -D_LIBC_REENTRANT -include ../include/libc-symbols.h  -DPIC
-DNOT_IN_libc=1   -DNOT_IN_libc -o
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/iconv_prog.o
-MD -MP -MF
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/iconv_prog.o.dt
-MT
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/iconv_prog.o
mv -f
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/libc.so.6.new
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/libc.so.6
i686-pc-linux-gnu-gcc -nostdlib -nostartfiles -o
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/iconvconfig
 -Wl,-dynamic-linker=/lib/ld-linux.so.2 -Wl,-O2  -Wl,-z,combreloc -Wl,-z,relro
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/csu/crt1.o
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/csu/crti.o
`i686-pc-linux-gnu-gcc --print-file-name=crtbegin.o`
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/iconvconfig.o
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/strtab.o
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/xmalloc.o
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/hash-string.o
 -Wl,-rpath-link=/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl:/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/math:/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/elf:/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/dlfcn:/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/nss:/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/nis:/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/rt:/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/resolv:/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/crypt:/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/nptl
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/libc.so.6
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/libc_nonshared.a
-lgcc -lgcc_eh  `i686-pc-linux-gnu-gcc --print-file-name=crtend.o`
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/csu/crtn.o
i686-pc-linux-gnu-gcc -nostdlib -nostartfiles -o
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/iconv_prog
 -Wl,-dynamic-linker=/lib/ld-linux.so.2 -Wl,-O2  -Wl,-z,combreloc -Wl,-z,relro
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/csu/crt1.o
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/csu/crti.o
`i686-pc-linux-gnu-gcc --print-file-name=crtbegin.o`
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/iconv_prog.o
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/iconv_charmap.o
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/charmap.o
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/charmap-dir.o
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/linereader.o
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/dummy-repertoire.o
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/simple-hash.o
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/xstrdup.o
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/xmalloc.o
 -Wl,-rpath-link=/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl:/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/math:/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/elf:/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/dlfcn:/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/nss:/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/nis:/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/rt:/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/resolv:/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/crypt:/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/nptl
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/libc.so.6
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/libc_nonshared.a
-lgcc -lgcc_eh  `i686-pc-linux-gnu-gcc --print-file-name=crtend.o`
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/csu/crtn.o
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/csu/crtn.o(.init+0x10):/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/csu/crtn.S:15:
undefined reference to `.LC2'
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/csu/crtn.o(.fini+0x10):/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/csu/crtn.S:37:
undefined reference to `.LC3'
collect2: ld returned 1 exit status
distcc[31744] ERROR: compile (null) on localhost failed
make[2]: ***
[/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/iconvconfig]
Error 1
make[2]: *** Waiting for unfinished jobs....
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/csu/crtn.o(.init+0x10):/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/csu/crtn.S:15:
undefined reference to `.LC2'
/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/csu/crtn.o(.fini+0x10):/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/csu/crtn.S:37:
undefined reference to `.LC3'
collect2: ld returned 1 exit status
distcc[27743] ERROR: compile (null) on localhost failed
make[2]: ***
[/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-nptl/iconv/iconv_prog]
Error 1
make[2]: Leaving directory `/var/tmp/portage/glibc-2.3.5-r2/work/glibc-2.3.5/iconv'
make[1]: *** [iconv/others] Error 2
make[1]: Leaving directory `/var/tmp/portage/glibc-2.3.5-r2/work/glibc-2.3.5'
make: *** [all] Error 2

!!! ERROR: sys-libs/glibc-2.3.5-r2 failed.
!!! Function toolchain-glibc_src_compile, Line 233, Exitcode 2
!!! (no error message)
!!! If you need support, post the topmost build error, NOT this status message.




Comment 1


solar (RETIRED)






          2005-11-02 14:22:26 UTC
        

Jacek,
You should relax on those CFLAGS. Mainly that -finline-functions one.




Comment 2


Jacek Sieka





          2005-11-03 14:53:34 UTC
        

Ah, but as I wrote, I've tried with plain -O2 -march=xxx, and still no go. I've
never had any problems with inline before either (on the 4 different stage1
systems I've set up so far...they weren't hardened though). Or are you
suggesting that because the rest of my system is compiled with inlining, some
symbols that glibc expects are gone? 

Any tips what else I might try? Hm, perhaps during the weekend I'll give it a
shot with no CFLAGS, no LDFLAGS and no distcc.

Normally, I wouldn't even bother updating glibc, but other stable packages are
showing up that depend on 2.3.5 now, and it's becoming frustrating to mask them all.




Comment 3


Jakub Moc (RETIRED)






          2005-11-26 07:25:18 UTC
        

*** Bug 113625 has been marked as a duplicate of this bug. ***




Comment 4


Jamie Saker





          2005-11-27 07:01:45 UTC
        

(In reply to comment #2)
> Ah, but as I wrote, I've tried with plain -O2 -march=xxx

Yes, I'm hitting this with minimal CFLAGS except for --fstack-protector (and
from looking at the referenced csu/crtn file, I'm guessing stack smash
protection is tripping up the build). 

Jamie





Comment 5


solar (RETIRED)






          2005-11-27 07:09:13 UTC
        

In big bold lettering. <b> CFLAGS=-fstack-ptorector is not safe. Dont do it. </b>




Comment 6


Jamie Saker





          2005-11-28 18:43:08 UTC
        

<i>CFLAGS=-fstack-ptorector is not safe. Dont do it.</i>

That's ok, mine is set to -fstack-protector-all so I'm sure that's safe! All
kidding aside, the Gentoo hardened docs all recommend the CFLAGS and I've run
that way with many dozens of systems for several years without an incident (save
for being cautious around X11). Since this is somewhat of a surprise and counter
to the docs, can you elaborate or point me to a good reference on the change in
thinking? I very much appreciate it!

Jamie




Comment 7


solar (RETIRED)






          2005-11-29 04:12:37 UTC
        

-fstack-* remains problematic via CFLAGS= If you can find any reference 
in the hardened docs to where we say it's safe to enable please make me
aware of such docs so they can be removed. Basically fstack* must not be
enabled on any code which makes use of -nostdlib or when _LIBC is defined.
The -all option can not be enabled when _LIBC_REENTRANT is defined. 
The only clean way to handle these exceptions is via the toolchain directly.
And todo that you enabbled USE=hardened or switch to the hardenednopie specs.

Bug reported with -fstack* in CFLAGS= make.conf will be marked as INVALID.





Comment 8


Andrej Kacian (RETIRED)






          2005-12-03 11:46:15 UTC
        

I've just had this happen as well, on a stable hardened x86 box:

root@daria ~ # emerge --info
Portage 2.0.53 (hardened/x86/2.6, gcc-3.4.4, glibc-2.3.5-r2, 2.6.11-hardened-r15 
i686)
=================================================================
System uname: 2.6.11-hardened-r15 i686 Celeron (Coppermine)
Gentoo Base System version 1.6.13
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) 
[enabled]
ccache version 2.3 [enabled]
dev-lang/python:     2.4.2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.20
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium3 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config /usr/share/
config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=pentium3 -pipe"
DISTDIR="/usr/gentoo/distfiles"
FEATURES="autoconfig ccache collision-protect distcc distlocks sandbox sfperms 
strict"
GENTOO_MIRRORS="ftp://ftp.sh.cvut.cz/MIRRORS/gentoo/gentoo http://ftp.easynet.
nl/mirror/gentoo"
MAKEOPTS="-j4"
PKGDIR="/usr/gentoo/packages"
PORTAGE_TMPDIR="/var/tmp/portage"
PORTDIR="/usr/gentoo/portage"
PORTDIR_OVERLAY="/usr/gentoo/overlay"
SYNC="rsync://mirror.gentoo.sk/gentoo-portage"
USE="adns apache2 bash-completion berkdb bzip2 crypt curl dlloader ethereal 
expat flac gd gdbm gmp hardened idn imagemagick ipv6 ldap libwww mcal mhash mp3 
mysql ncurses nls nptl nptlonly ogg oss pam pcre perl pic python readline ruby 
samba slang snmp sse ssl tcpd truetype udev unicode userlocales vorbis x86 xml2 
zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS





Comment 9


schaedpq





          2006-04-08 09:48:09 UTC
        

I have a similar issue on my machine while trying zu update to glibc-2.3.5-r3. (without any unusual stuff in CFLAGS) If you think it is not related to this bug, then just say so. ;-)

i686-pc-linux-gnu-gcc -nostdlib -nostartfiles -o /var/tmp/portage/glibc-2.3.5-r3/work/build-default-i686-pc-linux-gnu-linuxthreads/iconv/iconv_prog  -Wl,-dynamic-linker=/lib/ld-linux.so.2   -Wl,-z,combreloc -Wl,-z,relro /var/tmp/portage/glibc-2.3.5-r3/work/build-default-i686-pc-linux-gnu-linuxthreads/csu/crt1.o /var/tmp/portage/glibc-2.3.5-r3/work/build-default-i686-pc-linux-gnu-linuxthreads/csu/crti.o `i686-pc-linux-gnu-gcc --print-file-name=crtbegin.o` /var/tmp/portage/glibc-2.3.5-r3/work/build-default-i686-pc-linux-gnu-linuxthreads/iconv/iconv_prog.o /var/tmp/portage/glibc-2.3.5-r3/work/build-default-i686-pc-linux-gnu-linuxthreads/iconv/iconv_charmap.o /var/tmp/portage/glibc-2.3.5-r3/work/build-default-i686-pc-linux-gnu-linuxthreads/iconv/charmap.o /var/tmp/portage/glibc-2.3.5-r3/work/build-default-i686-pc-linux-gnu-linuxthreads/iconv/charmap-dir.o /var/tmp/portage/glibc-2.3.5-r3/work/build-default-i686-pc-linux-gnu-linuxthreads/iconv/linereader.o /var/tmp/portage/glibc-2.3.5-r3/work/build-default-i686-pc-linux-gnu-linuxthreads/iconv/dummy-repertoire.o /var/tmp/portage/glibc-2.3.5-r3/work/build-default-i686-pc-linux-gnu-linuxthreads/iconv/simple-hash.o /var/tmp/portage/glibc-2.3.5-r3/work/build-default-i686-pc-linux-gnu-linuxthreads/iconv/xstrdup.o /var/tmp/portage/glibc-2.3.5-r3/work/build-default-i686-pc-linux-gnu-linuxthreads/iconv/xmalloc.o  -Wl,-rpath-link=/var/tmp/portage/glibc-2.3.5-r3/work/build-default-i686-pc-linux-gnu-linuxthreads:/var/tmp/portage/glibc-2.3.5-r3/work/build-default-i686-pc-linux-gnu-linuxthreads/math:/var/tmp/portage/glibc-2.3.5-r3/work/build-default-i686-pc-linux-gnu-linuxthreads/elf:/var/tmp/portage/glibc-2.3.5-r3/work/build-default-i686-pc-linux-gnu-linuxthreads/dlfcn:/var/tmp/portage/glibc-2.3.5-r3/work/build-default-i686-pc-linux-gnu-linuxthreads/nss:/var/tmp/portage/glibc-2.3.5-r3/work/build-default-i686-pc-linux-gnu-linuxthreads/nis:/var/tmp/portage/glibc-2.3.5-r3/work/build-default-i686-pc-linux-gnu-linuxthreads/rt:/var/tmp/portage/glibc-2.3.5-r3/work/build-default-i686-pc-linux-gnu-linuxthreads/resolv:/var/tmp/portage/glibc-2.3.5-r3/work/build-default-i686-pc-linux-gnu-linuxthreads/crypt:/var/tmp/portage/glibc-2.3.5-r3/work/build-default-i686-pc-linux-gnu-linuxthreads/linuxthreads /var/tmp/portage/glibc-2.3.5-r3/work/build-default-i686-pc-linux-gnu-linuxthreads/libc.so.6 /var/tmp/portage/glibc-2.3.5-r3/work/build-default-i686-pc-linux-gnu-linuxthreads/libc_nonshared.a -lgcc -Wl,--as-needed -lgcc_s  -Wl,--no-as-needed `i686-pc-linux-gnu-gcc --print-file-name=crtend.o` /var/tmp/portage/glibc-2.3.5-r3/work/build-default-i686-pc-linux-gnu-linuxthreads/csu/crtn.o
/var/tmp/portage/glibc-2.3.5-r3/work/build-default-i686-pc-linux-gnu-linuxthreads/csu/crtn.o:/var/tmp/portage/glibc-2.3.5-r3/work/build-default-i686-pc-linux-gnu-linuxthreads/csu/crtn.S:15: undefined reference to `.LC2'
/var/tmp/portage/glibc-2.3.5-r3/work/build-default-i686-pc-linux-gnu-linuxthreads/csu/crtn.o:/var/tmp/portage/glibc-2.3.5-r3/work/build-default-i686-pc-linux-gnu-linuxthreads/csu/crtn.S:37: undefined reference to `.LC3'
collect2: ld returned 1 exit status
make[2]: *** [/var/tmp/portage/glibc-2.3.5-r3/work/build-default-i686-pc-linux-gnu-linuxthreads/iconv/iconv_prog] Error 1
make[2]: *** Waiting for unfinished jobs....
make[2]: Leaving directory `/var/tmp/portage/glibc-2.3.5-r3/work/glibc-2.3.5/iconv'
make[1]: *** [iconv/others] Error 2
make[1]: Leaving directory `/var/tmp/portage/glibc-2.3.5-r3/work/glibc-2.3.5'
make: *** [all] Error 2

# emerge --info
Portage 2.1_pre6-r5 (hardened/x86/2.6, gcc-3.4.5, glibc-2.3.5-r2, 2.6.14-hardened-r5 i686)
=================================================================
System uname: 2.6.14-hardened-r5 i686 Pentium III (Coppermine)
Gentoo Base System version 1.6.14
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [enabled]
dev-lang/python:     2.3.5-r2, 2.4.2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-mtune=pentium3 -march=pentium3 -O2 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/X11R6/lib/X11/xkb /usr/kde/2/share/config /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/ /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/eselect/compiler /etc/gconf /etc/revdep-rebuild /etc/terminfo /etc/env.d"
CXXFLAGS="-mtune=pentium3 -march=pentium3 -O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig collision-protect confcache distcc distlocks metadata-transfer parallel-fetch sandbox sfperms strict test"
GENTOO_MIRRORS="http://linux.rz.ruhr-uni-bochum.de/download/gentoo-mirror/ ftp://linux.rz.ruhr-uni-bochum.de/gentoo-mirror/"
LINGUAS="de en"
MAKEOPTS="-j3"
PKGDIR="/usr/portage//packages/x86/"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage/"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://linux.rz.ruhr-uni-bochum.de/gentoo-portage"
USE="X X509 a52 aac acpi alsa arts avi bash-completion berkdb bitmap-fonts browserplugin bzip2 cardbus chroot crypt css curlwrappers dga dlloader dri dvd font-server ftp gif gnuplot gs gtk2 hardened imap jabber javascript jpeg lesstif lzo lzw mbox md5sum mime mmx mmxext mozilla mozsvg mp3 mpeg mplayer network nls no_wxgtk1 nodrm nptl nsplugin ntlm offensive ogg opengl pam pam_timestamp pcmcia pic png pnp ppds qt readline recode sftplogging smime sockets sse ssl tcpd theora tiff truetype truetype-fonts type1 type1-fonts userlocales vcd vorbis wifi win32codecs x86 xv zlib elibc_glibc kernel_linux linguas_de linguas_en userland_GNU"
Unset:  ASFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS




Comment 10


Jacob Lindberg





          2006-04-20 04:04:23 UTC
        

Just to try something else out:

(chroot) gh-gsmtp0 portage # cat /etc/portage/package.mask 
>sys-libs/glibc-2.3.5
(chroot) gh-gsmtp0 portage #

collect2: ld returned 1 exit status
distcc[29911] ERROR: compile (null) on localhost failed
make[2]: *** [/var/tmp/portage/glibc-2.3.4.20041102-r1/work/build-default-powerpc-unknown-linux-gnu-linuxthreads/iconv/iconvconfig] Error 1
make[2]: *** Waiting for unfinished jobs....
make[2]: Leaving directory `/var/tmp/portage/glibc-2.3.4.20041102-r1/work/glibc-2.3.3/iconv'
make[1]: *** [iconv/others] Error 2
make[1]: Leaving directory `/var/tmp/portage/glibc-2.3.4.20041102-r1/work/glibc-2.3.3'
make: *** [all] Error 2

!!! ERROR: sys-libs/glibc-2.3.4.20041102-r1 failed.
!!! Function src_compile, Line 759, Exitcode 2
!!! (no error message)
!!! If you need support, post the topmost build error, NOT this status message.

Same situation.

(chroot) gh-gsmtp0 portage # emerge info
Portage 2.0.54 (default-linux/ppc/ppc64/2006.0/32bit-userland/power5, gcc-3.4.5, glibc-2.3.5-r3, 2.6.12.2-pseries ppc64)
=================================================================
System uname: 2.6.12.2-pseries ppc64 POWER5 (gr)
Gentoo Base System version 1.6.14
distcc 2.18.3 powerpc-unknown-linux-gnu (protocols 1 and 2) (default port 3632) [enabled]
dev-lang/python:     2.4.2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  [Not Present]
sys-devel/binutils:  2.16.1
sys-devel/libtool:   [Not Present]
virtual/os-headers:  2.6.11-r4
ACCEPT_KEYWORDS="ppc"
AUTOCLEAN="yes"
CBUILD="powerpc-unknown-linux-gnu"
CFLAGS="-O2 -pipe -mtune=power5 -mcpu=power5"
CHOST="powerpc-unknown-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/eselect/compiler /etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -pipe -mtune=power5 -mcpu=power5"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distcc distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://mirror.uni-c.dk/pub/gentoo/"
MAKEOPTS="-j4"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.nordic/gentoo-portage"
USE="ppc berkdb bzip2 esd fortran gcc64 gdbm gif gpm hardened ibm imlib mikmod ncurses nls nptl pam pcre pdflib perl pic png python readline reflection session spl ssl tcpd udev unicode zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTDIR_OVERLAY

(chroot) gh-gsmtp0 portage #





Comment 11


Jakub Moc (RETIRED)






          2007-03-04 11:58:47 UTC
        

*** Bug 169270 has been marked as a duplicate of this bug. ***




Comment 12


SpanKY






          2007-03-13 06:37:34 UTC
        

these versions of glibc are no longer supported ... if glibc-2.5 shows issues, open a new bug report




Comment 13


Jacek Sieka





          2007-03-13 09:24:32 UTC
        

But 2.5 and 2.4 are profile masked on hardened! I'm still getting this error on 2.3.6-r5 and I'm running gentoo on a server in a remote location where a glibc breakage means a five hour trip to boot from cd.

profiles/hardened/package.mask:
# Mask off glibc-2.4 until the approach for SSP compatibilty is
# resolved in a way that doesn't break running systems, and we
# have a sensible upgrade path.  Advise having a static busybox
# around if you try it in a live system.
# 2006-03-13 kevquinn
=sys-libs/glibc-2.4*
# And 2.5...
# 2006-10-09 kevquinn
=sys-libs/glibc-2.5*






Comment 14


SpanKY






          2007-03-13 17:16:11 UTC
        

glibc-2.5 is being worked on for hardened support ... that doesnt change that glibc-2.3.x will not be seeing any more updates so having a bug open about it doesnt carry much value









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

