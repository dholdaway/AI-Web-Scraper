Title: 86353 – nvidia: 3D games freezes after a short while (tried with enemy-territory, tuxracer)
URL: https://bugs.gentoo.org/show_bug.cgi?id=86353

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 86353
nvidia: 3D games freezes after a short while (tried with enemy-territory, tuxracer)
Last modified: 2006-03-24 15:15:02 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 86353 
      - nvidia: 3D games freezes after a short while (tried with enemy-territory, tuxracer)


Summary:
nvidia: 3D games freezes after a short while (tried with enemy-territory, tux...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Unspecified

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

X11 External Driver Maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-03-23 00:41 UTC by Alexander Mieland





      Modified:
    
2006-03-24 15:15 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



iyosifov
radek









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Alexander Mieland





          2005-03-23 00:41:07 UTC
        

I've a problem with my nvidia/xorg-x11 environment.

Since a few weeks my pc crashes in 3d-games after a short time. Only reset helps then. Sometimes I've some graphical waste on the screen when it crashes but mostly the graphic is clear. The sound repeats every second, no keyboard or mousebutton input works.

This Problem appears since a few weeks. before these weeks it worked great.
It worked also with nvidia-(kernel|glx)-1.0.7167-r1

btw: I can't get it to crash with glxgears...


Reproducible: Always
Steps to Reproduce:
1. run enemy-territory (et) or tuxracer
2. play a few minutes
3.

Actual Results:  
it crashes heavily. Only an hard-reset helps then.

Expected Results:  
well, it should not crash...

========================================
[ebuild   R   ] media-video/nvidia-glx-1.0.7167-r1  9,206 kB 
[ebuild   R   ] media-video/nvidia-kernel-1.0.7167-r1  0 kB 
[ebuild   R   ] x11-base/xorg-x11-6.8.0-r5  -3dfx -3dnow +bitmap-fonts -cjk
-debug -dlloader +dmx -doc -font-server -hardened -insecure-drivers -ipv6
-minimal +mmx +nls +opengl +pam +sdk +sse -static +truetype-fonts +type1-fonts
(-uclibc) +xprint +xv 64,221 kB 
[ebuild   R   ] games-fps/enemy-territory-2.56-r2  -dedicated +opengl 264,343 kB 
========================================


Portage 2.0.51.19 (default-linux/x86/2004.3, gcc-3.3.5, glibc-2.3.4.20041102-r1,
2.6.11-ck2 i686)
=================================================================
System uname: 2.6.11-ck2 i686 Intel(R) Pentium(R) 4 CPU 2.60GHz
Gentoo Base System version 1.4.16
Python:              dev-lang/python-2.3.4-r1 [2.3.4 (#1, Mar 20 2005, 12:05:07)]
dev-lang/python:     2.3.4-r1
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.5, 1.8.5-r3, 1.9.4, 1.6.3, 1.4_p6, 1.7.9-r1
sys-devel/binutils:  2.15.92.0.2-r1
sys-devel/libtool:   1.5.10-r4
virtual/os-headers:  2.6.8.1-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CFLAGS="-O2 -march=pentium4 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env
/usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=pentium4 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig ccache cvs digest distlocks fixpackages sandbox
sfperms"
GENTOO_MIRRORS="ftp://ftp.uni-erlangen.de/pub/mirrors/gentoo
http://ftp.uni-erlangen.de/pub/mirrors/gentoo http://gentoo.inode.at/
ftp://gentoo.inode.at/source/ http://gd.tuwien.ac.at/opsys/linux/gentoo/
ftp://gd.tuwien.ac.at/opsys/linux/gentoo/"
LANG="POSIX"
LC_ALL=""
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/overlays/local /usr/local/overlays/gentoo.de"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X Xaw3d acpi alsa apache2 audiofile avi bcmath bidi bitmap-fonts bzlib
cdinstall cdparanoia cdr cpdflib crypt cups curl divx4linux dmx dvd dvdr dvdread
edl encode exif faad flac flash foomaticdb ftp gd ggi gif gimp gimpprint glx gpm
gstreamer gtk gtk2 gtkhtml icq imagemagick imap imlib java javascript jikes
joystick jpeg jpeg2k kde kdeenablefinal libg++ libwww lzo mad matroska mbox
mikmod mime ming mmx mng motif mozilla mozsvg mozxmlterm mpeg msn mysql nas
ncurses nls nptl nptlonly nvidia odbc oggvorbis opengl oss pam pam-mysql pdflib
perl php png posix ppds pthreads python qt quicktime readline real rplay rtc
samba scanner screenshot sdk sdl session sharedmem simplexml slang slp smime
sndfile sockets speex spell sse sse2 ssl svg tcltk tcpd tga theora threads tidy
tiff tokenizer truetype truetype-fonts type1-fonts usb userlocales v4l v4l2
videos wddx wmf wxwindows xanim xfs xine xml xml2 xmlrpc xmms xosd xpm xprint
xscreensaver xsl xv xvid xvmc zlib linguas_de"
Unset:  ASFLAGS, CBUILD, CTARGET, LDFLAGS




Comment 1


Alexander Mieland





          2005-03-23 00:43:30 UTC
        

btw:
I've also reinstalled the whole gentoo, tried older versions of nvidia-(glx|kernel), xorg-x11, changed from udev to manually managed device nodes and back... nothing helps...




Comment 2


Radek Podgorny





          2005-03-23 02:13:01 UTC
        

Can't this be a temperature-related problem? Have you tried to run glxgears in fullscreen?




Comment 3


Alexander Mieland





          2005-03-23 02:23:46 UTC
        

I don't think that this is a temperature problem, because I've the following *maximum* temperatures (tested during builds)

CPU:        ~49




Comment 4


Alexander Mieland





          2005-03-23 02:23:46 UTC
        

I don't think that this is a temperature problem, because I've the following *maximum* temperatures (tested during builds)

CPU:        ~49°C
mainboard:  ~32°C
HDD1:       ~29°C
HDD2:       ~31°C

So I don't think that the graphics card could be more hot than these components.
And, btw. it worked great a few weeks ago. Without any changes on the hardware.






Comment 5


Alexander Mieland





          2005-03-23 02:26:28 UTC
        

sorry, forgotten...
No I've not tried to run glxgears in fullscreen...
And I really don't want to need to install a new gentoo again, because some important files got lost during those tests.





Comment 6


Radek Podgorny





          2005-03-23 09:33:27 UTC
        

These temperatures are cold-as-ice compared to mine which means I have no idea what can be the problem... :-(





Comment 7


Joshua Baergen (RETIRED)






          2005-03-23 16:38:30 UTC
        

What card do you have and how long have you had it?

Also do you have...*wills self to say it*...Windows installed?  Do you have any issues there if so?




Comment 8


Alexander Mieland





          2005-03-23 23:18:17 UTC
        

It's a Nvidia Geforce 5600 FX and it is one year old.

I've had absolutly no windows since about five years now. So no chance to test it with windows.




Comment 9


Alexander Mieland





          2005-03-23 23:22:34 UTC
        

Sorry, forgotten...
I've tested yesterday some other configurations and resolutions. 
It seems that I can play enemy-territory with 640x480 without problems. I've played it yesterday for about one hour and it did not crash again.

But I've already played it with 1024x768 and other resultions without problems a few weeks ago... so it seems that the graphics card is out of order...






Comment 10


Joshua Baergen (RETIRED)






          2005-03-24 08:23:47 UTC
        

That may be.  One thing to try would be to play with graphics-related BIOS settings, such as AGP aperture, Fastwrites, VGA BIOS caching, etc...

However, if other people have had the same problems, that may not be the case.  Upping the resolution means that the drivers have to access more functionality of the card and thus may still be a driver issue.

Try to play with some hardware settings and see what happens.




Comment 11


Analyzer





          2005-06-18 22:34:22 UTC
        

I have the same problem with nforce2 integrated video, but have also tried AGP
geForce 4Mx. The system is hanging if i launch any gl app for 2 or more times.
glxgears don't hang even in fullscreen. I've tried a couple of linux kernels
from 2.6.10 and different nvidia display driver versions (from 6111) - it
crashes everytime. It worked fine on 2.6.8 with any nvidia-kernel version.

emerge info
Portage 2.0.51.19 (default-linux/x86/2005.0, gcc-3.4.3, glibc-2.3.4.20050125-r0,
2.6.10-gentoo-r7 i686)
=================================================================
System uname: 2.6.10-gentoo-r7 i686 Unknown CPU Type
Gentoo Base System version 1.6.9
Python:              dev-lang/python-2.3.5 [2.3.5 (#1, Mar 17 2005, 17:45:58)]
distcc[32550] (dcc_mkdir) ERROR: mkdir /var/tmp/portage/homedir/.distcc/state
failed: No such file or directory [disabled]
ccache version 2.3 [disabled]
dev-lang/python:     2.3.5
sys-apps/sandbox:    [Not Present]
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.8.5-r3, 1.9.5, 1.5, 1.6.3, 1.7.9-r1, 1.4_p6
sys-devel/binutils:  2.15.92.0.2-r2
sys-devel/libtool:   1.5.10-r4
virtual/os-headers:  2.6.8.1-r2
CCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CFLAGS="-march=i686 -O2 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env
/usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config
/var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/texmf/web2c /etc/env.d"
CXXFLAGS="-march=i686 -O2 -pipe -fomit-frame-pointer"
DISTDIR="/home/gentoo/distfiles"
FEATURES="autoaddcvs autoconfig buildpkg distlocks prelink sandbox sfperms strict"
USE="x86 X a52 aac aalib acpi acpi4linux activefilter alsa apache2 apm arts
artswrappersuid audiofile avi bash-completion bitmap-fonts bluetooth cddb
cdparanoia cdr crypt cups curl dga dv dvd dvdr dvdread eds emboss encode esd
exif fam ffmpeg flacfoomaticdb gd gif gnome gphoto2 gpm gstreamer gtk gtk2 guile
hal iconv imagemagick imlib innodb java jpeg jpeg2k junit kde kdeenablefinal
libg++ libwww lm_sensors logitech-mouse lufsusermount lzo mad maildir mbox
mikmod mjpeg mmx motif mozilla mp3mpeg mppe-mppc ncurses no-old-linux no_wxgtk1
nomotif nptl nptlonly odbc ogg oggvorbis opengl pam pcre pdflib pic png pwdb qt
quicktime readline real rtc ruby samba sdl slang slp spell sqlite ssl symlink
tetex threads tiff transcode truetype truetype-fonts unicode usb utf8 v4l v4l2
vcdimager vorbis wifi xine xml xml2 xv yv12 zlib linguas_ru userland_GNU
kernel_linux elibc_glibc"




Comment 12


Lee Trager





          2005-07-07 21:17:54 UTC
        

This is a well known problem, its a problem with the nvidia driver which is
discussed here. http://www.nvnews.net/vbulletin/showthread.php?t=49117&highlight=Xid

Since the nvidia driver is "unified," meaning the same code is compiled for
Linux BSD, Mac, Solaris, and Win it can effect any OS. On Linux the problem can
be seen in your kernel log after the crash happens, you can try to switch
terminals or ssh into your computer to view dmesg and you will see a bunch of
errors about Xid, which basicly mean something screwed up with the video
card(nvidia hasnt really said what they mean). Each release seems to help(most
of my apps dont get it now and when one does its easy to kill) but it hasnt been
fixed. For some reason running glxgears and then a game seems to make it go
away. Try that and keep up with the latest nvidia drivers.




Comment 13


Jeremy Huddleston (RETIRED)






          2005-10-28 00:25:17 UTC
        

How is 7676-r1 doing wrt this bug?




Comment 14


Jeremy Huddleston (RETIRED)






          2006-03-24 15:15:02 UTC
        

no response, closing...









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

