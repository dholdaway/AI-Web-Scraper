Title: 86728 – updatedb ignores PRUNEPATHS in /etc/updatedb.conf
URL: https://bugs.gentoo.org/show_bug.cgi?id=86728

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 86728
updatedb ignores PRUNEPATHS in /etc/updatedb.conf
Last modified: 2006-10-05 00:00:56 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 86728 
      - updatedb ignores PRUNEPATHS in /etc/updatedb.conf


Summary:
updatedb ignores PRUNEPATHS in /etc/updatedb.conf
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo's Team for Core System packages








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-03-25 19:00 UTC by Wonko





      Modified:
    
2006-10-05 00:00 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Wonko





          2005-03-25 19:00:22 UTC
        

updatedb ignores the PRUNEPATHS setting in /etc/updatedb.conf on one of my systems. It is working fine on others, though, all running version 2.7-r7 of slocate.

Reproducible: Always
Steps to Reproduce:
1. Set PRUNEPATHS="/" in /etc/updatedb.conf
2. updatedb


Actual Results:  
updatedb indexes all files (but honours the PRUNEFS setting).

Expected Results:  
updatedb should finish in less than one second because nothing should be indexed.

Portage 2.0.51.19 (default-linux/x86/2004.0, gcc-3.3.5,
glibc-2.2.5-r2,glibc-2.3.4.20041102-r1, 2.6.10-gentoo-r6 i686)
=================================================================
System uname: 2.6.10-gentoo-r6 i686 Pentium III (Katmai)
Gentoo Base System version 1.4.16
Python:              dev-lang/python-2.2.3-r5,dev-lang/python-2.3.4-r1 [2.3.4
(#1, Feb  9 2005, 05:31:18)]
distcc 2.16 i586-pc-linux-gnu (protocols 1 and 2) (default port 3632) [enabled]
ccache version 2.3 [enabled]
dev-lang/python:     2.2.3-r5, 2.3.4-r1
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.7.9-r1, 1.5, 1.6.3, 1.4_p6, 1.9.4, 1.8.5-r3
sys-devel/binutils:  2.15.92.0.2-r1
sys-devel/libtool:   1.5.10-r4
virtual/os-headers:  2.4.18, 2.4.19-r1, 2.4.22-r1
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CFLAGS="-mcpu=i686 -Os -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.1/share/config
/usr/kde/3/share/config /usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref
/usr/share/config /usr/share/texmf/dvipdfm/config/
/usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/
/usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/ /var/bind /var/qmail
/var/qmail/alias /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/sound/events/ /etc/terminfo
/usr/lib/X11/xkb /etc/env.d"
CXXFLAGS="-mcpu=i686 -Os -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig buildpkg ccache distcc distlocks sandbox sfperms
userpriv usersandbox"
GENTOO_MIRRORS="http://distfiles.gentoo.org
http://distro.ibiblio.org/pub/Linux/distributions/gentoo"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/hosts/zone/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage/gentoo-portage"
PORTDIR_OVERLAY="/usr/portage/local"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="x86 X aalib alsa apm avi berkdb bitmap-fonts bonobo crypt cscope cups curl
dga doc emboss encode esd fam flac font-server foomaticdb fortran gdbm gif gpm
gstreamer gtk gtk2 guile imagemagick imlib ipv6 java jpeg libg++ libwww mad
mikmod mmx motif mozilla mp3 mpeg mysql ncurses nls oggvorbis opengl oss pam
pdflib perl png python qt quicktime readline samba sdl slang spell ssl svga
tcltk tcpd tetex tiff truetype truetype-fonts type1-fonts vga xml xml2 xmms xv
zlib linguas_de"
Unset:  ASFLAGS, CBUILD, CTARGET, LANG, LC_ALL, LDFLAGS




Comment 1


SpanKY






          2005-04-26 21:04:22 UTC
        

and if you sync up and re-emerge slocate ?




Comment 2


Wonko





          2005-04-27 02:16:49 UTC
        

Same effect.




Comment 3


Robin Johnson









          2006-10-05 00:00:56 UTC
        

old bug, prunepaths work fine here.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

