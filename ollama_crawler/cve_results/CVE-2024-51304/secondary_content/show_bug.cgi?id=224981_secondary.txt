Title: 224981 – sys-apps/baselayout-1.12.11.1: services error messages are not shown in tty when using parallel startup
URL: https://bugs.gentoo.org/show_bug.cgi?id=224981

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 224981
sys-apps/baselayout-1.12.11.1: services error messages are not shown in tty when using parallel startup
Last modified: 2008-06-07 15:40:07 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 224981 
      - sys-apps/baselayout-1.12.11.1: services error messages are not shown in tty when using parallel startup


Summary:
sys-apps/baselayout-1.12.11.1: services error messages are not shown in tty w...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo's Team for Core System packages








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-06-05 11:59 UTC by Pacho Ramos





      Modified:
    
2008-06-07 15:40 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



roy









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Pacho Ramos






          2008-06-05 11:59:26 UTC
        

When using parallel startup I get the following in tty1:

 * WARNING:  net.eth0 has started but is inactive
 * WARNING:  sshd is scheduled to start when net.eth0 has started.
 * WARNING:  ntp-client is scheduled to start when net.eth0 has started.
 * WARNING:  ntpd is scheduled to start when net.eth0 has started.

But, I the following messages are dropped in /var/log/messages:
Jun  5 13:51:35 localhost ifplugd(eth0)[4305]: client:  * Service ntp-client
starting
Jun  5 13:51:35 localhost ifplugd(eth0)[4305]: client:  * Service ntpd
starting
Jun  5 13:51:35 localhost ifplugd(eth0)[4305]: client:  * Service sshd
starting
Jun  5 13:51:35 localhost ntpd[5265]: ntpd 4.2.4p4@1.1520-o sáb dic 22
09:16:47 UTC 2007 (1)
Jun  5 13:51:35 localhost ntpd[5269]: precision = 1.000 usec
Jun  5 13:51:35 localhost ntpd[5269]: unable to bind to wildcard socket
address 0.0.0.0 - another process may be running - EXITING
Jun  5 13:51:35 localhost ifplugd(eth0)[4305]: client:  Failed to start ntpd
Jun  5 13:51:35 localhost rc-scripts: Failed to start ntpd
[ !! ]
Jun  5 13:51:35 localhost ifplugd(eth0)[4305]: client:  * ERROR:  ntpd failed
to start
Jun  5 13:51:35 localhost rc-scripts: ERROR:  ntpd failed to start

I think that is more useful show these messages in tty1 even if they are shown after finishing boot as user will see them easier than checking messages or having to enable logging in tty12 for syslog

Thanks


Reproducible: Always




Comment 1


Jeroen Roovers (RETIRED)






          2008-06-05 12:24:03 UTC
        

You emerge --info, please.




Comment 2


Pacho Ramos






          2008-06-05 12:26:52 UTC
        

sorry

Portage 2.1.4.4 (default-linux/amd64/2007.0, gcc-4.1.2, glibc-2.6.1-r0, 2.6.25-gentoo-r4 x86_64)
=================================================================
System uname: 2.6.25-gentoo-r4 x86_64 AMD Athlon(tm) 64 Processor 3200+
Timestamp of tree: Thu, 05 Jun 2008 11:30:02 +0000
ccache version 2.4 [enabled]
app-shells/bash:     3.2_p33
dev-java/java-config: 1.3.7, 2.1.6
dev-lang/python:     2.4.4-r13
dev-python/pycrypto: 2.0.1-r6
dev-util/ccache:     2.4-r7
sys-apps/baselayout: 1.12.11.1
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.61-r1
sys-devel/automake:  1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.1
sys-devel/binutils:  2.18-r1
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.23-r3
ACCEPT_KEYWORDS="amd64"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=k8 -O2 -pipe -msse3"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-march=k8 -O2 -pipe -msse3"
DISTDIR="/usr/distfiles"
FEATURES="autoaddcvs ccache collision-protect cvs distlocks metadata-transfer multilib-strict parallel-fetch sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://ftp.belnet.be/mirror/rsync.gentoo.org/gentoo/"
LANG="es_ES.UTF-8"
LC_ALL="es_ES.UTF-8"
LINGUAS="es en_US"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portage/local/layman/sunrise /usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="3dnow 3dnowext X a52 aac acl acpi alsa amd64 asf audiofile avahi bash-completion beagle berkdb bzip2 bzlib cairo caps cdb cdda cddb cdparanoia cdr cli cpdflib cpudetection cracklib cross crypt cups curl daap dbus dga divx4linux djvu dlloader dri dts dv dvb dvd dvdr dvdread eds encode erandom escreen evo evolution exif fam fame fbcon ffmpeg flac foomaticdb fortran ftp galago gb gcj gd ggi gif gimp gimpprint git glitz glut glx gnome gnome-keyring gnome-print gphoto2 gpm gstreamer gtk gtk2 gtkhtml hal hddtemp iconv idn imagemagick imlib isdnlog ithreads jabber java jpeg kde kdeenablefinal kdehiddenvisibility kpathsea lame latex lcms libnotify lm_sensors logrotate mad madwifi midi mikmod mime mjpeg mmx mmxext mng mono moonlight motif mp3 mpeg mpi mplayer mudflap musepack musicbrainz nas nautilus ncurses nethack network nls nocardbus nptl nptlonly nvidia ogg oggvorbis openal opengl openmp pam pch pcre pdf perl pic plotutils png posix ppds pppd python qt3 qt4 quicktime readline reflection remote rtc scanner sdl session slang slp sockets spell spl sse sse2 sse3 ssl startup-notification subversion svg sysvipc tcltk tcpd theora threads thunderbird tiff timidity tk totem trayicon truetype unicode usb v4l v4l2 vcd videos vim vorbis wma wmf xattr xcb xcomposite xft xine xml xml2 xorg xpm xulrunner xv xvid zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="keyboard mouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="es en_US" USERLAND="GNU" VIDEO_CARDS="nvidia nv vesa fbdev vga"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LDFLAGS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS





Comment 3


Roy Marples





          2008-06-05 12:34:26 UTC
        

Those services were started by a daemon not attached to a tty.
The only way to get them to log to the tty is to set the system logger to output to it.




Comment 4


SpanKY






          2008-06-07 15:40:07 UTC
        

sounds like not a bug to me ...









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

