Title: 152667 – wxGTK linking failure on ppc w/ binutils-2.17
URL: https://bugs.gentoo.org/show_bug.cgi?id=152667

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 152667
wxGTK linking failure on ppc w/ binutils-2.17
Last modified: 2006-11-13 07:38:19 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 152667 
      - wxGTK linking failure on ppc w/ binutils-2.17


Summary:
wxGTK linking failure on ppc w/ binutils-2.17
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Core system

  (show other bugs)



Hardware:

PPC
        Linux
      







Importance:
      
High
       normal
      


Assignee:

PPC Porters








URL:







Whiteboard:




Keywords:









Duplicates (1):
    

152902

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2006-10-24 08:43 UTC by Timothy Stotts





      Modified:
    
2006-11-13 07:38 UTC
      (History)
    




          CC List:
        

4 
          users
          
            (show)
          



jakub
rjlouro
toolchain
wxwidgets









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge --info

              (emerge_info_20061024.txt,5.60 KB,
                text/plain)

            
2006-10-24 08:44 UTC,

            Timothy Stotts




Details





portage log of gpac-0.4.2 failing with USE=wxwindows

              (media-video:gpac-0.4.2:20061024-154000.log,282.42 KB,
                text/plain)

            
2006-10-24 08:45 UTC,

            Timothy Stotts




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Timothy Stotts





          2006-10-24 08:43:02 UTC
        

It is necessary to compile gpac-0.4.1_pre* and gpac-0.4.2 with USE='-wxwindows' for linking to succeed with gcc-4* on PPC.

# sudo emerge -q -pv gpac
[ebuild   R   ] media-video/gpac-0.4.2  USE="aac ffmpeg javascript jpeg mad ogg opengl png sdl ssl theora truetype vorbis wxwindows* xml xvid -amr -debug -oss"


g++ -fno-strict-aliasing -Wall -I/var/tmp/portage/gpac-0.4.2/work/gpac/include  -I/usr/lib/wx/include/gtk2-un
icode-release-2.6 -I/usr/include/wx-2.6 -DGTK_NO_CHECK_CASTS -D__WXGTK__ -D_FILE_OFFSET_BITS=64 -D_LARGE_FILE
S -DNO_GCC_PRAGMA -c -o menubtn.o menubtn.cpp 
gcc -Wl,--warn-common -o ../../bin/gcc/Osmo4 wxOsmo4.o wxGPACControl.o fileprops.o Playlist.o menubtn.o -L../
../bin/gcc -lgpac -pthread   -L/usr/X11R6/lib  -lwx_gtk2u_core-2.6 -lwx_baseu-2.6  -lz
/usr/lib/gcc/powerpc-unknown-linux-gnu/4.1.1/../../../../powerpc-unknown-linux-gnu/bin/ld: dynamic variable `_SDA_BASE_@@WXU_2.6' is zero size
/usr/lib/gcc/powerpc-unknown-linux-gnu/4.1.1/../../../../powerpc-unknown-linux-gnu/bin/ld: /usr/lib/gcc/power
pc-unknown-linux-gnu/4.1.1/../../../crt1.o(.rodata+0x0): unresolvable R_PPC_ADDR32 relocation against symbol `_SDA_BASE_@@WXU_2.6'
/usr/lib/gcc/powerpc-unknown-linux-gnu/4.1.1/../../../../powerpc-unknown-linux-gnu/bin/ld: final link failed: Nonrepresentable section on output
collect2: ld returned 1 exit status
make[2]: *** [Osmo4] Error 1
make[2]: Leaving directory `/var/tmp/portage/gpac-0.4.2/work/gpac/applications/osmo4_wx'
make[1]: *** [apps] Error 2
make[1]: Leaving directory `/var/tmp/portage/gpac-0.4.2/work/gpac/applications'
make: *** [apps] Error 2




Comment 1


Timothy Stotts





          2006-10-24 08:44:47 UTC
        

Created attachment 100385 [details]
emerge --info




Comment 2


Timothy Stotts





          2006-10-24 08:45:27 UTC
        

Created attachment 100386 [details]
portage log of gpac-0.4.2 failing with USE=wxwindows




Comment 3


Jakub Moc (RETIRED)






          2006-10-26 11:52:45 UTC
        

*** Bug 152902 has been marked as a duplicate of this bug. ***




Comment 4


Luca Barbato






          2006-10-27 03:30:05 UTC
        

rebuild wx please...




Comment 5


Timothy Stotts





          2006-10-27 08:48:10 UTC
        

Confirmed. My genlop -l shows that I effectively did:
(1) build of wxGTK 2.4* and 2.6*
(2) upgrade only binutils
(3) compile against wxGTK
(4) notice failure to link

Recompiling wxGTK with new binutils then allows new packages to link against it.

(Unusual behavior IMHO.)

Change to whatever resolution you think most appropriate :).





Comment 6


Timothy Stotts





          2006-10-27 08:48:40 UTC
        

Confirmed. My genlop -l shows that I effectively did:
(1) build of wxGTK 2.4* and 2.6*
(2) upgrade only binutils
(3) compile against wxGTK
(4) notice failure to link

Recompiling wxGTK with new binutils then allows new packages to link against it.

(Unusual behavior IMHO.)

Change to whatever resolution you think most appropriate :).




Comment 7


Joe Jezak (RETIRED)






          2006-11-13 07:38:19 UTC
        

Worked for me after the upgrade.  It's weird behaviour, but I don't think that we can "fix" it.

Feel free to reopen if you have an idea as to how to catch the problem.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

