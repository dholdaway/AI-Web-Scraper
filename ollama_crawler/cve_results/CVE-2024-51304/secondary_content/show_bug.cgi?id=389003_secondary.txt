Title: 389003 – =www-client/chromium-15.0.874.102 fails to compile
URL: https://bugs.gentoo.org/show_bug.cgi?id=389003

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 389003
=www-client/chromium-15.0.874.102 fails to compile
Last modified: 2011-11-01 09:58:03 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 389003 
      - =www-client/chromium-15.0.874.102 fails to compile


Summary:
=www-client/chromium-15.0.874.102 fails to compile
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Chromium Project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2011-10-30 17:43 UTC by Agostino Sarubbo





      Modified:
    
2011-11-01 09:58 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build.log

              (chromium-15.0.874.102:20111030-105520.log.bz2,269.21 KB,
                text/bzip2)

            
2011-10-30 17:43 UTC,

            Agostino Sarubbo




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Agostino Sarubbo






          2011-10-30 17:43:14 UTC
        

Created attachment 291253 [details]
build.log

=www-client/chromium-15.0.874.102 fails to compile

Portage 2.1.10.11 (hardened/linux/x86, gcc-4.4.5, glibc-2.13-r4, 2.6.39-gentoo  i686)
=================================================================                                                                                                                   
System uname: Linux-2.6.39-gentoo-i686-Intel-R-_Celeron-R-_M_CPU_430_@_1.73GHz-with-gentoo-2.0.3                                                                                    
Timestamp of tree: Sat, 29 Oct 2011 17:30:01 +0000                                                                                                                                  
app-shells/bash:          4.1_p9                                                                                                                                                    
dev-lang/python:          2.7.2-r3                                                                                                                                                  
dev-util/cmake:           2.8.4-r1                                                                                                                                                  
dev-util/pkgconfig:       0.26                                                                                                                                                      
sys-apps/baselayout:      2.0.3                                                                                                                                                     
sys-apps/openrc:          0.8.3-r1                                                                                                                                                  
sys-apps/sandbox:         2.4                                                                                                                                                       
sys-devel/autoconf:       2.13, 2.68                                                                                                                                                
sys-devel/automake:       1.11.1                                                                                                                                                    
sys-devel/binutils:       2.20.1-r1                                                                                                                                                 
sys-devel/gcc:            4.4.5                                                                                                                                                     
sys-devel/gcc-config:     1.4.1-r1                                                                                                                                                  
sys-devel/libtool:        2.4-r1                                                                                                                                                    
sys-devel/make:           3.82-r1                                                                                                                                                   
sys-kernel/linux-headers: 2.6.39 (virtual/os-headers)                                                                                                                               
sys-libs/glibc:           2.13-r4                                                                                                                                                   
Repositories: gentoo x-portage                                                                                                                                                      
ACCEPT_KEYWORDS="x86"                                                                                                                                                               
ACCEPT_LICENSE="*"                                                                                                                                                                  
CBUILD="i686-pc-linux-gnu"                                                                                                                                                          
CFLAGS="-O2 -march=prescott -g"                                                                                                                                                     
CHOST="i686-pc-linux-gnu"                                                                                                                                                           
CONFIG_PROTECT="/etc /usr/share/config /usr/share/gnupg/qualified.txt"                                                                                                              
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo"                    
CXXFLAGS="-O2 -march=prescott -g"                                                                                                                                                   
DISTDIR="/media/sources"                                                                                                                                                            
EMERGE_DEFAULT_OPTS="--with-bdeps y"                                                                                                                                                
FEATURES="assume-digests binpkg-logs collision-protect distlocks ebuild-locks fixlafiles fixpackages news parallel-fetch protect-owned sandbox sfperms split-log splitdebug strict unknown-features-warn unmerge-logs unmerge-orphans userfetch userpriv usersandbox"
FFLAGS=""
GENTOO_MIRRORS="http://distfiles.gentoo.org"
LANG="it_IT.UTF-8"
LDFLAGS="-Wl,-O1 -Wl,--as-needed -Wl,--hash-style=gnu"
LINGUAS="en en_GB"
MAKEOPTS="-j1"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X aac acl acpi alsa apic bash-completion berkdb bzip2 cairo cli consolekit cracklib crypt custom-cflags custom-optimization cxx dbus dri dvd extras ffmpeg gdbm gpm gtk hardened iconv jpeg jpeg2k kde lame lm_sensors mad mmx modules mp3 mudflap ncurses networkmanager nls nptl nptlonly nsplugin opengl openmp pam pax_kernel pcre pic png policykit pppd qt3support qt4 readline semantic-desktop session sse sse2 ssl svg symlink sysfs tcpd threads tiff tordns udev urandom x264 x86 xorg zlib" ALSA_CARDS="hda-intel" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" ELIBC="glibc" INPUT_DEVICES="keyboard mouse evdev synaptics" KERNEL="linux" LINGUAS="en en_GB" PHP_TARGETS="php5-3" RUBY_TARGETS="ruby18" USERLAND="GNU" VIDEO_CARDS="intel"
Unset:  CPPFLAGS, CTARGET, INSTALL_MASK, LC_ALL, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Mike Gilbert






          2011-10-31 00:29:34 UTC
        

From the log:

collect2: ld terminated with signal 6 [Aborted]
malloc() ../../sandbox-2.4/libsandbox/libsandbox.c:resolve_path():263: malloc(8192) failed: Operation not permitted
make: *** [out/Release/chrome] Error 1

I'm not quite sure what to make of that. It seems that sandbox tried to allocate memory and failed?

Can you reproduce this consistently?




Comment 2


Agostino Sarubbo






          2011-10-31 00:59:38 UTC
        

(In reply to comment #1)
> Can you reproduce this consistently?

No, only when I trying to compile it with debug symbols. I'll try with no sandbox "restrictions"




Comment 3


Mike Gilbert






          2011-10-31 01:09:18 UTC
        

Ah, well compiling with debug symbols requires more than 2 GB of memory on amd64.

I think x86 has a 2 GB limit for memory consumed by a single process, so that might be what you are running into here.




Comment 4


Agostino Sarubbo






          2011-10-31 01:11:49 UTC
        

I have only 2gb, probably is an hardware limit of this machine? :/




Comment 5


Paweł Hajdan, Jr. (RETIRED)






          2011-11-01 09:52:42 UTC
        

I'm also compiling on x86, but have lots of swap. Please re-open if it still fails after adding sufficient amount of swap.

# free -m
             total       used       free     shared    buffers     cached
Mem:          1514        938        576          0        178        522
-/+ buffers/cache:        238       1276
Swap:         1906        139       1766




Comment 6


Agostino Sarubbo






          2011-11-01 09:58:03 UTC
        

(In reply to comment #5)
> I'm also compiling on x86, but have lots of swap.
mee too 
Swap:         1999        160       1839









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

