Title: 82240 – [vim7] vim-7.0_alpha20050201 segv in wildmenu
URL: https://bugs.gentoo.org/show_bug.cgi?id=82240

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 82240
[vim7] vim-7.0_alpha20050201 segv in wildmenu
Last modified: 2005-08-10 07:57:19 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 82240 
      - [vim7] vim-7.0_alpha20050201 segv in wildmenu


Summary:
[vim7] vim-7.0_alpha20050201 segv in wildmenu
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        All
      







Importance:
      
High
       normal
      


Assignee:

Vim Maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-02-16 05:30 UTC by Aaron Walker (RETIRED)





      Modified:
    
2005-08-10 07:57 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Aaron Walker (RETIRED)






          2005-02-16 05:30:51 UTC
        

1. Open vim.
2. :echo b:lastl<TAB>

backtrace:
#0  0xffffe410 in ?? ()
#1  0xbfffeabc in ?? ()
#2  0xb79a7ff4 in ?? () from /lib/libc.so.6
#3  0x0000000b in ?? ()
#4  0xb78bdb46 in kill () from /lib/libc.so.6
#5  0x08144410 in may_core_dump () at os_unix.c:2828
#6  0x081443b5 in mch_exit (r=1) at os_unix.c:2803
#7  0x080efa65 in getout (exitval=1) at main.c:2359
#8  0x08112849 in preserve_exit () at misc1.c:7759
#9  0x0814298c in deathtrap (sigarg=11) at os_unix.c:995
#10 <signal handler called>
#11 0xb78fc3db in strlen () from /lib/libc.so.6
#12 0x08093be6 in cat_prefix_varname (prefix=119, name=0x1d91 <Address 0x1d91 out of bounds>)
    at eval.c:2994
#13 0x08093e6f in get_user_var_name (xp=0xbffff090, idx=224) at eval.c:3075
#14 0x08097c79 in get_expr_name (xp=0xbffff090, idx=1002) at eval.c:6024
#15 0x080cef73 in ExpandGeneric (xp=0xbffff090, regmatch=0xbfffeef0, num_file=0xbffff0a4, 
    file=0xbffff0a8, func=0x8097c1d <get_expr_name>) at ex_getln.c:4047
#16 0x080cef16 in ExpandFromContext (xp=0xbffff090, pat=0x87ed2d8 "^b:lastl", 
    num_file=0xbffff0a4, file=0xbffff0a8, options=218) at ex_getln.c:4004
#17 0x080cd8e7 in ExpandOne (xp=0xbffff090, str=0x87ed2d8 "^b:lastl", 
    orig=0x8635b68 "b:lastl", options=218, mode=3) at ex_getln.c:3059
#18 0x080cd525 in nextwild (xp=0xbffff090, type=3, options=8) at ex_getln.c:2890
#19 0x080c9dad in getcmdline (firstc=58, count=1, indent=0) at ex_getln.c:719
#20 0x080cbd85 in getexline (c=58, dummy=0x0, indent=0) at ex_getln.c:1858
#21 0x080b910f in do_cmdline (cmdline=0x0, getline=0x80cbd4d <getexline>, cookie=0x0, 
    flags=0) at ex_docmd.c:915
#22 0x08127aad in nv_colon (cap=0xbffff640) at normal.c:4763
#23 0x081221cc in normal_cmd (oap=0xbffff6b0, toplevel=1) at normal.c:1114
#24 0x080ef81d in main_loop (cmdwin=0) at main.c:2231
#25 0x080ef4cb in main (argc=0, argv=0xbffff8f8) at main.c:2049

emerge info:
Portage 2.0.51.16 (default-linux/x86/2004.2, gcc-3.4.3, glibc-2.3.4.20050125-r0, 2.6.10 i686)
=================================================================
System uname: 2.6.10 i686 AMD Athlon(tm) XP 2600+
Gentoo Base System version 1.6.9
Python:              dev-lang/python-2.4-r2,dev-lang/python-2.3.4 [2.4 (#1, Feb  8 2005, 12:16:55)]
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
ccache version 2.3 [enabled]
dev-lang/python:     2.4-r2, 2.3.4
sys-devel/autoconf:  2.59-r6, 2.13
sys-devel/automake:  1.7.9-r1, 1.8.5-r3, 1.5, 1.4_p6, 1.6.3, 1.9.4
sys-devel/binutils:  2.15.92.0.2-r2
sys-devel/libtool:   1.5.10-r4
virtual/os-headers:  2.6.8.1-r2
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CFLAGS="-O2 -march=athlon-xp -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /etc/env.d /usr/kde/2/share/config /usr/kde/3/share/config /usr/lib/X11/xkb /usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/ /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=athlon-xp -pipe"
DISTDIR="/usr/local/distfiles"
FEATURES="autoaddcvs autoconfig ccache collision-protect cvs digest distlocks sandbox sfperms sign strict"
GENTOO_MIRRORS="ftp://ftp.ucsb.edu/pub/mirrors/linux/gentoo/	ftp://gentoo.chem.wisc.edu/gentoo/ ftp://mirrors.tds.net/gentoo/ ftp://ibiblio.org/pub/Linux/distributions/gentoo/"
LANG="en_US.utf8"
LC_ALL="en_US.utf8"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/buildroot"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/home/ka0ttic/overlay"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="3dnow X aim alsa apache2 bash-completion berkdb bzlib cdr crypt cscope doc esd fam fbcon gdbm gif gtk gtk2 imap imlib jpeg maildir mailwrapper mikmod mmx ncurses nls offensive opengl oss pam pcre pdflib perl png python readline ruby sdl slang sse ssl svga tcpd truetype unicode usb x86 xml2 xmms zlib"
Unset:  ASFLAGS, CBUILD, CTARGET, LDFLAGS




Comment 1


Aaron Walker (RETIRED)






          2005-02-16 05:31:51 UTC
        

err, that backtrace is actually from gvim, not vim, but I'm able to reproduce it in both.




Comment 2


Ciaran McCreesh





          2005-02-16 10:55:27 UTC
        

Mmm. WFM. Can you reproduce it with something like this?

vim -u NONE +'set nocompatible' +'syntax on' +'filetype plugin on' +':so /usr/share/vim/vimfiles/plugin/vimbuddy.vim' +':set laststatus=2' +':set statusline=%{VimBuddy()}'




Comment 3


Ciaran McCreesh





          2005-02-18 11:16:07 UTC
        

Methinks this is a hashtables b0rkage, but I can't reproduce it so I can't figure out where. Hrm.




Comment 4


Ciaran McCreesh





          2005-08-10 07:57:19 UTC
        

Could you please try again with 20050809 and reopen if it's still a problem? I
can't reproduce this one.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

