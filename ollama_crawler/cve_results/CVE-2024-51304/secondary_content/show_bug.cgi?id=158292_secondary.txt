Title: 158292 – gnome-extra/evolution-data-server-1.8.2 fails in src_compile
URL: https://bugs.gentoo.org/show_bug.cgi?id=158292

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 158292
gnome-extra/evolution-data-server-1.8.2 fails in src_compile
Last modified: 2007-04-22 10:39:57 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 158292 
      - gnome-extra/evolution-data-server-1.8.2 fails in src_compile


Summary:
gnome-extra/evolution-data-server-1.8.2 fails in src_compile
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] GNOME

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux Gnome Desktop Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-12-16 07:05 UTC by Christian Heim (RETIRED)





      Modified:
    
2007-04-22 10:39 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



patric.theune









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Christian Heim (RETIRED)






          2006-12-16 07:05:46 UTC
        

i686-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I. -I../.. -I../.. -I../../src -I../../src -I../../src/libical -I../../src/libical -I. -DPACKAGE_DATA_DIR=\"/usr/share/evolution-data-server-1.8\" -march=pentium-m -O2 -ggdb -pipe -MT icalparser.lo -MD -MP -MF .deps/icalparser.Tpo -c icalparser.c  -fPIC -DPIC -o .libs/icalparser.o
if /bin/sh ../../libtool --tag=CC --mode=compile i686-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I. -I../.. -I../.. -I../../src -I../../src -I../../src/libical -I../../src/libical -I. -DPACKAGE_DATA_DIR=\""/usr/share/evolution-data-server-1.8"\"   -march=pentium-m -O2 -ggdb -pipe -MT icalproperty.lo -MD -MP -MF ".deps/icalproperty.Tpo" -c -o icalproperty.lo icalproperty.c; \
        then mv -f ".deps/icalproperty.Tpo" ".deps/icalproperty.Plo"; else rm -f ".deps/icalproperty.Tpo"; exit 1; fi
 i686-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I. -I../.. -I../.. -I../../src -I../../src -I../../src/libical -I../../src/libical -I. -DPACKAGE_DATA_DIR=\"/usr/share/evolution-data-server-1.8\" -march=pentium-m -O2 -ggdb -pipe -MT icalproperty.lo -MD -MP -MF .deps/icalproperty.Tpo -c icalproperty.c  -fPIC -DPIC -o .libs/icalproperty.o
if /bin/sh ../../libtool --tag=CC --mode=compile i686-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I. -I../.. -I../.. -I../../src -I../../src -I../../src/libical -I../../src/libical -I. -DPACKAGE_DATA_DIR=\""/usr/share/evolution-data-server-1.8"\"   -march=pentium-m -O2 -ggdb -pipe -MT icalrecur.lo -MD -MP -MF ".deps/icalrecur.Tpo" -c -o icalrecur.lo icalrecur.c; \
        then mv -f ".deps/icalrecur.Tpo" ".deps/icalrecur.Plo"; else rm -f ".deps/icalrecur.Tpo"; exit 1; fi
 i686-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I. -I../.. -I../.. -I../../src -I../../src -I../../src/libical -I../../src/libical -I. -DPACKAGE_DATA_DIR=\"/usr/share/evolution-data-server-1.8\" -march=pentium-m -O2 -ggdb -pipe -MT icalrecur.lo -MD -MP -MF .deps/icalrecur.Tpo -c icalrecur.c  -fPIC -DPIC -o .libs/icalrecur.o
icalrecur.c: In function 'expand_year_days':
icalrecur.c:1944: error: 'intptr_t' undeclared (first use in this function)
icalrecur.c:1944: error: (Each undeclared identifier is reported only once
icalrecur.c:1944: error: for each function it appears in.)
icalrecur.c:1944: error: expected ',' or ';' before 'pvl_data'
icalrecur.c:2019: error: expected ',' or ';' before 'pvl_data'
icalrecur.c:2046: error: expected ',' or ';' before 'pvl_data'
icalrecur.c:2078: error: expected ',' or ';' before 'pvl_data'
make[7]: *** [icalrecur.lo] Error 1
make[7]: Leaving directory `/var/tmp/portage/evolution-data-server-1.8.2/work/evolution-data-server-1.8.2/calendar/libical/src/libical'
make[6]: *** [all] Error 2
make[6]: Leaving directory `/var/tmp/portage/evolution-data-server-1.8.2/work/evolution-data-server-1.8.2/calendar/libical/src/libical'
make[5]: *** [all-recursive] Error 1
make[5]: Leaving directory `/var/tmp/portage/evolution-data-server-1.8.2/work/evolution-data-server-1.8.2/calendar/libical/src'
make[4]: *** [all-recursive] Error 1
make[4]: Leaving directory `/var/tmp/portage/evolution-data-server-1.8.2/work/evolution-data-server-1.8.2/calendar/libical'
make[3]: *** [all] Error 2
make[3]: Leaving directory `/var/tmp/portage/evolution-data-server-1.8.2/work/evolution-data-server-1.8.2/calendar/libical'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/var/tmp/portage/evolution-data-server-1.8.2/work/evolution-data-server-1.8.2/calendar'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/evolution-data-server-1.8.2/work/evolution-data-server-1.8.2'
make: *** [all] Error 2

!!! ERROR: gnome-extra/evolution-data-server-1.8.2 failed.
Call stack:
  ebuild.sh, line 1546:   Called dyn_compile
  ebuild.sh, line 937:   Called src_compile
  evolution-data-server-1.8.2.ebuild, line 141:   Called gnome2_src_compile
  gnome2.eclass, line 71:   Called die

!!! compile failure
!!! If you need support, post the topmost build error, and the call stack if relevant

Portage 2.1.1-r2 (default-linux/x86/2006.1/desktop, gcc-4.1.1, glibc-2.4-r4, 2.6.18-hardened i686)
=================================================================
System uname: 2.6.18-hardened i686 Dual Core AMD Opteron(tm) Processor 280
Gentoo Base System version 1.12.6
Last Sync: Sat, 16 Dec 2006 12:30:04 +0000
app-admin/eselect-compiler: [Not Present]
dev-java/java-config: [Not Present]
dev-lang/python:     2.4.3-r4
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.60
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.14
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.17-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=pentium-m -O2 -ggdb -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/X11/xkb"
CONFIG_PROTECT_MASK="/etc/env.d /etc/gconf /etc/revdep-rebuild /etc/terminfo"
CXXFLAGS="-march=pentium-m -O2 -ggdb -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig buildpkg distclean distlocks metadata-transfer nostrip sandbox sfperms splitdebug strict"
GENTOO_MIRRORS="http://ftp.osuosl.org/pub/gentoo http://ftp-stud.fht-esslingen.de/Mirrors/gentoo"
INSTALL_MASK="/usr/lib/debug"
LDFLAGS="-Wl,-z,now -Wl,--sort-common"
LINGUAS="en de"
MAKEOPTS="-j2"
PKGDIR="/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X aac alsa berkdb bogofilter bzip2 cairo cdr cracklib dbus dlloader dri dvd dvdr elibc_glibc encode esd firefox flac gif gnome gstreamer gtk hal hardened iconv input_devices_keyboard input_devices_mouse jpeg kernel_linux linguas_de linguas_en mad mikmod mp3 mpeg ncurses no-old-linux nptl nptlonly ogg opengl oss pam pcre perl png python readline spell ssl svg tiff truetype truetype-fonts udev userland_GNU video_cards_i810 video_cards_radeon vorbis win32codecs xine xml xorg xv zlib"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, LANG, LC_ALL, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY




Comment 1


Christian Heim (RETIRED)






          2006-12-17 09:47:57 UTC
        

Looks like another dependency bug (similar to the one reported in #147127 and #155031), will try to elaborate which package is missing for that.




Comment 2


Peter Volkov (RETIRED)






          2007-04-01 16:38:10 UTC
        

Thank you for report, Christian. Could you attach calendar/libical/config.log?

Also check that you are able to reproduce the bug with glibc-2.5 and evolution-data-server-1.8.3-r1.




Comment 3


Patric Theune





          2007-04-15 09:17:33 UTC
        

I encountered the same problem.
after the following command:
emerge --oneshot esound

The problem disappeared.
Christian does this solve the problem for you also?




Comment 4


Peter Volkov (RETIRED)






          2007-04-22 10:39:57 UTC
        

'intptr_t' should be provided by <stdint.h> which should exist on normal gentoo system. I think  something broken in environment. If bug still reproducible, please, reopen and attach config.log from evolution-data-server-1.8.x/calendar/libical/ and config.h. Also dump of environment `evn > env.log` could be usefull.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

