Title: 487416 – =sci-libs/umfpack-5.6.2 - configure: error: Cannot find blas libraries
URL: https://bugs.gentoo.org/show_bug.cgi?id=487416

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 487416
=sci-libs/umfpack-5.6.2 - configure: error: Cannot find blas libraries
Last modified: 2013-11-20 20:48:42 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 487416 
      - =sci-libs/umfpack-5.6.2 - configure: error: Cannot find blas libraries


Summary:
=sci-libs/umfpack-5.6.2 - configure: error: Cannot find blas libraries
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Library

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Science Related Packages








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2013-10-09 11:34 UTC by José Romildo Malaquias





      Modified:
    
2013-11-20 20:48 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




sci-libs:umfpack-5.6.2:20131009-112408.log

              (sci-libs:umfpack-5.6.2:20131009-112408.log,11.36 KB,
                text/plain)

            
2013-10-09 11:34 UTC,

            José Romildo Malaquias




Details





Output of "emerge --info"

              (emerge.info.txt,17.57 KB,
                text/plain)

            
2013-10-09 11:35 UTC,

            José Romildo Malaquias




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


José Romildo Malaquias





          2013-10-09 11:34:16 UTC
        

Created attachment 360486 [details]
sci-libs:umfpack-5.6.2:20131009-112408.log

Emerging sci-libs/umfpack-5.6.2 fails with the error messages:

[...]
checking for Fortran 77 name-mangling scheme... lower case, underscore, no extra underscore
checking for BLAS... no
checking if sgemm_ is being linked in already... no
checking for sgemm_ in -lopenblas... no
checking for ATL_xerbla in -latlas... no
checking for sgemm_ in -lblas... no
checking for sgemm_ in -lmkl_intel_lp64... no
checking for sgemm_ in -lmkl... no
checking for sgemm_ in -framework vecLib... no
checking for sgemm_ in -lcxml... no
checking for sgemm_ in -ldxml... no
checking for sgemm_ in -lscs... no
checking for sgemm_ in -lcomplib.sgimath... no
checking for sgemm_ in -lblas... (cached) no
checking for sgemm_ in -lblas... (cached) no
configure: error: Cannot find blas libraries
[...]




Comment 1


José Romildo Malaquias





          2013-10-09 11:35:10 UTC
        

Created attachment 360488 [details]
Output of "emerge --info"




Comment 2


Justin Lecher (RETIRED)






          2013-10-10 09:43:56 UTC
        

did you setup blas correctly?




Comment 3


François Bissey





          2013-10-10 10:01:21 UTC
        

From the build log:
/tmp/portage/sci-libs/umfpack-5.6.2/work/umfpack-5.6.2/configure --prefix=/usr --build=x86_64-pc-linux-gnu --host=x86_64-pc-linux-gnu --mandir=/usr/share/man --infodir=/usr/share/info --datadir=/usr/share --sysconfdir=/etc --localstatedir=/var/lib --libdir=/usr/lib64 --disable-silent-rules --disable-dependency-tracking --docdir=/usr/share/doc/umfpack-5.6.2 --enable-shared --disable-static --with-blas= --without-doc --with-cholmod

So it is very likely that no blas is eselected at this point in time. There should have been one selected when cholmod was built. Otherwise cholmod would have failed at configuration too.




Comment 4


José Romildo Malaquias





          2013-10-10 11:57:07 UTC
        

(In reply to Justin Lecher from comment #2)
> did you setup blas correctly?

Probably not.

I just want to install sci-mathematics/scilab to use in my Computer Programming classes. I am not directly interested in the multiple versions of BLAS and LAPACK available with Gentoo/Linux, and I know almost nothing about them.

Therefore I just added the science overlay to portage and tried to emerge scilab. The process stopped with the problem reported in this bug.

I see that sci-libs/blas-reference-20120925 and virtual/blas-2.1 have been installed as dependencies, but no message has been sent to the log telling that blas has to be setup correctly.

Maybe it would be good idea to add a post installation message in sci-libs/blas-reference or virtual/blas instructing how to setup blas correctly.




Comment 5


José Romildo Malaquias





          2013-10-10 12:05:12 UTC
        

(In reply to Francois Bissey from comment #3)
> From the build log:
> /tmp/portage/sci-libs/umfpack-5.6.2/work/umfpack-5.6.2/configure
> --prefix=/usr --build=x86_64-pc-linux-gnu --host=x86_64-pc-linux-gnu
> --mandir=/usr/share/man --infodir=/usr/share/info --datadir=/usr/share
> --sysconfdir=/etc --localstatedir=/var/lib --libdir=/usr/lib64
> --disable-silent-rules --disable-dependency-tracking
> --docdir=/usr/share/doc/umfpack-5.6.2 --enable-shared --disable-static
> --with-blas= --without-doc --with-cholmod
> 
> So it is very likely that no blas is eselected at this point in time. There
> should have been one selected when cholmod was built. Otherwise cholmod
> would have failed at configuration too.

In fact eselecting blas fixes the issue.

I think that this should have been told in the post installation messages for blas.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

