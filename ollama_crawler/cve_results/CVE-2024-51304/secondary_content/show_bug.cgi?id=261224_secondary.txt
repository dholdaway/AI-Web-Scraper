Title: 261224 – app-portage/portage-2.1.6.7: emerge -p shows USE flags wrongly disabled
URL: https://bugs.gentoo.org/show_bug.cgi?id=261224

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 261224
app-portage/portage-2.1.6.7: emerge -p shows USE flags wrongly disabled
Last modified: 2009-03-04 21:15:18 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 261224 
      - app-portage/portage-2.1.6.7: emerge -p shows USE flags wrongly disabled


Summary:
app-portage/portage-2.1.6.7: emerge -p shows USE flags wrongly disabled
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Portage Development




Classification:

Unclassified




Component:

Core - Interface (emerge)

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       major
      


Assignee:

Portage team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-03-04 20:52 UTC by Eric Westbrook





      Modified:
    
2009-03-04 21:15 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge --info

              (emerge.info.20090304a,3.59 KB,
                text/plain)

            
2009-03-04 20:53 UTC,

            Eric Westbrook




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Eric Westbrook





          2009-03-04 20:52:33 UTC
        

Despite being in make.conf and even in package.use, certain use flags are marked (-flag%*) during emerge -p.  "euse -i" shows them enabled, as does eix.  Example showing this for the "ipv6" use flag:

# emerge -upv www-client/mozilla-firefox

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild     U ] dev-libs/glib-2.16.6 [2.16.5] USE="-debug -doc% -fam -hardened (-selinux) -xattr" 4,469 kB
[ebuild     U ] net-libs/xulrunner-1.9.0.6-r1 [1.9.0.5] USE="java -custom-optimization -dbus -gnome -startup-notification (-ipv6%*)" 0 kB
[ebuild     U ] www-client/mozilla-firefox-3.0.6 [3.0.5] USE="java xulrunner -bindist -custom-optimization -dbus -gnome -iceweasel -mozdevelop -restrict-javascript -startup-notification (-ipv6%*)" LINGUAS="-af -ar -be -bg -bn -bn_IN -ca -cs -cy -da -de -el -en -en_GB -en_US -eo -es -es_AR -es_ES -et -eu -fi -fr -fy -fy_NL -ga -ga_IE -gl -gu -gu_IN -he -hi -hi_IN -hu -id -is -it -ja -ka -kn -ko -ku -lt -lv -mk -mn -mr -nb -nb_NO -nl -nn -nn_NO -oc -pa -pa_IN -pl -pt -pt_BR -pt_PT -ro -ru -si -sk -sl -sq -sr -sv -sv_SE -te -th -tr -uk -zh -zh_CN -zh_TW" 0 kB

Total: 3 packages (3 upgrades), Size of downloads: 4,469 kB

# euse -i ipv6
global use flags (searching: ipv6)
************************************************************
[+ CD ] ipv6 - Adds support for IP version 6


Reproducible: Always

Steps to Reproduce:
1. emerge -pav www-client/mozilla-firefox
OR 2. emerge -pav net-libs/xulrunner
OR 3. emerge -pav app-text/poppler (affects "jpeg" USE flag in this case)




Comment 1


Eric Westbrook





          2009-03-04 20:53:30 UTC
        

Created attachment 183933 [details]
emerge --info




Comment 2


Zac Medico






          2009-03-04 21:08:06 UTC
        

(In reply to comment #0)
> Despite being in make.conf and even in package.use, certain use flags are
> marked (-flag%*) during emerge -p.  "euse -i" shows them enabled, as does eix. 

Either the euse/eix output is incorrect or you've misinterpreted it. The emerge output is correct and it's showing you that the ipv6 flag has been removed from IUSE. For example, you can query IUSE like this:

portageq metadata / ebuild net-libs/xulrunner-1.9.0.6-r1 IUSE
custom-optimization gnome dbus startup-notification elibc_FreeBSD java

See, there's no ipv6 flag in IUSE because it's been removed.




Comment 3


Eric Westbrook





          2009-03-04 21:15:18 UTC
        

Hmm.  I should have noticed that.  My bad, then, thanks and sorry.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

