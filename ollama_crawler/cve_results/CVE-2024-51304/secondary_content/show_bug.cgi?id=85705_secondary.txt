Title: 85705 – emerge sci-libs/root-4.02.00 fails
URL: https://bugs.gentoo.org/show_bug.cgi?id=85705

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 85705
emerge sci-libs/root-4.02.00 fails
Last modified: 2006-01-15 06:34:33 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 85705 
      - emerge sci-libs/root-4.02.00 fails


Summary:
emerge sci-libs/root-4.02.00 fails
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Science Related Packages








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-03-17 18:18 UTC by Michael Van Damme





      Modified:
    
2006-01-15 06:34 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Full output of 'emerge root'

              (output,276.73 KB,
                text/plain)

            
2005-03-17 18:21 UTC,

            Michael Van Damme




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Michael Van Damme





          2005-03-17 18:18:19 UTC
        

Emerging sci-libs/root-4.02.00 fails. Some snippets from the output:

...
g++ -c -D_LARGEFILE_SOURCE -D_LARGEFILE64_SOURCE -D_FILE_OFFSET_BITS=64 -D_ALL_SOURCE -D_REENTRANT -D_GNU_SOURCE -fPIC -rdynamic -Wall -Wno-deprecated -D__linux__  -DXrdDEBUG=0 -I. -I.. -o ../../obj/XrdOlbManager.o XrdOlbManager.cc
Error in <TPyReturn>: TPyReturn inherits from TObject but does not have its own ClassDef

...
g++ -c -D_LARGEFILE_SOURCE -D_LARGEFILE64_SOURCE -D_FILE_OFFSET_BITS=64 -D_ALL_SOURCE -D_REENTRANT -D_GNU_SOURCE -fPIC -rdynamic -Wall -Wno-deprecated -D__linux__  -DXrdDEBUG=0 -I. -I.. -o ../../obj/XrdOlbPrepare.o XrdOlbPrepare.cc
Error: Array initialization out of range *(TMCProcessName+1), upto 0  FILE:vmc/inc/TMCProcess.h LINE:67
Warning: Error occured during reading source files
Warning: Error occured during dictionary source generation
!!!Removing vmc/src/G__VMC.cxx vmc/src/G__VMC.h !!!
Error: utils/src/rootcint_tmp: error loading headers...
make: *** [vmc/src/G__VMC.cxx] Error 1
make: *** Waiting for unfinished jobs....
...



Reproducible: Always
Steps to Reproduce:
1. emerge root
2.
3.




Comment 1


Michael Van Damme





          2005-03-17 18:21:19 UTC
        

Created attachment 53743 [details]
Full output of 'emerge root'




Comment 2


Patrick Kursawe (RETIRED)






          2005-04-24 23:01:19 UTC
        

"emerge info" output would be nice.




Comment 3


Michael Van Damme





          2005-04-26 22:58:21 UTC
        

'emerge info' output:

Portage 2.0.51.19 (default-linux/x86/2004.3, gcc-3.3.4, glibc-2.3.3.20040420-r1, 2.6.8.1 i686)
=================================================================
System uname: 2.6.8.1 i686 AMD Athlon(tm) XP 2200+
Gentoo Base System version 1.4.16
Python:              dev-lang/python-2.3.3-r1 [2.3.3 (#1, Oct  2 2004, 21:36:33)]
dev-lang/python:     2.3.3-r1
sys-devel/autoconf:  2.59-r4
sys-devel/automake:  1.8.5-r1
sys-devel/binutils:  2.14.90.0.8-r1
sys-devel/libtool:   1.5.2-r5
virtual/os-headers:  2.4.21-r1
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CFLAGS="-O2 -march=athlon-xp -mfpmath=sse -msse -mmmx -m3dnow -fomit-frame-pointer -pipe "
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/X11R6/lib/X11/xkb /usr/kde/2/share/config /usr/kde/3.3/env /usr/kde/3.3/share/config /usr/kde/3.3/shutdown /usr/kde/3/share/config /usr/lib/mozilla/defaults/pref /usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/ /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=athlon-xp -mfpmath=sse -msse -mmmx -m3dnow -fomit-frame-pointer -pipe "
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig ccache distlocks sandbox sfperms"
GENTOO_MIRRORS="http://ftp.belnet.be/mirror/rsync.gentoo.org/gentoo/"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X acpi alsa apache2 apm arts avi berkdb bitmap-fonts crypt cups curl emboss encode esd fam fastcgi flac font-server foomaticdb fortran gd gdbm gif gnome gphoto2 gpm gstreamer gtk gtk2 hardened imagemagick imlib ipv6 java jpeg ldap libg++ libwww mad mikmod motif mozilla mp3 mpeg ncurses nls oggvorbis opengl oss pam pdflib perl php png python quicktime readline samba sdl slang snmp spell ssl svga tcpd tetex tiff truetype truetype-fonts type1-fonts xml2 xmms xv zlib"
Unset:  ASFLAGS, CBUILD, CTARGET, LANG, LC_ALL, LDFLAGS, PORTDIR_OVERLAY





Comment 4


Markus Dittrich (RETIRED)






          2005-09-08 09:18:51 UTC
        

Michael,

Do you still have problems compiling root? Everything compiles fine here
using gcc-3.4.4. I could imagine that there is a problem with C++ and
gcc-3.3.4 particularly since root makes use of templates. Unfortunately
I don't have gcc-3.3.x available to test.  




Comment 5


Michael Van Damme





          2005-09-27 21:32:00 UTC
        

It still fails with gcc-3.3.4. Can't try with gcc-3.4.4 at the moment...




Comment 6


Markus Dittrich (RETIRED)






          2005-10-06 19:22:49 UTC
        

Compiles fine for me using gcc-3.3.6 and the same USE flags that
you have. Maybe try this version of gcc and strip your CFLAGS to a bare
"-O2 -march=athlon-xp".




Comment 7


Lucas Chiesa





          2005-10-22 20:32:39 UTC
        

Michael,

I also merged sci-libs/root-4.02.00 correctly with gcc-3.3.6 (which is currently
stable). Have you tried using this gcc?

Here is my emerge --info:

Portage 2.0.51.22-r3 (default-linux/x86/2005.1, gcc-3.3.6, glibc-2.3.5-r2,
2.6.12-1-686 i686)
=================================================================
System uname: 2.6.12-1-686 i686 Intel(R) Pentium(R) 4 CPU 2.80GHz
Gentoo Base System version 1.6.13
ccache version 2.3 [enabled]
dev-lang/python:     2.3.5-r2, 2.4.2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.15.92.0.2-r10
sys-devel/libtool:   1.5.20
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i386-pc-linux-gnu"
CFLAGS="-march=pentium4 -O2 -pipe"
CHOST="i386-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env
/usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS=""
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig candy ccache distcc distlocks sandbox sfperms strict
userpriv usersandbox"
GENTOO_MIRRORS="http://distfiles.gentoo.org
http://distro.ibiblio.org/pub/Linux/distributions/gentoo"
MAKEOPTS=""
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X aac aalib acpi alsa apm arts avi bash-completion berkdb bitmap-fonts
bootsplash crypt cups divx4linux dvd eds elibc_glibc emboss encode fam flac
foomaticdb fortran gdbm gif gnome gpm gstreamer gtk gtk2 hal i8x0 imlib ipv6
jpeg kde kernel_linux ldap libcaca libg++ libwww mad mikmod mmx motif mp3 mpeg
ncurses network nls ogg oggvorbis opengl oss pam pdflib perl png python qt
quicktime readline real sdl spell sqlite sse ssl tcltk tcpd termcap-compat
theora tiff truetype truetype-fonts type1-fonts udev unicode userland_GNU
vim-with-x vorbis win32codecs x86 xine xinerama xml2 xmms xv zlib"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS





Comment 8


Marcus D. Hanwell (RETIRED)






          2006-01-15 06:34:33 UTC
        

No response from the original report, works for others using currently stable gcc. Closing WORKSFORME, please reopen if the problem still persists.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

