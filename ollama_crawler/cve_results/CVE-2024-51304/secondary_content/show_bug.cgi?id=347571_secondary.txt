Title: 347571 – dev-python/paver-1.0.3 fails to install with dev-lang/python-2.7.1
URL: https://bugs.gentoo.org/show_bug.cgi?id=347571

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 347571
dev-python/paver-1.0.3 fails to install with dev-lang/python-2.7.1
Last modified: 2010-12-05 22:11:44 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 347571 
      - dev-python/paver-1.0.3 fails to install with dev-lang/python-2.7.1


Summary:
dev-python/paver-1.0.3 fails to install with dev-lang/python-2.7.1
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Development

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Qt Bug Alias








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2010-12-02 15:51 UTC by Martin von Gagern





      Modified:
    
2010-12-05 22:11 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



python









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge --info

              (dev-python:paver-1.0.3.emerge--info,6.36 KB,
                text/plain)

            
2010-12-02 15:52 UTC,

            Martin von Gagern




Details





build log

              (dev-python:paver-1.0.3:20101202-142850.log,8.30 KB,
                text/plain)

            
2010-12-02 15:52 UTC,

            Martin von Gagern




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Martin von Gagern





          2010-12-02 15:51:50 UTC
        

>>> Install paver-1.0.3 into /var/tmp/portage/dev-python/paver-1.0.3/image/ category dev-python
 * Installation of dev-python/paver-1.0.3 with CPython 2.7...
python2.7 setup.py build -b build-2.7 install --root=/var/tmp/portage/dev-python/paver-1.0.3/image/ --no-compile
running build
running build_py
warning: build_py: byte-compiling is disabled, skipping.

running build_scripts
running install
Traceback (most recent call last):
  File "setup.py", line 7, in <module>
    paver.tasks.main()
  File "paver-minilib.zip/paver/tasks.py", line 621, in main
  File "paver-minilib.zip/paver/tasks.py", line 604, in _launch_pavement
  File "paver-minilib.zip/paver/tasks.py", line 569, in _process_commands
  File "paver-minilib.zip/paver/setuputils.py", line 146, in __call__
  File "/usr/lib64/python2.7/distutils/dist.py", line 970, in run_command
    cmd_obj = self.get_command_obj(command)
  File "/usr/lib64/python2.7/distutils/dist.py", line 856, in get_command_obj
    self._set_command_options(cmd_obj, options)
  File "/usr/lib64/python2.7/distutils/dist.py", line 899, in _set_command_options
    % (source, command_name, option))
distutils.errors.DistutilsOptionError: error in command line: command 'install' has no such option 'no_compile'
 * ERROR: dev-python/paver-1.0.3 failed:
 *   Installation failed with CPython 2.7 in distutils_installation() function




Comment 1


Martin von Gagern





          2010-12-02 15:52:07 UTC
        

Created attachment 256163 [details]
emerge --info




Comment 2


Martin von Gagern





          2010-12-02 15:52:27 UTC
        

Created attachment 256165 [details]
build log




Comment 3


Johan Bergström





          2010-12-02 19:33:14 UTC
        

I couldn't reproduce this with 2.7.1. Anyone else?




Comment 4


Martin von Gagern





          2010-12-02 20:23:52 UTC
        

paver not emerging caused python-updater to abort. Now I've unmerged paver, run python-updater over the majority of my python package, and was able to remerge paver afterwards. So it seems that this was due to some kind of inconsistency in my python setup, due to the migration from 2.6 to 2.7.

My guess would be setuptools. Could it be paver should DEPEND on setuptools?




Comment 5


Arfrever Frehtes Taifersar Arahesis (RETIRED)






          2010-12-05 18:43:42 UTC
        

I have added dependency on setuptools, but lack of this dependency wouldn't cause your problem (python-updater doesn't check dependencies).




Comment 6


Martin von Gagern





          2010-12-05 22:11:44 UTC
        

(In reply to comment #5)
> I have added dependency on setuptools, but lack of this dependency wouldn't
> cause your problem (python-updater doesn't check dependencies).

The way I see it, python-updater passed all python packages to portage, and portage ordered them by dependency, but didn't order setuptools before paver. As a consequence, paver failed to built, as setuptools wasn't there for python 2.7. And when emerge failed, python-updater aborted as well. Then I unmerged paver, ran the updater, got setuptools updated among others, and then paver was happy as well. Just guessing, though.










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

