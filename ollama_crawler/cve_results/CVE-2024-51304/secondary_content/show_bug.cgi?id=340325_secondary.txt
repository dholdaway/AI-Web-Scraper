Title: 340325 – mail-client/balsa-2.4.8 requires app-crypt/gpgme-1.3.0 be built with USE="pth"
URL: https://bugs.gentoo.org/show_bug.cgi?id=340325

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 340325
mail-client/balsa-2.4.8 requires app-crypt/gpgme-1.3.0 be built with USE="pth"
Last modified: 2010-10-13 18:33:30 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 340325 
      - mail-client/balsa-2.4.8 requires app-crypt/gpgme-1.3.0 be built with USE="pth"


Summary:
mail-client/balsa-2.4.8 requires app-crypt/gpgme-1.3.0 be built with USE="pth"
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] GNOME

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux Gnome Desktop Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2010-10-10 11:38 UTC by Roy Bamford





      Modified:
    
2010-10-13 18:33 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Roy Bamford






          2010-10-10 11:38:26 UTC
        

mail-client/balsa-2.4.8 requires that app-crypt/gpgme-1.3.0 be built with USE="pth"

The ebuild for mail-client/balsa-2.4.8 should catch that. 

Reproducible: Always

Steps to Reproduce:
1. Build app-crypt/gpgme-1.3.0 with USE="-pth"
2. Build mail-client/balsa-2.4.8
3. notice the configure: error: *** You enabled gpgme and pthread support, but your gpgme installation does not support threads
in the build log

Actual Results:  
mail-client/balsa-2.4.8 dies with a configure error

Expected Results:  
mail-client/balsa-2.4.8 builds cleanly

mail-client/balsa-2.4.8 should warn the user that app-crypt/gpgme nneds to be rebuilt with USE="pth" or mail-client/balsa-2.4.8 should take the USE="pth" flag too, so that the packages USE="pth" in a self consitent manner. spike roy 

emerge --info after adding USE="pth" follows ...

# emerge --info
Portage 2.2_rc91 (default/linux/x86/10.0/desktop/gnome, gcc-4.4.4, glibc-2.12.1-r1, 2.6.35-gentoo-r10 i686)
=================================================================
System uname: Linux-2.6.35-gentoo-r10-i686-AMD_Athlon-tm-_XP_3200+-with-gentoo-2.0.1
Timestamp of tree: Sat, 09 Oct 2010 01:45:01 +0000
distcc 3.1 i686-pc-linux-gnu [disabled]
ccache version 2.4 [enabled]
app-shells/bash:     4.1_p7
dev-java/java-config: 2.1.11
dev-lang/python:     2.6.5-r3, 3.1.2-r4
dev-util/ccache:     2.4-r8
dev-util/cmake:      2.8.1-r2
sys-apps/baselayout: 2.0.1
sys-apps/openrc:     0.6.3
sys-apps/sandbox:    2.3-r1
sys-devel/autoconf:  2.13, 2.68
sys-devel/automake:  1.7.9-r2, 1.9.6-r3, 1.10.3, 1.11.1
sys-devel/binutils:  2.20.1-r1
sys-devel/gcc:       4.4.4-r2
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   2.2.10
sys-devel/make:      3.81-r2
virtual/os-headers:  2.6.35 (sys-kernel/linux-headers)
Repositories: gentoo vmware x11 yarik-overlay My-very-own-ebuild-play-space
ACCEPT_KEYWORDS="x86 ~x86"
ACCEPT_LICENSE="* -@EULA sun-bcla-java-vm dlj-1.1 googleearth"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=athlon-xp -O2 -fomit-frame-pointer -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c"
CXXFLAGS="-march=athlon-xp -O2 -fomit-frame-pointer -pipe"
DISTDIR="/usr/portage/distfiles"
EMERGE_DEFAULT_OPTS="--with-bdeps=y"
FEATURES="assume-digests binpkg-logs buildpkg ccache distlocks fixlafiles fixpackages news parallel-fetch preserve-libs protect-owned sandbox sfperms strict unknown-features-warn unmerge-logs unmerge-orphans userfetch userpriv"
GENTOO_MIRRORS="http://ftp.heanet.ie/pub/gentoo/                 http://ds.thn.htu.se/linux/gento                 http://ftp.snt.utwente.nl/pub/os/linux/gentoo                   http://ftp.uni-erlangen.de/pub/mirrors/gentoo                 http://gentoo.tiscali.nl/gentoo/                 http://ftp.gentoo.skynet.be/pub/gentoo/                 http://ftp.linux.ee/pub/gentoo/distfiles/                   http://ftp.iasi.roedu.net/mirrors/gentoo.org/                 http://darkstar.ist.utl.pt/gentoo/                   http://128.213.5.34/gentoo/                 http://ftp.rhnet.is/pub/gentoo/                 http://trumpetti.atm.tut.fi/gentoo/"
LDFLAGS="-Wl,--as-needed"
LINGUAS="en en_GB en_US"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times                     --compress --force --whole-file --delete --delete-after                     --stats --timeout=180 --exclude=/distfiles                     --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage/layman/vmware /usr/local/portage/layman/x11 /usr/local/portage/layman/yarik-overlay /usr/local/portage"
SYNC="rsync://192.168.10.19/gentoo-portage"
USE="3dnow 3dnowext X X509 Xaw3d a52 aac accessibility acl acpi alsa ao aotuv artworkextra asf asterisk bash-completion berkdb bluetooth branding bzip2 bzlib cairo cap ccache cdda cddb cdparanoia cdr chroot cli clisp cmucl consolekit cracklib crypt css cups curl custom-cflags cxx db2 dbus deprecated device-mapper dga divx4linux dnd doc dpms dri droproot dts dvd dvdr edl eds emacs emboss encode escreen evo exif extras fam fame fb fbcon ffmpeg fftw flac fmod font-server fontconfig foomaticdb fortran fping ftp gb gdbm gdu gif gimp gimpprint glitz gnome gnome-keyring gnomedb gnutls gpm graphviz gs gstreamer gtk guidexml guile h323 hal iconv ipv6 irc jabber jadetex javascript jikes jp2 jpeg lcms libcaca libgda libnotify libsamplerate libwww lm_sensors lzo lzw lzw-tiff mad maildir mbox md5sum mikmod mime mjpeg mmap mmx mmxext mng modules mp3 mp4 mpeg mpeg4 mpi mplayer mudflap mysql mythtv nautilus ncurses network networking nls no-old-linux nptl nptlonly odk ogg opengl openmp oss pam pam_timestamp pango pcre pda pdf perl pipechan png policykit ppds pppd private procmail pth python qt3support rar readline reflection regex rtc sblive screenshot sdl secure-delete server session shorten sip sndfile sockets spell sse ssl startup-notification svg sysfs sysvipc tcpd tga theora threads tiff tk toolbar transcode truetype unicode usb userlocales uudeview v4l v4l2 vcd vcdimager vidix vim-with-x vorbis wav withsamplescripts wma123 wmf x264 x86 xanim xbase xcb xchattext xine xinerama xml xorg xpm xulrunner xv xvid xvmc yv12 zlib zvbi" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1 emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cgi cgid dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf superstar2 timing tsip tripmate tnt ubx" INPUT_DEVICES="evdev keyboard mouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en en_GB en_US" RUBY_TARGETS="ruby18" USERLAND="GNU" VIDEO_CARDS="fbdev nv nvidia v4l vesa vga" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account" 
Unset:  CPPFLAGS, CTARGET, FFLAGS, INSTALL_MASK, LANG, LC_ALL, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Gilles Dartiguelongue (RETIRED)






          2010-10-13 12:23:09 UTC
        

I tried to reproduce the problem, even rebuild gpgme in case I had an old ebuild but I've been running it with USE=-pth from the start and I can't get this failure. Please provide full config.log.




Comment 2


Roy Bamford






          2010-10-13 18:33:30 UTC
        

Thats odd. When I posted the bug, I was able to reproduce the bug on both ~amd64 and on ~x86.  Having turned off pth again and rebuilt app-crypt/gpgme-1.3.0, then mail-client/balsa-2.4.8 it works, on both boxes.

Both systems are unchanged from the original report. No even an emerge --sync.
Closed as worksformenow. I just wish I knew why.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

