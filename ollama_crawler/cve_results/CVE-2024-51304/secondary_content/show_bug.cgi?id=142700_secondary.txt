Title: 142700 – www-servers/resin does not work
URL: https://bugs.gentoo.org/show_bug.cgi?id=142700

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 142700
www-servers/resin does not work
Last modified: 2006-08-04 06:21:00 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 142700 
      - www-servers/resin does not work


Summary:
www-servers/resin does not work
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Server

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Java team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-08-03 13:50 UTC by gapon





      Modified:
    
2006-08-04 06:21 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




resin log

              (jvm.log,13.91 KB,
                text/plain)

            
2006-08-03 13:51 UTC,

            gapon




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


gapon





          2006-08-03 13:50:35 UTC
        

/etc/init.d/resin start.....[ok]
but localhost:8080 is down - see attached /var/log/resin/jvm.log
(/var/log/resin/resin_out.log and /var/log/resin/resin_err.log are empty)

Portage 2.1.1_pre4-r2 (default-linux/x86/2006.0, gcc-4.1.1/vanilla, glibc-2.3.6-r3, 2.6.17-gentoo-r4 i686)
=================================================================
System uname: 2.6.17-gentoo-r4 i686 Intel(R) Pentium(R) M processor 1.50GHz
Gentoo Base System version 1.12.4
app-admin/eselect-compiler: 2.0.0_rc2-r1
dev-lang/python:     2.3.5, 2.4.3-r1
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.60
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.17
sys-devel/gcc-config: 2.0.0_rc1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r5
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O3 -march=pentium-m -fomit-frame-pointer -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /opt/openjms/config /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/eselect/compiler /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/splash /etc/terminfo /etc/texmf/web2c"
CXXFLAGS="-O3 -march=pentium-m -fomit-frame-pointer -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks fixpackages metadata-transfer parallel-fetch prelink sandbox sfperms strict"
GENTOO_MIRRORS=" http://ftp.sh.cvut.cz/MIRRORS/gentoo/gentoo http://gentoo.inode.at/ http://pandemonium.tiscali.de/pub/gentoo/ http://mirrors.sec.informatik.tu-darmstadt.de/gentoo/ http://gentoo.mirror.solnet.ch"
LANG="cs_CZ.UTF-8"
LC_ALL="cs_CZ.UTF-8"
LINGUAS="cs"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X aac aalib acpi alsa apache2 arts avi bash-completion berkdb bitmap-fonts bzip2 cdr cli crypt cups dbus directfb divx4linux dlloader dri dvd eds emboss encode examples fam fbcon ffmpeg foomaticdb fortran ftp gdbm gif gnome gnutls gpm gstreamer gtk gtk2 hal iconv imap imlib ipv6 isdnlog jabber java jpeg kde kdeenablefinal libg++ libwww logrotate mad mikmod mmx mmx2 mng mono motif mp3 mpeg ncurses nls nptl nptlonly nsplugin ogg oggvorbis opengl oss pam pcmcia pcre pdflib perl png pnp pppd python qt qt3 qt4 quicktime readline reflection samba sasl sdl session spell spl sse sse2 ssl svg tcpd tiff truetype truetype-fonts type1-fonts udev unicode usb utf8 vorbis wifi x264 xine xinerama xml xmms xorg xscreensaver xv xvid zlib elibc_glibc input_devices_keyboard input_devices_mouse input_devices_synaptics kernel_linux linguas_cs userland_GNU video_cards_fglrx video_cards_radeon video_cards_vga video_cards_vesa video_cards_fbdev"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LDFLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


gapon





          2006-08-03 13:51:55 UTC
        

Created attachment 93377 [details]
resin log




Comment 2


Jakub Moc (RETIRED)






          2006-08-03 13:53:21 UTC
        

Always include ebuild version with bug reports, please.





Comment 3


gapon





          2006-08-03 14:31:41 UTC
        

sorry - it is v3.0.20
i found that in /var/lib/resin/webapps/ROOT/index.jsp there is on the line no 1:
import="com.caucho.vfs.*, com.caucho.server.webapp.*"
(see attached log)

also i am unable to open localhost:8080/resin-doc although /var/lib/resin/webapps/resin-doc.war exists




Comment 4


Krzysztof Pawlik (RETIRED)






          2006-08-04 00:56:41 UTC
        

I can't reproduce it - works for me.




Comment 5


Vlastimil Babka (Caster) (RETIRED)






          2006-08-04 06:21:00 UTC
        

I can reproduce that it won't start right after emerge, but I don't have the jvm.log. When trying to edit /etc/conf.d/resin I see that the line that sets java_home is commented out, trying to echo the startup line in /etc/init.d/resin shows that JAVA_HOME is unset. Uncommented the line, and it obtained sun-jdk-1.5 JAVA_HOME because it's my gen-2 system vm. And with this VM, it didn't start anyway. Tried to export WANT_JAVA_CONFIG=1 in the conf.d file but then I got some tracebacks I don't quite understand why... Setting JAVA_HOME=/opt/sun-jdk-1.4.2.12 directly in the conf.d file made it finally start









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

