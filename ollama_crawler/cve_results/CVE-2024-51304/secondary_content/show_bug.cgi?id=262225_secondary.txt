Title: 262225 – dev-games/openscenegraph-2.8.0 - g++ DEFINES: No such file or directory
URL: https://bugs.gentoo.org/show_bug.cgi?id=262225

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 262225
dev-games/openscenegraph-2.8.0 - g++ DEFINES: No such file or directory
Last modified: 2009-03-31 06:51:38 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 262225 
      - dev-games/openscenegraph-2.8.0 - g++ DEFINES: No such file or directory


Summary:
dev-games/openscenegraph-2.8.0 - g++ DEFINES: No such file or directory
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Tupone Alfredo








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-03-12 00:05 UTC by Klaas Decanniere





      Modified:
    
2009-03-31 06:51 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



games









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build log (this is the version with dev-libs/libpthread-stubs)

              (build.log,5.11 KB,
                text/plain)

            
2009-03-12 00:07 UTC,

            Klaas Decanniere




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Klaas Decanniere





          2009-03-12 00:05:31 UTC
        

openscenegraph stops compiling with these messages:

Scanning dependencies of target OpenThreads
[  0%] Building CXX object src/OpenThreads/pthreads/CMakeFiles/OpenThreads.dir/PThread.o
x86_64-pc-linux-gnu-g++: DEFINES: No such file or directory
make[2]: *** [src/OpenThreads/pthreads/CMakeFiles/OpenThreads.dir/PThread.o] Error 1
make[1]: *** [src/OpenThreads/pthreads/CMakeFiles/OpenThreads.dir/all] Error 2
make: *** [all] Error 2

I had a go to see if dev-libs/libpthread-stubs does anything, but no go
I unmerged plib,simgear,flightgear to make sure I start form scratch but that didn't help either

I will submit a build log in a minute, and I will try rebuilding gcc overnight

Other suggestions welcome.

Thanks for your help.


Reproducible: Always

Steps to Reproduce:
1.emerge flightgear (version 1.9.1)
2.
3.




Portage 2.1.6.7 (default/linux/amd64/2008.0, gcc-4.3.3, glibc-2.8_p20080602-r0, 2.6.25-gentoo-r7 x86_64)
=================================================================
System uname: Linux-2.6.25-gentoo-r7-x86_64-AMD_Athlon-tm-_64_Processor_3500+-with-glibc2.2.5
Timestamp of tree: Wed, 11 Mar 2009 06:45:01 +0000
app-shells/bash:     3.2_p39
dev-java/java-config: 1.3.7-r1, 2.1.7
dev-lang/python:     2.4.4-r13, 2.5.2-r7
dev-python/pycrypto: 2.0.1-r8
dev-util/cmake:      2.4.8
sys-apps/baselayout: 1.12.11.1
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.63
sys-devel/automake:  1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.2
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.27-r2
ACCEPT_KEYWORDS="amd64"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=k8 -O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/config /var/lib/hsqldb"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/revdep-rebuild /etc/terminfo /etc/udev/rules.d"
CXXFLAGS="-march=k8 -O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="distlocks fixpackages parallel-fetch protect-owned sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="ftp://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/ http://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/ http://mirror.ovh.net/gentoo-distfiles/ http://trumpetti.atm.tut.fi/gentoo/"
LDFLAGS="-Wl,-O1"
MAKEOPTS="-j1"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portage/local/layman/java-overlay"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="X a52 aac acl alsa amd64 berkdb bitmap-fonts bzip2 cdparanoia cdr cli cracklib crypt cups divx dri dvd fftw fortran gcj gdbm gif gimp glitz gmp gphoto2 gpm gtk iconv imagemagick ipv6 isdnlog java joystick jpeg lame lapack lcms mad mbrola midi mmx mp3 mudflap multilib ncurses nls nptl nptlonly nsplugin nvidia ogg openexr opengl openmp oss pam pcre pcsc-lite pdf perl png povray ppds pppd python qt3support quicktime readline realmedia reflection scanner session smartcard spl sse sse2 ssl svg sysfs tcpd threads tiff truetype truetype-fonts type1-fonts unicode usb v4l v4l2 vorbis xinerama xorg xulrunner zlib" ALSA_CARDS="atiixp intel8x0 via82xx" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="keyboard mouse vmmouse joystick" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" USERLAND="GNU" VIDEO_CARDS="vesa nv vmware fbdev"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LANG, LC_ALL, LINGUAS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Klaas Decanniere





          2009-03-12 00:07:43 UTC
        

Created attachment 184770 [details]
build log (this is the version with dev-libs/libpthread-stubs)




Comment 2


Tupone Alfredo






          2009-03-12 13:59:13 UTC
        

Can you please attach (or paste) the content of the file
/var/tmp/portage/dev-games/openscenegraph-2.8.0/work/openscenegraph_build/src/OpenThreads/pthreads/CMakeFiles/OpenThreads.dir/flag.make




Comment 3


Klaas Decanniere





          2009-03-12 16:14:32 UTC
        

(In reply to comment #2)
> Can you please attach (or paste) the content of the file
> /var/tmp/portage/dev-games/openscenegraph-2.8.0/work/openscenegraph_build/src/OpenThreads/pthreads/CMakeFiles/OpenThreads.dir/flag.make
> 

Of course - see below.
Please note that this is the file I get after an emerge --deep openscengraph, which updates packages that emerege --update world did not update. I now get as far as the poppler-page_render problem as documented in bug # 261575 - I will look at the fix for that bug now. 

I'm not sure I understand portage as well as I should.

Thanks again for your help and kind regards,

Klaas





# CMAKE generated file: DO NOT EDIT!
# Generated by "Unix Makefiles" Generator, CMake Version 2.6

# compile CXX with /usr/bin/x86_64-pc-linux-gnu-g++
CXX_FLAGS = -DOpenThreads_EXPORTS -march=k8 -O2 -pipe  -Wall -Wparentheses -Wno-long-long -Wno-import -pedantic -Wreturn-type -Wmissing-braces -Wunknow
n-pragmas -Wunused -fpermissive -fPIC -I/var/tmp/portage/dev-games/openscenegraph-2.8.0/work/openscenegraph_build/include -I/var/tmp/portage/dev-games/
openscenegraph-2.8.0/work/OpenSceneGraph-2.8.0/include

CXX_DEFINES = -DOSG_DEBUG_POSTFIX=d -DOPENTHREADS_EXPORTS -DHAVE_PTHREAD_YIELD -D_GNU_SOURCE -DHAVE_PTHREAD_SETCONCURRENCY -DHAVE_PTHREAD_GETCONCURRENC
Y -DHAVE_PTHREAD_SETAFFINITY_NP






Comment 4


Tupone Alfredo






          2009-03-14 15:36:18 UTC
        

You have to 
emerge --sync
again as the fix is (should be) in the portage tree









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

