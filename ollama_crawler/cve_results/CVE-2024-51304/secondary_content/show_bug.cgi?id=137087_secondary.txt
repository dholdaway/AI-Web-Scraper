Title: 137087 – kde-base/kdepim-3.5.3 failed to compile with gcc 4.1.1
URL: https://bugs.gentoo.org/show_bug.cgi?id=137087

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 137087
kde-base/kdepim-3.5.3 failed to compile with gcc 4.1.1
Last modified: 2006-06-18 00:26:57 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 137087 
      - kde-base/kdepim-3.5.3 failed to compile with gcc 4.1.1


Summary:
kde-base/kdepim-3.5.3 failed to compile with gcc 4.1.1
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] GCC Porting

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Please assign to toolchain








URL:







Whiteboard:




Keywords:









Duplicates (1):
    

137095

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2006-06-17 08:36 UTC by Olivier Huber





      Modified:
    
2006-06-18 00:26 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Vmsize and Vmrss when the bug happened

              (Screenshot-2.png,391.97 KB,
                image/png)

            
2006-06-17 15:47 UTC,

            Olivier Huber




Details





my global ksysguard a litte bit after the crash

              (Screenshot-3.png,293.51 KB,
                image/png)

            
2006-06-17 15:48 UTC,

            Olivier Huber




Details





when I compile libkmailprivate

              (Screenshot-4.png,252.17 KB,
                image/png)

            
2006-06-17 17:17 UTC,

            Olivier Huber




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Olivier Huber





          2006-06-17 08:36:29 UTC
        

When I try to update my kde with my new gcc 4.1.1, I got this error, while compiling kdepim-3.5.3 :

ailprivate_la.all_cpp.lo libkmailprivate_la.all_cpp.cpp
configuredialog.cpp: In constructor 'ConfigureDialog::ConfigureDialog(QWidget*, const char*, bool)':
configuredialog.cpp:216: warning: '__base_ctor ' is deprecated (declared at /usr/kde/3.5/include/kcmultidialog.h:105)
index.cpp: At global scope:
index.cpp:484: warning: unused parameter 'folder'
index.cpp:495: warning: unused parameter 'folder'
kmfoldertree.cpp: In member function 'virtual void KMFolderTree::contentsDropEvent(QDropEvent*)':
kmfoldertree.cpp:1383: warning: 'keyboardModifiers' is deprecated (declared at /usr/kde/3.5/include/kapplication.h:1069)
kmpopfiltercnfrmdlg.cpp: In constructor 'KMPopHeadersView::KMPopHeadersView(QWidget*, KMPopFilterCnfrmDlg*)':
kmpopfiltercnfrmdlg.cpp:33: warning: unused variable 'mDownIndex'
kmedit.cpp: At global scope:
kmedit.cpp:511: warning: unused parameter 'proc'
x86_64-pc-linux-gnu-g++: Internal error: Killed (program cc1plus)
Please submit a full bug report.
See <URL:http://bugs.gentoo.org/> for instructions.
make[3]: *** [libkmailprivate_la.all_cpp.lo] Error 1
make[3]: Leaving directory `/var/tmp/portage/kdepim-3.5.3/work/kdepim-3.5.3/kmail'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/var/tmp/portage/kdepim-3.5.3/work/kdepim-3.5.3/kmail'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/kdepim-3.5.3/work/kdepim-3.5.3'
make: *** [all] Error 2

!!! ERROR: kde-base/kdepim-3.5.3 failed.
Call stack:
  ebuild.sh, line 1539:   Called dyn_compile
  ebuild.sh, line 939:   Called src_compile
  kdepim-3.5.3.ebuild, line 28:   Called kde_src_compile
  kde.eclass, line 164:   Called kde_src_compile 'all'
  kde.eclass, line 299:   Called kde_src_compile 'myconf' 'configure' 'make'
  kde.eclass, line 295:   Called die

!!! died running emake, kde_src_compile:make
!!! If you need support, post the topmost build error, and the call stack if relevant.

I have make several fix_libtool_files.sh. I run emerge -Vdp kde with the kdehiddenvisibility flag.

Here is my 'emerge --info'


Portage 2.1.1_pre1 (default-linux/amd64/2006.0, gcc-4.1.1, glibc-2.4-r3, 2.6.16-gentoo-r8 x86_64)
=================================================================
System uname: 2.6.16-gentoo-r8 x86_64 AMD Athlon(tm) 64 Processor 3000+
Gentoo Base System version 1.6.14
dev-lang/python:     2.4.2
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/gcc-config: 1.3.13-r2
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="amd64 ~amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/lib64/mozilla/defaults/pref /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/gconf /etc/revdep-rebuild /etc/splash /etc/terminfo /etc/texmf/web2c"
CXXFLAGS="-O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://mirror.ovh.net/gentoo-distfiles/ http://gentoo.modulix.net/gentoo/ http://ftp.club-internet.fr/pub/mirrors/gentoo "
LINGUAS="fr"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/overlays/xgl-coffee"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="X Xaw3d a52 aac aalib acl acpi akode alsa amd64 amr apache2 arts artswrappersuid asf async audiofile automount avi bash-completion bashlogger berkdb bitmap-fonts blas bootstrap browserplugin bzip2 cairo cddb chroot cjk cli crypt cscope ctype cups curl dba dbus dedicated directfb djbfft dlloader dmi dri dts dvd dxr3 eds elibc_glibc emacs emboss encode esd exif expat exscalibar fam fastbuild fbcon ffmpeg fftw firectfb flac font-server fontconfig foomaticdb force-cgi-redirect fortran fpx ftp gcj gd geoip ggi gif gimpprint glibc-omitfp glitz glut gnome gnutls gpm graphviz gs gstreamer gtk gtk2 gtkhtml hal hardened hdf5 howl idn ifp imagemagick imlib immqt ipv6 isdnlog ithreads jack java javascript jbig jpeg jpeg2k kde kdeenablefinal kdehiddenvisibility kernel_linux lcms lesstif libaa libcaca libg++ livecd lm_sensors logitech-mouse logrotate lzw lzw-tiff mad memlimit mikmod mng modplug mono motif mozilla mp3 mp4 mpeg mpi mudflap mule multislot musicbrainz nas ncurses neXt net nethack network nls nocxx nossp nptl nptlonly nsplugin nvidia objc objc++ objc-gc odbc ogg openexr opengl oss pam pcre pdf pdflib perl perlsuid pertty pg-hier pg-intdatetime physfs pic plotutils png posix postgres povray pppd profile python qt quicktime readline reflection ruby samba sasl scanner sdl session simplexml slang slp soap sockets speex spell spl sqlite ssl svg swat symlink sysfs tcltk tcpd test tetex theora threads tiff tokenizer truetype truetype-fonts type1-fonts udev unicode usb userland_GNU v4l vcd video_cards_nvidia vim-with-x visualization vorbis wmf wxwindows xchatdccserver xchattext xcomposite xemacs xface xine xinerama xml xml2 xmms xorg xpm xprint xsl xv xvid xvmc zlib input_devices_keyboard input_devices_mouse input_devices_evdev linguas_fr video_cards_vesa video_cards_v4l"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


SpanKY






          2006-06-17 10:45:00 UTC
        

*** Bug 137095 has been marked as a duplicate of this bug. ***




Comment 2


Danny van Dyk (RETIRED)






          2006-06-17 10:46:57 UTC
        

This looks like cc1plus was killed by OOM. Can you check memory usage while
compiling?




Comment 3


Olivier Huber





          2006-06-17 15:47:24 UTC
        

Created attachment 89417 [details]
Vmsize and Vmrss when the bug happened

the screenshot when I got the error, my system freeze a little bit and even the gnome application to take screenshot crash. I think you were right.




Comment 4


Olivier Huber





          2006-06-17 15:48:36 UTC
        

Created attachment 89418 [details]
my global ksysguard a litte bit after the crash




Comment 5


Olivier Huber





          2006-06-17 16:09:40 UTC
        

try without -pipe and with -march=athlon64 in my make.conf, but crash and with the same Vmsize and Vmrss.




Comment 6


Olivier Huber





          2006-06-17 17:17:41 UTC
        

Created attachment 89425 [details]
when I compile libkmailprivate

I remerber that I was "swapless" so I activate the swap and it compile but it was hard (with -pipe) enable




Comment 7


SpanKY






          2006-06-17 17:48:02 UTC
        

nothing we can really do about this

install more memory :P




Comment 8


Olivier Huber





          2006-06-18 00:26:57 UTC
        

lol I have 1Go of memory :) and in this case, cc1plus need 1 Go :).
Thanks for your help, kdepim has well compiled. 










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

