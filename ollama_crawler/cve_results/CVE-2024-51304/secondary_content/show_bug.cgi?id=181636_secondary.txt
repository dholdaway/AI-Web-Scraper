Title: 181636 – kitchensync 3.5.7 won't install (osengine/engine.h missing)
URL: https://bugs.gentoo.org/show_bug.cgi?id=181636

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 181636
kitchensync 3.5.7 won't install (osengine/engine.h missing)
Last modified: 2007-08-22 15:21:40 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 181636 
      - kitchensync 3.5.7 won't install (osengine/engine.h missing)


Summary:
kitchensync 3.5.7 won't install (osengine/engine.h missing)
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-06-11 10:26 UTC by Markus Wagner





      Modified:
    
2007-08-22 15:21 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



chain









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build.log

              (build.log,52.42 KB,
                text/plain)

            
2007-06-11 10:28 UTC,

            Markus Wagner




Details





Emerge --info machine A (emerge kitchensync succesfull)

              (emerge --info machine A.log,4.35 KB,
                text/plain)

            
2007-06-20 11:43 UTC,

            Dave




Details





Emerge --info machine B (emerge kitchensync unsuccesfull)

              (emerge --info machine B.log,3.67 KB,
                text/plain)

            
2007-06-20 11:44 UTC,

            Dave




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Markus Wagner





          2007-06-11 10:26:59 UTC
        

Can't emerge kde-base/kitchensync-3.5.7, it fails during install


Reproducible: Always

Steps to Reproduce:
1. emerge kde-base/kitchensync-3.5.7
2. during Install:

>>> Install kitchensync-3.5.7 into /var/tmp/portage/kde-base/kitchensync-3.5.7/image/ category kde-base
Making install in libqopensync
make[1]: Entering directory `/var/tmp/portage/kde-base/kitchensync-3.5.7/work/kitchensync-3.5.7/kitchensync/libqopensync'
/usr/qt/3/bin/moc ./callbackhandler.h -o callbackhandler.moc
/bin/sh ../../libtool --silent --tag=CXX --mode=compile i686-pc-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I. -I../.. -I../../kitchensync/src -I../../kitchensync -I../..   -I../../libkdepim -I/usr/kde/3.5/include -I/usr/qt/3/include -I.   -DQT_THREAD_SUPPORT  -D_REENTRANT -D_FILE_OFFSET_BITS=64 -D_LARGE_FILES=1  -Wno-long-long -Wundef -ansi -D_XOPEN_SOURCE=500 -D_BSD_SOURCE -Wcast-align -Wchar-subscripts -Wall -W -Wpointer-arith -DNDEBUG -DNO_DEBUG -O2 -O2 -march=athlon-xp -mtune=athlon-xp -pipe -fomit-frame-pointer -Wformat-security -Wmissing-format-attribute -Wno-non-virtual-dtor -fno-exceptions -fno-check-new -fno-common -DQT_CLEAN_NAMESPACE -DQT_NO_ASCII_CAST -DQT_NO_STL -DQT_NO_COMPAT -DQT_NO_TRANSLATION  -c -o callbackhandler.lo callbackhandler.cpp
callbackhandler.cpp:22:29: error: osengine/engine.h: No such file or directory
callbackhandler.cpp: In member function 'void QSync::CallbackHandler::setEngine(QSync::Engine*)':
callbackhandler.cpp:114: error: 'osengine_set_conflict_callback' was not declared in this scope
callbackhandler.cpp:115: error: 'osengine_set_changestatus_callback' was not declared in this scope
callbackhandler.cpp:116: error: 'osengine_set_mappingstatus_callback' was not declared in this scope
callbackhandler.cpp:117: error: 'osengine_set_enginestatus_callback' was not declared in this scope
callbackhandler.cpp:118: error: 'osengine_set_memberstatus_callback' was not declared in this scope
make[1]: *** [callbackhandler.lo] Error 1
make[1]: Leaving directory `/var/tmp/portage/kde-base/kitchensync-3.5.7/work/kitchensync-3.5.7/kitchensync/libqopensync'
make: *** [install-recursive] Error 1

!!! ERROR: kde-base/kitchensync-3.5.7 failed.
Call stack:
  ebuild.sh, line 1615:   Called dyn_install
  ebuild.sh, line 1061:   Called qa_call 'src_install'
  ebuild.sh, line 44:   Called src_install
  ebuild.sh, line 1305:   Called kde-meta_src_install
  kde-meta.eclass, line 389:   Called kde-meta_src_install 'make' 'dodoc'
  kde-meta.eclass, line 397:   Called die

!!! (no error message)
!!! If you need support, post the topmost build error, and the call stack if relevant.
!!! A complete build log is located at '/var/tmp/portage/kde-base/kitchensync-3.5.7/temp/build.log'.
Actual Results:  
emerge fails

Expected Results:  
installs

running on kde-meta-3.5.7 (~x86)




Comment 1


Markus Wagner





          2007-06-11 10:28:06 UTC
        

Created attachment 121732 [details]
build.log

complete build.log by emerge




Comment 2


Wulf Krueger (RETIRED)






          2007-06-14 04:55:40 UTC
        

Please add your "emerge --info".
Which version of app-pda/libopensync do you have installed?




Comment 3


Markus Wagner





          2007-06-14 07:18:59 UTC
        

my emerge --info

swordfish trunk # emerge --info
Portage 2.1.2.7 (default-linux/x86/2006.1/desktop, gcc-4.1.2, glibc-2.5-r3, 2.6.20-gentoo-r8 i686)
=================================================================
System uname: 2.6.20-gentoo-r8 i686 AMD Athlon(tm) XP 2600+
Gentoo Base System release 1.12.10
Timestamp of tree: Tue, 12 Jun 2007 16:20:01 +0000
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
ccache version 2.4 [enabled]
dev-java/java-config: 1.3.7, 2.0.33-r1
dev-lang/python:     2.3.5-r3, 2.4.4-r4
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     2.4-r7
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.61
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.16
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.8.1-r1, 2.6.17-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=athlon-xp -mtune=athlon-xp -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/lib/fax /usr/share/X11/xkb /usr/share/config /var/spool/fax/etc"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/splash /etc/terminfo /etc/texmf/web2c"
CXXFLAGS="-O2 -march=athlon-xp -mtune=athlon-xp -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="ccache distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://mirror.switch.ch/ftp/mirror/gentoo/ http://linux.rz.ruhr-uni-bochum.de/download/gentoo-mirror/ http://pandemonium.tiscali.de/pub/gentoo/ "
LANG="en_US.utf8"
LC_ALL="en_US.utf8"
LINGUAS="de_DE de en_EN en_US en_GB"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portage/local/onlinebanking /usr/portage/local/gentoo-bitbake-overlay /usr/portage/local/layman/portage-xgl /usr/portage/local/layman/webapps-experimental /usr/portage/local/layman/sunrise /usr/portage/local/layman/java-experimental"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="3dnow 3dnowext X a52 aac aalib acpi aim alsa apache2 arts artswrappersuid asf audiofile avi bash-completion bcmath berkdb bitmap-fonts bluetooth browserplugin bzlib cairo calendar cddb cdr cgi cli cpudetection cracklib crypt css cups curlwrappers dba dbase dbus divx4linux dri dts dv dvd dvdr dvdread dxr3 eds emboss encode erandom esd exif expat exscalibar f77 fam fax ffmpeg firefox flac fortran fping fpx fto ftp gcj gd-external gdbm gif gimp gimpprint glibc-omitfp glut gphoto2 gpm graphiz gs gstreamer gtk hal hbci iconv icq icu idea ieee1394 imagemagick imap ipv6 irmc isdnlog jabber jack java java-external javacomm javascript jbig jce joystick jpeg jpeg2k junit kde kdepim kdrive kipi lcms ldap libcaca libg++ linuxthreads-tls lm_sensors logitech-mouse lzo lzw mad maildir midi mikmod mime mjpeg mmx mmxext mng modplug monkey mono mozdevelop mozsvg mp3 mp4 mpeg mplayer msn mudflap musepack musicbrainz mysql ncurses network nls nptl nptlonly nsplugin nvidia objc ogg oggvorbis openal openexr opengl openmp oscar oss overload pam pcre pda pdflib perl php pic pie png portaudio ppds pppd pyste python qt qt3 qt4 quicktime rar readline real reflection rtc rubz samba sametime scanner sdk sdl session sms sndfile spell spl sql sqlite sse ssl subtitles subversion svg swsusp2 tcltk tcpd tga theora tidy tiff truetype truetype-fonts type1-fonts unicode usb v4l vcd vidix visualization vorbis wddx win32codecs wmf x86 xanim xcomposite xine xinerama xml xml2 xorg xpm xprint xscreensaver xsl xv xvid xvmc yahoo zip zlib zrtp" ALSA_CARDS="intel8x0 emu10k1" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" ELIBC="glibc" FRITZCAPI_CARDS="fcpci" INPUT_DEVICES="keyboard mouse evdev joystick" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="de_DE de en_EN en_US en_GB" MISDN_CARDS="avmfritz" USERLAND="GNU" VIDEO_CARDS="nv nvidia vesa apm vmware"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LDFLAGS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 4


Markus Wagner





          2007-06-14 07:20:16 UTC
        

currently installed is libopensync-0.22 USE="python -debug -doc"





Comment 5


Wulf Krueger (RETIRED)






          2007-06-16 14:17:20 UTC
        

Does /usr/include/opensync-1.0/osengine/engine.h exist on your system?




Comment 6


Markus Wagner





          2007-06-18 11:35:36 UTC
        

yes, the file exists:

# ls -l /usr/include/opensync-1.0/osengine/engine.h
-rw-r--r-- 1 root root 673 2007-05-28 23:22 /usr/include/opensync-1.0/osengine/engine.h





Comment 7


Markus Wagner





          2007-06-18 11:51:05 UTC
        

I have libopensync-0.22 installed; is this maybe the problem? (should I have a downgrade?)




Comment 8


Wulf Krueger (RETIRED)






          2007-06-18 18:54:58 UTC
        

No, I've been using 0.22 for my testing, too. I'm still trying to reproduce this.




Comment 9


Markus Wagner





          2007-06-18 19:01:30 UTC
        

Tried to reinstall libopensync prior to emerge kitchensync, to no avail.
Could any other tools/libs be outdated or at wrong version?




Comment 10


Richard H.





          2007-06-20 09:15:16 UTC
        

hey, I got it installed on another system.

Don't know why though. Will try to investigate.




Comment 11


Dave





          2007-06-20 11:43:57 UTC
        

Created attachment 122589 [details]
Emerge --info machine A (emerge kitchensync succesfull)




Comment 12


Dave





          2007-06-20 11:44:26 UTC
        

Created attachment 122592 [details]
Emerge --info machine B (emerge kitchensync unsuccesfull)




Comment 13


Dave





          2007-06-20 11:45:17 UTC
        

Got also the same problem with emerging kitchensync on a workstation (machine
B), but on another machine (A) I was succesfull in emerging kitchensync.

Made attachments of the emerge --info of both machines.
Hopefully somebody knows a way to solve this.





Comment 14


Richard H.





          2007-06-20 15:45:04 UTC
        

My machines are different march's (athlon-xp versus pentium-m) but the two machines seem quite identical. Only the USE flags may differ.

I tried to find out a bit more, but I plainly couldn't find anything. Maybe trying on a third machine (pentium4) will help...




Comment 15


Markus Wagner





          2007-06-28 19:27:53 UTC
        

The last thing I see before the error occurs is:
bin/sh ../../libtool --silent --tag=CXX --mode=compile i686-pc-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I. -I../.. -I../../kitchensync/src -I../../kitchensync -I../.. -I/usr/local/include/opensync-1.0   -I/usr/local/include/opensync-1.0   -I../../libkdepim -I/usr/kde/3.5/include -I/usr/qt/3/include -I.   -DQT_THREAD_SUPPORT  -D_REENTRANT -D_FILE_OFFSET_BITS=64 -D_LARGE_FILES=1  -Wno-long-long -Wundef -ansi -D_XOPEN_SOURCE=500 -D_BSD_SOURCE -Wcast-align -Wchar-subscripts -Wall -W -Wpointer-arith -DNDEBUG -DNO_DEBUG -O2 -O2 -march=athlon-xp -mtune=athlon-xp -pipe -fomit-frame-pointer -Wformat-security -Wmissing-format-attribute -Wno-non-virtual-dtor -fno-exceptions -fno-check-new -fno-common -DQT_CLEAN_NAMESPACE -DQT_NO_ASCII_CAST -DQT_NO_STL -DQT_NO_COMPAT -DQT_NO_TRANSLATION  -c -o engine.lo engine.cpp

It seems like it is searching for the headers in /usr/local/include/opensync-1.0

I made a symlink there to /usr/include/opensync-1.0 as workaround and it works. Though this shouldn't be the solution, rather let the ebuild search at the right place...




Comment 16


Wulf Krueger (RETIRED)






          2007-07-01 07:33:28 UTC
        

Please attach kitchensync's config.log to this bug. 




Comment 17


Wulf Krueger (RETIRED)






          2007-08-22 15:21:40 UTC
        

No response and works for me.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

