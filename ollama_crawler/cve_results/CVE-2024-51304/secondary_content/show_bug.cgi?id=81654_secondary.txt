Title: 81654 – kscd-3.4.0_beta2 fails to build
URL: https://bugs.gentoo.org/show_bug.cgi?id=81654

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 81654
kscd-3.4.0_beta2 fails to build
Last modified: 2005-05-12 10:13:12 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 81654 
      - kscd-3.4.0_beta2 fails to build


Summary:
kscd-3.4.0_beta2 fails to build
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-02-11 12:22 UTC by Mikkel Høgh





      Modified:
    
2005-05-12 10:13 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Mikkel Høgh





          2005-02-11 12:22:42 UTC
        

When trying to build kscd as an upgrade from 3.4.0_beta1 it fails to compile.

Reproducible: Always
Steps to Reproduce:
1. emerge -u kscd 

Actual Results:  
/usr/kde/3.4/bin/dcopidl ./kscd.h > kscd.kidl || ( rm -f kscd.kidl ; false )
i686-pc-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I. -I.. -I.. -I../libkcddb
-I/usr/kde/3.4/include -I/usr/qt/3/include -I/usr/X11R6/include  
-DQT_THREAD_SUPPORT  -D_REENTRANT  -Wnon-virtual-dtor -Wno-long-long -Wundef
-ansi -D_XOPEN_SOURCE=500 -D_BSD_SOURCE -Wcast-align -Wconversion
-Wchar-subscripts -Wall -W -Wpointer-arith -Wwrite-strings -DNDEBUG -DNO_DEBUG
-O2 -march=pentium4 -O3 -pipe -fomit-frame-pointer -Wformat-security
-Wmissing-format-attribute -fno-exceptions -fno-check-new -fno-common
-DQT_CLEAN_NAMESPACE -DQT_NO_ASCII_CAST -DQT_NO_STL -DQT_NO_COMPAT
-DQT_NO_TRANSLATION  -c -o prefs.o `test -f 'prefs.cpp' || echo './'`prefs.cpp
/usr/kde/3.4/bin/dcopidl2cpp --c++-suffix cpp --no-signals --no-stub kscd.kidl
i686-pc-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I. -I.. -I.. -I../libkcddb
-I/usr/kde/3.4/include -I/usr/qt/3/include -I/usr/X11R6/include  
-DQT_THREAD_SUPPORT  -D_REENTRANT  -Wnon-virtual-dtor -Wno-long-long -Wundef
-ansi -D_XOPEN_SOURCE=500 -D_BSD_SOURCE -Wcast-align -Wconversion
-Wchar-subscripts -Wall -W -Wpointer-arith -Wwrite-strings -DNDEBUG -DNO_DEBUG
-O2 -march=pentium4 -O3 -pipe -fomit-frame-pointer -Wformat-security
-Wmissing-format-attribute -fno-exceptions -fno-check-new -fno-common
-DQT_CLEAN_NAMESPACE -DQT_NO_ASCII_CAST -DQT_NO_STL -DQT_NO_COMPAT
-DQT_NO_TRANSLATION  -c -o kscd_skel.o `test -f 'kscd_skel.cpp' || echo
'./'`kscd_skel.cpp
In file included from kscd.h:81,
                 from kscd_skel.cpp:9:
configWidget.h:31: error: parse error before `{' token
configWidget.h:32: error: virtual outside class declaration
configWidget.h:32: error: non-member function `const char* className()' cannot
   have `const' method qualifier
configWidget.h:32: error: virtual outside class declaration
configWidget.h:32: error: virtual outside class declaration
configWidget.h:32: error: virtual outside class declaration
configWidget.h:32: error: virtual outside class declaration
configWidget.h: In function `QObject* qObject()':
configWidget.h:32: error: invalid use of `this' in non-member function
configWidget.h: At global scope:
configWidget.h:32: error: parse error before `private'
configWidget.h:36: error: destructors must be member functions
configWidget.h:38: error: parse error before `protected'
configWidget.h:43: error: virtual outside class declaration
configWidget.h:44: error: virtual outside class declaration
configWidget.h:45: error: parse error before `private'
In file included from kscd_skel.cpp:9:
kscd.h:99: error: parse error before `,' token
kscd.h:101: error: virtual outside class declaration
kscd.h:101: error: non-member function `const char* className()' cannot have `
   const' method qualifier
kscd.h:101: error: virtual outside class declaration
kscd.h:101: error: virtual outside class declaration
kscd.h:101: error: virtual outside class declaration
kscd.h:101: error: virtual outside class declaration
kscd.h: In function `QObject* qObject()':
kscd.h:101: error: redefinition of `QObject* qObject()'
configWidget.h:32: error: `QObject* qObject()' previously defined here
kscd.h:101: error: redefinition of `QObject* qObject()'
configWidget.h:32: error: `QObject* qObject()' previously defined here
kscd.h:101: error: invalid use of `this' in non-member function
kscd.h: At global scope:
kscd.h:101: error: parse error before `private'
kscd.h:102: error: parse error before `private'
kscd.h: In function `void play()':
kscd.h:110: error: `playClicked' undeclared (first use this function)
kscd.h:110: error: (Each undeclared identifier is reported only once for each
   function it appears in.)
kscd.h: In function `void stop()':
kscd.h:111: error: `stopClicked' undeclared (first use this function)
kscd.h: In function `void previous()':
kscd.h:112: error: `prevClicked' undeclared (first use this function)
kscd.h: In function `void next()':
kscd.h:113: error: `nextClicked' undeclared (first use this function)
kscd.h: In function `void jumpTo(int)':
kscd.h:114: error: `jumpToTime' undeclared (first use this function)
kscd.h: In function `void eject()':
kscd.h:115: error: `ejectClicked' undeclared (first use this function)
kscd.h: In function `void quit()':
kscd.h:116: error: `quitClicked' undeclared (first use this function)
kscd.h: In function `void toggleLoop()':
kscd.h:117: error: `loopClicked' undeclared (first use this function)
kscd.h: In function `void toggleShuffle()':
kscd.h:118: error: `randomSelected' undeclared (first use this function)
kscd.h: In function `void toggleTimeDisplay()':
kscd.h:119: error: `cycleplaytimemode' undeclared (first use this function)
kscd.h: In function `void cddbDialog()':
kscd.h:120: error: `CDDialogSelected' undeclared (first use this function)
kscd.h: In function `void optionDialog()':
kscd.h:121: error: `showConfig' undeclared (first use this function)
kscd.h: In function `void setTrack(int)':
kscd.h:122: error: `trackSelected' undeclared (first use this function)
kscd.h: In function `void volumeDown()':
kscd.h:123: error: `decVolume' undeclared (first use this function)
kscd.h: In function `void volumeUp()':
kscd.h:124: error: `incVolume' undeclared (first use this function)
kscd.h: At global scope:
kscd.h:137: error: parse error before `public'
kscd.h:139: error: destructors must be member functions
kscd.h:140: error: virtual outside class declaration
kscd.h: In function `QStringList audioSystems()':
kscd.h:145: error: `audio_systems_list' undeclared (first use this function)
kscd.h: In function `KActionCollection* actionCollection()':
kscd.h:147: error: `m_actions' undeclared (first use this function)
kscd.h: At global scope:
kscd.h:149: error: parse error before `protected'
kscd.h:155: error: `void randomSelected()' used prior to declaration
kscd.h:159: error: `void playClicked()' used prior to declaration
kscd.h:160: error: `bool nextClicked()' used prior to declaration
kscd.h:161: error: `void prevClicked()' used prior to declaration
kscd.h:162: error: `void stopClicked()' used prior to declaration
kscd.h:163: error: `void ejectClicked()' used prior to declaration
kscd.h:164: error: `void jumpToTime(int, bool)' used prior to declaration
kscd.h:165: error: `void quitClicked()' used prior to declaration
kscd.h:168: error: `void loopClicked()' used prior to declaration
kscd.h:172: error: `void trackSelected(int)' used prior to declaration
kscd.h:173: error: `void showConfig()' used prior to declaration
kscd.h:174: error: `void incVolume()' used prior to declaration
kscd.h:175: error: `void decVolume()' used prior to declaration
kscd.h:180: error: `void cycleplaytimemode()' used prior to declaration
kscd.h:188: error: parse error before `protected'
kscd.h:197: error: parse error before `protected'
kscd.h:224: error: `widget' was not declared in this scope
kscd.h:224: error: variable or field `updateConfigDialog' declared void
kscd.h:226: error: parse error before `private'
kscd.h:253: error: `QStringList audio_systems_list' used prior to declaration
kscd.h:274: error: parse error before `public'
kscd.h:277: error: `void CDDialogSelected()' used prior to declaration
kscd.h:282: error: parse error before `private'
kscd.h:287: error: `KActionCollection*m_actions' used prior to declaration
kscd.h:291: error: parse error before `}' token
kscd_skel.cpp:77: error: invalid use of undefined type `class KSCD'
configWidget.h:28: error: forward declaration of `class KSCD'
kscd_skel.cpp: In member function `bool KSCD::process(const QCString&, const
   QByteArray&, QCString&, QByteArray&)':
kscd_skel.cpp:89: error: `playing' undeclared (first use this function)
kscd_skel.cpp:221: error: cannot call member function `virtual bool
   DCOPObject::process(const QCString&, const QByteArray&, QCString&,
   QByteArray&)' without object
kscd_skel.cpp: At global scope:
kscd_skel.cpp:227: error: invalid use of undefined type `class KSCD'
configWidget.h:28: error: forward declaration of `class KSCD'
kscd_skel.cpp: In member function `QCStringList KSCD::interfaces()':
kscd_skel.cpp:228: error: cannot call member function `virtual QCStringList
   DCOPObject::interfaces()' without object
kscd_skel.cpp: At global scope:
kscd_skel.cpp:234: error: invalid use of undefined type `class KSCD'
configWidget.h:28: error: forward declaration of `class KSCD'
kscd_skel.cpp: In member function `QCStringList KSCD::functions()':
kscd_skel.cpp:235: error: cannot call member function `virtual QCStringList
   DCOPObject::functions()' without object
/usr/qt/3/include/qvaluelist.h: At top level:
kscd.h:101: warning: `bool qt_static_property(QObject*, int, int, QVariant*)'
   declared `static' but never defined
kscd.h:101: warning: `QMetaObject* staticMetaObject()' declared `static' but
   never defined
make[3]: *** [kscd_skel.o] Error 1
make[3]: *** Waiting for unfinished jobs....
Session management error: Could not open network socket
Session management error: Could not open network socket
make[3]: Leaving directory
`/var/tmp/portage/kscd-3.4.0_beta2/work/kscd-3.4.0_beta2/kscd'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory
`/var/tmp/portage/kscd-3.4.0_beta2/work/kscd-3.4.0_beta2/kscd'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/kscd-3.4.0_beta2/work/kscd-3.4.0_beta2'
make: *** [all] Error 2

!!! ERROR: kde-base/kscd-3.4.0_beta2 failed.
!!! Function kde_src_compile, Line 153, Exitcode 2
!!! died running emake, kde_src_compile:make
!!! If you need support, post the topmost build error, NOT this status message.

Expected Results:  
Compiled...

Portage 2.0.51-r15 (default-linux/x86/2004.2, gcc-3.3.5,
glibc-2.3.4.20040808-r1, 2.6.10-gentoo-r6 i686)
=================================================================
System uname: 2.6.10-gentoo-r6 i686 Intel(R) Pentium(R) 4 CPU 2.40GHz
Gentoo Base System version 1.4.16
Python:              dev-lang/python-2.3.4-r1 [2.3.4 (#1, Feb  7 2005, 11:30:16)]
dev-lang/python:     2.3.4-r1
sys-devel/autoconf:  2.59-r6, 2.13
sys-devel/automake:  1.7.9-r1, 1.8.5-r3, 1.5, 1.4_p6, 1.6.3, 1.9.4
sys-devel/binutils:  2.15.92.0.2-r1
sys-devel/libtool:   1.5.10-r4
virtual/os-headers:  2.6.8.1-r1, 2.6.8.1-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CFLAGS="-march=pentium4 -O3 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.3/env
/usr/kde/3.3/share/config /usr/kde/3.3/shutdown /usr/kde/3.4/env
/usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config
/usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/
/usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/
/usr/share/texmf/xdvi/ /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-march=pentium4 -O3 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig ccache distlocks moo sandbox sfperms"
GENTOO_MIRRORS="http://mirror.uni-c.dk/gentoo/ http://ftp.du.se/pub/os/gentoo
http://gentoo.blueyonder.co.uk ://mirror.uni-c.dk/gentoo/
http://pandemonium.tiscali.de/pub/gentoo/"
LANG="da_DK.iso88591"
LC_ALL="en_GB.iso88591"
LDFLAGS="-Wl,-O1"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.de.gentoo.org/gentoo-portage"
USE="x86 X acpi aim alsa apache2 apm arts avi bash-completion berkdb
bitmap-fonts bluetooth bonobo cdr crypt cups curl divx4linux dvd encode esd evo
f77 fam flac font-server foomaticdb fortran gdbm geoip gif gpm gstreamer gtk
gtk2 guile hal icq imagemagick imlib ipv6 irmc jabber java jikes joystick jpeg
junit kde kdeenablefinal ldap libg++ libwww mad mikmod mmx motif mozilla mpeg
msn mysql ncurses nls nptl oggvorbis opengl oscar oss pam pcre pdflib perl png
python qt quicktime readline samba scanner sdl slang speex spell sse sse2 ssl
svg svga tcltk tcpd tetex theora threads tidy tiff timidity truetype
truetype-fonts type1-fonts unicode usb videos xml xml2 xv xvid zlib
linguas_da_DK linguas_da linguas_en_GB"
Unset:  ASFLAGS, CBUILD, CTARGET, PORTDIR_OVERLAY




Comment 1


Caleb Tennis (RETIRED)






          2005-02-11 12:24:38 UTC
        

probably a parallel make issue.  does MAKEOPTS=-j1 fix it for you?




Comment 2


Gregorio Guidi (RETIRED)






          2005-05-12 10:13:12 UTC
        

No reply from reporter.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

