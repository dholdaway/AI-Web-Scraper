Title: 156147 – media-sound/mpd refusal to compile under portage
URL: https://bugs.gentoo.org/show_bug.cgi?id=156147

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 156147
media-sound/mpd refusal to compile under portage
Last modified: 2006-11-25 00:58:01 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 156147 
      - media-sound/mpd refusal to compile under portage


Summary:
media-sound/mpd refusal to compile under portage
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       major
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-11-24 10:41 UTC by Kradorex Xeron





      Modified:
    
2006-11-25 00:58 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Kradorex Xeron





          2006-11-24 10:41:34 UTC
        

media-sound/mpd refuses to compile when you run it through portage because it reports my system supports no sound systems, however, I downloaded the package from the author's site and compiled it outside of portage and it compiled perfectly.

Logs when installing via portage:

########### MPD CONFIGURATION ############

 Playback Support:
 libao support .................disabled
 OSS support ...................disabled
 ALSA support ..................disabled
 Sun support ...................disabled
 OS X support ..................disabled
 PulseAudio support ............disabled
 Media MVP support .............disabled
 Shout streaming support .......disabled

configure: error: No Audio Output types configured!

!!! Please attach the following file when filing a report to bugs.gentoo.org:
!!! /var/tmp/portage/mpd-0.12.1/work/mpd-0.12.1/config.log

!!! ERROR: media-sound/mpd-0.12.1 failed.
Call stack:
  ebuild.sh, line 1539:   Called dyn_compile
  ebuild.sh, line 939:   Called src_compile
  mpd-0.12.1.ebuild, line 60:   Called econf '--disable-alsa' '--disable-alsatest' '--disable-oss' '--disable-mp3' '--disable-aac' '--disable-ao' '--disable-aotest' '--disable-audiofile' '--disable-audiofiletest' '--disable-libFLACtest' '--disable-flac' '--disable-oggflac' '--disable-shout' '--disable-ipv6' '--disable-mp3' '--disable-id3' '--disable-libmikmodtest' '--disable-mod' '--disable-mpc' '--disable-pulse' '--disable-oggvorbis' '--disable-vorbistest'
  ebuild.sh, line 541:   Called die

However, it compiled perfectly outside of portage when I downloaded the package from the author's site and manually compiled without any problems.




Comment 1


Jakub Moc (RETIRED)






          2006-11-24 10:51:05 UTC
        

Post the output of emerge -pv media-sound/mpd; looks like you've disable all use flags, which doesn't make much sense...




Comment 2


Kradorex Xeron





          2006-11-24 16:55:57 UTC
        

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild  N    ] media-sound/mpd-0.12.1  USE="unicode -aac -alsa -ao -audiofile -flac -icecast -ipv6 -mikmod -mp3 -musepack -oss -pulseaudio -vorbis" 0 kB






Comment 3


Jakub Moc (RETIRED)






          2006-11-25 00:57:23 UTC
        

(In reply to comment #2)
> These are the packages that would be merged, in order:
> 
> Calculating dependencies... done!
> [ebuild  N    ] media-sound/mpd-0.12.1  USE="unicode -aac -alsa -ao -audiofile
> -flac -icecast -ipv6 -mikmod -mp3 -musepack -oss -pulseaudio -vorbis" 0 kB

So, you've disabled libao, oss, alsa, pulseaudio and every other sound output -  how you expect the thing to produce some sound?!





Comment 4


Jakub Moc (RETIRED)






          2006-11-25 00:58:01 UTC
        

Closing WORKSFORME, either enable some sound or don't install the thing.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

