Title: 304601 – kde-base/kmail-4.4.0 doesn't start
URL: https://bugs.gentoo.org/show_bug.cgi?id=304601

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 304601
kde-base/kmail-4.4.0 doesn't start
Last modified: 2010-02-11 17:52:10 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 304601 
      - kde-base/kmail-4.4.0 doesn't start


Summary:
kde-base/kmail-4.4.0 doesn't start
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2010-02-11 17:23 UTC by PM





      Modified:
    
2010-02-11 17:52 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


PM





          2010-02-11 17:23:53 UTC
        

After upgrading KDE to 4.4.0, kmail doesn't start. It prints:

Connecting to deprecated signal QDBusConnectionInterface::serviceOwnerChanged(QString,QString,QString)
kmail(2679)/kdepimlibs (mailtransport) MailTransport::TransportManagerPrivate::fillTypes: Have SMTP, Sendmail, and 0 Akonadi types.
kmail(2679)/kdepimlibs (mailtransport) MailTransport::Transport::Transport: "1826001553"                                           
kmail(2679)/kdepimlibs (mailtransport) MailTransport::Transport::usrReadConfig: type 0                                             
kmail(2679)/kdepimlibs (mailtransport) MailTransport::Transport::Transport: "752127480"                                            
kmail(2679)/kdepimlibs (mailtransport) MailTransport::Transport::usrReadConfig: type 0                                             
"/usr/bin/kmail(2679)" Error in thread 140374210869088 : "org.freedesktop.DBus.Error.ServiceUnknown - The name org.kde.nepomuk.services.nepomukstorage was not provided by any .service files"
kmail(2679)/nepomuk (library) <unnamed>::GlobalModelContainer::init: Connecting to local socket "/home/piotrek/.kde4/share/apps/nepomuk/socket"                                               
"/usr/bin/kmail(2679)" Error in thread 140374210869088 : "QLocalSocket::connectToServer: Invalid name"                                                                                        
QMutex::unlock: mutex lock failure:

and stays like that until killed. Backtrace at this point looks like this:

#0  0x00007fe31146f238 in __poll (fds=0x7fffacbae9b0, nfds=1, timeout=<value optimized out>) at ../sysdeps/unix/sysv/linux/poll.c:83
#1  0x00007fe309432320 in socket_do_iteration (transport=0x1e8fe50, flags=6, timeout_milliseconds=25000) at /var/tmp/portage/sys-apps/dbus-1.3.0-r1/work/dbus-1.3.0/dbus/dbus-transport-socket.c:1125
#2  0x00007fe30943056d in _dbus_transport_do_iteration (transport=0x1e8fe50, flags=<value optimized out>, timeout_milliseconds=<value optimized out>)
    at /var/tmp/portage/sys-apps/dbus-1.3.0-r1/work/dbus-1.3.0/dbus/dbus-transport.c:977
#3  0x00007fe30941c56e in _dbus_connection_do_iteration_unlocked (connection=0x1e94260, flags=6, timeout_milliseconds=25000) at /var/tmp/portage/sys-apps/dbus-1.3.0-r1/work/dbus-1.3.0/dbus/dbus-connection.c:1169
#4  0x00007fe30941e978 in _dbus_connection_block_pending_call (pending=0x1e96a20) at /var/tmp/portage/sys-apps/dbus-1.3.0-r1/work/dbus-1.3.0/dbus/dbus-connection.c:2334
#5  0x00007fe30941dfe3 in dbus_connection_send_with_reply_and_block (connection=0x1e94260, message=0x1e964f0, timeout_milliseconds=-1, error=0x7fffacbaec00)
    at /var/tmp/portage/sys-apps/dbus-1.3.0-r1/work/dbus-1.3.0/dbus/dbus-connection.c:3468
#6  0x00007fe3138cf1f0 in QDBusConnectionPrivate::sendWithReply (this=0x1e93540, message=<value optimized out>, sendMode=<value optimized out>, timeout=-1) at qdbus_symbols_p.h:133
#7  0x00007fe3138bd9e3 in QDBusConnection::call (this=0x1e93a30, message=@0x61a8, mode=4294967295, timeout=32080064) at qdbusconnection.cpp:516
#8  0x00007fe3138d6a8a in QDBusAbstractInterface::callWithArgumentList (this=<value optimized out>, mode=<value optimized out>, method=<value optimized out>, args=<value optimized out>)
    at qdbusabstractinterface.cpp:440
#9  0x00007fe3138d946c in QDBusAbstractInterface::call (this=<value optimized out>, mode=<value optimized out>, method=@0x7fffacbaf430, arg1=@0x7fffacbaf3c0, arg2=@0xaa8, arg3=@0x7fffacbaf3a0,
    arg4=@0x7fffacbaf390, arg5=@0x7fffacbaf380, arg6=@0x7fffacbaf370, arg7=@0x7fffacbaf360, arg8=@0x7fffacbaf350) at qdbusabstractinterface.cpp:694
#10 0x00007fe3138d9c11 in QDBusAbstractInterface::call (this=0x1, method=<value optimized out>, arg1=<value optimized out>, arg2=<value optimized out>, arg3=<value optimized out>, arg4=@0x7fffacbaf390,
    arg5=@0x7fffacbaf380, arg6=@0x7fffacbaf370, arg7=@0x7fffacbaf360, arg8=@0x7fffacbaf350) at qdbusabstractinterface.cpp:637
#11 0x00007fe318624fe7 in KUniqueApplication::start (flags=<value optimized out>) at /var/tmp/portage/kde-base/kdelibs-4.4.0/work/kdelibs-4.4.0/kdeui/kernel/kuniqueapplication.cpp:308
#12 0x00007fe3186252c3 in KUniqueApplication::start () at /var/tmp/portage/kde-base/kdelibs-4.4.0/work/kdelibs-4.4.0/kdeui/kernel/kuniqueapplication.cpp:109
#13 0x00007fe317d4e207 in KontactInterface::PimUniqueApplication::start () at /var/tmp/portage/kde-base/kdepimlibs-4.4.0/work/kdepimlibs-4.4.0/kontactinterface/pimuniqueapplication.cpp:116
#14 0x0000000000403903 in main (argc=<value optimized out>, argv=<value optimized out>) at /var/tmp/portage/kde-base/kmail-4.4.0/work/kmail-4.4.0/kmail/main.cpp:112

Reproducible: Always




Portage 2.2_rc62 (default/linux/amd64/10.0/desktop, gcc-4.4.3, glibc-2.11-r1, 2.6.32-gentoo-r4 x86_64)
=================================================================                                     
System uname: Linux-2.6.32-gentoo-r4-x86_64-Intel-R-_Core-TM-2_Duo_CPU_E7400_@_2.80GHz-with-gentoo-2.0.1
Timestamp of tree: Wed, 10 Feb 2010 19:00:01 +0000                                                      
app-shells/bash:     4.0_p37                                                                            
dev-java/java-config: 2.1.10                                                                            
dev-lang/python:     2.6.4-r1, 3.1.1-r1                                                                 
dev-util/cmake:      2.8.0-r2                                                                           
sys-apps/baselayout: 2.0.1                                                                              
sys-apps/openrc:     0.6.0-r1                                                                           
sys-apps/sandbox:    2.2                                                                                
sys-devel/autoconf:  2.13, 2.65                                                                         
sys-devel/automake:  1.8.5-r3, 1.9.6-r3, 1.10.3, 1.11.1                                                 
sys-devel/binutils:  2.20                                                                               
sys-devel/gcc:       4.4.3                                                                              
sys-devel/gcc-config: 1.4.1                                                                             
sys-devel/libtool:   2.2.6b                                                                             
virtual/os-headers:  2.6.30-r1                                                                          
ACCEPT_KEYWORDS="amd64 ~amd64"                                                                          
ACCEPT_LICENSE="* -@EULA dlj-1.1 Nero-EULA-US PUEL"                                                     
CBUILD="x86_64-pc-linux-gnu"                                                                            
CFLAGS="-O2 -march=core2 -msse3 -mssse3 -msse4.1 -pipe -g"                                              
CHOST="x86_64-pc-linux-gnu"                                                                             
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c"
CXXFLAGS="-O2 -march=core2 -msse3 -mssse3 -msse4.1 -pipe -g"
DISTDIR="/usr/portage/distfiles"
FEATURES="assume-digests distlocks fixpackages news parallel-fetch preserve-libs protect-owned sandbox sfperms splitdebug strict unmerge-logs unmerge-orphans userfetch"
GENTOO_MIRRORS="http://distfiles.gentoo.org"
LANG="pl_PL.utf8"
LDFLAGS="-Wl,-O1"
LINGUAS="pl"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage/layman/kde-sunset /usr/local/portage/moje"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X Xaw3d a52 aac aalib acl acpi alsa amd64 amr amrnb amrwb async audiofile automount bash-completion berkdb branding bzip2 cairo cdda cddb cdio cdparanoia cdr chdir cli consolekit cracklib crypt css cuda cups curl cxx dbus dirac disk-partition divx djvu dri dts dvd dvdr editor eds emboss emovix encode evo exchange exif faac faad fam fat ffmpeg fftw firefox firefox3 flac fontconfig fortran gd gdbm geoip gif glitz gmedia gphoto2 gpm gstreamer gtk hal hddtemp iconv id3 id3tag imagemagick inotify ipod jpeg kde kde4 kdehiddenvisibility kipi kompare kpathsea kqemu ladspa lame laptop lastfm latex libcaca libnotify libsamplerate lm_sensors mad midi mikmod mjpeg mmap mmx mmxext mng modules mp3 mp3tunes mp4 mpeg mplayer mtp mudflap multilib musicbrainz ncurses nls nptl nptlonly nsplugin ntfs ogg openal opencore-amr opengl openmp optimized-qmake pam pch pcre pdf perl plasma png policykit ppds pppd python qt3 qt3support qt4 quicktime readline realmedia reflection roe sasl scanner schroedinger sdl sensord session slang sndfile solver soundtouch sourceview spell spl sse sse2 sse3 sse4a ssl ssse3 startup-notification suid svg swat symlink sysfs syslog tcpd theora threads thunar tiff truetype unicode upnp usb vamp vcd vdpau vorbis webkit wmf wmp wxwidgets wxwindows x264 xcb xcomposite xine xml xorg xscreensaver xulrunner xv xvid xvmc zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="pl" QEMU_SOFTMMU_TARGETS="x86_64 i386" QEMU_USER_TARGETS="x86_64 i386" RUBY_TARGETS="ruby18" USERLAND="GNU" VIDEO_CARDS="nvidia"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LC_ALL, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


PM





          2010-02-11 17:52:10 UTC
        

My bad, synced, upgraded world and it works now.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

