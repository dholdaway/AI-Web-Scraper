Title: 325483 – x11-libs/libXt-1.0.8 fails to compile on windows 7
URL: https://bugs.gentoo.org/show_bug.cgi?id=325483

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 325483
x11-libs/libXt-1.0.8 fails to compile on windows 7
Last modified: 2011-08-30 06:11:17 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 325483 
      - x11-libs/libXt-1.0.8 fails to compile on windows 7


Summary:
x11-libs/libXt-1.0.8 fails to compile on windows 7
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Interix
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Prefix








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2010-06-25 10:38 UTC by mrq





      Modified:
    
2011-08-30 06:11 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


mrq





          2010-06-25 10:38:46 UTC
        

it happen when i try install xfce4 terminal, this lib is one of depencies

Reproducible: Always

Steps to Reproduce:
1. emerge =x11-libs/libXt-1.0.8
2.
3.

Actual Results:  
ebuild downloaded, unpacked, configured and began compiling


Portage 2.2.00.15842-prefix (prefix/windows/interix/6.0/x86, gcc-4.2.4, unavailable, 6.1 x86)
=================================================================
                        System Settings
=================================================================
System uname: Interix-6.1-x86-32bit
Timestamp of tree: Fri, 25 Jun 2010 09:38:57 +0000
app-shells/bash:     4.0_p37
dev-lang/python:     2.6.4
sys-devel/autoconf:  2.13, 2.65
sys-devel/automake:  1.4_p6-r1, 1.5-r1, 1.6.3-r1, 1.7.9-r2, 1.8.5-r4, 1.9.6-r3, 1.10.2-r00.1, 1.11.1
sys-devel/binutils:  2.20.51.0.6
sys-devel/gcc:       4.2.4-r01.2
sys-devel/gcc-config: 1.4.1-r00.2
sys-devel/libtool:   2.2.6b
ACCEPT_KEYWORDS="~x86-interix"
ACCEPT_LICENSE="* -@EULA"
CBUILD="i586-pc-interix6.0"
CFLAGS=""
CHOST="i586-pc-interix6.0"
CONFIG_PROTECT="/etc"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/gconf /etc/terminfo"
CXXFLAGS=""
DISTDIR="/opt/gentoo/usr/portage/distfiles"
FEATURES="assume-digests collision-protect distlocks fixpackages news nostrip parallel-fetch preserve-libs protect-owned sfperms strict unmerge-logs unmerge-orphans userfetch"
GENTOO_MIRRORS="http://sapc154.salomon.at/pub/portage http://gentoo.ynet.sk/pub"
LDFLAGS=""
PKGDIR="/opt/gentoo/usr/portage/packages"
PORTAGE_CONFIGROOT="/opt/gentoo/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/opt/gentoo/var/tmp"
PORTDIR="/opt/gentoo/usr/portage"
SYNC="rsync://rsync.prefix.freens.org/gentoo-portage-prefix"
USE="X cracklib cxx i6fork modules ncurses prefix readline ssl vim-syntax x86-interix zlib" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="Interix" INPUT_DEVICES="keyboard mouse" KERNEL="Interix" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" RUBY_TARGETS="ruby18" USERLAND="GNU" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account" 
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LANG, LC_ALL, LINGUAS, MAKEOPTS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY




Comment 1


mrq





          2010-06-25 10:40:34 UTC
        

actual log:

 * ERROR: x11-libs/libXt-1.0.8 failed:
 *   emake install failed
 *
 * Call stack:
 *     ebuild.sh, line   54:  Called call-ebuildshell 'src_install'
 *   environment, line  703:  Called src_install
 *   environment, line 3544:  Called xorg-2_src_install
 *   environment, line 4422:  Called die
 * The specific snippet of code:
 *           emake docdir=${EPREFIX}/usr/share/doc/${PF} DESTDIR="${D}" install || die "emake install failed";





Comment 2


Markus Duft (RETIRED)






          2010-06-28 09:47:52 UTC
        

hey!

i'd need some more of the output on the shell. could you post it somewhere?




Comment 3


mrq





          2010-06-28 18:47:31 UTC
        

(In reply to comment #2)
> hey!
> 
> i'd need some more of the output on the shell. could you post it somewhere?
> 

/opt/gentoo/var/tmp/portage/x11-libs/libXt-1.0.8/temp/build.log:

 [32;01m*[0m CPV:  x11-libs/libXt-1.0.8
 [32;01m*[0m REPO: gentoo_prefix
 [32;01m*[0m USE:  elibc_Interix i6fork kernel_Interix prefix userland_GNU x86-interix
>>> Unpacking source...
>>> Unpacking libXt-1.0.8.tar.bz2 to /opt/gentoo/var/tmp/portage/x11-libs/libXt-1.0.8/work
>>> Source unpacked in /opt/gentoo/var/tmp/portage/x11-libs/libXt-1.0.8/work
>>> Preparing source in /opt/gentoo/var/tmp/portage/x11-libs/libXt-1.0.8/work/libXt-1.0.8 ...
 [32;01m*[0m Running eautoreconf in '/opt/gentoo/var/tmp/portage/x11-libs/libXt-1.0.8/work/libXt-1.0.8' ...
 [32;01m*[0m Running aclocal -I /opt/gentoo/usr/share/aclocal ...
[A[149C [34;01m[ [32;01mok[34;01m ][0m
 [32;01m*[0m Running libtoolize --copy --force --install --automake ...
[A[149C [34;01m[ [32;01mok[34;01m ][0m
 [32;01m*[0m Running aclocal -I /opt/gentoo/usr/share/aclocal ...
[A[149C [34;01m[ [32;01mok[34;01m ][0m
 [32;01m*[0m Running autoconf ...
[A[149C [34;01m[ [32;01mok[34;01m ][0m
 [32;01m*[0m Running autoheader ...
[A[149C [34;01m[ [32;01mok[34;01m ][0m
 [32;01m*[0m Running automake --add-missing --copy --foreign ...
[A[149C [34;01m[ [32;01mok[34;01m ][0m
 [32;01m*[0m Running elibtoolize in: libXt-1.0.8
 [32;01m*[0m   Applying portage-2.2.patch ...
 [32;01m*[0m   Applying sed-1.5.6.patch ...
 [32;01m*[0m   Applying as-needed-2.2.6.patch ...
>>> Source prepared.
>>> Configuring source in /opt/gentoo/var/tmp/portage/x11-libs/libXt-1.0.8/work/libXt-1.0.8 ...
 * econf: updating libXt-1.0.8/config.guess with /opt/gentoo/usr/share/gnuconfig/config.guess
 * econf: updating libXt-1.0.8/config.sub with /opt/gentoo/usr/share/gnuconfig/config.sub
./configure --prefix=/opt/gentoo/usr --build=i586-pc-interix6.0 --host=i586-pc-interix6.0 --mandir=/opt/gentoo/usr/share/man --infodir=/opt/gentoo/usr/share/info --datadir=/opt/gentoo/usr/share --sysconfdir=/opt/gentoo/etc --localstatedir=/opt/gentoo/var/lib --disable-static
checking for a BSD-compatible install... /opt/gentoo/usr/bin/install -c
checking whether build environment is sane... yes
checking for a thread-safe mkdir -p... /opt/gentoo/bin/mkdir -p
checking for gawk... gawk
checking whether make sets $(MAKE)... yes
checking whether to enable maintainer-specific portions of Makefiles... no
checking for style of include used by make... GNU
checking for i586-pc-interix6.0-gcc... i586-pc-interix6.0-gcc
checking whether the C compiler works... yes
checking for C compiler default output file name... a.out
checking for suffix of executables... 
checking whether we are cross compiling... no
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether i586-pc-interix6.0-gcc accepts -g... yes
checking for i586-pc-interix6.0-gcc option to accept ISO C89... none needed
checking dependency style of i586-pc-interix6.0-gcc... gcc3
checking for i586-pc-interix6.0-gcc option to accept ISO C99... -std=gnu99
checking how to run the C preprocessor... i586-pc-interix6.0-gcc -std=gnu99 -E
checking for grep that handles long lines and -e... /opt/gentoo/bin/grep
checking for egrep... /opt/gentoo/bin/grep -E
checking for ANSI C header files... yes
checking for sys/types.h... yes
checking for sys/stat.h... yes
checking for stdlib.h... yes
checking for string.h... yes
checking for memory.h... yes
checking for strings.h... yes
checking for inttypes.h... yes
checking for stdint.h... yes
checking for unistd.h... yes
checking for i586-pc-interix6.0-pkg-config... no
checking for pkg-config... /opt/gentoo/usr/bin/pkg-config
checking pkg-config is at least version 0.9.0... yes
checking build system type... i586-pc-interix6.0
checking host system type... i586-pc-interix6.0
checking for a sed that does not truncate output... /opt/gentoo/bin/sed
checking for i586-pc-interix6.0-gcc... (cached) i586-pc-interix6.0-gcc
checking whether we are using the GNU C compiler... (cached) yes
checking whether i586-pc-interix6.0-gcc accepts -g... (cached) yes
checking for i586-pc-interix6.0-gcc option to accept ISO C89... (cached) none needed
checking dependency style of i586-pc-interix6.0-gcc... (cached) gcc3
checking for a sed that does not truncate output... (cached) /opt/gentoo/bin/sed
checking for fgrep... /opt/gentoo/bin/grep -F
checking for ld used by i586-pc-interix6.0-gcc... /opt/gentoo/usr/i586-pc-interix6.0/bin/ld
checking if the linker (/opt/gentoo/usr/i586-pc-interix6.0/bin/ld) is GNU ld... yes
checking for BSD- or MS-compatible name lister (nm)... /opt/gentoo/usr/bin/nm -B
checking the name lister (/opt/gentoo/usr/bin/nm -B) interface... BSD nm
checking whether ln -s works... yes
checking the maximum length of command line arguments... 196608
checking whether the shell understands some XSI constructs... yes
checking whether the shell understands "+="... no
checking for /opt/gentoo/usr/i586-pc-interix6.0/bin/ld option to reload object files... -r
checking for i586-pc-interix6.0-objdump... i586-pc-interix6.0-objdump
checking how to recognize dependent libraries... match_pattern /lib[^/]+(\.so|\.a)$
checking for i586-pc-interix6.0-ar... i586-pc-interix6.0-ar
checking for i586-pc-interix6.0-strip... i586-pc-interix6.0-strip
checking for i586-pc-interix6.0-ranlib... i586-pc-interix6.0-ranlib
checking command to parse /opt/gentoo/usr/bin/nm -B output from i586-pc-interix6.0-gcc object... ok
checking for dlfcn.h... yes
checking for objdir... .libs
checking if i586-pc-interix6.0-gcc supports -fno-rtti -fno-exceptions... no
checking for i586-pc-interix6.0-gcc option to produce PIC...  -DPIC
checking if i586-pc-interix6.0-gcc PIC flag  -DPIC works... yes
checking if i586-pc-interix6.0-gcc static flag -static works... yes
checking if i586-pc-interix6.0-gcc supports -c -o file.o... yes
checking if i586-pc-interix6.0-gcc supports -c -o file.o... (cached) yes
checking whether the i586-pc-interix6.0-gcc linker (/opt/gentoo/usr/i586-pc-interix6.0/bin/ld) supports shared libraries... yes
checking whether -lc should be explicitly linked in... no
checking dynamic linker characteristics... Interix 3.x ld.so.1 (PE, like ELF)
checking how to hardcode library paths into programs... immediate
checking whether stripping libraries is possible... yes
checking if libtool supports shared libraries... yes
checking whether to build shared libraries... yes
checking whether to build static libraries... no
checking whether i586-pc-interix6.0-gcc and cc understand -c and -o together... yes
checking for XT... yes
checking alloca.h usability... yes
checking alloca.h presence... yes
checking for alloca.h... yes
checking for poll... yes
checking for snprintf... yes
checking for main in -lws2_32... no
checking for cpp... /opt/gentoo/usr/bin/cpp
checking if /opt/gentoo/usr/bin/cpp requires -undef... no
checking if /opt/gentoo/usr/bin/cpp requires -traditional... yes
checking whether malloc(0) returns NULL... yes
configure: creating ./config.status
config.status: creating Makefile
config.status: creating src/Makefile
config.status: creating util/Makefile
config.status: creating include/Makefile
config.status: creating man/Makefile
config.status: creating xt.pc
config.status: creating config.h
config.status: executing depfiles commands
config.status: executing libtool commands
>>> Source configured.
>>> Compiling source in /opt/gentoo/var/tmp/portage/x11-libs/libXt-1.0.8/work/libXt-1.0.8 ...
/opt/gentoo/var/tmp/portage/x11-libs/libXt-1.0.8/temp/environment: line 3535: x-modular_src_compile: command not found
>>> Source compiled.
>>> Test phase [not enabled]: x11-libs/libXt-1.0.8

>>> Install libXt-1.0.8 into /opt/gentoo/var/tmp/portage/x11-libs/libXt-1.0.8/image/opt/gentoo/ category x11-libs
make docdir=/opt/gentoo/usr/share/doc/libXt-1.0.8 DESTDIR=/opt/gentoo/var/tmp/portage/x11-libs/libXt-1.0.8/image/ install 
Making install in util
make[1]: Entering directory `/opt/gentoo/var/tmp/portage/x11-libs/libXt-1.0.8/work/libXt-1.0.8/util'
i586-pc-interix6.0-gcc -DHAVE_CONFIG_H -I. -I..    -I/opt/gentoo/usr/include     -MT makestrs-makestrs.o -MD -MP -MF .deps/makestrs-makestrs.Tpo -c -o makestrs-makestrs.o `test -f 'makestrs.c' || echo './'`makestrs.c
mv -f .deps/makestrs-makestrs.Tpo .deps/makestrs-makestrs.Po
/opt/gentoo/bin/bash ../libtool --tag=CC   --mode=link i586-pc-interix6.0-gcc -I/opt/gentoo/usr/include       -o makestrs makestrs-makestrs.o  
libtool: link: i586-pc-interix6.0-gcc -I/opt/gentoo/usr/include -o makestrs makestrs-makestrs.o 
sed -e 's|__xorgversion__|"libXt 1.0.8" "X Version 11"|' < makestrs.man > makestrs.1
make[2]: Entering directory `/opt/gentoo/var/tmp/portage/x11-libs/libXt-1.0.8/work/libXt-1.0.8/util'
make[2]: Nothing to be done for `install-exec-am'.
make[2]: Nothing to be done for `install-data-am'.
make[2]: Leaving directory `/opt/gentoo/var/tmp/portage/x11-libs/libXt-1.0.8/work/libXt-1.0.8/util'
make[1]: Leaving directory `/opt/gentoo/var/tmp/portage/x11-libs/libXt-1.0.8/work/libXt-1.0.8/util'
Making install in src
make[1]: Entering directory `/opt/gentoo/var/tmp/portage/x11-libs/libXt-1.0.8/work/libXt-1.0.8/src'
../util/makestrs -i ..  < ../util/string.list > StringDefs.c
mkdir -p ../src
mkdir -p ../include/X11
cp StringDefs.h ../include/X11
cp Shell.h ../include/X11
rm StringDefs.h Shell.h
make  install-am
make[2]: Entering directory `/opt/gentoo/var/tmp/portage/x11-libs/libXt-1.0.8/work/libXt-1.0.8/src'
/opt/gentoo/bin/bash ../libtool --tag=CC   --mode=compile i586-pc-interix6.0-gcc -DHAVE_CONFIG_H -I. -I.. -I../include/ -I../include/X11 -I../include -I../include/X11   -Wall -Wpointer-arith -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wnested-externs -fno-strict-aliasing -Wbad-function-cast -Wformat=2 -Wold-style-definition -Wdeclaration-after-statement  -I/opt/gentoo/usr/include    -DXFILESEARCHPATHDEFAULT=\"/opt/gentoo/etc/X11/%L/%T/%N%C%S:/opt/gentoo/etc/X11/%l/%T/%N%C%S:/opt/gentoo/etc/X11/%T/%N%C%S:/opt/gentoo/etc/X11/%L/%T/%N%S:/opt/gentoo/etc/X11/%l/%T/%N%S:/opt/gentoo/etc/X11/%T/%N%S:/opt/gentoo/usr/share/X11/%L/%T/%N%C%S:/opt/gentoo/usr/share/X11/%l/%T/%N%C%S:/opt/gentoo/usr/share/X11/%T/%N%C%S:/opt/gentoo/usr/share/X11/%L/%T/%N%S:/opt/gentoo/usr/share/X11/%l/%T/%N%S:/opt/gentoo/usr/share/X11/%T/%N%S:/opt/gentoo/usr/lib/X11/%L/%T/%N%C%S:/opt/gentoo/usr/lib/X11/%l/%T/%N%C%S:/opt/gentoo/usr/lib/X11/%T/%N%C%S:/opt/gentoo/usr/lib/X11/%L/%T/%N%S:/opt/gentoo/usr/lib/X11/%l/%T/%N%S:/opt/gentoo/usr/lib/X11/%T/%N%S\" -DERRORDB=\"/opt/gentoo/usr/lib/X11/XtErrorDB\" -DMALLOC_0_RETURNS_NULL -DXTMALLOC_BC  -MT ActionHook.lo -MD -MP -MF .deps/ActionHook.Tpo -c -o ActionHook.lo ActionHook.c
libtool: compile:  i586-pc-interix6.0-gcc -DHAVE_CONFIG_H -I. -I.. -I../include/ -I../include/X11 -I../include -I../include/X11 -Wall -Wpointer-arith -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wnested-externs -fno-strict-aliasing -Wbad-function-cast -Wformat=2 -Wold-style-definition -Wdeclaration-after-statement -I/opt/gentoo/usr/include -DXFILESEARCHPATHDEFAULT=\"/opt/gentoo/etc/X11/%L/%T/%N%C%S:/opt/gentoo/etc/X11/%l/%T/%N%C%S:/opt/gentoo/etc/X11/%T/%N%C%S:/opt/gentoo/etc/X11/%L/%T/%N%S:/opt/gentoo/etc/X11/%l/%T/%N%S:/opt/gentoo/etc/X11/%T/%N%S:/opt/gentoo/usr/share/X11/%L/%T/%N%C%S:/opt/gentoo/usr/share/X11/%l/%T/%N%C%S:/opt/gentoo/usr/share/X11/%T/%N%C%S:/opt/gentoo/usr/share/X11/%L/%T/%N%S:/opt/gentoo/usr/share/X11/%l/%T/%N%S:/opt/gentoo/usr/share/X11/%T/%N%S:/opt/gentoo/usr/lib/X11/%L/%T/%N%C%S:/opt/gentoo/usr/lib/X11/%l/%T/%N%C%S:/opt/gentoo/usr/lib/X11/%T/%N%C%S:/opt/gentoo/usr/lib/X11/%L/%T/%N%S:/opt/gentoo/usr/lib/X11/%l/%T/%N%S:/opt/gentoo/usr/lib/X11/%T/%N%S\" -DERRORDB=\"/opt/gentoo/usr/lib/X11/XtErrorDB\" -DMALLOC_0_RETURNS_NULL -DXTMALLOC_BC -MT ActionHook.lo -MD -MP -MF .deps/ActionHook.Tpo -c ActionHook.c  -DPIC -o .libs/ActionHook.o
In file included from ../include/X11/InitialI.h:85,
                 from ../include/X11/TranslateI.h:442,
                 from ../include/X11/IntrinsicI.h:67,
                 from ActionHook.c:83:
/opt/gentoo/usr/include/X11/Xpoll.h:154:22: error: sys/poll.h: No such file or directory
make[2]: *** [ActionHook.lo] Error 1
make[2]: Leaving directory `/opt/gentoo/var/tmp/portage/x11-libs/libXt-1.0.8/work/libXt-1.0.8/src'
make[1]: *** [install] Error 2
make[1]: Leaving directory `/opt/gentoo/var/tmp/portage/x11-libs/libXt-1.0.8/work/libXt-1.0.8/src'
make: *** [install-recursive] Error 1
 [31;01m*[0m ERROR: x11-libs/libXt-1.0.8 failed:
 [31;01m*[0m   emake install failed
 [31;01m*[0m 
 [31;01m*[0m Call stack:
 [31;01m*[0m     ebuild.sh, line   54:  Called call-ebuildshell 'src_install'
 [31;01m*[0m   environment, line  703:  Called src_install
 [31;01m*[0m   environment, line 3544:  Called xorg-2_src_install
 [31;01m*[0m   environment, line 4422:  Called die
 [31;01m*[0m The specific snippet of code:
 [31;01m*[0m           emake docdir=${EPREFIX}/usr/share/doc/${PF} DESTDIR="${D}" install || die "emake install failed";
 [31;01m*[0m 
 [31;01m*[0m If you need support, post the output of 'emerge --info =x11-libs/libXt-1.0.8',
 [31;01m*[0m the complete build log and the output of 'emerge -pqv =x11-libs/libXt-1.0.8'.
 [31;01m*[0m The complete build log is located at '/opt/gentoo/var/tmp/portage/x11-libs/libXt-1.0.8/temp/build.log'.
 [31;01m*[0m The ebuild environment file is located at '/opt/gentoo/var/tmp/portage/x11-libs/libXt-1.0.8/temp/environment'.
 [31;01m*[0m S: '/opt/gentoo/var/tmp/portage/x11-libs/libXt-1.0.8/work/libXt-1.0.8'
[33;01m * [39;49;00mQA Notice: command not found:
[33;01m * [39;49;00m
[33;01m * [39;49;00m	/opt/gentoo/var/tmp/portage/x11-libs/libXt-1.0.8/temp/environment: line 3535: x-modular_src_compile: command not found






Comment 4


Markus Duft (RETIRED)






          2010-06-29 06:28:25 UTC
        

(In reply to comment #3)
[snip]
> /opt/gentoo/usr/include/X11/Xpoll.h:154:22: error: sys/poll.h: No such file or
> directory

ah, seems like xproto patches for interix went away, or xproto changed. :) could you try to downgrade xproto a little (which version do you have?)?




Comment 5


mrq





          2010-06-29 09:14:24 UTC
        

(In reply to comment #4)
> (In reply to comment #3)
> [snip]
> > /opt/gentoo/usr/include/X11/Xpoll.h:154:22: error: sys/poll.h: No such file or
> > directory
> 
> ah, seems like xproto patches for interix went away, or xproto changed. :)
> could you try to downgrade xproto a little (which version do you have?)?
> 

[I] x11-proto/xproto
     Available versions:  *7.0.10 *7.0.14 *7.0.15 (~)7.0.16 (~)7.0.17
     Installed versions:  7.0.17(02:53:29 06/25/10)
     Homepage:            http://xorg.freedesktop.org/
     Description:         X.Org xproto protocol headers





Comment 6


Markus Duft (RETIRED)






          2010-06-30 11:24:48 UTC
        

(In reply to comment #5)
> [I] x11-proto/xproto
>      Available versions:  *7.0.10 *7.0.14 *7.0.15 (~)7.0.16 (~)7.0.17
>      Installed versions:  7.0.17(02:53:29 06/25/10)
>      Homepage:            http://xorg.freedesktop.org/
>      Description:         X.Org xproto protocol headers
> 

i can darkly remember 7.0.15 - can you try it?






Comment 7


mrq





          2010-06-30 11:32:07 UTC
        

(In reply to comment #6)
> (In reply to comment #5)
> > [I] x11-proto/xproto
> >      Available versions:  *7.0.10 *7.0.14 *7.0.15 (~)7.0.16 (~)7.0.17
> >      Installed versions:  7.0.17(02:53:29 06/25/10)
> >      Homepage:            http://xorg.freedesktop.org/
> >      Description:         X.Org xproto protocol headers
> > 
> 
> i can darkly remember 7.0.15 - can you try it?

i tried 7.0.16 but no change, i wasnt able unmask 7.0.15 and older
> 






Comment 8


Sin Li





          2010-08-05 01:21:53 UTC
        

Try setting the env variable CONFIG_SITE pointing to a file with the line

ac_cv_func_poll=${ac_cv_func_poll=no}

configure thinks the system has /usr/include/sys/poll.h for some reason but it's actually /usr/include/poll.h

You could also try symlinking /usr/include/poll.h to /usr/include/sys/poll.h.




Comment 9


Sin Li





          2010-08-05 01:46:19 UTC
        

Seems like this came up in other packages as well.

http://bugs.gentoo.org/attachment.cgi?id=229065

+	# Interix poll is broken
+	[[ ${CHOST} == *-interix* ]] && export ac_cv_func_poll=no

Perhaps this could be applied as part of the make profile somehow?




Comment 10


Markus Duft (RETIRED)






          2011-08-30 06:11:17 UTC
        

i now re-built snapshots on all windows versions i have, and it works without a problem. if the problem still persists for you, please grad the latest DVD and upgrade your installation.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

