Title: 271559 – sys-devel/gcc-4.3.3-r2 failed: compilation fails with libgfortran error
URL: https://bugs.gentoo.org/show_bug.cgi?id=271559

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 271559
sys-devel/gcc-4.3.3-r2 failed: compilation fails with libgfortran error
Last modified: 2009-08-03 00:51:57 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 271559 
      - sys-devel/gcc-4.3.3-r2 failed: compilation fails with libgfortran error


Summary:
sys-devel/gcc-4.3.3-r2 failed: compilation fails with libgfortran error
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] GCC Porting

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       major
      


Assignee:

Gentoo Toolchain Maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-05-28 17:49 UTC by Christopher Dale





      Modified:
    
2009-08-03 00:51 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




The full log of the installation attempt

              (sys-devel:gcc-4.3.3-r2:20090528-164152.log.gz,188.93 KB,
                application/gzip)

            
2009-05-28 17:52 UTC,

            Christopher Dale




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Christopher Dale





          2009-05-28 17:49:56 UTC
        

While trying to install gcc-4.3.3-r2, the installation fails with an error pertaining to Fortran. The failure seemed to happen in "/var/tmp/portage/sys-devel/gcc-4.3.3-r2/work/build/i686-pc-linux-gnu/libgfortran" and displayed the following error message:

collect2: ld returned 1 exit status
make[3]: *** [libgfortran.la] Error 1
make[3]: Leaving directory `/var/tmp/portage/sys-devel/gcc-4.3.3-r2/work/build/i686-pc-linux-gnu/libgfortran'
make[2]: *** [all] Error 2
make[2]: Leaving directory `/var/tmp/portage/sys-devel/gcc-4.3.3-r2/work/build/i686-pc-linux-gnu/libgfortran'
make[1]: *** [all-target-libgfortran] Error 2
make[1]: Leaving directory `/var/tmp/portage/sys-devel/gcc-4.3.3-r2/work/build'
make: *** [bootstrap-lean] Error 2
 * 
 * ERROR: sys-devel/gcc-4.3.3-r2 failed.
 * Call stack:
 *               ebuild.sh, line   49:  Called src_compile
 *             environment, line 4783:  Called toolchain_src_compile
 *             environment, line 5304:  Called gcc_src_compile
 *             environment, line 3077:  Called gcc_do_make
 *             environment, line 2868:  Called die
 * The specific snippet of code:
 *       emake LDFLAGS="${LDFLAGS}" STAGE1_CFLAGS="${STAGE1_CFLAGS}" LIBPATH="${LIBPATH}" BOOT_CFLAGS="${BOOT_CFLAGS}" ${GCC_MAKE_TARGET} || die "emake failed with ${GCC_MAKE_TARGET}";
 *  The die message:
 *   emake failed with bootstrap-lean

Reproducible: Always

Steps to Reproduce:
1. USE="fortran" emerge sys-devel/gcc-4.3.3-r2
2. Wait...
Actual Results:  
The emerge fails with the following error message:

collect2: ld returned 1 exit status
make[3]: *** [libgfortran.la] Error 1
make[3]: Leaving directory `/var/tmp/portage/sys-devel/gcc-4.3.3-r2/work/build/i686-pc-linux-gnu/libgfortran'
make[2]: *** [all] Error 2
make[2]: Leaving directory `/var/tmp/portage/sys-devel/gcc-4.3.3-r2/work/build/i686-pc-linux-gnu/libgfortran'
make[1]: *** [all-target-libgfortran] Error 2
make[1]: Leaving directory `/var/tmp/portage/sys-devel/gcc-4.3.3-r2/work/build'
make: *** [bootstrap-lean] Error 2
 * 
 * ERROR: sys-devel/gcc-4.3.3-r2 failed.
 * Call stack:
 *               ebuild.sh, line   49:  Called src_compile
 *             environment, line 4783:  Called toolchain_src_compile
 *             environment, line 5304:  Called gcc_src_compile
 *             environment, line 3077:  Called gcc_do_make
 *             environment, line 2868:  Called die
 * The specific snippet of code:
 *       emake LDFLAGS="${LDFLAGS}" STAGE1_CFLAGS="${STAGE1_CFLAGS}" LIBPATH="${LIBPATH}" BOOT_CFLAGS="${BOOT_CFLAGS}" ${GCC_MAKE_TARGET} || die "emake failed with ${GCC_MAKE_TARGET}";
 *  The die message:
 *   emake failed with bootstrap-lean

Expected Results:  
GCC is compiled, linked and installed.




Comment 1


Christopher Dale





          2009-05-28 17:52:32 UTC
        

Created attachment 192736 [details]
The full log of the installation attempt

This is the full log of the installation attempt




Comment 2


Mark Loeser (RETIRED)






          2009-08-03 00:51:57 UTC
        

I can't reproduce this.  Can you post your emerge --info and verify that this is reproducible in the same spot every time?









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

