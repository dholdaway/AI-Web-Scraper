Title: 116025 – mozilla-launcher fails silently when there is an existing dead firefox process
URL: https://bugs.gentoo.org/show_bug.cgi?id=116025

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 116025
mozilla-launcher fails silently when there is an existing dead firefox process
Last modified: 2005-12-19 07:29:18 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 116025 
      - mozilla-launcher fails silently when there is an existing dead firefox process


Summary:
mozilla-launcher fails silently when there is an existing dead firefox process
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Mozilla Gentoo Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-12-19 03:53 UTC by Chris Bainbridge (RETIRED)





      Modified:
    
2005-12-19 07:29 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Chris Bainbridge (RETIRED)






          2005-12-19 03:53:47 UTC
        

ps shows:

chrb     32369  0.0  0.2   3020  1308 ?        S    11:46   0:00 /bin/bash /usr/libexec/mozilla-launcher
chrb     32383  1.9  4.5  93056 23092 ?        Sl   11:46   0:01 /usr/lib/mozilla-firefox/firefox-bin

because of this, mozilla-launcher won't actually run firefox. It would be nice if mozilla-launcher could detect when firefox gets into a crashed state like this and actually start a new instance (there are no firefox windows present, it must have crashed sometime during application closing).




Comment 1


Chris Bainbridge (RETIRED)






          2005-12-19 06:05:59 UTC
        

hmmm, it looks like those processes are just part of the previous failed attempt to launch. Running firefox from the command line with 'set -x' in the mozilla-launcher script gives:

+ moz_pis_startstop_scripts start
++ grep -m1 MOZ_USER_DIR= /usr/lib/mozilla-firefox/firefox
+ eval 'MOZ_USER_DIR=".mozilla/firefox"'
++ MOZ_USER_DIR=.mozilla/firefox
+ [[ -z .mozilla/firefox ]]
+ MOZ_PIS_API=2
+ MOZ_PIS_MOZBINDIR=
+ MOZ_PIS_SESSION_PID=2827
+ MOZ_PIS_USER_DIR=.mozilla/firefox
+ export MOZ_PIS_API MOZ_PIS_MOZBINDIR MOZ_PIS_SESSION_PID MOZ_PIS_USER_DIR
+ case "${1}" in
+ for curr_pis in '"${dist_bin}/init.d"/S*' '"${HOME}/${MOZ_USER_DIR}/init.d"/S*'
+ '[' -x '/init.d/S*' ']'
+ for curr_pis in '"${dist_bin}/init.d"/S*' '"${HOME}/${MOZ_USER_DIR}/init.d"/S*'
+ '[' -x '/home/chrb/.mozilla/firefox/init.d/S*' ']'
+ false
+ /usr/lib/mozilla-firefox/firefox-bin
+ mozpid=2841
+ set -- ''
+ shift
+ urls=("$@")
+ candidates=:0.0
+ args=()
+ [[ 0 -gt 0 ]]
+ [[ -n 2841 ]]
+ wait 2841

and there it hangs forever.




Comment 2


Chris Bainbridge (RETIRED)






          2005-12-19 06:55:46 UTC
        

I had attempted to downgrade from firefox 1.5 -> 1.0.7. Changed back to 1.5 and all is fine. Moral of the story: never go back.




Comment 3


Jory A. Pratt





          2005-12-19 07:29:18 UTC
        

If you downgrade you have to remove the profile. Profiles are not backward compatible. I will make a note to add a warning on next bump.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

