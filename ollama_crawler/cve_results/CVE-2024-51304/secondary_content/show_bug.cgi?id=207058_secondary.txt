Title: 207058 – net-p2p/deluge fails linking on gentoo-hardened (gcc i686-pc-linux-gnu-3.4.6)
URL: https://bugs.gentoo.org/show_bug.cgi?id=207058

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 207058
net-p2p/deluge fails linking on gentoo-hardened (gcc i686-pc-linux-gnu-3.4.6)
Last modified: 2008-02-28 04:42:00 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 207058 
      - net-p2p/deluge fails linking on gentoo-hardened (gcc i686-pc-linux-gnu-3.4.6)


Summary:
net-p2p/deluge fails linking on gentoo-hardened (gcc i686-pc-linux-gnu-3.4.6)
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

The Gentoo Linux Hardened Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-01-22 16:24 UTC by Eddie Parker





      Modified:
    
2008-02-28 04:42 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



covracer









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Eddie Parker





          2008-01-22 16:24:15 UTC
        

Hello,

I'm having trouble linking net-p2p/deluge.  Specifically:

running build
running build_py
running build_ext
building 'deluge_core' extension
i686-pc-linux-gnu-g++ -pthread -shared build/temp.linux-i686-2.4/libtorrent/src/peer_connection.o build/temp.linux-i686-2.4/libtorrent/src/entry.o build/temp.linux-i686-2.4/libtorrent/src/broadcast_socket.o build/temp.linux-i686-2.4/libtorrent/src/http_stream.o build/temp.linux-i686-2.4/libtorrent/src/disk_io_thread.o build/temp.linux-i686-2.4/libtorrent/src/alert.o build/temp.linux-i686-2.4/libtorrent/src/logger.o build/temp.linux-i686-2.4/libtorrent/src/session.o build/temp.linux-i686-2.4/libtorrent/src/file_pool.o build/temp.linux-i686-2.4/libtorrent/src/connection_queue.o build/temp.linux-i686-2.4/libtorrent/src/stat.o build/temp.linux-i686-2.4/libtorrent/src/sha1.o build/temp.linux-i686-2.4/libtorrent/src/file.o build/temp.linux-i686-2.4/libtorrent/src/identify_client.o build/temp.linux-i686-2.4/libtorrent/src/torrent_info.o build/temp.linux-i686-2.4/libtorrent/src/http_connection.o build/temp.linux-i686-2.4/libtorrent/src/torrent_handle.o build/temp.linux-i686-2.4/libtorrent/src/bt_peer_connection.o build/temp.linux-i686-2.4/libtorrent/src/assert.o build/temp.linux-i686-2.4/libtorrent/src/ip_filter.o build/temp.linux-i686-2.4/libtorrent/src/socks5_stream.o build/temp.linux-i686-2.4/libtorrent/src/piece_picker.o build/temp.linux-i686-2.4/libtorrent/src/storage.o build/temp.linux-i686-2.4/libtorrent/src/socks4_stream.o build/temp.linux-i686-2.4/libtorrent/src/metadata_transfer.o build/temp.linux-i686-2.4/libtorrent/src/enum_net.o build/temp.linux-i686-2.4/libtorrent/src/allocate_resources.o build/temp.linux-i686-2.4/libtorrent/src/natpmp.o build/temp.linux-i686-2.4/libtorrent/src/escape_string.o build/temp.linux-i686-2.4/libtorrent/src/web_peer_connection.o build/temp.linux-i686-2.4/libtorrent/src/ut_pex.o build/temp.linux-i686-2.4/libtorrent/src/upnp.o build/temp.linux-i686-2.4/libtorrent/src/instantiate_connection.o build/temp.linux-i686-2.4/libtorrent/src/udp_tracker_connection.o build/temp.linux-i686-2.4/libtorrent/src/tracker_manager.o build/temp.linux-i686-2.4/libtorrent/src/policy.o build/temp.linux-i686-2.4/libtorrent/src/lsd.o build/temp.linux-i686-2.4/libtorrent/src/http_tracker_connection.o build/temp.linux-i686-2.4/libtorrent/src/pe_crypto.o build/temp.linux-i686-2.4/libtorrent/src/torrent.o build/temp.linux-i686-2.4/libtorrent/src/session_impl.o build/temp.linux-i686-2.4/libtorrent/src/kademlia/rpc_manager.o build/temp.linux-i686-2.4/libtorrent/src/kademlia/dht_tracker.o build/temp.linux-i686-2.4/libtorrent/src/kademlia/node_id.o build/temp.linux-i686-2.4/libtorrent/src/kademlia/routing_table.o build/temp.linux-i686-2.4/libtorrent/src/kademlia/traversal_algorithm.o build/temp.linux-i686-2.4/libtorrent/src/kademlia/find_data.o build/temp.linux-i686-2.4/libtorrent/src/kademlia/closest_nodes.o build/temp.linux-i686-2.4/libtorrent/src/kademlia/refresh.o build/temp.linux-i686-2.4/libtorrent/src/kademlia/node.o build/temp.linux-i686-2.4/src/deluge_core.o -lboost_filesystem-mt -lboost_date_time-mt -lboost_thread-mt -lz -lpthread -lssl -lrt -lcrypto -o build/lib.linux-i686-2.4/deluge/deluge_core.so

 and I suspect it's due to a bug in gcc [1].

I imagine there's nothing to be done from Gentoo's end up until we can unmask a 4.xx series gcc for gentoo-hardened, but I thought I'd submit this just in case.

[1] http://gcc.gnu.org/bugzilla/show_bug.cgi?id=16625

Reproducible: Always




Comment 1


Eddie Parker





          2008-01-22 16:26:07 UTC
        

Whoops!

Didn't add the actual error output.  Pardon me:

`.L53437' referenced in section `.gnu.linkonce.r._ZN4asio19asio_handler_invokeINS_6detail16resolver_serviceINS_2ip3tcpEE21resolve_query_handlerIN5boost3_bi6bind_tIvNS7_4_mfi3mf3IvN10libtorrent13socks5_streamERKNS_10error_codeENS3_23basic_resolver_iteratorIS4_EENS7_10shared_ptrINS7_8functionIFvSG_ESaIvEEEEEEENS8_5list4INS8_5valueIPSD_EENS7_3argILi1EEENSU_ILi2EEENSR_ISO_EEEEEEEEEEvT_z' of build/temp.linux-i686-2.4/libtorrent/src/http_tracker_connection.o: defined in discarded section `.gnu.linkonce.t._ZN4asio19asio_handler_invokeINS_6detail16resolver_serviceINS_2ip3tcpEE21resolve_query_handlerIN5boost3_bi6bind_tIvNS7_4_mfi3mf3IvN10libtorrent13socks5_streamERKNS_10error_codeENS3_23basic_resolver_iteratorIS4_EENS7_10shared_ptrINS7_8functionIFvSG_ESaIvEEEEEEENS8_5list4INS8_5valueIPSD_EENS7_3argILi1EEENSU_ILi2EEENSR_ISO_EEEEEEEEEEvT_z' of build/temp.linux-i686-2.4/libtorrent/src/http_tracker_connection.o
`.L53444' referenced in section `.gnu.linkonce.r._ZN4asio19asio_handler_invokeINS_6detail16resolver_serviceINS_2ip3tcpEE21resolve_query_handlerIN5boost3_bi6bind_tIvNS7_4_mfi3mf3IvN10libtorrent13socks5_streamERKNS_10error_codeENS3_23basic_resolver_iteratorIS4_EENS7_10shared_ptrINS7_8functionIFvSG_ESaIvEEEEEEENS8_5list4INS8_5valueIPSD_EENS7_3argILi1EEENSU_ILi2EEENSR_ISO_EEEEEEEEEEvT_z' of build/temp.linux-i686-2.4/libtorrent/src/http_tracker_connection.o: defined in discarded section `.gnu.linkonce.t._ZN4asio19asio_handler_invokeINS_6detail16resolver_serviceINS_2ip3tcpEE21resolve_query_handlerIN5boost3_bi6bind_tIvNS7_4_mfi3mf3IvN10libtorrent13socks5_streamERKNS_10error_codeENS3_23basic_resolver_iteratorIS4_EENS7_10shared_ptrINS7_8functionIFvSG_ESaIvEEEEEEENS8_5list4INS8_5valueIPSD_EENS7_3argILi1EEENSU_ILi2EEENSR_ISO_EEEEEEEEEEvT_z' of build/temp.linux-i686-2.4/libtorrent/src/http_tracker_connection.o
`.L53449' referenced in section `.gnu.linkonce.r._ZN4asio19asio_handler_invokeINS_6detail16resolver_serviceINS_2ip3tcpEE21resolve_query_handlerIN5boost3_bi6bind_tIvNS7_4_mfi3mf3IvN10libtorrent13socks5_streamERKNS_10error_codeENS3_23basic_resolver_iteratorIS4_EENS7_10shared_ptrINS7_8functionIFvSG_ESaIvEEEEEEENS8_5list4INS8_5valueIPSD_EENS7_3argILi1EEENSU_ILi2EEENSR_ISO_EEEEEEEEEEvT_z' of build/temp.linux-i686-2.4/libtorrent/src/http_tracker_connection.o: defined in discarded section `.gnu.linkonce.t._ZN4asio19asio_handler_invokeINS_6detail16resolver_serviceINS_2ip3tcpEE21resolve_query_handlerIN5boost3_bi6bind_tIvNS7_4_mfi3mf3IvN10libtorrent13socks5_streamERKNS_10error_codeENS3_23basic_resolver_iteratorIS4_EENS7_10shared_ptrINS7_8functionIFvSG_ESaIvEEEEEEENS8_5list4INS8_5valueIPSD_EENS7_3argILi1EEENSU_ILi2EEENSR_ISO_EEEEEEEEEEvT_z' of build/temp.linux-i686-2.4/libtorrent/src/http_tracker_connection.o





Comment 2


Eddie Parker





          2008-01-22 18:52:59 UTC
        

OK, appears it works for someone, although I don't know whom. :)

Anyhow, if I may be so bold: do you mind if I ask what version of gcc you're compiling with?

I'm on i686-pc-linux-gnu-3.4.6 myself, and I've done an emerge -eDuN world and I still get this, even after a fresh emerge --sync.




Comment 3


Christopher Covington





          2008-02-28 04:19:49 UTC
        

This does NOT work with my hardened toolchain. Please consider re-opening.




Comment 4


Christopher Covington





          2008-02-28 04:42:00 UTC
        

I reported this upstream. The bug is http://dev.deluge-torrent.org/ticket/62.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

