Title: 732146 – media-video/obs-studio with NVENC use flag enabled does not pull media-video/nvidia-video-codec
URL: https://bugs.gentoo.org/show_bug.cgi?id=732146

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 732146
media-video/obs-studio with NVENC use flag enabled does not pull media-video/nvidia-video-codec
Last modified: 2021-07-01 17:13:12 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 732146 
      - media-video/obs-studio with NVENC use flag enabled does not pull media-video/nvidia-video-codec


Summary:
media-video/obs-studio with NVENC use flag enabled does not pull media-video/...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Chiitoo








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2020-07-11 00:05 UTC by akko





      Modified:
    
2021-07-01 17:13 UTC
      (History)
    




          CC List:
        

3 
          users
          
            (show)
          



ionen
jorge.ramos
jstein









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


akko





          2020-07-11 00:05:29 UTC
        

Compiling obs-studio with the nvenc use flag enabled does not pull nvidia-video-codec, which causes nvenc encoding to not work. Emerged nvidia-video-codec and it straight out worked, so I'm supposing it is a bug.




Comment 1


Chiitoo






          2020-07-12 17:28:12 UTC
        

Interesting.  I haven't had this package installed myself, according to my logs, and I don't have NVIDIA hardware on my main machine any longer.

I wonder what changed.

In any case, will look into it.  Thanks for reporting!




Comment 2


jorge





          2020-12-21 06:27:51 UTC
        

My two cents:

At least in my machine pulling nvidia-video-codec is not necessary. To enable video (de)en-coding it is sufficient to enable "nvenc" USE flag in obs-studio AND "uvm" USE flag in nvidia-drivers. My setup:

x11-drivers/nvidia-drivers-455.28-r1::gentoo was built with the following:
USE="X driver gtk3 kms (libglvnd) multilib static-libs tools uvm -compat -wayland" ABI_X86="32 (64) (-x32)"

media-video/obs-studio-25.0.8-r1::gentoo was built with the following:
USE="alsa fdk jack nvenc pulseaudio ssl truetype v4l vlc -imagemagick -luajit -python -speex" ABI_X86="(64)" PYTHON_SINGLE_TARGET="-python3_6 -python3_7"

and I can (de)en-code with NVENC with no problems.




Comment 3


Ionen Wolkens






          2021-07-01 17:13:12 UTC
        

nvidia-video-codec hasn't been necessary for me either, nvenc works fine with obs

Furthermore, USE=uvm was removed and no longer necessary to get this to work (perhaps was related to your issues).

Feel free to say if this is still an issue for you and I'll look further into it.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

