Title: 280512 – media-sound/quodlibet-2.1 fails to merge complaining about pygtk-codegen-2.0
URL: https://bugs.gentoo.org/show_bug.cgi?id=280512

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 280512
media-sound/quodlibet-2.1 fails to merge complaining about pygtk-codegen-2.0
Last modified: 2009-08-06 05:31:12 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 280512 
      - media-sound/quodlibet-2.1 fails to merge complaining about pygtk-codegen-2.0


Summary:
media-sound/quodlibet-2.1 fails to merge complaining about pygtk-codegen-2.0
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-08-05 23:22 UTC by Elton Carvalho





      Modified:
    
2009-08-06 05:31 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



james









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Build.log for  media-sound/quodlibet-2.1

              (build.log,19.42 KB,
                text/plain)

            
2009-08-05 23:23 UTC,

            Elton Carvalho




Details





environment log file for  media-sound/quodlibet-2.1 merge

              (environment,114.80 KB,
                text/plain)

            
2009-08-05 23:23 UTC,

            Elton Carvalho




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Elton Carvalho





          2009-08-05 23:22:00 UTC
        

When I emerge quodlibet-2.1 it fails with a pyGTK-related error about a missing '/usr/share/pygtk/2.0/defs/gdk-types.defs' file.

build.log an environment attached.

Reproducible: Always

Steps to Reproduce:
1. emerge media-sound/quodlibet-2.1
Actual Results:  
media-sound/quodlibet-2.1 fails to merge with 
IOError: [Errno 2] No such file or directory: '/usr/share/pygtk/2.0/defs/gdk-types.defs'
External program pygtk-codegen-2.0 exited with error 1.


Expected Results:  
media-sound/quodlibet-2.1 merges successfully

Relevant error lines:

running build_gobject_ext
note: pygtk-codegen-2.0 is deprecated, use pygobject-codegen-2.0 instead
note: I will now try to invoke pygobject-codegen-2.0 in the same directory
Traceback (most recent call last):
  File "/usr/lib64/python2.6/site-packages/gtk-2.0/codegen/codegen.py", line 1717, in <module>
    sys.exit(main(sys.argv))
  File "/usr/lib64/python2.6/site-packages/gtk-2.0/codegen/codegen.py", line 1675, in main
    p.startParsing()
  File "/usr/lib64/python2.6/site-packages/gtk-2.0/codegen/scmexpr.py", line 113, in startParsing
    for statement in statements:
  File "/usr/lib64/python2.6/site-packages/gtk-2.0/codegen/scmexpr.py", line 27, in parse
    fp = open(filename, 'r')
IOError: [Errno 2] No such file or directory: '/usr/share/pygtk/2.0/defs/gdk-types.defs'
External program pygtk-codegen-2.0 exited with error 1.




Comment 1


Elton Carvalho





          2009-08-05 23:23:14 UTC
        

Created attachment 200313 [details]
Build.log for  media-sound/quodlibet-2.1




Comment 2


Elton Carvalho





          2009-08-05 23:23:55 UTC
        

Created attachment 200314 [details]
environment log file for  media-sound/quodlibet-2.1 merge




Comment 3


Samuli Suominen (RETIRED)






          2009-08-05 23:26:31 UTC
        

Tried python-updater (and revdep-rebuild) yet?




Comment 4


Elton Carvalho





          2009-08-05 23:31:22 UTC
        

(In reply to comment #3)
> Tried python-updater (and revdep-rebuild) yet?
> 

Yes, first thing I did.

Running again to look for leftovers.




Comment 5


Samuli Suominen (RETIRED)






          2009-08-05 23:50:33 UTC
        

and re-emerge pygtk...

ssuominen@unique ~ $ qfile gdk-types.defs
dev-python/pygtk (/usr/share/pygtk/2.0/defs/gdk-types.defs)
ssuominen@unique ~ $ qlist -CIv pygtk
dev-python/pygtk-2.14.1-r1




Comment 6


Elton Carvalho





          2009-08-05 23:54:12 UTC
        

(In reply to comment #5)
> and re-emerge pygtk...
> 
> ssuominen@unique ~ $ qfile gdk-types.defs
> dev-python/pygtk (/usr/share/pygtk/2.0/defs/gdk-types.defs)
> ssuominen@unique ~ $ qlist -CIv pygtk
> dev-python/pygtk-2.14.1-r1
> 

Yes, python-updater fails to merge lots of stuff because of that file. I'm re-emerging pygtk now.

Now.. what corrupted that pygtk install?





Comment 7


James Earl Spahlinger





          2009-08-06 00:13:39 UTC
        

Please paste the output of 'emerge --info' into a bugzilla comment to assist the maintainers in resolving this issue




Comment 8


Elton Carvalho





          2009-08-06 00:16:27 UTC
        

 # emerge --info                                                                                 
Portage 2.1.6.13 (default/linux/amd64/2008.0, gcc-4.3.3, glibc-2.10.1-r0, 2.6.29-gentoo-r5 x86_64)               
=================================================================                                                
System uname: Linux-2.6.29-gentoo-r5-x86_64-AMD_Phenom-tm-_9850_Quad-Core_Processor-with-gentoo-1.12.11.1        
Timestamp of tree: Wed, 05 Aug 2009 13:30:01 +0000                                                               
ccache version 2.4 [disabled]                                                                                    
app-shells/bash:     3.2_p39                                                                                     
dev-java/java-config: 2.1.8-r1                                                                                   
dev-lang/python:     2.5.4-r3, 2.6.2-r1                                                                          
dev-util/ccache:     2.4-r7                                                                                      
dev-util/cmake:      2.6.4                                                                                       
sys-apps/baselayout: 1.12.11.1                                                                                   
sys-apps/sandbox:    1.6-r2                                                                                      
sys-devel/autoconf:  2.13, 2.63-r1                                                                               
sys-devel/automake:  1.4_p6, 1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.2                                           
sys-devel/binutils:  2.18-r3                                                                                     
sys-devel/gcc-config: 1.4.1                                                                                      
sys-devel/libtool:   2.2.6a                                                                                      
virtual/os-headers:  2.6.27-r2                                                                                   
ACCEPT_KEYWORDS="amd64"                                                                                          
CBUILD="x86_64-pc-linux-gnu"                                                                                     
CFLAGS="-O2 -march=barcelona -mfpmath=sse -pipe -msse3"                                                          
CHOST="x86_64-pc-linux-gnu"                                                                                      
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/app-defaults /usr/share/config"                                                                                              
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c /etc/udev/rules.d"                                                                                              
CXXFLAGS="-O2 -march=barcelona -mfpmath=sse -pipe -msse3"                                                        
DISTDIR="/usr/portage/distfiles"                                                                                 
FEATURES="candy distlocks fixpackages parallel-fetch protect-owned sandbox sfperms strict unmerge-orphans userfetch"                                                                                                              
GENTOO_MIRRORS="ftp://gentoo.inode.at/source/ http://www.las.ic.unicamp.br/pub/gentoo/ ftp://ftp.las.ic.unicamp.br/pub/gentoo/ http://gentoo.inode.at/ http://ftp.linux.ee/pub/gentoo/distfiles/ ftp://ftp.linux.ee/pub/gentoo/distfiles/ http://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/ ftp://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/ ftp://ftp.rz.tu-bs.de/pub/mirror/ftp.gentoo.org/gentoo-distfiles/ http://ftp.rz.tu-bs.de/pub/mirror/ftp.gentoo.org/gentoo/ "
LANG="pt_BR.UTF-8"
LDFLAGS="-Wl,-O1"
LINGUAS="pt_BR en"
MAKEOPTS="-j5"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="3dnow 3dnowext X a52 aac aalib acl acpi alsa amd64 apache2 apm audiofile bash-completion berkdb bonobo bzip2 cairo cdparanoia cdr cjk cli cracklib crypt cscope ctype cups dbus dio directfb dri dts dvd dvdread dvipdfm emerald encode fbcon ffmpeg flac foomaticdb fortran ftp gb gd gdbm geoip gif glut gpm gstreamer gtk gtk2 hal hardenedphp iconv icq imagemagick imlib isdnlog java javascript jpeg jpeg2000 kerberos kpathsea latex ldap libcaca libwww lm_sensors loop-aes lua mad mime mmx mmxext mng motif mozilla mp3 mpeg mpi msn mudflap multilib mysql mysqli ncurses nls nptl nptlonly nsplugin nvidia offensive ogg openal opengl openmp osc pcre pdf perl php plotutils png posix ppds pppd python qt4 quicktime readline reflection rtc session sharedext slang slp smp sndfile sockets spell spl sse sse2 sse3 sse4a ssl svg sysfs tcltk tcpd tetex threads tiff truetype unicode usb vorbis wifi wma wmf wmv wxwindows xcb xfce xml xorg xosd xpm xulrunner xv xvid zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic auth_digest authn_anon authn_dbd authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock dbd deflate dir disk_cache env expires ext_filter file_cache filter headers ident imagemap include info log_config logio mem_cache mime mime_magic negotiation proxy proxy_ajp proxy_balancer proxy_connect proxy_http rewrite setenvif so speling status unique_id userdir usertrack vhost_alias suexec" CAMERAS="canon" ELIBC="glibc" INPUT_DEVICES="evdev mouse keyboard" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="pt_BR en" USERLAND="GNU" VIDEO_CARDS="nv nvidia vesa"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LC_ALL, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY




Comment 9


Elton Carvalho





          2009-08-06 00:19:03 UTC
        

(In reply to comment #7)
> Please paste the output of 'emerge --info' into a bugzilla comment to assist
> the maintainers in resolving this issue
> 

The problem seems to be solved after I re-emerged pygtk. There are 18 packages in line for python-updater to build and quodlibet is one of them.

Other packages like dev-python/pygtksourceview-2.4.0 and such failed with similar errors. After I re-emerged pygt as suggested in #5 they merged successfully.




Comment 10


Elton Carvalho





          2009-08-06 00:26:49 UTC
        

Indeed, re-merging pygtk worked. Seems reasonable to mark this bug INVALID?




Comment 11


Elton Carvalho





          2009-08-06 00:28:03 UTC
        

Correcting major/normal messup.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

