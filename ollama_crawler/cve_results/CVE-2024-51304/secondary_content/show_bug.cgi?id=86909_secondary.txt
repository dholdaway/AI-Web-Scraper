Title: 86909 – gkrellm starts eating memory when the trayicons plugin is installed
URL: https://bugs.gentoo.org/show_bug.cgi?id=86909

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 86909
gkrellm starts eating memory when the trayicons plugin is installed
Last modified: 2006-05-16 06:01:22 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 86909 
      - gkrellm starts eating memory when the trayicons plugin is installed


Summary:
gkrellm starts eating memory when the trayicons plugin is installed
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Martin Holzer (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-03-27 16:51 UTC by Frank van den Brink





      Modified:
    
2006-05-16 06:01 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



rockoo
stian









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Frank van den Brink





          2005-03-27 16:51:02 UTC
        

When doing nothing for an uncertain amount of time, gkrellm slowly starts occupying more and more memory, until X locks up completely. This only happens when the trayicons plugin is installed and used.

Reproducible: Always
Steps to Reproduce:
1. start gkrellm, with the trayicons plugin enabled
2. configure the trayicons plugin in such a way that it actually checks a file for changes
3. do nothing for several hours

Actual Results:  
gkrellm started occupying more and more memory as time went by.

Expected Results:  
occupy the normal reasonable amount of memory it usually occupies

emerge info:
Portage 2.0.51.19 (default-linux/x86/2004.3, gcc-3.4.3-20050110,
glibc-2.3.4.20050125-r1, 2.6.11-gentoo-r4 i686)
=================================================================
System uname: 2.6.11-gentoo-r4 i686 Intel(R) Pentium(R) 4 CPU 2.40GHz
Gentoo Base System version 1.6.10
Python:              dev-lang/python-2.3.5 [2.3.5 (#1, Feb 20 2005, 05:23:33)]
dev-lang/python:     2.3.5
sys-devel/autoconf:  2.59-r6, 2.13
sys-devel/automake:  1.7.9-r1, 1.8.5-r3, 1.5, 1.4_p6, 1.6.3, 1.9.5
sys-devel/binutils:  2.15.92.0.2-r7
sys-devel/libtool:   1.5.14
virtual/os-headers:  2.6.8.1-r2
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CFLAGS="-O3 -march=pentium4 -mtune=pentium4 -fforce-addr
-momit-leaf-frame-pointer -fomit-frame-pointer -ftracer -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O3 -march=pentium4 -mtune=pentium4 -fforce-addr
-momit-leaf-frame-pointer -fomit-frame-pointer -ftracer -pipe
-fvisibility-inlines-hidden"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig ccache distlocks sandbox sfperms"
GENTOO_MIRRORS="http://ftp.snt.utwente.nl/pub/os/linux/gentoo
http://gentoo.osuosl.org http://www.ibiblio.org/pub/Linux/distributions/gentoo"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X acpi alsa apm avi berkdb bitmap-fonts cjk crypt cups curl emboss
encode esd font-server foomaticdb fortran gdbm gif gphoto2 gpm gtk gtk2
imagemagick imlib ipv6 ithreads java jpeg ldap libg++ libwww mad mikmod mp3 mpeg
ncurses nptl offensive oggvorbis opengl oss pam pdflib perl png pthreads python
qt quicktime readline scanner sdl spell ssl svga tcpd tiff truetype
truetype-fonts type1-fonts unicode usb xml2 xv zlib"
Unset:  ASFLAGS, CBUILD, CTARGET, LANG, LC_ALL, LDFLAGS

ps aux, before killing gkrellm:
USER PID %CPU %MEM VSZ RSS TTY STAT START TIME COMMAND
root 1 0.0 0.0 1572 316 ? S 12:53 0:00 init [3]
root 2 0.0 0.0 0 0 ? S 12:53 0:00 [migration/0]
root 3 0.0 0.0 0 0 ? SN 12:53 0:00 [ksoftirqd/0]
root 4 0.0 0.0 0 0 ? S< 12:53 0:00 [events/0]
root 5 0.0 0.0 0 0 ? S< 12:53 0:00 [khelper]
root 10 0.0 0.0 0 0 ? S< 12:53 0:00 [kthread]
root 21 0.0 0.0 0 0 ? S< 12:53 0:00 [kacpid]
root 19 0.0 0.0 0 0 ? S< 12:53 0:00 [vesafb]
root 108 0.0 0.0 0 0 ? S< 12:53 0:00 [kblockd/0]
root 199 0.0 0.0 0 0 ? S 12:53 0:02 [pdflush]
root 121 0.0 0.0 0 0 ? S 12:53 0:00 [khubd]
root 200 0.0 0.0 0 0 ? S 12:53 0:00 [pdflush]
root 202 0.0 0.0 0 0 ? S< 12:53 0:00 [aio/0]
root 201 0.0 0.0 0 0 ? S 12:53 0:11 [kswapd0]
root 800 0.0 0.0 0 0 ? S 12:53 0:00 [kseriod]
root 871 0.0 0.0 0 0 ? S< 12:53 0:00 [ata/0]
root 875 0.0 0.0 0 0 ? S 12:53 0:00 [khpsbpkt]
root 915 0.0 0.0 0 0 ? S 12:53 0:00 [scsi_eh_0]
root 916 0.0 0.0 0 0 ? S 12:53 0:00 [usb-storage]
root 930 0.0 0.0 0 0 ? S< 12:53 0:00 [reiserfs/0]
root 5808 0.0 0.0 1556 224 ? S<s 12:53 0:00 udevd
root 9047 0.0 0.0 1832 432 ? Ss 12:53 0:00 /usr/sbin/syslog-ng
root 9112 0.0 0.0 1560 304 ? Ss 12:53 0:00 /usr/sbin/acpid -c /etc/acpi/events
root 11061 0.0 0.0 1580 228 ? Ss 12:54 0:00 /sbin/dhcpcd -h baphomet -N -t 10 eth0
root 11140 0.0 0.0 2752 320 ? S 12:54 0:00 ptal-mlcd mlc:usb:PSC_2200_Series
-devidmatch MDL:PSC 2200 Series; -devidmatch SN:MY27HC21SW0G; -device
/dev/usb/lp[0-9]* /dev/usblp[0-9]* /dev/lp[0-9]*
root 11142 0.0 0.0 1600 268 ? S 12:54 0:00 ptal-printd mlc:usb:PSC_2200_Series
-morepipes 9 -like /etc/ptal/ptal-printd-like
root 11144 0.0 0.0 1604 256 ? S 12:54 0:00 ptal-photod mlc:usb:PSC_2200_Series
-maxaltports 26
root 11162 0.0 0.1 4952 740 ? Ss 12:54 0:00 /usr/sbin/cupsd
root 11172 0.0 0.0 2900 336 ? S 12:54 0:01 ptal-mlcd mlc:usb:PSC_2200_Series
-devidmatch MDL:PSC 2200 Series; -devidmatch SN:MY27HC21SW0G; -device
/dev/usb/lp[0-9]* /dev/usblp[0-9]* /dev/lp[0-9]*
root 11572 0.0 0.0 1852 396 ? Ss 12:54 0:00 /usr/sbin/cron
root 11602 0.0 0.0 2296 380 ? Ss 12:54 0:00 login -- frank
root 11603 0.0 0.0 1612 328 tty2 Ss+ 12:54 0:00 /sbin/agetty 38400 tty2 linux
root 11604 0.0 0.0 1612 328 tty3 Ss+ 12:54 0:00 /sbin/agetty 38400 tty3 linux
root 11605 0.0 0.0 1612 328 tty4 Ss+ 12:54 0:00 /sbin/agetty 38400 tty4 linux
root 11606 0.0 0.0 1612 328 tty5 Ss+ 12:54 0:00 /sbin/agetty 38400 tty5 linux
root 11607 0.0 0.0 1612 328 tty6 Ss+ 12:54 0:00 /sbin/agetty 38400 tty6 linux
frank 11678 0.0 0.0 2812 376 tty1 Ss 12:54 0:00 -bash
frank 11685 0.0 0.0 2324 300 tty1 S+ 12:54 0:00 /bin/sh /usr/bin/startx
frank 11696 0.0 0.0 2412 296 tty1 S+ 12:54 0:00 xinit /home/frank/.xinitrc --
-nolisten tcp -br -deferglyphs 16
root 11697 1.4 2.6 47064 13488 ? SL 12:54 9:48 X :0 -nolisten tcp -br
-deferglyphs 16
frank 11715 0.0 0.2 6060 1200 tty1 S 12:54 0:31 /usr/bin/blackbox
frank 11717 0.0 0.1 5876 868 tty1 S 12:54 0:12 /usr/bin/bbkeys
frank 11718 0.3 60.9 1221856 313244 tty1 D 12:54 2:34 /usr/bin/gkrellm2
frank 11719 0.0 0.1 5336 1012 tty1 S 12:54 0:00 urxvt -bl -pixmap
/home/frank/images/term_background_1.xpm -g 85x30+100+10
frank 11720 0.0 0.1 5328 892 tty1 S 12:54 0:01 urxvt -bl -pixmap
/home/frank/images/term_background_2.xpm -g 83x30+630+10
frank 11721 0.0 0.1 5460 912 tty1 S 12:54 0:00 urxvt -bl -pixmap
/home/frank/images/term_background_3.xpm -g 85x31+100+420
frank 11722 0.0 0.1 5688 908 tty1 S 12:54 0:00 urxvt -bl -pixmap
/home/frank/images/term_background_4.xpm -g 83x31+630+420
frank 11723 0.1 0.8 17360 4568 tty1 S 12:54 0:57 xchat-2
frank 11724 0.0 1.2 19960 6400 tty1 S 12:54 0:17 gaim
frank 11725 0.0 0.0 2588 308 tty1 S 12:54 0:00 /bin/bash
/usr/libexec/mozilla-launcher
frank 11726 0.0 0.0 2588 308 tty1 S 12:54 0:00 /bin/bash
/usr/libexec/mozilla-launcher
frank 11727 0.0 0.6 43912 3192 tty1 Sl 12:54 0:34 beep-media-player
frank 11736 0.0 0.2 2816 1032 pts/0 Ss+ 12:54 0:00 bash
frank 11740 0.0 0.0 2948 380 pts/1 Ss+ 12:54 0:00 bash
frank 11744 0.0 0.0 2812 376 pts/2 Ss+ 12:54 0:00 bash
frank 11748 0.0 0.0 2812 376 pts/3 Ss 12:54 0:00 bash
frank 11771 0.0 2.3 90332 12032 tty1 Sl 12:54 0:06
/usr/lib/MozillaThunderbird/thunderbird-bin -mail
frank 11776 0.1 0.5 93128 2952 tty1 Sl 12:54 0:55
/usr/lib/MozillaFirefox/firefox-bin
frank 12005 3.3 7.0 98972 36448 ? Ssl 13:04 21:52 /usr/bin/python
/usr/bin/btdownloadgui.py
frank 12079 0.0 0.0 0 0 tty1 Z 13:07 0:00 [netstat] <defunct>
frank 14158 0.1 0.1 2212 672 pts/3 S+ 15:18 0:34 top
frank 20537 0.0 0.1 2704 868 pts/0 R 23:53 0:00 ps aux

free, before killing gkrellm:
total used free shared buffers cached
Mem: 513900 507980 5920 0 3836 101644
-/+ buffers/cache: 402500 111400
Swap: 1004052 975160 28892




Comment 1


Daniel Webert





          2005-05-19 06:57:56 UTC
        

which version of gkrellm are u using - plz test w/ the latest




Comment 2


Stian Skjelstad





          2005-07-17 05:43:08 UTC
        

no response for some weeks about versions.




Comment 3


Daniel Webert





          2005-08-16 14:31:58 UTC
        

can we close this? no reponse after 3 months :(




Comment 4


Frank van den Brink





          2006-05-16 06:01:22 UTC
        

I'm so very sorry about my EXTREMELY delayed reply. I'm trying to help, and I realize behavior like this is very counterproductive, and I'd be a better help like this if I didn't post bugs at all.

I just tried to reproduce this bug with gkrellm-2.2.9 and grkrellm-trayicons-1.02, and was unable too, so I guess it's either fixed now or my environment at that time was b0rked.

Again, my apologies for not responding. It won't happen again.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

