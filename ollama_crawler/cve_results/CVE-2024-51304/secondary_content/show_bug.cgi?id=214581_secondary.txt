Title: 214581 – x11-libs/wxGTK-2.6.4.0-r3: /usr/lib64/libwx_gtk2u_core-2.6.so: file not recognized: File format not recognized
URL: https://bugs.gentoo.org/show_bug.cgi?id=214581

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 214581
x11-libs/wxGTK-2.6.4.0-r3: /usr/lib64/libwx_gtk2u_core-2.6.so: file not recognized: File format not recognized
Last modified: 2008-03-24 20:03:51 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 214581 
      - x11-libs/wxGTK-2.6.4.0-r3: /usr/lib64/libwx_gtk2u_core-2.6.so: file not recognized: File format not recognized


Summary:
x11-libs/wxGTK-2.6.4.0-r3: /usr/lib64/libwx_gtk2u_core-2.6.so: file not recog...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo wxWidgets project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-03-24 19:14 UTC by Joseph Turian





      Modified:
    
2008-03-24 20:03 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Joseph Turian





          2008-03-24 19:14:56 UTC
        

When I try to emerge x11-libs/wxGTK-2.6.4.0-r3 on my AMD64 hardened box, it fails with the following error:

(cd lib/; rm -f libwx_gtk2u_qa-2.6.so libwx_gtk2u_qa-2.6.so.0; ln -s libwx_gtk2u_qa-2.6.so.0.4.0 libwx_gtk2u_qa-2.6.so.0; ln -s libwx_gtk2u_qa-2.6.so.0 libwx_gtk2u_qa-2.6.so)
x86_64-pc-linux-gnu-g++ -shared -fPIC -o lib/libwx_gtk2u_xrc-2.6.so.0.4.0  xrcdll_xh_bmpbt.o xrcdll_xh_bmp.o xrcdll_xh_bttn.o xrcdll_xh_cald.o xrcdll_xh_chckb.o xrcdll_xh_chckl.o xrcdll_xh_choic.o xrcdll_xh_choicbk.o xrcdll_xh_combo.o xrcdll_xh_datectrl.o xrcdll_xh_dlg.o xrcdll_xh_frame.o xrcdll_xh_mdi.o xrcdll_xh_gauge.o xrcdll_xh_gdctl.o xrcdll_xh_html.o xrcdll_xh_listb.o xrcdll_xh_listbk.o xrcdll_xh_listc.o xrcdll_xh_menu.o xrcdll_xh_notbk.o xrcdll_xh_panel.o xrcdll_xh_radbt.o xrcdll_xh_radbx.o xrcdll_xh_scrol.o xrcdll_xh_scwin.o xrcdll_xh_sizer.o xrcdll_xh_slidr.o xrcdll_xh_spin.o xrcdll_xh_split.o xrcdll_xh_statbar.o xrcdll_xh_stbmp.o xrcdll_xh_stbox.o xrcdll_xh_stlin.o xrcdll_xh_sttxt.o xrcdll_xh_text.o xrcdll_xh_tglbtn.o xrcdll_xh_toolb.o xrcdll_xh_tree.o xrcdll_xh_unkwn.o xrcdll_xh_wizrd.o xrcdll_xmlres.o xrcdll_xmlrsall.o -Llib -Llib -Llib -Llib -Llib -pthread   -L/usr/lib64    -Llib   -Wl,-soname,libwx_gtk2u_xrc-2.6.so.0   -lz -ldl -lm      -lwxregexu-2.6  -pthread   -L/usr/lib64 -Wl,--version-script,version-script -lz -ldl -lm  -pthread -lgtk-x11-2.0 -lgdk-x11-2.0 -latk-1.0 -lgdk_pixbuf-2.0 -lpango-1.0 -lgobject-2.0 -lgmodule-2.0 -ldl -lgthread-2.0 -lrt -lglib-2.0 -lXinerama -lXxf86vm -lpng -lz -ljpeg -ltiff -lwx_gtk2u_html-2.6 -lwx_gtk2u_adv-2.6 -lwx_gtk2u_core-2.6 -lwx_baseu_xml-2.6 -lwx_baseu-2.6
(cd lib/; rm -f libwx_gtk2u_xrc-2.6.so libwx_gtk2u_xrc-2.6.so.0; ln -s libwx_gtk2u_xrc-2.6.so.0.4.0 libwx_gtk2u_xrc-2.6.so.0; ln -s libwx_gtk2u_xrc-2.6.so.0 libwx_gtk2u_xrc-2.6.so)
x86_64-pc-linux-gnu-g++ -shared -fPIC -o lib/libwx_gtk2u_gl-2.6.so.0.4.0  gldll_glcanvas.o -pthread   -L/usr/lib64    -Llib   -Wl,-soname,libwx_gtk2u_gl-2.6.so.0   -lz -ldl -lm      -lwxregexu-2.6  -pthread   -L/usr/lib64 -Wl,--version-script,version-script -lz -ldl -lm  -pthread -lgtk-x11-2.0 -lgdk-x11-2.0 -latk-1.0 -lgdk_pixbuf-2.0 -lpango-1.0 -lgobject-2.0 -lgmodule-2.0 -ldl -lgthread-2.0 -lrt -lglib-2.0 -lXinerama -lXxf86vm -lpng -lz -ljpeg -ltiff -lwx_gtk2u_core-2.6 -lwx_baseu-2.6  -lGL -lGLU
/usr/lib64/libwx_gtk2u_core-2.6.so: file not recognized: File format not recognized
collect2: ld returned 1 exit status
make: *** [lib/libwx_gtk2u_gl-2.6.so.0.4.0] Error 1
make: *** Waiting for unfinished jobs....
x86_64-pc-linux-gnu-g++ -o wxrc wxrc_wxrc.o   -L../../lib   -lz -ldl -lm -lwx_baseu_xml-2.6 -lexpat -lwx_baseu-2.6        -lwxregexu-2.6  -pthread   -L/usr/lib64  -pthread   -L/usr/lib64 -Wl,--version-script,../../version-script -lz -ldl -lm 
make[1]: Leaving directory `/var/tmp/portage/x11-libs/wxGTK-2.6.4.0-r3/work/wxPython-src-2.6.4.0/build_unicode/utils/wxrc'


Reproducible: Always

Steps to Reproduce:
1.emerge x11-libs/wxGTK-2.6.4.0-r3

Actual Results:  
Error message above during compilation

Expected Results:  
Clean emerge and install




Comment 1


Joseph Turian





          2008-03-24 19:15:24 UTC
        

Portage 2.1.4.4 (hardened/amd64, gcc-3.4.6-vanilla, glibc-2.6.1-r0, 2.6.23-hardened-r7-20070818.with-sound-and-remote-printing x86_64)
=================================================================
System uname: 2.6.23-hardened-r7-20070818.with-sound-and-remote-printing x86_64 AMD Athlon(tm) 64 Processor 3200+
Timestamp of tree: Sat, 22 Mar 2008 18:47:01 +0000
ccache version 2.4 [disabled]
app-shells/bash:     3.2_p17-r1
dev-java/java-config: 1.3.7, 2.1.4
dev-lang/python:     2.4.4-r9
dev-python/pycrypto: 2.0.1-r6
dev-util/ccache:     2.4-r7
sys-apps/baselayout: 1.12.11.1
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.61-r1
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.18-r1
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.23-r3
ACCEPT_KEYWORDS="amd64"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=athlon64 -O2 -pipe -fforce-addr"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/config /var/qmail/alias /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-march=athlon64 -O2 -pipe -fforce-addr"
DISTDIR="/usr/portage/distfiles"
FEATURES="distlocks metadata-transfer parallel-fetch sandbox sfperms strict unmerge-orphans userfetch userpriv usersandbox"
GENTOO_MIRRORS="http://gentoo.mirrors.tera-byte.com/ http://gentoo.netnitco.net http://gentoo.chem.wisc.edu/gentoo/"
LC_ALL="C"
LINGUAS="en fr"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.namerica.gentoo.org/gentoo-portage"
USE="3dnow 3dnowext X aac aalib alsa amd64 apache2 arts artworkextra async audiofile automount bash-completion bcmath bcp berkdb blas bookmarks branding bzip2 cairo calendar caps cdb cdparanoia cdr cgi chroot cjk cli cpudetection cracklib crypt cscope cups curl curlwrapper curlwrappers dbus dga directfb discard-path dmi dv dvd dvdnav dvdr dvdread dvi enca encode exif expat fam fame fbcon ffmpeg fftw firefox flac fontconfig foomaticdb force-cgi-redirect gcc64 gd gdbm geo-ip geoip gif git glib glitz gmp gnome gnuplot gnutls gpm graphviz gs gsl gstreamer gtk gtkhtml hal hardened hardenedphp hash iconv idn imagemagick imlib insecure-savers java javascript jpeg jpeg2k justify kde ladspa lame lapack latex lcms libcaca libg++ libwww logmail lua mad maildir math md5sum memlimit mhash midi ming mng mp3 mp4 mpeg mplayer musicbrainz mysql ncurses netpbm network-cron new-login nls nntp nptl nptlonly nsplugin numeric offensive ogg openal opengl pam pango patented pcre pdf perl php plotutils png ppds python qt3 qt3support quicktime rar readline rrdtool rtc samba sdl session sharedext slp spamassassin speedo spell sqlite sqlite3 sse sse2 ssl stream subversion suhosin svg swat sysfs syslog t1lib tcpd tetex theora threads tidy tiff tk tokenizer transcode trayicon truetype type1 udev unicode unzip urandom userlocales utempter vcd vhosts vim-syntax visualization vorbis wmf wxwindows xanim xine xml xml2 xmlreader xmlwriter xorg xpm xprint xscreensaver xsl xv xvid xvmc zip zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic auth_digest authn_anon authn_dbd authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock dbd deflate dir disk_cache env expires ext_filter file_cache filter headers ident imagemap include info log_config logio mem_cache mime mime_magic negotiation proxy proxy_ajp proxy_balancer proxy_connect proxy_http rewrite setenvif so speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="keyboard mouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en fr" LIRC_DEVICES="mp3anywhere devinput" USERLAND="GNU" VIDEO_CARDS="vesa vga"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LDFLAGS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS





Comment 2


Joseph Turian





          2008-03-24 20:03:51 UTC
        

I had to remove flag 'unicode' to get it to compile. Why?

I have seen other bugs, e.g. #96853 http://bugs.gentoo.org/show_bug.cgi?id=96853 with a similar issue. However, I only have one binutils:
# binutils-config -l
  [1] x86_64-pc-linux-gnu-2.18 *

So their proposed solution does not fix my issue.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

