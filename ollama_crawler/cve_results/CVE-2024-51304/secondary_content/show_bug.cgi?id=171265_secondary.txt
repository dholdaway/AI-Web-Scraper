Title: 171265 – games-arcade/crack-attack-1.1.14-r1 quits after seconds playing
URL: https://bugs.gentoo.org/show_bug.cgi?id=171265

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 171265
games-arcade/crack-attack-1.1.14-r1 quits after seconds playing
Last modified: 2010-03-28 00:50:54 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 171265 
      - games-arcade/crack-attack-1.1.14-r1 quits after seconds playing


Summary:
games-arcade/crack-attack-1.1.14-r1 quits after seconds playing
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Games

  (show other bugs)



Hardware:

PPC
        Linux
      







Importance:
      
High
       normal
      


Assignee:

PPC Porters








URL:



http://www.nongnu.org/crack-attack/




Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-03-17 16:23 UTC by Massimo Burcheri





      Modified:
    
2010-03-28 00:50 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



games









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Massimo Burcheri





          2007-03-17 16:23:32 UTC
        

crack attack quits after 10 seconds playing and returns to main setup screen.

Reproducible: Always

Steps to Reproduce:
1. start crack attack
2. solo game, reduced graphics mode
3. playing about 10 seconds, then crack-attack breaks and returns to the setup screen, no debug info




For reemerging crack-attack ebuild only default profile make.conf ***FLAGS have been used. Maybe a cause is that depending ebuilds have been built with my stronger custom FLAGS:

CFLAGS="-mcpu=750 -O2 -pipe -ftracer"
CXXFLAGS="${CFLAGS} -fvisibility-inlines-hidden"
LDFLAGS="-Wl,-O1"



crack-attack was once working fine (about 1 year ago) on this hardware (iBook2 dual USB 12" 600MHz, ATI Technologies Inc Radeon Mobility M6 LY).




Comment 1


Jakub Moc (RETIRED)






          2007-03-17 16:54:57 UTC
        

Well, for starters recompile it with sane flags, such as 

CFLAGS="-mcpu=750 -O2 -pipe"
CXXFLAGS="${CFLAGS}"

If it still doesn't work, then attach a backtrace and emerge --info output.

http://www.gentoo.org/proj/en/qa/backtraces.xml




Comment 2


Massimo Burcheri





          2007-03-17 21:05:52 UTC
        

Seen that my used profile has s.th. like this:
/usr/portage/profiles/default-linux/ppc/ppc32/2006.1/G3/make.defaults

CFLAGS="-O2 -mtune=G3 -mcpu=G3 -pipe"
CXXFLAGS="${CFLAGS}"

# emerge --info
Portage 2.1.2.2 (default-linux/ppc/ppc32/2006.1/G3, gcc-4.1.1, glibc-2.5-r0, 2.6.19-gentoo-r4 ppc)
=================================================================
System uname: 2.6.19-gentoo-r4 ppc 750FX
Gentoo Base System release 1.12.9
Timestamp of tree: Fri, 16 Mar 2007 21:50:01 +0000
distcc 2.18.3 powerpc-unknown-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
ccache version 2.4 [enabled]
dev-java/java-config: 1.3.7, 2.0.31
dev-lang/python:     2.3.5-r3, 2.4.3-r4
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     2.4-r6
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.61
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.17
sys-devel/gcc-config: 1.3.14
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.17-r2
ACCEPT_KEYWORDS="ppc"
AUTOCLEAN="yes"
CBUILD="powerpc-unknown-linux-gnu"
CFLAGS="-O2 -mtune=G3 -mcpu=G3 -pipe"
CHOST="powerpc-unknown-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/splash /etc/terminfo /etc/texmf/web2c"
CXXFLAGS="-O2 -mtune=G3 -mcpu=G3 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache distlocks fixpackages metadata-transfer parallel-fetch sandbox sfperms strict"
GENTOO_MIRRORS="ftp://sunsite.informatik.rwth-aachen.de/pub/linux/gentoo http://linux.rz.ruhr-uni-bochum.de/download/gentoo-mirror/ http://ftp.uni-erlangen.de/pub/mirrors/gentoo"
LANG="de_DE@euro"
LC_ALL="de_DE@euro"
LINGUAS="de"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/var/spool/portage"
PORTDIR_OVERLAY="/usr/local/portage /usr/portage/local/layman/sunrise /usr/portage/local/layman/lila-theme /usr/portage/local/layman/gentoo-de /usr/portage/local/layman/genstef /usr/portage/local/layman/break-my-gentoo-main /usr/portage/local/layman/enlightenment"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="X aac aalib aim alsa ansi automount bash-completion berkdb bitmap-fonts bonobo branding bzip2 cdparanoia cdr cdrom cli cracklib crypt cups divx4linux dri dvd dvdr dvdread eds emboss encode fbcon flac gdbm gecko-sdk gif gimp glibc-omitfp gpm gstreamer gtk gtk2 gtkhtml hbci ibam iconv icq ieee1394 imap isdnlog jabber javascript jpeg kde kdehiddenvisibility libcaca libg++ libwww mad midi mikmod mp3 mpeg mplayer msn musepack ncurses network nls nptl nptlonly nsplugin ogg oggvorbis opengl pam pcre pdf perl pic png ppc ppds pppd pthreads python qt3 qt3support qt4 quicktime quotes radeon readline reflection samba scanner sdl session slang spell spl ssl subversion svg tcpd tetex truetype truetype-fonts type1-fonts unicode usb userlocales vcd vim vorbis xine xml xorg xprint xscreensaver xv xvid yahoo zlib" ALSA_CARDS="powermac" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" ELIBC="glibc" INPUT_DEVICES="evdev keyboard mouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="de" USERLAND="GNU" VIDEO_CARDS="radeon"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LDFLAGS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 3


Massimo Burcheri





          2007-03-17 21:06:58 UTC
        

I'm not that familiar with backtraces...

$ gdb crack-attack
GNU gdb 6.6
Copyright (C) 2006 Free Software Foundation, Inc.
GDB is free software, covered by the GNU General Public License, and you are
welcome to change it and/or distribute copies of it under certain conditions.
Type "show copying" to see the conditions.
There is absolutely no warranty for GDB.  Type "show warranty" for details.
This GDB was configured as "powerpc-unknown-linux-gnu"...
(no debugging symbols found)
Using host libthread_db library "/lib/libthread_db.so.1".
(gdb) handle SIG33 nostop noprint noignore pass
Signal        Stop      Print   Pass to program Description
SIG33         No        No      Yes             Real-time event 33
(gdb) run
Starting program: /usr/games/bin/crack-attack
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
[Thread debugging using libthread_db enabled]
[New Thread 805478736 (LWP 24952)]

Program received signal SIGILL, Illegal instruction.
[Switching to Thread 805478736 (LWP 24952)]
0x30c4c8ec in ?? () from /usr/kde/3.5/lib/libkdefx.so.4
(gdb) bt
#0  0x30c4c8ec in ?? () from /usr/kde/3.5/lib/libkdefx.so.4
#1  0x30c4c8cc in ?? () from /usr/kde/3.5/lib/libkdefx.so.4
#2  0x30c4c988 in ?? () from /usr/kde/3.5/lib/libkdefx.so.4
#3  0x30c4cc50 in ?? () from /usr/kde/3.5/lib/libkdefx.so.4
#4  0x30c2e5b0 in _init () from /usr/kde/3.5/lib/libkdefx.so.4
#5  0x0ffceeec in call_init () from /lib/ld.so.1
#6  0x0ffcf054 in _dl_init_internal () from /lib/ld.so.1
#7  0x0ffd3a34 in dl_open_worker () from /lib/ld.so.1
#8  0x0ffceae0 in _dl_catch_error () from /lib/ld.so.1
#9  0x0ffd31b0 in _dl_open () from /lib/ld.so.1
#10 0x0fe3106c in ?? () from /lib/libdl.so.2
#11 0x0ffceae0 in _dl_catch_error () from /lib/ld.so.1
#12 0x0fe31820 in ?? () from /lib/libdl.so.2
#13 0x0fe30f9c in dlopen () from /lib/libdl.so.2
#14 0x305f4f6c in QLibraryPrivate::loadLibrary () from /usr/qt/3/lib/libqt-mt.so.3
#15 0x3061c114 in QLibrary::load () from /usr/qt/3/lib/libqt-mt.so.3
#16 0x305fb200 in QComLibrary::createInstanceInternal () from /usr/qt/3/lib/libqt-mt.so.3
#17 0x305fb61c in QComLibrary::queryInterface () from /usr/qt/3/lib/libqt-mt.so.3
#18 0x30617364 in QGPluginManager::addLibrary () from /usr/qt/3/lib/libqt-mt.so.3
#19 0x30618ce8 in QGPluginManager::library () from /usr/qt/3/lib/libqt-mt.so.3
#20 0x30619494 in QGPluginManager::queryUnknownInterface () from /usr/qt/3/lib/libqt-mt.so.3
#21 0x3066b0cc in QStyleFactory::create () from /usr/qt/3/lib/libqt-mt.so.3
#22 0x302cbe80 in QApplication::style () from /usr/qt/3/lib/libqt-mt.so.3
#23 0x0e7802e8 in createQApp () from /usr/lib/gtk-2.0/2.10.0/engines/libqtengine.so
#24 0x0e772f10 in theme_init () from /usr/lib/gtk-2.0/2.10.0/engines/libqtengine.so
#25 0x01127e70 in ?? () from /usr/lib/libgtk-x11-2.0.so.0
#26 0x00e65554 in g_type_module_use () from /usr/lib/libgobject-2.0.so.0
#27 0x01127c90 in gtk_theme_engine_get () from /usr/lib/libgtk-x11-2.0.so.0
#28 0x010a01ec in ?? () from /usr/lib/libgtk-x11-2.0.so.0
#29 0x010a2618 in ?? () from /usr/lib/libgtk-x11-2.0.so.0
#30 0x010a2dd0 in ?? () from /usr/lib/libgtk-x11-2.0.so.0
#31 0x010a318c in ?? () from /usr/lib/libgtk-x11-2.0.so.0
#32 0x010a33a0 in ?? () from /usr/lib/libgtk-x11-2.0.so.0
#33 0x010a2f60 in ?? () from /usr/lib/libgtk-x11-2.0.so.0
#34 0x010a318c in ?? () from /usr/lib/libgtk-x11-2.0.so.0
#35 0x010a33a0 in ?? () from /usr/lib/libgtk-x11-2.0.so.0
#36 0x010a37bc in gtk_rc_reparse_all_for_settings () from /usr/lib/libgtk-x11-2.0.so.0
#37 0x010c0dec in gtk_settings_get_for_screen () from /usr/lib/libgtk-x11-2.0.so.0
#38 0x010d5a68 in ?? () from /usr/lib/libgtk-x11-2.0.so.0
#39 0x00e64074 in g_type_create_instance () from /usr/lib/libgobject-2.0.so.0
#40 0x00e46a34 in ?? () from /usr/lib/libgobject-2.0.so.0
#41 0x00e44b48 in g_object_newv () from /usr/lib/libgobject-2.0.so.0
#42 0x00e456f8 in g_object_new_valist () from /usr/lib/libgobject-2.0.so.0
#43 0x00e45908 in g_object_new () from /usr/lib/libgobject-2.0.so.0
#44 0x010d56a8 in gtk_style_new () from /usr/lib/libgtk-x11-2.0.so.0
#45 0x01186a90 in gtk_widget_get_default_style () from /usr/lib/libgtk-x11-2.0.so.0
#46 0x01186b50 in ?? () from /usr/lib/libgtk-x11-2.0.so.0
#47 0x00e63f1c in g_type_create_instance () from /usr/lib/libgobject-2.0.so.0
#48 0x00e46a34 in ?? () from /usr/lib/libgobject-2.0.so.0
#49 0x00e44b48 in g_object_newv () from /usr/lib/libgobject-2.0.so.0
#50 0x00e456f8 in g_object_new_valist () from /usr/lib/libgobject-2.0.so.0
#51 0x00e45908 in g_object_new () from /usr/lib/libgobject-2.0.so.0
#52 0x0119e30c in gtk_window_new () from /usr/lib/libgtk-x11-2.0.so.0
#53 0x1002c374 in ?? ()
---Type <return> to continue, or q <return> to quit---
#54 0x1002b418 in ?? ()
#55 0x10007608 in ?? ()
#56 0x0fe6e740 in ?? () from /lib/libc.so.6
#57 0x0fe6e94c in __libc_start_main () from /lib/libc.so.6
#58 0x00000000 in ?? ()




Comment 4


Jakub Moc (RETIRED)






          2007-03-17 21:49:28 UTC
        

Reopen.




Comment 5


Mr. Bones. (RETIRED)






          2007-03-17 23:22:39 UTC
        

seems like it's ppc specific.  works fine for me on x86.




Comment 6


Joe Jezak (RETIRED)






          2007-03-17 23:44:12 UTC
        

It works fine on my PB G4 1.67GHz.  I would suspect that it's a library that's compiled with bad CFLAGS, it looks like it trapped an illegal instruction.  On PPC, that's most commonly due to trying to execute an Altivec instruction on a non-Altivec CPU.

Are you sure this is the actual error that you're getting from Crack-attack?

What if you start the game with:
crack-attack --solo --low

This should be the same setting, but it doesn't start the X front end.




Comment 7


Massimo Burcheri





          2007-03-18 10:32:05 UTC
        

Same issue with crack-attack --solo --low.

Maybe it should be worth reemerging the whole dep chain with profile defaults like this:
emerge -Date crack-attack

But actually that is a long list and I don't have other issues with my optimization so far.

As for altivec I tried  # euse -D altivec  but that doesn't affect any ebuild.




Comment 8


Joe Jezak (RETIRED)






          2007-03-18 23:03:50 UTC
        

Why did you do this in gdb?
handle SIG33 nostop noprint noignore pass

Did you get any error messages in the console that you started it from?

Do you have any problems with other opengl applications?




Comment 9


Massimo Burcheri





          2007-03-19 08:44:54 UTC
        

Console doesn't show any messages.

There are no issues with other applications. Openoffice does use OpenGL, any small testing routine? glxgears?




Comment 10


Joe Jezak (RETIRED)






          2007-03-25 12:40:04 UTC
        

Well, let's try another game.  Does the game "tomatoes" work?




Comment 11


Massimo Burcheri





          2007-03-25 13:38:55 UTC
        

tomatoes works fine, great game.




Comment 12


Drake Wyrm





          2007-06-09 09:59:46 UTC
        

Thoughts on crack-attack:

Start a game and just let it run without moving any blocks. Does it play through the level until the blocks reach the top, and finish by dropping the "Game Over" text, without crashing?

Start another game and clear one batch of four or more blocks. A little red star should fly to the top of the screen. Does it then crash just when you should get a batch of garbage falling out of the top?

See if the kernel is making any interesting noise. Check your system log or run dmesg. There might be some error for each time the game has crashed.




Comment 13


Massimo Burcheri





          2007-06-09 12:18:54 UTC
        

Thanks for caring about my favourite game.

Interesting idea, so the result of the test is:
After clearing a batch of 4 or more the game crashes when the start reaches the screen border.
dmesg and system logs don't make any message.




Comment 14


N. Dan Smith





          2007-06-30 20:49:49 UTC
        

I've been able to recreate this bug several times on my G3 350MHz r128 machine.

Portage 2.1.2.7 (default-linux/ppc/ppc32/2007.0/G3, gcc-4.1.2, glibc-2.5-r2, 2.6.20-gentoo-r5 ppc)
=================================================================
System uname: 2.6.20-gentoo-r5 ppc 740/750
Gentoo Base System release 1.12.9
Timestamp of tree: Sat, 30 Jun 2007 17:30:01 +0000
dev-java/java-config: 1.3.7, 2.0.32
dev-lang/python:     2.4.4-r4
dev-python/pycrypto: 2.0.1-r5
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.61
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.17
sys-devel/gcc-config: 1.3.16
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.17-r2
ACCEPT_KEYWORDS="ppc"
AUTOCLEAN="yes"
CBUILD="powerpc-unknown-linux-gnu"
CFLAGS="-O2 -mcpu=G3 -mtune=G3 -fno-strict-aliasing -pipe"
CHOST="powerpc-unknown-linux-gnu"
CONFIG_PROTECT="/etc /opt/openjms/config /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/revdep-rebuild /etc/terminfo"
CXXFLAGS="-O2 -mcpu=G3 -mtune=G3 -fno-strict-aliasing -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="collision-protect distlocks metadata-transfer sandbox sfperms strict test"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LINGUAS="en_US"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portage/local/layman/sunrise /usr/portage/local/layman/gnustep"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="acl apache2 berkdb bitmap-fonts cli cracklib crypt cups directfb dri fbcon fortran gdbm gnome gpm gtk iconv ipv6 isdnlog libg++ midi mudflap ncurses nls nptl nptlonly ogg openmp pcre perl php ppc pppd python readline reflection session spl ssl tcpd test theora truetype-fonts type1-fonts unicode vhosts vorbis xorg zlib" ALSA_CARDS="aoa aoa-fabric-layout aoa-onyx aoa-soundbus aoa-soundbus-i2s aoa-tas aoa-toonie powermac usb-audio via82xx" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" ELIBC="glibc" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en_US" USERLAND="GNU" VIDEO_CARDS="r128"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 15


Joe Jezak (RETIRED)






          2009-02-27 20:17:26 UTC
        

Can anyone still reproduce this?




Comment 16


Joe Jezak (RETIRED)






          2009-07-22 15:54:32 UTC
        

Works for me, please re-open if it still is breaking on anyone's machine.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

