Title: 189559 – dev-perl/Crypt-SSLeay-0.55 - tests failed with russian locale
URL: https://bugs.gentoo.org/show_bug.cgi?id=189559

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 189559
dev-perl/Crypt-SSLeay-0.55 - tests failed with russian locale
Last modified: 2008-02-27 18:43:07 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 189559 
      - dev-perl/Crypt-SSLeay-0.55 - tests failed with russian locale


Summary:
dev-perl/Crypt-SSLeay-0.55 - tests failed with russian locale
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Perl team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-08-20 07:28 UTC by Anatoly Arzhnikov





      Modified:
    
2008-02-27 18:43 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




stdout

              (stdout.log,5.49 KB,
                text/plain)

            
2007-08-20 07:30 UTC,

            Anatoly Arzhnikov




Details





/var/tmp/portage/dev-perl/Crypt-SSLeay-0.55/temp/build.log

              (build.log,4.45 KB,
                text/plain)

            
2007-08-20 07:30 UTC,

            Anatoly Arzhnikov




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Anatoly Arzhnikov





          2007-08-20 07:28:59 UTC
        

The first test fails if i try to emerge it with LC_ALL="ru_RU.utf8" or LC_ALL="ru_RU.koi8r".


Reproducible: Always

Steps to Reproduce:
1. echo "ru_RU.utf8 UTF-8" (for example) >> /etc/locale.gen && locale-gen
2. LC_ALL="ru_RU.utf8" emerge --oneshot =dev-perl/Crypt-SSLeay-0.55

Actual Results:  
Test phase fails.

Expected Results:  
Successful compilation =)

localhost ~ # emerge --info
Portage 2.1.3_rc9 (default-linux/x86/2007.0, gcc-4.1.2, glibc-2.5-r3, 2.6.21-gentoo-r3 i686)
=================================================================
System uname: 2.6.21-gentoo-r3 i686 Intel(R) Celeron(R) CPU 2.40GHz
Gentoo Base System release 2.0.0_alpha4
Timestamp of tree: Sun, 29 Jul 2007 14:30:10 +0000
dev-java/java-config: 1.3.7, 2.0.33-r1
dev-lang/python:     2.4.4-r4
dev-python/pycrypto: 2.0.1-r6
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.61-r1
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.17-r1
sys-devel/gcc-config: 1.3.16
sys-devel/libtool:   1.5.24
virtual/os-headers:  2.6.22-r2
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium4 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/splash /etc/terminfo"
CXXFLAGS="-O2 -march=pentium4 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="distlocks metadata-transfer sandbox sfperms strict test unmerge-orphans"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LANG="ru_RU.utf8"
LINGUAS="ru en"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portage/local/layman/php-experimental /usr/portage/local/layman/php-testing /usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X aac acl acpi aim alsa apache2 berkdb bitmap-fonts bzip2 cdr cgi cli cracklib crypt dbus dri dvd exif ffmpeg firefox fortran ftp gdbm gif gpm gtk gtk2 hal iconv icq isdnlog jabber java javascript jpeg jpeg2k kde kdehiddenvisibility libg++ midi mime mmx mp3 mpeg mplayer mudflap mysql ncurses nls nptl nptlonly nsplugin ogg opengl openmp pam pcre pdf perl php png pppd python qt3 qt4 quicktime readline real reflection sdl session spell spl sse sse2 ssl tcpd test threads tiff timidity truetype truetype-fonts type1-fonts unicode usb vorbis win32codecs x86 xcomposite xine xorg xpm xvid zip zlib" ALSA_CARDS="intel8x0 seq-dummy" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" ELIBC="glibc" INPUT_DEVICES="evdev keyboard mouse" KERNEL="linux" LINGUAS="ru en" USERLAND="GNU" VIDEO_CARDS="nvidia"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LC_ALL, LDFLAGS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS

_________________________

localhost ~ # cat /etc/locale.gen
en_US ISO-8859-1
en_US.utf8 UTF-8
ru_RU.koi8r KOI8-R
ru_RU.cp1251 CP1251
ru_RU.utf8 UTF-8

_________________________

localhost ~ # locale -a
C
en_US
en_US.utf8
POSIX
ru_RU.cp1251
ru_RU.koi8r
ru_RU.utf8




Comment 1


Anatoly Arzhnikov





          2007-08-20 07:30:11 UTC
        

Created attachment 128639 [details]
stdout




Comment 2


Anatoly Arzhnikov





          2007-08-20 07:30:36 UTC
        

Created attachment 128641 [details]
/var/tmp/portage/dev-perl/Crypt-SSLeay-0.55/temp/build.log




Comment 3


Christian Hartmann (RETIRED)






          2007-08-20 08:27:41 UTC
        

# Connect failed: connect: В соединении отказано; В соединении отказано at t/01-connect.t line 8

What does that russian(?) text mean?

Looking at the sources it should just be '127.0.0.1'; not some text.




Comment 4


Arfrever Frehtes Taifersar Arahesis (RETIRED)






          2007-08-20 09:24:30 UTC
        

(In reply to comment #3)
> # Connect failed: connect: В соединении отказано; В
> соединении отказано at t/01-connect.t line 8
> 
> What does that russian(?) text mean?

соединить - soyedinit'- to connect
отказать - otkazat' - to refuse
В соединении отказано - V soyedinyeniyi otkazano ~= Connection refused




Comment 5


Christian Hartmann (RETIRED)






          2007-08-20 17:35:21 UTC
        

Caused by your firewall parhaps (if any)?




Comment 6


Anatoly Arzhnikov





          2007-08-20 17:47:38 UTC
        

(In reply to comment #5)
> Caused by your firewall parhaps (if any)?
> 

1. LC_ALL="en_US.utf8" emerge --oneshot =dev-perl/Crypt-SSLeay-0.55 works (Why?)

2. Yes, i have a firewall. Stopping iptables doesn't resolving problem.




Comment 7


Jakub Moc (RETIRED)






          2008-02-27 18:43:07 UTC
        

Closing, as said above, not an ebuild bug.










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

