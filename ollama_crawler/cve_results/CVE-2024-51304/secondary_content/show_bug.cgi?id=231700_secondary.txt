Title: 231700 – @preserved-rebuild is not switched off for "emerge -e system/world"
URL: https://bugs.gentoo.org/show_bug.cgi?id=231700

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 231700
@preserved-rebuild is not switched off for "emerge -e system/world"
Last modified: 2008-07-14 18:09:04 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 231700 
      - @preserved-rebuild is not switched off for "emerge -e system/world"


Summary:
@preserved-rebuild is not switched off for "emerge -e system/world"
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Portage Development




Classification:

Unclassified




Component:

Core

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Portage team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-07-13 16:40 UTC by Henning Rogge





      Modified:
    
2008-07-14 18:09 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Henning Rogge





          2008-07-13 16:40:56 UTC
        

Three days ago I decided to switch to gcc 4.3 and rebuild my system (gcc 4.3 has core2 support).

Unfortunately portage decided to preserve a lot of libraries during my "emerge -e system" and "emerge -e world". The following "emerge @preserved-rebuild" did stopped in the first ebuild trying to rebuild the "boost" library ! Revdep-rebuild wanted to rebuild 300+ packages but failed with boost too.

I got my system up and running again by deleting the "preserve library X" files by hand (found a forum post about it) and doing an "emerge -e system" again. After this "revdep-rebuild" only had to recompile ~30 packages...

I think the @preserved-rebuild feature should be either OFF by default or at least OFF for "emerge -e" commands.




Comment 1


Marius Mauch (RETIRED)






          2008-07-13 18:34:45 UTC
        

Just set FEATURES=-preserve-libs when you want to disable it.




Comment 2


Henning Rogge





          2008-07-14 15:45:20 UTC
        

Thank you...

maybe it should be deactivated by DEFAULT for "emerge -e world/system".




Comment 3


Marius Mauch (RETIRED)






          2008-07-14 18:09:04 UTC
        

(In reply to comment #2)
> Thank you...
> 
> maybe it should be deactivated by DEFAULT for "emerge -e world/system".

No. Not only would it be confusing, but also such special cases are a maintenance nightmare in the long run.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

