Title: 89900 – lm_sensors 2.8.7 on i586 doesn't create i2c-devices
URL: https://bugs.gentoo.org/show_bug.cgi?id=89900

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 89900
lm_sensors 2.8.7 on i586 doesn't create i2c-devices
Last modified: 2005-06-05 23:39:45 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 89900 
      - lm_sensors 2.8.7 on i586 doesn't create i2c-devices


Summary:
lm_sensors 2.8.7 on i586 doesn't create i2c-devices
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       minor
      


Assignee:

Mobile Herd (OBSOLETE)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-04-21 01:15 UTC by Karsten Becker





      Modified:
    
2005-06-05 23:39 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Karsten Becker





          2005-04-21 01:15:40 UTC
        

I had problems installing/running lm_sensors on an old Sony Vaio Notebook PCG-F801, with CHOST="i586-pc-linux-gnu"

I emerged lm_sensors. The kernel support for i2c was build in, also the i2c-dev. All other bus drivers, etc. were build as modules.

After emerging I did the 'sensors-detect', but it said, that no i2c-devices were found, I should create them with proc/.../mkdev.sh.

Next I tested around with i2c-dev also build as module. I re-emerged lm_sensors and could see, that the ebuild called the mkdev.sh, but again no i2c-devices in /dev. 

Finally I unpacked the tar-archive of the ebuild and started the mkdev.sh manually. It created the i2c-devices in /dev without problems.

So there must be a problem in the ebuild for i586. On my AMD64 everything was running as it should. Also on my notebook (i686) here at work.

Reproducible: Always
Steps to Reproduce:
1. see above
Actual Results:  
With manually calling the mkdev.sh lm_senors/sensors-detect works.

Expected Results:  
Create the i2c-devices automatically when emerging lm_sensors in i586. 

If requested.




Comment 1


Karsten Becker





          2005-04-21 01:17:28 UTC
        

Changed profile to 2005.0




Comment 2


Henrik Brix Andersen





          2005-06-05 03:50:42 UTC
        

Are you using udev, devfs or static /dev entries?




Comment 3


Karsten Becker





          2005-06-05 09:52:41 UTC
        

I deselected the automatic mount of devfs in the kernel. 

Then I emerged udev/hotplug/coldplug, so udev is used automatically when booting
up, although I still have the (static ?) devices from the former use of devfs.

I noticed about an udev guide on the Gentoo pages. I did not follow the guide.

Unfortunately the notebook crashed and is out of order now, so I must answer
your questions out of mind. But all my machines were installed the same, despite
of the specific plattform settings (for example CHOST, '-march').




Comment 4


Henrik Brix Andersen





          2005-06-05 14:35:19 UTC
        

Reopening.




Comment 5


Henrik Brix Andersen





          2005-06-05 14:36:39 UTC
        

I can not reproduce it here using udev, and since you can not reproduce it - I'm
afraid I have to close it as WORKSFORME until further information can be provided.




Comment 6


Karsten Becker





          2005-06-05 23:39:45 UTC
        

It's ok. If someone has the same problem, he will read the workaround here. 

Maybe it depends on another package. In the last days I got udev and hotplug
updates per sync. It's possible that they fixed our issue, too.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

