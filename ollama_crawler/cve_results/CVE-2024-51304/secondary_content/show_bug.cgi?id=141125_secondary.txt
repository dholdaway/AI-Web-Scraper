Title: 141125 – gtkmm-2.8.3 fails compile
URL: https://bugs.gentoo.org/show_bug.cgi?id=141125

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 141125
gtkmm-2.8.3 fails compile
Last modified: 2006-08-12 03:16:43 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 141125 
      - gtkmm-2.8.3 fails compile


Summary:
gtkmm-2.8.3 fails compile
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

GNOME C++ Bindings Maintainers (OBSOLETE)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-07-19 23:38 UTC by Kim Nilsson





      Modified:
    
2006-08-12 03:16 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



ralf









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Kim Nilsson





          2006-07-19 23:38:08 UTC
        

Making all in child_widget
make[3]: Entering directory `/var/tmp/portage/gtkmm-2.8.3/work/gtkmm-2.8.3/tests/child_widget'
if i686-pc-linux-gnu-g++ -DHAVE_CONFIG_H  -I. -I. -I../../pango -I../../pango -I../../atk -I../../atk -I../../gdk -I../../gdk -I../../gtk -I../../gtk -I/usr/include/glibmm-2.4 -I/usr/lib/glibmm-2.4/include -I/usr/include/sigc++-2.0 -I/usr/lib/sigc++-2.0/include -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include -I/usr/include/gtk-2.0 -I/usr/lib/gtk-2.0/include -I/usr/include/atk-1.0 -I/usr/include/cairo -I/usr/include/pango-1.0 -DGDKMM_DISABLE_DEPRECATED -DPANGOMM_DISABLE_DEPRECATED -DPANGOMM_DISABLE_DEPRECATED -DATKMM_DISABLE_DEPRECATED -DGTKMM_DISABLE_DEPRECATED    -mtune=pentium4 -march=pentium4 -Os -pipe -fomit-frame-pointer -Wall -MT testwindow.o -MD -MP -MF ".deps/testwindow.Tpo" -c -o testwindow.o testwindow.cc; \
then mv -f ".deps/testwindow.Tpo" ".deps/testwindow.Po"; else rm -f ".deps/testwindow.Tpo"; exit 1; fi
if i686-pc-linux-gnu-g++ -DHAVE_CONFIG_H  -I. -I. -I../../pango -I../../pango -I../../atk -I../../atk -I../../gdk -I../../gdk -I../../gtk -I../../gtk -I/usr/include/glibmm-2.4 -I/usr/lib/glibmm-2.4/include -I/usr/include/sigc++-2.0 -I/usr/lib/sigc++-2.0/include -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include -I/usr/include/gtk-2.0 -I/usr/lib/gtk-2.0/include -I/usr/include/atk-1.0 -I/usr/include/cairo -I/usr/include/pango-1.0 -DGDKMM_DISABLE_DEPRECATED -DPANGOMM_DISABLE_DEPRECATED -DPANGOMM_DISABLE_DEPRECATED -DATKMM_DISABLE_DEPRECATED -DGTKMM_DISABLE_DEPRECATED    -mtune=pentium4 -march=pentium4 -Os -pipe -fomit-frame-pointer -Wall -MT main.o -MD -MP -MF ".deps/main.Tpo" -c -o main.o main.cc; \
then mv -f ".deps/main.Tpo" ".deps/main.Po"; else rm -f ".deps/main.Tpo"; exit 1; fi
/bin/sh ../../libtool --tag=CXX --mode=link i686-pc-linux-gnu-g++  -mtune=pentium4 -march=pentium4 -Os -pipe -fomit-frame-pointer -Wall  -Wl,-O1 -Wl,--sort-common -s -o test  testwindow.o main.o ../../pango/pangomm/libpangomm-1.4.la ../../atk/atkmm/libatkmm-1.6.la ../../gdk/gdkmm/libgdkmm-2.4.la ../../gtk/gtkmm/libgtkmm-2.4.la -lglibmm-2.4 -lsigc-2.0 -lgtk-x11-2.0 -lgdk-x11-2.0 -latk-1.0 -lgdk_pixbuf-2.0 -lm -lpangocairo-1.0 -lpango-1.0 -lcairo -lgobject-2.0 -lgmodule-2.0 -ldl -lglib-2.0
mkdir .libs
i686-pc-linux-gnu-g++ -mtune=pentium4 -march=pentium4 -Os -pipe -fomit-frame-pointer -Wall -Wl,-O1 -Wl,--sort-common -s -o .libs/test testwindow.o main.o  ../../pango/pangomm/.libs/libpangomm-1.4.so -L/usr/i686-pc-linux-gnu/bin -L/usr/i686-pc-linux-gnu/lib -L/usr/lib/gcc/i686-pc-linux-gnu/../../../i686-pc-linux-gnu/lib -L/usr/lib/gcc/i686-pc-linux-gnu/3.4.6 -L/usr/lib/gcc/i686-pc-linux-gnu/3.4.6/../../../../i686-pc-linux-gnu/lib ../../atk/atkmm/.libs/libatkmm-1.6.so ../../gdk/gdkmm/.libs/libgdkmm-2.4.so ../../gtk/gtkmm/.libs/libgtkmm-2.4.so /var/tmp/portage/gtkmm-2.8.3/work/gtkmm-2.8.3/gdk/gdkmm/.libs/libgdkmm-2.4.so /var/tmp/portage/gtkmm-2.8.3/work/gtkmm-2.8.3/atk/atkmm/.libs/libatkmm-1.6.so /var/tmp/portage/gtkmm-2.8.3/work/gtkmm-2.8.3/pango/pangomm/.libs/libpangomm-1.4.so /usr/lib/libglibmm-2.4.so /usr/lib/libsigc-2.0.so /usr/lib/gcc/i686-pc-linux-gnu/3.4.6/libstdc++.so /usr/lib/libgtk-x11-2.0.so /usr/lib/libgdk-x11-2.0.so /usr/lib/libatk-1.0.so /usr/lib/libgdk_pixbuf-2.0.so /usr/lib/libpangocairo-1.0.so /usr/lib/libpangoft2-1.0.so /usr/lib/libpango-1.0.so /usr/lib/libcairo.so /usr/lib/libXrender.so /usr/lib/libX11.so /usr/lib/libXext.so /usr/lib/libpng12.so /usr/lib/libfontconfig.so /usr/lib/libexpat.so /usr/lib/libfreetype.so -lz -lm /usr/lib/libgobject-2.0.so /usr/lib/libgmodule-2.0.so -ldl /usr/lib/libglib-2.0.so
../../pango/pangomm/.libs/libpangomm-1.4.so: undefined reference to `std::basic_string<char, std::char_traits<char>, std::allocator<char> >::_Rep::_M_set_length_and_sharable(unsigned int)'
collect2: ld returned 1 exit status
make[3]: *** [test] Fel 1
make[3]: Leaving directory `/var/tmp/portage/gtkmm-2.8.3/work/gtkmm-2.8.3/tests/child_widget'
make[2]: *** [all-recursive] Fel 1
make[2]: Leaving directory `/var/tmp/portage/gtkmm-2.8.3/work/gtkmm-2.8.3/tests'
make[1]: *** [all-recursive] Fel 1
make[1]: Leaving directory `/var/tmp/portage/gtkmm-2.8.3/work/gtkmm-2.8.3'
make: *** [all] Fel 2

!!! ERROR: dev-cpp/gtkmm-2.8.3 failed.
Call stack:
  ebuild.sh, line 1545:   Called dyn_compile
  ebuild.sh, line 940:   Called src_compile
  ebuild.sh, line 1254:   Called gnome2_src_compile
  gnome2.eclass, line 64:   Called die




Comment 1


Kim Nilsson





          2006-07-19 23:38:22 UTC
        

Here's my info:

Portage 2.1.1_pre3-r1 (default-linux/x86/2006.0, gcc-4.1.1, glibc-2.3.6-r4, 2.6.16-gentoo-r10 i686)
=================================================================
System uname: 2.6.16-gentoo-r10 i686 Intel(R) Pentium(R) 4 CPU 2.40GHz
Gentoo Base System version 1.12.1
app-admin/eselect-compiler: [Not Present]
dev-lang/python:     2.3.5, 2.4.3-r1
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.13-r3
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r5
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-mtune=pentium4 -march=pentium4 -Os -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/java-config/vms/ /etc/splash /etc/terminfo"
CXXFLAGS="-mtune=pentium4 -march=pentium4 -Os -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
EMERGE_DEFAULT_OPTS="--alphabetical"
FEATURES="autoconfig distlocks metadata-transfer parallel-fetch sandbox sfperms strict"
GENTOO_MIRRORS="ftp://ftp.du.se/pub/os/gentoo http://ds.thn.htu.se/linux/gentoo http://mirror.gentoo.no/ http://gentoo.osuosl.org/ ftp://distro.ibiblio.org/pub/linux/distributions/gentoo/ ftp://ftp.gtlib.gatech.edu/pub/gentoo ftp://ftp.ussg.iu.edu/pub/linux/gentoo ftp://ftp.ucsb.edu/pub/mirrors/linux/gentoo/ ftp://gentoo.mirrors.pair.com/ ftp://gentoo.mirrors.tds.net/gentoo ftp://gentoo.netnitco.net/pub/mirrors/gentoo/source/ ftp://mirror.datapipe.net/gentoo http://mirror.uni-c.dk/pub/gentoo/ http://trumpetti.atm.tut.fi/gentoo/ http://ftp.club-internet.fr/pub/mirrors/gentoo ftp://ftp.uni-erlangen.de/pub/mirrors/gentoo ftp://pandemonium.tiscali.de/pub/gentoo/ ftp://files.gentoo.org ftp://ftp.snt.utwente.nl/pub/os/linux/gentoo ftp://mirrors.blueyonder.co.uk/mirrors/gentoo ftp://ftp.mirrorservice.org/sites/www.ibiblio.org/gentoo/ ftp://ftp.planetmirror.com/pub/gentoo/ ftp://mirror.pacific.net.au/linux/Gentoo ftp://mirror.isp.net.au/pub/gentoo/ "
LANG="sv_SE.UTF-8"
LC_ALL="sv_SE.UTF-8"
LDFLAGS="-Wl,-O1 -Wl,--sort-common -s"
LINGUAS="sv_SE sv en en_GB en_US da"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/gentoo-webapps-overlay/experimental /usr/local/gentoo-webapps-overlay/production-ready /usr/local/gentoo-general-overlay"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="x86 7zip X a52 acpi alsa apache2 apm avi bcmath berkdb bitmap-fonts bzlib cdr cli crypt cups dlloader dri dvd dvdr eds emboss encode fam ffmpeg flac foomaticdb fortran ftp gdbm gif gnome gnutls gpm gstreamer gtk gtk2 imlib ipv6 isdnlog jpeg jpeg2k kde libg++ libwww lzo mad mikmod mmx motif mp3 mpeg ncurses network nls nptl nptlonly nsplugin opengl oss pam pcre pdflib perl png pppd python qt qt3 qt4 quicktime readline reflection samba sdl session spell spl sse sse2 ssl tcpd theora truetype truetype-fonts type1-fonts udev unicode xinerama xml xml2 xmms xorg xv zlib elibc_glibc input_devices_keyboard input_devices_mouse input_devices_evdev kernel_linux linguas_sv_SE linguas_sv linguas_en linguas_en_GB linguas_en_US linguas_da userland_GNU video_cards_nvidia"
Unset:  CTARGET, INSTALL_MASK, PORTAGE_RSYNC_EXTRA_OPTS




Comment 2


Kim Nilsson





          2006-08-03 22:04:34 UTC
        

Over two weeks and nothing?




Comment 3


R Stephan





          2006-08-11 09:51:27 UTC
        

only a guess: too old gcc, libstdc++? what is this -Os CXXFLAG at all, I'd recommend -O or -O2, everything else is trouble.




Comment 4


Kim Nilsson





          2006-08-12 00:29:10 UTC
        

I have these installed:

sys-devel/gcc-4.1.1
virtual/libstdc++-3.3

CFLAGS="-mtune=pentium4 -march=pentium4 -Os -pipe -fomit-frame-pointer"
ok, so what should I put there, optimally, -0 or -02?

Are there any other settings I should change?




Comment 5


Kim Nilsson





          2006-08-12 03:09:05 UTC
        

Damn!




Comment 6


Kim Nilsson





          2006-08-12 03:13:07 UTC
        

Sorry.Bad paste using pybugz.Anyway, the change to O2 did the trick. gtkmm 2.8.3 installed fine now.




Comment 7


Kim Nilsson





          2006-08-12 03:16:43 UTC
        

Edited to use flgag -O2 and it installed fine.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

