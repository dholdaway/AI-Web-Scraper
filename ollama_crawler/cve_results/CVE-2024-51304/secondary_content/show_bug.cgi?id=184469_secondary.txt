Title: 184469 – (missing_font-alias) Clean install is missing font.alias file, resulting in X refusing to start.
URL: https://bugs.gentoo.org/show_bug.cgi?id=184469

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 184469
Clean install is missing font.alias file, resulting in X refusing to start.
Last modified: 2007-07-07 15:23:35 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 184469 
        (missing_font-alias)
      - Clean install is missing font.alias file, resulting in X refusing to start.


Summary:
Clean install is missing font.alias file, resulting in X refusing to start.
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:

missing_font-alias
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Unspecified

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo X packagers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-07-07 06:33 UTC by Alexander Stanley





      Modified:
    
2007-07-07 15:23 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Alexander Stanley





          2007-07-07 06:33:57 UTC
        

This issue appears after clean installs of both x86 and amd64.  This appears to be caused by either a lack of the media-fonts/font-alias package, or a corrupted fonts.alias file (corrupted package).

This may be solved by executing:
# emerge media-fonts/font-alias

A more permanent solution may be found inside an ebuild itself, but what exactly is breaking the install appears to be xorg-server, but I cannot confirm - only solve.

Posting at "normal" (rather than minor) severity because:
a) While many users may see this as trivial, newer may find it nightmarish.
b) all search terms from "missing default font fixed" except for "font" have been stoplisted on the forums.


-----

Appears to be fully reproducable on an AMD 2007.0 stage3 install.  Emerging gnome (or xorg-server) results in the same problem.  Tested on both a laptop and a desktop.  Resolution was found in the font-alias package.




Comment 1


Jakub Moc (RETIRED)






          2007-07-07 06:55:34 UTC
        

I fail to see how you can be missing this one; xorg-server depends on it via x-modular eclass.




Comment 2


Alexander Stanley





          2007-07-07 10:51:27 UTC
        

(In reply to comment #1)
> I fail to see how you can be missing this one; xorg-server depends on it via
> x-modular eclass.
> 

It occurred to me that it appeared in the list on both systems - so with as much patience as I had, I wiped both systems and started again, to no avail.  The same problem occurred and I needed to re-emerge font-alias.




Comment 3


Jakub Moc (RETIRED)






          2007-07-07 13:12:35 UTC
        

(In reply to comment #2)
> It occurred to me that it appeared in the list on both systems - so with as
> much patience as I had, I wiped both systems and started again, to no avail. 
> The same problem occurred and I needed to re-emerge font-alias.

So you had the ebuild installed? The font.alias files were broken then? Do you have a copy of the broken files? Please clarify what you mean here, it's clear as mud.





Comment 4


Alexander Stanley





          2007-07-07 15:23:35 UTC
        

> So you had the ebuild installed? The font.alias files were broken then? Do you
> have a copy of the broken files? Please clarify what you mean here, it's clear
> as mud.
> 

My apologies for the clarity - I shouldn't write [anything, let alone] bugs when I'm tired.

The packages are allegedly installed, but the system refuses to load, Xorg, either from /etc/init.d/xdm, startx or X -configure (let alone X -config file.conf).  All complain of the missing font.  MD5 on the install CD says it's fine (and it's minimal, so it shouldn't have any business messing up a package this far past stage3 anyway).

The problem was that the font aliases either didn't exist or were corrupted - in my case they didn't exist, in a case reported to me - which was resolved the same way on an x86 system - they apparently existed.

Issue seems to be resolved, even if I re-emerge world (now completely tested).  I'll be installing a new system, attempting to go through the same steps and see if the same issue arises and revisit if it occurs again - the initial bug was filed from confusion and the desire to ensure others with the same problem didn't have terrible issues finding a solution.

Apologies for time that may be felt wasted, and much gratitude for the patience.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

