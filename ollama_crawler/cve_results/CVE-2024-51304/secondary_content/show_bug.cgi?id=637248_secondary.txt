Title: 637248 – nodejs install problem sse2
URL: https://bugs.gentoo.org/show_bug.cgi?id=637248

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 637248
nodejs install problem sse2
Last modified: 2017-11-12 19:52:08 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 637248 
      - nodejs install problem sse2


Summary:
nodejs install problem sse2
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2017-11-12 17:23 UTC by dieter ferdinand





      Modified:
    
2017-11-12 19:52 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


dieter ferdinand





          2017-11-12 17:23:38 UTC
        

hello,
i have problems with nodejs because the cpu-flags are not detected right:
* Messages for package net-libs/nodejs-6.11.5:

 * ERROR: net-libs/nodejs-6.11.5::gentoo failed (pretend phase):
 *   Your CPU doesn't support the required SSE2 instruction.
 * 
 * Call stack:
 *              ebuild.sh, line 115:  Called pkg_pretend
 *   nodejs-6.11.5.ebuild, line  40:  Called die
 * The specific snippet of code:
 *      (use x86 && ! use cpu_flags_x86_sse2) && \
 *              die "Your CPU doesn't support the required SSE2 instruction."
 * 
 * If you need support, post the output of `emerge --info '=net-libs/nodejs-6.11.5::gentoo'`,
 * the complete build log and the output of `emerge -pqv '=net-libs/nodejs-6.11.5::gentoo'`.
 * The complete build log is located at '/temp/portage/portage/net-libs/nodejs-6.11.5/temp/build.log'.
 * The ebuild environment file is located at '/temp/portage/portage/net-libs/nodejs-6.11.5/temp/die.env'.
 * Working directory: '/temp/portage/portage/net-libs/nodejse-6.11.5/homedir'
 * S: '/temp/portage/portage/net-libs/nodejs-6.11.5/work/node-v6.11.5'

my cpu have sse2 and others:
flags           : fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm constant_tsc nonstop_tsc extd_apicid aperfmperf pni pclmulqdq monitor ssse3 cx16 sse4_1 sse4_2 popcnt aes xsave avx lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs xop skinit wdt lwp fma4 nodeid_msr topoext perfctr_core perfctr_nb arat cpb hw_pstate npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold vmmcall

why says nodejs that my cpu can not sse2 ?

i can set cpu-flags in make.conf, but i don't know, which flags i must set to compile all packages with optimal setting.

if i copy all flags from cpu-info, i get also error messages. i try this at first time i have this problem.

goodby




Comment 1


Mike Gilbert






          2017-11-12 18:27:57 UTC
        

You can set CPU_FLAGS_X86="sse2" to resolve this.

If you want the "optimal" set of values, install app-portage/cpuid2cpuflags, and run the cpuid2cpuflags program.




Comment 2


dieter ferdinand





          2017-11-12 19:52:08 UTC
        

hello,
i have it installed and set the flags. but this is no reason for nodejs to not detect, that the cpu have sse2!

goodby









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

