Title: 90915 – jadetex-3.13-r1 fails to emerge: can't find tcfmgr.map
URL: https://bugs.gentoo.org/show_bug.cgi?id=90915

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 90915
jadetex-3.13-r1 fails to emerge: can't find tcfmgr.map
Last modified: 2009-10-28 20:21:27 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 90915 
      - jadetex-3.13-r1 fails to emerge: can't find tcfmgr.map


Summary:
jadetex-3.13-r1 fails to emerge: can't find tcfmgr.map
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       major
      


Assignee:

Text-Markup Team (OBSOLETE)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-04-29 16:07 UTC by Peter Thomassen





      Modified:
    
2009-10-28 20:21 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



rogerx.oss









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Peter Thomassen





          2005-04-29 16:07:40 UTC
        

When trying to emerge jadetex, the following error occurs: 

| >>> Source unpacked. 
| $tex jadetex.ins 
| This is TeX, Version 3.141592 (Web2C 7.5.4) 
| kpathsea: Running mktexfmt tex.fmt 
| tcfmgr: config file `tcfmgr.map' (usually in $TEXMFMAIN/texconfig) not found. 
| fmtutil: config file `fmtutil.cnf' not found. 
| I can't find the format file `tex.fmt'! 
| make: *** [basic] Error 1 
| 
| !!! ERROR: app-text/jadetex-3.13-r1 failed. 
| !!! Function src_compile, Line 36, Exitcode 2 

So it seems that $TEXMFMAIN is not set, but `kpsewhich -expand-var='$TEXMFMAIN'` correctly returns /var/lib/texmf, in which texconfig/tcfmgr.map exists. Manually setting $TEXMFMAIN before emerging doesn't help.

I have started a forum thread on this (http://forums.gentoo.org/viewtopic-t-328237.html), but nobody could help me.

Reproducible: Always
Steps to Reproduce:
1. emerge jadetex
2.
3.




Portage 2.0.51.20-r5 (default-linux/x86/2005.0, gcc-3.4.3-20050110, 
glibc-2.3.5-r0, 2.6.10-gentoo-r7 i686) 
================================================================= 
System uname: 2.6.10-gentoo-r7 i686 AMD Athlon(tm) XP 1800+ 
Gentoo Base System version 1.6.11 
ccache version 2.4 [enabled] 
dev-lang/python:     2.3.5 
sys-apps/sandbox:    1.2.3 
sys-devel/autoconf:  2.13, 2.59-r6 
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.5 
sys-devel/binutils:  2.15.92.0.2-r8 
sys-devel/libtool:   1.5.16 
virtual/os-headers:  2.6.11 
ACCEPT_KEYWORDS="x86 ~x86" 
AUTOCLEAN="yes" 
CBUILD="i686-pc-linux-gnu" 
CFLAGS="-O2 -march=athlon-xp -pipe" 
CHOST="i686-pc-linux-gnu" 
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/share/config /var/qmail/control" 
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/texmf/web2c /etc/env.d" 
CXXFLAGS="-O2 -march=athlon-xp -pipe" 
DISTDIR="/usr/portage/distfiles" 
FEATURES="autoconfig ccache distlocks fixpackages sandbox sfperms strict" 
GENTOO_MIRRORS="http://mirrors.sec.informatik.tu-darmstadt.de/gentoo/ 
http://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/ 
http://pandemonium.tiscali.de/pub/gentoo/" 
LINGUAS="de" 
MAKEOPTS="-j2" 
PKGDIR="/usr/portage/packages" 
PORTAGE_TMPDIR="/var/tmp" 
PORTDIR="/usr/portage" 
PORTDIR_OVERLAY="/usr/local/portage" 
SYNC="rsync://rsync.gentoo.org/gentoo-portage" 
USE="x86 3dnow X alsa apache2 apm arts avi bitmap-fonts cdparanoia cdr crypt 
cups dba dvd emboss fam foomaticdb ftp gd gdbm gif imagemagick imap imlib 
jabber jpeg kde kdeenablefinal libg++ libwww mad maildir mikmod mmx mp3 mpeg 
mysql nls nomotif nptl nptlonly ogg oggvorbis opengl pam pdflib php png posix 
qt readline sdl slang sqlite sse ssl svga symlink tcpd tetex tiff truetype 
truetype-fonts type1-fonts unicode userlocales vorbis xml2 xv zlib 
video_cards_nvidia linguas_de" 
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS




Comment 1


Peter Thomassen





          2005-05-08 13:22:37 UTC
        

After adding "pic" to USE flags and accidentally recompiling glibc (and xorg-x11-6.8.99.5), everything works fine now. I can't pull this together.




Comment 2


Chris Smith





          2005-07-02 03:44:08 UTC
        

(In reply to comment #1)
> After adding "pic" to USE flags and accidentally recompiling glibc (and
xorg-x11-6.8.99.5), everything works fine now. I can't pull this together.

(In reply to comment #1)
02Jul05, Chris Smith.  I had exactly this problem, CTRL-ALT-BACKSPACEd to kill
my X session, and emerge jadetex worked great.  Go figure.




Comment 3


Chris Smith





          2005-07-02 04:05:03 UTC
        

After chatting on #gentoo-bugs, the problem for me was logging in on the work
account, su to root, emerge jadetex.
If you >su (nohyphen), you don't get the proper environment.
Best practice:
su -




Comment 4


Roger





          2009-10-28 20:21:27 UTC
        

In the midst of upgrading to gcc-4.3.4 and am running into this as well for the first time.

"su -" from "su/root shell" fails as well.










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

