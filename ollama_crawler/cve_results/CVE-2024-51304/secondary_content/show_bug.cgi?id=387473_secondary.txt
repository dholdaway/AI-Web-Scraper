Title: 387473 – kde-base/kdm config file changes not preserved
URL: https://bugs.gentoo.org/show_bug.cgi?id=387473

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 387473
kde-base/kdm config file changes not preserved
Last modified: 2011-10-18 17:25:50 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 387473 
      - kde-base/kdm config file changes not preserved


Summary:
kde-base/kdm config file changes not preserved
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2011-10-17 22:33 UTC by William L. Thomson Jr.





      Modified:
    
2011-10-18 17:25 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


William L. Thomson Jr.





          2011-10-17 22:33:57 UTC
        

User changes to the kdm startup files in /usr/share/config/kdm/ do not seem to be preserved between ebuild revisions/versions.

I see kde kde-base/kde-env creates /etc/env.d/43kdepaths which adds /usr/share/config to CONFIG_PROTECT. But seems this is not applying to the files in /usr/share/config/kdm. CONFIG_PROTECT should be recursive, but for some reason did not preserve files in my case. Unless this stuff is purposely wiped out and recreated between releases like going from 4.7.1 to 4.7.2. Which is when my changes to /usr/share/config/kdm/Xsetup were wiped out.




Comment 1


Maciej Mrozowski






          2011-10-18 16:55:29 UTC
        

Unable to reproduce.

Logs after emerge -1 kdm

 * Messages for package kde-base/kdm-4.7.2:

 * tar extract command failed at least partially - continuing anyway
 * You have compiled 'kdm' with consolekit support. If you want to use kdm,
 * make sure consolekit daemon is running and started at login time
 * 
 * rc-update add consolekit default && /etc/init.d/consolekit start
>>> Auto-cleaning packages...

>>> No outdated packages were found on your system.

 * GNU info directory index is up-to-date.

 * IMPORTANT: config file '/usr/share/config/kdm/kdmrc' needs updating.
 * See the CONFIGURATION FILES section of the emerge
 * man page to learn how to update config files.




Comment 2


William L. Thomson Jr.





          2011-10-18 17:17:08 UTC
        

I can't seem to reproduce either, but did happen at least once. Unless I overwrote the file with etc-update. I hade kdm/Xsetup invoking synergyc so I could log into kdm from another machine. I do updates every Sunday, and last time stamp on the files was Oct 9th. When I restarted a week or so later, synergyc did not start. When I checked Xsetup, my modifications were gone, thus opening the bug. We can close for now as neither of us is able to reproduce. If it happens again I will reopen bug, or something. Thought it was pretty odd, not sure what happened.




Comment 3


William L. Thomson Jr.





          2011-10-18 17:24:09 UTC
        

I think I might need to try to switch versions again, reinstall 4.7.1 and upgrade to 4.7.2 again. I just re-emerged 4.7.2, but the files were not replaced. I have to make some modifications to re-emerge 4.7.1 and then back to 4.7.2. I will see about doing that, just to see if I can replicate the problem that way. It seems to have happened on upgrade of 4.7.1 to 4.7.2.




Comment 4


Maciej Mrozowski






          2011-10-18 17:25:50 UTC
        

Ok, please reopen if it happens again.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

