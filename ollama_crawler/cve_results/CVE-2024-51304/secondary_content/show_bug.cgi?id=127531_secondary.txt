Title: 127531 – dual-packages feature
URL: https://bugs.gentoo.org/show_bug.cgi?id=127531

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 127531
dual-packages feature
Last modified: 2006-03-25 12:22:56 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 127531 
      - dual-packages feature


Summary:
dual-packages feature
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Development

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       enhancement
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-03-25 07:12 UTC by Maciej Piechotka





      Modified:
    
2006-03-25 12:22 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Maciej Piechotka





          2006-03-25 07:12:16 UTC
        

Idea is as in -dbg debian packages. Have in system in the same time packages stripped (for normal use) and for developers.
It could use for example anouthe CFLAGS (like CFLAGS_DEBUG).




Comment 1


Jakub Moc (RETIRED)






          2006-03-25 07:18:55 UTC
        

emerge latest portage and see FEATURES="splitdebug". Reopen if I have misunderstood your request.




Comment 2


Maciej Piechotka





          2006-03-25 07:27:17 UTC
        

If I understend make.conf(5) it just strip or not.
I mean something more:
CFLAGS="-O3 -march=pentium3 -mmmx -msse -mfpmath=sse -fomit-frame-pointer -ffast-math -pipe"
CFLAGS_DEBUG="-O0 -ggdb"

In normal work I don't need have frame pointer, additional debug info and I can optymalize it. However it's wrong for debugging.




Comment 3


Jakub Moc (RETIRED)






          2006-03-25 10:17:31 UTC
        

(In reply to comment #2)
> If I understend make.conf(5) it just strip or not.

No, you don't understand it. It saves debugging info into /usr/lib/debug *before* stripping the binaries. Please, test the feature before reopening this bug.




Comment 4


Maciej Piechotka





          2006-03-25 11:12:35 UTC
        

I've understood. IWhat is now it's usful - I agree.
But compilation with the same flags:
a) would not be for dubug as good as it could be (-On where n != 0 can make some vars unexisting, -fomit-frame-pointer ect.).
or
b) would not be as fast for normal work as it could be (-O0 is slower)
In addition:
There are differences which are not in stripping:
struct some_struct {
  //some var
#ifdef DEBUG
  //some debug vars
#endif
}

ect.

It's very similar to splitdebug - but it have few differences (like rerun configure script, add debug flag ect.).

http://live.gnome.org/GettingTraces/DistroSpecificInstructions says to remove agressive flags from CFLAGS. But for normal work this optimalisation make my gnome much faster.

Regards.

PS. I understend splitdebug but I use shortcut incorrect abrigement.




Comment 5


Jakub Moc (RETIRED)






          2006-03-25 12:22:56 UTC
        

(In reply to comment #4)
> I've understood. IWhat is now it's usful - I agree.
> But compilation with the same flags:
> a) would not be for dubug as good as it could be (-On where n != 0 can make
> some vars unexisting, -fomit-frame-pointer ect.).
> or
> b) would not be as fast for normal work as it could be (-O0 is slower)

The splitdebug feature is intended to help Gentoo developers with debugging user-submitted issues, while still allowing users to use their normal C[XX]FLAGS. Users are able to provide useful debugging info even without using compiler flags like -ggdb etc.

What you are requesting is indeed beyond the scope of this feature. If you wish to discuss this/suggest some way of implementation, I'd ask you to take this to gentoo-dev mailing list first, it's a much better place for discussion.

Thanks.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

