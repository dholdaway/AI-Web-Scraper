Title: 108440 – backspace doesn't work in screen run under xfce-extra/terminal
URL: https://bugs.gentoo.org/show_bug.cgi?id=108440

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 108440
backspace doesn't work in screen run under xfce-extra/terminal
Last modified: 2006-10-12 22:13:47 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 108440 
      - backspace doesn't work in screen run under xfce-extra/terminal


Summary:
backspace doesn't work in screen run under xfce-extra/terminal
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

XFCE Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-10-07 16:06 UTC by Chris Brims





      Modified:
    
2006-10-12 22:13 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Chris Brims





          2005-10-07 16:06:06 UTC
        

when you run the screen program under xfce-extra/terminal backspace does nothing
until you go to Preferences > Advanced icon > Backspace key generates: and
change it to Control-H or ASCII DEL. Each time you run a new instance of
terminal and open an existing screen session or open a new one, you must change
the code the backspace key generates.

Reproducible: Always
Steps to Reproduce:
1. Open terminal (xfce-extra/termianl)
2. run screen (screen or screen -RD)
3. type something and try erase it with backspace

Actual Results:  
The characters do not get erased.

Expected Results:  
The typed characters should get erased.

I am running ~x86 version of terminal and screen, same problem existed with the
x86 version.

emerge info
Portage 2.0.53_rc2 (default-linux/x86/2005.0, gcc-3.3.6, glibc-2.3.5-r1,
2.6.10-gentoo-r5 i686)
=================================================================
System uname: 2.6.10-gentoo-r5 i686 AMD Athlon(tm) XP 2600+
Gentoo Base System version 1.12.0_pre8
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
dev-lang/python:     2.3.5-r2, 2.4.2
sys-apps/sandbox:    1.2.10
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.20
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=athlon-xp -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.3/env
/usr/kde/3.3/share/config /usr/kde/3.3/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/share/config /var/bind /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=athlon-xp -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://mirror.espri.arizona.edu/gentoo"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X a52 aac aalib alsa apache2 arts avi bitmap-fonts browserplugin bzip2
cdparanoia cdr crypt cups curl directfb divx4linux djbfft doc dts dv dvd dvdread
encode esd fam ffmpeg flac foomaticdb fpx gdbm gif gimpprint gnutls gstreamer
gtk gtk2 gtkhtml hpn i8x0 imagemagick imlib ipv6 java jikes jpeg junit kde lcms
libcaca libg++ libwww live lzo mad mikmod mmx mmxext mng motif mp3 mpeg mythtv
ncurses network nls nptl nptlonly offensive ogg oggvorbis opengl oss pam pdflib
perl png ppds prelude python qt quicktime readline real rtc samba sdl sensord
slang sndfile source spell ssl svg svga tcltk tcpd tga theora threads tiff
truetype truetype-fonts type1-fonts unicode userlocales vcd vorbis wmf wxgtk
wxgtk1 wxwindows xanim xine xml2 xmms xprint xv xvid xvmc zlib userland_GNU
kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTDIR_OVERLAY




Comment 1


Chris Brims





          2005-10-07 21:24:26 UTC
        

I forgot to add this, I see this bug has been sent to the xfce Gentoo
developers, running in aterm and xterm screen works fine.




Comment 2


Chris Brims





          2005-12-13 18:29:43 UTC
        

XFCE 4.2.3.2 fixes this problem. I don't know the proceedure for this all, but
the bug no longer exists in the newest version of XFCE in Portage.




Comment 3


Chris Brims





          2006-02-17 20:22:50 UTC
        

I just tried again on my fairly new ~x86 install, it doesn't work now.




Comment 4


Daniel Ostrow (RETIRED)






          2006-04-08 15:01:32 UTC
        

It's an issue with the autodetection in Terminal. If you set the "Backspace key generates:" option in Terminal's preferences to Control-H it works perfectly fine.




Comment 5


Chris Brims





          2006-04-09 16:34:25 UTC
        

Well then you have some oddball patch or something because it DOESN'T work for me. As the original post says, I have to change it each time I open terminal. I guess this is the last bug I post as I got absolutely no help from you.




Comment 6


Chris Brims





          2006-05-02 00:29:45 UTC
        

Since you are using a patch (http://bugzilla.xfce.org/show_bug.cgi?id=1272) that is not included any of the Terminal versions of Portage, I don't think you're much of a dev as you failed to say anything about using that patch. Tried it once and it didn't work, now it does. But I'm still never filing another bug with Gentoo Bugzilla as you failed to give me any information. Thanks for nothing.




Comment 7


Chris Slycord





          2006-05-02 18:36:43 UTC
        

I can verify that this bug still repros with terminal version 0.2.4-r1 and screen version 4.0.2-r5

The repro steps are as follows:
1) open terminal
2) inside terminal run screen
3) try to type and erase
4) change "backspace key generates" to Control-H or ASCII DEL
5) erase the text you just typed
6) exit out of screen and terminal
7) open terminal again
8) Check that the "Backspace key generates" is the same as you had changed it to previously
9) run screen
10) type text and attempt to delete it.

Result:
Not deleted

Expected:
Deleted

# emerge --info
Portage 2.1_pre10-r2 (default-linux/x86/2006.0, gcc-3.4.6, glibc-2.4-r1, 2.6.16-ck6-r1 i686)
=================================================================
System uname: 2.6.16-ck6-r1 i686 AMD Athlon(tm) XP 3000+
Gentoo Base System version 1.12.0_pre18
distcc 2.18.3 i586-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
ccache version 2.4 [disabled]
dev-lang/python:     2.4.3
dev-util/ccache:     2.4-r1
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r2
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r5
ACCEPT_KEYWORDS="x86 ~x86"
ACCEPT_LICENSE=""
ARCH="x86"
AUTOCLEAN="yes"
CBUILD="i586-pc-linux-gnu"
CFLAGS="-march=athlon-xp -pipe -O3 -fweb -frename-registers -fforce-addr -fomit-frame-pointer -ftracer"
CHOST="i586-pc-linux-gnu"
CLASSPATH="."
CLEAN_DELAY="5"
COLORTERM="gnome-terminal"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config /usr/share/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/eselect/compiler /etc/gconf /etc/revdep-rebuild /etc/terminfo /etc/env.d"
CVS_RSH="ssh"
CXXFLAGS="-march=athlon-xp -pipe -O3 -fweb -frename-registers -fforce-addr -fomit-frame-pointer -ftracer -fvisibility-inlines-hidden"
DCCC_PATH="/usr/lib/distcc/bin"
DISPLAY=":0.0"
DISTCC_LOG=""
DISTCC_VERBOSE="0"
DISTDIR="/usr/portage/distfiles"
EDITOR="/bin/nano"
ELIBC="glibc"
EMERGE_DEFAULT_OPTS="--alphabetical --verbose"
EMERGE_WARNING_DELAY="10"
FEATURES="autoconfig distlocks metadata-transfer parallel-fetch sandbox sfperms strict userpriv usersandbox"
FETCHCOMMAND="/usr/bin/wget_limit ${URI} -P ${DISTDIR}"
GCC_SPECS=""
GDK_USE_XFT="1"
GENTOO_MIRRORS="ftp://localhost http://gentoo.osuosl.org http://www.ibiblio.org/pub/Linux/distributions/gentoo"
G_BROKEN_FILENAMES="1"
HOME="/root"
HUSHLOGIN="FALSE"
INFOPATH="/usr/share/info:/usr/share/binutils-data/i586-pc-linux-gnu/2.16.1/info:/usr/share/gcc-data/i586-pc-linux-gnu/3.4.6/info"
INPUT_DEVICES="keyboard mouse"
JAVAC="/opt/blackdown-jdk-1.4.2.03/bin/javac"
JAVA_HOME="/opt/blackdown-jdk-1.4.2.03"
JDK_HOME="/opt/blackdown-jdk-1.4.2.03"
KERNEL="linux"
LDFLAGS="-Wl,-O1 -Wl,--sort-common -s"
LD_LIBRARY_PATH=":/usr/lib/wine/lib"
LESS="-R -M --shift 5"
LESSOPEN="|lesspipe.sh %s"
LOGNAME="root"
LS_COLORS="no=00:fi=00:di=01;34:ln=01;36:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=01;05;37;41:mi=01;05;37;41:su=37;41:sg=30;43:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arj=01;31:*.taz=01;31:*.lzh=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.gz=01;31:*.bz2=01;31:*.bz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.rar=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.jpg=01;35:*.jpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.qt=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.pdf=00;32:*.ps=00;32:*.txt=00;32:*.patch=00;32:*.diff=00;32:*.log=00;32:*.tex=00;32:*.doc=00;32:*.flac=01;35:*.mp3=01;35:*.mpc=00;36:*.ogg=00;36:*.wav=00;36:*.mid=00;36:*.midi=00;36:*.au=00;36:*.flac=00;36:*.aac=00;36:"
MAKEOPTS="-j2"
MANPATH="/usr/local/share/man:/usr/share/man:/usr/share/binutils-data/i586-pc-linux-gnu/2.16.1/man:/usr/share/gcc-data/i586-pc-linux-gnu/3.4.6/man::/opt/blackdown-jdk-1.4.2.03/man"
OPENGL_PROFILE="nvidia"
PAGER="/usr/bin/less"
PATH="/sbin:/bin:/usr/sbin:/usr/bin:/usr/lib/wine/bin"
PKGDIR="/usr/portage/packages"
PORTAGE_ARCHLIST="ppc s390 amd64 ppc64 x86-fbsd m68k arm sparc sh mips ia64 alpha ppc-macos hppa x86"
PORTAGE_BINHOST_CHUNKSIZE="3000"
PORTAGE_BIN_PATH="/usr/lib/portage/bin"
PORTAGE_CALLER="emerge"
PORTAGE_CONFIGROOT="/"
PORTAGE_ELOG_CLASSES="log warn error"
PORTAGE_ELOG_MAILFROM="portage"
PORTAGE_ELOG_MAILSUBJECT="[portage] ebuild log for ${PACKAGE} on ${HOST}"
PORTAGE_ELOG_MAILURI="root"
PORTAGE_GID="250"
PORTAGE_INST_GID="0"
PORTAGE_INST_UID="0"
PORTAGE_NICENESS="3"
PORTAGE_PYM_PATH="/usr/lib/portage/pym"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_RSYNC_RETRIES="3"
PORTAGE_TMPDIR="/var/tmp"
PORTAGE_WORKDIR_MODE="0700"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
PORT_LOGDIR="/var/log/portage"
PRELINK_PATH=""
PRELINK_PATH_MASK=""
PS1="\[\033[1;35m\]\u\[\033[0m\]@\[\033[1;32m\]\h\[\033[0m\]:\[\033[1;36m\]\w \[\033[1;31m\]Root \[\033[0m\]\$ "
PWD="/home/chris"
PYTHONPATH="/usr/lib/portage/pym"
RESUMECOMMAND="/usr/bin/wget_limit ${URI} -P ${DISTDIR}"
ROOT="/"
RPMDIR="/usr/portage/rpm"
SANE_CONFIG_DIR="/etc/sane.d"
SHELL="/bin/bash"
SHLVL="7"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
TERM="xterm"
USE="x86 3dnow X aac aalib alsa audiofile avi bash-completion bitmap-fonts browserplugin bzip2 cdr crypt divx4linux dvd dvdr dvdread encode f77 ffmpeg fortran gif gnome gtk gtk2 imlib ipv6 jpeg lcms mad mikmod mmx mp3 mpeg ncurses nls nptl nptlonly nsplugin ogg oggvorbis opengl oss pam png python quicktime readline real sdl slang spell sse ssl tcpd tiff truetype unicode userlocales vorbis win32codecs wmf xml xml2 xmms xv xvid zlib elibc_glibc input_devices_keyboard input_devices_mouse kernel_linux userland_GNU video_cards_nvidia"
USER="root"
USERLAND="GNU"
USE_EXPAND="DVB_CARDS ELIBC FCDSL_CARDS FRITZCAPI_CARDS INPUT_DEVICES KERNEL LINGUAS USERLAND VIDEO_CARDS"
USE_EXPAND_HIDDEN=""
USE_ORDER="env:pkg:conf:defaults"
VIDEO_CARDS="nvidia"
WINDOWID="14680115"
XARGS="xargs -r"
XAUTHORITY="/root/.xauthTfcRTU"
_="/usr/bin/emerge"




Comment 8


brianw





          2006-10-12 22:13:47 UTC
        

This is happening for me as well.

$ qlist -Iv terminal screen
app-misc/screen-4.0.2-r5
xfce-extra/terminal-0.2.4

Reproduceable: Always

Steps to reproduce:

1) open terminal
2) inside terminal run screen
3) try to type and erase
4) change "backspace key generates" to Control-H or ASCII DEL
5) erase the text you just typed
6) exit out of screen and terminal
7) open terminal again
8) Check that the "Backspace key generates" is the same as you had changed it
to previously
9) run screen
10) type text and attempt to delete it.

Result:
Not deleted

Expected:
Deleted

NOTE: This only happens with screen running locally. If I ssh to my gentoo server running the same version of screen, I am able to use the backspace key as expected.

$ emerge --info
Portage 2.1-r2 (default-linux/x86/2006.1/desktop, gcc-4.1.1, glibc-2.4-r3, 2.6.17-gentoo-r8 i686)
=================================================================
System uname: 2.6.17-gentoo-r8 i686 AMD Athlon(tm) 64 Processor 3700+
Gentoo Base System version 1.12.1
app-admin/eselect-compiler: [Not Present]
dev-java/java-config: 1.2.11-r1
dev-lang/python:     2.4.3-r4
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.13-r3
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=i686 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/X11/xkb"
CONFIG_PROTECT_MASK="/etc/env.d /etc/gconf /etc/revdep-rebuild /etc/terminfo"
CXXFLAGS="-O2 -march=i686 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 3dnow 3dnowext X alsa arts berkdb bitmap-fonts cairo cdr cli crypt cups dbus dlloader dri dvd dvdr emboss encode fam firefox fortran gdbm gif gpm gstreamer gtk hal ipv6 isdnlog java jpeg jpeg2k ldap libg++ mad mikmod mmx mmxext mp3 mpeg ncurses nls nptl nptlonly nsplugin nvidia ogg opengl oss pam pcre perl png ppds pppd python quicktime readline reflection sdl session spell spl sse sse2 ssl svg tcpd tiff tk truetype truetype-fonts type1-fonts udev unicode vorbis win32codecs xml xorg xv zlib elibc_glibc input_devices_keyboard input_devices_mouse kernel_linux userland_GNU video_cards_nvidia video_cards_nv video_cards_mesa"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGUAS, MAKEOPTS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

