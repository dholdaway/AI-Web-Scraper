Title: 722052 – app-crypt/yubikey-manager fails tests
URL: https://bugs.gentoo.org/show_bug.cgi?id=722052

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 722052
app-crypt/yubikey-manager fails tests
Last modified: 2021-09-15 15:29:42 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 722052 
      - app-crypt/yubikey-manager fails tests


Summary:
app-crypt/yubikey-manager fails tests
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

No maintainer - Look at https://wiki.gentoo.org/wiki/Project:Proxy_Maintainers if you want to take care of it








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2020-05-10 08:40 UTC by Agostino Sarubbo





      Modified:
    
2021-09-15 15:29 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build.log

              (build.log,16.71 KB,
                text/plain)

            
2020-05-10 08:40 UTC,

            Agostino Sarubbo




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Agostino Sarubbo






          2020-05-10 08:40:49 UTC
        

This is an auto-filled bug because app-crypt/yubikey-manager fails tests.
The issue was originally discovered on amd64, but it may be reproducible on other arches as well.
If you think that a different summary clarifies the issue better, feel free to change it.
Attached build log and emerge --info.




Comment 1


Agostino Sarubbo






          2020-05-10 08:40:59 UTC
        

Created attachment 637456 [details]
build.log

build log and emerge --info




Comment 2


Göktürk Yüksek







          2020-05-14 02:33:53 UTC
        

I can't reproduce this.

```
test_ykman_version (test.test_external_libs.TestExternalLibraries) ... /var/tmp/portage/app-crypt/yubikey-manager-3.1.1-r1/temp/environment: line 1585:    67 Segmentation fault      (core dumped) "${@}"
```

I need to know what segfaulted and why. There is not much to go on without that info. The test itself is very straightforward:

```
class TestExternalLibraries(unittest.TestCase):

    def test_ykman_version(self):
        output = ykman_cli('-v')
        # Test that major version is 1 on all libs
        self.assertIn('libykpers 1', output)
        self.assertIn('libusb 1', output)

    def test_ykman_version_not_found(self):
        output = ykman_cli('-v')
        self.assertNotIn('not found!', output)
        self.assertNotIn('<pyusb backend missing>', output)
```

Could your environment be too restrictive and generating false positives?




Comment 3


Marek Szuba (RETIRED)







          2021-09-15 15:29:42 UTC
        

I couldn't reproduce this either, and in any case the version in question is over a year old and will hopefully be removed from the tree soon.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

