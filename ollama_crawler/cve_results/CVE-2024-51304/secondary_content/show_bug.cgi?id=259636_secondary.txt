Title: 259636 – loading of net-wireless/iwl4965-ucode fails with kernel 2.6.27-gentoo-r8
URL: https://bugs.gentoo.org/show_bug.cgi?id=259636

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 259636
loading of net-wireless/iwl4965-ucode fails with kernel 2.6.27-gentoo-r8
Last modified: 2009-02-26 12:13:34 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 259636 
      - loading of net-wireless/iwl4965-ucode fails with kernel 2.6.27-gentoo-r8


Summary:
loading of net-wireless/iwl4965-ucode fails with kernel 2.6.27-gentoo-r8
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Peter Volkov (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-02-19 20:43 UTC by zifix





      Modified:
    
2009-02-26 12:13 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



kernel
mobile+disabled









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


zifix





          2009-02-19 20:43:31 UTC
        

Recently loading of the specified microcode file always fails in both available versions (228.57.2.21 and ~228.57.2.23). dmesg shows the following:
iwlagn 0000:03:00.0: PCI INT A -> GSI 17 (level, low) -> IRQ 17
firmware: requesting iwlwifi-4965-2.ucode
iwlagn: iwlwifi-4965-2.ucode firmware file req failed: Reason -2
iwlagn: Could not read microcode: -2
The required file was installed into /lib/firmware:
-rw-r--r-- 1 root root 187672 Feb 19 21:24 /lib/firmware/iwlwifi-4965-2.ucode
I should note that it already functioned before, but since I haven't been using wlan frequently until recently, I can't pinpoint the specific change that caused the driver to stop functioning. I'll try my best to supply any additional information needed.

Reproducible: Always

Steps to Reproduce:
1.modprobe iwlagn
2.tail -f /var/log/messages

Actual Results:  
Repeatedly seeing the lines quoted above.

Expected Results:  
The microcode being loaded properly and wireless lan functionality being established.




Comment 1


Peter Volkov (RETIRED)






          2009-02-22 19:44:48 UTC
        

Thank you for report zifix. Please address the following:
1. Post your emerge --info. 
2. What udev version do you have installed?
3. Show us the output of /etc/init.d/procfs status and /etc/init.d/sysfs status.
4. Are you sure that /lib/firmware/iwlwifi-4965-2.ucode is from net-wireless/iwl4965-ucode package (please try rm /lib/firmware/iwlwifi-4965-2.ucode and emerge the package another time)?




Comment 2


zifix





          2009-02-24 17:52:40 UTC
        

I threw out some unmasked/keyworded packages in the process of debugging alsa and downgraded among others openrc and voila both are running again. How is the chance openrc is responsible?

(In reply to comment #1)
> Thank you for report zifix. Please address the following:
> 1. Post your emerge --info. 
> 2. What udev version do you have installed?
> 3. Show us the output of /etc/init.d/procfs status and /etc/init.d/sysfs
> status.
> 4. Are you sure that /lib/firmware/iwlwifi-4965-2.ucode is from
> net-wireless/iwl4965-ucode package (please try rm
> /lib/firmware/iwlwifi-4965-2.ucode and emerge the package another time)?
> 






Comment 3


Peter Volkov (RETIRED)






          2009-02-24 19:54:03 UTC
        

Probably this is udev fault, but who knows... It's hard to say now. Ok, closing until further information will be gathered. Any way, thank you for pointing our attention to this problem.




Comment 4


zifix





          2009-02-26 12:13:34 UTC
        

If you need anything from me, please let me know. I must say it way only a desperate attempt at getting the sound working and openrc really has some advantages over the current one.
(In reply to comment #3)
> Probably this is udev fault, but who knows... It's hard to say now. Ok, closing
> until further information will be gathered. Any way, thank you for pointing our
> attention to this problem.
> 











Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

