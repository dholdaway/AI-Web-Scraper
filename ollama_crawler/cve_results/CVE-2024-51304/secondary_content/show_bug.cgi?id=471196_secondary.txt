Title: 471196 – app-misc/emelfm2-0.8.2 with USE="udev -policykit" want to install sys-auth/polkit
URL: https://bugs.gentoo.org/show_bug.cgi?id=471196

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 471196
app-misc/emelfm2-0.8.2 with USE="udev -policykit" want to install sys-auth/polkit
Last modified: 2013-05-27 17:05:16 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 471196 
      - app-misc/emelfm2-0.8.2 with USE="udev -policykit" want to install sys-auth/polkit


Summary:
app-misc/emelfm2-0.8.2 with USE="udev -policykit" want to install sys-auth/po...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2013-05-24 19:53 UTC by Dominique Michel





      Modified:
    
2013-05-27 17:05 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Dominique Michel





          2013-05-24 19:53:55 UTC
        

tuxstudio ~ # emerge -a emelfm2

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild  N     ] sys-apps/sdparm-1.07  0 kB
[ebuild  N     ] sys-apps/sg3_utils-1.35  USE="-static-libs" 985 kB
[ebuild  N     ] sys-apps/rescan-scsi-bus-1.56  0 kB
[ebuild  N     ] dev-libs/libatasmart-0.19  USE="-static-libs" 0 kB
[ebuild  N    #] sys-auth/polkit-0.110  USE="gtk introspection nls pam -examples -kde (-selinux) -systemd" 1,358 kB
[ebuild  N     ] gnome-extra/polkit-gnome-0.105  0 kB
[ebuild  N     ] sys-auth/consolekit-0.4.5_p20120320-r2  USE="acl pam policykit -debug -doc (-selinux) {-test}" 0 kB
[ebuild   R    ] sys-auth/pambase-20120417-r1  USE="consolekit* cracklib sha512 -debug -gnome-keyring -minimal -mktemp -pam_krb5 -pam_ssh -passwdqc (-selinux) -systemd" 0 kB
[ebuild  N     ] sys-fs/udisks-1.0.4-r5  USE="nls -debug -remote-access (-selinux)" 0 kB
[ebuild  N     ] app-misc/emelfm2-0.8.2  USE="acl fam nls spell udev -ansi -gimp -policykit" LINGUAS="fr -de -ja -pl -ru -zh_CN" 1,092 kB

Total: 10 packages (9 new, 1 reinstall), Size of downloads: 3,434 kB

The following mask changes are necessary to proceed:
 (see "package.unmask" in the portage(5) man page for more details)
# required by sys-auth/consolekit-0.4.5_p20120320-r2[policykit]
# required by sys-auth/pambase-20120417-r1[consolekit]
# required by app-admin/sudo-1.8.6_p8[pam]
# required by @selected
# required by @world (argument)
# /etc/portage/package.mask:
#=dev-scheme/guile-gnome-platform-2.16.1-r1
#>=media-sound/ardour-3.0
#=media-sound/snd-ls-0.9.9.2_beta
#=net-print/cups-1.6.1
=sys-auth/polkit-0.110

The following USE changes are necessary to proceed:
 (see "package.use" in the portage(5) man page for more details)
# required by sys-auth/polkit-0.110[-systemd,pam]
# required by sys-auth/consolekit-0.4.5_p20120320-r2[policykit]
>=sys-auth/pambase-20120417-r1 consolekit
# required by sys-auth/polkit-0.110[-systemd]
# required by sys-fs/udisks-1.0.4-r5
# required by app-misc/emelfm2-0.8.2[udev]
# required by emelfm2 (argument)
>=sys-auth/consolekit-0.4.5_p20120320-r2 policykit

NOTE: The --autounmask-keep-masks option will prevent emerge
      from creating package.unmask or ** keyword changes.

Use --autounmask-write to write changes to config files (honoring
CONFIG_PROTECT). Carefully examine the list of proposed changes,
paying special attention to mask or keyword changes that may expose
experimental or unstable packages.
tuxstudio ~ # USE="-udev" emerge -a emelfm2

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild  N     ] app-misc/emelfm2-0.8.2  USE="acl fam nls spell -ansi -gimp -policykit -udev" LINGUAS="fr -de -ja -pl -ru -zh_CN" 1,092 kB

Total: 1 package (1 new), Size of downloads: 1,092 kB

Would you like to merge these packages? [Yes/No]




Comment 1


Samuli Suominen (RETIRED)






          2013-05-25 04:34:29 UTC
        

(In reply to comment #0)
> tuxstudio ~ # emerge -a emelfm2
> 
> These are the packages that would be merged, in order:
> 
> Calculating dependencies... done!
> [ebuild  N    #] sys-auth/polkit-0.110  USE="gtk introspection nls pam
> -examples -kde (-selinux) -systemd" 1,358 kB

USE=gtk will pull in polkit-gnome

> [ebuild  N     ] gnome-extra/polkit-gnome-0.105  0 kB
> [ebuild  N     ] sys-auth/consolekit-0.4.5_p20120320-r2  USE="acl pam
> policykit -debug -doc (-selinux) {-test}" 0 kB

USE=policykit will pull in polkit

> [ebuild   R    ] sys-auth/pambase-20120417-r1  USE="consolekit* cracklib
> sha512 -debug -gnome-keyring -minimal -mktemp -pam_krb5 -pam_ssh -passwdqc
> (-selinux) -systemd" 0 kB

USE=consolekit will pull in consolekit, which will in turn pull in polkit

> [ebuild  N     ] sys-fs/udisks-1.0.4-r5  USE="nls -debug -remote-access
> (-selinux)" 0 kB
> [ebuild  N     ] app-misc/emelfm2-0.8.2  USE="acl fam nls spell udev -ansi
> -gimp -policykit" LINGUAS="fr -de -ja -pl -ru -zh_CN" 1,092 kB

normal, USE=udev pulls in required udev helpers it needs, in this case, udisks

seems like you need all of USE="-consolekit -polkit -udev" for some of these packages to accomplish polkitless system

emerge -t (--tree) would have revealed what pulls in what, and allowed you to do necessarry adjustments to your USE flags beforehand, on that basis, closing as worksforme




Comment 2


Dominique Michel





          2013-05-27 17:05:16 UTC
        

(In reply to Samuli Suominen from comment #1)
> (In reply to comment #0)
>
> 
> normal, USE=udev pulls in required udev helpers it needs, in this case,
> udisks
> 
> seems like you need all of USE="-consolekit -polkit -udev" for some of these
> packages to accomplish polkitless system

I have been using "-consolekit -polkit -udisks -udisks2 +udev" as system USE flags for a very long time now. emelfm2 is the only package that triggered this behaviour.

My point is, udisks can be an udev helper, but it is not needed to get udev to work fine. It is a polkit udev helper that depend on both polkit and consolekit. So I can expect, when I want to merge a package that use both the polkit and the udev flag with "udev -polkit", that portage will work. Maybe that all that is needed to do, is to replace the udev flag by udisks.

# emerge -a udisks

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild  N     ] dev-libs/libatasmart-0.19  USE="-static-libs" 0 kB
[ebuild  N     ] sys-apps/gptfdisk-0.8.6  USE="icu" 181 kB
[ebuild  N     ] sys-fs/cryptsetup-1.6.0  USE="nls udev -python -reencrypt (-selinux) -static -static-libs -urandom" 1,153 kB
[ebuild  N    #] sys-auth/polkit-0.110  USE="gtk introspection nls pam -examples -kde (-selinux) -systemd" 1,358 kB
[ebuild  N     ] gnome-extra/polkit-gnome-0.105  0 kB
[ebuild  N     ] sys-auth/consolekit-0.4.5_p20120320-r2  USE="acl pam policykit -debug -doc (-selinux) {-test}" 0 kB
[ebuild   R    ] sys-auth/pambase-20120417-r1  USE="consolekit* cracklib sha512 -debug -gnome-keyring -minimal -mktemp -pam_krb5 -pam_ssh -passwdqc (-selinux) -systemd" 0 kB
[ebuild  N     ] sys-fs/udisks-2.1.0:2::sabayon  USE="crypt gptfdisk introspection -debug (-selinux) -systemd" 805 kB


> 
> emerge -t (--tree) would have revealed what pulls in what, and allowed you
> to do necessarry adjustments to your USE flags beforehand, on that basis,
> closing as worksforme









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

