Title: 232949 – kernel 2.6.26-gentoo iwl4965 not working in normal boot sequence
URL: https://bugs.gentoo.org/show_bug.cgi?id=232949

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 232949
kernel 2.6.26-gentoo iwl4965 not working in normal boot sequence
Last modified: 2010-05-26 18:34:52 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 232949 
      - kernel 2.6.26-gentoo iwl4965 not working in normal boot sequence


Summary:
kernel 2.6.26-gentoo iwl4965 not working in normal boot sequence
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Core system

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Mobile Herd (OBSOLETE)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-07-25 17:47 UTC by Michał Kudła





      Modified:
    
2010-05-26 18:34 UTC
      (History)
    




          CC List:
        

4 
          users
          
            (show)
          



j0inty
jimmy.rosen
pacho
schulz.benjamin









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




linux-2.6.26-rc7-sw-rfkill.patch

              (linux-2.6.26-rc7-sw-rfkill.patch,1.49 KB,
                text/plain)

            
2008-07-25 17:48 UTC,

            Michał Kudła




Details





/etc/init.d/mywlan0post

              (mywlan0post,136 bytes,
                text/plain)

            
2008-07-25 17:50 UTC,

            Michał Kudła




Details





wpa_supplicant debug log

              (Textdatei,28.90 KB,
                text/plain)

            
2008-07-27 12:06 UTC,

            Steffen 'j0inty' Stollfuß




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Michał Kudła





          2008-07-25 17:47:44 UTC
        

The same symptoms like 
kernel 2.6.25, iwl4965, 1.2.23kds: SIOCSIFFLAGS not found
http://bugs.gentoo.org/show_bug.cgi?id=218565

but I have a new resolve.

I patched kernel 
http://lkml.org/lkml/2008/6/23/486
And add some script to end of boot sequence.



Reproducible: Always

Steps to Reproduce:
1.boot 2.6.26-gentoo kernel
2.
3.

Actual Results:  
# dmesg
...
iwl4965: WARNING: Requesting MAC access during RFKILL wakes up NIC
ACPI: PCI interrupt for device 0000:04:00.0 disabled


Expected Results:  
# dmesg
...
ADDRCONF(NETDEV_CHANGE): wlan0: link becomes ready




Comment 1


Michał Kudła





          2008-07-25 17:48:51 UTC
        

Created attachment 161353 [details]
linux-2.6.26-rc7-sw-rfkill.patch

linux-2.6.26-rc7-sw-rfkill.patch from 
http://lkml.org/lkml/2008/6/23/486




Comment 2


Michał Kudła





          2008-07-25 17:50:17 UTC
        

Created attachment 161355 [details]
/etc/init.d/mywlan0post

/etc/init.d/mywlan0post - do working iwlwifi-4965




Comment 3


Benjamin Schulz





          2008-07-27 05:52:00 UTC
        

The commands
modprobe -r iwl4965 && modprobe iwl4965 && ifconfig wlan0 up && iwlist scan 

work for me without any script.A list of accespoints is shown.

But then, if I type any command with 
iwconfig wlan0 []

it sais again SIOCSIFFLAGS not found.

I do not know why. It seems it searches automatically for accespoints to connect and if it doesn't find appropriate ones, it goes in an off state where one is only able to wake it up if the module is unloaded.

I have a Thinkpad T61....




Comment 4


Steffen 'j0inty' Stollfuß





          2008-07-27 12:04:24 UTC
        

Hi,

I have the same problem here.

Although I applied the patch successfully and compile the kernel new. I'm not able to activate my wlan with wpa_supplicant.

The funny thing is that I find all other AccessPoint but only not my own :(. My flatmade can connect without any problems to him.


[dmesg]
[   65.987146] ACPI: PCI Interrupt 0000:03:00.0[A] -> GSI 17 (level, low) -> IRQ 17
[   65.987237] PM: Writing back config space on device 0000:03:00.0 at offset 1 (was 100102, writing 100106)
[   65.988462] firmware: requesting iwlwifi-4965-1.ucode
[   66.282165] Registered led device: iwl-phy0:radio
[   66.282165] Registered led device: iwl-phy0:assoc
[   66.282165] Registered led device: iwl-phy0:RX
[   66.282165] Registered led device: iwl-phy0:TX
[   66.352831] ADDRCONF(NETDEV_UP): wlan0: link is not ready

[net.wlan0 start]
 * Starting wlan0
 *   Starting wpa_supplicant on wlan0 ...
ioctl[SIOCSIWAUTH]: Operation not supported                                                                                                  [ ok ]th param 4 value 0x0 -
 *   Starting wpa_cli on wlan0 ...                                                                                                    [ ok ]
 *     Backgrounding ...

[emerge --info]
j0inty@arko ~ $ emerge --info
Portage 2.1.4.4 (default/linux/amd64/2008.0/desktop, gcc-4.3.1, glibc-2.7-r2, 2.6.26-tuxonice x86_64)
=================================================================
System uname: 2.6.26-tuxonice x86_64 Intel(R) Core(TM)2 Duo CPU T7700 @ 2.40GHz
Timestamp of tree: Sat, 26 Jul 2008 11:45:01 +0000
app-shells/bash:     3.2_p33
dev-java/java-config: 1.3.7, 2.1.6
dev-lang/python:     2.5.2-r5
sys-apps/baselayout: 1.12.11.1
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.61-r2
sys-devel/automake:  1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.1
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.23-r3
ABI="amd64"
ACCEPT_KEYWORDS="amd64"
ALSA_CARDS="hda-intel intel8x0m"
ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol"
ANT_HOME="/usr/share/ant-core"
APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias"
APACHE2_MPMS="prefork"
ARCH="amd64"
ASFLAGS_x86="--32"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CDEFINE_amd64="__x86_64__"
CDEFINE_x86="__i386__"
CFLAGS="-mtune=core2 -march=core2 -mssse3 -O2 -pipe"
CFLAGS_x86="-m32"
CHOST="x86_64-pc-linux-gnu"
CHOST_amd64="x86_64-pc-linux-gnu"
CHOST_x86="i686-pc-linux-gnu"
CLASSPATH="."
CLEAN_DELAY="5"
COLORTERM=""
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/terminfo /etc/udev/rules.d"
CVS_RSH="ssh"
CXXFLAGS="-mtune=core2 -march=core2 -mssse3 -O2 -pipe"
DBUS_SESSION_BUS_ADDRESS="unix:abstract=/tmp/dbus-ZuiXhbEEK7,guid=dde17dfcb07384a7c7cb51a9488c5b31"
DEFAULT_ABI="amd64"
DESKTOP_SESSION="default"
DISPLAY=":0.0"
DISTDIR="/usr/portage/distfiles"
DM_CONTROL="/var/run/xdmctl"
EDITOR="/bin/nano"
ELIBC="glibc"
EMERGE_DEFAULT_OPTS="--ask --verbose --nospinner"
EMERGE_WARNING_DELAY="10"
FEATURES="distlocks metadata-transfer sandbox sfperms strict unmerge-orphans userfetch"
FETCHCOMMAND="/usr/bin/wget -t 5 -T 60 --passive-ftp -O ${DISTDIR}/${FILE} ${URI}"
GAMES_DATADIR="/mnt/games"
GAMES_DATADIR_BASE="/mnt"
GAMES_PREFIX_OPTS="/mnt/games"
GCC_SPECS=""
GDK_USE_XFT="1"
GDM_LANG="de_DE.UTF-8"
GENTOO_MIRRORS="ftp://pandemonium.tiscali.de/pub/gentoo/ ftp://ftp.tu-clausthal.de/pub/gentoo/"
GS_LIB="/home/j0inty/.fonts"
GTK2_RC_FILES="/etc/gtk-2.0/gtkrc:/home/j0inty/.gtkrc-2.0:/home/j0inty/.kde3.5/share/config/gtkrc-2.0"
GTK_RC_FILES="/etc/gtk/gtkrc:/home/j0inty/.gtkrc:/home/j0inty/.kde3.5/share/config/gtkrc"
HG="/usr/bin/hg"
HOME="/home/j0inty"
INFOPATH="/usr/share/info:/usr/share/binutils-data/x86_64-pc-linux-gnu/2.18/info:/usr/share/gcc-data/x86_64-pc-linux-gnu/4.3.1/info"
INPUT_DEVICES="mouse keyboard evdev synaptics wacom"
JAVAC="/home/j0inty/.gentoo/java-config-2/current-user-vm/bin/javac"
JAVA_HOME="/home/j0inty/.gentoo/java-config-2/current-user-vm"
JDK_HOME="/home/j0inty/.gentoo/java-config-2/current-user-vm"
KDEDIR="/usr/kde/3.5"
KDEDIRS="/usr:/usr/local:/usr/kde/3.5"
KDE_FULL_SESSION="true"
KDE_MULTIHEAD="false"
KDE_SESSION_UID="1000"
KDM_LANG="de_DE.UTF-8"
KERNEL="linux"
KONSOLE_DCOP="DCOPRef(konsole-10827,konsole)"
KONSOLE_DCOP_SESSION="DCOPRef(konsole-10827,session-1)"
LANG="de_DE.UTF-8"
LANGUAGE="de_DE:de:en_GB:en"
LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text"
LC_ADDRESS="de_DE.UTF-8"
LC_ALL="de_DE.UTF-8"
LC_COLLATE="de_DE.UTF-8"
LC_CTYPE="de_DE.UTF-8"
LC_IDENTIFICATION="de_DE.UTF-8"
LC_MEASUREMENT="de_DE.UTF-8"
LC_MESSAGES="en_US.UTF-8"
LC_MONETARY="de_DE.UTF-8"
LC_NAME="de_DE.UTF-8"
LC_NUMERIC="de_DE.UTF-8"
LC_PAPER="de_DE.UTF-8"
LC_TELEPHONE="de_DE.UTF-8"
LC_TIME="de_DE.UTF-8"
LDFLAGS="-Wl,-O1"
LDFLAGS_x86="-m elf_i386"
LDPATH="/usr/kde/3.5/lib:/usr/kde/3.5/lib64:/usr/kde/3.5/lib32:"
LESS="-R -M --shift 5"
LESSOPEN="|lesspipe.sh %s"
LIBDIR_amd64="lib64"
LIBDIR_ppc="lib32"
LIBDIR_ppc64="lib64"
LIBDIR_x86="lib32"
LINGUAS="de en_GB"
LOGNAME="j0inty"
LS_COLORS="no=00:fi=00:di=01;34:ln=01;36:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=01;05;37;41:mi=01;05;37;41:su=37;41:sg=30;43:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.svgz=01;31:*.arj=01;31:*.taz=01;31:*.lzh=01;31:*.lzma=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.dz=01;31:*.gz=01;31:*.bz2=01;31:*.bz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.rar=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.jpg=01;35:*.jpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.pdf=00;32:*.ps=00;32:*.txt=00;32:*.patch=00;32:*.diff=00;32:*.log=00;32:*.tex=00;32:*.doc=00;32:*.aac=00;36:*.au=00;36:*.flac=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:"
MAKEOPTS="-j4"
MANPATH="/home/j0inty/.gentoo/java-config-2/current-user-vm/man:/usr/local/share/man:/usr/share/man:/usr/share/binutils-data/x86_64-pc-linux-gnu/2.18/man:/usr/share/gcc-data/x86_64-pc-linux-gnu/4.3.1/man:/etc/java-config/system-vm/man/:/usr/lib64/php5/man/:/usr/kde/3.5/share/man:/usr/qt/3/doc/man:/opt/opera/share/man:/opt/vmware/workstation/man"
MULTILIB_ABIS="amd64 x86"
MULTILIB_STRICT_DENY="64-bit.*shared object"
MULTILIB_STRICT_DIRS="/lib32 /lib /usr/lib32 /usr/lib /usr/kde/*/lib32 /usr/kde/*/lib /usr/qt/*/lib32 /usr/qt/*/lib /usr/X11R6/lib32 /usr/X11R6/lib"
MULTILIB_STRICT_EXEMPT="(perl5|gcc|gcc-lib|binutils|eclipse-3|debug|portage)"
OPENGL_PROFILE="nvidia"
PAGER="/usr/bin/less"
PATH="/usr/kde/3.5/bin:/usr/local/bin:/usr/bin:/bin:/opt/bin:/usr/x86_64-pc-linux-gnu/gcc-bin/4.3.1:/usr/qt/3/bin:/usr/games/bin:/opt/vmware/workstation/bin"
PKGDIR="/usr/portage/packages"
PKG_CONFIG_PATH="/usr/qt/3/lib64/pkgconfig"
PORTAGE_ARCHLIST="ppc s390 amd64 x86 ppc64 x86-fbsd m68k arm sparc sh mips ia64 alpha hppa sparc-fbsd"
PORTAGE_BINHOST_CHUNKSIZE="3000"
PORTAGE_BIN_PATH="/usr/lib64/portage/bin"
PORTAGE_CONFIGROOT="/"
PORTAGE_DEBUG="0"
PORTAGE_DEPCACHEDIR="/var/cache/edb/dep"
PORTAGE_ELOG_CLASES="warn error info log qa"
PORTAGE_ELOG_CLASSES="log warn error"
PORTAGE_ELOG_MAILFROM="portage@localhost"
PORTAGE_ELOG_MAILSUBJECT="[portage] ebuild log for ${PACKAGE} on ${HOST}"
PORTAGE_ELOG_MAILURI="root"
PORTAGE_ELOG_SYSTEM="save"
PORTAGE_GID="250"
PORTAGE_INST_GID="0"
PORTAGE_INST_UID="0"
PORTAGE_IUSE="^(3dfx|adabas|alpha|alsa_cards_aoa|alsa_cards_aoa-fabric-layout|alsa_cards_aoa-onyx|alsa_cards_aoa-soundbus|alsa_cards_aoa-soundbus-i2s|alsa_cards_aoa-tas|alsa_cards_aoa-toonie|alsa_cards_armaaci|alsa_cards_at91-soc|alsa_cards_at91-soc-eti-b1-wm8731|alsa_cards_au1x00|alsa_cards_cs5535audio|alsa_cards_harmony|alsa_cards_powermac|alsa_cards_pxa2xx-i2sound|alsa_cards_pxa2xx-soc|alsa_cards_pxa2xx-soc-corgi|alsa_cards_pxa2xx-soc-poodle|alsa_cards_pxa2xx-soc-spitz|alsa_cards_pxa2xx-soc-tosa|alsa_cards_sa11xx-uda1341ts|alsa_cards_sun-amd7930|alsa_cards_sun-cs4231|alsa_cards_sun-dbri|altivec|amd64|aqua|arm|asm|birdstep|bmp|bmpx|bootstrap|build|capslib|clvm|cman|cmucl|coreaudio|crosscompile_opts_.*|dbmaker|doomsday|drac|elibc_.*|elibc_Darwin|elibc_DragonFly|elibc_FreeBSD|elibc_NetBSD|elibc_OpenBSD|elibc_glibc|elibc_uclibc|emf|empress|empress-bcs|esoob|fdftk|filepro|firebird|frontbase|gamess|gcc64|gulm|hppa|ia64|ibm|infopipe|informix|ingres|kernel_.*|kernel_Darwin|kernel_FreeBSD|kernel_linux|lcd_devices_svga|m68k|macbook|mips|multilib|mzscheme|n32|n64|osp|pam_console|pbbuttonsd|pfpro|plugin|ppc|ppc64|ppcsha1|psyco|pvm|real|s390|selinux|sh|solid|sparc|sparc-fbsd|svga|sybase|sybase-ct|tcc|uclibc|ultra1|userland_.*|userland_BSD|userland_Darwin|userland_GNU|video_cards_geode|video_cards_i740|video_cards_impact|video_cards_imstt|video_cards_newport|video_cards_nsc|video_cards_sunbw2|video_cards_suncg14|video_cards_suncg3|video_cards_suncg6|video_cards_sunffb|video_cards_sunleo|video_cards_suntcx|video_cards_vermilion|video_cards_xgi|vidix|vis|win32codecs|x86|x86-fbsd|xmms|yellownet)$"
PORTAGE_PYM_PATH="/usr/lib64/portage/pym"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_RSYNC_RETRIES="3"
PORTAGE_TMPDIR="/var/tmp"
PORTAGE_USE="amd64 elibc_glibc kernel_linux multilib userland_GNU"
PORTAGE_WORKDIR_MODE="0700"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portage/local/layman/pro-audio /usr/portage/local/layman/sunrise /usr/local/portage/gfxboot_overlay /usr/local/portage"
PORT_LOGDIR="/home/elog"
PRELINK_PATH_MASK="/usr/lib/gstreamer-0.10"
PWD="/home/j0inty"
PYTHONPATH="/usr/lib64/portage/pym"
QMAKESPEC="linux-g++"
QTDIR="/usr/qt/3"
RESUMECOMMAND="/usr/bin/wget -c -t 5 -T 60 --passive-ftp -O ${DISTDIR}/${FILE} ${URI}"
ROOT="/"
ROOTPATH="/usr/kde/3.5/sbin:/usr/kde/3.5/bin:/usr/local/bin:/usr/bin:/bin:/opt/bin:/usr/x86_64-pc-linux-gnu/gcc-bin/4.3.1:/usr/qt/3/bin:/usr/games/bin:/opt/vmware/workstation/bin"
RPMDIR="/usr/portage/rpm"
SESSION_MANAGER="local/arko:/tmp/.ICE-unix/10552"
SHELL="/bin/bash"
SHLVL="2"
STAGE1_USE="multilib nptl nptlonly unicode"
SUPPORT_ALSA="1"
SYMLINK_LIB="yes"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
TERM="xterm"
USE="X X509 a52 aac aalib acl acpi activefilter adns adplug alsa amd64 amr amrnb amrwb apache2 arts atm audiofile avahi bash-completion berkdb bidi bluetooth branding bzip2 cairo cdda cddb cdr chardet cli cpudetection cracklib crypt css cups cvs dbus dc1394 device-mapper dhcp divx dri dts dv dvb dvd dvdr dvdread eap-tls eds emboss encode esd evo ext2 ext3 fam fat ffmpeg firefox firewire flac foomaticdb fortran gcrypt gdbm ggi gif gimpprint glitz gnutls gphoto2 gpm gstreamer gtk gtk2 hal iconv ieee1394 imagemagick ipv6 isdnlog jack java javascript jfs jpeg jpeg2k kde kerberos lame ldap libcaca libnotify libsamplerate lm_sensors log4j loop-aes lua mad matroska midi mikmod mjpeg mmx mng modplug mozdevelop mp2 mp3 mp4 mpeg mppe-mppc mtp mudflap multilib musepack mysql nat ncurses netmeeting network nfs nls nntp nptl nptlonly nsplugin ntfs nvidia ofa ogg openal opengl openmp oss pam pcre pdf perforce perl php png portaudio ppds pppd pulseaudio python qt qt3 qt3support qt4 quicktime quotas radius readline realmedia reflection reiserfs restrict-javascript rss rtsp ruby samba sasl sdl sdl-image session sid smi sndfile speex spell spl sql sqlite sse sse2 sse3 ssl ssse3 startup-notification stream subversion svcd svg swat syslog tcl tcpd theora threads tiff timidity tk tls truetype tta unicode usb v4l v4l2 vcd vim-syntax vorbis wavpack wifi wma wmf wmp x264 xcb xcomposite xforms xfs xine xinerama xml xml2 xorg xosd xprint xscreensaver xulrunner xv xvid xvmc zlib" ALSA_CARDS="hda-intel intel8x0m" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" APACHE2_MPMS="prefork" ELIBC="glibc" INPUT_DEVICES="mouse keyboard evdev synaptics wacom" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="de en_GB" USERLAND="GNU" VIDEO_CARDS="nvidia vesa v4l"
USER="j0inty"
USERLAND="GNU"
USE_EXPAND="ALSA_CARDS ALSA_PCM_PLUGINS APACHE2_MODULES APACHE2_MPMS CAMERAS CROSSCOMPILE_OPTS DVB_CARDS ELIBC FCDSL_CARDS FOO2ZJS_DEVICES FRITZCAPI_CARDS INPUT_DEVICES KERNEL LCD_DEVICES LINGUAS LIRC_DEVICES MISDN_CARDS USERLAND VIDEO_CARDS"
USE_EXPAND_HIDDEN="CROSSCOMPILE_OPTS ELIBC KERNEL USERLAND"
USE_ORDER="env:pkg:conf:defaults:pkginternal:env.d"
VIDEO_CARDS="nvidia vesa v4l"
WINDOWID="71303173"
XCURSOR_THEME="default"
XDG_CONFIG_DIRS="/usr/kde/3.5/etc/xdg"
XDG_DATA_DIRS="/usr/share:/usr/kde/3.5/share:/usr/local/share"
XDM_MANAGED="/var/run/xdmctl/xdmctl-:0,maysd,mayfn,sched,rsvd,method=classic"
_="/usr/bin/emerge"





Comment 5


Steffen 'j0inty' Stollfuß





          2008-07-27 12:06:46 UTC
        

Created attachment 161460 [details]
wpa_supplicant debug log




Comment 6


Andrew Jeffery





          2008-07-31 09:10:16 UTC
        

I've got the same issue as Jointy (comment #4)

emerge --info below, if anything else is needed scream out :)

ajeffery@amaya ~ $ emerge --info
Portage 2.2_rc3 (default/linux/amd64/2008.0, gcc-4.3.1, glibc-2.8_p20080602-r0, 2.6.26-gentoo x86_64)
=================================================================
System uname: Linux-2.6.26-gentoo-x86_64-Intel-R-_Core-TM-2_Duo_CPU_T8300_@_2.40GHz-with-glibc2.2.5
Timestamp of tree: Tue, 29 Jul 2008 15:04:01 +0000
ccache version 2.4 [enabled]
app-shells/bash:     3.2_p39
dev-java/java-config: 1.3.7, 2.1.6-r1
dev-lang/python:     2.5.2-r5
dev-util/ccache:     2.4-r7
sys-apps/baselayout: 2.0.0
sys-apps/openrc:     0.2.5
sys-apps/sandbox:    1.2.18.1-r3
sys-devel/autoconf:  2.13, 2.62-r1
sys-devel/automake:  1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.1-r1
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   2.2.4
virtual/os-headers:  2.6.25-r4
ACCEPT_KEYWORDS="amd64 ~amd64"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -pipe -march=nocona"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /var/lib/hsqldb"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/terminfo /etc/udev/rules.d"
CXXFLAGS="-O2 -pipe -march=nocona"
DISTDIR="/usr/portage/distfiles"
FEATURES="ccache distlocks parallel-fetch preserve-libs sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://mirror.internode.on.net/pub/gentoo"
LANG="C"
LDFLAGS="-Wl,-O1"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage/layman/roslin /home/ajeffery/Gentoo/overlay"
SYNC="rsync://htpc.arienh.homeip.net/gentoo-portage"
USE="X a52 acl acpi alsa amd64 avi bash-completion berkdb bzip2 cairo cddb cdparanoia cdr cli cracklib crypt cups curl dbus divx4linux dri dts dv dvb dvd dvdnav dvdr dvdread encode fame ffmpeg fftw flac fortran gdbm gnome gnome-keyring gpm gstreamer gtk hal iconv ipod ipv6 isdnlog java jpeg lame midi mmx mp2 mp3 mpeg mplayer mudflap multilib ncurses networkmanager nls nptl nptlonly ogg opengl openmp pam pcre perl png pppd python quicktime readline reflection samba session spl sqlite sse sse2 ssl ssse3 subtitles svg tcpd threads unicode v4l2 vorbis x264 xinerama xorg xulrunner xv xvid xvmc zlib" ALSA_CARDS="hda-intel intel8x0m" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="evdev keyboard mouse synaptics" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" USERLAND="GNU" VIDEO_CARDS="v4l vesa vga nvidia"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LC_ALL, LINGUAS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS





Comment 7


Jimmy Rosen





          2008-08-14 15:02:19 UTC
        

Hi,
I just wanted to add to this, with a possible workaround. I've got similar problem (I think).
I'm running 2.6.25, on an intel 4965 card (fujitsu T4220 laptop).

If I try booting with the RF switch "on" then it will fail during boot and will be impossible to bring up later, with similar problems as seen here and in http://bugs.gentoo.org/show_bug.cgi?id=218565 .

I can get the wireless to work if I boot with the hardware RF switch in the "off" position. Then I can later on turn the switch to "on", and run /etc/init.d/net.wlan0 start to get the wireless running, without other manual fiddling.

This points to there being something not quite right with the boot sequence init script holabaloo.

PS. I don't have the net.wlan0 in any runlevel, it gets pulled in anyway. I don't know why.


Harebrafolk
Jimmy





Comment 8


Steffen 'j0inty' Stollfuß





          2008-08-14 15:25:20 UTC
        

(In reply to comment #7)
> PS. I don't have the net.wlan0 in any runlevel, it gets pulled in anyway. I
> don't know why.
> 
> 
> Harebrafolk
> Jimmy
> 

Hi,

In your /etc/conf.d/rc you will find the line RC_PLUG_SERVICES. Try to change it how I post below.

RC_PLUG_SERVICES="!net.wlan0"

j0inty




Comment 9


Pacho Ramos






          2009-02-06 12:00:57 UTC
        

What about kernel-2.6.28? Seems to work fine for me




Comment 10


Thilo Bangert (RETIRED) (RETIRED)






          2010-05-26 18:34:52 UTC
        

most likely this is not an issue anymore as recent kernels have much improved
intel wireless support.

please reopen if problem persists
thanks









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

