Title: 520182 – >=dev-libs/boost-1.55 with sys-devel/clang-3.4 - ./boost/atomic/detail/gcc-atomic.hpp:961:64: error: no matching constructor for initialization of 'storage_type' (aka 'boost::atomics::detail::storage128_type')
URL: https://bugs.gentoo.org/show_bug.cgi?id=520182

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 520182
>=dev-libs/boost-1.55 with sys-devel/clang-3.4 - ./boost/atomic/detail/gcc-atomic.hpp:961:64: error: no matching constructor for initialization of 'storage_type' (aka 'boost::atomics::detail::storage128_type')
Last modified: 2014-12-17 11:26:01 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 520182 
      - >=dev-libs/boost-1.55 with sys-devel/clang-3.4 - ./boost/atomic/detail/gcc-atomic.hpp:961:64: error: no matching constructor for initialization of 'storage_type' (aka 'boost::atomics::detail::storage128_type')


Summary:
>=dev-libs/boost-1.55 with sys-devel/clang-3.4 - ./boost/atomic/detail/gcc-at...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Library

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

C++ Team [disbanded]








URL:







Whiteboard:




Keywords:

PATCH, UPSTREAM







Depends on:







Blocks:




systemwide-clang



 

        Show dependency tree





 





      Reported:
    
2014-08-18 14:49 UTC by Fabio Scaccabarozzi





      Modified:
    
2014-12-17 11:26 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:


https://svn.boost.org/trac/boost/ticket/9610





Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Fabio Scaccabarozzi





          2014-08-18 14:49:32 UTC
        

Boost library >=1.55 fails to build with clang-3.4.2 with the following error: no matching constructor for initialization of 'storage_type' (aka
      'boost::atomics::detail::storage128_type'), as reported in the upstream bug in the URL field.

Reproducible: Always

Steps to Reproduce:
1. CC="clang" CXX="clang++" emerge -1 =dev-libs/boost:1.55.0 (both -r1 and -r2)
2.
3.
Actual Results:  
Compilation fails.

Expected Results:  
Compilation should succeed.

Applying the two patches from URL comment#8 makes the compilation succeed.
The issue has already been marked "resolved" upstream.
Backporting the patches to previous versions is unnecessary, as they all compile fine without them.
Compilation correctly succeeds with GCC 4.8.3 as well.
The error is due to clang not supporting 128 bit integers.
As stated in the upstream bug, the issue should NOT be visibile on x86, but only on amd64.




Comment 1


Sergey Popov (RETIRED)






          2014-12-17 11:26:01 UTC
        

Can not reproduce this with sys-devel/clang-3.4.2 and dev-libs/boost-1.55.0-r2 in clean chroot on stable amd64

As there was no attached build.log, i will close this as WORKSFORME









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

