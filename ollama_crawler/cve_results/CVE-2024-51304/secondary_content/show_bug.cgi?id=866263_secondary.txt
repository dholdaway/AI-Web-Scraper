Title: 866263 – sys-devel/gcc-12.1.1_p20220625 fails to build on alpha (usermode qemu), stage1 build, assembler segfault
URL: https://bugs.gentoo.org/show_bug.cgi?id=866263

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 866263
sys-devel/gcc-12.1.1_p20220625 fails to build on alpha (usermode qemu), stage1 build, assembler segfault
Last modified: 2022-10-01 22:44:31 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 866263 
      - sys-devel/gcc-12.1.1_p20220625 fails to build on alpha (usermode qemu), stage1 build, assembler segfault


Summary:
sys-devel/gcc-12.1.1_p20220625 fails to build on alpha (usermode qemu), stage...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Toolchain Maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2022-08-24 05:20 UTC by Andreas K. Hüttel





      Modified:
    
2022-10-01 22:44 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



alpha
matoro_gentoo









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Andreas K. Hüttel







          2022-08-24 05:20:21 UTC
        

https://archives.gentoo.org/gentoo-releng-autobuilds/message/49e7c8da9be86b7a0615437778624bdb

make[3]: Entering directory '/var/tmp/portage/sys-devel/gcc-12.1.1_p20220625/work/build/gcc'
alpha-unknown-linux-gnu-g++ -std=c++11 -fno-PIE -c -fno-PIE -DIN_GCC -fno-exceptions -fno-rtti -fasynchronous-unwind-tables -W -Wall -Wno-narrowing -Wwrite-strings -Wcast-qual -Wno-format -Wmissing-format-attribute -Woverloaded-virtual -pedantic -Wno-long-long -Wno-variadic-macros -Wno-overlength-strings -DHAVE_CONFIG_H -I. -I. -I/var/tmp/portage/sys-devel/gcc-12.1.1_p20220625/work/gcc-12-20220625/gcc -I/var/tmp/portage/sys-devel/gcc-12.1.1_p20220625/work/gcc-12-20220625/gcc/. -I/var/tmp/portage/sys-devel/gcc-12.1.1_p20220625/work/gcc-12-20220625/gcc/../include -I/var/tmp/portage/sys-devel/gcc-12.1.1_p20220625/work/gcc-12-20220625/gcc/../libcpp/include -I/var/tmp/portage/sys-devel/gcc-12.1.1_p20220625/work/gcc-12-20220625/gcc/../libcody -I/var/tmp/portage/sys-devel/gcc-12.1.1_p20220625/work/gcc-12-20220625/gcc/../libdecnumber -I/var/tmp/portage/sys-devel/gcc-12.1.1_p20220625/work/gcc-12-20220625/gcc/../libdecnumber/dpd -I../libdecnumber -I/var/tmp/portage/sys-devel/gcc-12
.1.1_p20220625/work/gcc-12-20220625/gcc/../libbacktrace -o dwarf2out.o -MT dwarf2out.o -MMD -MP -MF ./.deps/dwarf2out.TPo /var/tmp/portage/sys-devel/gcc-12.1.1_p20220625/work/gcc-12-20220625/gcc/dwarf2out.cc
/var/tmp/portage/sys-devel/gcc-12.1.1_p20220625/temp/ccSmvMs6.s: Assembler messages:
/var/tmp/portage/sys-devel/gcc-12.1.1_p20220625/temp/ccSmvMs6.s: Internal error (Segmentation fault).
Please report this bug.
alpha-unknown-linux-gnu-g++: internal compiler error: Segmentation fault signal terminated program as
Please submit a full bug report,
with preprocessed source if appropriate.
See <https://bugs.gentoo.org/> for instructions.
make[3]: *** [Makefile:1144: dwarf2out.o] Error 4




Comment 1


Sam James









          2022-08-24 05:21:30 UTC
        

1. Full build.log and emerge --info :)
2. We want to get the exact command which causes the segfault, then we can use gcc -v and such to get the command used to invoke the assembler. We can then report a bug with the bad .s & command.




Comment 2


Andreas K. Hüttel







          2022-10-01 22:44:31 UTC
        

This disappeared on its own again...









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

