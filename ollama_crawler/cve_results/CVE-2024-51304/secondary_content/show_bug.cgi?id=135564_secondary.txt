Title: 135564 – qmailadmin add user results "Error: could not change to directory"
URL: https://bugs.gentoo.org/show_bug.cgi?id=135564

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 135564
qmailadmin add user results "Error: could not change to directory"
Last modified: 2006-06-08 14:43:28 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 135564 
      - qmailadmin add user results "Error: could not change to directory"


Summary:
qmailadmin add user results "Error: could not change to directory"
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Unspecified

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       major
      


Assignee:

Qmail Team (OBSOLETE)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-06-04 14:14 UTC by Karel Hala





      Modified:
    
2006-06-08 14:43 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Karel Hala





          2006-06-04 14:14:02 UTC
        

I set up a freshly new mailserver with:
- qmail 1.03-r16
- vpopmail 5.4.16
- clamav 0.88.2
- spamassassin 1.35-r1
- qmailadmin 1.2.1-r1 and it is applies for qmailadmin 1.2.9 from ~x86

The problem is that adding user via qmailadmin gives "Error: could not change to directory" and user is not added. Permissions are set from the current qmailadmin ebuild

ms1 # ls -l /var/www/localhost/cgi-bin/qmailadmin
-rws--s--x 1 vpopmail vpopmail 184376 Jun  1 23:45 /var/www/localhost/cgi-bin/qmailadmin

When I changed this file to root:root It started to work normaly. But I think having root:root permissions is not very good idea at cgi-bin file.

As I have build many mailservers on the gentoo platform and every of them are to recent days performing without this kind of problem with the same sw versions, imho it must be some issue with directory rights of some package. 

However all known directories and files from mentioned packages which I have compared to older installed servers have the same rights. It must be something another.

Please have a look. Thanks Stripe


ms1 # emerge info
Portage 2.0.54-r2 (default-linux/x86/vserver, gcc-3.4.6, glibc-2.3.6-r3, 2.6.15-vs2.0.1-gentoo-r5 i686)
=================================================================
System uname: 2.6.15-vs2.0.1-gentoo-r5 i686 Intel(R) Pentium(R) D CPU 3.00GHz
Gentoo Base System version 1.6.14
dev-lang/python:     2.4.2
dev-python/pycrypto: [Not Present]
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1-r2
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=i686 -O2 -pipe -fomit-frame-pointer -ftracer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /var/bind /var/qmail/alias /var/qmail/control /var/vpopmail/domains /var/vpopmail/etc"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-march=i686 -O2 -pipe -fomit-frame-pointer -ftracer"
DISTDIR="/usr/distfiles"
FEATURES="autoconfig buildpkg ccache distcc distlocks noauto notitles sandbox sfperms strict usersandbox"
GENTOO_MIRRORS="ftp://ftp.fi.muni.cz/pub/linux/gentoo ftp://ftp.sh.cvut.cz/MIRRORS/gentoo/gentoo http://gentoo.oregonstate.edu http://gentoo.inode.at http://www.ibiblio.org/pub/Linux/distributions/gentoo"
LINGUAS="cs en"
MAKEOPTS="-j1"
PKGDIR="/usr/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="x86 acl apache2 berkdb bitmap-fonts bzip2 bzlib cli crypt curl dri expat fortran gdbm gmp hardened idn imap isdnlog maildir mime mmx mysql ncurses nls pam pcre perl php pie png pppd pwdb python qmail readline reflection session spamassassin spl sse ssl tcpd truetype-fonts type1-fonts xorg zlib linguas_cs linguas_en userland_GNU kernel_linux elibc_glibc"
Unset:  CTARGET, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTAGE_RSYNC_OPTS




Comment 1


Karel Hala





          2006-06-04 14:51:56 UTC
        

Performed more debug on other servers. It is behaving also on older - updated machines.

Last functional configuration:
- vpopmail 5.4.13
- qmailadmin 1.2.1




Comment 2


Karel Hala





          2006-06-08 14:43:28 UTC
        

With permissions of 6755 on vpopmail:vpopmail owned qmailadmin it seems functional. Consider to revise the qmailadmin ebuild in next releases...









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

