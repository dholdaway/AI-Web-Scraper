Title: 134359 – dev-lang/perl-5.8.8-r1 emerge fails with undefined reference to setproctitle
URL: https://bugs.gentoo.org/show_bug.cgi?id=134359

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 134359
dev-lang/perl-5.8.8-r1 emerge fails with undefined reference to setproctitle
Last modified: 2008-02-27 18:00:29 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 134359 
      - dev-lang/perl-5.8.8-r1 emerge fails with undefined reference to setproctitle


Summary:
dev-lang/perl-5.8.8-r1 emerge fails with undefined reference to setproctitle
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Perl team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-05-25 13:54 UTC by Bobby Hesselbo





      Modified:
    
2008-02-27 18:00 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Bobby Hesselbo





          2006-05-25 13:54:38 UTC
        

emerge -av =perl-5.8.8-r1 fails with compile error below.

Configuration stage of build reports "setproctitle() found." 

The build succeeds if I add the option -Dusenm to the Configure command.

emerge -pv glibc:
[ebuild   R   ] sys-libs/glibc-2.3.6-r3  -build -erandom -glibc-compat20 -glibc-omitfp -hardened -linuxthreads-tls (-multilib) +nls +nptl -nptlonly -pic -profile (-selinux) -userlocales 0 kB


perl compile error:
          CCCMD =  i686-pc-linux-gnu-gcc -DPERL_CORE -c -fno-strict-aliasing -pipe -Wdeclaration-after-statement -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -O2 -march=pentium4 -pipe  -Wall
rm -f libperl.a
/usr/bin/ar rcu libperl.a perl.o  gv.o toke.o perly.o op.o pad.o regcomp.o dump.o util.o mg.o reentr.o hv.o av.o run.o pp_hot.o sv.o pp.o scope.o pp_ctl.o pp_sys.o doop.o doio.o regexec.o utf8.o taint.o deb.o universal.o xsutils.o globals.o perlio.o perlapi.o numeric.o locale.o pp_pack.o pp_sort.o
`sh  cflags "optimize='-O2 -march=pentium4 -pipe'" opmini.o` -fPIC -DPERL_EXTERNAL_GLOB opmini.c
          CCCMD =  i686-pc-linux-gnu-gcc -DPERL_CORE -c -fno-strict-aliasing -pipe -Wdeclaration-after-statement -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -O2 -march=pentium4 -pipe  -Wall
i686-pc-linux-gnu-gcc -L/usr/local/lib -o miniperl \
    miniperlmain.o opmini.o libperl.a -lpthread -lnsl -ldl -lm -lcrypt -lutil -lc
libperl.a(mg.o): In function `.L1157':
mg.c:(.text+0x4aa0): undefined reference to `setproctitle'
collect2: ld returned 1 exit status


Portage 2.0.54-r2 (default-linux/x86/2006.0, gcc-3.4.5, glibc-2.3.6-r3, 2.6.16-gentoo-r6 i686)
=================================================================
System uname: 2.6.16-gentoo-r6 i686 Intel(R) Xeon(TM) CPU 3.60GHz
Gentoo Base System version 1.6.14
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
ccache version 2.3 [disabled]
dev-lang/python:     2.4.2
dev-python/pycrypto: [Not Present]
dev-util/ccache:     2.3
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium4 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/eselect/compiler /etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=pentium4 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://gentoo.mirrored.ca/ http://adelie.polymtl.ca/ http://gentoo.arcticnetwork.ca/"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/overlays/razorbill"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X alsa apache2 arts audiofile avi bash-completion berkdb bitmap-fonts bzip2 cdb cdr cli crypt cups curl dri eds emboss encode esd exif expat fam foomaticdb fortran gd gdbm gif glut gnome gpm graphviz gstreamer gtk gtk2 gtkhtml hal howl idn imagemagick imlib ipv6 isdnlog java jpeg junit kde lcms libg++ libwww mad mhash mikmod mng motif mozilla mp3 mpeg mysql ncurses nls nptl nsplugin nvidia odbc ogg opengl oss pam pcre pdflib perl php png pppd python qt quicktime readline reflection samba sdl session spell spl ssl tcltk tcpd tiff truetype truetype-fonts type1-fonts udev usb vorbis wmf xinerama xml xml2 xmms xorg xv zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTAGE_RSYNC_EXTRA_OPTS, PORTAGE_RSYNC_OPTS




Comment 1


Michael Cummings (RETIRED)






          2006-05-25 20:26:08 UTC
        

this is kind of curious. i've seen this bug referenced for aix's, but never an intel. I'm wondering if this is somehow particular to the xeon chipset your using...?




Comment 2


Jakub Moc (RETIRED)






          2008-02-27 18:00:29 UTC
        

Closing a dead bug; if you still have issues with uptodate toolchain and perl, file a new one, thanks.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

