Title: 682002 – www-client/firefox-66.0.2 - config/autoconf.mk:286: *** missing separator.  Stop.
URL: https://bugs.gentoo.org/show_bug.cgi?id=682002

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 682002
www-client/firefox-66.0.2 - config/autoconf.mk:286: *** missing separator.  Stop.
Last modified: 2020-04-28 14:02:40 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 682002 
      - www-client/firefox-66.0.2 - config/autoconf.mk:286: *** missing separator.  Stop.


Summary:
www-client/firefox-66.0.2 - config/autoconf.mk:286: *** missing separator.  S...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Mozilla Gentoo Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2019-03-29 11:12 UTC by Horst Prote





      Modified:
    
2020-04-28 14:02 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



kripton









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge --info

              (emerge.info,6.58 KB,
                text/plain)

            
2019-03-29 11:12 UTC,

            Horst Prote




Details





build log

              (www-client:firefox-66.0.2:20190329-084514.log,682 bytes,
                text/x-log)

            
2019-03-29 11:39 UTC,

            Horst Prote




Details





build log

              (build.log,68.79 KB,
                text/x-log)

            
2019-03-29 11:44 UTC,

            Horst Prote




Details





Show
              Obsolete (1)
            View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Horst Prote





          2019-03-29 11:12:26 UTC
        

Created attachment 571172 [details]
emerge --info

www-client/firefox-66.0.2 ebuild failes with:
 0:02.08 config/autoconf.mk:286: *** missing separator.  Stop.
 0:02.08 gmake[1]: Leaving directory '/var/tmp/portage/www-client/firefox-66.0.2/work/firefox-66.0.2/ff'
 0:02.08 gmake: *** [client.mk:125: build] Error 2
 0:02.09 0 compiler warnings present.
 * ERROR: www-client/firefox-66.0.2::gentoo failed (compile phase):
 *   (no error message)

In /var/tmp/portage/www-client/firefox-66.0.2/work/firefox-66.0.2/ff/config/autoconf.mk I found on lines 284ff:
PATH =  * sys-devel/clang:8 is missing! Cannot use LLVM slot 8 ...
 * sys-devel/clang:7 is missing! Cannot use LLVM slot 7 ...
 * Will use LLVM slot 6!
/usr/lib/llvm/6/bin:/var/tmp/portage/www-client/firefox-66.0.2/temp/python3.6/bin:/usr/lib/portage/python2.7/ebuild-helpers/xattr:/usr/lib/portage/python2.7/ebuild-helpers:/usr/lib/llvm/6/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/bin:/usr/lib64/subversion/bin:/var/tmp/portage/www-client/firefox-66.0.2/homedir/.mozbuild/clang/bin:/var/tmp/portage/www-client/firefox-66.0.2/homedir/.mozbuild/cbindgen:/var/tmp/portage/www-client/firefox-66.0.2/homedir/.cargo/bin

These messages come from function llvm_check_deps() in the ebuild. As a workaround I just commentet the
#       ewarn "sys-devel/clang:${LLVM_SLOT} is missing! Cannot use LLVM slot ${LLVM_SLOT} ..."
line.

With the previous firefox version 65.0.2 this does not happen, but there is no "PATH = ..." setting in its autoconf.mk file.




Comment 1


Jeroen Roovers (RETIRED)






          2019-03-29 11:21:24 UTC
        

Please attach the entire build log to this bug report.




Comment 2


Horst Prote





          2019-03-29 11:39:49 UTC
        

Created attachment 571174 [details]
build log




Comment 3


Horst Prote





          2019-03-29 11:44:00 UTC
        

Created attachment 571176 [details]
build log

Sorry, wrong file in previous attempt.




Comment 4


Jory A. Pratt






          2019-03-31 18:16:04 UTC
        

There is obviously a dep wrong somewhere. This does not break for ~arch users, I will have to review the deps to see what you will need to update and adjust the ebuild accordingly.




Comment 5


Horst Prote





          2019-12-05 16:56:35 UTC
        

Seems, meanwhile I got the neccessary updates with the normal "emerge DuN world": Can't reproduce this with firefox-70.0.1 or newer.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

