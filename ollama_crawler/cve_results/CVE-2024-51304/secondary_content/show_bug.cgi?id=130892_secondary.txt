Title: 130892 – normal user can't run vmware-workstation 5.5.1.19175-r3
URL: https://bugs.gentoo.org/show_bug.cgi?id=130892

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 130892
normal user can't run vmware-workstation 5.5.1.19175-r3
Last modified: 2006-05-18 15:44:32 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 130892 
      - normal user can't run vmware-workstation 5.5.1.19175-r3


Summary:
normal user can't run vmware-workstation 5.5.1.19175-r3
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo VMWare Bug Squashers [disabled]








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-04-22 14:47 UTC by Carlos Eduardo Santos





      Modified:
    
2006-05-18 15:44 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



cems
tm-8rjpk









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




strace of vmware version 5.5.1.19175-r3, dies if executed by user

              (vmware-strace.txt.gz,124.41 KB,
                application/x-gzip)

            
2006-05-03 08:26 UTC,

            b52




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Carlos Eduardo Santos





          2006-04-22 14:47:01 UTC
        

$ vmware
*** attempt to put segment in horiz list twice
(null): file ../../pango-1.4.1/pango/shape.c: line 75 (pango_shape): assertion failed: (glyphs->num_glyphs > 0)

(process:19063): GLib-GObject-CRITICAL (recursed) **: file ../../glib-2.4.8/gobject/gobject.c: line 1561 (g_object_ref): assertion `G_IS_OBJECT (object)' failed
aborting...
$ groups
wheel floppy cron audio cdrom sshd video games cdrw apache users portage family tomcat stats speech camera vmware plugdev scanner p2p


# emerge --info
Portage 2.0.54 (default-linux/x86/2005.0, gcc-3.4.5, glibc-2.3.5-r3, 2.6.15-gentoo-r1 i686)
=================================================================
System uname: 2.6.15-gentoo-r1 i686 AMD Athlon(tm) XP 2600+
Gentoo Base System version 1.6.14
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
ccache version 2.3 [enabled]
dev-lang/python:     2.3.5-r2, 2.4.2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=athlon-xp -O3 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.3/env /usr/kde/3.3/share/config /usr/kde/3.3/shutdown /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/ /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/eselect/compiler /etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-march=athlon-xp -O3 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache distlocks fixpackages sandbox sfperms strict test"
GENTOO_MIRRORS="ftp://ftp.las.ic.unicamp.br/pub/gentoo/ http://www.las.ic.unicamp.br/pub/gentoo/"
LANG="en_US.utf8"
LC_ALL="en_US.utf8"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.samerica.gentoo.org/gentoo-portage"
USE="x86 3dnow 3dnowext 7zip X apache2 audiofile avi bash-completion berkdb bitmap-fonts bluetooth bonobo bzip2 bzlib cairo cddb cdr cli crypt cups curl divx4linux dri dts dvd dvdr emboss esd ethereal exif expat fam ffmpeg firefox flac foomaticdb fortran gd gdbm gif glut gmp gnome gphoto2 gpm gstreamer gtk gtk2 gtkhtml guile hal idn imagemagick imlib innodb isdnlog java javascript jpeg jpeg2k junit kdeenablefinal kdexdeltas lcms libg++ libwww logrotate mad mmx mmx2 mmxext mng motif mp3 mpeg msn mysql ncurses nls nptl nsplugin nvidia offensive ogg oggvorbis opengl oscar pam pcre pdflib perl php png pppd python quicktime readline recode reflection rtc ruby samba sasl scanner sdl session slang spl sqlite sse ssl tcpd tetex threads tiff truetype truetype-fonts type1-fonts udev unicode usb v4l v4l2 vhosts vorbis win32codecs xine xml xml2 xmms xorg xosd xprint xv xvid yv12 zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, INSTALL_MASK, LDFLAGS, LINGUAS, MAKEOPTS, PORTDIR_OVERLAY




Comment 1


Chris Gianelloni (RETIRED)






          2006-04-23 08:15:40 UTC
        

Try running it through strace and putting the log here as an attachment (not as a comment).  If it isn't something specific with Gentoo's installation, I'm going to have to refer you to VMware for support, since it is a commercial product.




Comment 2


Carlos Eduardo Santos





          2006-04-23 14:35:08 UTC
        

How do I do it?




Comment 3


b52





          2006-05-03 08:26:11 UTC
        

Created attachment 86073 [details]
strace of vmware version 5.5.1.19175-r3, dies if executed by user


The same issue here, when invoked by a user in users group, vmware dies with

(null): file ../../pango-1.4.1/pango/shape.c: line 75 (pango_shape): assertion failed: (glyphs->num_glyphs > 0)

(process:10741): GLib-GObject-CRITICAL (recursed) **: file ../../glib-2.4.8/gobject/gobject.c: line 1561 (g_object_ref): assertion `G_IS_OBJECT (object)' failed
aborting...

I attached a ziped strace dump, have a look.
Any ideas?




Comment 4


b52





          2006-05-03 08:58:47 UTC
        


I found something similar in the support forum of vmware

http://www.vmware.com/community/thread.jspa?messageID=334070&#334070

but the solution there doesn't work for me....




Comment 5


Carlos Eduardo Santos





          2006-05-18 15:23:37 UTC
        

It's probably a permission problem because I can run vmware as root. I'm trying to discover which files have the problem.




Comment 6


Carlos Eduardo Santos





          2006-05-18 15:44:32 UTC
        

I found the files! After chmod 640 and chgrp vmware them, vmware worked! I think it had the gtk theme of my desktop, now it doesn't.

# for file in `equery files vmware-workstation`; do ll -d $file | grep -e ------; done
-rw------- 1 root root 3324 2006-05-17 14:45 /opt/vmware/workstation/lib/libconf/etc/gtk-2.0/gdk-pixbuf.loaders
-rw------- 1 root root 2490 2006-05-17 14:45 /opt/vmware/workstation/lib/libconf/etc/gtk-2.0/gtk.immodules
-rw------- 1 root root 2478 2006-05-17 14:45 /opt/vmware/workstation/lib/libconf/etc/pango/pango.modules
-rw------- 1 root root 172 2006-05-17 14:45 /opt/vmware/workstation/lib/libconf/etc/pango/pangorc
-rw------- 1 root root 11446 2006-05-17 14:45 /opt/vmware/workstation/lib/libconf/etc/pango/pangox.aliases

# chmod 640 /opt/vmware/workstation/lib/libconf/etc/gtk-2.0/gdk-pixbuf.loaders /opt/vmware/workstation/lib/libconf/etc/gtk-2.0/gtk.immodules /opt/vmware/workstation/lib/libconf/etc/pango/pango.modules /opt/vmware/workstation/lib/libconf/etc/pango/pangorc /opt/vmware/workstation/lib/libconf/etc/pango/pangox.aliases

# chgrp vmware /opt/vmware/workstation/lib/libconf/etc/gtk-2.0/gdk-pixbuf.loaders /opt/vmware/workstation/lib/libconf/etc/gtk-2.0/gtk.immodules /opt/vmware/workstation/lib/libconf/etc/pango/pango.modules /opt/vmware/workstation/lib/libconf/etc/pango/pangorc /opt/vmware/workstation/lib/libconf/etc/pango/pangox.aliases









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

