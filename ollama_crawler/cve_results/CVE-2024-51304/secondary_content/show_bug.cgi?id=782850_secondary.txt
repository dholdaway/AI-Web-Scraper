Title: 782850 – x11-misc/sddm-0.18.1-r3 does not change the language after updating to gui-libs/display-manager-init
URL: https://bugs.gentoo.org/show_bug.cgi?id=782850

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 782850
x11-misc/sddm-0.18.1-r3 does not change the language after updating to gui-libs/display-manager-init
Last modified: 2021-12-23 22:29:22 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 782850 
      - x11-misc/sddm-0.18.1-r3 does not change the language after updating to gui-libs/display-manager-init


Summary:
x11-misc/sddm-0.18.1-r3 does not change the language after updating to gui-li...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

LxQt maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2021-04-14 15:00 UTC by Eduardo Coutinho Scalabrin





      Modified:
    
2021-12-23 22:29 UTC
      (History)
    




          CC List:
        

3 
          users
          
            (show)
          



cafaia
kde
polynomial-c









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Eduardo Coutinho Scalabrin





          2021-04-14 15:00:18 UTC
        

I have in my file '/etc/X11/startDM.sh' the entry 'export LANG="pt_BR.utf8"' that worked when I used the xdm service and not display-manager to change the language of the sddm program.

I also changed the entry in '/etc/env.d/02locale' and nothing has changed, it seems to me an error in sddm that does not change location anymore.

# emerge --info

Portage 3.0.17 (python 3.8.8-final-0, default/linux/amd64/17.1/desktop/plasma, gcc-10.2.0, glibc-2.32-r7, 5.10.27-gentoo x86_64)
=================================================================
System uname: Linux-5.10.27-gentoo-x86_64-Intel-R-_Core-TM-_i7-4790_CPU_@_3.60GHz-with-glibc2.2.5
KiB Mem:    32826556 total,  24211784 free
KiB Swap:   33554428 total,  33554428 free
Timestamp of repository gentoo: Wed, 14 Apr 2021 14:00:01 +0000
Head commit of repository gentoo: 67b5f3cdb78af179e98c90e7a6d30937c683d6e2
Timestamp of repository poly-c: Wed, 14 Apr 2021 07:24:05 +0000
sh bash 5.0_p18
ld GNU ld (Gentoo 2.35.2 p1) 2.35.2
ccache version 4.2 [disabled]
app-shells/bash:          5.0_p18::gentoo
dev-java/java-config:     2.3.1::gentoo
dev-lang/perl:            5.30.3::gentoo
dev-lang/python:          2.7.18_p8::gentoo, 3.7.10_p1::gentoo, 3.8.8_p1::gentoo, 3.9.2_p1::gentoo
dev-lang/rust:            1.47.0-r2::gentoo
dev-util/ccache:          4.2::gentoo
dev-util/cmake:           3.18.5::gentoo
dev-util/pkgconfig:       0.29.2::gentoo
sys-apps/baselayout:      2.7::gentoo
sys-apps/openrc:          0.42.1-r1::gentoo
sys-apps/sandbox:         2.20::gentoo
sys-devel/autoconf:       2.13-r1::gentoo, 2.69-r5::gentoo
sys-devel/automake:       1.13.4-r2::gentoo, 1.16.2-r1::gentoo
sys-devel/binutils:       2.35.2::gentoo
sys-devel/gcc:            10.2.0-r5::gentoo
sys-devel/gcc-config:     2.4::gentoo
sys-devel/libtool:        2.4.6-r6::gentoo
sys-devel/make:           4.3::gentoo
sys-kernel/linux-headers: 5.10::gentoo (virtual/os-headers)
sys-libs/glibc:           2.32-r7::gentoo
Repositories:

gentoo
    location: /usr/portage
    sync-type: rsync
    sync-uri: rsync://rsync.gentoo.org/gentoo-portage
    priority: -1000
    sync-rsync-verify-max-age: 24
    sync-rsync-verify-metamanifest: no
    sync-rsync-verify-jobs: 1
    sync-rsync-extra-opts: 

local
    location: /usr/local/portage
    masters: gentoo
    priority: 15

brave-overlay
    location: /var/lib/layman/brave-overlay
    masters: gentoo
    priority: 50

hering-overlay
    location: /var/lib/layman/hering-overlay
    masters: gentoo
    priority: 50

poly-c
    location: /var/lib/layman/poly-c
    masters: gentoo
    priority: 50

spikyatlinux
    location: /var/lib/layman/spikyatlinux
    masters: gentoo
    priority: 50

torbrowser
    location: /var/lib/layman/torbrowser
    masters: gentoo
    priority: 50

ACCEPT_KEYWORDS="amd64"
ACCEPT_LICENSE="*"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=haswell -O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /opt/cxoffice/etc/cxoffice.conf /usr/lib64/libreoffice/program/sofficerc /usr/share/config /usr/share/gnupg/qualified.txt /usr/share/themes/oxygen-gtk/gtk-2.0"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/dconf /etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c"
CXXFLAGS="-march=haswell -O2 -pipe"
DISTDIR="/usr/portage/distfiles"
ENV_UNSET="CARGO_HOME DBUS_SESSION_BUS_ADDRESS DISPLAY GOBIN GOPATH PERL5LIB PERL5OPT PERLPREFIX PERL_CORE PERL_MB_OPT PERL_MM_OPT XAUTHORITY XDG_CACHE_HOME XDG_CONFIG_HOME XDG_DATA_HOME XDG_RUNTIME_DIR"
FCFLAGS="-march=haswell -O2 -pipe"
FEATURES="assume-digests binpkg-docompress binpkg-dostrip binpkg-logs config-protect-if-modified distlocks ebuild-locks fixlafiles ipc-sandbox merge-sync metadata-transfer multilib-strict network-sandbox news parallel-fetch pid-sandbox preserve-libs protect-owned qa-unresolved-soname-deps sandbox sfperms strict unknown-features-warn unmerge-logs unmerge-orphans userfetch userpriv usersandbox usersync xattr"
FFLAGS="-march=haswell -O2 -pipe"
GENTOO_MIRRORS="http://gentoo.c3sl.ufpr.br/ http://mirrors.evowise.com/gentoo/ https://gentoo.c3sl.ufpr.br/ http://distfiles.gentoo.org"
LANG="en_US.utf8"
LDFLAGS="-Wl,-O1 -Wl,--as-needed"
MAKEOPTS="-j9"
PKGDIR="/usr/portage/packages"
PORTAGE_BINHOST="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --omit-dir-times --compress --force --whole-file --delete --stats --human-readable --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --exclude=/.git"
PORTAGE_TMPDIR="/var/tmp"
USE="7zip X a52 aac aacs aalib acl acoustid acpi activities adplug alac alsa amd64 amr amrenc analyzer androiddump ao archive aribsub aspell audiofile bacula-clientonly bazaar bdplus berkdb bidi bittorrent bl bluetooth bluray branding bs2b btrfs bzip2 cairo calf cdda cddb cdio cdparanoia cdr chm chromium cjk cli clock cmus corefonts cover cplugins cpudetection cracklib cron crypt css cue cups curl cvs daemon darcs dav1d dbus dc1394 declarative designer device-mapper dga discid djvu dmraid dmx dri drm dropbox dts dv dvb dvd dvda dvdr eglfs elogind emboss emovix encode epub equalizer exif exiv2 extras f2fs faac faad fasttrack fat fdformat fdk ffmpeg ffmpegthumbnailer flac flake fluidsynth fontconfig fortran frei0r ftp fuse gadu gd gdbm geoip geolocation ggi gif gimp git glade gme gmp gnutella gnutls gold googledrive gpg gphoto2 gpm gps graphviz groupwise gsf gsm gstreamer gtk gui harfbuzz hddtemp hfs hpijs http http-server ical iconv icu idn iec61883 ieee1394 imagemagick imlib introspection iostats ipod iptc iptv ipv6 ithreads java javafx jfs joystick jpeg jpeg2k kate kde kdesu kdrive kipi kwallet ladspa lame lapack lcms libass libcaca libdrm libglvnd libmpeg2 libmpv libnotify libsamplerate libsoxr libssh2 libtiger libtirpc libv4l live lm-sensors lrz lvm lyrics lz4 lzma lzo mac mad mariadb matroska mda-lv2 mdadm mdnsresponder-compat meanwhile media mercurial midi mikmod mjpeg mms mng mobi moc modplug monolithic mp3 mp4 mpeg mplayer mpris mpv msn mtp multilib multimedia multiuser musepack musicbrainz nas ncat ncurses network-cron networkmanager nls nping nptl nsplugin ntfs nut nvenc nvidia ocr ogg ogm omr openal openexr opengl openh264 openmp openssl opus orientation osd outputs pam pango pcre pdf pdfimport perl phonon pim plasma playlist plugins pm-utils png pnm policykit portaudio postproc ppds protocol-extensions pulseaudio pvr python qml qsui qt5 qtmedia quicktime radio rar raw readline realtime recorder reiser4 reiserfs replaygain rss rtmp rubberband sasl sbc scanner script sdl sdl-image seccomp semantic-desktop sensord share shorten shout sid smi smp sndfile sox soxr speex spell split-usr sqlite srt ssh ssl stars startup-notification stemmer stereo streaming subtitles subversion svg system-wide taglib tcl tcpd tfshark tga theora threads thumbnail tiff timidity tk toolame tools tracker transcode tray tremor truetype tsmuxer tta twolame udev udf udisks unicode upnp upower usb utils uvm v4l vaapi vala vcd vdpau vhosts visualizer vlc vorbis vpx wavpack weather-metar webp widevine widgets wifi wmf wps wxwidgets x264 x265 xattr xcb xfs xine xinerama xml xmp xpm xps xscreensaver xv xvid xvmc yahoo zeroconf zip zlib zoran" ABI_X86="32 64" ADA_TARGET="gnat_2018" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" APACHE2_MODULES="authn_core authz_core socache_shmcb unixd actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cgi cgid dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CALLIGRA_FEATURES="karbon sheets words" CAMERAS="*" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" CPU_FLAGS_X86="aes avx avx2 f16c fma3 mmx mmxext pclmul popcnt sse sse2 sse3 sse4_1 sse4_2 ssse3" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock greis isync itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf skytraq superstar2 timing tsip tripmate tnt ublox ubx" GRUB_PLATFORMS="pc" INPUT_DEVICES="libinput joystick" KERNEL="linux" L10N="pt-BR" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LIBREOFFICE_EXTENSIONS="presenter-console presenter-minimizer" LUA_SINGLE_TARGET="lua5-1" LUA_TARGETS="lua5-1" OFFICE_IMPLEMENTATION="libreoffice" PHP_TARGETS="php7-3 php7-4" POSTGRES_TARGETS="postgres10 postgres11" PYTHON_SINGLE_TARGET="python3_8" PYTHON_TARGETS="python3_8" RUBY_TARGETS="ruby26" USERLAND="GNU" VIDEO_CARDS="nvidia" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq proto steal rawnat logmark ipmark dhcpmac delude chaos account"
Unset:  CC, CPPFLAGS, CTARGET, CXX, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LC_ALL, LINGUAS, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, RUSTFLAGS




Comment 1


Lars Wendler (Polynomial-C) (RETIRED)






          2021-04-14 15:25:02 UTC
        

Perhaps related to this upstream issue?

  https://github.com/sddm/sddm/issues/202




Comment 2


Eduardo Coutinho Scalabrin





          2021-04-16 09:43:08 UTC
        

(In reply to Lars Wendler (Polynomial-C) from comment #1)
> Perhaps related to this upstream issue?
> 
>   https://github.com/sddm/sddm/issues/202

Hello, Lars!

I believe it is a different problem, because in this the solution was to edit the Xsetup file which for me did not work.




Comment 3


Eduardo Coutinho Scalabrin





          2021-04-24 14:43:33 UTC
        

Seems to be related to this problem:

https://github.com/sddm/sddm/issues/703




Comment 4


Eduardo Coutinho Scalabrin





          2021-12-23 12:24:44 UTC
        

This bug can be closed now! I can change the sddm language with the same procedure as above now.
Thanks!




Comment 5


Andreas Sturmlechner






          2021-12-23 22:29:22 UTC
        

Thanks.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

