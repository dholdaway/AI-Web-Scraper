Title: 144918 – Fixed alternative keymap on genkernel
URL: https://bugs.gentoo.org/show_bug.cgi?id=144918

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 144918
Fixed alternative keymap on genkernel
Last modified: 2010-11-18 22:39:21 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 144918 
      - Fixed alternative keymap on genkernel


Summary:
Fixed alternative keymap on genkernel
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Hosted Projects




Classification:

Unclassified




Component:

genkernel

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-08-23 16:47 UTC by Pupeno





      Modified:
    
2010-11-18 22:39 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



sping









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Pupeno





          2006-08-23 16:47:03 UTC
        

I think it would be nice to have an option to pass to genkernel that would build an init image with an alternate keymap (it is awesome to be able to choose among some, but for an installation I think it would be nice to have a fixed one according to the keyboard I use).
So I could do --keymap=dvorak and the init image would have it.
The reason for wanting this feature here is that when having an alternative (very different keyboard) it gets very problematic in the following two cases:
- Something goes wrong during boot and you get a shell to solve the problem, like when not being able to mount a partition.
- When you have an encrypted partition, it'll ask for the password. Having to guess-type a password is a pain.
In those cases, the service keymap hasn't been brought up yet.
Related bugs are:
bug #144879 where I state that mounting partitions happen way before keymaps. No clear solution was given. The bug was marked duplicate of bug #90482 but I don't believe that makes much sense.
bug #144902 where I state that keymap, localmount and checkfs dependencies can't be changed to make keymap happen before localmount and checkfs. It was marked as a duplicate of bug #90482 which shows that critical services (localmount and checkfs) just don't respect dependencies and there's no way for keymaps to happen before them.
I also had the idea that Linux itself may have different keymaps, maybe an option an build or at boot time. I was pointed by Linux's developers that the right solution is to set it up with an init image: http://bugzilla.kernel.org/show_bug.cgi?id=7046
I don't agree completely, not all distributions just build an init image at each install, but for Gentoo it applies, so it would be nice for genkernel to provide such a functionality.
BTW, genkernel rules! It saved me a lot of time and I bet it built a kernel much better than the one I could have built.




Comment 1


Jakub Moc (RETIRED)






          2006-08-23 23:12:41 UTC
        

Erm, dvorak keymap is already there. See /usr/share/genkernel/generic/keymaps.tar.gz and genkernel --help.




Comment 2


Pupeno





          2006-08-24 05:18:15 UTC
        

I see a lot of different keyboards maps and I see that there's Dvorak. But I don't see how to choose a default keymap when running genkernel. I haven't seen that option in either genkernel --help or genkernel's man page, how is it named ?




Comment 3


Sebastian Pipping






          2010-11-18 22:39:21 UTC
        

For the record you can pass options like "dokeymap keymap=de" in Grub to specify a keymap for an initramfs created by genkernel.  I tested with with genkernel 3.4.10.907.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

