Title: 86880 – Nautilus folder window crashes/disappears when transferring a file to a Samba mount
URL: https://bugs.gentoo.org/show_bug.cgi?id=86880

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 86880
Nautilus folder window crashes/disappears when transferring a file to a Samba mount
Last modified: 2006-02-19 16:02:21 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 86880 
      - Nautilus folder window crashes/disappears when transferring a file to a Samba mount


Summary:
Nautilus folder window crashes/disappears when transferring a file to a Samba...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] GNOME

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
Low
       normal
      


Assignee:

Gentoo Linux Gnome Desktop Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-03-27 10:04 UTC by Paul McDermott





      Modified:
    
2006-02-19 16:02 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Paul McDermott





          2005-03-27 10:04:01 UTC
        

I have a Samba mount point mounted. I can browse the folder and all sub-folders, and can open documents. When I transfer a file from my desktop to the mount using drag and drop, the Nautilus folder disappears. The transfer progress dialog appears, and the file is transferred. There is then a delay before the progress dialog finishes. The file on my desktop remains. The file *is* succesfully transferred to the mount. The issue is the crashing folder window.

Reproducible: Always
Steps to Reproduce:
1. Log onto a Samba mount point
2. Browse to a recipient folder on the Samba mount
3. Select a file from the desktop for transfer
4. Drag and drop the file to the samba folder


Actual Results:  
Nautilus folder window disappears (closes/crashes?).
File is transfered. Dragged file remains on Nautilus desktop

Expected Results:  
Kept the Samba folder window open, showing the transfered file when completed.
(Not sure if default drag and drop action is a move or copy--File remaining on
Nautlius desktop may be ok if default action is copy).

Client Machine:
[5011:~]$ smbclient --version
Version 3.0.9
[5012:~]$ nautilus --version
Gnome nautilus 2.8.2
[5014:~]$ uname -a
Linux mediacentre 2.6.9-gentoo-r8 #3 Sat Jan 8 01:19:50 GMT 2005 i686 AMD
Athlon(tm) XP 1700+ AuthenticAMD GNU/Linux

Server machine:
server root # smbd --version
Version 3.0.10
server root # uname -a
Linux server 2.6.9-gentoo-r13 #3 SMP Fri Dec 31 14:13:43 GMT 2004 i686 Pentium
III (Katmai) GenuineIntel GNU/Linux




Comment 1


Paul McDermott





          2005-04-01 15:10:22 UTC
        

I am seeing these errors in /var/log/messages on the Linux client machine when I attempt a transfer as described above:

Apr  2 00:08:15 mediacentre smb_trans2: invalid data, disp=0, cnt=0, tot=0, ofs=0
Apr  2 00:08:45 mediacentre smb_add_request: request [c9bcdde0, mid=445] timed out!





Comment 2


Paul McDermott





          2005-04-01 15:26:26 UTC
        

I found the following reference, but setting 'unix extensions = no' does not work for me.

http://lists.debian.org/debian-kernel/2005/01/msg00864.html

Server machine:
server samba # uname -a
Linux server 2.6.9-gentoo-r13 #3 SMP Fri Dec 31 14:13:43 GMT 2004 i686 Pentium III (Katmai) GenuineIntel GNU/Linux

Client machine:
[5002:~/WTK2.2/apps/WorldClockSuite]$ uname -a
Linux mediacentre 2.6.9-gentoo-r8 #3 Sat Jan 8 01:19:50 GMT 2005 i686 AMD Athlon(tm) XP 1700+ AuthenticAMD GNU/Linux

Possibly a kernel bug. Going to try 2.6.11-r4






Comment 3


foser (RETIRED)






          2005-04-04 08:43:48 UTC
        

try the samba support in gnome 2.10 and see if you can still reproduce, it has been partially rewritten.




Comment 4


Paul McDermott





          2005-04-05 15:21:40 UTC
        

Found a reference that Samba implementation in 2.6.? kernels is not working so well. Switching to CIFS on the client machine fixes the problem (and works very well), but is a work around. Suspect that the kernel is the issue, rather than Gnome/Nautilus.




Comment 5


John N. Laliberte (RETIRED)






          2006-02-18 19:47:24 UTC
        

does this still happen in 2.12?




Comment 6


Paul McDermott





          2006-02-19 13:54:31 UTC
        

Don't know, as I have switched permanently to CIFS




Comment 7


John N. Laliberte (RETIRED)






          2006-02-19 16:02:21 UTC
        

please re-open if you can reproduce.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

