Title: 86669 – nvu-0.90 installation: Failed Patch
URL: https://bugs.gentoo.org/show_bug.cgi?id=86669

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 86669
nvu-0.90 installation: Failed Patch
Last modified: 2006-09-26 06:29:15 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 86669 
      - nvu-0.90 installation: Failed Patch


Summary:
nvu-0.90 installation: Failed Patch
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Jory A. Pratt








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-03-25 08:48 UTC by Carles Escrig





      Modified:
    
2006-09-26 06:29 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



geekypenguin
Tanktalus









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Carles Escrig





          2005-03-25 08:48:18 UTC
        

Here is the error I get:

-------------------------

c++ -o nsTableFrame.o -c -DOSTYPE=\"Linux2.6\" -DOSARCH=\"Linux\" -DDEBUG_TABLE_ REFLOW_TIMING_off -DDEBUG_TABLE_STRATEGY_off -D_IMPL_NS_LAYOUT -I./../../base/sr c -I./../../style/src -I./../../content/src -I./../../../base/src  -I../../../.. /dist/include/xpcom -I../../../../dist/include/string -I../../../../dist/include /dom -I../../../../dist/include/content -I../../../../dist/include/gfx -I../../. ./../dist/include/widget -I../../../../dist/include/locale -I../../../../dist/in clude/view -I../../../../dist/include/accessibility -I../../../../dist/include/n ecko -I../../../../dist/include/webshell -I../../../../dist/include/layout -I../ ../../../dist/include -I/var/tmp/portage/nvu-0.90/work/mozilla/dist/include/nspr         -fPIC   -fno-rtti -fno-exceptions -Wall -Wconversion -Wpointer-arith -Wc ast-align -Woverloaded-virtual -Wsynth -Wno-ctor-dtor-privacy -Wno-non-virtual-d tor -Wno-long-long -march=athlon64 -pipe -fweb -frename-registers -ftracer -fomi t-frame-pointer -fshort-wchar -pthread -pipe  -DNDEBUG -DTRIMMED -O1   -DMOZILLA _CLIENT -include ../../../../mozilla-config.h -Wp,-MD,.deps/nsTableFrame.pp nsTa bleFrame.cpp
In file included from nsTableFrame.cpp:40:
./../../base/src/nsFrame.h:392: av




Comment 1


Carles Escrig





          2005-03-25 08:48:18 UTC
        

Here is the error I get:

-------------------------

c++ -o nsTableFrame.o -c -DOSTYPE=\"Linux2.6\" -DOSARCH=\"Linux\" -DDEBUG_TABLE_ REFLOW_TIMING_off -DDEBUG_TABLE_STRATEGY_off -D_IMPL_NS_LAYOUT -I./../../base/sr c -I./../../style/src -I./../../content/src -I./../../../base/src  -I../../../.. /dist/include/xpcom -I../../../../dist/include/string -I../../../../dist/include /dom -I../../../../dist/include/content -I../../../../dist/include/gfx -I../../. ./../dist/include/widget -I../../../../dist/include/locale -I../../../../dist/in clude/view -I../../../../dist/include/accessibility -I../../../../dist/include/n ecko -I../../../../dist/include/webshell -I../../../../dist/include/layout -I../ ../../../dist/include -I/var/tmp/portage/nvu-0.90/work/mozilla/dist/include/nspr         -fPIC   -fno-rtti -fno-exceptions -Wall -Wconversion -Wpointer-arith -Wc ast-align -Woverloaded-virtual -Wsynth -Wno-ctor-dtor-privacy -Wno-non-virtual-d tor -Wno-long-long -march=athlon64 -pipe -fweb -frename-registers -ftracer -fomi t-frame-pointer -fshort-wchar -pthread -pipe  -DNDEBUG -DTRIMMED -O1   -DMOZILLA _CLIENT -include ../../../../mozilla-config.h -Wp,-MD,.deps/nsTableFrame.pp nsTa bleFrame.cpp
In file included from nsTableFrame.cpp:40:
./../../base/src/nsFrame.h:392: avís: "virtual void* nsFrame::GetProperty(nsIPre sContext*, nsIAtom*, PRBool) const" estava amagat
nsTableFrame.h:210: avís:   per "static void* nsTableFrame::GetProperty(nsIPresC ontext*, nsIFrame*, nsIAtom*, PRBool)"
nsTableFrame.cpp: In member function `void nsTableFrame::SetColumnDimensions(nsc oord, const nsMargin&)':
nsTableFrame.cpp:1618: avís: unused variable 'numCols'
nsTableFrame.cpp: In member function `void BCCellBorder::Reset(PRUint32, PRUint3 2)':
nsTableFrame.cpp:5428: avís: converting de valor negatiu `
Error intern del compilador: Error al reportar rutines reentrades.
Please submit a full bug report,
with preprocessed source if appropriate.
See <URL:http://bugs.gentoo.org/> for instructions.
Preprocessed source stored into /var/tmp/portage/nvu-0.90/temp/ccKhrXr0.out file , please attach this to your bugreport.
gmake[6]: *** [nsTableFrame.o] Error 1
gmake[6]: Leaving directory `/var/tmp/portage/nvu-0.90/work/mozilla/layout/html/ table/src'
gmake[5]: *** [libs] Error 2
gmake[5]: Leaving directory `/var/tmp/portage/nvu-0.90/work/mozilla/layout/html/ table'
gmake[4]: *** [libs] Error 2
gmake[4]: Leaving directory `/var/tmp/portage/nvu-0.90/work/mozilla/layout/html'
gmake[3]: *** [libs] Error 2
gmake[3]: Leaving directory `/var/tmp/portage/nvu-0.90/work/mozilla/layout'
gmake[2]: *** [tier_9] Error 2
gmake[2]: Leaving directory `/var/tmp/portage/nvu-0.90/work/mozilla'
make[1]: *** [default] Error 2
make[1]: Leaving directory `/var/tmp/portage/nvu-0.90/work/mozilla'
make: *** [build] Error 2
>>> Test phase [not enabled]: app-editors/nvu-0.90

>>> Install nvu-0.90 into /var/tmp/portage/nvu-0.90/image/ category app-editors
 * Applying nvu-0.50-nvu.patch ...

 * Failed Patch: nvu-0.50-nvu.patch !
 *  ( /usr/portage/app-editors/nvu/files/nvu-0.50-nvu.patch )
 *
 * Include in your bugreport the contents of:
 *
 *   /var/tmp/portage/nvu-0.90/temp/nvu-0.50-nvu.patch-13932.out


!!! ERROR: app-editors/nvu-0.90 failed.
!!! Function epatch, Line 402, Exitcode 0
!!! Failed Patch: nvu-0.50-nvu.patch!
!!! If you need support, post the topmost build error, NOT this status message.

-------------------------------


I don't know what more do I have to report. Here is the nvu-0.50-nvu.patch-13932.out:


------------------------------------------

***** nvu-0.50-nvu.patch *****

==============================

PATCH COMMAND:  patch -p0 -g0 < /usr/portage/app-editors/nvu/files/nvu-0.50-nvu.patch

==============================
can't find file to patch at input line 3
Perhaps you used the wrong -p or --strip option?
The text leading up to this was:
--------------------------
|--- composer/app/nvu_old	2004-10-16 03:25:35.694372104 +0900
|+++ composer/app/nvu	2004-10-16 03:25:16.489291720 +0900
--------------------------
No file to patch.  Skipping patch.
2 out of 2 hunks ignored
==============================

PATCH COMMAND:  patch -p1 -g0 < /usr/portage/app-editors/nvu/files/nvu-0.50-nvu.patch

==============================
can't find file to patch at input line 3
Perhaps you used the wrong -p or --strip option?
The text leading up to this was:
--------------------------
|--- composer/app/nvu_old	2004-10-16 03:25:35.694372104 +0900
|+++ composer/app/nvu	2004-10-16 03:25:16.489291720 +0900
--------------------------
No file to patch.  Skipping patch.
2 out of 2 hunks ignored
==============================

PATCH COMMAND:  patch -p2 -g0 < /usr/portage/app-editors/nvu/files/nvu-0.50-nvu.patch

==============================
can't find file to patch at input line 3
Perhaps you used the wrong -p or --strip option?
The text leading up to this was:
--------------------------
|--- composer/app/nvu_old	2004-10-16 03:25:35.694372104 +0900
|+++ composer/app/nvu	2004-10-16 03:25:16.489291720 +0900
--------------------------
No file to patch.  Skipping patch.
2 out of 2 hunks ignored
==============================

PATCH COMMAND:  patch -p3 -g0 < /usr/portage/app-editors/nvu/files/nvu-0.50-nvu.patch

==============================
missing header for unified diff at line 3 of patch
can't find file to patch at input line 3
Perhaps you used the wrong -p or --strip option?
The text leading up to this was:
--------------------------
|--- composer/app/nvu_old	2004-10-16 03:25:35.694372104 +0900
|+++ composer/app/nvu	2004-10-16 03:25:16.489291720 +0900
--------------------------
No file to patch.  Skipping patch.
2 out of 2 hunks ignored
==============================

PATCH COMMAND:  patch -p4 -g0 < /usr/portage/app-editors/nvu/files/nvu-0.50-nvu.patch

==============================
missing header for unified diff at line 3 of patch
can't find file to patch at input line 3
Perhaps you used the wrong -p or --strip option?
The text leading up to this was:
--------------------------
|--- composer/app/nvu_old	2004-10-16 03:25:35.694372104 +0900
|+++ composer/app/nvu	2004-10-16 03:25:16.489291720 +0900
--------------------------
No file to patch.  Skipping patch.
2 out of 2 hunks ignored

Reproducible: Always
Steps to Reproduce:
1.
2.
3.




-> emerge info:

Portage 2.0.51.19 (default-linux/amd64/2005.0, gcc-3.4.3-20050110,
glibc-2.3.4.20050125-r1, 2.6.11-gentoo-r3 x86_64)
=================================================================
System uname: 2.6.11-gentoo-r3 x86_64 AMD Athlon(tm) 64 Processor 3000+
Gentoo Base System version 1.6.10
Python:              dev-lang/python-2.3.5 [2.3.5 (#1, Mar 21 2005, 20:48:10)]
distcc 2.18.3 x86_64-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
dev-lang/python:     2.3.5
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.5, 1.9.5, 1.6.3, 1.7.9-r1, 1.4_p6, 1.8.5-r3
sys-devel/binutils:  2.15.92.0.2-r6
sys-devel/libtool:   1.5.14
virtual/os-headers:  2.6.8.1-r2
ACCEPT_KEYWORDS="amd64 ~amd64"
AUTOCLEAN="yes"
CFLAGS="-O2 -march=athlon64 -pipe -fweb -frename-registers -ftracer
-fomit-frame-pointer"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.3/env
/usr/kde/3.3/share/config /usr/kde/3.3/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config
/usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/
/usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/
/usr/share/texmf/xdvi/ /var/qmail/alias /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=athlon64 -pipe -fweb -frename-registers -ftracer
-fomit-frame-pointer"DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig ccache distlocks sandbox"
GENTOO_MIRRORS="http://linuv.uv.es/mirror/gentoo/
http://ftp.easynet.nl/mirror/gentoo/ http://mir.zyrianes.net/gentoo/
ftp://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/
http://pandemonium.tiscali.de/pub/gentoo/"
LC_ALL="ca_ES@euro"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="amd64 X aalib acpi alsa avi berkdb bitmap-fonts bonobo bzlib cdr crypt cups
curl directfb divx4linux dvd dvdr dvdread encode esd fam fbcon ffmpeg flac
font-server fortran gdbm gif gnome gphoto2 gpm gstreamer gtk gtk2 gtkhtml hal
howl imagemagick imap imlib ipv6 jabber java javascript jp2 jpeg libwww lzw
lzw-tiff maildir matroska mikmod mime mozilla mp3 mpeg ncurses nls nptl nptlonly
nvidia oggvorbis opengl oss pam perl png python quicktime readline ruby samba
sdl slang spell ssl svg tcltk tcpd tetex tiff truetype truetype-fonts
type1-fonts usb userlocales xml xml2 xmms xpm xrandr xv xvid zlib linguas_ca"
Unset:  ASFLAGS, CBUILD, CTARGET, LANG, LDFLAGS, PORTDIR_OVERLAY




Comment 2


Jory A. Pratt





          2005-04-01 14:26:05 UTC
        

This is interesting I will check into this later today sorry for your failure with nvu and I will work with Chris White to get this fixed ... if you could please rm -rf /var/tmp/portage/* and try once again the patch you show failing will always fail unless nvu builds successfully by the way.




Comment 3


Jory A. Pratt





          2005-04-01 17:05:31 UTC
        

also I need the version of freetype you have installed ....




Comment 4


Jory A. Pratt





          2005-04-02 11:49:16 UTC
        

Until more info is provided there is nothing we can do with this ... It has been tested on a few other amd64 systems and has compiled fine ... reopen if you still have same problem, only reopen tho if your gonna provide info that is needed to solve this problem.




Comment 5


Carles Escrig





          2005-04-04 08:18:40 UTC
        

Hi! I've executed rm -rf /var/tmp/portage/* and tried to re-emerge nvu but same error ocurred. My installed version of freetype is freetype-2.1.9-r1, if you need more info please ask for it. Thanks!




Comment 6


Carles Escrig





          2005-04-06 05:01:21 UTC
        

Well, I suppose this compilation failure is related with the issue on mozilla related packages and freetype-2.1.9. I couldn't emerge mozilla nor gecko-sdk (needed for mplayerplug-in), however mozilla-firefox-1.0.2-r1 emerged fine.

Downgrading to freetype-2.1.7 (minimum requirement for GIMP) could solve this problems (I don't know), but the only versions available of freetype in portage are 2.1.9-r1 and 2.1.5-r1 (and minus). I'm sure this error on the nvu compilation is the same I get for mozilla and gecko-sdk.




Comment 7


Jory A. Pratt





          2005-04-07 16:53:42 UTC
        

freetype 2.1.7 can not solve this problem. I am working on your issue you seem to be only one with this problem I am begining to believe it is how you have your system configured that is causing the problem. Please try and emerge nvu-0.81 and let me know if problem persists.




Comment 8


Carles Escrig





          2005-04-07 21:14:26 UTC
        

Same error for nvu-0.81; I'm goin to change the language of my system to English in order to show the errors more accurately. It's saying something like "Internal Compilator Error...", I'll post the error later.




Comment 9


Zhenzhi





          2005-04-08 13:23:49 UTC
        

NVU Beta 1.0 is out
http://nvu.com/download.html




Comment 10


Jory A. Pratt





          2005-04-08 13:53:36 UTC
        

 Zhenzhi  please open a new bug report and assign it to me ... I will update the build and test and commit it to portage as soon as possible.




Comment 11


Jory A. Pratt





          2005-04-08 14:00:25 UTC
        

I have just pulled up the site if you read nvu 0.90 is nvu 1.0 beta. There will be nothing I can do seeing we cant replicate the error your getting we have tested this on atleast 7 differnt amd64 setups and have not had any problems I a closing the bugs as worksforme.




Comment 12


Carles Escrig





          2005-04-08 21:08:33 UTC
        

Ok, I'll wait for updates to solve naturally this errors with nvu && mozilla && gecko-sdk. Thanks.




Comment 13


Mary





          2005-04-18 08:23:18 UTC
        

I do have experience the same problem.
nvu-0.90, freetype-2.1.9-r1, portage-2.0.51.19




Comment 14


Tanktalus





          2006-09-26 06:29:15 UTC
        

I'm getting this problem with nvu-0.90-r2 on x86-32.  I have media-libs/freetype-2.1.10-r2.  I'll have to try unmasking something newer to try it out.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

