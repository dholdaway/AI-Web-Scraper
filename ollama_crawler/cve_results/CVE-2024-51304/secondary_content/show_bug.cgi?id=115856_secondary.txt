Title: 115856 – emerge dev-db/mysql-4.1.14 fails with: pack.c:17:23: my_global.h: No such file or directory
URL: https://bugs.gentoo.org/show_bug.cgi?id=115856

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 115856
emerge dev-db/mysql-4.1.14 fails with: pack.c:17:23: my_global.h: No such file or directory
Last modified: 2006-01-05 06:25:08 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 115856 
      - emerge dev-db/mysql-4.1.14 fails with: pack.c:17:23: my_global.h: No such file or directory


Summary:
emerge dev-db/mysql-4.1.14 fails with: pack.c:17:23: my_global.h: No such fil...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       major
      


Assignee:

Gentoo Linux MySQL bugs team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-12-17 07:06 UTC by Markus Tacker





      Modified:
    
2006-01-05 06:25 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Markus Tacker





          2005-12-17 07:06:52 UTC
        

gcc -DDEFA -O3 -DDBUG_OFF -march=pentium3 -O3 -pipe -fomit-frame-pointer -DHAVE_ERRNO_AS_DEFINE=1 -MT pack.lo -MD -MP -MF .deps/pack.Tpo -c pack.c  -fPIC -DPIC -o .libs/pack.o
pack.c:17:23: my_global.h: No such file or directory
pack.c:18:23: mysql_com.h: No such file or directory
pack.c:19:19: mysql.h: No such file or directory
pack.c:22: error: parse error before "STDCALL"
pack.c:22: error: parse error before '*' token
pack.c: In function `net_field_length':
pack.c:24: error: `reg1' undeclared (first use in this function)
pack.c:24: error: (Each undeclared identifier is reported only once
pack.c:24: error: for each function it appears in.)
pack.c:24: error: parse error before "uchar"
pack.c:25: error: `pos' undeclared (first use in this function)
pack.c:27: error: `packet' undeclared (first use in this function)
pack.c:28: error: `ulong' undeclared (first use in this function)
pack.c:33: error: `NULL_LENGTH' undeclared (first use in this function)
pack.c:38: error: parse error before "uint2korr"
pack.c:43: error: parse error before "uint3korr"
pack.c:46: error: parse error before "uint4korr"
pack.c: At top level:
pack.c:50: error: parse error before "net_field_length_ll"
pack.c:50: error: parse error before '*' token
pack.c: In function `net_field_length_ll':
pack.c:52: error: `reg1' undeclared (first use in this function)
pack.c:52: error: parse error before "uchar"
pack.c:53: error: `pos' undeclared (first use in this function)
pack.c:55: error: `packet' undeclared (first use in this function)
pack.c:56: error: `my_ulonglong' undeclared (first use in this function)
pack.c:61: error: parse error before "NULL_LENGTH"
pack.c:66: error: parse error before "uint2korr"
pack.c:71: error: parse error before "uint3korr"
pack.c:77: error: parse error before "uint8korr"
pack.c: At top level:
pack.c:99: error: parse error before "ulonglong"
pack.c: In function `net_store_length':
pack.c:101: error: `uchar' undeclared (first use in this function)
pack.c:101: error: `packet' undeclared (first use in this function)
pack.c:101: error: parse error before ')' token
pack.c:102: error: `length' undeclared (first use in this function)
pack.c:102: error: `ulonglong' undeclared (first use in this function)
pack.c:102: error: parse error before "LL"
pack.c: At top level:
pack.c:108: error: parse error before "if"
pack.c:111: error: parse error before '(' token
pack.c:117: error: parse error before '(' token
pack.c:120: error: parse error before '++' token
pack.c:121: warning: parameter names (without types) in function declaration
pack.c:121: warning: data definition has no type or storage class
pack.c:122: error: parse error before "return"
make[2]: *** [pack.lo] Error 1
make[2]: *** Waiting for unfinished jobs....
 gcc -DDEFAULT_CHARSET_HOME=\"/usr\" -DDATADIR=\"/var/lib/mysql\" -DSHAREDIR=\"/usr/share/mysql\" -DDONT_USE_RAID -DMYSQL_CLIENT -fPIC -I. -I. -I.. -I../include -I../include -I/usr/include -O3 -DDBUG_OFF -march=pentium3 -O3 -pipe -fomit-frame-pointer -DHAVE_ERRNO_AS_DEFINE=1 -MT dbug.lo -MD -MP -MF .deps/dbug.Tpo -c dbug.c -o dbug.o >/dev/null 2>&1
 gcc -DDEFAULT_CHARSET_HOME=\"/usr\" -DDATADIR=\"/var/lib/mysql\" -DSHAREDIR=\"/usr/share/mysql\" -DDONT_USE_RAID -DMYSQL_CLIENT -fPIC -I. -I. -I.. -I../include -I../include -I/usr/include -O3 -DDBUG_OFF -march=pentium3 -O3 -pipe -fomit-frame-pointer -DHAVE_ERRNO_AS_DEFINE=1 -MT client.lo -MD -MP -MF .deps/client.Tpo -c client.c  -fPIC -DPIC -o .libs/client.o
 gcc -DDEFAULT_CHARSET_HOME=\"/usr\" -DDATADIR=\"/var/lib/mysql\" -DSHAREDIR=\"/usr/share/mysql\" -DDONT_USE_RAID -DMYSQL_CLIENT -fPIC -I. -I. -I.. -I../include -I../include -I/usr/include -O3 -DDBUG_OFF -march=pentium3 -O3 -pipe -fomit-frame-pointer -DHAVE_ERRNO_AS_DEFINE=1 -MT client.lo -MD -MP -MF .deps/client.Tpo -c client.c -o client.o >/dev/null 2>&1
make[2]: Leaving directory `/var/tmp/portage/mysql-4.1.14/work/mysql/libmysql_r'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/mysql-4.1.14/work/mysql'
make: *** [all] Error 2

!!! ERROR: dev-db/mysql-4.1.14 failed.
!!! Function src_compile, Line 352, Exitcode 2
!!! compile problem




Comment 1


Markus Tacker





          2005-12-17 07:07:44 UTC
        

# emerge info
Portage 2.0.51.22-r3 (default-linux/x86/2005.0, gcc-3.4.4, glibc-2.3.5-r2, 2.6.14-gentoo-r2 i686)
=================================================================
System uname: 2.6.14-gentoo-r2 i686 Pentium III (Coppermine)
Gentoo Base System version 1.6.13
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
ccache version 2.3 [disabled]
dev-lang/python:     2.4.2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.20
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=pentium3 -O3 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-march=pentium3 -O3 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig buildpkg distlocks fixpackages sandbox sfperms strict"
GENTOO_MIRRORS="http://gentoo.mirror.solnet.ch http://gentoo.mirror.intouch.nl/gentoo/ http://mirror.ovh.net/gentoo-distfiles/ http://mirrors.sec.informatik.tu-darmstadt.de/gentoo/ ftp://gentoo.inode.at/source/ http://ftp.du.se/pub/os/gentoo"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/gentoo-php-overlay/production-ready /usr/local/gentoo-php-overlay/experimental"
SYNC="rsync://otrs.aiti-group.de/gentoo-portage"
USE="x86 apache2 apm avi berkdb bitmap-fonts bzip2 crypt curl eds emboss encode expat foomaticdb fortran gdbm gif gpm gstreamer gtk2 imagemagick imlib ipv6 jpeg ldap libg++ libwww mad mikmod mmx motif mp3 mysql ncurses nls ogg oggvorbis pam pcre pdflib perl php png python quicktime readline sqlite sse ssl tcpd truetype truetype-fonts type1-fonts udev vhosts vorbis xml2 xmms zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS





Comment 2


Robin Johnson









          2005-12-17 12:35:44 UTC
        

please attach the output from:
find $(portageq envvar PORTAGE_TMPDIR)/portage/mysql-4.1.14/work/mysql/include

as it builds fine here.
I suspect you might have run out of disk space in /var/tmp.




Comment 3


Markus Tacker





          2005-12-18 04:01:04 UTC
        

Just ran emerge mysql and it happened again but on another position.
The missing files are there (see at the end).

Disk has GB of free Space.

gcc  -O3 -DDBUG_OFF -march=pentium3 -O3 -pipe -fomit-frame-pointer -DHAVE_ERRNO_AS_DEFINE=1 -MT dbug.lo -MD -MP -MF .deps/dbug.Tpo -c dbug.c  -fPIC -DPIC -o .libs/dbug.o
dbug.c:73:23: my_global.h: No such file or directory
dbug.c:74:22: m_string.h: No such file or directory
dbug.c:169: error: parse error before '*' token
dbug.c:169: error: `FILE' undeclared here (not in a function)
dbug.c:169: error: parse error before ')' token
dbug.c:171: error: parse error before '*' token
dbug.c:171: error: parse error before ')' token
dbug.c:172: error: `FALSE' undeclared here (not in a function)
dbug.c:184: error: parse error before "uint"
dbug.c:208: error: parse error before "uint"
dbug.c:208: warning: no semicolon at end of struct or union
dbug.c:210: error: parse error before '*' token
dbug.c:210: warning: data definition has no type or storage class
dbug.c:211: error: parse error before '*' token
dbug.c:211: warning: data definition has no type or storage class
dbug.c:212: error: `FN_REFLEN' undeclared here (not in a function)
dbug.c:218: error: parse error before '}' token
dbug.c:226: error: parse error before "init_done"
dbug.c:226: warning: data definition has no type or storage class
dbug.c:250: error: parse error before "uint"
dbug.c:250: warning: no semicolon at end of struct or union
dbug.c:253: error: parse error before '}' token
dbug.c:253: warning: data definition has no type or storage class
dbug.c:263: error: parse error before '*' token
dbug.c:263: warning: data definition has no type or storage class
dbug.c:272: error: parse error before '*' token
dbug.c:276: error: parse error before '*' token
dbug.c:284: error: parse error before "size"
dbug.c:287: error: parse error before "line"
dbug.c:291: error: parse error before '*' token
dbug.c:296: error: parse error before "pchar"
dbug.c:374: error: parse error before "static_code_state"
dbug.c:376: warning: initialization makes integer from pointer without a cast
dbug.c:376: warning: excess elements in scalar initializer
dbug.c:376: warning: (near initialization for `static_code_state')
dbug.c:376: error: `NULL' undeclared here (not in a function)
dbug.c:376: warning: excess elements in scalar initializer
dbug.c:376: warning: (near initialization for `static_code_state')
dbug.c:376: error: `NullS' undeclared here (not in a function)
dbug.c:376: warning: excess elements in scalar initializer
dbug.c:376: warning: (near initialization for `static_code_state')
dbug.c:376: warning: excess elements in scalar initializer
dbug.c:376: warning: (near initialization for `static_code_state')
dbug.c:376: warning: excess elements in scalar initializer
dbug.c:376: warning: (near initialization for `static_code_state')
dbug.c:376: warning: excess elements in scalar initializer
dbug.c:376: warning: (near initialization for `static_code_state')
dbug.c:376: warning: excess elements in scalar initializer
dbug.c:376: warning: (near initialization for `static_code_state')
dbug.c:376: warning: excess elements in scalar initializer
dbug.c:376: warning: (near initialization for `static_code_state')
dbug.c:376: warning: excess elements in scalar initializer
dbug.c:376: warning: (near initialization for `static_code_state')
dbug.c:376: warning: excess elements in scalar initializer
dbug.c:376: warning: (near initialization for `static_code_state')
dbug.c:377: warning: excess elements in scalar initializer
dbug.c:377: warning: (near initialization for `static_code_state')
dbug.c:377: warning: data definition has no type or storage class
dbug.c: In function `_db_push_':
dbug.c:499: error: `reg1' undeclared (first use in this function)
dbug.c:499: error: (Each undeclared identifier is reported only once
dbug.c:499: error: for each function it appears in.)
dbug.c:499: error: parse error before "char"
dbug.c:500: error: `reg2' undeclared (first use in this function)
dbug.c:501: error: `state' undeclared (first use in this function)
dbug.c:505: error: `stderr' undeclared (first use in this function)
dbug.c:519: error: `scan' undeclared (first use in this function)
dbug.c:523: error: `TRUE' undeclared (first use in this function)
dbug.c:524: error: dereferencing pointer to incomplete type
dbug.c:526: error: dereferencing pointer to incomplete type
dbug.c:530: error: dereferencing pointer to incomplete type
dbug.c:532: error: `temp' undeclared (first use in this function)
dbug.c:533: error: dereferencing pointer to incomplete type
dbug.c:539: error: dereferencing pointer to incomplete type
dbug.c:543: error: dereferencing pointer to incomplete type
dbug.c:546: error: dereferencing pointer to incomplete type
dbug.c:553: error: dereferencing pointer to incomplete type
dbug.c:555: error: dereferencing pointer to incomplete type
dbug.c:560: error: dereferencing pointer to incomplete type
dbug.c:563: error: dereferencing pointer to incomplete type
dbug.c:566: error: dereferencing pointer to incomplete type
dbug.c:570: error: dereferencing pointer to incomplete type
dbug.c:583: error: dereferencing pointer to incomplete type
dbug.c:587: error: dereferencing pointer to incomplete type
dbug.c:590: error: dereferencing pointer to incomplete type
dbug.c:593: error: dereferencing pointer to incomplete type
dbug.c:596: error: dereferencing pointer to incomplete type
dbug.c:601: error: dereferencing pointer to incomplete type
dbug.c: In function `_db_pop_':
dbug.c:628: error: `reg1' undeclared (first use in this function)
dbug.c:628: error: parse error before "struct"
dbug.c:629: error: `discard' undeclared (first use in this function)
dbug.c:632: error: dereferencing pointer to incomplete type
dbug.c:633: error: dereferencing pointer to incomplete type
dbug.c:650: error: dereferencing pointer to incomplete type
dbug.c: At top level:
dbug.c:701: error: parse error before "uint"
dbug.c:723: error: `state' undeclared here (not in a function)
dbug.c:723: warning: data definition has no type or storage class
dbug.c:724: warning: data definition has no type or storage class
dbug.c:725: error: parse error before '->' token
dbug.c:727: warning: data definition has no type or storage class
dbug.c:729: warning: data definition has no type or storage class
dbug.c:730: error: parse error before '->' token
dbug.c:741: error: initializer element is not constant
dbug.c:741: warning: data definition has no type or storage class
dbug.c:742: error: parse error before '}' token
dbug.c:757: warning: parameter names (without types) in function declaration
dbug.c:757: error: conflicting types for 'DoPrefix'
dbug.c:287: error: previous declaration of 'DoPrefix' was here
dbug.c:757: error: conflicting types for 'DoPrefix'
dbug.c:287: error: previous declaration of 'DoPrefix' was here
dbug.c:757: warning: data definition has no type or storage class
dbug.c:758: error: parse error before '->' token
dbug.c:758: error: conflicting types for 'Indent'
dbug.c:289: error: previous declaration of 'Indent' was here
dbug.c:758: error: conflicting types for 'Indent'
dbug.c:289: error: previous declaration of 'Indent' was here
dbug.c:758: warning: data definition has no type or storage class
dbug.c:759: error: parse error before "void"
dbug.c:760: warning: parameter names (without types) in function declaration
dbug.c:760: error: conflicting types for 'dbug_flush'
dbug.c:291: error: previous declaration of 'dbug_flush' was here
dbug.c:760: error: conflicting types for 'dbug_flush'
dbug.c:291: error: previous declaration of 'dbug_flush' was here
dbug.c:760: warning: data definition has no type or storage class
dbug.c:761: error: parse error before '}' token
dbug.c:767: error: function `__errno_location' is initialized like a variable
dbug.c:767: error: `save_errno' undeclared here (not in a function)
dbug.c:767: warning: data definition has no type or storage class
dbug.c:768: error: parse error before '}' token
dbug.c:794: error: parse error before "_line_"
dbug.c: In function `_db_return_':
dbug.c:808: error: dereferencing pointer to incomplete type
dbug.c:830: error: `_line_' undeclared (first use in this function)
dbug.c: At top level:
dbug.c:870: error: parse error before "_line_"
dbug.c: In function `_db_pargs_':
dbug.c:877: error: `_line_' undeclared (first use in this function)
dbug.c:878: error: `keyword' undeclared (first use in this function)
dbug.c: In function `_db_doprnt_':
dbug.c:923: error: dereferencing pointer to incomplete type
dbug.c: At top level:
dbug.c:957: error: parse error before "_line_"
dbug.c: In function `_db_dump_':
dbug.c:968: error: `keyword' undeclared (first use in this function)
dbug.c:972: error: `_line_' undeclared (first use in this function)
dbug.c:973: error: dereferencing pointer to incomplete type
dbug.c:976: error: dereferencing pointer to incomplete type
dbug.c:983: error: `ulong' undeclared (first use in this function)
dbug.c:983: error: parse error before "memory"
dbug.c:987: error: `length' undeclared (first use in this function)
dbug.c:989: error: `uint' undeclared (first use in this function)
dbug.c:989: error: parse error before "tmp"
dbug.c:995: error: `_dig_vec_upper' undeclared (first use in this function)
dbug.c:995: error: `tmp' undeclared (first use in this function)
dbug.c: At top level:
dbug.c:1014: error: parse error before "flag"
dbug.c: In function `_db_output_':
dbug.c:1019: error: `flag' undeclared (first use in this function)
dbug.c: In function `InList':
dbug.c:1103: error: `TRUE' undeclared (first use in this function)
dbug.c: In function `PushState':
dbug.c:1146: error: `TRUE' undeclared (first use in this function)
dbug.c:1149: error: invalid application of `sizeof' to incomplete type `state'
dbug.c:1150: error: dereferencing pointer to incomplete type
dbug.c:1151: error: dereferencing pointer to incomplete type
dbug.c:1152: error: dereferencing pointer to incomplete type
dbug.c:1153: error: dereferencing pointer to incomplete type
dbug.c:1154: error: dereferencing pointer to incomplete type
dbug.c:1154: error: `stderr' undeclared (first use in this function)
dbug.c:1155: error: dereferencing pointer to incomplete type
dbug.c:1155: error: parse error before ')' token
dbug.c:1156: error: dereferencing pointer to incomplete type
dbug.c:1157: error: dereferencing pointer to incomplete type
dbug.c:1158: error: dereferencing pointer to incomplete type
dbug.c:1159: error: dereferencing pointer to incomplete type
dbug.c:1160: error: dereferencing pointer to incomplete type
dbug.c: At top level:
dbug.c:1184: error: parse error before '*' token
dbug.c: In function `DoTrace':
dbug.c:1186: error: `reg2' undeclared (first use in this function)
dbug.c:1186: error: parse error before "BOOLEAN"
dbug.c:1188: error: dereferencing pointer to incomplete type
dbug.c:1189: error: dereferencing pointer to incomplete type
dbug.c:1190: error: dereferencing pointer to incomplete type
dbug.c:1191: error: dereferencing pointer to incomplete type
dbug.c:1192: error: `trace' undeclared (first use in this function)
dbug.c:1192: error: `TRUE' undeclared (first use in this function)
dbug.c: In function `DoProfile':
dbug.c:1224: error: dereferencing pointer to incomplete type
dbug.c:1225: error: dereferencing pointer to incomplete type
dbug.c:1226: error: dereferencing pointer to incomplete type
dbug.c:1227: error: dereferencing pointer to incomplete type
dbug.c:1228: error: `TRUE' undeclared (first use in this function)
dbug.c: In function `_db_keyword_':
dbug.c:1271: error: dereferencing pointer to incomplete type
dbug.c:1272: error: dereferencing pointer to incomplete type
dbug.c:1273: error: dereferencing pointer to incomplete type
dbug.c:1274: error: dereferencing pointer to incomplete type
dbug.c:1275: error: dereferencing pointer to incomplete type
dbug.c:1276: error: `TRUE' undeclared (first use in this function)
dbug.c: At top level:
dbug.c:1303: error: conflicting types for 'Indent'
dbug.c:758: error: previous declaration of 'Indent' was here
dbug.c:1303: error: conflicting types for 'Indent'
dbug.c:758: error: previous declaration of 'Indent' was here
dbug.c: In function `Indent':
dbug.c:1306: error: dereferencing pointer to incomplete type
dbug.c: In function `StrDup':
dbug.c:1372: error: `reg1' undeclared (first use in this function)
dbug.c:1372: error: parse error before "char"
dbug.c:1373: error: `new_malloc' undeclared (first use in this function)
dbug.c:1373: error: `size_t' undeclared (first use in this function)
dbug.c:1373: error: parse error before "strlen"
dbug.c: At top level:
dbug.c:1399: error: parse error before "_line_"
dbug.c:1400: error: conflicting types for 'DoPrefix'
dbug.c:757: error: previous declaration of 'DoPrefix' was here
dbug.c:1400: error: conflicting types for 'DoPrefix'
dbug.c:757: error: previous declaration of 'DoPrefix' was here
dbug.c: In function `DoPrefix':
dbug.c:1405: error: dereferencing pointer to incomplete type
dbug.c:1412: error: dereferencing pointer to incomplete type
dbug.c:1415: error: dereferencing pointer to incomplete type
dbug.c:1418: error: dereferencing pointer to incomplete type
dbug.c:1421: error: dereferencing pointer to incomplete type
dbug.c:1422: error: `_line_' undeclared (first use in this function)
dbug.c:1424: error: dereferencing pointer to incomplete type
dbug.c: In function `DBUGOpenFile':
dbug.c:1449: error: syntax error before '*' token
dbug.c:1454: error: dereferencing pointer to incomplete type
dbug.c:1457: error: `stdout' undeclared (first use in this function)
dbug.c:1458: error: dereferencing pointer to incomplete type
dbug.c:1459: error: dereferencing pointer to incomplete type
dbug.c:1463: error: `TRUE' undeclared (first use in this function)
dbug.c:1465: error: `stderr' undeclared (first use in this function)
dbug.c:1472: error: `fp' undeclared (first use in this function)
dbug.c:1481: error: dereferencing pointer to incomplete type
dbug.c: At top level:
dbug.c:1519: error: parse error before '*' token
dbug.c: In function `OpenProfile':
dbug.c:1521: error: syntax error before '*' token
dbug.c:1524: error: `fp' undeclared (first use in this function)
dbug.c:1525: error: `TRUE' undeclared (first use in this function)
dbug.c:1530: error: `uint' undeclared (first use in this function)
dbug.c:1530: error: parse error before "stack"
dbug.c:1544: error: dereferencing pointer to incomplete type
dbug.c: At top level:
dbug.c:1573: error: parse error before '*' token
dbug.c: In function `CloseFile':
dbug.c:1575: error: `fp' undeclared (first use in this function)
dbug.c:1575: error: `stderr' undeclared (first use in this function)
dbug.c:1575: error: `stdout' undeclared (first use in this function)
dbug.c:1576: error: `EOF' undeclared (first use in this function)
dbug.c: In function `DbugExit':
dbug.c:1607: error: `stderr' undeclared (first use in this function)
dbug.c: At top level:
dbug.c:1634: error: parse error before "size"
dbug.c: In function `DbugMalloc':
dbug.c:1638: error: `size_t' undeclared (first use in this function)
dbug.c:1638: error: parse error before "size"
dbug.c: At top level:
dbug.c:1649: error: parse error before "pchar"
dbug.c: In function `static_strtok':
dbug.c:1652: error: `reg1' undeclared (first use in this function)
dbug.c:1652: error: parse error before "char"
dbug.c:1654: error: `rtnval' undeclared (first use in this function)
dbug.c:1655: error: `s1' undeclared (first use in this function)
dbug.c:1659: error: `cpy' undeclared (first use in this function)
dbug.c:1662: error: `separator' undeclared (first use in this function)
dbug.c: In function `BaseName':
dbug.c:1700: error: `FN_LIBCHAR' undeclared (first use in this function)
dbug.c: In function `DelayArg':
dbug.c:1891: error: `uint' undeclared (first use in this function)
dbug.c:1891: error: parse error before "delayarg"
dbug.c:1894: error: `delayarg' undeclared (first use in this function)
dbug.c: In function `perror':
dbug.c:1947: error: `stderr' undeclared (first use in this function)
dbug.c: At top level:
dbug.c:1958: error: parse error before '*' token
dbug.c:1959: error: conflicting types for 'dbug_flush'
dbug.c:760: error: previous declaration of 'dbug_flush' was here
dbug.c:1959: error: conflicting types for 'dbug_flush'
dbug.c:760: error: previous declaration of 'dbug_flush' was here
dbug.c: In function `dbug_flush':
dbug.c:1961: error: dereferencing pointer to incomplete type
dbug.c:1980: error: dereferencing pointer to incomplete type
dbug.c:1981: error: `uint' undeclared (first use in this function)
dbug.c:1981: error: parse error before "stack"
dbug.c: At top level:
dbug.c:212: error: storage size of `name' isn't known
make[2]: *** [dbug.lo] Error 1
make[2]: *** Waiting for unfinished jobs....
 gcc -DDEFAULT_CHARSET_HOME=\"/usr\" -DDATADIR=\"/var/lib/mysql\" -DSHAREDIR=\"/usr/share/mysql\" -DDONT_USE_RAID -DMYSQL_CLIENT -fPIC -I. -I. -I.. -I../include -I../include -I/usr/include -O3 -DDBUG_OFF -march=pentium3 -O3 -pipe -fomit-frame-pointer -DHAVE_ERRNO_AS_DEFINE=1 -MT pack.lo -MD -MP -MF .deps/pack.Tpo -c pack.c  -fPIC -DPIC -o .libs/pack.o
 gcc -DDEFAULT_CHARSET_HOME=\"/usr\" -DDATADIR=\"/var/lib/mysql\" -DSHAREDIR=\"/usr/share/mysql\" -DDONT_USE_RAID -DMYSQL_CLIENT -fPIC -I. -I. -I.. -I../include -I../include -I/usr/include -O3 -DDBUG_OFF -march=pentium3 -O3 -pipe -fomit-frame-pointer -DHAVE_ERRNO_AS_DEFINE=1 -MT pack.lo -MD -MP -MF .deps/pack.Tpo -c pack.c -o pack.o >/dev/null 2>&1
make[2]: Leaving directory `/var/tmp/portage/mysql-4.1.14/work/mysql/libmysql_r'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/mysql-4.1.14/work/mysql'
make: *** [all] Error 2

!!! ERROR: dev-db/mysql-4.1.14 failed.
!!! Function src_compile, Line 352, Exitcode 2
!!! compile problem
!!! If you need support, post the topmost build error, NOT this status message.

nuphp5 ~ # find $(portageq envvar PORTAGE_TMPDIR)/portage/mysql-4.1.14/work/mysql/include
/var/tmp/portage/mysql-4.1.14/work/mysql/include
/var/tmp/portage/mysql-4.1.14/work/mysql/include/my_handler.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/config-netware.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/Makefile
/var/tmp/portage/mysql-4.1.14/work/mysql/include/sql_state.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/my_global.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/help_end.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/my_config.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/md5.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/my_getopt.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/errmsg.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/sslopt-case.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/thr_lock.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/thr_alarm.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/mysql_embed.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/mysys_err.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/typelib.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/my_semaphore.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/config-os2.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/config-win.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/merge.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/my_pthread.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/mysql_version.h.in
/var/tmp/portage/mysql-4.1.14/work/mysql/include/help_start.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/sslopt-vars.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/hash.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/heap.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/Makefile.am
/var/tmp/portage/mysql-4.1.14/work/mysql/include/Makefile.in
/var/tmp/portage/mysql-4.1.14/work/mysql/include/mysql_com.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/rijndael.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/myisammrg.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/nisam.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/mysql.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/raid.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/sha1.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/ft_global.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/my_aes.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/my_dir.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/my_no_pthread.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/queues.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/my_net.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/my_base.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/my_sys.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/my_xml.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/my_dbug.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/violite.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/my_bitmap.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/sql_common.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/sslopt-longopts.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/keycache.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/myisam.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/m_ctype.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/my_list.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/mysql_version.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/my_nosys.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/mysqld_error.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/t_ctype.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/myisampack.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/my_alarm.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/mysql_time.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/my_alloc.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/my_time.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/m_string.h
/var/tmp/portage/mysql-4.1.14/work/mysql/include/my_tree.h




Comment 4


Francesco R. (RETIRED)






          2005-12-26 16:06:27 UTC
        

try also this:

tar -zxvf $(portageq envvar DISTDIR)/mysql-4.1.14.tar.gz
cd mysql-4.1.14
./configure
./make

if this can't reproduce it, chances are that the portage building system has a problem (not happy with PORTAGE_TMPDIR ?)

Cheers




Comment 5


Markus Tacker





          2006-01-05 06:25:08 UTC
        

Succuessfully merged now.
Sorry for this.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

