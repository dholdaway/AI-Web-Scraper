Title: 633762 – (crossguid-0.1) Crossguid 0.2 is provided, but not 0.1 Kodi 17.4 requires 0.1
URL: https://bugs.gentoo.org/show_bug.cgi?id=633762

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 633762
Crossguid 0.2 is provided, but not 0.1 Kodi 17.4 requires 0.1
Last modified: 2018-03-03 12:40:57 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 633762 
        (crossguid-0.1)
      - Crossguid 0.2 is provided, but not 0.1 Kodi 17.4 requires 0.1


Summary:
Crossguid 0.2 is provided, but not 0.1 Kodi 17.4 requires 0.1
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:

crossguid-0.1
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

ARM
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:



https://github.com/graeme-hill/crossguid




Whiteboard:




Keywords:

EBUILD







Depends on:







Blocks:









 





      Reported:
    
2017-10-08 13:26 UTC by Walter Hüttenmeyer





      Modified:
    
2018-03-03 12:40 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



arm
jstein









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Walter Hüttenmeyer





          2017-10-08 13:26:56 UTC
        

When installing Kodi-17.4 on ARM (raspberrypi-3) it fails during linking with undefined references to crossguid.

According to the github page it says that 0.2 is available there and has changed the API so calls valid in 0.1 are not working anymore.

If Kodi is compiled with the portage tree crossguid, it fails.
Using the kodi internal crossguid, it works.

Likely providing an 0.1 version and updating the ebuild will resolve this.




Comment 1


Jory A. Pratt






          2017-10-08 14:00:57 UTC
        

(In reply to Walter Hüttenmeyer from comment #0)
> When installing Kodi-17.4 on ARM (raspberrypi-3) it fails during linking
> with undefined references to crossguid.
> 
> According to the github page it says that 0.2 is available there and has
> changed the API so calls valid in 0.1 are not working anymore.
> 
> If Kodi is compiled with the portage tree crossguid, it fails.
> Using the kodi internal crossguid, it works.
> 
> Likely providing an 0.1 version and updating the ebuild will resolve this.

You need to provide a build log, only version of crossguid in the tree supported 0.1 only already.




Comment 2


Walter Hüttenmeyer





          2017-10-09 14:43:37 UTC
        

(In reply to Jory A. Pratt from comment #1)
That's a weird sorcery which is going on here.
Tried again today and made sure it was using the gentoo-provided crossguid.
(Sure enough, I disabled the use of the internal crossguid in the ebuild)

Relevant log section:
####
-- Found TagLib: /usr/lib/libtag.so (found version "1.11.1") 
-- Warning: FFmpeg version checking disabled, resulting build is unsupported!
-- Found FFMPEG: /usr/include (found version "undef") 
-- Found CrossGuid: /usr/lib/libcrossguid.a  
-- Found UUID: /usr/lib/libuuid.so (found version "2.28.2") 
-- Found LCMS2: /usr/lib/liblcms2.so (found version "2.8") 
-- Found MicroHttpd: /usr/lib/libmicrohttpd.so (found version "0.9.52") 
####
rpi3 /mnt/D3/log/portage # equery files crossguid
 * Contents of dev-libs/crossguid-0_pre20150817:
/usr
/usr/include
/usr/include/guid.h
/usr/lib
/usr/lib/libcrossguid.a
####

Excluded my CFLAGS from the list of suspects. It built with "-O2 -pipe -fomit-frame-pointer -march=armv8-a+crc -mtune=cortex-a53 -mfloat-abi=hard -mfpu=crypto-neon-fp-armv8" (I consider them safe for an ARM arch)

And it built with
"-O2 -pipe -fomit-frame-pointer -march=armv8-a+crc -mtune=cortex-a53 -mfloat-abi=hard -mfpu=crypto-neon-fp-armv8 -mfp16-format=alternative -mno-fix-cortex-m3-ldrd -mno-restrict-it -mtls-dialect=gnu2 -funsafe-math-optimizations -flto=4 -fno-fat-lto-objects -fuse-linker-plugin"

Please close this as I cannot reproduce what has happened.




Comment 3


Jonas Stein






          2017-10-09 16:12:42 UTC
        

some hints for next time:
Please use cat/pkg in the title

Please *attach* the logfiles,
https://wiki.gentoo.org/wiki/Bugzilla/Bug_report_guide#Report_a_build-time_bug_.28emerge_failed.29

there was no reason for an alias. You can leave that open next time.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

