Title: 689778 – sci-geosciences/qgis-3.4.7 should depend on dev-python/psycopg - qgis: ModuleNotFoundError: No module named 'psycopg2'
URL: https://bugs.gentoo.org/show_bug.cgi?id=689778

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 689778
sci-geosciences/qgis-3.4.7 should depend on dev-python/psycopg - qgis: ModuleNotFoundError: No module named 'psycopg2'
Last modified: 2020-01-01 09:12:41 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 689778 
      - sci-geosciences/qgis-3.4.7 should depend on dev-python/psycopg - qgis: ModuleNotFoundError: No module named 'psycopg2'


Summary:
sci-geosciences/qgis-3.4.7 should depend on dev-python/psycopg - qgis: Module...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Sci-geo Project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2019-07-13 14:52 UTC by Martin Mokrejš





      Modified:
    
2020-01-01 09:12 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



dan









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Martin Mokrejš





          2019-07-13 14:52:30 UTC
        

Hi,
  upon qgis startup I get into the main window:

ModuleNotFoundError: No module named 'psycopg2' 
Traceback (most recent call last):
  File "/usr/lib64/python3.6/site-packages/qgis/utils.py", line 309, in loadPlugin
    __import__(packageName)
  File "/usr/lib64/python3.6/site-packages/qgis/utils.py", line 672, in _import
    mod = _builtin_import(name, globals, locals, fromlist, level)
  File "/usr/share/qgis/python/plugins/processing/__init__.py", line 28, in 
    from processing.tools.dataobjects import *          # NOQA
  File "/usr/lib64/python3.6/site-packages/qgis/utils.py", line 672, in _import
    mod = _builtin_import(name, globals, locals, fromlist, level)
  File "/usr/share/qgis/python/plugins/processing/tools/dataobjects.py", line 51, in 
    from processing.algs.gdal.GdalUtils import GdalUtils
  File "/usr/lib64/python3.6/site-packages/qgis/utils.py", line 672, in _import
    mod = _builtin_import(name, globals, locals, fromlist, level)
  File "/usr/share/qgis/python/plugins/processing/algs/gdal/GdalUtils.py", line 34, in 
    import psycopg2
  File "/usr/lib64/python3.6/site-packages/qgis/utils.py", line 672, in _import
    mod = _builtin_import(name, globals, locals, fromlist, level)
ModuleNotFoundError: No module named 'psycopg2'


Verze Pythonu: 3.6.8 (default, Mar 16 2019, 19:50:14) [GCC 8.3.0] 
QGIS verze: 3.4.7-Madeira Madeira, exported 


Indeed, I do not have dev-python/psycopg-2.7.7 installed.




Comment 1


Andreas Sturmlechner






          2019-10-20 08:51:46 UTC
        

Actually, qgis does depend on dev-python/psycopg with USE="postgres,python".

There's an elog with USE="python -postgres":

> * Support of PostgreSQL is disabled.
> * But some installed python-plugins import the psycopg2 module.
> * If you do not need these plugins just disable them
> * in the Plugins menu, else you need to set USE="postgres"









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

