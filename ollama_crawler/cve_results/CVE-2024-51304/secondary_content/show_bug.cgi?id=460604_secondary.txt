Title: 460604 – =sys-fs/udev-197-r8: missing GUdev-1.0.gir in src_install (?)
URL: https://bugs.gentoo.org/show_bug.cgi?id=460604

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 460604
=sys-fs/udev-197-r8: missing GUdev-1.0.gir in src_install (?)
Last modified: 2013-03-07 12:48:34 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 460604 
      - =sys-fs/udev-197-r8: missing GUdev-1.0.gir in src_install (?)


Summary:
=sys-fs/udev-197-r8: missing GUdev-1.0.gir in src_install (?)
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Core system

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

udev maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2013-03-06 21:58 UTC by Bodo Graumann





      Modified:
    
2013-03-07 12:48 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



gnome









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build log

              (udev.out,542.62 KB,
                text/plain)

            
2013-03-06 22:00 UTC,

            Bodo Graumann




Details





emerge build log

              (udev.log2,540.52 KB,
                text/plain)

            
2013-03-07 11:22 UTC,

            Bodo Graumann




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Bodo Graumann





          2013-03-06 21:58:44 UTC
        

When I try to install the latest stable udev version 197-r8 using either paludis' cave or portages emerge, src_install can't find the directory './src/gudev/GUdev-1.0.gir'. The following error is shown:

 /usr/bin/install -c -m 644 ./src/gudev/GUdev-1.0.gir '/var/tmp/paludis/sys-fs-udev-197-r8/image//usr/share/gir-1.0'
/usr/bin/install: cannot stat './src/gudev/GUdev-1.0.gir': No such file or directory



Reproducible: Always




# emerge --info
Portage 2.1.11.52 (default/linux/amd64/13.0/desktop/kde, gcc-4.5.4, glibc-2.15-r3, 3.0.35-tuxonice x86_64)
=================================================================
System uname: Linux-3.0.35-tuxonice-x86_64-AMD_Athlon-tm-_64_X2_Dual_Core_Processor_5600+-with-gentoo-2.1
KiB Mem:     4055824 total,    249648 free
KiB Swap:    8000332 total,   7590716 free
Timestamp of tree: Wed, 06 Mar 2013 08:15:01 +0000
ld GNU ld (GNU Binutils) 2.22
distcc 3.1 x86_64-pc-linux-gnu [disabled]
app-shells/bash:          4.2_p37::<unknown repository>
dev-java/java-config:     2.1.11-r3::<unknown repository>
dev-lang/python:          2.7.2-r3::<unknown repository>, 3.2.3::<unknown repository>
dev-util/cmake:           2.8.6-r4::<unknown repository>
dev-util/pkgconfig:       0.26
sys-apps/baselayout:      2.1-r1::<unknown repository>
sys-apps/openrc:          0.11.5::<unknown repository>
sys-apps/sandbox:         2.5::<unknown repository>
sys-devel/autoconf:       2.13::<unknown repository>, 2.68
sys-devel/automake:       1.9.6-r3, 1.10.3::<unknown repository>, 1.11.1
sys-devel/binutils:       2.22-r1::<unknown repository>
sys-devel/gcc:            4.4.6-r1::<unknown repository>, 4.5.4::<unknown repository>, 4.6.3::<unknown repository>
sys-devel/gcc-config:     1.7.3::<unknown repository>
sys-devel/libtool:        2.4-r1::<unknown repository>
sys-devel/make:           3.82-r3::<unknown repository>
sys-kernel/linux-headers: 3.1::<unknown repository> (virtual/os-headers)
sys-libs/glibc:           2.15-r3::<unknown repository>
Repositories: gentoo
ACCEPT_KEYWORDS="amd64"
ACCEPT_LICENSE="* -@EULA"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=athlon64 -O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/config /usr/share/gnupg/qualified.txt /usr/share/themes/oxygen-gtk/gtk-2.0 /var/bind /var/lib/hsqldb"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/dconf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php5.3/ext-active/ /etc/php/apache2-php5.4/ext-active/ /etc/php/cgi-php5.3/ext-active/ /etc/php/cgi-php5.4/ext-active/ /etc/php/cli-php5.3/ext-active/ /etc/php/cli-php5.4/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c"
CXXFLAGS="-march=athlon64 -O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FCFLAGS="-O2 -pipe"
FEATURES="assume-digests binpkg-logs config-protect-if-modified distlocks ebuild-locks fixlafiles merge-sync news parallel-fetch protect-owned sandbox sfperms strict unknown-features-warn unmerge-logs unmerge-orphans userfetch"
FFLAGS="-O2 -pipe"
GENTOO_MIRRORS="http://mirror.switch.ch/ftp/mirror/gentoo/ http://mirrors.sec.informatik.tu-darmstadt.de/gentoo/ http://gentoo.intergenia.de"
LANG="de_DE.utf8"
LDFLAGS="-Wl,-O1 -Wl,--as-needed"
MAKEOPTS="-j4"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --human-readable --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY=""
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="3dnow 3dnowext X a52 aac aalib accessibility acl acpi alsa amd64 apache2 bash-completion bcmath berkdb branding bzip2 cairo cdda cdparanoia cdr cli consolekit cracklib crypt cups curl cxx dbus declarative djvu dri dts dvd dvdr emboss encode exif fam ffmpeg firefox flac fontconfig fortran gd gdbm gif gpm gtk hash iconv imap ipv6 jack java javascript jpeg jpeg2k kde kipi kpathsea latex latin1 lcms libcaca libnotify mad mmx mmxext mng modules mp3 mp4 mpeg mudflap multilib mysql mysqli ncurses nls nptl nsplugin ogg openal opengl openmp oss pam pango pcre pdf phonon php plasma png policykit ppds qt3support qt4 readline sdl semantic-desktop session slang sockets spell sse sse2 ssl startup-notification svg tcpd themes theora tiff tk truetype udev udisks unicode upower usb v4l vcd vorbis wxwidgets x264 xcb xcomposite xine xinerama xml xscreensaver xv xvid zlib" ABI_X86="64" ALSA_CARDS="snd-intel-hda" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic auth_digest authn_anon authn_dbd authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock dbd deflate dir disk_cache env expires ext_filter file_cache filter headers ident imagemap include info log_config logio mem_cache mime mime_magic negotiation proxy proxy_ajp proxy_balancer proxy_connect proxy_http rewrite setenvif so speling status unique_id userdir usertrack vhost_alias" CALLIGRA_FEATURES="kexi words flow plan sheets stage tables krita karbon braindump" CAMERAS="ptp2" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf superstar2 timing tsip tripmate tnt ubx" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LIBREOFFICE_EXTENSIONS="presenter-console presenter-minimizer" LINGUAS="de en en_GB" PHP_TARGETS="php5-3" PYTHON_SINGLE_TARGET="python2_7" PYTHON_TARGETS="python2_7 python3_2" RUBY_TARGETS="ruby18 ruby19" USERLAND="GNU" VIDEO_CARDS="nv nvidia vesa vga" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LC_ALL, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, USE_PYTHON




Comment 1


Bodo Graumann





          2013-03-06 22:00:29 UTC
        

Created attachment 341168 [details]
build log




Comment 2


Samuli Suominen (RETIRED)






          2013-03-07 09:55:06 UTC
        

build.log using Portage will show useful information like what USE flags was set in the top, the one attached doesn't have it




Comment 3


Samuli Suominen (RETIRED)






          2013-03-07 10:47:58 UTC
        

Try re-emerging or upgrading gobject-introspection. As a workaround, you can use USE="-introspection" for udev too.




Comment 4


Bodo Graumann





          2013-03-07 11:22:12 UTC
        

Created attachment 341224 [details]
emerge build log




Comment 5


Bodo Graumann





          2013-03-07 11:24:25 UTC
        

Neither re-emerging gobject-introspection nor installing udev without the introspection USE-flag brought any improvement.




Comment 6


Samuli Suominen (RETIRED)






          2013-03-07 11:50:24 UTC
        

Does installation of dev-libs/gobject-introspection-common match the version of dev-libs/gobject-introspection?
Does re-installing dev-libs/gobject-introspection-common help?




Comment 7


Samuli Suominen (RETIRED)






          2013-03-07 11:53:12 UTC
        

There should be references to "g-ir-scanner" and "g-ir-compiler" many times in the log, and I don't see any of that in your log
The makefile that does this comes from the gobject-introspection-common package




Comment 8


Samuli Suominen (RETIRED)






          2013-03-07 12:30:46 UTC
        

(In reply to comment #5)
> Neither re-emerging gobject-introspection nor installing udev without the
> introspection USE-flag brought any improvement.

Surely the output should be entirely different with USE="-introspection" -- paste one of those build.logs too




Comment 9


Bodo Graumann





          2013-03-07 12:47:16 UTC
        

I reinstalled gobject-introspection-common-1.32.1 and now the installation of udev works. (gobject-introspection(-common) both where already at 1.32.1 before)




Comment 10


Samuli Suominen (RETIRED)






          2013-03-07 12:48:34 UTC
        

(In reply to comment #9)
> I reinstalled gobject-introspection-common-1.32.1 and now the installation
> of udev works. (gobject-introspection(-common) both where already at 1.32.1
> before)

Okay. If you ever figure out what happened that broke your gobject-introspection-common installation, let us know!

I'll close this now since it works for you.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

