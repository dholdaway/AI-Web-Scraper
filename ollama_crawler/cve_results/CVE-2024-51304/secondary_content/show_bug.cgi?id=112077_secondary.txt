Title: 112077 – Alsa-lib depends gentoo-sources
URL: https://bugs.gentoo.org/show_bug.cgi?id=112077

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 112077
Alsa-lib depends gentoo-sources
Last modified: 2005-11-10 06:01:14 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 112077 
      - Alsa-lib depends gentoo-sources


Summary:
Alsa-lib depends gentoo-sources
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       minor
      


Assignee:

Gentoo Linux bug wranglers








URL:



http://nidoranz.dyndns.org/~itamboer/...
        




Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-11-10 05:51 UTC by Ivo Tamboer





      Modified:
    
2005-11-10 06:01 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Ivo Tamboer





          2005-11-10 05:51:31 UTC
        

I've created my own suspendable kernel, and thus added the line
"sys-kernel/suspend2-sources-2.6.14_rc3" to
"/etc/portage/profile/package.provided" (my kernel is 2.6.14_rc3).

Now, when trying to emerge world, alsa-lib thinks it should emerge
"sys-kernel/gentoo-sources-2.6.13-r5". I'd guess somehow it accidently depends
on the gentoo-sources instead of the generic kernel instance.

Also adding  "sys-kernel/vanilla-sources-2.6.14_rc3" (which does excist as an
ebuild) to package.provided doesn't fix the problem.

Reproducible: Always
Steps to Reproduce:
1. uninstall all your kernels from portage
2. install a kernel yourself

-- alsa-lib now wants the gentoo-sources. Not a problem, because gentoo-sources
are the default kernel, and as far as gentoo knows, there isn't any available yet --

3. add non-gentoo kernel sources to package.provided

Actual Results:  
emerge -vauDN world wants to install gentoo-sources-2.6.13-r5
found out after experimenting with package.mask this is a dependency of
alsa-lib-1.0.9

Expected Results:  
emerge -vauDN world doesn't want to install gentoo-sources-2.6.13-r5, because
there is already a kernel installed

wolrd file:
sys-fs/squashfs-tools
media-video/ogle
net-misc/openvpn
net-misc/xsupplicant
dev-lang/swi-prolog-lite
media-sound/alsa-utils
games-emulation/dosbox
app-shells/bash-completion
games-emulation/epsxe
www-client/lynx
sys-kernel/linux-headers
www-client/links
www-servers/monkeyd
dev-db/phpmyadmin
media-video/mplayer
media-sound/xmms
app-cdr/k3b
dev-php/php
media-libs/alsa-lib
app-office/openoffice-bin
media-gfx/gqview
media-sound/timidity-shompatches
media-sound/vkeybd
media-sound/rosegarden
media-gfx/xfig
net-misc/dhcpcd
games-emulation/zsnes
app-pda/jpilot
sys-power/cpuspeedy
www-apps/phpmp
games-emulation/psemu-padjoy
sys-libs/glibc
www-client/mozilla-firefox
media-sound/rhythmbox
sys-power/acpid
net-fs/nfs-utils
app-arch/gzip
app-admin/ide-smart
net-misc/tightvnc
media-video/xine-ui
media-sound/timidity++
app-text/xpdf
mail-client/mozilla-thunderbird
x11-wm/fluxbox
app-portage/gentoolkit
media-gfx/imagemagick
media-sound/timidity-eawpatches
media-sound/mpd
net-wireless/ndiswrapper
app-editors/vim
sys-apps/vbetool

last emerge-vauDN world: 2 day's ago




Comment 1


Jakub Moc (RETIRED)






          2005-11-10 06:01:14 UTC
        

(In reply to comment #0)
> I've created my own suspendable kernel, and thus added the line
> "sys-kernel/suspend2-sources-2.6.14_rc3" to
> "/etc/portage/profile/package.provided" (my kernel is 2.6.14_rc3).

Won't work, you need something like:

echo "sys-kernel/vanilla-sources-2.6.99" >> /etc/portage/profile/package.provided
echo "virtual/alsa sys-kernel/vanilla-sources" >> /etc/portage/profile/virtuals
echo "virtual/linux-sources sys-kernel/vanilla-sources" >>
/etc/portage/profile/virtuals










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

