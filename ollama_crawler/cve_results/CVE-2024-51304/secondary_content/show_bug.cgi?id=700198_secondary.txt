Title: 700198 – blas-reference, cblas-reference packages block lapack upgrades
URL: https://bugs.gentoo.org/show_bug.cgi?id=700198

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 700198
blas-reference, cblas-reference packages block lapack upgrades
Last modified: 2021-10-25 10:03:17 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 700198 
      - blas-reference, cblas-reference packages block lapack upgrades


Summary:
blas-reference, cblas-reference packages block lapack upgrades
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Science Related Packages








URL:



https://wiki.gentoo.org/wiki/Blas-lap...
        




Whiteboard:




Keywords:








Depends on:




700196



Blocks:







 

        Show dependency tree





 





      Reported:
    
2019-11-16 01:40 UTC by Harley Wiltzer





      Modified:
    
2021-10-25 10:03 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



smopucilowski









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Output of emerge --info

              (emerge-info,6.20 KB,
                text/plain)

            
2019-11-16 01:40 UTC,

            Harley Wiltzer




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Harley Wiltzer





          2019-11-16 01:40:42 UTC
        

Created attachment 596306 [details]
Output of emerge --info

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild     U  ] sys-apps/kmod-26-r3::gentoo [26-r2::gentoo] USE="tools zlib -debug -doc -libressl -lzma -pkcs7% -python -static-libs (-ssl%*)" PYTHON_TARGETS="python2_7 python3_6 -python3_5 (-python3_7)" 0 KiB
[ebuild     U  ] sys-apps/acl-2.2.53::gentoo [2.2.52-r1::gentoo] USE="nls (split-usr) -static-libs" ABI_X86="(64) -32 (-x32)" 513 KiB
[ebuild     U  ] media-libs/flac-1.3.3::gentoo [1.3.2-r1::gentoo] USE="cxx ogg (-altivec) -debug -static-libs" ABI_X86="(64) -32 (-x32)" CPU_FLAGS_X86="-sse" 1,020 KiB
[ebuild     U  ] app-eselect/eselect-blas-0.2::gentoo [0.1::gentoo] 0 KiB
[ebuild     U  ] x11-libs/libnotify-0.7.8::gentoo [0.7.7-r1::gentoo] USE="introspection -test" ABI_X86="(64) -32 (-x32)" 106 KiB
[ebuild  N     ] sci-libs/lapack-3.8.0::gentoo  USE="-doc -eselect-ldso -lapacke" 7,253 KiB
[uninstall     ] sci-libs/lapack-reference-3.2.1-r4::gentoo  USE="-doc" 
[blocks b      ] sci-libs/lapack-reference ("sci-libs/lapack-reference" is blocking sci-libs/lapack-3.8.0)
[ebuild     U  ] virtual/blas-3.8::gentoo [3.7::gentoo] USE="-eselect-ldso%" 0 KiB
[ebuild     U  ] virtual/lapack-3.8::gentoo [3.1::gentoo] USE="-eselect-ldso%" 0 KiB
[blocks B      ] sci-libs/cblas-reference ("sci-libs/cblas-reference" is blocking sci-libs/lapack-3.8.0)
[blocks B      ] app-eselect/eselect-cblas ("app-eselect/eselect-cblas" is blocking sci-libs/lapack-3.8.0)
[blocks B      ] sci-libs/blas-reference ("sci-libs/blas-reference" is blocking sci-libs/lapack-3.8.0)

Total: 8 packages (7 upgrades, 1 new, 1 uninstall), Size of downloads: 8,890 KiB
Conflict: 4 blocks (3 unsatisfied)

 * Error: The above package list contains packages which cannot be
 * installed at the same time on the same system.

  (sci-libs/cblas-reference-20030223-r6:0/0::gentoo, installed) pulled in by
    sci-libs/cblas-reference required by @selected
    sci-libs/cblas-reference required by (virtual/cblas-1.0:0/0::gentoo, installed)

  (sci-libs/lapack-3.8.0:0/0::gentoo, ebuild scheduled for merge) pulled in by
    >=sci-libs/lapack-3.8[eselect-ldso?] (>=sci-libs/lapack-3.8) required by (virtual/blas-3.8:0/0::gentoo, ebuild scheduled for merge)
    >=sci-libs/lapack-3.8.0[eselect-ldso?] (>=sci-libs/lapack-3.8.0) required by (virtual/lapack-3.8:0/0::gentoo, ebuild scheduled for merge)

  (app-eselect/eselect-cblas-0.1:0/0::gentoo, installed) pulled in by
    app-eselect/eselect-cblas required by @selected
    app-eselect/eselect-cblas required by (sci-libs/cblas-reference-20030223-r6:0/0::gentoo, installed)

  (sci-libs/blas-reference-20161223:0/0::gentoo, installed) pulled in by
    sci-libs/blas-reference required by @selected




Comment 1


Gleb





          2019-11-16 05:42:57 UTC
        

Should be resolved after https://bugs.gentoo.org/700196




Comment 2


Harley Wiltzer





          2019-11-17 15:10:37 UTC
        

The stabilization of virtual/cblas-3.8 causes more blocks:

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild  N    #] sci-libs/lapack-3.8.0::gentoo  USE="-doc -eselect-ldso -lapacke" 7,253 KiB
[ebuild     U  ] virtual/cblas-3.8::gentoo [1.0::gentoo] USE="-eselect-ldso%" 0 KiB
[blocks B      ] app-eselect/eselect-cblas ("app-eselect/eselect-cblas" is blocking sci-libs/lapack-3.8.0)
[blocks B      ] sci-libs/lapack-reference ("sci-libs/lapack-reference" is blocking sci-libs/lapack-3.8.0)
[blocks B      ] sci-libs/blas-reference ("sci-libs/blas-reference" is blocking sci-libs/lapack-3.8.0)
[blocks B      ] sci-libs/cblas-reference ("sci-libs/cblas-reference" is blocking sci-libs/lapack-3.8.0)

Total: 2 packages (1 upgrade, 1 new), Size of downloads: 7,253 KiB
Conflict: 4 blocks (4 unsatisfied)

 * Error: The above package list contains packages which cannot be
 * installed at the same time on the same system.

  (app-eselect/eselect-cblas-0.1:0/0::gentoo, installed) pulled in by
    app-eselect/eselect-cblas required by @selected
    app-eselect/eselect-cblas required by (sci-libs/cblas-reference-20030223-r6:0/0::gentoo, installed)

  (sci-libs/lapack-3.8.0:0/0::gentoo, ebuild scheduled for merge) pulled in by
    >=sci-libs/lapack-3.8.0[eselect-ldso?] (>=sci-libs/lapack-3.8.0) required by (virtual/cblas-3.8:0/0::gentoo, ebuild scheduled for merge)

  (sci-libs/lapack-reference-3.2.1-r4:0/0::gentoo, installed) pulled in by
    >=sci-libs/lapack-reference-3.1 required by (virtual/lapack-3.1:0/0::gentoo, installed)

  (sci-libs/blas-reference-20161223:0/0::gentoo, installed) pulled in by
    >=sci-libs/blas-reference-20161223 required by (virtual/blas-3.7:0/0::gentoo, installed)
    sci-libs/blas-reference required by @selected

  (sci-libs/cblas-reference-20030223-r6:0/0::gentoo, installed) pulled in by
    sci-libs/cblas-reference required by @selected




Comment 3


Benda Xu






          2019-11-18 00:39:05 UTC
        

(In reply to Harley Wiltzer from comment #2)
> 
> Total: 2 packages (1 upgrade, 1 new), Size of downloads: 7,253 KiB
> Conflict: 4 blocks (4 unsatisfied)
> 
>  * Error: The above package list contains packages which cannot be
>  * installed at the same time on the same system.
> 
>   (app-eselect/eselect-cblas-0.1:0/0::gentoo, installed) pulled in by
>     app-eselect/eselect-cblas required by @selected
>     app-eselect/eselect-cblas required by
> (sci-libs/cblas-reference-20030223-r6:0/0::gentoo, installed)
> 
>   (sci-libs/blas-reference-20161223:0/0::gentoo, installed) pulled in by
>     >=sci-libs/blas-reference-20161223 required by
> (virtual/blas-3.7:0/0::gentoo, installed)
>     sci-libs/blas-reference required by @selected
> 
>   (sci-libs/cblas-reference-20030223-r6:0/0::gentoo, installed) pulled in by
>     sci-libs/cblas-reference required by @selected

You have selected eselect-cblas, etc.  Portage cannot automatically resolve it.  The only way is to manually remove these 3 packages.




Comment 4


Harley Wiltzer





          2019-11-18 02:48:24 UTC
        

(In reply to Benda Xu from comment #3)
> You have selected eselect-cblas, etc.  Portage cannot automatically resolve
> it.  The only way is to manually remove these 3 packages.

Well for the time being I masked >=cblas-3.8, etc, with the idea that once this bug is resolved I can simply unmask them.




Comment 5


Benda Xu






          2019-11-18 04:02:54 UTC
        

(In reply to Harley Wiltzer from comment #4)
> (In reply to Benda Xu from comment #3)
> > You have selected eselect-cblas, etc.  Portage cannot automatically resolve
> > it.  The only way is to manually remove these 3 packages.
> 
> Well for the time being I masked >=cblas-3.8, etc, with the idea that once
> this bug is resolved I can simply unmask them.

The migration requires manual intervention in your case.  You can postpond it to the future but that cannot be circumvented as far as I can see.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

