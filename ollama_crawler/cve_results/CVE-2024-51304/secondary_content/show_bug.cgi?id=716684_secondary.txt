Title: 716684 – www-client/firefox-75.0 does not build with clang-10 / llvm-10
URL: https://bugs.gentoo.org/show_bug.cgi?id=716684

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 716684
www-client/firefox-75.0 does not build with clang-10 / llvm-10
Last modified: 2020-04-14 00:05:28 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 716684 
      - www-client/firefox-75.0 does not build with clang-10 / llvm-10


Summary:
www-client/firefox-75.0 does not build with clang-10 / llvm-10
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Mozilla Gentoo Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:




llvm-10



 

        Show dependency tree





 





      Reported:
    
2020-04-08 10:39 UTC by Jan Psota





      Modified:
    
2020-04-14 00:05 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



jstein









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Jan Psota





          2020-04-08 10:39:07 UTC
        

With gcc-9.3 compiles. build.log in progress.




Comment 1


Jory A. Pratt






          2020-04-08 12:50:49 UTC
        

Bugs that do not contain a build.log, emerge --info should never be assigned. Devs do not want to come back to a bug twice if it can be helped.




Comment 2


Ionen Wolkens






          2020-04-08 12:56:30 UTC
        

I compiled it with clang/llvm-10.0.0 on ~amd64 without issues myself, so I'd assume there's some other factor, as pointed above will need info.

For short works-for-me USE reference:
www-client/firefox-75.0::gentoo  USE="clang gmp-autoupdate lto pgo pulseaudio screenshot system-av1 system-harfbuzz system-icu system-jpeg system-libevent system-libvpx system-webp -bindist -custom-cflags -custom-optimization -debug -eme-free -geckodriver -hardened -hwaccel -jack (-selinux) -startup-notification -test -wayland -wifi" CPU_FLAGS_X86="avx2"




Comment 3


Jan Psota





          2020-04-08 15:52:00 UTC
        

I'm sorry. I have no idea, what happened here.

After compilation errors with clang I switched (in package.env)
to gcc and FF compiled:
2020-04-08T00:45:05 <<< www-client/firefox-74.0.1: 12s
2020-04-07T23:54:45 >>> www-client/firefox-75.0: 50′49″

Then I switched back to clang and tried to reproduce that error
but it did not happen:
2020-04-08T15:09:22 <<< www-client/firefox-75.0: 9s
2020-04-08T14:23:20 >>> www-client/firefox-75.0: 46′26″

Packages, that were updated in a meantime:
2020-04-08T12:42:14 <<< dev-libs/vala-common-0.48.2: 2s
2020-04-08T12:41:59 >>> dev-libs/vala-common-0.48.3: 18s
2020-04-08T12:43:18 <<< dev-util/strace-5.5: 1s
2020-04-08T12:42:17 >>> dev-util/strace-5.6: 1′04″
2020-04-08T12:43:45 <<< dev-libs/libev-4.31: 1s
2020-04-08T12:43:21 >>> dev-libs/libev-4.33: 27s
2020-04-08T12:44:44 <<< dev-lang/vala-0.48.2: 1s
2020-04-08T12:43:48 >>> dev-lang/vala-0.48.3: 59s
2020-04-08T12:45:10 <<< sys-apps/portage-2.3.96-r1: 2s
2020-04-08T12:44:47 >>> sys-apps/portage-2.3.97: 27s
2020-04-08T12:45:36 <<< net-fs/cifs-utils-6.10: 2s
2020-04-08T12:45:14 >>> net-fs/cifs-utils-6.10-r1: 30s
2020-04-08T14:23:06 <<< app-text/texlive-core-2019-r11: 1s
2020-04-08T14:16:42 >>> app-text/texlive-core-2019-r11: 6′34″
- nothing FF could depend on.




Comment 4


Jonas Stein






          2020-04-14 00:05:28 UTC
        

Thank you for the update. Please open a new ticket, if the problem occurs again.
Then add all logs as described here:
https://wiki.gentoo.org/wiki/Attach_the_logs_to_the_bug_ticket









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

