Title: 196775 – segfault in net-print/cups-1.2.12-r1 init script
URL: https://bugs.gentoo.org/show_bug.cgi?id=196775

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 196775
segfault in net-print/cups-1.2.12-r1 init script
Last modified: 2007-10-23 14:22:28 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 196775 
      - segfault in net-print/cups-1.2.12-r1 init script


Summary:
segfault in net-print/cups-1.2.12-r1 init script
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Core system

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-10-23 08:12 UTC by Mike Hammill





      Modified:
    
2007-10-23 14:22 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Mike Hammill





          2007-10-23 08:12:28 UTC
        

Just updated to net-print/cups-1.2.12-r1 from 1.2.10-r1 with USE="X dbus jpeg ldap nls pam png ppds ssl tiff -php -samba -slp".  Did a dispatch-conf. Went to restart cups, which had been working, and got:

gannet ~ # /etc/init.d/cupsd restart
 * Caching service dependencies ...                                                                                                                                   [ ok ]
 * Stopping cupsd ...                                                                                                                                                 [ ok ]
 * Starting cupsd ...
/sbin/runscript.sh: line 428:  6738 Segmentation fault      ( function exit () 
{ 
    RC_QUIET_STDOUT="no";
    eerror "DO NOT USE EXIT IN INIT.D SCRIPTS";
    eerror "This IS a bug, please fix your broken init.d";
    unset -f exit;
    exit "$@"
}; [[ -n ${RC_ULIMIT} ]] && ulimit ${RC_ULIMIT}; if [[ ${RC_PARALLEL_STARTUP} == "yes" ]]; then
    [[ ${RC_VERBOSE} != "yes" || -e ${svcdir}/exclusive/${SVCNAME} ]] && RC_QUIET_STDOUT="yes";
fi; start )
gannet ~ # 


Reproducible: Always

Steps to Reproduce:
See above

Actual Results:  
Get error message above

Expected Results:  
Running cups service

I have not tried rebooting the system.




Comment 1


Jakub Moc (RETIRED)






          2007-10-23 08:39:12 UTC
        

Uh, bash segfaulting on you is not a cups bug.

> I have not tried rebooting the system.

So do it, please. If it doesn't help, post your emerge --info.




Comment 2


Mike Hammill





          2007-10-23 10:03:16 UTC
        

(In reply to comment #1)
> Uh, bash segfaulting on you is not a cups bug.

Quite right.  In fact, I'm starting to suspect HD failure as SMART is starting to give more errors.  Sorry I was thrown off by the error message "This IS a bug, please fix your broken init.d".  Stupid of me, I guess.

> > I have not tried rebooting the system.

Works fine after reboot.

> So do it, please. If it doesn't help, post your emerge --info.

Sorry to take your time.

/Mike
 






Comment 3


Jakub Moc (RETIRED)






          2007-10-23 10:07:36 UTC
        

No problem. Bug 20600 has more tips about HW failures.




Comment 4


Mike Hammill





          2007-10-23 14:22:28 UTC
        

(In reply to comment #3)
> No problem. Bug 20600 has more tips about HW failures.
> 

Thanks for the tip on HW failures.  I just read through it.  Quite timely since I have a machine whose power supply just went bad, and in general I am running on old HW.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

