Title: 197888 – kde-misc/kooldock 0.4.7 crashes
URL: https://bugs.gentoo.org/show_bug.cgi?id=197888

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 197888
kde-misc/kooldock 0.4.7 crashes
Last modified: 2008-06-22 09:38:22 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 197888 
      - kde-misc/kooldock 0.4.7 crashes


Summary:
kde-misc/kooldock 0.4.7 crashes
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-11-02 16:49 UTC by James





      Modified:
    
2008-06-22 09:38 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



loki_val
mail









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


James





          2007-11-02 16:49:18 UTC
        

kooldock 0.4.7 emerged fine, but when run crashes with the following error:
ERROR: Communication problem with kooldock, it probably crashed.
KCrash: Application 'kooldock' crashing...


Reproducible: Always

Steps to Reproduce:
1.emerge -av /kde-misc/kooldock-0.4.7
2.run kooldock
3.crashes

Actual Results:  
These are the options on this package:
emerge -pv kooldock

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild   R   ] kde-misc/kooldock-0.4.7  USE="xinerama -arts -debug" LINGUAS="-cs -de -es -fr -it -nl -pl -sv" 0 kB

I have rebuilt it a number of times, and not gotten any better.

Expected Results:  
run correctly

I have done a revdep-rebuild and nothing was out of order.  0.4.6 runs fine.

emerge --info
Portage 2.1.3.16 (default-linux/x86/2007.0/desktop, gcc-4.2.2, glibc-2.6.1-r0, 2.6.23-gentoo i686)
=================================================================
System uname: 2.6.23-gentoo i686 Mobile Intel(R) Pentium(R) III CPU - M 1133MHz
Timestamp of tree: Fri, 02 Nov 2007 07:50:01 +0000
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [enabled]
ccache version 2.4 [enabled]
app-shells/bash:     3.2_p17-r1
dev-java/java-config: 1.3.7, 2.1.2-r1
dev-lang/python:     2.4.4-r4, 2.5.1-r3
dev-python/pycrypto: 2.0.1-r6
dev-util/ccache:     2.4-r7
sys-apps/baselayout: 1.12.10-r5
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.61-r1
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.18-r1
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.24
virtual/os-headers:  2.6.23
ACCEPT_KEYWORDS="x86 ~x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium3 -fomit-frame-pointer -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-O2 -march=pentium3 -fomit-frame-pointer -pipe"
DISTDIR="/mnt/nfs_portage/distfiles"
FEATURES="ccache distcc distlocks metadata-transfer sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LANG="en_US.UTF-8"
LC_ALL="en_US.UTF-8"
MAKEOPTS="-j20"
PKGDIR="/mnt/nfs_portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://192.168.1.1/gentoo-portage"
USE="X a52 aac aalib acl acpi aiglx alsa audiofile berkdb bitmap-fonts bzip2 cairo cdparanoia cdr cli cracklib crypt cups dbus dri dvd dvdr dvdread eds emboss encode esd evo fam ffmpeg firefox fortran gdbm gif gpm gstreamer hal iconv imagemagick isdnlog java jpeg kde kerberos ldap mad midi mikmod mmx mp3 mpeg mplayer mudflap mysql mythtv ncurses nls nptl nptlonly nsplugin ogg openal opengl openmp oss pam pcre pdf pdflib perl png pppd python qt3 qt3support quicktime readline real reflection samba sdl session sockets spell spl sse ssl svg szip tcpd tiff truetype truetype-fonts type1-fonts unicode usb vcd vorbis wifi win32codecs x x86 xine xinerama xml xorg xosd xv xvid zlib" ALSA_CARDS="intel8x0" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" ELIBC="glibc" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" USERLAND="GNU" VIDEO_CARDS="savage vesa"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LDFLAGS, LINGUAS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Wulf Krueger (RETIRED)






          2007-11-02 23:24:34 UTC
        

Have you restarted KDE after emerging kooldock?




Comment 2


James





          2007-11-03 01:54:54 UTC
        

(In reply to comment #1)
> Have you restarted KDE after emerging kooldock?
> 

In fact, I think 0.4.7 worked immediately after emerging it, but after a restart of the computer, then it didn't work.  It crashes immediately on starting kooldock.




Comment 3


Wulf Krueger (RETIRED)






          2007-11-03 21:53:52 UTC
        

Is the snippet of the error you quoted in your original report all you get if you start kooldock from a console? If there's more, please add it to this report. Otherwise, please get us a backtrace: http://www.gentoo.org/proj/en/qa/backtraces.xml




Comment 4


James





          2007-11-04 02:07:43 UTC
        

(In reply to comment #3)
> Is the snippet of the error you quoted in your original report all you get if
> you start kooldock from a console? If there's more, please add it to this
> report. Otherwise, please get us a backtrace:
> http://www.gentoo.org/proj/en/qa/backtraces.xml
> 

Yup, that's it.  Interestingly enough, I built it with the -ggdb cflag and cxxflag, and it ran fine.  I rebuilt it with my normal c(xx)flags, and it crashes as soon as I restart X, it did run for a bit fine before I restarted X.  The backtrace, as you will see is said to be useless.

This backtrace appears to be of no use.
This is probably because your packages are built in a way which prevents creation of proper backtraces, or the stack frame was seriously corrupted in the crash.
Thanks!

(no debugging symbols found)
Using host libthread_db library "/lib/libthread_db.so.1".
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
0xb7f40410 in __kernel_vsyscall ()
#0  0xb7f40410 in __kernel_vsyscall ()
#1  0xb68b8d10 in nanosleep () from /lib/libc.so.6
#2  0xb68b8b47 in sleep () from /lib/libc.so.6
#3  0xb779fff7 in KCrash::startDrKonqi () from /usr/kde/3.5/lib/libkdecore.so.4
#4  0x00000000 in ?? ()

Here's the trace from inside gdb.
gdb /usr/bin/kooldock
GNU gdb 6.7.1
Copyright (C) 2007 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type "show copying"
and "show warranty" for details.
This GDB was configured as "i686-pc-linux-gnu"...
(no debugging symbols found)
Using host libthread_db library "/lib/libthread_db.so.1".
(gdb) run
Starting program: /usr/bin/kooldock
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
---Type <return> to continue, or q <return> to quit---
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
ERROR: Communication problem with kooldock, it probably crashed.

Program exited with code 0377.
(gdb) KCrash: Application 'kooldock' crashing...




Comment 5


ndk





          2008-01-13 10:56:40 UTC
        

Now from svn is working.

https://kooldock.svn.sourceforge.net/svnroot/kooldock




Comment 6


Andreas Stangl





          2008-05-06 17:22:35 UTC
        

any idea when the fixed svn version will make it into the portage tree? This bug is very annoying and kooldock is unusable now :-/




Comment 7


Andreas Stangl





          2008-05-08 20:56:58 UTC
        

I cannot find any commit in the svn repo of kooldock that seems to be related to this bug. Are you sure it has been fixed!? I will stop using kooldock now (although I like it pretty much), because it seems that no one is really maintaining this package...




Comment 8


Andreas Stangl





          2008-05-13 17:31:29 UTC
        

ok I admit, it was MY fault NOT kooldock's, I altered my CFLAGS like shown in http://gentoo-wiki.com/Safe_Cflags#Pentium_D_8xx_.2F_9xx and rebuilt my system. Kooldock does not crash anymore :-)




Comment 9


Peter Alfredsen (RETIRED)






          2008-06-20 22:16:17 UTC
        

Is this bug still happening?




Comment 10


Andreas Stangl





          2008-06-22 09:00:24 UTC
        

my bug is fixed




Comment 11


Peter Alfredsen (RETIRED)






          2008-06-22 09:38:22 UTC
        

Please re-open if you encounter this bug again.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

