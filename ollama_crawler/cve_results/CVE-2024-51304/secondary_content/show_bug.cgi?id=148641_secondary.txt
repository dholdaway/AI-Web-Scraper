Title: 148641 – [cross-mingw32/gcc] gcc fails at gcc-stage2 due to GCC_NO_EXECUTABLES
URL: https://bugs.gentoo.org/show_bug.cgi?id=148641

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 148641
[cross-mingw32/gcc] gcc fails at gcc-stage2 due to GCC_NO_EXECUTABLES
Last modified: 2007-04-07 11:26:11 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 148641 
      - [cross-mingw32/gcc] gcc fails at gcc-stage2 due to GCC_NO_EXECUTABLES


Summary:
[cross-mingw32/gcc] gcc fails at gcc-stage2 due to GCC_NO_EXECUTABLES
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Toolchain Maintainers








URL:







Whiteboard:




Keywords:









Duplicates (1):
    

149365

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2006-09-22 05:57 UTC by Dennis Schridde





      Modified:
    
2007-04-07 11:26 UTC
      (History)
    




          CC List:
        

3 
          users
          
            (show)
          



cretin
tek666
togge.gentoo









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




MinGW32 info log

              (cross-mingw32-info.log,4.04 KB,
                text/plain)

            
2006-09-22 05:58 UTC,

            Dennis Schridde




Details





MinGW32 gcc-stage2 log

              (cross-mingw32-gcc-stage2.log,539.73 KB,
                text/plain)

            
2006-09-22 05:59 UTC,

            Dennis Schridde




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Dennis Schridde





          2006-09-22 05:57:53 UTC
        

When I run "crossdev mingw32" and working around the stripping of w32api everything works fine till it comes to building of gcc-stage2.

Error from the logs:
checking for main in -lm... configure: error: Link tests are not allowed after GCC_NO_EXECUTABLES.

Portage 2.1.2_pre1 (default-linux/x86/2006.1/desktop, gcc-4.1.1, glibc-2.4-r3, 2.6.18-gentoo i686)
=================================================================
System uname: 2.6.18-gentoo i686 AMD Athlon(tm) XP 2600+
Gentoo Base System version 1.12.5
Last Sync: Wed, 20 Sep 2006 18:50:01 +0000
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
app-admin/eselect-compiler: [Not Present]
dev-java/java-config: 1.3.3-r1, 2.0.29
dev-lang/python:     2.4.3-r3
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.60
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.17
sys-devel/gcc-config: 1.3.13-r3
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.17-r1
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=athlon-xp -mfpmath=sse -O2 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/splash /etc/terminfo /etc/texmf/web2c"
CXXFLAGS="-march=athlon-xp -mfpmath=sse -O2 -pipe -fomit-frame-pointer -fvisibility-inlines-hidden"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer parallel-fetch prelink sandbox sfperms strict userfetch userpriv usersandbox"
GENTOO_MIRRORS="ftp://linux.rz.ruhr-uni-bochum.de/gentoo-mirror/"
LANG="en_US.UTF-8"
LINGUAS="de"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="x86 3dnow 3dnowext X a52 aac acpi alsa apache2 audiofile bash-completion berkdb bitmap-fonts bzip2 cairo cdr cli crypt css cups dbus dlloader doc dri dts dvb dvd dvdr eds elibc_glibc emboss encode fam fbcon ffmpeg firefox foomaticdb fortran gd gd-external gdbm geoip gif gpm graphviz gstreamer gtk hal input_devices_evdev input_devices_keyboard ipod ipv6 isdnlog jpeg kde kdeenablefinal kdehiddenvisibility kdexdeltas kernel_linux ldap libg++ linguas_de lirc lirc_devices_userspace logitech-mouse mad mikmod mmx mmxext moznocompose moznoirc moznomail mp3 mp4 mpeg mplayer music musicbrainz mysql mysqli ncurses nls nptl nptlonly nsplugin nvidia oav ogg openal openexr opengl pam pcre perl php pic png ppds pppd python qt qt3 qt4 quicktime readline real reflection rtc ruby samba sasl sdl session sndfile speex spell spl sqlite sse ssl subversion svg sysvipc tcpd tetex theora truetype truetype-fonts type1-fonts udev unicode usb userland_GNU video_cards_nvidia visualization vorbis win32codecs x264 xcomposite xine xinerama xml xorg xv xvid xvmc zeroconf zlib"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LC_ALL, LDFLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Dennis Schridde





          2006-09-22 05:58:36 UTC
        

Created attachment 97743 [details]
MinGW32 info log




Comment 2


Dennis Schridde





          2006-09-22 05:59:31 UTC
        

Created attachment 97744 [details]
MinGW32 gcc-stage2 log




Comment 3


Jakub Moc (RETIRED)






          2006-09-28 00:22:59 UTC
        

*** Bug 149365 has been marked as a duplicate of this bug. ***




Comment 4


Andre Ryan





          2007-02-18 11:44:42 UTC
        

I've experienced something close to this problem when upgrading GCC in an existing cross-mingw32, to get around it I just started from scratch:

emerge --unmerge cross-mingw32/gcc cross-mingw32/mingw-runtime cross-mingw32/w32api cross-mingw32/binutils
Remove cross-mingw32 stuff from /etc/portage/package.keywords, package.use, categories
rm -Rf /usr/local/portage/cross-mingw32

Then just rerun "crossdev mingw32" and it works. Unfortunately, I have no idea why though - possibly library breakage between versions.




Comment 5


SpanKY






          2007-02-18 12:57:53 UTC
        

that's a whole lot of effort ... why didnt you just run `crossdev -C mingw32` ?




Comment 6


SpanKY






          2007-04-07 11:26:11 UTC
        

would need the config.log to actually trace this down









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

