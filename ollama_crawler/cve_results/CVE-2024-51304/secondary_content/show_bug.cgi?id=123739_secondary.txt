Title: 123739 – dev-lang/php-4.4.1-r3: error loading zip.so
URL: https://bugs.gentoo.org/show_bug.cgi?id=123739

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 123739
dev-lang/php-4.4.1-r3: error loading zip.so
Last modified: 2006-02-23 06:29:52 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 123739 
      - dev-lang/php-4.4.1-r3: error loading zip.so


Summary:
dev-lang/php-4.4.1-r3: error loading zip.so
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-02-22 12:30 UTC by Mike Green





      Modified:
    
2006-02-23 06:29 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




apache2 error log

              (error_log,306 bytes,
                text/plain)

            
2006-02-22 12:36 UTC,

            Mike Green




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Mike Green





          2006-02-22 12:30:26 UTC
        

Portage 2.0.54 (default-linux/x86/2005.1, gcc-3.4.4, glibc-2.3.5-r2, 2.6.15-gentoo-r1 i686)
=================================================================
System uname: 2.6.15-gentoo-r1 i686 Intel(R) Pentium(R) 4 CPU 3.20GHz
Gentoo Base System version 1.6.14
dev-lang/python:     2.4.2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O3 -march=pentium3 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O3 -march=pentium3 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks nodoc noinfo noman sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org"
MAKEOPTS="-j4"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="apache2 bash-completion berkdb bzip2 cli crypt curl curlwrappers elibc_glibc expat ftp gd gdbm gif gmp jpeg kernel_linux libwww mailwrapper memlimit mhash mysql ncurses no-htdocs no-suexec nptl nptlonly pam pcre pdf perl php png python readline session sharedmem sockets spell ssl tcpd tiff truetype truetype-fonts unicode userland_GNU userlocales vhosts x86 xml2 xsl zip zlib"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS




Comment 1


Mike Green





          2006-02-22 12:35:18 UTC
        

Apache does start up and php appears to be working (phpinfo() at least).  However, I get this error message in the log.

I get the following when running ldd on /usr/lib/php4/lib/php/extensions/no-debug-non-zts-20020429/zip.so:

ldd: warning: you do not have execution permission for `./zip.so'
        linux-gate.so.1 =>  (0xffffe000)
        libzzip-0.so.13 => not found
        libc.so.6 => /lib/libc.so.6 (0xb7e78000)
        /lib/ld-linux.so.2 (0x80000000)

What package contains libzzip-0.so.13?




Comment 2


Mike Green





          2006-02-22 12:36:02 UTC
        

Created attachment 80453 [details]
apache2 error log




Comment 3


Carsten Lohrke (RETIRED)






          2006-02-22 14:12:37 UTC
        

(In reply to comment #1)
> What package contains libzzip-0.so.13?

Usually a `revdep-rebuild` run should find out and fix this for you. Portage isn't able to care for reverse dependencies, yet.






Comment 4


Mike Green





          2006-02-22 14:19:05 UTC
        

(In reply to comment #3)
> (In reply to comment #1)
> > What package contains libzzip-0.so.13?
> 
> Usually a `revdep-rebuild` run should find out and fix this for you. Portage
> isn't able to care for reverse dependencies, yet.
>

It is a fresh install from a stage3!  There is no libzzip anywhere on the system, at least not one I can find.  I will go ahead and give 'er a try though.






Comment 5


Jakub Moc (RETIRED)






          2006-02-22 16:36:52 UTC
        

(Re)emerge dev-libs/zziplib and/or dev-php4/pecl-zip




Comment 6


Mike Green





          2006-02-23 06:29:52 UTC
        

(In reply to comment #5)
> (Re)emerge dev-libs/zziplib and/or dev-php4/pecl-zip
> 

Thanks Jacob, the revdep-rebuild caught it.  The problem only appears to happen when installing binary packages.  For some reason during the installation dev-php4/pecl-zip does not pull in dev-libs/zziplib when installing from binary packages (-G), even though the host that built the packages is identical in every respect (and did install them).  I can't figure out where zziplib and pecl-zip are supposed to be getting pulled into the dependency tree.

I would expect installing from binary packages to work correctly, in this case it does not, at least not for me.  If anyone wants to investigate further I would be perfectly willing to do whatever I can to troubleshoot, if not, oh well.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

