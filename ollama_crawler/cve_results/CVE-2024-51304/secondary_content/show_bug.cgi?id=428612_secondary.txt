Title: 428612 – x11-base/xorg-server-1.12.99.903: emake failed - 'GLX_LOSE_CONTEXT_ON_RESET_ARB' undeclared
URL: https://bugs.gentoo.org/show_bug.cgi?id=428612

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 428612
x11-base/xorg-server-1.12.99.903: emake failed - 'GLX_LOSE_CONTEXT_ON_RESET_ARB' undeclared
Last modified: 2012-07-30 17:32:55 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 428612 
      - x11-base/xorg-server-1.12.99.903: emake failed - 'GLX_LOSE_CONTEXT_ON_RESET_ARB' undeclared


Summary:
x11-base/xorg-server-1.12.99.903: emake failed - 'GLX_LOSE_CONTEXT_ON_RESET_A...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo X packagers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2012-07-30 07:19 UTC by Amadeusz Żołnowski (RETIRED)





      Modified:
    
2012-07-30 17:32 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge --info

              (emerge.info,5.00 KB,
                text/plain)

            
2012-07-30 07:19 UTC,

            Amadeusz Żołnowski (RETIRED)




Details





build.log

              (build.log,264.35 KB,
                text/plain)

            
2012-07-30 07:22 UTC,

            Amadeusz Żołnowski (RETIRED)




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Amadeusz Żołnowski (RETIRED)






          2012-07-30 07:19:16 UTC
        

Compilation terminates on the following errors:

/var/tmp/portage/x11-base/xorg-server-1.12.99.903/work/xorg-server-1.12.99.903/glx/createcontext.c: In function '__glXDisp_Cre
ateContextAttribsARB':
/var/tmp/portage/x11-base/xorg-server-1.12.99.903/work/xorg-server-1.12.99.903/glx/createcontext.c:190:29: error: 'GLX_LOSE_CONTEXT_ON_RESET_ARB' undeclared (first use in this function)
/var/tmp/portage/x11-base/xorg-server-1.12.99.903/work/xorg-server-1.12.99.903/glx/createcontext.c:190:29: note: each undeclared identifier is reported only once for each function it appears in
/var/tmp/portage/x11-base/xorg-server-1.12.99.903/work/xorg-server-1.12.99.903/glx/createcontext.c:248:10: error: 'GLX_CONTEXT_ES2_PROFILE_BIT_EXT' undeclared (first use in this function)

Reproducible: Always




Comment 1


Amadeusz Żołnowski (RETIRED)






          2012-07-30 07:19:58 UTC
        

Created attachment 319684 [details]
emerge --info




Comment 2


Amadeusz Żołnowski (RETIRED)






          2012-07-30 07:21:09 UTC
        

media-libs/mesa-8.1_rc1_pre20120724 was built with the following:
USE="classic egl gallium llvm (multilib) nptl shared-glapi -bindist -d3d -debug -g3dvl -gbm -gles1 -gles2 -openvg (-osmesa) - pax_kernel -pic -r600-llvm-compiler (-selinux) -vdpau -wayland -xa -xorg -xvmc" VIDEO_CARDS="intel -i915 -i965 -nouveau -     r100 -r200 -r300 -r600 -radeon -radeonsi -vmware"




Comment 3


Amadeusz Żołnowski (RETIRED)






          2012-07-30 07:22:08 UTC
        

Created attachment 319686 [details]
build.log




Comment 4


Chí-Thanh Christopher Nguyễn






          2012-07-30 11:59:00 UTC
        

What version of glproto is installed on your system?




Comment 5


Amadeusz Żołnowski (RETIRED)






          2012-07-30 12:38:40 UTC
        

(In reply to comment #4)
> What version of glproto is installed on your system?

x11-proto/glproto-1.4.16




Comment 6


Chí-Thanh Christopher Nguyễn






          2012-07-30 12:49:24 UTC
        

The two missing defines are precisely those that were added to glxtokens.h between glproto-1.4.15 and 1.4.16.

Is it possible that you have an older glxtokens.h around? in /usr/local possibly?




Comment 7


Amadeusz Żołnowski (RETIRED)






          2012-07-30 14:33:43 UTC
        

(In reply to comment #6)
> The two missing defines are precisely those that were added to glxtokens.h
> between glproto-1.4.15 and 1.4.16.
> 
> Is it possible that you have an older glxtokens.h around? in /usr/local
> possibly?

It is possible. I have some orphaned files in the /usr...

# find /usr -name glxtokens.h 
/usr/lib64/opengl/xorg-x11/include/GL/glxtokens.h
/usr/lib64/opengl/xorg-x11/include/glxtokens.h
/usr/include/GL/glxtokens.h -> ../../lib64/opengl/xorg-x11/include/GL/glxtokens.h

# equery belongs /usr/lib64/opengl/xorg-x11/include/GL/glxtokens.h \
> /usr/lib64/opengl/xorg-x11/include/glxtokens.h \
> /usr/include/GL/glxtokens.h
 * Searching for /usr/lib64/opengl/xorg-x11/include/GL/glxtokens.h,/usr/lib64/opengl/xorg-x11/include/glxtokens.h,/usr/include/GL/glxtokens.h ... 
x11-proto/glproto-1.4.16 (/usr/lib64/opengl/xorg-x11/include/GL/glxtokens.h)

It looks that /usr/lib64/opengl/xorg-x11/include/glxtokens.h has to be removed, am I right?




Comment 8


Amadeusz Żołnowski (RETIRED)






          2012-07-30 15:33:16 UTC
        

(In reply to comment #7)
> (In reply to comment #6)
> > The two missing defines are precisely those that were added to glxtokens.h
> > between glproto-1.4.15 and 1.4.16.
> > 
> > Is it possible that you have an older glxtokens.h around? in /usr/local
> > possibly?
>
> [...]
> 
> It looks that /usr/lib64/opengl/xorg-x11/include/glxtokens.h has to be
> removed, am I right?

Yes, that was it.  xorg-server has been compiled fine.  Thank you!




Comment 9


Chí-Thanh Christopher Nguyễn






          2012-07-30 17:32:55 UTC
        

Marking as resolved per comment 8.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

