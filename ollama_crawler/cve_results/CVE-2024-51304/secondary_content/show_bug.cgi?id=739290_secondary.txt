Title: 739290 – games-fps/xonotic-0.8.2 does not respect CFLAGS
URL: https://bugs.gentoo.org/show_bug.cgi?id=739290

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 739290
games-fps/xonotic-0.8.2 does not respect CFLAGS
Last modified: 2021-09-01 08:28:16 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 739290 
      - games-fps/xonotic-0.8.2 does not respect CFLAGS


Summary:
games-fps/xonotic-0.8.2 does not respect CFLAGS
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Games








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:




cflags



 

        Show dependency tree





 





      Reported:
    
2020-08-27 16:16 UTC by Agostino Sarubbo





      Modified:
    
2021-09-01 08:28 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



alexey+gentoo
ionen









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build.log

              (build.log,144.00 KB,
                text/plain)

            
2020-08-27 16:16 UTC,

            Agostino Sarubbo




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Agostino Sarubbo






          2020-08-27 16:16:05 UTC
        

https://blogs.gentoo.org/ago/2020/07/04/gentoo-tinderbox/

Issue: games-fps/xonotic-0.8.2 does not respect CFLAGS.
Discovered on: amd64 (internal ref: tinderbox)

NOTE:
To reproduce this issue you may want to add "-frecord-gcc-switches" to CFLAGS/CXXFLAGS/FFLAGS/FCFLAGS. If this is not something about c/c++ context see this bug as an hint to hide the QA warning (with QA_FLAGS_IGNORED) where is not possible to respect CFLAGS.




Comment 1


Agostino Sarubbo






          2020-08-27 16:16:08 UTC
        

Created attachment 657146 [details]
build.log

build log and emerge --info




Comment 2


Alexey





          2021-08-31 23:29:24 UTC
        

I can't reproduce, it passes CFLAGS fine, even with "-frecord-gcc-switches" in all 4 flags.




Comment 3


Agostino Sarubbo






          2021-09-01 07:10:57 UTC
        

(In reply to Alexey from comment #2)
> I can't reproduce, it passes CFLAGS fine, even with "-frecord-gcc-switches"
> in all 4 flags.

if you think the check if wrong, please get in touch with portage devs.




Comment 4


Ionen Wolkens






          2021-09-01 08:21:05 UTC
        

Are you still getting the QA warning?

Thing is that I can't seem to get it either (including with clang), and I know these usually work for me. Not that I tried every possible options.




Comment 5


Ionen Wolkens






          2021-09-01 08:23:21 UTC
        

(In reply to Ionen Wolkens from comment #4)
> Are you still getting the QA warning?
> 
> Thing is that I can't seem to get it either (including with clang), and I
> know these usually work for me. Not that I tried every possible options.
...my impression is that this may have been an issue with the toolchain a year ago, I mentioned clang because it's what the build.log is using




Comment 6


Alexey





          2021-09-01 08:28:16 UTC
        

I've just reproduced the QA warning with a dummy ebuild I wrote which definitely ignores CFLAGS, so the warning itself works for me.

I agree that it probably was some issue with the toolchain.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

