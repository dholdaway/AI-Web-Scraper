Title: 272725 – kde-base/klinkstatus-4.2.4 fails to compile
URL: https://bugs.gentoo.org/show_bug.cgi?id=272725

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 272725
kde-base/klinkstatus-4.2.4 fails to compile
Last modified: 2009-08-20 22:35:41 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 272725 
      - kde-base/klinkstatus-4.2.4 fails to compile


Summary:
kde-base/klinkstatus-4.2.4 fails to compile
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:




277868



 

        Show dependency tree





 





      Reported:
    
2009-06-05 06:14 UTC by André Terpstra





      Modified:
    
2009-08-20 22:35 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



shilmer
timo









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge output

              (bug2.txt,41.22 KB,
                text/plain)

            
2009-06-05 06:16 UTC,

            André Terpstra




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


André Terpstra





          2009-06-05 06:14:42 UTC
        

The migration to KDE 4.2.4 fails because of kde-base/klinkstatus-4.2.4 which will not compile.

Reproducible: Always

Steps to Reproduce:
1.get unstable tree
2.emerge kde-meta
3.

Actual Results:  
emerge breaks

Expected Results:  
compile normally

emerge output attached




Comment 1


André Terpstra





          2009-06-05 06:16:12 UTC
        

Created attachment 193598 [details]
emerge output




Comment 2


Andreas Schürch






          2009-06-05 07:00:49 UTC
        

I've got the same error over here...




Comment 3


André Terpstra





          2009-06-05 09:28:49 UTC
        

Interestingly, I have another system where kde-4.2.4 compiled immediately:

HeraGentoo ~ # emerge --info
Portage 2.1.6.13 (default/linux/amd64/2008.0/no-multilib, gcc-4.3.3, glibc-2.10.1-r0, 2.6.29-gentoo-r4 x86_64)
=================================================================                                             
System uname: Linux-2.6.29-gentoo-r4-x86_64-Intel-R-_Core-TM-2_Duo_CPU_T8100_@_2.10GHz-with-gentoo-2.0.1      
Timestamp of tree: Fri, 05 Jun 2009 07:45:01 +0000                                                            
ccache version 2.4 [enabled]                                                                                  
app-shells/bash:     4.0_p24                                                                                  
dev-java/java-config: 2.1.8                                                                                   
dev-lang/python:     2.6.2-r1                                                                                 
dev-util/ccache:     2.4-r8                                                                                   
dev-util/cmake:      2.6.4                                                                                    
sys-apps/baselayout: 2.0.1                                                                                    
sys-apps/openrc:     0.4.3-r2                                                                                 
sys-apps/sandbox:    2.0                                                                                      
sys-devel/autoconf:  2.13, 2.63-r1                                                                            
sys-devel/automake:  1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.2, 1.11                                          
sys-devel/binutils:  2.19.1-r1                                                                                
sys-devel/gcc-config: 1.4.1                                                                                   
sys-devel/libtool:   2.2.6a                                                                                   
virtual/os-headers:  2.6.29
ACCEPT_KEYWORDS="amd64 ~amd64"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS=" -O2 -march=core2 -mtune=core2 -fomit-frame-pointer -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/config"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/udev/rules.d"
CXXFLAGS=" -O2 -march=core2 -mtune=core2 -fomit-frame-pointer -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="ccache distlocks fixpackages parallel-fetch protect-owned sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="ftp://192.168.1.222/gentoo"
LDFLAGS="-Wl,-O1"
LINGUAS="nl"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://192.168.1.222/gentoo-portage"
USE="X acl acpi alsa amd64 berkdb bzip2 cleartype cli cracklib crypt cups dbus doc dri floppy fortran gdbm gphoto2 gpm hal iconv idn ieee1394 ipv6 isdnlog java jpeg kde kde4 lilo lm_sensors midi mmx mng mp3 mp4 mudflap mysql ncurses network-cron networkmanager nls nptl nptlonly opengl openmp pam pcre pdf perl phonon plasma pppd python qt4 readline reflection sensord session spell spl sse sse2 ssl svg sysfs tcpd truetype unicode usb webkit xorg xscreensaver zlib" ALSA_CARDS=" intel-hda" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CAMERAS=" canon" ELIBC="glibc" INPUT_DEVICES=" keyboard mouse synaptics evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="nl" USERLAND="GNU" VIDEO_CARDS=" fbdev nv nvidia vesa vga"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LANG, LC_ALL, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY

HeraGentoo ~ #





Comment 4


André Terpstra





          2009-06-05 09:30:21 UTC
        

including this particular ebuild of course:

HeraGentoo ~ # emerge -pv1 klinkstatus

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild   R   ] kde-base/klinkstatus-4.2.4  USE="handbook -debug -kdeprefix -tidy" 2,467 kB

Total: 1 package (1 reinstall), Size of downloads: 2,467 kB
HeraGentoo ~ #





Comment 5


Andreas Schürch






          2009-06-05 13:48:38 UTC
        

Ok, i've got it to compile now! :-)

In the end, i've just remerge boost-build and than boost!

Cheers!




Comment 6


Sven-Olaf Hilmer





          2009-06-06 11:33:40 UTC
        

(In reply to comment #5)
> Ok, i've got it to compile now! :-)
> 
> In the end, i've just remerge boost-build and than boost!

This did not work for me.
After remerging boost-build klinkstatus could not be merged.

[ 63%] Building CXX object klinkstatus/src/CMakeFiles/klinkstatuscommon.dir/interfaces/ui/iview.o        
[ 64%] Building CXX object klinkstatus/src/CMakeFiles/klinkstatuscommon.dir/pim/pimconfigdialog.o        
[ 66%] Building CXX object klinkstatus/src/CMakeFiles/klinkstatuscommon.dir/pim/pimagent.o               
In file included from /usr/include/syndication/global.h:25,                                              
                 from /var/tmp/portage/kde-base/klinkstatus-4.2.4/work/klinkstatus-4.2.4/klinkstatus/src/pim/pimagent.cpp:29:                                                                                     
/usr/include/syndication/feed.h:26:32: error: boost/shared_ptr.hpp: No such file or directory            
In file included from /usr/include/syndication/global.h:25,                                              
                 from /var/tmp/portage/kde-base/klinkstatus-4.2.4/work/klinkstatus-4.2.4/klinkstatus/src/pim/pimagent.cpp:29:                                                                                     
/usr/include/syndication/feed.h:40: error: ‘boost’ has not been declared                                 
/usr/include/syndication/feed.h:40: error: expected initializer before ‘<’ token                         
/usr/include/syndication/feed.h:42: error: ‘boost’ has not been declared                                 
/usr/include/syndication/feed.h:42: error: expected initializer before ‘<’ token   




Comment 7


Andreas Schürch






          2009-06-06 20:52:00 UTC
        

Note: these are two packages: dev-util/boost-build and dev-libs/boost!

Maybe you also have to rebuild kdepimlibs?!?




Comment 8


Patrick ALLAERT





          2009-06-07 11:33:12 UTC
        

I had the same problem.

Recompiling, in order, boost-build, boost and kdepimlibs resolved the problem.

Thanks




Comment 9


André Terpstra





          2009-06-07 11:49:37 UTC
        

still, this does not completely solve this issue. why does this not occur on a non-multilib profile? see comment #3.




Comment 10


Andreas Schürch






          2009-06-08 12:33:10 UTC
        

(In reply to comment #9)
> still, this does not completely solve this issue. why does this not occur on a
> non-multilib profile? see comment #3.
> 

Yes, this is really strange! 
I haven't got it on a plain x86 install, and it also went without problems on a x64 with multilib. 
The curious thing is that it happened twice (in my case so far) in two different x86 chroots on a x64-multilib install!

What i can say is that on these "failed" installs, i have qt3 installed (mythtv), while the "clean" others are pure qt4!
  




Comment 11


André Terpstra





          2009-06-10 18:21:32 UTC
        

I was getting impatient waiting for a solution :( so I applied comment #8. This is not very satisfactory however since I have no idea why this works...




Comment 12


Timo Rothenpieler





          2009-06-11 15:32:03 UTC
        

You just have to run "eselect boost" and set it to your boost-version. For me this fixed the compile error, as boost was unset before and so no symlink for the headers existed.




Comment 13


Maciej Mrozowski






          2009-08-20 22:35:41 UTC
        

I confirm, (and have run into this as well). Maybe eselect-boost should set newest boost as 'selected' upon installation or sth. In any case, not our (KDE) issue.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

