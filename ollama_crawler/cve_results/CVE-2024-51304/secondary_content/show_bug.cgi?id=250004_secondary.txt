Title: 250004 – media-libs/gstreamer-0.10.21 testsuite failures
URL: https://bugs.gentoo.org/show_bug.cgi?id=250004

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 250004
media-libs/gstreamer-0.10.21 testsuite failures
Last modified: 2009-05-12 13:27:04 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 250004 
      - media-libs/gstreamer-0.10.21 testsuite failures


Summary:
media-libs/gstreamer-0.10.21 testsuite failures
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Library

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

GStreamer package maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-12-06 05:01 UTC by Ryan Hill (RETIRED)





      Modified:
    
2009-05-12 13:27 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



gnome









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build log

              (gstreamer-0.10.21.log,397.77 KB,
                text/plain)

            
2008-12-06 05:04 UTC,

            Ryan Hill (RETIRED)




Details





build log

              (media-libs:gstreamer-0.10.23:20090512-051915.log,53.56 KB,
                text/plain)

            
2009-05-12 05:26 UTC,

            Ryan Hill (RETIRED)




Details





Show
              Obsolete (1)
            View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Ryan Hill (RETIRED)






          2008-12-06 05:01:29 UTC
        

this is a regression from 0.10.20

Portage 2.2_rc17 (default/linux/amd64/2008.0/developer, gcc-4.3.3-pre9999, glibc-2.8_p20080602-r0, 2.6.27-gentoo-r4 x86_64)
=================================================================
System uname: Linux-2.6.27-gentoo-r4-x86_64-Intel-R-_Core-TM-2_Duo_CPU_T9300_@_2.50GHz-with-glibc2.2.5
Timestamp of tree: Sat, 06 Dec 2008 04:07:01 +0000
distcc 3.1 x86_64-pc-linux-gnu [disabled]
ccache version 2.4 [enabled]
app-shells/bash:     3.2_p48
dev-java/java-config: 1.3.7-r1, 2.1.6-r1
dev-lang/python:     2.5.2-r8
dev-python/pycrypto: 2.0.1-r6
dev-util/ccache:     2.4-r8
dev-util/cmake:      2.6.2
sys-apps/baselayout: 2.0.0
sys-apps/openrc:     0.3.0-r1
sys-apps/sandbox:    1.2.18.1-r3
sys-devel/autoconf:  2.13, 2.63
sys-devel/automake:  1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.2
sys-devel/binutils:  2.19
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   2.2.6a
virtual/os-headers:  2.6.27-r2
ACCEPT_KEYWORDS="amd64 ~amd64"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O3 -march=core2 -fomit-frame-pointer -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/config"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/revdep-rebuild /etc/terminfo /etc/udev/rules.d"
CXXFLAGS="-O3 -march=core2 -fomit-frame-pointer -pipe"
DISTDIR="/usr/portage/distfiles"
EMERGE_DEFAULT_OPTS="-v"
FEATURES="ccache collision-protect cvs digest distlocks fixpackages metadata-transfer multilib-strict parallel-fetch preserve-libs protect-owned sandbox sfperms sign splitdebug strict test unmerge-orphans userfetch userpriv usersandbox"
GENTOO_MIRRORS="http://gentoo.mirrors.tera-byte.com/ http://gentoo.osuosl.org http://distfiles.gentoo.org"
LANG="en_US.utf8"
LDFLAGS="-Wl,--as-needed,--hash-style=gnu"
LINGUAS="en en_US"
MAKEOPTS="-j4"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/home/dirtyepic/overlay /home/dirtyepic/dev/svn/dirtyepic /home/dirtyepic/dev/svn/gcc-porting"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X a52 aac acpi akode alsa amd64 audiofile avahi bash-completion berkdb bzip2 cairo cdaudio cdr chm cli consolekit cracklib crypt css cups curl cvs dbus divx dri dts dvd dvdr dvdread eds emboss encode evo exif expat fam ffmpeg fftw firefox3 flac fontconfig foomaticdb gdbm geos gif gimp glib glw gmedia gmp gpgme gphoto2 gstreamer gtk hal hdaps howl-compat hpn htmlhandbook iconv id3tag imap imlib inotify ipw4965 isdnlog javascript jpeg kde kdeenablefinal kdehiddenvisibility lame laptop libwww mad mdnsresponder-compat midi mikmod mmap mmx mozilla mp3 mpeg multilib ncurses network-cron nntp nptl nptlonly nsplugin ogg opengl openmp pam pch pcre pdf perl pic png pop ppds pppd pth python qt3 qt3support qt4 quicktime readline reflection rtc sasl session smapi smime smp smtp sndfile spell spl sql srt sse sse2 ssl ssse3 startup-notification subversion svg sysfs taglib tcpd theora threads threadsafe tiff truetype unicode urandom usb utempter vim-syntax vorbis wifi wmp wxwindows x264 xcb xcomposite xine xml xorg xpm xulrunner xv xvid zlib" ALSA_CARDS="hda-intel" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="mouse keyboard synaptics" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en en_US" USERLAND="GNU" VIDEO_CARDS="intel"
Unset:  CPPFLAGS, CTARGET, FFLAGS, INSTALL_MASK, LC_ALL, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Ryan Hill (RETIRED)






          2008-12-06 05:04:11 UTC
        

Created attachment 174386 [details]
build log




Comment 2


Ryan Hill (RETIRED)






          2008-12-06 05:25:59 UTC
        

only fails if gst-plugins-base hasn't been updated first.  when updating, portage will pull in gstreamer before gst-plugins-base so this might still be worth fixing.  can you pull base in first, maybe some like

test? ( ~media-libs/gst-plugins-base-0.10.21 )

in DEPEND for this version?

if not, i guess this can be marked cantfix.




Comment 3


Ryan Hill (RETIRED)






          2008-12-08 05:11:10 UTC
        

er, nm that won't work.  gst-plugins-base will fail during configure:

configure: Requested 'gstreamer-0.10 >= 0.10.20.1' but version of GStreamer is 0.10.20
configure: error: no gstreamer-0.10 >= 0.10.20.1 (GStreamer) found


i actually can't find a way to make this work short of temporarily disabling tests for gstreamer-0.10.21, upgrading, and then re-enabling them after.





Comment 4


Olivier Crete (RETIRED)






          2008-12-24 00:00:57 UTC
        

I'm completely unable to reproduce your problem here... all the 57 tests pass fine on my stable amd64 machine




Comment 5


Olivier Crete (RETIRED)






          2008-12-24 03:06:43 UTC
        

Do you happen to have LD_LIBRARY_PATH set in your environment ?




Comment 6


Ryan Hill (RETIRED)






          2009-02-10 03:15:09 UTC
        

i'm not setup to test this further right now, and it doesn't seem anyone else is complaining.




Comment 7


Ryan Hill (RETIRED)






          2009-05-12 05:25:05 UTC
        

okay, i hit this again with 0.10.23.

dirtyepic@halo ~ $ qlist -ICv | grep "gst.*"
media-libs/gst-plugins-base-0.10.22
media-libs/gst-plugins-good-0.10.14
media-libs/gst-plugins-ugly-0.10.11
media-libs/gstreamer-0.10.22
media-plugins/gst-plugins-a52dec-0.10.11
media-plugins/gst-plugins-alsa-0.10.22
media-plugins/gst-plugins-dvdread-0.10.11
media-plugins/gst-plugins-ffmpeg-0.10.7
media-plugins/gst-plugins-flac-0.10.14
media-plugins/gst-plugins-mad-0.10.11
media-plugins/gst-plugins-meta-0.10-r2
media-plugins/gst-plugins-mpeg2dec-0.10.11
media-plugins/gst-plugins-ogg-0.10.22
media-plugins/gst-plugins-theora-0.10.22
media-plugins/gst-plugins-vorbis-0.10.22
media-plugins/gst-plugins-x-0.10.22
media-plugins/gst-plugins-xvideo-0.10.22


dirtyepic@halo ~ $ emerge --info        
Portage 2.2_rc33 (default/linux/amd64/2008.0/developer, gcc-4.4.0, glibc-2.9_p20081201-r2, 2.6.29-gentoo-r3 x86_64)
=================================================================                                                  
System uname: Linux-2.6.29-gentoo-r3-x86_64-Intel-R-_Core-TM-2_Duo_CPU_T9300_@_2.50GHz-with-gentoo-2.0.0           
Timestamp of tree: Tue, 12 May 2009 04:30:01 +0000                                                                 
ccache version 2.4 [enabled]                                                                                       
app-shells/bash:     4.0_p17-r1                                                                                    
dev-java/java-config: 2.1.7                                                                                        
dev-lang/python:     2.6.2                                                                                         
dev-util/ccache:     2.4-r8                                                                                        
dev-util/cmake:      2.6.4                                                                                         
sys-apps/baselayout: 2.0.0                                                                                         
sys-apps/openrc:     0.4.3-r2                                                                                      
sys-apps/sandbox:    1.9                                                                                           
sys-devel/autoconf:  2.13, 2.63-r1                                                                                 
sys-devel/automake:  1.5, 1.7.9-r1, 1.9.6-r2, 1.10.2                                                               
sys-devel/binutils:  2.19.51.0.4                                                                                   
sys-devel/gcc-config: 1.4.1                                                                                        
sys-devel/libtool:   2.2.6a                                                                                        
virtual/os-headers:  2.6.29                                                                                        
ACCEPT_KEYWORDS="amd64 ~amd64"                                                                                     
CBUILD="x86_64-pc-linux-gnu"                                                                                       
CFLAGS="-O2 -g -march=core2 -fomit-frame-pointer -pipe"                                                            
CHOST="x86_64-pc-linux-gnu"                                                                                        
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/config"           
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c /etc/udev/rules.d"                                                                                                                                        
CXXFLAGS="-O2 -g -march=core2 -fomit-frame-pointer -pipe"                                                                                   
DISTDIR="/usr/portage/distfiles"                                                                                                            
FEATURES="ccache cvs distlocks fixpackages multilib-strict parallel-fetch preserve-libs protect-owned sandbox sfperms sign splitdebug strict test unmerge-orphans userfetch userpriv usersandbox"                                                                                       
GENTOO_MIRRORS="http://gentoo.mirrors.tera-byte.com/ http://gentoo.osuosl.org http://distfiles.gentoo.org"                                  
LANG="en_US.utf8"                                                                                                                           
LDFLAGS="-Wl,--as-needed -Wl,--hash-style=gnu"                                                                                              
LINGUAS="en en_US"                                                                                                                          
MAKEOPTS="-j4"                                                                                                                              
PKGDIR="/usr/portage/packages"                                                                                                              
PORTAGE_CONFIGROOT="/"                                                                                                                      
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"                                                                                          
PORTAGE_TMPDIR="/var/tmp"                                                                                                                   
PORTDIR="/usr/portage"                                                                                                                      
PORTDIR_OVERLAY="/home/dirtyepic/overlay /home/dirtyepic/svn/dirtyepic /home/dirtyepic/svn/gcc-porting"                                     
SYNC="rsync://rsync.gentoo.org/gentoo-portage"                                                                                              
USE="X a52 aac acpi akode alsa amd64 aspell audiofile avahi bash-completion berkdb bzip2 cairo cdaudio cddb cdparanoia cdr chm cleartype cli consolekit cracklib crypt css cups curl custom-cflags custom-cxxflags custom-optimization cvs dbus dhcpcd divx dri dts dvd dvdr dvdread ebook eds emboss encode evo exif expat faac faad fam ffmpeg fftw firefox3 flac fontconfig foomaticdb gdbm geos gif gimp git glib glw gmedia gmp gpgme gphoto2 gstreamer gtk hal hdaps hpn htmlhandbook iconv id3tag imagemagick imap imlib inotify ipw4965 isdnlog javascript jpeg kde kdeenablefinal kdehiddenvisibility lame laptop libwww lzma mad mdnsresponder-compat midi mikmod mmap mmx mmxext mozilla mp3 mpeg multilib musicbrainz ncurses network-cron nntp nptl nptlonly nsplugin ogg opengl openmp pam pcre pdf phonon pic plasma png pop ppds pppd pth qt3 qt3support qt4 quicktime readline reflection rtc sasl sesame2 session sha512 smapi smime smp smtp sndfile spell spl srt sse sse2 ssl ssse3 startup-notification subversion svg sysfs taglib tcpd theora threads threadsafe tiff tremor truetype unicode urandom usb utempter vcd vim-syntax vorbis wifi wmp wxwidgets wxwindows x264 xcb xcomposite xine xml xorg xpm xslt xulrunner xv xvid xvmc zeroconf zlib" ALSA_CARDS="hda-intel" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="mouse keyboard synaptics evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en en_US" USERLAND="GNU" VIDEO_CARDS="intel"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LC_ALL, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS





Comment 8


Ryan Hill (RETIRED)






          2009-05-12 05:26:45 UTC
        

Created attachment 190992 [details]
build log




Comment 9


Ryan Hill (RETIRED)






          2009-05-12 05:44:54 UTC
        

after upgrading gstreamer, on later rebuilds the testsuite passes no problem.




Comment 10


Rémi Cardona (RETIRED)






          2009-05-12 06:14:35 UTC
        

Closing again then. :)




Comment 11


Ryan Hill (RETIRED)






          2009-05-12 13:20:55 UTC
        

the fact remains that upgrading gstreamer with FEATURES=test is broken.




Comment 12


Nirbheek Chauhan (RETIRED)






          2009-05-12 13:27:04 UTC
        

(In reply to comment #11)
> the fact remains that upgrading gstreamer with FEATURES=test is broken.
> 

So this means it's not testing the compiled version, but the installed version. Which means the tests are broken. Or am I wrong?









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

