Title: 495122 – app-text/zathura - segmentation fault on particular pdf file
URL: https://bugs.gentoo.org/show_bug.cgi?id=495122

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 495122
app-text/zathura - segmentation fault on particular pdf file
Last modified: 2014-05-02 21:12:55 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 495122 
      - app-text/zathura - segmentation fault on particular pdf file


Summary:
app-text/zathura - segmentation fault on particular pdf file
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Samuli Suominen (RETIRED)








URL:



http://www.allegromicro.com/~/media/F...
        




Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2013-12-23 13:09 UTC by Roman Belov





      Modified:
    
2014-05-02 21:12 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



romblv
xmw









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




gdb backtrace with -O0 -g3 and nostrip

              (gdb.backtrace,19.94 KB,
                text/plain)

            
2013-12-26 14:50 UTC,

            Roman Belov




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Roman Belov





          2013-12-23 13:09:19 UTC
        

$ zathura datasheet/ACS711-Datasheet.pdf 
info: successfully loaded plugin /usr/lib64/zathura/ps.so
info: successfully loaded plugin /usr/lib64/zathura/djvu.so
info: successfully loaded plugin /usr/lib64/zathura/pdf.so
info: Using plain database backend.
Segmentation fault (core dumped)

$ gdb /usr/bin/zathura core 
GNU gdb (Gentoo 7.5.1 p2) 7.5.1
Copyright (C) 2012 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type "show copying"
and "show warranty" for details.
This GDB was configured as "x86_64-pc-linux-gnu".
For bug reporting instructions, please see:
<http://bugs.gentoo.org/>...
Reading symbols from /usr/bin/zathura...(no debugging symbols found)...done.
[New LWP 29241]
[New LWP 29240]

warning: Could not load shared library symbols for linux-vdso.so.1.
Do you need "set solib-search-path" or "set sysroot"?
[Thread debugging using libthread_db enabled]
Using host libthread_db library "/lib64/libthread_db.so.1".
Core was generated by `zathura ACS711-Datasheet.pdf'.
Program terminated with signal 11, Segmentation fault.
#0  0x00007f13b3650b4b in ?? () from /usr/lib64/libgs.so.9
(gdb) bt full
#0  0x00007f13b3650b4b in ?? () from /usr/lib64/libgs.so.9
No symbol table info available.
#1  0x00007f13b2e11b08 in jinit_memory_mgr () from /usr/lib64/libjpeg.so.8
No symbol table info available.
#2  0x00007f13b2dfa5de in jpeg_CreateDecompress () from /usr/lib64/libjpeg.so.8
No symbol table info available.
#3  0x00007f13b0d8de84 in DCTStream::init() () from /usr/lib64/libpoppler.so.43
No symbol table info available.
#4  0x00007f13b0d8e1a0 in DCTStream::DCTStream(Stream*, int, Object*, int) () from /usr/lib64/libpoppler.so.43
No symbol table info available.
#5  0x00007f13b0d36c00 in Stream::makeFilter(char*, Stream*, Object*, int, Object*) () from /usr/lib64/libpoppler.so.43
No symbol table info available.
#6  0x00007f13b0d374a3 in Stream::addFilters(Object*, int) () from /usr/lib64/libpoppler.so.43
No symbol table info available.
#7  0x00007f13b0d2a8bb in Parser::makeStream(Object*, unsigned char*, CryptAlgorithm, int, int, int, int, bool) () from /usr/lib64/libpoppler.so.43
No symbol table info available.
#8  0x00007f13b0d2ac33 in Parser::getObj(Object*, bool, unsigned char*, CryptAlgorithm, int, int, int, int, bool) () from /usr/lib64/libpoppler.so.43
No symbol table info available.
#9  0x00007f13b0d3d636 in XRef::fetch(int, int, Object*, int) () from /usr/lib64/libpoppler.so.43
No symbol table info available.
#10 0x00007f13b0cdc0f8 in GfxResources::lookupXObject(char*, Object*) () from /usr/lib64/libpoppler.so.43
No symbol table info available.
#11 0x00007f13b0cef7b0 in Gfx::opXObject(Object*, int) () from /usr/lib64/libpoppler.so.43
No symbol table info available.
#12 0x00007f13b0ce72c4 in Gfx::go(bool) () from /usr/lib64/libpoppler.so.43
No symbol table info available.
#13 0x00007f13b0ce7730 in Gfx::display(Object*, bool) () from /usr/lib64/libpoppler.so.43
No symbol table info available.
#14 0x00007f13b0d29b54 in Page::displaySlice(OutputDev*, double, double, int, bool, bool, int, int, int, int, bool, bool (*)(void*), void*, bool (*)(Annot*, void*), void*, bool) () from /usr/lib64/libpoppler.so.43
No symbol table info available.
#15 0x00007f13b106d4f7 in ?? () from /usr/lib64/libpoppler-glib.so.8
No symbol table info available.
#16 0x00007f13b1293dcd in pdf_page_render_cairo () from /usr/lib64/zathura/pdf.so
No symbol table info available.
#17 0x00000000004151dc in ?? ()
No symbol table info available.
#18 0x00007f13bb67a8e2 in ?? () from /usr/lib64/libglib-2.0.so.0
No symbol table info available.
#19 0x00007f13bb67a125 in ?? () from /usr/lib64/libglib-2.0.so.0
No symbol table info available.
#20 0x00007f13baff2f3a in start_thread () from /lib64/libpthread.so.0
No symbol table info available.
#21 0x00007f13ba78745d in clone () from /lib64/libc.so.6
No symbol table info available.
(gdb) 

$ qlist -Iv zathura
app-text/zathura-0.2.1
app-text/zathura-djvu-0.2.1
app-text/zathura-meta-0
app-text/zathura-pdf-poppler-0.2.1
app-text/zathura-ps-0.2.0

$ qlist -Iv poppler
app-text/poppler-0.24.3
app-text/poppler-data-0.4.6
app-text/zathura-pdf-poppler-0.2.1

$ qlist -Iv ghostscript
app-text/ghostscript-gpl-9.05-r1

The following works fine.
$ gs ACS711-Datasheet.pdf

Link to the file: http://www.allegromicro.com/~/media/Files/Datasheets/ACS711-Datasheet.ashx




Comment 1


Jeroen Roovers (RETIRED)






          2013-12-25 14:40:59 UTC
        

Please attach a full gdb backtrace to this bug report.




Comment 2


Roman Belov





          2013-12-26 14:50:27 UTC
        

Created attachment 366222 [details]
gdb backtrace with -O0 -g3 and nostrip

# qlist -Iv jpeg
media-libs/libjpeg-turbo-1.3.0
virtual/jpeg-0




Comment 3


Roman Belov





          2014-05-02 21:12:55 UTC
        

Not reproducible after an update of libjpeg.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

