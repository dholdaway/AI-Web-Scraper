Title: 135127 – emerge x11-libs/qt-4.1.2 failed
URL: https://bugs.gentoo.org/show_bug.cgi?id=135127

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 135127
emerge x11-libs/qt-4.1.2 failed
Last modified: 2006-06-01 03:22:29 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 135127 
      - emerge x11-libs/qt-4.1.2 failed


Summary:
emerge x11-libs/qt-4.1.2 failed
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Library

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-06-01 03:16 UTC by simo.rinkinen





      Modified:
    
2006-06-01 03:22 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


simo.rinkinen





          2006-06-01 03:16:07 UTC
        

When I try to emerge qt, I always get this error:

[...]
/usr/lib/gcc/x86_64-pc-linux-gnu/3.4.5/../../../../x86_64-pc-linux-gnu/bin/ld: cannot find -lGL
collect2: ld returned 1 exit status
make[3]: *** [../../lib/libQtOpenGL_debug.so.4.1.2] Error 1
make[3]: Leaving directory `/var/tmp/portage/qt-4.1.2/work/qt-x11-opensource-src-4.1.2/src/opengl'
make[2]: *** [debug-all] Error 2
g++ -c -m64 -pipe -I/usr/include/mysql -march=k8 -pipe -O2 -Wall -W -D_REENTRANT -fPIC  -DQT_SHARED -DQT_BUILD_OPENGL_LIB -DQT_NO_CAST_TO_ASCII -DQT3_SUPPORT -DQT_MOC_COMPAT -DQT_NO_DEBUG -DQT_GUI_LIB -DQT_CORE_LIB -D_LARGEFILE64_SOURCE -D_LARGEFILE_SOURCE -I../../mkspecs/linux-g++-64 -I. -I../../include/QtCore -I../../include/QtGui -I../../include -I../../include/QtOpenGL -I/usr/include/freetype2 -I/usr/include -I/usr/include -I.moc/release-shared -I. -o .obj/release-shared/moc_qgl.o .moc/release-shared/moc_qgl.cpp
make[2]: *** Waiting for unfinished jobs....
rm -f libQtOpenGL.so.4.1.2 libQtOpenGL.so libQtOpenGL.so.4 libQtOpenGL.so.4.1
g++ -m64 -shared -Wl,-soname,libQtOpenGL.so.4 -o libQtOpenGL.so.4.1.2 .obj/release-shared/qgl.o .obj/release-shared/qglcolormap.o .obj/release-shared/qpaintengine_opengl.o .obj/release-shared/qglpixelbuffer.o .obj/release-shared/qgl_x11.o .obj/release-shared/qglpixelbuffer_x11.o .obj/release-shared/moc_qgl.o   -L/usr/lib64 -L/usr/lib64/mysql -L/var/tmp/portage/qt-4.1.2/work/qt-x11-opensource-src-4.1.2/lib -lGLU -lGL -lQtGui -L/usr/lib64 -L/usr/lib64/mysql -L/var/tmp/portage/qt-4.1.2/work/qt-x11-opensource-src-4.1.2/lib -lpng -lSM -lICE -lXi -lXrender -lXrandr -lXcursor -lfreetype -lfontconfig -lXext -lX11 -lQtCore -lz -lm -lpthread -ldl
/usr/lib/gcc/x86_64-pc-linux-gnu/3.4.5/../../../../x86_64-pc-linux-gnu/bin/ld: cannot find -lGL
collect2: ld returned 1 exit status
make[3]: *** [../../lib/libQtOpenGL.so.4.1.2] Error 1
make[3]: Leaving directory `/var/tmp/portage/qt-4.1.2/work/qt-x11-opensource-src-4.1.2/src/opengl'
make[2]: *** [release-all] Error 2
make[2]: Leaving directory `/var/tmp/portage/qt-4.1.2/work/qt-x11-opensource-src-4.1.2/src/opengl'
make[1]: *** [sub-opengl-all-ordered] Error 2
make[1]: Leaving directory `/var/tmp/portage/qt-4.1.2/work/qt-x11-opensource-src-4.1.2/src'
make: *** [sub-src-all-ordered] Error 2

!!! ERROR: x11-libs/qt-4.1.2 failed.
!!! Function src_compile, Line 152, Exitcode 2
!!! (no error message)
!!! If you need support, post the topmost build error, NOT this status message.

# emerge --info:

Portage 2.0.54-r2 (default-linux/amd64/2005.1, gcc-3.4.5, glibc-2.3.6-r3, 2.6.16-gentoo-r7 x86_64)
=================================================================
System uname: 2.6.16-gentoo-r7 x86_64 AMD Athlon(tm) 64 Processor 3200+
Gentoo Base System version 1.6.14
dev-lang/python:     2.3.5-r2, 2.4.2
dev-python/pycrypto: [Not Present]
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1-r2
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=k8 -pipe -O2"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/lib/X11/xkb /usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /usr/X11R6/bin/startx /etc/env.d"
CXXFLAGS="-march=k8 -pipe -O2"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LINGUAS="fi ru en"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="amd64 X a52 alsa arts asf audiofile avi berkdb bitmap-fonts bzip2 cdr cli crypt cups curl doc dri dvd dvdr dvdread eds emboss encode esd exif expat fam ffmpeg foomaticdb fortran gd gdbm gif glut gmp gnome gphoto2 gpm gstreamer gtk gtk2 hal idn imagemagick imlib ipv6 isdnlog java javascript jpeg kde lcms libwww lzw lzw-tiff mad mng mozilla mp3 mpeg mysql ncurses nls ogg openal opengl pam pcre pdflib perl png pppd python qt quicktime readline reflection sdl session spell spl ssl tcltk tcpd tetex tiff truetype truetype-fonts type1-fonts udev unicode usb ved vorbis xine xml2 xmms xorg xpm xv xvid zlib linguas_fi linguas_ru linguas_en userland_GNU kernel_linux elibc_glibc"
Unset:  CTARGET, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTAGE_RSYNC_OPTS, PORTDIR_OVERLAY


There is a thread on emerge qt at http://forums.gentoo.org/viewtopic-t-466755-highlight-.html




Comment 1


Jakub Moc (RETIRED)






          2006-06-01 03:22:29 UTC
        

Upgrade eselect-opengl to 1.0.3 if you haven't done so yet, and run 'eselect opengl set xorg-x11' (or nvidia or ati or whatever else you are using). Not a QT bug.










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

