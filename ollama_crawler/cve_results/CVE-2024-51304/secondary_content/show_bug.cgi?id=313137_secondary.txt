Title: 313137 – Eternal-lands 1.9.0 fails to compile
URL: https://bugs.gentoo.org/show_bug.cgi?id=313137

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 313137
Eternal-lands 1.9.0 fails to compile
Last modified: 2011-03-11 02:16:54 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 313137 
      - Eternal-lands 1.9.0 fails to compile


Summary:
Eternal-lands 1.9.0 fails to compile
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Games

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Richard Freeman








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2010-04-04 22:02 UTC by Silvio





      Modified:
    
2011-03-11 02:16 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



games









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Build.log

              (build.log,13.67 KB,
                text/plain)

            
2010-04-04 22:03 UTC,

            Silvio




Details





new build.log whith error 

              (build.log,13.67 KB,
                text/plain)

            
2010-04-07 19:35 UTC,

            Silvio




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Silvio





          2010-04-04 22:02:31 UTC
        

Emerging eternal.lans-1.9.0 I get error

Reproducible: Always

Steps to Reproduce:
1. emerge eternal-lands
2. wait till error


Actual Results:  
In file included from io/elfilewrapper.cpp:8:
io/cal_animation_cache.hpp: In static member function 'static CalCoreAnimationPtr eternal_lands::CalAnimationCache::loadAnimation(const std::string&, float)':
io/cal_animation_cache.hpp:38: error: cannot declare variable 'file' to be of abstract type 'eternal_lands::el_data_source'
io/eldatasource.hpp:21: note:   because the following virtual functions are pure within 'eternal_lands::el_data_source':
/usr/include/cal3d/datasource.h:42: note:       virtual bool CalDataSource::readShort(short int&)
io/elfilewrapper.cpp: In function 'CalCoreAnimation* eternal_lands::CalLoader_ELLoadCoreAnimation(CalLoader*, const char*)':
io/elfilewrapper.cpp:196: error: cannot declare variable 'file' to be of abstract type 'eternal_lands::el_data_source'
io/eldatasource.hpp:21: note:   since type 'eternal_lands::el_data_source' has pure virtual functions
io/elfilewrapper.cpp: In function 'CalCoreMaterial* eternal_lands::CalLoader_ELLoadCoreMaterial(CalLoader*, const char*)':
io/elfilewrapper.cpp:215: error: cannot declare variable 'file' to be of abstract type 'eternal_lands::el_data_source'
io/eldatasource.hpp:21: note:   since type 'eternal_lands::el_data_source' has pure virtual functions
io/elfilewrapper.cpp: In function 'CalCoreMesh* eternal_lands::CalLoader_ELLoadCoreMesh(CalLoader*, const char*)':
io/elfilewrapper.cpp:234: error: cannot declare variable 'file' to be of abstract type 'eternal_lands::el_data_source'
io/eldatasource.hpp:21: note:   since type 'eternal_lands::el_data_source' has pure virtual functions
io/elfilewrapper.cpp: In function 'CalCoreSkeleton* eternal_lands::CalLoader_ELLoadCoreSkeleton(CalLoader*, const char*)':
io/elfilewrapper.cpp:253: error: cannot declare variable 'file' to be of abstract type 'eternal_lands::el_data_source'
io/eldatasource.hpp:21: note:   since type 'eternal_lands::el_data_source' has pure virtual functions
io/elfilewrapper.cpp: In function 'int eternal_lands::CalCoreModel_ELLoadCoreMaterial(CalCoreModel*, const char*)':
io/elfilewrapper.cpp:282: error: cannot declare variable 'file' to be of abstract type 'eternal_lands::el_data_source'
io/eldatasource.hpp:21: note:   since type 'eternal_lands::el_data_source' has pure virtual functions
io/elfilewrapper.cpp: In function 'int eternal_lands::CalCoreModel_ELLoadCoreMesh(CalCoreModel*, const char*)':
io/elfilewrapper.cpp:305: error: cannot declare variable 'file' to be of abstract type 'eternal_lands::el_data_source'
io/eldatasource.hpp:21: note:   since type 'eternal_lands::el_data_source' has pure virtual functions
io/elfilewrapper.cpp: In function 'CalBoolean eternal_lands::CalCoreModel_ELLoadCoreSkeleton(CalCoreModel*, const char*)':
io/elfilewrapper.cpp:328: error: cannot declare variable 'file' to be of abstract type 'eternal_lands::el_data_source'
io/eldatasource.hpp:21: note:   since type 'eternal_lands::el_data_source' has pure virtual functions
make: *** [io/elfilewrapper.o] Error 1


Expected Results:  
No error




Comment 1


Silvio





          2010-04-04 22:03:57 UTC
        

Created attachment 226595 [details]
Build.log

My emerge --info
Portage 2.2_rc67 (default/linux/x86/10.0/desktop/kde, gcc-4.4.3, glibc-2.11-r1, 2.6.33-gentoo i686)
=================================================================
System uname: Linux-2.6.33-gentoo-i686-Intel-R-_Core-TM-2_Duo_CPU_T7700_@_2.40GHz-with-gentoo-2.0.1
Timestamp of tree: Sun, 04 Apr 2010 18:30:02 +0000
ccache version 2.4 [enabled]
app-shells/bash:     4.1_p2-r1
dev-java/java-config: 2.1.10
dev-lang/python:     2.4.6, 2.5.4-r4, 2.6.5-r1, 3.1.2-r1
dev-util/ccache:     2.4-r8
dev-util/cmake:      2.8.1
sys-apps/baselayout: 2.0.1
sys-apps/openrc:     0.6.1-r1
sys-apps/sandbox:    2.2
sys-devel/autoconf:  2.13, 2.65
sys-devel/automake:  1.8.5-r3, 1.9.6-r3, 1.10.3, 1.11.1
sys-devel/binutils:  2.20.1
sys-devel/gcc:       4.2.4-r1, 4.3.4, 4.4.3
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   2.2.6b
virtual/os-headers:  2.6.33
ACCEPT_KEYWORDS="x86 ~x86"
ACCEPT_LICENSE="*"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=native -O2 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/lib/fax /usr/share/X11/xkb /usr/share/config /var/lib/hsqldb /var/spool/fax/etc"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/eselect/postgresql /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/splash /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c"
CXXFLAGS="-march=native -O2 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="assume-digests ccache distlocks fixpackages news parallel-fetch preserve-libs protect-owned sandbox sfperms strict unmerge-logs unmerge-orphans userfetch"
GENTOO_MIRRORS=" http://mirror.ovh.net/gentoo-distfiles/ http://ftp.heanet.ie/pub/gentoo/ http://mirror.ovh.net/gentoo-distfiles/ http://www.die.unipd.it/pub/Linux/distributions/gentoo-sources/ rsync://rsync3.it.gentoo.org/gentoo-sources/ ftp://ftp.unina.it/pub/linux/distributions/gentoo/"
LANG="it_IT"
LC_ALL="it_IT"
LDFLAGS="-Wl,-O1"
LINGUAS="it en"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/var/lib/layman/zugaina /var/lib/layman/armagetron /var/lib/layman/sunrise /var/lib/layman/trauma /var/lib/layman/voyageur /var/lib/layman/rion /usr/portage/local/manual"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="3ds X a52 aac acl acpi aiglx akode alias alsa amr ao apache apm audiofile autoreplace avi bash-completion berkdb bitmap-fonts bluetooth bmp branding browserplugin bzip bzip2 cairo cdaudio cdr cli connectionstatus consolekit contactnotes cracklib crypt cups cxx dbus dialup djvu dri dts dv dvd dvdr dvdread ebook emboss encode ethereal exif fam fat ffmpeg firefox flac fluidsynth foomaticdb fortran freetds gdbm gif glib glitz gphoto2 gpm gps gpu groupwise gtk gtk2 hal highlight history hvm i8x0 iconv ieee1394 imagemagick innodb ipod ipv6 irc ithreads jack java javascript jingle jpeg jpeg2k kde kerberos kqemu lame laptop lcms ldap libnotify lm_sensors lucene m4a mad mdnsresponder-compat midi mikmod mime mmx mmxext mng modules moonlight mozilla mp3 mp4 mpeg mpeg2 mplayer mssql mudflap musepack musicbrainz mysql ncurses netmeeting nls nowlistening npt1 nptl nptlonly nsplugin ntfs nvidia odbc ogg openexr opengl openipmi openmp oss pam pango pcmcia pcre pda pdf perl pmu png portaudio postgres ppds pppd prelude python python3 qt qt3support qt4 quicktime rar raw rdesktop rdp readline reflection reiserfs samba sametime sdl semantic-desktop session smp sms speex spell spl sse sse2 ssl startup-notification subtitles svg sysfs tcpd texteffect texteffects theora tidy tiff timidity translator truetype truetype-fonts twolame type1-fonts unicode usb utempter v4l v4l2 vcd virtualbox vorbis webkit webpresence wifi win32codecs winpopup wlm wmf wxwindows x264 x86 xcb xen xine xml xorg xulrunner xv xvid xvmc yahoo zeroconf zlib" ALSA_CARDS="snd_hda_intel" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic auth_digest authn_anon authn_dbd authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock dbd deflate dir disk_cache env expires ext_filter file_cache filter headers ident imagemap include info log_config logio mem_cache mime mime_magic negotiation proxy proxy_ajp proxy_balancer proxy_connect proxy_http rewrite setenvif so speling status unique_id userdir usertrack vhost_alias" CAMERAS="canon" ELIBC="glibc" INPUT_DEVICES="keyboard mouse evdev joystick synaptics wacom" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="it en" RUBY_TARGETS="ruby18" USERLAND="GNU" VIDEO_CARDS="nvidia nv vesa" 
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 2


Richard Freeman






          2010-04-07 17:03:00 UTC
        

I can confirm this behavior on ~amd64 as well.  I'll start tracking down what the dependency issue is...




Comment 3


Richard Freeman






          2010-04-07 17:44:26 UTC
        

I found a missing use dependency on libsdl (must be built with X use flag).  I tend to doubt that this is your problem based on your use flags.  I fixed that anyway, but I'll keep looking.  You might check that your libsdl was built with the X use flag.




Comment 4


Silvio





          2010-04-07 19:34:02 UTC
        

(In reply to comment #3)
> I found a missing use dependency on libsdl (must be built with X use flag).  I
> tend to doubt that this is your problem based on your use flags.  I fixed that
> anyway, but I'll keep looking.  You might check that your libsdl was built with
> the X use flag.
> 

Even now, no compilation.

here my libsdl:

media-libs/libsdl
Installed versions:  1.2.14-r1(22:44:24 15/03/2010)(X alsa audio joystick opengl oss video xv -aalib -custom-cflags -dga -directfb -fbcon -ggi -libcaca -nas -ps3 -pulseaudio -svga -tslib -xinerama)

I will post the new build.log immediatly.

Thanks.

Silvio




Comment 5


Silvio





          2010-04-07 19:35:16 UTC
        

Created attachment 226919 [details]
new build.log whith error




Comment 6


Myckel Habets





          2010-09-11 18:26:52 UTC
        

Looks like a media-libs/cal3d related issue?




Comment 7


Richard Freeman






          2011-01-19 19:23:28 UTC
        

Is this problem still reproducible with the latest client/dependencies/etc?





Comment 8


Richard Freeman






          2011-03-11 02:16:54 UTC
        

Ok, closing since it can't be reproduced, but if this crops up again let me know...









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

