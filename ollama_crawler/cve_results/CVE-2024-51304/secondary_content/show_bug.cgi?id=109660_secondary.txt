Title: 109660 – ffmpeg2theora fails to build
URL: https://bugs.gentoo.org/show_bug.cgi?id=109660

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 109660
ffmpeg2theora fails to build
Last modified: 2005-12-08 07:57:12 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 109660 
      - ffmpeg2theora fails to build


Summary:
ffmpeg2theora fails to build
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Media-video project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-10-17 20:11 UTC by Aaron





      Modified:
    
2005-12-08 07:57 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Aaron





          2005-10-17 20:11:43 UTC
        

x86_64-pc-linux-gnu-gcc -O2 -march=athlon64 -mtune=athlon64 -pipe -fno-ident  
-Wl,-O1 -o ffmpeg2theora ffmpeg2theora-ffmpeg2theora.o  
ffmpeg2theora-theorautils.o   
-L/usr/lib /usr/lib64/libvorbisenc.so /usr/lib64/libvorbis.so /usr/lib64/libtheora.so /usr/lib64/libogg.so  
-lavformat -lavcodec -lm -lz -ldl /usr/lib64/libfaad.so -lavutil  
/usr/lib/libavformat.so: undefined reference to `dc1394_stop_iso_transmission'  
/usr/lib/libavformat.so: undefined reference to `dc1394_get_camera_nodes'  
/usr/lib/libavformat.so: undefined reference to  
`dc1394_start_iso_transmission'  
/usr/lib/libavformat.so: undefined reference to `dc1394_destroy_handle'  
/usr/lib/libavformat.so: undefined reference to `dc1394_dma_unlisten'  
/usr/lib/libavformat.so: undefined reference to `dc1394_create_handle'  
/usr/lib/libavformat.so: undefined reference to `dc1394_dma_single_capture'  
/usr/lib/libavformat.so: undefined reference to `dc1394_dma_setup_capture'  
/usr/lib/libavformat.so: undefined reference to `dc1394_dma_done_with_buffer'  
/usr/lib/libavformat.so: undefined reference to `dc1394_dma_release_camera'  
collect2: ld returned 1 exit status  
make[1]: *** [ffmpeg2theora] Error 1  
make[1]: Leaving directory  
`/var/tmp/portage/ffmpeg2theora-0.15/work/ffmpeg2theora-0.15'  
make: *** [all-recursive] Error 1  
  
!!! ERROR: media-video/ffmpeg2theora-0.15 failed.  
!!! Function src_compile, Line 32, Exitcode 2  
!!! (no error message)  
!!! If you need support, post the topmost build error, NOT this status  
message.  

Reproducible: Always
Steps to Reproduce:
1. emerge =media-video/ffmpeg2theora-0.15 
2. 
3. 
 
Actual Results:  
ffmpeg2theora fails to build 

Expected Results:  
ffmpeg2theora should have built 

Portage 2.0.53_rc5 (default-linux/amd64/2005.1, gcc-3.4.4, glibc-2.3.5-r2, 
2.6.13-gentoo-r4 x86_64) 
================================================================= 
System uname: 2.6.13-gentoo-r4 x86_64 AMD Athlon(tm) 64 Processor 3500+ 
Gentoo Base System version 1.12.0_pre9 
dev-lang/python:     2.4.2 
sys-apps/sandbox:    1.2.13 
sys-devel/autoconf:  2.13, 2.59-r7 
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1 
sys-devel/binutils:  2.16.1 
sys-devel/libtool:   1.5.20 
virtual/os-headers:  2.6.11-r2 
ACCEPT_KEYWORDS="amd64 ~amd64" 
AUTOCLEAN="yes" 
CBUILD="x86_64-pc-linux-gnu" 
CFLAGS="-O2 -march=athlon64 -mtune=athlon64 -pipe -fno-ident" 
CHOST="x86_64-pc-linux-gnu" 
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/share/config /var/qmail/control" 
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d" 
CXXFLAGS="-O2 -march=athlon64 -mtune=athlon64 -pipe -fno-ident 
-fvisibility-inlines-hidden" 
DISTDIR="/usr/portage/distfiles" 
FEATURES="autoconfig distlocks sandbox sfperms strict" 
GENTOO_MIRRORS="http://distro.ibiblio.org/pub/linux/distributions/gentoo 
http://gentoo.osuosl.org http://mirror.usu.edu/mirrors/gentoo/" 
LDFLAGS="-Wl,-O1" 
LINGUAS="en" 
PKGDIR="/usr/portage/packages" 
PORTAGE_TMPDIR="/var/tmp" 
PORTDIR="/usr/portage" 
PORTDIR_OVERLAY="/usr/local/portage" 
SYNC="rsync://rsync.gentoo.org/gentoo-portage" 
USE="amd64 X a52 aac alsa arts berkdb bzip2 cdr crypt cups dlloader dv dvd 
dvdr encode exif ffmpeg gif gnutls gphoto2 hal ieee1394 jpeg kde 
kdeenablefinal mp3 mysql ncurses nvidia ogg oggvorbis opengl pic png qt samba 
sdl spell ssl theora tiff truetype usb vorbis wmf xine xml xml2 xv zlib 
linguas_en userland_GNU kernel_linux elibc_glibc" 
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, MAKEOPTS




Comment 1


Gregory McLean





          2005-10-26 14:50:54 UTC
        

Looks like the ffmpeg people changed the api a bit and broke the ieee1394 stuff.
If you don't need the firewire gunk:

echo "media-video/ffmpeg -ieee1394" >>/etc/portage/package.use
emerge ffmpeg
emerge ffmpeg2theora





Comment 2


Diego Elio Pettenò (RETIRED)






          2005-10-30 15:04:22 UTC
        

Make sure you run revdep-rebuild, that should be enough I think. 
 




Comment 3


Aaron





          2005-10-30 16:26:07 UTC
        

running revdep-rebuild doesn't help the situation 
(In reply to comment #2) 
> Make sure you run revdep-rebuild, that should be enough I think.  
>   
 
 




Comment 4


Aaron





          2005-11-26 17:40:58 UTC
        

this is fixed by ffmpeg 0.4.9_p20051120 
 
e.g. it compiles now 




Comment 5


Diego Elio Pettenò (RETIRED)






          2005-12-08 07:57:12 UTC
        

Ok fixed by ffmpeg update then. 









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

