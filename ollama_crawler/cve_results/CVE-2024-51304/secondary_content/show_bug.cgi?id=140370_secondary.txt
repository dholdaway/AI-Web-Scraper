Title: 140370 – unable to emerge mono-1.1.16.1
URL: https://bugs.gentoo.org/show_bug.cgi?id=140370

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 140370
unable to emerge mono-1.1.16.1
Last modified: 2006-07-24 22:51:43 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 140370 
      - unable to emerge mono-1.1.16.1


Summary:
unable to emerge mono-1.1.16.1
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Development

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

dotnet project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-07-14 08:51 UTC by David





      Modified:
    
2006-07-24 22:51 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



christophe
ufechner









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


David





          2006-07-14 08:51:13 UTC
        

make[8]: Entering directory `/var/tmp/portage/mono-1.1.16.1/work/mono-1.1.16.1/mcs/class/Mono.Security'
MONO_PATH="../../class/lib/net_2_0_bootstrap:$MONO_PATH" /var/tmp/portage/mono-1.1.16.1/work/mono-1.1.16.1/runtime/mono-wrapper  ../../class/lib/net_2_0_bootstrap/mcs.exe /codepage:28591   -d:NET_1_1 -d:BOOTSTRAP_NET_2_0 -debug /noconfig -r:System.dll -unsafe -target:library -out:Mono.Security.dll  @Mono.Security.dll.sources

** (../../class/lib/net_2_0_bootstrap/mcs.exe:9801): WARNING **: Missing method .ctor in assembly /usr/lib/mono/gac/I18N/2.0.0.0__0738eb9f132ed756/I18N.dll, type System.Runtime.CompilerServices.RuntimeCompatibilityAttribute

** ERROR **: Can't find custom attr constructor image: /usr/lib/mono/gac/I18N/2.0.0.0__0738eb9f132ed756/I18N.dll mtoken: 0x0a00003f
aborting...
=================================================================
Got a SIGABRT while executing native code. This usually indicates
a fatal error in the mono runtime or one of the native libraries 
used by your application.
=================================================================

Stacktrace:

  at (wrapper managed-to-native) System.AppDomain.LoadAssembly (string,System.Security.Policy.Evidence,bool) <0x00004>
  at (wrapper managed-to-native) System.AppDomain.LoadAssembly (string,System.Security.Policy.Evidence,bool) <0xffffffff>
  at System.AppDomain.Load (string) <0x00018>
  at (wrapper remoting-invoke-with-check) System.AppDomain.Load (string) <0xffffffff>
  at System.Reflection.Assembly.Load (string) <0x0001b>
  at System.Text.Encoding.InvokeI18N (string,object[]) <0x0007c>
  at System.Text.Encoding.GetEncoding (string) <0x0015d>
  at System.Text.Encoding.get_Default () <0x0006b>
  at System.Console..cctor () <0x00069>
  at (wrapper runtime-invoke) System.Object.runtime_invoke_void (object,intptr,intptr,intptr) <0xffffffff>
  at Mono.CSharp.Report..cctor () <0xffffffff>
  at Mono.CSharp.Report..cctor () <0x0000a>
  at (wrapper runtime-invoke) System.Object.runtime_invoke_void (object,intptr,intptr,intptr) <0xffffffff>
Native stacktrace:

        /var/tmp/portage/mono-1.1.16.1/work/mono-1.1.16.1/mono/mini/mono(mono_handle_native_sigsegv+0xff) [0x817de1f]
        [0xffffe440]
        /lib/libc.so.6(abort+0xe9) [0x4015f759]
        /usr/lib/libglib-2.0.so.0 [0x4007dde7]
        /usr/lib/libglib-2.0.so.0(g_log+0x26) [0x4007de16]
        /var/tmp/portage/mono-1.1.16.1/work/mono-1.1.16.1/mono/mini/mono(mono_custom_attrs_from_index+0x1cc) [0x8190cfc]
        /var/tmp/portage/mono-1.1.16.1/work/mono-1.1.16.1/mono/mini/mono(mono_custom_attrs_from_assembly+0x44) [0x8190e34]
        /var/tmp/portage/mono-1.1.16.1/work/mono-1.1.16.1/mono/mini/mono(mono_assembly_load_from_full+0x486) [0x80e8786]
        /var/tmp/portage/mono-1.1.16.1/work/mono-1.1.16.1/mono/mini/mono(mono_assembly_open_full+0x220) [0x80e8af0]
        /var/tmp/portage/mono-1.1.16.1/work/mono-1.1.16.1/mono/mini/mono(mono_assembly_load_full+0xa9b) [0x80e987b]
        /var/tmp/portage/mono-1.1.16.1/work/mono-1.1.16.1/mono/mini/mono [0x80da3ab]













master2 ~ # emerge --info
Portage 2.1.1_pre2-r8 (default-linux/x86/2006.0, gcc-3.4.6/vanilla, glibc-2.4-r3, 2.6.16-gentoo-r9 i686)
=================================================================
                       System Settings
=================================================================
System uname: 2.6.16-gentoo-r9 i686 Intel(R) Pentium(R) M processor 1.60GHz
Gentoo Base System version 1.12.1
ccache version 2.4 [enabled]
app-admin/eselect-compiler: 2.0.0_rc2-r1
dev-lang/python:     2.4.3-r1
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     2.4-r2
dev-util/confcache:  [Not Present]

sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.60
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.17
sys-devel/gcc-config: 2.0.0_rc1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r5
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O3 -march=pentium-m -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/lib/mozilla/defaults/pref /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/eselect/compiler /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/splash /etc/terminfo"
CXXFLAGS="-O3 -march=pentium-m -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"

FEATURES="autoconfig ccache distlocks metadata-transfer parallel-fetch sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LANG="de_DE@euro"
LC_ALL="de_DE@euro"
LINGUAS="de"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X acpi alsa apache2 apm arts avi berkdb bitmap-fonts chroot cli crypt cups dlloader dri eds emboss encode esd foomaticdb fortran gdbm gif gnome gpm gstreamer gtk gtk2 imlib isdnlog jpeg libg++ libwww lm_sensors mad mikmod mmx motif mp3 mpeg ncurses nls nptl nptlonly ogg opengl oss pam pcre pdflib perl pmu png pppd python qt3 qt4 quicktime readline reflection sdl session spell spl sse ssl tcpd truetype truetype-fonts trusted type1-fonts udev unicode vorbis xml xmms xorg xv zlib elibc_glibc input_devices_keyboard input_devices_mouse input_devices_evdev kernel_linux linguas_de userland_GNU video_cards_i810"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LDFLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY




Comment 1


Uwe Fechner





          2006-07-23 00:25:44 UTC
        

Same problem an my machine.

I used the command:
emerge -uD mono

to make shure, that all libs are uptodate.




Comment 2


Christophe Saout





          2006-07-24 15:30:27 UTC
        

Same here (still).

** (../../class/lib/net_2_0_bootstrap/mcs.exe:19994): WARNING **: Missing method .ctor in assembly /usr/lib64/mono/gac/I18N/2.0.0.0__0738eb9f132ed756/I18N.dll, type System.Runtime.CompilerServices.RuntimeCompatibilityAttribute

** ERROR **: Can't find custom attr constructor image: /usr/lib64/mono/gac/I18N/2.0.0.0__0738eb9f132ed756/I18N.dll mtoken: 0x0a00003f

(etc... blabla)

Portage 2.1.1_pre3-r4 (default-linux/amd64/2006.0/no-symlinks/no-lib32, gcc-4.1.1/amd64-hardenednopie, glibc-2.4.20060329-r0, 2.6.17-rc3-cs1 x86_64)
=================================================================
System uname: 2.6.17-rc3-cs1 x86_64 AMD Athlon(tm) 64 Processor 3000+
Gentoo Base System version 1.12.1
distcc 2.18.3 x86_64-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
app-admin/eselect-compiler: 2.0.0_rc2-r1
dev-lang/python:     2.4.3-r1
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.60
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.93
sys-devel/gcc-config: 2.0.0_rc1
sys-devel/libtool:   1.5.20-r1
virtual/os-headers:  2.6.16
ACCEPT_KEYWORDS="amd64 ~amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -march=athlon64 -pipe -frename-registers -fweb -D_FORTIFY_SOURCE=1"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /var/bind /var/qmail/alias /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/eselect/compiler /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/terminfo"
CXXFLAGS="-O2 -march=athlon64 -pipe -frename-registers -fweb -D_FORTIFY_SOURCE=1"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer multilib-strict sandbox sfperms strict"
GENTOO_MIRRORS="http://mirror.switch.ch/ftp/mirror/gentoo/ ftp://mirror.switch.ch/mirror/gentoo/ "
LANG="de_DE@euro"
LDFLAGS="-Wl,-O1 -Wl,--enable-new-dtags"
LINGUAS="de en"
MAKEOPTS="-j5"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="X aalib acl acpi amd64 apache2 authdaemond avi berkdb bitmap-fonts bzip2 cairo caps cdb cli crypt curl devmap dlloader dri droproot dynamic eds elf emboss encode exif fam foomaticdb fortran gcj gd gdbm gif gmp gpm gs gstreamer gtk2 guile hardened iconv idn imap imlib ipv6 isdnlog java jpeg kerberos lcms ldap libg++ libgda lzw lzw-tiff maildir mcal mono mp3 mpeg mysql ncurses nfsv4 nls nptl ocaml odbc oggvorbis pam pcre pdf pdflib perl php pic png postgres postscript pppd python quicktime quotas readline reflection sasl sdl session snmp source spamassassin spell spl sqlite ssl tcl tcpd tiff truetype truetype-fonts type1-fonts unicode usb utf8 webdav xinerama xml xml2 xorg xpm xv zlib elibc_glibc input_devices_keyboard input_devices_mouse input_devices_evdev kernel_linux linguas_de linguas_en userland_GNU"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LC_ALL, PORTAGE_RSYNC_EXTRA_OPTS




Comment 3


Christophe Saout





          2006-07-24 16:07:53 UTC
        

I just noted that the path with the "broken" .dll was in the system not, /var/tmp. So I unmerged the old mono, reemerged it, and then the build went through.





Comment 4


David





          2006-07-24 22:51:43 UTC
        

You are right!
No Iam able to run 1.1.16

Thank you!









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

