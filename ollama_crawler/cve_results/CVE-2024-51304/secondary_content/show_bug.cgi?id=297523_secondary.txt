Title: 297523 – media-sound/amarok-2 works only with xine phonon backend
URL: https://bugs.gentoo.org/show_bug.cgi?id=297523

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 297523
media-sound/amarok-2 works only with xine phonon backend
Last modified: 2010-05-27 16:15:52 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 297523 
      - media-sound/amarok-2 works only with xine phonon backend


Summary:
media-sound/amarok-2 works only with xine phonon backend
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Jorge Manuel B. S. Vicetto (RETIRED)








URL:



https://bugs.kde.org/show_bug.cgi?id=...
        




Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-12-19 14:24 UTC by Nikoli





      Modified:
    
2010-05-27 16:15 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



kde
ziga.boehm









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge --info

              (info,4.14 KB,
                text/plain)

            
2009-12-20 01:13 UTC,

            Nikoli




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Nikoli





          2009-12-19 14:24:31 UTC
        

If I remove xine-libs and recomplile world with USE="gstreamer -xine", then amarok plays only one track per restart.

Reproducible: Always

Steps to Reproduce:
1. Remove xine-lib
2. Play song 1
3. Play song 2 - you will have no sound




Comment 1


Jorge Manuel B. S. Vicetto (RETIRED)






          2009-12-19 17:08:32 UTC
        

Please post your emerge --info and the ouput of emerge -pv amarok amarok-utils




Comment 2


Jorge Manuel B. S. Vicetto (RETIRED)






          2009-12-19 17:13:46 UTC
        

Do you have gstreamer active in System Settings -> Computer Administration -> Multimedia or if you prefer from amarok Settings -> Configure Amarok -> Playback -> Sound system configuration?
Are you using pulseaudio with gstreamer?




Comment 3


Nikoli





          2009-12-20 01:12:03 UTC
        

[ebuild   R   ] media-sound/amarok-utils-2.2.1.90  USE="-bindist -debug" 0 kB
[ebuild   R   ] media-sound/amarok-2.2.1.90  USE="cdda embedded mtp opengl semantic-desktop (-aqua) -bindist -daap -debug -ipod (-kdeenablefinal) -lastfm -mp3tunes" LINGUAS="ru -bg -ca -cs -da -de -en_GB -es -et -eu -fi -fr -it -ja -km -nb -nds -nl -pa -pl -pt -pt_BR -sl -sr -sr@latin -sv -th -tr -uk -wa -zh_TW" 0 kB

Same problem was with stable versions (2.2.0).

I do not have pulseaudio in system, gstreamer backend was active and set automatically.
More info:
[ebuild   R   ] media-libs/gstreamer-0.10.24  USE="nls -test" 2,913 kB
[ebuild   R   ] media-sound/phonon-4.3.50_pre20090520  USE="gstreamer xcb xine -debug" 0 kB
[ebuild   R   ] kde-base/kdelibs-4.3.3-r1  USE="acl alsa bzip2 handbook jpeg2k lzma mmx nls openexr opengl semantic-desktop spell sse sse2 ssl -3dnow (-altivec) (-aqua) -bindist -debug -doc -fam (-kdeenablefinal) (-kdeprefix) -kerberos -test -zeroconf" 10,270 kB
[ebuild   R   ] kde-base/phonon-kde-4.3.3  USE="xine (-aqua) -debug (-kdeenablefinal) (-kdeprefix) -pulseaudio" 0 kB




Comment 4


Nikoli





          2009-12-20 01:13:26 UTC
        

Created attachment 213527 [details]
emerge --info




Comment 5


Nikoli





          2009-12-20 01:15:22 UTC
        

jmbsvicetto, are you able to play 2+ files in amarok without xine-lib in system?




Comment 6


Jorge Manuel B. S. Vicetto (RETIRED)






          2009-12-20 02:12:30 UTC
        

This is probably caused by a bug in the phonon gstreamer backend - as it has been frequently suggested in the amarok-users list. In any case, please check the following upstream bugs - https://bugs.kde.org/buglist.cgi?quicksearch=amarok+gstreamer

https://bugs.kde.org/show_bug.cgi?id=172372 - seems to be the best candidate




Comment 7


Nikoli





          2009-12-20 02:27:55 UTC
        

If amarok is known to work well only with xine backend and phonon-gstreamer is broken why ebuild does not depend on >=kde-base/phonon-kde-${KDE_MINIMAL}[xine]? Please fix dependencies.




Comment 8


Jorge Manuel B. S. Vicetto (RETIRED)






          2010-02-19 12:45:31 UTC
        

Can you please try again with the latest phonon and amarok?
amarok-2.2.2.90 will be put later today in the tree.

We don't have a hard dep on phonon[xine] as we don't want to force any backend.




Comment 9


Nikoli





          2010-02-19 19:21:58 UTC
        

media-sound/amarok-2.2.2.90
media-sound/amarok-utils-2.2.2.90
kde-base/phonon-kde-4.3.3
media-sound/phonon-4.3.80-r1
media-libs/gstreamer-0.10.24

With this versions I still can not play second song.
Does amarok work well for you with phonon-kde-4.4.0 without xine-lib in system?
Why you do not want to add warning in ebuilds? I like choice of backends too, but users should know about problems with them.




Comment 10


Jorge Manuel B. S. Vicetto (RETIRED)






          2010-02-19 19:49:40 UTC
        

(In reply to comment #8)
> We don't have a hard dep on phonon[xine] as we don't want to force any backend.

(In reply to comment #9)
> Why you do not want to add warning in ebuilds? I like choice of backends too,
> but users should know about problems with them.

I didn't say anything about warnings, but instead about forcing deps, which is what you suggested in the previous comment.
I don't use pulseaudio nor gstreamer, so I can't test that combo.




Comment 11


Nikoli





          2010-05-27 16:15:52 UTC
        

Now amarok works fine for me with gstreamer and no xine-lib in system.

Versions:
media-sound/amarok-2.3.0.90
kde-base/phonon-kde-4.4.3
media-sound/phonon-4.3.80-r1
media-libs/gstreamer-0.10.25
media-plugins/gst-plugins-meta-0.10-r4
media-libs/gst-plugins-base-0.10.25
media-libs/gst-plugins-good-0.10.17
media-libs/gst-plugins-ugly-0.10.13









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

