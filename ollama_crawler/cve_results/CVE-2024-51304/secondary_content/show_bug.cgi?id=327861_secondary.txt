Title: 327861 – games-emulation/sdlmame fails to build with latest gtk+
URL: https://bugs.gentoo.org/show_bug.cgi?id=327861

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 327861
games-emulation/sdlmame fails to build with latest gtk+
Last modified: 2011-01-03 08:34:23 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 327861 
      - games-emulation/sdlmame fails to build with latest gtk+


Summary:
games-emulation/sdlmame fails to build with latest gtk+
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Games








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2010-07-12 01:07 UTC by Diego Elio Pettenò (RETIRED)





      Modified:
    
2011-01-03 08:34 UTC
      (History)
    




          CC List:
        

3 
          users
          
            (show)
          



adam.gentoo-bugzilla
cancellettopugno
nuno.mt.sousa









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Build log (compressed)

              (sdlmame-0.136:20100711-225910.log.bz2,295.55 KB,
                application/x-bzip2)

            
2010-07-12 01:08 UTC,

            Diego Elio Pettenò (RETIRED)




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Diego Elio Pettenò (RETIRED)






          2010-07-12 01:07:54 UTC
        

Portage 2.1.8.3 (default/linux/x86/10.0, gcc-4.5.0-asneeded, glibc-2.11.2-r0, 2.6.34.1 i686)
=================================================================
System uname: Linux-2.6.34.1-i686-Quad-Core_AMD_Opteron-tm-_Processor_2350-with-gentoo-2.0.1
Timestamp of tree: Thu, 08 Jul 2010 03:00:01 +0000
ccache version 2.4 [disabled]
app-shells/bash:     4.1_p7
dev-java/java-config: 2.1.11
dev-lang/python:     2.6.5-r2, 2.7, 3.1.2-r3
dev-util/ccache:     2.4-r8
dev-util/cmake:      2.8.1-r2
sys-apps/baselayout: 2.0.1
sys-apps/openrc:     0.6.1-r1
sys-apps/sandbox:    2.2
sys-devel/autoconf:  2.13, 2.65-r1
sys-devel/automake:  1.4_p6-r1, 1.5-r1, 1.6.3-r1, 1.7.9-r2, 1.8.5-r4, 1.9.6-r3, 1.10.3, 1.11.1
sys-devel/binutils:  2.20.1-r1
sys-devel/gcc:       4.5.0
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   2.2.10
virtual/os-headers:  2.6.34
ACCEPT_KEYWORDS="x86 ~x86"
ACCEPT_LICENSE="*"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /opt/openjms/config /usr/lib/tomoyo/conf /usr/share/X11/xkb /var/lib/hsqldb /var/phxd /var/qmail/alias /var/qmail/control /var/vpopmail/etc"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/eselect/postgresql /etc/fonts/fonts.conf /etc/games/angband/edit/ /etc/gconf /etc/gentoo-release /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c"
CXXFLAGS="-O2 -pipe"
DISTDIR="/var/cache/distfiles"
FEATURES="assume-digests distlocks fixpackages news parallel-fetch protect-owned sandbox sfperms split-log strict test test-fail-continue unmerge-orphans userfetch userpriv usersandbox"
FFLAGS="-O2 -pipe"
GENTOO_MIRRORS="http://gentoo.wheel.sk/"
LANG="en_US.utf8"
LDFLAGS="-Wl,-O1"
MAKEOPTS="-j14"
PKGDIR="/var/spool/portage/packages"
PORTAGE_COMPRESS=""
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/var/cache/portage/tree-tinderbox"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="acl berkdb bzip2 cli cracklib crypt cups cxx dri fortran gdbm gpm iconv ipv6 java5 java6 modules mudflap ncurses nls nostatic nptl nptlonly openmp pam pcre perl pppd python qt3support readline reflection ruby session spl ssl sysfs tcpd unicode vhosts x86 xorg zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1 emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias auth_digest" ELIBC="glibc" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" RUBY_TARGETS="ruby18 jruby ruby19 ree18" USERLAND="GNU" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LC_ALL, LINGUAS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY




Comment 1


Diego Elio Pettenò (RETIRED)






          2010-07-12 01:08:50 UTC
        

Created attachment 238375 [details]
Build log (compressed)




Comment 2


Kevin Pyle





          2010-07-12 04:40:09 UTC
        

The bug title suggests, and reading the log confirms, that this is the same problem that broke media-radio/xdx in bug #326627.  My remarks in bug #326627, comment #2 apply here, except that the offending macro is GTK_WIDGET_REALIZED here and it was GTK_WIDGET_HAS_FOCUS there.




Comment 3


Nuno





          2010-08-17 11:19:20 UTC
        

I'm having the exact same problem:

Linking sdlmame...
Linking chdman...
obj/sdl/sdlmame/libocore.a(dview.o): In function `dview_size_allocate':
dview.c:(.text+0x652): undefined reference to `GTK_WIDGET_REALIZED'
collect2: ld returned 1 exit status
make: *** [sdlmame] Error 1

My emerge info:

Portage 2.1.8.3 (default/linux/amd64/10.0/desktop/kde, gcc-4.4.3, glibc-2.11.2-r0, 2.6.34-gentoo-r1 x86_64)
=================================================================
                        System Settings
=================================================================
System uname: Linux-2.6.34-gentoo-r1-x86_64-Intel-R-_Core-TM-_i7_CPU_Q_720_@_1.60GHz-with-gentoo-1.12.13
Timestamp of tree: Tue, 17 Aug 2010 10:00:01 +0000
app-shells/bash:     4.0_p37
dev-java/java-config: 2.1.11
dev-lang/python:     2.6.5-r3, 3.1.2-r4
dev-util/cmake:      2.8.1-r2
sys-apps/baselayout: 1.12.13
sys-apps/sandbox:    1.6-r2
sys-devel/autoconf:  2.13, 2.65
sys-devel/automake:  1.8.5-r4, 1.9.6-r3, 1.10.3, 1.11.1
sys-devel/binutils:  2.20.1-r1
sys-devel/gcc:       4.4.3-r2
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   2.2.6b
virtual/os-headers:  2.6.30-r1
ACCEPT_KEYWORDS="amd64"
ACCEPT_LICENSE="* -@EULA dlj-1.1 sun-bcla-java-vm PUEL skype-eula RTCW-ETEULA googleearth AdobeFlash-10 AdobeFlash-10.1"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -march=native -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/lib64/fax /usr/share/X11/xkb /usr/share/config /var/lib/hsqldb /var/spool/fax/etc"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/eselect/postgresql /etc/fonts/fonts.conf /etc/gconf /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c"
CXXFLAGS="-O2 -march=native -pipe"
DISTDIR="/usr/portage/distfiles"
EMERGE_DEFAULT_OPTS="--with-bdeps y"
FEATURES="assume-digests distlocks fixpackages news parallel-fetch protect-owned sandbox sfperms strict unmerge-logs unmerge-orphans userfetch"
GENTOO_MIRRORS="http://distfiles.gentoo.org/"
LANG="en_GB.UTF-8"
LDFLAGS="-Wl,-O1 -Wl,--as-needed"
LINGUAS="en en_GB en_US pt pt_PT"
MAKEOPTS="-j9"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage/crossdev /usr/local/portage/nsousa"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="R X X509 a52 aac aalib accessibility acl acpi addressbook aio akonadi alsa amd64 ao ares atm audiofile autotrace avahi bash-completion battery bazaar berkdb bittorrent blender-game bluetooth bookmarks boost branding bs2b bzip2 c3p0 cairo caps cdb cdda cddax cdio cdr cgi chm clamdtop cleartype cli consolekit context cracklib crypt cscope ctype cue cups curl cvs cxx dbus dcc_video derby desktopglobe detex device-mapper devil dga dhcp dia djvu dmraid doc docbook dot dri dssi dtmf dts dv dvb dvd dvdr dvi2tty dvipdfm eap-sim eap-tls emacs embedded emboss emf encode examples exif expat extra extras faac faad fam fastcgi fat fax ffmpeg fftw firefox firefox3 fits flac fontconfig foomaticdb fortran ftp fuse games gcj gcrypt gd gdal gdbm geoip geolocation geos gif gimp git gjdoc glitz gmm gmp gnuplot gnutls gphoto2 gpm graphics graphviz gs gsm gtk gzip-el h224 h281 h323 hal hdf5 hipe hjs hpijs hpn html http httpd humanities iax iconv icotools icu id3tag idn ieee1394 imagemagick inkjar inotify ipv6 ivr jabber jack jadetex java javamail jbig jce jfs jms jmx joystick jpeg jpeg2k json kate kde kdrive kerberos kipi kontact kpathsea kpoll ladspa lame latex latex3 lcms ldap lensfun libcaca libnotify libproxy libsamplerate libssh2 libv4l2 lid lightning live lm_sensors log4j lua lyx lzma mad mail matroska mbrola mdadm mdnsresponder-compat melt mercurial midi mikmod mjpeg mmap mmx mmxext mng modules mozdom mozilla mp3 mp4 mpeg mplayer msn mtp mudflap multilib multimedia music musicbrainz mysql mysqli ncurses netcdf nls nptl nptlonly nss ntfs ntlm odbc offensive ogdi ogg okular omega openal openexr opengl openmp openntpd pam pango pcmcia pcre pdf pdo perl phonon php plasma plotutils png policykit portaudio postgres ppds pppd proj projectm pstricks publishers pvr python qalculate qemu-ifup qml qos qt-webkit qt3support qt4 qthelp qtscript quicktime qwt radius raw rcs rdesktop rdp readline reflection reiserfs resolvconf rle rrdcgi rrdtool rss rtf rtsp ruby samba sbc scanner science scim script sctp sdk sdl sdl-image secure-delete semantic-desktop session shmvideo simplexml sip sipim smi smp sndfile soap solver sound source sparse speex spell spl sqlite sqlite3 srtp sse sse2 ssl ssse3 startup-notification stream subversion svg swig sysfs system-sqlite taglib tcpd test-programs tex4ht theora threads thumbnail tiff timidity tk tokenizer tonal toolkit-scroll-bars truetype tts twolame udev unicode usb utils v4l v4l2 vcd vcdinfo vcdx vde vdpau verse videos vim-pager vim-syntax vlm vnc vorbis vxml wav wavpack webdav wicd wifi winetools wmf wps x264 xattr xcap xcb xcomposite xetex xfs xft xindy xine xinerama xml xmlrpc xorg xpm xrandr xscreensaver xterm-color xulrunner xv xvid xvmc yahoo yv12 zeroconf zip zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cgi cgid dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="evdev keybord mouse joystick synaptics aiptek acecad wacom penmount" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en en_GB en_US pt pt_PT" RUBY_TARGETS="ruby18" USERLAND="GNU" VIDEO_CARDS="nvidia fbdev vesa nv v4l" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account" 
Unset:  CPPFLAGS, CTARGET, FFLAGS, INSTALL_MASK, LC_ALL, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 4


Mr. Bones. (RETIRED)






          2010-09-03 08:31:24 UTC
        

does sdlmame-0.139_p2.ebuild work? 




Comment 5


Mr. Bones. (RETIRED)






          2011-01-03 08:34:23 UTC
        

no reply









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

