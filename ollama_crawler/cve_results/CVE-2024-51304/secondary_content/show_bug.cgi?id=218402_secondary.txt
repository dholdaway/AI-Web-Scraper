Title: 218402 – gnome-base/gconf-2.20.1-r1 fails automake --add-missing --copy
URL: https://bugs.gentoo.org/show_bug.cgi?id=218402

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 218402
gnome-base/gconf-2.20.1-r1 fails automake --add-missing --copy
Last modified: 2008-08-03 21:12:10 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 218402 
      - gnome-base/gconf-2.20.1-r1 fails automake --add-missing --copy


Summary:
gnome-base/gconf-2.20.1-r1 fails automake --add-missing --copy
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] GNOME

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux Gnome Desktop Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-04-19 12:24 UTC by Maurizio Rottin





      Modified:
    
2008-08-03 21:12 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



boltomli
maurizio.rottin









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Maurizio Rottin





          2008-04-19 12:24:05 UTC
        

***** automake --add-missing --copy

gtk-doc.make:7: GTK_DOC_USE_LIBTOOL does not appear in AM_CONDITIONAL
doc/gconf/Makefile.am:48:   `gtk-doc.make' included from here
gtk-doc.make:43: ENABLE_GTK_DOC does not appear in AM_CONDITIONAL
doc/gconf/Makefile.am:48:   `gtk-doc.make' included from here
gtk-doc.make:136: ENABLE_GTK_DOC does not appear in AM_CONDITIONAL
doc/gconf/Makefile.am:48:   `gtk-doc.make' included from here




Comment 1


Maurizio Rottin





          2008-04-19 12:25:31 UTC
        

AAA: Overlay are empty now!


shell-init: error retrieving current directory: getcwd: cannot access parent directories: No such file or directory
--- Invalid atom in /etc/portage/package.keywords: kde-base/pykde-0
--- Invalid atom in /etc/portage/package.unmask: kde-base/pykde-0
--- Invalid atom in /etc/portage/package.unmask: x11-libs/libxcb-0.9.93
Portage 2.2_pre5 (default-linux/x86/2007.0/desktop, gcc-3.4.6, glibc-2.6.1-r0, 2.6.23-gentoo-r5 i686)
=================================================================
System uname: 2.6.23-gentoo-r5 i686 AMD Athlon(TM) XP 2200+
Timestamp of tree: Sat, 19 Apr 2008 10:45:01 +0000
app-shells/bash:     3.2_p17-r1
dev-java/java-config: 1.3.7, 2.1.5
dev-lang/python:     2.3.5, 2.4.4-r9
dev-python/pycrypto: 2.0.1-r6
sys-apps/baselayout: 1.12.11.1
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.61-r1
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.1
sys-devel/binutils:  2.18-r1
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.23-r3
ACCEPT_KEYWORDS="x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=athlon-xp -O2 -pipe -fomit-frame-pointer "
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/lib/mozilla/defaults/pref /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/revdep-rebuild /etc/splash /etc/terminfo /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-march=athlon-xp -O2 -pipe -fomit-frame-pointer "
DISTDIR="/usr/portage/distfiles"
FEATURES="collision-protect distlocks metadata-transfer parallel-fetch preserve-libs sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://ftp.belnet.be/mirror/rsync.gentoo.org/gentoo/"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/xgl-coffee /usr/local/gentoo-de /usr/local/maury /usr/ovarlays/layman/cell /usr/ovarlays/layman/enlightenment /usr/ovarlays/layman/gentopia /usr/ovarlays/layman/jokey /usr/ovarlays/layman/liquidx /usr/ovarlays/layman/marineam-xen /usr/ovarlays/layman/xen /usr/ovarlays/layman/openoffice-geki /usr/ovarlays/layman/secondlife /usr/ovarlays/layman/xeffects /usr/ovarlays/layman/wschlich-testing"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="3dnow 3dnowext X a52 accessibility acl acpi alsa apm arts bash-completion berkdb bzip2 cairo cddb cdr cli cracklib crypt cups dbus debug divx4linux doc dri dv dvb dvd dvdr dvdread dvdrw dvi eds emboss encode esd evo exif fam ffmpeg firefox flac fortran gdbm gif gimp glitz gnome gpm gstreamer gtk hal iconv ieee1394 imagemagick insecure-drivers isdnlog java jpeg jpeg2k kde kerberos kipi kqemu ldap lirc mad midi mikmod mmx mmxext mp3 mpeg mpu401 mudflap musepack musicbrainz ncurses network nls nptl nptlonly ogg openal openexr opengl openixr openmp oss pam pcre pda pdf perl png pppd python qt3 qt3support qt4 quicktime readline reflection samba sasl sdk sdl session smb spell spl sse ssl svg tcpd theora tiff truetype unicode v4l v4l2 vcd videos vim-syntax vorbis wavpack win32codecs x86 xcb xinerama xml xorg xv xvid zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1 emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="keyboard mouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LIRC_DEVICES="sir" USERLAND="GNU" VIDEO_CARDS="radeon vesa fglrx"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS





Comment 2


Gilles Dartiguelongue (RETIRED)






          2008-04-19 12:28:54 UTC
        

Do you have gtk-doc installed ? If yes which version ? If no, how it is possible with the USE='doc' ?




Comment 3


Maurizio Rottin





          2008-04-19 17:02:13 UTC
        

(In reply to comment #2)
> Do you have gtk-doc installed ? If yes which version ? If no, how it is
> possible with the USE='doc' ?
> 
emerge -s gtk-doc
*  dev-util/gtk-doc
      Latest version available: 1.10-r1
      Latest version installed: 1.10-r1

*  dev-util/gtk-doc-am
      Latest version available: 1.10-r1
      Latest version installed: 1.10-r1

I don't know if it helps, but it's a lot of time that i'm not updaing this gentoo, i was doing an emerge -DuNv world
for example glibc camplained about my lazyness cause file /etc/locale.dontremember was still there...




Comment 4


Maurizio Rottin





          2008-04-19 18:51:40 UTC
        

(In reply to comment #2)
> Do you have gtk-doc installed ? If yes which version ? If no, how it is
> possible with the USE='doc' ?
> 

[ebuild     U ] gnome-base/gconf-2.22.0 [2.14.0] USE="debug* doc* ldap%*" 1,384 kB [?=>0]
this compiles like a charm




Comment 5


Maurizio Rottin





          2008-04-19 20:18:02 UTC
        

(In reply to comment #4)
> 
> [ebuild     U ] gnome-base/gconf-2.22.0 [2.14.0] USE="debug* doc* ldap%*" 1,384
> kB [?=>0]
> this compiles like a charm
> 

but gnome-base/gnome-vfs-2.20.1-r1 and gnome-base/gnome-vfs-2.22.0, do not...i don't understund if the problem is related to gtk-doc or gnome ebuilds, if you give some hints i can investigate better!




Comment 6


Daniel Gryniewicz (RETIRED)






          2008-04-20 14:21:05 UTC
        

The problem is a package using the gtk-doc automake macros, but not including them in it's local .m4 files.  They need to be installed.  The solution is gtk-doc-am, but I don't believe we backported these fixes to older gnome versions.  All of 2.22 should be fine in this respect.

Older versions had various forms of hackery in them to work around this problem.  Just installing gtk-doc-am should fix any of these build issues (and it's just a single .m4 file, so it's lightweight).




Comment 7


Gilles Dartiguelongue (RETIRED)






          2008-08-03 21:12:10 UTC
        

hum I can't reproduce on my boxes, closing worksforme.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

