Title: 607768 – dev-python/certifi: Portage version supporting EAPI6 depends on EAPI6 packages
URL: https://bugs.gentoo.org/show_bug.cgi?id=607768

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 607768
dev-python/certifi: Portage version supporting EAPI6 depends on EAPI6 packages
Last modified: 2017-01-31 13:48:12 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 607768 
      - dev-python/certifi: Portage version supporting EAPI6 depends on EAPI6 packages


Summary:
dev-python/certifi: Portage version supporting EAPI6 depends on EAPI6 packages
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2017-01-31 03:18 UTC by Rodrigo Saboya





      Modified:
    
2017-01-31 13:48 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Rodrigo Saboya





          2017-01-31 03:18:48 UTC
        

Reference:

https://forums.gentoo.org/viewtopic-p-8024732.html

Basically, the user currently has an outdated system, and is unable to update his portage version because setuptools depends on dev-python/certifi, which only has EAPI=6 versions available, which cannot be installed in the system's current state.

I guess the easiest way to fix this is to keep an EAPI=5 version of any package that portage depends on directly in the tree.




Comment 1


Mike Gilbert






          2017-01-31 03:42:11 UTC
        

Disable the xattr use flag.




Comment 2


Michael Orlitzky






          2017-01-31 03:54:31 UTC
        

This upgrade path was broken a while ago:

https://archives.gentoo.org/gentoo-user/message/2da6c127f83c82a6bb897400970b9b4f

It should have worked until at least November (a year after EAPI=6 portage was released), but, uh, someone messed up. It's now been about a year and a half, where it becomes hard to expect people to maintain backwards-compatibility.

Fortunately, it's not too hard to fix. You can run portage directly from a `git clone`, and it won't care which version of the libraries you have. So if it works, you can use that to upgrade the libraries, and then proceed as normal. You could also use quickpkgs from another system, or from a stage3 tarball. There are a few other suggestions in that thread.




Comment 3


Mike Gilbert






          2017-01-31 04:55:38 UTC
        

The upgrade path is not broken. You just have to disable an optional feature to proceed.




Comment 4


Arfrever Frehtes Taifersar Arahesis





          2017-01-31 13:48:12 UTC
        

Or disable "python2_7" and "pypy" targets in PYTHON_TARGETS variable for sys-apps/portage.
sys-apps/portage with USE="xattr" needs dev-python/pyxattr only for Python 2.*.
Standard library of Python >=3.3 contains xattr support so dev-python/pyxattr is not needed with Python 3.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

