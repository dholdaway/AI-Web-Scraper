Title: 295671 – media-gfx/splashutils-1.5.4.3: Switching terminal when pressing F2
URL: https://bugs.gentoo.org/show_bug.cgi?id=295671

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 295671
media-gfx/splashutils-1.5.4.3: Switching terminal when pressing F2
Last modified: 2009-12-21 13:23:55 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 295671 
      - media-gfx/splashutils-1.5.4.3: Switching terminal when pressing F2


Summary:
media-gfx/splashutils-1.5.4.3: Switching terminal when pressing F2
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Unspecified

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       minor
      


Assignee:

Michal Januszewski (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-12-04 15:35 UTC by Edward Dorosz





      Modified:
    
2009-12-21 13:23 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



dabbott
edwarddorosz









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




my /lib/splash/cache/profile file

              (profile,11.33 KB,
                text/plain)

            
2009-12-08 09:09 UTC,

            Edward Dorosz




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Edward Dorosz





          2009-12-04 15:35:16 UTC
        

Greetings All,

I have succesfully configured my bootsplash in Gentoo. Everything works, even when I press F2 to enter verbose mode. The only problem I have is when I'm in XFCE and I want to rename a file (F2), I get thrown back to my splash screen and if I don't do CTRL+ALT+F7 (e.g. ALT+F1 or any other terminal) my session is terminated and I have to log in all over again. Is there a solution for this or (as a workaround) can I specify another function key to switch verbose mode. The funny thing is: when my session is terminated, I get the slim login screen again so I log in and then I can use F2 to rename files without a problem. When I press CTRL+ALT+F7 (so the session doesn't terminate) my rename file dialog is open.
I've googled it but I wasn't able to find anything to resolve my problem. Hope this is not something stupid I've overlooked.

Thanks in advance,

Edward

Reproducible: Always

Steps to Reproduce:
1. Reboot
2. Login to XFCE
3. Press F2 to rename file

Actual Results:  
I get thrown back to bootsplash screen

Expected Results:  
pop-up a dialog to rename file




Comment 1


David Abbott (RETIRED)






          2009-12-05 02:18:14 UTC
        

Edward please post emerge --info media-gfx/splashutils




Comment 2


Edward Dorosz





          2009-12-07 08:50:24 UTC
        

(In reply to comment #1)
> Edward please post emerge --info media-gfx/splashutils
> 

Portage 2.1.6.13 (default/linux/amd64/10.0/no-multilib, gcc-4.3.4, glibc-2.9_p20081201-r2, 2.6.31-gentoo-r6 x86_64)
=================================================================
                        System Settings
=================================================================
System uname: Linux-2.6.31-gentoo-r6-x86_64-Intel-R-_Core-TM-2_Duo_CPU_T7500_@_2.20GHz-with-gentoo-1.12.13
Timestamp of tree: Mon, 07 Dec 2009 01:45:01 +0000
app-shells/bash:     4.0_p28
dev-java/java-config: 2.1.9-r1
dev-lang/python:     2.6.4
dev-util/cmake:      2.6.4-r3
sys-apps/baselayout: 1.12.13
sys-apps/sandbox:    1.6-r2
sys-devel/autoconf:  2.13, 2.63-r1
sys-devel/automake:  1.9.6-r2, 1.10.2
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   2.2.6a
virtual/os-headers:  2.6.27-r2
ACCEPT_KEYWORDS="amd64"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -march=nocona -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /var/lib/hsqldb"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/revdep-rebuild /etc/sandbox.d /etc/splash /etc/terminfo /etc/udev/rules.d"
CXXFLAGS="-O2 -march=nocona -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="distlocks fixpackages parallel-fetch protect-owned sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://de-mirror.org/distro/gentoo/ "
LDFLAGS="-Wl,-O1"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X a52 aac acl acpi alsa amd64 apm avahi bash-completion berkdb bindist bluetooth branding bzip2 cdda cdinstall cdr cli cracklib crypt css cups curl cxx dbus dri dvd dvdr dvdread fam fbcon ffmpeg firefox fortran ftp gdbm gif gimp gpm gtk hal iconv ieee1394 java javascript jpeg jpeg2k kerberos libnotify lock matroska mime mmx modules mp3 mpeg mplayer mudflap ncurses nls nptl nptlonly offensive opengl openmp pam pcmcia pcre perl png posix pppd python quicktime radius raw rdesktop readline reflection samba session smp sockets spell spl sse sse2 ssl startup-notification svg sysfs syslog tcpd thunar tiff truetype unicode usb vcd vorbis xcomposite xorg xscreensaver xulrunner xv xvid zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="evdev synaptics" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" RUBY_TARGETS="ruby18" USERLAND="GNU" VIDEO_CARDS="intel"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LANG, LC_ALL, LINGUAS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY

=================================================================
                        Package Settings
=================================================================

media-gfx/splashutils-1.5.4.3 was built with the following:
USE="fbcondecor gpm mng png truetype -hardened"

Greetings,

Edward




Comment 3


David Abbott (RETIRED)






          2009-12-07 09:59:46 UTC
        

emerge --info included




Comment 4


Edward Dorosz





          2009-12-07 10:13:09 UTC
        

Portage 2.1.6.13 (default/linux/amd64/10.0/no-multilib, gcc-4.3.4, glibc-2.9_p20081201-r2, 2.6.31-gentoo-r6 x86_64)
=================================================================
                        System Settings
=================================================================
System uname: Linux-2.6.31-gentoo-r6-x86_64-Intel-R-_Core-TM-2_Duo_CPU_T7500_@_2.20GHz-with-gentoo-1.12.13
Timestamp of tree: Mon, 07 Dec 2009 01:45:01 +0000
app-shells/bash:     4.0_p28
dev-java/java-config: 2.1.9-r1
dev-lang/python:     2.6.4
dev-util/cmake:      2.6.4-r3
sys-apps/baselayout: 1.12.13
sys-apps/sandbox:    1.6-r2
sys-devel/autoconf:  2.13, 2.63-r1
sys-devel/automake:  1.9.6-r2, 1.10.2
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   2.2.6a
virtual/os-headers:  2.6.27-r2
ACCEPT_KEYWORDS="amd64"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -march=nocona -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /var/lib/hsqldb"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/revdep-rebuild /etc/sandbox.d /etc/splash /etc/terminfo /etc/udev/rules.d"
CXXFLAGS="-O2 -march=nocona -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="distlocks fixpackages parallel-fetch protect-owned sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://de-mirror.org/distro/gentoo/ "
LDFLAGS="-Wl,-O1"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X a52 aac acl acpi alsa amd64 apm avahi bash-completion berkdb bindist bluetooth branding bzip2 cdda cdinstall cdr cli cracklib crypt css cups curl cxx dbus dri dvd dvdr dvdread fam fbcon ffmpeg firefox fortran ftp gdbm gif gimp gpm gtk hal iconv ieee1394 java javascript jpeg jpeg2k kerberos libnotify lock matroska mime mmx modules mp3 mpeg mplayer mudflap ncurses nls nptl nptlonly offensive opengl openmp pam pcmcia pcre perl png posix pppd python quicktime radius raw rdesktop readline reflection samba session smp sockets spell spl sse sse2 ssl startup-notification svg sysfs syslog tcpd thunar tiff truetype unicode usb vcd vorbis xcomposite xorg xscreensaver xulrunner xv xvid zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="evdev synaptics" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" RUBY_TARGETS="ruby18" USERLAND="GNU" VIDEO_CARDS="intel"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LANG, LC_ALL, LINGUAS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY



Greetings,

Edward




Comment 5


Michal Januszewski (RETIRED)






          2009-12-07 20:01:40 UTC
        

Could you please add 'profile' to your splash options on the kernel command line (e.g. if you're currently booting with splash=silent,theme:livecd-2007.0, boot with splash=silent,theme:livecd-2007.0,profile, and attach /lib/splash/cache/profile, which will be generated after boot?




Comment 6


Edward Dorosz





          2009-12-08 09:09:18 UTC
        

Created attachment 212439 [details]
my /lib/splash/cache/profile file

The file you requested.

Greetings,

Edward




Comment 7


Michal Januszewski (RETIRED)






          2009-12-13 22:19:40 UTC
        

(In reply to comment #6)
> Created an attachment (id=212439) [details]
> my /lib/splash/cache/profile file

It looks like the problem is that the fbsplash daemon never gets the command telling it shut itself down (which is not surprising, given the problem you described).

I noticed you're still using baselayout 1.x.  Any change you could upgrade to 2.x and see whether the upgrade fixes the problem?






Comment 8


Edward Dorosz





          2009-12-21 13:23:55 UTC
        

Sorry for the late response ( I was on holiday and didn't have an internet connection ).

Thank you Michal,

I upgraded to baselayout 2 and when I pressed F2 to rename a file it worked like it should (no jumping terminals or killing sessions or other weird stuff). The only thing was:
after the upgrade my bootsplash progress bar and pressing F2 to switch verbose mode wasn't working. I was able to resolve this by doing a re-emerge of splashutils as described in bug 194584. Now everything works as it should.

Thanks to all for helping me fix this problem and my best wishes for the new year.

Greetings,

Edward









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

