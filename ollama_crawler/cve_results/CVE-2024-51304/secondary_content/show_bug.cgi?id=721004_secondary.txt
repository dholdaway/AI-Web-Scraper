Title: 721004 – dev-java/openjdk:11 circular dependency
URL: https://bugs.gentoo.org/show_bug.cgi?id=721004

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 721004
dev-java/openjdk:11 circular dependency
Last modified: 2020-05-05 01:38:45 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 721004 
      - dev-java/openjdk:11 circular dependency


Summary:
dev-java/openjdk:11 circular dependency
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2020-05-04 23:47 UTC by Samuel Bernardo





      Modified:
    
2020-05-05 01:38 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



jstein









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Samuel Bernardo





          2020-05-04 23:47:44 UTC
        

http://dpaste.com/0FFW86V
http://dpaste.com/0SQDHZC

dev-java/openjdk:11 have a dependency that results in a circular reference.

Circular dependency problem with openjdk:11 could be related to it need openjdk-bin to be built the first time, but the dependencies have a problem when the state is only icedtea installed.

After installing openjdk-bin is possible to install openjdk from source.

What about presenting a message with the requirement of openjdk-bin when neither is present, instead of the circular dependency between openjdk-bin and openjdk.
I think both dependencies are not necessary, but only a setup or pretend check for the presence of openjdk or openjdk-bin.




Comment 1


Jonas Stein






          2020-05-04 23:54:01 UTC
        

Please attach the logs. Do not use external websites like pastebins, whenever possible. 
External websites are not permanent, 
information will be lost and links may direct to spam or malware instead of the needed information.
Some developers maintain several hundred ebuilds and have to use tools to work with the attachments efficiently.




Comment 2


Samuel Bernardo





          2020-05-05 00:10:20 UTC
        

Jonas Stein, I have no logs in this case because it fails due to circular dependency reference. So it fails when trying to fulfill the dependencies in gentoo tree.

What I can left here is only the following:

# emerge -v openjdk:11


[nomerge       ] dev-java/openjdk-11.0.7_p10:11::gentoo  USE="alsa cups javafx jbootstrap pch -debug -doc -examples (-gentoo-vm) -headless-awt (-nsplugin) (-selinux) -source -systemtap (-webstart)" 
[ebuild  N    ~]  dev-java/openjfx-11.0.7_p1:11::gentoo  USE="media -debug -doc -source" CPU_FLAGS_X86="sse2" 143,039 KiB
[ebuild  N    ~]   dev-java/openjdk-11.0.7_p10:11::gentoo  USE="alsa cups javafx jbootstrap pch -debug -doc -examples (-gentoo-vm) -headless-awt (-nsplugin) (-selinux) -source -systemtap (-webstart)" 89,177 KiB

Total: 2 packages (2 new), Size of downloads: 232,216 KiB

 * Error: circular dependencies:

(dev-java/openjdk-11.0.7_p10:11/11::gentoo, ebuild scheduled for merge) depends on
 (dev-java/openjdk-11.0.7_p10:11/11::gentoo, ebuild scheduled for merge) (buildtime)

 * Note that circular dependencies can often be avoided by temporarily
 * disabling USE flags that trigger optional dependencies.


For the possible solution I already left my suggestion in first comment.




Comment 3


Nuno Silva





          2020-05-05 00:35:35 UTC
        

Could the problem here be autounmask?




Comment 4


Samuel Bernardo





          2020-05-05 01:36:50 UTC
        

(In reply to Nuno Silva from comment #3)
> Could the problem here be autounmask?

Thanks Nuno.
Yes, it is. But also javafx flag.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

