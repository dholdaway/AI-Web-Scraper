Title: 485290 – Tomcat-7.0.32 init script generated by tomcat-instance-manager is missing java-config
URL: https://bugs.gentoo.org/show_bug.cgi?id=485290

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 485290
Tomcat-7.0.32 init script generated by tomcat-instance-manager is missing java-config
Last modified: 2013-09-30 07:04:08 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 485290 
      - Tomcat-7.0.32 init script generated by tomcat-instance-manager is missing java-config


Summary:
Tomcat-7.0.32 init script generated by tomcat-instance-manager is missing jav...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Java

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Java team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2013-09-18 11:47 UTC by nicolas.perrenoud





      Modified:
    
2013-09-30 07:04 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


nicolas.perrenoud





          2013-09-18 11:47:36 UTC
        

I'm using tomcat-7.0.32. When setting up an instance using the provided tomcat-instance-manager.bash script, the init script cannot start the tomcat instance and fails with the following error:

java-config: command not found.

The correct java-config command is /usr/bin/java-config-2

Executing

  ln -s java-config-2 /usr/bin/java-config

fixes this Problem. 

Please update the tomcat ebuild to create this symlink, or update the skeleton of the tomcat init.d script to use the correct path /usr/bin/java-config-2.

I'm using an up-to-date System with the following packages (all stable):

app-admin/eselect-1.3.6
app-admin/eselect-ecj-0.7
app-admin/eselect-python-20111108
app-admin/python-updater-0.11
app-arch/bzip2-1.0.6-r3
app-arch/gzip-1.5
app-editors/nano-2.3.2
app-misc/ca-certificates-20130119
app-misc/editor-wrapper-4
app-misc/mime-types-9
app-misc/pax-utils-0.4
app-portage/portage-utils-0.21
app-shells/bash-4.2_p45
dev-java/ant-core-1.8.4-r1
dev-java/ant-eclipse-ecj-3.7.1
dev-java/eclipse-ecj-3.7.1
dev-java/java-config-2.1.12-r1
dev-java/java-config-wrapper-0.16
dev-java/oracle-jdk-bin-1.7.0.25
dev-java/tomcat-servlet-api-7.0.32
dev-lang/python-3.2.5-r2
dev-libs/expat-2.1.0-r2
dev-libs/libffi-3.0.11
dev-libs/libpcre-8.33
dev-libs/openssl-1.0.1e-r1
dev-libs/popt-1.16-r1
dev-python/python-exec-0.3.1
net-firewall/iptables-1.4.16.3
net-misc/dhcpcd-5.6.4
net-misc/iputils-20121221
net-misc/rsync-3.0.9-r3
sys-apps/acl-2.2.51
sys-apps/attr-2.4.46-r2
sys-apps/baselayout-2.2
sys-apps/coreutils-8.20
sys-apps/cracklib-words-20080507
sys-apps/debianutils-4.3.4
sys-apps/dmidecode-2.11
sys-apps/ethtool-3.8
sys-apps/file-5.12-r1
sys-apps/findutils-4.4.2-r1
sys-apps/gawk-4.0.1
sys-apps/grep-2.14
sys-apps/hwids-20130329
sys-apps/iproute2-3.8.0
sys-apps/kbd-1.15.3
sys-apps/kmod-13-r1
sys-apps/less-457
sys-apps/net-tools-1.60_p20120127084908
sys-apps/openrc-0.11.8
sys-apps/pciutils-3.2.0
sys-apps/portage-2.2.1
sys-apps/sandbox-2.6-r1
sys-apps/sed-4.2.1-r1
sys-apps/shadow-4.1.5.1-r1
sys-apps/sysvinit-2.88-r4
sys-apps/util-linux-2.22.2
sys-auth/pambase-20120417-r2
sys-fs/e2fsprogs-1.42.7
sys-fs/udev-204
sys-fs/udev-init-scripts-26
sys-kernel/sab-kernel-3.2.51_p1
sys-libs/cracklib-2.8.19
sys-libs/db-4.8.30
sys-libs/e2fsprogs-libs-1.42.7
sys-libs/glibc-2.15-r3
sys-libs/ncurses-5.9-r2
sys-libs/pam-1.1.6-r2
sys-libs/readline-6.2_p1
sys-libs/timezone-data-2013c
sys-libs/zlib-1.2.7
sys-process/procps-3.3.6
sys-process/psmisc-22.20
virtual/acl-0-r1
virtual/init-0
virtual/jdk-1.7.0
virtual/jre-1.7.0
virtual/libffi-3.0.11
virtual/libiconv-0
virtual/libintl-0
virtual/pam-0
virtual/udev-200
www-servers/tomcat-7.0.32




Comment 1


Tom Wijsman (TomWij) (RETIRED)






          2013-09-20 17:59:57 UTC
        

 $ command -v java-config
/usr/bin/java-config

 $ grep -r '/usr/bin/java-config ' /var/db/pkg
/var/db/pkg/dev-java/java-config-wrapper-0.16/CONTENTS:obj /usr/bin/java-config 1c9feb19e7f70b87465e2b8d4ac0d14a 1361900260

 $ equery d dev-java/java-config-wrapper
 * These packages depend on dev-java/java-config-wrapper:
dev-java/java-config-2.2.0 (>=dev-java/java-config-wrapper-0.15)

And VMs depend on java-config; so, you should have that.

It seems the file went missing on your system for some odd reason...

Please emerge dev-java/java-config-wrapper again and let us know if that still doesn't give you the file; also, make sure you don't have any overlays that install a different type of package than the one in the Portage tree.




Comment 2


nicolas.perrenoud





          2013-09-30 07:04:08 UTC
        

Problem solved, it was one of my custom cleanup scripts which deleted the file accidentally after the emerge.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

