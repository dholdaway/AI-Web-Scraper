Title: 143637 – RTppc - modules fail to load
URL: https://bugs.gentoo.org/show_bug.cgi?id=143637

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 143637
RTppc - modules fail to load
Last modified: 2006-08-27 12:41:21 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 143637 
      - RTppc - modules fail to load


Summary:
RTppc - modules fail to load
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Release Media




Classification:

Unclassified




Component:

InstallCD

  (show other bugs)



Hardware:

PPC
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Release Team








URL:







Whiteboard:




Keywords:









Duplicates (1):
    

143638

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2006-08-12 00:24 UTC by nixnut (RETIRED)





      Modified:
    
2006-08-27 12:41 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



svec









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


nixnut (RETIRED)






          2006-08-12 00:24:29 UTC
        

On boot the modules i2c-voodoo3 and pcilynx fail to load on my B&W G3.

dmesg shows:

i2c_voodoo3: version magic '2.6.17-gentoo-r5 mod_unload gcc-4.1' should be '2.6.17-gentoo-r5 SMP mod_unload gcc-4.1'
ieee1394: version magic '2.6.17-gentoo-r5 mod_unload gcc-4.1' should be '2.6.17-gentoo-r5 SMP mod_unload gcc-4.1'
pcilynx: Unknown symbol hpsb_disable_irm
pcilynx: Unknown symbol hpsb_packet_received
pcilynx: Unknown symbol hpsb_add_host
pcilynx: Unknown symbol hpsb_alloc_host
pcilynx: Unknown symbol hpsb_selfid_complete
pcilynx: Unknown symbol hpsb_remove_host
pcilynx: Unknown symbol hpsb_packet_sent
pcilynx: Unknown symbol hpsb_selfid_received
pcilynx: Unknown symbol hpsb_bus_reset
ipv6: version magic '2.6.17-gentoo-r5 mod_unload gcc-4.1' should be '2.6.17-gentoo-r5 SMP mod_unload gcc-4.1'
ipv6: version magic '2.6.17-gentoo-r5 mod_unload gcc-4.1' should be '2.6.17-gentoo-r5 SMP mod_unload gcc-4.1'
ipv6: version magic '2.6.17-gentoo-r5 mod_unload gcc-4.1' should be '2.6.17-gentoo-r5 SMP mod_unload gcc-4.1'
ipv6: version magic '2.6.17-gentoo-r5 mod_unload gcc-4.1' should be '2.6.17-gentoo-r5 SMP mod_unload gcc-4.1'

A manual modprobe shows the message below:

livecd ~ # modprobe i2c-voodoo3                                                
FATAL: Error inserting i2c_voodoo3 (/lib/modules/2.6.17-gentoo-r5/kernel/drivers/i2c/busses/i2c-voodoo3.ko): Invalid module format




Comment 1


nixnut (RETIRED)






          2006-08-12 00:46:59 UTC
        

*** Bug 143638 has been marked as a duplicate of this bug. ***




Comment 2


Peter Svec





          2006-08-12 11:51:47 UTC
        

This bug also affects mounting: the modules to mount HFS don't load, so for example i can't mount my OSX partition where i have stored backups for testing 2006.1




Comment 3


Andrew Gaffney (RETIRED)






          2006-08-12 12:00:03 UTC
        

This look like a DUPE of bug 126688 from 2006.0




Comment 4


Lars Weiler (RETIRED)






          2006-08-12 14:50:20 UTC
        

(In reply to comment #2)
> This bug also affects mounting: the modules to mount HFS don't load, so for
> example i can't mount my OSX partition where i have stored backups for testing
> 2006.1

I just tested to mount a HFS-partition on my Pegasos.

The module is not loaded automatically.  So mount hfsplus is needed.  After that it's possible to mount the partition with mount -t hfsplus.




Comment 5


Peter Svec





          2006-08-15 18:53:09 UTC
        

(In reply to comment #4)

When if i try to load the module hfsplus manually with "modprobe hfsplus" i'm getting this error:
"hfsplus: version magic '2.6.17-gentoo-r5 mod_unload gcc-4.1' should be '2.6.17-gentoo-r5 SMP mod_unload gcc-4.1
FATAL: Error inserting hfsplus
(/lib/modules/2.6.17-gentoo-r5/kernel/fs/hfsplus/hfsplus.ko): Invalid module format"

When i try "mount -t hfsplus ...", this error:
"hfsplus: version magic '2.6.17-gentoo-r5 mod_unload gcc-4.1' should be 2.6.17-gentoo-r5 SMP mod_unload gcc-4.1
mount: unknown filesystem 'hfsplus'"

Maybe on Pegasos systems is running another kernel than on Apple's PPC32 systems!




Comment 6


Lars Weiler (RETIRED)






          2006-08-16 01:03:46 UTC
        

(In reply to comment #5)
> Maybe on Pegasos systems is running another kernel than on Apple's PPC32
> systems!

Uhm, yes, they do.  At least they need another config.

The only difference I see is the "SMP" statement.  As I don't have an Apple currently, I can't test it myself.

I'm currently building a new minimal-CD with SMP switched off in the Apple-kernel (that's one difference).  Although it looks to me like a general kernel bug.




Comment 7


Lars Weiler (RETIRED)






          2006-08-16 02:45:38 UTC
        

(In reply to comment #6)
> I'm currently building a new minimal-CD with SMP switched off in the
> Apple-kernel (that's one difference).  Although it looks to me like a general
> kernel bug.

CDs updated.  Please download and test ASAP.  TIA! 






Comment 8


Peter Svec





          2006-08-16 12:37:53 UTC
        

Tested minimal and universal CD with loading modules i2c-voodoo3, pcilynx and hfsplus.
Everything working fine now, thanks!




Comment 9


Lars Weiler (RETIRED)






          2006-08-16 12:56:06 UTC
        

(In reply to comment #8)
> Tested minimal and universal CD with loading modules i2c-voodoo3, pcilynx and
> hfsplus.
> Everything working fine now, thanks!

Great!  Thanks for testing.

Unfortunately SMP is not supported in this release now. 






Comment 10


nixnut (RETIRED)






          2006-08-18 11:59:58 UTC
        

Works for me too on my blue&white. 
Apologies for the late response. Had a busy week.
Any idea what caused it btw? It sort of looked like the set of modules didn't match the kernel. 




Comment 11


Lars Weiler (RETIRED)






          2006-08-27 12:41:21 UTC
        

Let's close this as "WORKSFORME".









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

