Title: 85909 – openoffice-bin emerges normally but can not be run (segmentation fault)
URL: https://bugs.gentoo.org/show_bug.cgi?id=85909

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 85909
openoffice-bin emerges normally but can not be run (segmentation fault)
Last modified: 2005-04-06 12:32:43 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 85909 
      - openoffice-bin emerges normally but can not be run (segmentation fault)


Summary:
openoffice-bin emerges normally but can not be run (segmentation fault)
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

AMD64 Project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-03-19 08:23 UTC by wiono





      Modified:
    
2005-04-06 12:32 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



gbug









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


wiono





          2005-03-19 08:23:33 UTC
        

I had no problems with running it before my last gentoo update (18 March 2005)

Reproducible: Always
Steps to Reproduce:
1.
bash-2.05b$ oowriter
running openoffice.org setup...
/usr/bin/oowriter: line 178: 16869 Segmentation fault      /opt/OpenOffice.org/program/setup ${UPDATEFLAG} -R:/etc/openoffice/autoresponse-1.1.3.conf 1>&/dev/null
setup failed.. abort





my emerge info 
Gentoo Base System version 1.4.16 
Portage 2.0.51.19 (default-linux/amd64/2004.3, gcc-3.4.3, 
glibc-2.3.4.20041102-r1, 2.6.9-gentoo-r14 x86_64) 
================================================================= 
System uname: 2.6.9-gentoo-r14 x86_64 AMD Athlon(tm) 64 Processor 2800+ 
Python:              dev-lang/python-2.3.4-r1 [2.3.4 (#1, Mar  6 2005, 
22:26:11)] 
ccache version 2.3 [enabled] 
dev-lang/python:     2.3.4-r1 
sys-devel/autoconf:  2.13, 2.59-r6 
sys-devel/automake:  1.5, 1.8.5-r3, 1.6.3, 1.7.9-r1, 1.4_p6, 1.9.4 
sys-devel/binutils:  2.15.92.0.2-r1 
sys-devel/libtool:   1.5.10-r4 
virtual/os-headers:  2.6.8.1-r2 
ACCEPT_KEYWORDS="amd64" 
CFLAGS="-march=athlon64 -O2 -pipe" 
CHOST="x86_64-pc-linux-gnu" 
LANG="pl_PL" 
LC_ALL="pl_PL" 
MAKEOPTS="-j2" 
USE="amd64 X X509 a52 aac activefilter alsa apache2 arts audiofile avi berkdb 
cdb cdparanoia cdr chroot clisp crypt cups dga dio divx4linux dvb dvd dvdr 
emul-linux emul-linux-x86 esd f77 flash font-server fortran gcj gdbm gif glut 
gtk gtk2 hardenedphp iconv imlib jack java javascript jikes jpeg kde libwww 
live lm_sensors lzo mad maildir mime motif mpeg mpeg4 multilib nas ncurses 
network nls no-old-linux nptl oav ogg oggvorbis opengl oss pam perl php png 
posix qmail qt quicktime readline samba sdl smime sndfile spamassassin spell 
ssl svg tcpd tetex theora threads tiff tokenizer transparent-proxy truetype 
truetype-fonts vhosts xmms xv xvid zlib linguas_pl"




Comment 1


Simon Stelling (RETIRED)






          2005-03-19 12:48:52 UTC
        

could you run genlop -l and see which packages you updated on 18 March?

also, could you provide gdb or strace output of oowriter?




Comment 2


wiono





          2005-03-19 14:16:12 UTC
        

On 18 March I've emerged:
  Fri Mar 18 21:21:24 2005 >>> sys-libs/db-1.85-r2
     Fri Mar 18 21:24:00 2005 >>> app-emulation/emul-linux-x86-glibc-2.3.4.20041102
     Fri Mar 18 21:24:37 2005 >>> sys-devel/m4-1.4.2-r1
     Fri Mar 18 21:25:35 2005 >>> sys-apps/miscfiles-1.4.2
     Fri Mar 18 21:25:56 2005 >>> sys-libs/cracklib-2.7-r11
     Fri Mar 18 23:11:57 2005 >>> sys-libs/glibc-2.3.4.20041102-r1
     Fri Mar 18 23:12:59 2005 >>> net-misc/rsync-2.6.0-r4
     Fri Mar 18 23:15:15 2005 >>> net-misc/openssh-3.9_p1-r2
     Sat Mar 19 01:01:38 2005 >>> kde-base/kdelibs-3.3.2-r7
     Sat Mar 19 01:22:54 2005 >>> dev-db/mysql-4.0.24
     Sat Mar 19 01:23:23 2005 >>> dev-perl/DB_File-1.811
     Sat Mar 19 01:29:18 2005 >>> dev-lang/ocaml-3.08.3
     Sat Mar 19 01:32:29 2005 >>> dev-ml/lablgtk-2.4.0
     Sat Mar 19 01:32:45 2005 >>> dev-ml/lablgl-1.00
     Sat Mar 19 01:35:55 2005 >>> net-p2p/mldonkey-2.5.28-r4
     Sat Mar 19 01:37:02 2005 >>> media-gfx/xli-1.17.0-r1
     Sat Mar 19 01:40:06 2005 >>> app-crypt/gnupg-1.4.1
     Sat Mar 19 01:41:27 2005 >>> app-emulation/emul-linux-x86-gtklibs-1.2-r1
     Sat Mar 19 01:52:30 2005 >>> app-text/acroread-7.0

and here is strace oowriter:
bash-2.05b$ strace oowriter
execve("/usr/bin/oowriter", ["oowriter"], [/* 56 vars */]) = 0
uname({sys="Linux", node="marcin", ...}) = 0
brk(0)                                  = 0x5ba000
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2a9556b000
access("/etc/ld.so.preload", R_OK)      = -1 ENOENT (No such file or directory)
open("/etc/ld.so.cache", O_RDONLY)      = 3
fstat(3, {st_mode=S_IFREG|0644, st_size=104034, ...}) = 0
mmap(NULL, 104034, PROT_READ, MAP_PRIVATE, 3, 0) = 0x2a9556c000
close(3)                                = 0
open("/lib/libdl.so.2", O_RDONLY)       = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\340\17\0"..., 640) = 640
lseek(3, 624, SEEK_SET)                 = 624
read(3, "\4\0\0\0\20\0\0\0\1\0\0\0GNU\0\0\0\0\0\2\0\0\0\4\0\0\0"..., 32) = 32
fstat(3, {st_mode=S_IFREG|0755, st_size=11480, ...}) = 0
mmap(NULL, 1056984, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x2a9566c000
mprotect(0x2a9566e000, 1048792, PROT_NONE) = 0
mmap(0x2a9576c000, 12288, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0) = 0x2a9576c000
close(3)                                = 0
open("/lib/tls/libc.so.6", O_RDONLY)    = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0`\310\1\0"..., 640) = 640
lseek(3, 64, SEEK_SET)                  = 64
read(3, "\6\0\0\0\5\0\0\0@\0\0\0\0\0\0\0@\0\0\0\0\0\0\0@\0\0\0\0"..., 616) = 616
lseek(3, 680, SEEK_SET)                 = 680
read(3, "\4\0\0\0\20\0\0\0\1\0\0\0GNU\0\0\0\0\0\2\0\0\0\6\0\0\0"..., 32) = 32
fstat(3, {st_mode=S_IFREG|0755, st_size=1270208, ...}) = 0
lseek(3, 64, SEEK_SET)                  = 64
read(3, "\6\0\0\0\5\0\0\0@\0\0\0\0\0\0\0@\0\0\0\0\0\0\0@\0\0\0\0"..., 616) = 616
mmap(NULL, 2248808, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x2a9576f000
mprotect(0x2a9588b000, 1085544, PROT_NONE) = 0
mmap(0x2a9596f000, 135168, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x100000) = 0x2a9596f000
mmap(0x2a95990000, 16488, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x2a95990000
close(3)                                = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2a95995000
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2a95996000
mprotect(0x2a9598a000, 12288, PROT_READ) = 0
arch_prctl(ARCH_SET_FS, 0x2a95995d60)   = 0
munmap(0x2a9556c000, 104034)            = 0
open("/dev/urandom", O_RDONLY)          = 3
read(3, "\311:\251\23PQ0\2", 8)         = 8
close(3)                                = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
open("/dev/tty", O_RDWR|O_NONBLOCK)     = 3
close(3)                                = 0
open("/usr/lib/locale/locale-archive", O_RDONLY) = -1 ENOENT (No such file or directory)
brk(0)                                  = 0x5ba000
brk(0x5db000)                           = 0x5db000
open("/usr/share/locale/locale.alias", O_RDONLY) = 3
fstat(3, {st_mode=S_IFREG|0644, st_size=2528, ...}) = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2a9556c000
read(3, "# Locale name alias data base.\n#"..., 4096) = 2528
read(3, "", 4096)                       = 0
close(3)                                = 0
munmap(0x2a9556c000, 4096)              = 0
open("/usr/lib/locale/pl/LC_IDENTIFICATION", O_RDONLY) = -1 ENOENT (No such file or directory)
getuid()                                = 1000
getgid()                                = 100
geteuid()                               = 1000
getegid()                               = 100
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
open("/etc/mtab", O_RDONLY)             = 3
fstat(3, {st_mode=S_IFREG|0644, st_size=233, ...}) = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2a9556c000
read(3, "/dev/hda8 / ext3 rw,noatime 0 0\n"..., 4096) = 233
close(3)                                = 0
munmap(0x2a9556c000, 4096)              = 0
open("/proc/meminfo", O_RDONLY)         = 3
fstat(3, {st_mode=S_IFREG|0444, st_size=0, ...}) = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2a9556c000
read(3, "MemTotal:       511688 kB\nMemFre"..., 1024) = 646
close(3)                                = 0
munmap(0x2a9556c000, 4096)              = 0
rt_sigaction(SIGCHLD, {SIG_DFL}, {SIG_DFL}, 8) = 0
rt_sigaction(SIGCHLD, {SIG_DFL}, {SIG_DFL}, 8) = 0
rt_sigaction(SIGINT, {SIG_DFL}, {SIG_DFL}, 8) = 0
rt_sigaction(SIGINT, {SIG_DFL}, {SIG_DFL}, 8) = 0
rt_sigaction(SIGQUIT, {SIG_DFL}, {SIG_DFL}, 8) = 0
rt_sigaction(SIGQUIT, {SIG_DFL}, {SIG_DFL}, 8) = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigaction(SIGQUIT, {SIG_IGN}, {SIG_DFL}, 8) = 0
uname({sys="Linux", node="marcin", ...}) = 0
stat("/home/wiono", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0
stat(".", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0
getpid()                                = 6110
getppid()                               = 6109
getpgrp()                               = 6109
rt_sigaction(SIGCHLD, {0x431320, [], SA_RESTORER, 0x2a9579dca0}, {SIG_DFL}, 8) = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
open("/usr/bin/oowriter", O_RDONLY)     = 3
ioctl(3, SNDCTL_TMR_TIMEBASE or TCGETS, 0x7fbfffec80) = -1 ENOTTY (Inappropriate ioctl for device)
lseek(3, 0, SEEK_CUR)                   = 0
read(3, "#!/bin/sh\n#\n# Wrapper script for"..., 80) = 80
lseek(3, 0, SEEK_SET)                   = 0
getrlimit(RLIMIT_NOFILE, {rlim_cur=1024, rlim_max=1024}) = 0
dup2(3, 255)                            = 255
close(3)                                = 0
fcntl(255, F_SETFD, FD_CLOEXEC)         = 0
fcntl(255, F_GETFL)                     = 0x8000 (flags O_RDONLY|O_LARGEFILE)
fstat(255, {st_mode=S_IFREG|0755, st_size=9478, ...}) = 0
lseek(255, 0, SEEK_CUR)                 = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
read(255, "#!/bin/sh\n#\n# Wrapper script for"..., 8192) = 8192
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
stat("/etc/openoffice/openoffice.conf", 0x7fbfffe7a0) = -1 ENOENT (No such file or directory)
rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
stat("/home/wiono/.openoffice/1.1.2", 0x7fbfffe990) = -1 ENOENT (No such file or directory)
rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
stat("/home/wiono/.sversionrc", 0x7fbfffe990) = -1 ENOENT (No such file or directory)
rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
pipe([3, 4])                            = 0
rt_sigprocmask(SIG_BLOCK, [INT CHLD], [], 8) = 0
lseek(255, -5517, SEEK_CUR)             = 2675
clone(child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x2a95995df0) = 6111
rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
--- SIGCHLD (Child exited) @ 0 (0) ---
wait4(-1, [{WIFEXITED(s) && WEXITSTATUS(s) == 1}], WNOHANG, NULL) = 6111
wait4(-1, 0x7fbfffe3c4, WNOHANG, NULL)  = -1 ECHILD (No child processes)
rt_sigreturn(0xffffffffffffffff)        = 0
rt_sigaction(SIGCHLD, {0x431320, [], SA_RESTORER, 0x2a9579dca0}, {0x431320, [], SA_RESTORER, 0x2a9579dca0}, 8) = 0
close(4)                                = 0
read(3, "", 128)                        = 0
close(3)                                = 0
rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
rt_sigaction(SIGINT, {0x430190, [], SA_RESTORER, 0x2a9579dca0}, {SIG_DFL}, 8) = 0
rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
rt_sigaction(SIGINT, {SIG_DFL}, {0x430190, [], SA_RESTORER, 0x2a9579dca0}, 8) = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
read(255, "if [ $? -eq 2 ] ; then\n  # .sver"..., 8192) = 6803
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
pipe([3, 4])                            = 0
rt_sigprocmask(SIG_BLOCK, [INT CHLD], [], 8) = 0
lseek(255, -6114, SEEK_CUR)             = 3364
clone(child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x2a95995df0) = 6112
rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
rt_sigaction(SIGCHLD, {0x431320, [], SA_RESTORER, 0x2a9579dca0}, {0x431320, [], SA_RESTORER, 0x2a9579dca0}, 8) = 0
close(4)                                = 0
read(3, "6064\n", 128)                  = 5
read(3, "", 128)                        = 0
--- SIGCHLD (Child exited) @ 0 (0) ---
wait4(-1, [{WIFEXITED(s) && WEXITSTATUS(s) == 0}], WNOHANG, NULL) = 6112
wait4(-1, 0x7fbfffe5e4, WNOHANG, NULL)  = -1 ECHILD (No child processes)
rt_sigreturn(0xffffffffffffffff)        = 0
close(3)                                = 0
rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
rt_sigaction(SIGINT, {0x430190, [], SA_RESTORER, 0x2a9579dca0}, {SIG_DFL}, 8) = 0
rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
rt_sigaction(SIGINT, {SIG_DFL}, {0x430190, [], SA_RESTORER, 0x2a9579dca0}, 8) = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
read(255, "if [ -n \"$SMPID\" ] && [ -L /proc"..., 8192) = 6114
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
lstat("/proc/6064/exe", {st_mode=S_IFLNK|0777, st_size=0, ...}) = 0
rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
pipe([3, 4])                            = 0
rt_sigprocmask(SIG_BLOCK, [INT CHLD], [], 8) = 0
lseek(255, -5845, SEEK_CUR)             = 3633
clone(child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x2a95995df0) = 6115
rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
rt_sigaction(SIGCHLD, {0x431320, [], SA_RESTORER, 0x2a9579dca0}, {0x431320, [], SA_RESTORER, 0x2a9579dca0}, 8) = 0
close(4)                                = 0
read(3, "/usr/kde/3.3/bin/kdeinit\n", 128) = 25
read(3, "", 128)                        = 0
close(3)                                = 0
rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
rt_sigaction(SIGINT, {0x430190, [], SA_RESTORER, 0x2a9579dca0}, {SIG_DFL}, 8) = 0
wait4(-1, [{WIFEXITED(s) && WEXITSTATUS(s) == 0}], 0, NULL) = 6115
rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
--- SIGCHLD (Child exited) @ 0 (0) ---
wait4(-1, 0x7fbfffe084, WNOHANG, NULL)  = -1 ECHILD (No child processes)
rt_sigreturn(0xffffffffffffffff)        = 0
rt_sigaction(SIGINT, {SIG_DFL}, {0x430190, [], SA_RESTORER, 0x2a9579dca0}, 8) = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
read(255, "\n##\n## Add known Debian fonts lo"..., 8192) = 5845
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
pipe([3, 4])                            = 0
rt_sigprocmask(SIG_BLOCK, [INT CHLD], [], 8) = 0
lseek(255, -4610, SEEK_CUR)             = 4868
clone(child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x2a95995df0) = 6116
rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
--- SIGCHLD (Child exited) @ 0 (0) ---
wait4(-1, [{WIFEXITED(s) && WEXITSTATUS(s) == 0}], WNOHANG, NULL) = 6116
wait4(-1, 0x7fbfffe4c4, WNOHANG, NULL)  = -1 ECHILD (No child processes)
rt_sigreturn(0xffffffffffffffff)        = 0
rt_sigaction(SIGCHLD, {0x431320, [], SA_RESTORER, 0x2a9579dca0}, {0x431320, [], SA_RESTORER, 0x2a9579dca0}, 8) = 0
close(4)                                = 0
read(3, "pl\n", 128)                    = 3
read(3, "", 128)                        = 0
close(3)                                = 0
rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
rt_sigaction(SIGINT, {0x430190, [], SA_RESTORER, 0x2a9579dca0}, {SIG_DFL}, 8) = 0
rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
rt_sigaction(SIGINT, {SIG_DFL}, {0x430190, [], SA_RESTORER, 0x2a9579dca0}, 8) = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
read(255, "\n##\n## install OO for this user "..., 8192) = 4610
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
stat("/etc/openoffice/autoresponse-1.1.3.conf", {st_mode=S_IFREG|0644, st_size=146, ...}) = 0
rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
stat(".", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0
stat("/usr/kde/3.3/bin/grep", 0x7fbfffe590) = -1 ENOENT (No such file or directory)
stat("/bin/grep", {st_mode=S_IFREG|0755, st_size=86560, ...}) = 0
open("/proc/sys/kernel/ngroups_max", O_RDONLY) = 3
read(3, "65536\n", 31)                  = 6
close(3)                                = 0
mmap(NULL, 266240, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2a9556c000
getgroups(65536, [10, 18, 19, 27, 35, 80, 100, 250]) = 8
stat("/bin/grep", {st_mode=S_IFREG|0755, st_size=86560, ...}) = 0
rt_sigprocmask(SIG_BLOCK, [INT CHLD], [], 8) = 0
lseek(255, -3114, SEEK_CUR)             = 6364
clone(child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x2a95995df0) = 6119
rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
rt_sigaction(SIGINT, {0x430190, [], SA_RESTORER, 0x2a9579dca0}, {SIG_DFL}, 8) = 0
wait4(-1, [{WIFEXITED(s) && WEXITSTATUS(s) == 0}], 0, NULL) = 6119
rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
--- SIGCHLD (Child exited) @ 0 (0) ---
wait4(-1, 0x7fbfffe3b4, WNOHANG, NULL)  = -1 ECHILD (No child processes)
rt_sigreturn(0xffffffffffffffff)        = 0
rt_sigaction(SIGINT, {SIG_DFL}, {0x430190, [], SA_RESTORER, 0x2a9579dca0}, 8) = 0
pipe([3, 4])                            = 0
rt_sigprocmask(SIG_BLOCK, [INT CHLD], [], 8) = 0
clone(child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x2a95995df0) = 6120
rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
--- SIGCHLD (Child exited) @ 0 (0) ---
wait4(-1, [{WIFEXITED(s) && WEXITSTATUS(s) == 0}], WNOHANG, NULL) = 6120
wait4(-1, 0x7fbfffd984, WNOHANG, NULL)  = -1 ECHILD (No child processes)
rt_sigreturn(0xffffffffffffffff)        = 0
rt_sigaction(SIGCHLD, {0x431320, [], SA_RESTORER, 0x2a9579dca0}, {0x431320, [], SA_RESTORER, 0x2a9579dca0}, 8) = 0
close(4)                                = 0
read(3, "/home/wiono/.openoffice/1.1.3\n", 128) = 30
read(3, "", 128)                        = 0
close(3)                                = 0
rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
rt_sigaction(SIGINT, {0x430190, [], SA_RESTORER, 0x2a9579dca0}, {SIG_DFL}, 8) = 0
rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
rt_sigaction(SIGINT, {SIG_DFL}, {0x430190, [], SA_RESTORER, 0x2a9579dca0}, 8) = 0
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0
stat("/home/wiono/.openoffice/1.1.3", 0x7fbfffde70) = -1 ENOENT (No such file or directory)
rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
fstat(1, {st_mode=S_IFCHR|0600, st_rdev=makedev(136, 2), ...}) = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2a955ad000
write(1, "running openoffice.org setup...\n", 32running openoffice.org setup...
) = 32
rt_sigprocmask(SIG_BLOCK, [INT CHLD], [], 8) = 0
clone(child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x2a95995df0) = 6123
rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
rt_sigaction(SIGINT, {0x430190, [], SA_RESTORER, 0x2a9579dca0}, {SIG_DFL}, 8) = 0
wait4(-1, [{WIFSIGNALED(s) && WTERMSIG(s) == SIGSEGV}], 0, NULL) = 6123
fstat(2, {st_mode=S_IFCHR|0600, st_rdev=makedev(136, 2), ...}) = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2a955ae000
write(2, "/usr/bin/oowriter: line 178:  61"..., 163/usr/bin/oowriter: line 178:  6123 Segmentation fault      /opt/OpenOffice.org/program/setup ${UPDATEFLAG} -R:/etc/openoffice/autoresponse-1.1.3.conf 1>&/dev/null
) = 163
rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
--- SIGCHLD (Child exited) @ 0 (0) ---
wait4(-1, 0x7fbfffe084, WNOHANG, NULL)  = -1 ECHILD (No child processes)
rt_sigreturn(0xffffffffffffffff)        = 0
rt_sigaction(SIGINT, {SIG_DFL}, {0x430190, [], SA_RESTORER, 0x2a9579dca0}, 8) = 0
write(1, "setup failed.. abort\n", 21setup failed.. abort
)  = 21
rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
munmap(0x2a955ae000, 4096)              = 0
munmap(0x2a955ad000, 4096)              = 0
exit_group(1)                           = ?




Comment 3


wiono





          2005-03-20 03:01:03 UTC
        

I checked doom3 - it's not working too (segmentation fault) and I supose many other x86 apps doesn't work either. I have downgraded emul-linux-x86-glibc to previous version and now it works so probably that new one version (2.3.4.20041102) needs fixing. 




Comment 4


Christian Hoenig





          2005-03-22 23:48:40 UTC
        

I get the exact same segfault. This was with the 2005.0 style glibc (glibc-2.3.4.20041102-r1) and with current unstable glibc.

take care, have fun
/christian

Portage 2.0.51.19 (default-linux/amd64/2005.0, gcc-3.4.3, glibc-2.3.4.20050125-r1, 2.6.11-gentoo-r3 x86_64)
=================================================================
System uname: 2.6.11-gentoo-r3 x86_64 AMD Athlon(tm) 64 Processor 3000+
Gentoo Base System version 1.4.16
Python:              dev-lang/python-2.3.4-r1 [2.3.4 (#1, Mar 10 2005, 19:22:04)]
distcc 2.18.3 x86_64-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
ccache version 2.3 [enabled]
dev-lang/python:     2.3.4-r1
sys-devel/autoconf:  2.59-r6, 2.13
sys-devel/automake:  1.7.9-r1, 1.8.5-r3, 1.5, 1.4_p6, 1.6.3, 1.9.4
sys-devel/binutils:  2.15.92.0.2-r1
sys-devel/libtool:   1.5.10-r4
virtual/os-headers:  2.6.8.1-r4
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CFLAGS="-O3 -march=athlon64 -ffast-math -funroll-all-loops -funit-at-a-time -fpeel-loops -funswitch-loops -fomit-frame-pointer -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/ /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O3 -march=athlon64 -ffast-math -funroll-all-loops -funit-at-a-time -fpeel-loops -funswitch-loops -fomit-frame-pointer -pipe"
DISTDIR="/var/portage/distfiles"
FEATURES="autoaddcvs autoconfig ccache distlocks sandbox"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/Linux/distributions/gentoo"
MAKEOPTS="-j2"
PKGDIR="/var/portage/packages"
PORTAGE_TMPDIR="/var/portage/tmp"
PORTDIR="/var/portage/tree"
PORTDIR_OVERLAY="/var/portage/overlay"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X aalib acpi alsa amd64 apm arts artswrappersuid audiofile avi bash-completion berkdb bitmap-fonts bonobo cdparanoia cdr chipcard crypt cups dga doc encode fam flac font-server foomaticdb gd gif gtk gtk2 gtkhtml guile hbci imagemagick imlib ipv6 jack java jp2 jpeg kde kdeenablefinal libwww lzw lzw-tiff mad motif mp3 mpeg mysql ncurses nls nptl nptlonly oggvorbis opengl oscar oss pam perl png python qt qtmt quicktime readline real sdl skey slang ssl subversion symlink tcpd tetex tiff truetype truetype-fonts type1-fonts usb userlocales xinerama xml xml2 xmms xpm xrandr xv zlib"
Unset:  ASFLAGS, CBUILD, CTARGET, LANG, LC_ALL, LDFLAGS




Comment 5


Dale K Dicks





          2005-03-24 05:22:50 UTC
        

same problem here exactly

[ ddicks@linuxbox ~ ] $ oowriter
running openoffice.org setup...
/usr/bin/oowriter: line 147: 18736 Segmentation fault      /opt/OpenOffice.org/program/setup -R:/etc/openoffice/autoresponse-1.1.4.conf 1>&/dev/null
setup failed.. abort

[ ddicks@linuxbox ~ ] $ emerge info
Portage 2.0.51.19 (default-linux/amd64/2004.3, gcc-3.4.3, glibc-2.3.4.20041102-r1, 2.6.10-gentoo-r2 x86_64)
=================================================================
System uname: 2.6.10-gentoo-r2 x86_64 AMD Athlon(tm) 64 Processor 3500+
Gentoo Base System version 1.4.16
Python:              dev-lang/python-2.3.4-r1 [2.3.4 (#1, Mar 23 2005, 21:00:09)]
dev-lang/python:     2.3.4-r1
sys-devel/autoconf:  2.59-r6, 2.13
sys-devel/automake:  1.6.3, 1.5, 1.4_p6, 1.9.4, 1.7.9-r1, 1.8.5-r3
sys-devel/binutils:  2.15.92.0.2-r1
sys-devel/libtool:   1.5.10-r4
virtual/os-headers:  2.6.8.1-r2
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CFLAGS="-O2 -march=athlon64 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config /usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=athlon64 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig ccache distlocks sandbox"
GENTOO_MIRRORS="ftp://gentoo.agsn.ca/"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="amd64 X acpi acpi4linux alsa berkdb bitmap-fonts cdr crypt cups curl dvd esd fam fbcon font-server foomaticdb fortran freetype freetype-version-1 gif gimp gnome gpm gstreamer gtk gtk2 imagemagick imlib ipv6 java jp2 jpeg lzw lzw-tiff mad mime motif mozilla mp3 mpeg mplayer msn multilib ncurses nls nptl oggvorbis opengl openssh oss pam perl png posix ppds python readline samba sdl ssl svg tcltk tcpd tiff truetype truetype-fonts type1-fonts usb userlocales xml xml2 xpm xrandr xv zlib"
Unset:  ASFLAGS, CBUILD, CTARGET, LANG, LC_ALL, LDFLAGS




Comment 6


Simon Stelling (RETIRED)






          2005-03-31 12:48:06 UTC
        

is it the same with 1.1.4?




Comment 7


Christian Hoenig





          2005-03-31 13:01:03 UTC
        

Unfortunately it is :(.

luna ~ # etcat -v openoffice-bin
*  app-office/openoffice-bin :
        [ ~ ] 1.1.1 (0)
        [   ] 1.1.3 (0)
        [  I] 1.1.4 (0)
        [M~ ] 1.9.87 (0)

/christian




Comment 8


wiono





          2005-04-06 01:12:41 UTC
        

Now I'm using 2005.0 gentoo profile, glibc 2.3.4.20041102-r1 compiled with USE flags nptl, nptlonly with new kernel from gentoo-sources 2.6.11-r3 and all works. I had problems when glibc was compiled with nptl flag only. Unmatching it or adding nptlonly solves this problem for me.




Comment 9


Christian Hoenig





          2005-04-06 12:32:43 UTC
        

Wow, I remerged the glibc I already had installed and now it works, too!

I have no idea what is responsible for that fix. But I did not change any USE flag (I had nptlonly already before).

Thanks for the info.
/christian









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

