Title: 159725 – dev-lang/icc-9.1.045 doesn't install idb
URL: https://bugs.gentoo.org/show_bug.cgi?id=159725

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 159725
dev-lang/icc-9.1.045 doesn't install idb
Last modified: 2007-10-03 19:05:19 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 159725 
      - dev-lang/icc-9.1.045 doesn't install idb


Summary:
dev-lang/icc-9.1.045 doesn't install idb
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Karl Trygve Kalleberg (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:




183393



Blocks:







 

        Show dependency tree





 





      Reported:
    
2007-01-02 08:30 UTC by Philip Taylor





      Modified:
    
2007-10-03 19:05 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




patch

              (icc91.patch,938 bytes,
                patch)

            
2007-01-02 08:32 UTC,

            Philip Taylor




Details
            | Diff





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Philip Taylor





          2007-01-02 08:30:48 UTC
        

dev-lang/icc-9.1.045 fails to install idb, since it only unpacks the first .rpm file. It says:

        for x in *.rpm
        do
                # WORKDIR must be set properly for rpm_unpack()
                rpm_unpack ${S}/data/${x}
        done

and *.rpm (in the current directory) is an empty list so it calls "rpm_unpack ${S}/data/*.rpm" which appears to unpack only the first file. Moving the ${S}/data/ into the 'for' line makes it unpack all of the .rpm files as intended. idb is then installed and seems to work (at least after I make a link from libXft.so.1 to libXft.so.2).

(Is it a problem that that line uses "${S}/data/*.rpm" when the previous section uses just "data/*.rpm"?)

As an unrelated issue, src_compile() uses SUPPORTFILE with *s in the filename and attempts to write to that file, which doesn't work. It does work without complaining if I just remove the *s, though I'm not certain whether they'd ever be needed.




Comment 1


Philip Taylor





          2007-01-02 08:32:01 UTC
        

Created attachment 105177 [details, diff]
patch




Comment 2


Jakub Moc (RETIRED)






          2007-10-03 19:05:19 UTC
        

So use dev-lang/idb









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

