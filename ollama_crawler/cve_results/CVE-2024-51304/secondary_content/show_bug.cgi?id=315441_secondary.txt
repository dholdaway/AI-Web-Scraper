Title: 315441 – dev-perl/DBD-mysql-4.01.4 fails to build
URL: https://bugs.gentoo.org/show_bug.cgi?id=315441

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 315441
dev-perl/DBD-mysql-4.01.4 fails to build
Last modified: 2010-04-26 12:32:44 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 315441 
      - dev-perl/DBD-mysql-4.01.4 fails to build


Summary:
dev-perl/DBD-mysql-4.01.4 fails to build
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Development

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Perl team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2010-04-15 11:59 UTC by Willard Dawson





      Modified:
    
2010-04-26 12:32 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



gentoo









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Build log

              (build.log,2.01 KB,
                text/plain)

            
2010-04-15 12:00 UTC,

            Willard Dawson




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Willard Dawson





          2010-04-15 11:59:38 UTC
        

Fails with: Can't locate DBI/DBD.pm

Reproducible: Always

Steps to Reproduce:
1.emerge --update --deep --newuse world
2.
3.

Actual Results:  
>>> Emerging (1 of 2) dev-perl/DBD-mysql-4.01.4
 * DBD-mysql-4.014.tar.gz RMD160 SHA1 SHA256 size ;-) ...                [ ok ]
 * checking ebuild checksums ;-) ...                                     [ ok ]
 * checking auxfile checksums ;-) ...                                    [ ok ]
 * checking miscfile checksums ;-) ...                                   [ ok ]
 * CPV:  dev-perl/DBD-mysql-4.01.4
 * REPO: gentoo
 * USE:  amd64 elibc_glibc kernel_linux multilib userland_GNU
>>> Unpacking source...
>>> Unpacking DBD-mysql-4.014.tar.gz to /var/tmp/portage/dev-perl/DBD-mysql-4.01.4/work
>>> Source unpacked in /var/tmp/portage/dev-perl/DBD-mysql-4.01.4/work
>>> Compiling source in /var/tmp/portage/dev-perl/DBD-mysql-4.01.4/work/DBD-mysql-4.014 ...
 * Using ExtUtils::MakeMaker
Can't locate DBI/DBD.pm in @INC (@INC contains: /usr/lib64/perl5/site_perl/5.10.1/x86_64-linux-thread-multi /usr/lib64/perl5/site_perl/5.10.1 /usr/lib64/perl5/site_perl /usr/lib64/perl5/vendor_perl/5.10.1/x86_64-linux-thread-multi /usr/lib64/perl5/vendor_perl/5.10.1 /usr/lib64/perl5/vendor_perl /usr/lib64/perl5/5.10.1/x86_64-linux-thread-multi /usr/lib64/perl5/5.10.1 .) at Makefile.PL line 24.
 * ERROR: dev-perl/DBD-mysql-4.01.4 failed:
 *   Unable to build! (are you using USE="build"?)
 * 
 * Call stack:
 *     ebuild.sh, line   54:  Called src_compile
 *   environment, line 2915:  Called perl-module_src_compile
 *   environment, line 2595:  Called perl-module_src_prep
 *   environment, line 2667:  Called die
 * The specific snippet of code:
 *               perl Makefile.PL PREFIX=/usr INSTALLDIRS=vendor INSTALLMAN3DIR='none' DESTDIR="${D}" ${myconf} <<< "${pm_echovar}" || die "Unable to build! (are you using USE=\"build\"?)";
 * 
 * If you need support, post the output of 'emerge --info =dev-perl/DBD-mysql-4.01.4',
 * the complete build log and the output of 'emerge -pqv =dev-perl/DBD-mysql-4.01.4'.
 * The complete build log is located at '/var/tmp/portage/dev-perl/DBD-mysql-4.01.4/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/dev-perl/DBD-mysql-4.01.4/temp/environment'.
 * S: '/var/tmp/portage/dev-perl/DBD-mysql-4.01.4/work/DBD-mysql-4.014'


Expected Results:  
Successful update.

# emerge --info =dev-perl/DBD-mysql-4.01.4
Portage 2.1.8.3 (default/linux/amd64/10.0, gcc-4.3.4, glibc-2.11-r1, 2.6.33-gentoo-r1 x86_64)
=================================================================
                        System Settings
=================================================================
System uname: Linux-2.6.33-gentoo-r1-x86_64-Intel-R-_Core-TM-2_Duo_CPU_T7250_@_2.00GHz-with-gentoo-2.0.1
Timestamp of tree: Thu, 15 Apr 2010 10:00:01 +0000
app-shells/bash:     4.1_p5
dev-java/java-config: 2.1.10
dev-lang/python:     2.6.5-r1, 3.1.2-r2
dev-python/pycrypto: 2.1.0
dev-util/cmake:      2.8.1-r1
sys-apps/baselayout: 2.0.1
sys-apps/openrc:     0.6.1-r1
sys-apps/sandbox:    2.2
sys-devel/autoconf:  2.13, 2.65
sys-devel/automake:  1.8.5-r4, 1.9.6-r3, 1.10.3, 1.11.1
sys-devel/binutils:  2.20.1
sys-devel/gcc:       4.3.4, 4.4.3
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   2.2.6b
virtual/os-headers:  2.6.33
ACCEPT_KEYWORDS="amd64 ~amd64"
ACCEPT_LICENSE="* -@EULA PUEL dlj-1.1 Nessus-EULA sun-bcla-java-vm"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo"
CXXFLAGS="-O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="assume-digests distlocks fixpackages news parallel-fetch protect-owned sandbox sfperms strict unmerge-logs unmerge-orphans userfetch"
GENTOO_MIRRORS="http://distfiles.gentoo.org"
LDFLAGS="-Wl,-O1"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="3dnow 3dnowext X a52 aac acl acpi aiglx alsa amd64 apache2 apm arts ati audiofile avahi avi bash-completion berkdb bitmap-fonts bluetooth bzip2 cairo caps cardbus cdio cdr cli consolekit cracklib crypt ctype cups cxx dba dbtool dbus digitalradio diskio djvu dri dts dvd dvdread eds emboss encode esd ethereal exif expat fastbuild ffmpeg fftw fglrx foomaticdb force-cgi-redirect fortran ftp fuse gamin gd gdbm gif glib glitz glut gmp gpm gstreamer gtk gtk2 gtkhtml guile hal iconv idn imlib ipv6 ithreads jack java jpeg kde kerberos kqemu laptop lcms ldap libclamav libg++ libwww lirc live lm_sensors lua mad madwifi matroska mdnsresponder-compat memlimit mhash mikmod mmx mmxext mng modules mono motif mozilla mp3 mpeg mudflap multilib mysql ncurses netboot netjack networking nforce2 nls nptl nptlonly nsplugin nvidia ocaml ogg oggvorbis opengl openmp oss pam pango pch pcmcia pcre pdf pdflib pear perl php pmu png policykit portaudio posix pppd python qt qt3support qtmt quicktime readline reflection ruby samba sasl sdl semantic-desktop session simplexml slang sndfile snmp soap sockets spell spl sql sqlite sse sse2 ssl svg sysfs tcl tcltk tcpd theora threads threadsafe tiff tk tokenizer truetype truetype-fonts type1-fonts udev unicode utempter vorbis wddx webkit wifi xanim xinerama xml xmlrpc xorg xscreensaver xsl xulrunner xv zlib" ALSA_CARDS="hda-intel" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic auth_digest authn_anon authn_dbd authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock dbd deflate dir disk_cache env expires ext_filter file_cache filter headers ident imagemap include info log_config logio mem_cache mime mime_magic negotiation proxy proxy_ajp proxy_balancer proxy_connect proxy_http rewrite setenvif so speling status unique_id userdir usertrack vhost_alias" CAMERAS="canon" ELIBC="glibc" FOO2ZJS_DEVICES="hp2600n" INPUT_DEVICES="evdev keyboard mouse synaptics" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" RUBY_TARGETS="ruby18" USERLAND="GNU" VIDEO_CARDS="intel" 
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LANG, LC_ALL, LINGUAS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Willard Dawson





          2010-04-15 12:00:29 UTC
        

Created attachment 227891 [details]
Build log




Comment 2


Willard Dawson





          2010-04-15 12:22:10 UTC
        

(In reply to comment #1)
> Created an attachment (id=227891) [details]
> Build log
> 

# eix -I dev-perl/DBI
[I] dev-perl/DBI
     Available versions:  1.609
     Installed versions:  1.609(19:11:29 03/30/10)
     Homepage:            http://search.cpan.org/dist/DBI/
     Description:         The Perl DBI Module


So, I re-emerged ... dev-perl/DBI...

# emerge -1 dev-perl/DBI

...now, the update to dev-perl/DBD-mysql succeeds.

Why was that little exercise necessary, since dev-perl/DBI was already installed?






Comment 3


Torsten Veller (RETIRED)






          2010-04-15 13:04:43 UTC
        

(In reply to comment #2)

> So, I re-emerged ... dev-perl/DBI...
> 
> # emerge -1 dev-perl/DBI
> 
> ...now, the update to dev-perl/DBD-mysql succeeds.
> 
> Why was that little exercise necessary, since dev-perl/DBI was already
> installed?

Did you run perl-cleaner after upgrading to perl-5.10?




Comment 4


Willard Dawson





          2010-04-15 15:41:15 UTC
        

(In reply to comment #3)
> (In reply to comment #2)
> 
> > So, I re-emerged ... dev-perl/DBI...
> > 
> > # emerge -1 dev-perl/DBI
> > 
> > ...now, the update to dev-perl/DBD-mysql succeeds.
> > 
> > Why was that little exercise necessary, since dev-perl/DBI was already
> > installed?
> 
> Did you run perl-cleaner after upgrading to perl-5.10?
> 

I thought I had ran perl-cleaner, but perhaps I missed an "opportunity" to rerun it, or missed it - this being a new Gentoo install and not my long-time friend...  perl-cleaner  --leftovers | wc -l ==> 2561 !!

Looks like I missed a key step.  Thanks for the feedback.




Comment 5


Raphaël Barrois





          2010-04-26 12:32:44 UTC
        

(In reply to comment #4)
> I thought I had ran perl-cleaner, but perhaps I missed an "opportunity" to
> rerun it, or missed it - this being a new Gentoo install and not my long-time
> friend...  perl-cleaner  --leftovers | wc -l ==> 2561 !!
> 
> Looks like I missed a key step.  Thanks for the feedback.
> 

I had the same problem, but running 'perl-cleaner all' and 'perl-cleaner reallyall' didn't help; I had to specifically reemerge dev-perl/DBI in order to fix the bug.
Is this normal ?










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

