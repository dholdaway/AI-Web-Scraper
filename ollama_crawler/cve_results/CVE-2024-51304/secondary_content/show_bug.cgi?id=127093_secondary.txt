Title: 127093 – GTK+ update breaks x11 & other graphical programs
URL: https://bugs.gentoo.org/show_bug.cgi?id=127093

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 127093
GTK+ update breaks x11 & other graphical programs
Last modified: 2006-12-03 01:36:39 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 127093 
      - GTK+ update breaks x11 & other graphical programs


Summary:
GTK+ update breaks x11 & other graphical programs
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
Normal
       major
      


Assignee:

Gentoo Linux Gnome Desktop Team








URL:



http://forums.gentoo.org/viewtopic-t-...
        




Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-03-21 09:10 UTC by Paul





      Modified:
    
2006-12-03 01:36 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Paul





          2006-03-21 09:10:11 UTC
        

I updated glib and gtk+ to latest stable version (2.8.6, 2.8.12, respectively)
They both compiled, but afterward I was unable to log in. The login screen would not appear.
The error I got from xorg and other graphical programs was 
" /usr/lib/libgtk-x11-2.0.so.0: undefined symbol: g_object_compat_control "
I tried revdep-rebuild, and the unstable version of gtk+ (2.8.13). Nothing.
In the end I reverted glib and gtk+ back to older versions (2.8.5, 2.8.8) and everything worked again.

----------------emerge --info-------------------------------------
Portage 2.0.54 (default-linux/x86/2005.0, gcc-3.4.5, glibc-2.3.5-r2, 2.6.15-gentoo-r1 i686)
=================================================================
System uname: 2.6.15-gentoo-r1 i686 Intel(R) Pentium(R) 4 CPU 1300MHz
Gentoo Base System version 1.6.14
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
ccache version 2.3 [enabled]
dev-lang/python:     2.3.5-r2, 2.4.2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O3 -march=pentium4 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/env.d"
CXXFLAGS="-O3 -march=pentium4 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
MAKEOPTS="-j1"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.ca.gentoo.org/gentoo-portage"
USE="x86 X aac aalib aim alsa amd apm audiofile avi bash-completion bitmap-fonts bonobo browserplugin bzip2 cairo calendar ccachei cdb cdda cddb cdinstall cdparanoia cdr corba crypt curl dbus dhcp dri dvd dvdr dvdread encode exif expat extensions fam ffmpeg firefox flac font-server fortran freetype ftp gd gif glitz glut gmail gmailtimestamps gmp gnome gphoto2 gpm gstreamer gtk gtk2 gtkhtml hal howl idn imagemagick imap imlib ipod ipv6 java javascript jce jpeg kerberos krb4 lcms libwww mad mime mmx mmxext mng motif mozilla mp3 mpeg mppe-mppc msni ncurses nls noreiserfs nptl nvidia offensive ogg oggvorbis opengl oscar oss pam pcre pdflib perl plotutils png python quicktime readline real recode samba sblive screen sdl sftplogging silverxp speex spell sse sse2 ssl stream svg svga tcpd theora tiff truetype truetype-fonts type1-fonts udev unicode usb vcd vorbis win32codecs wxwindows xine xml2 xmms xscreensaver xv zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTDIR_OVERLAY




Comment 1


foser (RETIRED)






          2006-03-21 09:25:23 UTC
        

afaics this should only happen if you have 2 versions of glib on your system.




Comment 2


Paul





          2006-03-21 09:38:59 UTC
        

(In reply to comment #1)
> afaics this should only happen if you have 2 versions of glib on your system.
> 
$ equery list glib
[ Searching for package 'glib' in all categories among: ]
 * installed packages
[I--] [  ] dev-libs/glib-1.2.10-r5 (1)
[I--] [  ] dev-libs/glib-2.8.5 (2)
[I--] [  ] dev-perl/glib-perl-1.101 (0)
This is what I have. Isn't this standard?
Note: I'm using 2.8.5 now, but the issue is with 2.8.6






Comment 3


Paul





          2006-03-22 08:26:05 UTC
        

I don't know if this is helpful, but I tried recompiling gtk+ with glib 2.8.5 (I've masked 2.8.6). It still didn't work, exact same problem.




Comment 4


foser (RETIRED)






          2006-03-26 00:52:38 UTC
        

The fact that portage doesn't report it, is not guarantee there is no lingering libs anywhere. Ever compiled any glib version from scratch or not from the Gentoo repository ?




Comment 5


Paul





          2006-03-26 01:11:44 UTC
        

(In reply to comment #4)
> The fact that portage doesn't report it, is not guarantee there is no lingering
> libs anywhere. Ever compiled any glib version from scratch or not from the
> Gentoo repository ?
> 
No, I don't think I've ever done that.
Are there any particular libs I can search for?
A search for libglib turn up nothing strange:
$ locate libglib
/usr/lib/libglib.a
/usr/lib/libglib.la
/usr/lib/libglib.so
/usr/lib/libglib-1.2.so.0.0.10
/usr/lib/libglib-1.2.so.0
/usr/lib/libglib-2.0.so.0
/usr/lib/libglib-2.0.so
/usr/lib/libglib-2.0.la
/usr/lib/libglibmm-2.0.so.1.5.11
/usr/lib/libglibmm-2.0.so.1
/usr/lib/libglibmm-2.0.so
/usr/lib/libglibmm-2.0.la
/usr/lib/libglibmm_generate_extra_defs-2.4.so.1
/usr/lib/libglibmm_generate_extra_defs-2.4.so
/usr/lib/libglibmm_generate_extra_defs-2.4.la
/usr/lib/libglibmm-2.4.so.1
/usr/lib/libglibmm-2.4.so
/usr/lib/libglibmm-2.4.la
/usr/lib/libglib-2.0.so.0.800.5
/usr/lib/libglibmm_generate_extra_defs-2.4.so.1.0.17
/usr/lib/libglibmm-2.4.so.1.0.17




Comment 6


Rémi Cardona (RETIRED)






          2006-12-03 01:36:39 UTC
        

Paul,

Can you still reproduce this bug with newer versions of glib/gtk ? If you can't, please reopen this bug.

Thanks









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

