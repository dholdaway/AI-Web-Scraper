Title: 209061 – net-wireless/bluez-utils-3.* fails to compile
URL: https://bugs.gentoo.org/show_bug.cgi?id=209061

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 209061
net-wireless/bluez-utils-3.* fails to compile
Last modified: 2008-08-12 16:00:41 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 209061 
      - net-wireless/bluez-utils-3.* fails to compile


Summary:
net-wireless/bluez-utils-3.* fails to compile
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Petteri Räty (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-02-05 23:24 UTC by JayGreeny





      Modified:
    
2008-08-12 16:00 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



denilsonsa
dick









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


JayGreeny





          2008-02-05 23:24:16 UTC
        

emerge Failure to comply! It terminates! Trying to emerge bluez-utils-3.* and every time it crashes.

Reproducible: Always

Steps to Reproduce:
1. jaygreeny ~ # emerge -vat =net-wireless/bluez-utils-3.19
or
2.jaygreeny ~ # emerge -vat =net-wireless/bluez-utils-3.24

3.

Actual Results:  
make  all-recursive
make[1]: Entering directory `/var/tmp/portage/net-wireless/bluez-utils-3.19/work/bluez-utils-3.19'
Making all in sbc
make[2]: Entering directory `/var/tmp/portage/net-wireless/bluez-utils-3.19/work/bluez-utils-3.19/sbc'
/bin/sh ../libtool --tag=CC   --mode=compile i686-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..     -O2 -march=athlon-xp -pipe -fomit-frame-pointer -D_FORTIFY_SOURCE=2 -MT sbc.lo -MD -MP -MF .deps/sbc.Tpo -c -o sbc.lo sbc.c
i686-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..     -O2 -march=athlon-xp -pipe -fomit-frame-pointer -D_FORTIFY_SOURCE=2 -MT sbcinfo.o -MD -MP -MF .deps/sbcinfo.Tpo -c -o sbcinfo.o sbcinfo.c
i686-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..     -O2 -march=athlon-xp -pipe -fomit-frame-pointer -D_FORTIFY_SOURCE=2 -MT sbcdec.o -MD -MP -MF .deps/sbcdec.Tpo -c -o sbcdec.o sbcdec.c
i686-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..     -O2 -march=athlon-xp -pipe -fomit-frame-pointer -D_FORTIFY_SOURCE=2 -MT sbcenc.o -MD -MP -MF .deps/sbcenc.Tpo -c -o sbcenc.o sbcenc.c
mkdir .libs
 i686-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I.. -O2 -march=athlon-xp -pipe -fomit-frame-pointer -D_FORTIFY_SOURCE=2 -MT sbc.lo -MD -MP -MF .deps/sbc.Tpo -c sbc.c  -fPIC -DPIC -o .libs/sbc.o
mv -f .deps/sbcinfo.Tpo .deps/sbcinfo.Po
/bin/sh ../libtool --tag=CC   --mode=link i686-pc-linux-gnu-gcc  -O2 -march=athlon-xp -pipe -fomit-frame-pointer -D_FORTIFY_SOURCE=2   -o sbcinfo sbcinfo.o
sbcenc.c: In function `encode':
sbcenc.c:150: warning: pointer/integer type mismatch in conditional expression
sbcenc.c:168: warning: pointer/integer type mismatch in conditional expression
sbcenc.c: In function `main':
sbcenc.c:229: warning: pointer/integer type mismatch in conditional expression
mv -f .deps/sbcenc.Tpo .deps/sbcenc.Po
sbcdec.c: In function `decode':
sbcdec.c:141: warning: pointer/integer type mismatch in conditional expression
sbcdec.c: In function `main':
sbcdec.c:208: warning: pointer/integer type mismatch in conditional expression
sbcdec.c:215: warning: pointer/integer type mismatch in conditional expression
mv -f .deps/sbcdec.Tpo .deps/sbcdec.Po
i686-pc-linux-gnu-gcc -O2 -march=athlon-xp -pipe -fomit-frame-pointer -D_FORTIFY_SOURCE=2 -o sbcinfo sbcinfo.o
sbcinfo.o: In function `__read':
sbcinfo.c:(.text+0x1e0): undefined reference to `__builtin_object_size'
sbcinfo.c:(.text+0x1f3): undefined reference to `__builtin_object_size'
collect2: ld returned 1 exit status
distcc[19505] ERROR: compile (null) on localhost failed
make[2]: *** [sbcinfo] Error 1
make[2]: *** Waiting for unfinished jobs....
sbc.c: In function `sbc_decoder_init':
sbc.c:579: warning: pointer/integer type mismatch in conditional expression
sbc.c: In function `sbc_encoder_init':
sbc.c:694: warning: pointer/integer type mismatch in conditional expression
sbc.c: In function `sbc_pack_frame':
sbc.c:1053: warning: pointer/integer type mismatch in conditional expression
sbc.c: In function `sbc_init':
sbc.c:1277: warning: pointer/integer type mismatch in conditional expression
sbc.c:1283: warning: pointer/integer type mismatch in conditional expression
sbc.c: In function `sbc_finish':
sbc.c:1448: warning: pointer/integer type mismatch in conditional expression
mv -f .deps/sbc.Tpo .deps/sbc.Plo
make[2]: Leaving directory `/var/tmp/portage/net-wireless/bluez-utils-3.19/work/bluez-utils-3.19/sbc'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/net-wireless/bluez-utils-3.19/work/bluez-utils-3.19'
make: *** [all] Error 2
 *
 * ERROR: net-wireless/bluez-utils-3.19 failed.
 * Call stack:
 *                 ebuild.sh, line 1701:  Called dyn_compile
 *                 ebuild.sh, line 1039:  Called qa_call 'src_compile'
 *                 ebuild.sh, line   44:  Called src_compile
 *   bluez-utils-3.19.ebuild, line   79:  Called die
 * The specific snippet of code:
 *      emake || die "emake failed"
 *  The die message:
 *   emake failed
 *
 * If you need support, post the topmost build error, and the call stack if relevant.
 * A complete build log is located at '/var/tmp/portage/net-wireless/bluez-utils-3.19/temp/build.log'.



jaygreeny ~ # emerge --info
Portage 2.1.3.19 (default-linux/x86/2007.0, gcc-4.1.2, glibc-2.6.1-r0, 2.6.23-gentoo-r3-jaygreeny i686)
=================================================================
System uname: 2.6.23-gentoo-r3-jaygreeny i686 AMD Athlon(tm) Prosussor
Timestamp of tree: Sun, 20 Jan 2008 05:46:01 +0000
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [enabled]
app-shells/bash:     3.2_p17
dev-java/java-config: 1.3.7, 2.0.33-r1
dev-lang/python:     2.4.4-r6
dev-python/pycrypto: 2.0.1-r6
sys-apps/baselayout: 1.12.10-r5
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.61-r1
sys-devel/automake:  1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.18-r1
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.24
virtual/os-headers:  2.6.23-r3
ACCEPT_KEYWORDS="x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=athlon-xp -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/revdep-rebuild /etc/terminfo /etc/udev/rules.d"
CXXFLAGS="-O2 -march=athlon-xp -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="distcc distlocks fixpackages metadata-transfer parallel-fetch sandbox sfperms unmerge-orphans userfetch"
GENTOO_MIRRORS="ftp://ftp.heanet.ie/pub/gentoo/ http://distfiles.gentoo.org"
LINGUAS="en_GB"
MAKEOPTS="-j5"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://muttley/gentoo-portage"
USE="X acl alsa berkdb bitmap-fonts bluetooth cdr cli cracklib crypt cups dbus dri dvd dvdr encode firefox fortran gdbm gpm gtk gtk2 hal iconv ipv6 isdnlog kde midi mmx mp3 mp4 mpeg msn mudflap musicbrainz ncurses nls nptl nptl-only nptlonly nsplugin offensive ogg opengl openmp pam pcre perl pppd python qt3 qt3support qt4 quicktime readline reflection samba session spl sse ssl svg sysvipc tcpd truetype-fonts type1-fonts unicode usb visualization vorbis wifi win32codecs x264 x86 xcomposite xine xinerama xorg xscreensaver xv xvid zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1 emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en_GB" USERLAND="GNU" VIDEO_CARDS="nv nvidia"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Petteri Räty (RETIRED)






          2008-02-06 00:33:30 UTC
        

(In reply to comment #0)
> emerge Failure to comply! It terminates! Trying to emerge bluez-utils-3.* and
> every time it crashes.
> 

It doesn't technically crash, it fails. Please test the latest version (3.25) and report back.




Comment 2


JayGreeny





          2008-04-30 16:51:27 UTC
        

(In reply to comment #1)
> (In reply to comment #0)
> > emerge Failure to comply! It terminates! Trying to emerge bluez-utils-3.* and
> > every time it crashes.
> > 
> 
> It doesn't technically crash, it fails. Please test the latest version (3.25)
> and report back.
> 
Apologies for the massive delay, couldn't get anything to work right so I gave up for a while. Anyway, emerging the latest version of bluez-utils-3.30 works. Thanks!





Comment 3


Robert Buchholz (RETIRED)






          2008-07-02 23:58:56 UTC
        

Can this here be closed?




Comment 4


Doug Goldstein (RETIRED)






          2008-08-11 14:14:44 UTC
        

undefined reference to `__builtin_object_size'

That's a built in symbol provided by GCC that injects into every resultant binary. If your system is missing this symbol then your gcc has had a few .o files deleted and your toolchain is hosed.

You need to rebuild gcc and binutils, potentially from a bootstrap...




Comment 5


JayGreeny





          2008-08-12 11:33:49 UTC
        

I'm not sure if this bug is in bluez 2*, but i think this can be closed, as asked above becaase bluez 3 is working now. I think i did a world update. Thanks for your help.




Comment 6


Petteri Räty (RETIRED)






          2008-08-12 16:00:41 UTC
        

(In reply to comment #5)
> I'm not sure if this bug is in bluez 2*, but i think this can be closed, as
> asked above becaase bluez 3 is working now. I think i did a world update.
> Thanks for your help.
> 

closing










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

