Title: 733736 – dev-qt/qtwebengine-5.15.0: emerge breaks with gcc 10.0.1, but works with gcc 9.3 on ppc64le.
URL: https://bugs.gentoo.org/show_bug.cgi?id=733736

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 733736
dev-qt/qtwebengine-5.15.0: emerge breaks with gcc 10.0.1, but works with gcc 9.3 on ppc64le.
Last modified: 2021-03-25 00:58:46 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 733736 
      - dev-qt/qtwebengine-5.15.0: emerge breaks with gcc 10.0.1, but works with gcc 9.3 on ppc64le.


Summary:
dev-qt/qtwebengine-5.15.0: emerge breaks with gcc 10.0.1, but works with gcc ...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

PPC64
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Georgy Yakovlev








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2020-07-24 06:20 UTC by Peter Easton





      Modified:
    
2021-03-25 00:58 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



gyakovlev
qt









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge information for gcc-10.

              (qtwebengine-emerge-info-gcc10.txt,5.86 KB,
                text/plain)

            
2020-07-24 06:24 UTC,

            Peter Easton




Details





qtwebengine-build-gcc10.txt.bz2

              (qtwebengine-build-gcc10.txt.bz2,65.90 KB,
                application/octet-stream)

            
2020-07-24 22:52 UTC,

            Georgy Yakovlev




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Peter Easton





          2020-07-24 06:20:24 UTC
        

Hi!

dev-qt/webengine-5.15.0 produces the following build log. I'm attaching my build log and emerge information in subsequent replies as attachments. 

Reproducible: Always

Steps to Reproduce:
1. emerge --oneshot =dev-qt/qtwebengine-5.15.0
Actual Results:  
emerge fails during compiling phase. Build log and emerge information should be attached. Build log and emerge information should be attached. 

Expected Results:  
qtwebengine emerges on ppc64.




Comment 1


Peter Easton





          2020-07-24 06:24:17 UTC
        

Created attachment 650440 [details]
emerge information for gcc-10.

This is the full build log for gcc 10. 

Since the build log is too large to upload, I'm hosting it on my website at:

https://jollyrogers.ca/public/qtwebengine-build-gcc10.txt

If it goes down I can reup it later.




Comment 2


Georgy Yakovlev







          2020-07-24 22:52:56 UTC
        

Created attachment 650646 [details]
qtwebengine-build-gcc10.txt.bz2

logs can be compressed btw. attached the log here for historical purposes.




Comment 3


Georgy Yakovlev







          2020-07-24 23:17:09 UTC
        

In file included from ../../../../qtwebengine-everywhere-src-5.15.0/src/3rdparty/chromium/third_party/angle/src/common/event_tracer.h:9,
                 from ../../../../qtwebengine-everywhere-src-5.15.0/src/3rdparty/chromium/third_party/angle/src/common/event_tracer.cpp:5:
../../../../qtwebengine-everywhere-src-5.15.0/src/3rdparty/chromium/third_party/angle/include/platform/Platform.h:239:35: error: â€˜size_tâ€™ has not been declared
  239 |                                   size_t programSize,
      |                                   ^~~~~~
../../../../qtwebengine-everywhere-src-5.15.0/src/3rdparty/chromium/third_party/angle/include/platform/Platform.h:243:33: error: â€˜size_tâ€™ has not been declared
  243 |                                 size_t programSize,
      |                                 ^~~~~~



so the problem is size_t
looks like it needs to include <cstddef>

I'll poke it as I get more time.




Comment 4


Peter Easton





          2020-07-25 05:54:20 UTC
        

Awesome, thank you!




Comment 5


Georgy Yakovlev







          2021-03-24 01:48:39 UTC
        

can you re-try with qtwebengine-5.15.2_p20210224 ?

I've keyworded it today and added new patchset.




Comment 6


Georgy Yakovlev







          2021-03-24 05:12:53 UTC
        

just tested with gcc-10.2.0-r5, it works fine.




Comment 7


Georgy Yakovlev







          2021-03-25 00:58:46 UTC
        

ok tested again for different versions, still works. closing.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

