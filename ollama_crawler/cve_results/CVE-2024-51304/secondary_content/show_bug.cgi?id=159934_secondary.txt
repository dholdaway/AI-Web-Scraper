Title: 159934 – upgrade from udev-087-r1 to sys-fs/udev-103 = various unknown key messages
URL: https://bugs.gentoo.org/show_bug.cgi?id=159934

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 159934
upgrade from udev-087-r1 to sys-fs/udev-103 = various unknown key messages
Last modified: 2007-01-30 13:20:13 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 159934 
      - upgrade from udev-087-r1 to sys-fs/udev-103 = various unknown key messages


Summary:
upgrade from udev-087-r1 to sys-fs/udev-103 = various unknown key messages
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       minor
      


Assignee:

Greg Kroah-Hartman (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-01-04 02:15 UTC by Richard Hartmann





      Modified:
    
2007-01-30 13:20 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



base-system
decibels.2862









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Richard Hartmann





          2007-01-04 02:15:42 UTC
        

After an upgrade to udev-103 I get various error messages in /var/log/messages. I have run etc-update after the upgrade and removed the coldplug and its initscript.


Jan  4 09:59:02 xkiste udevd[926]: add_to_rules: unknown key 'ATTRS{removable}', in 'KERNEL'
Jan  4 09:59:02 xkiste udevd[926]: add_to_rules: unknown key 'DRIVERS', in 'KERNEL'
Jan  4 09:59:02 xkiste udevd[926]: add_to_rules: unknown key 'ATTRS{removable}', in 'KERNEL'
Jan  4 09:59:02 xkiste udevd[926]: add_to_rules: unknown key 'ATTRS{ieee1394_id}', in 'KERNEL'
Jan  4 09:59:02 xkiste udevd[926]: add_to_rules: unknown key 'ATTR{removable}', in 'KERNEL'
Jan  4 09:59:02 xkiste udevd[926]: add_to_rules: unknown key 'SUBSYSTEMS', in 'SUBSYSTEMS'
Jan  4 09:59:02 xkiste udevd[926]: add_to_rules: unknown key 'SUBSYSTEMS', in 'SUBSYSTEMS'
Jan  4 09:59:02 xkiste udevd[926]: add_to_rules: unknown key 'ATTRS{bInterfaceClass}', in 'SUBSYSTEMS'
Jan  4 09:59:02 xkiste udevd[926]: add_to_rules: unknown key 'ATTRS{bInterfaceProtocol}', in 'SUBSYSTEMS'
Jan  4 09:59:02 xkiste udevd[926]: add_to_rules: unknown key 'SUBSYSTEMS', in 'SUBSYSTEMS'
Jan  4 09:59:02 xkiste udevd[926]: add_to_rules: unknown key 'ATTRS{bInterfaceClass}', in 'SUBSYSTEMS'
Jan  4 09:59:02 xkiste udevd[926]: add_to_rules: unknown key 'ATTRS{bInterfaceProtocol}', in 'SUBSYSTEMS'
Jan  4 09:59:02 xkiste udevd[926]: add_to_rules: unknown key 'DRIVERS', in 'DRIVERS'
Jan  4 09:59:02 xkiste udevd[926]: add_to_rules: unknown key 'DRIVERS', in 'DRIVERS'
Jan  4 09:59:02 xkiste udevd[926]: add_to_rules: unknown key 'DRIVERS', in 'DRIVERS'
Jan  4 09:59:02 xkiste udevd[926]: add_to_rules: unknown key 'ATTRS{name}', in 'ATTRS{name}'
Jan  4 09:59:02 xkiste udevd[926]: add_to_rules: unknown key 'ATTRS{modalias}', in 'ATTRS{modalias}'
Jan  4 09:59:02 xkiste udevd[926]: add_to_rules: unknown key 'ATTRS{modalias}', in 'ATTRS{modalias}'
Jan  4 09:59:02 xkiste udevd[926]: add_to_rules: unknown key 'ATTRS{removable}', in 'KERNEL'
Jan  4 09:59:02 xkiste udevd[926]: add_to_rules: unknown key 'DRIVERS', in 'KERNEL'
Jan  4 09:59:02 xkiste udevd[926]: add_to_rules: unknown key 'ATTRS{removable}', in 'KERNEL'
Jan  4 09:59:02 xkiste udevd[926]: add_to_rules: unknown key 'ATTRS{ieee1394_id}', in 'KERNEL'
Jan  4 09:59:02 xkiste udevd[926]: add_to_rules: unknown key 'ATTR{removable}', in 'KERNEL'
Jan  4 09:59:03 xkiste udevd[926]: add_to_rules: unknown key 'SUBSYSTEMS', in 'SUBSYSTEMS'
Jan  4 09:59:03 xkiste udevd[926]: add_to_rules: unknown key 'SUBSYSTEMS', in 'SUBSYSTEMS'
Jan  4 09:59:03 xkiste udevd[926]: add_to_rules: unknown key 'ATTRS{bInterfaceClass}', in 'SUBSYSTEMS'
Jan  4 09:59:03 xkiste udevd[926]: add_to_rules: unknown key 'ATTRS{bInterfaceProtocol}', in 'SUBSYSTEMS'
Jan  4 09:59:03 xkiste udevd[926]: add_to_rules: unknown key 'SUBSYSTEMS', in 'SUBSYSTEMS'
Jan  4 09:59:03 xkiste udevd[926]: add_to_rules: unknown key 'ATTRS{bInterfaceClass}', in 'SUBSYSTEMS'
Jan  4 09:59:03 xkiste udevd[926]: add_to_rules: unknown key 'ATTRS{bInterfaceProtocol}', in 'SUBSYSTEMS'
Jan  4 09:59:03 xkiste udevd[926]: add_to_rules: unknown key 'DRIVERS', in 'DRIVERS'
Jan  4 09:59:03 xkiste udevd[926]: add_to_rules: unknown key 'DRIVERS', in 'DRIVERS'
Jan  4 09:59:03 xkiste udevd[926]: add_to_rules: unknown key 'DRIVERS', in 'DRIVERS'
Jan  4 09:59:03 xkiste udevd[926]: add_to_rules: unknown key 'ATTRS{name}', in 'ATTRS{name}'
Jan  4 09:59:03 xkiste udevd[926]: add_to_rules: unknown key 'ATTRS{modalias}', in 'ATTRS{modalias}'
Jan  4 09:59:03 xkiste udevd[926]: add_to_rules: unknown key 'ATTRS{modalias}', in 'ATTRS{modalias}'
Jan  4 09:59:03 xkiste udevd[926]: add_to_rules: unknown key 'ATTRS{removable}', in 'KERNEL'
Jan  4 09:59:03 xkiste udevd[926]: add_to_rules: unknown key 'DRIVERS', in 'KERNEL'
Jan  4 09:59:03 xkiste udevd[926]: add_to_rules: unknown key 'ATTRS{removable}', in 'KERNEL'
Jan  4 09:59:03 xkiste udevd[926]: add_to_rules: unknown key 'ATTRS{ieee1394_id}', in 'KERNEL'
Jan  4 09:59:03 xkiste udevd[926]: add_to_rules: unknown key 'ATTR{removable}', in 'KERNEL'
Jan  4 09:59:03 xkiste udevd[926]: add_to_rules: unknown key 'SUBSYSTEMS', in 'SUBSYSTEMS'
Jan  4 09:59:03 xkiste udevd[926]: add_to_rules: unknown key 'SUBSYSTEMS', in 'SUBSYSTEMS'
Jan  4 09:59:03 xkiste udevd[926]: add_to_rules: unknown key 'ATTRS{bInterfaceClass}', in 'SUBSYSTEMS'
Jan  4 09:59:03 xkiste udevd[926]: add_to_rules: unknown key 'ATTRS{bInterfaceProtocol}', in 'SUBSYSTEMS'
Jan  4 09:59:03 xkiste udevd[926]: add_to_rules: unknown key 'SUBSYSTEMS', in 'SUBSYSTEMS'
Jan  4 09:59:03 xkiste udevd[926]: add_to_rules: unknown key 'ATTRS{bInterfaceClass}', in 'SUBSYSTEMS'
Jan  4 09:59:03 xkiste udevd[926]: add_to_rules: unknown key 'ATTRS{bInterfaceProtocol}', in 'SUBSYSTEMS'
Jan  4 09:59:03 xkiste udevd[926]: add_to_rules: unknown key 'DRIVERS', in 'DRIVERS'
Jan  4 09:59:03 xkiste udevd[926]: add_to_rules: unknown key 'DRIVERS', in 'DRIVERS'
Jan  4 09:59:03 xkiste udevd[926]: add_to_rules: unknown key 'DRIVERS', in 'DRIVERS'
Jan  4 09:59:03 xkiste udevd[926]: add_to_rules: unknown key 'ATTRS{name}', in 'ATTRS{name}'
Jan  4 09:59:03 xkiste udevd[926]: add_to_rules: unknown key 'ATTRS{modalias}', in 'ATTRS{modalias}'
Jan  4 09:59:03 xkiste udevd[926]: add_to_rules: unknown key 'ATTRS{modalias}', in 'ATTRS{modalias}'
Jan  4 09:59:03 xkiste udevd[926]: add_to_rules: unknown key 'ATTRS{removable}', in 'KERNEL'
Jan  4 09:59:03 xkiste udevd[926]: add_to_rules: unknown key 'DRIVERS', in 'KERNEL'
Jan  4 09:59:03 xkiste udevd[926]: add_to_rules: unknown key 'ATTRS{removable}', in 'KERNEL'
Jan  4 09:59:03 xkiste udevd[926]: add_to_rules: unknown key 'ATTRS{ieee1394_id}', in 'KERNEL'
Jan  4 09:59:03 xkiste udevd[926]: add_to_rules: unknown key 'ATTR{removable}', in 'KERNEL'
Jan  4 09:59:03 xkiste udevd[926]: add_to_rules: unknown key 'DRIVERS', in 'ACTION'
Jan  4 09:59:03 xkiste udevd[926]: add_to_rules: unknown key 'SUBSYSTEMS', in 'SUBSYSTEMS'
Jan  4 09:59:03 xkiste udevd[926]: add_to_rules: unknown key 'SUBSYSTEMS', in 'SUBSYSTEMS'
Jan  4 09:59:03 xkiste udevd[926]: add_to_rules: unknown key 'SUBSYSTEMS', in 'SUBSYSTEMS'
Jan  4 09:59:03 xkiste udevd[926]: add_to_rules: unknown key 'SUBSYSTEMS', in 'SUBSYSTEMS'
Jan  4 09:59:06 xkiste udevd[8752]: add_to_rules: invalid KERNEL operation
Jan  4 09:59:06 xkiste udevd[8752]: add_to_rules: invalid rule '/etc/udev/rules.d/50-udev.rules:37'
Jan  4 09:59:06 xkiste udevd[8752]: add_to_rules: invalid KERNEL operation
Jan  4 09:59:06 xkiste udevd[8752]: add_to_rules: invalid rule '/etc/udev/rules.d/50-udev.rules:38'
Jan  4 09:59:06 xkiste udevd[8752]: add_to_rules: invalid KERNEL operation
Jan  4 09:59:06 xkiste udevd[8752]: add_to_rules: invalid rule '/etc/udev/rules.d/50-udev.rules:39'
Jan  4 09:59:06 xkiste udevd[8752]: add_to_rules: do not reference parent sysfs directories directly, that may break with a future kernel, please fix it in /etc/udev/rules.d/50-udev.rules:259


Linux xkiste 2.6.15-gentoo-r1 #2 PREEMPT Mon Mar 13 13:11:45 CET 2006 i686 Pentium III (Coppermine) GenuineIntel GNU/Linux




Comment 1


Greg Kroah-Hartman (RETIRED)






          2007-01-04 17:54:33 UTC
        

After running etc-update, are the messages gone?




Comment 2


Richard Hartmann





          2007-01-04 23:45:34 UTC
        

No. 




Comment 3


Greg Kroah-Hartman (RETIRED)






          2007-01-05 00:22:40 UTC
        

What files are in /etc/udev/rules.d ?
Have you created any custom udev rules of your own?  If so, they need to be changed.




Comment 4


Richard Hartmann





          2007-01-06 09:58:04 UTC
        


I have found the solution. I had forgotten to unmerge vmware-modules-1.0.0.13,
which had left a rule in /etc/udev/rules.d.

One little problem is left. When I boot my system  I get <!!>
while "letting udev process events".

I have yet not found, what the problem is here. In 
/var/log/messages the "unknown key" messages are gone now.




Comment 5


Decibels





          2007-01-09 23:00:18 UTC
        

I was working on this problem for someone else and they don't have vmware installed,.. Now all of a sudden I have it to and can't think of anything I did. Filled up the boot screen while rebooting. Also found my kern.log so big today that my root partition was 100% and I have a cronjob that looks for diskusage and emails me about it. Happened in less than one day.

Both systems still have udev-087-r1 though. Haven't done any updates either and checking for config files that might have been skipped shows empty:
etc-update
Scanning Configuration files...
Exiting: Nothing left to do; exiting. :)

Will investigate further.




Comment 6


Decibels





          2007-01-09 23:02:34 UTC
        

Wait, did go ~amd64 to see if could dup the problem the x86 was having so emerged 
[ebuild     UD] media-gfx/gphoto2-2.1.6 [2.2.0]
[ebuild     UD] media-libs/libgphoto2-2.1.6-r1 [2.2.1-r1] USE="jpeg% -nousb%"
That is check of what have, going to downgrade back and see. Will have the other system do it also.




Comment 7


Richard Hartmann





          2007-01-11 10:47:27 UTC
        


An upgrade to gentoo-kernel 2.6.18-r6 was the solution for my last little problem.




Comment 8


Decibels





          2007-01-11 14:24:26 UTC
        

Actually my error, once I took picture of it, was different than the x86 box. But both had to do with the  /etc/udev/rules.d/99-libgphoto2.rules file.
His camera isn't fully supported and needs the ptp and mine is fully supported. But we both deleted that file, it was wreaking havoc (going to check it out further). Still able to access cameras after rebooting.

Anyway, if what the problem was will start new bug since doesn't have anything to do with udev upgrade and this has been marked resolved. I'm just making note here cause didn't find any good info on the web on this. Maybe this will help someone.




Comment 9


Ralph Hartley





          2007-01-30 13:20:13 UTC
        

This bug probably should be resolved as a dupe of Bug 162004










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

