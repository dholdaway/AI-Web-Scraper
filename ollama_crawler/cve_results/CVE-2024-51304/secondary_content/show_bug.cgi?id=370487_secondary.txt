Title: 370487 – media-video/totem-2.32.0-r2 hangs on check for GStreamer playbin2 plugin
URL: https://bugs.gentoo.org/show_bug.cgi?id=370487

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 370487
media-video/totem-2.32.0-r2 hangs on check for GStreamer playbin2 plugin
Last modified: 2011-06-11 15:22:40 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 370487 
      - media-video/totem-2.32.0-r2 hangs on check for GStreamer playbin2 plugin


Summary:
media-video/totem-2.32.0-r2 hangs on check for GStreamer playbin2 plugin
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] GNOME

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Linux Gnome Desktop Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2011-06-07 16:55 UTC by Trevor Bowen





      Modified:
    
2011-06-11 15:22 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge --info

              (emerge_info.txt,5.69 KB,
                text/plain)

            
2011-06-07 16:56 UTC,

            Trevor Bowen




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Trevor Bowen





          2011-06-07 16:55:35 UTC
        

In trying to update my system, I have noticed a recent update to totem has been hanging the shell indefinitely, although I can Ctrl+C out of the emerge.

# emerge -uDNpvt1 media-video/totem

These are the packages that would be merged, in reverse order:

Calculating dependencies... done!
[ebuild     U ~] media-video/totem-2.32.0-r2 [2.32.0-r1] USE="bluetooth iplayer lirc nsplugin python upnp youtube -debug -doc -galago -nautilus (-tracker)" 0 kB

# emerge -uDN1 media-video/totem
Calculating dependencies... done!

>>> Verifying ebuild manifests

>>> Emerging (1 of 1) media-video/totem-2.32.0-r2
 * totem-2.32.0.tar.bz2 RMD160 SHA1 SHA256 size ;-) ...                                        [ ok ]
 * totem-2.32.0-patches.tar.bz2 RMD160 SHA1 SHA256 size ;-) ...                                [ ok ]
 * Package:    media-video/totem-2.32.0-r2
 * Repository: gentoo
 * Maintainer: gnome@gentoo.org media-video@gentoo.org,gstreamer@gentoo.org
 * USE:        amd64 bluetooth elibc_glibc iplayer kernel_linux lirc multilib nsplugin python upnp userland_GNU youtube
 * FEATURES:   preserve-libs sandbox
>>> Unpacking source...
>>> Unpacking totem-2.32.0.tar.bz2 to /var/tmp/portage/media-video/totem-2.32.0-r2/work
>>> Unpacking totem-2.32.0-patches.tar.bz2 to /var/tmp/portage/media-video/totem-2.32.0-r2/work
>>> Source unpacked in /var/tmp/portage/media-video/totem-2.32.0-r2/work
>>> Preparing source in /var/tmp/portage/media-video/totem-2.32.0-r2/work/totem-2.32.0 ...
 * Fixing OMF Makefiles ...                                                                    [ ok ]
...
configure: creating ./config.lt
config.lt: creating libtool
checking for x86_64-pc-linux-gnu-pkg-config... /usr/bin/pkg-config
checking pkg-config is at least version 0.9.0... yes
checking for glib-genmarshal... /usr/bin/glib-genmarshal
checking for glib-mkenums... /usr/bin/glib-mkenums
checking whether to enable easy codec installation support... yes
checking for MISSING_PLUGINS... yes
checking for GST... yes
checking GStreamer 0.10 inspection tool... yes
checking GStreamer 0.10 playbin2 plugin... 

And, there it hangs indefinitely.  Checking the running processes, I find:

# ps -ef | grep -i gst
root     12464 10484  0 11:48 pts/2    00:00:00 /usr/bin/gst-inspect-0.10 playbin2
root     12465 12464  2 11:48 pts/2    00:00:02 /usr/libexec/gstreamer-0.10/gst-plugin-scanner -l

Using sudo did not help.  (It hangs for regular user too.)  And, I verified that dbus has a machine id:

# cat /var/lib/dbus/machine-id
12345646550110912d689e1747654321

I re-emerged all my gst plug-ins too:

# emerge -1 `qlist -I gst-plugins -C`

What am I missing?


Reproducible: Always




Comment 1


Trevor Bowen





          2011-06-07 16:56:54 UTC
        

Created attachment 276159 [details]
emerge --info




Comment 2


Pacho Ramos






          2011-06-11 10:00:52 UTC
        

How are you becoming root? Are you running "su" or "su -"? Have you tried to merge it from a console login in as root directly?




Comment 3


Trevor Bowen





          2011-06-11 14:51:19 UTC
        

I tried both (su -, and sudo).  I normally use a root console, but some claimed that sudo made a difference on similar bugs, so I just wanted to rule it out.

The problem actually went away with a recent emerge.  I suspect the fix was in the new dbus release, but here's the emerge bundle that fixed the problem for me:

1307539910:  >>> emerge (1 of 13) net-libs/libpcap-1.1.1 to /
1307539930:  >>> emerge (2 of 13) sys-apps/dbus-1.4.10 to /
1307539978:  >>> emerge (3 of 13) dev-util/boost-build-1.42.0 to /
1307540002:  >>> emerge (4 of 13) sys-fs/udev-168-r2 to /
1307540030:  >>> emerge (5 of 13) net-libs/c-client-2007e-r2 to /
1307540061:  >>> emerge (6 of 13) dev-libs/boost-1.42.0-r2 to /
1307540452:  >>> emerge (7 of 13) net-misc/networkmanager-0.8.4.0-r1 to /
1307540532:  >>> emerge (8 of 13) sys-power/upower-0.9.11-r1 to /
1307540554:  >>> emerge (9 of 13) net-libs/neon-0.29.6 to /
1307540585:  >>> emerge (10 of 13) net-print/hplip-3.11.5 to /
1307540646:  >>> emerge (11 of 13) kde-base/solid-4.6.3 to /
1307540729:  >>> emerge (12 of 13) gnome-base/gvfs-1.6.7 to /
1307540771:  >>> emerge (13 of 13) media-video/totem-2.32.0-r2 to /

udev and gvfs also changed at the same time, and they may have had an influence.

I don't know which of these 12 packages fixed the problem, but at least one of them did fix it for me.

Feel free to close, even though I don't know the exact root cause.

Thanks!  :)




Comment 4


Pacho Ramos






          2011-06-11 15:22:40 UTC
        

Will close for now then, remember that "su -" is preferred over "su" ;)









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

