Title: 178292 – ethernet driver howto
URL: https://bugs.gentoo.org/show_bug.cgi?id=178292

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 178292
ethernet driver howto
Last modified: 2007-05-15 16:15:45 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 178292 
      - ethernet driver howto


Summary:
ethernet driver howto
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

[OLD] Docs on www.gentoo.org




Classification:

Unclassified




Component:

Installation Handbook

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       enhancement
    (vote)
  



Assignee:

Docs Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-05-13 08:23 UTC by Richard Lynch





      Modified:
    
2007-05-15 16:15 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Richard Lynch





          2007-05-13 08:23:17 UTC
        

If section 2.20 ofthis page:
http://www.gentoo.org/doc/en/gentoo-x86-quickinstall.xml

had told me explicitly to do this:
udevinfo -a -p /sys/class/net/eth0 | grep DRIVER

and to then copy the working DRIVER of my eth0 card into:
/etc/modules.autoload.d/kernel-2.6

rather than just using the example of r8169, it would have saved me a fair amount of grief...

For that matter, really, can't you guys just slap it in there for me, once you know it's working and the install is using the 'net to get stuff to install in the first place? :-)

Other than that, the min install worked fine on my ancient hardware, where the Live CD kinda puked on copying stuff to tmpfs with only 128M ram -- a bug I reported earlier today. Well, yesterday, technically...

YOU ROCK!




Comment 1


Richard Lynch





          2007-05-13 09:23:01 UTC
        

Actually...

It looks like in 2.19, one needs to find out what driver is being used, and add that driver in the "make menuconfig" step...

So I guess put the udevinfo ... | grep up there instead.

Or maybe it depends on whether the driver is (or can be?) builtin to the kernel or loaded as a module later?

Or maybe one needs to do both -- use make menuconfig to compile the sucker, and edit the modules.autoload.d bit to load it in?

I don't really know for sure what works in all situations -- Only that this is where I personally could have used a bit more detail :-)

I seem to have gotten it working on my existing installatin by:
  re-doing the "make menuconfig", adding in my driver
  re-doing the "make modules_install" bit (maybe not needed?)
  copying my re-made kernel into /boot/kernel
  leaving the driver in the modules.autoload.d file

Oh, and somewhere somebody said I should have:
eth0 DRIVERNAMEHERE
in my /etc/modules.conf so I did that, but that may not actually be right for Gentoo...  I think that was another distros "HOWTO" I was reading in desperation. :-)

I hope you gurus can take this bug report and add a few lines to the docs to help out other folks -- and, if not, maybe anybody else as naive as I can find this report and stumble through it like I did. :-)

Gentoo Rocks!





Comment 2


nm (RETIRED)






          2007-05-14 21:25:26 UTC
        

We can't guess which interface you're using though, and that command is interface-specific (eth0). If you read the kernel help available for each network driver option, you'll notice that it tells you the name of the module.

As said earlier in the quick install guide regarding the drivername, "(The following is an example, adapt it to your hardware)" -- you should change it to suit your needs, not copy verbatim the guide.




Comment 3


Richard Lynch





          2007-05-15 16:15:45 UTC
        

(In reply to comment #2)
> We can't guess which interface you're using though, and that command is
> interface-specific (eth0). If you read the kernel help available for each
> network driver option, you'll notice that it tells you the name of the module.

Hmmmm.

Well, you guessed well enough to set up the network so I could download the kernel and portage...

> As said earlier in the quick install guide regarding the drivername, "(The
> following is an example, adapt it to your hardware)" -- you should change it to
> suit your needs, not copy verbatim the guide.
> 

Well, yes, but with a couple extra lines of docs, it could be explicitly stated HOW to do that.

I sure had no clue, and just prayed that since the network worked in the install, it would work post-install.

No such luck.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

