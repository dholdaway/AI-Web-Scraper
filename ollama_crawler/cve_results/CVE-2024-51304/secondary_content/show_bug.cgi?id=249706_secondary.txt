Title: 249706 – net-irc/quassel-0.3.1-r2 USE=-X should not depend on x11-libs/qt-gui
URL: https://bugs.gentoo.org/show_bug.cgi?id=249706

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 249706
net-irc/quassel-0.3.1-r2 USE=-X should not depend on x11-libs/qt-gui
Last modified: 2008-12-03 22:50:05 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 249706 
      - net-irc/quassel-0.3.1-r2 USE=-X should not depend on x11-libs/qt-gui


Summary:
net-irc/quassel-0.3.1-r2 USE=-X should not depend on x11-libs/qt-gui
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Patrick Lauer








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-12-03 14:26 UTC by Lori





      Modified:
    
2008-12-03 22:50 UTC
      (History)
    




          CC List:
        

3 
          users
          
            (show)
          



billie
gentoo-bugs
net-irc









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Lori





          2008-12-03 14:26:44 UTC
        

Since the whole idea of Quassel is to separate the server and client component, running the server on a machine which is always online and connecting to it with a client from whichever machine I want, it would be nice to be able to install Quassel Core to a server machine without X and Qt4 libraries to run as a service. I have tried USE="-X -dbus", but Qt4 is still a dependency.

Reproducible: Always

Steps to Reproduce:
USE="-X -dbus" emerge -av quassel
Actual Results:  
# USE="-X -dbus" emerge -av quassel

These are the packages that would be merged, in order:

Calculating dependencies |
!!! All ebuilds that could satisfy "x11-libs/qt-core:4" have been masked.
!!! One of the following masked packages is required to complete your request:
- x11-libs/qt-core-4.4.2 (masked by: ~x86 keyword)
- x11-libs/qt-core-4.4.1-r1 (masked by: ~x86 keyword)
- x11-libs/qt-core-4.4.1 (masked by: ~x86 keyword)
- x11-libs/qt-core-4.4.0 (masked by: package.mask, ~x86 keyword)

Expected Results:  
No Qt4 dependency.




Comment 1


Allen Brooker (AllenJB)





          2008-12-03 15:25:33 UTC
        

This is invalid. qt-core is a non-graphical (portion of the) library. Qt4 has been split up to allow its use for server applications as well as graphical applications.




Comment 2


Lori





          2008-12-03 15:37:28 UTC
        

So Quassel Core actually needs qt-core?




Comment 3


Allen Brooker (AllenJB)





          2008-12-03 15:38:19 UTC
        

Yes.




Comment 4


Lori





          2008-12-03 15:46:11 UTC
        

Ok, so I added qt-core to package.keywords. But now qt-gui is pulled in too:

# USE="-X -dbus" emerge -av quassel

These are the packages that would be merged, in order:

Calculating dependencies \
!!! All ebuilds that could satisfy "~x11-libs/qt-gui-4.4.2" have been masked.
!!! One of the following masked packages is required to complete your request:
- x11-libs/qt-gui-4.4.2 (masked by: ~x86 keyword)

For more information, see MASKED PACKAGES section in the emerge man page or
refer to the Gentoo Handbook.
(dependency required by "x11-libs/qt-core-4.4.2" [ebuild])




Comment 5


Allen Brooker (AllenJB)





          2008-12-03 18:05:52 UTC
        

Disable the qt3support USE flag on qt-core.




Comment 6


Daniel Pielmeier






          2008-12-03 19:37:24 UTC
        

(In reply to comment #5)
> Disable the qt3support USE flag on qt-core.
> 

Yeah x11-libs/qt-gui is pulled in if qt3support USE flag is activated for qt-core.

Only qt-core, qt-sql and qt-script should be needed for server usage.




Comment 7


Lori





          2008-12-03 22:50:05 UTC
        

Ok, I disabled qt3support, and the three qt libraries that Daniel mentioned were pulled in, but nothing GUI or X related, so I have the quassel server now installed. Thanks for your help!









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

