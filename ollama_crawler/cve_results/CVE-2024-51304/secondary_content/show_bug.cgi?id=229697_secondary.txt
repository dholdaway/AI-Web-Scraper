Title: 229697 – x11-misc/slim-1.3.0-r1 won't work properly with sys-apps/openrc-0.2.5
URL: https://bugs.gentoo.org/show_bug.cgi?id=229697

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 229697
x11-misc/slim-1.3.0-r1 won't work properly with sys-apps/openrc-0.2.5
Last modified: 2008-09-23 03:29:02 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 229697 
      - x11-misc/slim-1.3.0-r1 won't work properly with sys-apps/openrc-0.2.5


Summary:
x11-misc/slim-1.3.0-r1 won't work properly with sys-apps/openrc-0.2.5
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Jeremy Olexa (darkside) (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-06-27 09:18 UTC by Pascal Dürsteler





      Modified:
    
2008-09-23 03:29 UTC
      (History)
    




          CC List:
        

4 
          users
          
            (show)
          



coldwind
desktop-misc
nightmorph
x11









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




slim.conf

              (slim.conf,2.47 KB,
                text/plain)

            
2008-06-30 10:57 UTC,

            Pascal Dürsteler




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Pascal Dürsteler





          2008-06-27 09:18:04 UTC
        

x11/slim-1.3.0-r1 won't log me in because of a session error

Reproducible: Always

Steps to Reproduce:
1. use openrc-0.2.5
2. etc-update of rc.conf
3. start slim over xdm
4. try to log in
Actual Results:  
slim comlains about unavailable sessions

Expected Results:  
slim should log me in

It happened after updating rc.conf. I noticed that XSESSION var was missing since update and added it again. Slim needs this var to know which session to use, in my case it was XSESSION="Xfce4".




Comment 1


Santiago M. Mola (RETIRED)






          2008-06-27 13:46:13 UTC
        

AFAIK, XSESSION has nothing to do with slim.

When I used slim, I defined in /etc/slim.conf:
login_cmd           exec /bin/bash -login ~/.xinitrc %session
sessions            fluxbox,blackbox,e17

Then my ~/.xinitrc contained something like:
case "$1" in
        fluxbox)
                exec fluxbox
                ;;
        blackbox)
                exec blackbox
                ;;
        e17)
                exec e
                ;;
esac


How are you handling your login with slim?

@x11: maybe the lack of XSESSION concerns you with xinit or others?




Comment 2


Donnie Berkholz (RETIRED)






          2008-06-27 16:59:03 UTC
        

XSESSION gets used when running startx/xinit. If slim runs one of those behind the scenes, it could be influenced.




Comment 3


Santiago M. Mola (RETIRED)






          2008-06-27 17:24:02 UTC
        

XSESSION is now defined in /etc/env.d/90xsession. Users can override it in ~/.xinitrc as usual.

This is documented in the openrc migration guide [1] which is mentioned in openrc's pkg_postinst.

[1] http://www.gentoo.org/doc/en/openrc-migration.xml




Comment 4


Pascal Dürsteler





          2008-06-27 21:10:12 UTC
        

(In reply to comment #3)
> XSESSION is now defined in /etc/env.d/90xsession. Users can override it in
> ~/.xinitrc as usual.
> 
> This is documented in the openrc migration guide [1] which is mentioned in
> openrc's pkg_postinst.
> 
> [1] http://www.gentoo.org/doc/en/openrc-migration.xml

Right, but setting XSESSION in /etc/env.d/90xsession also triggered "Cannot execute login command" in slim.






Comment 5


Santiago M. Mola (RETIRED)






          2008-06-27 22:15:36 UTC
        

Pascal, could you attach /etc/slim.conf and ~/.xinitrc here?




Comment 6


Pascal Dürsteler





          2008-06-30 10:57:51 UTC
        

Created attachment 158947 [details]
slim.conf




Comment 7


Pascal Dürsteler





          2008-06-30 11:03:26 UTC
        

yup, here it is. Used ~/.xinitrc only for compiz-fusion but haven't it installed at the moment thus it doesn't exists.

Using still XSESSION var 




Comment 8


Jeremy Olexa (darkside) (RETIRED)








          2008-09-23 03:28:50 UTC
        

(In reply to comment #7)
> yup, here it is. Used ~/.xinitrc only for compiz-fusion but haven't it
> installed at the moment thus it doesn't exists.
> 
> Using still XSESSION var 
> 

So, you set Xsession in /etc/env.d/90xsession like the docs described and the problem went away?

Anyway, I just switched to openrc myself and had no problems..so, I'm going to resolve this one because I don't know what is wrong.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

