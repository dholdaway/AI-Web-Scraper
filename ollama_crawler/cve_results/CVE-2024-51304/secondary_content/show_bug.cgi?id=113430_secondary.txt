Title: 113430 – emerge of media-libs/gst-plugins-0.8.10 fails
URL: https://bugs.gentoo.org/show_bug.cgi?id=113430

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 113430
emerge of media-libs/gst-plugins-0.8.10 fails
Last modified: 2005-12-09 20:41:16 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 113430 
      - emerge of media-libs/gst-plugins-0.8.10 fails


Summary:
emerge of media-libs/gst-plugins-0.8.10 fails
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

GStreamer package maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-11-23 23:05 UTC by Nigel Drego





      Modified:
    
2005-12-09 20:41 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Nigel Drego





          2005-11-23 23:05:40 UTC
        

I'm trying to emerge media-libs/gst-plugins-0.8.10 (KDE dependency) but the
build fails near the end with the following message:
echo "{ global:" > .libs/libgstximagesink.ver
 cat .libs/libgstximagesink.exp | sed -e "s/\(.*\)/\1;/" >>
.libs/libgstximagesink.ver
 echo "local: *; };" >> .libs/libgstximagesink.ver
 i686-pc-linux-gnu-gcc -shared  .libs/libgstximagesink_la-gstximageplugin.o
.libs/libgstximagesink_la-ximagesrc.o .libs/libgstximagesink_la-ximagesink.o 
-L/usr/lib -lgstreamer-0.8 -lgobject-2.0 -lgmodule-2.0 -ldl -lgthread-2.0 -lxml2
-lz -lm -lglib-2.0 -lSM -lICE -lX11 -lXext -lgstinterfaces-0.8
-L/usr/lib/gcc-lib/i686-pc-linux-gnu/3.3.6/../../../  -march=pentium4
-Wl,--export-dynamic -pthread -Wl,-soname -Wl,libgstximagesink.so
-Wl,-version-script -Wl,.libs/libgstximagesink.ver -o .libs/libgstximagesink.so
/usr/lib/gcc-lib/i686-pc-linux-gnu/3.3.6/../../../../i686-pc-linux-gnu/bin/ld:
cannot find -lgstinterfaces-0.8
collect2: ld returned 1 exit status
libtool: install: error: relink `libgstximagesink.la' with the above command
before installing it
make[3]: *** [install-pluginLTLIBRARIES] Error 1
make[3]: Leaving directory
`/var/tmp/portage/gst-plugins-0.8.10/work/gst-plugins-0.8.10/sys/ximage'
make[2]: *** [install-am] Error 2
make[2]: Leaving directory
`/var/tmp/portage/gst-plugins-0.8.10/work/gst-plugins-0.8.10/sys/ximage'
make[1]: *** [install-recursive] Error 1
make[1]: Leaving directory
`/var/tmp/portage/gst-plugins-0.8.10/work/gst-plugins-0.8.10/sys'
make: *** [install-recursive] Error 1

!!! ERROR: media-libs/gst-plugins-0.8.10 failed.
!!! Function einstall, Line 524, Exitcode 2
!!! einstall failed
!!! If you need support, post the topmost build error, NOT this status message.

I have searched through bugzilla and can't find a matching bug but did see the
prelinking issues so the contents of my /etc/env.d/60prelink is:

PRELINK_PATH_MASK=/usr/lib/gstreamer-0.8
PRELINK_PATH=""


Reproducible: Always
Steps to Reproduce:
1.emerge media-libs/gst-plugins
2.
3.

Actual Results:  
Build failed

Expected Results:  
Build succeeds...

Portage 2.0.51.22-r3 (default-linux/x86/2005.1, gcc-3.3.6, glibc-2.3.5-r2,
2.6.14-gentoo-r2 i686)
=================================================================
System uname: 2.6.14-gentoo-r2 i686 Intel(R) Pentium(R) 4 CPU 2.40GHz
Gentoo Base System version 1.6.13
dev-lang/python:     2.3.5, 2.4.2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.15.92.0.2-r10
sys-devel/libtool:   1.5.20
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium4"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=pentium4"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://gentoo.osuosl.org/
http://distro.ibiblio.org/pub/linux/distributions/gentoo/
http://gentoo.seren.com/gentoo http://gentoo.chem.wisc.edu/gentoo/"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.us.gentoo.org/gentoo-portage"
USE="x86 X alsa apm arts audiofile avi berkdb bitmap-fonts bzip2 cdr crypt cups
curl dvd eds emboss encode expat fam foomaticdb fortran gdbm gif gpm gstreamer
gtk gtk2 idn imlib ipv6 jpeg kde lcms libg++ libwww mad mikmod mng motif mozilla
mp3 mpeg ncurses nls nvidia ogg oggvorbis opengl oss pam pcre pdflib perl png
python qt quicktime readline sdl spell ssl tcpd tiff truetype truetype-fonts
type1-fonts udev vorbis xml2 xmms xv zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTDIR_OVERLAY




Comment 1


Zaheer Abbas Merali (RETIRED)






          2005-11-27 06:08:22 UTC
        

does this happen with gst-plugins 0.8.11?




Comment 2


Nigel Drego





          2005-11-27 08:42:34 UTC
        

Yes, the same thing occurs even with 0.8.11:

echo "{ global:" > .libs/libgstximagesink.ver
 cat .libs/libgstximagesink.exp | sed -e "s/\(.*\)/\1;/" >>
.libs/libgstximagesink.ver
 echo "local: *; };" >> .libs/libgstximagesink.ver
 i686-pc-linux-gnu-gcc -shared  .libs/libgstximagesink_la-gstximageplugin.o
.libs/libgstximagesink_la-ximagesrc.o .libs/libgstximagesink_la-ximagesink.o
.libs/libgstximagesink_la-ximageutil.o  -L/usr/lib -lgstreamer-0.8 -lgobject-2.0
-lgmodule-2.0 -ldl -lgthread-2.0 -lxml2 -lz -lm -lglib-2.0 -lSM -lICE -lXext
-lXdamage -lXfixes -lX11 -lgstinterfaces-0.8
-L/usr/lib/gcc-lib/i686-pc-linux-gnu/3.3.6/../../../  -march=pentium4
-Wl,--export-dynamic -pthread -Wl,-soname -Wl,libgstximagesink.so
-Wl,-version-script -Wl,.libs/libgstximagesink.ver -o .libs/libgstximagesink.so
/usr/lib/gcc-lib/i686-pc-linux-gnu/3.3.6/../../../../i686-pc-linux-gnu/bin/ld:
cannot find -lgstinterfaces-0.8
collect2: ld returned 1 exit status
libtool: install: error: relink `libgstximagesink.la' with the above command
before installing it
make[3]: *** [install-pluginLTLIBRARIES] Error 1
make[3]: Leaving directory
`/var/tmp/portage/gst-plugins-0.8.11/work/gst-plugins-0.8.11/sys/ximage'
make[2]: *** [install-am] Error 2
make[2]: Leaving directory
`/var/tmp/portage/gst-plugins-0.8.11/work/gst-plugins-0.8.11/sys/ximage'
make[1]: *** [install-recursive] Error 1
make[1]: Leaving directory
`/var/tmp/portage/gst-plugins-0.8.11/work/gst-plugins-0.8.11/sys'
make: *** [install-recursive] Error 1

!!! ERROR: media-libs/gst-plugins-0.8.11 failed.
!!! Function einstall, Line 524, Exitcode 2
!!! einstall failed
!!! If you need support, post the topmost build error, NOT this status message.




Comment 3


Nigel Drego





          2005-12-09 20:41:16 UTC
        

This seems to have solved itself after switching to a newer version of gcc...









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

