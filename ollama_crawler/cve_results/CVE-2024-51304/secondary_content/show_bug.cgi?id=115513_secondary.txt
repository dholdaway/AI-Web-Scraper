Title: 115513 – media-gfx/imagemagick 6.2.5.4 insecure RUNPATHs
URL: https://bugs.gentoo.org/show_bug.cgi?id=115513

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 115513
media-gfx/imagemagick 6.2.5.4 insecure RUNPATHs
Last modified: 2006-11-18 08:06:58 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 115513 
      - media-gfx/imagemagick 6.2.5.4 insecure RUNPATHs


Summary:
media-gfx/imagemagick 6.2.5.4 insecure RUNPATHs
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Security




Classification:

Unclassified




Component:

Runpath Issues

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Karol Wojtaszek (RETIRED)








URL:







Whiteboard:




Keywords:









Duplicates (1):
    

120512

      (view as bug list)
    


Depends on:







Blocks:




81745



 

        Show dependency tree





 





      Reported:
    
2005-12-14 03:05 UTC by Heiko Gerstung





      Modified:
    
2006-11-18 08:06 UTC
      (History)
    




          CC List:
        

5 
          users
          
            (show)
          



blaster999
Dessa
graphics+disabled
guido
perl









See Also:






Package list:







Runtime testing required:

---








Flags:

dhp_gentoo:
      Approved+



















      Attachments
    




2807-imagemagick-6.2.5.4.log

              (2807-imagemagick-6.2.5.4.log,256.26 KB,
                text/plain)

            
2005-12-16 11:56 UTC,

            SpanKY




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Heiko Gerstung





          2005-12-14 03:05:51 UTC
        

Emerging imagemagic-6.2.5.4 failed, insecure binaries were detected.

Reproducible: Always
Steps to Reproduce:
1. emerge imagemagick

Actual Results:  
After compiling and stripping, directly before merging the files into /, it
fails with this message:

QA Notice: the following files contain insecure RUNPATH's
 Please file a bug about this at http://bugs.gentoo.org/
 For more information on this issue, kindly review:
 http://bugs.gentoo.org/81745
/var/tmp/portage/imagemagick-6.2.5.4/work/ImageMagick-6.2.5/PerlMagick/../magick/.libs:/usr/lib
usr/lib/perl5/vendor_perl/5.8.7/i686-linux/auto/Image/Magick/Magick.so


!!! ERROR: media-gfx/imagemagick-6.2.5.4 failed.
!!! Function dyn_install, Line 1057, Exitcode 0
!!! Insecure binaries detected
!!! If you need support, post the topmost build error, NOT this status message.


Expected Results:  
emerge should have installed imagemagick successfully.




Comment 1


Thierry Carrez (RETIRED)






          2005-12-14 10:00:06 UTC
        

Looks very much like bug 105717. Something got lost along the way it seems.




Comment 2


Heiko Gerstung





          2005-12-14 12:42:00 UTC
        

Yep, in the meantime I already tried to re-emerge perl (read that somewhere) and
afterwards imagemagick. That did not help. Also no success with trying to emerge
an older version of imagemagick (6.2.4.2-r1), same error.

Regards,
Heiko




Comment 3


Thierry Carrez (RETIRED)






          2005-12-15 04:26:17 UTC
        

Graphics team, can you reproduce ?




Comment 4


DEMAINE Benoît-Pierre, aka DoubleHP





          2005-12-15 15:43:11 UTC
        

This bug is blocking 
emerge gkrellm-plugins
at least for me (emerge info see below )




Comment 5


DEMAINE Benoît-Pierre, aka DoubleHP





          2005-12-15 16:08:45 UTC
        

I got exactly the same error, same versions of Perl and IM ebuild.

$ emerge --info

Portage 2.0.53 (default-linux/x86/2005.1, gcc-3.3.6, glibc-2.3.5-r3,
2.6.14-gentoo-Gentoo-moon_02 i686)
=================================================================
System uname: 2.6.14-gentoo-Gentoo-moon_02 i686 Pentium III (Coppermine)
Gentoo Base System version 1.12.0_pre11
dev-lang/python:     2.3.5, 2.4.2
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1-r1
sys-devel/libtool:   1.5.20-r1
virtual/os-headers:  2.6.11-r3
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium3 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env
/usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3.5/env
/usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=pentium3 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org
http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LANG="en_GB"
LC_ALL="en_GB"
MAKEOPTS="-j2"
PKGDIR="/tmp"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="x86 X aac aalib acpi alsa amuled apic apm arts audiofile avi
bash-completion berkdb bitmap-fonts bmp bootsplash browserplugin bzip2
cdparanoia cdr cmov cpudetection crypt cups cx8 de dga directfb doc dv dvb dvd
dvdread dynamic eds emboss encode esd examples exif expat fam fbcon foomaticdb
fortran fpu fxsr gdbm gif glut gnome gpm gs gstreamer gtk gtk2 hal i8x0 idn
imlib ipv6 jack java jpeg kde lcms libcaca libg++ libwww lirc live livecd mad
matrox mca mce mikmod mmx mmxext mng motif mozcalendar mozilla mp3 mpeg msr mtrr
ncurses nls nsplugin nvidia ogg oggvorbis opengl oss pae pam pat pcre pdflib
perl pge png pse pse36 python qt quicktime readline rtc samba sdl sensord sep
sndfile spell sse ssl svg svga swat symlink tcpd tga theora tiff truetype
truetype-fonts tsc type1-fonts udev unicode usb v4l v4l2 vim vme vorbis
win32codecs wmf xanim xinerama xml2 xmms xv xvid xvmc zlib userland_GNU
kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LDFLAGS, LINGUAS


for me, the bug is sourced from:
# emerge -vpN  gkrellm-plugins
>>> --newuse implies --update... adding --update to options.

These are the packages that I would merge, in order:

Calculating dependencies ...done!
[ebuild  N    ] media-gfx/imagemagick-6.2.5.4  +X +bzip2 +doc -fpx -graphviz +gs
-jbig +jpeg +lcms +mpeg -nocxx +perl
+png +tiff +truetype +wmf +xml2 +zlib 0 kB
[ebuild  N    ] x11-plugins/gkrellshoot-0.4.3  0 kB
[ebuild  N    ] x11-plugins/gkrellm-volume-2.1.13  +alsa 0 kB
[ebuild  N    ] x11-plugins/gkrellm-bfm-0.5.1  0 kB
[ebuild  N    ] x11-plugins/gkrellmwireless-2.0.3  0 kB
[ebuild  N    ] x11-plugins/gkrellm-console-0.1.2  0 kB
[ebuild  N    ] x11-plugins/gkrellmitime-1.0.1  0 kB
[ebuild  N    ] x11-plugins/gkrellm-gnome-0.1  0 kB
[ebuild  N    ] x11-plugins/gkrellm-plugins-1.2.11-r1  +gnome 0 kB

Total size of downloads: 0 kB


emerge log on http://doublehp.free.fr/2807-imagemagick-6.2.5.4.log




Comment 6


SpanKY






          2005-12-16 11:56:55 UTC
        

Created attachment 74890 [details]
2807-imagemagick-6.2.5.4.log

dont post external links, they're useless




Comment 7


SpanKY






          2005-12-16 12:19:04 UTC
        

this is an issue with the perl packages, not imagemagick

you dont still have perl-core/ExtUtils-MakeMaker installed do you ?




Comment 8


Michael Cummings (RETIRED)






          2005-12-16 12:57:43 UTC
        

well ain't this just nice - graphics takes the package away from us, but doesn't fix the friggin bug when it comes back. figures. and yes, i'm a bit testy about this because we warned them this type of situation would come up. i'll see what i can do, and if you apply pressure i might make it a priority of some sort, but right now, this is not on my list of omg, must be fixed.




Comment 9


Michael Cummings (RETIRED)






          2005-12-16 12:58:34 UTC
        

/me takes a relaxing chill pill and apologies to all recipients of this bug




Comment 10


SpanKY






          2005-12-16 13:04:44 UTC
        

the PerlMagick subdir utilizes external perl code though to do the compiling

or at least, thats what it looks like to me, i dont know much about perl to be sure




Comment 11


Michael Cummings (RETIRED)






          2005-12-16 13:30:10 UTC
        

I'm both confused, embarrassed, and a tad disturbed here. The bug I was thinking of (that has gone back and forth between the teams) has to do with i686-linux/auto/Image/Magick/Magick.so linking against /var/tmp/portage/<builddir><imagepath-to-so's> - I just did a 'virgin' emerge of imagemagick and got neither the error i expected (a badly build Magick.so under perl) nor the above mentioned violation. Going to upgrade perl on this box to see if this is a problem specific to 5.8.7 of perl.

And again - sorry for the flare up before.




Comment 12


SpanKY






          2005-12-16 13:32:13 UTC
        

right, it works just peachy for me too, but i dont know what packages need to be
reviewed as to what could be causing it

dev-lang/perl-5.8.7-r3 over here btw




Comment 13


Rumen Yotov





          2005-12-26 01:39:37 UTC
        

Hi,
Have this same problem (Bug), nether of imagemagick-6.2.4.2 nor 6.2.5.4 compiles.
Recently moved to all ~x86 so using Perl-5.8.7.
Tried without 'perl' USE flag - same problem.
Actually it gives no direct error, just hangs while stripping/linking IMO.
part of the logs:
...
/bin/install -c -m 644 'wand/pixel-iterator.h' '/var/tmp/portage/imagemagick-6.2.5.4/image//usr/include/wand/pixel-iterator.h'
 /bin/install -c -m 644 'wand/pixel-wand.h' '/var/tmp/portage/imagemagick-6.2.5.4/image//usr/include/wand/pixel-wand.h'
make[1]: Leaving directory `/var/tmp/portage/imagemagick-6.2.5.4/work/ImageMagick-6.2.5'
man:
gzipping man page: mogrify.1
gzipping man page: display.1
gzipping man page: montage.1
gzipping man page: Magick++-config.1
gzipping man page: Magick-config.1
gzipping man page: composite.1
gzipping man page: compare.1
gzipping man page: conjure.1
gzipping man page: convert.1
gzipping man page: ImageMagick.1
gzipping man page: identify.1
gzipping man page: Wand-config.1
gzipping man page: import.1
gzipping man page: animate.1
prepallstrip:
strip: i686-pc-linux-gnu-strip --strip-unneeded
   /usr/bin/compare
   /usr/bin/conjure
   /usr/bin/convert
   /usr/bin/display
   /usr/bin/composite
   /usr/bin/identify
   /usr/bin/mogrify
   /usr/bin/montage
   /usr/bin/import
   /usr/bin/animate
   /usr/lib/libMagick++.so.9.0.4
   /usr/lib/ImageMagick-6.2.5/modules-Q16/filters/analyze.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/x.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/cmyk.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/jpeg.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/stegano.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/ps.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/xc.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/plasma.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/histogram.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/meta.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/miff.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/fits.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/tiff.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/art.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/tile.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/avi.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/avs.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/bmp.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/cin.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/cip.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/dcm.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/dib.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/cut.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/pattern.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/dot.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/dps.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/dpx.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/fax.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/ept.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/preview.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/mono.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/mpeg.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/gif.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/matte.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/jp2.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/magick.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/map.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/mat.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/mpc.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/mpr.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/msl.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/mtv.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/mvg.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/pcd.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/pcl.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/pdb.so
   /usr/lib/Im   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/pcx.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/otb.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/pix.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/png.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/ps2.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/ps3.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/pnm.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/psd.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/pwp.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/raw.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/rgb.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/gray.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/rla.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/rle.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/label.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/scr.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/sct.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/sgi.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/sfw.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/tga.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/tim.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/sun.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/svg.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/ttf.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/uil.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/txt.so
ageMagick-6.2.5/modules-Q16/coders/pdf.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/url.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/vid.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/null.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/wmf.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/xbm.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/xcf.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/viff.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/wpg.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/xpm.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/xwd.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/palm.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/yuv.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/icon.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/wbmp.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/ycbcr.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/uyvy.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/caption.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/gradient.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/html.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/pict.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/info.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/vicar.so
   /usr/lib/ImageMagick-6.2.5/modules-Q16/coders/clip.so
   /usr/lib/libWand.so.9.0.4
   /usr/lib/libMagick.so.9.0.4
...
Then just hangs here.
Thanks.Rumen




Comment 14


Rumen Yotov





          2005-12-27 07:16:43 UTC
        

Hi,
Finally it's fixed (and WorksForMe).
Just changed "MAKEOPTS="-j1" in /etc/make.conf., maybe some concurrent accesses.
Version 6.2.5.4, perl-5.8.7-r3.
Thanks.Rumen




Comment 15


Thierry Carrez (RETIRED)






          2006-01-15 10:23:18 UTC
        

works for me..




Comment 16


Ralf Holzer





          2006-01-17 18:00:12 UTC
        

This problem still exists with ImageMagick 6.2.5.5:

QA Notice: the following files contain insecure RUNPATH's
 Please file a bug about this at http://bugs.gentoo.org/
 For more information on this issue, kindly review:
 http://bugs.gentoo.org/81745
/data/var/tmp/portage/imagemagick-6.2.5.5/work/ImageMagick-6.2.5/PerlMagick/../magick/.libs:/usr/lib usr/lib/perl5/vendor_perl/5.8.7/i686-linux/auto/Image/Magick/Magick.so



localhost ~ # emerge --info
Portage 2.1_pre3-r1 (default-linux/x86/2005.1, gcc-3.4.5, glibc-2.3.6-r2, 2.6.15-gentoo i686)
=================================================================
System uname: 2.6.15-gentoo i686 Intel(R) Pentium(R) M processor 1.60GHz
Gentoo Base System version 1.12.0_pre14
dev-lang/python:     2.3.5-r2, 2.4.2
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1-r1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r3
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=i686 -O3 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -mcpu=i686 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="ftp://ftp.ucsb.edu/pub/mirrors/linux/gentoo/ http://ftp.ucsb.edu/pub/mirrors/linux/gentoo/"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.namerica.gentoo.org/gentoo-portage"
USE="x86 X a52 aac alsa apm arts asf audiofile avi berkdb bitmap-fonts bzip2 cdr crypt cups curl dvd eds emboss encode ethereal exif expat fam ffmpeg foomaticdb fortran gdbm gif gmp gpm gstreamer gtk2 idn imagemagick imlib ipv6 jpeg kde lcms libg++ libwww mad mikmod mmx mng motif mp3 mpeg ncurses nls ogg oggvorbis opengl oss pam pcre pdflib perl png python qt quicktime readline sdl speex spell sqlite sse ssl tcpd theora tiff truetype truetype-fonts type1-fonts udev usb vcd vorbis win32codecs xml2 xmms xv xvid xvmc zlib elibc_glibc kernel_linux userland_GNU"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS





Comment 17


Karol Wojtaszek (RETIRED)






          2006-01-26 14:35:21 UTC
        

Could you try with 6.2.6.0. Now upstream tried to fix this problem, so you should compile it.




Comment 18


Jakub Moc (RETIRED)






          2006-01-27 00:46:51 UTC
        

*** Bug 120512 has been marked as a duplicate of this bug. ***




Comment 19


Robert Förster





          2006-02-11 16:04:21 UTC
        

tried it, same problem with imagemagick-6.2.6.0

Portage 2.0.54 (default-linux/amd64/2005.1, gcc-3.4.4-hardened, glibc-2.3.5-r2, 2.6.15-ck2-drunken x86_64)
=================================================================
System uname: 2.6.15-ck2-drunken x86_64 AMD Athlon(tm) 64 Processor 3000+
Gentoo Base System version 1.6.14
dev-lang/python:     2.4.2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config /usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/ /var/bind /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/gentoo-syscp-overlay/experimental /usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="amd64 apache2 berkdb bitmap-fonts bzip2 chroot crypt curl doc eds emboss encode expat foomaticdb fortran gd gif gmp gnome gpm gstreamer gtk gtk2 imap imlib innodb ipv6 jpeg libwww lzw lzw-tiff maildir memlimit mp3 mpeg mysql ncurses nls nptl nptlonly pam pcre pdflib perl php png python readline sasl sdl session spell ssl tcpd tetex threads tiff truetype truetype-fonts type1-fonts udev userlocales vda xml xml2 xv zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS




Comment 20


solar (RETIRED)






          2006-03-05 08:02:45 UTC
        

The next ~arch portage revision will auto repair evil rpaths and not bail. 
Maintainers should still fix the packages they maintain as portage will only die
with FEATURES=stricter (but that is a maintainer & QA problem) no longer security@

http://bugs.gentoo.org/show_bug.cgi?id=124962




Comment 21


Donald Giuliano





          2006-03-23 15:34:24 UTC
        

Regarding the following...

QA Notice: the following files contain insecure RUNPATH's
 Please file a bug about this at http://bugs.gentoo.org/
 For more information on this issue, kindly review:
 http://bugs.gentoo.org/81745
/var/tmp/portage/imagemagick-6.2.5.4/work/ImageMagick-6.2.5/PerlMagick/../magick/.libs:/usr/lib
usr/lib/perl5/vendor_perl/5.8.7/i686-linux/auto/Image/Magick/Magick.so


!!! ERROR: media-gfx/imagemagick-6.2.5.4 failed.
!!! Function dyn_install, Line 1057, Exitcode 0
!!! Insecure binaries detected
!!! If you need support, post the topmost build error, NOT this status message.

I was able to resolve this problem by re-emerging imagemagick with USE="-perl".  However, not wanting to be denied the perl functionality, I re-emerged media-libs/lcms, and then imagemagick.  I had noticed it was in the dependency tree for imagemagick, recalled that I had to recompile it as part of the the gcc 3.3.x -> 3.4.x update, decided to recompile it again (no version change), and suddenly imagemagick was able to install correctly without USE="-perl".  So I don't really know what fixed it, but thought my experience could prove to be of some help.




Comment 22


Josiah Barber





          2006-03-24 12:10:13 UTC
        

Trippy.  That worked for me, too.  I did:
emerge -av lcms # Re-emerged this
USE="-perl" emerge -av imagemagick # This worked!
emerge -av imagemagick # And then this did, too!

So I have no idea what of that is necessary or not, but all together it worked.

Hopefully this will help someone solve the problem.

Thanks, Donald, it's great to have imagemagick again.

(In reply to comment #21)
> Regarding the following...
> 
> QA Notice: the following files contain insecure RUNPATH's
>  Please file a bug about this at http://bugs.gentoo.org/
>  For more information on this issue, kindly review:
>  http://bugs.gentoo.org/81745
> /var/tmp/portage/imagemagick-6.2.5.4/work/ImageMagick-6.2.5/PerlMagick/../magick/.libs:/usr/lib
> usr/lib/perl5/vendor_perl/5.8.7/i686-linux/auto/Image/Magick/Magick.so
> 
> 
> !!! ERROR: media-gfx/imagemagick-6.2.5.4 failed.
> !!! Function dyn_install, Line 1057, Exitcode 0
> !!! Insecure binaries detected
> !!! If you need support, post the topmost build error, NOT this status message.
> 
> I was able to resolve this problem by re-emerging imagemagick with USE="-perl".
>  However, not wanting to be denied the perl functionality, I re-emerged
> media-libs/lcms, and then imagemagick.  I had noticed it was in the dependency
> tree for imagemagick, recalled that I had to recompile it as part of the the
> gcc 3.3.x -> 3.4.x update, decided to recompile it again (no version change),
> and suddenly imagemagick was able to install correctly without USE="-perl".  So
> I don't really know what fixed it, but thought my experience could prove to be
> of some help.
> 




Comment 23


Jakub Moc (RETIRED)






          2006-09-21 03:27:22 UTC
        

No longer a security issue, re-assigning to maintainer. Besides, I can't reproduce this w/ current stable any more.




Comment 24


Michael Cummings (RETIRED)






          2006-11-18 08:06:58 UTC
        

i also am closing this as worksforme - i can't dup this at all









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

