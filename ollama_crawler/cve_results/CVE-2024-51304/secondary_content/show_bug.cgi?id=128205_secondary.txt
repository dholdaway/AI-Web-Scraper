Title: 128205 – [multilib-strict] kino-0.8.0 has multilib install issues
URL: https://bugs.gentoo.org/show_bug.cgi?id=128205

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 128205
[multilib-strict] kino-0.8.0 has multilib install issues
Last modified: 2006-09-02 12:56:57 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 128205 
      - [multilib-strict] kino-0.8.0 has multilib install issues


Summary:
[multilib-strict] kino-0.8.0 has multilib install issues
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

AMD64 Project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-03-30 23:07 UTC by AJ Armstrong





      Modified:
    
2006-09-02 12:56 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


AJ Armstrong





          2006-03-30 23:07:25 UTC
        

Installing kino-0.8.0 on an AMD64 system fails on install with the following:

!!! ERROR: media-video/kino-0.8.0 failed.
Call stack:
  misc-functions.sh, line 469:   Called install_qa_check
  misc-functions.sh, line 270:   Called die

!!! File /var/tmp/portage/kino-0.8.0/image///usr/lib/kino-gtk2/libtimfx.so.0.0.0 matches a file type that is not allowed in /usr/lib
!!! If you need support, post the topmost build error, and the call stack if relevant.




Portage 2.1_pre7-r3 (default-linux/amd64/2005.1, gcc-4.1.0, glibc-2.4-r1, 2.6.16-gentoo x86_64)
=================================================================
System uname: 2.6.16-gentoo x86_64 AMD Athlon(tm) 64 Processor 3500+
Gentoo Base System version 1.12.0_pre16
dev-lang/python:     2.3.5-r2, 2.4.2-r1
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r2
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r3
ACCEPT_KEYWORDS="amd64 ~amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=k8 -O2 -pipe -fweb -ftracer"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/kde/3/share/config /usr/lib64/mozilla/defaults/pref /usr/share/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c /etc/env.d"
CXXFLAGS="-march=k8 -O2 -pipe -fweb -ftracer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache collision-protect distlocks maketest metadata-transfer multilib-strict sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/etc/portage/overlay"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="amd64 X alsa apache2 avi berkdb bitmap-fonts crypt cups directfb dri dts dv dvd dvdr dvdread eds emacs emboss encode expat fame fbcon ffmpeg firefox foomaticdb fortran gcj gd gif gpm gstreamer gtk gtk2 ieee1394 imlib ipv6 isdnlog java jikes jpeg ldap lirc live lzw lzw-tiff mad mjpeg mp3 mpeg ncurses nls nptl nptlonly nsplugin nvidia ogg opengl pam pcre pdflib perl png pppd python qt quicktime readline real rtc sdl spell ssl tcpd tetex theora tiff truetype truetype-fonts type1-fonts unicode usb v4l v4l2 vorbis xml xmms xpm xv xvid zlib elibc_glibc input_devices_mouse input_devices_keyboard kernel_linux userland_GNU video_cards_nvidia video_cards_nv video_cards_v4l video_cards_vesa video_cards_vga video_cards_fbdev"
Unset:  ASFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, LANG, LC_ALL, LDFLAGS, LINGUAS


!!! install_qa_check failed; exiting.




Comment 1


Disenchanted (RETIRED)






          2006-04-08 15:56:18 UTC
        

i will retest with your USE flags, as i have it running on my amd64 laptop and have used it since




Comment 2


Disenchanted (RETIRED)






          2006-04-11 21:26:29 UTC
        

 USE=quicktime FEATURES="autoconfig ccache collision-protect distlocks maketest metadata-transfer multilib-strict sandbox sfperms strict" CFLAGS="-march=k8 -O2 -pipe -fweb -ftracer" CXXFLAGS="-march=k8 -O2 -pipe -fweb -ftracer" emerge kino

that merges fine here the library in question installs fine in /usr/lib64 here
we seem to run same profile, base system, compiler, the only difference is between  my glibc-2.3.6 and your glibc-2.4

since you can't downgrade and i have no room for a chroot to test that i will set one up on a test machine or find someone who already has one, so hopefully this gets resolved rather soon






Comment 3


Disenchanted (RETIRED)






          2006-04-12 22:15:13 UTC
        

well, someone comfirmed it for me that the issue only comes up on hosts with glibc-2.4, no solution yet, this one could take a while




Comment 4


Disenchanted (RETIRED)






          2006-05-06 18:08:01 UTC
        

can you retry with glibc-2.4-r2 as i was told it is the most sane 2.4 ebuild 




Comment 5


Disenchanted (RETIRED)






          2006-05-06 21:18:21 UTC
        

glibc-2.4 have someone fix it




Comment 6


Michael Weyershäuser





          2006-09-02 12:33:19 UTC
        

This seems to be gone with kino-0.9.0 and glibc-2.4-r3 for me, everything goes where it belongs to...

emerge --info
Portage 2.1.1_rc1-r1 (default-linux/amd64/2006.1/desktop, gcc-4.1.1, glibc-2.4-r3, 2.6.17-suspend2-r4Dudebox-Edition x86_64)
=================================================================
System uname: 2.6.17-suspend2-r4Dudebox-Edition x86_64 AMD Athlon(tm) 64 Processor 3200+
Gentoo Base System version 1.12.4
Last Sync: Sat, 02 Sep 2006 03:50:01 +0000
distcc 2.18.3 x86_64-pc-linux-gnu (protocols 1 and 2) (default port 3632) [enabled]
ccache version 2.4 [enabled]
app-admin/eselect-compiler: [Not Present]
dev-lang/python:     2.4.3-r3
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     2.4-r2
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.60
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.17
sys-devel/gcc-config: 1.3.13-r3
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.16
ACCEPT_KEYWORDS="amd64 ~amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=k8 -msse3 -Os -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/env.d /etc/gconf /etc/revdep-rebuild /etc/terminfo"
CXXFLAGS="-march=k8 -msse3 -Os -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache collision-protect distcc distlocks metadata-transfer multilib-strict parallel-fetch sandbox sfperms strict test userfetch userpriv usersandbox"
GENTOO_MIRRORS="ftp://ftp.wh2.tu-dresden.de/pub/mirrors/gentoo ftp://linux.rz.ruhr-uni-bochum.de/gentoo-mirror/ ftp:///ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/"
LDFLAGS="-Wl,-O1"
LINGUAS=""
MAKEOPTS="-j4"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://server/gentoo-portage"
USE="amd64 X alsa avi berkdb bitmap-fonts cairo cdr cli crypt cups dbus dlloader dri dvd dvdr eds elibc_glibc emboss encode esd fam firefox fortran gdbm gif gpm gstreamer gtk gtk2 hal input_devices_keyboard input_devices_mouse isdnlog jpeg kde kdeenablefinal kdehiddenvisibility kernel_linux libg++ mad mikmod mp3 mpeg ncurses nls nptl nptlonly ogg oss pam pcre pdflib perl png ppds pppd python qt3 qt4 quicktime readline reflection sdl session spell spl ssl tcpd truetype truetype-fonts type1-fonts udev unicode userland_GNU video_cards_radeon vorbis xml xorg xv zlib"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY




Comment 7


Simon Stelling (RETIRED)






          2006-09-02 12:56:57 UTC
        

let's ignore it then









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

