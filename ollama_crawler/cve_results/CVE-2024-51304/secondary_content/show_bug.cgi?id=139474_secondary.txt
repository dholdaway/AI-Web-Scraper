Title: 139474 – x11-base/xorg-server-1.1.0-r1 fails to build in several functions
URL: https://bugs.gentoo.org/show_bug.cgi?id=139474

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 139474
x11-base/xorg-server-1.1.0-r1 fails to build in several functions
Last modified: 2006-07-06 15:04:19 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 139474 
      - x11-base/xorg-server-1.1.0-r1 fails to build in several functions


Summary:
x11-base/xorg-server-1.1.0-r1 fails to build in several functions
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Unspecified

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-07-06 12:54 UTC by Jaime Fordham





      Modified:
    
2006-07-06 15:04 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



ssuominen









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Jaime Fordham





          2006-07-06 12:54:50 UTC
        

I've been trying to update my world packages (Xorg 7.0 to 7.1) and xorg-server fails to build, spitting out an error. I've already re-merged x11-proto/xproto and I still get the same error.

cursor.c: In function `ProcXFixesHideCursor':
cursor.c:840: error: syntax error before '*' token
cursor.c:843: error: `xXFixesHideCursorReq' undeclared (first use in this function)
cursor.c:843: error: (Each undeclared identifier is reported only once
cursor.c:843: error: for each function it appears in.)
cursor.c:845: error: `stuff' undeclared (first use in this function)
cursor.c: In function `SProcXFixesHideCursor':
cursor.c:879: error: syntax error before '*' token
cursor.c:881: error: `stuff' undeclared (first use in this function)
cursor.c:882: error: `xXFixesHideCursorReq' undeclared (first use in this function)
cursor.c: In function `ProcXFixesShowCursor':
cursor.c:892: error: syntax error before '*' token
cursor.c:894: error: `xXFixesShowCursorReq' undeclared (first use in this function)
cursor.c:896: error: `stuff' undeclared (first use in this function)
cursor.c: In function `SProcXFixesShowCursor':
cursor.c:923: error: syntax error before '*' token
cursor.c:925: error: `stuff' undeclared (first use in this function)
cursor.c:926: error: `xXFixesShowCursorReq' undeclared (first use in this function)
make[1]: *** [cursor.lo] Error 1
make[1]: *** Waiting for unfinished jobs....
make[1]: Leaving directory `/var/tmp/portage/xorg-server-1.1.0-r1/work/xorg-server-1.1.0/xfixes'
make: *** [all-recursive] Error 1

!!! ERROR: x11-base/xorg-server-1.1.0-r1 failed.
Call stack:
  ebuild.sh, line 1545:   Called dyn_compile
  ebuild.sh, line 940:   Called src_compile
  ebuild.sh, line 1254:   Called x-modular_src_compile
  x-modular.eclass, line 327:   Called x-modular_src_make
  x-modular.eclass, line 322:   Called die

emerge --info :

Portage 2.1.1_pre2-r4 (default-linux/x86/2005.1, gcc-3.4.6, glibc-2.3.6-r4, 2.6.16-gentoo-r9 i686)
=================================================================
System uname: 2.6.16-gentoo-r9 i686 Intel(R) Pentium(R) M processor 1.73GHz
Gentoo Base System version 1.6.15
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
dev-lang/python:     2.3.5-r2, 2.4.3-r1
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.13-r3
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=pentium-m -O3 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/lib/X11/xkb /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/gconf /etc/revdep-rebuild /etc/splash /etc/terminfo"
CXXFLAGS="-march=pentium-m -O3 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer parallel-fetch sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 3dnow 3dnowext X a52 aac acpi alsa arts avi bash-completion berkdb bitmap-fonts bluetooth cardbus cli crypt cups divx4linux dlloader dri dts dvd dvdr eds emboss encode foomaticdb gdbm gif gpm gstreamer gtk gtk2 hal ieee1394 imlib isdnlog javascript jpeg kde libg++ libwww lm_sensors mad mikmod mime mmx mmxext mng motif mp3 mpeg ncurses nls nptl nptlonly nsplugin ogg oggvorbis opengl oss pam pcre pda pdflib perl pic png pppd python qt qt3 qt4 quicktime readline real reflection samba sdl session spell spl sse sse2 ssl svg tcpd truetype truetype-fonts type1-fonts usb vorbis wifi win32codecs xml2 xmms xorg xprint xv xvid zlib elibc_glibc input_devices_keyboard input_devices_mouse input_devices_evdev input_devices_synaptics kernel_linux userland_GNU video_cards_i915 video_cards_i810"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Samuli Suominen (RETIRED)






          2006-07-06 12:57:17 UTC
        

re-emerge x11-proto/fixesproto and please don't change severity to "critical"




Comment 2


Jakub Moc (RETIRED)






          2006-07-06 12:58:33 UTC
        

*** This bug has been marked as a duplicate of 137358 ***

*** This bug has been marked as a duplicate of 137358 ***




Comment 3


Jaime Fordham





          2006-07-06 13:21:28 UTC
        

This is now the third time xorg-server fails to build, there seems to be a big problem with dependencies...

glxcmdsswap.c: In function `__glXSwapVendorPrivate':
glxcmdsswap.c:899: error: `X_GLXvop_BindTexImageEXT' undeclared (first use in this function)
glxcmdsswap.c:899: error: (Each undeclared identifier is reported only once
glxcmdsswap.c:899: error: for each function it appears in.)
glxcmdsswap.c:901: error: `X_GLXvop_ReleaseTexImageEXT' undeclared (first use in this function)
glxcmdsswap.c: In function `__glXSwapVendorPrivateWithReply':
glxcmdsswap.c:942: error: `X_GLvop_IsRenderbufferEXT' undeclared (first use in this function)
glxcmdsswap.c:944: error: `X_GLvop_GenRenderbuffersEXT' undeclared (first use in this function)
glxcmdsswap.c:946: error: `X_GLvop_GetRenderbufferParameterivEXT' undeclared (first use in this function)
glxcmdsswap.c:948: error: `X_GLvop_IsFramebufferEXT' undeclared (first use in this function)
glxcmdsswap.c:950: error: `X_GLvop_GenFramebuffersEXT' undeclared (first use in this function)
glxcmdsswap.c:952: error: `X_GLvop_CheckFramebufferStatusEXT' undeclared (first use in this function)
glxcmdsswap.c:954: error: `X_GLvop_GetFramebufferAttachmentParameterivEXT' undeclared (first use in this function)
make[2]: *** [glxcmdsswap.lo] Error 1
make[2]: Leaving directory `/var/tmp/portage/xorg-server-1.1.0-r1/work/xorg-server-1.1.0/GL/glx'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/xorg-server-1.1.0-r1/work/xorg-server-1.1.0/GL'
make: *** [all-recursive] Error 1

!!! ERROR: x11-base/xorg-server-1.1.0-r1 failed.
Call stack:
  ebuild.sh, line 1545:   Called dyn_compile
  ebuild.sh, line 940:   Called src_compile
  ebuild.sh, line 1254:   Called x-modular_src_compile
  x-modular.eclass, line 327:   Called x-modular_src_make
  x-modular.eclass, line 322:   Called die




Comment 4


Jakub Moc (RETIRED)






          2006-07-06 13:30:43 UTC
        

Re-emerge glproto and mesa...




Comment 5


Jaime Fordham





          2006-07-06 14:25:17 UTC
        

This is REALLY starting to get annoying, what's the problem with modular Xorg 7.1...?

Now not even libXft will compile. It as if I'll have to file bug reports for every single package which Xorg pulls in...:(

Every time I try to compile something there




Comment 6


Jaime Fordham





          2006-07-06 14:25:17 UTC
        

This is REALLY starting to get annoying, what's the problem with modular Xorg 7.1...?

Now not even libXft will compile. It as if I'll have to file bug reports for every single package which Xorg pulls in...:(

Every time I try to compile something there«s always an x11-proto/* which is missing, shouldn't these dependencies be pulled in by portage?




Comment 7


Jakub Moc (RETIRED)






          2006-07-06 14:44:43 UTC
        

Yeah, they should. If you have virtual/x11 installed, unmerge it.





Comment 8


Jaime Fordham





          2006-07-06 15:04:19 UTC
        

I haven't got virtual/x11 installed and I've opened another general bug report because this is going to leave me with an un-usable X system unless I start downgrading to 7.0.

The Bug ID is: 139484









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

