Title: 122764 – Emerge tightvnc 1.2.9 fails with 'file not in manifest' tightvnc-1.2.8-gentoo.diff'
URL: https://bugs.gentoo.org/show_bug.cgi?id=122764

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 122764
Emerge tightvnc 1.2.9 fails with 'file not in manifest' tightvnc-1.2.8-gentoo.diff'
Last modified: 2006-02-14 01:21:18 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 122764 
      - Emerge tightvnc 1.2.9 fails with 'file not in manifest' tightvnc-1.2.8-gentoo.diff'


Summary:
Emerge tightvnc 1.2.9 fails with 'file not in manifest' tightvnc-1.2.8-gentoo...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-02-14 01:07 UTC by Anthony Staines





      Modified:
    
2006-02-14 01:21 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Anthony Staines





          2006-02-14 01:07:22 UTC
        

Ebuild fails with error :-

!!! Security Violation: A file exists that is not in the manifest.
!!! File: files/tightvnc-1.2.8-gentoo.diff

# emerge -uavD tightvnc

These are the packages that I would merge, in order:

Calculating dependencies ...done!
[ebuild  N    ] net-misc/tightvnc-1.2.9-r1  +java +tcpd 0 kB

Total size of downloads: 0 kB

Do you want me to merge these packages? [Yes/No] yes
>>> emerge (1 of 1) net-misc/tightvnc-1.2.9-r1 to /
!!! Security Violation: A file exists that is not in the manifest.
!!! File: files/tightvnc-1.2.8-gentoo.diff


Steps to reproduce
1)emerge -uavD tightvnc

Expected behaviour 
Successful emerge


#
emerge --info
Portage 2.0.54 (default-linux/x86/2005.0, gcc-3.3.6, glibc-2.3.5-r2, 2.6.15-gent
oo-r1 i686)
=================================================================
System uname: 2.6.15-gentoo-r1 i686 Pentium III (Coppermine)
Gentoo Base System version 1.6.14
dev-lang/python:     2.3.5-r2, 2.4.2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium3 -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.3/env /usr/kde/3.3/share
/config /usr/kde/3.3/shutdown /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kd
e/3.4/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/lib/mozilla/default
s/pref /usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips
/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config
/ /usr/share/texmf/xdvi/ /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=pentium3 -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache distlocks sandbox sfperms strict userpriv usersandbo
x"
GENTOO_MIRRORS="http://ftp.heanet.ie/pub/gentoo/ ftp://ftp.heanet.ie/pub/gentoo/                                            http://www.mirrorservice.org/sites/www.ibiblio.org/gentoo/ ftp://ftp.mirrorserv                                           ice.org/sites/www.ibiblio.org/gentoo/ "
LINGUAS="en_GB en fr de es ca"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage /usr/local/gentoo-webapps-overlay/experiment                                           al /usr/local/gentoo-webapps-overlay/production-ready"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="x86 X alsa apache2 apm arts audiofile avi berkdb bitmap-fonts blas bzip2 bz                                           lib cdparanoia crypt cups curl eds emboss encode esd exif expat f77 fam foomatic                                           db fortran gd gdbm gif glut gnome gpm gstreamer gtk gtk2 gtkhtml idn imagemagick                                            imlib ipv6 java jpeg junit kde lcms ldap libg++ libwww lua mad mhash mikmod mmx                                            mng modperl motif mozilla mp3 mpeg mysql ncurses nls ogg oggvorbis opengl oss p                                           am pcre pda pdflib perl png postgres ppds python qt quicktime readline samba sdl                                            slang spell sse ssl svga tcpd tetex tiff truetype truetype-fonts type1-fonts ud                                           ev vhosts vorbis xml xml2 xmms xv zlib linguas_en_GB linguas_en linguas_fr lingu                                           as_de linguas_es linguas_ca userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS

Commments :-

1) The file complained about exists :-

# cat /usr/portage/net-misc/tightvnc/files/tightvnc-1.2.8-gentoo.diff
--- vncserver.orig      2002-12-20 01:56:58.000000000 +0100
+++ vncserver   2002-12-20 01:58:05.000000000 +0100
@@ -36,12 +36,12 @@
 $geometry = "1024x768";
 $depth = 24;
 $desktopName = "X";
-$vncClasses = "/usr/local/vnc/classes";
+$vncClasses = "/usr/share/tightvnc/classes";
 $vncUserDir = "$ENV{HOME}/.vnc";
-$fontPath = "unix/:7100";
+# $fontPath = "unix/:7100";

 # Here is another example of setting the font path:
-# $fontPath = "/usr/lib/X11/fonts/misc/,/usr/lib/X11/fonts/75dpi/";
+$fontPath = "/usr/lib/X11/fonts/misc/,/usr/lib/X11/fonts/75dpi/";

 # X colors database path is optional, uncomment and edit to use:
 # $colorPath = "/usr/lib/X11/rgb";
#   

So does tightvnc-1.2.9-gentoo.diff

However, this is a downgrade proposed, on doing emerge -uavD world, from tightvnc-1.3-alpha7. I'm not sure why, and I'm not sure if this make any difference.




Comment 1


Jakub Moc (RETIRED)






          2006-02-14 01:21:18 UTC
        

Works fine here, please emerge sync.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

