Title: 151338 – Can't login in net-analyzer/cacti when PHP is cgi and cgi.fix_pathinfo = 0 (default)
URL: https://bugs.gentoo.org/show_bug.cgi?id=151338

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 151338
Can't login in net-analyzer/cacti when PHP is cgi and cgi.fix_pathinfo = 0 (default)
Last modified: 2007-02-27 10:49:27 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 151338 
      - Can't login in net-analyzer/cacti when PHP is cgi and cgi.fix_pathinfo = 0 (default)


Summary:
Can't login in net-analyzer/cacti when PHP is cgi and cgi.fix_pathinfo = 0 (d...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Other
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Netmon project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-10-14 07:46 UTC by Paolo





      Modified:
    
2007-02-27 10:49 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



ramereth









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Paolo





          2006-10-14 07:46:38 UTC
        

Like the summary tells, I suggest that the ebuild should check to see if "cgi.fix_pathinfo = 1" in /etc/php/cgi-php4/php.ini otherwise cacti would not let users login. Or it should write it on the help at the end of the installation.

Thank you,
P.




Comment 1


Lance Albertson (RETIRED)






          2006-10-14 14:49:19 UTC
        

Odd, I don't have cgi enabled and I can login fine. Perhaps I might try recompiling php with cgi support and see what happens.




Comment 2


Paolo





          2006-10-15 07:40:00 UTC
        

I'm sorry of not being clear: I mean that the problem is when cacti is run by a cgi php.
So you should recompile it with "cgi" flag, and then use the cgi version to run Cacti. You can try it using Lighttpd, without changing the Apache you may have installed or vice versa.




Comment 3


Peter Volkov (RETIRED)






          2007-01-08 22:10:24 UTC
        

I did not manage to reproduce bug with php-4 build as cgi and apache. All works fine here.

php-4.4.4-r6 USE="-adabas -apache -apache2 -bcmath -berkdb -birdstep -bzip2 -calendar -cdb cgi -cjk cli -concurrentmodphp -crypt ctype -curl -db2 -dbase -dbmaker -dbx -debug -discard-path -doc -empress -empress-bcs -esoob -exif expat fastbuild -fdftk -filepro -firebird -flatfile force-cgi-redirect -frontbase ftp gd -gd-external -gdbm -gmp -hardenedphp -hyperwave-api iconv -imap -informix -inifile -interbase -iodbc ipv6 -java-external -java-internal -kerberos -ldap -libedit -mcal -mcve memlimit -mhash -ming -mnogosearch -msql -mssql mysql -ncurses nls -oci8 -oci8-instant-client -odbc -oracle7 -overload -ovrimos -pcntl pcre -pfpro pic posix -postgres -readline -recode -sapdb session -sharedext -sharedmem -snmp sockets -solid -spell -sqlite ssl -sybase -sybase-ct -sysvipc -threads tokenizer truetype -unicode -wddx xml -xmlrpc -xpm xsl -yaz -zip zlib"

net-www/apache-2.0.58-r2  USE="apache2 doc mpm-worker ssl threads -debug -ldap -mpm-itk -mpm-leader -mpm-peruser -mpm-prefork -mpm-threadpool (-selinux) -static-modules"

$ awk 'BEGIN{FS="="} /(^[^;]cgi.fix_pathinfo)/{if($2=1) print "exist"}' \
/etc/php/cgi-php4/php.ini
exist

Paolo: Could you, please, post your confirm that you still manage to reproduce this bug with cacti-0.8.6i-r1? And if so then attach you php.ini and lighttpd configuration files. Thank you.




Comment 4


Peter Volkov (RETIRED)






          2007-02-27 10:49:27 UTC
        

Well. Closing now. Please, reopen if you have anything to add.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

