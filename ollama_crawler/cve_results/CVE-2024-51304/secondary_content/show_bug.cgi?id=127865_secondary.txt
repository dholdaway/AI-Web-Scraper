Title: 127865 – Nvidia bug with high irq usage by using xinerama in X.org
URL: https://bugs.gentoo.org/show_bug.cgi?id=127865

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 127865
Nvidia bug with high irq usage by using xinerama in X.org
Last modified: 2006-05-17 16:03:36 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 127865 
      - Nvidia bug with high irq usage by using xinerama in X.org


Summary:
Nvidia bug with high irq usage by using xinerama in X.org
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

X11 External Driver Maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-03-28 08:41 UTC by Frank Dornheim





      Modified:
    
2006-05-17 16:03 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Frank Dornheim





          2006-03-28 08:41:26 UTC
        

I have a nvidia 5500 and i try to use two TFT-Displays with this card.
My xorg configuration (see BELOW)is working, but i have a "normal" cpu usage of 45%.
I used atop to find my speed problems and see an irq usage of 45% by X.
If i start any sound application i have a irq usage of 90% by X!

To confirm my problem i created a xorg.conf with one tft an had a irq usage by X of one percent.

con

Installed Packages:
  Kernel: 2.6.15-suspend2-r8
  X.org:  x11-base/xorg-x11-6.8.2-r6  -3dfx +3dnow +bitmap-fonts -cjk -debug +dlloader +dmx -doc +font-server +insecure-drivers -ipv6 -minimal +mmx +nls -nocxx +opengl +pam +sdk +sse -static +truetype-fonts +type1-fonts (-uclibc) +xprint +xv
  nvidia-glx:  nvidia-glx-1.0.8178-r1
  nvidia-kernel:  nvidia-kernel-1.0.8178-r3

________________________________________________________________________________
xorg.conf:
__________

Section "ServerLayout"
	Identifier "dual head configuration"
	Screen 0 "Screen0" 0 0
	Screen 1 "Screen1" RightOf "Screen0"
	InputDevice "Mouse0" "CorePointer"
	InputDevice "Keyboard0" "CoreKeyboard"
	Option "Xinerama" "On"
EndSection


Section "Files"
    RgbPath     "/usr/lib/X11/rgb"
    ModulePath "/usr/X11R6/lib/modules"

    FontPath        "/usr/share/fonts/misc"
    FontPath        "/usr/share/fonts/TTF"
    FontPath        "/usr/share/fonts/Type1"
    FontPath        "/usr/share/fonts/75dpi"
    FontPath        "/usr/share/fonts/100dpi"
    FontPath        "/usr/share/fonts/local"
    FontPath        "/usr/local/share/fonts"
EndSection


Section "Module"
	Load "dbe"
	Load "extmod"
	Load "record"
	Load "freetype"
	Load "type1"
	Load "glx"
        Load "dri"
        Load "GLcore"
EndSection

Section "InputDevice"
Identifier "Keyboard0"
  Driver "kbd"
  Option "XkbModel" "microsoftmult"
  Option "XkbLayout" "de"
EndSection

Section "InputDevice"
  Identifier "Mouse0"
  Driver "mouse"
  Option "Protocol" "Auto"
  Option "Device" "/dev/input/mice"
  Option "ZAxisMapping" "4 5"
  Option "Buttons" "5"
  Option "Emulate3Buttons" "yes"
EndSection

Section "Monitor"
  Identifier "Monitor0"
  DisplaySize 330 270
  HorizSync 31.5 - 82.0
  VertRefresh 40 - 150
  Option "dpms"
EndSection

Section "Monitor"
  Identifier "Monitor1"
  DisplaySize 330 270
  HorizSync 31.5 - 82.0
  VertRefresh 40 - 150
  Option "dpms"
EndSection


Section "Device"
  Identifier     "nvidia0"
  Driver         "nvidia"
  VendorName     "NVIDIA Corporation"
  BusID          "PCI:3:0:0"
  Screen         0
  Option         "NvAGP" "1"
  Option         "ConnectedMonitor" "DFP"
  Option         "NoLogo" "true"
  Option         "RenderAccel" "false"
EndSection 

Section "Device"
  Identifier     "nvidia1"
  Driver         "nvidia"
  VendorName     "NVIDIA Corporation"
  BusID          "PCI:3:0:0"
  Screen         1
  Option         "NvAGP" "1"
  Option         "ConnectedMonitor" "CRT"
  Option         "NoLogo" "true"
  Option         "RenderAccel" "false"
Endsection 

Section "Screen"
  Identifier "Screen0"
  Device "nvidia0"
  Monitor "Monitor0"
  DefaultDepth 24
  SubSection "Display"
  Depth 24
  Modes "1280x1024" "1024x768" "800x600" "640x480"
  EndSubSection
EndSection

Section "Screen"
  Identifier "Screen1"
  Device "nvidia1"
  Monitor "Monitor1"
  DefaultDepth 24
  SubSection "Display"
  Depth 24
  Modes "1024x768" "800x600" "640x480"
  EndSubSection
EndSection




Comment 1


Jakub Moc (RETIRED)






          2006-03-28 09:23:00 UTC
        

<snip>
Bugzilla: Bugs regarding the Gentoo Bugzilla website  (bugs.gentoo.org),
Bugs related to ebuilds belong in 'Gentoo Linux'
</snip>

Any suggestion how could we improve the above description so that people would *finally* stop misfiling bugs that have nothing to do w/ this website under Gentoo Bugzilla product?




Comment 2


Jakub Moc (RETIRED)






          2006-03-28 09:27:03 UTC
        

We don't support suspend2-sources, reopen if you are able to reproduce this problem with a supported kernel.

http://www.gentoo.org/doc/en/gentoo-kernel.xml#doc_chap2




Comment 3


Frank Dornheim





          2006-03-30 02:17:56 UTC
        

Ok,

i tryed gentoo-sources 2.6.16.
Now i have not 90% usage by X, i have 55%.
This is not really a solution :(.

con




Comment 4


Frank Dornheim





          2006-05-17 16:03:36 UTC
        

now (since a lot of time) i tryed:

kernel: 2.6.16-r7
nvidia-kernel: nvidia-kernel-1.0.8756

most problems seems to be fixed, only a high irq usage in the first minute of starting X.

con











Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

