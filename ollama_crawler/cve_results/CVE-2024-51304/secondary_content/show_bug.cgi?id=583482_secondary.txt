Title: 583482 – dev-libs/wlc-9999[-X]: emake failed: /usr/local/include/EGL/eglplatform.h:119:22: fatal error: X11/Xlib.h: No such file or directory
URL: https://bugs.gentoo.org/show_bug.cgi?id=583482

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 583482
dev-libs/wlc-9999[-X]: emake failed: /usr/local/include/EGL/eglplatform.h:119:22: fatal error: X11/Xlib.h: No such file or directory
Last modified: 2017-05-23 18:22:28 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 583482 
      - dev-libs/wlc-9999[-X]: emake failed: /usr/local/include/EGL/eglplatform.h:119:22: fatal error: X11/Xlib.h: No such file or directory


Summary:
dev-libs/wlc-9999[-X]: emake failed: /usr/local/include/EGL/eglplatform.h:119...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Mykyta Holubakha








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2016-05-19 08:42 UTC by Cedric Sodhi





      Modified:
    
2017-05-23 18:22 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



manday
proxy-maint









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Build log

              (build.log,93.30 KB,
                text/plain)

            
2016-05-19 18:42 UTC,

            Cedric Sodhi




Details





emerge info

              (emerge_info.txt,4.64 KB,
                text/plain)

            
2016-05-19 18:43 UTC,

            Cedric Sodhi




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Cedric Sodhi





          2016-05-19 08:42:32 UTC
        

dev-libs/wlc -X -static-libs -systemd fails to compile because of missing X headers. xexaxo from Mesa suggested an additional -DMESA_EGL_NO_X11_HEADERS on all compiles which seems to have fixed the problem.




Comment 1


Coacher





          2016-05-19 10:29:46 UTC
        

Please attach a complete build.log and the output of `emerge --info'.




Comment 2


Cedric Sodhi





          2016-05-19 18:42:52 UTC
        

Created attachment 434736 [details]
Build log




Comment 3


Cedric Sodhi





          2016-05-19 18:43:11 UTC
        

Created attachment 434738 [details]
emerge info




Comment 4


Coacher





          2016-05-20 08:04:34 UTC
        

Please also attach the output of `equery files media-libs/mesa'. equery is a part of app-portage/gentoolkit.




Comment 5


Jasen Borisov





          2016-05-20 19:58:44 UTC
        

This is caused by a bug in Mesa, which IIRC was fixed. Can you please let me know what version of media-libs/mesa you are using?




Comment 6


Sam Jorna (wraeth) (RETIRED)






          2016-05-21 02:14:22 UTC
        

This is building using headers from /usr/local. Is there a reason this isn't using system-installed (thus supported) headers?




Comment 7


Ian Delaney (RETIRED)






          2016-05-21 05:44:48 UTC
        

I'd say this is a good reason not to hgave a live ebuild.
Upstream hard coded into path to /usr/local.  The live ebuild appears unfiltered.




Comment 8


Cedric Sodhi





          2016-05-21 06:24:25 UTC
        

This is build using Mesa GIT (from upstream, not portage, thus in /usr/local). I was told only after I already filed the bug that this is not exactly a bug in Mesa but rather in the GL headers that come from Khronos. The suggested workarround works because Mesa adds it to the headers. Though I wouldn't really know what is the actual solution here (someone more knowledgeable of the inner workings problably would), as as I have understood it this is effectively depending on a Khronos upstream bug.




Comment 9


Mykyta Holubakha





          2017-05-23 18:22:28 UTC
        

Neither me, nor the reporter can reproduce it anymore (apparently).









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

