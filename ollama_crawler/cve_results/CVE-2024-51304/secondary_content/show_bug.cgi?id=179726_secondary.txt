Title: 179726 – Dbus daemon error message
URL: https://bugs.gentoo.org/show_bug.cgi?id=179726

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 179726
Dbus daemon error message
Last modified: 2007-05-31 18:49:28 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 179726 
      - Dbus daemon error message


Summary:
Dbus daemon error message
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-05-25 08:34 UTC by Leo





      Modified:
    
2007-05-31 18:49 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Leo





          2007-05-25 08:34:55 UTC
        

Hi all, 
it is a couple of weeks that, when I start a kde session on my gentoo box, I get the following worning box:
The DBUS daemon is not running. Starting it will provide full functionality: /etc/init.d/dbus start
The fact is that my dbus daemon is up and running since the default runlevel :-\

could you give me some ideas about it?

sys-apps/dbus-1.0.2-r2
kde-base/kdelibs-3.5.6-r9

emerge --info
Portage 2.1.2.7 (default-linux/x86/2006.1, gcc-4.1.2, glibc-2.5-r2, 2.6.21.1-lsd02 i686)
=================================================================
System uname: 2.6.21.1-lsd02 i686 Intel(R) Pentium(R) M processor 1.86GHz
Gentoo Base System release 1.12.9
Timestamp of tree: Thu, 24 May 2007 07:20:02 +0000
dev-java/java-config: 1.3.7, 2.0.32
dev-lang/python:     2.4.4-r4
dev-python/pycrypto: 2.0.1-r5
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.61
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.16
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.17-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=i686 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c"
CXXFLAGS="-O2 -march=i686 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="confcache distlocks metadata-transfer parallel-fetch sandbox sfperms strict userfetch userpriv usersandbox"
GENTOO_MIRRORS="http://ftp.belnet.be/mirror/rsync.gentoo.org/gentoo/ http://files.gentoo.gr http://pandemonium.tiscali.de/pub/gentoo/"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage/layman/kde /usr/local/portage/layman/nx /usr/local/portage/layman/secondlife /usr/local/portage/layman/sunrise /usr/local/portage/lsd /usr/local/portage/layman/sabayon /usr/local/portage/layman/vmware"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="7zip X X509 aac accessibility acl acpi addbookmarks afs aiglx aim aio alias alsa amr amrr amuled aoss apache2 ares arts asf async audiofile authdaemond autoipd automount autoreplace avahi bash-completion bcp berkdb binary-drivers bitmap-fonts bjam bluetooth bookmarks bzip2 cairo caps cdio cdparanoia cdr cg chm chroot clamav clamd clearcase cli clvm commercial connectionstatus contactnotes cpudetection cracklib crypt css cups curl curlwrappers cvs cvsgraph dbase dbm dbus dbx dcraw devmap dga dio dmi dmx drac dri dv dvb dvd dvdr dvdread emovix enblend encode epydoc evo exif extensions fam fame fat fbcon fbdev ffmpeg filter firefox flac flatfile font-server freetds ftp fuse fusion gadu gcj gd gdbm gg gif gimp glib glitz glut glx gmail gmailtimestamps gnokii gnutls gpg2-experimental gphoto2 gpm graphviz gs gsl gtk gtk2 gui guile hal hash haskell highlight history howl howl-compat hpn httpd i8x0 iconv icq icu id3 idea idn ieee1394 imagemagick imap imlib innodb iodbc iproute2 ipv6 irc irmc isdnlog jabber jack java javascript jce jikes jingle john joystick jp2 jpeg jpeg2k kde kdrive kerberos kipi kqemu lame lcms ldap ldapsam libcaca libclamav libvisual linuxkeys lm_sensors log4j logitech-mouse logrotate lua lzo maildir md5sum mecab midi mime mjpeg mmx mng mozbranding mozilla mp3 mp4 mp4live mpeg mpeg2 mpi mplayer msn mudflap multicall mysql mysqli nas ncurses netpbm network newspr nfs ngui nls nntp nodrm nowlistening nptl nptlonly nsplugin ntfs ntlm ntlm_unsupported_patch nvidia oav oci8-instant-client odbc offensive ogg on-the-fly-crypt openal openexr opengl openmp openssh openssl opensslcrypt oracle oscar oss pam pam_chroot parse-clocks passwordsave pch pcre pdf perforce perl pertty php player plib plugin-file plugin-python pmu png pnp pop3d portaudio ppds pppd pyste python qemu-fast qt3 qt3support qt4 quicktime quotas radiotap radius rar rdesktop readline real reflection reiserfs rpc rtc rtsp ruby samba sametime sasl scanner screen sdl sensord session sftp sftplogging shout sieve sift silc simplexml skey skins slang slp sms sndfile soap socks5 softmmu sox spamassassin speex spell spl sql sqlite sqlite3 sse sse2 ssl startup-notification stats stream subject-rewrite subtitles subversion svg swat sysfs syslog szip talkfilters tcl tcltk tcpd texteffect tga theora threads threadsafe thunderbird tidy tiff tk toolbar tools transcode translator transparency truetype truetype-fonts type1-fonts unicode unzip upnp urandom usb userlocales utempter utf8 v4l v4l2 vcd vidix vim vim-with-x virus-scan visualization vlm vnc vorbis webdav webpresence wifi win32codecs winbind winpopup wma wma123 wmf wxwindows x86 xcomposite xforms xfs xine xinerama xinetd xlockrc xml xml2 xmlreader xmlrpc xmlwriter xorg xosd xpm xprint xscreensaver xvid yahoo yv12 zeroconf zip zlib" ALSA_CARDS="intel8x0" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" CAMERAS="canon directory" ELIBC="glibc" INPUT_DEVICES="keyboard mouse evdev synaptics" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" USERLAND="GNU" VIDEO_CARDS="nvidia nv vesa"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGUAS, MAKEOPTS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS

Reproducible: Always

Steps to Reproduce:
1. start the kde wm

Actual Results:  
recive the worning window

Expected Results:  
not window shoul appear




Comment 1


Wulf Krueger (RETIRED)






          2007-05-28 21:33:42 UTC
        

Please post the output of this command: ps axu | grep "[d]bus"




Comment 2


Leo





          2007-05-29 05:37:10 UTC
        

At your order ;-)

$ ps axu | grep "[d]bus"
103       4856  0.6  0.1   2520  1092 ?        Ss   07:17   0:07 /usr/bin/dbus-daemon --system
z-lmutt   6022  0.0  0.0   2680   668 ?        S    07:18   0:00 /usr/bin/dbus-launch --sh-syntax --exit-with-session
z-lmutt   6023  0.0  0.0   2392   552 ?        Ss   07:18   0:00 /usr/bin/dbus-daemon --fork --print-pid 4 --print-address 6 --session
root      6439  0.0  0.0   2084  1004 ?        S    07:18   0:00 /sbin/dhclient -1 -lf /var/lib/dhclient/dhclient-wifi.leases -pf /var/run/dhclient-wifi.pid -q -e dhc_dbus=31 -x -d wifi





Comment 3


Wulf Krueger (RETIRED)






          2007-05-29 20:18:48 UTC
        

Your dbus is most likely broken.

Please post the output of "emerge -pv sys-apps/dbus" and the output of "ls -l /var/run/dbus/system_bus_socket" (the latter might not exist).

Are you using a dbus version from an overlay or something like that?




Comment 4


Leo





          2007-05-29 20:33:13 UTC
        

here are the output...
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
$ emerge -pv sys-apps/dbus

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild   R   ] sys-apps/dbus-1.0.2-r2  USE="X debug -doc (-selinux)" 0 kB

Total: 1 package (1 reinstall), Size of downloads: 0 kB
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
$ ls -l /var/run/dbus/system_bus_socket
srwxrwxrwx 1 root root 0 May 29 07:17 /var/run/dbus/system_bus_socket
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
for the rest ... no ... my dbus is a gentoo-vanilla ebuild

waiting for new istructions....


Leo




Comment 5


Wulf Krueger (RETIRED)






          2007-05-29 21:33:08 UTC
        

Ok, let's try standard procedures before I re-assign this to the dbus guys:

- emerge app-portage/gentoolkit
- run revdep-rebuild
- re-emerge dbus
- Try again and report back, please.




Comment 6


Leo





          2007-05-29 21:42:21 UTC
        

(In reply to comment #5)
> Ok, let's try standard procedures before I re-assign this to the dbus guys:
> 
> - emerge app-portage/gentoolkit
> - run revdep-rebuild
> - re-emerge dbus
> - Try again and report back, please.
> 

I have already tried also this ... nothing changed :-(





Comment 7


Wulf Krueger (RETIRED)






          2007-05-30 06:36:25 UTC
        

Ok, I've done some research. You're using kpowersave, right? If so, please let me know which version and try re-emerging it.




Comment 8


Leo





          2007-05-30 17:36:44 UTC
        

(In reply to comment #7)
> Ok, I've done some research. You're using kpowersave, right? If so, please let
> me know which version and try re-emerging it.
> 

Hey... are you looking in my PC ?? :-O ;-)

Yes I have installed sys-power/kpowersave-0.6.2
I've tried to re-emerge it ... but nothing changed :-( should I try the masked kpowersave-0.7.2.ebuild ?




Comment 9


Doug Goldstein (RETIRED)






          2007-05-31 14:37:53 UTC
        

If I remember correctly, kpowersave has the issue that it unconditionally depends on PolicyKit and ConsoleKit, which is something that's only present in Fedora Raw Hide.. PolicyKit is very feature incomplete and has not even had a 0.1 version yet. That's why kpowersave 0.7.x got masked.




Comment 10


Leo





          2007-05-31 16:57:46 UTC
        

(In reply to comment #9)
> If I remember correctly, kpowersave has the issue that it unconditionally
> depends on PolicyKit and ConsoleKit, which is something that's only present in
> Fedora Raw Hide.. PolicyKit is very feature incomplete and has not even had a
> 0.1 version yet. That's why kpowersave 0.7.x got masked.
> 
Ok... I got you... uninstalled kpowersave and emerged kde-base/klaptopdaemon...

Now the allert is gone... tnx for the help

Is it to consider fixed?

Leo




Comment 11


Wulf Krueger (RETIRED)






          2007-05-31 18:49:28 UTC
        

No, it's not really fixed but I can't reproduce it nor can I see in the source code why it wouldn't be able to connect to dbus. 

Thus, I'm resolving this as WORKSFORME.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

