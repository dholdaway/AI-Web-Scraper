Title: 900903 – www-client/firefox-110.0.1 - Compile failed, no error message
URL: https://bugs.gentoo.org/show_bug.cgi?id=900903

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 900903
www-client/firefox-110.0.1 - Compile failed, no error message
Last modified: 2023-03-17 22:59:19 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 900903 
      - www-client/firefox-110.0.1 - Compile failed, no error message


Summary:
www-client/firefox-110.0.1 - Compile failed, no error message
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2023-03-12 01:52 UTC by orbea





      Modified:
    
2023-03-17 22:59 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Build log

              (build.log.xz,263.79 KB,
                application/x-xz)

            
2023-03-12 01:54 UTC,

            orbea




Details





emerge --info

              (emerge-info,7.38 KB,
                text/plain)

            
2023-03-12 01:54 UTC,

            orbea




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


orbea





          2023-03-12 01:52:15 UTC
        

Maybe I'm just overlooking it in the build log, but there doesn't appear to be an error message and yet firefox consistently fails to build with dev-lang/rust-1.67.1.




Comment 1


orbea





          2023-03-12 01:54:06 UTC
        

Created attachment 857347 [details]
Build log




Comment 2


orbea





          2023-03-12 01:54:34 UTC
        

Created attachment 857349 [details]
emerge --info




Comment 3


orbea





          2023-03-12 05:06:20 UTC
        

I rebooted for a new kernel and now firefox builds just fine...




Comment 4


Sam James









          2023-03-17 22:22:28 UTC
        

 4:49.89 modules/libpref/Unified_cpp_modules_libpref0.o
 4:49.89 /usr/lib/ccache/bin/x86_64-pc-linux-gnu-clang++ -Qunused-arguments -std=gnu++17 -o Unified_cpp_modules_libpref0.o -c  -I/var/tmp/portage/www-client/firefox-110.0.1/work/firefox_build/dist/stl_wrappers -I/var/tmp/portage/www-client/firefox-110.0.1/work/firefox_build/dist/system_wrappers -include /var/tmp/portage/www-client/firefox-110.0.1/work/firefox-110.0.1/config/gcc_hidden.h -U_FORTIFY_SOURCE -D_FORTIFY_SOURCE=2 -fstack-protector-strong -fstack-clash-protection -DNDEBUG=1 -DTRIMMED=1 -DOS_POSIX=1 -DOS_LINUX=1 -DOS_ARCH=Linux -DMOZ_WIDGET_TOOLKIT=gtk -DMOZ_SERVICES_SYNC -DMOZ_BUILD_APP_IS_BROWSER -DMOZ_HAS_MOZGLUE -DMOZILLA_INTERNAL_API -DIMPL_LIBXUL -DSTATIC_EXPORTABLE_JS_API -I/var/tmp/portage/www-client/firefox-110.0.1/work/firefox-110.0.1/modules/libpref -I/var/tmp/portage/www-client/firefox-110.0.1/work/firefox_build/modules/libpref -I/var/tmp/portage/www-client/firefox-110.0.1/work/firefox_build/ipc/ipdl/_ipdlheaders -I/var/tmp/portage/www-client/firefox-110.0.1/work/firefox-110.0.1/ipc/chromium/src -I/var/tmp/portage/www-client/firefox-110.0.1/work/firefox_build/dist/include -I/usr/include/nspr -I/usr/include/nss -I/usr/include/nspr -I/var/tmp/portage/www-client/firefox-110.0.1/work/firefox_build/dist/include/nss -I/usr/include/libpng16 -I/usr/include/pixman-1 -DMOZILLA_CLIENT -include /var/tmp/portage/www-client/firefox-110.0.1/work/firefox_build/mozilla-config.h -fno-sized-deallocation -fno-aligned-new -pipe -fno-exceptions -fPIC -fno-rtti -ffunction-sections -fdata-sections -fno-exceptions -fno-math-errno -pthread -pipe -O2 -fomit-frame-pointer -funwind-tables -Wall -Wbitfield-enum-conversion -Wdeprecated-this-capture -Wempty-body -Wformat-type-confusion -Wignored-qualifiers -Wpointer-arith -Wshadow-field-in-constructor-modified -Wsign-compare -Wtype-limits -Wno-error=tautological-type-limit-compare -Wunreachable-code -Wunreachable-code-return -Wunused-but-set-parameter -Wno-invalid-offsetof -Wclass-varargs -Wempty-init-stmt -Wfloat-overflow-conversion -Wfloat-zero-conversion -Wloop-analysis -Wno-range-loop-analysis -Wc++2a-compat -Wenum-compare-conditional -Wenum-float-conversion -Wno-ambiguous-reversed-operator -Wno-error=deprecated -Wno-error=deprecated-anon-enum-enum-conversion -Wno-error=deprecated-enum-enum-conversion -Wno-error=deprecated-pragma -Wno-error=deprecated-this-capture -Wcomma -Wimplicit-fallthrough -Wstring-conversion -Wno-inline-new-delete -Wno-error=deprecated-declarations -Wno-error=array-bounds -Wno-error=free-nonheap-object -Wno-error=atomic-alignment -Wno-error=deprecated-builtins -Wformat -Wformat-security -Wno-psabi -Wthread-safety -Wno-unknown-warning-option -fno-strict-aliasing -ffp-contract=off  -MD -MP -MF .deps/Unified_cpp_modules_libpref0.o.pp  -fcolor-diagnostics  Unified_cpp_modules_libpref0.cpp
 5:20.46 make[4]: *** [/var/tmp/portage/www-client/firefox-110.0.1/work/firefox-110.0.1/config/rules.mk:675: Unified_cpp_modules_libpref0.o] Error 255
 5:20.47 make[4]: Leaving directory '/var/tmp/portage/www-client/firefox-110.0.1/work/firefox_build/modules/libpref'
 5:20.47 make[3]: *** [/var/tmp/portage/www-client/firefox-110.0.1/work/firefox-110.0.1/config/recurse.mk:72: modules/libpref/target-objects] Error 2

bizarre!




Comment 5


orbea





          2023-03-17 22:59:19 UTC
        

This was on my glibc system and I was later able to reproduce it on my musl system too. That time I restarted my X session resolving my stale PIDs for mesa which seems to have fixed the issue for firefox...









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

