Title: 129272 – wine-0.9.8-r1 failed on missing __wine_dbg_get_channel_flags
URL: https://bugs.gentoo.org/show_bug.cgi?id=129272

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 129272
wine-0.9.8-r1 failed on missing __wine_dbg_get_channel_flags
Last modified: 2006-09-13 17:38:52 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 129272 
      - wine-0.9.8-r1 failed on missing __wine_dbg_get_channel_flags


Summary:
wine-0.9.8-r1 failed on missing __wine_dbg_get_channel_flags
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Wine Maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-04-08 12:20 UTC by Christophe





      Modified:
    
2006-09-13 17:38 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge log with j1

              (emergej1.log.gz,25.34 KB,
                application/gzip)

            
2006-04-30 06:59 UTC,

            Christophe




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Christophe





          2006-04-08 12:20:13 UTC
        

Trying to get wine on amd64. Error seems to be "undefined reference to `__wine_dbg_get_channel_flags'"

This is a lastest stable on amd64. I am running stable build 2006.0 but with Xorg7 and unstable portage.

----------------------------
make[3]: Leaving directory `/disk1/gentoo/var/tmp/portage/wine-0.9.8-r1/work/wine-0.9.8/dlls/ddraw/tests'
../../tools/winegcc/winegcc -B../../tools/winebuild -shared ./ddraw.spec    d3d_utils.o device_main.o device_opengl.o direct3d_main.o direct3d_opengl.o executebuffer.o light.o material.o opengl_utils.o texture.o vertexbuffer.o viewport.o clipper.o ddraw_hal.o ddraw_main.o ddraw_thunks.o ddraw_user.o ddraw_utils.o main.o palette_hal.o palette_main.o regsvr.o surface_dib.o surface_fakezbuffer.o surface_gamma.o surface_hal.o surface_main.o surface_thunks.o surface_user.o surface_wndproc.o  version.res   -o ddraw.dll.so -L../../dlls -L../../dlls/ole32 -L../../dlls/user32 -L../../dlls/gdi32 -L../../dlls/advapi32 -L../../dlls/kernel32 -L../../dlls/ntdll -lole32 -luser32 -lgdi32 -ladvapi32 -lkernel32 -lntdll  -L../../libs/wine -lwine -ldxguid -luuid  -L/usr/lib64  -lSM -lICE -lXxf86dga -lXxf86vm -lXext -lX11   -L../../libs/port -lwine_port
x86_64-pc-linux-gnu-gcc -c -I. -I. -I../../include -I../../include  -D__WINESRC__ -DWINE_NO_DEBUG_MSGS -DWINE_NO_TRACE_MSGS  -D_REENTRANT -fPIC -Wall -pipe -fno-strict-aliasing -gstabs+ -Wdeclaration-after-statement -Wpointer-arith  -march=k8 -O2 -pipe  -o dib_convert.o dib_convert.c
/usr/lib/gcc/x86_64-pc-linux-gnu/3.4.5/../../../../x86_64-pc-linux-gnu/bin/ld: skipping incompatible /usr/lib64/libm.so when searching for -lm
/usr/lib/gcc/x86_64-pc-linux-gnu/3.4.5/../../../../x86_64-pc-linux-gnu/bin/ld: skipping incompatible /usr/lib64/libm.a when searching for -lm
/usr/lib/gcc/x86_64-pc-linux-gnu/3.4.5/../../../../x86_64-pc-linux-gnu/bin/ld: skipping incompatible /usr/lib64/libc.so when searching for -lc
/usr/lib/gcc/x86_64-pc-linux-gnu/3.4.5/../../../../x86_64-pc-linux-gnu/bin/ld: skipping incompatible /usr/lib64/libc.a when searching for -lc
/usr/lib/gcc/x86_64-pc-linux-gnu/3.4.5/../../../../x86_64-pc-linux-gnu/bin/ld: skipping incompatible /usr/lib64/libc.so when searching for -lc
/usr/lib/gcc/x86_64-pc-linux-gnu/3.4.5/../../../../x86_64-pc-linux-gnu/bin/ld: skipping incompatible /usr/lib64/libc.a when searching for -lc
opengl_utils.o: In function `upload_surface_to_tex_memory_init':
/disk1/gentoo/var/tmp/portage/wine-0.9.8-r1/work/wine-0.9.8/dlls/ddraw/opengl_utils.c:909: undefined reference to `__wine_dbg_get_channel_flags'
collect2: ld returned 1 exit status
winegcc: x86_64-pc-linux-gnu-gcc failed.
make[2]: *** [ddraw.dll.so] Error 2
make[2]: Leaving directory `/disk1/gentoo/var/tmp/portage/wine-0.9.8-r1/work/wine-0.9.8/dlls/ddraw'
make[1]: *** [ddraw] Error 2
make[1]: *** Waiting for unfinished jobs....
x86_64-pc-linux-gnu-gcc -c -I. -I. -I../../include -I../../include  -D__WINESRC__ -DWINE_NO_DEBUG_MSGS -DWINE_NO_TRACE_MSGS  -D_REENTRANT -fPIC -Wall -pipe -fno-strict-aliasing -gstabs+ -Wdeclaration-after-statement -Wpointer-arith  -march=k8 -O2 -pipe  -o dib_dst_swap.o dib_dst_swap.c
x86_64-pc-linux-gnu-gcc -c -I. -I. -I../../include -I../../include  -D__WINESRC__ -DWINE_NO_DEBUG_MSGS -DWINE_NO_TRACE_MSGS  -D_REENTRANT -fPIC -Wall -pipe -fno-strict-aliasing -gstabs+ -Wdeclaration-after-statement -Wpointer-arith  -march=k8 -O2 -pipe  -o dib_src_swap.o dib_src_swap.c
x86_64-pc-linux-gnu-gcc -c -I. -I. -I../../include -I../../include  -D__WINESRC__ -DWINE_NO_DEBUG_MSGS -DWINE_NO_TRACE_MSGS  -D_REENTRANT -fPIC -Wall -pipe -fno-strict-aliasing -gstabs+ -Wdeclaration-after-statement -Wpointer-arith  -march=k8 -O2 -pipe  -o event.o event.c
x86_64-pc-linux-gnu-gcc -c -I. -I. -I../../include -I../../include  -D__WINESRC__ -DWINE_NO_DEBUG_MSGS -DWINE_NO_TRACE_MSGS  -D_REENTRANT -fPIC -Wall -pipe -fno-strict-aliasing -gstabs+ -Wdeclaration-after-statement -Wpointer-arith  -march=k8 -O2 -pipe  -o graphics.o graphics.c
event.c:127: warning: 'dbgstr_event' defined but not used
x86_64-pc-linux-gnu-gcc -c -I. -I. -I../../include -I../../include  -D__WINESRC__ -DWINE_NO_DEBUG_MSGS -DWINE_NO_TRACE_MSGS  -D_REENTRANT -fPIC -Wall -pipe -fno-strict-aliasing -gstabs+ -Wdeclaration-after-statement -Wpointer-arith  -march=k8 -O2 -pipe  -o init.o init.c
x86_64-pc-linux-gnu-gcc -c -I. -I. -I../../include -I../../include  -D__WINESRC__ -DWINE_NO_DEBUG_MSGS -DWINE_NO_TRACE_MSGS  -D_REENTRANT -fPIC -Wall -pipe -fno-strict-aliasing -gstabs+ -Wdeclaration-after-statement -Wpointer-arith  -march=k8 -O2 -pipe  -o keyboard.o keyboard.c
x86_64-pc-linux-gnu-gcc -c -I. -I. -I../../include -I../../include  -D__WINESRC__ -DWINE_NO_DEBUG_MSGS -DWINE_NO_TRACE_MSGS  -D_REENTRANT -fPIC -Wall -pipe -fno-strict-aliasing -gstabs+ -Wdeclaration-after-statement -Wpointer-arith  -march=k8 -O2 -pipe  -o mouse.o mouse.c
x86_64-pc-linux-gnu-gcc -c -I. -I. -I../../include -I../../include  -D__WINESRC__ -DWINE_NO_DEBUG_MSGS -DWINE_NO_TRACE_MSGS  -D_REENTRANT -fPIC -Wall -pipe -fno-strict-aliasing -gstabs+ -Wdeclaration-after-statement -Wpointer-arith  -march=k8 -O2 -pipe  -o opengl.o opengl.c
x86_64-pc-linux-gnu-gcc -c -I. -I. -I../../include -I../../include  -D__WINESRC__ -DWINE_NO_DEBUG_MSGS -DWINE_NO_TRACE_MSGS  -D_REENTRANT -fPIC -Wall -pipe -fno-strict-aliasing -gstabs+ -Wdeclaration-after-statement -Wpointer-arith  -march=k8 -O2 -pipe  -o palette.o palette.c
x86_64-pc-linux-gnu-gcc -c -I. -I. -I../../include -I../../include  -D__WINESRC__ -DWINE_NO_DEBUG_MSGS -DWINE_NO_TRACE_MSGS  -D_REENTRANT -fPIC -Wall -pipe -fno-strict-aliasing -gstabs+ -Wdeclaration-after-statement -Wpointer-arith  -march=k8 -O2 -pipe  -o pen.o pen.c
x86_64-pc-linux-gnu-gcc -c -I. -I. -I../../include -I../../include  -D__WINESRC__ -DWINE_NO_DEBUG_MSGS -DWINE_NO_TRACE_MSGS  -D_REENTRANT -fPIC -Wall -pipe -fno-strict-aliasing -gstabs+ -Wdeclaration-after-statement -Wpointer-arith  -march=k8 -O2 -pipe  -o scroll.o scroll.c
x86_64-pc-linux-gnu-gcc -c -I. -I. -I../../include -I../../include  -D__WINESRC__ -DWINE_NO_DEBUG_MSGS -DWINE_NO_TRACE_MSGS  -D_REENTRANT -fPIC -Wall -pipe -fno-strict-aliasing -gstabs+ -Wdeclaration-after-statement -Wpointer-arith  -march=k8 -O2 -pipe  -o settings.o settings.c
x86_64-pc-linux-gnu-gcc -c -I. -I. -I../../include -I../../include  -D__WINESRC__ -DWINE_NO_DEBUG_MSGS -DWINE_NO_TRACE_MSGS  -D_REENTRANT -fPIC -Wall -pipe -fno-strict-aliasing -gstabs+ -Wdeclaration-after-statement -Wpointer-arith  -march=k8 -O2 -pipe  -o text.o text.c
settings.c:211: warning: '_CDS_flags' defined but not used
settings.c:222: warning: '_DM_fields' defined but not used
x86_64-pc-linux-gnu-gcc -c -I. -I. -I../../include -I../../include  -D__WINESRC__ -DWINE_NO_DEBUG_MSGS -DWINE_NO_TRACE_MSGS  -D_REENTRANT -fPIC -Wall -pipe -fno-strict-aliasing -gstabs+ -Wdeclaration-after-statement -Wpointer-arith  -march=k8 -O2 -pipe  -o window.o window.c
x86_64-pc-linux-gnu-gcc -c -I. -I. -I../../include -I../../include  -D__WINESRC__ -DWINE_NO_DEBUG_MSGS -DWINE_NO_TRACE_MSGS  -D_REENTRANT -fPIC -Wall -pipe -fno-strict-aliasing -gstabs+ -Wdeclaration-after-statement -Wpointer-arith  -march=k8 -O2 -pipe  -o winpos.o winpos.c
x86_64-pc-linux-gnu-gcc -c -I. -I. -I../../include -I../../include  -D__WINESRC__ -DWINE_NO_DEBUG_MSGS -DWINE_NO_TRACE_MSGS  -D_REENTRANT -fPIC -Wall -pipe -fno-strict-aliasing -gstabs+ -Wdeclaration-after-statement -Wpointer-arith  -march=k8 -O2 -pipe  -o wintab.o wintab.c
x86_64-pc-linux-gnu-gcc -c -I. -I. -I../../include -I../../include  -D__WINESRC__ -DWINE_NO_DEBUG_MSGS -DWINE_NO_TRACE_MSGS  -D_REENTRANT -fPIC -Wall -pipe -fno-strict-aliasing -gstabs+ -Wdeclaration-after-statement -Wpointer-arith  -march=k8 -O2 -pipe  -o x11ddraw.o x11ddraw.c
x86_64-pc-linux-gnu-gcc -c -I. -I. -I../../include -I../../include  -D__WINESRC__ -DWINE_NO_DEBUG_MSGS -DWINE_NO_TRACE_MSGS  -D_REENTRANT -fPIC -Wall -pipe -fno-strict-aliasing -gstabs+ -Wdeclaration-after-statement -Wpointer-arith  -march=k8 -O2 -pipe  -o x11drv_main.o x11drv_main.c
x86_64-pc-linux-gnu-gcc -c -I. -I. -I../../include -I../../include  -D__WINESRC__ -DWINE_NO_DEBUG_MSGS -DWINE_NO_TRACE_MSGS  -D_REENTRANT -fPIC -Wall -pipe -fno-strict-aliasing -gstabs+ -Wdeclaration-after-statement -Wpointer-arith  -march=k8 -O2 -pipe  -o xdnd.o xdnd.c
x86_64-pc-linux-gnu-gcc -c -I. -I. -I../../include -I../../include  -D__WINESRC__ -DWINE_NO_DEBUG_MSGS -DWINE_NO_TRACE_MSGS  -D_REENTRANT -fPIC -Wall -pipe -fno-strict-aliasing -gstabs+ -Wdeclaration-after-statement -Wpointer-arith  -march=k8 -O2 -pipe  -o xfont.o xfont.c
x86_64-pc-linux-gnu-gcc -c -I. -I. -I../../include -I../../include  -D__WINESRC__ -DWINE_NO_DEBUG_MSGS -DWINE_NO_TRACE_MSGS  -D_REENTRANT -fPIC -Wall -pipe -fno-strict-aliasing -gstabs+ -Wdeclaration-after-statement -Wpointer-arith  -march=k8 -O2 -pipe  -o xim.o xim.c
xfont.c: In function `LFD_InitFontInfo':
xfont.c:632: warning: unused variable `ridiculous'
xim.c: In function `X11DRV_SetupXIM':
xim.c:388: warning: unused variable `style'
x86_64-pc-linux-gnu-gcc -c -I. -I. -I../../include -I../../include  -D__WINESRC__ -DWINE_NO_DEBUG_MSGS -DWINE_NO_TRACE_MSGS  -D_REENTRANT -fPIC -Wall -pipe -fno-strict-aliasing -gstabs+ -Wdeclaration-after-statement -Wpointer-arith  -march=k8 -O2 -pipe  -o xrandr.o xrandr.c
x86_64-pc-linux-gnu-gcc -c -I. -I. -I../../include -I../../include  -D__WINESRC__ -DWINE_NO_DEBUG_MSGS -DWINE_NO_TRACE_MSGS  -D_REENTRANT -fPIC -Wall -pipe -fno-strict-aliasing -gstabs+ -Wdeclaration-after-statement -Wpointer-arith  -march=k8 -O2 -pipe  -o xrender.o xrender.c
x86_64-pc-linux-gnu-gcc -c -I. -I. -I../../include -I../../include  -D__WINESRC__ -DWINE_NO_DEBUG_MSGS -DWINE_NO_TRACE_MSGS  -D_REENTRANT -fPIC -Wall -pipe -fno-strict-aliasing -gstabs+ -Wdeclaration-after-statement -Wpointer-arith  -march=k8 -O2 -pipe  -o xvidmode.o xvidmode.c
xrender.c: In function `X11DRV_XRender_ExtTextOut':
xrender.c:1076: warning: unused variable `hdc'
../../tools/winegcc/winegcc -B../../tools/winebuild -shared ./winex11.drv.spec    bitblt.o bitmap.o brush.o clipboard.o clipping.o codepage.o dce.o desktop.o dga2.o dib.o dib_convert.o dib_dst_swap.o dib_src_swap.o event.o graphics.o init.o keyboard.o mouse.o opengl.o palette.o pen.o scroll.o settings.o text.o window.o winpos.o wintab.o x11ddraw.o x11drv_main.o xdnd.o xfont.o xim.o xrandr.o xrender.o xvidmode.o     -o winex11.drv.so -L../../dlls -L../../dlls/user32 -L../../dlls/gdi32 -L../../dlls/advapi32 -L../../dlls/kernel32 -L../../dlls/ntdll -luser32 -lgdi32 -ladvapi32 -lkernel32 -lntdll  -L../../libs/wine -lwine -L../../libs/unicode -lwine_unicode  -L/usr/lib64  -lSM -lICE -lXxf86dga -lXxf86vm -lXext -lX11  -L../../libs/port -lwine_port
/usr/lib/gcc/x86_64-pc-linux-gnu/3.4.5/../../../../x86_64-pc-linux-gnu/bin/ld: skipping incompatible /usr/lib64/libm.so when searching for -lm
/usr/lib/gcc/x86_64-pc-linux-gnu/3.4.5/../../../../x86_64-pc-linux-gnu/bin/ld: skipping incompatible /usr/lib64/libm.a when searching for -lm
/usr/lib/gcc/x86_64-pc-linux-gnu/3.4.5/../../../../x86_64-pc-linux-gnu/bin/ld: skipping incompatible /usr/lib64/libc.so when searching for -lc
/usr/lib/gcc/x86_64-pc-linux-gnu/3.4.5/../../../../x86_64-pc-linux-gnu/bin/ld: skipping incompatible /usr/lib64/libc.a when searching for -lc
/usr/lib/gcc/x86_64-pc-linux-gnu/3.4.5/../../../../x86_64-pc-linux-gnu/bin/ld: skipping incompatible /usr/lib64/libc.so when searching for -lc
/usr/lib/gcc/x86_64-pc-linux-gnu/3.4.5/../../../../x86_64-pc-linux-gnu/bin/ld: skipping incompatible /usr/lib64/libc.a when searching for -lc
make[2]: Leaving directory `/disk1/gentoo/var/tmp/portage/wine-0.9.8-r1/work/wine-0.9.8/dlls/x11drv'
make[1]: Leaving directory `/disk1/gentoo/var/tmp/portage/wine-0.9.8-r1/work/wine-0.9.8/dlls'
make: *** [dlls] Error 2

!!! ERROR: app-emulation/wine-0.9.8-r1 failed.
Call stack:
  ebuild.sh, line 1526:   Called dyn_compile
  ebuild.sh, line 923:   Called src_compile
  wine-0.9.8-r1.ebuild, line 120:   Called die

-----------------------
# emerge --info
Portage 2.1_pre7-r3 (default-linux/amd64/2006.0, gcc-3.4.5, glibc-2.3.5-r2, 2.6.15-gentoo-r5 x86_64)
=================================================================
System uname: 2.6.15-gentoo-r5 x86_64 AMD Athlon(tm) 64 Processor 3500+
Gentoo Base System version 1.6.14
dev-lang/python:     2.3.5-r2, 2.4.2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=k8 -O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config /usr/lib64/mozilla/defaults/pref /usr/share/X11/xkb /usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/ /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/eselect/compiler /etc/gconf /etc/splash /etc/terminfo /etc/env.d"
CXXFLAGS="-march=k8 -O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/disk1/gentoo/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage /usr/local/overlays/vmware"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="amd64 X aac alsa avi bonobo cairo cdr cgi cli ctype cups dba dbus divx4linux dri dv dvd dvdr dvdread dvi emboss encode expat fastbuild firefox flac font-server foomaticdb force-cgi-redirect fortran ftp gd gif glitz gnome gphoto2 gpm gstreamer gtk gtk2 hal imagemagick imlib isdnlog jpeg lzw lzw-tiff mad mbox memlimit mikmod mozcalendar mozsvg mp3 mpeg mplayer nautilus ncurses network nptl nptlonly nsplugin nvidia ofx ogg oggvorbis opengl oss pam pcre pdflib perl png posix pppd python qt quicktime readline samba sdl session simplexml soap sockets spell spl ssl svg tcpd theora tiff tokenizer truetype truetype-fonts type1-fonts unicode usb v4l v4l2 vorbis wmf xml xmms xosd xpm xsl xv xvid xvmc zlib elibc_glibc input_devices_keyboard input_devices_mouse input_devices_evdev kernel_linux userland_GNU video_cards_vesa video_cards_fbdev video_cards_nvidia"
Unset:  ASFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGUAS




Comment 1


Christophe





          2006-04-08 12:22:53 UTC
        

Forgot to say I found that bug... but not sure if same. Besides was closed, but none of the solution mentionned worked.

http://bugs.gentoo.org/show_bug.cgi?id=82758





Comment 2


SpanKY






          2006-04-30 03:14:15 UTC
        

run `MAKEOPTS=-j1 emerge wine >& log` and post the log as an attachment




Comment 3


Christophe





          2006-04-30 06:59:38 UTC
        

Created attachment 85827 [details]
emerge log with j1

I re-run also the normal version (-j2), and found the same error as in this one. It was just so much back I missed it before - sorry.




Comment 4


SpanKY






          2006-09-13 17:38:52 UTC
        

try with the latest versions









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

