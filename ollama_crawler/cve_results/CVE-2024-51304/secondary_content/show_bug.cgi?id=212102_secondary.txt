Title: 212102 – app-text/xdvik-22.84.10 fails to build/configure - multiplatform: invalid feature name
URL: https://bugs.gentoo.org/show_bug.cgi?id=212102

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 212102
app-text/xdvik-22.84.10 fails to build/configure - multiplatform: invalid feature name
Last modified: 2008-05-13 08:01:30 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 212102 
      - app-text/xdvik-22.84.10 fails to build/configure - multiplatform: invalid feature name


Summary:
app-text/xdvik-22.84.10 fails to build/configure - multiplatform: invalid fea...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

CJK Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-03-02 18:53 UTC by Priit Laes (IRC: plaes)





      Modified:
    
2008-05-13 08:01 UTC
      (History)
    




          CC List:
        

3 
          users
          
            (show)
          



amd64
mmokrejs
pva









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build.log

              (build.log,2.10 KB,
                text/plain)

            
2008-04-17 11:39 UTC,

            Priit Laes (IRC: plaes)




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Priit Laes (IRC: plaes)





          2008-03-02 18:53:20 UTC
        

[snip]
./configure --prefix=/usr --host=x86_64-pc-linux-gnu --mandir=/usr/share/man --infodir=/usr/share/info --datadir=/usr/share --sysconfdir=/etc --localstatedir=/var/lib --disable-multiplatform --enable-t1lib --enable-gf --with-system-t1lib --with-xdvi-x-toolkit=xaw --libdir=/usr/lib64 --build=x86_64-pc-linux-gnu
configure: error: multiplatform: invalid feature name
[/snip]

plaes@chi ~/code/gentoo/gnome $ emerge --info
Portage 2.1.4.4 (default-linux/amd64/2007.0/no-multilib, gcc-4.2.3, glibc-2.7-r1, 2.6.25-rc3-00081-g7704a8b x86_64)
=================================================================
System uname: 2.6.25-rc3-00081-g7704a8b x86_64 Intel(R) Core(TM)2 CPU L7400 @ 1.50GHz
Timestamp of tree: Sun, 02 Mar 2008 15:00:03 +0000
ccache version 2.4 [enabled]
app-shells/bash:     3.2_p33
dev-lang/python:     2.5.1-r5
dev-python/pycrypto: 2.0.1-r6
dev-util/ccache:     2.4-r7
sys-apps/baselayout: 2.0.0_rc6-r1
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.61-r1
sys-devel/automake:  1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.1
sys-devel/binutils:  2.18-r1
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.24
ACCEPT_KEYWORDS="amd64 ~amd64"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=native -ggdb -O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc"
CONFIG_PROTECT_MASK="/etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-march=native -ggdb -O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="ccache collision-protect distlocks metadata-transfer multilib-strict parallel-fetch sandbox sfperms splitdebug strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LANG="et_EE.UTF-8"
LDFLAGS="-Wl,--as-needed"
LINGUAS="en et"
MAKEOPTS="-j1"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/home/plaes/code/gentoo/gnome /home/plaes/code/gentoo/local"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X a52 aac acpi adns alsa amd64 amr apache2 ares avahi berkdb bitmap-fonts blas bluetooth bzip2 cairo cdr cjk cli cracklib crypt cups curl daap dbus dga djvu dri dvd dvdr dvi eds encode exif fam ffmpeg firefox flac fortran fuse galago gdbm gif gimp glitz gmp gnome gnutls gphoto2 gs gsl gstreamer gtk hal hdri iconv idn ipv6 isdnlog jpeg kdrive keyring lapack laptop lcms libnotify lzo mad midi mmx mng mozdevelop mp3 mpeg mudflap nautilus ncurses network network-cron networkmanager nls nptl nptlonly nsplugin ogg opengl openmp pam pcmcia pcre pdf perl png pppd python readline reflection samba sdl session smp spl sse sse2 ssl svg tcpd theora tiff tracker truetype truetype-fonts type1-fonts unicode usb vim-syntax vorbis x264 xcb xinerama xml xmp xorg xv xvid xvmc zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic auth_digest authn_anon authn_dbd authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock dbd deflate dir disk_cache env expires ext_filter file_cache filter headers ident imagemap include info log_config logio mem_cache mime mime_magic negotiation proxy proxy_ajp proxy_balancer proxy_connect proxy_http rewrite setenvif so speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en et" USERLAND="GNU" VIDEO_CARDS="i810"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LC_ALL, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Peter Volkov (RETIRED)






          2008-04-16 15:24:03 UTC
        

Priit, thank you for report. I did not manage to reproduce this bug. Please, attach config.log and full build.log.




Comment 2


Priit Laes (IRC: plaes)





          2008-04-17 11:37:42 UTC
        

Apparently it is caused by the no-multilib profile.






Comment 3


Priit Laes (IRC: plaes)





          2008-04-17 11:39:42 UTC
        

Created attachment 150031 [details]
build.log

Apparently no config.log has been generated. :(




Comment 4


Martin Mokrejš





          2008-05-01 17:16:47 UTC
        

I just guess that the ebuild executes a binary configure distributed in the package instead of generating configure binary on you host by your own tools. So, I suspect binary incompatibility.




Comment 5


Peter Volkov (RETIRED)






          2008-05-04 06:39:55 UTC
        

This bug requires amd64 hardware to be tested/fixed. Adding team in loop.




Comment 6


Martin Mokrejš





          2008-05-06 12:28:40 UTC
        

Sorry, scratch my comment #4. It is probably caused by --disable-multiplatform hard-wired in the ebuild.




Comment 7


Peter Volkov (RETIRED)






          2008-05-13 07:41:13 UTC
        

Priit, sorry but I failed to reproduce your issue so you have to dig something useful for us. Try to unpack xdvik and run configure manually. Does this works?
If you do
cd /var/tmp/portage/app-text/xdvik-22.84.10/work
and run configure there. Will this work? Do you see anything suspicious?




Comment 8


Priit Laes (IRC: plaes)





          2008-05-13 08:01:30 UTC
        

I can't reproduce it either anymore. Sorry for leaving this open for so long...









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

