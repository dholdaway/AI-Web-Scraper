Title: 208370 – dev-libs/libevent-1.3a fails with FEATURES=test
URL: https://bugs.gentoo.org/show_bug.cgi?id=208370

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 208370
dev-libs/libevent-1.3a fails with FEATURES=test
Last modified: 2009-04-02 02:21:25 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 208370 
      - dev-libs/libevent-1.3a fails with FEATURES=test


Summary:
dev-libs/libevent-1.3a fails with FEATURES=test
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Library

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Jeroen Roovers (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-02-01 00:09 UTC by Christoph Budziszewski





      Modified:
    
2009-04-02 02:21 UTC
      (History)
    




          CC List:
        

3 
          users
          
            (show)
          



caleb
hardened
kevin.fullerton









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build log

              (dev-libs:libevent-1.3a:20080131-232807.log,17.54 KB,
                text/plain)

            
2008-02-01 00:10 UTC,

            Christoph Budziszewski




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Christoph Budziszewski





          2008-02-01 00:09:38 UTC
        

>>> Source compiled.
 * Building tests
make: Nothing to be done for `test'.
 * Running tests
type: 1, count: 1, ttl: 300: 152.160.49.201 type: 1, count: 1, ttl: 278: 152.160.49.201 type: 1, count: 1, ttl: 255: 152.160.49.201 Running tests:
KQUEUE
Skipping test
DEVPOLL
Skipping test
POLL
 test-eof: OKAY
 test-weof: OKAY
 test-time: OKAY
 regress: FAILED
SELECT
 test-eof: OKAY
 test-weof: OKAY
 test-time: OKAY
 regress: FAILED
RTSIG
Skipping test
EPOLL
 test-eof: OKAY
 test-weof: OKAY
 test-time: OKAY
 regress: FAILED
 *
 * ERROR: dev-libs/libevent-1.3a failed.


Reproducible: Always

Steps to Reproduce:
1. emerge -e world

Actual Results:  
Fails.

Expected Results:  
No Errors

emerge --info
Portage 2.1.4 (default-linux/x86/2006.1, gcc-4.1.2, glibc-2.7-r1, 2.6.22-hardened-r7-sharkbait i686)
=================================================================
System uname: 2.6.22-hardened-r7-sharkbait i686 Intel(R) Pentium(R) 4 CPU 3.00GHz
Timestamp of tree: Sun, 27 Jan 2008 21:30:01 +0000
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
ccache version 2.4 [enabled]
app-shells/bash:     3.2_p17-r1
dev-java/java-config: 1.3.7, 2.0.33-r1
dev-lang/python:     2.4.4-r6
dev-python/pycrypto: 2.0.1-r6
dev-util/ccache:     2.4-r7
sys-apps/baselayout: 1.12.10-r5
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.61-r1
sys-devel/automake:  1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.18-r1
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.24
virtual/os-headers:  2.6.24
ACCEPT_KEYWORDS="x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS=" -O2 -march=pentium4 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/config /var/qmail/alias /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/splash /etc/terminfo /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS=" -O2 -march=pentium4 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
EMERGE_DEFAULT_OPTS="--nospinner"
FEATURES="ccache collision-protect distlocks metadata-transfer parallel-fetch sandbox sfperms strict test unmerge-orphans userfetch userpriv usersandbox"
GENTOO_MIRRORS="http://linux.rz.ruhr-uni-bochum.de/download/gentoo-mirror/ ftp://ftp.join.uni-muenster.de/pub/linux/distributions/gentoo"
LINGUAS="de"
MAKEOPTS="-j5 -s"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp/"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portage/local/layman/gentoo-de /usr/portage/local/layman/wrobel /usr/portage/local/layman/trauma /usr/portage/local/layman/portage-budzi /usr/local/portage-local"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X aac aalib acl acpi alsa apache2 bash-completion berkdb bitmap-fonts branding cairo cli cracklib crypt cups dbus divx dlloader dri dvd dvdr encode ffmpeg flac fortran gd gdbm geldkarte glitz gpm gtk2 hal hbci iconv imap ipv6 isdnlog jack jpeg kde kdeenablefinal kerberos ldap libcaca lirc lm_sensors midi mmx mp3 mpeg mudflap mysql nas ncurses nls nogcj nptl nptlonly objc opengl openmp pam pcre pda pdflib perl png postgres ppds pppd python qt qt3 qt4 readline reflection samba scanner scsh sdl session smp spl sse sse2 ssl tcpd threads truetype-fonts type1-fonts unicode usb x86 xface xinerama xorg xprint xvid zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1 emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic auth_digest authn_anon authn_dbd authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock dbd deflate dir disk_cache env expires ext_filter file_cache filter headers ident imagemap include info log_config logio mem_cache mime mime_magic negotiation proxy proxy_ajp proxy_balancer proxy_connect proxy_http rewrite setenvif so speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="keyboard mouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="de" LIRC_DEVICES="hauppauge" USERLAND="GNU" VIDEO_CARDS="nv nvidia vesa"
Unset:  CPPFLAGS, CTARGET, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Christoph Budziszewski





          2008-02-01 00:10:30 UTC
        

Created attachment 142353 [details]
build log




Comment 2


Kevin Fullerton





          2008-02-15 21:25:17 UTC
        

I've had a look at this and on my machine at least it seems to be the IPv6 DNS tests that fail as shown in the below output

bugs test # ./regress
<snip passed tests>
IPv6 DNS resolve: FAILED

It might be worth passing this upstream as it seems the IPv6 detection in the tests isn't working correctly?




Comment 3


Jeroen Roovers (RETIRED)






          2009-04-02 02:21:25 UTC
        

I cannot reproduce this bug with libevent-1.4.9. Please reopen this bug report if that version fails the EPOLL/regress test as well.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

