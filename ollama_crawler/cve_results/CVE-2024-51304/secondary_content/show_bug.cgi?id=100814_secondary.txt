Title: 100814 – Compile hangs during upgrade to app-text/docbook-sgml-utils-0.6.14
URL: https://bugs.gentoo.org/show_bug.cgi?id=100814

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 100814
Compile hangs during upgrade to app-text/docbook-sgml-utils-0.6.14
Last modified: 2005-10-31 02:43:26 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 100814 
      - Compile hangs during upgrade to app-text/docbook-sgml-utils-0.6.14


Summary:
Compile hangs during upgrade to app-text/docbook-sgml-utils-0.6.14
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       major
      


Assignee:

Text-Markup Team (OBSOLETE)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-07-30 07:31 UTC by Jimi A.





      Modified:
    
2005-10-31 02:43 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



stian









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




strace log file for suspect process

              (log.21200,16.17 KB,
                text/plain)

            
2005-10-08 17:39 UTC,

            Bernard M




Details





log file from second jade process

              (log.21169,25.79 KB,
                text/plain)

            
2005-10-08 17:45 UTC,

            Bernard M




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Jimi A.





          2005-07-30 07:31:31 UTC
        

For months, I have tried to upgrade app-text/docbook-sgml-utils-0.6.12 without
much success. The compilation process hangs, and I have to CTRL-C to break out
of it.

Reproducible: Always
Steps to Reproduce:
1. emerge docbook-sgml-utils (it appears everytime I try to emerge -Dun world)
2. (Wait for 12 hours or more)
3. CTRL-C

Actual Results:  
The cursor is returned, and I try to compile other packages. This pesky
application is always reminding me that it needs to be upgraded. I guess this
qualifies as a catch-22?

Expected Results:  
Uh... complete the compilation process?

*** emerge --buildpkg docbook-sgml-utils
Calculating dependencies - ...done!
>>> emerge (1 of 1) app-text/docbook-sgml-utils-0.6.14 to /
>>> emerge (1 of 1) app-text/docbook-sgml-utils-0.6.14 to /
emerge: (1 of 1) app-text/docbook-sgml-utils-0.6.14
Clean mv: cannot stat
`/var/tmp/portage/docbook-sgml-utils-0.6.14/temp/environment': No such file or
directory
emerge: (1 of 1) app-text/docbook-sgml-utils-0.6.14
Compile >>> md5 files   ;-) docbook-sgml-utils-0.6.12.ebuild
>>> md5 files   ;-) docbook-sgml-utils-0.6.12-r2.ebuild
>>> md5 files   ;-) docbook-sgml-utils-0.6.14.ebuild
>>> md5 files   ;-) files/docbook-sgml-utils-frontend.patch
>>> md5 files   ;-) files/docbook-sgml-utils-head-jw.patch
>>> md5 files   ;-) files/docbook-sgml-utils-backend.patch
>>> md5 files   ;-) files/digest-docbook-sgml-utils-0.6.12-r2
>>> md5 files   ;-) files/docbook-sgml-utils-0.6.14-backend.patch
>>> md5 files   ;-) files/digest-docbook-sgml-utils-0.6.12
>>> md5 files   ;-) files/digest-docbook-sgml-utils-0.6.14
>>> md5 src_uri ;-) docbook-utils-0.6.14.tar.gz
>>> Checking docbook-utils-0.6.14.tar.gz's mtime...
>>> WORKDIR is up-to-date, keeping...

./configure --prefix=/usr --host=i686-pc-linux-gnu --mandir=/usr/share/man
--infodir=/usr/share/info --datadir=/usr/share --sysconfdir=/etc
--localstatedir=/var/lib --build=i686-pc-linux-gnu
checking for a BSD-compatible install... /bin/install -c
checking whether build environment is sane... yes
checking for gawk... gawk
checking whether make sets $(MAKE)... yes
configure: creating ./config.status
config.status: creating Makefile
config.status: creating docbook-utils.spec
config.status: creating bin/Makefile
config.status: creating bin/jw

config.status: creating bin/sgmldiff

config.status: creating backends/Makefile
config.status: creating backends/man
config.status: creating backends/texi
config.status: creating frontends/Makefile
config.status: creating frontends/docbook
config.status: creating helpers/Makefile
config.status: creating doc/Makefile
config.status: creating doc/version
config.status: creating doc/refentry/Makefile
config.status: creating doc/man/Makefile
config.status: creating doc/HTML/Makefile
Making all in backends
make[1]: Entering directory
`/var/tmp/portage/docbook-sgml-utils-0.6.14/work/docbook-utils-0.6.14/backends'
make[1]: Nothing to be done for `all'.
make[1]: Leaving directory
`/var/tmp/portage/docbook-sgml-utils-0.6.14/work/docbook-utils-0.6.14/backends'
Making all in bin
make[1]: Entering directory
`/var/tmp/portage/docbook-sgml-utils-0.6.14/work/docbook-utils-0.6.14/bin'
make[1]: Nothing to be done for `all'.
make[1]: Leaving directory
`/var/tmp/portage/docbook-sgml-utils-0.6.14/work/docbook-utils-0.6.14/bin'
Making all in doc
make[1]: Entering directory
`/var/tmp/portage/docbook-sgml-utils-0.6.14/work/docbook-utils-0.6.14/doc'
Making all in refentry
make[2]: Entering directory
`/var/tmp/portage/docbook-sgml-utils-0.6.14/work/docbook-utils-0.6.14/doc/refentry'

make[2]: Nothing to be done for `all'.
make[2]: Leaving directory
`/var/tmp/portage/docbook-sgml-utils-0.6.14/work/docbook-utils-0.6.14/doc/refentry'
Making all in man
make[2]: Entering directory
`/var/tmp/portage/docbook-sgml-utils-0.6.14/work/docbook-utils-0.6.14/doc/man'
make[2]: Nothing to be done for `all'.
make[2]: Leaving directory
`/var/tmp/portage/docbook-sgml-utils-0.6.14/work/docbook-utils-0.6.14/doc/man'
Making all in HTML
make[2]: Entering directory
`/var/tmp/portage/docbook-sgml-utils-0.6.14/work/docbook-utils-0.6.14/doc/HTML'
SGML_CATALOG_FILES=/etc/sgml/catalog \
SGML_SEARCH_PATH=../..:../../doc:.. \
	jade -t sgml -i html -d ../../docbook-utils.dsl\#html \
		-V '%use-id-as-filename%' ../../doc/docbook-utils.sgml
SGML_CATALOG_FILES=/etc/sgml/catalog \
SGML_SEARCH_PATH=../..:../../doc:.. \
	jade -t sgml -i html -d ../../docbook-utils.dsl\#html \
		-V '%use-id-as-filename%' ../../doc/docbook-utils.sgml
SGML_CATALOG_FILES=/etc/sgml/catalog \
SGML_SEARCH_PATH=../..:../../doc:.. \
	jade -t sgml -i html -d ../../docbook-utils.dsl\#html \
		-V '%use-id-as-filename%' ../../doc/docbook-utils.sgml
make[2]: *** [backend-spec.html] Interrupt
make[2]: *** [docbook2man.html] Interrupt
make[2]: *** [api.html] Interrupt
make[1]: *** [all-recursive] Interrupt
make: *** [all-recursive] Interrupt

/usr/portage/app-text/docbook-sgml-utils/docbook-sgml-utils-0.6.14.ebuild:
src_compile aborted; exiting.

sandbox:  Caught signal 2 in pid 10271

Exiting on signal 2;
*** terminating.




Comment 1


Stian Skjelstad





          2005-07-30 09:03:58 UTC
        

make info

version of openjade?




Comment 2


Stian Skjelstad





          2005-07-30 09:16:39 UTC
        

I ment  emerge info




Comment 3


Jimi A.





          2005-07-30 09:22:31 UTC
        

(In reply to comment #1)
> make info
GNU Make 3.80

> version of openjade?
openjade:I: "openjade" version "1.3.2"
openjade:I: "OpenSP" version "1.5.1"





Comment 4


Jimi A.





          2005-07-30 09:23:13 UTC
        

(In reply to comment #2)
> I ment  emerge info
Where would I find that?




Comment 5


Jimi A.





          2005-07-30 18:08:54 UTC
        

(In reply to comment #2)
> I ment  emerge info

Another dev told me it was an actual command. I did not realize this earlier.
Anyway, here is the requested information:

Gentoo Base System version 1.6.13 Portage 2.0.51.22-r2
(default-linux/x86/2005.0, gcc-3.3.5-20050130, glibc-2.3.5-r0, 2.6.11.10 i686)
================================================================= System uname:
2.6.11.10 i686 Intel(R) Pentium(R) 4 CPU 3.20GHz dev-lang/python: 2.3.5
sys-apps/sandbox: 1.2.11 sys-devel/autoconf: 2.13, 2.59-r6 sys-devel/automake:
1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.5 sys-devel/binutils:
2.15.92.0.2-r10 sys-devel/libtool: 1.4.3-r4, 1.5.18-r1 virtual/os-headers:
2.6.11-r2 ACCEPT_KEYWORDS="x86" AUTOCLEAN="yes" CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=pentium4 -O3 -pipe" CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config
/usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/
/usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/
/usr/share/texmf/xdvi/ /var/qmail/control" CONFIG_PROTECT_MASK="/etc/gconf
/etc/terminfo /etc/env.d" CXXFLAGS="-march=pentium4 -O3 -pipe"
DISTDIR="/usr/portage/distfiles" FEATURES="autoconfig buildpkg ccache distcc
distlocks fixpackages keeptemp keepwork noauto noclean nostrip sandbox sfperms
strict userpriv usersandbox" GENTOO_MIRRORS="http://gentoo.osuosl.org//
http://adelie.polymtl.ca// ftp://cs.ubishops.ca/pub/gentoo/
ftp://gentoo.risq.qc.ca//
ftp://distro.ibiblio.org/pub/linux/distributions/gentoo//
http://distro.ibiblio.org/pub/linux/distributions/gentoo//
ftp://ftp.gtlib.cc.gatech.edu/pub/gentoo/
ftp://mirror.iawnet.sandia.gov/pub/gentoo//
ftp://ftp.ussg.iu.edu/pub/linux/gentoo/ http://gentoo.seren.com/gentoo/
http://gentoo.chem.wisc.edu/gentoo// ftp://gentoo.chem.wisc.edu/gentoo//
http://gentoo.ccccom.com/ ftp://gentoo.ccccom.com/ http://gentoo.netnitco.net/
ftp://gentoo.netnitco.net/pub/mirrors/gentoo/source//
http://mirror.espri.arizona.edu/gentoo//
http://mirror.clarkson.edu/pub/distributions/gentoo//
http://mirrors.acm.cs.rpi.edu/gentoo// ftp://ftp.ndlug.nd.edu/pub/gentoo//
ftp://gentoo.arcticnetwork.ca/pub/gentoo// http://gentoo.arcticnetwork.ca//
http://open-systems.ufl.edu/mirrors/gentoo/ http://gentoo.llarian.net//
ftp://gentoo.llarian.net/pub/gentoo/ http://gentoo.binarycompass.org/
http://mirror.datapipe.net/gentoo/ http://mirror.datapipe.net/gentoo/
http://gentoo.cs.lewisu.edu/gentoo// ftp://linux.cs.lewisu.edu/gentoo//
http://prometheus.cs.wmich.edu/gentoo/ http://modzer0.cs.uaf.edu/public/gentoo//
http://mirror.usu.edu/mirrors/gentoo// ftp://mirror.usu.edu/mirrors/gentoo//
http://lug.mtu.edu/gentoo/ http://mirror.phy.olemiss.edu/mirror/gentoo/
http://mirror.mcs.anl.gov/pub/gentoo// ftp://mirror.mcs.anl.gov/pub/gentoo//
http://gentoo.mirrors.easynews.com/linux/gentoo//
http://gentoo.cites.uiuc.edu/pub/gentoo//
ftp://gentoo.cites.uiuc.edu/pub/gentoo/" MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages" PORTAGE_TMPDIR="/var/tmp" PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.us.gentoo.org/gentoo-portage" USE="x86 X alsa apm avi berkdb
bitmap-fonts bonobo crypt cups curl eds emboss encode esd fam flac foomaticdb
fortran gd gdbm gif gnome gpm gstreamer gtk gtk2 gtkhtml guile imagemagick imlib
ipv6 jack java jpeg junit libg++ libwww mad mikmod motif mozilla mp3 mpeg mysql
nas ncurses nls ogg oggvorbis opengl oss pam pdflib perl png postgres python
quicktime readline ruby sdl spell sqlite ssl svga tcltk tcpd tetex theora tiff
truetype truetype-fonts type1-fonts vorbis xml xml2 xmms xv zlib userland_GNU
kernel_linux elibc_glibc" Unset: ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS




Comment 6


Jakub Moc (RETIRED)






          2005-08-05 09:31:25 UTC
        

sys-devel/libtool: 1.4.3-r4 - ugh, unmerge it.




Comment 7


piotr





          2005-08-07 10:24:06 UTC
        

Same problem here, tried different gcc versions but didn't help




Comment 8


piotr





          2005-08-07 10:25:53 UTC
        

My emerge info:

Portage 2.0.51.22-r2 (default-linux/x86/2005.0, gcc-3.3.5-20050130,
glibc-2.3.5-r1, 2.6.11ac7 i686)
=================================================================
System uname: 2.6.11ac7 i686 AMD Athlon(tm) XP 2500+
Gentoo Base System version 1.6.13
ccache version 2.3 [disabled]
dev-lang/python:     2.3.5
sys-apps/sandbox:    1.2.11
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.5
sys-devel/binutils:  2.15.92.0.2-r10
sys-devel/libtool:   1.5.18-r1
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -mcpu=athlon-xp -march=athlon-xp -fomit-frame-pointer -msse -mmmx
-m3dnow -pipe -mfpmath= sse"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.3/env
/usr/kde/3.3/share/config /usr/kde/3.3/ shutdown /usr/kde/3.4/env
/usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config /us
r/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config
/usr/share/texmf/dvipdfm/config/ /usr/ share/texmf/dvips/config/
/usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /u
sr/share/texmf/xdvi/ /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -mcpu=athlon-xp -march=athlon-xp -fomit-frame-pointer -msse -mmmx
-m3dnow -pipe -mfpmat h=sse"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://gentoo.mirror.icd.hu/
http://mirror.gentoo.ru/pub/mirror/gentoo/ http://pandem
onium.tiscali.de/pub/gentoo/ http://gentoo.mirror.solnet.ch
http://ftp.uni-erlangen.de/pub/mirrors/ge ntoo
http://mirror.switch.ch/mirror/gentoo/ http://ftp.easynet.nl/mirror/gentoo/
http://ftp.heanet.ie /pub/gentoo/ http://mirror.uni-c.dk/gentoo/"
LDFLAGS="-Wl,-O1"
MAKEOPTS="-j1"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 3dnow 3dnowext X aac alsa apm arts avi berkdb bitmap-fonts bonobo cdr
crypt cups curl divx4l inux dvd dvdread eds emboss encode fam ffmpeg flac
foomaticdb fortran gdbm gif gnome gpm gtk gtk2 gtk html imagemagick imlib ipv6
jack java jpeg junit libg++ libwww lirc mad mikmod mmx mmx2 mmxext motif mozilla
mozsvg mp3 mpeg ncurses nls nptl ogg oggvorbis opengl pam pdflib perl png ppds
python qt quic ktime readline real sdl spell sse ssl svga tcltk tcpd tetex tiff
truetype truetype-fonts type1-fonts unicode v4l2 vorbis win32codecs xine xml
xml2 xmms xv xvid zlib userland_GNU kernel_linux elibc_glibc "
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LINGUAS





Comment 9


piotr





          2005-08-07 10:43:22 UTC
        

I re-emerged sys-devel/libtool and now docbook-sgml-utils compiles!!

I can't umerge libtool as Jakub Moc suggested: 


# emerge -c sys-devel/libtool

>>> clean: No packages selected for removal.

# emerge -va sys-devel/libtool

These are the packages that I would merge, in order:

Calculating dependencies ...done!
[ebuild   R   ] sys-devel/libtool-1.5.18-r1  0 kB

Total size of downloads: 0 kB





Comment 10


Jakub Moc (RETIRED)






          2005-08-12 12:31:59 UTC
        

(In reply to comment #9)
> I can't umerge libtool as Jakub Moc suggested: 
> # emerge -c sys-devel/libtool
> >>> clean: No packages selected for removal.

Right, man emerge is a really good reading...

emerge -C =sys-devel/libtool-1.4.3-r4





Comment 11


Bernard M





          2005-09-12 22:12:55 UTC
        

I have exactly the same error. I have tried re-compiling openjade and libtools
but it was no help. Still the same error. Error is:

Making all in HTML
make[2]: Entering directory
`/var/tmp/portage/docbook-sgml-utils-0.6.14/work/docbook-utils-0.6.14/doc/HTML'
SGML_CATALOG_FILES=/etc/sgml/catalog \
SGML_SEARCH_PATH=../..:../../doc:.. \
        jade -t sgml -i html -d ../../docbook-utils.dsl\#html \
                -V '%use-id-as-filename%' ../../doc/docbook-utils.sgml
SGML_CATALOG_FILES=/etc/sgml/catalog \
SGML_SEARCH_PATH=../..:../../doc:.. \
        jade -t sgml -i html -d ../../docbook-utils.dsl\#html \
                -V '%use-id-as-filename%' ../../doc/docbook-utils.sgml
sandbox:  Caught signal 2 in pid 17444
make[2]: *** [api.html] Interrupt
make[2]: *** [backend-spec.html] Interrupt
make[1]: *** [all-recursive] Interrupt
make: *** [all-recursive] Interrupt

/usr/portage/app-text/docbook-sgml-utils/docbook-sgml-utils-0.6.14.ebuild:
src_compile aborted; exiting.





Comment 12


Bernard M





          2005-09-12 22:16:14 UTC
        

By the way, my emerge info for the above post is:

--------------------------------
emerge info
Portage 2.0.51.22-r2 (default-linux/x86/2005.0, gcc-3.4.4, glibc-2.3.5-r1,
2.6.12-suspend2-r3 i686)
=================================================================
System uname: 2.6.12-suspend2-r3 i686 Intel(R) Pentium(R) M processor 1400MHz
Gentoo Base System version 1.12.0_pre8
ccache version 2.3 [enabled]
dev-lang/python:     2.3.5-r2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6
sys-devel/binutils:  2.15.92.0.2-r10
sys-devel/libtool:   1.5.18-r1
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS=" -O1 -march=pentium-m -mtune=pentium-m -fno-omit-frame-pointer  -fgcse 
-fcaller-saves  -fschedule-insns2 -fstrict-aliasing  -funswitch-loops
-minline-all-stringops  -funsafe-math-optimizations"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env
/usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS=" -O1 -march=pentium-m -mtune=pentium-m -fno-omit-frame-pointer  -fgcse
  -fcaller-saves  -fschedule-insns2 -fstrict-aliasing  -funswitch-loops
-minline-all-stringops  -funsafe-math-optimizations -fvisibility-inlines-hidden"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org
http://distro.ibiblio.org/pub/Linux/distributions/gentoo"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X aalib acpi alsa apm arts avi berkdb bitmap-fonts cdr crypt cups curl
dga directfb dvd eds emboss encode esd fam flac foomaticdb fortran gdbm gif
gnome gphoto2 gpm gstreamer gtk gtk2 imagemagick imlib ipv6 java jpeg kde ldap
libg++ libwww lirc mad mikmod motif mp3 mpeg mysql ncurses nls nptl nptlonly ogg
oggvorbis opengl oss pam pcmcia pdflib perl png ppds python qt quicktime
readline samba sdl slang spell sse ssl svga tcltk tcpd tiff truetype
truetype-fonts type1-fonts usb vorbis xine xinerama xml2 xmms xv zlib
userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS





Comment 13


Bernard M





          2005-09-18 19:23:12 UTC
        

Anyone looking at this bug??




Comment 14


Bernard M





          2005-09-18 19:36:08 UTC
        

I would suggest that someone who can, change the severity to "blocker" or at
least "critical" as I and others are unable to compile Gnome without this fixed.




Comment 15


Stian Skjelstad





          2005-09-18 23:03:20 UTC
        

Can an effected user provide a strace output from the emerge (with -o log -ff
flag for following childs in separate logs and provide the one from jade,
probably the one with the highest pid-number) and perhaps a "ps auxf" output
from the hanging process-tree.




Comment 16


Bernard M





          2005-09-21 14:02:43 UTC
        

Only too willing to help. Please specify how to do as you ask (i.e spell out the
steps for us non-developers...)




Comment 17


Stian Skjelstad





          2005-09-21 14:37:49 UTC
        

ps auxf     is self-explainatory (poll up a second terminal, write the command
and redirect the output to a file with   > ps.log

strace is a tool you need to install


strace -o log -f -ff emerge app-text/docbook-sgml-utils

will make a LOT of files named log and log.$PID. The one with the biggest PID
should be the command the is ran last (reflecting the same command as ps auxf
when that process reaches it's exec call)




what strace does, is to log ALL kernel calls programs does. Very powerfull tool
to find bugs that relate to programs that expects to get certain data via the
kernel.




Another nice thing you can do is

CFLAGS=-g CXXFLAGS-g FEATURES=nostrip emerge jade

(since I suspect jade to be the source of the problem)

When things hang, use ps auxf to verify that it is jade that is hanging, and do this

gdb /usr/bin/jade THE_PID_NUMBER_FROM_YOU_GET_FROM_PS
bt


bt meens to print a backtrace showing what the program does. The information
would be VERY valuable.




Comment 18


Johan Verrept





          2005-09-22 15:32:30 UTC
        

i dunno if this will let you figure out what is wrong, but i had the same
problem and got it fixed.

emerge unmerge app-text/dgs
emerge libtools
emerge jade
emerge esound

(since esound was the one hanging in my case)
Hope this helps you too.




Comment 19


Johan Verrept





          2005-09-22 15:45:38 UTC
        

> emerge jade

that should be 

emerge openjade






Comment 20


Bernard M





          2005-10-08 17:37:27 UTC
        

Ok, I have done the strace thing and have attached the log file from the suspect
process ... the later part of it is included below ...

I hope this can help someone sort out what is happening

-----------------------------------
lstat64("/var/db/group.db", 0xbfbd426c) = -1 ENOENT (No such file or directory)
lstat64("/var", {st_mode=S_IFDIR|0755, st_size=336, ...}) = 0
lstat64("/var/db", {st_mode=S_IFDIR|0755, st_size=72, ...}) = 0
lstat64("/var/db/passwd.db", 0xbfbd426c) = -1 ENOENT (No such file or
directory)lstat64("/proc", {st_mode=S_IFDIR|0555, st_size=0, ...}) = 0
lstat64("/proc/self", {st_mode=S_IFLNK|0777, st_size=64, ...}) = 0
readlink("/proc/self", "21200", 4096)   = 5
lstat64("/proc/21200", {st_mode=S_IFDIR|0555, st_size=0, ...}) = 0
lstat64("/proc/21200/maps", {st_mode=S_IFREG|0444, st_size=0, ...}) = 0
lstat64("/dev", {st_mode=S_IFDIR|0755, st_size=13800, ...}) = 0
lstat64("/dev/console", {st_mode=S_IFCHR|0600, st_rdev=makedev(5, 1), ...}) = 0
lstat64("/usr", {st_mode=S_IFDIR|0755, st_size=520, ...}) = 0
lstat64("/usr/lib", {st_mode=S_IFDIR|0755, st_size=66592, ...}) = 0
lstat64("/usr/lib/portage", {st_mode=S_IFDIR|0755, st_size=96, ...}) = 0
lstat64("/usr/lib/portage/pym", {st_mode=S_IFDIR|0755, st_size=1832, ...}) = 0
brk(0x80f3000)                          = 0x80f3000
lstat64("/dev", {st_mode=S_IFDIR|0755, st_size=13800, ...}) = 0
lstat64("/dev/random", {st_mode=S_IFCHR|0666, st_rdev=makedev(1, 8), ...}) = 0
brk(0x80f1000)                          = 0x80f1000
lstat64("/var", {st_mode=S_IFDIR|0755, st_size=336, ...}) = 0
lstat64("/var/tmp", {st_mode=S_IFDIR|S_ISVTX|0777, st_size=536, ...}) = 0
lstat64("/var/tmp/portage", {st_mode=S_IFDIR|0775, st_size=2168, ...}) = 0
lstat64("/var/tmp/portage/docbook-sgml-utils-0.6.14", {st_mode=S_IFDIR|0755,
st_size=160, ...}) = 0
lstat64("/var/tmp/portage/docbook-sgml-utils-0.6.14/.compiled", 0xbfbcff6c) = -1
ENOENT (No such file or directory)
lstat64("/var", {st_mode=S_IFDIR|0755, st_size=336, ...}) = 0
lstat64("/var/tmp", {st_mode=S_IFDIR|S_ISVTX|0777, st_size=536, ...}) = 0
lstat64("/var/tmp/portage", {st_mode=S_IFDIR|0775, st_size=2168, ...}) = 0
lstat64("/var/tmp/portage/docbook-sgml-utils-0.6.14", {st_mode=S_IFDIR|0755,
st_size=160, ...}) = 0
unlink("/var/tmp/portage/docbook-sgml-utils-0.6.14/.compiled") = -1 ENOENT (No
such file or directory)
brk(0x80c1000)                          = 0x80c1000
brk(0x8072000)                          = 0x8072000
exit_group(0)                           = ?
(END)




Comment 21


Bernard M





          2005-10-08 17:39:51 UTC
        

Created attachment 70187 [details]
strace log file for suspect process




Comment 22


Bernard M





          2005-10-08 17:45:16 UTC
        

Created attachment 70188 [details]
log file from second jade process

For completness I have attached the log file from the 2nd jade process.




Comment 23


Bernard M





          2005-10-08 21:13:58 UTC
        

Tried compiling a debug version of openjade, as per:
CFLAGS=-g CXXFLAGS=-g FEATURES=nostrip emerge openjade

However, with the -g options I get the following compile error (without -g is ok):

------------------------------------------------------------------------
/var/tmp/portage/openjade-1.3.2-r1/work/openjade-1.3.2/jade/RtfFOTBuilder.cxx:2590:
undefined reference to `OpenSP::InputSource::get(OpenSP::Messenger&)'
RtfFOTBuilder.o(.text+0x8c9a):/var/tmp/portage/openjade-1.3.2-r1/work/openjade-1.3.2/jade/RtfFOTBuilder.cxx:2593:
undefined reference to `OpenSP::InputSource::accessError() const'
RtfFOTBuilder.o(.text+0x8de0):/var/tmp/portage/openjade-1.3.2-r1/work/openjade-1.3.2/jade/RtfFOTBuilder.cxx:2602:
undefined reference to `OpenSP::InputSource::currentLocation() const'
RtfFOTBuilder.o(.text+0x8dee):/var/tmp/portage/openjade-1.3.2-r1/work/openjade-1.3.2/jade/RtfFOTBuilder.cxx:2603:
undefined reference to `OpenSP::Location::origin() const'
RtfFOTBuilder.o(.text+0x8e32):/var/tmp/portage/openjade-1.3.2-r1/work/openjade-1.3.2/jade/RtfFOTBuilder.cxx:2605:
undefined reference to `OpenSP::Location::origin() const'
HtmlFOTBuilder.o(.text+0x1794): In function
`OpenJade_DSSSL::HtmlFOTBuilder::outputStyleSheet(OpenSP::String<unsigned int>&)':
/var/tmp/portage/openjade-1.3.2-r1/work/openjade-1.3.2/jade/HtmlFOTBuilder.cxx:449:
undefined reference to `OpenSP::CmdLineApp::outputCodingSystem()'
HtmlFOTBuilder.o(.text+0x3b4b): In function
`OpenJade_DSSSL::HtmlFOTBuilder::Document::output(OpenSP::OutputCharStream&,
OpenJade_DSSSL::HtmlFOTBuilder::OutputState&)':
/var/tmp/portage/openjade-1.3.2-r1/work/openjade-1.3.2/jade/HtmlFOTBuilder.cxx:996:
undefined reference to `OpenSP::CmdLineApp::outputCodingSystem()'
TransformFOTBuilder.o(.text+0x360): In function
`OpenJade_DSSSL::TransformFOTBuilder::TransformFOTBuilder(OpenSP::CmdLineApp*,
bool, OpenSP::Vector<OpenSP::String<unsigned int> > const&)':
/var/tmp/portage/openjade-1.3.2-r1/work/openjade-1.3.2/jade/TransformFOTBuilder.cxx:334:
undefined reference to `OpenSP::CmdLineApp::systemCharset()'
TransformFOTBuilder.o(.text+0x452):/var/tmp/portage/openjade-1.3.2-r1/work/openjade-1.3.2/jade/TransformFOTBuilder.cxx:343:
undefined reference to `OpenSP::CmdLineApp::systemCharset()'
TransformFOTBuilder.o(.text+0x668): In function
`OpenJade_DSSSL::TransformFOTBuilder::TransformFOTBuilder(OpenSP::CmdLineApp*,
bool, OpenSP::Vector<OpenSP::String<unsigned int> > const&)':
/var/tmp/portage/openjade-1.3.2-r1/work/openjade-1.3.2/jade/TransformFOTBuilder.cxx:334:
undefined reference to `OpenSP::CmdLineApp::systemCharset()'
TransformFOTBuilder.o(.text+0x75a):/var/tmp/portage/openjade-1.3.2-r1/work/openjade-1.3.2/jade/TransformFOTBuilder.cxx:343:
undefined reference to `OpenSP::CmdLineApp::systemCharset()'
TransformFOTBuilder.o(.text+0x1456): In function
`OpenJade_DSSSL::TransformFOTBuilder::startEntity(OpenSP::String<unsigned int>
const&)':
/var/tmp/portage/openjade-1.3.2-r1/work/openjade-1.3.2/jade/TransformFOTBuilder.cxx:494:
undefined reference to `OpenSP::CmdLineApp::codingSystem()'
TransformFOTBuilder.o(.text+0x15aa):/var/tmp/portage/openjade-1.3.2-r1/work/openjade-1.3.2/jade/TransformFOTBuilder.cxx:504:
undefined reference to `OpenSP::CmdLineApp::outputCodingSystem()'
MifFOTBuilder.o(.text+0x87aa): In function
`OpenJade_DSSSL::MifFOTBuilder::systemIdFilename(OpenSP::String<unsigned int>
const&, OpenSP::String<unsigned int>&)':
/var/tmp/portage/openjade-1.3.2-r1/work/openjade-1.3.2/jade/MifFOTBuilder.cxx:3575:
undefined reference to `OpenSP::InputSource::get(OpenSP::Messenger&)'
MifFOTBuilder.o(.text+0x87e0):/var/tmp/portage/openjade-1.3.2-r1/work/openjade-1.3.2/jade/MifFOTBuilder.cxx:3578:
undefined reference to `OpenSP::InputSource::accessError() const'
MifFOTBuilder.o(.text+0x895e):/var/tmp/portage/openjade-1.3.2-r1/work/openjade-1.3.2/jade/MifFOTBuilder.cxx:3587:
undefined reference to `OpenSP::InputSource::currentLocation() const'
MifFOTBuilder.o(.text+0x896c):/var/tmp/portage/openjade-1.3.2-r1/work/openjade-1.3.2/jade/MifFOTBuilder.cxx:3588:
undefined reference to `OpenSP::Location::origin() const'
MifFOTBuilder.o(.text+0x89b0):/var/tmp/portage/openjade-1.3.2-r1/work/openjade-1.3.2/jade/MifFOTBuilder.cxx:3590:
undefined reference to `OpenSP::Location::origin() const'
../spgrove/.libs/libospgrove.so: undefined reference to `OpenSP::Dtd::name() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::AttributeDefinition::isNotation() const'
../style/.libs/libostyle.so: undefined reference to
`OpenSP::InputSource::ungetToken()'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::ExternalEntityEvent::location() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::Dtd::lookupElementType(OpenSP::String<unsigned int> const&) const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::ElementDefinition::compiledModelGroup() const'
../style/.libs/libostyle.so: undefined reference to
`OpenSP::ExternalId::effectiveSystemId() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::ExternalId::systemIdString() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::AttributeDefinition::isIdref() const'
../style/.libs/libostyle.so: undefined reference to
`OpenSP::Text::charLocation(unsigned int) const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::ModelGroup::member(unsigned int) const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::ElementDefinition::canOmitStartTag() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::TokenizedAttributeValue::nTokens() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::TokenizedAttributeValue::token(unsigned int, unsigned int const*&,
unsigned int&) const'
../style/.libs/libostyle.so: undefined reference to
`OpenSP::ExternalEntity::externalId() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::Dtd::parameterEntityIter() const'
../style/.libs/libostyle.so: undefined reference to
`OpenSP::SelectOneArcDirector::SelectOneArcDirector(OpenSP::Vector<OpenSP::String<unsigned
int> > const&, OpenSP::EventHandler&)'
../style/.libs/libostyle.so: undefined reference to `OpenSP::DataEvent::data()
const'
../style/.libs/libostyle.so: undefined reference to
`OpenSP::InputSource::discardInitial()'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::AttributeDefinitionList::anyCurrent() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::EndPrologEvent::dtdPointer() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::Syntax::entitySubstTable() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::SubdocEntityEvent::entity() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::AttributeList::anyCurrent() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::TextIter::type() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::AttributeList::size() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::ElementDefinition::location() const'
../style/.libs/libostyle.so: undefined reference to `OpenSP::Location::clear()'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::ContentToken::occurrenceIndicator() const'
../style/.libs/libostyle.so: undefined reference to
`OpenSP::Notation::externalId() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::LeafContentToken::elementType() const'
../spgrove/.libs/libospgrove.so: undefined reference to `OpenSP::Dtd::isBase()
const'
../style/.libs/libostyle.so: undefined reference to
`OpenSP::EntityApp::clearEntityManager()'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::TokenizedAttributeValue::token(unsigned int) const'
../style/.libs/libostyle.so: undefined reference to
`OpenSP::AttributeList::value(unsigned int) const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::SgmlDeclEvent::instanceSyntaxPointer() const'
../style/.libs/libostyle.so: undefined reference to
`OpenSP::InputSource::extendToBufferEnd()'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::ElementDefinition::omittedTagSpec() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::MessageType::auxFragment() const'
../style/.libs/libostyle.so: undefined reference to
`OpenSP::InternalEntity::string() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::SgmlDeclEvent::sdPointer() const'
../style/.libs/libostyle.so: undefined reference to
`OpenSP::AttributeList::semantics(unsigned int) const'
../spgrove/.libs/libospgrove.so: undefined reference to `OpenSP::TextIter::rewind()'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::StartElementEvent::included() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::Dtd::elementTypeIter() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::StartElementEvent::elementType() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::Location::index() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::Dtd::lookupNotationTemp(OpenSP::String<unsigned int> const&) const'
../style/.libs/libostyle.so: undefined reference to
`OpenSP::DataEvent::dataLength() const'
../style/.libs/libostyle.so: undefined reference to
`OpenSP::InputSource::currentTokenStart() const'
../style/.libs/libostyle.so: undefined reference to
`OpenSP::InputSource::endToken(unsigned int)'
../style/.libs/libostyle.so: undefined reference to
`OpenSP::InputSource::currentTokenEnd() const'
../style/.libs/libostyle.so: undefined reference to
`OpenSP::InputSource::startToken()'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::Dtd::defaultEntity() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::AttributeDefinition::isEntity() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::AttributeList::valuePointer(unsigned int) const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::AttributeList::current(unsigned int) const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::Dtd::notationIter() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::TextIter::valid() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::ElementDefinition::nExclusions() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::AttributeDefinition::name() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::AttributeDefinitionList::def(unsigned int) const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::Location::operator+=(unsigned int)'
../style/.libs/libostyle.so: undefined reference to
`OpenSP::InternalInputSource::operator delete(void*)'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::PiEvent::dataLength() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::Dtd::lookupEntityTemp(bool, OpenSP::String<unsigned int> const&) const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::AttributeList::nSpec() const'
../style/.libs/libostyle.so: undefined reference to
`OpenSP::AttributeList::attributeIndex(OpenSP::String<unsigned int> const&,
unsigned int&) const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::TokenizedAttributeValue::tokenLocation(unsigned int,
OpenSP::ConstPtr<OpenSP::Origin> const*&, unsigned int&) const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::AttributeList::specified(unsigned int) const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::ElementDefinition::canOmitEndTag() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::ExternalDataEntityEvent::entity() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::Dtd::defaultEntityTemp() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::TextIter::location() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::NonSgmlCharEvent::character() const'
../style/.libs/libostyle.so: undefined reference to
`OpenSP::Text::charLocation(unsigned int, OpenSP::Origin const*&, unsigned int&)
const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::ModelGroup::nMembers() const'
../style/.libs/libostyle.so: undefined reference to
`OpenSP::ExternalId::publicIdString() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::MessageType::severity() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::ElementType::definition() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::AttributeList::idIndex(unsigned int&) const'
../style/.libs/libostyle.so: undefined reference to
`OpenSP::MessageEvent::message() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::AttributeDefinitionList::size() const'
../style/.libs/libostyle.so: undefined reference to
`OpenSP::StartElementEvent::attributes() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::TextIter::advance()'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::EntityDecl::dataType() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::ElementDefinition::nInclusions() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::ExternalDataEntity::attributes() const'
../style/.libs/libostyle.so: undefined reference to
`OpenSP::LocatedEvent::location() const'
../style/.libs/libostyle.so: undefined reference to
`OpenSP::Syntax::generalSubstTable() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::ElementDefinition::declaredContent() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::ExternalDataEntity::notation() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::ElementDefinition::exclusion(unsigned int) const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::SgmlDeclEvent::prologSyntaxPointer() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::AppinfoEvent::literal(OpenSP::String<unsigned int> const*&) const'
../spgrove/.libs/libospgrove.so: undefined reference to `OpenSP::PiEvent::data()
const'
../style/.libs/libostyle.so: undefined reference to
`OpenSP::StartElementEvent::name() const'
../style/.libs/libostyle.so: undefined reference to
`OpenSP::InputSource::currentTokenLength() const'
../style/.libs/libostyle.so: undefined reference to
`OpenSP::Text::addChars(OpenSP::String<unsigned int> const&, OpenSP::Location
const&)'
../style/.libs/libostyle.so: undefined reference to `OpenSP::Text::string() const'
../style/.libs/libostyle.so: undefined reference to
`OpenSP::InputSource::tokenChar(OpenSP::Messenger&)'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::EntityDefaultedEvent::entityPointer() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::AttributeDefinitionDesc::AttributeDefinitionDesc()'
../style/.libs/libostyle.so: undefined reference to
`OpenSP::ErrorCountEventHandler::cancelPtr() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::CompiledModelGroup::modelGroup() const'
../style/.libs/libostyle.so: undefined reference to
`OpenSP::InternalInputSource::operator new(unsigned int)'
../style/.libs/libostyle.so: undefined reference to `OpenSP::ParserApp::parser()'
../style/.libs/libostyle.so: undefined reference to
`OpenSP::EndElementEvent::name() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::ElementDefinition::inclusion(unsigned int) const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::EntityDecl::defLocation() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::AttributeDefinitionList::idIndex() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::Dtd::generalEntityIter() const'
../spgrove/.libs/libospgrove.so: undefined reference to
`OpenSP::Entity::defaulted() const'
collect2: ld returned 1 exit status
make[2]: *** [openjade] Error 1
make[2]: Leaving directory
`/var/tmp/portage/openjade-1.3.2-r1/work/openjade-1.3.2/jade'
make[1]: *** [jade] Error 2
make[1]: Leaving directory `/var/tmp/portage/openjade-1.3.2-r1/work/openjade-1.3.2'
make: *** [all] Error 2

!!! ERROR: app-text/openjade-1.3.2-r1 failed.
!!! Function src_compile, Line 54, Exitcode 2
!!! (no error message)
!!! If you need support, post the topmost build error, NOT this status message.








Comment 24


Bernard M





          2005-10-14 13:34:44 UTC
        

Is anyone looking at this bug at all?? It has been in the system for 3 months
now, can some one put their hand up and say they are actively working on it ...

I have done my best to include all the possible info, but I am not a developer,
so come on guys ... help out please.

It is this sort of thing that will put folks of gentoo and head over to another
non-source distro .. using linux just shouldn't be this hard.





Comment 25


Stian Skjelstad





          2005-10-14 14:14:20 UTC
        

The hang is happening internally inside jade (not openjade) as far as I can see
from the strace output. Perhaps the jade developers should be contacted, since
it appears to be a problem inside jade that is HARD to reproduce for most
people. Treading or locking issue perhaps... (atleast it looks like it, since
the last syscall is just a stat before the kill happens).




Comment 26


Leonardo Boshell (RETIRED)






          2005-10-31 02:43:26 UTC
        

The original reporter seems to have resolved the problem.

For other problems (like comment #23), they probably are related to having
compiled opensp with crazy CFLAGS, because opensp wasn't using the same filters
used in openjade. For those who still has those problems, please re-sync your
portage tree and re-emerge opensp and openjade. Alternatively, please consider
using sane CFLAGS only to compile your packages :).

Thanks.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

