Title: 908488 – dev-qt/qtbase-6.5.1-r1: fails with USE="opengl -vulkan"
URL: https://bugs.gentoo.org/show_bug.cgi?id=908488

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 908488
dev-qt/qtbase-6.5.1-r1: fails with USE="opengl -vulkan"
Last modified: 2023-06-19 21:29:37 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 908488 
      - dev-qt/qtbase-6.5.1-r1: fails with USE="opengl -vulkan"


Summary:
dev-qt/qtbase-6.5.1-r1: fails with USE="opengl -vulkan"
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Qt Bug Alias








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2023-06-14 08:11 UTC by tea





      Modified:
    
2023-06-19 21:29 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build log without USE=vulkan

              (qtbase-6.5.1-r1:20230614-070357.log.xz,40.30 KB,
                application/x-xz)

            
2023-06-14 08:11 UTC,

            tea




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


tea





          2023-06-14 08:11:56 UTC
        

Created attachment 863822 [details]
build log without USE=vulkan

i don't know why, i enabled the vulkan USE-flag on qtbase as a guess. the only new package it pulled in was dev-util/vulkan-headers.

tested in a fairly minimal testing environment.

> …
> …/qtbase-everywhere-src-6.5.1/src/gui/opengl/qopenglextensions_p.h:26:1: error: expected class-name before ‘{’ token
>    26 | {
>       | ^
> …/qtbase-everywhere-src-6.5.1/src/gui/opengl/qopenglextensions_p.h:68:5: error: ‘GLvoid’ does not name a type; did you mean ‘void’?
>    68 |     GLvoid *glMapBuffer(GLenum target, GLenum access);
>       |     ^~~~~~
>       |     void
> …/qtbase-everywhere-src-6.5.1/src/gui/opengl/qopenglextensions_p.h:69:29: error: ‘GLenum’ has not been declared
>    69 |     void glGetBufferSubData(GLenum target, qopengl_GLintptr offset, qopengl_GLsizeiptr size, GLvoid *data);
>       |                             ^~~~~~
> …




Comment 1


Chiitoo






          2023-06-18 18:37:22 UTC
        

Can you consistentyl reproduce this (without ccache as well)?

So far I've been unable to (did remove vulkan-headers and any other immediately vulkan-related as well).




Comment 2


tea





          2023-06-19 21:29:37 UTC
        

i can not reproduce it with or without ccache. not in the same environment it previously failed in (that has been modified since) and not in a fresh environment.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

