Title: 132242 – Impossible to emerge anything after upgrading to glibc-2.4-r2 - segmentation fault
URL: https://bugs.gentoo.org/show_bug.cgi?id=132242

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 132242
Impossible to emerge anything after upgrading to glibc-2.4-r2 - segmentation fault
Last modified: 2006-07-17 22:31:24 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 132242 
      - Impossible to emerge anything after upgrading to glibc-2.4-r2 - segmentation fault


Summary:
Impossible to emerge anything after upgrading to glibc-2.4-r2 - segmentation ...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Core system

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Toolchain Maintainers








URL:







Whiteboard:




Keywords:









Duplicates (1):
    

132237

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2006-05-04 05:58 UTC by Cristiano Chiucchiolo





      Modified:
    
2006-07-17 22:31 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Cristiano Chiucchiolo





          2006-05-04 05:58:12 UTC
        

I get a segmentation fault error when trying to emerge any package. I have no idea about why this happens, everything worked fine this morning.

Here is the error (similar for all packages)

In file included from /usr/include/bits/string2.h:8,
                 from /usr/include/gentoo-multilib/amd64/string.h:417,
                 from /usr/include/string.h:8,
                 from xineutils.h:35,
                 from cpu_accel.c:41:
/usr/include/gentoo-multilib/amd64/bits/string2.h: In function `__strpbrk_c2':
/usr/include/gentoo-multilib/amd64/bits/string2.h:1129: internal compiler error: Segmentation fault
Please submit a full bug report,
with preprocessed source if appropriate.
See <URL:http://bugs.gentoo.org/> for instructions.
Preprocessed source stored into /var/tmp/portage/xine-lib-1.1.2_pre20060328-r5/temp/ccmsmHF7.out file, please attach this to your bugreport.




Portage 2.1_pre10-r2 (default-linux/amd64/2005.1, gcc-3.4.6, glibc-2.4-r2, 2.6.16-gentoo-r6 x86_64)
=================================================================
System uname: 2.6.16-gentoo-r6 x86_64 AMD Athlon(tm) 64 Processor 3500+
Gentoo Base System version 1.12.0_pre19
ccache version 2.4 [enabled]
dev-lang/python:     2.4.3
dev-util/ccache:     2.4-r1
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.18
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r2
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r3
ACCEPT_KEYWORDS="amd64 ~amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -march=k8 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/kde/3/share/config /usr/share/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/env.d/java/ /etc/eselect/compiler /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=k8 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://www.die.unipd.it/pub/Linux/distributions/gentoo-sources/"
LANG="it_IT.UTF-8"
LC_ALL="it_IT.UTF-8"
LDFLAGS="-Wl,-O1"
LINGUAS="it"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="amd64 X a52 aac alsa arts avi bash-completion berkdb bitmap-fonts browserplugin calendar cdb cdda cdparanoia cli crypt css cups divx4linux dri dts dv dvd dvdr dvdread eds emboss emul-linux-x86 encode fame ffmpeg firefox flac foomaticdb fortran ftp gif gimp gphoto2 gpm gstreamer gtk hal icq ieee1394 imlib isdnlog java javascript jpeg kde lm_sensors lzw lzw-tiff mad matroska mime mng mozilla mp3 mpeg msn ncurses nls nptl nptlonly nsplugin nvidia ogg oggvorbis opengl pam pcre pda pdflib perl php pic png ppds pppd python qt quicktime readline reflection samba scanner sdl session spell spl ssl subtitles tcpd tiff truetype truetype-fonts type1-fonts unicode usb userlocales vcd videos vorbis wxwindows xine xorg xpm xv xvid yahoo zlib elibc_glibc input_devices_keyboard input_devices_mouse kernel_linux linguas_it userland_GNU video_cards_nvidia"
Unset:  ASFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK




Comment 1


Jakub Moc (RETIRED)






          2006-05-04 06:03:39 UTC
        

(In reply to comment #0)
> I get a segmentation fault error when trying to emerge any package. I have no
> idea about why this happens, everything worked fine this morning.

So, everything worked this morning, you didn't upgrade any package and now you get only segfaults? Sounds like good time to check your hardware. Otherwise, explain better what did you do...





Comment 2


Jakub Moc (RETIRED)






          2006-05-04 06:05:58 UTC
        

*** Bug 132237 has been marked as a duplicate of this bug. ***




Comment 3


Cristiano Chiucchiolo





          2006-05-04 06:34:00 UTC
        

This morning I did a package update and everything worked fine. The following packages were updated:

sys-apps/modules-init-tools-3.2.2-r1
sys-apps/man-pages-2.31
sys-apps/glibc-2.4-r2

Since then I can't emerge anything...




Comment 4


Jakub Moc (RETIRED)






          2006-05-04 06:41:40 UTC
        

(In reply to comment #3)
> sys-apps/glibc-2.4-r2

Hmmmm... :P




Comment 5


Cristiano Chiucchiolo





          2006-05-04 11:38:44 UTC
        

(In reply to comment #4)
> (In reply to comment #3)
> > sys-apps/glibc-2.4-r2
> 
> Hmmmm... :P
> 

I downgraded to r1 and now everything works fine again.




Comment 6


SpanKY






          2006-05-04 12:31:20 UTC
        

try this:
GLIBC_PATCH_EXCLUDE=6901_all_2.4-amd64-strings-20060425.patch emerge glibc

then make sure the strings patch isnt applied during src_unpack




Comment 7


aGaTHoS





          2006-05-08 18:38:48 UTC
        

I have some emerge fails and xfce4-panel does segmentation fault since updating of glibc-2.4-r2 too.




Comment 8


SpanKY






          2006-07-17 22:31:24 UTC
        

use glibc-2.4-r3









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

