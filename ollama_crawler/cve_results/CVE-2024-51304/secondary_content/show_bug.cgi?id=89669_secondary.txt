Title: 89669 – libmad can't read a lot of MP3s
URL: https://bugs.gentoo.org/show_bug.cgi?id=89669

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 89669
libmad can't read a lot of MP3s
Last modified: 2009-11-01 17:19:44 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 89669 
      - libmad can't read a lot of MP3s


Summary:
libmad can't read a lot of MP3s
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        All
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Sound Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-04-19 08:40 UTC by crusaderky





      Modified:
    
2009-11-01 17:19 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


crusaderky





          2005-04-19 08:40:55 UTC
        

I've got
xmms-1.2.0-r13
xmms-mad-0.8
libmad-0.15.1b

I can't reproduce several MP3s using xmms-mad: they aren't recognized as such and the "open file" dialog pops up. I can reproduce them without any problems using mpg123, cplay, mplayer, xine and xmms-mpg123.

I don't know if the problem is in libmad or in xmms-mad, since I don't know any other applications using libmad.

$ emerge info
Portage 2.0.51.19 (default-linux/x86/2005.0, gcc-3.3.5-20050130, glibc-2.3.4.20041102-r1, 2.6.11-gentoo-r5 i686)
=================================================================
System uname: 2.6.11-gentoo-r5 i686 AMD Athlon(TM) XP 2000+
Gentoo Base System version 1.4.16
Python:              dev-lang/python-2.2.3-r5,dev-lang/python-2.3.4-r1 [2.3.4 (#1, Feb  8 2005, 23:08:02)]
dev-lang/python:     2.2.3-r5, 2.3.4-r1
sys-devel/autoconf:  2.59-r6, 2.13
sys-devel/automake:  1.7.9-r1, 1.8.5-r3, 1.5, 1.4_p6, 1.6.3, 1.9.4
sys-devel/binutils:  2.15.92.0.2-r7
sys-devel/libtool:   1.5.14
virtual/os-headers:  2.6.8.1-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CFLAGS="-O3 -pipe -march=athlon-xp -fforce-addr -fomit-frame-pointer -falign-functions=4 -mfpmath=sse"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/ /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O3 -pipe -march=athlon-xp -fforce-addr -fomit-frame-pointer -falign-functions=4 -mfpmath=sse"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig ccache digest distcc distlocks fixpackages sandbox sfperms strict"
GENTOO_MIRRORS="http://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/ ftp://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/ ftp://ftp.tu-clausthal.de/pub/linux/gentoo/ http://pandemonium.tiscali.de/pub/gentoo/"
LANG="it_IT@euro"
LINGUAS="it"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="x86 3dnow 3dnowex X X509 a52 aac aaca52 aalib alsa apache2 avi berkdb bitmap-fonts cdparanoia cdr chroot crypt cscope cups curl dga dts dvb dvd dvdr dvdread emboss encode erandom extensions faad fam fbcon ffmpeg flac flash foomaticdb fortran freetype gd gdbm ggi gif gimpprint ginac gnutls gphoto2 gpm gstreamer gtk gtk2 gtkhtml guile hal imagemagick imap imlib innodb ipv6 jack java javascript jikes joystick jpeg kde kerberos krb4 lcms ldap libcaca libg++ libwww live lzo mad matroska mcal md5sum memlimit mikmod mmx mmxext mng motif mozilla mp3 mpeg mpi mysql ncurses network nls nptl nvidia odbc offensive ogg oggvorbis opengl pam parse-clocks pcre pdflib perl pic plotutils png ppds prelude python qhull qt quicktime readline real rtc samba scanner sdl skey slang slp sndfile snmp socks5 speex spell sqlite sse ssl stream svg svga tcltk tcpd tetex tga theora tiff truetype truetype-fonts type1-fonts usb v4l v4l2 vcd vim-with-x vlm vorbis wmf wxwindows xchattext xml xml2 xmms xosd xprint xv xvid xvmc yaz zlib linguas_it"
Unset:  ASFLAGS, CBUILD, CTARGET, LC_ALL, LDFLAGS




Comment 1


mrsteven





          2005-05-06 03:15:16 UTC
        

Same problem here with the same versions. I think this problem is caused by a buggy xmms-mad, because madplay plays these files without any problems:

madplay -o wave:- song_not_played_by_xmms.mp3 | aplay

That works without any problems, so it is a problem with xmms-mad.




Comment 2


crusaderky





          2005-05-06 04:04:49 UTC
        

It's the opposite for me: madplay does NOT work, either. 
MP3s that xmms-mad can read work with madplay, too.

$ madplay broken.mp3
MPEG Audio Decoder 0.15.2 (beta) - Copyright (C) 2000-2004 Robert Leslie et al.
error: frame 0: lost synchronization
0 frames decoded (0:00:00,0), -inf dB peak amplitude, 0 clipped samples




Comment 3


crusaderky





          2005-05-06 04:13:10 UTC
        

I've already tried re-emerging everything,

# emerge -v1 libmad madplay xmms-mad 

with no result.




Comment 4


Diego Elio Pettenò (RETIRED)






          2005-10-31 08:55:02 UTC
        

Without having a sample is difficult to find the cause. Also, try with saner 
CFLAGS, sse support is sometimes a problem. 
 




Comment 5


brad





          2009-11-01 17:19:44 UTC
        

(In reply to comment #4)
> Without having a sample is difficult to find the cause. Also, try with saner 
> CFLAGS, sse support is sometimes a problem. 
>  

Same issue here and all of my CCFLAGS are native!

Gentoo-box1 ~ # madplay -iv '/mnt/hdb/samba/public/oh-shit/burn/Marco Demark - Tiny Dancer (Deadmau5 Remix).mp3'
MPEG Audio Decoder 0.15.2 (beta) - Copyright (C) 2000-2004 Robert Leslie et al.
error: frame 0: lost synchronization
0 frames decoded (0:00:00.0), -inf dB peak amplitude, 0 clipped samples
Gentoo-box1 ~ # emerge --info
Portage 2.1.6.13 (default/linux/amd64/2008.0, gcc-4.3.2, glibc-2.9_p20081201-r2, 2.6.30-gentoo-r5 x86_64)
=================================================================
System uname: Linux-2.6.30-gentoo-r5-x86_64-AMD_Athlon-tm-_64_X2_Dual_Core_Processor_4200+-with-gentoo-1.12.11.1
Timestamp of tree: Sat, 03 Oct 2009 06:45:01 +0000
app-shells/bash:     4.0_p28
dev-java/java-config: 2.1.8-r1
dev-lang/python:     2.6.2-r1
sys-apps/baselayout: 1.12.11.1
sys-apps/sandbox:    1.6-r2
sys-devel/autoconf:  2.13, 2.63-r1
sys-devel/automake:  1.6.3, 1.7.9-r1, 1.9.6-r2, 1.10.2
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   2.2.6a
virtual/os-headers:  2.6.27-r2
ACCEPT_KEYWORDS="amd64"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=native -O2 -pipe -ggdb"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/config"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/udev/rules.d"
CXXFLAGS="-march=native -O2 -pipe -ggdb"
DISTDIR="/usr/portage/distfiles"
FEATURES="distlocks fixpackages parallel-fetch protect-owned sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="ftp://mirrors.tera-byte.com/pub/gentoo http://gentoo.mirrors.tera-byte.com/ http://mirror.csclub.uwaterloo.ca/gentoo-distfiles/ ftp://ftp.gtlib.gatech.edu/pub/gentoo http://www.gtlib.gatech.edu/pub/gentoo "
LDFLAGS="-Wl,-O1"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.namerica.gentoo.org/gentoo-portage"
USE="X acl alsa amd64 apache2 berkdb bzip2 cdr cli cracklib crypt cups dbus dri dvd fortran gdbm gnome gpm hal iconv ipv6 isdnlog jpeg kde mmx modules mudflap multilib mysql ncurses nls nptl nptlonly opengl openmp pam pcre perl pppd python qt readline reflection session spl sse sse2 ssl svg sysfs tcpd unicode xorg zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="dav dav_fs authn_file auth_digest authz_groupfile" ELIBC="glibc" INPUT_DEVICES="evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" USERLAND="GNU" VIDEO_CARDS="openchrome"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LANG, LC_ALL, LINGUAS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

