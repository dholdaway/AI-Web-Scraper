Title: 671208 – sys-apps/exa-0.8.0 : /.../environment:line <snip>: cargo: command not found
URL: https://bugs.gentoo.org/show_bug.cgi?id=671208

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 671208
sys-apps/exa-0.8.0 : /.../environment:line <snip>: cargo: command not found
Last modified: 2018-11-16 08:24:17 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 671208 
      - sys-apps/exa-0.8.0 : /.../environment:line <snip>: cargo: command not found


Summary:
sys-apps/exa-0.8.0 : /.../environment:line <snip>: cargo: command not found
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Georgy Yakovlev








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2018-11-15 17:50 UTC by Toralf Förster





      Modified:
    
2018-11-16 08:24 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge-info.txt

              (emerge-info.txt,17.24 KB,
                text/plain)

            
2018-11-15 17:50 UTC,

            Toralf Förster




Details





emerge-history.txt

              (emerge-history.txt,301.62 KB,
                text/plain)

            
2018-11-15 17:50 UTC,

            Toralf Förster




Details





environment

              (environment,56.60 KB,
                text/plain)

            
2018-11-15 17:50 UTC,

            Toralf Förster




Details





etc.portage.tbz2

              (etc.portage.tbz2,15.35 KB,
                application/x-bzip)

            
2018-11-15 17:50 UTC,

            Toralf Förster




Details





sys-apps:exa-0.8.0:20181115-142425.log

              (sys-apps:exa-0.8.0:20181115-142425.log,5.60 KB,
                text/plain)

            
2018-11-15 17:50 UTC,

            Toralf Förster




Details





temp.tbz2

              (temp.tbz2,14.89 KB,
                application/x-bzip)

            
2018-11-15 17:50 UTC,

            Toralf Förster




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Toralf Förster






          2018-11-15 17:50:26 UTC
        

>>> Source configured.
>>> Compiling source in /var/tmp/portage/sys-apps/exa-0.8.0/work/exa-0.8.0 ...
/var/tmp/portage/sys-apps/exa-0.8.0/temp/environment: line 475: cargo: command not found
 * ERROR: sys-apps/exa-0.8.0::gentoo failed (compile phase):
 *   cargo build failed
 * 

  -------------------------------------------------------------------

  This is an unstable amd64 chroot image at a tinderbox (==build bot)
  name: 17.0-desktop-plasma_libressl_20181109-050110

  -------------------------------------------------------------------

gcc-config -l:
 [1] x86_64-pc-linux-gnu-7.3.1
 [2] x86_64-pc-linux-gnu-8.2.0 *

Available Python interpreters, in order of preference:
  [1]   python3.7
  [2]   python3.6
  [3]   python2.7 (fallback)
  [4]   jython2.7 (fallback)
Available Ruby profiles:
  [1]   ruby23 (with Rubygems)
  [2]   ruby24 (with Rubygems)
  [3]   ruby25 (with Rubygems) *
java-config:
The following VMs are available for generation-2:
*)	IcedTea JDK 3.9.0 [icedtea-bin-8]
Available Java Virtual Machines:
  [1]   icedtea-bin-8  system-vm

emerge -qpvO sys-apps/exa
[ebuild  N    ] sys-apps/exa-0.8.0  USE="-debug"




Comment 1


Toralf Förster






          2018-11-15 17:50:28 UTC
        

Created attachment 555232 [details]
emerge-info.txt




Comment 2


Toralf Förster






          2018-11-15 17:50:31 UTC
        

Created attachment 555234 [details]
emerge-history.txt




Comment 3


Toralf Förster






          2018-11-15 17:50:34 UTC
        

Created attachment 555236 [details]
environment




Comment 4


Toralf Förster






          2018-11-15 17:50:37 UTC
        

Created attachment 555238 [details]
etc.portage.tbz2




Comment 5


Toralf Förster






          2018-11-15 17:50:39 UTC
        

Created attachment 555240 [details]
sys-apps:exa-0.8.0:20181115-142425.log




Comment 6


Toralf Förster






          2018-11-15 17:50:42 UTC
        

Created attachment 555242 [details]
temp.tbz2




Comment 7


Georgy Yakovlev







          2018-11-15 21:18:03 UTC
        

probably you got caught by recent rust weirdness with improper softblockers, unconditional cargo, and non-working env-update.

Thu Nov 15 10:23:40 2018 <<< dev-lang/rust-1.29.2
Thu Nov 15 10:23:47 2018 >>> dev-lang/rust-1.30.1-r1
Thu Nov 15 10:24:31 2018 <<< dev-lang/rust-bin-1.29.2
Thu Nov 15 10:24:39 2018 >>> dev-lang/rust-bin-1.30.1-r1
Thu Nov 15 10:24:47 2018 <<< dev-util/cargo-0.30.0

you emerged rust and rust-bin , the 1.30.1-r1 is supposed to be a fixed one with a proper softblocker.

cargo should be there, eclass just fails to call it.

It'll be cool if you could print also provide rust info, similar to info for gcc/ruby/python.
I have no idea which rust was used, and what flags did it have.

can you still get that info?

/etc/env.d/rust* may help,
emerge --info for rust and rust-bin as well.

but I'm still sure this is related to recent rust ebuild changes.




Comment 8


Toralf Förster






          2018-11-15 21:21:27 UTC
        

In the mean while I run 

eselect rust update

and I think , yes, this is a dup of the rust issues seen today.

BTW I'll enhance the tinderox info script




Comment 9


Georgy Yakovlev







          2018-11-16 08:24:17 UTC
        

thanks again for tinderbox, it's awesome!

closing this for now.

I usually rebuild all rust packages with every rust bump on at least 2 machines, so I'd probably catch if something went really wrong.

but I only use non-binary versions of rust.

tried to replicate by installing rust-bin and playing with eselect/env-update and simply can't reproduce. blame the rust bumps!









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

