Title: 128065 – gdm-2.8.0.7: emerge failure due to missing glib headers
URL: https://bugs.gentoo.org/show_bug.cgi?id=128065

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 128065
gdm-2.8.0.7: emerge failure due to missing glib headers
Last modified: 2006-07-18 18:35:27 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 128065 
      - gdm-2.8.0.7: emerge failure due to missing glib headers


Summary:
gdm-2.8.0.7: emerge failure due to missing glib headers
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] GNOME

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Linux Gnome Desktop Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-03-29 20:42 UTC by Leung Ki Chi





      Modified:
    
2006-07-18 18:35 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



j.thrussell









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




gdm emerge failure messages

              (gdm emerge failure log,10.96 KB,
                text/plain)

            
2006-03-29 20:43 UTC,

            Leung Ki Chi




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Leung Ki Chi





          2006-03-29 20:42:52 UTC
        

I upgraded dev-libs/expat as part of a world upgrade today, and when revdep-rebuild was run after that, it rebuilt gdm as gdm was broken by expat upgrade. However, the emerge failed with the attached error log.

My `emerge info` is as shown below.

Portage 2.1_pre7-r2 (default-linux/x86/2006.0, gcc-3.4.6, glibc-2.4-r1, 2.6.16-gentoo-r1 i686)
=================================================================
System uname: 2.6.16-gentoo-r1 i686 Intel(R) Pentium(R) M processor 1.73GHz
Gentoo Base System version 1.12.0_pre16
ccache version 2.4 [enabled]
dev-lang/python:     2.4.2-r1
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r2
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r3
ACCEPT_KEYWORDS="x86 ~x86"
ACCEPT_LICENSE=""
ARCH="x86"
AUTOCLEAN="yes"
BASH_ENV="/etc/spork/is/not/valid/profile.env"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=pentium3 -O2 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CLASSPATH="."
CLEAN_DELAY="5"
COLORTERM="gnome-terminal"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config /usr/share/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c /etc/env.d"
CVS_RSH="ssh"
CXXFLAGS="-march=pentium3 -O2 -pipe -fomit-frame-pointer"
DBUS_SESSION_BUS_ADDRESS="unix:abstract=/tmp/dbus-6SGVjWydFH,guid=f7482b44f72c08d67c5aa815e27cb300"
DESKTOP_STARTUP_ID=""
DISPLAY=":0.0"
DISTDIR="/usr/portage/distfiles"
EDITOR="/usr/bin/vim"
ELIBC="glibc"
EMERGE_DEFAULT_OPTS="--verbose"
EMERGE_WARNING_DELAY="10"
FEATURES="autoconfig buildpkg ccache confcache distlocks fixpackages metadata-transfer parallel-fetch sandbox sfperms strict userpriv usersandbox"
FETCHCOMMAND="/usr/bin/wget -t 1 --passive-ftp ${URI} -P ${DISTDIR}"
GCC_SPECS=""
GDK_USE_XFT="1"
GENTOO_MIRRORS="http://mirror.averse.net/pub/gentoo ftp://ftp.isu.edu.tw/pub/Linux/Gentoo http://mirror.gentoo.gr.jp http://distfiles.gentoo.org"
GNOME_DESKTOP_SESSION_ID="Default"
GNOME_KEYRING_SOCKET="/tmp/keyring-Kb7h7p/socket"
GTK_RC_FILES="/etc/gtk/gtkrc:/home/qizhi/.gtkrc-1.2-gnome2"
G_BROKEN_FILENAMES="1"
HOME="/home/qizhi"
HOSTNAME="yamada"
INFOPATH="/usr/share/info:/usr/share/binutils-data/i686-pc-linux-gnu/2.16.1/info:/usr/share/gcc-data/i686-pc-linux-gnu/3.4.6/info"
INPUT_DEVICES="keyboard mouse"
JAVAC="/opt/blackdown-jdk-1.4.2.03/bin/javac"
JAVA_HOME="/opt/blackdown-jdk-1.4.2.03"
JDK_HOME="/opt/blackdown-jdk-1.4.2.03"
KERNEL="linux"
LESS="-R -M --shift 5"
LESSOPEN="|lesspipe.sh %s"
LOGNAME="qizhi"
LS_COLORS="no=00:fi=00:di=01;34:ln=01;36:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=01;05;37;41:mi=01;05;37;41:su=37;41:sg=30;43:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arj=01;31:*.taz=01;31:*.lzh=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.gz=01;31:*.bz2=01;31:*.bz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.rar=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.jpg=01;35:*.jpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.qt=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.pdf=00;32:*.ps=00;32:*.txt=00;32:*.patch=00;32:*.diff=00;32:*.log=00;32:*.tex=00;32:*.doc=00;32:*.flac=01;35:*.mp3=01;35:*.mpc=00;36:*.ogg=00;36:*.wav=00;36:*.mid=00;36:*.midi=00;36:*.au=00;36:*.flac=00;36:*.aac=00;36:"
MAKEOPTS="-j2"
MANPATH="/usr/local/share/man:/usr/share/man:/usr/share/binutils-data/i686-pc-linux-gnu/2.16.1/man:/usr/share/gcc-data/i686-pc-linux-gnu/3.4.6/man::/opt/blackdown-jdk-1.4.2.03/man"
OPENGL_PROFILE="xorg-x11"
PAGER="/usr/bin/less"
PATH="/usr/local/bin:/usr/bin:/bin:/opt/bin:/usr/i686-pc-linux-gnu/gcc-bin/3.4.6:/opt/blackdown-jdk-1.4.2.03/bin:/opt/blackdown-jdk-1.4.2.03/jre/bin"
PKGDIR="/usr/portage/packages"
PORTAGE_ARCHLIST="ppc s390 amd64 ppc64 m68k arm sparc sh mips ia64 alpha ppc-macos hppa x86"
PORTAGE_BINHOST_CHUNKSIZE="3000"
PORTAGE_CALLER="emerge"
PORTAGE_GID="250"
PORTAGE_INST_GID="0"
PORTAGE_INST_UID="0"
PORTAGE_MASTER_PID="6429"
PORTAGE_NICENESS="3"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_RSYNC_RETRIES="3"
PORTAGE_TMPDIR="/var/tmp"
PORTAGE_TMPFS="/dev/shm"
PORTAGE_WORKDIR_MODE="0700"
PORTDIR="/usr/portage"
PRELINK_PATH=""
PRELINK_PATH_MASK="/usr/lib/gstreamer-0.8"
PWD="/home/qizhi"
PYTHONPATH="/usr/lib/portage/pym"
RESUMECOMMAND="/usr/bin/wget -c -t 1 --passive-ftp ${URI} -P ${DISTDIR}"
RPMDIR="/usr/portage/rpm"
SESSION_MANAGER="local/yamada:/tmp/.ICE-unix/11753"
SHELL="/bin/bash"
SHLVL="1"
SSH_AGENT_PID="11790"
SSH_AUTH_SOCK="/tmp/ssh-PjNCz11753/agent.11753"
SYNC="rsync://mirror.averse.net/gentoo-portage"
TERM="xterm"
USE="x86 X a52 aac acpi alsa apache2 avi berkdb bitmap-fonts cdr cjk cli crypt ctype dba dbus dri dts dvd dvdr eds emboss encode esd expat fastbuild ffmpeg foomaticdb force-cgi-redirect fortran ftp gd gdbm gif gnome gpm gstreamer gtk gtk2 hal imlib ipv6 isdnlog java jpeg libg++ libwww mad memlimit mikmod mmx mng modplug motif mp3 mpeg ncurses nls nptl nsplugin ogg opengl oss pam pcmcia pcre pdflib perl png posix pppd python quicktime readline samba sdl session simplexml soap sockets speex spell spl sse ssl svg tcpd theora threads tiff tokenizer truetype truetype-fonts type1-fonts udev unicode usb vcd vorbis win32codecs xine xml xmms xsl xv zlib elibc_glibc input_devices_keyboard input_devices_mouse kernel_linux userland_GNU video_cards_i810"
USER="qizhi"
USERLAND="GNU"
USE_EXPAND="DVB_CARDS ELIBC FCDSL_CARDS FRITZCAPI_CARDS INPUT_DEVICES KERNEL LINGUAS USERLAND VIDEO_CARDS"
USE_EXPAND_HIDDEN=""
USE_ORDER="env:pkg:conf:defaults"
VIDEO_CARDS="i810"
WINDOWID="31498779"
XARGS="xargs -r"
XAUTHORITY="/tmp/.XauthMD5FaJ"
_="/usr/bin/emerge"
http_proxy="http://proxy.ntu.edu.sg:8080/"




Comment 1


Leung Ki Chi





          2006-03-29 20:43:47 UTC
        

Created attachment 83413 [details]
gdm emerge failure messages

the log of the emerge




Comment 2


Leung Ki Chi





          2006-03-29 20:46:26 UTC
        

Forgot to add... I re-emerged both expat and glib successfully. However, gdm still fails with the same error after that.




Comment 3


John N. Laliberte (RETIRED)






          2006-03-30 04:02:20 UTC
        

gdm-dmx-reconnect-proxy.c:23:18: glib.h: No such file or directory
gdm-dmx-reconnect-proxy.c:24:24: glib/gi18n.h: No such file or directory

This is the main issue.

What version of glib do you have installed?




Comment 4


Leung Ki Chi





          2006-03-30 04:32:41 UTC
        

$ emerge -pv glib

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild   R   ] dev-libs/glib-2.8.6  USE="-debug -doc -hardened" 0 kB




Comment 5


Joe Wells





          2006-03-30 13:43:24 UTC
        

See also bug 127470, bug 128085, and bug 128108.




Comment 6


Daniel Gryniewicz (RETIRED)






          2006-05-07 19:26:26 UTC
        

Try revdep-rebuild




Comment 7


John N. Laliberte (RETIRED)






          2006-07-14 12:38:14 UTC
        

are you still having this problem?




Comment 8


Leung Ki Chi





          2006-07-18 18:35:27 UTC
        

Marking as WORKSFORME, because I can no longer reproduce this problem by emerging the latest ~x86 gdm, which does not require expat even with USE=expat set.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

