Title: 166739 – dev-util/subversion-1.4.2 fails to execute hooks after the first restart of apache
URL: https://bugs.gentoo.org/show_bug.cgi?id=166739

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 166739
dev-util/subversion-1.4.2 fails to execute hooks after the first restart of apache
Last modified: 2007-10-04 22:17:20 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 166739 
      - dev-util/subversion-1.4.2 fails to execute hooks after the first restart of apache


Summary:
dev-util/subversion-1.4.2 fails to execute hooks after the first restart of a...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       major
      


Assignee:

Paul de Vrieze (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-02-13 21:27 UTC by Fred Grim





      Modified:
    
2007-10-04 22:17 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Fred Grim





          2007-02-13 21:27:19 UTC
        

If I install stock apache and stock subversion hooks in my repository fail to excute except for the first time after apache is started.  This can be reproduced but enabling a hook and doing a commit.  It'll work from the command line with a stripped environment

Reproducible: Always

Steps to Reproduce:
1.Install Apache + subversion, put subversion in vhost
2.make repository
3.make 2 commits.  The first the hook runs The second it doesn't.  Repeat the restart and commit twice more.  Again the commit runs the first time and not the second




hal9000@vps304 :~/redtide/python-mods/branches/pluggable-payments> sudo emerge -pv apache subversion

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild   R   ] net-www/apache-2.0.58-r2  USE="apache2 mpm-worker ssl threads -debug -doc -ldap -mpm-itk -mpm-leader -mpm-peruser -mpm-prefork -mpm-threadpool (-selinux) -static-modules" 0 kB 
[ebuild   R   ] dev-util/subversion-1.4.2  USE="apache2 perl python -bash-completion -berkdb -emacs -java -nls -nowebdav -ruby" 0 kB 

Total size of downloads: 0 kB
hal9000@vps304 :~/redtide/python-mods/branches/pluggable-payments> 


This also fails on non-keyword subversion.  I have heard others having this issue on the user@ mailing list for subversion.




Comment 1


Paul de Vrieze (RETIRED)






          2007-03-18 18:57:32 UTC
        

Ok, so you start apache2. Run multiple commits and the hook only goes the first time. Could you check that the hook completes? You might want to start it "manually" to test it. I have a post_commit hook in place myself and have not seen this problem.




Comment 2


Togge





          2007-09-03 12:01:21 UTC
        

Any progress on this or should it be closed?




Comment 3


Jakub Moc (RETIRED)






          2007-10-04 22:17:20 UTC
        

Well, I cannot reproduce this, no response from user, closing.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

