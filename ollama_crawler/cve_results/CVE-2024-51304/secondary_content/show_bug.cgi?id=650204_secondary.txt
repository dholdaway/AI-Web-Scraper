Title: 650204 – =sys-devel/gettext-0.19.8.1 - ../gnulib-lib/.libs/libgettextlib.so: error: undefined reference to 'log10'
URL: https://bugs.gentoo.org/show_bug.cgi?id=650204

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 650204
=sys-devel/gettext-0.19.8.1 - ../gnulib-lib/.libs/libgettextlib.so: error: undefined reference to 'log10'
Last modified: 2018-11-23 21:19:52 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 650204 
      - =sys-devel/gettext-0.19.8.1 - ../gnulib-lib/.libs/libgettextlib.so: error: undefined reference to 'log10'


Summary:
=sys-devel/gettext-0.19.8.1 - ../gnulib-lib/.libs/libgettextlib.so: error: un...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo's Team for Core System packages








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2018-03-11 13:36 UTC by Walter Hüttenmeyer





      Modified:
    
2018-11-23 21:19 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




sys-devel:gettext-0.19.8.1:20180311-133218.log

              (sys-devel:gettext-0.19.8.1:20180311-133218.log,950.48 KB,
                text/plain)

            
2018-03-11 13:36 UTC,

            Walter Hüttenmeyer




Details





/etc/portage/env/gettext.conf

              (gettext.conf,25 bytes,
                text/plain)

            
2018-03-11 13:38 UTC,

            Walter Hüttenmeyer




Details





build log of successful merge

              (sys-devel:gettext-0.19.8.1:20180311-134037.log,12.06 KB,
                text/x-log)

            
2018-03-11 13:42 UTC,

            Walter Hüttenmeyer




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Walter Hüttenmeyer





          2018-03-11 13:36:37 UTC
        

Created attachment 523490 [details]
sys-devel:gettext-0.19.8.1:20180311-133218.log

sys-devel/gettext-0.19.8.1 is referencing log10, which is included in libm
This library is not passed to the linker, so it will fail.

Adding "-lm" to LDFLAGS fixes the issue, both on arm and amd64




Comment 1


Walter Hüttenmeyer





          2018-03-11 13:38:13 UTC
        

Created attachment 523492 [details]
/etc/portage/env/gettext.conf

putting
sys-devel/gettext gettext.conf

in /etc/portage/package.env
fixes the issue.




Comment 2


Walter Hüttenmeyer





          2018-03-11 13:42:34 UTC
        

Created attachment 523494 [details]
build log of successful merge

when creating the environment with attachment#523492 [details] it works.




Comment 3


Walter Hüttenmeyer





          2018-03-11 13:44:56 UTC
        

solution found here: https://stackoverflow.com/questions/31403210/undefined-reference-to-log10-function




Comment 4


Walter Hüttenmeyer





          2018-11-23 21:19:52 UTC
        

Weirdly enough, without any special treatment it works now....
no references to gettext in any package.env file, just works (tm)

Sorry for the single-case-fuss!









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

