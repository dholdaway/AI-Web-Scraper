Title: 911424 – kde-frameworks/kglobalaccel-5.108.0  emerge failed (compile phase)
URL: https://bugs.gentoo.org/show_bug.cgi?id=911424

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 911424
kde-frameworks/kglobalaccel-5.108.0  emerge failed (compile phase)
Last modified: 2023-07-30 14:55:08 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 911424 
      - kde-frameworks/kglobalaccel-5.108.0  emerge failed (compile phase)


Summary:
kde-frameworks/kglobalaccel-5.108.0  emerge failed (compile phase)
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2023-07-29 15:28 UTC by wellno1





      Modified:
    
2023-07-30 14:55 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



wellno









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




kde-frameworks-kglobalaccel-5.108.0-20230729-064734.log

              (kglobalaccel.log,139.55 KB,
                text/x-log)

            
2023-07-29 15:28 UTC,

            wellno1




Details





emerge --info.log

              (emerge-info.log,7.31 KB,
                text/x-log)

            
2023-07-29 15:29 UTC,

            wellno1




Details





kcoreaddons emerge log

              (kde-frameworks:kcoreaddons-5.108.0-r1:20230729-155505.log,23.93 KB,
                text/x-log)

            
2023-07-29 15:58 UTC,

            wellno1




Details





kglobalaccel emerge

              (kde-frameworks:kglobalaccel-5.108.0:20230729-160558.log,139.56 KB,
                text/x-log)

            
2023-07-29 16:09 UTC,

            wellno1




Details





revdep-rebuild --library 'libstdc++.so.6' -- --exclude gcc

              (revdep-rebuild,24.77 KB,
                text/plain)

            
2023-07-29 17:12 UTC,

            wellno1




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


wellno1





          2023-07-29 15:28:33 UTC
        

Created attachment 866564 [details]
kde-frameworks-kglobalaccel-5.108.0-20230729-064734.log

Emerge failed during compile phase:

* ERROR: kde-frameworks/kglobalaccel-5.108.0::gentoo failed (compile phase):
 *   ninja -v -j1 -l5 failed
 * 
 * Call stack:
 *     ebuild.sh, line  136:  Called src_compile
 *   environment, line 2485:  Called cmake_src_compile
 *   environment, line  989:  Called cmake_build
 *   environment, line  955:  Called eninja
 *   environment, line 1639:  Called die
 * The specific snippet of code:
 *       "$@" || die -n "${*} failed"




Comment 1


wellno1





          2023-07-29 15:29:17 UTC
        

Created attachment 866565 [details]
emerge --info.log




Comment 2


wellno1





          2023-07-29 15:31:54 UTC
        

Failed in compile phase emerging package kglobalaccel




Comment 3


Sam James









          2023-07-29 15:38:52 UTC
        

/usr/libexec/gcc/x86_64-pc-linux-gnu/ld: /usr/lib64/libKF5CoreAddons.so.5.108.0: undefined reference to `std::ios_base_library_init()@GLIBCXX_3.4.32'
collect2: error: ld returned 1 exit status

Did you build some of your system with GCC 13 and then downgrade to GCC 12?




Comment 4


wellno1





          2023-07-29 15:41:07 UTC
        

No, I'm with 12.2.1_p20230121-r1, never tried the 13




Comment 5


Sam James









          2023-07-29 15:46:23 UTC
        

Please try emerge -v1 /usr/lib64/libKF5CoreAddons.so.5.108.0.




Comment 6


wellno1





          2023-07-29 15:58:49 UTC
        

Created attachment 866566 [details]
kcoreaddons emerge log




Comment 7


Sam James









          2023-07-29 15:59:45 UTC
        

Can you try building kglobalaccel again now?




Comment 8


wellno1





          2023-07-29 16:09:00 UTC
        

Created attachment 866567 [details]
kglobalaccel emerge

No luck




Comment 9


wellno1





          2023-07-29 17:00:14 UTC
        

Btw same kcoreaddons related error emerging krita:

---
/usr/libexec/gcc/x86_64-pc-linux-gnu/ld: /usr/lib64/libKF5CoreAddons.so.5.108.0: undefined reference to `std::ios_base_library_init()@GLIBCXX_3.4.32'
collect2: error: ld returned 1 exit status
ninja: build stopped: subcommand failed.
 * ERROR: media-gfx/krita-5.1.5::gentoo failed (compile phase):
 *   ninja -v -j1 -l5 failed
 * 
 * Call stack:
 *     ebuild.sh, line  136:  Called src_compile
 *   environment, line 3469:  Called cmake_src_compile
 *   environment, line 1503:  Called cmake_build
 *   environment, line 1469:  Called eninja
 *   environment, line 2153:  Called die
 * The specific snippet of code:
 *       "$@" || die -n "${*} failed"


Should it be useful if I open another bug report? It seems to be the same issue




Comment 10


Sam James









          2023-07-29 17:03:01 UTC
        

Please try: revdep-rebuild --library 'libstdc++.so.6' -- --exclude gcc.




Comment 11


wellno1





          2023-07-29 17:12:04 UTC
        

Created attachment 866569 [details]
revdep-rebuild --library 'libstdc++.so.6' -- --exclude gcc




Comment 12


Mike Gilbert






          2023-07-30 02:42:43 UTC
        

This appears to be an issue with a broken library specific to your system. Please seek help in Gentoo support channels.

https://www.gentoo.org/support/




Comment 13


wellno1





          2023-07-30 14:55:08 UTC
        

Solved unemerging kcoreaddons and emerging it again from source, probably the binpkg I was using was corrupted.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

