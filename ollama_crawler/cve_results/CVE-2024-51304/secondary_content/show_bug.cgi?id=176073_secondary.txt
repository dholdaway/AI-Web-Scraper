Title: 176073 – alas-tools 1.0.14-rc1: hdspmixer doesn't get installed
URL: https://bugs.gentoo.org/show_bug.cgi?id=176073

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 176073
alas-tools 1.0.14-rc1: hdspmixer doesn't get installed
Last modified: 2007-05-08 02:52:28 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 176073 
      - alas-tools 1.0.14-rc1: hdspmixer doesn't get installed


Summary:
alas-tools 1.0.14-rc1: hdspmixer doesn't get installed
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Sound Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-04-26 07:11 UTC by Werner Dettmann





      Modified:
    
2007-05-08 02:52 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Werner Dettmann





          2007-04-26 07:11:41 UTC
        

hdspmixer and hdspconf don't get installed. I have the following lines in my make.conf:

ALSA_CARDS="hdsp intel8x0 usb-usx2y usb-audio"
ALSA_TOOLS="hdspconf hdspmixer usx2yloader us428control ac3dec"

What's wrong here?

emerge --info:

Portage 2.1.2.2 (default-linux/x86/2006.0, gcc-4.1.1, glibc-2.5-r0, 2.6.18-suspend2-r1 i686)
=================================================================
System uname: 2.6.18-suspend2-r1 i686 AMD Athlon(tm) XP 2800+
Gentoo Base System release 1.12.9
Timestamp of tree: Sun, 15 Apr 2007 13:30:01 +0000
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
dev-java/java-config: 1.3.7, 2.0.31-r5
dev-lang/python:     2.3.5-r3, 2.4.3-r4
dev-python/pycrypto: 2.0.1-r5
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.61
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.15-r1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.17-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=athlon-xp -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/lib/fax /usr/share/X11/xkb /usr/share/config /var/spool/fax/etc"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/terminfo"
CXXFLAGS="-O2 -march=athlon-xp -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LANG="de_DE@euro"
LC_ALL="de_DE@euro"
LINGUAS="de"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="3dnow X alsa apache2 apm berkdb bitmap-fonts caps cdparanoia cdr cli cracklib crypt cups dbus dri dvd dvdr dvdread eds emboss encode esd faxonly font-server foomaticdb fortran gd gdbm gif gpm gstreamer gtk gtk2 hal iconv imap imlib isdnlog jpeg kde ladcca libg++ libwww mad midi mikmod mmx mp3 mpeg ncurses nls nptl nptlonly ogg opengl oss pam pcre pdf perl png ppds pppd python qt3 qt4 quicktime readline real reflection scanner sdl session spell spl ssl tcpd theora truetype truetype-fonts type1-fonts unicode vorbis win32codecs x86 xml xorg xv zlib" ALSA_CARDS="hdsp intel8x0 usb-usx2y usb-audio" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" ELIBC="glibc" INPUT_DEVICES="keyboard mouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="de" USERLAND="GNU" VIDEO_CARDS="nv nvidia vesa"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LDFLAGS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS



Reproducible: Always

Steps to Reproduce:
1. Set the line ALSA_TOOLS="hdspmixer" in make.conf
2. emerge alsa-tools
3. hdspmixer




Expected Results:  
hdspmixer should be installed




Comment 1


Carsten Lohrke (RETIRED)






          2007-04-26 11:52:33 UTC
        

same with -r1?




Comment 2


Werner Dettmann





          2007-04-26 12:10:29 UTC
        

Yes, no change with -r1. I don't want to go ~x86, so I didn't try the later ones.





Comment 3


Werner Dettmann





          2007-05-02 08:36:38 UTC
        

Well, is there some workaround to get hdspmixer and hdspconf installed? I can't use the card without these.
Why does ALSA_CARDS appear in emerge --info, but ALSA_TOOLS doesn't? Is that normal?




Comment 4


Ryan Hill (RETIRED)






          2007-05-07 04:39:35 UTC
        

ALSA_CARDS is a special kind of USE flag known as a USE_EXPAND flag.  They let us set an environment variable (in this case ${ALSA_CARDS}) that gets appended to the contents of USE.  This allows us to do some stuff that wouldn't be possible with USE alone.

ALSA_TOOLS is not a USE_EXPAND flag, it's just a regular variable that gets set in the ebuild and can't overridden by make.conf.

The bit that enables hdspmixer and hdspconf looks like this:

    if use alsa_cards_hdsp || use alsa_cards_hdspm; then
        ALSA_TOOLS="${ALSA_TOOLS} hdsploader"
        use fltk && ALSA_TOOLS="${ALSA_TOOLS} hdspconf hdspmixer"
    fi

so I'm guessing you need to add flfk to your USE flags.




Comment 5


Werner Dettmann





          2007-05-07 06:01:36 UTC
        

Thank you, that did it for me.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

