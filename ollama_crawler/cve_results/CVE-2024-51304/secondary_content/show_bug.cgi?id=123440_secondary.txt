Title: 123440 – rxvt-unicode ignores the £ key.
URL: https://bugs.gentoo.org/show_bug.cgi?id=123440

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 123440
rxvt-unicode ignores the £ key.
Last modified: 2006-08-12 09:49:16 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 123440 
      - rxvt-unicode ignores the £ key.


Summary:
rxvt-unicode ignores the £ key.
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Emanuele Giaquinta (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-02-19 21:23 UTC by himselfe@gmail.com





      Modified:
    
2006-08-12 09:49 UTC
      (History)
    




          CC List:
        

4 
          users
          
            (show)
          



himselfe
killerfox
latexer
tinaught









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


himselfe@gmail.com





          2006-02-19 21:23:15 UTC
        

On two different gentoo systems i've found that urxvt seems to completely ignore the 




Comment 1


himselfe@gmail.com





          2006-02-19 21:23:15 UTC
        

On two different gentoo systems i've found that urxvt seems to completely ignore the £ symbol (Shift+3) on uk keyboards. It can display the £ perfectly fine (for example if i cat a file containing the £ symbol) and it has no problem with any other symbol. But when i press the key combination Shift+3 absolutly nothing hapens. All other X terminals work fine and detect £ input as they should, including uxterm. I'm not sure if this is a gentoo specific bug or a urxvt bug but i dont seem to be able to find anything relating to it when i search on google.




Comment 2


Pietro Franchi





          2006-04-13 03:04:45 UTC
        

Have you got problems with others UTF-8 symbols as well?




Comment 3


himselfe@gmail.com





          2006-04-13 08:26:36 UTC
        

I have no problems with any other symbols on my keyboard, and i have no reliable method of testing other UTF-8 symbols. As i have said, rxvt-unicode is capable of displaying the symbol fine, the only problem is when attempting to input the symbol. I am now fairly certain this is a Gentoo specific bug as i have tested rxvt-unicode on another distro (ArchLinux) and it does not have the same problem. It's also interesting to note that although i can enter '




Comment 4


himselfe@gmail.com





          2006-04-13 08:26:36 UTC
        

I have no problems with any other symbols on my keyboard, and i have no reliable method of testing other UTF-8 symbols. As i have said, rxvt-unicode is capable of displaying the symbol fine, the only problem is when attempting to input the symbol. I am now fairly certain this is a Gentoo specific bug as i have tested rxvt-unicode on another distro (ArchLinux) and it does not have the same problem. It's also interesting to note that although i can enter '£' at the console it incorrectly displays the '£' symbol as a 'ú', however this problem is only present while directly accessing vt1-5 and i'm not sure if it is a related bug.




Comment 5


Nils Larsson





          2006-05-10 15:03:11 UTC
        

(In reply to comment #1)
> Have you got problems with others UTF-8 symbols as well?
> 
I got the same problem as himselfe@gmail.com. My swedish characters are also ignored,




Comment 6


Nils Larsson





          2006-05-10 15:03:11 UTC
        

(In reply to comment #1)
> Have you got problems with others UTF-8 symbols as well?
> 
I got the same problem as himselfe@gmail.com. My swedish characters are also ignored,åäö(and the £). 

I talked to the guys in #rxvt-unicode on FreeNode, one spirited fellow gave me som e hints on locale and other settings that might be the cause of this, nothing that came to positve results thou. He also suggested I should fiddle with my CFLAGS, so I tried everything down to nothing. No results.




Comment 7


René Nussbaumer (RETIRED)






          2006-08-12 08:33:38 UTC
        

Seems like you don't have the locales prober set. I can reproduce this bevahiour only if I set C or POSIX as locale. Can you try something like this:

LC_CTYPE=en_US.utf8 urxvt (in a terminal)

Please make sure, this locale exist (locale | grep en_US.utf8). Else take another locale (which supports utf-8) from the list: locale | grep utf8

Should work with this locales as well.

Can you type then in the new terminal your special chars like 




Comment 8


René Nussbaumer (RETIRED)






          2006-08-12 08:33:38 UTC
        

Seems like you don't have the locales prober set. I can reproduce this bevahiour only if I set C or POSIX as locale. Can you try something like this:

LC_CTYPE=en_US.utf8 urxvt (in a terminal)

Please make sure, this locale exist (locale | grep en_US.utf8). Else take another locale (which supports utf-8) from the list: locale | grep utf8

Should work with this locales as well.

Can you type then in the new terminal your special chars like ö, ä, ü, £ and so on?

Can you also give me the output of the locale command?




Comment 9


René Nussbaumer (RETIRED)






          2006-08-12 08:34:46 UTC
        

> another locale (which supports utf-8) from the list: locale | grep utf8

locale -a | grep utf8 even. Sorry for the typo.




Comment 10


himselfe@gmail.com





          2006-08-12 09:15:15 UTC
        

(In reply to comment #5)
> > another locale (which supports utf-8) from the list: locale | grep utf8
> 
> locale -a | grep utf8 even. Sorry for the typo.
> 

You were correct, setting LC_CTYPE=en_GB.utf8 fixed the problem. Could you recommend where the best place is to set this env variable? as I don't remember coming across it when I was reading through the docs (though that was a long time ago) and it would be a bit of a pain to have to prefix that setting every time i want to run urxvt. Also is it recomended for me to re-compile urxvt with that var set or does that have no effect? Thanks for your help.




Comment 11


René Nussbaumer (RETIRED)






          2006-08-12 09:49:16 UTC
        

Please read http://www.gentoo.org/doc/en/guide-localization.xml for a howto. 









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

