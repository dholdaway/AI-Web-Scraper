Title: 302825 – Libmad is not pulled before gnome-games causing it to not compile
URL: https://bugs.gentoo.org/show_bug.cgi?id=302825

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 302825
Libmad is not pulled before gnome-games causing it to not compile
Last modified: 2010-01-30 11:39:06 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 302825 
      - Libmad is not pulled before gnome-games causing it to not compile


Summary:
Libmad is not pulled before gnome-games causing it to not compile
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] GNOME

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       major
      


Assignee:

Gentoo Sound Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2010-01-30 05:23 UTC by Adam Smith





      Modified:
    
2010-01-30 11:39 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Adam Smith





          2010-01-30 05:23:41 UTC
        

in ~AMD64, emerging gnome-games fails due to missing libmad:

/bin/grep: /usr/lib64/libmad.la: No such file or directory
/bin/sed: can't read /usr/lib64/libmad.la: No such file or directory
libtool: link: `/usr/lib64/libmad.la' is not a valid libtool archive
make[3]: *** [libgames-support.la] Error 1
make[3]: Leaving directory `/var/tmp/portage/gnome-extra/gnome-games-2.28.2/work/gnome-games-2.28.2/libgames-support'
make[2]: *** [all] Error 2
make[2]: Leaving directory `/var/tmp/portage/gnome-extra/gnome-games-2.28.2/work/gnome-games-2.28.2/libgames-support'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/gnome-extra/gnome-games-2.28.2/work/gnome-games-2.28.2'
make: *** [all] Error 2
 * ERROR: gnome-extra/gnome-games-2.28.2 failed:
 *   compile failure
 * 
 * Call stack:
 *     ebuild.sh, line   54:  Called src_compile
 *   environment, line 4577:  Called gnome2_src_compile
 *   environment, line 2966:  Called die
 * The specific snippet of code:
 *       emake || die "compile failure"
 * 
 * If you need support, post the output of 'emerge --info =gnome-extra/gnome-games-2.28.2',
 * the complete build log and the output of 'emerge -pqv =gnome-extra/gnome-games-2.28.2'.
 * The complete build log is located at '/var/tmp/portage/gnome-extra/gnome-games-2.28.2/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/gnome-extra/gnome-games-2.28.2/temp/environment'.
 * S: '/var/tmp/portage/gnome-extra/gnome-games-2.28.2/work/gnome-games-2.28.2'

>>> Failed to emerge gnome-extra/gnome-games-2.28.2, Log file:
---------------------------------------------------------------------------

as requested by portage, here is a paste of the emerge --info =gnome-extra/gnome-games-2.28.2 -->

=================================================================
                        System Settings
=================================================================
System uname: Linux-2.6.31-gentoo-r6-x86_64-AMD_Athlon_Dual-Core_QL-62-with-gentoo-2.0.1
Timestamp of tree: Fri, 29 Jan 2010 11:00:01 +0000
distcc 3.1 x86_64-pc-linux-gnu [disabled]
ccache version 2.4 [enabled]
app-shells/bash:     4.0_p37
dev-lang/python:     2.6.4-r1, 3.1.1-r1
dev-util/ccache:     2.4-r8
dev-util/cmake:      2.8.0-r1
sys-apps/baselayout: 2.0.1
sys-apps/openrc:     0.6.0-r1
sys-apps/sandbox:    2.2
sys-devel/autoconf:  2.13, 2.65
sys-devel/automake:  1.9.6-r2, 1.10.3, 1.11.1
sys-devel/binutils:  2.20
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   2.2.6b
virtual/os-headers:  2.6.30-r1
ACCEPT_KEYWORDS="amd64 ~amd64"
ACCEPT_LICENSE="* -@EULA"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/X11/xkb"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/sandbox.d /etc/terminfo /etc/udev/rules.d"
CXXFLAGS="-O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="assume-digests ccache distlocks fixpackages news parallel-fetch protect-owned sandbox sfperms strict unmerge-logs unmerge-orphans userfetch"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LANG="C"
LDFLAGS="-Wl,-O1"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage/layman/techwolf"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="3dnow 3dnowext X a52 aac acl acpi alsa amd64 ares automount berkdb bluetooth branding bzip2 cairo cdr cli consolekit cracklib crypt cups cxx dbus dedicated dri dts dvd dvdr eds emboss encode evo extras fam ffmpeg firefox flac fortran ftp gdbm gif gimp gmplayer gnome gnome-keyring gpm gstreamer gtk gtk2 gtkhtml guile hal iconv ipv6 jpeg kdrive ldap libnotify mad maps mikmod mmx mng modules mono mp3 mp4 mpeg msn mudflap multilib ncurses networking nls nptl nptlonly ogg oggvorbis openal opengl openmp openssl pam pcre pdf perl png policykit ppds pppd python qt3support qt4 quicktime readline reflection samba sdl session sip spell spl sse sse2 ssl startup-notification svg sysfs tcpd thunar tiff truetype unicode usb vorbis wav x264 xml xorg xulrunner xv xvid yahoo zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="evdev synaptics" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" RUBY_TARGETS="ruby18" USERLAND="GNU" VIDEO_CARDS="nvidia" 
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LC_ALL, LINGUAS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS

Reproducible: Always

Steps to Reproduce:
1.Install AMD64 normal with gnome
2.switch to ~amd64
3.emerge --update --deep --newuse world

Actual Results:  
most everything compiles fine except for gnome-games can't find libmad

Expected Results:  
for it to pull libmad if it needed it before it tried to compile

 SysInfo: uname: Linux 2.6.31-gentoo-r6 Distro: Gentoo Base System release 2.0.1 CPU: Dual AMD Athlon Dual-Core QL-62 2000.000 MHz Bogomips: 8000.4 Mem: 3195/3710M [||||||||||] Diskspace: 216.30G Free: 144.67G Uptime: 1 day 12 hrs 27 mins 27 secs Load: 0.04 0.03 0.20  Procs: 101 Graphic: unknown Screen: 1366x768 (32 bpp) Netinfo: wlan0: In: 2.21G Out: 7.30G




Comment 1


Adam Smith





          2010-01-30 06:24:29 UTC
        

I installed libmad, but it doesn't seem to copy libmad.la to lib64 folder as it looks like it tries to do when I install it




Comment 2


Adam Smith





          2010-01-30 07:29:14 UTC
        

revdev-rebuilt and it works, but no clues to this in anything but bugzilla. The la files were removed by diego or something according to one bugzilla report. Anyway, thanks to bugzilla for giving the answers to the .la problem.




Comment 3


Rémi Cardona (RETIRED)






          2010-01-30 10:29:15 UTC
        

So there's no bug for us to fix then. Closing.

Thanks




Comment 4


Gilles Dartiguelongue (RETIRED)






          2010-01-30 10:30:25 UTC
        

the problem is libmad ebuild dropping la files with no warning




Comment 5


Gilles Dartiguelongue (RETIRED)






          2010-01-30 10:30:44 UTC
        

the problem is libmad ebuild dropping la files with no warning




Comment 6


Gilles Dartiguelongue (RETIRED)






          2010-01-30 10:31:07 UTC
        

reopening, sorry for double post.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

