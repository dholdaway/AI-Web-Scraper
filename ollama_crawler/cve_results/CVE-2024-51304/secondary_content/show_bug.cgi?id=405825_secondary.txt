Title: 405825 – app-shells/zsh-4.3.17 with kde-base/konsole-4.8.0 breaks ctrl-c in su
URL: https://bugs.gentoo.org/show_bug.cgi?id=405825

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 405825
app-shells/zsh-4.3.17 with kde-base/konsole-4.8.0 breaks ctrl-c in su
Last modified: 2012-04-18 06:56:29 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 405825 
      - app-shells/zsh-4.3.17 with kde-base/konsole-4.8.0 breaks ctrl-c in su


Summary:
app-shells/zsh-4.3.17 with kde-base/konsole-4.8.0 breaks ctrl-c in su
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Torsten Veller (RETIRED)








URL:



https://bugs.kde.org/show_bug.cgi?id=...
        




Whiteboard:
tracking upstream  
  


Keywords:








Depends on:







Blocks:









 





      Reported:
    
2012-02-25 21:34 UTC by Volker Hemmann





      Modified:
    
2012-04-18 06:56 UTC
      (History)
    




          CC List:
        

4 
          users
          
            (show)
          



adaptee
kde
neil
radhermit









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Volker Hemmann





          2012-02-25 21:34:30 UTC
        

When using su - to become root in a shell session in konsole, ctrl-c does not quit programs but end the su session while the program continues to run.
For example a running ping will continue to ping.

4.3.15 works perfectly fine and as expected.

xterm is not hit by this, neither sessions in a vt. So there is a problem between konsole and zsh

Reproducible: Always

Steps to Reproduce:
1. in konsole as user su -
2. ping www.google.com
3. hit ctrl-c

Actual Results:  
su session quits, ping continues.

Expected Results:  
ping quits.

emerge --info
--- Invalid atom in /etc/portage/package.use: virtual/ffmpeg-0.6.90
WARNING: One or more repositories have missing repo_name entries:

        /usr/local/portage/ati-testing/profiles/repo_name
        /usr/local/portage/profiles/repo_name

NOTE: Each repo_name entry should be a plain text file containing a
unique name for the repository on the first line.


Portage 2.2.0_alpha84 (default/linux/amd64/10.0/desktop, gcc-4.5.3, glibc-2.14.1-r1, 3.0.21 x86_64)
=================================================================
System uname: Linux-3.0.21-x86_64-AMD_Phenom-tm-_II_X4_955_Processor-with-gentoo-2.1
Timestamp of tree: Sat, 25 Feb 2012 19:00:02 +0000
app-shells/bash:          4.2_p20
dev-java/java-config:     2.1.11-r3
dev-lang/python:          2.6.7-r2, 2.7.2-r3, 3.1.4-r3, 3.2.2
dev-util/cmake:           2.8.6-r4
dev-util/pkgconfig:       0.26
sys-apps/baselayout:      2.1
sys-apps/openrc:          0.9.9.1
sys-apps/sandbox:         2.5
sys-devel/autoconf:       2.13, 2.68
sys-devel/automake:       1.9.6-r3, 1.10.3, 1.11.1-r1
sys-devel/binutils:       2.22-r1
sys-devel/gcc:            4.5.3-r2
sys-devel/gcc-config:     1.5-r2
sys-devel/libtool:        2.4.2
sys-devel/make:           3.82-r3
sys-kernel/linux-headers: 3.1 (virtual/os-headers)
sys-libs/glibc:           2.14.1-r1
Repositories: gentoo x11 xarthisius c1pher kde x-portage x-ati-testing
Installed sets: @kde-4.8
ACCEPT_KEYWORDS="amd64 ~amd64"
ACCEPT_LICENSE="*"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=amdfam10 -mtune=amdfam10 -O2 -msse3 -msse4a -msahf -fpredictive-commoning -mfpmath=sse -mcx16 -mpopcnt -mabm --param l1-cache-size=64 --param l1-cache-line-size=64 --param l2-cache-size=512 -ftracer -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/config /usr/share/gnupg/qualified.txt /var/lib/hsqldb"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/games/angband/edit/ /etc/gconf /etc/gentoo-release /etc/php/apache2-php5.3/ext-active/ /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5.3/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5.3/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo"
CXXFLAGS="-march=amdfam10 -mtune=amdfam10 -O2 -msse3 -msse4a -msahf -fpredictive-commoning -mfpmath=sse -mcx16 -mpopcnt -mabm --param l1-cache-size=64 --param l1-cache-line-size=64 --param l2-cache-size=512 -ftracer -pipe"
DISTDIR="/var/portage/distfiles"
EMERGE_DEFAULT_OPTS="--keep-going"
FEATURES="assume-digests binpkg-logs buildpkg candy distlocks ebuild-locks fixlafiles metadata-transfer news parallel-fetch protect-owned sandbox sfperms strict unknown-features-warn unmerge-logs unmerge-orphans userfetch"
FFLAGS=""
GENTOO_MIRRORS="http://distfiles.gentoo.org"
LANG="de_DE@euro"
LC_ALL="de_DE@euro"
LDFLAGS="-Wl,-O1 -Wl,--as-needed"
LINGUAS="de"
MAKEOPTS="-j5"
PKGDIR="/var/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/var/portage"
PORTDIR_OVERLAY="/var/lib/layman/x11 /var/lib/layman/xarthisius /var/lib/layman/c1pher /var/lib/layman/kde /usr/local/portage /usr/local/portage/ati-testing"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="32bit 3dnow 3dnowext 64bit 7zip S3TC X Xaw3d a52 aac acpi addbookmarks aften aim aio akode akonadi alias alsa altenburgcards amarok amarok2 amd64 amr amrnb amrwb analogtv aotuv apng archive athena atm audio audiofile autoreplace bash-completion berkdb binary-drivers binfilter bittorrent boost branding bzip2 cairo captury cdaudio cdda cddb cdinstall cdparanoia cdr cdrom cdsound cegui chm clamav clamdtop cli clucene connection-sharing connectionstatus consolekit contactnotes cracklib crypt css cups curl cxx dbus ddate declarative device-mapper dhcp dhcpcd dirac divx dnd double-precision downloadorder dpms dragonplayer dri dts dv dvb dvbplayer dvbsetup dvd dvdr eap-sim eap-tls editor embedded emboss emerald emovix enca encode exceptions exif exiv2 expat extensions extra-cardsets fame fasttrack fat festival ffmpeg fftw file firefox fits flac fontconfig fontforge foomaticdb fortran freetts ftp fts3 gadu gallium gd gdbm gdu geoip gif gimp glibc-omitfp glitz glut glx gnutella gpgme gpm graphite grub hddtemp highlight history icons iconv icotools icq icu id3 id3tag ieee1394 imagemagick imap inotify ipv6 irc irmc irrlicht jabber java java6 javascript jce jingle joystick jpeg jpeg2k kate kcal kde kde4 kdecards kdehiddenvisibility kdepim kdm kexi kipi konqueror kontact ktts lame lapack lcms lesstif libnotify libsamplerate libssh2 libv4l2 libwww lirc lm_sensors logitech-mouse logviewer lzma lzo mad magic mailbox maildir maps matroska mbox mbrola mdnsresponder-compat metric mime minizip mixer mjpeg mmap mmx mmxext mng modules monolithic mp2 mp3 mp4 mpeg mpeg2 mpi mpi-threads mplayer msn mtp mudflap mule multilib multimedia musepack music nano-syntax ncurses neXt nepomuk net network newspr ngui nls no-old-linux nocd nowin nowlistening npp nptl nptlonly nsplugin nspluginwrapper ntfs obex offensive ogg ogg123 ogm okular old-daemons opencl openclipartcards openctl openexr opengl openmp optimized-qmake oscar otr oxygen pam pango pch pcre pda pdf pdfimport phonon physfs pixmaps plasma player plotutils plugins png pnm policykit posix postgres ppds pppd private-headers ps qimageblitz qscintilla qt-faststart qt3support qt4 qwt rar raster readline recode reiser4 reiserfs remix reports resolvconf rogue romio rss rtc sametime sasl scanner scenarios schedule schroedinger scsi sdl sdl-image sdl-sound sdlaudio search secure-delete semantic-desktop sensord server session shaders shm skins skype slp smp sms sndfile sockets sound sounds spell sqlite sqlite3 sse sse2 sse3 sse4a ssh ssl startup-notification statistics stats stroke strong-optimization subp svg sysfs system-v8 sysvipc szip tcpd templates test-programs texteffect textures tga theora threads threadsafe thumbnail tiff timidity tk tomsfastmath toolbar tools transcode translator truetype tv tv_check tv_combiner tv_pick_cgi tvtime udev unicode unzip upnp usb userlocales utempter v4l v4l2 vaapi vcd video videos virtuoso visualization vlc vorbis vpx wav webdav webgl webinterface webkit webpresence wifi windeco wireshark wma wma-fixed wmf wv2 x264 xanim xatrix xcb xcomposite xemacs xext xface xft xine xml xorg xosd xpm xrandr xrender xscreensaver xskatcards xulrunner xv xvid xvmc yahoo yiff yv12 zip zlib zsh-completion zvbi" ALSA_CARDS="emu10k1" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cgi cgid dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CALLIGRA_FEATURES="kexi words flow plan stage tables krita karbon braindump" CAMERAS="ptp2 samsung" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf superstar2 timing tsip tripmate tnt ubx" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="de" LIRC_DEVICES="devinput" PHP_TARGETS="php5-3" RUBY_TARGETS="ruby18" USERLAND="GNU" VIDEO_CARDS="vesa v4l fglrx r600 radeon" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account"
Unset:  CPPFLAGS, CTARGET, INSTALL_MASK, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Neil Bothwick





          2012-02-26 16:53:17 UTC
        

Confirmed, same here

Portage 2.2.0_alpha89 (default/linux/amd64/10.0/desktop/kde, gcc-4.5.3, glibc-2.14.1-r2, 3.2.6-gentoo x86_64)
=================================================================
System uname: Linux-3.2.6-gentoo-x86_64-Intel-R-_Core-TM-_i7-2600K_CPU_@_3.40GHz-with-gentoo-2.1
Timestamp of tree: Sun, 26 Feb 2012 15:15:01 +0000
distcc 3.1 x86_64-pc-linux-gnu [disabled]
app-shells/bash:          4.2_p20
dev-java/java-config:     2.1.11-r3
dev-lang/python:          2.7.2-r3, 3.2.2
dev-util/cmake:           2.8.7-r3
dev-util/pkgconfig:       0.26
sys-apps/baselayout:      2.1
sys-apps/openrc:          0.9.9.2
sys-apps/sandbox:         2.5
sys-devel/autoconf:       2.13, 2.68
sys-devel/automake:       1.9.6-r3, 1.10.3, 1.11.3
sys-devel/binutils:       2.22-r1
sys-devel/gcc:            4.5.3-r2
sys-devel/gcc-config:     1.5-r2
sys-devel/libtool:        2.4.2
sys-devel/make:           3.82-r3
sys-kernel/linux-headers: 3.2-r1 (virtual/os-headers)
sys-libs/glibc:           2.14.1-r2
Repositories: gentoo arduino mythtv sunrise digimed
Installed sets: @base, @claws-mail, @kde4, @lxf, @missingdeps, @mpd, @mythtv, @temp, @xorg-temp, @zenus-deps
ACCEPT_KEYWORDS="amd64 ~amd64"
ACCEPT_LICENSE="* -@EULA"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -march=native -fomit-frame-pointer -pipe -floop-block -floop-strip-mine -floop-interchange"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /etc/env.d /usr/share/config /usr/share/gnupg/qualified.txt /usr/share/openvpn/easy-rsa /var/lib/hsqldb"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/dconf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/init.d /etc/php/apache2-php5.4/ext-active/ /etc/php/cgi-php5.4/ext-active/ /etc/php/cli-php5.4/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c"
CXXFLAGS="-O2 -march=native -fomit-frame-pointer -pipe -floop-block -floop-strip-mine -floop-interchange"
DISTDIR="/mnt/portage/distfiles"
EMERGE_DEFAULT_OPTS="--alphabetical --jobs --load-average 12"
FEATURES="assume-digests binpkg-logs buildpkg distlocks ebuild-locks fixlafiles news parallel-fetch preserve-libs protect-owned sandbox sfperms strict unknown-features-warn unmerge-logs unmerge-orphans userfetch"
FFLAGS=""
GENTOO_MIRRORS="ftp://ftp.heanet.ie/pub/gentoo/ ftp://ftp.belnet.be/mirror/rsync.gentoo.org/gentoo/ ftp://ftp.easynet.nl/mirror/gentoo/"
LANG="en_GB"
LDFLAGS="-Wl,-O1 -Wl,--as-needed"
LINGUAS="en_GB"
MAKEOPTS="--jobs --load 10"
PKGDIR="/mnt/portage/packages/hactar"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --human-readable --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/var/portage"
PORTDIR_OVERLAY="/mnt/portage/luksans-arduino /mnt/portage/mythtv/Gentoo /mnt/portage/layman/sunrise /mnt/portage/local"
SYNC="rsync://marvin/portage"
USE="X a52 aac acl acpi alsa amd64 apache2 berkdb bluetooth bluray branding bzip2 cairo cdda cddb cdr cli consolekit cracklib crypt css cups cxx dbus declarative device-mapper dri dts dv dvb dvd dvdr ebook encode exif fam ffmpeg firefox flac foomaticdb fortran gallium gdbm gdu gif gmp gnutls gpg gphoto2 gpm gtk gtk3 iconv id3 imap jabber java jpeg jpeg2k kde kdeenablefinal kipi libnotify logrotate lzma mad matroska mmx mmxext mng modules mp3 mp4 mpeg mplayer mudflap multilib mysql ncurses nptl nptlonly nsplugin ntfs offensive ogg ogm opengl openmp oss pam pango pcre pdf phonon plasma png policykit ppds pppd qt3support qt4 quicktime rdesktop readline reiserfs samba scanner sdl session slp snmp spell sse sse2 ssl ssse3 startup-notification svg sysfs tcpd theora threads tiff truetype udev unicode usb v4l2 vnc vorbis wav x264 xcb xcomposite xinerama xml xmp xorg xscreensaver xulrunner xv xvid xvmc zlib zsh-completion" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic auth_digest authn_anon authn_dbd authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock dbd deflate dir disk_cache env expires ext_filter file_cache filter headers ident imagemap include info log_config logio mem_cache mime mime_magic negotiation proxy proxy_ajp proxy_balancer proxy_connect proxy_http rewrite setenvif so speling status unique_id userdir usertrack vhost_alias" CALLIGRA_FEATURES="kexi words flow plan stage tables krita karbon braindump" CAMERAS="canon nikon ptp2" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" DRACUT_MODULES="crypt lvm mdraid syslog" ELIBC="glibc" FOO2ZJS_DEVICES="hp1020 hp1022" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf superstar2 timing tsip tripmate tnt ubx" GRUB_PLATFORMS="pc" INPUT_DEVICES="evdev aiptek" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en_GB" PHP_TARGETS="php5-3" QEMU_SOFTMMU_TARGETS="i386 x86_64" QEMU_USER_TARGETS="i386 x86_64" RUBY_TARGETS="ruby18" SANE_BACKENDS="genesys" USERLAND="GNU" VIDEO_CARDS="vesa intel" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account"
Unset:  CPPFLAGS, CTARGET, INSTALL_MASK, LC_ALL, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 2


Johannes Huber (RETIRED)






          2012-02-27 19:00:25 UTC
        

Report upstream and link here back.




Comment 3


Volker Hemmann





          2012-02-27 19:33:28 UTC
        

https://bugs.kde.org/show_bug.cgi?id=294946




Comment 4


Johannes Huber (RETIRED)






          2012-04-18 06:56:29 UTC
        

Upstream closed it as WORKSFORME, so we will follow this resolution.

> Volker Hemmann 2012-04-17 17:30:51 UTC
> hi, sorry,  for the late response. At first xterm was fine, later it happened 
> there too. But I also saw it at least once with su too. So..  but yeah, at the
> moment su seems to be fine.
> So.. maybe closing it as invalid would be the right thing to do. Sorry for the > noise.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

