Title: 368811 – sci-mathematics/coq-8.3_p1 - >> Fatal error: Ocaml and preprocessor have incompatible versions
URL: https://bugs.gentoo.org/show_bug.cgi?id=368811

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 368811
sci-mathematics/coq-8.3_p1 - >> Fatal error: Ocaml and preprocessor have incompatible versions
Last modified: 2011-06-03 10:02:39 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 368811 
      - sci-mathematics/coq-8.3_p1 - >> Fatal error: Ocaml and preprocessor have incompatible versions


Summary:
sci-mathematics/coq-8.3_p1 - >> Fatal error: Ocaml and preprocessor have inco...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Team for the ML programming language family








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2011-05-26 18:52 UTC by Jiri Svoboda





      Modified:
    
2011-06-03 10:02 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



sci-mathematics









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Full build log

              (build.log,29.64 KB,
                text/plain)

            
2011-05-26 18:56 UTC,

            Jiri Svoboda




Details





Build environment file

              (environment,81.94 KB,
                text/plain)

            
2011-05-26 18:56 UTC,

            Jiri Svoboda




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Jiri Svoboda





          2011-05-26 18:52:14 UTC
        

Tried to update coq to currently stable version 8.3_p1. Fails with:

Testing parsing/grammar.cma
>> Fatal error: Ocaml and preprocessor have incompatible versions
Fatal error: exception Misc.Fatal_error
make[1]: *** [parsing/grammar.cma] Error 2
make[1]: Leaving directory `/var/tmp/portage/sci-mathematics/coq-8.3_p1/work/coq-8.3pl1'
make: *** [stage1] Error 2
emake failed


Reproducible: Always

Steps to Reproduce:
1. emerge --update --deep world
2. emerge coq




Installed versions of related packages: all latest stable (as of 2011-05-26)
dev-lang/ocaml-3.11.2
dev-ml//camlp5-5.14




Comment 1


Jiri Svoboda





          2011-05-26 18:56:14 UTC
        

Created attachment 274713 [details]
Full build log




Comment 2


Jiri Svoboda





          2011-05-26 18:56:32 UTC
        

Created attachment 274715 [details]
Build environment file




Comment 3


Jiri Svoboda





          2011-05-26 18:56:55 UTC
        

Please let me know if any additional info is needed.




Comment 4


Rafał Mużyło





          2011-05-26 21:11:32 UTC
        

Simple question: did you read postinst comment in ocaml ebuild ?




Comment 5


Jiri Svoboda





          2011-06-03 10:02:00 UTC
        

Oops. Forgot to rebuild ocaml-dependent packages after updating ocaml. Sometimes it's just difficult to keep track of everything that needs to be rebuilt and the error messages you get are too cryptic to figure out what's going on. My bad.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

