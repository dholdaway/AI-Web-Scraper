Title: 86624 – udev segfaults for initrd generated by genkernel
URL: https://bugs.gentoo.org/show_bug.cgi?id=86624

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 86624
udev segfaults for initrd generated by genkernel
Last modified: 2005-03-25 02:44:59 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 86624 
      - udev segfaults for initrd generated by genkernel


Summary:
udev segfaults for initrd generated by genkernel
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Unspecified

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       minor
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-03-25 01:58 UTC by Michal Pytasz





      Modified:
    
2005-03-25 02:44 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




corrected/recompiled file containing static udev for genkernel

              (udev-039-x86_64.tar.bz2,246.30 KB,
                application/octet-stream)

            
2005-03-25 02:43 UTC,

            Michal Pytasz




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Michal Pytasz





          2005-03-25 01:58:24 UTC
        

Having installed udev-054 (as well as 056) on Athlon64 I tried to make it work with genkernel-built gentoo-dev-sources-2.6.11-r4. I got Segmantation Fault before init (after udev start attempt). 

Grub entry for kernel:
title=Gentoo udev
        root (hd0,4)
        kernel  /kernel-2.6.11-gentoo-r4 root=/dev/ram0 init=/linuxrc  real_root=/dev/hda6 acpi=on vga=794 udev
        initrd  /initrd-2.6.11-gentoo-r4

I'm trying to add udev056 to genkernel, I built static udev056, packed tarball similar to udev-039-x86_64.tar.bz, added udev-056-x86_64.tar.bz2 to /usr/share/genkernel/pkg/x86_64 and udev-056.tar.bz2 to /usr/share/genkernel/pkg

Now I'm not getting segfault on bootup, however root partition (/dev/hda6) cannot be found then. I'll try to play with it a little bit more, and I'll pot a reply if I find a working solution.




Comment 1


Michal Pytasz





          2005-03-25 02:43:38 UTC
        

Created attachment 54419 [details]
corrected/recompiled file containing static udev for genkernel




Comment 2


Michal Pytasz





          2005-03-25 02:44:59 UTC
        

It works now, with udev-039, tarbal for genkernel with recompiled/corrected static udev attached.

Michal









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

