Title: 300172 – =app-office/gnucash-2.2.9-r1 w/ aqbanking-4.2.{0,3} hangs on online-action|get transaction and crashes
URL: https://bugs.gentoo.org/show_bug.cgi?id=300172

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 300172
=app-office/gnucash-2.2.9-r1 w/ aqbanking-4.2.{0,3} hangs on online-action|get transaction and crashes
Last modified: 2010-01-08 21:46:08 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 300172 
      - =app-office/gnucash-2.2.9-r1 w/ aqbanking-4.2.{0,3} hangs on online-action|get transaction and crashes


Summary:
=app-office/gnucash-2.2.9-r1 w/ aqbanking-4.2.{0,3} hangs on online-action|ge...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Torsten Veller (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2010-01-08 15:47 UTC by Florian Mickler





      Modified:
    
2010-01-08 21:46 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



hanno
ssuominen









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Florian Mickler





          2010-01-08 15:47:48 UTC
        

when i try to fetch my transactions it hangs first and exits then unclean after some time...

i get this on the console:
7:2010/01/08 13-55-53:gwen(27461):directory_all.c:  117: Checking path "/home/dmk/.aqbanking/settings/users/uid%3a%3a00000001.conf"
7:2010/01/08 13-55-53:gwen(27461):directory_all.c:  130: Checking for type
7:2010/01/08 13-55-53:gwen(27461):directory_all.c:  213: Entry "/home/dmk/.aqbanking/settings/users/uid%3a%3a00000001.conf" exists
7:2010/01/08 13-55-53:gwen(27461):directory_all.c:  215: Returning this: /home/dmk/.aqbanking/settings/users/uid%3a%3a00000001.conf
7:2010/01/08 13-55-53:gwen(27461):iorequest.c:   81: Request 0x41bcc70 created (read, 1024)
7:2010/01/08 13-55-53:gwen(27461):iorequest.c:  309: Request 0x41bcc70 finished (read, 1024/1024, result=0)
7:2010/01/08 13-55-53:gwen(27461):iorequest.c:   81: Request 0x41bb2a0 created (read, 1024)
7:2010/01/08 13-55-53:gwen(27461):iorequest.c:  309: Request 0x41bb2a0 finished (read, 1024/1024, result=0)
7:2010/01/08 13-55-53:gwen(27461):iorequest.c:   81: Request 0x41c4660 created (read, 1024)
7:2010/01/08 13-55-53:gwen(27461):iorequest.c:  309: Request 0x41c4660 finished (read, 1024/1024, result=0)
7:2010/01/08 13-55-53:gwen(27461):iorequest.c:   81: Request 0x41bab40 created (read, 1024)
7:2010/01/08 13-55-53:gwen(27461):iorequest.c:  309: Request 0x41bab40 finished (read, 1024/1024, result=0)
7:2010/01/08 13-55-53:gwen(27461):iorequest.c:   81: Request 0x41c1fa0 created (read, 1024)
7:2010/01/08 13-55-53:gwen(27461):iorequest.c:  309: Request 0x41c1fa0 finished (read, 1024/1024, result=0)
7:2010/01/08 13-55-53:gwen(27461):iorequest.c:   81: Request 0x43c2650 created (read, 1024)
7:2010/01/08 13-55-53:gwen(27461):iorequest.c:  309: Request 0x43c2650 finished (read, 1024/1024, result=0)
7:2010/01/08 13-55-53:gwen(27461):iorequest.c:   81: Request 0x440eca0 created (read, 1024)
7:2010/01/08 13-55-53:gwen(27461):iorequest.c:  309: Request 0x440eca0 finished (read, 1024/1024, result=0)
7:2010/01/08 13-55-53:gwen(27461):iorequest.c:   81: Request 0x440eca0 created (read, 1024)
7:2010/01/08 13-55-53:gwen(27461):iorequest.c:  309: Request 0x440eca0 finished (read, 1024/1024, result=0)
7:2010/01/08 13-55-53:gwen(27461):iorequest.c:   81: Request 0x440eca0 created (read, 1024)
7:2010/01/08 13-55-53:gwen(27461):iorequest.c:  309: Request 0x440eca0 finished (read, 1024/1024, result=0)
7:2010/01/08 13-55-53:gwen(27461):iorequest.c:   81: Request 0x440eca0 created (read, 1024)
7:2010/01/08 13-55-53:gwen(27461):iorequest.c:  309: Request 0x440eca0 finished (read, 1024/1024, result=0)
7:2010/01/08 13-55-53:gwen(27461):iorequest.c:   81: Request 0x440eca0 created (read, 1024)
7:2010/01/08 13-55-53:gwen(27461):iorequest.c:  309: Request 0x440eca0 finished (read, 1024/1024, result=0)
7:2010/01/08 13-55-53:gwen(27461):iorequest.c:   81: Request 0x440eca0 created (read, 1024)
7:2010/01/08 13-55-53:gwen(27461):iorequest.c:  309: Request 0x440eca0 finished (read, 1024/1024, result=0)
7:2010/01/08 13-55-53:gwen(27461):iorequest.c:   81: Request 0x43d0e10 created (read, 1024)
7:2010/01/08 13-55-53:gwen(27461):iorequest.c:  309: Request 0x43d0e10 finished (read, 1024/1024, result=0)
7:2010/01/08 13-55-53:gwen(27461):iorequest.c:   81: Request 0x440eca0 created (read, 1024)
7:2010/01/08 13-55-53:gwen(27461):iorequest.c:  309: Request 0x440eca0 finished (read, 303/1024, result=0)
7:2010/01/08 13-55-53:gwen(27461):iorequest.c:   81: Request 0x440eca0 created (read, 1024)
7:2010/01/08 13-55-53:gwen(27461):iorequest.c:  309: Request 0x440eca0 finished (read, 0/1024, result=-57)
7:2010/01/08 13-55-53:gwen(27461):iorequest.c:   81: Request 0x41bdd10 created (disconnect, 0)
7:2010/01/08 13-55-53:gwen(27461):iorequest.c:  309: Request 0x41bdd10 finished (disconnect, 0/0, result=0)
7:2010/01/08 13-55-53:gwen(27461):directory_all.c:  117: Checking path "/home"
7:2010/01/08 13-55-53:gwen(27461):directory_all.c:  130: Checking for type
7:2010/01/08 13-55-53:gwen(27461):directory_all.c:  213: Entry "/home" exists
7:2010/01/08 13-55-53:gwen(27461):directory_all.c:  215: Returning this: /home
7:2010/01/08 13-55-53:gwen(27461):directory_all.c:  117: Checking path "/home/dmk"
7:2010/01/08 13-55-53:gwen(27461):directory_all.c:  130: Checking for type
7:2010/01/08 13-55-53:gwen(27461):directory_all.c:  213: Entry "/home/dmk" exists
7:2010/01/08 13-55-53:gwen(27461):directory_all.c:  215: Returning this: /home/dmk
7:2010/01/08 13-55-53:gwen(27461):directory_all.c:  117: Checking path "/home/dmk/.aqbanking"
7:2010/01/08 13-55-53:gwen(27461):directory_all.c:  130: Checking for type
7:2010/01/08 13-55-53:gwen(27461):directory_all.c:  213: Entry "/home/dmk/.aqbanking" exists
7:2010/01/08 13-55-53:gwen(27461):directory_all.c:  215: Returning this: /home/dmk/.aqbanking
7:2010/01/08 13-55-53:gwen(27461):directory_all.c:  117: Checking path "/home/dmk/.aqbanking/settings"
7:2010/01/08 13-55-53:gwen(27461):directory_all.c:  130: Checking for type
7:2010/01/08 13-55-53:gwen(27461):directory_all.c:  213: Entry "/home/dmk/.aqbanking/settings" exists
7:2010/01/08 13-55-53:gwen(27461):directory_all.c:  215: Returning this: /home/dmk/.aqbanking/settings
7:2010/01/08 13-55-53:gwen(27461):directory_all.c:  117: Checking path "/home/dmk/.aqbanking/settings/users"
7:2010/01/08 13-55-53:gwen(27461):directory_all.c:  130: Checking for type
7:2010/01/08 13-55-53:gwen(27461):directory_all.c:  213: Entry "/home/dmk/.aqbanking/settings/users" exists
7:2010/01/08 13-55-53:gwen(27461):directory_all.c:  215: Returning this: /home/dmk/.aqbanking/settings/users
7:2010/01/08 13-55-53:gwen(27461):directory_all.c:  117: Checking path "/home/dmk/.aqbanking/settings/users/uid%3a%3a00000001.conf"
7:2010/01/08 13-55-53:gwen(27461):directory_all.c:  130: Checking for type
7:2010/01/08 13-55-53:gwen(27461):directory_all.c:  213: Entry "/home/dmk/.aqbanking/settings/users/uid%3a%3a00000001.conf" exists
7:2010/01/08 13-55-53:gwen(27461):directory_all.c:  215: Returning this: /home/dmk/.aqbanking/settings/users/uid%3a%3a00000001.conf
7:2010/01/08 13-56-53:gwen(27461):fslock.c:  298: Could not lock within 60000 milliseconds, giving up
gnucash: user.c:183: AH_User_Extend: Assertion `0' failed.


Reproducible: Always

Steps to Reproduce:
1. start gnucash
2. try "get transactions" from the online-actions menue
3. hang
4. gnucash exits





i'm using vanilla linux-2.6.32.  

When i start gnucash it say's: "gnucash could not obtain the lock for /home/dmk/mydatafile" .. i think that's because of a previous try to fetch my transactions and the subsequently crashing gnucash... as there is no gnucash running, "i proceed anyway"




Comment 1


Samuli Suominen (RETIRED)






          2010-01-08 16:10:25 UTC
        

Try =net-libs/aqbanking-4.2.3




Comment 2


Florian Mickler





          2010-01-08 21:21:26 UTC
        

(In reply to comment #1)
> Try =net-libs/aqbanking-4.2.3
> 

this did update gwenhyfar and pulled in some other packages, but it is still the same. 
and i just recompiled gnucash, just to be shure it is not using an old version...

cheers,
flo




Comment 3


Samuli Suominen (RETIRED)






          2010-01-08 21:31:43 UTC
        

(In reply to comment #2)
> this did update gwenhyfar and pulled in some other packages, but it is still
> the same. and i just recompiled gnucash, just to be shure it is not using an old
> version...

OK, thanks for testing. Can you try also masked gnucash, 2.3.8, just for a reference?




Comment 4


Florian Mickler





          2010-01-08 21:38:13 UTC
        

hi, thx for your help... 

i just looked at .aqbanking/settings/user* (the file it hangs upon), and there were some *.lck* files... i removed those (after backing-up my .aqbanking-folder) and now it works again....


i wonder, if the error-path in gnucash for this case could be made a bit more obvious?

do you need me do some more testing?

cheers,
flo




Comment 5


Samuli Suominen (RETIRED)






          2010-01-08 21:46:08 UTC
        

(In reply to comment #4)
> i just looked at .aqbanking/settings/user* (the file it hangs upon), and there
> were some *.lck* files... i removed those (after backing-up my
> .aqbanking-folder) and now it works again....

I'm closing this as WORKSFORME since it's working now. Torsten, Hanno, if you disagree, please reopen.

You should open a upstream bug to gnucash and/or aqbanking for improving the error message.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

