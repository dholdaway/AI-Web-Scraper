Title: 904185 – dev-lang/go-1.20.3: illegal instruction in go-bootstrap
URL: https://bugs.gentoo.org/show_bug.cgi?id=904185

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 904185
dev-lang/go-1.20.3: illegal instruction in go-bootstrap
Last modified: 2023-04-16 01:02:33 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 904185 
      - dev-lang/go-1.20.3: illegal instruction in go-bootstrap


Summary:
dev-lang/go-1.20.3: illegal instruction in go-bootstrap
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
Normal
       major
      


Assignee:

William Hubbs








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2023-04-11 18:05 UTC by Morteza





      Modified:
    
2023-04-16 01:02 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



floppym









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge --info '=dev-lang/go-1.20.3::gentoo'

              (emerge-info,16.31 KB,
                text/plain)

            
2023-04-11 18:15 UTC,

            Morteza




Details





build log

              (build-log,8.06 KB,
                text/plain)

            
2023-04-11 18:49 UTC,

            Morteza




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Morteza





          2023-04-11 18:05:39 UTC
        

dev-lang/go build fails with ``illegal instruction``
I'm using hardened-nomultilib with my new pc that has Intel alderlake cpu

Reproducible: Always

Steps to Reproduce:
1. emerge go
Actual Results:  
+ ./cmd/dist/dist bootstrap -a
Building Go toolchain1 using /usr/lib/go-bootstrap.
Building Go bootstrap cmd/go (go_bootstrap) using Go toolchain1.
SIGILL: illegal instruction
PC=0x466bf6 m=10 sigcode=2
instruction bytes: 0x66 0xf 0x38 0xdc 0xd2 0x66 0xf 0x38 0xdc 0xdb 0x66 0xf 0x38 0xdc 0xd2 0x66



Expected Results:  
Successful build




Comment 1


Morteza





          2023-04-11 18:15:19 UTC
        

Created attachment 859879 [details]
emerge --info '=dev-lang/go-1.20.3::gentoo'




Comment 2


Morteza





          2023-04-11 18:49:51 UTC
        

Created attachment 859880 [details]
build log




Comment 3


Morteza





          2023-04-11 21:25:46 UTC
        

This error occurs so randomly once i can emerge syncthing the other times it fails I assume it's a hardening feature that doesn't function well with go




Comment 4


Mike Gilbert






          2023-04-12 02:47:00 UTC
        

If this is a new PC, maybe you have some bad RAM? That might cause sporadic illegal instructions.




Comment 5


Morteza





          2023-04-12 13:08:51 UTC
        

No i used go on archlinux without any issues and just to make sure i ran memtest86 tests for an hour and it passed




Comment 6


Morteza





          2023-04-15 15:40:26 UTC
        

so nobody cares? this issue solely relates to gentoo but still nobody come and say a thing that would help solve this issue




Comment 7


Morteza





          2023-04-16 00:58:37 UTC
        

sorry for being rude it was all my fault; looks like alderlake doesn't like overclocking E-cores results in instabilities.




Comment 8


Sam James









          2023-04-16 01:02:33 UTC
        

Thanks for explaining.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

