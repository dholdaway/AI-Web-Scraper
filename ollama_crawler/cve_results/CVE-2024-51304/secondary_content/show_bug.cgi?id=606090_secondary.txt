Title: 606090 – media-gfx/hugin-2016.2.0: cannot find -lwx_gtk2u_gl-2.8
URL: https://bugs.gentoo.org/show_bug.cgi?id=606090

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 606090
media-gfx/hugin-2016.2.0: cannot find -lwx_gtk2u_gl-2.8
Last modified: 2017-07-25 06:15:25 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 606090 
      - media-gfx/hugin-2016.2.0: cannot find -lwx_gtk2u_gl-2.8


Summary:
media-gfx/hugin-2016.2.0: cannot find -lwx_gtk2u_gl-2.8
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Graphics Project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:




606408



 

        Show dependency tree





 





      Reported:
    
2017-01-17 13:51 UTC by Jean-Claude Repetto





      Modified:
    
2017-07-25 06:15 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



asturm
nobrowser









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Complte build log

              (build.log,247.17 KB,
                text/x-log)

            
2017-01-17 13:51 UTC,

            Jean-Claude Repetto




Details





Environment

              (environment,159.12 KB,
                text/plain)

            
2017-01-17 13:54 UTC,

            Jean-Claude Repetto




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Jean-Claude Repetto





          2017-01-17 13:51:36 UTC
        

Created attachment 460446 [details]
Complte build log

hugin-2016.2.0 installation fails:

[ 64%] Linking CXX shared library libhuginbasewx.so
cd /var/tmp/portage/media-gfx/hugin-2016.2.0/work/hugin-2016.2.0_build/src/hugin1/base_wx && /usr/bin/cmake -E cmake_link_script CMakeFiles/huginbasewx.dir/link.txt --verbose=1
/usr/bin/x86_64-pc-linux-gnu-g++  -fPIC -O2 -pipe  -pthread  -Wl,-O1 -Wl,--as-needed -fopenmp -shared -Wl,-soname,libhuginbasewx.so.0.0 -o libhuginbasewx.so.0.0 CMakeFiles/huginbasewx.dir/wxImageCache.cpp.o CMakeFiles/huginbasewx.dir/MyProgressDialog.cpp.o CMakeFiles/huginbasewx.dir/PTWXDlg.cpp.o CMakeFiles/huginbasewx.dir/huginConfig.cpp.o CMakeFiles/huginbasewx.dir/MyExternalCmdExecDialog.cpp.o CMakeFiles/huginbasewx.dir/platform.cpp.o CMakeFiles/huginbasewx.dir/RunStitchPanel.cpp.o CMakeFiles/huginbasewx.dir/LensTools.cpp.o CMakeFiles/huginbasewx.dir/wxLensDB.cpp.o CMakeFiles/huginbasewx.dir/HFOVDialog.cpp.o CMakeFiles/huginbasewx.dir/Command.cpp.o CMakeFiles/huginbasewx.dir/PanoCommand.cpp.o CMakeFiles/huginbasewx.dir/wxPanoCommand.cpp.o CMakeFiles/huginbasewx.dir/CommandHistory.cpp.o CMakeFiles/huginbasewx.dir/Executor.cpp.o CMakeFiles/huginbasewx.dir/AssistantExecutor.cpp.o CMakeFiles/huginbasewx.dir/StitchingExecutor.cpp.o CMakeFiles/huginbasewx.dir/wxcms.cpp.o CMakeFiles/huginbasewx.dir/wxPlatform.cpp.o -L/usr/lib64 -pthread -Wl,-O1 -Wl,--as-needed -L/usr/lib64 -lwx_baseu-2.8 -lwx_gtk2u_core-2.8 -lwx_gtk2u_aui-2.8 -lwx_gtk2u_xrc-2.8 -lwx_gtk2u_html-2.8 -lwx_baseu_xml-2.8 -lwx_gtk2u_adv-2.8 -lwx_gtk2u_gl-2.8 -lwx_baseu_net-2.8 -lwx_gtk2u_qa-2.8 -lpano13 ../../foreign/levmar/libhuginlevmar.a -lGLEW -lboost_filesystem-mt -lboost_system-mt -lfftw3 -lvigraimpex -lImath -lIlmImf -lIex -lHalf -lIlmThread -ljpeg -ltiff -lpng -lz -lz -lexiv2 -llcms2 ../../hugin_script_interface/libhugin_python_interface.so.0.0 ../../hugin_base/libhuginbase.so.0.0 ../../foreign/levmar/libhuginlevmar.a -pthread -lX11 -lpano13 -lboost_filesystem-mt -lboost_system-mt -lvigraimpex -ltiff -lexiv2 -lGLU -lGL -lGLEW -lsqlite3 -llcms2 -lpython2.7 -Wl,-rpath,/var/tmp/portage/media-gfx/hugin-2016.2.0/work/hugin-2016.2.0_build/src/hugin_script_interface:/var/tmp/portage/media-gfx/hugin-2016.2.0/work/hugin-2016.2.0_build/src/hugin_base: 
/usr/lib/gcc/x86_64-pc-linux-gnu/4.9.4/../../../../x86_64-pc-linux-gnu/bin/ld: cannot find -lwx_gtk2u_gl-2.8
collect2: error: ld returned 1 exit status
src/hugin1/base_wx/CMakeFiles/huginbasewx.dir/build.make:597: recipe for target 'src/hugin1/base_wx/libhuginbasewx.so.0.0' failed




Comment 1


Jean-Claude Repetto





          2017-01-17 13:54:40 UTC
        

Created attachment 460448 [details]
Environment




Comment 2


Jean-Claude Repetto





          2017-01-17 13:55:29 UTC
        

# emerge --info
Portage 2.3.0 (python 3.4.5-final-0, default/linux/amd64/13.0, gcc-4.9.4, glibc-2.23-r3, 4.4.6-gentoo x86_64)
=================================================================
System uname: Linux-4.4.6-gentoo-x86_64-Intel-R-_Xeon-R-_CPU_E5-1620_0_@_3.60GHz-with-gentoo-2.3
KiB Mem:     2050124 total,    643840 free
KiB Swap:   15623208 total,  15575276 free
Timestamp of repository gentoo: Tue, 17 Jan 2017 11:30:01 +0000
sh bash 4.3_p48-r1
ld GNU ld (Gentoo 2.25.1 p1.1) 2.25.1
app-shells/bash:          4.3_p48-r1::gentoo
dev-java/java-config:     2.2.0-r3::gentoo
dev-lang/perl:            5.22.3_rc4::gentoo
dev-lang/python:          2.7.12::gentoo, 3.4.5::gentoo
dev-util/cmake:           3.6.3::gentoo
dev-util/pkgconfig:       0.28-r2::gentoo
sys-apps/baselayout:      2.3::gentoo
sys-apps/openrc:          0.22.4::gentoo
sys-apps/sandbox:         2.10-r1::gentoo
sys-devel/autoconf:       2.13::gentoo, 2.69::gentoo
sys-devel/automake:       1.11.6-r1::gentoo, 1.14.1::gentoo, 1.15::gentoo
sys-devel/binutils:       2.25.1-r1::gentoo
sys-devel/gcc:            4.9.3::gentoo, 4.9.4::gentoo
sys-devel/gcc-config:     1.7.3::gentoo
sys-devel/libtool:        2.4.6-r2::gentoo
sys-devel/make:           4.1-r1::gentoo
sys-kernel/linux-headers: 4.4::gentoo (virtual/os-headers)
sys-libs/glibc:           2.23-r3::gentoo
Repositories:

gentoo
    location: /usr/portage
    sync-type: rsync
    sync-uri: rsync://rsync.gentoo.org/gentoo-portage
    priority: -1000

rion
    location: /var/lib/layman/rion
    masters: gentoo
    priority: 0

awesome
    location: /var/lib/layman/awesome
    masters: gentoo
    priority: 1

x-portage
    location: /usr/local/portage
    masters: gentoo
    priority: 2

ACCEPT_KEYWORDS="amd64"
ACCEPT_LICENSE="* -@EULA"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/lib64/libreoffice/program/sofficerc /usr/share/config /usr/share/gnupg/qualified.txt"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/dconf /etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php5.6/ext-active/ /etc/php/cgi-php5.6/ext-active/ /etc/php/cli-php5.6/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c"
CXXFLAGS="-O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FCFLAGS="-O2 -pipe"
FEATURES="assume-digests binpkg-logs config-protect-if-modified distlocks ebuild-locks fixlafiles merge-sync news parallel-fetch preserve-libs protect-owned sandbox sfperms strict unknown-features-warn unmerge-logs unmerge-orphans userfetch userpriv usersandbox usersync xattr"
FFLAGS="-O2 -pipe"
GENTOO_MIRRORS="http://distfiles.gentoo.org"
LANG="fr_FR.utf8"
LDFLAGS="-Wl,-O1 -Wl,--as-needed"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --omit-dir-times --compress --force --whole-file --delete --stats --human-readable --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --exclude=/.git"
PORTAGE_TMPDIR="/var/tmp"
USE="X acl addns ads aio alsa amd64 berkdb branding bzip2 cairo cli client cracklib crypt cups cxx dri epub exif fam ffmpeg flac fortran gd gdbm geos gif gtk gtk3 iconv iprint java javafx jpeg mmx mmxext modules mp3 mp4 mpeg mpeg2 mplayer multilib ncurses nls nptl ogg openmp pam pcre pdf png postgis pulseaudio python qt4 readline savedconfig seccomp session sse sse2 ssl svg tcpd tiff udev unicode virtualbox winbind x264 x265 xattr zlib" ABI_X86="64" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" APACHE2_MODULES="authn_core authz_core socache_shmcb unixd actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cgi cgid dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CALLIGRA_FEATURES="kexi words flow plan sheets stage tables krita karbon braindump author" CAMERAS="ptp2" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" CPU_FLAGS_X86="mmx mmxext sse sse2" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf superstar2 timing tsip tripmate tnt ublox ubx" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" L10N="fr" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LIBREOFFICE_EXTENSIONS="presenter-console presenter-minimizer" LINGUAS="fr" OFFICE_IMPLEMENTATION="libreoffice" PHP_TARGETS="php5-6" PYTHON_SINGLE_TARGET="python2_7" PYTHON_TARGETS="python2_7 python3_4" RUBY_TARGETS="ruby21" USERLAND="GNU" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account"
Unset:  CC, CPPFLAGS, CTARGET, CXX, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LC_ALL, MAKEOPTS, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYN




Comment 3


Jean-Claude Repetto





          2017-01-17 13:55:58 UTC
        

# emerge -pqv '=media-gfx/hugin-2016.2.0::gentoo'
[ebuild     U ] media-gfx/hugin-2016.2.0 [2015.0.0-r1] USE="python -debug -lapack -sift" L10N="fr%* -ca% -ca-valencia% -cs% -da% -de% -en-GB% -es% -eu% -fi% -hu% -it% -ja% -nl% -pl% -pt-BR% -ro% -ru% -sk% -sv% -zh-CN% -zh-TW%" LINGUAS="(-ca@valencia%) (-ca_ES%) (-cs_CZ%) (-da%) (-de%) (-en_GB%) (-es%) (-eu%) (-fi%) (-fr%*) (-hu%) (-it%) (-ja%) (-nl%) (-pl%) (-pt_BR%) (-ro%) (-ru%) (-sk%) (-sv%) (-zh_CN%) (-zh_TW%)" PYTHON_SINGLE_TARGET="python2_7 -python3_4 -python3_5%" PYTHON_TARGETS="python2_7 python3_4 -python3_5%"




Comment 4


Jean-Claude Repetto





          2017-01-20 10:01:13 UTC
        

# eix wxgtk
[I] x11-libs/wxGTK
     Available versions:  
     (2.8)  2.8.12.1-r1 ~2.8.12.1-r2
     (2.9)  ~2.9.4.1-r1(2.9/2.9.4)
     (3.0)  3.0.2.0-r1 3.0.2.0-r2 ~3.0.2.0-r3
     (3.0-gtk3) ~3.0.2.0-r300 ~3.0.2.0-r301
       {+X aqua debug doc gnome gstreamer libnotify odbc opengl pch sdl tiff webkit ABI_MIPS="n32 n64 o32" ABI_PPC="32 64" ABI_S390="32 64" ABI_X86="32 64 x32"}
     Installed versions:  
     2.8.12.1-r1(2.8)(10:06:51 11/02/2015)(X tiff -aqua -debug -doc -gnome -gstreamer -odbc -opengl -pch -sdl)
     3.0.2.0-r2(3.0)(02:14:00 26/05/2016)(X opengl tiff -aqua -debug -doc -gstreamer -libnotify -sdl -webkit ABI_MIPS="-n32 -n64 -o32" ABI_PPC="-32 -64" ABI_S390="-32 -64" ABI_X86="64 -32 -x32")
     Homepage:            http://wxwidgets.org/
     Description:         GTK+ version of wxWidgets, a cross-platform C++ GUI toolkit


All you see above, wxGTK-2.8 is built without opengl, while wxGTK-3.0 is built with opengl.

No problem to emerge hugin-2015.0.0-r1 and hugin-2016.0.0 .




Comment 5


Andreas Sturmlechner






          2017-03-09 11:45:35 UTC
        

As can be seen from your build.log during configure:

-- Found wxWidgets: -L/usr/lib64;-pthread;-Wl,-O1;-Wl,--as-needed;;-L/usr/lib64;;;-lwx_baseu-2.8;-lwx_gtk2u_core-2.8;-lwx_gtk2u_aui-2.8;-lwx_gtk2u_xrc-2.8;-lwx_gtk2u_html-2.8;-lwx_baseu_xml-2.8;-lwx_gtk2u_adv-2.8;-lwx_gtk2u_gl-2.8;-lwx_baseu_net-2.8;-lwx_gtk2u_qa-2.8 (found version "2.8.12")

So this is clearly wrong, however, I installed 2.8.12 as well and could not reproduce the mis-detection.




Comment 6


Ian Zimmerman





          2017-05-14 06:22:51 UTC
        

Happens here too:

# emerge --info
Portage 2.3.5 (python 2.7.12-final-0, default/linux/amd64/13.0, gcc-5.4.0, glibc-2.23-r3, 4.4.66 x86_64)
=================================================================
System uname: Linux-4.4.66-x86_64-AMD_Phenom-tm-_II_X4_955_Processor-with-gentoo-2.3
KiB Mem:     7678960 total,   4113368 free
KiB Swap:    8388604 total,   8388604 free
Timestamp of repository gentoo: Sun, 14 May 2017 00:45:01 +0000
sh bash 4.3_p48-r1
ld GNU ld (Gentoo 2.26.1 p1.0) 2.26.1
app-shells/bash:          4.3_p48-r1::gentoo
dev-lang/perl:            5.24.1-r1::gentoo
dev-lang/python:          2.7.12::gentoo, 3.4.5::gentoo
dev-util/cmake:           3.7.2::gentoo
dev-util/pkgconfig:       0.28-r2::gentoo
sys-apps/baselayout:      2.3::gentoo
sys-apps/openrc:          0.24.2::gentoo
sys-apps/sandbox:         2.10-r3::gentoo
sys-devel/autoconf:       2.13::gentoo, 2.69::gentoo
sys-devel/automake:       1.11.6-r1::gentoo, 1.15-r2::gentoo
sys-devel/binutils:       2.26.1::gentoo
sys-devel/gcc:            5.4.0-r3::foo
sys-devel/gcc-config:     1.7.3::gentoo
sys-devel/libtool:        2.4.6-r3::gentoo
sys-devel/make:           4.2.1::gentoo
sys-kernel/linux-headers: 4.4::gentoo (virtual/os-headers)
sys-libs/glibc:           2.23-r3::gentoo
Repositories:

gentoo
    location: /var/lib/portage/ports
    sync-type: webrsync
    sync-uri: rsync://rsync.gentoo.org/gentoo-portage
    priority: -1000

foo
    location: /var/local/ports
    masters: gentoo

ACCEPT_KEYWORDS="amd64"
ACCEPT_LICENSE="* -@EULA"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=barcelona --param l1-cache-size=64 --param l1-cache-line-size=64 --param l2-cache-size=512 -O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/gnupg/qualified.txt"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c"
CXXFLAGS="-march=barcelona --param l1-cache-size=64 --param l1-cache-line-size=64 --param l2-cache-size=512 -O2 -pipe"
DISTDIR="/usr/portage/distfiles"
EMERGE_DEFAULT_OPTS="--jobs=2 --with-bdeps=y --nospinner --quiet-unmerge-warn"
FCFLAGS="-O2 -pipe"
FEATURES="assume-digests binpkg-logs clean-logs config-protect-if-modified distlocks ebuild-locks fixlafiles merge-sync news notitles parallel-fetch preserve-libs protect-owned sandbox sfperms split-log strict unknown-features-warn unmerge-logs unmerge-orphans userfetch userpriv usersandbox usersync webrsync-gpg xattr"
FFLAGS="-O2 -pipe"
GENTOO_MIRRORS="http://gentoo.gossamerhost.com http://mirrors.evowise.com/gentoo/ http://gentoo.mirrors.pair.com/"
LANG="en_US.utf8"
LDFLAGS="-Wl,-O1 -Wl,--as-needed"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --omit-dir-times --compress --force --whole-file --delete --stats --human-readable --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --exclude=/.git"
PORTAGE_TMPDIR="/var/tmp"
USE="X acl alsa amd64 berkdb bzip2 caps cli cracklib crypt cxx dri faad ffmpeg flac fortran gdbm guile iconv icu iproute2 ipv6 jack jpeg ladspa lcms libsamplerate maildir modules multilib ncurses nls nptl ogg openmp opus pam pcre perl png python qt3support readline seccomp session sndfile sqlite ssl tcpd text tiff unicode vorbis xattr xft xkb zlib" ABI_X86="64" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" APACHE2_MODULES="authn_core authz_core socache_shmcb unixd actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cgi cgid dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CALLIGRA_FEATURES="kexi words flow plan sheets stage tables krita karbon braindump author" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" CPU_FLAGS_X86="3dnow 3dnowext mmx mmxext popcnt sse sse2 sse3 sse4a" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock isync itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf skytraq superstar2 timing tsip tripmate tnt ublox ubx" GRUB_PLATFORMS="pc" INPUT_DEVICES="evdev keyboard mouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LIBREOFFICE_EXTENSIONS="presenter-console presenter-minimizer" OFFICE_IMPLEMENTATION="libreoffice" PHP_TARGETS="php5-6" PYTHON_SINGLE_TARGET="python3_4" PYTHON_TARGETS="python2_7 python3_4" RUBY_TARGETS="ruby21 ruby22" USERLAND="GNU" VIDEO_CARDS="dummy fbdev intel radeon r600 vesa" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account"
Unset:  CC, CPPFLAGS, CTARGET, CXX, INSTALL_MASK, LC_ALL, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, USE_PYTHON

# emerge -pqv '=media-gfx/hugin-2016.2.0::gentoo'
[ebuild     U ] media-gfx/hugin-2016.2.0 [2015.0.0-r1] USE="lapack python sift -debug" L10N="-ca% -ca-valencia% -cs% -da% -de% -en-GB% -es% -eu% -fi% -fr% -hu% -it% -ja% -nl% -pl% -pt-BR% -ro% -ru% -sk% -sv% -zh-CN% -zh-TW%" LINGUAS="(-ca@valencia%) (-ca_ES%) (-cs_CZ%) (-da%) (-de%) (-en_GB%) (-es%) (-eu%) (-fi%) (-fr%) (-hu%) (-it%) (-ja%) (-nl%) (-pl%) (-pt_BR%) (-ro%) (-ru%) (-sk%) (-sv%) (-zh_CN%) (-zh_TW%)" PYTHON_SINGLE_TARGET="python3_4 -python2_7 (-python3_5)" PYTHON_TARGETS="python2_7 python3_4 (-python3_5)"

# equery u =x11-libs/wxGTK-2.8.12.1-r1
[ Legend : U - final flag setting for installation]
[        : I - package is installed with flag     ]
[ Colors : set, unset                             ]
 * Found these USE flags for x11-libs/wxGTK-2.8.12.1-r1:
 U I
 + + X         : Add support for X11
 - - debug     : Enable extra debug codepaths, like asserts and extra output. If you want to get
                 meaningful backtraces see
                 https://wiki.gentoo.org/wiki/Project:Quality_Assurance/Backtraces
 - - doc       : Add extra documentation (API, Javadoc, etc). It is recommended to enable per package
                 instead of globally
 - - gnome     : Use gnome-base/libgnomeprintui for printing tasks. 
 - - gstreamer : Enable the wxMediaCtrl class for playing audio and video through gstreamer. 
 - - odbc      : Add ODBC Support (Open DataBase Connectivity)
 - - opengl    : Add support for OpenGL (3D graphics)
 - - pch       : Enable precompiled header support for faster compilation at the expense of disk space
                 and memory (>=sys-devel/gcc-3.4 only)
 - - sdl       : Use Simple Directmedia Layer (media-libs/libsdl) for audio. 
 + + tiff      : Add support for the TIFF image format

# equery u =x11-libs/wxGTK-3.0.2.0-r2
[ Legend : U - final flag setting for installation]
[        : I - package is installed with flag     ]
[ Colors : set, unset                             ]
 * Found these USE flags for x11-libs/wxGTK-3.0.2.0-r2:
 U I
 + + X          : Add support for X11
 - - abi_x86_32 : 32-bit (x86) libraries
 - - debug      : Enable extra debug codepaths, like asserts and extra output. If you want to get
                  meaningful backtraces see
                  https://wiki.gentoo.org/wiki/Project:Quality_Assurance/Backtraces
 - - doc        : Add extra documentation (API, Javadoc, etc). It is recommended to enable per package
                  instead of globally
 - - gstreamer  : Enable the wxMediaCtrl class for playing audio and video through gstreamer. 
 - - libnotify  : Enable desktop notification support
 + + opengl     : Add support for OpenGL (3D graphics)
 - - sdl        : Use Simple Directmedia Layer (media-libs/libsdl) for audio. 
 + + tiff       : Add support for the TIFF image format
 - - webkit     : Add support for the WebKit HTML rendering/layout engine

So here, too, the difference between opengl flag ...




Comment 7


Ian Zimmerman





          2017-05-14 06:42:52 UTC
        

And sure enough, as soon as I --unmerged the one package that depended on wxgtk-2.8 and --depcleaned, hugin update goes through.  So this clearly is the cause.  Some part of the build system is picking up wxgtk-2.8 if it is present.




Comment 8


Jean-Claude Repetto





          2017-05-31 09:10:57 UTC
        

Hi,
I have tried to apply the same recipe. I have removed wxGTX-2.8 and audacity that depended on it. then depcleaned.

But emerging hugin fails again, with another error:

>>> Verifying ebuild manifests

>>> Emerging (1 of 1) media-gfx/hugin-2016.2.0::gentoo
 * hugin-2016.2.0.tar.bz2 SHA256 SHA512 WHIRLPOOL size ;-) ...                                                                                                                                                                        [ ok ]
>>> Unpacking source...
>>> Unpacking hugin-2016.2.0.tar.bz2 to /var/tmp/portage/media-gfx/hugin-2016.2.0/work
>>> Source unpacked in /var/tmp/portage/media-gfx/hugin-2016.2.0/work
>>> Preparing source in /var/tmp/portage/media-gfx/hugin-2016.2.0/work/hugin-2016.2.0 ...
removed '/var/tmp/portage/media-gfx/hugin-2016.2.0/work/hugin-2016.2.0/CMakeModules/FindLAPACK.cmake'
>>> Source prepared.
>>> Configuring source in /var/tmp/portage/media-gfx/hugin-2016.2.0/work/hugin-2016.2.0 ...
>>> Working in BUILD_DIR: "/var/tmp/portage/media-gfx/hugin-2016.2.0/work/hugin-2016.2.0_build"
cmake -C /var/tmp/portage/media-gfx/hugin-2016.2.0/work/hugin-2016.2.0_build/gentoo_common_config.cmake -G Unix Makefiles -DCMAKE_INSTALL_PREFIX=/usr -DBUILD_HSI=yes -DENABLE_LAPACK=no -DCMAKE_BUILD_TYPE=Gentoo -DCMAKE_USER_MAKE_RULES_OVERRIDE=/var/tmp/portage/media-gfx/hugin-2016.2.0/work/hugin-2016.2.0_build/gentoo_rules.cmake -DCMAKE_TOOLCHAIN_FILE=/var/tmp/portage/media-gfx/hugin-2016.2.0/work/hugin-2016.2.0_build/gentoo_toolchain.cmake  /var/tmp/portage/media-gfx/hugin-2016.2.0/work/hugin-2016.2.0
loading initial cache file /var/tmp/portage/media-gfx/hugin-2016.2.0/work/hugin-2016.2.0_build/gentoo_common_config.cmake
-- The C compiler identification is GNU 5.4.0
-- The CXX compiler identification is GNU 5.4.0
-- Check for working C compiler: /usr/bin/x86_64-pc-linux-gnu-gcc
-- Check for working C compiler: /usr/bin/x86_64-pc-linux-gnu-gcc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: /usr/bin/x86_64-pc-linux-gnu-g++
-- Check for working CXX compiler: /usr/bin/x86_64-pc-linux-gnu-g++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- Current HG revision is be8da0221960
-- Assuming this is a tarball (release) build for 2016.2.0
-- Looking for log1p
-- Looking for log1p - found
CMake Error at /usr/share/cmake/Modules/FindPackageHandleStandardArgs.cmake:138 (message):
  Could NOT find wxWidgets (missing: wxWidgets_LIBRARIES
  wxWidgets_INCLUDE_DIRS)
Call Stack (most recent call first):
  /usr/share/cmake/Modules/FindPackageHandleStandardArgs.cmake:378 (_FPHSA_FAILURE_MESSAGE)
  /usr/share/cmake/Modules/FindwxWidgets.cmake:929 (find_package_handle_standard_args)
  CMakeLists.txt:167 (FIND_PACKAGE)


-- Configuring incomplete, errors occurred!
See also "/var/tmp/portage/media-gfx/hugin-2016.2.0/work/hugin-2016.2.0_build/CMakeFiles/CMakeOutput.log".
 * ERROR: media-gfx/hugin-2016.2.0::gentoo failed (configure phase):
 *   cmake failed
 * 
 * Call stack:
 *     ebuild.sh, line  115:  Called src_configure
 *   environment, line 4113:  Called cmake-utils_src_configure
 *   environment, line 1108:  Called die
 * The specific snippet of code:
 *       "${CMAKE_BINARY}" "${cmakeargs[@]}" "${CMAKE_USE_DIR}" || die "cmake failed";
 * 
 * If you need support, post the output of `emerge --info '=media-gfx/hugin-2016.2.0::gentoo'`,
 * the complete build log and the output of `emerge -pqv '=media-gfx/hugin-2016.2.0::gentoo'`.
 * The complete build log is located at '/var/tmp/portage/media-gfx/hugin-2016.2.0/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/media-gfx/hugin-2016.2.0/temp/environment'.
 * Working directory: '/var/tmp/portage/media-gfx/hugin-2016.2.0/work/hugin-2016.2.0_build'
 * S: '/var/tmp/portage/media-gfx/hugin-2016.2.0/work/hugin-2016.2.0'

>>> Failed to emerge media-gfx/hugin-2016.2.0, Log file:

>>>  '/var/tmp/portage/media-gfx/hugin-2016.2.0/temp/build.log'

 * Messages for package media-gfx/hugin-2016.2.0:

 * ERROR: media-gfx/hugin-2016.2.0::gentoo failed (configure phase):
 *   cmake failed
 * 
 * Call stack:
 *     ebuild.sh, line  115:  Called src_configure
 *   environment, line 4113:  Called cmake-utils_src_configure
 *   environment, line 1108:  Called die
 * The specific snippet of code:
 *       "${CMAKE_BINARY}" "${cmakeargs[@]}" "${CMAKE_USE_DIR}" || die "cmake failed";
 * 
 * If you need support, post the output of `emerge --info '=media-gfx/hugin-2016.2.0::gentoo'`,
 * the complete build log and the output of `emerge -pqv '=media-gfx/hugin-2016.2.0::gentoo'`.
 * The complete build log is located at '/var/tmp/portage/media-gfx/hugin-2016.2.0/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/media-gfx/hugin-2016.2.0/temp/environment'.
 * Working directory: '/var/tmp/portage/media-gfx/hugin-2016.2.0/work/hugin-2016.2.0_build'
 * S: '/var/tmp/portage/media-gfx/hugin-2016.2.0/work/hugin-2016.2.0'




Comment 9


Jean-Claude Repetto





          2017-05-31 09:12:42 UTC
        

# emerge --info '=media-gfx/hugin-2016.2.0::gentoo'
!!! Repository 'rion' has sync-uri attribute, but is missing sync-type attribute
Portage 2.3.5 (python 3.4.5-final-0, default/linux/amd64/13.0, gcc-5.4.0, glibc-2.24-r1, 4.9.16-gentoo x86_64)
=================================================================
                         System Settings
=================================================================
System uname: Linux-4.9.16-gentoo-x86_64-Intel-R-_Xeon-R-_CPU_E5-1620_v2_@_3.70GHz-with-gentoo-2.3
KiB Mem:     2048524 total,     34788 free
KiB Swap:   15623208 total,  15513908 free
Timestamp of repository gentoo: Wed, 31 May 2017 07:00:01 +0000
sh bash 4.3_p48-r1
ld GNU ld (Gentoo 2.26.1 p1.0) 2.26.1
app-shells/bash:          4.3_p48-r1::gentoo
dev-java/java-config:     2.2.0-r3::gentoo
dev-lang/perl:            5.24.1-r1::gentoo
dev-lang/python:          2.7.12::gentoo, 3.4.5::gentoo
dev-util/cmake:           3.7.2::gentoo
dev-util/pkgconfig:       0.28-r2::gentoo
sys-apps/baselayout:      2.3::gentoo
sys-apps/openrc:          0.26.2::gentoo
sys-apps/sandbox:         2.10-r3::gentoo
sys-devel/autoconf:       2.13::gentoo, 2.69::gentoo
sys-devel/automake:       1.11.6-r1::gentoo, 1.15-r2::gentoo
sys-devel/binutils:       2.26.1::gentoo
sys-devel/gcc:            5.4.0-r3::gentoo
sys-devel/gcc-config:     1.7.3::gentoo
sys-devel/libtool:        2.4.6-r3::gentoo
sys-devel/make:           4.2.1::gentoo
sys-kernel/linux-headers: 4.4::gentoo (virtual/os-headers)
sys-libs/glibc:           2.24-r1::gentoo
Repositories:

gentoo
    location: /usr/portage
    sync-type: rsync
    sync-uri: rsync://rsync.gentoo.org/gentoo-portage
    priority: -1000

x-portage
    location: /usr/local/portage
    masters: gentoo
    priority: 0

awesome
    location: /var/lib/layman/awesome
    masters: gentoo
    priority: 50

rion
    location: /var/lib/layman/rion
    sync-uri: https://github.com/rion-overlay/rion-overlay.git
    masters: gentoo
    priority: 50

vaca
    location: /var/lib/layman/vaca
    masters: gentoo
    priority: 50

ACCEPT_KEYWORDS="amd64"
ACCEPT_LICENSE="* -@EULA"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/lib64/libreoffice/program/sofficerc /usr/share/config /usr/share/gnupg/qualified.txt"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/dconf /etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php7.0/ext-active/ /etc/php/cgi-php7.0/ext-active/ /etc/php/cli-php7.0/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c"
CXXFLAGS="-O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FCFLAGS="-O2 -pipe"
FEATURES="assume-digests binpkg-logs config-protect-if-modified distlocks ebuild-locks fixlafiles merge-sync news parallel-fetch preserve-libs protect-owned sandbox sfperms strict unknown-features-warn unmerge-logs unmerge-orphans userfetch userpriv usersandbox usersync xattr"
FFLAGS="-O2 -pipe"
GENTOO_MIRRORS="http://distfiles.gentoo.org"
LANG="fr_FR.utf8"
LDFLAGS="-Wl,-O1 -Wl,--as-needed"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --omit-dir-times --compress --force --whole-file --delete --stats --human-readable --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --exclude=/.git"
PORTAGE_TMPDIR="/var/tmp"
USE="X acl addns ads aio alsa amd64 berkdb branding bzip2 cairo cli client cracklib crypt cups cxx dri epub exif fam ffmpeg flac fortran gd gdbm geos gif gtk gtk3 iconv iprint java javafx jpeg mmx modules mp3 mp4 mpeg mpeg2 mplayer multilib ncurses nls nptl ogg openmp pam pcre pdf png postgis pulseaudio python qt4 readline savedconfig seccomp session sse sse2 ssl svg tcpd tiff udev unicode virtualbox winbind x264 x265 xattr zlib" ABI_X86="64" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" APACHE2_MODULES="authn_core authz_core socache_shmcb unixd actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cgi cgid dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CALLIGRA_FEATURES="kexi words flow plan sheets stage tables krita karbon braindump author" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" CPU_FLAGS_X86="mmx mmxext sse sse2" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock isync itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf skytraq superstar2 timing tsip tripmate tnt ublox ubx" INPUT_DEVICES="libinput keyboard mouse" KERNEL="linux" L10N="fr" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LIBREOFFICE_EXTENSIONS="presenter-console presenter-minimizer" LINGUAS="fr" OFFICE_IMPLEMENTATION="libreoffice" PHP_TARGETS="php5-6" PYTHON_SINGLE_TARGET="python3_4" PYTHON_TARGETS="python2_7 python3_4" RUBY_TARGETS="ruby21 ruby22" USERLAND="GNU" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account"
Unset:  CC, CPPFLAGS, CTARGET, CXX, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LC_ALL, MAKEOPTS, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, USE_PYTHON




Comment 10


Jean-Claude Repetto





          2017-05-31 09:15:46 UTC
        

# emerge -pqv '=media-gfx/hugin-2016.2.0::gentoo'
[ebuild  N    ] media-gfx/hugin-2016.2.0  USE="python -debug -lapack -sift" L10N="fr -ca -ca-valencia -cs -da -de -en-GB -es -eu -fi -hu -it -ja -nl -pl -pt-BR -ro -ru -sk -sv -zh-CN -zh-TW" PYTHON_SINGLE_TARGET="python3_4 -python2_7 -python3_5" PYTHON_TARGETS="python2_7 python3_4 -python3_5"




Comment 11


Andreas Sturmlechner






          2017-07-23 16:56:22 UTC
        

Can you reproduce the issue with 2017.0?




Comment 12


Jean-Claude Repetto





          2017-07-25 06:15:25 UTC
        

Before trying 2017.0, I tried again 2016.2.0, and it worked. Probably something has been updated since May, that fixed the problem. 2017.0 also works.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

