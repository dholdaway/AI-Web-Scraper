Title: 175180 – Alt-Tab under KDE not functioning properly with TwinView
URL: https://bugs.gentoo.org/show_bug.cgi?id=175180

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 175180
Alt-Tab under KDE not functioning properly with TwinView
Last modified: 2007-04-30 02:17:47 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 175180 
      - Alt-Tab under KDE not functioning properly with TwinView


Summary:
Alt-Tab under KDE not functioning properly with TwinView
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-04-19 07:35 UTC by Jared B.





      Modified:
    
2007-04-30 02:17 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Jared B.





          2007-04-19 07:35:24 UTC
        

Alt-Tab does not properly switch between all open windows on the given desktop when using TwinView to create virtual desktop across two monitors.  More details are available in this forum thread:
http://forums.gentoo.org/viewtopic-p-4013400.html

This is on an amd64 system (Core 2 Duo) using the following KDE and nVidia versions:
$ emerge -pv kdelibs nvidia-drivers

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild   R   ] kde-base/kdelibs-3.5.5-r10  USE="alsa arts cups doc fam jpeg2k spell ssl tiff xinerama -acl -avahi -debug -kdeenablefinal -kdehiddenvisibility -kerberos -legacyssl -lua -openexr -utempter -zeroconf" LINGUAS="-he"
[ebuild   R   ] x11-drivers/nvidia-drivers-1.0.9755-r1

I've used a similar TwinView configuration previously with no problems, but that was on x86 hardware and using older nVidia drivers.  I have to use the latest unstable version now due to new hardware.

Reproducible: Always

Steps to Reproduce:
1.Configure TwinView to use two monitors as a single desktop
2.Start KDE
3.Attempt to use Alt-Tab to switch among various applications.

Actual Results:  
Only apps on the same physical screen as the current app will be included in the list.

Expected Results:  
All apps/windows on the same desktop (both physical screens) should be included.




Comment 1


Carsten Lohrke (RETIRED)






          2007-04-19 09:54:07 UTC
        

You have checked the "include windows on all desktops" checkbox in control-center -> desktop -> window properties -> navigation box?




Comment 2


Jared B.





          2007-04-19 18:09:59 UTC
        

I don't have a "Window Properties" module in control center, but I think you mean "Window Behavior" (perhaps we're running different versions of KDE).  I have an option called "Traverse windows on all desktops", which seems to be the same as what you suggested, but no, I do not have that checked.

As I stated in my first post in the thread, this is a different option that what I'm having an issue with.  This will allow Alt-Tab to list all windows on all desktops, as defined in "Control Center -> Desktop -> Multiple Desktops".  In my case I have two desktops defined, but I don't want to switch among the applications in both desktops using Alt-Tab.  I want to switching among all applications in _the same_ desktop using Alt-Tab.

1 desktop = 2 physical monitors when using Xinerama/TwinView, but Alt-Tab will only allow me to switch among apps on the same physical screen, as if it didn't know about the other screen.  Interestingly, if I enable the option you suggested, it'll let me switch between applications on both virtual desktops, but _still_ only on the same physical screen.  The only way I've been able to get Alt-Tab to hit all apps as it should is to uncheck the "Show window list while switching windows" option.  This, however, dramatically changes the behavior of Alt-Tab, and I discussed in the forum why it doesn't work for me.

I know this is an odd problem, so please forgive me for being a little long-winded when trying to describe it.  I've been using KDE since v1.x, using both native Xinerama and nVidia TwinView configurations on multiple hardware setups over the years, and have never before had this problem.




Comment 3


Carsten Lohrke (RETIRED)






          2007-04-19 19:33:58 UTC
        

(In reply to comment #2)
> I don't have a "Window Properties" module in control center, but I think you
> mean "Window Behavior" (perhaps we're running different versions of KDE).  I
> have an option called "Traverse windows on all desktops", which seems to be the
> same as what you suggested, but no, I do not have that checked.

Yes, you guessed right. It was just my laziness to change the language, so I translated from german. 

Sorry for not getting your point at first. Alt+tab handling has been an issue for a longer while, even a metabug¹ exists upstream. Interestingly there's even an upstream bug requesting² what you describe as a problem. Since which KDE version this is a problem for you? I've no chance to reproduce the problem here and would rather say you should take it upstream, but at least update to kDE 3.5.6 (kdelibs and kwin minimum) to iron out the behaviour hasn't been changed in between.

[1] https://bugs.kde.org/show_bug.cgi?id=118184
[2] https://bugs.kde.org/show_bug.cgi?id=86865




Comment 4


Jared B.





          2007-04-20 01:25:55 UTC
        

The problem first occurred with this new install (<1 week old).  This is running KDE 3.5.5-r10, which is the latest stable build for amd64.  Prior to this I had been running the stable release for x86, which I believe was also 3.5.5 (don't remember the -r number), and I never had a problem with it.

Thanks for the bug reports.  I find it really hard to believe that someone actually WANTS this behavior (I feel seriously handicapped right now), but I guess everyone has their own unique way of working on computers.  Part of why I love Linux.  :-)  I'm still very interested in fixing this issue, though.  Any other suggestions?




Comment 5


Jared B.





          2007-04-20 01:41:11 UTC
        

Alright, I was looking around in the KDE changelogs and found this for kdelibs:

  24 Nov 2006; Diego PettenÃ² <flameeyes@gentoo.org>
  +files/kdelibs-3.5.5-seli-xinerama.patch, +kdelibs-3.5.5-r7.ebuild:
  Add a patch to improve xinerama support, by Lubos Lunak.

I investigated this patch, and it comes from here:
http://ktown.kde.org/~seli/xinerama/

Sure enough, the first "feature" listed on that page describes restricting Alt-Tab to a single physical screen.  Argh!  I have absolutely no problem with this option being available to those who want it, but it works completely differently than pretty much every other Alt-Tab implementation I've ever used.

It gives instructions on how to enable it manually.  I'm going to try it out and see if setting the value to false will actually disable it, since for some reason it was enabled by default on my system.  I'll report my findings.




Comment 6


Jared B.





          2007-04-20 01:49:03 UTC
        

Wow, this is messed up.  Following the info on the patch page I linked to previously, I found the preference in this file:
~/.kde3.5/share/config/kwinrc

According to the patch info page, setting SeparateScreenFocus=true is supposed to enable the behavior I had reported.  Mine was originally set to false, but I (of course) still had the issue.  So, I tried setting it to true and restarting KDE, and now it works as it should!  That is, pressing Alt-Tab will allow me to select among all windows open on the current desktop.

Carlo, thanks for your tip - otherwise I wouldn't have known where to look.  I still think you should consider this a bug, though.  For some reason the default setting, which is indeed false, is not being applied properly.  I definitely feel this should be fixed for future versions.

Thanks again for the help.




Comment 7


Carsten Lohrke (RETIRED)






          2007-04-20 17:37:54 UTC
        

Uh, should have had this patch im mind... At least I pointed you in the right direction. Need to get the patch plus gui option into the 3.5 branch.




Comment 8


alexandre lacoste





          2007-04-30 02:17:47 UTC
        

I can confirm the same bug on 
2.6.20-15-generic #2 SMP, i686, ubuntu feisty, twinview with nvidia-glx 1:1.0.9631 and kde 3.5.6

I can also confirm that the option SeparateScreenFocus=true solves the problem

thanks very much Jared 









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

