Title: 188360 – app-portage/eix doesn't understand dev-lang/php HOMEPAGE
URL: https://bugs.gentoo.org/show_bug.cgi?id=188360

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 188360
app-portage/eix doesn't understand dev-lang/php HOMEPAGE
Last modified: 2007-09-03 13:45:44 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 188360 
      - app-portage/eix doesn't understand dev-lang/php HOMEPAGE


Summary:
app-portage/eix doesn't understand dev-lang/php HOMEPAGE
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Portage Development




Classification:

Unclassified




Component:

Third-Party Tools

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Martin Väth








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-08-10 15:52 UTC by Marijn Schouten (RETIRED)





      Modified:
    
2007-09-03 13:45 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



genstef
php-bugs









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Marijn Schouten (RETIRED)






          2007-08-10 15:52:44 UTC
        

eix -e php
* dev-lang/php
     Available versions:
        (4)     4.4.7
        (5)     5.1.6-r11 5.2.2-r1 5.2.2-r20[1] 5.2.3-r3 (~)5.2.4_pre200708051230-r1[2]
     Description:         The PHP language runtime engine: CLI, CGI and Apache2 SAPIs.

[1] (layman/kolab2)
[2] (layman/php-testing)

notice there is no "Homepage:".

emerge -s "%^php$"
Searching...
[ Results for search key : ^php$ ]
[ Applications found : 1 ]

*  dev-lang/php
      Latest version available: 5.2.3-r3
      Latest version installed: [ Not Installed ]
      Size of files: 7,283 kB
      Homepage:      http://www.php.net/
      Description:   The PHP language runtime engine: CLI, CGI and Apache2 SAPIs.
      License:       PHP-3




Comment 1


Martin Väth





          2007-08-10 21:14:20 UTC
        

eix shows the homepage of the latest available ebuild which in this case is dev-lang/perl-5.2.4_pre200708051230-r1 from the overlay [2].

Probably either HOMEPAGE is not defined in this ebuild or not "clearly enough" defined for the cache method "none"; you might need to change the cache method to e.g. "ebuild*" or perhaps even "ebuild", see my comments to bug 160641 (but only change the cache method if you have read about the security risks of these methods in the manpage).





Comment 2


Christian Hoffmann (RETIRED)






          2007-08-10 21:24:53 UTC
        

(In reply to comment #1)
> Probably either HOMEPAGE is not defined in this ebuild or not "clearly enough"
As with all (or at least many) previous versions, HOMEPAGE and LICENSE of dev-lang/php are defined in the eclass php5_2-sapi and that's probably the problem. Portage does get this right and metadata/cache/dev-lang/php-5.2.4* contains the correct HOMEPAGE (and LICENSE).

> eix shows the homepage of the latest available ebuild which in this case is
> dev-lang/perl-5.2.4_pre200708051230-r1 from the overlay [2].
On a side note... it's php and not perl ;)
(and by now, no versions of php are currently in the overlay and latest version in the tree is php-5.2.4_pre200708051230-r2)




Comment 3


Stefan Schweizer (RETIRED)






          2007-09-02 11:05:24 UTC
        

worksforme ergo it must have been the fault of the php-testing overlay.




Comment 4


Marijn Schouten (RETIRED)






          2007-09-02 12:06:37 UTC
        

You are correct. If I now try to reproduce I get:

eix -e php
[I] dev-lang/php
     Available versions:
        (4)     4.4.7 4.4.8_pre20070816
        (5)     5.1.6-r11 5.2.2-r1 5.2.3-r3 5.2.4_pre200708051230-r2
        {adabas apache2 bcmath berkdb birdstep bzip2 calendar cdb cgi cjk cli concurrentmodphp crypt ctype curl curlwrappers db2 dbase dbmaker dbx debug discard-path doc empress empress-bcs esoob exif expat fastbuild fdftk filepro filter firebird flatfile force-cgi-redirect frontbase ftp gd gd-external gdbm gmp hash hyperwave-api iconv imap informix inifile interbase iodbc ipv6 java-external java-internal json kerberos ldap ldap-sasl libedit mcal mcve memlimit mhash ming mnogosearch msql mssql mysql mysqli ncurses nls oci8 oci8-instant-client odbc oracle7 overload pcntl pcre pdo pdo-external pfpro pic posix postgres qdbm readline recode reflection sapdb session sharedext sharedmem simplexml snmp soap sockets solid spell spl sqlite ssl suhosin sybase sybase-ct sysvipc threads tidy tokenizer truetype unicode wddx xml xmlreader xmlrpc xmlwriter xpm xsl yaz zip zip-external zlib}
     Installed versions:  5.2.4_pre200708051230-r2(5)(16:01:06 11-08-07)(-adabas -apache2 -bcmath berkdb -birdstep -bzip2 -calendar -cdb -cgi -cjk cli -concurrentmodphp crypt -ctype -curl -curlwrappers -db2 -dbase -dbmaker -debug -discard-path -doc -empress -empress-bcs -esoob -exif -fastbuild -fdftk -filter -firebird -flatfile -force-cgi-redirect -frontbase -ftp -gd -gd-external gdbm gmp -hash iconv -imap -inifile -interbase -iodbc ipv6 -java-external -json -kerberos ldap -ldap-sasl -libedit -mcve -mhash -msql -mssql -mysql -mysqli ncurses nls -oci8 -oci8-instant-client -odbc -pcntl pcre -pdo -pdo-external -pic -posix -postgres -qdbm readline -recode reflection -sapdb session -sharedext -sharedmem -simplexml -snmp -soap -sockets -solid spell spl -sqlite ssl -suhosin -sybase -sybase-ct -sysvipc threads -tidy -tokenizer truetype unicode -wddx xml -xmlreader -xmlrpc -xmlwriter xpm -xsl -yaz -zip -zip-external zlib)
     Homepage:            http://www.php.net/
     Description:         The PHP language runtime engine: CLI, CGI and Apache2 SAPIs.

which is correct, but if I then do as root "update-eix-remote update" and try again:

eix -e php
[I] dev-lang/php
     Available versions:
        (4)     4.4.7 4.4.8_pre20070816
        (5)     5.1.6-r11 5.2.2-r1 5.2.3-r3 5.2.3-r20[1] 5.2.4_pre200708051230-r2 **5.2.4_rc3[2]
     Installed versions:  5.2.4_pre200708051230-r2(5)(16:01:06 11-08-07)(-adabas -apache2 -bcmath berkdb -birdstep -bzip2 -calendar -cdb -cgi -cjk cli -concurrentmodphp crypt -ctype -curl -curlwrappers -db2 -dbase -dbmaker -debug -discard-path -doc -empress -empress-bcs -esoob -exif -fastbuild -fdftk -filter -firebird -flatfile -force-cgi-redirect -frontbase -ftp -gd -gd-external gdbm gmp -hash iconv -imap -inifile -interbase -iodbc ipv6 -java-external -json -kerberos ldap -ldap-sasl -libedit -mcve -mhash -msql -mssql -mysql -mysqli ncurses nls -oci8 -oci8-instant-client -odbc -pcntl pcre -pdo -pdo-external -pic -posix -postgres -qdbm readline -recode reflection -sapdb session -sharedext -sharedmem -simplexml -snmp -soap -sockets -solid spell spl -sqlite ssl -suhosin -sybase -sybase-ct -sysvipc threads -tidy -tokenizer truetype unicode -wddx xml -xmlreader -xmlrpc -xmlwriter xpm -xsl -yaz -zip -zip-external zlib)
     Description:         The PHP language runtime engine: CLI, CGI and Apache2 SAPIs.

[1] (layman/kolab2)
[2] (layman/php-experimental)

the homepage is gone again.

So maybe there is a problem with how this remote cache is created?




Comment 5


Martin Väth





          2007-09-03 13:45:44 UTC
        

Probably the remote cache is created using cache method "none", for security reasons. This cache method only scans the ebuild heuristically and thus cannot find e.g. variables defined in eclasses.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

