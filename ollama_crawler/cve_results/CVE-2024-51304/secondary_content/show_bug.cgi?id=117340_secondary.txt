Title: 117340 – Init-script for openvpn-2.0.5r2 not supporting multiple VPNs
URL: https://bugs.gentoo.org/show_bug.cgi?id=117340

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 117340
Init-script for openvpn-2.0.5r2 not supporting multiple VPNs
Last modified: 2006-01-09 20:13:27 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 117340 
      - Init-script for openvpn-2.0.5r2 not supporting multiple VPNs


Summary:
Init-script for openvpn-2.0.5r2 not supporting multiple VPNs
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
Highest
       major
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-01-01 05:31 UTC by Arrigo Marchiori





      Modified:
    
2006-01-09 20:13 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



ninja









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Arrigo Marchiori





          2006-01-01 05:31:41 UTC
        

Previous version ov OpenVPN had the init-script /etc/init.d/openvpn able to start multiple VPNs. That script scanned /etc/openvpn/ for directories and ran different processes, one for each directory, taking the local.conf file as the config.

The latest version, that is 2.0.5-r2, lacks this possibility: it looks just for _one_ config file: /etc/openvpn/openvpn.conf. This means that previous installations of multiple VPNs aren't started any more.

I found no information about this in the ChangeLog, so I'm reporting this as a bug.

I suggest you could reuse the init-script of the previous version: it worked well. And I think it would be a good idea to enhance it a little bit, adding the --daemon option to each process with the directory name.




Comment 1


Jakub Moc (RETIRED)






          2006-01-01 05:36:33 UTC
        

2.0.5 has the old init script, 2.0.5-r2 has the new init script. Don't upgrade if you don't like the new one.




Comment 2


Arrigo Marchiori





          2006-01-01 05:54:28 UTC
        

Sorry, I can't understand why should a new version have a _much_ less powerful initialization system than the old one. 

To me, it looks like that you've taken away a very good functionality for no reason. :-(




Comment 3


Jakub Moc (RETIRED)






          2006-01-01 06:05:37 UTC
        

(In reply to comment #2)
> To me, it looks like that you've taken away a very good functionality for no
> reason. :-(

No, we haven't; please read the postinstall instructions the ebuilds provides. It's still possible to create as many VPNs as you wish, it's just handled in a different way (init script symlinks).






Comment 4


Arrigo Marchiori





          2006-01-01 06:32:55 UTC
        

(In reply to comment #3)
> please read the postinstall instructions the ebuilds provides.
> It's still possible to create as many VPNs as you wish, it's just handled in a
> different way (init script symlinks).

D'oh! I didn't read that! :-|

Ok, I was wrong. I'm sorry for wasting your time, I should have read that. Thank you for pointing the solution! Now it WORSFORME too. :-)

Happy new year! :-)




Comment 5


David Masover





          2006-01-09 20:12:38 UTC
        

Just a note:  I believe this is the third incompatible change that someone's made to the config files.  And yes, this way does look better.  It's never fun, however, to run

etc-update
/etc/init.d/openvpn restart

and have your vpn _down_ until you fix it.  I've heard of a tool which logs einfo messages.  But that has too much noise, because a lot of einfo messages stay around for a LONG time, so you see the same message a lot -- we really need some sort of user changelog to go with the developer changelog.  In other words, show the user every message from the old version to the new one, at the end of every upgrade.  Maybe allow them to be emailed.




Comment 6


David Masover





          2006-01-09 20:13:27 UTC
        

(In reply to comment #5)
> Just a note:  I believe this is the third incompatible change that someone's
> made to the config files.

and by "config files", I mean "init script and its handling of /etc/openvpn".










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

