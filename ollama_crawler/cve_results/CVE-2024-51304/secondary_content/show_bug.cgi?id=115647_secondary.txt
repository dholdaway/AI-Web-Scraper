Title: 115647 – xorg-x11 needs portage 2.0.53 on OS X
URL: https://bugs.gentoo.org/show_bug.cgi?id=115647

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 115647
xorg-x11 needs portage 2.0.53 on OS X
Last modified: 2007-11-05 00:52:04 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 115647 
      - xorg-x11 needs portage 2.0.53 on OS X


Summary:
xorg-x11 needs portage 2.0.53 on OS X
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo/Alt




Classification:

Unclassified




Component:

Mac OSX

  (show other bugs)



Hardware:

PPC
        OS X
      







Importance:
      
High
       normal
      


Assignee:

Gentoo for Mac OS X








URL:







Whiteboard:




Keywords:








Depends on:




113551



Blocks:







 

        Show dependency tree





 





      Reported:
    
2005-12-15 05:40 UTC by Michal Suchanek





      Modified:
    
2007-11-05 00:52 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



x11









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge log (from script) gzipped

              (xorg-x11.log.gz,215.29 KB,
                application/x-gzip)

            
2005-12-26 05:48 UTC,

            Michal Suchanek




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Michal Suchanek





          2005-12-15 05:40:34 UTC
        

--- /var/lib/
>>> /var/lib/xdm/
>>> /var/lib/xdm/.keep
>>> /etc/X11/rstart/commands/x -> x11r6
>>> /etc/X11/rstart/commands/x11 -> x11r6
>>> /etc/X11/rstart/contexts/x -> x11r6
>>> /etc/X11/rstart/contexts/x11 -> x11r6
!!! failed to properly create symlink:
!!! /etc/X11/xkb -> ../../usr/lib/X11/xkb
!!! [Errno 2] No such file or directory: '/etc/X11/xkb'
!!! Failed to move file.
!!! /etc/X11/xkb -> ../../usr/lib/X11/xkb


Reproducible: Didn't try
Steps to Reproduce:
1. emerge xorg-x11


Actual Results:  
complains about nonexistent xkb directory

Expected Results:  
merges X

I was told that xkb is by default disabled in xorg on Darwin. Can it be enabled somehow?

Cannot there be a fallback for nonexistent files while creating the symlinks?




Comment 1


Fabian Groffen






          2005-12-15 13:17:17 UTC
        

Michal, would you please post your emerge info output?  The symlink problem is
probably solved in the latest version of portage which is as unstable in the
tree right now.  If you don't run the latest unstable version (53), could you
give that a try?




Comment 2


Michal Suchanek





          2005-12-16 00:40:01 UTC
        

yes, I am running the stable version. I will give newr one a try.




Comment 3


Michal Suchanek





          2005-12-17 03:19:39 UTC
        

ok. With unstable portage xorg fails to merge because of file conflicts but the symlink problem goes away. 




Comment 4


Joshua Baergen (RETIRED)






          2005-12-17 08:58:22 UTC
        

Could you paste the error you're getting here?  If it's a big issue I'll probably get you to open a new bug.




Comment 5


Fabian Groffen






          2005-12-17 09:27:11 UTC
        

I read it as: he's hitting collision-protection because (obviously) Xorg has a high chance for colliding with some files provided by Apple, even though X11 was not installed. 




Comment 6


Joshua Baergen (RETIRED)






          2005-12-17 09:29:32 UTC
        

Ah, ok.  I'm not very familiar with the OSX platform.




Comment 7


Michal Suchanek





          2005-12-26 05:48:26 UTC
        

Created attachment 75549 [details]
emerge log (from script) gzipped

Looks like xorg-x11 was already installed by the previous attempt and not recorded in the package database. Or are there xorg files in the instaler?
I haven't installed Apple's X11 so I should not get conflicts with that. And it should not contain gonetoo-cursors nor xkb iirc.




Comment 8


Fabian Groffen






          2005-12-26 05:53:38 UTC
        

if emerge dies when installing (as for instance on symlinks), it actually doesn't record anything in it's database, but leaves the sofar installed files where they are, hence causing collisions on the next emerge.  Disable collision-protect temporarily to force emerge to overwrite the files that are already there. (after you're sure they are not provided by the OS, of course)




Comment 9


Jakub Moc (RETIRED)






          2007-11-05 00:52:04 UTC
        

Obsolete bug.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

