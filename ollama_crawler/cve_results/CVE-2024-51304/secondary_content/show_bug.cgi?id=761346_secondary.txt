Title: 761346 – mail-client/evolution-3.38.2 with net-libs/webkit-gtk-2.30.3: WebKitWebProcess cannot open display
URL: https://bugs.gentoo.org/show_bug.cgi?id=761346

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 761346
mail-client/evolution-3.38.2 with net-libs/webkit-gtk-2.30.3: WebKitWebProcess cannot open display
Last modified: 2022-12-02 20:41:53 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 761346 
      - mail-client/evolution-3.38.2 with net-libs/webkit-gtk-2.30.3: WebKitWebProcess cannot open display


Summary:
mail-client/evolution-3.38.2 with net-libs/webkit-gtk-2.30.3: WebKitWebProces...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
Normal
       major
      


Assignee:

Gentoo Linux Gnome Desktop Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2020-12-23 10:30 UTC by Volker Wegert





      Modified:
    
2022-12-02 20:41 UTC
      (History)
    




          CC List:
        

3 
          users
          
            (show)
          



alex.buell
johannes.geiss
jstein









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Volker Wegert





          2020-12-23 10:30:54 UTC
        

I have been using evolution for several years now using an SSH-forwarded X11 connection (ssh -XY into the target host). This has worked well so far. After having upgraded to mail-client/evolution-3.38.2 recently, evolution is now completely unusable. When either opening an existing message or trying to compose a new message, I get the message 

(WebKitWebProcess:3): Gtk-WARNING **: 11:28:36.968: cannot open display: <hostname>:10.0

on the command line. Depending on the situation, either nothing happens in evolution or I'll get an error message telling me that WebKitWebProcess has crashed.

Reproducible: Always




# equery l evolution* webkit*
 * Searching for evolution* ...
[IP-] [  ] gnome-extra/evolution-data-server-3.38.2:0/62-25-20
[IP-] [  ] mail-client/evolution-3.38.2:2.0

 * Searching for webkit* ...
[IP-] [  ] net-libs/webkit-gtk-2.30.3:4/37

# emerge --info
Portage 3.0.9 (python 3.8.6-final-0, default/linux/amd64/17.1, gcc-9.3.0, glibc-2.32-r3, 5.4.80-gentoo-r1-x86_64 x86_64)
=================================================================
System uname: Linux-5.4.80-gentoo-r1-x86_64-x86_64-AMD_Phenom-tm-_II_X4_955_Processor-with-glibc2.2.5
KiB Mem:     7914460 total,   1487680 free
KiB Swap:   16777212 total,  16776692 free
Timestamp of repository gentoo: Sun, 20 Dec 2020 18:30:01 +0000
Head commit of repository gentoo: ea0aa8a75fae5b48155cfe169c72796aacd533d7
sh bash 5.0_p18
ld GNU ld (Gentoo 2.34 p6) 2.34.0
app-shells/bash:          5.0_p18::gentoo
dev-java/java-config:     2.3.1::gentoo
dev-lang/perl:            5.30.3::gentoo
dev-lang/python:          3.7.9::gentoo, 3.8.6::gentoo, 3.9.0::gentoo
dev-util/cmake:           3.17.4-r1::gentoo
dev-util/pkgconfig:       0.29.2::gentoo
sys-apps/baselayout:      2.7::gentoo
sys-apps/openrc:          0.42.1::gentoo
sys-apps/sandbox:         2.20::gentoo
sys-devel/autoconf:       2.13-r1::gentoo, 2.69-r5::gentoo
sys-devel/automake:       1.16.2-r1::gentoo
sys-devel/binutils:       2.34-r2::gentoo
sys-devel/gcc:            9.3.0-r2::gentoo
sys-devel/gcc-config:     2.3.2-r1::gentoo
sys-devel/libtool:        2.4.6-r6::gentoo
sys-devel/make:           4.2.1-r4::gentoo
sys-kernel/linux-headers: 5.4-r1::gentoo (virtual/os-headers)
sys-libs/glibc:           2.32-r3::gentoo
Repositories:

gentoo
    location: /usr/portage
    sync-type: rsync
    sync-uri: rsync://rsync.gentoo.org/gentoo-portage
    priority: -1000
    sync-rsync-verify-jobs: 1
    sync-rsync-verify-metamanifest: yes
    sync-rsync-extra-opts: 
    sync-rsync-verify-max-age: 24

gcpan_zathras
    location: /usr/local/portage
    masters: gentoo
    priority: 0

djsmiley2k
    location: /var/lib/layman/djsmiley2k
    masters: gentoo
    priority: 50

godin
    location: /var/lib/layman/godin
    masters: gentoo
    priority: 50

ACCEPT_KEYWORDS="amd64"
ACCEPT_LICENSE="@FREE"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=amdfam10 -O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/easy-rsa /usr/share/gnupg/qualified.txt /usr/share/maven-bin-3.6/conf /var/bind"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/dconf /etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php7.4/ext-active/ /etc/php/cgi-php7.4/ext-active/ /etc/php/cli-php7.4/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c"
CXXFLAGS="-march=amdfam10 -O2 -pipe"
DISTDIR="/usr/portage/distfiles"
ENV_UNSET="CARGO_HOME DBUS_SESSION_BUS_ADDRESS DISPLAY GOBIN GOPATH PERL5LIB PERL5OPT PERLPREFIX PERL_CORE PERL_MB_OPT PERL_MM_OPT XAUTHORITY XDG_CACHE_HOME XDG_CONFIG_HOME XDG_DATA_HOME XDG_RUNTIME_DIR"
FCFLAGS="-O2 -pipe"
FEATURES="assume-digests binpkg-docompress binpkg-dostrip binpkg-logs clean-logs config-protect-if-modified distlocks ebuild-locks fixlafiles ipc-sandbox merge-sync multilib-strict network-sandbox news parallel-fetch pid-sandbox preserve-libs protect-owned qa-unresolved-soname-deps sandbox sfperms splitdebug strict unknown-features-warn unmerge-logs unmerge-orphans userfetch userpriv usersandbox usersync xattr"
FFLAGS="-O2 -pipe"
GENTOO_MIRRORS="http://distfiles.gentoo.org"
LANG="C"
LDFLAGS="-Wl,-O1 -Wl,--as-needed"
LINGUAS="de en"
MAKEOPTS="-j2"
PKGDIR="/var/cache/binpkgs"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --omit-dir-times --compress --force --whole-file --delete --stats --human-readable --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --exclude=/.git"
PORTAGE_TMPDIR="/var/tmp"
USE="X a52 acl amd64 apache2 avahi avi bash-completion berkdb bzip2 cli crypt cups dbus divx4linux dri dv dvdread elogind fame fortran gdbm iconv ipv6 libglvnd libtirpc mjpeg mpeg multilib ncurses nls nptl nptlonly ogg openmp pam pcre pulseaudio quicktime readline samba seccomp slp split-usr ssl tcpd unicode vhosts xattr xulrunner xvid zlib" ABI_X86="64" ADA_TARGET="gnat_2018" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" APACHE2_MODULES="actions alias auth_basic auth_digest authn_anon authn_core uthn_dbd authn_dbm authn_default authn_file authz_core authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cgi dav dav_fs dav_lock dbd deflate dir disk_cache env expires ext_filter file_cache filter headers ident imagemap include info log_config logio mem_cache mime mime_magic negotiation proxy proxy_ajp proxy_connect proxy_http rewrite setenvif so socache_shmcb speling status unique_id unixd userdir usertrack vhost_alias" APACHE2_MPMS="prefork" CALLIGRA_FEATURES="karbon sheets words" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" CPU_FLAGS_X86="3dnow 3dnowext mmx mmxext popcnt sse sse2 sse3 sse4a" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock greis isync itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf skytraq superstar2 timing tsip tripmate tnt ublox ubx" INPUT_DEVICES="libinput" KERNEL="linux" L10N="de en" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LIBREOFFICE_EXTENSIONS="presenter-console presenter-minimizer" LUA_SINGLE_TARGET="lua5-1" LUA_TARGETS="lua5-1" OFFICE_IMPLEMENTATION="libreoffice" PHP_TARGETS="php7-2 php7-3 php7-4" POSTGRES_TARGETS="postgres10 postgres11" PYTHON_SINGLE_TARGET="python3_8" PYTHON_TARGETS="python3_8" RUBY_TARGETS="ruby25" USERLAND="GNU" VIDEO_CARDS="amdgpu fbdev intel nouveau radeon radeonsi vesa dummy v4l" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account"
Unset:  CC, CPPFLAGS, CTARGET, CXX, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LC_ALL, PORTAGE_BINHOST, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Volker Wegert





          2020-12-23 17:53:32 UTC
        

After downgrading only the following two packages to the previous version, the problem disappears again:

[IP-] [  ] gnome-extra/evolution-data-server-3.36.5:0/62-24-20
[IP-] [  ] mail-client/evolution-3.36.5:2.0




Comment 2


Mart Raudsepp






          2020-12-23 22:04:53 UTC
        

Could it perhaps be bug 761238 instead, not X forwarding specific?




Comment 3


Volker Wegert





          2020-12-24 14:03:40 UTC
        

(In reply to Mart Raudsepp from comment #2)
> Could it perhaps be bug 761238 instead, not X forwarding specific?

I doubt it - the problem looks very different, and I have been able to switch between "working" and "not working" by only changing the version of evolution, keeping webkit-gtk stable at 2.30.3. I have not tried upgrading webkit-gtk to 2.30.4 as mentioned in the other bug.




Comment 4


Alex Buell





          2021-03-13 12:46:20 UTC
        

I am experiencing this exact same issue! Happened after updating to latest Evolution as part of Gnome 3.38 upgrade yesterday. I am unable to read my e-mails!

I have had zero issues previously to this.




Comment 5


Alex Buell





          2021-03-13 12:59:29 UTC
        

Downgrading to 3.36.5 gets my e-mails back. I suspect this might be something to do with the way Evolution 3.38 uses webkit-gtk.




Comment 6


Alex Buell





          2021-03-21 00:13:56 UTC
        

I've been looking at this with Evolution 3.38.5 - still exhibits the same issue. 
I compiled webkit-gtk without Wayland USE flag and the issue was still there.

Only downgrading Evolution & Evolution Data Server to 3.36.x cleared the issue.







Comment 7


DebraMoren





          2021-07-07 07:19:00 UTC
        

            Comment hidden (spam)
          

Very nice article, I enjoyed reading your post, very nice share,Thanks!. https://bit.ly/2UaWfNX




Comment 8


Matt Turner






          2022-12-02 14:23:05 UTC
        

Is this still a problem with current versions?




Comment 9


Alex Buell





          2022-12-02 19:04:32 UTC
        

Not with 3.44.4-r2, thanks.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

