Title: 116634 – openoffice-bin-2.0.1 freezes in options --> openoffice.org --> java
URL: https://bugs.gentoo.org/show_bug.cgi?id=116634

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 116634
openoffice-bin-2.0.1 freezes in options --> openoffice.org --> java
Last modified: 2006-01-10 01:13:10 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 116634 
      - openoffice-bin-2.0.1 freezes in options --> openoffice.org --> java


Summary:
openoffice-bin-2.0.1 freezes in options --> openoffice.org --> java
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

AMD64 Project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-12-24 11:32 UTC by Maarten Maathuis





      Modified:
    
2006-01-10 01:13 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



office
pawel









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Maarten Maathuis





          2005-12-24 11:32:54 UTC
        

Openoffice freezes when trying to acces the java settings screen. It's turned off (turned it off when i was using openoffice1) and no jvm's are detected as far as i can see. (it's possible that i only have a 64 bits jvm)

gdb trace gives this: (several times at startup and then an infite loop at the freeze point)

Program recieved signal SIG32, Real-time event 32.
0x5607c0a4 in pthread_create () from /lib32/libpthread.so.0

emerge --info:

Gentoo Base System version 1.6.13
Portage 2.0.53 (default-linux/amd64/2005.1, gcc-3.4.4, glibc-2.3.5-r2, 2.6.14-ck6 x86_64)
=================================================================
System uname: 2.6.14-ck6 x86_64 AMD Athlon(tm) 64 Processor 3000+
dev-lang/python:     2.3.5-r2, 2.4.2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.20
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=k8 -O2 -pipe -msse3"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config /usr/share/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-march=k8 -O2 -pipe -msse3"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://ftp.easynet.nl/mirror/gentoo/ ftp://ftp.easynet.nl/mirror/gentoo/ http://ftp.snt.utwente.nl/pub/os/linux/gentoo ftp://ftp.snt.utwente.nl/pub/os/linux/gentoo ftp://mirror.scarlet-internet.nl/pub/gentoo ftp://mirror.nutsmaas.nl/gentoo/"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.nl.gentoo.org/gentoo-portage"
USE="amd64 X alsa aotuv audiofile avi berkdb bitmap-fonts bzip2 cdb cdr crypt cups curl dvd dvdr eds emboss encode esd exif expat fam ffmpeg flac foomaticdb fortran ggi gif gimpprint glut gmp gpm gstreamer gtk gtk2 idn imagemagick imlib ipv6 jack java jpeg junit lcms ldap libwww lua lzw lzw-tiff mad matroska mhash mikmod mng mp3 mpeg musepack mysql ncurses nls nvidia ogg oggvorbis openal opengl oss pam pcre pdflib perl png ppds python qt quicktime readline recode samba scanner sdl spell sqlite ssl tcltk tcpd tiff truetype truetype-fonts type1-fonts udev usb userlocales vorbis xine xml2 xmms xpm xv xvmc zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS

I'm using Xorg-7.0 and openoffice2 didn't even start for no apparant reason in the past (didn't have the time then to look into it).




Comment 1


Andreas Proschofsky (RETIRED)






          2005-12-25 06:55:55 UTC
        

Can't reproduce on x86, so re-assigning




Comment 2


Simon Stelling (RETIRED)






          2005-12-26 10:03:09 UTC
        

this is because we're currently lacking a 32bit java. actually, openoffice doesn't really freeze.. or at least not forever. after about 30 seconds or so, it gets responsible again and you can turn the flag off to get rid of java :)




Comment 3


Homer Parker (RETIRED)






          2005-12-26 13:03:27 UTC
        

Or 'USE=-java emerge oppenoffice-bin' Maybe we ought to force that until the new 32bit java makes stable on amd64




Comment 4


Simon Stelling (RETIRED)






          2005-12-26 13:21:21 UTC
        

(In reply to comment #3)
> Or 'USE=-java emerge oppenoffice-bin' Maybe we ought to force that until the
> new 32bit java makes stable on amd64

I'm afraid it even freezes with USE=-java





Comment 5


Maarten Maathuis





          2005-12-26 23:39:48 UTC
        

It's a binary package, it's not like a compile flag is going to change a binary package. I can confirm that if i wait a while it will unfreeze.




Comment 6


Pawel Kraszewski





          2006-01-09 06:22:19 UTC
        

(In reply to comment #5)
> It's a binary package, it's not like a compile flag is going to change a binary
> package. I can confirm that if i wait a while it will unfreeze.

Right. I resolved this that way:
 1) Downloaded SUN's java JDK 1.5 for Linux 32 bit (I'm not sure, but jre should be enough. I didn't try)
 2) Installed it into /opt/jdk1.5_32
 3) Ran OOO and entered java setup. It froze
 4) From console repeatedly entered "killall -9 java" until it responses "no such process"
 5) In unfrozen OOO pressed "add new" and selected  /opt/jdk1.5_32
 6) It might freeze again - in that case try killall trick again
 7) Select newly added VM with mouse
 8) Accept, close, reload OOO, enjoy

HTH, 
 Pawel Kraszewski

[OT] Any hearings on 64bit Flash, by the way?




Comment 7


Olivier Crete (RETIRED)






          2006-01-09 06:58:04 UTC
        

you could have also installed app-emulation/emul-linux-x86-java and it auto-configures itself in OOo




Comment 8


Pawel Kraszewski





          2006-01-10 01:13:10 UTC
        

(In reply to comment #7)

> you could have also installed app-emulation/emul-linux-x86-java and it
> auto-configures itself in OOo

Good point! I did not notice I have one already installed... I wonder what pulled it - it must have been something recent (I see, 3 weeks ago)... I guess this could be dependency of some -bin package with conjunction of java&&amd64 USE flags.

OTOH I mostly work on Java 1.5 (I use lots of generics), so 1.4.x is not enough for me. I'll take a look on the 1.4 emu ebuild and cook my own 1.5 emu ebuild.

I'll be in touch.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

