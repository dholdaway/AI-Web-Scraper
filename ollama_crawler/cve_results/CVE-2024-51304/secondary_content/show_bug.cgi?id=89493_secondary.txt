Title: 89493 – KDE hangs at start-up with message QPixmap: Cannot create a QPixmap when no GUI is being used
URL: https://bugs.gentoo.org/show_bug.cgi?id=89493

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 89493
KDE hangs at start-up with message QPixmap: Cannot create a QPixmap when no GUI is being used
Last modified: 2005-07-14 10:16:14 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 89493 
      - KDE hangs at start-up with message QPixmap: Cannot create a QPixmap when no GUI is being used


Summary:
KDE hangs at start-up with message QPixmap: Cannot create a QPixmap when no G...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-04-18 01:10 UTC by Valentin Dimakov





      Modified:
    
2005-07-14 10:16 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Valentin Dimakov





          2005-04-18 01:10:25 UTC
        

KDE hangs at start-up with following screenshot:

System Version 6.8.2
Release Date: 9 February 2005
X Protocol Version 11, Revision 0, Release 6.8.2
Build Operating System: Linux 2.6.11-gentoo-r5 i686 [ELF] 
Current Operating System: Linux dvm-linux 2.6.11-gentoo-r5 #14 SMP Thu Apr 14 20:04:41 UTC 2005 i686
Build Date: 13 April 2005
	Before reporting problems, check http://wiki.X.Org
	to make sure that you have the latest version.
Module Loader present
Markers: (--) probed, (**) from config file, (==) default setting,
	(++) from command line, (!!) notice, (II) informational,
	(WW) warning, (EE) error, (NI) not implemented, (??) unknown.
(==) Log file: "/var/log/Xorg.0.log", Time: Sat Apr 16 18:28:16 2005
(==) Using config file: "/etc/X11/xorg.conf"
Using vt 7
xset:  bad font path element (#70), possible causes are:
    Directory does not exist or has wrong permissions
    Directory missing fonts.dir
    Incorrect font server address or syntax
startkde: Starting up...
QPixmap: Cannot create a QPixmap when no GUI is being used
QPixmap: Cannot create a QPixmap when no GUI is being used


The Xorg-X11 works fine without KDE and Gnome. Gnome hands without messages too. Xorg-logfile has no errors. I have recompiled libtool gtk+ qt motif pango kdelibs kdebase kdeadmin kdenetwork with safe CFLAGS=




Comment 1


Valentin Dimakov





          2005-04-18 01:10:25 UTC
        

KDE hangs at start-up with following screenshot:

System Version 6.8.2
Release Date: 9 February 2005
X Protocol Version 11, Revision 0, Release 6.8.2
Build Operating System: Linux 2.6.11-gentoo-r5 i686 [ELF] 
Current Operating System: Linux dvm-linux 2.6.11-gentoo-r5 #14 SMP Thu Apr 14 20:04:41 UTC 2005 i686
Build Date: 13 April 2005
	Before reporting problems, check http://wiki.X.Org
	to make sure that you have the latest version.
Module Loader present
Markers: (--) probed, (**) from config file, (==) default setting,
	(++) from command line, (!!) notice, (II) informational,
	(WW) warning, (EE) error, (NI) not implemented, (??) unknown.
(==) Log file: "/var/log/Xorg.0.log", Time: Sat Apr 16 18:28:16 2005
(==) Using config file: "/etc/X11/xorg.conf"
Using vt 7
xset:  bad font path element (#70), possible causes are:
    Directory does not exist or has wrong permissions
    Directory missing fonts.dir
    Incorrect font server address or syntax
startkde: Starting up...
QPixmap: Cannot create a QPixmap when no GUI is being used
QPixmap: Cannot create a QPixmap when no GUI is being used


The Xorg-X11 works fine without KDE and Gnome. Gnome hands without messages too. Xorg-logfile has no errors. I have recompiled libtool gtk+ qt motif pango kdelibs kdebase kdeadmin kdenetwork with safe CFLAGS=-march=pentium4 -O2 pipe fomit-frame-pointer. The result is the same. I read similar problem in KDE bug-repport, but havent found a solution. Btw, during kdelibs compilation I saw errors something like this:

Error: libgd was not build with Freetype font support: Helvetica in .
Error: Unexpected tag class found

I have installed all actual libraries and fonts, and see no solution. Has someone such problem and how found the solution? 


Reproducible: Always
Steps to Reproduce:
1. startx
2.
3.

Actual Results:  
KDE start window appears and hangs with 2nd message: initialization of system 
devices


Gentoo Base System version 1.4.16
Portage 2.0.51.19 (default-linux/x86/2005.0, gcc-3.3.5, glibc-2.3.4.20041102-r1, 
2.6.11-gentoo-r5 i686)
=================================================================
System uname: 2.6.11-gentoo-r5 i686 Intel(R) Pentium(R) 4 CPU 3.20GHz
Python: dev-lang/python-2.3.4-r1 [2.3.4 (#1, Apr 10 2005, 21:29:45)]
ccache version 2.3 [enabled]
dev-lang/python:     2.3.4-r1
sys-devel/autoconf:  2.59-r6, 2.13
sys-devel/automake:  1.7.9-r1, 1.8.5-r3, 1.5, 1.4_p6, 1.6.3, 1.9.4
sys-devel/binutils:  2.15.92.0.2-r7
sys-devel/libtool:   1.5.14
virtual/os-headers:  2.6.8.1-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CFLAGS="-march=pentium4 -mcpu=pentium4 -minline-all-stringops -ffast-math -msse 
-mfpmath=sse -msse2 -O3 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.3/env /usr/kde/3.3/
share/config /usr/kde/3.3/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /
usr/lib/mozilla/defaults/pref /usr/share/config /usr/share/texmf/dvipdfm/config/ 
/usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/
texmf/tex/platex/config/ /usr/share/texmf/xdvi/ /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-march=pentium4 -mcpu=pentium4 -minline-all-stringops -ffast-math -
msse -mfpmath=sse -msse2 -O3 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig ccache distlocks sandbox sfperms strict"
GENTOO_MIRRORS="ftp://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/ http://
gentoo.eliteitminds.com http://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/ 
http://pandemonium.tiscali.de/pub/gentoo/"
LANG="ru_RU.KOI8-R"
LINGUAS="ru"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X a52 aac acpi alsa apache2 apm arts avi berkdb bitmap-fonts bluetooth 
bzlib cdr crypt cups curl divx4linux doc dvd dvdr dvdread emacs emboss encode 
esd fam fbcon ffmpeg fftw flac flash foomaticdb fortran ftp gdbm gif ginac gnome 
gphoto2 gpm gstreamer gtk gtk2 icc icc-pgo imlib ipv6 java javascript jikes jpeg 
junit kde leim libg++ libwww lirc mad mikmod mime ming motif mozilla mp3 mpeg 
mule nas ncurses nls nptl ogg oggvorbis openal opengl oss pam pcmcia pcntl pcre 
pda pdflib perl php png pnp posix ppds prelude python qt quicktime readline 
recode samba sdl sharedext sharedmem slang sockets spell sse ssl svga tcltk tcpd 
tetex theora threads tiff tokenizer truetype truetype-fonts trusted type1-fonts 
unicode usb v4l vcd videos vorbis wifi wmf wxwindows xface xine xml2 xmms xpm 
xprint xsl xv xvid zlib linguas_ru"
Unset:  ASFLAGS, CBUILD, CTARGET, LC_ALL, LDFLAGS




Comment 2


Gregorio Guidi (RETIRED)






          2005-04-18 03:43:34 UTC
        

The errors about QPixmap are not relevant, so the problem must be somewhere else, and if you say gnome hangs too, it must be at a lower level.

We cannot help much with the provided information, please try to do do some more debugging (try with a newly created user for instance, try with other window managers, use the forums...)




Comment 3


Caleb Tennis (RETIRED)






          2005-07-14 10:16:14 UTC
        

Not sure how to fix. 









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

