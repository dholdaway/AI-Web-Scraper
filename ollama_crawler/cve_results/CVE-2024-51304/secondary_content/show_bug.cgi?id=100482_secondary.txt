Title: 100482 – FATAL: Error inserting snd_ioctl32
URL: https://bugs.gentoo.org/show_bug.cgi?id=100482

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 100482
FATAL: Error inserting snd_ioctl32
Last modified: 2005-07-27 09:35:08 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 100482 
      - FATAL: Error inserting snd_ioctl32


Summary:
FATAL: Error inserting snd_ioctl32
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Sound Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-07-27 09:31 UTC by Dan Beavers





      Modified:
    
2005-07-27 09:35 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Dan Beavers





          2005-07-27 09:31:43 UTC
        

Using alsa-driver; Following documentation.

lspci -v | grep -i audio
0000:00:06.0 Multimedia audio controller: nVidia Corporation nForce3 250Gb AC'97
Audio Controller (rev a1)

The /etc/make.conf has:
ALSA_CARDS="intel8x0"

bireme ~ # cd /usr/src/linux
bireme linux # grep SOUND .config
CONFIG_SOUND_GAMEPORT=m
CONFIG_SOUND=y
# CONFIG_SOUND_PRIME is not set
bireme linux # grep SND .config
# CONFIG_SND is not set

I get the following error:
/etc/init.d/alsasound restart

FATAL: Error inserting snd_ioctl32
(/lib/modules/2.6.11-gentoo-r11/kernel/sound/core/ioctl32/snd-ioctl32.ko):
Unknown symbol in module, or unknown parameter (see dmesg)

dmesg:
snd_ioctl32: disagrees about version of symbol snd_ctl_find_id
snd_ioctl32: Unknown symbol snd_ctl_find_id
snd_ioctl32: disagrees about version of symbol snd_pcm_lib_readv
snd_ioctl32: Unknown symbol snd_pcm_lib_readv
snd_ioctl32: disagrees about version of symbol snd_pcm_lib_writev
snd_ioctl32: Unknown symbol snd_pcm_lib_writev
snd_ioctl32: disagrees about version of symbol snd_ctl_elem_read
snd_ioctl32: Unknown symbol snd_ctl_elem_read
snd_ioctl32: Unknown symbol snd_pcm_hw_params
snd_ioctl32: disagrees about version of symbol snd_ctl_elem_write
snd_ioctl32: Unknown symbol snd_ctl_elem_write
snd_ioctl32: disagrees about version of symbol snd_pcm_hw_refine

bireme ioctl32 # file
/lib/modules/2.6.11-gentoo-r11/kernel/sound/core/ioctl32/snd-ioctl32.ko
/lib/modules/2.6.11-gentoo-r11/kernel/sound/core/ioctl32/snd-ioctl32.ko: ELF
64-bit LSB relocatable, AMD x86-64, version 1 (SYSV), not stripped


Reproducible: Always
Steps to Reproduce:
1.
2.
3.




bireme ioctl32 # emerge info
Portage 2.0.51.22-r2 (default-linux/amd64/2005.0, gcc-3.4.3, glibc-2.3.5-r0,
2.6.11-gentoo-r11 x86_64)
=================================================================
System uname: 2.6.11-gentoo-r11 x86_64 AMD Athlon(tm) 64 Processor 3500+
Gentoo Base System version 1.6.13
distcc 2.18.3 x86_64-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
dev-lang/python:     2.3.5
sys-apps/sandbox:    1.2.11
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.5
sys-devel/binutils:  2.15.92.0.2-r10
sys-devel/libtool:   1.5.18-r1
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-Os -pipe -march=k8"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.3/env
/usr/kde/3.3/share/config /usr/kde/3.3/shutdown /usr/kde/3.4/env
/usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/share/config /var/qmail/alias /var/qmail/control
/var/vpopmail/domains /var/vpopmail/etc"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-Os -pipe -march=k8"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig buildpkg ccache distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://chod.cwru.edu/gentoo
http://prometheus.cs.wmich.edu/gentoo http://cudlug.cudenver.edu/gentoo/
http://mirror.datapipe.net/gentoo"
LDFLAGS="-Wl,-z,now"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.namerica.gentoo.org/gentoo-portage"
USE="amd64 X alsa avi berkdb bitmap-fonts cdr crypt cups curl encode esd fam
foomaticdb fortran gdbm gif gimpprint gpm gstreamer gtk2 imagemagick imap imlib
ipv6 java jpeg kde lzw lzw-tiff mad maildir mozilla mp3 mpeg mysql ncurses nls
nptl nptlonly nvidia ogg opengl oss pam pdflib perl png ppds python qt quicktime
readline sdl spell ssl tcpd tiff truetype-fonts type1-fonts usb userlocales
vorbis xml2 xmms xpm xv zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LINGUAS, PORTDIR_OVERLAY




Comment 1


Diego Elio Pettenò (RETIRED)






          2005-07-27 09:35:08 UTC
        

You still have the kernel version of the driver installed if you 
have /lib/modules/2.6.11-gentoo-r11/kernel/sound . 
Please remove it, re-do make modules_install and then it should work. 
If it still doesn't work, feel free to reopen the bug. 









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

