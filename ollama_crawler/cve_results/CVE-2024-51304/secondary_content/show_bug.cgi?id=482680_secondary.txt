Title: 482680 – dev-libs/atk-2.6.0 - .../work/atk-2.6.0/atk/Makefile:847: /usr/share/gobject-introspection-1.0/Makefile.introspection: No such file or directory (missing DEPEND on gobject-introspection-common)
URL: https://bugs.gentoo.org/show_bug.cgi?id=482680

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 482680
dev-libs/atk-2.6.0 - .../work/atk-2.6.0/atk/Makefile:847: /usr/share/gobject-introspection-1.0/Makefile.introspection: No such file or directory (missing DEPEND on gobject-introspection-common)
Last modified: 2013-08-29 09:37:23 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 482680 
      - dev-libs/atk-2.6.0 - .../work/atk-2.6.0/atk/Makefile:847: /usr/share/gobject-introspection-1.0/Makefile.introspection: No such file or directory (missing DEPEND on gobject-introspection-common)


Summary:
dev-libs/atk-2.6.0 - .../work/atk-2.6.0/atk/Makefile:847: /usr/share/gobject-...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Library

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gnome Accessibility (OBSOLETE)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2013-08-27 15:19 UTC by Gene Selkov





      Modified:
    
2013-08-29 09:37 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



dev-portage









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




logs.tgz

              (logs.tgz,31.72 KB,
                application/x-gzip-compressed-tar)

            
2013-08-27 15:19 UTC,

            Gene Selkov




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Gene Selkov





          2013-08-27 15:19:46 UTC
        

Created attachment 357172 [details]
logs.tgz

This seems to be a dependency bug that appears in all versions of atk:

make[2]: Entering directory `/var/tmp/portage/dev-libs/atk-2.6.0/work/atk-2.6.0/atk'
Makefile:847: /usr/share/gobject-introspection-1.0/Makefile.introspection: No such file or directory

Indeed, the contents of /usr/share/gobject-introspection-1.0 are:

usr/share/gobject-introspection-1.0/
├── gdump.c
└── tests
    ├── everything.c
    ├── everything.h
    ├── gimarshallingtests.c
    ├── gimarshallingtests.h
    ├── regress.c
    └── regress.h


emerge -pqv '=dev-libs/atk-2.6.0::gentoo'
Error during set creation: Could not import 'smartliverebuild.sets.SmartLiveRebuildSet' for section 'smart-live-rebuild'
[ebuild     U ] dev-libs/atk-2.6.0 [2.2.0] USE="introspection nls (-doc%)" 

(The "Could not import" import error appears every time emerge is run and is probably unrelated, as it only appeared after the latest run of `emerge portage`)




Comment 1


Pacho Ramos






          2013-08-27 17:15:41 UTC
        

Do you have dev-libs/gobject-introspection-common installed?




Comment 2


Gene Selkov





          2013-08-27 21:17:42 UTC
        

Sorry, I can't tell. I lost patience and wiped the whole thing out.

I didn't select any packages, though. I just did a fresh stage3 install and this was just the first problem out of several that I got whlie running 

  emerge -Duav system

having sync'd and emerged portage and set the desktop/gnome profile.

I have since tried funtoo with a similar result (udev-197 is blocking a lot of stuff but udev-204 fails to build), plus a few more problems like that.

I get a sense that the gnome profile hasn't been tested for a while.




Comment 3


Pacho Ramos






          2013-08-28 08:22:24 UTC
        

gnome profile is completely tested and working -> you looks to suffer a different problem (or problems)




Comment 4


Pacho Ramos






          2013-08-28 08:23:46 UTC
        

But this shouldn't occur as you are compiling it with introspection -> that will pull gobject-introspection package, that will pull common one too




Comment 5


Gene Selkov





          2013-08-28 13:04:21 UTC
        

I emerged gnome-introspection separately while trying to fix it, but that didn't help. It did not include Makefile.introspection.

I did not know about gnome-introspection-common, though, and now cannot say whether it was pulled in or not. Sorry.

Today, in the middle of a continued struggle with blocking packages in funtoo, I see that the content of gnome-introspection is just:

usr/share/gobject-introspection-1.0/
└── Makefile.introspection

I don't know if it is properly installed yet or not, but I guess this is the state that was expected when the problem arose. Instead, there was gdump.c and tests.




Comment 6


Pacho Ramos






          2013-08-28 18:17:35 UTC
        

I think all DEPENDs are correct and cannot reproduce the problem. Reading your comments, what system are you running? Gentoo or Funtoo? (or a mix?)




Comment 7


Gene Selkov





          2013-08-28 19:53:13 UTC
        

(In reply to Pacho Ramos from comment #6)
> I think all DEPENDs are correct and cannot reproduce the problem. Reading
> your comments, what system are you running? Gentoo or Funtoo? (or a mix?)

No, it was not a mix. I attempted to install gentoo on what I believe was a clean system. The steps were: (still have history in my shell):

tar jxpf stage3-amd64-20130822.tar.bz2
tar jxf portage-latest.tar.bz2 
emerge -sync
eselect profile set 4
emerge -Duav system




Comment 8


Gene Selkov





          2013-08-28 19:55:05 UTC
        

(In reply to Gene Selkov from comment #7)
> (In reply to Pacho Ramos from comment #6)

If it is not easy to reproduce, let's close. If I see it again, I will be sure to check gobject-introspection-common.




Comment 9


Pacho Ramos






          2013-08-29 08:07:35 UTC
        

OK, maybe was some problem with --jobs portage option :/. Will CC portage team to let them review again our involved deptree to see if something is wrong

@dev-portage, atk will need gobject-introspection-common to be present, it currently has:
RDEPEND=">=dev-libs/glib-2.31.2:2
        introspection? ( >=dev-libs/gobject-introspection-0.6.7 )"
DEPEND="${RDEPEND}

and gobject-introspection ebuild has:
RDEPEND="
        >=dev-libs/gobject-introspection-common-${PV}
        <dev-libs/gobject-introspection-common-1.35.9
        >=dev-libs/glib-2.31.22:2
        <dev-libs/glib-2.33:2
        doctool? ( dev-python/mako )
        virtual/libffi"
# Wants real bison, not virtual/yacc
DEPEND="${RDEPEND}




Comment 10


Zac Medico






          2013-08-29 09:08:50 UTC
        

The deps look reasonable. I'd say close it if it's not reproducible.




Comment 11


Pacho Ramos






          2013-08-29 09:37:23 UTC
        

OK, thanks









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

