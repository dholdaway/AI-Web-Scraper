Title: 161642 – glibc-2.4-r4 emerge problem: vfprintf.c:2182: internal compiler error: in reload_cse_simplify_operands, at postreload.c:391
URL: https://bugs.gentoo.org/show_bug.cgi?id=161642

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 161642
glibc-2.4-r4 emerge problem: vfprintf.c:2182: internal compiler error: in reload_cse_simplify_operands, at postreload.c:391
Last modified: 2007-01-11 23:58:11 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 161642 
      - glibc-2.4-r4 emerge problem: vfprintf.c:2182: internal compiler error: in reload_cse_simplify_operands, at postreload.c:391


Summary:
glibc-2.4-r4 emerge problem: vfprintf.c:2182: internal compiler error: in rel...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Core system

  (show other bugs)



Hardware:

PPC64
        Linux
      







Importance:
      
High
       major
      


Assignee:

Gentoo Toolchain Maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-01-11 21:58 UTC by Jan Zacharias





      Modified:
    
2007-01-11 23:58 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




preprocessed source 1

              (ccJCzwr8.out,461.90 KB,
                text/plain)

            
2007-01-11 22:21 UTC,

            Jan Zacharias




Details





preprocessed source 2

              (cc8dl52L.out,462.01 KB,
                text/plain)

            
2007-01-11 22:23 UTC,

            Jan Zacharias




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Jan Zacharias





          2007-01-11 21:58:23 UTC
        

happened while doing emerge --sync && emerge -e world after fresh install on ibm pseries ppc64 blade (ppc970)

Reproducible: Always

Steps to Reproduce:
1. emerge -e world

Actual Results:  
!!! ERROR: sys-libs/glibc-2.4-r4 failed.
Call stack:
  ebuild.sh, line 1539:   Called dyn_compile
  ebuild.sh, line 939:   Called src_compile
  glibc-2.4-r4.ebuild, line 1174:   Called toolchain-glibc_src_compile
  glibc-2.4-r4.ebuild, line 259:   Called die

!!! make for ppc64 failed
!!! If you need support, post the topmost build error, and the call stack if relevant.

See attachment for full emerge log.

Expected Results:  
exit 0

sensors srv # cat /proc/cpuinfo 
processor       : 0
cpu             : PPC970, altivec supported
clock           : 1600.000000MHz
revision        : 2.2 (pvr 0039 0202)

processor       : 1
cpu             : PPC970, altivec supported
clock           : 1600.000000MHz
revision        : 2.2 (pvr 0039 0202)

timebase        : 199839554
platform        : pSeries
machine         : CHRP IBM,8842-21X


sensors srv # emerge --info
Portage 2.1-r1 (default-linux/ppc/ppc64/2006.1/64bit-userland-gcc4/970, gcc-3.4.6, glibc-2.3.6-r4, 2.6.18-gentoo-r3 ppc64)
=================================================================
System uname: 2.6.18-gentoo-r3 ppc64 PPC970, altivec supported
Gentoo Base System version 1.12.1
app-admin/eselect-compiler: [Not Present]
dev-java/java-config: 1.3.7, 2.0.30
dev-lang/python:     2.4.3-r1
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.61
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.17
sys-devel/gcc-config: 1.3.14
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.17-r2
ACCEPT_KEYWORDS="ppc64"
AUTOCLEAN="yes"
CBUILD="powerpc64-unknown-linux-gnu"
CFLAGS="-mcpu=G5 -O2 -pipe -maltivec -mabi=altivec -fno-strict-aliasing"
CHOST="powerpc64-unknown-linux-gnu"
CONFIG_PROTECT="/etc"
CONFIG_PROTECT_MASK="/etc/env.d /etc/gconf /etc/terminfo"
CXXFLAGS="-mcpu=G5 -O2 -pipe -maltivec -mabi=altivec -fno-strict-aliasing"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig buildpkg distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo"
LDFLAGS="-Wl,-O1"
MAKEOPTS="-j3"
PKGDIR="/srv/portage"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/tmp/portage"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="ppc64 X aalib alsa altivec apache2 apm arts berkdb bitmap-fonts bzip2 cli cracklib crypt cups dedicated dlloader dri eds emboss encode esd foomaticdb fortran gdbm gif gnome gpm gstreamer gtk ibm iconv imlib isdnlog java jpeg kde ldap libg++ libwww lighttpd mad mikmod motif mp3 mpeg mpi nas ncurses nls nptl nptlonly ogg opengl oss pam pcre pdf perl png pppd python qt3 qt4 quicktime readline reflection sdl session spell spl ssl tcpd truetype truetype-fonts type1-fonts udev unicode vorbis xml xorg xv xvid zlib alsa_pcm_plugins_adpcm alsa_pcm_plugins_alaw alsa_pcm_plugins_asym alsa_pcm_plugins_copy alsa_pcm_plugins_dmix alsa_pcm_plugins_dshare alsa_pcm_plugins_dsnoop alsa_pcm_plugins_empty alsa_pcm_plugins_extplug alsa_pcm_plugins_file alsa_pcm_plugins_hooks alsa_pcm_plugins_iec958 alsa_pcm_plugins_ioplug alsa_pcm_plugins_ladspa alsa_pcm_plugins_lfloat alsa_pcm_plugins_linear alsa_pcm_plugins_meter alsa_pcm_plugins_mulaw alsa_pcm_plugins_multi alsa_pcm_plugins_null alsa_pcm_plugins_plug alsa_pcm_plugins_rate alsa_pcm_plugins_route alsa_pcm_plugins_share alsa_pcm_plugins_shm alsa_pcm_plugins_softvol elibc_glibc input_devices_keyboard input_devices_mouse input_devices_evdev kernel_linux userland_GNU video_cards_ati video_cards_dummy video_cards_fbdev video_cards_mga video_cards_nv video_cards_sisusb video_cards_v4l"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LINGUAS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY


I can provide the preprocessed source if needed.




Comment 1


Jakub Moc (RETIRED)






          2007-01-11 22:03:56 UTC
        

(In reply to comment #0)
> I can provide the preprocessed source if needed.

Sure, attach it if the bug is reproducible (i.e., fails repeatedly at *exactly* the same place). 






Comment 2


Jan Zacharias





          2007-01-11 22:14:40 UTC
        

Preprocessed source stored into /tmp/portage/portage/glibc-2.4-r4/temp/cc8dl52L.out file, please attach this to your bugreport.
make[2]: *** [/tmp/portage/portage/glibc-2.4-r4/work/build-ppc64-powerpc64-unknown-linux-gnu-nptl/stdio-common/vfwprintf.os] Error 1
make[2]: Leaving directory `/tmp/portage/portage/glibc-2.4-r4/work/glibc-2.4/stdio-common'
make[1]: *** [stdio-common/subdir_lib] Error 2
make[1]: Leaving directory `/tmp/portage/portage/glibc-2.4-r4/work/glibc-2.4'
make: *** [all] Error 2

!!! ERROR: sys-libs/glibc-2.4-r4 failed.
Call stack:
  ebuild.sh, line 1539:   Called dyn_compile
  ebuild.sh, line 939:   Called src_compile
  glibc-2.4-r4.ebuild, line 1174:   Called toolchain-glibc_src_compile





Comment 3


Jan Zacharias





          2007-01-11 22:17:35 UTC
        

damnit i cannot post the full error, here it is: http://gfx/~Jan/error




Comment 4


Jan Zacharias





          2007-01-11 22:21:46 UTC
        

Created attachment 106596 [details]
preprocessed source 1




Comment 5


Jan Zacharias





          2007-01-11 22:23:01 UTC
        

Created attachment 106598 [details]
preprocessed source 2




Comment 6


Jan Zacharias





          2007-01-11 22:25:07 UTC
        

(In reply to comment #3)
> damnit i cannot post the full error, here it is: http://gfx/~Jan/error
> 

Ooops .. for you, actually it is http://gfx.cs.uni-sb.de/~Jan/error




Comment 7


SpanKY






          2007-01-11 23:58:11 UTC
        

glibc-2.5 is marked ppc64 stable

also, you need to switch to gcc-4.1.1 first









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

