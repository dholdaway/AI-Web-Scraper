Title: 251415 – dev-libs/xmlrpc-c-1.16.06 fails at install
URL: https://bugs.gentoo.org/show_bug.cgi?id=251415

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 251415
dev-libs/xmlrpc-c-1.16.06 fails at install
Last modified: 2009-01-11 17:39:45 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 251415 
      - dev-libs/xmlrpc-c-1.16.06 fails at install


Summary:
dev-libs/xmlrpc-c-1.16.06 fails at install
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Peter Alfredsen (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-12-18 02:05 UTC by Ben de Groot (RETIRED)





      Modified:
    
2009-01-11 17:39 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build log

              (dev-libs:xmlrpc-c-1.16.06:20081218-015545.log,16.12 KB,
                text/plain)

            
2008-12-18 02:06 UTC,

            Ben de Groot (RETIRED)




Details





my emerge --info

              (emerge.info,4.79 KB,
                text/plain)

            
2008-12-18 02:07 UTC,

            Ben de Groot (RETIRED)




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Ben de Groot (RETIRED)






          2008-12-18 02:05:48 UTC
        

I haven't looked deeper into this, but dev-libs/xmlrpc-c-1.16.06 fails at install:

>>> Install xmlrpc-c-1.16.06 into /var/tmp/portage/dev-libs/xmlrpc-c-1.16.06/image/ category dev-libs
make -j3 -s DESTDIR=/var/tmp/portage/dev-libs/xmlrpc-c-1.16.06/image/ install 
mkdir /var/tmp/portage/dev-libs/xmlrpc-c-1.16.06/image/usr
mkdir /var/tmp/portage/dev-libs/xmlrpc-c-1.16.06/image/usr/lib
 /var/tmp/portage/dev-libs/xmlrpc-c-1.16.06/work/xmlrpc-c-1.16.06/install-sh -c -m 644 libxmlrpc_util.a /var/tmp/portage/dev-libs/xmlrpc-c-1.16.06/image//usr/lib/libxmlrpc_util.a
Lots of echoes to 'xmlrpc-c/config.h' suppressed here ...
 ranlib /var/tmp/portage/dev-libs/xmlrpc-c-1.16.06/image//usr/lib/libxmlrpc_util.a
In file included from /var/tmp/portage/dev-libs/xmlrpc-c-1.16.06/work/xmlrpc-c-1.16.06/include/xmlrpc-c/util.h:20,
                 from curlmulti.c:25:
/var/tmp/portage/dev-libs/xmlrpc-c-1.16.06/work/xmlrpc-c-1.16.06/include/xmlrpc-c/config.h:1:1: error: unterminated #ifndef
In file included from /var/tmp/portage/dev-libs/xmlrpc-c-1.16.06/work/xmlrpc-c-1.16.06/include/xmlrpc-c/base.h:10,
                 from /var/tmp/portage/dev-libs/xmlrpc-c-1.16.06/work/xmlrpc-c-1.16.06/include/xmlrpc-c/client.h:13,
                 from curltransaction.h:6,
                 from curlmulti.h:7,
                 from curlmulti.c:32:
/var/tmp/portage/dev-libs/xmlrpc-c-1.16.06/work/xmlrpc-c-1.16.06/include/xmlrpc-c/config.h:4:1: error: unterminated comment
/var/tmp/portage/dev-libs/xmlrpc-c-1.16.06/work/xmlrpc-c-1.16.06/include/xmlrpc-c/config.h:1:1: error: unterminated #ifndef
In file included from /var/tmp/portage/dev-libs/xmlrpc-c-1.16.06/work/xmlrpc-c-1.16.06/include/xmlrpc-c/client.h:13,
                 from curltransaction.h:6,
                 from curlmulti.h:7,
                 from curlmulti.c:32:
/var/tmp/portage/dev-libs/xmlrpc-c-1.16.06/work/xmlrpc-c-1.16.06/include/xmlrpc-c/base.h:39: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘xmlrpc_int32’
/var/tmp/portage/dev-libs/xmlrpc-c-1.16.06/work/xmlrpc-c-1.16.06/include/xmlrpc-c/base.h:41: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘xmlrpc_int64’
/var/tmp/portage/dev-libs/xmlrpc-c-1.16.06/work/xmlrpc-c-1.16.06/include/xmlrpc-c/base.h:120: error: expected declaration specifiers or ‘...’ before ‘xmlrpc_int64’
/var/tmp/portage/dev-libs/xmlrpc-c-1.16.06/work/xmlrpc-c-1.16.06/include/xmlrpc-c/base.h:496: error: expected declaration specifiers or ‘...’ before ‘xmlrpc_int64’
mkdir /var/tmp/portage/dev-libs/xmlrpc-c-1.16.06/image/usr/include
make[2]: *** [curlmulti.o] Error 1
make[1]: *** [/var/tmp/portage/dev-libs/xmlrpc-c-1.16.06/work/xmlrpc-c-1.16.06/lib/curl_transport/curlmulti.o] Error 2
make: *** [src/install] Error 2
make: *** Waiting for unfinished jobs....




Comment 1


Ben de Groot (RETIRED)






          2008-12-18 02:06:26 UTC
        

Created attachment 175670 [details]
build log




Comment 2


Ben de Groot (RETIRED)






          2008-12-18 02:07:21 UTC
        

Created attachment 175671 [details]
my emerge --info




Comment 3


Peter Alfredsen (RETIRED)






          2008-12-18 23:21:08 UTC
        

You're not using tmpfs or something like that, are you?




Comment 4


Peter Alfredsen (RETIRED)






          2008-12-18 23:21:47 UTC
        

And could you attach this file?
/var/tmp/portage/dev-libs/xmlrpc-c-1.16.06/work/xmlrpc-c-1.16.06/include/xmlrpc-c/config.h




Comment 5


Peter Alfredsen (RETIRED)






          2009-01-03 05:13:51 UTC
        

(In reply to comment #4)
> And could you attach this file?
> /var/tmp/portage/dev-libs/xmlrpc-c-1.16.06/work/xmlrpc-c-1.16.06/include/xmlrpc-c/config.h

This should be fixed in xmlrpc-c-1.16.06-r1.
+  03 Jan 2009; Peter Alfredsen <loki_val@gentoo.org>
+  xmlrpc-c-1.16.06-r1.ebuild:
+  We need to "emake all" or we'll run into bug 251415. Per suggestion from
+  upstream.
+





Comment 6


Peter Alfredsen (RETIRED)






          2009-01-03 17:50:29 UTC
        

No, wait. That doesn't solve it, looking at the makefiles. Reopening.
Yngwin, *prod* for a faily build.log without -s.




Comment 7


Ben de Groot (RETIRED)






          2009-01-03 18:27:39 UTC
        

Works for me now.




Comment 8


Peter Alfredsen (RETIRED)






          2009-01-03 20:57:29 UTC
        

Resolving as worksforme, then. Reopen if you encounter it again.




Comment 9


Franz Brauße





          2009-01-11 17:39:45 UTC
        

Using gcc-4.3.2 and 4.2.4, I managed to avoid the above error with xmlrpc-c-1.16.06-r1 by restricting make to use only one process (no -j option).









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

