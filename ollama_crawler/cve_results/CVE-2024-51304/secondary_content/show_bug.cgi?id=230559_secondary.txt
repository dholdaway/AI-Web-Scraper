Title: 230559 – dev-texlive/texlive-basic-2007: broken hyphenation setup
URL: https://bugs.gentoo.org/show_bug.cgi?id=230559

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 230559
dev-texlive/texlive-basic-2007: broken hyphenation setup
Last modified: 2008-07-04 09:47:39 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 230559 
      - dev-texlive/texlive-basic-2007: broken hyphenation setup


Summary:
dev-texlive/texlive-basic-2007: broken hyphenation setup
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

TeX project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-07-02 19:02 UTC by Martin von Gagern





      Modified:
    
2008-07-04 09:47 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge --info

              (emerge--info.txt,5.01 KB,
                text/plain)

            
2008-07-03 22:03 UTC,

            Martin von Gagern




Details





/usr/share/texmf/tex/generic/config/language.dat

              (language.dat,2.18 KB,
                text/plain)

            
2008-07-03 22:04 UTC,

            Martin von Gagern




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Martin von Gagern





          2008-07-02 19:02:19 UTC
        

Trying to reproduce bug 230555 on a different system, I again compiled this LaTeX source:

\documentclass{article}
\usepackage{ngerman}
\begin{document}
T"ast
\end{document}

The result on this system looked like this:

$ latex test.tex
This is pdfTeXk, Version 3.141592-1.40.3 (Web2C 7.5.6)
 %&-line parsing enabled.
entering extended mode
(./test.tex
LaTeX2e <2005/12/01>
Babel <v3.8h> and hyphenation patterns for english, usenglishmax, dumylang, noh
yphenation, german, ngerman, greek, monogreek, ancientgreek, ibycus, ukenglish,
 loaded.
(/usr/share/texmf-dist/tex/latex/base/article.cls
Document Class: article 2005/09/16 v1.4f Standard LaTeX document class
(/usr/share/texmf-dist/tex/latex/base/size10.clo))
(/usr/share/texmf-dist/tex/generic/german/ngerman.sty v2.5e 1998-07-08)
(./test.aux
! Undefined control sequence.
\select@language ... \@empty }\languageshorthands 
                                                  {none}\babel@beginsave \cs...
l.15 \select@language{ngerman}
                              
? x
No pages of output.
Transcript written on test.log.

Investigating the issue I found this:
$ ls -lA /usr/share/texmf/tex/generic/config/ | cut -c43-
._cfg0000_fontmath.cfg -> /etc/texmf/tex/generic/config/fontmath.cfg
._cfg0000_fonttext.cfg -> /etc/texmf/tex/generic/config/fonttext.cfg
._cfg0000_language.dat -> /etc/texmf/tex/generic/config/language.dat
._cfg0000_preload.cfg -> /etc/texmf/tex/generic/config/preload.cfg
language.dat
language.de.dat
language.gr.dat
language.iby.dat
language.uk.dat
language.us
pdftexconfig.tex
pdftex-dvi.tex
preload.cfg

which is an indication of bug 194043 but otherwise seems to have nothing to do with the issue at hand. I removed those files, remerged the corresponding packages, ran texmf-update, but still encounter the issue as described above. I have these texlive packages installed:

dev-texlive/texlive-basic-2007
dev-texlive/texlive-bibtexextra-2007
dev-texlive/texlive-context-2007
dev-texlive/texlive-documentation-base-2007
dev-texlive/texlive-documentation-english-2007
dev-texlive/texlive-documentation-german-2007
dev-texlive/texlive-fontsextra-2007
dev-texlive/texlive-fontsrecommended-2007
dev-texlive/texlive-formatsextra-2007
dev-texlive/texlive-genericextra-2007
dev-texlive/texlive-genericrecommended-2007
dev-texlive/texlive-htmlxml-2007-r2
dev-texlive/texlive-langgerman-2007
dev-texlive/texlive-langgreek-2007
dev-texlive/texlive-langukenglish-2007
dev-texlive/texlive-latex-2007
dev-texlive/texlive-latex3-2007
dev-texlive/texlive-latexextra-2007
dev-texlive/texlive-latexrecommended-2007
dev-texlive/texlive-mathextra-2007
dev-texlive/texlive-metapost-2007-r1
dev-texlive/texlive-music-2007
dev-texlive/texlive-omega-2007
dev-texlive/texlive-pictures-2007
dev-texlive/texlive-plainextra-2007
dev-texlive/texlive-pstricks-2007
dev-texlive/texlive-psutils-2007
dev-texlive/texlive-publishers-2007
dev-texlive/texlive-science-2007
dev-texlive/texlive-texinfo-2007
dev-texlive/texlive-xetex-2007




Comment 1


Alexis Ballier






          2008-07-03 09:50:23 UTC
        

why opening a new bug ?




Comment 2


Martin von Gagern





          2008-07-03 15:12:12 UTC
        

(In reply to comment #1)
> why opening a new bug ?

Because this issue seems completely different to bug 230555. The error message is different, running fmtutil-sys --all won't fix it, and on this system there is no such directory as /etc/texmf/tex. Therefore while I'd consider bug 230555 resolved enough, even though I still don't understand it, this issue here is far severe, as I have made no progress yet, and as it not only uses wrong hyphenation but aborts compilation altogether.




Comment 3


Alexis Ballier






          2008-07-03 18:51:24 UTC
        

(In reply to comment #0)
> $ ls -lA /usr/share/texmf/tex/generic/config/ | cut -c43-
> ._cfg0000_fontmath.cfg -> /etc/texmf/tex/generic/config/fontmath.cfg
> ._cfg0000_fonttext.cfg -> /etc/texmf/tex/generic/config/fonttext.cfg
> ._cfg0000_language.dat -> /etc/texmf/tex/generic/config/language.dat
> ._cfg0000_preload.cfg -> /etc/texmf/tex/generic/config/preload.cfg

(In reply to comment #2)
> and on this system there
> is no such directory as /etc/texmf/tex.

????


what does 'kpsewhich language.dat' says ? does that file contains the contents of language.de.dat ?

also please post emerge --info




Comment 4


Alexis Ballier






          2008-07-03 19:21:49 UTC
        

also note that hyphenations support are configured in the language.dat file that is handled by texmf-update...




Comment 5


Martin von Gagern





          2008-07-03 22:03:31 UTC
        

(In reply to comment #3)
> (In reply to comment #0)
> > $ ls -lA /usr/share/texmf/tex/generic/config/ | cut -c43-
> > ._cfg0000_fontmath.cfg -> /etc/texmf/tex/generic/config/fontmath.cfg
> > ._cfg0000_fonttext.cfg -> /etc/texmf/tex/generic/config/fonttext.cfg
> > ._cfg0000_language.dat -> /etc/texmf/tex/generic/config/language.dat
> > ._cfg0000_preload.cfg -> /etc/texmf/tex/generic/config/preload.cfg
> 
> (In reply to comment #2)
> > and on this system there
> > is no such directory as /etc/texmf/tex.
> 
> ????

That's about what I thought. I guess those config protected files are really quite outdated. i can't recall every step of my migration from tetex, I don't know if I ever manually removed /etc/texmf/tex or if it was removed automatically by some update. As the symlinks are now gone but the issue persists, I wouldn't look for the cause in these files, only maybe an indication of some strangeness in some other place.

> what does 'kpsewhich language.dat' says ? does that file contains the contents
> of language.de.dat ?

$ kpsewhich language.dat
/usr/share/texmf/tex/generic/config/language.dat

(In reply to comment #4)
> also note that hyphenations support are configured in the language.dat file
> that is handled by texmf-update...

Handled correctly from what I can tell. And as you can see from the Babel messages in comment 0, the hyphenation patterns for all installed language packages seem to be loaded all right.




Comment 6


Martin von Gagern





          2008-07-03 22:03:57 UTC
        

Created attachment 159459 [details]
emerge --info




Comment 7


Martin von Gagern





          2008-07-03 22:04:19 UTC
        

Created attachment 159461 [details]
/usr/share/texmf/tex/generic/config/language.dat




Comment 8


Alexis Ballier






          2008-07-03 22:12:03 UTC
        

does this still happen if you remove that test.aux file first ?




Comment 9


Martin von Gagern





          2008-07-04 08:14:07 UTC
        

(In reply to comment #8)
> does this still happen if you remove that test.aux file first ?

No, indeed that fixed it. Thanks!

To sum it up for someone else who perhaps sees this as well:
1. make sure there are no config protected files left over in your texmf directory after config protection was removed. If there are, remove them and remerge the packages the original files belong to. qfile is your friend.
2. Run texmf-update to be on the safe side.
3. rm *.aux




Comment 10


Alexis Ballier






          2008-07-04 09:47:39 UTC
        

(In reply to comment #9)
[...]
> 3. rm *.aux

this is more a latex/babel limitation by itself: it uses the .aux to do weird things and if you change the babel support it will/might have problems reading the old .aux.











Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

