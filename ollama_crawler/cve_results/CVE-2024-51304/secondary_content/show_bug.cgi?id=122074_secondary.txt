Title: 122074 – gentoo-sources-2.6.15-r2 hangs on boot when radeonfb begins to scroll
URL: https://bugs.gentoo.org/show_bug.cgi?id=122074

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 122074
gentoo-sources-2.6.15-r2 hangs on boot when radeonfb begins to scroll
Last modified: 2006-09-25 14:51:07 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 122074 
      - gentoo-sources-2.6.15-r2 hangs on boot when radeonfb begins to scroll


Summary:
gentoo-sources-2.6.15-r2 hangs on boot when radeonfb begins to scroll
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Core system

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Michal Januszewski (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-02-07 21:19 UTC by Karl Tomlinson





      Modified:
    
2006-09-25 14:51 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



kernel









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Karl Tomlinson





          2006-02-07 21:19:31 UTC
        

On booting with gentoo-sources-2.6.15-r[234], the last message I see is:

  VFS: mounted root (reiserfs filesystem) readonly

As the radeonfb display first begins to scroll, this
message appears twice at the bottom of the display,
Then the system hangs and MagicSysRq does nothing.

I did not apply any kernel patches and used the kernel's default initramfs.

I'm not using fbsplash.

suspend2-sources-2.6.15-r4 works fine.
suspend2-sources-2.6.15-r5 doesn't with the last line repeated:

  Freeing unused kernel memory: 596k freed

By a process of elimination the patch causing the problem seemed to be

  501_fbsplash-early-splash-fix.patch (i.e. attachment 77325 [details, diff]) in genpatches 5

(This was originally reported on Bug 119268, but the nature of this bug
suggests that 501_fbsplash-early-splash-fix.patch may not be the cause of this
bug.)

However, suspend2-sources-2.6.14-r7 had this patch and worked fine.

gentoo-sources-2.6.15-r2 config is here:

  http://bugs.gentoo.org/attachment.cgi?id=78912&action=view

Using the "quiet" boot option delays scrolling until after sysvinit has
started and the system runs fine.

When vesafb-tng was compiled in (but not used) the system booted fine.

Using fbcon=map:1 (without vesafb-tng) to select VGA mode: booted fine.

Using video=radeonfb:1024x768-8@60 (without fbcon=): booted fine
(even though the display scrolls before sysvinit starts).

Using video=radeonfb:1280x1024-8@60: boot hangs with last line:

  NET: registered protocol family 17




Comment 1


Michal Januszewski (RETIRED)






          2006-08-11 11:51:24 UTC
        

Is this still a problem with the latest gentoo-sources/suspend2-sources?




Comment 2


Karl Tomlinson





          2006-08-12 02:50:01 UTC
        

Still a problem with suspend2-sources-2.6.17 patched up to genpatches 2.6.17-6.




Comment 3


Karl Tomlinson





          2006-09-25 14:51:07 UTC
        

No problem yet with suspend2-sources-2.6.18.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

