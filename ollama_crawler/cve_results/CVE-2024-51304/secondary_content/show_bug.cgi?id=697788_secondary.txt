Title: 697788 – dev-tex/latex-beamer-3.56 USE=doc should install beameruserguide.pdf
URL: https://bugs.gentoo.org/show_bug.cgi?id=697788

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 697788
dev-tex/latex-beamer-3.56 USE=doc should install beameruserguide.pdf
Last modified: 2023-08-12 13:37:33 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 697788 
      - dev-tex/latex-beamer-3.56 USE=doc should install beameruserguide.pdf


Summary:
dev-tex/latex-beamer-3.56 USE=doc should install beameruserguide.pdf
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

TeX project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2019-10-15 18:01 UTC by July Tikhonov





      Modified:
    
2023-08-12 13:37 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




patch that extracts beameruserguide.pdf from beamer-ctan.zip and injects it into the build directory

              (beamer-doc.patch,1.17 KB,
                patch)

            
2023-08-12 13:37 UTC,

            MW




Details
            | Diff





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


July Tikhonov





          2019-10-15 18:01:31 UTC
        

The previous stable version, dev-tex/latex-beamer-3.36, installs the file beameruserguide.pdf. (It seems to be included in the distribution, so the ebuild does not have to compile it.)

The new version, dev-tex/latex-beamer-3.56, installs only compressed source files for the guide. Not exactly usable in this form.

Reproducible: Always

Steps to Reproduce:
1. emerge '=dev-tex/latex-beamer-3.56[doc]'
Actual Results:  
No file beameruserguide.pdf is present, only beameruserguide.tex.bz2 and other source files.

Expected Results:  
The documentation file of the package is present in a usable form.




Comment 1


Mikle Kolyada (RETIRED)









          2019-10-25 08:02:23 UTC
        

this up to you to compile pdf now. They do not really ship it anymore.




Comment 2


MW





          2020-10-05 15:04:01 UTC
        

Could this not be automated by the ebuild? It is _really_ the expected behaviour that USE="doc" should provide the documentation.




Comment 3


July Tikhonov





          2020-10-05 17:27:23 UTC
        

At the time of posting, it was really complicated to compile beameruserguide.pdf; I recall that I had to patch beamer's build.lua script because of some incompatibility with l3build scripts installed by TeXLive.

But now this issue seems to be resolved (with TeXLive update, I guess), and compiling beameruserguide is as simple as putting

src_compile() {
	default
	if use doc ; then
		texlua build.lua doc || die
	fi
}

in the latex-beamer-3.59.ebuild; you will have it merged at /usr/share/texmf-site/doc/latex/beamer/doc/beameruserguide.pdf.

Note that this probably creates build-time dependency on dev-texlive/texlive-latexextra because this is where mentioned l3build scripts belong.




Comment 4


MW





          2023-08-12 13:37:33 UTC
        

Created attachment 867710 [details, diff]
patch that extracts beameruserguide.pdf from beamer-ctan.zip and injects it into the build directory

Since v3.68, upstream again provides pre-built documentation (in beamer-ctan.zip). For now, I'm using the attached changes. It's not elegant, but it's good enough for my local repo.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

