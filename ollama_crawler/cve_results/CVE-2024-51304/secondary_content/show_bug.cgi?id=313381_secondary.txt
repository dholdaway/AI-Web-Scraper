Title: 313381 – binutils-apple-3.2-r1:binutils-config error: Could not run/locate "i386-apple-darwin10/ld"
URL: https://bugs.gentoo.org/show_bug.cgi?id=313381

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 313381
binutils-apple-3.2-r1:binutils-config error: Could not run/locate "i386-apple-darwin10/ld"
Last modified: 2010-04-08 09:41:22 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 313381 
      - binutils-apple-3.2-r1:binutils-config error: Could not run/locate "i386-apple-darwin10/ld"


Summary:
binutils-apple-3.2-r1:binutils-config error: Could not run/locate "i386-apple...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo/Alt




Classification:

Unclassified




Component:

Prefix Support

  (show other bugs)



Hardware:

x86
        OS X
      







Importance:
      
High
       blocker
      


Assignee:

Gentoo Prefix








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2010-04-06 10:32 UTC by Gijs Molenaar





      Modified:
    
2010-04-08 09:41 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Gijs Molenaar





          2010-04-06 10:32:16 UTC
        

Somehow I can't emerge anymore, since I get this error all the time. I also get this error when i try the re-emerge binutils-apple. I think it has something to do with an update of the binutils-apple package I emerged last week, but probably i'm wrong.

gcc -O2 -pipe -march=core2 -Wall -I./../include -O2 -pipe -march=core2 -o ./ar.NEW append.o ar.o archive.o contents.o delete.o extract.o misc.o move.o print.o replace.o vers.o -L./../libstuff -lstuff
/Gentoo-32/usr/bin/binutils-config: line 311: /Gentoo-32/etc/env.d/binutils/i386-apple-darwin10-3.2: No such file or directory
binutils-config error: Could not run/locate "i386-apple-darwin10/ld" ( * i386-apple-darwin10-3.2 is invalid (no $TARGET defined) :(
/ld)
collect2: ld returned 1 exit status
make[1]: *** [ar.NEW] Error 1
make[1]: Leaving directory `/Gentoo-32/var/tmp/portage/sys-devel/binutils-apple-3.2-r1/work/cctools-750/ar'
make: *** [all] Error 1
 * ERROR: sys-devel/binutils-apple-3.2-r1 failed:
 *   emake failed for the cctools
 * 
 * Call stack:
 *     ebuild.sh, line   54:  Called call-ebuildshell 'src_compile'
 *   environment, line  397:  Called src_compile
 *   environment, line 2730:  Called compile_cctools
 *   environment, line  593:  Called die
 * The specific snippet of code:
 *       emake LTO= TRIE= EFITOOLS= COMMON_SUBDIRS='libstuff ar misc otool' SUBDIRS_32= RC_CFLAGS="${CFLAGS}" OFLAG="${CFLAGS}" || die "emake failed for the cctools";
 * 
 * If you need support, post the output of 'emerge --info =sys-devel/binutils-apple-3.2-r1',
 * the complete build log and the output of 'emerge -pqv =sys-devel/binutils-apple-3.2-r1'.
 * The complete build log is located at '/Gentoo-32/var/tmp/portage/sys-devel/binutils-apple-3.2-r1/temp/build.log'.
 * The ebuild environment file is located at '/Gentoo-32/var/tmp/portage/sys-devel/binutils-apple-3.2-r1/temp/environment'.
 * S: '/Gentoo-32/var/tmp/portage/sys-devel/binutils-apple-3.2-r1/work'


Reproducible: Always




[ebuild   R   ] sys-devel/binutils-apple-3.2-r1  USE="-test" 


Portage 2.2.00.15842-prefix (prefix/darwin/macos/10.6/x86, gcc-4.2.1, unavailable, 10.3.0 i386)
=================================================================
                        System Settings
=================================================================
System uname: Darwin-10.3.0-i386-32bit
Timestamp of tree: Tue, 06 Apr 2010 09:37:16 +0000
distcc 2.18.5-Apple.1 i386-apple-darwin10.0 (protocols 1 and 2) (default port 3632) [disabled]
app-shells/bash:     4.0_p37
dev-lang/python:     2.6.4
dev-util/cmake:      2.8.1
sys-devel/autoconf:  2.65
sys-devel/automake:  1.10.2-r00.1, 1.11.1
sys-devel/gcc-config: 1.4.1-r00.2
sys-devel/libtool:   2.2.6b
ACCEPT_KEYWORDS="~x86-macos"
ACCEPT_LICENSE="* -@EULA"
CBUILD="i686-apple-darwin10"
CFLAGS="-O2 -pipe -march=core2"
CHOST="i686-apple-darwin10"
CONFIG_PROTECT="/etc"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/revdep-rebuild /etc/terminfo"
CXXFLAGS="-O2 -pipe -march=core2"
DISTDIR="/Gentoo-32/usr/portage/distfiles"
FEATURES="assume-digests collision-protect distlocks fixpackages news nostrip parallel-fetch preserve-libs protect-owned sfperms strict unmerge-logs unmerge-orphans userfetch"
GENTOO_MIRRORS="http://distfiles.gentoo.org"
LDFLAGS=""
MAKEOPTS="-j3"
PKGDIR="/Gentoo-32/usr/portage/packages"
PORTAGE_CONFIGROOT="/Gentoo-32/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/Gentoo-32/var/tmp"
PORTDIR="/Gentoo-32/usr/portage"
PORTDIR_OVERLAY="/Gentoo-32/etc/portage/local"
SYNC="rsync://rsync.prefix.freens.org/gentoo-portage-prefix"
USE="aqua coreaudio cracklib cxx mmx mmxext modules ncurses nls objc objc++ prefix readline sse sse2 ssl unicode x86-macos zlib" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="Darwin" INPUT_DEVICES="keyboard mouse" KERNEL="Darwin" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" RUBY_TARGETS="ruby18" USERLAND="GNU" 
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LANG, LC_ALL, LINGUAS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS

=================================================================
                        Package Settings
=================================================================

sys-devel/binutils-apple-3.2-r1 was built with the following:
USE="(prefix) -test"




Comment 1


Fabian Groffen






          2010-04-06 11:41:47 UTC
        

try running binutils-config again




Comment 2


Gijs Molenaar





          2010-04-06 11:48:59 UTC
        

(In reply to comment #1)
> try running binutils-config again

With what argument(s)?


$  binutils-config i386-apple-darwin10
/Gentoo-32/usr/bin/binutils-config: line 66: /Gentoo-32/etc/env.d/binutils/i386-apple-darwin10: No such file or directory
 * i386-apple-darwin10 is invalid (no $TARGET defined) :(
bloempot-gentoo32:/Gentoo-32/etc/env.d/binutils

$  binutils-config i686-apple-darwin10
/Gentoo-32/usr/bin/binutils-config: line 66: /Gentoo-32/etc/env.d/binutils/i686-apple-darwin10: No such file or directory
 * i686-apple-darwin10 is invalid (no $TARGET defined) :(

$ binutils-config i686-apple-darwin10-3.2
 * Switching to i686-apple-darwin10-3.2 ...
binutils-config error: Could not run/locate "i386-apple-darwin10/ld" (/Gentoo-32/usr/i386-apple-darwin10/binutils-bin/3.2
/ld)
collect2: ld returned 1 exit status

$ binutils-config i386-apple-darwin10-3.2
 * Switching to i386-apple-darwin10-3.2 ...
/Gentoo-32/usr/bin/binutils-config: line 125: cd: /Gentoo-32///usr/i386-apple-darwin10/binutils-bin/3.2: No such file or directory


 






Comment 3


Fabian Groffen






          2010-04-06 11:53:40 UTC
        

binutils-config 1




Comment 4


Gijs Molenaar





          2010-04-06 11:57:58 UTC
        


$ binutils-config 1
 * Switching to i386-apple-darwin10-3.2 ...
/Gentoo-32/usr/bin/binutils-config: line 125: cd: /Gentoo-32///usr/i386-apple-darwin10/binutils-bin/3.2: No such file or directory


$ find /Gentoo-32/usr/i386-apple-darwin10
/Gentoo-32/usr/i386-apple-darwin10
/Gentoo-32/usr/i386-apple-darwin10/bin
/Gentoo-32/usr/i386-apple-darwin10/bin/ar
/Gentoo-32/usr/i386-apple-darwin10/bin/as
/Gentoo-32/usr/i386-apple-darwin10/bin/check_dylib
/Gentoo-32/usr/i386-apple-darwin10/bin/checksyms
/Gentoo-32/usr/i386-apple-darwin10/bin/cmpdylib
/Gentoo-32/usr/i386-apple-darwin10/bin/codesign_allocate
/Gentoo-32/usr/i386-apple-darwin10/bin/indr
/Gentoo-32/usr/i386-apple-darwin10/bin/install_name_tool
/Gentoo-32/usr/i386-apple-darwin10/bin/ld
/Gentoo-32/usr/i386-apple-darwin10/bin/ld64
/Gentoo-32/usr/i386-apple-darwin10/bin/libtool
/Gentoo-32/usr/i386-apple-darwin10/bin/lipo
/Gentoo-32/usr/i386-apple-darwin10/bin/nm
/Gentoo-32/usr/i386-apple-darwin10/bin/nmedit
/Gentoo-32/usr/i386-apple-darwin10/bin/otool
/Gentoo-32/usr/i386-apple-darwin10/bin/pagestuff
/Gentoo-32/usr/i386-apple-darwin10/bin/ranlib
/Gentoo-32/usr/i386-apple-darwin10/bin/rebase
/Gentoo-32/usr/i386-apple-darwin10/bin/redo_prebinding
/Gentoo-32/usr/i386-apple-darwin10/bin/seg_addr_table
/Gentoo-32/usr/i386-apple-darwin10/bin/seg_hack
/Gentoo-32/usr/i386-apple-darwin10/bin/segedit
/Gentoo-32/usr/i386-apple-darwin10/bin/size
/Gentoo-32/usr/i386-apple-darwin10/bin/strings
/Gentoo-32/usr/i386-apple-darwin10/bin/strip
/Gentoo-32/usr/i386-apple-darwin10/gcc-bin
/Gentoo-32/usr/i386-apple-darwin10/gcc-bin/4.2.1
/Gentoo-32/usr/i386-apple-darwin10/gcc-bin/4.2.1/c++
/Gentoo-32/usr/i386-apple-darwin10/gcc-bin/4.2.1/cpp
/Gentoo-32/usr/i386-apple-darwin10/gcc-bin/4.2.1/g++
/Gentoo-32/usr/i386-apple-darwin10/gcc-bin/4.2.1/gcc
/Gentoo-32/usr/i386-apple-darwin10/gcc-bin/4.2.1/gccbug
/Gentoo-32/usr/i386-apple-darwin10/gcc-bin/4.2.1/gcov
/Gentoo-32/usr/i386-apple-darwin10/gcc-bin/4.2.1/i386-apple-darwin10-c++
/Gentoo-32/usr/i386-apple-darwin10/gcc-bin/4.2.1/i386-apple-darwin10-cpp
/Gentoo-32/usr/i386-apple-darwin10/gcc-bin/4.2.1/i386-apple-darwin10-g++
/Gentoo-32/usr/i386-apple-darwin10/gcc-bin/4.2.1/i386-apple-darwin10-gcc
/Gentoo-32/usr/i386-apple-darwin10/gcc-bin/4.2.1/i386-apple-darwin10-gcc-4.2.1
/Gentoo-32/usr/i386-apple-darwin10/lib






Comment 5


Bartłomiej Majka





          2010-04-06 19:25:07 UTC
        

Try setting MAKEOPTS="-j2" in make.conf file.




Comment 6


Gijs Molenaar





          2010-04-07 12:18:09 UTC
        

(In reply to comment #5)
> Try setting MAKEOPTS="-j2" in make.conf file.


no difference




Comment 7


Fabian Groffen






          2010-04-07 18:40:54 UTC
        

that is very weird, you should have this binutils-bin directory

I suppose your system is totally nuked right now?

can you emerge native-cctools?




Comment 8


Gijs Molenaar





          2010-04-08 08:20:08 UTC
        

(In reply to comment #7)
> that is very weird, you should have this binutils-bin directory
> 
> I suppose your system is totally nuked right now?
> 
> can you emerge native-cctools?

nuked beyond recognition, it looks like an ugly thing now. 

I've recompiled my prefix, but I still have a copy of the nuked one for investigation. Interested in the output of re-emerging native-cctools, or can I throw it away?




Comment 9


Fabian Groffen






          2010-04-08 08:28:01 UTC
        

native-cctools is there to repair your prefix.  If you already rebootstrapped and no longer have the problem, I'd say PEBKAC or something and RESOLVE/WORKSFORME this bug ;)




Comment 10


Gijs Molenaar





          2010-04-08 09:41:22 UTC
        

i didn't do nothing. computer suddenly said no. Will close bug.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

