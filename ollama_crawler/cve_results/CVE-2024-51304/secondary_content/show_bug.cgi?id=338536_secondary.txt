Title: 338536 – sys-devel/gcc-4.4.3-r3 failed to install specs
URL: https://bugs.gentoo.org/show_bug.cgi?id=338536

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 338536
sys-devel/gcc-4.4.3-r3 failed to install specs
Last modified: 2010-09-27 20:19:38 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 338536 
      - sys-devel/gcc-4.4.3-r3 failed to install specs


Summary:
sys-devel/gcc-4.4.3-r3 failed to install specs
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Core system

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:









Duplicates (1):
    

338596

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2010-09-24 10:04 UTC by Sergiy Borodych





      Modified:
    
2010-09-27 20:19 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



andreis.vinogradovs









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Sergiy Borodych





          2010-09-24 10:04:16 UTC
        

* PIE_VER or SPECS_VER is not defiend in the GCC ebuild.
 * Hope you know what you are doing. Hardened will not work.
install: cannot stat `/var/tmp/portage/sys-devel/gcc-4.4.3-r3/work/specs/*.specs': No such file or directory
!!! doins: /var/tmp/portage/sys-devel/gcc-4.4.3-r3/work/specs/*.specs does not exist
 * ERROR: sys-devel/gcc-4.4.3-r3 failed:
 *   failed to install specs
 * 
 * Call stack:
 *     ebuild.sh, line   54:  Called src_install
 *   environment, line 4935:  Called toolchain_src_install
 *   environment, line 5530:  Called gcc-compiler_src_install
 *   environment, line 2514:  Called copy_minispecs_gcc_specs
 *   environment, line  918:  Called die
 * The specific snippet of code:
 *       doins "${WORKDIR}"/specs/*.specs || die "failed to install specs";




Comment 1


Sergiy Borodych





          2010-09-24 10:04:34 UTC
        

# emerge --info
Portage 2.1.8.3 (hardened/linux/amd64/10.0, gcc-4.3.4, glibc-2.11.2-r0, 2.6.28-hardened-r9 x86_64)
=================================================================
System uname: Linux-2.6.28-hardened-r9-x86_64-Intel-R-_Xeon-R-_CPU_X3330_@_2.66GHz-with-gentoo-1.12.13
Timestamp of tree: Fri, 24 Sep 2010 02:15:01 +0000
ccache version 2.4 [enabled]
app-shells/bash:     4.0_p37
dev-lang/python:     2.6.5-r3, 3.1.2-r4
dev-util/ccache:     2.4-r7
sys-apps/baselayout: 1.12.13
sys-apps/sandbox:    1.6-r2
sys-devel/autoconf:  2.65-r1
sys-devel/automake:  1.11.1
sys-devel/binutils:  2.20.1-r1
sys-devel/gcc:       4.3.4
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   2.2.6b
sys-devel/make:      3.81-r2
virtual/os-headers:  2.6.30-r1
ACCEPT_KEYWORDS="amd64"
ACCEPT_LICENSE="* -@EULA"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=native -O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /var/bind /var/qmail/alias /var/qmail/control /var/vpopmail/etc"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo"
CXXFLAGS="-march=native -O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="assume-digests ccache distlocks fixpackages news parallel-fetch protect-owned sandbox sfperms strict unmerge-logs unmerge-orphans userfetch"
GENTOO_MIRRORS="ftp://ftp.linux.kiev.ua/pub/Linux/Gentoo ftp://ftp2.ua.freebsd.org/pub/FreeBSD ftp://ftp.univ.kiev.ua/FreeBSD"
LDFLAGS="-Wl,-O1 -Wl,--as-needed"
MAKEOPTS="-j5"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_EXTRA_OPTS="--exclude-from=/etc/portage/rsync_excludes"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/var/lib/layman/hack-tools /var/lib/layman/perl-experimental /var/lib/layman/bor /var/lib/layman/game-server-stuff /usr/local/portage /usr/local/portage.old"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="amd64 apache2 berkdb bzip2 clamav cli cracklib crypt cups cxx dri gd gdbm geoip git gpm hardened iconv ithreads jpeg justify logrotate mmx modules mudflap multilib mysql ncurses nls nptl nptlonly openmp pam pcre perl pic png pppd python qmail qmail-spp readline reflection session spamassassin sqlite3 sse sse2 ssl subversion symlink sysfs syslog tcpd threads truetype unicode urandom vim-syntax vpopmail xorg zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="alias auth_basic authn_dbm authn_default authn_file authz_dbm authz_default authz_host authz_user autoindex cache cgid dav deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic rewrite setenvif status unique_id vhost_alias" ELIBC="glibc" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" RUBY_TARGETS="ruby18" USERLAND="GNU" VIDEO_CARDS="fbdev glint intel mach64 mga neomagic nouveau nv r128 radeon savage sis tdfx trident vesa via vmware voodoo" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account" 
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LANG, LC_ALL, LINGUAS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS





Comment 2


Samuli Suominen (RETIRED)






          2010-09-24 10:46:31 UTC
        

This was a mistake that's already corrected:

http://sources.gentoo.org/cgi-bin/viewvc.cgi/gentoo-x86/sys-devel/gcc/gcc-4.4.3-r3.ebuild?view=log

"Revert bump mixup (-r2 got bumped as -r3 instead -r3 patchset being bumped)"

http://sources.gentoo.org/cgi-bin/viewvc.cgi/gentoo-x86/sys-devel/gcc/gcc-4.4.3-r3.ebuild?r1=1.5&r2=1.6

I suggest to wait for hour or two, and then emerge --sync to get the corrected ebuild.




Comment 3


Magnus Granberg






          2010-09-27 20:19:38 UTC
        

*** Bug 338596 has been marked as a duplicate of this bug. ***









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

