Title: 228771 – vdr automatic shutdown is blocked by running X-Server
URL: https://bugs.gentoo.org/show_bug.cgi?id=228771

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 228771
vdr automatic shutdown is blocked by running X-Server
Last modified: 2012-01-15 21:04:08 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 228771 
      - vdr automatic shutdown is blocked by running X-Server


Summary:
vdr automatic shutdown is blocked by running X-Server
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       minor
      


Assignee:

Gentoo VDR Project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-06-21 15:51 UTC by wilhelm hagg





      Modified:
    
2012-01-15 21:04 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


wilhelm hagg





          2008-06-21 15:51:52 UTC
        

A running X-Server (e.g. vdr-xineliboutput on Nvidia graphics card) let vdr assume that there is someone logged in.



Reproducible: Always




This could be changed easily by the following patch for 
/usr/share/vdr/shutdown/pre-shutdown-30-check-logins.sh:

3c3
<       local NR=$(who | wc -l)
---
>       local NR=$(who | grep -v '(:0.0)' | wc -l)




Comment 1


Christian Ruppert (idl0r)






          2012-01-15 21:04:08 UTC
        

Works for me.
Start X "by hand" (without xdm, startx or such like) and start xineliboutput.
Please reopen if that is still persistent. The bug is from 2008 so things may have changed.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

