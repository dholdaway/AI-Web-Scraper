Title: 129949 – xorg 7.0-r1 - Inconsistency detected by ld.so
URL: https://bugs.gentoo.org/show_bug.cgi?id=129949

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 129949
xorg 7.0-r1 - Inconsistency detected by ld.so
Last modified: 2006-04-19 09:24:29 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 129949 
      - xorg 7.0-r1 - Inconsistency detected by ld.so


Summary:
xorg 7.0-r1 - Inconsistency detected by ld.so
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Library

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo X packagers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-04-14 08:03 UTC by Florian Engelhardt





      Modified:
    
2006-04-19 09:24 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Florian Engelhardt





          2006-04-14 08:03:19 UTC
        

I keep on getting this error message when i type "startx"

Inconsistency detected by ld.so: ../sysdeps/x86_64/dl-machine.h: 416: elf_machine_rela_relative: Assertion `((reloc->r_info) & 0xffffffff) == 8' failed!

The X-Server (xorg 7.0-r1) starts as usual, but this does not sound good.


emerge --info
Portage 2.1_pre7-r5 (default-linux/amd64/2005.0, gcc-4.1.0, glibc-2.4-r1, 2.6.16 x86_64)
=================================================================
System uname: 2.6.16 x86_64 AMD Athlon(tm) 64 Processor 3500+
Gentoo Base System version 1.6.14
dev-lang/python:     2.3.5-r2, 2.4.2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.91.0.7
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=athlon64 -Os -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config /usr/share/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/eselect/compiler /etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-march=athlon64 -Os -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="ftp://ftp.tu-clausthal.de/pub/linux/gentoo/ ftp://ftp.uni-erlangen.de/pub/mirrors/gentoo"
LANG="en_US.utf8"
LC_ALL="en_US.utf8"
LINGUAS="de"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/xgl-coffee"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="amd64 X acpi alsa avi berkdb bitmap-fonts cairo crypt cups dbus dga dri dvd dvdr dvdread emboss encode ffmpeg firefox foomaticdb fortran ftp gif glitz gstreamer gtk gtk2 hal httpd imlib ipv6 isdnlog jpeg lzw lzw-tiff mjpeg moznoxft mp3 mpeg msn ncurses nls nptl nptlonly nvidia ogg oggvorbis opengl pam pdflib perl png pppd python quicktime readline sdl spell ssl stream svg tcpd theora tiff truetype-fonts type1-fonts unicode usb utf8 v4l v4l2 vcd vorbis xpm xv xvmc zlib elibc_glibc input_devices_keyboard input_devices_mouse kernel_linux linguas_de userland_GNU video_cards_nvidia"
Unset:  ASFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LDFLAGS




Comment 1


Joshua Baergen (RETIRED)






          2006-04-14 23:35:47 UTC
        

(In reply to comment #0)
> PORTDIR_OVERLAY="/usr/local/xgl-coffee"

What do you have installed from coffee's overlay?  Anything from here could cause the problem.




Comment 2


Florian Engelhardt





          2006-04-15 06:23:54 UTC
        

XGL and its dependencies.
Maybe mesa is the problem, i will uninstall all that stuff, and report back after that.




Comment 3


Florian Engelhardt





          2006-04-15 07:08:44 UTC
        

i unmerged everything from xgl-coffee overlay and emerged the software from official portage tree. no changes still inconsitencies.




Comment 4


Joshua Baergen (RETIRED)






          2006-04-16 15:30:46 UTC
        

Please attach your Xorg.0.log (or whatever display you use).

A couple things from your emerge --info:

1) Likely unrelated, but you're using an old profile (2005.0).  You should re-link your /etc/make.profile to the appropriate 2006.0 profile.  Take a look at the current symlink to know where to link it up.

2) I see you're using GCC 4.1.  Have you re-compiled your whole system on 4.1, or are there some old binaries that have been compiled with an older 4.1 or even 3.x?  If yes, I recommend you at least do 'emerge -e xorg-x11', if not 'emerge -e world'.




Comment 5


Florian Engelhardt





          2006-04-16 21:38:02 UTC
        

i switched to 2006.0.
I have some old binarys still in gcc 3.4.4, and only the new one with gcc 4.1, i am doing an "emerge world -ev" right now. This could take a while, i will report back.




Comment 6


Florian Engelhardt





          2006-04-19 03:09:52 UTC
        

emerge -e world was not running cleanly, i had some trouble with some packages, but those were gcc 4.1 related and could be easy fixed by adding the ~amd64 keyword to those packages.
The problem with the inconsistency is fixed now :)




Comment 7


Donnie Berkholz (RETIRED)






          2006-04-19 09:24:29 UTC
        

Good news.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

