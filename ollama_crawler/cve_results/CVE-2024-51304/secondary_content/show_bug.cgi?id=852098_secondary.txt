Title: 852098 – dev-python/tpm2-pytss-1.1.0: tons of test failures: AttributeError: 'TPM2B_PUBLIC' object has no attribute '_cdata'
URL: https://bugs.gentoo.org/show_bug.cgi?id=852098

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 852098
dev-python/tpm2-pytss-1.1.0: tons of test failures: AttributeError: 'TPM2B_PUBLIC' object has no attribute '_cdata'
Last modified: 2022-09-26 23:29:31 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 852098 
      - dev-python/tpm2-pytss-1.1.0: tons of test failures: AttributeError: 'TPM2B_PUBLIC' object has no attribute '_cdata'


Summary:
dev-python/tpm2-pytss-1.1.0: tons of test failures: AttributeError: 'TPM2B_PU...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Christopher Byrne








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2022-06-15 08:51 UTC by Michał Górny





      Modified:
    
2022-09-26 23:29 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



proxy-maint









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




dev-python:tpm2-pytss-1.1.0:20220615-083053.log.xz

              (dev-python:tpm2-pytss-1.1.0:20220615-083053.log.xz,57.16 KB,
                application/x-xz)

            
2022-06-15 08:52 UTC,

            Michał Górny




Details





dev-python tpm2-pytss-1.1.0-20220617-1.log.xz

              (dev-python tpm2-pytss-1.1.0-20220617-1.log.xz,13.47 KB,
                application/x-xz)

            
2022-06-18 21:00 UTC,

            Christopher Byrne




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Michał Górny









          2022-06-15 08:51:21 UTC
        

266 tests fail, with errors like the following:

self = <tpm2_pytss.types.TPMT_SENSITIVE object at 0x7ff50a373310>, key = 'sensitiveType', value = 35

    def __setattr__(self, key, value):
    
>       _cdata = object.__getattribute__(self, "_cdata")
E       AttributeError: 'TPMT_SENSITIVE' object has no attribute '_cdata'

key        = 'sensitiveType'
self       = <tpm2_pytss.types.TPMT_SENSITIVE object at 0x7ff50a373310>
value      = 35

../tpm2-pytss-1.1.0-python3_9/install/usr/lib/python3.9/site-packages/tpm2_pytss/types.py:140: AttributeError




Comment 1


Michał Górny









          2022-06-15 08:52:03 UTC
        

Created attachment 785213 [details]
dev-python:tpm2-pytss-1.1.0:20220615-083053.log.xz




Comment 2


Christopher Byrne





          2022-06-18 21:00:36 UTC
        

Created attachment 786086 [details]
dev-python tpm2-pytss-1.1.0-20220617-1.log.xz

I can't replicate this - it seems to work for me. This is on an amd64 (stable) system. What version of app-crypt/tpm2-tss was this against?




Comment 3


Christopher Byrne





          2022-09-26 23:29:31 UTC
        

I'm guessing this was related to the "dance" in src_test. That was fixed by upstream in https://github.com/tpm2-software/tpm2-pytss/commit/a03b66dd73a2ff58ebf847864102585aa3d11af7 and is included the current version on dev-python/tpm2-pytss.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

