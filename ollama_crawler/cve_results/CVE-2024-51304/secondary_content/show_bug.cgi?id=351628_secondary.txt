Title: 351628 – geeqie-1.0-r1 need GTK+ >= 2.4.0
URL: https://bugs.gentoo.org/show_bug.cgi?id=351628

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 351628
geeqie-1.0-r1 need GTK+ >= 2.4.0
Last modified: 2011-01-16 13:36:06 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 351628 
      - geeqie-1.0-r1 need GTK+ >= 2.4.0


Summary:
geeqie-1.0-r1 need GTK+ >= 2.4.0
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2011-01-14 07:39 UTC by Yuval Kashtan





      Modified:
    
2011-01-16 13:36 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




config.log

              (geeqie.log,31.95 KB,
                text/plain)

            
2011-01-14 13:28 UTC,

            Yuval Kashtan




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Yuval Kashtan





          2011-01-14 07:39:27 UTC
        

# emerge geeqie
Calculating dependencies... done!                                               

>>> Verifying ebuild manifests

>>> Emerging (1 of 1) media-gfx/geeqie-1.0-r1
 * geeqie-1.0.tar.gz RMD160 SHA1 SHA256 size ;-) ...                     [ ok ]
 * Package:    media-gfx/geeqie-1.0-r1                                         
 * Repository: gentoo                                                          
 * Maintainer: voyageur@gentoo.org                                             
 * USE:        amd64 elibc_glibc kernel_linux userland_GNU                     
 * FEATURES:   sandbox userpriv usersandbox                                    
>>> Unpacking source...                                                        
>>> Unpacking geeqie-1.0.tar.gz to /var/tmp/portage/media-gfx/geeqie-1.0-r1/work
>>> Source unpacked in /var/tmp/portage/media-gfx/geeqie-1.0-r1/work            
>>> Preparing source in /var/tmp/portage/media-gfx/geeqie-1.0-r1/work/geeqie-1.0 ...                                                                            
>>> Source prepared.                                                            
>>> Configuring source in /var/tmp/portage/media-gfx/geeqie-1.0-r1/work/geeqie-1.0 ...                                                                          
./configure --prefix=/usr --build=x86_64-pc-linux-gnu --host=x86_64-pc-linux-gnu --mandir=/usr/share/man --infodir=/usr/share/info --datadir=/usr/share --sysconfdir=/etc --localstatedir=/var/lib --libdir=/usr/lib64 --disable-dependency-tracking --with-readmedir=/usr/share/doc/geeqie-1.0-r1 --disable-lcms --disable-lirc --disable-exiv2                                                                
configure: loading site script /usr/share/config.site                           
configure: loading site script /usr/share/crossdev/include/site/linux           
checking for a BSD-compatible install... /usr/bin/install -c                    
checking whether build environment is sane... yes                               
checking for a thread-safe mkdir -p... /bin/mkdir -p                            
checking for gawk... gawk                                                       
checking whether make sets $(MAKE)... yes                                       
checking whether to enable maintainer-specific portions of Makefiles... no      
checking for x86_64-pc-linux-gnu-doxygen... no                                  
checking for doxygen... /usr/bin/doxygen                                        
checking for x86_64-pc-linux-gnu-perl... no                                     
checking for perl... /usr/bin/perl                                              
checking for x86_64-pc-linux-gnu-dot... no                                      
checking for dot... /usr/bin/dot                                                
checking for style of include used by make... GNU                               
checking for x86_64-pc-linux-gnu-gcc... x86_64-pc-linux-gnu-gcc                 
checking for C compiler default output file name... a.out                       
checking whether the C compiler works... yes                                    
checking whether we are cross compiling... no                                   
checking for suffix of executables...                                           
checking for suffix of object files... o                                        
checking whether we are using the GNU C compiler... yes                         
checking whether x86_64-pc-linux-gnu-gcc accepts -g... yes                      
checking for x86_64-pc-linux-gnu-gcc option to accept ISO C89... none needed    
checking dependency style of x86_64-pc-linux-gnu-gcc... none                    
checking for library containing strerror... none required                       
checking for x86_64-pc-linux-gnu-gcc... (cached) x86_64-pc-linux-gnu-gcc        
checking whether we are using the GNU C compiler... (cached) yes                
checking whether x86_64-pc-linux-gnu-gcc accepts -g... (cached) yes             
checking for x86_64-pc-linux-gnu-gcc option to accept ISO C89... (cached) none needed                                                                           
checking dependency style of x86_64-pc-linux-gnu-gcc... (cached) none           
checking for x86_64-pc-linux-gnu-g++... x86_64-pc-linux-gnu-g++                 
checking whether we are using the GNU C++ compiler... yes                       
checking whether x86_64-pc-linux-gnu-g++ accepts -g... yes                      
checking dependency style of x86_64-pc-linux-gnu-g++... none                    
checking how to run the C preprocessor... x86_64-pc-linux-gnu-gcc -E            
checking for grep that handles long lines and -e... /bin/grep                   
checking for egrep... /bin/grep -E                                              
checking for ANSI C header files... yes                                         
checking whether NLS is requested... yes                                        
checking for intltool >= 0.35.0... 0.41.0 found                                 
checking for intltool-update... /usr/bin/intltool-update                        
checking for intltool-merge... /usr/bin/intltool-merge                          
checking for intltool-extract... /usr/bin/intltool-extract                      
checking for xgettext... /usr/bin/xgettext                                      
checking for msgmerge... /usr/bin/msgmerge                                      
checking for msgfmt... /usr/bin/msgfmt                                          
checking for gmsgfmt... /usr/bin/gmsgfmt                                        
checking for perl... /usr/bin/perl                                              
checking for perl >= 5.8.1... 5.8.8                                             
checking for XML::Parser... ok                                                  
checking for strverscmp... yes                                                  
checking for access... yes                                                      
checking for fsync... yes                                                       
checking for fflush... yes                                                      
checking for some Win32 platform... no                                          
checking for native Win32... no                                                 
checking for x86_64-pc-linux-gnu-pkg-config... no                               
checking for pkg-config... /usr/bin/pkg-config                                  
checking pkg-config is at least version 0.16... yes                             
checking for GLIB - version >= 2.4.0... yes (version 2.24.1)                    
checking for pkg-config... /usr/bin/pkg-config                                  
checking for GTK+ - version >= 2.4.0... no                                      
*** Could not run GTK+ test program, checking why...                            
*** The test program failed to compile or link. See the file config.log for the 
*** exact error that occured. This usually means GTK+ is incorrectly installed. 
configure: error: GTK+ >= 2.4.0 not installed.                                  

!!! Please attach the following file when seeking support:
!!! /var/tmp/portage/media-gfx/geeqie-1.0-r1/work/geeqie-1.0/config.log
 * ERROR: media-gfx/geeqie-1.0-r1 failed:                              
 *   econf failed                                                      
 *                                                                     
 * Call stack:                                                         
 *     ebuild.sh, line  56:  Called src_configure                      
 *   environment, line 218:  Called econf '--disable-dependency-tracking' '--with-readmedir=/usr/share/doc/geeqie-1.0-r1' '--disable-lcms' '--disable-lirc' '--disable-exiv2'                                                                   
 *     ebuild.sh, line 557:  Called die                                         
 * The specific snippet of code:                                                
 *                      die "econf failed"                                      
 *                                                                              
 * If you need support, post the output of 'emerge --info =media-gfx/geeqie-1.0-r1',
 * the complete build log and the output of 'emerge -pqv =media-gfx/geeqie-1.0-r1'.
 * The complete build log is located at '/var/tmp/portage/media-gfx/geeqie-1.0-r1/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/media-gfx/geeqie-1.0-r1/temp/environment'.
 * S: '/var/tmp/portage/media-gfx/geeqie-1.0-r1/work/geeqie-1.0'

>>> Failed to emerge media-gfx/geeqie-1.0-r1, Log file:

>>>  '/var/tmp/portage/media-gfx/geeqie-1.0-r1/temp/build.log'

 * Messages for package media-gfx/geeqie-1.0-r1:

 * ERROR: media-gfx/geeqie-1.0-r1 failed:
 *   econf failed
 *
 * Call stack:
 *     ebuild.sh, line  56:  Called src_configure
 *   environment, line 218:  Called econf '--disable-dependency-tracking' '--with-readmedir=/usr/share/doc/geeqie-1.0-r1' '--disable-lcms' '--disable-lirc' '--disable-exiv2'
 *     ebuild.sh, line 557:  Called die
 * The specific snippet of code:
 *                      die "econf failed"
 *
 * If you need support, post the output of 'emerge --info =media-gfx/geeqie-1.0-r1',
 * the complete build log and the output of 'emerge -pqv =media-gfx/geeqie-1.0-r1'.
 * The complete build log is located at '/var/tmp/portage/media-gfx/geeqie-1.0-r1/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/media-gfx/geeqie-1.0-r1/temp/environment'.
 * S: '/var/tmp/portage/media-gfx/geeqie-1.0-r1/work/geeqie-1.0'


Reproducible: Always




it also missing a dependency on this




Comment 1


Rafał Mużyło





          2011-01-14 13:07:24 UTC
        

As the error says, check your config log.
(I can already tell you this will end as INVALID, though it might be fun to figure out why.)




Comment 2


Yuval Kashtan





          2011-01-14 13:28:48 UTC
        

Created attachment 259808 [details]
config.log

attached




Comment 3


Rafał Mużyło





          2011-01-14 13:40:00 UTC
        

As a gtk+:2 dep is present in the ebuild, next step is 
checking 'pkg-config gtk+-2.0 --modversion'.




Comment 4


Yuval Kashtan





          2011-01-15 08:44:15 UTC
        

There's an oddly reference to libpng12:
# pkg-config gtk+-2.0 --modversion
Package libpng12 was not found in the pkg-config search path.
Perhaps you should add the directory containing `libpng12.pc'
to the PKG_CONFIG_PATH environment variable
Package 'libpng12', required by 'cairo', not found

re-emerging libpng, did not help.





Comment 5


Yuval Kashtan





          2011-01-15 08:45:00 UTC
        

there's a libpng.pc and libpng14.pc files though




Comment 6


Rafał Mużyło





          2011-01-15 18:22:57 UTC
        

Well, that's cause it's cairo, that you should reemerge.
And honestly - libpng-1.4 upgrade is rather old news.




Comment 7


Yuval Kashtan





          2011-01-16 06:37:57 UTC
        

(In reply to comment #6)
> Well, that's cause it's cairo, that you should reemerge.
> And honestly - libpng-1.4 upgrade is rather old news.
> 

Indeed - reemerging cairo solved it.
I'm still unsure why this is not reflected in the dependencies..




Comment 8


Rafał Mużyło





          2011-01-16 13:27:57 UTC
        

There was a news item about libpng upgrade, that IIRC mentioned this problem.




Comment 9


Yuval Kashtan





          2011-01-16 13:36:06 UTC
        

I haven't seen the NEWS item,
but I guess this is not a bug..









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

