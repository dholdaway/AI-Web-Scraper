Title: 139444 – media-gfx/f-spot crash on open
URL: https://bugs.gentoo.org/show_bug.cgi?id=139444

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 139444
media-gfx/f-spot crash on open
Last modified: 2007-01-24 06:41:00 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 139444 
      - media-gfx/f-spot crash on open


Summary:
media-gfx/f-spot crash on open
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Joe McCann (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-07-06 09:27 UTC by Lee Davis





      Modified:
    
2007-01-24 06:41 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



edi15ta
pacho









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




mine emerge --info

              (emerge.info,8.11 KB,
                application/octet-stream)

            
2006-10-26 10:44 UTC,

            Mateusz Kotyrba




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Lee Davis





          2006-07-06 09:27:27 UTC
        

F-Spot encounters a fatal error immediately upon being started.

F-Spot's debug data:

An unhandled exception was thrown: /usr/lib/f-spot/libfspot.so.0

in (wrapper managed-to-native) FSpot.ImageView:f_image_view_new ()
in <0x00032> FSpot.ImageView:.ctor ()
in <0x0001c> FSpot.PhotoImageView:.ctor (IBrowsableCollection query)
in <0x00235> PhotoView:.ctor (FSpot.PhotoQuery query, .PhotoStore photo_store)
in <0x00ef9> MainWindow:.ctor (.Db db)
in <0x0002a> FSpot.Core:get_MainWindow ()
in <0x0000c> FSpot.Core:Organize ()
in <0x00530> FSpot.Driver:Main (System.String[] args)
.NET Version: 1.1.4322.2032

Assembly Version Information:

FlickrNet (1.1.0.0)
System.Web (1.0.5000.0)
gconf-sharp (2.8.0.0)
pango-sharp (2.8.0.0)
SemWeb (0.5.0.2)
glade-sharp (2.8.0.0)
gtkhtml-sharp (2.8.0.0)
System.Data (1.0.5000.0)
Mono.Data.SqliteClient (1.0.5000.0)
gdk-sharp (2.8.0.0)
Mono.Posix (1.0.5000.0)
gnome-vfs-sharp (2.8.0.0)
dbus-sharp (0.60.0.0)
System (1.0.5000.0)
atk-sharp (2.8.0.0)
gtk-sharp (2.8.0.0)
glib-sharp (2.8.0.0)
gnome-sharp (2.8.0.0)
f-spot (0.0.0.0)
mscorlib (1.0.5000.0)

Platform Information: Linux 2.6.16-suspend2-r8 i686 unknown GNU/Linux

Disribution Information:

[/etc/gentoo-release]
Gentoo Base System version 1.6.14

emerge --info

Portage 2.1-r1 (default-linux/x86/2005.1, gcc-3.3.6, glibc-2.3.6-r3, 2.6.16-suspend2-r8 i686)
=================================================================
System uname: 2.6.16-suspend2-r8 i686 Intel(R) Pentium(R) M processor 1.80GHz
Gentoo Base System version 1.6.14
dev-lang/python:     2.3.5, 2.4.3-r1
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r2
sys-devel/gcc-config: 1.3.13-r2
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium4"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/gconf /etc/revdep-rebuild /etc/splash /etc/terminfo"
CXXFLAGS="-O2 -march=pentium4"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X aac acl acpi alsa apache2 apm arts avi bash-completion berkdb bitmap-fonts bzip2 cdr clamav cli crypt cups dlloader dri dvd dvdr dvdread eds emboss encode fbcon foomaticdb fortran ftp gdbm gif gnome gpm gstreamer gtk gtk2 hal hardened imagemagick imap imlib ipv6 isdnlog jabber javascript jpeg ldap libg++ libwww mad maildir make mikmod mime mono motif mp3 mpeg msn ncurses nls ogg oggvorbis opengl oss pam pcmcia pcre pda pdflib perl php png pppd python qt3 qt4 quicktime readline reflection samba sdl session spell spl ssl tcpd tiff truetype truetype-fonts type1-fonts usb vorbis wifi xine xinerama xml2 xmms xorg xv xvid yahoo zlib elibc_glibc input_devices_keyboard input_devices_mouse kernel_linux userland_GNU video_cards_nv video_cards_nvidia video_cards_vesa"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGUAS, MAKEOPTS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY




Comment 1


Jakub Moc (RETIRED)






          2006-07-06 11:18:35 UTC
        

Not Gnome. Also, always include ebuild name and version in bug summary. Which f-spot version is this about? 




Comment 2


xiaoping Gao





          2006-07-10 10:55:02 UTC
        

I encounted this problem too, after upgrading mono to 1.1.13.8.
But I have fixed this by recompiling f-spot.
(I'm using f-spot-0.1.11)




Comment 3


Gilberto Ficara





          2006-09-09 13:34:13 UTC
        

I got that too. My fix procedure... 

# cd /usr/portage/media-gfx/f-spot
# cp f-spot-0.1.11.ebuild f-spot-0.2.0.ebuild
# ebuild f-spot-2.0.0 merge

(downloads and emerge f-spot 0.2.0!)


valchiria f-spot # emerge --info
Portage 2.1.1 (default-linux/x86/2006.0, gcc-3.4.4/vanilla, glibc-2.4-r3, 2.6.17-gentoo-r7 i686)
=================================================================
System uname: 2.6.17-gentoo-r7 i686 AMD Athlon(tm) 64 Processor 3200+
Gentoo Base System version 1.12.4
Last Sync: Sat, 09 Sep 2006 17:30:01 +0000
ccache version 2.4 [disabled]
app-admin/eselect-compiler: 2.0.0_rc2-r1
dev-lang/python:     2.4.3-r3
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     2.4-r2
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.60
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.17
sys-devel/gcc-config: 1.3.13-r3
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.17
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O3 -march=athlon-xp -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/eselect/compiler /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/terminfo"
CXXFLAGS="-O3 -march=athlon-xp -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LC_ALL="it_IT.UTF8"
LINGUAS="it en"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portage/local/layman/musicbrainz"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 3dnow 3dnowext X aac aalib acpi alsa apache2 apm arts avi bash-completion berkdb bitmap-fonts blender-game cdr cli cpudetection crypt cups dbus dlloader dri dvd dvdread eds elibc_glibc emboss encode esd ethereal exif foomaticdb fortran ftp gdbm gif gimp gnome gphoto2 gpm graphviz gstreamer gtk gtk2 hal imlib input_devices_aiptek input_devices_evdev input_devices_keyboard input_devices_mouse ipv6 isdnlog java javascript jpeg kde kernel_linux lcms libg++ libwww linguas_en linguas_it lm_sensors locale mad mikmod mime mmx motif moznocompose moznoirc moznomail moznoroaming mp3 mpeg ncurses nls nptl nptlonly offensive ogg oggvorbis openexr opengl oss pam pcre pdf pdflib perl png pppd python qt3 qt4 quicktime readline reflection sdl session soap spell spl sqlite sqlite3 sse sse2 ssl svg tcpd theora truetype truetype-fonts type1-fonts udev unicode usb userland_GNU video_cards_nv video_cards_nvidia vorbis wifi win32codecs xml xmlrpc xmms xorg xv xvid zlib"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LDFLAGS, PORTAGE_RSYNC_EXTRA_OPTS





Comment 4


Pacho Ramos






          2006-10-13 04:33:33 UTC
        

Please, try to re-emerge f-spot and check if this bug is still valid.

emerge f-spot

Thanks a lot




Comment 5


Mateusz Kotyrba





          2006-10-26 10:43:13 UTC
        

this bug still exists. I emerged f-spot-0.2.2 couple of times with different CFLAGS (even with -O2 -pipe). nothing helps. here is output of the crash: (f-spot window doesn't even appear)

=================================================================
Got a SIGSEGV while executing native code. This usually indicates
a fatal error in the mono runtime or one of the native libraries 
used by your application.
=================================================================

Stacktrace:

  at (wrapper managed-to-native) Gdk.PixbufLoader.gdk_pixbuf_loader_write (intptr,byte[],uintptr,intptr&) <0x00004>
  at (wrapper managed-to-native) Gdk.PixbufLoader.gdk_pixbuf_loader_write (intptr,byte[],uintptr,intptr&) <0xffffffff>
  at Gdk.PixbufLoader.Write (byte[],ulong) <0x0003f>
  at Gdk.PixbufLoader.Write (byte[],uint) <0x00017>
  at Gdk.PixbufLoader.LoadFromStream (System.IO.Stream) <0x00039>
  at Gdk.PixbufLoader.InitFromAssemblyResource (System.Reflection.Assembly,string) <0x00036>
  at Gdk.PixbufLoader..ctor (System.Reflection.Assembly,string) <0x00039>
  at Gdk.Pixbuf..ctor (System.Reflection.Assembly,string) <0x0004c>
  at PixbufUtils.LoadFromAssembly (string) <0x0002e>
  at PixbufUtils..cctor () <0x0000d>
  at (wrapper runtime-invoke) System.Object.runtime_invoke_void (object,intptr,intptr,intptr) <0xffffffff>
  at StockIcons.Initialize () <0xffffffff>
  at StockIcons.Initialize () <0x00960>
  at FSpot.Driver.Main (string[]) <0x00479>
  at (wrapper runtime-invoke) System.Object.runtime_invoke_void_string[] (object,intptr,intptr,intptr) <0xffffffff>

Native stacktrace:

        f-spot [0x8199857]
        f-spot [0x814f394]
        [0xb7f13440]

Debug info from gdb:

(no debugging symbols found)
Using host libthread_db library "/lib/libthread_db.so.1".
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
[Thread debugging using libthread_db enabled]
[New Thread -1211430688 (LWP 6796)]
[New Thread -1221289072 (LWP 6798)]
[New Thread -1215526000 (LWP 6797)]
0xb7f13410 in ?? ()
  3 Thread -1215526000 (LWP 6797)  0xb7f13410 in ?? ()
  2 Thread -1221289072 (LWP 6798)  0xb7f13410 in ?? ()
  1 Thread -1211430688 (LWP 6796)  0xb7f13410 in ?? ()

Thread 3 (Thread -1215526000 (LWP 6797)):
#0  0xb7f13410 in ?? ()
#1  0xb78c83b8 in ?? ()
#2  0x08237520 in ?? ()
#3  0x00000000 in ?? ()

Thread 2 (Thread -1221289072 (LWP 6798)):
#0  0xb7f13410 in ?? ()
#1  0xb73491b8 in ?? ()
#2  0x00000001 in ?? ()
#3  0x00000000 in ?? ()

Thread 1 (Thread -1211430688 (LWP 6796)):
#0  0xb7f13410 in ?? ()
#1  0xbf948850 in ?? ()
#2  0x00000000 in ?? ()
#0  0xb7f13410 in ?? ()







Comment 6


Mateusz Kotyrba





          2006-10-26 10:44:53 UTC
        

Created attachment 100545 [details]
mine emerge --info




Comment 7


Joe McCann (RETIRED)






          2007-01-24 06:41:00 UTC
        

I can't reproduce this and it doesn't seem like others can either. Please repoen if still an issue with the latest release 0.3.2 and cc dotnet@gentoo.org









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

