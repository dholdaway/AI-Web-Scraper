Title: 129134 – mozilla-firefox 1.5.0.1-r4 compiled with gcc 4.1 segmentation fault
URL: https://bugs.gentoo.org/show_bug.cgi?id=129134

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 129134
mozilla-firefox 1.5.0.1-r4 compiled with gcc 4.1 segmentation fault
Last modified: 2006-05-02 16:30:54 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 129134 
      - mozilla-firefox 1.5.0.1-r4 compiled with gcc 4.1 segmentation fault


Summary:
mozilla-firefox 1.5.0.1-r4 compiled with gcc 4.1 segmentation fault
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Mozilla Gentoo Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-04-07 07:28 UTC by Tiago Freire





      Modified:
    
2006-05-02 16:30 UTC
      (History)
    




          CC List:
        

3 
          users
          
            (show)
          



patrizio.bassi
vallesroc
zedek









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Tiago Freire





          2006-04-07 07:28:56 UTC
        

The main window appears for a brief moment, then disappears.
I have tried to remove the .mozilla directory from my user's config, and it asked me if I wanted to import the Opera data, but it crashed when the main window popped up too.
Running from the command line gives me an output like this:

----------------------------------
No running windows found

(Gecko:6891): Gdk-CRITICAL **: gdk_pixbuf_get_from_drawable: assertion `gdk_window_is_viewable (src)' failed

(Gecko:6891): GdkPixbuf-CRITICAL **: gdk_pixbuf_get_n_channels: assertion `pixbuf != NULL' failed

(Gecko:6891): GdkPixbuf-CRITICAL **: gdk_pixbuf_get_bits_per_sample: assertion `pixbuf != NULL' failed

(Gecko:6891): GdkPixbuf-CRITICAL **: gdk_pixbuf_get_width: assertion `pixbuf != NULL' failed

(Gecko:6891): GdkPixbuf-CRITICAL **: gdk_pixbuf_get_height: assertion `pixbuf != NULL' failed

(Gecko:6891): GdkPixbuf-CRITICAL **: gdk_pixbuf_get_rowstride: assertion `pixbuf != NULL' failed

(Gecko:6891): GLib-GObject-CRITICAL **: g_object_unref: assertion `G_IS_OBJECT (object)' failed

(Gecko:6891): Gdk-CRITICAL **: gdk_pixbuf_get_from_drawable: assertion `gdk_window_is_viewable (src)' failed

(Gecko:6891): GdkPixbuf-CRITICAL **: gdk_pixbuf_get_n_channels: assertion `pixbuf != NULL' failed

(Gecko:6891): GdkPixbuf-CRITICAL **: gdk_pixbuf_get_bits_per_sample: assertion `pixbuf != NULL' failed

(Gecko:6891): GdkPixbuf-CRITICAL **: gdk_pixbuf_get_width: assertion `pixbuf != NULL' failed

(Gecko:6891): GdkPixbuf-CRITICAL **: gdk_pixbuf_get_height: assertion `pixbuf != NULL' failed

(Gecko:6891): GdkPixbuf-CRITICAL **: gdk_pixbuf_get_rowstride: assertion `pixbuf != NULL' failed

(Gecko:6891): GLib-GObject-CRITICAL **: g_object_unref: assertion `G_IS_OBJECT (object)' failed

(Gecko:6891): Gdk-CRITICAL **: gdk_pixbuf_get_from_drawable: assertion `gdk_window_is_viewable (src)' failed

(Gecko:6891): GdkPixbuf-CRITICAL **: gdk_pixbuf_get_n_channels: assertion `pixbuf != NULL' failed

(Gecko:6891): GdkPixbuf-CRITICAL **: gdk_pixbuf_get_bits_per_sample: assertion `pixbuf != NULL' failed

(Gecko:6891): GdkPixbuf-CRITICAL **: gdk_pixbuf_get_width: assertion `pixbuf != NULL' failed

(Gecko:6891): GdkPixbuf-CRITICAL **: gdk_pixbuf_get_height: assertion `pixbuf != NULL' failed

(Gecko:6891): GdkPixbuf-CRITICAL **: gdk_pixbuf_get_rowstride: assertion `pixbuf != NULL' failed

(Gecko:6891): GLib-GObject-CRITICAL **: g_object_unref: assertion `G_IS_OBJECT (object)' failed

(Gecko:6891): Gdk-CRITICAL **: gdk_pixbuf_get_from_drawable: assertion `gdk_window_is_viewable (src)' failed

(Gecko:6891): GdkPixbuf-CRITICAL **: gdk_pixbuf_get_n_channels: assertion `pixbuf != NULL' failed

(Gecko:6891): GdkPixbuf-CRITICAL **: gdk_pixbuf_get_bits_per_sample: assertion `pixbuf != NULL' failed

(Gecko:6891): GdkPixbuf-CRITICAL **: gdk_pixbuf_get_width: assertion `pixbuf != NULL' failed

(Gecko:6891): GdkPixbuf-CRITICAL **: gdk_pixbuf_get_height: assertion `pixbuf != NULL' failed

(Gecko:6891): GdkPixbuf-CRITICAL **: gdk_pixbuf_get_rowstride: assertion `pixbuf != NULL' failed

(Gecko:6891): GLib-GObject-CRITICAL **: g_object_unref: assertion `G_IS_OBJECT (object)' failed

(Gecko:6891): Gdk-CRITICAL **: gdk_pixbuf_get_from_drawable: assertion `gdk_window_is_viewable (src)' failed

(Gecko:6891): GdkPixbuf-CRITICAL **: gdk_pixbuf_get_n_channels: assertion `pixbuf != NULL' failed

(Gecko:6891): GdkPixbuf-CRITICAL **: gdk_pixbuf_get_bits_per_sample: assertion `pixbuf != NULL' failed

(Gecko:6891): GdkPixbuf-CRITICAL **: gdk_pixbuf_get_width: assertion `pixbuf != NULL' failed

(Gecko:6891): GdkPixbuf-CRITICAL **: gdk_pixbuf_get_height: assertion `pixbuf != NULL' failed

(Gecko:6891): GdkPixbuf-CRITICAL **: gdk_pixbuf_get_rowstride: assertion `pixbuf != NULL' failed

(Gecko:6891): GLib-GObject-CRITICAL **: g_object_unref: assertion `G_IS_OBJECT (object)' failed
/usr/libexec/mozilla-launcher: line 117:  6891 Segmentation fault      "$mozbin" "$@"
firefox-bin exited with non-zero status (139)
----------------------------------

emerge info:

Portage 2.1_pre6-r7 (default-linux/x86/2005.1, gcc-4.1.0, glibc-2.3.6-r3, 2.6.15-gentoo-r1 i686)
=================================================================
System uname: 2.6.15-gentoo-r1 i686 AMD Athlon(tm) XP 2600+
Gentoo Base System version 1.6.14
ccache version 2.3 [disabled]
dev-lang/python:     2.3.5-r2, 2.4.2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=athlon-xp -O2 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/kde/3/share/config /usr/lib/mozilla/defaults/pref /usr/share/X11/xkb /usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/ /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/eselect/compiler /etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-march=athlon-xp -O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://gentoo.mirrors.tds.net/gentoo ftp://mirror.datapipe.net/gentoo ftp://ftp.ndlug.nd.edu/pub/gentoo/ ftp://gentoo.mirrors.tds.net/gentoo ftp://gentoo.netnitco.net/pub/mirrors/gentoo/source/"
LANG="C"
LINGUAS="en pt_BR"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/overlay"
SYNC="rsync://portage.cert-id.com.br/portage"
USE="x86 3dnow 3dnowext X a52 aac acl acpi alsa apache2 apm arts async automount avi berkdb bitmap-fonts bluetooth bootsplash browserplugin bzip2 cairo cdparanoia cdr cjk cli crypt cups curl curlwrappers dba dbase dbus dga dhcp divx4linux doc dri dv dvd dvdr dvdread eds emboss encode examples fbcon firebird firefox flac flash foomaticdb fortran gcj gd gdbm geoip gif gnome gpm gstreamer gtk gtk2 hal iconv imap imlib innodb interbase ipv6 isdnlog jabber java javascript joystick jpeg jpeg2k kde kdeenablefinal kdepim kdexdeltas kerberos ldap ldapsam libclamav libg++ libwww lm_sensors mad madwifi maildir mailwrapper mhash mikmod mmx mmxext motif mozilla mozsvg mp3 mpeg mplayer multislot multitarget mysql mysqli ncurses nls nptl nptlonly nsplugin odbc offensive ogg oggvorbis opengl oss pam pam_chroot pam_console pcre pda pdf pdflib perl php pic png posix postgres povray pppd prelink python qt quicktime rdesktop readline samba sasl sdk sdl session snmp soap sockets speex spell sqlite sse ssl subversion syslog tcpd theora threads tidy tiff tokenizer truetype truetype-fonts type1-fonts unicode utf8 vhosts vorbis wddx wifi win32 win32codecs xine xml xml2 xmms xorg xscreensaver xsl xv xvid yahoo zeroconf zlib elibc_glibc input_devices_aiptek input_devices_joystick input_devices_keyboard input_devices_mouse kernel_linux linguas_en linguas_pt_BR userland_GNU video_cards_ati video_cards_radeon video_cards_fglrx video_cards_fbdev video_cards_vesa"
Unset:  ASFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LC_ALL, LDFLAGS




Comment 1


Tiago Freire





          2006-04-07 07:36:02 UTC
        

Relevant USE flags:
USE="gnome ipv6 java mozdevelop -debug -xinerama -xprint"




Comment 2


Patrizio Bassi





          2006-04-07 08:39:38 UTC
        

same here, really unstable.

it starts, but if i go to google adsense site or ask for about:plugins it crashes with sg fault

Portage 2.1_pre7-r4 (default-linux/x86/2006.0, gcc-4.1.0, glibc-2.4-r1, 2.6.16.1 i686)
=================================================================
System uname: 2.6.16.1 i686 Pentium III (Katmai)
Gentoo Base System version 1.12.0_pre16
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
ccache version 2.4 [disabled]
dev-lang/python:     2.4.2-r1
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.91.0.6-r1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r3
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O3 -mtune=pentium3 -march=pentium3 -pipe -fomit-frame-pointer -mmmx -msse -ffast-math"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /etc/mail/dspam /opt/openjms/config /usr/kde/2/share/config /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/kde/3/share/config /usr/lib/mozilla/defaults/pref /usr/share/X11/xkb /usr/share/config /var/bind /var/qmail/control /var/run/dspam"
CONFIG_PROTECT_MASK="/etc/eselect/compiler /etc/gconf /etc/revdep-rebuild /etc/splash /etc/terminfo /etc/texmf/web2c /etc/env.d"
CXXFLAGS="-O3 -mtune=pentium3 -march=pentium3 -pipe -fomit-frame-pointer -mmmx -msse -ffast-math"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks fixpackages metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://www.die.unipd.it/pub/Linux/distributions/gentoo-sources/ http://gentoo.ngi.it"
LANG="it_IT.utf8"
LC_ALL="it_IT.utf8"
LDFLAGS="-Wl,-O1 -Wl,--sort-common -Wl,--enable-new-dtags -Wl,-Bdirect -Wl,--as-needed -Wl,-hashvals -Wl,-zdynsort"
LINGUAS="it"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage/myportage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="x86 X X509 Xaw3d a52 aac aalib accessibility acl acpi activefilter adns alsa apache2 apm arts asf audiofile avi bash-completion berkdb bidi bitmap-fonts bootsplash browserplugin bzip2 cairo caps cdda cddb cdio cdparanoia cdr cgi chroot clamav cli client codecs crypt css ctype cups curl dba dbus dga dhcp directfb djbfft dri edl eds emboss encode ethereal exif expat extraengine faac faad fam fastbuild fbcon ffmpeg fftw firefox flac flash foomaticdb force-cgi-redirect foreign-package fortran ftp gcj gd gdbm geometry ggi gif gimp gimpprint glibc-omitfp glut glx gnokii gnome gnutls gphoto2 gpm graphviz gs gstreamer gtk gtk2 gtkhtml guile h264 hal iconv idea idn imagemagick imap imlib innodb ipod irda irmc isdnlog jack java javascript jikes jit joystick jpeg jpeg2k junit justify kde kdeenablefinal kerberos kqemu lame lcd lcms ldap libcaca libclamav libg++ libgda libusb libwww lirc live lm_sensors lua lzo mad mailwrapper matroska md5sum mdb memlimit mhash mikmod mime mmx mmx2 mmxext mng mono motif mozcalendar mozdevelop mozilla mozsvg mozxmlterm mp3 mp4 mp4live mpeg mpeg2 mpeg4 mplayer msn msnextras musepack mysql mysqli mythtv nagios-dns nagios-ntp nagios-ping nagios-ssh ncurses neXt network ngui nls nntp no_wxgtk1 nobsh nopie nossp noxalan nptl nptlonly nsplugin oav odbc ogg openal opengl openssl operanom2 oss pam pcre pda pdf pdflib pdo pear perl php png pnp posix postgres ppds pppd pthreads python qemu-fast qhull qt quicktime quotas readline real rrdtool rtc ruby samba scanner sdl server session sftplogging sguil simplexml slang slp snortsam soap sockets socks5 softmmu softquota spamassassin speex spell spl sqlite3 sse ssl subject-rewrite svg svga tcltk tcpd tetex tga theora tiff tokenizer truetype truetype-fonts trusted type1-fonts udev unicode usb userlocales vidix vorbis win32codecs wma wmf wmv wsconvert wxwindows x264 xanim xchatdccserver xchattext xcomposite xine xinerama xml xml2 xmlrpc xmms xosd xpm xprint xsl xv xvid xvm xvmc zlib elibc_glibc input_devices_keyboard input_devices_mouse input_devices_evdev input_devices_joystick kernel_linux linguas_it userland_GNU video_cards_i128 video_cards_fbdev video_cards_vesa video_cards_vga video_cards_ati"
Unset:  ASFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, MAKEOPTS





Comment 3


Xavier Maillard





          2006-04-07 11:23:07 UTC
        

No problem here.

Portage 2.1_pre7-r4 (default-linux/x86/2006.0, gcc-4.1.0, glibc-2.4-r1, 2.6.16-suspend2-r1 i686)
=================================================================
System uname: 2.6.16-suspend2-r1 i686 Intel(R) Pentium(R) M processor 1.80GHz
Gentoo Base System version 1.6.14
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [enabled]
ccache version 2.4 [enabled]
dev-lang/python:     2.4.2-r1
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1, 2.16.1-r2
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r3
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium-m -pipe -mmmx -msse -msse2 -fomit-frame-pointer -ffast-math -ftracer -fprefetch-loop-arrays -fno-ident -falign-functions=64 -momit-leaf-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/env.d /etc/eselect/compiler /etc/gconf /etc/splash /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=pentium-m -pipe -mmmx -msse -msse2 -fomit-frame-pointer -ffast-math -ftracer -fprefetch-loop-arrays -fno-ident -falign-functions=64 -momit-leaf-frame-pointer -fvisibility-inlines-hidden -fno-enforce-eh-specs"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig candy ccache confcache distcc distlocks fixpackages metadata-transfer parallel-fetch prelink sandbox sfperms strict usersandbox"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LINGUAS="fr en"
MAKEOPTS="-j5"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 3dnow 3dnowext X X509 a52 aac acl acpi aio alsa apache2 applet artworkextra asf async audiofile avahi bash-completion bdf berkdb bitmap-fonts bookmarks bzip2 cairo cdb cdda cddb cdparanoia cdr crosscompile crypt ctype cups curl curlwrappers custom-cflags daap dba dbus dio dlloader dri dts dvd dvdr dvdread dvi eds emacs emoticon encode esd exif expat fam fbcon ffmpeg fftw firefox flac flash foomaticdb ftp gaim gd gdbm gif glep glut glx gmp gnutls gphoto2 gstreamer gstreamer010 gtk2 hal i8x0 iconv imagemagick imap imlib2 input_devices_evdev input_devices_keyboard input_devices_mouse ipod ipv6 isdnlog jabber javascript jpeg lcms lesstif libedit libnotify libwww linuxthreads-tls logrotate lua lzo mad matroska mbox memlimit mime mmap mmx mono moznocompose moznoirc moznomail moznoroaming mozsvg mp3 mpeg multislot nautilus ncurses network nfs nls nntp no-old-linux nptl nsplugin ofx ogg opengl oss pam pam_chroot pam_console pam_timestamp pcntl pcre perl pic plotutils png posix ppds pppd profile python quicktime readline real recode rhythmbox sasl savedconfig sdl session sharedmem simplexml skey slang soap sockets source speex spell sqlite sqlite3 sse sse2 ssl svg symlink sysvipc tcpd tetex theora threads tidy tiff tokenizer truetype unicode usb vcd vorbis win32codecs wmf xface xine xml xosd xpm xprint xscreensaver xsl xv xvid zlib elibc_glibc input_devices_synaptics kernel_linux linguas_fr linguas_en userland_GNU video_cards_i810 video_cards_vesa"
Unset:  ASFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS





Comment 4


Tiago Freire





          2006-04-07 12:00:26 UTC
        

It spill lots of complaints about gdk-pixbuf...
Could it be related to USE flags?
media-libs/gdk-pixbuf-0.22.0-r5  USE="X doc mmx"




Comment 5


Roc Vallès





          2006-04-13 03:45:34 UTC
        

"The main window appears for a brief moment, then disappears." happening here, too, but without the gdk_pixbuf warnings.

This is an athlon-xp and I've also tried getting the same version from my athlon gentoo box... it does the same, so the problem is definitivelly not in mozilla itself but somewhere else, no idea where :(

built gentoo on this athlon-xp the past 2 days using gcc 4.1.0 and
CFLAGS="-march=athlon-xp -O3 -pipe -ffast-math -ftree-vectorize -ftree-vectorizer-verbose=2 -fomit-frame-pointer"
CXXFLAGS="${CFLAGS} -fvisibility-inlines-hidden"





Comment 6


Roc Vallès





          2006-04-13 03:53:08 UTC
        

> This is an athlon-xp and I've also tried getting the same version from my
> athlon gentoo box... it does the same, so the problem is definitivelly not in
> mozilla itself but somewhere else, no idea where :(
Meant I packaged the athlon's firefox with quickpkg and installed it here, still having the same error.
Please note that all tests are made with a clean profile (rm -rf ~/.mozilla each try)




Comment 7


Patrizio Bassi





          2006-04-13 04:00:00 UTC
        

i suspect -fast-math flag is really bad.

i have another problem with a kdelibs that may be caused by this flag.

try not to use.




Comment 8


Tiago Freire





          2006-04-13 04:49:47 UTC
        

#7:
I have read a few tests about -ffast-math some time ago, (I think it was with gcc 3.4), and the tests revealed that it is not only faster, but usually has more accurate results. It breaks the IEEE spec though, so it does not honor the bit length for the floats, and some other things. Any hard evidence on this being the cause ofthe problem or is this just a hunch?
If there is a package known to be broken (behaves incorrectly) because of it, i'd like to know...




Comment 9


Patrizio Bassi





          2006-04-13 04:58:12 UTC
        

i knew it was a bit faster (ehi talking about really few advantages...1%..2%)
but on gcc 4.1 (at least this) seems to break packages.

i'm still compiling kdelibs ttrying to fix my problem, try to recompile firefox are report.

notice that it's a banned flag by gentoo team.




Comment 10


Patrizio Bassi





          2006-04-13 11:03:48 UTC
        

i debugged it and found that seg faults are due to vlc, totem and gnash plugins.

probably they are compiled with bad flags, i'll try lower one




Comment 11


Jory A. Pratt





          2006-04-13 15:17:07 UTC
        

(In reply to comment #5)
> built gentoo on this athlon-xp the past 2 days using gcc 4.1.0 and
> CFLAGS="-march=athlon-xp -O3 -pipe -ffast-math -ftree-vectorize
> -ftree-vectorizer-verbose=2 -fomit-frame-pointer"
> CXXFLAGS="${CFLAGS} -fvisibility-inlines-hidden"
> 

CFLAGS are unsupported sorry. Drop -fvisibility-inlines-hidden and 
-ffast-math and test I will upgrade to gcc-4.1 in a bit for testing.




Comment 12


Jory A. Pratt





          2006-04-13 15:22:42 UTC
        

actually I take that back, I have this entire system compiled with gcc-4.1 and glibc-2.4. Firefox is working fine here.




Comment 13


Roc Vallès





          2006-04-13 17:53:06 UTC
        

I'm rebuilding -e world without -ffast-math.

That way, we'll see for sure... after all, it's a good moment to do so since I just built this gentoo starting the day before yesterday.




Comment 14


Roc Vallès





          2006-04-14 00:29:04 UTC
        

(267 of 420)

Firefox still crashes; with the sort of luck I've had this last 2-3 days, if it gets fixed with this it'll probably be at package 420 of 420 ;)




Comment 15


Patrizio Bassi





          2006-04-14 01:12:58 UTC
        

reply to comment #14.

had a similar problem. i recompile firefox with safer flags and that still crashed du to other plugins.

i had gnash, vlc, totem and others still compiled with bad flags.

suggestion: 
cd /usr/lib/mozilla-firefox/
gdb firefox-bin
> run

a nice test is writing as url: "about:plugins"

it crashed here.
in debugger with "bt" i see the point it crashed and now i'm back with a stable mozilla.


another crash was due to nspr. firefox crashed in a system call.
fixed that too.





Comment 16


Patrizio Bassi





          2006-04-14 01:52:04 UTC
        

i have to say that it's still a bit unstable here on some websites.

Program received signal SIGPIPE, Broken pipe.
[Switching to Thread -1224012896 (LWP 20313)]
0xffffe410 in __kernel_vsyscall ()
(gdb) bt full
#0  0xffffe410 in __kernel_vsyscall ()
No symbol table info available.
#1  0xb7d37608 in send () from /lib/libpthread.so.0
No symbol table info available.
#2  0xb7da5f52 in PR_GetConnectStatus () from /usr/lib/nspr/libnspr4.so.6
No symbol table info available.
#3  0x0000002f in ?? ()
No symbol table info available.
#4  0xb1c459f8 in ?? ()





Comment 17


Patrizio Bassi





          2006-04-14 01:55:23 UTC
        

Tiago, about the gdk warnigns and similar...are you using the gtk-qt-engine?




Comment 18


Roc Vallès





          2006-04-14 02:02:57 UTC
        

For me it crashes on startup. Portage will soon finish to rebuild the whole universe without -ffast-math; then I'll know if it's fastmath (I hope so, less work!). If not, I'll emerge gdb and try to find out *where* it crashes.




Comment 19


Patrizio Bassi





          2006-04-14 02:35:20 UTC
        

1.5.0.2 is out. fixes some bugs, crashes and security bugs.

maybe it maybe fix some memory corruption i have here.




Comment 20


Roc Vallès





          2006-04-14 10:26:22 UTC
        

finished rebuilding the universe without ffast-math. Still crashes. Clean profile (I delete it before each test) and no plugins installed. Don't know what to try now :(




Comment 21


Patrizio Bassi





          2006-04-14 10:54:46 UTC
        

debug it as i suggested before.




Comment 22


Roc Vallès





          2006-04-14 11:52:34 UTC
        

Finally had some time to play with gdb:

(gdb) run
Starting program: /usr/lib/mozilla-firefox/firefox-bin 
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
[Thread debugging using libthread_db enabled]
[New Thread -1221359952 (LWP 11886)]
[New Thread -1222861920 (LWP 11953)]
[New Thread -1246794848 (LWP 11988)]
[New Thread -1256006752 (LWP 12000)]
[New Thread -1265054816 (LWP 12001)]
[New Thread -1273447520 (LWP 12002)]
[New Thread -1281840224 (LWP 12003)]
[New Thread -1294689376 (LWP 12007)]
[New Thread -1303082080 (LWP 12008)]
[Thread -1294689376 (LWP 12007) exited]
[New Thread -1294689376 (LWP 12009)]

Program received signal SIGSEGV, Segmentation fault.
[Switching to Thread -1221359952 (LWP 11886)]
0xb794a4c0 in pango_log2vis_get_embedding_levels () from /usr/lib/libpango-1.0.so.0

rvalles@tsunami ~ $ eix -c pango
[I] x11-libs/pango (1.10.3): Text rendering and layout library

rvalles@tsunami ~ $ MOZ_DISABLE_PANGO=1 firefox
-> this time it crashed; I confirmed it was thanks to zlib; it seems disabling -ffast-math wasn't enough; I just rebuilt zlib with -march=athlon-xp -O2 -pipe this time and worked fine.

I'll try building pango with safer flags later, too.

For now, with this little disable pango workaround and after rebuilding zlib, things seem to be working fine, so I finally have firefox here :)




Comment 23


Roc Vallès





          2006-04-14 12:06:32 UTC
        

Rebuilt pango with -march=athlon-xp -O3 -pipe

Now I don't need MOZ_DISABLE_PANGO=1 anymore, apparently. Hopefully this fixes it for everybody else; Now we know that offending flags for gcc-4.1, athlon-xp and pango are either -fomit-frame-pointer or -ftree-vectorize.




Comment 24


Patrizio Bassi





          2006-04-14 12:12:07 UTC
        

i don't have problems with frame pointer.




Comment 25


Patrizio Bassi





          2006-04-16 01:00:10 UTC
        

i found a really strange problem:

starting /usr/lib/mozilla-firefox/firefox-bin works with no crash

while using "firefox" script which uses /usr/libexec/mozilla-launcher
make firefox really unstable, it crashes on some google ssl pages like adsense pages.

any one knows why?




Comment 26


Patrizio Bassi





          2006-04-16 01:11:34 UTC
        

i suspect it's due to a launcher problem.

i opened a separate bug for that:
http://bugs.gentoo.org/show_bug.cgi?id=130128




Comment 27


Patrizio Bassi





          2006-04-16 01:12:29 UTC
        

still sleeping...

it's http://bugs.gentoo.org/show_bug.cgi?id=130138




Comment 28


Tiago Freire





          2006-04-17 04:31:24 UTC
        

Reply to Comment #17:
Yes, I am. Hmm, is there a known problem with that?




Comment 29


Tiago Freire





          2006-04-17 04:43:59 UTC
        

I re-emerged gnash and totem, and it barely runs. typing about:plugins still crashes it, though, every time. I googled a bit and it loaded a few pages, but I haven't done a thorough web-browsing testing for stability, though.




Comment 30


Tiago Freire





          2006-04-17 04:48:35 UTC
        

I re-emerged zlib too, and running /usr/lib/mozilla-firefox/firefox-bin instead of the mozilla-launcher script still crashes when I type about:plugins.




Comment 31


Patrizio Bassi





          2006-04-17 12:16:02 UTC
        

yes tiago, i opened a bug about that. 

http://bugs.gentoo.org/show_bug.cgi?id=114287




Comment 32


Jory A. Pratt





          2006-04-18 15:39:24 UTC
        

as it stands this is a plugin issue not related to the actually firefox build.




Comment 33


Patrizio Bassi





          2006-04-19 00:00:46 UTC
        

i do agree, so ihmo you can close this bug.




Comment 34


Tiago Freire





          2006-04-19 06:21:11 UTC
        

I think this bug is not yet closeable...
I have did a bit of testing:
rm -r ~/.gtk*. that takes car of old theme settings...
Reset my Gnome theme to the plain uncustomized 'Clearlooks' which comes with Gnome. That should be stable.
rm -r ~/.mozilla.
ran /usr/lib/mozilla-firefox/firefox-bin instead of mozilla-launcher.
Navigated to the Firefox website and tried to install the Fasterfox extension. After the download finishes, it crashes instantly. Tried several times, and with Flashgot too.
Right now I am emerging firefox 1.5.0.2 to see if it persists.




Comment 35


Tiago Freire





          2006-04-19 07:54:44 UTC
        

Removed ~/.mozilla again, tested with firefox 1.5.0.2, crash persists... 




Comment 36


Patrizio Bassi





          2006-04-19 08:03:33 UTC
        

tiago if you don't debug it, noone can help you.




Comment 37


Tiago Freire





          2006-04-19 12:05:18 UTC
        

Uhhrrm, I am not a developer, but I gave gdb a shot... Is that what you need?
If I am giving you a pineapple while you asked for blueberries, sorry. perhaps you can point me on how should I debug properly?

(after gdb loads LOTS of symbols)

0xffffe410 in __kernel_vsyscall ()
(gdb) backtrace
#0  0xffffe410 in __kernel_vsyscall ()
#1  0xb75aa8e6 in nanosleep () from /lib/libc.so.6
#2  0xb75aa70f in sleep () from /lib/libc.so.6
#3  0x08061e8e in nsCOMArray_base::AppendObject ()
#4  0x08063124 in nsCOMArray_base::AppendObject ()
#5  <signal handler called>
#6  0xb744ad60 in inflateBack () from /lib/libz.so.1
#7  0xb744759f in inflate () from /lib/libz.so.1
#8  0xb678d64e in ?? () from /usr/lib/mozilla-firefox/components/libjar50.so
#9  0xbf9733bc in ?? ()
#10 0x00000001 in ?? ()
#11 0x00000410 in ?? ()
#12 0x00000038 in ?? ()
#13 0xbf9723bd in ?? ()
#14 0xbf9713be in ?? ()
#15 0xbf9733bc in ?? ()
#16 0x00000000 in ?? ()





Comment 38


Jory A. Pratt





          2006-04-19 14:43:52 UTC
        

(In reply to comment #34)
> I think this bug is not yet closeable...
> I have did a bit of testing:
> rm -r ~/.gtk*. that takes car of old theme settings...
> Reset my Gnome theme to the plain uncustomized 'Clearlooks' which comes with
> Gnome. That should be stable.
> rm -r ~/.mozilla.
> ran /usr/lib/mozilla-firefox/firefox-bin instead of mozilla-launcher.
> Navigated to the Firefox website and tried to install the Fasterfox extension.
> After the download finishes, it crashes instantly. Tried several times, and
> with Flashgot too.
> Right now I am emerging firefox 1.5.0.2 to see if it persists.
> 
What are the chance you have java plugin installed? I along with thousand of other users have no issues.





Comment 39


Patrizio Bassi





          2006-04-20 01:27:16 UTC
        

what about rebuilding with really safe flags ( only -O2 and no LDFLAGS) these:
nss nspr zlib

try to build with debug use flag enabled so you can post a better trace.

try gcc 3.4 too, so you can check if the problem is due to gcc or firefox.

do many tries :)




Comment 40


Tiago Freire





          2006-04-20 06:14:20 UTC
        

OK, I have rebuilt the following packages:

[ebuild   R   ] sys-libs/zlib-1.2.3  USE="-build" 0 kB
[ebuild   R   ] dev-libs/nss-3.11-r1  0 kB
[ebuild   R   ] dev-libs/nspr-4.6.1-r2  USE="ipv6" 0 kB
[ebuild   R   ] www-client/mozilla-firefox-1.5.0.2  USE="debug gnome ipv6 java mozdevelop -xinerama -xprint" 0 kB

With more conservative settings:

Portage 2.1_pre7-r5 (default-linux/x86/2005.1, gcc-4.1.0, glibc-2.3.6-r3, 2.6.15-gentoo-r1 i686)
=================================================================
System uname: 2.6.15-gentoo-r1 i686 AMD Athlon(tm) XP 2600+
Gentoo Base System version 1.6.14
ccache version 2.3 [disabled]
dev-lang/python:     2.3.5-r2, 2.4.2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=athlon-xp -O2 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/kde/3/share/config /usr/lib/mozilla/defaults/pref /usr/share/X11/xkb /usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/ /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/eselect/compiler /etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-march=athlon-xp -O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="ftp://mirror.datapipe.net/gentoo http://mirror.datapipe.net/gentoo http://gentoo.seren.com/gentoo ftp://gentoo.chem.wisc.edu/gentoo/"
LANG="C"
LINGUAS="en pt_BR"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/overlay"
SYNC="rsync://portage.cert-id.com.br/portage"
USE="x86 3dnow 3dnowext X a52 aac acl acpi alsa apache2 apm arts async authdaemond automount avi berkdb bitmap-fonts bluetooth bootsplash browserplugin bzip2 cairo cdparanoia cdr cjk cli crypt cups curl curlwrappers dba dbase dbus dga dhcp divx4linux doc dri dv dvd dvdr dvdread eds emboss encode examples fbcon firebird firefox flac flash foomaticdb fortran gcj gd gdbm geoip gif gnome gpm gstreamer gtk gtk2 hal iconv imap imlib innodb interbase ipv6 isdnlog jabber java javascript joystick jpeg jpeg2k kde kdeenablefinal kdepim kdexdeltas kerberos ldap ldapsam libclamav libg++ libwww lm_sensors mad madwifi maildir mailwrapper matroska mhash mikmod mmx mmxext motif mozilla mozsvg mp3 mpeg mplayer multislot multitarget mysql mysqli ncurses nls nptl nptlonly nsplugin odbc offensive ogg oggvorbis opengl oss pam pam_chroot pam_console pcre pda pdf pdflib perl php pic png posix postgres povray pppd prelink python qt quicktime rdesktop readline samba sasl sdk sdl session snmp soap sockets speex spell sqlite sse ssl subp subversion svg syslog tcpd theora threads tidy tiff tokenizer truetype truetype-fonts type1-fonts unicode utf8 vhosts vorbis wddx wifi win32 win32codecs wmf xine xml xml2 xmms xorg xscreensaver xsl xv xvid yahoo zeroconf zlib elibc_glibc input_devices_aiptek input_devices_joystick input_devices_keyboard input_devices_mouse kernel_linux linguas_en linguas_pt_BR userland_GNU video_cards_ati video_cards_radeon video_cards_fglrx video_cards_fbdev video_cards_vesa"
Unset:  ASFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LC_ALL, LDFLAGS


And it worked without problems so far. Extensions have installed, AJAX ran without problems (it crashed previously), and flash media played correctly.




Comment 41


Tiago Freire





          2006-04-20 06:38:47 UTC
        

about:plugins crashes when I call mozilla through the wrapper, but displayed when I called the binary directly. the back trace made me suspicious about mplayerplug-in... I am recompiling it.

backtrace:

#0  0xffffe410 in __kernel_vsyscall ()
#1  0xb75838e6 in nanosleep () from /lib/libc.so.6
#2  0xb758370f in sleep () from /lib/libc.so.6
#3  0x08061e8e in nsCOMArray_base::AppendObject ()
#4  0x08063124 in nsCOMArray_base::AppendObject ()
#5  <signal handler called>
#6  0xb0f486c9 in strlcat () from /opt/netscape/plugins/mplayerplug-in-gmp.so
#7  0xb0f48715 in strlcat () from /opt/netscape/plugins/mplayerplug-in-gmp.so
#8  0xb0f2620d in _init () from /opt/netscape/plugins/mplayerplug-in-gmp.so
#9  0xb7f45ad1 in call_init () from /lib/ld-linux.so.2
#10 0xb7f45c19 in _dl_init_internal () from /lib/ld-linux.so.2
#11 0xb75e453e in _dl_open () from /lib/libc.so.6
#12 0xb7f45751 in _dl_catch_error () from /lib/ld-linux.so.2
#13 0xb75e3cb6 in _dl_open () from /lib/libc.so.6
#14 0xb7d13dae in dlopen () from /lib/libdl.so.2
#15 0xb7f45751 in _dl_catch_error () from /lib/ld-linux.so.2
#16 0xb7d141dd in dlvsym () from /lib/libdl.so.2
#17 0xb7d13d44 in dlopen () from /lib/libdl.so.2
#18 0xb7d691ab in PR_UnloadLibrary () from /usr/lib/nspr/libnspr4.so.6
#19 0xb1886fdd in nsGetInterface::nsGetInterface () from /usr/lib/mozilla-firefox/components/libgkplugin.so
#20 0xb186edf6 in nsVoidArray::AppendElement () from /usr/lib/mozilla-firefox/components/libgkplugin.so
#21 0xb186f0ff in nsVoidArray::AppendElement () from /usr/lib/mozilla-firefox/components/libgkplugin.so
#22 0xb186f314 in nsVoidArray::AppendElement () from /usr/lib/mozilla-firefox/components/libgkplugin.so
#23 0xb186f4b7 in nsVoidArray::AppendElement () from /usr/lib/mozilla-firefox/components/libgkplugin.so
#24 0xb18712ac in nsVoidArray::AppendElement () from /usr/lib/mozilla-firefox/components/libgkplugin.so
#25 0xb5dca11b in nsRegion::nsRegion () from /usr/lib/mozilla-firefox/components/libgklayout.so
#26 0xb5dc9f85 in nsRegion::nsRegion () from /usr/lib/mozilla-firefox/components/libgklayout.so
#27 0xb7e54119 in XPTC_InvokeByIndex () from /usr/lib/mozilla-firefox/libxpcom_core.so
#28 0xb723c58b in nsSupportsArray::AppendElement () from /usr/lib/mozilla-firefox/components/libxpconnect.so
#29 0xb72485a6 in nsCRT::free () from /usr/lib/mozilla-firefox/components/libxpconnect.so
#30 0xb7ed68f5 in js_Invoke () from /usr/lib/mozilla-firefox/libmozjs.so
#31 0xb7ec9584 in js_AllocStack () from /usr/lib/mozilla-firefox/libmozjs.so
#32 0xb7ed5daf in js_AllocStack () from /usr/lib/mozilla-firefox/libmozjs.so
#33 0xb7e8e7de in JS_EvaluateUCScriptForPrincipals () from /usr/lib/mozilla-firefox/libmozjs.so
#34 0xb5d97aa1 in nsRegion::nsRegion () from /usr/lib/mozilla-firefox/components/libgklayout.so
#35 0xb5c420f9 in nsCRT::strncmp () from /usr/lib/mozilla-firefox/components/libgklayout.so
#36 0xb5c42303 in nsCRT::strncmp () from /usr/lib/mozilla-firefox/components/libgklayout.so
#37 0xb5c43b12 in nsCRT::strncmp () from /usr/lib/mozilla-firefox/components/libgklayout.so
#38 0xb5c43d6a in nsCRT::strncmp () from /usr/lib/mozilla-firefox/components/libgklayout.so
#39 0xb5cd4c3e in nsSupportsArray::Count () from /usr/lib/mozilla-firefox/components/libgklayout.so
#40 0xb5cd4e66 in nsSupportsArray::Count () from /usr/lib/mozilla-firefox/components/libgklayout.so
#41 0xb5c21ed4 in nsSmallVoidArray::SafeElementAt () from /usr/lib/mozilla-firefox/components/libgklayout.so
#42 0xb5cfde1c in nsCheapInt32Set::Contains () from /usr/lib/mozilla-firefox/components/libgklayout.so
#43 0xb5cff5e3 in nsCheapInt32Set::Contains () from /usr/lib/mozilla-firefox/components/libgklayout.so
#44 0xb66d2289 in nsCreateInstanceByContractID::nsCreateInstanceByContractID () from /usr/lib/mozilla-firefox/components/libhtmlpars.so
#45 0xb66d1c7e in nsCreateInstanceByContractID::nsCreateInstanceByContractID () from /usr/lib/mozilla-firefox/components/libhtmlpars.so
#46 0xb66d1e88 in nsCreateInstanceByContractID::nsCreateInstanceByContractID () from /usr/lib/mozilla-firefox/components/libhtmlpars.so
#47 0xb66d3ad1 in nsCreateInstanceByContractID::nsCreateInstanceByContractID () from /usr/lib/mozilla-firefox/components/libhtmlpars.so
#48 0xb66d3e97 in nsCreateInstanceByContractID::nsCreateInstanceByContractID () from /usr/lib/mozilla-firefox/components/libhtmlpars.so
#49 0xb66d4475 in nsCreateInstanceByContractID::nsCreateInstanceByContractID () from /usr/lib/mozilla-firefox/components/libhtmlpars.so
#50 0xb66d4b91 in nsCreateInstanceByContractID::nsCreateInstanceByContractID () from /usr/lib/mozilla-firefox/components/libhtmlpars.so
#51 0xb66e4ac2 in nsCRT::strcmp () from /usr/lib/mozilla-firefox/components/libhtmlpars.so
#52 0xb66e83c3 in nsCRT::strcmp () from /usr/lib/mozilla-firefox/components/libhtmlpars.so
#53 0xb66e6876 in nsCRT::strcmp () from /usr/lib/mozilla-firefox/components/libhtmlpars.so
#54 0xb66e6902 in nsCRT::strcmp () from /usr/lib/mozilla-firefox/components/libhtmlpars.so
#55 0xb5acef0a in nsValueArray::AppendValue () from /usr/lib/mozilla-firefox/components/libgklayout.so
#56 0xb5acfa2b in nsValueArray::AppendValue () from /usr/lib/mozilla-firefox/components/libgklayout.so
#57 0xb5ad1669 in nsValueArray::AppendValue () from /usr/lib/mozilla-firefox/components/libgklayout.so
#58 0xb70fe25a in nsCRT::strdup () from /usr/lib/mozilla-firefox/components/libnecko.so
#59 0xb6773181 in nsCreateInstanceByCID::nsCreateInstanceByCID () from /usr/lib/mozilla-firefox/components/libjar50.so
#60 0xb70cffc0 in nsSupportsWeakReference::~nsSupportsWeakReference () from /usr/lib/mozilla-firefox/components/libnecko.so
#61 0xb70d0170 in nsSupportsWeakReference::~nsSupportsWeakReference () from /usr/lib/mozilla-firefox/components/libnecko.so
#62 0xb7e0cff9 in NS_AsyncCopy () from /usr/lib/mozilla-firefox/libxpcom_core.so
---Type <return> to continue, or q <return> to quit---
#63 0xb7e2b9db in PL_HandleEvent () from /usr/lib/mozilla-firefox/libxpcom_core.so
#64 0xb7e2bda6 in PL_ProcessPendingEvents () from /usr/lib/mozilla-firefox/libxpcom_core.so
#65 0xb7e2ec82 in nsAutoLockBase::nsAutoLockBase () from /usr/lib/mozilla-firefox/libxpcom_core.so
#66 0xb61a62a5 in nsCStringArray::operator[] () from /usr/lib/mozilla-firefox/components/libwidget_gtk2.so
#67 0xb788834d in g_io_channel_unix_get_fd () from /usr/lib/libglib-2.0.so.0
#68 0xb785b4ac in g_main_context_dispatch () from /usr/lib/libglib-2.0.so.0
#69 0xb785ea2f in g_main_context_check () from /usr/lib/libglib-2.0.so.0
#70 0xb785ede7 in g_main_loop_run () from /usr/lib/libglib-2.0.so.0
#71 0xb7b58873 in gtk_main () from /usr/lib/libgtk-x11-2.0.so.0
#72 0xb61a693a in nsCStringArray::operator[] () from /usr/lib/mozilla-firefox/components/libwidget_gtk2.so
#73 0xb6076cda in nsGetServiceByContractIDWithError::nsGetServiceByContractIDWithError () from /usr/lib/mozilla-firefox/components/libtoolkitcomps.so
#74 0x08050df1 in ?? ()
#75 0x08179280 in ?? ()
#76 0x080633d0 in _IO_stdin_used ()
#77 0x00000000 in ?? ()





Comment 42


Patrizio Bassi





          2006-04-20 06:40:53 UTC
        

yes last backtrace showed that zlib and nss libs where doing something weird.

mplayerplug-in is reeeeealy fragile.
it did something similar here too.

you can now close with a "works for me" ihmo :)




Comment 43


Tiago Freire





          2006-04-20 06:54:04 UTC
        

about:plugins OK now, I am unable to reproduce freeze after the mplayer+mplayerplug-in recompilation. I guess my last reason to keep this bug open crumbled away...




Comment 44


Patrizio Bassi





          2006-04-20 07:32:05 UTC
        

sorry, what's left?

you're unable cause it's fixed :P




Comment 45


Tiago Freire





          2006-04-20 08:09:28 UTC
        

yeah that's what I meant. I feared there could be more problems while others claimed it was a problem with the plugins crashing firefox. After a recompilation of its dependencies and another plugin solved it all.




Comment 46


Jory A. Pratt





          2006-05-02 16:30:54 UTC
        

As I have stated it is stable I am closing works for me.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

