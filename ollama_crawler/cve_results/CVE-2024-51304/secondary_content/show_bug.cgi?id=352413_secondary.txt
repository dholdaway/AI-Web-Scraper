Title: 352413 – sys-libs/talloc-2.0.5 fails to pass configure phase
URL: https://bugs.gentoo.org/show_bug.cgi?id=352413

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 352413
sys-libs/talloc-2.0.5 fails to pass configure phase
Last modified: 2011-03-04 06:36:23 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 352413 
      - sys-libs/talloc-2.0.5 fails to pass configure phase


Summary:
sys-libs/talloc-2.0.5 fails to pass configure phase
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Tomáš Chvátal (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2011-01-22 14:05 UTC by Samuli Suominen (RETIRED)





      Modified:
    
2011-03-04 06:36 UTC
      (History)
    




          CC List:
        

3 
          users
          
            (show)
          



arc
patrick
samba









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




config.log.bz2

              (config.log.bz2,20.63 KB,
                application/octet-stream)

            
2011-01-22 14:07 UTC,

            Samuli Suominen (RETIRED)




Details





build.log

              (sys-libs:talloc-2.0.5:20110122-140423.log,21.37 KB,
                text/plain)

            
2011-01-22 14:08 UTC,

            Samuli Suominen (RETIRED)




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Samuli Suominen (RETIRED)






          2011-01-22 14:05:45 UTC
        

[ .. ]

Checking for member st_mtim.tv_nsec in struct stat : ok  
Checking for member st_rdev in struct stat         : ok  
Checking for member st_rdev in struct stat         : ok  
Checking for member ss_family in struct sockaddr_storage : ok  
Checking for member __ss_family in struct sockaddr_storage : not found 
Checking for member sa_len in struct sockaddr              : not found 
Checking for member sin_len in struct sockaddr_in          : not found 
Checking for HAVE_UNIXSOCKET                               : ok  
Checking for HAVE_SECURE_MKSTEMP                           : /var/tmp/portage/sys-libs/talloc-2.0.5/work/talloc-2.0.5/lib/replace/wscript:341: error: the configuration failed (see '/var/tmp/portage/sys-libs/talloc-2.0.5/work/talloc-2.0.5/bin/config.log')
 * ERROR: sys-libs/talloc-2.0.5 failed:
 *   configure failed

[ .. ]

Portage 2.2.0_alpha19 (default/linux/amd64/10.0/developer, gcc-4.5.2, glibc-2.12.2-r0, 2.6.34 x86_64)
=================================================================
System uname: Linux-2.6.34-x86_64-Intel-R-_Core-TM-2_Quad_CPU_Q8200_@_2.33GHz-with-gentoo-2.0.1
Timestamp of tree: Unknown
app-shells/bash:     4.1_p9
dev-java/java-config: 2.1.11-r3
dev-lang/python:     2.7.1
dev-util/cmake:      2.8.3-r1
sys-apps/baselayout: 2.0.1-r1
sys-apps/openrc:     0.6.8
sys-apps/sandbox:    2.4
sys-devel/autoconf:  2.13, 2.68
sys-devel/automake:  1.4_p6-r1, 1.7.9-r2, 1.9.6-r3, 1.10.3, 1.11.1
sys-devel/binutils:  2.21
sys-devel/gcc:       4.5.2
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   2.4-r1
sys-devel/make:      3.82
virtual/os-headers:  2.6.36.1 (sys-kernel/linux-headers)
Repositories: gentoo local
ACCEPT_KEYWORDS="amd64 ~amd64"
ACCEPT_LICENSE="*"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=core2 -msse4.1 -O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/config"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c"
CXXFLAGS="-march=core2 -msse4.1 -O2 -pipe"
DISTDIR="/usr/portage/distfiles"
EMERGE_DEFAULT_OPTS="--with-bdeps=y"
FEATURES="assume-digests binpkg-logs collision-protect distlocks fixlafiles fixpackages multilib-strict news parallel-fetch preserve-libs protect-owned sandbox sfperms strict unknown-features-warn unmerge-logs unmerge-orphans userfetch userpriv usersandbox"
FFLAGS=""
GENTOO_MIRRORS="http://distfiles.gentoo.org"
LANG="en_US.UTF-8"
LDFLAGS="-Wl,--hash-style=gnu -Wl,-O1 -Wl,--as-needed"
LINGUAS="en"
MAKEOPTS="-j9"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/home/ssuominen/gentoo-x86"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"




Comment 1


Samuli Suominen (RETIRED)






          2011-01-22 14:07:30 UTC
        

Created attachment 260497 [details]
config.log.bz2

config.log in bzip2 format because of filesize, sorry




Comment 2


Samuli Suominen (RETIRED)






          2011-01-22 14:08:00 UTC
        

Created attachment 260498 [details]
build.log




Comment 3


Arc Riley





          2011-01-23 21:37:35 UTC
        

I hit this problem too.  It appears that talloc's waf is trying to run python-config as a Python script rather than a shell script.




Comment 4


Víctor Ostorga (RETIRED)






          2011-01-24 14:17:20 UTC
        

Tomáš did the bump, reassigning to him




Comment 5


Tomáš Chvátal (RETIRED)






          2011-01-24 14:38:25 UTC
        

I did it as basic excersise to test the waf-util eclass.
I have no darn clue tho why it failed.
Might be good idea to mask it if it fails for more lads, but sadly you are first person reporting it.
Also note that current ebuild does not manage python dependencies correctly.




Comment 6


Samuli Suominen (RETIRED)






          2011-02-08 17:36:51 UTC
        

I don't know what changed but it doesn't fail anymore. Lovely.

'configure' finished successfully (29.419s)
>>> Source configured.
>>> Compiling source in /var/tmp/portage/sys-libs/talloc-2.0.5/work/talloc-2.0.5 ...
[ .. ]
>>> Completed installing talloc-2.0.5 into /var/tmp/portage/sys-libs/talloc-2.0.5/image/

Is this still a problem for you Arc ?










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

