Title: 343271 – Default Apache won't load
URL: https://bugs.gentoo.org/show_bug.cgi?id=343271

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 343271
Default Apache won't load
Last modified: 2010-11-20 19:46:34 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 343271 
      - Default Apache won't load


Summary:
Default Apache won't load
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2010-10-29 16:43 UTC by Bobb Shields





      Modified:
    
2010-11-20 19:46 UTC
      (History)
    




          CC List:
        

3 
          users
          
            (show)
          



jmbsvicetto
pchrist
xmw









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Bobb Shields





          2010-10-29 16:43:31 UTC
        

I had two issues with the default config.  First it couldn't determine the server name, so it defaulted to localhost.  Putting an entry into /etc/hosts for the server's ip fixed this issue.

The second issue is shown by the following commands: Asterisk_Extra apache2 # /etc/init.d/apache2 restart
 * Stopping apache2 ...
httpd (no pid file) not running                                                                                                                        [ ok ]
 * Starting apache2 ...                                                                                                                                [ ok ]
Asterisk_Extra apache2 # apache2
no listening sockets available, shutting down
Unable to open logs

This was fixed by setting "Listen *:80" in vhosts.d/00_default_vhost.conf  (it didn't have the '*:'.)


Reproducible: Always




Comment 1


Michael Weber (RETIRED)






          2010-11-11 08:39:23 UTC
        

Which apache2 version do you use? (please comment the output of `emerge -pv www-servers/apache`)




Comment 2


Bobb Shields





          2010-11-11 14:51:15 UTC
        

(In reply to comment #1)
> Which apache2 version do you use? (please comment the output of `emerge -pv
> www-servers/apache`)
> 

Asterisk_Extra htdocs # emerge -pv apache

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild   R   ] www-servers/apache-2.2.16  USE="ssl -debug -doc -ldap (-selinux)                                                                              -static -suexec -threads" APACHE2_MODULES="actions alias auth_basic authn_alias                                                                              authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_gro                                                                             upfile authz_host authz_owner authz_user autoindex cache cgi cgid dav dav_fs dav                                                                             _lock deflate dir disk_cache env expires ext_filter file_cache filter headers in                                                                             clude info log_config logio mem_cache mime mime_magic negotiation rewrite setenv                                                                             if speling status unique_id userdir usertrack vhost_alias -asis -auth_digest -au                                                                             thn_dbd -cern_meta -charset_lite -dbd -dumpio -ident -imagemap -log_forensic -pr                                                                             oxy -proxy_ajp -proxy_balancer -proxy_connect -proxy_ftp -proxy_http -substitute                                                                              -version" APACHE2_MPMS="-event -itk -peruser -prefork -worker" 0 kB






Comment 3


Jorge Manuel B. S. Vicetto (RETIRED)






          2010-11-16 00:15:48 UTC
        

(In reply to comment #0)
> I had two issues with the default config.  First it couldn't determine the
> server name, so it defaulted to localhost.  Putting an entry into /etc/hosts
> for the server's ip fixed this issue.

This is a user configuration issue. It's up to the user to set the hostname for a box and configure the system accordingly.

> The second issue is shown by the following commands: Asterisk_Extra apache2 #
> /etc/init.d/apache2 restart
>  * Stopping apache2 ...
> httpd (no pid file) not running                                                
>                                                                        [ ok ]
>  * Starting apache2 ...                                                        
>                                                                        [ ok ]
> Asterisk_Extra apache2 # apache2
> no listening sockets available, shutting down
> Unable to open logs
> 
> This was fixed by setting "Listen *:80" in vhosts.d/00_default_vhost.conf  (it
> didn't have the '*:'.)

Did you enable DEFAULT_VHOST on APACHE2_OPTS - /etc/conf.d/apache2? This seems to be another user configuration issue.




Comment 4


Panagiotis Christopoulos (RETIRED)






          2010-11-20 19:46:34 UTC
        

I just tried it and it worked flawlessly for me. I resolve this bug as WORKSFORME. Please reopen if you still experience problems. Thank you for your report. 









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

