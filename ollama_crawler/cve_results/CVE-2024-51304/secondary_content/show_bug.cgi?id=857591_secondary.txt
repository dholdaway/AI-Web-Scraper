Title: 857591 – media-video/pipewire Unable to see any hardware devices, pulseaudio works fine however
URL: https://bugs.gentoo.org/show_bug.cgi?id=857591

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 857591
media-video/pipewire Unable to see any hardware devices, pulseaudio works fine however
Last modified: 2022-07-12 07:43:06 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 857591 
      - media-video/pipewire Unable to see any hardware devices, pulseaudio works fine however


Summary:
media-video/pipewire Unable to see any hardware devices, pulseaudio works fin...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Linux Gnome Desktop Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2022-07-11 11:19 UTC by ganercrafter2





      Modified:
    
2022-07-12 07:43 UTC
      (History)
    




          CC List:
        

3 
          users
          
            (show)
          



asturm
bitlord0xff
sam









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Emerge info

              (emerge-info.txt,7.33 KB,
                text/plain)

            
2022-07-11 11:19 UTC,

            ganercrafter2




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


ganercrafter2





          2022-07-11 11:19:38 UTC
        

Created attachment 791003 [details]
Emerge info

Recently my Pipewire has stopped being able to see any of my hardware input/output devices. Pulseaudio has no issue however. I have tried reinstalling all sound related packages, resetting configs, using 9999 versions, etc. etc. No matter what I try I find no progress. I make sure all pulseaudio/pipewire/pipewire-pulse/wireplumber instances are killed, yet still gentoo-pipewire-launcher does not exhibit the correct behavior (nor does launching the individual programs in order). Using just pulseaudio does work however.

note: aplay -L does infact yeild a list of my audio devices




Comment 1


Branko Grubic





          2022-07-11 15:45:42 UTC
        

Potentially related to BUG #856745




Comment 2


Sam James









          2022-07-12 01:01:15 UTC
        

Please share your flags on pipewire.




Comment 3


ganercrafter2





          2022-07-12 07:33:08 UTC
        

(In reply to Sam James from comment #2)
> Please share your flags on pipewire.

~ λ eix -e "media-video/pipewire"
[?] media-video/pipewire
     Available versions:  0.3.30-r2(0/0.3)^t 0.3.36(0/0.3)^t 0.3.49-r1(0/0.4)^t (~)0.3.50-r3(0/0.4)^t (~)0.3.51-r1(0/0.4)^t **9999(0/0.4)*l^t {X bluetooth doc echo-cancel extra gstreamer jack-client jack-sdk lv2 pipewire-alsa ssl system-service systemd test udev v4l zeroconf ABI_MIPS="n32 n64 o32" ABI_S390="32 64" ABI_X86="32 64 x32"}
     Installed versions:  0.3.54-r2(0/0.4)^t(12:31:05 AM 07/11/2022)(X bluetooth dbus ssl udev v4l -doc -echo-cancel -extra -gstreamer -jack-client -jack-sdk -lv2 -pipewire-alsa -sound-server -system-service -systemd -test -zeroconf ABI_MIPS="-n32 -n64 -o32" ABI_S390="-32 -64" ABI_X86="64 -32 -x32")
     Description:         Multimedia processing graphs

~ λ eix -e "media-sound/pulseaudio"
[?] media-sound/pulseaudio
     Available versions:  13.0-r1^t 15.0-r2^t 15.0-r3^t (~)16.0 {+X +alsa +alsa-plugin aptx +asyncns bluetooth +caps +daemon dbus doc elogind equalizer gconf +gdbm +glib gstreamer gtk ipv6 jack ldac libsamplerate lirc native-headset ofono-headset +orc oss qt5 realtime selinux sox ssl system-wide systemd tcpd test +udev +webrtc-aec zeroconf ABI_MIPS="n32 n64 o32" ABI_S390="32 64" ABI_X86="32 64 x32" CPU_FLAGS_ARM="neon"}
     Installed versions:  16.1(12:26:46 AM 07/11/2022)(bluetooth glib -daemon -jack -ofono-headset ABI_MIPS="-n32 -n64 -o32" ABI_S390="-32 -64" ABI_X86="32 64 -x32")
     Description:         A networked sound server with an advanced plugin system

~ λ eix -e "media-video/wireplumber"
[?] media-video/wireplumber
     Available versions:  0.4.9(0/0.4)^t (~)0.4.9-r1(0/0.4)^t (~)0.4.10-r1(0/0.4)^t (~)0.4.10-r3(0/0.4)^t **9999(0/0.4)*l^t {elogind system-service systemd test LUA_SINGLE_TARGET="lua5-3 lua5-4"}
     Installed versions:  0.4.11-r1(0/0.4)^t(12:31:38 AM 07/11/2022)(elogind -system-service -systemd -test LUA_SINGLE_TARGET="lua5-4 -lua5-3")
     Description:         Replacement for pipewire-media-session




Comment 4


Sam James









          2022-07-12 07:38:37 UTC
        

Please use emerge in future to share, as eix may not be right (it's not the package manager).

Anyway, please enable USE=sound-server.




Comment 5


ganercrafter2





          2022-07-12 07:41:46 UTC
        

(In reply to Sam James from comment #4)
> Please use emerge in future to share, as eix may not be right (it's not the
> package manager).
> 
> Anyway, please enable USE=sound-server.

oh my gosh this was the problem. I set USE=sound-server and disabled the pulseaudio daemon and that fixed it. Literally no clue why the requirements for this working changed spontaniously for me but I'm super happy it's fixed now lol




Comment 6


Sam James









          2022-07-12 07:43:06 UTC
        

(In reply to ganercrafter2 from comment #5)
> (In reply to Sam James from comment #4)
> > Please use emerge in future to share, as eix may not be right (it's not the
> > package manager).
> > 
> > Anyway, please enable USE=sound-server.
> 
> oh my gosh this was the problem. I set USE=sound-server and disabled the
> pulseaudio daemon and that fixed it. Literally no clue why the requirements
> for this working changed spontaniously for me but I'm super happy it's fixed
> now lol

No problem! Sorry, it's because we're rejigging things still, we're trying to get it settled ASAP. It's because things keep changing so much upstream and we're trying to make it easy to choose which one you want.

Glad you are sorted!









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

