Title: 159605 – sys-apps/rlocate 0.5.4 rlocate freezes machine w/ linux 2.6.19
URL: https://bugs.gentoo.org/show_bug.cgi?id=159605

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 159605
sys-apps/rlocate 0.5.4 rlocate freezes machine w/ linux 2.6.19
Last modified: 2007-10-06 13:41:32 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 159605 
      - sys-apps/rlocate 0.5.4 rlocate freezes machine w/ linux 2.6.19


Summary:
sys-apps/rlocate 0.5.4 rlocate freezes machine w/ linux 2.6.19
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

SpanKY








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-12-31 19:43 UTC by Christian Merkle





      Modified:
    
2007-10-06 13:41 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



gentoo









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Christian Merkle





          2006-12-31 19:43:53 UTC
        

I tried to replace slocate with rlocate to have always an up-to-date index. So i emerged rlocate-0.5.4, put rlocated in my default runlevel and added rlocate to /etc/modules.autoload.d/kernel-2.6. From that point, my machine freezes completly, one oder two times a day. The last entry in /var/log/messages is always:

rlocate: daemon timeout: inserting of paths disabled.

So i guess, rlocate is the reason for the crashes. Stopping/unloading rlocate solves the problem.


Portage 2.1.1-r2 (default-linux/x86/2006.0, gcc-4.1.1, glibc-2.4-r4, 2.6.19-gentoo-r2 i686)
=================================================================
System uname: 2.6.19-gentoo-r2 i686 Intel(R) Pentium(R) 4 CPU 2.53GHz
Gentoo Base System version 1.12.6
Last Sync: Sun, 31 Dec 2006 21:30:02 +0000
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [enabled]
app-admin/eselect-compiler: [Not Present]
dev-java/java-config: 1.3.7, 2.0.31
dev-lang/python:     2.4.3-r4
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.61
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.14
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.17-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=pentium4 -O2 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/splash /etc/terminfo /etc/texmf/web2c"
CXXFLAGS="-march=pentium4 -O2 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distcc distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="ftp://sunsite.informatik.rwth-aachen.de/pub/Linux/gentoo http://linux.rz.ruhr-uni-bochum.de/download/gentoo-mirror/ ftp://ftp.uni-erlangen.de/pub/mirrors/gentoo ftp://ftp.join.uni-muenster.de/pub/linux/distributions/gentoo "
LINGUAS="en de"
MAKEOPTS="-j4"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 7zip X aac acpi addbookmarks aiglx alias alsa alsa_cards_ali5451 alsa_cards_als4000 alsa_cards_atiixp alsa_cards_atiixp-modem alsa_cards_bt87x alsa_cards_ca0106 alsa_cards_cmipci alsa_cards_emu10k1x alsa_cards_ens1370 alsa_cards_ens1371 alsa_cards_es1938 alsa_cards_es1968 alsa_cards_fm801 alsa_cards_hda-intel alsa_cards_intel8x0 alsa_cards_intel8x0m alsa_cards_maestro3 alsa_cards_trident alsa_cards_usb-audio alsa_cards_via82xx alsa_cards_via82xx-modem alsa_cards_ymfpci alsa_pcm_plugins_adpcm alsa_pcm_plugins_alaw alsa_pcm_plugins_asym alsa_pcm_plugins_copy alsa_pcm_plugins_dmix alsa_pcm_plugins_dshare alsa_pcm_plugins_dsnoop alsa_pcm_plugins_empty alsa_pcm_plugins_extplug alsa_pcm_plugins_file alsa_pcm_plugins_hooks alsa_pcm_plugins_iec958 alsa_pcm_plugins_ioplug alsa_pcm_plugins_ladspa alsa_pcm_plugins_lfloat alsa_pcm_plugins_linear alsa_pcm_plugins_meter alsa_pcm_plugins_mulaw alsa_pcm_plugins_multi alsa_pcm_plugins_null alsa_pcm_plugins_plug alsa_pcm_plugins_rate alsa_pcm_plugins_route alsa_pcm_plugins_share alsa_pcm_plugins_shm alsa_pcm_plugins_softvol apm arts asf autoreplace bash-completion berkdb bitmap-fonts branding bzip2 cdr cdrom cli connectionstatus contactnotes cracklib crypt cups dbus dlloader dri dv dvb dvd dvdr dvdread eds elibc_glibc emboss encode exif fbsplash ffmpeg flac foomaticdb fortran gdbm ggi gif gimp gphoto2 gpm gs gstreamer gtk gtk2 hal highlight history iconv ieee1394 imagemagick imlib input_devices_keyboard input_devices_mouse insecure-savers ipod irc isdnlog java jbig jpeg kde kdeenablefinal kernel_linux kipi kqemu latex libg++ libwww linguas_de linguas_en lirc lirc_devices_mceusb2 live logrotate mad mikmod mjpeg mmx motif mozbranding mp3 mp4 mp4live mpeg mplayer ncurses nls nowlistening nptl nptlonly nsplugin ntfs ogg oggvorbis opengl pam pcre pdf perl plotutils png pppd python qt3 qt4 quicktime rar readline reflection reiser4 reiserfs ruby samba scanner sdl sensord session slang slp sms source spell spl sse sse2 ssl statistics stream svg tcltk tcpd tetex texteffect tiff truetype truetype-fonts type1-fonts udev unicode usb userland_GNU vcd video_cards_radeon video_cards_vesa vidix vorbis webpresence win32codecs wmf wmp wxwindows x264 xine xinerama xml xorg xosd xscreensaver xv xvid zlib"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY


 modinfo rlocate
filename:       /lib/modules/2.6.19-gentoo-r2/misc/rlocate.ko
author:         Rasto Levrinc
description:    rlocate
license:        GPL
vermagic:       2.6.19-gentoo-r2 preempt mod_unload PENTIUM4
depends:


desktop-p4 luemmel # cat /etc/fstab
/dev/hda2        /boot   ext2    defaults                1 2
/dev/hda5        none            swap            sw              0 0
/dev/hda6        /       ext3    defaults                0 1
none        /proc     proc    defaults          0 0
none        /dev/shm  tmpfs   defaults          0 0

#captive-ntfs
/dev/hda1               /mnt/windows_c      ntfs    rw,umask=000                0 0
/dev/hda7               /mnt/windows_d      ntfs    rw,umask=000                0 0

/dev/hdb1               /home/luemmel/Lager      reiserfs   defaults                0 1
/dev/hda8               /home/luemmel/Daten     reiserfs  defaults                0 1

/dev/hdd       /mnt/dvd        iso9660   ro,user,noauto                 0       0
/dev/sda1       /mnt/ms         auto    rw,user,noauto          0               0

#Linkstation
//192.168.0.102/shared   /home/luemmel/Videos   smbfs   username=xxxxx,password=xxxxx,uid=1000,gid=100,umask=000   0 0




Comment 1


Rudi Lippert





          2007-06-01 14:40:38 UTC
        

What is the status of this?
Does the problem also occur with rlocate-0.5.5 and a recent kernel?




Comment 2


SpanKY






          2007-10-06 13:41:32 UTC
        

0.5.6 in the tree, try that









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

