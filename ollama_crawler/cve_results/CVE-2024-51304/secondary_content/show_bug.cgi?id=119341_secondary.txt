Title: 119341 – windowmaker-0.91.0-r1 fails to compile with GCC4
URL: https://bugs.gentoo.org/show_bug.cgi?id=119341

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 119341
windowmaker-0.91.0-r1 fails to compile with GCC4
Last modified: 2006-01-17 15:34:33 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 119341 
      - windowmaker-0.91.0-r1 fails to compile with GCC4


Summary:
windowmaker-0.91.0-r1 fails to compile with GCC4
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] GCC Porting

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Luis Medinas (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:




117482



 

        Show dependency tree





 





      Reported:
    
2006-01-17 14:56 UTC by Avuton Olrich





      Modified:
    
2006-01-17 15:34 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Avuton Olrich





          2006-01-17 14:56:10 UTC
        

Hello,

windowmaker-0.91.0-r1 fails to compile, and I'm relatively sure that it's due to GCC4.

Here's the error:
 i686-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I. -I../src -I/usr/include -march=athlon-xp -ggdb -O2 -pipe -O0 -c x86_specific.c  -fPIC -DPIC -o .libs/x86_specific.o                                                                                                       
x86_specific.c: In function 'x86_mmx_TrueColor_32_to_16':
x86_specific.c:107: error: can't find a register in class 'GENERAL_REGS' while reloading 'asm'                                                                                                                                                                           
make[1]: *** [x86_specific.lo] Error 1
make[1]: Leaving directory `/var/tmp/portage/windowmaker-0.91.0-r1/work/WindowMaker-0.91.0/wrlib'                                                                                                                                                                        
make: *** [all-recursive] Error 1   


emerge info:
         Portage 2.0.53 (default-linux/x86/2005.0, gcc-4.0.2, glibc-2.3.6-r2, 2.6.14-rc5-mm1 i686)
=================================================================
System uname: 2.6.14-rc5-mm1 i686 AMD Athlon(tm) XP 2800+
Gentoo Base System version 1.6.13
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
ccache version 2.3 [disabled]
dev-lang/python:     2.3.5-r2, 2.4.2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=athlon-xp -ggdb -O2 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-march=athlon-xp -ggdb -O2 -pipe"
DISTDIR="/mnt/aux/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://gentoo.mirrors.easynews.com/linux/gentoo/"
LANG="en_US.UTF-8"
LC_ALL="en_US.UTF-8"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage /mnt/aux/portage-overlay"
SYNC="rsync://rsync.namerica.gentoo.org/gentoo-portage"
USE="x86 7zip aac acpi aim alsa ao apache2 async audiofile bash-completion bzip2 caps chroot crypt cups curl debug emacs emacs-w3 fam ffmpeg flac flood freetype gd gif gmp gstreamer idn imagemagick jack joystick jpeg lcms libsamplerate mad mhash mikmod mmap mmx mng mp3 mp4live mpeg mpeg2 mpeg4 mysql ncurses no-htdocs nocardbus nosendmail nptl nptlonly offensive ogg oscar pam pcre php png readline rtc sharedmem slang sndfile speex sse ssl szip theora tiff transcode udev unicode utf8 uudeview vidix vorbis webdav xvid zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LDFLAGS, LINGUAS




Comment 1


Marcelo Goes (RETIRED)






          2006-01-17 15:34:33 UTC
        

Have you tested =x11-wm/windowmaker-0.92.0-r2?
It works for me with gcc-4.1.

Please reopen if 0.92.0-r2 bombs out too.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

