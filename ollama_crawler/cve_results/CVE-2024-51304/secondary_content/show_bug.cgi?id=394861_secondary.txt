Title: 394861 – app-office/libreoffice - /bin/sh: line 1:  9442 Aborted (core dumped) LD_LIBRARY_PATH=... ../../unxlngx6.pro/bin/cppunittester ../../unxlngx6.pro/lib/libqa_sal_types.so
URL: https://bugs.gentoo.org/show_bug.cgi?id=394861

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 394861
app-office/libreoffice - /bin/sh: line 1:  9442 Aborted (core dumped) LD_LIBRARY_PATH=... ../../unxlngx6.pro/bin/cppunittester ../../unxlngx6.pro/lib/libqa_sal_types.so
Last modified: 2012-03-19 17:50:09 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 394861 
      - app-office/libreoffice - /bin/sh: line 1:  9442 Aborted (core dumped) LD_LIBRARY_PATH=... ../../unxlngx6.pro/bin/cppunittester ../../unxlngx6.pro/lib/libqa_sal_types.so


Summary:
app-office/libreoffice - /bin/sh: line 1:  9442 Aborted (core dumped) LD_LIBR...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Office Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2011-12-15 21:34 UTC by Thomas Capricelli





      Modified:
    
2012-03-19 17:50 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build log

              (build.log,195.29 KB,
                text/plain)

            
2011-12-15 21:34 UTC,

            Thomas Capricelli




Details





environment

              (environment,336.87 KB,
                text/plain)

            
2011-12-15 21:34 UTC,

            Thomas Capricelli




Details





emerge --info

              (emerge.info,14.64 KB,
                text/plain)

            
2011-12-15 21:35 UTC,

            Thomas Capricelli




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Thomas Capricelli





          2011-12-15 21:34:09 UTC
        

i have the problem both with 3.4.99.1-r1 (currently in tree) and 3.4.5 (now removed, but was there until recently).
If fails with 
-----------------------------------------------------------------------
        Oh dear - something failed during the build - sorry !
  For more help with debugging build errors, please see the section in:
            http://wiki.documentfoundation.org/Development

  internal build errors:

ERROR: error 65280 occurred while making /var/tmp/notmpfs/portage/app-office/libreoffice-3.4.99.1-r1/work/libreoffice-core-3.4.99.1/sal/qa/sal

 it seems that the error is inside 'sal', please re-run build
 inside this module to isolate the error and/or test your fix:
-----------------------------------------------------------------------



Reproducible: Always




!!! When you file a bug report, please include the following information:
GENTOO_VM=sun-jdk-1.6  CLASSPATH="" JAVA_HOME="/opt/sun-jdk-1.6.0.29"
JAVACFLAGS="-source 1.6 -target 1.6" COMPILER=""




Comment 1


Thomas Capricelli





          2011-12-15 21:34:31 UTC
        

Created attachment 295963 [details]
build log




Comment 2


Thomas Capricelli





          2011-12-15 21:34:59 UTC
        

Created attachment 295965 [details]
environment




Comment 3


Thomas Capricelli





          2011-12-15 21:35:24 UTC
        

Created attachment 295967 [details]
emerge --info




Comment 4


Thomas Capricelli





          2011-12-15 22:03:36 UTC
        

i dont think it's the same problem as #374243
the tmp dir is a regular one (/var/tmp/notmpfs/) and there's no "noexec" flag on the partition (/var)




Comment 5


Thomas Capricelli





          2011-12-15 22:08:16 UTC
        

I try to reproduce the problem by going 'by hand' in source tree. I think this is it :

berlioz sal # LD_LIBRARY_PATH=../../unxlngx6.pro/lib/  ../../unxlngx6.pro/bin/cppunittester
terminate called after throwing an instance of 'CppUnit::DynamicLibraryManagerException'
  what():  Symbol [cppunitTestPlugIn] not found in dynamic libary:
Annullato


What i dont understand, is why unittests are compiled/run ? I've read on gentoo forum that they aren't run for libreoffice anymore. I dont have any 'test' use flag or in portage FEATURES.




Comment 6


Tomáš Chvátal (RETIRED)






          2012-03-18 12:14:12 UTC
        

Sadly the tests are not friendly and the are build during the compilation due to historic reasons.
I hope that 3.6 release will have them separated for the test phase, but so far we have to live with them.

Could you please retest with 3.5.1.2?




Comment 7


Thomas Capricelli





          2012-03-19 17:50:09 UTC
        


I managed to emerge 3.5.1.2 today. Thought some use flags changed, i'm not sure how relevant it is.

[ebuild     U ] app-office/libreoffice-3.5.1.2 [3.5.0.1] USE="branding cups%* dbus graphite gstreamer java opengl svg vba xmlsec (-aqua) -ysql -nsplugin -odk -pdfimport -postgres -test -webdav (-gtk3%)" 

I'll re-open if i ever hit the bug again. Thanks for caring.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

