Title: 167838 – emerge =dev-libs/libxslt-1.1.* fails
URL: https://bugs.gentoo.org/show_bug.cgi?id=167838

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 167838
emerge =dev-libs/libxslt-1.1.* fails
Last modified: 2007-02-21 14:10:30 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 167838 
      - emerge =dev-libs/libxslt-1.1.* fails


Summary:
emerge =dev-libs/libxslt-1.1.* fails
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Library

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       major
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-02-21 06:50 UTC by Doug Whitesell





      Modified:
    
2007-02-21 14:10 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Doug Whitesell





          2007-02-21 06:50:46 UTC
        

Whilst trying to emerge KDE, I need to build libxslt-1.1.20. This problem exhibits itself no matter what version of libxslt I try to build.

--build log--
...
 x86_64-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I. -I.. -I.. -I../libxslt -I/usr/include/libxml2 -march=athlon64 -O0 -pipe -Wall -MT transform.lo -MD -MP -MF
 .deps/transform.Tpo -c transform.c -o transform.o >/dev/null 2>&1
/bin/sh ../libtool --tag=CC --mode=link x86_64-pc-linux-gnu-gcc  -march=athlon64 -O0 -pipe -Wall   -o libxslt.la -rpath /usr/lib64 -version-info 2:20:1 att
rvt.lo xslt.lo xsltutils.lo pattern.lo templates.lo variables.lo keys.lo numbers.lo extensions.lo extra.lo functions.lo namespaces.lo imports.lo attributes
.lo documents.lo preproc.lo transform.lo security.lo -L/usr/lib32 -lxml2 -lz -lm -lm
x86_64-pc-linux-gnu-gcc -shared  .libs/attrvt.o .libs/xslt.o .libs/xsltutils.o .libs/pattern.o .libs/templates.o .libs/variables.o .libs/keys.o .libs/numbe
rs.o .libs/extensions.o .libs/extra.o .libs/functions.o .libs/namespaces.o .libs/imports.o .libs/attributes.o .libs/documents.o .libs/preproc.o .libs/trans
form.o .libs/security.o  -L/usr/lib32 /usr/lib32/libxml2.so -lz -lm  -march=athlon64 -Wl,-soname -Wl,libxslt.so.1 -o .libs/libxslt.so.1.1.20
/usr/lib32/libxml2.so: could not read symbols: File in wrong format
collect2: ld returned 1 exit status
make[2]: *** [libxslt.la] Error 1
make[2]: Leaving directory `/var/tmp/portage/dev-libs/libxslt-1.1.20/work/libxslt-1.1.20/libxslt'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/dev-libs/libxslt-1.1.20/work/libxslt-1.1.20'
make: *** [all] Error 2

!!! ERROR: dev-libs/libxslt-1.1.20 failed.
Call stack:
  ebuild.sh, line 1614:   Called dyn_compile
  ebuild.sh, line 971:   Called qa_call 'src_compile'
  environment, line 3509:   Called src_compile
  libxslt-1.1.20.ebuild, line 58:   Called die

!!! Compilation failed
!!! If you need support, post the topmost build error, and the call stack if relevant.
!!! A complete build log is located at '/var/tmp/portage/dev-libs/libxslt-1.1.20/temp/build.log'.
--end build log--

Here's some emerge --info:
Portage 2.1.2-r10 (default-linux/amd64/2006.1, gcc-4.1.1, glibc-2.4-r3, 2.6.17-gentoo-r7 x86_64)
=================================================================
System uname: 2.6.17-gentoo-r7 x86_64 AMD Athlon(tm) 64 X2 Dual Core Processor 4200+
Gentoo Base System version 1.12.1
Timestamp of tree: Tue, 20 Feb 2007 01:47:01 +0000
dev-lang/python:     2.4.3-r1
dev-python/pycrypto: 2.0.1-r5
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.61
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.17
sys-devel/gcc-config: 1.3.13-r3
sys-devel/libtool:   1.5.23b
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="amd64 ~x86"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=athlon64 -O0 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/X11/xkb"
CONFIG_PROTECT_MASK="/etc/env.d /etc/gconf /etc/revdep-rebuild /etc/terminfo"
CXXFLAGS="-march=athlon64 -O0 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer parallel-fetch sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X alsa amd64 arts avi berkdb bitmap-fonts cairo cdda cddb cdr cli cracklib crypt cups dbus dlloader doc dri dvd dvdr dvdread eds emboss encode esd fam firefox fortran gdbm gif gpm gstreamer gtk gtk2 hal iconv ipv6 isdnlog jpeg kde ldap libg++ mad midi mikmod mp3 mpeg ncurses nls nptl nptlonly ogg opengl oss pam pcre pdflib perl png ppds pppd python qt3 qt4 quicktime readline reflection sdl session spell spl ssl tcpd tetex theora threads truetype truetype-fonts type1-fonts udev unicode vim vim-pager vim-with-x vorbis xinerama xml xorg xv xvid zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" ELIBC="glibc" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" USERLAND="GNU" VIDEO_CARDS="apm ark ati chips cirrus cyrix dummy fbdev glint i128 i810 mga neomagic nv rendition s3 s3virge savage siliconmotion sis sisusb tdfx tga trident tseng v4l vesa vga via vmware voodoo"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY
--end emerge --info--

As always, any assistance would be greatly appreciated. :)

Reproducible: Always

Steps to Reproduce:
1. emerge libxslt (as part of emerge kde)

Actual Results:  
See description.

Expected Results:  
See description.




Comment 1


Doug Whitesell





          2007-02-21 06:52:27 UTC
        

Apologies - the problem existed between the chair and keyboard (~x86 doesn't make sense on an AMD64...real good Doug)




Comment 2


Doug Whitesell





          2007-02-21 06:52:53 UTC
        

Corrected /etc/make.conf to proper ~arch for the system, problem still exists.




Comment 3


Jakub Moc (RETIRED)






          2007-02-21 08:23:22 UTC
        

Eh... If the problem is still the same and you have had x86 in your ACCEPT_KEYWORDS, chances are your system is pretty messed up (pretty much looks like that, -L/usr/lib32 doesn't make sense here).





Comment 4


Doug Whitesell





          2007-02-21 14:10:30 UTC
        

It falls under the "eh" category as to how ~x86 would up in ACCEPT_KEYWORDS on an amd64... *puzzled expression*

Would you advocate starting from scratch, or emerge -uD world?

Thanks.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

