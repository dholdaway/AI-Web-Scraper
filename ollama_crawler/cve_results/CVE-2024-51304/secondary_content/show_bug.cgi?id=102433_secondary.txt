Title: 102433 – dev-perl/Statistics-Descriptive has a bad digest.
URL: https://bugs.gentoo.org/show_bug.cgi?id=102433

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 102433
dev-perl/Statistics-Descriptive has a bad digest.
Last modified: 2005-08-27 05:09:48 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 102433 
      - dev-perl/Statistics-Descriptive has a bad digest.


Summary:
dev-perl/Statistics-Descriptive has a bad digest.
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Mirrors




Classification:

Unclassified




Component:

Server Problem

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Mirror Admins








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-08-13 15:35 UTC by Michael Labhard





      Modified:
    
2005-08-27 05:09 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



jakub









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Michael Labhard





          2005-08-13 15:35:34 UTC
        

>>> emerge (2 of 12) dev-perl/Statistics-Descriptive-2.6 to /
>>> Downloading
http://128.213.5.34/gentoo/distfiles/Statistics-Descriptive-2.6.tar.gz
--15:31:50--  http://128.213.5.34/gentoo/distfiles/Statistics-Descriptive-2.6.tar.gz
           => `/opt/no_archive/portage/distfiles/Statistics-Descriptive-2.6.tar.gz'
Connecting to 128.213.5.34:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 11,252 [application/x-tar]

100%[=====================================>] 11,252        60.97K/s

15:31:50 (60.86 KB/s) -
`/opt/no_archive/portage/distfiles/Statistics-Descriptive-2.6.tar.gz' saved
[11,252/11,252]


!!! Digest verification Failed:
!!!   
/usr/portage/dev-perl/Statistics-Descriptive/Statistics-Descriptive-2.6.ebuild
!!! Reason: Filesize does not match recorded size

>>> Please ensure you have sync'd properly. Please try 'emerge sync' and
>>> optionally examine the file(s) for corruption. A sync will fix most cases.



Reproducible: Always
Steps to Reproduce:
1.
2.
3.




Comment 1


Michael Labhard





          2005-08-13 15:48:17 UTC
        

Portage 2.0.51.22-r2 (default-linux/amd64/2004.3, gcc-3.4.3, glibc-2.3.5-r0,
2.6.12-gentoo-r4 x86_64)
=================================================================
System uname: 2.6.12-gentoo-r4 x86_64 AMD Opteron(tm) Processor 246
Gentoo Base System version 1.6.13
ccache version 2.3 [enabled]
dev-lang/python:     2.3.5
sys-apps/sandbox:    1.2.11
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.5
sys-devel/binutils:  2.15.92.0.2-r10
sys-devel/libtool:   1.5.18-r1
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -fPIC"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /opt/resin/conf /usr//lib/mozilla/defaults/pref
/usr/kde/2/share/config /usr/kde/3.3/env /usr/kde/3.3/share/config
/usr/kde/3.3/shutdown /usr/kde/3.4/env /usr/kde/3.4/share/config
/usr/kde/3.4/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/share/config
/usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/
/usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/
/usr/share/texmf/xdvi/ /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -fPIC"
DISTDIR="/opt/no_archive/portage/distfiles"
FEATURES="autoconfig buildpkg ccache distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://128.213.5.34/gentoo/"
MAKEOPTS="-j2"
PKGDIR="/opt/no_archive/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="amd64 X alsa arts avi berkdb bitmap-fonts cdr crypt cups curl doc eds
encode esd fam flac foomaticdb fortran gd gdbm gif gnome gphoto2 gpm gstreamer
gtk gtk2 guile imagemagick imlib ipv6 java jpeg junit kde ldap libg++ libwww
log4cpp lzw lzw-tiff mad mikmod motif mozilla mp3 mpeg multilib mysql nas
ncurses nls ogg opengl pam pdflib perl plotutils png postgres python qt
quicktime readline ruby sdl slang spell ssl svg tcltk tcpd tetex tiff truetype
truetype-fonts type1-fonts usb userlocales vorbis wxwindows xine xinerama xml2
xmms xpm xv zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS

golia




Comment 2


Jakub Moc (RETIRED)






          2005-08-13 17:31:53 UTC
        

`/usr/portage/distfiles/Statistics-Descriptive-2.6.tar.gz' saved [11252]

>>> Statistics-Descriptive-2.6.tar.gz size ;-)
>>> Statistics-Descriptive-2.6.tar.gz MD5 ;-)
>>> md5 files   ;-) Statistics-Descriptive-2.6.ebuild
>>> md5 files   ;-) files/digest-Statistics-Descriptive-2.6
>>> md5 src_uri ;-) Statistics-Descriptive-2.6.tar.gz

So, as stated in Bug 102437 and Bug 102435, you are probably using some broken
mirror.




Comment 3


Michael Cummings (RETIRED)






          2005-08-13 17:38:59 UTC
        

digest corrected




Comment 4


Michael Labhard





          2005-08-13 19:40:26 UTC
        

Mirrors were obtained with "mirrorselect".  Distfiles removed and new ones
downloaded.  Same bug.  If the mirror is broken then mirrorselect shouldn't
assign it.  Is that a bug in mirrorselect now?

oliath ~ # mirrorselect -a -D s4
Downloading a list of mirrors...
Downloading 100k segments from 158 server(s)
goliath ~ # mirrorselect -a -D -s4
Downloading a list of mirrors...
Downloading 100k segments from 158 server(s)
Sorting by speed                                                                /
Found 4 Mirrors: http://gentoo.llarian.net/ ftp://gentoo.llarian.net/pub/gentoo
http://gentoo.ccccom.com http://gentoo.osuosl.org/
Updating /etc/make.conf
Mirrors set successfully
goliath ~ # cat /etc/make.conf
# These settings were set by the catalyst build script that automatically built
this stage
#CFLAGS="-O2 -fPIC -DDEBUG -D_DEBUG"
CFLAGS="-O2 -fPIC"
CHOST="x86_64-pc-linux-gnu"
#USE="X alsa postgres nas tcltk gtk plotutils qt xinerama libg++ mozilla cdr kde
doc readline spell usb log4cpp truetype wxwindows debug"
USE="X alsa postgres nas tcltk gtk plotutils qt xinerama libg++ mozilla cdr kde
doc readline spell usb log4cpp truetype wxwindows java svg multilib -hardened"
CXXFLAGS="${CFLAGS}"

#ACCEPT_KEYWORDS="~arch"

# PORTAGE_TMPDIR is the location portage will use for compilations and
#PORTAGE_TMPDIR=/var/tmp
#PORTDIR=/usr/portage
DISTDIR=/opt/no_archive/portage/distfiles
PKGDIR=/opt/no_archive/portage/packages
PORT_LOGDIR=/opt/no_archive/portage/log
PORTDIR_OVERLAY=/usr/local/portage
#PORTAGE_BINHOST="ftp://login:pass@grp.mirror.site/pub/grp/i686/athlon-xp/"

#FETCHCOMMAND="/usr/bin/wget -t 5 --passive-ftp \${URI} -P \${DISTDIR}"
#RESUMECOMMAND="/usr/bin/wget -c -t 5 --passive-ftp \${URI} -P \${DISTDIR}"
GENTOO_MIRRORS="http://gentoo.llarian.net/ ftp://gentoo.llarian.net/pub/gentoo
http://gentoo.ccccom.com http://gentoo.osuosl.org/"

#SYNC="rsync://rsync.gentoo.org/gentoo-portage"
RSYNC_RETRIES="3"
RSYNC_TIMEOUT=180

MAKEOPTS="-j2"
AUTOCLEAN="yes"
FEATURES="buildpkg ccache"
#CCACHE_SIZE="2G"
#RSYNC_EXCLUDEFROM=/etc/portage/rsync_excludes

goliath ~ # emerge -upD beancounter

These are the packages that I would merge, in order:

Calculating dependencies ...done!
[ebuild  N    ] dev-perl/Statistics-Descriptive-2.6
[ebuild  N    ] dev-perl/Finance-YahooQuote-0.20
[ebuild  N    ] app-misc/beancounter-0.8.1
goliath ~ # emerge -uD beancounter
Calculating dependencies ...done!
>>> emerge (1 of 3) dev-perl/Statistics-Descriptive-2.6 to /

!!! Digest verification Failed:
!!!   
/usr/portage/dev-perl/Statistics-Descriptive/Statistics-Descriptive-2.6.ebuild
!!! Reason: Filesize does not match recorded size

>>> Please ensure you have sync'd properly. Please try 'emerge sync' and
>>> optionally examine the file(s) for corruption. A sync will fix most cases.

goliath ~ # rm /opt/no_archive/portage/distfiles/Statistics-Descriptive-2.6.tar.gz
goliath ~ # rm /opt/no_archive/portage/distfiles/finance-yahooquote_0.20.tar.gz
goliath ~ # rm /opt/no_archive/portage/distfiles/beancounter_0.8.1.tar.gz
goliath ~ # emerge -uD beancounter
Calculating dependencies ...done!
>>> emerge (1 of 3) dev-perl/Statistics-Descriptive-2.6 to /
>>> Downloading
http://gentoo.llarian.net/distfiles/Statistics-Descriptive-2.6.tar.gz
--19:33:51--  http://gentoo.llarian.net/distfiles/Statistics-Descriptive-2.6.tar.gz
           => `/opt/no_archive/portage/distfiles/Statistics-Descriptive-2.6.tar.gz'
Resolving gentoo.llarian.net... 209.221.142.124, 2001:470:1f01:164::4
Connecting to gentoo.llarian.net[209.221.142.124]:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 11,252 [application/x-tar]

100%[=====================================>] 11,252        --.--K/s

19:33:51 (248.82 KB/s) -
`/opt/no_archive/portage/distfiles/Statistics-Descriptive-2.6.tar.gz' saved
[11,252/11,252]


!!! Digest verification Failed:
!!!   
/usr/portage/dev-perl/Statistics-Descriptive/Statistics-Descriptive-2.6.ebuild
!!! Reason: Filesize does not match recorded size

>>> Please ensure you have sync'd properly. Please try 'emerge sync' and
>>> optionally examine the file(s) for corruption. A sync will fix most cases.





Comment 5


Michael Cummings (RETIRED)






          2005-08-14 08:52:14 UTC
        

passing this to wranglers to distribute, the problem has nothing to do with the
ebuild or the module, user is getting bad info from a mirror somewhere




Comment 6


Jakub Moc (RETIRED)






          2005-08-14 10:01:54 UTC
        

Changed product to mirrors and re-assigned, but if you are experiencing this
issue with multiple ebuilds and multiple mirrors, then I'd blame your NIC or
other hardware.




Comment 7


Michael Labhard





          2005-08-14 11:10:09 UTC
        

I did a sync and emerge update on world yesterday with over a dozen emerges and
did not experience a digest verification failure with any of them.  Emerging
beancounter involved emerging about another 10 packages, only 3 had digest
verification failures.  These 3 packages report the digest verification failure
consistently.

I do not see how this has anything to do with my NIC or hardware.




Comment 8


Jeffrey Forman (RETIRED)






          2005-08-27 05:09:48 UTC
        

just tried this myself and looks fine...might have just been a bad sync on the
mirrors part.

>>> Statistics-Descriptive-2.6.tar.gz size ;-)
>>> Statistics-Descriptive-2.6.tar.gz MD5 ;-)
>>> md5 files   ;-) Statistics-Descriptive-2.6.ebuild
>>> md5 files   ;-) files/digest-Statistics-Descriptive-2.6
>>> md5 src_uri ;-) Statistics-Descriptive-2.6.tar.gz










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

