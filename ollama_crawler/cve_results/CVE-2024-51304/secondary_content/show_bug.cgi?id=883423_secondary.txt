Title: 883423 – dev-libs/pkcs11-helper-1.29.0-r1 fails to compile (CLANG-STRICTER-SYSTEM): pkcs11h-openssl.c:1108:3: error: incompatible function pointer types passing int (CRYPTO_EX_DATA , const CRYPTO_EX_DATA , void , int, long, void ) (aka int (struct crypto_ex_data_
URL: https://bugs.gentoo.org/show_bug.cgi?id=883423

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 883423
dev-libs/pkcs11-helper-1.29.0-r1 fails to compile (CLANG-STRICTER-SYSTEM): pkcs11h-openssl.c:1108:3: error: incompatible function pointer types passing int (CRYPTO_EX_DATA , const CRYPTO_EX_DATA , void , int, long, void ) (aka int (struct crypto_ex_data_
Last modified: 2024-10-21 21:35:22 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 883423 
      - dev-libs/pkcs11-helper-1.29.0-r1 fails to compile (CLANG-STRICTER-SYSTEM): pkcs11h-openssl.c:1108:3: error: incompatible function pointer types passing int (CRYPTO_EX_DATA , const CRYPTO_EX_DATA , void , int, long, void ) (aka int (struct crypto_ex_data_


Summary:
dev-libs/pkcs11-helper-1.29.0-r1 fails to compile (CLANG-STRICTER-SYSTEM): pk...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

No maintainer - Look at https://wiki.gentoo.org/wiki/Project:Proxy_Maintainers if you want to take care of it








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:




c99-porting



 

        Show dependency tree





 





      Reported:
    
2022-11-28 12:47 UTC by Agostino Sarubbo





      Modified:
    
2024-10-21 21:35 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



jy6x2b32pie9









See Also:


880975





Package list:







Runtime testing required:

---























      Attachments
    




build.log

              (build.log,71.99 KB,
                text/plain)

            
2022-11-28 12:47 UTC,

            Agostino Sarubbo




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Agostino Sarubbo






          2022-11-28 12:47:32 UTC
        

https://blogs.gentoo.org/ago/2020/07/04/gentoo-tinderbox/

Issue: dev-libs/pkcs11-helper-1.29.0-r1 fails to compile (CLANG-STRICTER-SYSTEM).
Discovered on: amd64 (internal ref: clang-stricter_tinderbox)

NOTE:
(CLANG-STRICTER-SYSTEM) in the summary means that the bug was found on a machine that runs clang with stricter mode

This machine uses clang with CFLAGS/CXXFLAGS=-Werror=implicit-function-declaration -Werror=implicit-int -Werror=incompatible-function-pointer-types

See also:
https://archives.gentoo.org/gentoo-dev/message/dd9f2d3082b8b6f8dfbccb0639e6e240
https://wiki.gentoo.org/wiki/Modern_C_porting




Comment 1


Agostino Sarubbo






          2022-11-28 12:47:34 UTC
        

Created attachment 837963 [details]
build.log

build log and emerge --info




Comment 2


NHO





          2024-05-10 10:35:01 UTC
        

Can't replicate with CLANG-17 and -Werror=incompatible-function-pointer-types or with GCC-14.

Problem most likely caused by dev-libs/openssl-1.1.1s:0/1.1 being installed instead of openssl-3, and not a fault of dev-libs/pkcs11-helper




Comment 3


Andreas K. Hüttel







          2024-10-21 21:35:22 UTC
        

(In reply to NHO from comment #2)
> Can't replicate with CLANG-17 and
> -Werror=incompatible-function-pointer-types or with GCC-14.
> 
> Problem most likely caused by dev-libs/openssl-1.1.1s:0/1.1 being installed
> instead of openssl-3, and not a fault of dev-libs/pkcs11-helper

OK









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

