Title: 247690 – x11-libs/gtkmathview-0.8.0 - /usr/include/gmetadom/gdome_cpp_smart/GdomeSmartDOMTraits.hh:88: error: 'memcpy' was not declared in this scope
URL: https://bugs.gentoo.org/show_bug.cgi?id=247690

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 247690
x11-libs/gtkmathview-0.8.0 - /usr/include/gmetadom/gdome_cpp_smart/GdomeSmartDOMTraits.hh:88: error: 'memcpy' was not declared in this scope
Last modified: 2008-11-30 00:00:34 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 247690 
      - x11-libs/gtkmathview-0.8.0 - /usr/include/gmetadom/gdome_cpp_smart/GdomeSmartDOMTraits.hh:88: error: 'memcpy' was not declared in this scope


Summary:
x11-libs/gtkmathview-0.8.0 - /usr/include/gmetadom/gdome_cpp_smart/GdomeSmart...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux Gnome Desktop Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-11-20 11:44 UTC by Adrian Bassett





      Modified:
    
2008-11-30 00:00 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Adrian Bassett





          2008-11-20 11:44:52 UTC
        

Rebuilding gtkmathview with t1lib USE flag enabled fails:

[ebuild   R   ] x11-libs/gtkmathview-0.8.0  USE="gtk svg t1lib*"

[ebuild   R   ] media-libs/t1lib-5.1.2  USE="X -doc"

Making all in scripts
Making all in config
Making all in auto
In file included from /usr/include/gmetadom/gdome_cpp_smart/GdomeSmartDOMChar.hh:78,
                 from /usr/include/gmetadom/gdome_cpp_smart/GdomeSmartDOMBasic.hh:27,
                 from /usr/include/gmetadom/gdome_cpp_smart/GdomeSmartDOM.hh:27,
                 from ../src/frontend/gmetadom/gmetadom.hh:22,
                 from dumpEntitiesTable.cc:25:
/usr/include/gmetadom/gdome_cpp_smart/GdomeSmartDOMTraits.hh: In static member function 'static GdomeSmartDOM::Char16* std::char_traits<short unsigned int>::move(GdomeSmartDOM::Char16*, const GdomeSmartDOM::Char16*, size_t)':
/usr/include/gmetadom/gdome_cpp_smart/GdomeSmartDOMTraits.hh:84: error: 'memmove' was not declared in this scope
/usr/include/gmetadom/gdome_cpp_smart/GdomeSmartDOMTraits.hh: In static member function 'static GdomeSmartDOM::Char16* std::char_traits<short unsigned int>::copy(GdomeSmartDOM::Char16*, const GdomeSmartDOM::Char16*, size_t)':
/usr/include/gmetadom/gdome_cpp_smart/GdomeSmartDOMTraits.hh:88: error: 'memcpy' was not declared in this scope
make[2]: *** [dumpEntitiesTable.o] Error 1
make[1]: *** [all-recursive] Error 1
make: *** [all] Error 2

This is with gcc-4.3.2 p1.1 and glibc-2.8_p20080602.

Thanks.

Reproducible: Always

Steps to Reproduce:
1.(Re-)emerge gtkmathv with t1lib USE flag enabled
2.
3.

Actual Results:  
Emerge fails.


I re-emerged evince at the same time with t1lib enabled and that wasn't a problem:

[ebuild   R   ] app-text/evince-2.24.1  USE="dbus djvu dvi nautilus t1lib tiff -debug -doc -gnome-keyring"




Comment 1


Rafał Mużyło





          2008-11-20 12:34:03 UTC
        

Are you sure that you're not using some out-of-date overlay,
cause that looks like a gcc 4.3 problem,
but that was already fixed in the tree.




Comment 2


Adrian Bassett





          2008-11-20 14:00:04 UTC
        

(In reply to comment #1)

Not so far as I know:  the only installed overlay is the sunrise one and neither of the two applications I cite at the top of my report are represented there:

# pwd
/usr/portage/local/layman/sunrise
# cd x11-libs
x11-libs # ls
total 0
drwxr-xr-x 3 root root 100 May 26 14:29 hippo-canvas
drwxr-xr-x 3 root root  99 Nov 16 06:58 libqglviewer
drwxr-xr-x 4 root root 105 Sep  5 09:14 pdcurses
drwxr-xr-x 3 root root  93 May 26 14:29 seom
# cd ../media-libs
media-libs # ls
total 0
drwxr-xr-x 3 root root  95 Jul 19 09:49 gphotofs
drwxr-xr-x 3 root root  94 May 26 14:30 libdlna
drwxr-xr-x 4 root root 111 May 26 14:30 libinstrudeo






Comment 3


Rafał Mużyło





          2008-11-20 17:19:39 UTC
        

Sorry, I missed a detail at first.
It writes: 
In file included from
/usr/include/gmetadom/...
so your problem are old headers
(actually the problem is that gtkmathview seems to prefer
installed headers to his own - IMHO that's a bug).
So try to unmerge gtkmathview and emerge it again.




Comment 4


Adrian Bassett





          2008-11-20 20:08:18 UTC
        

(In reply to comment #3)

Thanks for the suggestion.  However, afer un-installing, re-activating the t1lib USE flag and attempting to re-emerge I ended up with exactly the same problem and message.  Interestingly, the same problem occurs if I try to re-emerge _without_ the t1lib USE flag so clearly t1lib is not itself the problem.

For now, I have re-emerged (-k) from my stored package.

Thanks for your interest.





Comment 5


Adrian Bassett





          2008-11-21 11:45:30 UTC
        

(In reply to comment #4)

> For now, I have re-emerged (-k) from my stored package.

Now resolved.

What fixed it was re-emerging gmetadom (0.2.6), rather than unmerging and re-emerging gtkmathview (0.8.0).

So I guess we can close this one. thanks.






Comment 6


Gilles Dartiguelongue (RETIRED)






          2008-11-30 00:00:34 UTC
        

indeed, thanks for reporting anyway.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

