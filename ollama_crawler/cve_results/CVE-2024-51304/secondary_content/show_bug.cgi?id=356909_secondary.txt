Title: 356909 – =www-plugins/gnash-0.8.8 is blocked by dev-libs/boost:0
URL: https://bugs.gentoo.org/show_bug.cgi?id=356909

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 356909
=www-plugins/gnash-0.8.8 is blocked by dev-libs/boost:0
Last modified: 2011-02-28 23:35:07 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 356909 
      - =www-plugins/gnash-0.8.8 is blocked by dev-libs/boost:0


Summary:
=www-plugins/gnash-0.8.8 is blocked by dev-libs/boost:0
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       major
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2011-02-28 23:22 UTC by Linear Systems Tech Svcs.





      Modified:
    
2011-02-28 23:35 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



chithanh









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Linear Systems Tech Svcs.





          2011-02-28 23:22:43 UTC
        

Currently, it seems that gnash-0.8.8 is unable to be emerged at all, if you have boost installed.

 ~ # eselect boost list 
Available boost versions:
  [1]   boost-1.35/default
  [2]   boost-1.41/default
  [3]   boost-1.42/default
  [4]   boost-1.45/default *
 ~ # emerge -pv gnash

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild  N    ] x11-libs/libva-0.31.1_p4  USE="opengl" VIDEO_CARDS="nvidia -dummy -intel" 785 kB
[ebuild  N    ] x11-libs/vdpau-video-0.6.10  USE="opengl -debug" 374 kB
[ebuild   R   ] media-video/ffmpeg-0.6_p25767  USE="3dnow 3dnowext X alsa amr bzip2 dirac doc encode faac gsm hardcoded-tables jpeg2k mmx mmxext mp3 schroedinger sdl speex ssse3 theora threads vaapi* vorbis x264 xvid zlib (-altivec) -bindist -cpudetection -custom-cflags -debug -frei0r -ieee1394 -jack -network -oss -pic -qt-faststart -rtmp -static-libs -test -v4l -v4l2 -vdpau -vpx" VIDEO_CARDS="nvidia" 0 kB
[ebuild  N    ] www-plugins/gnash-0.8.8  USE="agg cairo dbus doc ffmpeg gnome gtk mysql nls nsplugin opengl python sdl ssl vaapi xv (-aqua) -cygnal -fbcon -gstreamer -kde (-kdeenablefinal) (-lirc) -sdl-sound -ssh -test" VIDEO_CARDS="-intel" 3,761 kB
[blocks B     ] dev-libs/boost:0 ("dev-libs/boost:0" is blocking www-plugins/gnash-0.8.8)

Total: 4 packages (3 new, 1 reinstall), Size of downloads: 4,919 kB
Conflict: 1 block (1 unsatisfied)

 * Error: The above package list contains packages which cannot be
 * installed at the same time on the same system.

  (www-plugins/gnash-0.8.8, ebuild scheduled for merge) pulled in by
    gnash


For more information about Blocked Packages, please refer to the following
section of the Gentoo Linux x86 Handbook (architecture is irrelevant):

http://www.gentoo.org/doc/en/handbook/handbook-x86.xml?full=1#blocked

 ~ #

Reproducible: Always

Steps to Reproduce:
1. Run `emerge --sync`
2. Then run `emerge -pv gnash`
3.

Actual Results:  
... <snip> ...
xfce-extra/xfce4-mixer/xfce4-mixer-4.8.0.ebuild
xfce-extra/xfce4-power-manager/
xfce-extra/xfce4-power-manager/ChangeLog
xfce-extra/xfce4-power-manager/Manifest
xfce-extra/xfce4-power-manager/xfce4-power-manager-1.0.10.ebuild
xfce-extra/xfce4-power-manager/files/
xfce-extra/xfce4-power-manager/files/xfce4-power-manager-1.0.10-libnotify-0.7.patch
xfce-extra/xfce4-radio-plugin/
xfce-extra/xfce4-taskmanager/
xfce-extra/xfce4-weather-plugin/

Number of files: 140884
Number of files transferred: 6774
Total file size: 198340672 bytes
Total transferred file size: 25599228 bytes
Literal data: 25599228 bytes
Matched data: 0 bytes
File list size: 3482027
File list generation time: 0.001 seconds
File list transfer time: 0.000 seconds
Total bytes sent: 172470
Total bytes received: 12648579

sent 172470 bytes  received 12648579 bytes  135672.48 bytes/sec
total size is 198340672  speedup is 15.47

Performing Global Updates:
(Could take a couple of minutes if you have a lot of binary packages.)
  .='update pass'  *='binary update'  #='/var/db update'  @='/var/db move'
  s='/var/db SLOT move'  %='binary move'  S='binary SLOT move'
  p='update /etc/portage/package.*'
/usr/portage/profiles/updates/1Q-2011..............................................
#

 ~ # emerge -pv gnash

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild  N    ] x11-libs/libva-0.31.1_p4  USE="opengl" VIDEO_CARDS="nvidia -dummy -intel" 785 kB
[ebuild  N    ] x11-libs/vdpau-video-0.6.10  USE="opengl -debug" 374 kB
[ebuild   R   ] media-video/ffmpeg-0.6_p25767  USE="3dnow 3dnowext X alsa amr bzip2 dirac doc encode faac gsm hardcoded-tables jpeg2k mmx mmxext mp3 schroedinger sdl speex ssse3 theora threads vaapi* vorbis x264 xvid zlib (-altivec) -bindist -cpudetection -custom-cflags -debug -frei0r -ieee1394 -jack -network -oss -pic -qt-faststart -rtmp -static-libs -test -v4l -v4l2 -vdpau -vpx" VIDEO_CARDS="nvidia" 0 kB
[ebuild  N    ] www-plugins/gnash-0.8.8  USE="agg cairo dbus doc ffmpeg gnome gtk mysql nls nsplugin opengl python sdl ssl vaapi xv (-aqua) -cygnal -fbcon -gstreamer -kde (-kdeenablefinal) (-lirc) -sdl-sound -ssh -test" VIDEO_CARDS="-intel" 3,761 kB
[blocks B     ] dev-libs/boost:0 ("dev-libs/boost:0" is blocking www-plugins/gnash-0.8.8)

Total: 4 packages (3 new, 1 reinstall), Size of downloads: 4,919 kB
Conflict: 1 block (1 unsatisfied)

 * Error: The above package list contains packages which cannot be
 * installed at the same time on the same system.

  (www-plugins/gnash-0.8.8, ebuild scheduled for merge) pulled in by
    gnash


For more information about Blocked Packages, please refer to the following
section of the Gentoo Linux x86 Handbook (architecture is irrelevant):

http://www.gentoo.org/doc/en/handbook/handbook-x86.xml?full=1#blocked

 ~ # eselect boost list
Available boost versions:
  [1]   boost-1.35/default
  [2]   boost-1.41/default
  [3]   boost-1.42/default
  [4]   boost-1.45/default *
 ~ # eselect boost set 3
Removing symlinks from old version
Creating symlinks for boost-1.42/default
 ~ # env-update && source /etc/profile
>>> Regenerating /etc/ld.so.cache...
 ~ # emerge -pv gnash

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild  N    ] x11-libs/libva-0.31.1_p4  USE="opengl" VIDEO_CARDS="nvidia -dummy -intel" 785 kB
[ebuild  N    ] x11-libs/vdpau-video-0.6.10  USE="opengl -debug" 374 kB
[ebuild   R   ] media-video/ffmpeg-0.6_p25767  USE="3dnow 3dnowext X alsa amr bzip2 dirac doc encode faac gsm hardcoded-tables jpeg2k mmx mmxext mp3 schroedinger sdl speex ssse3 theora threads vaapi* vorbis x264 xvid zlib (-altivec) -bindist -cpudetection -custom-cflags -debug -frei0r -ieee1394 -jack -network -oss -pic -qt-faststart -rtmp -static-libs -test -v4l -v4l2 -vdpau -vpx" VIDEO_CARDS="nvidia" 0 kB
[ebuild  N    ] www-plugins/gnash-0.8.8  USE="agg cairo dbus doc ffmpeg gnome gtk mysql nls nsplugin opengl python sdl ssl vaapi xv (-aqua) -cygnal -fbcon -gstreamer -kde (-kdeenablefinal) (-lirc) -sdl-sound -ssh -test" VIDEO_CARDS="-intel" 3,761 kB
[blocks B     ] dev-libs/boost:0 ("dev-libs/boost:0" is blocking www-plugins/gnash-0.8.8)

Total: 4 packages (3 new, 1 reinstall), Size of downloads: 4,919 kB
Conflict: 1 block (1 unsatisfied)

 * Error: The above package list contains packages which cannot be
 * installed at the same time on the same system.

  (www-plugins/gnash-0.8.8, ebuild scheduled for merge) pulled in by
    gnash


For more information about Blocked Packages, please refer to the following
section of the Gentoo Linux x86 Handbook (architecture is irrelevant):

http://www.gentoo.org/doc/en/handbook/handbook-x86.xml?full=1#blocked

 ~ #

Expected Results:  
 ~ # emerge -pv gnash

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild  N    ] x11-libs/libva-0.31.1_p4  USE="opengl" VIDEO_CARDS="nvidia -dummy -intel" 785 kB
[ebuild  N    ] x11-libs/vdpau-video-0.6.10  USE="opengl -debug" 374 kB
[ebuild   R   ] media-video/ffmpeg-0.6_p25767  USE="3dnow 3dnowext X alsa amr bzip2 dirac doc encode faac gsm hardcoded-tables jpeg2k mmx mmxext mp3 schroedinger sdl speex ssse3 theora threads vaapi* vorbis x264 xvid zlib (-altivec) -bindist -cpudetection -custom-cflags -debug -frei0r -ieee1394 -jack -network -oss -pic -qt-faststart -rtmp -static-libs -test -v4l -v4l2 -vdpau -vpx" VIDEO_CARDS="nvidia" 0 kB
[ebuild  N    ] www-plugins/gnash-0.8.8  USE="agg cairo dbus doc ffmpeg gnome gtk mysql nls nsplugin opengl python sdl ssl vaapi xv (-aqua) -cygnal -fbcon -gstreamer -kde (-kdeenablefinal) (-lirc) -sdl-sound -ssh -test" VIDEO_CARDS="-intel" 3,761 kB

Total: 4 packages (3 new, 1 reinstall), Size of downloads: 4,919 kB
 ~ #

As a note, when I started trying to emerge gnash today, I had boost-1.42.0-r2 as my highest version.  When I encountered the error, I unmasked and upgraded to boost-1.45.0 to see if that would correct the issue.  It didn't.  I even tried setting boost to 1.41.0 with no change in the results.

I looked into the ebuild file and found the following:
<snip>
RDEPEND=">=dev-libs/boost-1.41.0
    !!dev-libs/boost:0
    dev-libs/expat
    dev-libs/libxml2
    virtual/jpeg
    media-libs/libpng
    net-misc/curl
    x11-libs/libX11
</snip>

I'm not an expert on ebuild files, but it seems to me that the "!!dev-libs/boost:0" is the problem line.  Just my 2¢.

The `emerge --info` output:
 ~ # emerge --info
Portage 2.1.9.25 (default/linux/amd64/10.0/desktop, gcc-4.4.4, glibc-2.11.2-r3, 2.6.36-gentoo-r5-20110117-01 x86_64)
=================================================================
System uname: Linux-2.6.36-gentoo-r5-20110117-01-x86_64-Intel-R-_Core-TM-2_Quad_CPU_Q6700_@_2.66GHz-with-gentoo-1.12.14
Timestamp of tree: Mon, 28 Feb 2011 22:15:01 +0000
app-shells/bash:     4.1_p7
dev-java/java-config: 2.1.11-r1
dev-lang/python:     2.4.6, 2.5.4-r4, 2.6.6-r1, 3.1.2-r4
dev-util/cmake:      2.8.1-r2
sys-apps/baselayout: 1.12.14-r1
sys-apps/sandbox:    2.4
sys-devel/autoconf:  2.13, 2.65-r1
sys-devel/automake:  1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r3, 1.10.3, 1.11.1
sys-devel/binutils:  2.20.1-r1
sys-devel/gcc:       4.1.2, 4.3.4, 4.4.4-r2
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   2.2.10
sys-devel/make:      3.81-r2
virtual/os-headers:  2.6.30-r1 (sys-kernel/linux-headers)
ACCEPT_KEYWORDS="amd64"
ACCEPT_LICENSE="* -@EULA dlj-1.1"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=nocona -O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /var/lib/hsqldb"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/php/apache2-php5.3/ext-active/ /etc/php/cgi-php5.3/ext-active/ /etc/php/cli-php5.3/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c"
CXXFLAGS="-march=nocona -O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="assume-digests binpkg-logs distlocks fixlafiles fixpackages news parallel-fetch protect-owned sandbox sfperms strict unknown-features-warn unmerge-logs unmerge-orphans userfetch"
GENTOO_MIRRORS="ftp://ftp.ucsb.edu/pub/mirrors/linux/gentoo/ http://ftp.ucsb.edu/pub/mirrors/linux/gentoo/ ftp://ftp.wallawalla.edu/pub/mirrors/ftp.gentoo.org http://chi-10g-1-mirror.fastsoft.net/pub/linux/gentoo/gentoo-distfiles/ ftp://chi-10g-1-mirror.fastsoft.net/pub/linux/gentoo/gentoo-distfiles/  http://mirror.espri.arizona.edu/gentoo/ ftp://distro.ibiblio.org/pub/linux/distributions/gentoo/ http://distro.ibiblio.org/pub/linux/distributions/gentoo/ "
LDFLAGS="-Wl,-O1 -Wl,--as-needed"
LINGUAS="en_US en"
MAKEOPTS="-j5"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.namerica.gentoo.org/gentoo-portage"
USE="X a52 aac aalib acl acpi aim alsa amd64 amr apache2 apm audiofile avahi avi berkdb bluetooth bonobo branding bsddb3 bzip2 cairo cdparanoia cdr cli consolekit cracklib crypt cups cxx dbus dirac divx4linux doc dri dts dv dvd dvdr dvdread emboss encode exif fam fame ffmpeg firefox flac flash fortran gdbm gdu gif gimpprint gnome gpm gsm gtk hal iconv icq imagemagick ipv6 irc jabber java jpeg junit lame lcms ldap libnotify lzo mad mikmod ming mjpeg mmx mmxext mng modules mozcalendar mp3 mp4 mpeg msn mudflap multilib mysql mysqli ncurses nls nptl nptlonly nvidia ogg opengl openmp pam pango pcre pdf perl png policykit ppds pppd python qt3support quicktime readline samba sdl session sockets speex spell sse sse2 ssl ssse3 startup-notification svg sysfs tcpd theora threads tiff truetype udev unicode usb videos vorbis wma wmf x264 xcb xinerama xml xorg xulrunner xv xvid yahoo zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cgi cgid dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CAMERAS="ptp2" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf superstar2 timing tsip tripmate tnt ubx" INPUT_DEVICES="evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en_US en" PHP_TARGETS="php5-3" RUBY_TARGETS="ruby18" USERLAND="GNU" VIDEO_CARDS="nvidia vesa" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account" 
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LANG, LC_ALL, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS

 ~ #




Comment 1


Chí-Thanh Christopher Nguyễn






          2011-02-28 23:35:07 UTC
        

gnash has problems to build if you have old boost installed. So unless you have a particular reason to keep boost-1.35, I suggest to run "emerge -C boost:0"

If that does not help, please reopen the bug.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

