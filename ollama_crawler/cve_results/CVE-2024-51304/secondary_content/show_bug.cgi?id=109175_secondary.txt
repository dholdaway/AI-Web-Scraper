Title: 109175 – Inconsistancy between equery and portage on contradicting use flags
URL: https://bugs.gentoo.org/show_bug.cgi?id=109175

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 109175
Inconsistancy between equery and portage on contradicting use flags
Last modified: 2005-11-11 12:11:59 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 109175 
      - Inconsistancy between equery and portage on contradicting use flags


Summary:
Inconsistancy between equery and portage on contradicting use flags
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Portage Development




Classification:

Unclassified




Component:

Tools

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       minor
      


Assignee:

Portage Tools Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-10-13 11:40 UTC by Dylan Vanderhoof





      Modified:
    
2005-11-11 12:11 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Dylan Vanderhoof





          2005-10-13 11:40:31 UTC
        

If a use flag in make.conf is contradicted, E.G. -truetype and truetype are 
both set, emerge uses the last instance, and equery uses the first.

Give a USE="-truetype truetype" in make.conf:

Doing an emerge -pv <package> shows -truetype.
However, doing equery uses <package> shows +truetype

Reproducible: Always
Steps to Reproduce:
1. Set a contradicting USE flag in /etc/make.conf
2. Try "emerge -pv <package>" for a package that uses that flag
3. Type "equery uses <package>" for the same package

Actual Results:  
emerge and equery show different flag states

Expected Results:  
The states should be the same.




Comment 1


Paul Varner (RETIRED)






          2005-11-11 12:11:59 UTC
        

USE="truetype-fonts -truetype-fonts" means truetype-fonts should be turned off

emerge -pv xorg-x11
[ebuild   R   ] x11-base/xorg-x11-6.8.2-r6  -3dfx -3dnow +bitmap-fonts -cjk
-debug -dlloader -dmx -doc -font-server -insecure-drivers +ipv6* -minimal -mmx*
+nls -nocxx +opengl +pam -sdk -sse* -static -truetype-fonts* +type1-fonts
(-uclibc) -xprint +xv 0 kB

equery uses xorg-x11
<...>
 - + truetype-fonts   : Build TrueType fonts

Both show it turned off

USE="-truetype-fonts truetype-fonts" means truetype-fonts should be turned on
emerge -pv xorg-x11
[ebuild   R   ] x11-base/xorg-x11-6.8.2-r6  -3dfx -3dnow +bitmap-fonts -cjk
-debug -dlloader -dmx -doc -font-server -insecure-drivers +ipv6* -minimal -mmx*
+nls -nocxx +opengl +pam -sdk -sse* -static +truetype-fonts +type1-fonts
(-uclibc) -xprint +xv 0 kB

equery uses xorg-x11
<...>
 + + truetype-fonts   : Build TrueType fonts

Both show it turned on.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

