Title: 172970 – net-mail/mailutils broken tests
URL: https://bugs.gentoo.org/show_bug.cgi?id=172970

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 172970
net-mail/mailutils broken tests
Last modified: 2010-01-25 04:05:49 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 172970 
      - net-mail/mailutils broken tests


Summary:
net-mail/mailutils broken tests
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Net-Mail Packages








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-04-01 07:18 UTC by James Rowe





      Modified:
    
2010-01-25 04:05 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



jer
rhill









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




mailutils-0.6-disable_test_failures.patch

              (mailutils-0.6-disable_test_failures.patch,3.16 KB,
                patch)

            
2007-04-01 07:19 UTC,

            James Rowe




Details
            | Diff





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


James Rowe





          2007-04-01 07:18:54 UTC
        

mailutils requires the unstated dev-util/dejagnu for its testsuite to
run, if it isn't installed mailutils just skips the running of its
tests and the emerge completes.  If dejagnu is installed the tests are
run, a bunch of them fail and finally the emerge fails.

  * 4 from mailutils-0.6/imap4d/testsuite/imap4d/list.exp.  Apparently
    the result of failing to update the testsuite fully.
  * 1 in mailutils-0.6/readmsg/testsuite/readmsg/test.exp, which
    is actually a functional failure.  readmsg doesn't process its args.

  I've attached a small patch which fixes the broken tests for the imap
daemon.  And it corrects the arg processing in readmsg allowing the
readmsg tests to pass, and more importantly makes the readmsg tool
actually work like its tests and documentation suggest.

Thanks,

James




Comment 1


James Rowe





          2007-04-01 07:19:30 UTC
        

Created attachment 115124 [details, diff]
mailutils-0.6-disable_test_failures.patch




Comment 2


James Rowe





          2007-04-01 07:29:00 UTC
        

  Of course, what I forgot to say here is that I didn't simply kick
this upstream because upstream's current releases don't have these bugs.






Comment 3


Ryan Hill (RETIRED)






          2008-07-15 03:27:38 UTC
        

Thanks for the patch.  I haven't looked into the testsuite failures, but I did add a test USE flag and dependency on dejavu.




Comment 4


Jeroen Roovers (RETIRED)






          2010-01-24 19:04:39 UTC
        

All the current ebuilds DEPEND on dejagnu for USE=test. Are the test failures still a problem in a more recent version? 2.1 looks quite clean to me.




Comment 5


Jeroen Roovers (RETIRED)






          2010-01-25 04:05:49 UTC
        

I know it's cruel, but I just don't see it in 2.1. :)









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

