Title: 179578 – splash crashes on boot up in silent but not in verbose mode
URL: https://bugs.gentoo.org/show_bug.cgi?id=179578

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 179578
splash crashes on boot up in silent but not in verbose mode
Last modified: 2007-06-06 18:55:13 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 179578 
      - splash crashes on boot up in silent but not in verbose mode


Summary:
splash crashes on boot up in silent but not in verbose mode
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Core system

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Michal Januszewski (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-05-23 20:32 UTC by polytan





      Modified:
    
2007-06-06 18:55 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


polytan





          2007-05-23 20:32:20 UTC
        

Hi,

I'm using gentoo on a toshiba a100.

I use vesafb on a widescreen in 1280x800 mode. It runs well.
But, when I use fbsplash on boot, silent mode just print the first image and the progress bar don't appear or move.

However, if I press alt-F1, the verbose mode appear and I can see all logs from my kernel and gentoo informations on boot.

If I boot specifying mode=verbose, it runs well.

I've tryied to use the 1024x768 mode but there is always the bug.

Polytan

Reproducible: Always

Steps to Reproduce:
I use the verbose mode, but it's not a way to do and I want to know why it doesn't run and how to solve it :) 
Actual Results:  
Image don't move on boot when the splash is started.




Comment 1


Jakub Moc (RETIRED)






          2007-05-23 20:40:41 UTC
        

emerge --info and splashutils version please.




Comment 2


polytan





          2007-05-23 21:01:07 UTC
        

(In reply to comment #1)
> emerge --info and splashutils version please.
> 

maxbilh@TOSHIBA-A100 ~ $ emerge --info
Portage 2.1.2.7 (default-linux/x86/2007.0, gcc-4.1.2, glibc-2.5-r2, 2.6.20-gentoo-r8 i686)
=================================================================
System uname: 2.6.20-gentoo-r8 i686 Genuine Intel(R) CPU           T2300  @ 1.66GHz
Gentoo Base System release 1.12.9
Timestamp of tree: Wed, 23 May 2007 01:47:01 +0000
dev-lang/python:     2.4.4-r4
dev-python/pycrypto: 2.0.1-r5
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.61
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.16
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.17-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=prescott -O2 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/X11/xkb"
CONFIG_PROTECT_MASK="/etc/env.d /etc/gconf /etc/revdep-rebuild /etc/splash /etc/terminfo"
CXXFLAGS="-march=prescott -O2 -pipe -fomit-frame-pointer"
DISTDIR="/media/portage/distfiles"
FEATURES="distlocks metadata-transfer parallel-fetch sandbox sfperms strict"
GENTOO_MIRRORS="http://ftp.belnet.be/mirror/rsync.gentoo.org/gentoo/ http://gentoo.inode.at/"
LANG="fr_FR.UTF8"
LC_ALL="fr_FR.UTF8"
LINGUAS="fr fr_FR"
MAKEOPTS="-j5"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/media/portage/portage"
PORTDIR_OVERLAY="/media/portage/portage_local"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="3dfx 3dnow 3dnowext X aac acl acpi alsa bash-completion berkdb bitmap-fonts bzip2 cdparanoia cli cpudetection cpufreq cracklib crypt cups custom-cflags dbus dga directfb dmi dri dvb dvd dvdnav dvdr dvdread encode esd fbcon fbsplash flac fortran gdbm gif glitz gpm gtk gtk2 hal i810 iconv ipv6 isdnlog jpeg libg++ lzo mad mesa midi mmx mmxext mng mp2 mp3 mpeg mplayer mudflap musepack ncurses nls nptl nptlonly opengl openmp pam pcre perl png pppd python quicktime rar readline real reflection sdl session slang smp spell spl sse sse2 ssl startup-notification svg tcpd theora thunar tiff truetype truetype-fonts type1-fonts unicode v4l v4l2 vidix vorbis win32codecs x86 xorg xscreensaver xvid zlib" ALSA_CARDS="hda-intel" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" ELIBC="glibc" INPUT_DEVICES="ps2mouse mouse keyboard synaptics" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="fr fr_FR" USERLAND="GNU" VIDEO_CARDS="i810 vesa"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LDFLAGS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS

splashutils version : 
[ebuild   R   ] media-gfx/splashutils-1.4.2  USE="gpm mng png truetype -hardened" 0 kB 






Comment 3


polytan





          2007-05-28 14:41:18 UTC
        

I have got information !

After tests, the problem seems coming from splash_geninitramfs version 1.4.2 :

Using splashutils 1.4.2 & a splash generated with 1.4.2: it fails to boot.
Using splashutils 1.4.1 & a splash generated with 1.4.2: it fails to boot.
Using splashutils 1.4.1 & a splash generated with 1.4.1: it boots.
Using splashutils 1.4.2 & a splash generated with 1.4.1: it boots.




Comment 4


polytan





          2007-05-28 15:08:08 UTC
        

(In reply to comment #3)
> I have got information !
> 
> After tests, the problem seems coming from splash_geninitramfs version 1.4.2 :
> 
> Using splashutils 1.4.2 & a splash generated with 1.4.2: it fails to boot.
> Using splashutils 1.4.1 & a splash generated with 1.4.2: it fails to boot.
> Using splashutils 1.4.1 & a splash generated with 1.4.1: it boots.
> Using splashutils 1.4.2 & a splash generated with 1.4.1: it boots.
> 

I reply to myself, it runs all the time now ?!?!?

I really don't understand why !

It's the same kernel (I'm nearly sure) and the same boot option (maybe a bit less sure (I've a doubt on the mtrr option)

Any ideas ?





Comment 5


Michal Januszewski (RETIRED)






          2007-06-02 10:29:11 UTC
        

So, you can't reproduce the problem now with splashutils-1.4.2 and an initramfs generated by this version of splashutils?




Comment 6


polytan





          2007-06-02 13:30:02 UTC
        

no, I can't.

maybe it's because I've upgraded my softwares.

It was based on 2007.0 snapshot.

Polytan




Comment 7


Michal Januszewski (RETIRED)






          2007-06-06 18:55:13 UTC
        

OK, I'm closing the bug with WORKSFORME then. If you ever run into this problem again, feel free to reopen.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

