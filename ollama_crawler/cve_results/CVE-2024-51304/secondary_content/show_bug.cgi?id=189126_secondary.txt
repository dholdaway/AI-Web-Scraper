Title: 189126 – www-client/epiphany-2.18.2 breaks at compile time
URL: https://bugs.gentoo.org/show_bug.cgi?id=189126

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 189126
www-client/epiphany-2.18.2 breaks at compile time
Last modified: 2007-10-10 15:58:03 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 189126 
      - www-client/epiphany-2.18.2 breaks at compile time


Summary:
www-client/epiphany-2.18.2 breaks at compile time
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       major
      


Assignee:

Gentoo Linux Gnome Desktop Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-08-16 16:25 UTC by Wernher Eksteen





      Modified:
    
2007-10-10 15:58 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



alephlg
cryptixd









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build log and call stack

              (buildlog-www-client:epiphany-2.18.2.log,10.60 KB,
                text/plain)

            
2007-08-16 16:30 UTC,

            Wernher Eksteen




Details





config.log

              (config.log,69.62 KB,
                text/plain)

            
2007-08-16 16:31 UTC,

            Wernher Eksteen




Details





emerge install list

              (emerge-dependency-install-list,2.47 KB,
                text/plain)

            
2007-08-16 16:32 UTC,

            Wernher Eksteen




Details





emerge --info

              (emerge-info,7.55 KB,
                text/plain)

            
2007-08-16 16:33 UTC,

            Wernher Eksteen




Details





emerge make.conf

              (emerge-make.conf,1.96 KB,
                text/plain)

            
2007-08-16 16:33 UTC,

            Wernher Eksteen




Details





equery list

              (equery-list,20.15 KB,
                text/plain)

            
2007-08-16 20:56 UTC,

            Wernher Eksteen




Details





mozilla-config.h

              (mozilla-config.h,2.74 KB,
                text/plain)

            
2007-08-16 20:56 UTC,

            Wernher Eksteen




Details





emerge failure

              (build.log,671.96 KB,
                text/plain)

            
2007-08-25 23:21 UTC,

            Willard Dawson




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Wernher Eksteen





          2007-08-16 16:25:24 UTC
        

checking for DEPENDENCIES... yes
checking for DBUS... yes
checking for dbus-binding-tool... /usr/bin/dbus-binding-tool
Using config source xml:merged:/etc/gconf/gconf.xml.defaults for schema installation
Using $(sysconfdir)/gconf/schemas as install directory for schema files
checking for gconftool-2... /usr/bin/gconftool-2
checking for mkdtemp... yes
checking execinfo.h usability... yes
checking execinfo.h presence... yes
checking for execinfo.h... yes
checking for gawk... (cached) gawk
checking which gecko to use... firefox
checking for compiler -fshort-wchar option... yes
checking whether to enable C++ RTTI... no
checking whether we have a gtk 2 gecko build... yes
checking whether we have a gecko debug build... no
checking for gecko version... 1.8.1
checking for GECKO... yes
checking whether we can compile and run XPCOM programs... no
configure: error: Cannot compile and run XPCOM programs
See `config.log' for more details.

!!! Please attach the following file when filing a report to bugs.gentoo.org:
!!! /var/tmp/portage/www-client/epiphany-2.18.2/work/epiphany-2.18.2/config.log

!!! ERROR: www-client/epiphany-2.18.2 failed.
Call stack:
  ebuild.sh, line 1632:   Called dyn_compile
  ebuild.sh, line 983:   Called qa_call 'src_compile'
  ebuild.sh, line 44:   Called src_compile
  epiphany-2.18.2.ebuild, line 84:   Called gnome2_src_compile
  gnome2.eclass, line 70:   Called gnome2_src_configure
  gnome2.eclass, line 66:   Called econf '--disable-scrollkeeper' '--enable-spell-checker' '--enable-python' '--with-gecko=firefox' '--enable-gtk-doc'
  ebuild.sh, line 586:   Called die

!!! econf failed
!!! If you need support, post the topmost build error, and the call stack if relevant.
!!! A complete build log is located at '/var/log/portage/www-client:epiphany-2.18.2:20070816-160056.log'.




Comment 1


Wernher Eksteen





          2007-08-16 16:26:57 UTC
        

Portage 2.1.2.11 (default-linux/x86/2007.0/desktop, gcc-4.1.2, glibc-2.5-r4, 2.6.20-gentoo-r8 i686)
=================================================================
System uname: 2.6.20-gentoo-r8 i686 Intel(R) Core(TM)2 CPU 6600 @ 2.40GHz
Gentoo Base System release 1.12.9
Timestamp of tree: Thu, 16 Aug 2007 15:30:01 +0000
ccache version 2.4 [enabled]
dev-java/java-config: 1.3.7, 2.0.33-r1
dev-lang/python:     2.4.4-r4
dev-python/pycrypto: 2.0.1-r6
dev-util/ccache:     2.4-r7
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.61
sys-devel/automake:  1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.17
sys-devel/gcc-config: 1.3.16
sys-devel/libtool:   1.5.23b
virtual/os-headers:  2.6.21
ACCEPT_KEYWORDS="x86"
ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1 emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci"
ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol"
ARCH="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CCACHE_DIR="/usr/local/ccache"
CCACHE_SIZE="5G"
CFLAGS="-march=prescott -O2 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CLASSPATH="."
CLEAN_DELAY="5"
CONFIG_PROTECT="/etc /usr/share/X11/xkb"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c"
CVS_RSH="ssh"
CXXFLAGS="-march=prescott -O2 -pipe -fomit-frame-pointer"
DISPLAY="gtk gnome hal avahi -qt3 -qt4 -kde -arts"
DISTCC_DIR="/var/tmp/.distcc"
DISTDIR="/usr/portage/distfiles"
EDITOR="/usr/bin/vim"
ELIBC="glibc"
EMERGE_DEFAULT_OPTS="--verbose --with-bdeps y"
EMERGE_WARNING_DELAY="10"
FEATURES="ccache distlocks fixpackages metadata-transfer parallel-fetch sandbox sfperms strict userfetch userpriv usersandbox"
FETCHCOMMAND="/usr/bin/wget -t 5 -T 60 --passive-ftp -O ${DISTDIR}/${FILE} ${URI}"
GCC_PATH="/usr/i686-pc-linux-gnu/gcc-bin/4.1.2"
GCC_SPECS=""
GDK_USE_XFT="1"
GENERIC="bash-completion doc examples bzip2"
GENTOO_MIRRORS="ftp://ftp.is.co.za/linux/distributions/gentoo"
GUILE_LOAD_PATH="/usr/share/guile/1.6"
G_BROKEN_FILENAMES="1"
G_FILENAME_ENCODING="UTF-8"
HOME="/root"
HUSHLOGIN="FALSE"
INFOPATH="/usr/share/info:/usr/share/binutils-data/i686-pc-linux-gnu/2.17/info:/usr/share/gcc-data/i686-pc-linux-gnu/4.1.2/info"
INPUT_DEVICES="keyboard mouse evdev"
JAVAC="/etc/java-config-2/current-system-vm/bin/javac"
JAVA_HOME="/etc/java-config-2/current-system-vm"
JDK_HOME="/etc/java-config-2/current-system-vm"
KERNEL="linux"
LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text"
LESS="-R -M --shift 5"
LESSOPEN="|lesspipe.sh %s"
LINGUAS="en"
LOGNAME="root"
LS_COLORS="no=00:fi=00:di=01;34:ln=01;36:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=01;05;37;41:mi=01;05;37;41:su=37;41:sg=30;43:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arj=01;31:
*.taz=01;31:*.lzh=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.gz=01;31:*.bz2=01;31:*.bz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.rar=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.
rz=01;31:*.jpg=01;35:*.jpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;
35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.gl
=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.pdf=00;32:*.ps=00;32:*.txt=00;32:*.patch=00;32:*.diff=00;32:*.log=00;32:*.tex=00;32:*.doc=00;32:*.aac=00;36:*.au=00;36:*.flac=00;36:*.mid=00;36:*.midi=00;36
:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:"
MAIL="/var/mail/root"
MAKEOPTS="-j4"
MANPATH="/etc/java-config-2/current-system-vm/man:/usr/local/share/man:/usr/share/man:/usr/share/binutils-data/i686-pc-linux-gnu/2.17/man:/usr/share/gcc-data/i686-pc-linux-gnu/4.1.2/man:/etc/java-config/system-vm
/man/:/usr/lib/php5/man/:/opt/vmware/server/man"
NETWORK="-ipv6"
NOCOLOR="true"
OLDPWD="/root/reported-bugs"
OPENGL_PROFILE="xorg-x11"
PAGER="/usr/bin/less"
PATH="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/bin:/usr/i686-pc-linux-gnu/gcc-bin/4.1.2:/opt/vmware/server/bin"
PKGDIR="/usr/portage/packages"
PORTAGE_ARCHLIST="ppc s390 amd64 x86 ppc64 x86-fbsd m68k arm sparc sh mips ia64 alpha ppc-macos hppa sparc-fbsd"
PORTAGE_BINHOST_CHUNKSIZE="3000"
PORTAGE_BIN_PATH="/usr/lib/portage/bin"
PORTAGE_CONFIGROOT="/"
PORTAGE_DEBUG="0"
PORTAGE_DEPCACHEDIR="/var/cache/edb/dep"
PORTAGE_ELOG_CLASSES="info warn error log qa"
PORTAGE_ELOG_MAILFROM="portage"
PORTAGE_ELOG_MAILSUBJECT="[portage] ebuild log for ${PACKAGE} on ${HOST}"
PORTAGE_ELOG_MAILURI="root"
PORTAGE_ELOG_SYSTEM="save"
PORTAGE_GID="250"
PORTAGE_INST_GID="0"
PORTAGE_INST_UID="0"
PORTAGE_NICENESS="3"
PORTAGE_PYM_PATH="/usr/lib/portage/pym"
PORTAGE_RSYNC_EXRA_OPTS=""
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filte
r=H_**/files/digest-*"
PORTAGE_RSYNC_RETRIES="7"
PORTAGE_TMPDIR="/var/tmp"
PORTAGE_TMPFS="/dev/shm"
PORTAGE_WORKDIR_MODE="0700"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
PORT_LOGDIR="/var/log/portage"
PRELINK_PATH_MASK="/usr/lib/gstreamer-0.10"
PWD="/root/reported-bugs/epiphany"
PYTHONDOCS="/usr/share/doc/python-docs-2.4.4/html/lib"
PYTHONPATH="/usr/lib/portage/pym"
RESUMECOMMAND="/usr/bin/wget -c -t 5 -T 60 --passive-ftp -O ${DISTDIR}/${FILE} ${URI}"
ROOT="/"
ROOTPATH="/opt/bin:/usr/i686-pc-linux-gnu/gcc-bin/4.1.2:/opt/vmware/server/bin"
RPMDIR="/usr/portage/rpm"
SECURITY="ssl sasl kerberos"
SHELL="/bin/bash"
SHLVL="1"
STAGE1_USE="nptl nptlonly unicode"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
TERM="linux"
TEXINPUTS="/usr/lib/ocaml/ocamldoc:"
USE="X acl acpi alsa avahi bash-completion berkdb bitmap-fonts bzip2 cairo cdr cli cracklib crypt cups dbus dri dvd dvdr dvdread eds emboss encode esd evo examples fam firefox fortran gdbm gif gnome gpm gstreamer
 gtk hal iconv isdnlog jpeg kerberos ldap mad midi mikmod mp3 mpeg mudflap ncurses nls nptl nptlonly ogg opengl openmp oss pam pcre pdf perl png pppd python qt3support quicktime readline reflection sdl session sp
ell spl ssl svg tcpd tiff truetype truetype-fonts type1-fonts unicode vorbis win32codecs x86 xml xorg xv zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1 emu10k1x ens1370 ens1371 
es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lf
loat linear meter mulaw multi null plug rate route share shm softvol" ELIBC="glibc" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurse
s text" LINGUAS="en" USERLAND="GNU" VIDEO_CARDS="i810"
USER="root"
USERLAND="GNU"
USE_EXPAND="ALSA_CARDS ALSA_PCM_PLUGINS CAMERAS CROSSCOMPILE_OPTS DVB_CARDS ELIBC FCDSL_CARDS FOO2ZJS_DEVICES FRITZCAPI_CARDS INPUT_DEVICES KERNEL LCD_DEVICES LINGUAS LIRC_DEVICES MISDN_CARDS USERLAND VIDEO_CARDS
"
USE_EXPAND_HIDDEN="CROSSCOMPILE_OPTS ELIBC KERNEL USERLAND"
USE_ORDER="env:pkg:conf:defaults:pkginternal"
VIDEO_CARDS="i810"
XARGS="xargs -r"
_="/usr/bin/emerge"





Comment 2


Wernher Eksteen





          2007-08-16 16:29:00 UTC
        

To get this error:
1. emerge --sync
2. emerge --update --newuse --deep world
or
emerge --update epiphany




Comment 3


Jakub Moc (RETIRED)






          2007-08-16 16:30:35 UTC
        

> !!! Please attach the following file when filing a report to bugs.gentoo.org:
> !!! /var/tmp/portage/www-client/epiphany-2.18.2/work/epiphany-2.18.2/config.log

^^^ Please do it.




Comment 4


Wernher Eksteen





          2007-08-16 16:30:57 UTC
        

Created attachment 128295 [details]
build log and call stack




Comment 5


Wernher Eksteen





          2007-08-16 16:31:45 UTC
        

Created attachment 128297 [details]
config.log




Comment 6


Wernher Eksteen





          2007-08-16 16:32:26 UTC
        

Created attachment 128299 [details]
emerge install list




Comment 7


Wernher Eksteen





          2007-08-16 16:33:04 UTC
        

Created attachment 128301 [details]
emerge --info




Comment 8


Wernher Eksteen





          2007-08-16 16:33:27 UTC
        

Created attachment 128303 [details]
emerge make.conf




Comment 9


Wernher Eksteen





          2007-08-16 16:34:44 UTC
        

(In reply to comment #3)
> > !!! Please attach the following file when filing a report to bugs.gentoo.org:
> > !!! /var/tmp/portage/www-client/epiphany-2.18.2/work/epiphany-2.18.2/config.log
> 
> ^^^ Please do it.
> 

I did it :)




Comment 10


Jakub Moc (RETIRED)






          2007-08-16 16:41:37 UTC
        

Hmm... doesn't look like epiphany bug to me...

<snip>
./configure: line 25131: 16601 Segmentation fault      ./conftest$ac_exeext
</snip>




Comment 11


Wernher Eksteen





          2007-08-16 16:54:46 UTC
        

(In reply to comment #10)
> Hmm... doesn't look like epiphany bug to me...
> 
> <snip>
> ./configure: line 25131: 16601 Segmentation fault      ./conftest$ac_exeext
> </snip>
> 

Ok, in your opinion what else could relate to cause this bug and can you see a work around other than removing epiphany from the list ?

Thanks
Wernher




Comment 12


Wernher Eksteen





          2007-08-16 17:08:16 UTC
        

(In reply to comment #10)
> Hmm... doesn't look like epiphany bug to me...
> 
> <snip>
> ./configure: line 25131: 16601 Segmentation fault      ./conftest$ac_exeext
> </snip>
> 

It's seems to be related with "XPCOM programs" from this extract from build log:
--<snip>--
checking whether we can compile and run XPCOM programs... no
configure: error: Cannot compile and run XPCOM programs
--<snip>--

The only thing I know of in my USE flags that has any relation with XPCOM based apps is "xulrunner".

emerge --search xulrunner
*  net-libs/xulrunner
      Latest version available: 1.8.1.6
      Latest version installed: 1.8.1.6
      Size of files: 34,599 kB
      Homepage:      http://developer.mozilla.org/en/docs/XULRunner
      Description:   Mozilla runtime package that can be used to bootstrap XUL+XPCOM applications
      License:       MPL-1.1 GPL-2 LGPL-2.1

emerge -pv xulrunner
These are the packages that would be merged, in order:

Calculating dependencies  ..... ..... ....... done!
[ebuild   R   ] net-libs/xulrunner-1.8.1.6  USE="gnome -debug -ipv6 -java* -xinerama* -xprint*" 0 kB 

Total: 1 package (1 reinstall), Size of downloads: 0 kB





Comment 13


Wernher Eksteen





          2007-08-16 17:11:41 UTC
        

(In reply to comment #10)
> Hmm... doesn't look like epiphany bug to me...
> 
> <snip>
> ./configure: line 25131: 16601 Segmentation fault      ./conftest$ac_exeext
> </snip>
> 

as you can see for epiphany I added "-xulrunner" to the USE flags:
[ebuild     U ] www-client/epiphany-2.18.2 [2.16.3] USE="doc python spell%* -debug -xulrunner%" 0 kB




Comment 14


Wernher Eksteen





          2007-08-16 17:45:39 UTC
        

(In reply to comment #10)
> Hmm... doesn't look like epiphany bug to me...
> 
> <snip>
> ./configure: line 25131: 16601 Segmentation fault      ./conftest$ac_exeext
> </snip>
> 

What USE flags are contributing for epiphany to become a default dependancy in the emerge installation list, I want to remove it from the installation list. Doing an emerge --unmerge epiphany does not help, there's must be some USE flag to add it to the emerge installation list, any idea ?




Comment 15


Gilles Dartiguelongue (RETIRED)






          2007-08-16 20:10:42 UTC
        

the configure seems to believe you have firefox installed. Could you please list all the gecko base applications you have installed and verify if you have files such as xulrunner-config, mozilla-config and do a list of them, thanks.




Comment 16


Wernher Eksteen





          2007-08-16 20:56:01 UTC
        

Created attachment 128325 [details]
equery list




Comment 17


Wernher Eksteen





          2007-08-16 20:56:50 UTC
        

Created attachment 128328 [details]
mozilla-config.h




Comment 18


Wernher Eksteen





          2007-08-16 20:58:29 UTC
        

(In reply to comment #15)
> the configure seems to believe you have firefox installed. Could you please
> list all the gecko base applications you have installed and verify if you have
> files such as xulrunner-config, mozilla-config and do a list of them, thanks.
> 

currently installed gecko apps
==============================
*  www-client/mozilla-firefox
      Latest version available: 2.0.0.6
      Latest version installed: 2.0.0.6

*  www-client/mozilla-launcher
      Latest version available: 1.56
      Latest version installed: 1.56

USE flags for mozilla-firefox
==============================
[ebuild   R   ] www-client/mozilla-firefox-2.0.0.6  USE="gnome java mozdevelop xforms xinerama xprint -bindist -debug -filepicker -ipv6 -moznopango -restrict-javascript" LINGUAS="-af -ar -be -bg -ca -cs -da -de -el -en_GB -es -es_AR -es_ES -eu -fi -fr -fy -fy_NL -ga -ga_IE -gu -gu_IN -he -hu -it -ja -ka -ko -ku -lt -mk -mn -nb -nb_NO -nl -nn -nn_NO -pa -pa_IN -pl -pt -pt_BR -pt_PT -ro -ru -sk -sl -sv -sv_SE -tr -zh -zh_CN -zh_TW" 0 kB 

Please have a look at the attached "equery-list" file for a list of all installed apps on my system, and let me know if there's anything else out of that list that you may need additional info of.

I've also attached the "mozilla-config.h" file, no xulrunner-config was found.




Comment 19


Wernher Eksteen





          2007-08-16 21:12:26 UTC
        

(In reply to comment #15)
> the configure seems to believe you have firefox installed. Could you please
> list all the gecko base applications you have installed and verify if you have
> files such as xulrunner-config, mozilla-config and do a list of them, thanks.
> 

Hi, how can I remove epiphany from the install list, and do you why it is a dependency requirement for gnome ? If someone can just let me know how to disable this epiphany, I can continue with upgrading or revert back to previous state. I've made the silly mistake to unmerge to previous version of epiphany (which was my current working version), now I cannot move forward, not backwards! I can't do a --depclean and then a revdep-rebuild -X because of this, and neither can I move forward, so I'm stuck!




Comment 20


Gilles Dartiguelongue (RETIRED)






          2007-08-16 21:22:06 UTC
        

this is strange, your equery list doesn't reference xulrunner while in your comment #10, you seem to have it installed.

Anyway, the configure clearly shows that there is a problem with your installed firefox. Does reemerging firefox makes any difference ?




Comment 21


Gilles Dartiguelongue (RETIRED)






          2007-08-16 21:24:25 UTC
        

you can put epiphany in packages.provided until you have finished updating your system but it could cause some problems to other packages (epiphany-extensions for example) but this is problably the simplest solution for you at the moment.

epiphany is pulled in by the gnome ebuild and is not optional if you installed gnome with "emerge gnome". if you want to remove some component of the gnome desktop, you will have to use gnome-light ebuild or your own gnome ebuild.




Comment 22


Wernher Eksteen





          2007-08-17 05:13:09 UTC
        

(In reply to comment #20)
> this is strange, your equery list doesn't reference xulrunner while in your
> comment #10, you seem to have it installed.
> 
> Anyway, the configure clearly shows that there is a problem with your installed
> firefox. Does reemerging firefox makes any difference ?
> 

That's because I initially had epiphany with the "xulrunner" USE flag during the world update, but then changed it to "-xulrunner" upon thinking it has something to do with the "XPCOM programs" errors mentioned at the end of the build log, and then removed the package xulrunner there after. If you want I can update the list to what it's currently. I've also changed any instance down the list that contains the xulrunner USE flag to "-xulrunner".

I will try to re-emerge firefox and let you know if this had any effect.




Comment 23


Wernher Eksteen





          2007-08-17 07:22:33 UTC
        

(In reply to comment #20)
> this is strange, your equery list doesn't reference xulrunner while in your
> comment #10, you seem to have it installed.
> 
> Anyway, the configure clearly shows that there is a problem with your installed
> firefox. Does reemerging firefox makes any difference ?
> 

Nope, reemerging firefox did not work. This is clearly a bug of somekind somewhere, maybe not directly on epiphany, but whatever it is, it's causing epiphany to break and it's very annoying because it's a required dependency in the install list for gnome which causes updates to fail and can't continue with installation whilst epiphany is in the list.




Comment 24


Wernher Eksteen





          2007-08-17 07:26:38 UTC
        

(In reply to comment #21)
> you can put epiphany in packages.provided until you have finished updating your
> system but it could cause some problems to other packages (epiphany-extensions
> for example) but this is problably the simplest solution for you at the moment.
> 
> epiphany is pulled in by the gnome ebuild and is not optional if you installed
> gnome with "emerge gnome". if you want to remove some component of the gnome
> desktop, you will have to use gnome-light ebuild or your own gnome ebuild.
> 

Thanks for the tip on packages.provide, have added epiphany to it, and was removed from the install list, thank you. I'm currently running the world update without it and hope to have positive results.




Comment 25


Wernher Eksteen





          2007-08-17 11:05:55 UTC
        


(In reply to comment #21)
> you can put epiphany in packages.provided until you have finished updating your
> system but it could cause some problems to other packages (epiphany-extensions
> for example) but this is problably the simplest solution for you at the moment.
> 
> epiphany is pulled in by the gnome ebuild and is not optional if you installed
> gnome with "emerge gnome". if you want to remove some component of the gnome
> desktop, you will have to use gnome-light ebuild or your own gnome ebuild.
> 

hmmm.. ok well finally something seems to be doing something right!

I finally gave up, especially when my last hope was turned to revdep-rebuild -X which failed heavily. Decided to reboot my machine and then look at the error messages and logs at startup where after if I could not find anything of help where I would re-do gentoo again from scratch...

Upon startup, my system complained about these:

/usr/sbin/apache2: error while loading shared libraries: libexpat.so.0 cannot open shared object file: No such file or directory

/usr/bin/dbus-daemon: error while loading shared libraries: libexpat.so.0 cannot open shared object file: No such file or directory

Imediately my focus turned to expat!

I ran "revdep-rebuild -X --library libexpat.so.0" which fixed 20 packages on my system including apache2 and dbus-daemon...

Not sure if this is going to be the solution, but will let you know after I've re-ran the world update..




Comment 26


Wernher Eksteen





          2007-08-17 16:15:00 UTC
        

(In reply to comment #25)
> (In reply to comment #21)
> > you can put epiphany in packages.provided until you have finished updating your
> > system but it could cause some problems to other packages (epiphany-extensions
> > for example) but this is problably the simplest solution for you at the moment.
> > 
> > epiphany is pulled in by the gnome ebuild and is not optional if you installed
> > gnome with "emerge gnome". if you want to remove some component of the gnome
> > desktop, you will have to use gnome-light ebuild or your own gnome ebuild.
> > 
> 
> hmmm.. ok well finally something seems to be doing something right!
> 
> I finally gave up, especially when my last hope was turned to revdep-rebuild -X
> which failed heavily. Decided to reboot my machine and then look at the error
> messages and logs at startup where after if I could not find anything of help
> where I would re-do gentoo again from scratch...
> 
> Upon startup, my system complained about these:
> 
> /usr/sbin/apache2: error while loading shared libraries: libexpat.so.0 cannot
> open shared object file: No such file or directory
> 
> /usr/bin/dbus-daemon: error while loading shared libraries: libexpat.so.0
> cannot open shared object file: No such file or directory
> 
> Imediately my focus turned to expat!
> 
> I ran "revdep-rebuild -X --library libexpat.so.0" which fixed 20 packages on my
> system including apache2 and dbus-daemon...
> 
> Not sure if this is going to be the solution, but will let you know after I've
> re-ran the world update..
> 

Nope, this didn't work either :(
now running emerge -e world as last resort before formatting and starting from scratch.





Comment 27


hvjunk





          2007-08-19 19:07:06 UTC
        

(In reply to comment #25)
>
> Upon startup, my system complained about these:
> 
> /usr/sbin/apache2: error while loading shared libraries: libexpat.so.0 cannot
> open shared object file: No such file or directory
> 
> /usr/bin/dbus-daemon: error while loading shared libraries: libexpat.so.0
> cannot open shared object file: No such file or directory
> 
> Imediately my focus turned to expat!

IT happened early in my emerge -uDN system yesterday, so that's where I started
to fix things, and at present it appears to be "fixed"/fixing things...

libexpat.so.0 perhaps needing some slooted stuff/things to prevent this type of major preakage :(

> 
> I ran "revdep-rebuild -X --library libexpat.so.0" which fixed 20 packages on my
> system including apache2 and dbus-daemon...
> 
> Not sure if this is going to be the solution, but will let you know after I've
> re-ran the world update..
> 






Comment 28


Willard Dawson





          2007-08-25 23:21:47 UTC
        

Created attachment 129185 [details]
emerge failure

Perhaps this build log from an emerge failure for epiphany-2.18.3 is related to this bug?




Comment 29


Gilles Dartiguelongue (RETIRED)






          2007-08-27 09:21:48 UTC
        

*** Bug 190369 has been marked as a duplicate of this bug. ***




Comment 30


Daniel Gryniewicz (RETIRED)






          2007-08-27 16:53:07 UTC
        

comment #28:

No, that's the expat upgrade.  Bug #41124




Comment 31


Mat Ferry





          2007-09-27 10:08:43 UTC
        

I had the same problem, 

ACCESS DENIED and ACCESS VIOLATION REPORT

while emerging epiphany
and doing the unlink manually, just causes the same kind of problem later on.
At the gentoo forum I was told to FEATURE="-sandbox" emerge <package>

same problem with the evolution package.




Comment 32


Gilles Dartiguelongue (RETIRED)






          2007-09-27 16:07:29 UTC
        

this sounds like the python-2.5 migration. Could you be more descriptive, adding the actual output of portage.

@Wernher, is your problem fixed now ?




Comment 33


Wernher Eksteen





          2007-09-27 16:27:23 UTC
        

(In reply to comment #32)
> this sounds like the python-2.5 migration. Could you be more descriptive,
> adding the actual output of portage.
> 
> @Wernher, is your problem fixed now ?
> 

Hi Gilles 

Thanks for following up. Nope.. I couldn't get it working, have tried everything I could think of and what I was instructed to do, no answers came and in the end was forced to redo Gentoo, but then followed a different install approach all together, skipping the potential of running into the same problem again I installed "gnome-light" where epiphany was not part of the dependency list.I was totally gob smacked about how bad my system was screwed at the time before re-installing Gentoo again. Just glad I got rid of the issue, even by having to gone through all the trouble I wouldn't part Gentoo just for that, been to long with Gentoo to just toss it for something like that, after all I knew was not really a Gentoo specific issue, just some lame coding somewhere along the line ;) Moral of the story, don't just jump to massive updates such as gnome-2.6 to gnome-2.8 without giving it at least two weeks before following pursuit. I still don't know what the real reason is for epiphany to be a dependency to Gnome in any case, if someone could answer this I'd be much obliged. Thanks for all the help on this, I guess that by now the issue should be resolved, but I'll be damned before trying to install the full Gnome suite again anytime soon.

Thanks,
Wernher




Comment 34


Gilles Dartiguelongue (RETIRED)






          2007-09-27 16:44:29 UTC
        

I think I wrote that before but epiphany is a dependency of gnome because it's gnome desktop's default browser (speaking of upstream not some random distro).

it's strange you went into such troubles, I manage several installations (from 
 1 month fresh to 4 years old) and couldn't reproduce this bug. Anyway if you get around this bug again feel free to either open a new bug or reopen this one.

I'm setting WORKSFORME for the time being.

@Mat, in order to not confuse data on your particular issue, please open a new bug if it's not related to the python migration to 2.5




Comment 35


Wernher Eksteen





          2007-09-27 17:04:11 UTC
        

(In reply to comment #34)
> I think I wrote that before but epiphany is a dependency of gnome because it's
> gnome desktop's default browser (speaking of upstream not some random distro).
> 
> it's strange you went into such troubles, I manage several installations (from 
>  1 month fresh to 4 years old) and couldn't reproduce this bug. Anyway if you
> get around this bug again feel free to either open a new bug or reopen this
> one.
> 
> I'm setting WORKSFORME for the time being.
> 
> @Mat, in order to not confuse data on your particular issue, please open a new
> bug if it's not related to the python migration to 2.5
> 

Thanks Gilles, yes you did answer this then before, sorry, but then the question remains with why on earth is epiphany of all the default browser. Quite strange how it works for some and then you get the unlucky ones like me that has to explain the unexplainable since "everyone else's is working" I guess that's the only downfall to Gentoo, the flexibility to the use flags means not everyone's system is the same and therefor will never quite get the same results or experience the same issues.

Later
Wernher




Comment 36


Wernher Eksteen





          2007-09-27 20:10:53 UTC
        

(In reply to comment #34)
> I think I wrote that before but epiphany is a dependency of gnome because it's
> gnome desktop's default browser (speaking of upstream not some random distro).
> 
> it's strange you went into such troubles, I manage several installations (from 
>  1 month fresh to 4 years old) and couldn't reproduce this bug. Anyway if you
> get around this bug again feel free to either open a new bug or reopen this
> one.
> 
> I'm setting WORKSFORME for the time being.
> 
> @Mat, in order to not confuse data on your particular issue, please open a new
> bug if it's not related to the python migration to 2.5
> 

Thanks Gilles, yes you did answer this then before, sorry, but then the question remains with why on earth is epiphany of all the default browser. Quite strange how it works for some and then you get the unlucky ones like me that has to explain the unexplainable since "everyone else's is working" I guess that's the only downfall to Gentoo, the flexibility to the use flags means not everyone's system is the same and therefor will never quite get the same results or experience the same issues.

Later
Wernher




Comment 37


Daniel Gryniewicz (RETIRED)






          2007-10-10 15:58:03 UTC
        

This is why we provide gnome-light; the gnome meta ebuild is intended to install all of gnome, not part of gnome.  gnome-light installs minimal gnome, and you can use whatever other portions of it that you want.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

