Title: 583210 – cross-*/binutils: QA notice invalid self-reference install_name/reference to
URL: https://bugs.gentoo.org/show_bug.cgi?id=583210

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 583210
cross-*/binutils: QA notice invalid self-reference install_name/reference to
Last modified: 2017-12-29 10:45:31 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 583210 
      - cross-*/binutils: QA notice invalid self-reference install_name/reference to


Summary:
cross-*/binutils: QA notice invalid self-reference install_name/reference to
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo/Alt




Classification:

Unclassified




Component:

Prefix Support

  (show other bugs)



Hardware:

All
        OS X
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Prefix








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2016-05-16 16:54 UTC by Michael Weiser





      Modified:
    
2017-12-29 10:45 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Silence QA warnings on OS X

              (binutils-2.24.51.0.2-install_names.patch,830 bytes,
                patch)

            
2016-05-16 16:54 UTC,

            Michael Weiser




Details
            | Diff





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Michael Weiser





          2016-05-16 16:54:12 UTC
        

When compiling binutils as cross-toolchain on OS X I get QA notices such as:

 * QA Notice: invalid self-reference install_name /usr/local/gentoo/usr/x86_64-apple-darwin15/armv5tejl-softfloat-linux-gnueabi/lib/libopcodes-2.24.51.0.2.20131213.dylib in /usr/local/gentoo/usr/lib/binutils/armv5tejl-softfloat-linux-gnueabi/2.24.51.0.2/libopcodes-2.24.51.0.2.20131213.dylib
 * QA Notice: invalid reference to /usr/local/gentoo/usr/x86_64-apple-darwin15/armv5tejl-softfloat-linux-gnueabi/lib/libbfd-2.24.51.0.2.20131213.dylib in /usr/local/gentoo/usr/lib/binutils/armv5tejl-softfloat-linux-gnueabi/2.24.51.0.2/libopcodes-2.24.51.0.2.20131213.dylib
 * QA Notice: invalid reference to /usr/local/gentoo/usr/x86_64-apple-darwin15/armv5tejl-softfloat-linux-gnueabi/lib/libbfd-2.24.51.0.2.20131213.dylib in /usr/local/gentoo/usr/x86_64-apple-darwin15/armv5tejl-softfloat-linux-gnueabi/binutils-bin/2.24.51.0.2/addr2line

The attached patch for mangling install names and ids fixes that problem for me. I'm not sure if and how this would hit "native" binutils for OS X as well. But since when last I checked they didn't support mach-o and OS X I guess that point is moot.

Reproducible: Always




Comment 1


Michael Weiser





          2016-05-16 16:54:59 UTC
        

Created attachment 434448 [details, diff]
Silence QA warnings on OS X




Comment 2


Michael Weiser





          2017-12-29 10:45:31 UTC
        

Gone with current ebuilds.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

