Title: 410755 – sys-fs/udev-182-r2: touchpad stopped working in X after upgrade
URL: https://bugs.gentoo.org/show_bug.cgi?id=410755

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 410755
sys-fs/udev-182-r2: touchpad stopped working in X after upgrade
Last modified: 2012-04-04 16:13:08 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 410755 
      - sys-fs/udev-182-r2: touchpad stopped working in X after upgrade


Summary:
sys-fs/udev-182-r2: touchpad stopped working in X after upgrade
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Core system

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

udev maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2012-04-04 09:11 UTC by Andrey Grozin





      Modified:
    
2012-04-04 16:13 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



x11









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




/proc/bus/input/devices

              (devices,2.27 KB,
                text/plain)

            
2012-04-04 14:16 UTC,

            Andrey Grozin




Details





xinput list --long

              (xinput,4.34 KB,
                text/plain)

            
2012-04-04 14:17 UTC,

            Andrey Grozin




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Andrey Grozin






          2012-04-04 09:11:20 UTC
        

On my eeePC-1005PE, there is a touchpad and a usb mouse. After upgrade to udev-182-r2 the touchpad no longer works in X (the mouse works). More exactly, touchpad buttons work, but I cannot move the mouse pointer with the touchpad. The relevant part of Xorg.0.log is

[    43.992] (II) config/udev: Adding input device SynPS/2 Synaptics TouchPad (/dev/input/event7)
[    43.992] (**) SynPS/2 Synaptics TouchPad: Applying InputClass "evdev touchpad catchall"
[    43.992] (II) Using input driver 'evdev' for 'SynPS/2 Synaptics TouchPad'
[    43.992] (**) SynPS/2 Synaptics TouchPad: always reports core events
[    43.992] (**) evdev: SynPS/2 Synaptics TouchPad: Device: "/dev/input/event7"
[    43.992] (--) evdev: SynPS/2 Synaptics TouchPad: Vendor 0x2 Product 0x7
[    43.992] (--) evdev: SynPS/2 Synaptics TouchPad: Found 3 mouse buttons
[    43.992] (--) evdev: SynPS/2 Synaptics TouchPad: Found absolute axes
[    43.992] (--) evdev: SynPS/2 Synaptics TouchPad: Found absolute multitouch axes
[    43.992] (--) evdev: SynPS/2 Synaptics TouchPad: Found x and y absolute axes
[    43.992] (--) evdev: SynPS/2 Synaptics TouchPad: Found absolute touchpad.
[    43.992] (II) evdev: SynPS/2 Synaptics TouchPad: Configuring as touchpad
[    43.992] (**) evdev: SynPS/2 Synaptics TouchPad: YAxisMapping: buttons 4 and 5
[    43.992] (**) evdev: SynPS/2 Synaptics TouchPad: EmulateWheelButton: 4, EmulateWheelInertia: 10, EmulateWheelTimeout: 200
[    43.992] (**) Option "config_info" "udev:/sys/devices/platform/i8042/serio1/input/input7/event7"
[    43.992] (II) XINPUT: Adding extended input device "SynPS/2 Synaptics TouchPad" (type: TOUCHPAD, id 13)
[    43.993] (II) evdev: SynPS/2 Synaptics TouchPad: initialized for absolute axes.
[    43.993] (**) SynPS/2 Synaptics TouchPad: (accel) keeping acceleration scheme 1
[    43.993] (**) SynPS/2 Synaptics TouchPad: (accel) acceleration profile 0
[    43.993] (**) SynPS/2 Synaptics TouchPad: (accel) acceleration factor: 2.000
[    43.993] (**) SynPS/2 Synaptics TouchPad: (accel) acceleration threshold: 4
[    43.994] (II) config/udev: Adding input device SynPS/2 Synaptics TouchPad (/dev/input/mouse0)
[    43.994] (II) No input driver specified, ignoring this device.
[    43.994] (II) This device may have been added with another device file.

xorg-server-1.12.0-r1, xf86-input-evdev-2.7.0, xf86-video-intel-2.18.0, kernel 3.3.0 (gentoo-sources).

Both the touchpad and the mouse still work OK in the text mode, /etc/conf.d/gpm specifies

MOUSEDEV=/dev/input/mice

Another observation: I see neither touchpad nor mouse in

eeepc ~ # lsusb
Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
Bus 002 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
Bus 003 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
Bus 004 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
Bus 005 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
Bus 001 Device 003: ID 13d3:5126 IMC Networks 
Bus 002 Device 002: ID 04f3:0232 Elan Microelectronics Corp. 
Bus 005 Device 002: ID 0b05:1788 ASUSTek Computer, Inc. 

Webcam is also absent here (though it works, at least in skype); lshw does not show them, too.




Comment 1


Chí-Thanh Christopher Nguyễn






          2012-04-04 09:57:47 UTC
        

Please attach /proc/bus/input/devices and output of "xinput list --long"
Do you see the same problem if you use xf86-input-synaptics instead of xf86-input-evdev?




Comment 2


Andrey Grozin






          2012-04-04 14:16:12 UTC
        

Created attachment 307771 [details]
/proc/bus/input/devices




Comment 3


Andrey Grozin






          2012-04-04 14:17:24 UTC
        

Created attachment 307773 [details]
xinput list --long




Comment 4


Chí-Thanh Christopher Nguyễn






          2012-04-04 14:28:00 UTC
        

> ⎜   ↳ SynPS/2 Synaptics TouchPad              	id=13	[slave  pointer  (2)]
appears to be detected correctly, including X and Y valuators.

As you might have an Elantech touchpad (verify by running update-usbids, then lsusb again), is MOUSE_PS2_ELANTECH enabled in your kernel?




Comment 5


Andrey Grozin






          2012-04-04 16:13:08 UTC
        

Thanks. I've done the following:

1. recompiled the kernel with Elantech PS/2 protocol extension enabled
2. emerged x11-drivers/xf86-input-synaptics-1.5.2
3. Added an InputDevice section with Driver "synaptic" to xorg.conf, and mentioned this section in ServerLayout

Now both the touchpad and the mouse work. The only thing I cannot understand: why they worked fine without all these things before the upgrade to the latest udev?









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

