Title: 623796 – sci-mathematics/coq fails to compile
URL: https://bugs.gentoo.org/show_bug.cgi?id=623796

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 623796
sci-mathematics/coq fails to compile
Last modified: 2017-07-06 12:24:05 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 623796 
      - sci-mathematics/coq fails to compile


Summary:
sci-mathematics/coq fails to compile
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Team for the ML programming language family








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:




619676



 

        Show dependency tree





 





      Reported:
    
2017-07-04 14:22 UTC by Agostino Sarubbo





      Modified:
    
2017-07-06 12:24 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



dev-portage
sci-mathematics









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




coq-8.6:20170704-141515.log.bz2

              (coq-8.6:20170704-141515.log.bz2,24.08 KB,
                application/x-bzip2)

            
2017-07-04 14:22 UTC,

            Agostino Sarubbo




Details





emerge --info

              (.info,5.48 KB,
                text/plain)

            
2017-07-04 14:22 UTC,

            Agostino Sarubbo




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Agostino Sarubbo






          2017-07-04 14:22:40 UTC
        

This is an auto-filled bug because this package fails to compile.




Comment 1


Agostino Sarubbo






          2017-07-04 14:22:46 UTC
        

Created attachment 480628 [details]
coq-8.6:20170704-141515.log.bz2

build log




Comment 2


Agostino Sarubbo






          2017-07-04 14:22:49 UTC
        

Created attachment 480630 [details]
emerge --info

emerge --info




Comment 3


Alexis Ballier






          2017-07-06 12:24:05 UTC
        

From your log:
 Files /usr/lib64/ocaml/camlp4/camlp4lib.cmxa
       and /usr/lib64/ocaml/stdlib.cmxa
       make inconsistent assumptions over implementation Sys



/usr/lib64/ocaml/stdlib.cmxa comes from ocaml itself,  /usr/lib64/ocaml/camlp4/camlp4lib.cmxa comes from dev-ml/camlp4.

This means ocaml has been updated but camlp4 has not been rebuilt after that.



you don't seem to be using camlp5, so coq has:
!camlp5? ( dev-ml/camlp4:= ) dep

camlp4 has:
DEPEND=">=dev-lang/ocaml-4.04_beta:=[ocamlopt?]"
RDEPEND="${DEPEND}


so, if you update ocaml, portage should consider camlp4 uninstalled since it has  := deps causing rebuilds and trigger a rebuild of camlp4 before attempting to build coq; somehow, this does not happen on your system. Hence there is something broken on your system or this is a portage bug.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

