Title: 718586 – net-wireless/kismet-2020.03.1_p20200314: invalid rules
URL: https://bugs.gentoo.org/show_bug.cgi?id=718586

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 718586
net-wireless/kismet-2020.03.1_p20200314: invalid rules
Last modified: 2022-01-19 21:47:51 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 718586 
      - net-wireless/kismet-2020.03.1_p20200314: invalid rules


Summary:
net-wireless/kismet-2020.03.1_p20200314: invalid rules
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Rick Farina (Zero_Chaos)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2020-04-20 09:18 UTC by Anton Bolshakov





      Modified:
    
2022-01-19 21:47 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



jstein









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Anton Bolshakov





          2020-04-20 09:18:41 UTC
        

Hello,

I'm getting the following errors after I plug a new Wifi card:

[  969.747497] systemd-udevd[701]: /lib/udev/rules.d/11-dm-lvm.rules:40 Invalid value for OPTIONS key, ignoring: 'event_timeout=180'
[  969.747510] systemd-udevd[701]: /lib/udev/rules.d/11-dm-lvm.rules:40 The line takes no effect, ignoring.
[  969.772303] systemd-udevd[701]: /lib/udev/rules.d/80-libinput-device-groups.rules:4 IMPORT key takes '==' or '!=' operator, assuming '==', but please fix it.
[  969.772995] systemd-udevd[701]: /lib/udev/rules.d/90-libinput-fuzz-override.rules:20 IMPORT key takes '==' or '!=' operator, assuming '==', but please fix it.
[  969.773012] systemd-udevd[701]: /lib/udev/rules.d/90-libinput-fuzz-override.rules:25 IMPORT key takes '==' or '!=' operator, assuming '==', but please fix it.
[  969.773856] systemd-udevd[701]: /lib/udev/rules.d/99-freaklabs.rules:3 Invalid value "/bin/sh -c 'echo $(($(ls /dev/freakusb* 2>/dev/null| tail -n1 | sed -e s#/dev/freakusb## )+1))'" for PROGRAM (char 18: invalid substitution type), ignoring, but please fix it.
[  969.773917] systemd-udevd[701]: /lib/udev/rules.d/99-kismet-gps.rules:6 Invalid value "/bin/sh -c 'echo $(($(ls /dev/gps-kismet* 2>/dev/null| tail -n1 | sed -e s#/dev/gps-kismet## )+1))'" for PROGRAM (char 18: invalid substitution type), ignoring, but please fix it.
[  969.773934] systemd-udevd[701]: /lib/udev/rules.d/99-kismet-gps.rules:7 Invalid value "/bin/sh -c 'echo $(($(ls /dev/gps-kismet* 2>/dev/null| tail -n1 | sed -e s#/dev/gps-kismet## )+1))'" for PROGRAM (char 18: invalid substitution type), ignoring, but please fix it.
[  969.773948] systemd-udevd[701]: /lib/udev/rules.d/99-kismet-gps.rules:8 Invalid value "/bin/sh -c 'echo $(($(ls /dev/gps-kismet* 2>/dev/null| tail -n1 | sed -e s#/dev/gps-kismet## )+1))'" for PROGRAM (char 18: invalid substitution type), ignoring, but please fix it.
[  969.773980] systemd-udevd[701]: /lib/udev/rules.d/99-nxp_kw41z.rules:2 Invalid value "/bin/sh -c 'echo $(($(ls /dev/nxp_kw41z* 2>/dev/null| tail -n1 | sed -e s#/dev/nxp_kw41z## )+1))'" for PROGRAM (char 18: invalid substitution type), ignoring, but please fix it.

Bus 002 Device 006: ID 0bda:8812 Realtek Semiconductor Corp. RTL8812AU 802.11a/b/g/n/ac 2T2R DB WLAN Adapter

emerge --info
Portage 2.3.89 (python 3.6.10-final-0, default/linux/amd64/17.1/hardened, gcc-9.3.0, glibc-2.29-r7, 5.5.11-pentoo x86_64)
=================================================================
System uname: Linux-5.5.11-pentoo-x86_64-Intel-R-_Core-TM-_i5-3320M_CPU_@_2.60GHz-with-gentoo-2.6
KiB Mem:     7968628 total,   4548284 free
KiB Swap:    4194300 total,   4194300 free
Timestamp of repository gentoo: Mon, 20 Apr 2020 03:45:01 +0000
Head commit of repository gentoo: 4af2eadb0a2508ab22bfba286961fd29adb9e2c4
Head commit of repository pentoo: 77ec9370ed52e97488b6db263190c829a25f1369

Head commit of repository steam-overlay: ae3e928b83b722ae6197fc1bc78859b592b819e5

sh bash 4.4_p23-r1
ld GNU ld (Gentoo 2.33.1 p2) 2.33.1
app-shells/bash:          4.4_p23-r1::gentoo
dev-java/java-config:     2.2.0-r4::gentoo
dev-lang/perl:            5.30.1::gentoo
dev-lang/python:          2.7.17-r2::gentoo, 3.6.10-r1::gentoo, 3.7.7-r1::gentoo
dev-util/cmake:           3.16.5::gentoo
dev-util/pkgconfig:       0.29.2::gentoo
sys-apps/baselayout:      2.6-r1::gentoo
sys-apps/openrc:          0.42.1::gentoo
sys-apps/sandbox:         2.13::gentoo
sys-devel/autoconf:       2.13-r1::gentoo, 2.69-r4::gentoo
sys-devel/automake:       1.13.4-r2::gentoo, 1.16.1-r2::gentoo
sys-devel/binutils:       2.33.1-r1::gentoo
sys-devel/gcc:            9.3.0::gentoo
sys-devel/gcc-config:     2.2.1::gentoo
sys-devel/libtool:        2.4.6-r6::gentoo
sys-devel/make:           4.2.1-r4::gentoo
sys-kernel/linux-headers: 5.4::gentoo (virtual/os-headers)
sys-libs/glibc:           2.29-r7::gentoo
Repositories:

gentoo
    location: /usr/portage
    sync-type: rsync
    sync-uri: rsync://rsync.asia.gentoo.org/gentoo-portage
    priority: -1000
    sync-rsync-verify-metamanifest: yes
    sync-rsync-verify-max-age: 24
    sync-rsync-extra-opts: 
    sync-rsync-verify-jobs: 1

local-overlay
    location: /var/db/overlays/local
    masters: gentoo
    priority: 0

pentoo
    location: /var/db/overlays/pentoo-overlay
    sync-type: git
    sync-uri: https://github.com/pentoo/pentoo-overlay
    masters: gentoo

steam-overlay
    location: /var/db/overlays/steam-overlay
    sync-type: git
    sync-uri: https://github.com/anyc/steam-overlay.git
    masters: gentoo
    priority: 50

ACCEPT_KEYWORDS="amd64"
ACCEPT_LICENSE="@FREE"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=native -O2 -pipe -frecord-gcc-switches"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /etc/stunnel/stunnel.conf /usr/share/config /usr/share/easy-rsa /usr/share/gnupg/qualified.txt /usr/share/themes/oxygen-gtk/gtk-2.0"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/dconf /etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo"
CXXFLAGS="-march=native -O2 -pipe -frecord-gcc-switches"
DISTDIR="/usr/portage/distfiles"
EMERGE_DEFAULT_OPTS="--quiet-build"
ENV_UNSET="DBUS_SESSION_BUS_ADDRESS DISPLAY GOBIN PERL5LIB PERL5OPT PERLPREFIX PERL_CORE PERL_MB_OPT PERL_MM_OPT XAUTHORITY XDG_CACHE_HOME XDG_CONFIG_HOME XDG_DATA_HOME XDG_RUNTIME_DIR"
FCFLAGS="-O2 -pipe -frecord-gcc-switches -frecord-gcc-switches"
FEATURES="assume-digests binpkg-docompress binpkg-dostrip binpkg-logs config-protect-if-modified distlocks ebuild-locks fixlafiles ipc-sandbox merge-sync multilib-strict network-sandbox news parallel-fetch pid-sandbox preserve-libs protect-owned qa-unresolved-soname-deps sandbox sfperms strict unknown-features-warn unmerge-logs unmerge-orphans userfetch userpriv usersandbox usersync xattr"
FFLAGS="-O2 -pipe -frecord-gcc-switches -frecord-gcc-switches"
GENTOO_MIRRORS="http://mirror.rise.ph/gentoo/"
INSTALL_MASK="*.la"
LANG="en_SG.UTF-8"
LDFLAGS="-Wl,-O1 -Wl,--as-needed -Wl,--defsym=__gentoo_check_ldflags__=0"
LINGUAS="en ru"
MAKEOPTS="-j4"
PKGDIR="/usr/portage/packages"
PORTAGE_BINHOST="https://pentoo.emjay-embedded.co.uk/Packages/amd64-hardened/"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_EXTRA_OPTS="--omit-dir-times"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --omit-dir-times --compress --force --whole-file --delete --stats --human-readable --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --exclude=/.git"




Comment 1


Rick Farina (Zero_Chaos)






          2020-12-04 15:18:15 UTC
        

What version of udev are you running? the rules seem to work fine for me.




Comment 2


Anton Bolshakov





          2020-12-04 16:03:23 UTC
        

I'm using the stable arch:

dev-libs/libgudev-233-r1
dev-python/pyudev-0.22.0
sys-fs/udev-245.5-r1
sys-fs/udev-init-scripts-34
virtual/libudev-232-r3
virtual/udev-217-r2




Comment 3


Rick Farina (Zero_Chaos)






          2020-12-04 16:11:24 UTC
        

It works fine with the gentoo default eudev, I guess the rule format has diverged?  Patches welcome I guess.




Comment 4


Rick Farina (Zero_Chaos)






          2022-01-19 21:47:51 UTC
        

this was working at report on eudev, and now it's working on stable udev.  I can't replicate any kind of failure, I'm closing this.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

