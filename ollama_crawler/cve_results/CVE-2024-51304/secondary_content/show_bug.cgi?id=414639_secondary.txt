Title: 414639 – bzr.eclass: please consider creating a global launchpad account for Gentoo users and using it for login
URL: https://bugs.gentoo.org/show_bug.cgi?id=414639

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 414639
bzr.eclass: please consider creating a global launchpad account for Gentoo users and using it for login
Last modified: 2012-05-24 18:10:33 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 414639 
      - bzr.eclass: please consider creating a global launchpad account for Gentoo users and using it for login


Summary:
bzr.eclass: please consider creating a global launchpad account for Gentoo us...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Eclasses

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       enhancement
      


Assignee:

bazaar+obsolete








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2012-05-04 20:17 UTC by Michał Górny





      Modified:
    
2012-05-24 18:10 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



cyprien
emacs









See Also:


https://launchpad.net/bugs/992850





Package list:







Runtime testing required:

---























      Attachments
    




.bzr.log for s25rttr

              (.bzr.log,6.41 KB,
                text/plain)

            
2012-05-20 07:51 UTC,

            Ulrich Müller




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Michał Górny









          2012-05-04 20:17:46 UTC
        

For dealing with 'lp:' repos which are pretty common for bzr ebuilds, bzr can use two protocols: either anonymous https (by default) or ssh (when logged in). Sadly, the https protocol is awfully ineffective.

For the games-strategy/s25rttr ebuild (Sunrise overlay), with anonymous https download bzr fetched ~740M of data while with ssh... ~140M. So, using https resulted in circa ~600M of overhead which is practically insane.

After asking on #bzr, I was informed that they're aware of the uneffictivity and they plan to fix it someday. I was suggested that we should consider creating a global launchpad account for our users, and using that in the eclass.

What do you think?




Comment 1


Ulrich Müller






          2012-05-20 07:51:55 UTC
        

Created attachment 312321 [details]
.bzr.log for s25rttr

I can't reproduce the problem. The downloaded data volume for initial branchning of the s25rttr repo doesn't look excessive to me:

>>> Unpacking source...
 * bzr branch start -->
 *    repository: lp:s25rttr => /var/portage/distfiles/bzr-src/s25rttr
You have not informed bzr of your Launchpad ID, and you must do this to
write to Launchpad or access private data.  See "bzr help launchpad-login".
     6kB     8kB/s \ Finding revisions
     6kB     8kB/s | Fetching revisions:Get stream source
[...]
148253kB   365kB/s - Fetching revisions:Inserting stream:Done 90117/90117
148367kB    10kB/s | Fetching revisions:Finishing stream
Branched 7975 revisions.
 * exporting ...
 * revision 7975 is now in /var/tmp/portage/games-strategy/s25rttr-9999/work/s25rttr-9999
>>> Source unpacked in /var/tmp/portage/games-strategy/s25rttr-9999/work

$ du -s /usr/portage/distfiles/bzr-src/s25rttr
145688  /usr/portage/distfiles/bzr-src/s25rttr

BZR log is attached.




Comment 2


Michał Górny









          2012-05-24 18:10:33 UTC
        

Ok, it seems to work fine now...









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

