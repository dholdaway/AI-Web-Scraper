Title: 153419 – coot-0.1.2 can't find clipper
URL: https://bugs.gentoo.org/show_bug.cgi?id=153419

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 153419
coot-0.1.2 can't find clipper
Last modified: 2006-10-30 13:19:21 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 153419 
      - coot-0.1.2 can't find clipper


Summary:
coot-0.1.2 can't find clipper
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Chemistry-Related Packages








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-10-30 02:04 UTC by Klaas Decanniere





      Modified:
    
2006-10-30 13:19 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




coot-0.1.2/work/coot-0.1.2/config.log

              (coot-config.log,49.68 KB,
                text/plain)

            
2006-10-30 09:44 UTC,

            Klaas Decanniere




Details





qlist ccp4 | grep clipper

              (qlist_clipper.log,4.49 KB,
                text/plain)

            
2006-10-30 09:45 UTC,

            Klaas Decanniere




Details





qlist ccp4 | grep clipper | grep 'lib/.*so' | xargs ldd

              (qlist_xargs.log,3.05 KB,
                text/plain)

            
2006-10-30 09:47 UTC,

            Klaas Decanniere




Details





qlist -I -v ccp4

              (qlist_ccp4.log,129 bytes,
                text/plain)

            
2006-10-30 09:48 UTC,

            Klaas Decanniere




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Klaas Decanniere





          2006-10-30 02:04:15 UTC
        

probably something simple, but I'm not sure yet how to go and fix this myself  in the ebuild environment.
(I might regret this later on, but I noticed that the maintainer feels a bit lonely - I could probably be coached/convinced into helping to maintain some (protein) crystallography packages)


emerge quits with this error when trying to install coot-0.1.2 (0.1.2-pre-something seems fine):

checking for Clipper... no
Error locating Clipper

!!! Please attach the following file when filing a report to bugs.gentoo.org:
!!! /var/tmp/portage/coot-0.1.2/work/coot-0.1.2/config.log

!!! ERROR: sci-chemistry/coot-0.1.2 failed.
Call stack:
  ebuild.sh, line 1546:   Called dyn_compile
  ebuild.sh, line 937:   Called src_compile
  coot-0.1.2.ebuild, line 72:   Called econf '--includedir=${prefix}/include/coot' '--with-gtkcanvas-prefix=/usr' '--with-clipper-prefix=/usr' '--with-mmdb-prefix=/usr' '--with-ssmlib-prefix=/usr' '--with-guile=/usr' '--with-python=/usr'
  ebuild.sh, line 540:   Called die

!!! econf failed
!!! If you need support, post the topmost build error, and the call stack if relevant.


And emerge --info gives:
Portage 2.1.1-r1 (default-linux/x86/2006.1, gcc-4.1.1, glibc-2.4-r3, 2.6.17-gentoo-r8 i686)
=================================================================
System uname: 2.6.17-gentoo-r8 i686 Transmeta(tm) Crusoe(tm) Processor TM5800
Gentoo Base System version 1.12.5
Last Sync: Mon, 30 Oct 2006 09:20:01 +0000
app-admin/eselect-compiler: [Not Present]
dev-java/java-config: 1.3.7, 2.0.30
dev-lang/python:     2.4.3-r4
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.13-r4
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.17-r1
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O3 -march=i686 -pipe -mpreferred-stack-boundary=2 -falign-functions=0 -falign-jumps=0 -falign-loops=0"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/X11/xkb"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/java-config/vms/ /etc/terminfo"
CXXFLAGS="-O3 -march=i686 -pipe -mpreferred-stack-boundary=2 -falign-functions=0 -falign-jumps=0 -falign-loops=0"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://ftp.belnet.be/mirror/rsync.gentoo.org/gentoo/ ftp://ftp.belnet.be/mirror/rsync.gentoo.org/gentoo/ ftp://ftp.wh2.tu-dresden.de/pub/mirrors/gentoo ftp://ftp.join.uni-muenster.de/pub/linux/distributions/gentoo http://mirrors.sec.informatik.tu-darmstadt.de/gentoo/ http://ftp.snt.utwente.nl/pub/os/linux/gentoo ftp://ftp.snt.utwente.nl/pub/os/linux/gentoo ftp://mirror.scarlet-internet.nl/pub/gentoo "
LINGUAS="en nl fr de"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="x86 X acpi alsa berkdb bitmap-fonts bzip2 cli cracklib crypt cups dlloader dri dvd dvdr elibc_glibc emacs fftw fortran gdbm gif gpm iconv input_devices_keyboard input_devices_mouse ipv6 isdnlog jpeg kernel_linux ldap libg++ linguas_de linguas_en linguas_fr linguas_nl mime mmx mp3 ncurses nls nptl nptlonly nsplugin pam pcre perl png ppds pppd python readline reflection rt73usb session smartcard spl ssl tcpd tiff truetype truetype-fonts type1-fonts udev unicode userland_GNU video_cards_fbdev video_cards_nv video_cards_nvidia video_cards_vesa wifi win32codecs xinerama xorg zlib"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY




Comment 1


Donnie Berkholz (RETIRED)






          2006-10-30 08:41:35 UTC
        

Gotta read the output more carefully. =)

!!! Please attach the following file when filing a report to bugs.gentoo.org:
!!! /var/tmp/portage/coot-0.1.2/work/coot-0.1.2/config.log

Also the output of `qlist ccp4 | grep clipper`, `qlist ccp4 | grep clipper | grep 'lib/.*so$' | xargs ldd` and `qlist -I -v ccp4` would be helpful to ensure you've got the clipper libraries and they aren't broken.




Comment 2


Klaas Decanniere





          2006-10-30 09:44:24 UTC
        

Created attachment 100805 [details]
coot-0.1.2/work/coot-0.1.2/config.log




Comment 3


Klaas Decanniere





          2006-10-30 09:45:35 UTC
        

Created attachment 100807 [details]
qlist ccp4 | grep clipper




Comment 4


Klaas Decanniere





          2006-10-30 09:47:20 UTC
        

Created attachment 100808 [details]
qlist ccp4 | grep clipper | grep 'lib/.*so' | xargs ldd




Comment 5


Klaas Decanniere





          2006-10-30 09:48:04 UTC
        

Created attachment 100809 [details]
qlist -I -v ccp4




Comment 6


Donnie Berkholz (RETIRED)






          2006-10-30 10:20:14 UTC
        

Simple enough ...
/usr/lib/gcc/i686-pc-linux-gnu/4.1.1/../../../../i686-pc-linux-gnu/bin/ld: cannot find -lrfftw

Do you have fftw-2 installed? It should have been pulled in by ccp4.

qlist -I -v fftw
qlist fftw | grep rfftw




Comment 7


Klaas Decanniere





          2006-10-30 11:40:05 UTC
        

(In reply to comment #6)


> Do you have fftw-2 installed? It should have been pulled in by ccp4.
> 
> qlist -I -v fftw

sci-libs/fftw-2.1.5-r1

> qlist fftw | grep rfftw
> 

/usr/lib/libsrfftw_threads.la
/usr/lib/libsrfftw_threads.so.2.0.7
/usr/lib/libsrfftw_threads.so.2
/usr/lib/libdrfftw_threads.la
/usr/lib/libsrfftw_threads.a
/usr/lib/libdrfftw_threads.a
/usr/lib/libdrfftw_threads.so.2.0.7
/usr/include/drfftw.h
/usr/include/srfftw.h
/usr/include/srfftw_threads.h
/usr/include/drfftw_threads.h
/usr/lib/libsrfftw_threads.so
/usr/lib/libdrfftw_threads.so
/usr/lib/libdrfftw_threads.so.2
/usr/include/rfftw.h
/usr/include/rfftw_threads.h
/usr/lib/librfftw_threads.so
/usr/lib/librfftw.so

There seemed to be a version mismatch, so I re-emerged fftw-2.1.5-r1 just to be sure (without actually changing anything, except starting the bread maker and adding cupsd to the default runlevel). 
I now get more libraries: 

/usr/lib/librfftw_threads.so
/usr/lib/libsrfftw_threads.la
/usr/lib/libsrfftw_threads.so
/usr/lib/libdrfftw.a
/usr/lib/libsrfftw_threads.so.2.0.7
/usr/lib/libsrfftw.a
/usr/lib/libdrfftw.so.2.0.7
/usr/lib/libsrfftw_threads.so.2
/usr/lib/libdrfftw_threads.la
/usr/lib/libdrfftw_threads.so
/usr/lib/libsrfftw.la
/usr/lib/libsrfftw_threads.a
/usr/lib/libsrfftw.so.2.0.7
/usr/lib/libdrfftw.so.2
/usr/lib/libdrfftw_threads.so.2
/usr/lib/libdrfftw_threads.a
/usr/lib/libdrfftw.la
/usr/lib/libdrfftw.so
/usr/lib/libdrfftw_threads.so.2.0.7
/usr/include/rfftw.h
/usr/include/rfftw_threads.h
/usr/include/drfftw.h
/usr/include/srfftw.h
/usr/include/srfftw_threads.h
/usr/include/drfftw_threads.h
/usr/lib/libsrfftw.so.2
/usr/lib/libsrfftw.so
/usr/lib/librfftw.so


Right now, coot is compiling. 
:-)

don't know why, though.

Thanks,

Klaas





Comment 8


Donnie Berkholz (RETIRED)






          2006-10-30 13:14:06 UTC
        

OK, some kind of bug apparently fixed now, so we'll just close this.




Comment 9


Donnie Berkholz (RETIRED)






          2006-10-30 13:19:21 UTC
        

Please catch me on IRC or drop an email regarding helping with xtal packages.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

