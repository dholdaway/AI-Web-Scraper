Title: 103840 – emerge of splashutils-1.1.9.7 failed during patching the kernel
URL: https://bugs.gentoo.org/show_bug.cgi?id=103840

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 103840
emerge of splashutils-1.1.9.7 failed during patching the kernel
Last modified: 2005-08-26 11:07:22 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 103840 
      - emerge of splashutils-1.1.9.7 failed during patching the kernel


Summary:
emerge of splashutils-1.1.9.7 failed during patching the kernel
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Michal Januszewski (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-08-26 10:16 UTC by Martin





      Modified:
    
2005-08-26 11:07 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Martin





          2005-08-26 10:16:14 UTC
        

the merging of media-gfx/splashutils-1.1.9.7 fails during emerge. I went to
emerge the splashutils-package with the command "emerge splashutils". All
packages were unpacked correctly, all syscalls have been found but then the
emerge stops and gives out a error message (posted below). I searched
google.de/linux but nobody seems to have the same problem. It might be necessary
to know, that i am using the nvidia-kernel-module for my graphic card and the
vesafb-framebuffer.

here is my kernel-configuration for framebuffer-related things (in the case if
it's my fault)

# Graphics support
#
CONFIG_FB=y
CONFIG_FB_CFB_FILLRECT=y
CONFIG_FB_CFB_COPYAREA=y
CONFIG_FB_CFB_IMAGEBLIT=y
CONFIG_FB_SOFT_CURSOR=y
# CONFIG_FB_MACMODES is not set
CONFIG_FB_MODE_HELPERS=y
# CONFIG_FB_TILEBLITTING is not set
# CONFIG_FB_CIRRUS is not set
# CONFIG_FB_PM2 is not set
# CONFIG_FB_CYBER2000 is not set
# CONFIG_FB_ASILIANT is not set
# CONFIG_FB_IMSTT is not set
# CONFIG_FB_VGA16 is not set
CONFIG_FB_VESA=y
CONFIG_FB_VESA_STD=y
# CONFIG_FB_VESA_TNG is not set
CONFIG_VIDEO_SELECT=y
# CONFIG_FB_HGA is not set
# CONFIG_FB_NVIDIA is not set
# CONFIG_FB_RIVA is not set
# CONFIG_FB_MATROX is not set
# CONFIG_FB_RADEON_OLD is not set
# CONFIG_FB_RADEON is not set
# CONFIG_FB_ATY128 is not set
# CONFIG_FB_ATY is not set
# CONFIG_FB_SAVAGE is not set
# CONFIG_FB_SIS is not set
# CONFIG_FB_NEOMAGIC is not set
# CONFIG_FB_KYRO is not set
# CONFIG_FB_3DFX is not set
# CONFIG_FB_VOODOO1 is not set
# CONFIG_FB_TRIDENT is not set
# CONFIG_FB_GEODE is not set
# CONFIG_FB_S1D13XXX is not set
# CONFIG_FB_VIRTUAL is not set

#
# Console display driver support
#
CONFIG_VGA_CONSOLE=y
CONFIG_DUMMY_CONSOLE=y
CONFIG_FRAMEBUFFER_CONSOLE=y
# CONFIG_FONTS is not set
CONFIG_FONT_8x8=y
CONFIG_FONT_8x16=y

#
# Logo configuration
#
CONFIG_LOGO=y
# CONFIG_LOGO_LINUX_MONO is not set
# CONFIG_LOGO_LINUX_VGA16 is not set
CONFIG_LOGO_LINUX_CLUT224=y
# CONFIG_BACKLIGHT_LCD_SUPPORT is not set
CONFIG_FB_SPLASH=y

Reproducible: Always
Steps to Reproduce:
1. emerge media-gfx/splashutils
2. during patching the kernel the emerge stops
3. emerge gives out an error-message

Actual Results:  
splash.o(.text+0x148): In function `main':
: undefined reference to `boot_message'
collect2: ld returned 1 exit status
make: *** [splash_util] Error 1

!!! ERROR: media-gfx/splashutils-1.1.9.7 failed.
!!! Function src_compile, Line 117, Exitcode 2
!!! failed to build splashutils



Expected Results:  
emerge splashutils without any errors

Portage 2.0.51.22-r2 (default-linux/amd64/2005.0, gcc-3.4.4, glibc-2.3.5-r1,
2.6.12-gentoo-r9 x86_64)
=================================================================
System uname: 2.6.12-gentoo-r9 x86_64 AMD Athlon(tm) 64 Processor 3000+
Gentoo Base System version 1.6.13
dev-lang/python:     2.3.5
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6
sys-devel/binutils:  2.15.92.0.2-r10
sys-devel/libtool:   1.5.18-r1
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -march=athlon64 -pipe -fomit-frame-pointer"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/lib64/mozilla/defaults/pref /usr/share/config
/var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=athlon64 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="ftp://sunsite.informatik.rwth-aachen.de/pub/linux/gentoo/
ftp://ftp.wh2.tu-dresden.de/pub/mirrors/gentoo/
ftp://ftp.join.uni-muenster.de/pub/linux/distributions/gentoo/"
LANG="de_DE@euro"
LC_ALL="de_DE@euro"
LINGUAS="de"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="amd64 X acpi alsa avi berkdb bitmap-fonts cdr crypt cups curl dvd eds
encode esd fam foomaticdb fortran gif gnome gpm gstreamer gtk gtk2 imlib ipv6
java jpeg lzw lzw-tiff mad mozilla mp3 mpeg ncurses nls ogg opengl pam pdflib
perl png python quicktime readline samba sdl slang spell ssl tcpd tiff
truetype-fonts type1-fonts usb userlocales vorbis xml2 xmms xpm xv zlib
linguas_de userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LDFLAGS, PORTDIR_OVERLAY




Comment 1


Martin





          2005-08-26 11:07:22 UTC
        

Version 1.1.9.9 of splashutils works for me. Because the package is actually
masked, you have to do the following steps before, or you will crash your
portage tree. First you have to check, if you have the needed files in
/etc/portage/. if not, then do this from the command-line:

# touch /etc/portage/package.unmask
# touch /etc/portage/package.keywords

then you have to enter this on the command-line.

# echo ">=media-gfx/splashutils-1.1.9.9" >> /etc/portage/package.unmask
# echo "media-gfx/splashutils" >> /etc/portage/package.keywords
# emerge splashutils

if the luck is on your side, the emerge will finish without any errors. This fix
 works for my kernel (2.6.12-gentoo-r9). I don't have it tested with other
kernel-versions yet.

Martin.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

