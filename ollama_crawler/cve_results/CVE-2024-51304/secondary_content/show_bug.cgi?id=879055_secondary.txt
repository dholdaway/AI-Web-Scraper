Title: 879055 – net-misc/curl-7.86.0-r1 fails test - FAIL: 1406 - --libcurl for SMTP - output (log/test1406.c)
URL: https://bugs.gentoo.org/show_bug.cgi?id=879055

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 879055
net-misc/curl-7.86.0-r1 fails test - FAIL: 1406 - --libcurl for SMTP - output (log/test1406.c)
Last modified: 2023-03-14 06:18:44 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 879055 
      - net-misc/curl-7.86.0-r1 fails test - FAIL: 1406 - --libcurl for SMTP - output (log/test1406.c)


Summary:
net-misc/curl-7.86.0-r1 fails test - FAIL: 1406 - --libcurl for SMTP - output...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Matt Jolly








URL:







Whiteboard:




Keywords:

TESTFAILURE







Depends on:







Blocks:









 





      Reported:
    
2022-11-01 18:27 UTC by Toralf Förster





      Modified:
    
2023-03-14 06:18 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



base-system









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge-info.txt

              (emerge-info.txt,18.34 KB,
                text/plain)

            
2022-11-01 18:27 UTC,

            Toralf Förster




Details





emerge-history.txt

              (emerge-history.txt,25.78 KB,
                text/plain)

            
2022-11-01 18:27 UTC,

            Toralf Förster




Details





environment

              (environment,106.67 KB,
                text/plain)

            
2022-11-01 18:27 UTC,

            Toralf Förster




Details





etc.portage.tar.bz2

              (etc.portage.tar.bz2,19.80 KB,
                application/x-bzip)

            
2022-11-01 18:27 UTC,

            Toralf Förster




Details





logs.tar.bz2

              (logs.tar.bz2,26.35 KB,
                application/x-bzip)

            
2022-11-01 18:27 UTC,

            Toralf Förster




Details





net-misc:curl-7.86.0-r1:20221101-162039.log.bz2

              (net-misc:curl-7.86.0-r1:20221101-162039.log.bz2,73.64 KB,
                application/x-bzip)

            
2022-11-01 18:27 UTC,

            Toralf Förster




Details





temp.tar.bz2

              (temp.tar.bz2,176.46 KB,
                application/x-bzip)

            
2022-11-01 18:27 UTC,

            Toralf Förster




Details





tests.tar.bz2

              (tests.tar.bz2,514.26 KB,
                application/x-bzip)

            
2022-11-01 18:27 UTC,

            Toralf Förster




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Toralf Förster






          2022-11-01 18:27:20 UTC
        

too long lines were shrinked:

CMD (0): ../src/curl --output log/curl1404.out  --include --trace-ascii log/trace1404 --trace-time http://127.0.0.1:33247/we/want/1404 -F name=value -F 'file=@log/test1404.txt,log/test1404.txt;type=magic/content;encoder=8bit,log/test1404.txt;headers=X-testheader-1: header 1;headers=X-testheader-2: h
PASS: 1404 - --libcurl for HTTP RFC1867-type formposting - -F with 3 files, one with explicit type & encoder
../src/curl --output log/curl1406.out  --include --trace-ascii log/trace1406 --trace-time smtp://127.0.0.1:33525/1406 --mail-rcpt recipient.one@example.com --mail-rcpt recipient.two@example.com --mail-from sender@example.com -T log/test1406.eml --libcurl log/test1406.c >log/stdout1406 2>log/stderr14
CMD (0): ../src/curl --output log/curl1406.out  --include --trace-ascii log/trace1406 --trace-time smtp://127.0.0.1:33525/1406 --mail-rcpt recipient.one@example.com --mail-rcpt recipient.two@example.com --mail-from sender@example.com -T log/test1406.eml --libcurl log/test1406.c >log/stdout1406 2>log
FAIL: 1406 - --libcurl for SMTP - output (log/test1406.c)
== Contents of files in the log/ dir after test 1406
=== Start of file commands.log

  -------------------------------------------------------------------

  This is an unstable amd64 chroot image at a tinderbox (==build bot)
  name: 17.1_desktop_plasma_systemd-j4_test-20221101-100003

  -------------------------------------------------------------------

gcc-config -l:
 [1] x86_64-pc-linux-gnu-12 *
clang/llvm (if any):
Python 3.10.8
Available Rust versions:
  [1]   rust-bin-1.64.0 *
php cli (if any):
GNU Make 4.4

  HEAD of ::gentoo
commit e129d8a6ba2700ae5ad2eb51239254bf87384c3b
Author: Repository mirror & CI <repomirrorci@gentoo.org>
Date:   Tue Nov 1 09:46:52 2022 +0000

    2022-11-01 09:46:51 UTC

emerge -qpvO net-misc/curl
[ebuild     U ] net-misc/curl-7.86.0-r1 [7.84.0] USE="adns* alt-svc* gnutls* http2 imap ipv6 kerberos* mbedtls* openssl pop3 progress-meter rtmp* smtp ssl test* verify-sig* -brotli -ftp* -gopher -hsts -idn -ldap (-nghttp3) -nss -quiche -samba -ssh -sslv3 -static-libs -telnet -tftp* -websockets% -zstd (-threads%)" ABI_X86="(64) -32 (-x32)" CURL_SSL="openssl -gnutls -mbedtls -nss"




Comment 1


Toralf Förster






          2022-11-01 18:27:21 UTC
        

Created attachment 826423 [details]
emerge-info.txt




Comment 2


Toralf Förster






          2022-11-01 18:27:23 UTC
        

Created attachment 826425 [details]
emerge-history.txt




Comment 3


Toralf Förster






          2022-11-01 18:27:24 UTC
        

Created attachment 826427 [details]
environment




Comment 4


Toralf Förster






          2022-11-01 18:27:25 UTC
        

Created attachment 826429 [details]
etc.portage.tar.bz2




Comment 5


Toralf Förster






          2022-11-01 18:27:26 UTC
        

Created attachment 826431 [details]
logs.tar.bz2




Comment 6


Toralf Förster






          2022-11-01 18:27:28 UTC
        

Created attachment 826433 [details]
net-misc:curl-7.86.0-r1:20221101-162039.log.bz2




Comment 7


Toralf Förster






          2022-11-01 18:27:29 UTC
        

Created attachment 826435 [details]
temp.tar.bz2




Comment 8


Toralf Förster






          2022-11-01 18:27:31 UTC
        

Created attachment 826437 [details]
tests.tar.bz2




Comment 9


Matt Jolly






          2023-03-14 06:18:44 UTC
        

I can't repro this failure on any version of curl currently in ::gentoo. Suspect a spurious failure.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

