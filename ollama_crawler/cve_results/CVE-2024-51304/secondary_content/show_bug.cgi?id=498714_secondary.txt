Title: 498714 – Handling of /etc/localtime
URL: https://bugs.gentoo.org/show_bug.cgi?id=498714

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 498714
Handling of /etc/localtime
Last modified: 2014-01-22 03:47:39 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 498714 
      - Handling of /etc/localtime


Summary:
Handling of /etc/localtime
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Core system

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:



http://www.gentoo.org/doc/en/handbook...
        




Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2014-01-20 18:03 UTC by Vitaliy Gladkevitch





      Modified:
    
2014-01-22 03:47 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



brad









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Vitaliy Gladkevitch





          2014-01-20 18:03:48 UTC
        

Gentoo does not create an /etc/localtime symlink that points to a timezone file in /usr/share/zoneinfo. I came across an explanation for this behavior in Gentoo bug #110038, the symlink is not being created in order to support legacy users that have /usr on a separate partition.

Here are some useful links to support the cause:
http://www.freedesktop.org/wiki/Software/systemd/TheCaseForTheUsrMerge/
and
https://fedoraproject.org/wiki/Features/UsrMove

With the growing popularity of modern software like systems that assumes /usr is on the same partition is / I feel that this “bug” has newfound relevance and needs to be revisited.

CentOS:
[root@centos ~]# ls -l /etc/localtime 
lrwxrwxrwx. 1 root root 30 Jan 18 04:21 /etc/localtime -> /usr/share/zoneinfo/US/Eastern

Ubuntu:
vitaliy@ubuntu:~$ sudo ls -l /etc/localtime 
lrwxrwxrwx 1 root root 30 Jan 18 11:49 /etc/localtime -> /usr/share/zoneinfo/US/Eastern

I am not saying that we should follow everything CentOS or Ubuntu does but the current state of things breaks modern software.
gentoo ~ # /usr/lib/systemd/systemd-timedated 
/etc/localtime should be a symbolic link to a timezone data file in /usr/share/zoneinfo/.

Reproducible: Always




Comment 1


Jeroen Roovers (RETIRED)






          2014-01-21 16:13:23 UTC
        

Nothing stops you from symlinking instead of copying.

In fact, `emerge --config sys-libs/timezone-data' (if you choose to even run it) actually leaves your symlink in place if you have one already.

Is this bug report merely about a documentation change (see URL)? If you want to bring about a global change, a bug report is not enough: please bring this up on the gentoo-dev@ mailing list instead.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

