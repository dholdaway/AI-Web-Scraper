Title: 164685 – media-video/ffmpeg-0.4.9_p20061016 fails to compile when SDL is not present
URL: https://bugs.gentoo.org/show_bug.cgi?id=164685

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 164685
media-video/ffmpeg-0.4.9_p20061016 fails to compile when SDL is not present
Last modified: 2007-04-14 23:42:09 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 164685 
      - media-video/ffmpeg-0.4.9_p20061016 fails to compile when SDL is not present


Summary:
media-video/ffmpeg-0.4.9_p20061016 fails to compile when SDL is not present
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Media-video project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-01-31 10:36 UTC by Julien Cayzac





      Modified:
    
2007-04-14 23:42 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Config.err

              (config.err,51.17 KB,
                text/plain)

            
2007-02-02 12:12 UTC,

            Julien Cayzac




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Julien Cayzac





          2007-01-31 10:36:57 UTC
        

media-video/ffmpeg-0.4.9_p20061016 fails with error:
ffplay.c:28:17: SDL.h: No such file or directory
ffplay.c:29:24: SDL_thread.h: No such file or directory
make: *** [.depend] Error 1
!!! ERROR: media-video/ffmpeg-0.4.9_p20061016 failed.
Call stack:
  ebuild.sh, line 1546:   Called dyn_compile
  ebuild.sh, line 937:   Called src_compile
  ffmpeg-0.4.9_p20061016.ebuild, line 156:   Called die
!!! depend failed

I don't have SDL installed, since my system has no X server (console only).
The former ffmpeg ebuild compiled successfully.


Reproducible: Always




emerge --info:
Portage 2.1.1-r2 (default-linux/x86/2006.0, gcc-3.4.4, glibc-2.4-r4, 2.6.16-gentoo-r6_dedibox_r0 i686)
=================================================================
System uname: 2.6.16-gentoo-r6_dedibox_r0 i686 VIA Esther processor 2000MHz
Gentoo Base System version 1.12.6
Last Sync: Wed, 31 Jan 2007 01:50:01 +0000
ccache version 2.4 [enabled]
app-admin/eselect-compiler: [Not Present]
dev-java/java-config: 1.3.7, 2.0.31
dev-lang/python:     2.4.3-r4
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     2.4-r6
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.61
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.14
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.17-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O3 -march=i686 -mmmx -msse -msse2 -mfpmath=sse,387 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c"
CXXFLAGS="-O3 -march=i686 -mmmx -msse -msse2 -mfpmath=sse,387 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache confcache distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://gentoo.modulix.net/gentoo/ http://ftp.club-internet.fr/pub/mirrors/gentoo "
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="x86 7zip a52 aac ace admin alsa alsa_cards_ali5451 alsa_cards_als4000 alsa_cards_atiixp alsa_cards_atiixp-modem alsa_cards_bt87x alsa_cards_ca0106 alsa_cards_cmipci alsa_cards_emu10k1x alsa_cards_ens1370 alsa_cards_ens1371 alsa_cards_es1938 alsa_cards_es1968 alsa_cards_fm801 alsa_cards_hda-intel alsa_cards_intel8x0 alsa_cards_intel8x0m alsa_cards_maestro3 alsa_cards_trident alsa_cards_usb-audio alsa_cards_via82xx alsa_cards_via82xx-modem alsa_cards_ymfpci alsa_pcm_plugins_adpcm alsa_pcm_plugins_alaw alsa_pcm_plugins_asym alsa_pcm_plugins_copy alsa_pcm_plugins_dmix alsa_pcm_plugins_dshare alsa_pcm_plugins_dsnoop alsa_pcm_plugins_empty alsa_pcm_plugins_extplug alsa_pcm_plugins_file alsa_pcm_plugins_hooks alsa_pcm_plugins_iec958 alsa_pcm_plugins_ioplug alsa_pcm_plugins_ladspa alsa_pcm_plugins_lfloat alsa_pcm_plugins_linear alsa_pcm_plugins_meter alsa_pcm_plugins_mulaw alsa_pcm_plugins_multi alsa_pcm_plugins_null alsa_pcm_plugins_plug alsa_pcm_plugins_rate alsa_pcm_plugins_route alsa_pcm_plugins_share alsa_pcm_plugins_shm alsa_pcm_plugins_softvol amr amrr asm async audiofile auth bash-completion bcmath berkdb bidi big-tables bitmap-fonts bittorrent bjam bl boost bzip2 calendar ccache cdb cdda cddb cgi charconv chasen chm cjk cli colordiff cpio cpudetection cracklib crypt css dlloader doc dri dts dvd dvdread eds elibc_glibc embedded emboss encode esd examples exif fastcgi ffmpeg figlet flash fortran ftp gd gdbm gif glibc-omitfp gmail gnutls gpm gstreamer gtk2 h323 hardened hardenedphp hash httpd icecast iconv imap imlib input_devices_evdev input_devices_keyboard input_devices_mouse ipv6 isdnlog java jpeg kerberos kernel_linux largefile lcd_devices_bayrad lcd_devices_cfontz lcd_devices_cfontz633 lcd_devices_glk lcd_devices_hd44780 lcd_devices_lb216 lcd_devices_lcdm001 lcd_devices_mtxorb lcd_devices_ncurses lcd_devices_text libg++ libwww live logrotate lzw mad maildir matroska mcal memcache memlimit midi mikmod mime mmap mmx mp3 mp4 mp4live mpeg mpeg2 mplayer multiuser mysql nagios-dns nagios-ntp nagios-ping nagios-ssh ncurses netpbm network nls nntp no-old-linux nptl nptlonly odbc office ogg openssh openssl pam pcntl pcre pdf perl png posix postgres pppd python quicktime rar readline reflection rhino rtsp ruby samba sasl screen server session sharedmem shout simplexml soap sockets sox spamassassin speex spell spl sqlite sqlite3 sse sse2 ssl stream subversion tcpd theora threads threadsonly tidy tiff tokenizer tools truetype truetype-fonts type1-fonts ucs2 ucs4 udev unicode unzip urandom userland_GNU userlocales utf8 uuencode video_cards_apm video_cards_ark video_cards_ati video_cards_chips video_cards_cirrus video_cards_cyrix video_cards_dummy video_cards_fbdev video_cards_glint video_cards_i128 video_cards_i740 video_cards_i810 video_cards_imstt video_cards_mga video_cards_neomagic video_cards_nsc video_cards_nv video_cards_rendition video_cards_s3 video_cards_s3virge video_cards_savage video_cards_siliconmotion video_cards_sis video_cards_sisusb video_cards_tdfx video_cards_tga video_cards_trident video_cards_tseng video_cards_v4l video_cards_vesa video_cards_vga video_cards_via video_cards_vmware video_cards_voodoo vim vim-syntax vlm vorbis webdav win32codecs wmf xml xmlreader xmlrpc xmlwriter xsl xslt xvid yahoo zip zlib"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY




Comment 1


Luca Barbato






          2007-02-02 08:25:29 UTC
        


    use sdl || myconf="${myconf} --disable-ffplay"

is present in the ebuild may you attach the config.err file?




Comment 2


Julien Cayzac





          2007-02-02 12:12:55 UTC
        

Created attachment 108923 [details]
Config.err

Here it is.




Comment 3


Julien Cayzac





          2007-02-16 20:53:39 UTC
        

Strange. I've just updated it successfully, with no change made to make.conf :-(
I guess this is some quantum trick and you can mark it as "cannot reproduce" (unless you can..?)
The only change was a new portage version (2.1.2-r9).





Comment 4


Luca Barbato






          2007-02-27 09:53:58 UTC
        

maybe -mfpmath=sse,387 is wrong, but I'm not sure.

Mind if I close it as worksforme?









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

