Title: 109878 – request for support of ICH7 80201G controller chip on ASUS P5WD2 motherboard
URL: https://bugs.gentoo.org/show_bug.cgi?id=109878

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 109878
request for support of ICH7 80201G controller chip on ASUS P5WD2 motherboard
Last modified: 2005-11-02 07:46:02 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 109878 
      - request for support of ICH7 80201G controller chip on ASUS P5WD2 motherboard


Summary:
request for support of ICH7 80201G controller chip on ASUS P5WD2 motherboard
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Core system

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       blocker
      


Assignee:

Gentoo Kernel Bug Wranglers and Kernel Maintainers








URL:



http://www.solace.net/nash/p5wd2-prem...
        




Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-10-19 17:58 UTC by Joel





      Modified:
    
2005-11-02 07:46 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Joel





          2005-10-19 17:58:24 UTC
        

Asus P5WD2 Motherboard does not boot from LiveCDs without patch to recognize the
ICH7 controller variant.

*** linux-2.6.12.3/drivers/pci/quirks.c Fri Jul 15 17:18:57 2005
--- linux-2.6.12.3-pcipatch/drivers/pci/quirks.c        Fri Jul 22
13:50:43 2005***************
*** 1199,1204 ****
--- 1199,1205 ----
        case 0x2680:    /* ESB2 */
                ich = 6;
                break;
+       case 0x27b8:
        case 0x27c0:
        case 0x27c4:
                ich = 7;

extract from lspci -v on patched system:
0000:00:1b.0 Class 0403: Intel Corporation 82801G (ICH7 Family) High Definition
Audio Controller (rev 01)
        Subsystem: ASUSTeK Computer Inc.: Unknown device 8193
        Flags: bus master, fast devsel, latency 0, IRQ 19
        Memory at cdbf8000 (64-bit, non-prefetchable) [size=16K]
        Capabilities: [50] Power Management version 2
        Capabilities: [60] Message Signalled Interrupts: 64bit+ Queue=0/0 Enable-
        Capabilities: [70] #10 [0091]




Reproducible: Always
Steps to Reproduce:
1.boot 2005.1 LiveCD (amd64 or x86)
2.
3.

Actual Results:  
boot fails, boot CD-ROM not found


Simple patch to recognize ICH7 variant.




Comment 1


Daniel Drake (RETIRED)






          2005-10-29 13:26:19 UTC
        

Where has this patch originated from?




Comment 2


Daniel Drake (RETIRED)






          2005-10-29 13:59:44 UTC
        

The lspci entry you posted was for the audio chip, not the IDE controller, and
according to the PCI ID repository, 0x27b8 is an ICH7 LPC Interface Bridge




Comment 3


Daniel Drake (RETIRED)






          2005-11-02 07:46:02 UTC
        

Nash (author of the page in the URL field) kindly tested 2005.1 and confirms
that it now works out of the box, whereas 2005.0 did not. This is what I'd expect.

If 2005.1 doesn't work for you, please tell us the name of the ISO file that you
used to burn the livecd, and the exact error.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

