Title: 872335 – GLEP 74: Manifest format for DIST entries is not compatible with historical digests
URL: https://bugs.gentoo.org/show_bug.cgi?id=872335

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 872335
GLEP 74: Manifest format for DIST entries is not compatible with historical digests
Last modified: 2023-02-22 07:14:29 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 872335 
      - GLEP 74: Manifest format for DIST entries is not compatible with historical digests


Summary:
GLEP 74: Manifest format for DIST entries is not compatible with historical d...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Documentation




Classification:

Unclassified




Component:

GLEP Changes

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

GLEP Editors








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2022-09-22 09:31 UTC by Ulrich Müller





      Modified:
    
2023-02-22 07:14 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



history
mgorny









See Also:


872332





Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Ulrich Müller






          2022-09-22 09:31:23 UTC
        

The earliest digest format specified a checksum but not a size. See for example here:
https://gitweb.gentoo.org/archive/repo/gentoo-2.git/tree/sys-apps/portage/files/digest-portage-1.6.2?id=0179f505e19b8ccff82d36f240da78f63c0089b7

The current format as specified in GLEP 74 does not define any way how such entries could be converted to a modern Manifest. I suggest allowing a special tag (like "unknown") for the <size> entry.




Comment 1


Michał Górny









          2022-09-22 18:32:22 UTC
        

While I sympathize with the effort, I'm not convinced that the format should specifically account for something that hasn't been permitted by the original Manifest format (in use since 2003), that's incompatible with all the existing implementations and that is unlikely to be ever exercised in a conforming implementation.




Comment 2


Ulrich Müller






          2022-09-22 21:10:54 UTC
        

Feel free to close then.




Comment 3


Michał Górny









          2022-09-23 06:53:37 UTC
        

Do you have a specific use case for fetching and verifying these files, or are you just looking for cold storage?  If the latter, then probably "extending" the spec locally would be a reasonable approach.

BTW how are you handling the cases when digest for the same distfile changed over time?









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

