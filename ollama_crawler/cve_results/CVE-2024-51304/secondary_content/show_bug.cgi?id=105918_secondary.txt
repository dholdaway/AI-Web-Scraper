Title: 105918 – klamav needs sys-fs/dazuko for auto-scan feature
URL: https://bugs.gentoo.org/show_bug.cgi?id=105918

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 105918
klamav needs sys-fs/dazuko for auto-scan feature
Last modified: 2006-08-19 17:27:59 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 105918 
      - klamav needs sys-fs/dazuko for auto-scan feature


Summary:
klamav needs sys-fs/dazuko for auto-scan feature
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-09-13 19:50 UTC by Chuck Wegrzyn





      Modified:
    
2006-08-19 17:27 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Chuck Wegrzyn





          2005-09-13 19:50:29 UTC
        

If you do an installation of klamav, for instance by doing 

emerge klamav

The ebuild will make sure the following are built and installed:

1) gmp
2) clamav
3) klamav

It turns out that you can't enable Auto-scan without having dazuko installed. To
install dazuko you need to have your kernel built with the
CONFIG_SECURITY_CAPABILITIES
enabled.

Reproducible: Always
Steps to Reproduce:
1.emerge klamav
2.run klamav
3.try to enable auto-scan

Actual Results:  
when i tried to enable auto-scan it told me it wanted to do a modprobe of
dazuko.ko. This module couldn't be found since it wasn't installed!

Expected Results:  
Either to have the klamav fail with a notification that dazuko isn't installed
or a message that without dazuko installed auto-scan isn't available.

Portage 2.0.52-r1 (default-linux/x86/2005.0, gcc-3.4.4, glibc-2.3.5-r1,
2.6.12-gentoo-r9 i686)
=================================================================
System uname: 2.6.12-gentoo-r9 i686 Intel(R) Pentium(R) 4 CPU 2.40GHz
Gentoo Base System version 1.12.0_pre8
dev-lang/python:     2.3.5, 2.4.1-r1
sys-apps/sandbox:    1.2.13
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.20
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS=" -O2 -march=pentium4"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env
/usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/texmf/web2c /etc/env.d"
CXXFLAGS=" -O2 -march=pentium4"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig ccache distcc distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org
http://distro.ibiblio.org/pub/Linux/distributions/gentoo"
LANG="en_US.utf8"
LC_ALL="en_US.utf8"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X a52 aac acl acpi afs aim alsa aotuv apache2 apm arts artswrappersuid
audiofile avi bash-completion bdf berkdb bitmap-fonts bluetooth bootsplash caps
cdparanoia cdr cluster codecs crypt css cups curl dbx dga dio directfb dpms dv
dvb dvd dvdr dvdread eds encode esd ethereal exif fam fame fb fbcon fbdev flac
flatfile foomaticdb fpx freetds ftp gd gdbm gif gpg gpm gstreamer gtk gtk2
imagemagick imlib ipv6 java jpeg junit kde ldap libg++ libwww mad mikmod mime
mjpeg mmx monkey motif mp3 mpeg msn msql mysql ncurses nls odbc ogg oggvorbis
opengl oss pam pdflib perl png postgres python qt quicktime readline samba sdl
snmp spell sse sse2 ssl svga tcltk tcpd tetex tiff truetype truetype-fonts
type1-fonts vorbis xine xinerama xml2 xmms xv yahoo zeroconf zlib userland_GNU
kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LDFLAGS, LINGUAS




Comment 1


Chuck Wegrzyn





          2006-04-26 03:05:47 UTC
        

After so long I doubt this will ever be corrected...until it is addressed klamav will not be allowed to run automatically!




Comment 2


Carsten Lohrke (RETIRED)






          2006-04-27 06:11:32 UTC
        

Chuck, please stop resolving bugs. Just keep your fingers from it. Thanks.




Comment 3


Carsten Lohrke (RETIRED)






          2006-08-18 16:42:15 UTC
        

It's an optional runtime dependency, just like the supported archives you have to configure. Not worth an extra use flag. I've added an einfo entry to the 0.38 ebuild.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

