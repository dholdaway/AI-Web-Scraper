Title: 248174 – www-client/mozilla-firefox-bin-3.0.4 hangs on exit
URL: https://bugs.gentoo.org/show_bug.cgi?id=248174

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 248174
www-client/mozilla-firefox-bin-3.0.4 hangs on exit
Last modified: 2009-06-30 17:06:02 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 248174 
      - www-client/mozilla-firefox-bin-3.0.4 hangs on exit


Summary:
www-client/mozilla-firefox-bin-3.0.4 hangs on exit
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Mozilla Gentoo Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-11-22 12:42 UTC by Niko Efthymiou





      Modified:
    
2009-06-30 17:06 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




some backtraces from gdb

              (firefox_bug,4.34 KB,
                text/plain)

            
2008-11-22 12:45 UTC,

            Niko Efthymiou




Details





open files according to lsof

              (firefox_bug_lsof,19.01 KB,
                text/plain)

            
2008-11-22 12:50 UTC,

            Niko Efthymiou




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Niko Efthymiou





          2008-11-22 12:42:30 UTC
        

Sometimes firefox hangs on exit using 100% CPU. I haven't found out the exact circumstances though.

Reproducible: Sometimes

Steps to Reproduce:
1. run Firefox for some time doing some surfing
2. exit firefox

Actual Results:  
firefox window disappears, but a single firfox-bin process is still present, using 100% CPU. This process seems to run indefinitely.

Expected Results:  
All firefox processes should terminate

$ emerge -vp mozilla-firefox-bin

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild   R   ] www-client/mozilla-firefox-bin-3.0.4  USE="-restrict-javascript" LINGUAS="en -af -ar -be -bg -bn -bn_IN -ca -cs -cy -da -de -el -en_GB -en_US -eo -es -es_AR -es_ES -et -eu -fi -fr -fy -fy_NL -ga -ga_IE -gl -gu -gu_IN -he -hi -hi_IN -hu -id -is -it -ja -ka -kn -ko -ku -lt -lv -mk -mn -mr -nb -nb_NO -nl -nn -nn_NO -oc -pa -pa_IN -pl -pt -pt_BR -pt_PT -ro -ru -si -sk -sl -sq -sr -sv -sv_SE -te -th -tr -uk -zh -zh_CN -zh_TW" 0 kB

$ emerge --info
Portage 2.2_rc14 (default-linux/x86/2007.0, gcc-4.3.2, glibc-2.8_p20080602-r0, 2.6.27-gentoo-r2 i686)
=================================================================
System uname: Linux-2.6.27-gentoo-r2-i686-mobile_AMD_Athlon-tm-_XP-M_2500+-with-glibc2.0
Timestamp of tree: Wed, 19 Nov 2008 15:15:03 +0000
app-shells/bash:     3.2_p39
dev-java/java-config: 1.3.7, 2.1.6-r1
dev-lang/python:     2.5.2-r8
dev-util/cmake:      2.6.2
sys-apps/baselayout: 2.0.0
sys-apps/openrc:     0.3.0-r1
sys-apps/sandbox:    1.2.18.1-r3
sys-devel/autoconf:  2.13, 2.63
sys-devel/automake:  1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.1-r1
sys-devel/binutils:  2.19
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   2.2.6a
virtual/os-headers:  2.6.27-r2
ACCEPT_KEYWORDS="x86 ~x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=athlon-xp -O2 -pipe -ggdb -fno-strict-overflow"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/config /var/qmail/alias /var/qmail/control /var/vpopmail/etc"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-march=athlon-xp -O2 -pipe -ggdb -fno-strict-overflow"
DISTDIR="/usr/portage/distfiles"
FEATURES="collision-protec distlocks parallel-fetch preserve-libs protect-owned sandbox sfperms splitdebug strict unmerge-orphans userfetch"
GENTOO_MIRRORS="ftp://de-mirror.org/distro/gentoo/"
LANG="en_US.utf8"
LC_ALL="en_US.utf8"
LDFLAGS=""
LINGUAS="en"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="3dnow 3dnowext X a52 aac aalib ac3 acl alsa amr apache2 audiofile bash-completion bluetooth bzip2 cdio cli cracklib crypt dbus dri dvd dvdnav dvdread encode exif fam fbcon ffmpeg fftw flac font-server fontconfig fortran gdbm gif hal iconv imagemagick isdnlog jack jpeg jpeg2k ladspa lame laptop libsamplerate mad midi mmx mmxext mng mp3 mp4 mpeg mudflap ncurses nls nptl nptlonly nsplugin offensive ogg openmp pam pcre pdf png pnm pppd qt4 readline reflection session sndfile speex spell spl sse ssl svg tcpd tetex theora tiff truetype unicode usb vidx vim-pager vim-syntax vorbis win32codecs wmf x264 x86 xinerama xorg xvid zlib" ALSA_CARDS="intel8x0" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="alias auth_basic auth_digest authn_default authn_file authz_default authz_groupfile authz_host authz_user autoindex dir env expires headers info log_config logio mime mime_magic rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="keyboard mouse synaptics evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en" USERLAND="GNU" VIDEO_CARDS="sis"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY




Comment 1


Niko Efthymiou





          2008-11-22 12:45:41 UTC
        

Created attachment 172844 [details]
some backtraces from gdb

I made some backtraces by attaching gdb to a hung firefox process and the sending stop/continue signals to it.




Comment 2


Niko Efthymiou





          2008-11-22 12:50:21 UTC
        

Created attachment 172846 [details]
open files according to lsof




Comment 3


Raúl Porcel (RETIRED)






          2008-11-27 10:23:49 UTC
        

Try with a clean profile




Comment 4


Niko Efthymiou





          2008-11-27 14:30:06 UTC
        

Are there any debuging information I could capture, if I can reproduce this with a clean profile?




Comment 5


Raúl Porcel (RETIRED)






          2008-11-30 16:06:09 UTC
        

From a -bin? Doubt so.




Comment 6


Raúl Porcel (RETIRED)






          2009-02-16 17:52:05 UTC
        

What happened finally?




Comment 7


Niko Efthymiou





          2009-02-17 09:58:25 UTC
        

It hasn't happened for a while now, but I am no longer using the Laptop as my primary computer any more. I think its safe to close this bug, since nobody else confirmed it.




Comment 8


Niko Efthymiou





          2009-06-30 17:06:02 UTC
        

Closing, hasn't happend for a while now..









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

