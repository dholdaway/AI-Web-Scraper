Title: 196911 – media-video/lxdvdrip-1.70 fails to compile w/ linux-headers-2.6.23
URL: https://bugs.gentoo.org/show_bug.cgi?id=196911

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 196911
media-video/lxdvdrip-1.70 fails to compile w/ linux-headers-2.6.23
Last modified: 2008-01-09 17:21:39 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 196911 
      - media-video/lxdvdrip-1.70 fails to compile w/ linux-headers-2.6.23


Summary:
media-video/lxdvdrip-1.70 fails to compile w/ linux-headers-2.6.23
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Media-video project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-10-24 10:33 UTC by Juergen Rose





      Modified:
    
2008-01-09 17:21 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




modified lxdvdrip-1.70.ebuild

              (lxdvdrip-1.70.ebuild,1.35 KB,
                text/plain)

            
2007-10-24 10:36 UTC,

            Juergen Rose




Details





patch file to avoid the INT_MAX error

              (lxdvdrip-1.70-limits.patch,393 bytes,
                text/plain)

            
2007-10-24 10:37 UTC,

            Juergen Rose




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Juergen Rose





          2007-10-24 10:33:55 UTC
        

lxdvdrip-1.70 fails to compile with:

>>> Compiling source in /var/tmp/portage/media-video/lxdvdrip-1.70/work/lxdvdrip ...
i686-pc-linux-gnu-gcc -O2 -march=athlon-xp -fomit-frame-pointer  -o lxdvdrip lxdvdrip.c streamanalyze.c ifo.c dvdinfo.c dvdbackup.c dvdcell.c systools.c vaporize.c dvdtools.c dvdcopy.c requant.c cputest.c tcmemcpy.c -lm -ldvdread -ldvdnav -lpthread 
systools.c: In function 'IsDvdLoaded':
systools.c:447: error: 'INT_MAX' undeclared (first use in this function)
systools.c:447: error: (Each undeclared identifier is reported only once
systools.c:447: error: for each function it appears in.)
make: *** [all] Error 1
 * 
 * ERROR: media-video/lxdvdrip-1.70 failed.


Reproducible: Always

Steps to Reproduce:
1.emerge lxdvdrip
2.
3.




root@cheetah:/root(41)# emerge --info
Portage 2.1.3.16 (default-linux/x86/2007.0, gcc-4.2.2, glibc-2.6.1-r0, 2.6.23 i686)
=================================================================
System uname: 2.6.23 i686 AMD Athlon(tm) XP 1800+
Timestamp of tree: Wed, 24 Oct 2007 05:30:01 +0000
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
ccache version 2.4 [disabled]
app-shells/bash:     3.2_p17-r1
dev-java/java-config: 1.3.7, 2.1.2-r1
dev-lang/python:     2.4.4-r5, 2.5.1-r2
dev-python/pycrypto: 2.0.1-r6
dev-util/ccache:     2.4-r7
sys-apps/baselayout: 1.12.10-r5
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.61-r1
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.18-r1
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.24
virtual/os-headers:  2.6.23
ACCEPT_KEYWORDS="x86 ~x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=athlon-xp -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/eselect/compiler /etc/fonts/fonts.conf /etc/gconf /etc/php/apac
he2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/terminfo /e
tc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-O2 -march=athlon-xp -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="distlocks fixpackages metadata-transfer sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://linux.rz.ruhr-uni-bochum.de/download/gentoo-mirror http://ftp-stud.fht-esslingen.de/pub/Mirror
s/gentoo/ rsync://ftp.fi.muni.cz/pub/linux/gentoo ftp://ftp.wh2.tu-dresden.de/pub/mirrors/gentoo rsync://gd.tuwien.ac
.at/opsys/linux/gentoo ftp://sunsite.informatik.rwth-aachen.de/pub/Linux/gentoo ftp://ftp.tu-clausthal.de/pub/linux/g
entoo http://gentoo.oregonstate.edu"
LINGUAS="de fr"
MAKEOPTS="-j1"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delet
e-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portage/local/layman/science /usr/local/portage /usr/local/portage/xeffects/trunk /usr/local/po
rtage/xeffects/experimental /usr/local/sci"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="3dnow 3dnowext X Xaw3d a52 aac acl acpi aiglx alsa amrr ao aotuv apache2 asf atlas auctex audacious audiofile au
tomount bash-completion beagle berkdb bitmap-fonts blas bluetooth bonobo boo bzip2 cairo cdda cddb cdf cdio cdparanoi
a cdr cgi chm cli corba cracklib crypt cups curl daap dbus device-mapper dga divx dlloader dmi dri dv dvb dvd dvdr dv
i dxr3 dynagraph effects elf emacs emboss encode epiphany esd evo evolution examples exif expat fam fame ffmpeg fftw 
firefox fits flac fltk foomaticdb fortran fpx galago gdal gdbm geos gif gimp gimpprint ginac glade glitz gml gmp gnom
e gnuplot gnutls gphoto2 gpm graphviz grass gs gsl gsm gstreamer gtk guile hal hardened hddtemp hdf hdf5 hlapi iconv 
icq id3 imagemagick innodb ipv6 isdnlog ithreads jabber java jbig john jp2 jpeg jpeg2k kexi ladspa lame lapack latex 
lcms ldap libgda libsamplerate lirc lm_sensors lua lzo lzw mad math matroska matrox midi mmx mmxext mng mod mono moti
f mozdevelop mozilla mozsvg mozxmlterm mp3 mp4live mpeg mpeg2 mplayer mudflap musicbrainz mysql mysqli nautilus ncurs
es neXt netcdf network nfs nls nntp nptl nptlonly ntfs numarray numeric ocaml octave odbc ogdi ogg ole opengl openmp 
pam pcre pdf perl plotutils plugin png posix postgres pppd preview-latex proj python qhull quicktime readline real re
flection reiserfs rhythmbox rle rrdcgi rrdtool samba sdl session slang slp sndfile snmp sox speex spell spl sqlite ss
e sse2 ssl subtitles svg t1lib tcltk tcpd tetex theora threads thunderbird tidy tiff tk truetype truetype-fonts type1
-fonts unicode userlocales utempter v4l2 vorbis win32codecs wmf x86 xattr xemacs xext xine xml xmlreader xmlrpc xorg 
xpm xv xvid xvmc zlib zvbi" ALSA_CARDS="intel8x0" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty ext
plug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" ELIBC="g
libc" INPUT_DEVICES="keyboard mouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mt
xorb ncurses text" LINGUAS="de fr" LIRC_DEVICES="hauppauge" USERLAND="GNU" VIDEO_CARDS="mga vesa fbdev"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, 
PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Juergen Rose





          2007-10-24 10:36:45 UTC
        

Created attachment 134213 [details]
modified lxdvdrip-1.70.ebuild

this ebuild with the additional patch file lxdvdrip-1.70-limits.patch avoids the undeclared INT_MAX error




Comment 2


Juergen Rose





          2007-10-24 10:37:52 UTC
        

Created attachment 134214 [details]
patch file to avoid the INT_MAX error

patch file to avoid the INT_MAX error




Comment 3


Alexis Ballier






          2007-11-19 19:49:14 UTC
        

interesting, I don't get the error with linux-headers 2.6.23-r2
are you still able to reproduce the problem ? is the patch really needed or was it a bug in linux-headers ?




Comment 4


Alexis Ballier






          2008-01-09 17:21:39 UTC
        

[ebuild   R   ] sys-kernel/linux-headers-2.6.23-r3  0 kB 
[ebuild   R   ] media-video/lxdvdrip-1.70  0 kB 

no problem here, seems to be a linux-headers bug that has been fixed later









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

