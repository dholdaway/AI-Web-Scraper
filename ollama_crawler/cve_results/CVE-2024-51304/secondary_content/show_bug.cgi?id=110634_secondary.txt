Title: 110634 – Bug regarding certain fonts (TTF) and German Umlaute
URL: https://bugs.gentoo.org/show_bug.cgi?id=110634

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 110634
Bug regarding certain fonts (TTF) and German Umlaute
Last modified: 2007-06-03 11:40:00 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 110634 
      - Bug regarding certain fonts (TTF) and German Umlaute


Summary:
Bug regarding certain fonts (TTF) and German Umlaute
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Library

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Fonts Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-10-27 10:12 UTC by Sebastian





      Modified:
    
2007-06-03 11:40 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



kde









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Picture at 8pt

              (8.png,89.43 KB,
                image/png)

            
2005-10-27 10:13 UTC,

            Sebastian




Details





Fonts at 9pt

              (9.png,89.21 KB,
                image/png)

            
2005-10-27 10:14 UTC,

            Sebastian




Details





Fonts at 10pt

              (10.png,93.31 KB,
                image/png)

            
2005-10-27 10:15 UTC,

            Sebastian




Details





New pic

              (messy.png,407.25 KB,
                image/png)

            
2006-05-20 06:22 UTC,

            Sebastian




Details





mss.png

              (mss.png,53.03 KB,
                image/png)

            
2006-05-20 08:06 UTC,

            Sebastian




Details





kfontview.png

              (kfontview.png,38.22 KB,
                image/png)

            
2007-06-01 20:37 UTC,

            Sebastian




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Sebastian





          2005-10-27 10:12:30 UTC
        

Hi all,   
   
I tried to use Microsoft Sans Serif lately. I got the from my WinXP Fonts   
folder. The dots of the Umlaute are spread all over the monitor.  
 
Other fonts are all displayed properly. MS has no problem with MS Sans Serif 
either (XP standard font). 
 
I tried different font sizes ranging from 8 to 10pt. The brokenness varied,  
but broken they all were. ;-)  
  
I'll try to upload some pictures at once. Bare with me.  
  
  
Thanks!  
  
Sebastian  

Reproducible: Always
Steps to Reproduce:
1.
2.
3.




Portage 2.0.51.22-r3 (default-linux/x86/2005.1, gcc-3.3.6, glibc-2.3.5-r2, 
2.6.13.4 i686) 
================================================================= 
System uname: 2.6.13.4 i686 AMD Sempron(tm)   2400+ 
Gentoo Base System version 1.6.13 
ccache version 2.3 [enabled] 
dev-lang/python:     2.4.2 
sys-apps/sandbox:    1.2.12 
sys-devel/autoconf:  2.13, 2.59-r6 
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1 
sys-devel/binutils:  2.15.92.0.2-r10 
sys-devel/libtool:   1.5.20 
virtual/os-headers:  2.6.11-r2 
ACCEPT_KEYWORDS="x86" 
AUTOCLEAN="yes" 
CBUILD="i686-pc-linux-gnu" 
CFLAGS="-O2 -march=athlon-xp -pipe -fomit-frame-pointer" 
CHOST="i686-pc-linux-gnu" 
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/ /var/qmail/control" 
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d" 
CXXFLAGS="-O2 -march=athlon-xp -pipe -fomit-frame-pointer" 
DISTDIR="/data/distfiles" 
FEATURES="autoconfig ccache distlocks sandbox sfperms strict" 
GENTOO_MIRRORS="ftp://sunsite.rwth-aachen.de/pub/Linux/gentoo" 
LANG="de_DE@euro" 
LC_ALL="de_DE@euro" 
LINGUAS="de" 
MAKEOPTS="-j2" 
PKGDIR="/data/packages" 
PORTAGE_TMPDIR="/var/tmp" 
PORTDIR="/usr/portage" 
PORTDIR_OVERLAY="/usr/local/portage" 
SYNC="rsync://rsync.informatik.rwth-aachen.de/gentoo-portage" 
USE="x86 3dnow 3dnowext X alsa bzip2 crypt cups dvdr flac foomaticdb gif 
ithreads jpeg kde kdeenablefinal mmap mmx mmxext ncurses nls nodrm nptl 
nptlonly ogg opengl png ppds readline spell sse ssl truetype truetype-fonts 
userlocales xv zlib linguas_de userland_GNU kernel_linux elibc_glibc" 
Unset:  ASFLAGS, CTARGET, LDFLAGS




Comment 1


Sebastian





          2005-10-27 10:13:30 UTC
        

Created attachment 71574 [details]
Picture at 8pt




Comment 2


Sebastian





          2005-10-27 10:14:52 UTC
        

Created attachment 71575 [details]
Fonts at 9pt




Comment 3


Sebastian





          2005-10-27 10:15:27 UTC
        

Created attachment 71576 [details]
Fonts at 10pt




Comment 4


Carsten Lohrke (RETIRED)






          2006-04-29 10:57:38 UTC
        

Might be a freetype problem. foser, any idea? 

Otherwise the simple "solution" is: Use another font! ;)




Comment 5


foser (RETIRED)






          2006-05-20 04:17:49 UTC
        

What freetype version ?

Can someone confirm the problem with this particular font ?




Comment 6


Sebastian





          2006-05-20 06:19:44 UTC
        

Hi foser,

I'm using media-libs/freetype-2.1.10 and it still happens (see new attachment; the wastebin). I opened a forum thread asking others to check if it works for them or not: https://forums.gentoo.org/viewtopic-p-3328869.html

Sebastian




Comment 7


Sebastian





          2006-05-20 06:22:42 UTC
        

Created attachment 87119 [details]
New pic




Comment 8


foser (RETIRED)






          2006-05-20 06:35:13 UTC
        

What font are you using exactly btw? Apparently there's 'Microsoft Sans Serif' & 'MS Sans Serif'. The font on your desktop looks like a bitmap to me.




Comment 9


Sebastian





          2006-05-20 06:55:41 UTC
        

It's Microsoft Sans Serif, definitely TrueType. I compiled xorg-x11 with "-bitmap-fonts". Maybe it looks like a bitmap font because I excluded the size range 7-14pt from antialiasing/hinting.

S.




Comment 10


foser (RETIRED)






          2006-05-20 07:41:30 UTC
        

USE=-bitmap-fonts doesn't install bitmap fonts, it doesn't mean you can't use them.




Comment 11


Sebastian





          2006-05-20 08:05:40 UTC
        

Ah, ok. But it doesn't seem to be a bitstream fonts anyway (see picture mss.png).

S.




Comment 12


Sebastian





          2006-05-20 08:06:13 UTC
        

Created attachment 87128 [details]
mss.png




Comment 13


Jakub Moc (RETIRED)






          2007-03-15 21:02:41 UTC
        

Still an issue w/ freetype-2.2* or freetype-2.3* ?




Comment 14


Sebastian





          2007-03-16 05:53:24 UTC
        

Hi Jakub,

I can't tell just yet. I still have media-libs/freetype-2.1.10-r2. I don't have a system just for testing. I'll make a note to report back once one of them goes x86.

Regards
Sebastian




Comment 15


Sebastian





          2007-04-24 06:47:41 UTC
        

OK, played around and ended up installing freetype-2.3.4. Still the same - weired dots.

Regards
Sebastian




Comment 16


Sebastian





          2007-04-24 06:48:25 UTC
        

Weird, not weired :D




Comment 17


Wulf Krueger (RETIRED)






          2007-05-31 20:47:26 UTC
        

(In reply to comment #15)
> OK, played around and ended up installing freetype-2.3.4. Still the same -
> weired dots.

Which font files did you copy from where precisely?




Comment 18


Sebastian





          2007-06-01 07:47:49 UTC
        

Pardon me? What do you mean? Do you mean the configuration files or the ttf files?

I have my own /etc/fonts/local.conf and ~/.fonts.conf. The ttf files over the years (since I initially reported this bug) were from the MS XP Home cd I own, or the corefonts package or the webcore fonts (not in portage).

Is that what you wanted to know?




Comment 19


Luca Barbato






          2007-06-01 20:07:41 UTC
        

the exact names would be better, can you reproduce the issue with dejavu or vera?




Comment 20


Sebastian





          2007-06-01 20:37:26 UTC
        

Created attachment 120893 [details]
kfontview.png

It's micross.ttf.




Comment 21


Sebastian





          2007-06-01 20:39:32 UTC
        

Dejavu and Vera work fine as well as all the other fonts I've used so far. Maybe it's just a bug in the ttf file. I take it MS doesn't have a bugzilla :)




Comment 22


Wulf Krueger (RETIRED)






          2007-06-01 21:09:51 UTC
        

I've tried several times to reproduce your problem using Microsoft Sans Serif (micross.ttf from XP Pro) and freetype-2.3.4-r2 on x86 and amd64. It just works fine for me. The dots are where they should be for any font size. 




Comment 23


Sebastian





          2007-06-01 23:29:05 UTC
        

Interesting.

Regards
Sebastian




Comment 24


Wulf Krueger (RETIRED)






          2007-06-03 07:16:24 UTC
        

Sebastian, let's see if we have the same micross.ttf. What's the sha1 checksum for your micross.ttf? ("sha1sum -b <file>")

Mine is:
9b61a2c06d3eedcaf12f4317653ff9f234379ea5 */usr/share/fonts/TTF/micross.ttf





Comment 25


Sebastian





          2007-06-03 10:38:03 UTC
        

We do:

sha1sum -b /usr/share/fonts/webcore-fonts/micross.ttf
9b61a2c06d3eedcaf12f4317653ff9f234379ea5 */usr/share/fonts/webcore-fonts/micross.ttf




Comment 26


Wulf Krueger (RETIRED)






          2007-06-03 10:49:42 UTC
        

Let's summarize: 

It's not freetype - other fonts work fine for you. 
It's not micross.ttf itself - we have the same file and it works for me but not for you.

I'm running out of ideas here. I think you might have a unique local issue there, Sebastian.




Comment 27


Sebastian





          2007-06-03 11:22:00 UTC
        

I don't think such a thing exists :)But maybe it's time to close this bug anyway. People don't seem to be interested in MS Sans Serif. Neither am I anymore. No point in wasting our time if we don't care about the outcome. The fact that you guys can't reproduce doesn't help either.

Any objections?

Regards
Sebastian




Comment 28


Wulf Krueger (RETIRED)






          2007-06-03 11:34:22 UTC
        

None from me. lu_zero? It's your bug after all. :-)




Comment 29


Luca Barbato






          2007-06-03 11:40:00 UTC
        

Resolved as worksforme, summary solution:

- there are broken font from microsoft (e.g. micross.ttf)
- Use dejavu fonts or any other known to be sane font when possible










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

