Title: 377447 – =dev-texlive/texlive-xetex-2010-r1 - ! TeX capacity exceeded, sorry [pattern memory=600000].
URL: https://bugs.gentoo.org/show_bug.cgi?id=377447

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 377447
=dev-texlive/texlive-xetex-2010-r1 - ! TeX capacity exceeded, sorry [pattern memory=600000].
Last modified: 2011-08-09 15:52:53 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 377447 
      - =dev-texlive/texlive-xetex-2010-r1 - ! TeX capacity exceeded, sorry [pattern memory=600000].


Summary:
=dev-texlive/texlive-xetex-2010-r1 - ! TeX capacity exceeded, sorry [pattern ...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Alexis Ballier








URL:







Whiteboard:




Keywords:









Duplicates (1):
    

378527

      (view as bug list)
    


Depends on:







Blocks:




355085



 

        Show dependency tree





 





      Reported:
    
2011-08-02 17:57 UTC by Jeroen Roovers (RETIRED)





      Modified:
    
2011-08-09 15:52 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



hwoarang
tex









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




dev-texlive:texlive-xetex-2010-r1:20110802-175136.log

              (20110802-175136.log,36.79 KB,
                text/plain)

            
2011-08-02 17:57 UTC,

            Jeroen Roovers (RETIRED)




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Jeroen Roovers (RETIRED)






          2011-08-02 17:57:54 UTC
        

Created attachment 281861 [details]
dev-texlive:texlive-xetex-2010-r1:20110802-175136.log

Tue Aug  2 19:56:19 CEST 2011
Portage 2.1.10.9 (default/linux/hppa/10.0, gcc-4.4.6, glibc-2.12.2-r0, 2.6.38.7-JeR parisc64)
=================================================================
                        System Settings
=================================================================
System uname: Linux-2.6.38.7-JeR-parisc64-PA8700_-PCX-W2-with-gentoo-2.0.3
Timestamp of tree: Tue, 02 Aug 2011 15:15:01 +0000
distcc 3.1 hppa2.0-unknown-linux-gnu [enabled]
app-shells/bash:          4.1_p9
dev-lang/python:          2.7.2-r2, 3.2-r2
dev-util/cmake:           2.8.5-r2
dev-util/pkgconfig:       0.26
sys-apps/baselayout:      2.0.3
sys-apps/openrc:          0.8.3-r1
sys-apps/sandbox:         2.5
sys-devel/autoconf:       2.13, 2.68
sys-devel/automake:       1.8.5-r4, 1.9.6-r3, 1.10.3, 1.11.1
sys-devel/binutils:       2.20.1-r1
sys-devel/gcc:            4.4.5, 4.4.6, 4.5.1-r1, 4.5.2
sys-devel/gcc-config:     1.4.1-r1
sys-devel/libtool:        2.4-r1
sys-devel/make:           3.82
sys-kernel/linux-headers: 2.6.36.1 (virtual/os-headers)
sys-libs/glibc:           2.12.2
Repositories: gentoo JeR
ACCEPT_KEYWORDS="hppa"
ACCEPT_LICENSE="* -@EULA"
CBUILD="hppa2.0-unknown-linux-gnu"
CFLAGS="-mschedule=8000 -march=2.0 -ggdb -pipe -Wall -Wno-comment -O2"
CHOST="hppa2.0-unknown-linux-gnu"
CONFIG_PROTECT="/etc /usr/lib/distcc/bin /usr/share/gnupg/qualified.txt /var/bind /var/spool/torque /var/www/localhost/htdocs/wordpress/wp-config.php"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php5.2/ext-active/ /etc/php/apache2-php5.3/ext-active/ /etc/php/cgi-php5.2/ext-active/ /etc/php/cgi-php5.3/ext-active/ /etc/php/cli-php5.2/ext-active/ /etc/php/cli-php5.3/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c"
CXXFLAGS="-mschedule=8000 -march=2.0 -ggdb -pipe -Wall -Wno-comment -O2"
DISTDIR="/world/distfiles"
FEATURES="assume-digests binpkg-logs buildpkg distcc distlocks ebuild-locks fixlafiles fixpackages news notitles parallel-fetch protect-owned sandbox sfperms splitdebug strict test test-fail-continue unknown-features-warn unmerge-logs unmerge-orphans userfetch userpriv"
FFLAGS="-mschedule=8000 -march=2.0 -ggdb -pipe -Wall -Wno-comment -O2"
GENTOO_MIRRORS="http://de-mirror.org/distro/gentoo/ http://mirror.netcologne.de/gentoo/ http://ftp.snt.utwente.nl/pub/os/linux/gentoo http://gentoo.tiscali.nl/ "
LC_ALL="en_US.UTF-8"
LDFLAGS="-Wl,-O1 -Wl,--hash-style=gnu -Wl,--as-needed"
LINGUAS="en nl he"
MAKEOPTS="-j6"
PKGDIR="/keeps/gentoo/packages/elmer"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/mnt/alt"
PORTDIR="/keeps/gentoo/portage"
PORTDIR_OVERLAY="/keeps/gentoo/local"
SYNC="rsync://rsync.nl.gentoo.org/gentoo-portage"
USE="7zip X Xaw3d a52 aac aalib abyss accessibility acl ads agg alsa amr amrnb amrwb ao aoss apis ares artist-screen asf ass assistant async asyncns audiofile audit automount avfs bash-completion berkdb bidi bittorrent bittorrent-external bl bluetooth bzip2 c++ cairo caps captury catalogs cblas cdb cdio cdr chardet cjk clarens cleartype cli colors contrast cpath cracklib crypt cue cups curl custom-cflags custom-cxxflags cxx dbi dbtool dbus designer designer-plugin device-mapper dga dia dirac directfb djbfft djvu domainkeys dri drm dts dv dvd dvdr dvdread ebook edl elf emacs enca encode esd examples exceptions exif expat extras facebook fam fame fastbuild fastcgi fbcon ffmpeg filter fits flac fluidsynth fontconfig foomaticdb fortran fpx frei0r ftp fts3 gadu galago games gcrypt gd gdbm geant4 geoip ggi gif gimp gimpprint glep glib glut gmp gnokii gnutls gphoto2 gpm gps gs gsl gsm gtk gtk2 gtkhtml guidexml guile hepmc hesiod hotpixels hppa hwdb i18n ical icecast iconv icu idea idn imagemagick imlib indi inotify inquisitio ipmi ipv6 isc ithreads jabber jack javascript jbig jingle jpeg jpeg2k judy kpathsea lame lapack lasi lastfmradio latex lcms ldap leim lensfun libass libcaca libffi libmms libotf libsamplerate libwww live logrotate logwatch lto lua lyrics-screen lzma lzo mad manhole matroska mbrola mem-scramble memcache metis mhash midi mikmod mmap mng modplug modules motif mozbranding mp3 mpg123 mpi mplayer mssql mudflap multislot musepack musicbrainz mysql nagios-dns nagios-game nagios-ntp nagios-ping nagios-ssh nas ncurses netpbm nettle network-cron nfconntrack nfs nls nntp nova nptl nptlonly nsplugin ntlm objc objc++ objc-gc offensive ogg openal openexr opengl openmp openssl optimization oss ots overlays pam pango pbs pch pcre pdf pdo-external perl php pipe plasma plotutils plugins png policykit portage portaudio postgres povray ppds pppd pulseaudio python pyzord qalculate qdbm qt3support qt4 quotas raw readline recode rle romio rpc rrdtool rtc rtmp ruby ruby18 samba sasl scale0tilt scanner scim sdl seamonkey secure-delete server session sid skk slang slp smi sms sndfile snmp soap song-screen soundex speex spell spoof-source sqlite srt srtp ssh ssl startup-notification strong-optimization subtitles subversion suhosin supernodal svg swat sysfs syslog system-sqlite talkfilters tcl tcpd test tftp tga theora threads thumbnail thunar-vfs tidy tiff timezone timidity tk tokyocabinet tools truetype tslib tunepimp twolame udev unicode unzip urandom usb userlocales utempter utf v4l v4l2 vanim vcd vidix vim-syntax vorbis watchdog wavpack webdav webinstall webp wildmidi winbind wlan wma wmf xanim xattr xcb xchattext xcomposite xface xlisten xml xml2 xmp xmpi xnest xorg xpm xrandr xscreensaver xsettings xulrunner xv xvfb xvid xvmc zip zip-external zlib" ALSA_CARDS="ad1889 usb-audio" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cgi cgid dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CALLIGRA_FEATURES="braindump flow karbon kexi kpresenter krita tables words" CAMERAS="ptp2" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf superstar2 timing tsip tripmate tnt ubx" INPUT_DEVICES="evdev joystick keyboard mouse acecad aiptek calcomp citron digitaledge dmc dynapro elo2300 elographics fpit hyperpen jamstudio magellan microtouch mutouch palmax penmount spaceorb summa tek4957 tslib ur98 wacom void" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en nl he" PHP_TARGETS="php5-2 php5-3" RUBY_TARGETS="ruby18" USERLAND="GNU" VIDEO_CARDS="stifb fbdev none dummy" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account" 
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Alexis Ballier






          2011-08-02 19:56:28 UTC
        

this is normal if you're using the config files prior to texlive 2010: tex memory was too low for xetex.

please make sure you're updated files in /etc, ran texmf-update, and then try again; reopen if it still fails, with your /etc/texmf/web2c/texmf.cnf file




Comment 2


Jeroen Roovers (RETIRED)






          2011-08-03 01:03:28 UTC
        

You mean this kind of upgrade disaster is how you expect things to work for every user? And you're not even going to warn people or explain how to properly upgrade?

Like [1] I mean, which is about the ->2008 upgrade (even though [2] still thinks it's 2007). The only mention of this bug in [1] is:

   "The 15options.cnf and 20sizes.cnf files can be modified with caution. The
    comments in these files should explain what options mean. For example, in
    20sizes.cnf you can increase TeX memory, in case you are trying to compile
    a document that is too big and runs into //TeX capacity exceeded, sorry
    errors//.


If the answer to my initial question is YES, then please reopen this bug report so that I can take action accordingly.


[1] http://www.gentoo.org/proj/en/tex/texlive-migration-guide.xml
[2] http://www.gentoo.org/proj/en/tex/




Comment 3


Alexis Ballier






          2011-08-03 04:03:23 UTC
        

(In reply to comment #2)
> You mean this kind of upgrade disaster is how you expect things to work for
> every user? 

This only fails if you have a lot of texlive-lang* packages installed.

> And you're not even going to warn people or explain how to properly
> upgrade?

	elog
	elog "If you have configuration files in /etc/texmf to merge,"
	elog "please update them and run /usr/sbin/texmf-update."
	elog

??

This process is called config protect... I don't think it would be wise to overwrite those files at every update, this will piss off people for a very small gain.




Comment 4


Jeroen Roovers (RETIRED)






          2011-08-03 05:05:45 UTC
        

(In reply to comment #3)
> This only fails if you have a lot of texlive-lang* packages installed.

Fair enough. So only a *few* users will have this lousy experience. :)

> > And you're not even going to warn people or explain how to properly
> > upgrade?
> 
>     elog
>     elog "If you have configuration files in /etc/texmf to merge,"
>     elog "please update them and run /usr/sbin/texmf-update."
>     elog
> 
> ??

Er, yeah: ?? Where are you going to put that? Looks like if someone is updating the entire texlive distribution, this would need to be done somewhere in between updating the language packages and this package.

> This process is called config protect... I don't think it would be wise to
> overwrite those files at every update, this will piss off people for a very
> small gain.

Pissing off people, like when you uninstall the complete 2008 distro and you get these awfully extended kpsewhich runs after every unmerge? OK, I see where you're going.

1) You could update your upgrade guide to warn of this problem and show people
   how to work around it. (But I already pointed that out.)
2) You could prevent a tool living in WORKDIR from parsing a runtime
   configuration installed on the live system, but use its to-be-installed
   runtime configuration files instead. If this could be fixed, there would be
   no need to piss off anyone.




Comment 5


Jeroen Roovers (RETIRED)






          2011-08-03 05:06:45 UTC
        

Oh by the way, WORKSFORME is the wrong resolution if you are intent on doing a WONTFIX. You've got to send the right message to your users, you know.




Comment 6


Alexis Ballier






          2011-08-03 05:35:54 UTC
        

(In reply to comment #4)
> (In reply to comment #3)
> > This only fails if you have a lot of texlive-lang* packages installed.
> 
> Fair enough. So only a *few* users will have this lousy experience. :)
> 
> > > And you're not even going to warn people or explain how to properly
> > > upgrade?
> > 
> >     elog
> >     elog "If you have configuration files in /etc/texmf to merge,"
> >     elog "please update them and run /usr/sbin/texmf-update."
> >     elog
> > 
> > ??
> 
> Er, yeah: ?? Where are you going to put that? 

its been in tl-core since the beginning of it...

> Looks like if someone is updating
> the entire texlive distribution, this would need to be done somewhere in
> between updating the language packages and this package.

yes; on the very few cases there'll be a failure, people will see this because portage prints it and will be supposed to do it and try again...

> 
> > This process is called config protect... I don't think it would be wise to
> > overwrite those files at every update, this will piss off people for a very
> > small gain.
> 
> Pissing off people, like when you uninstall the complete 2008 distro and you
> get these awfully extended kpsewhich runs after every unmerge? OK, I see where
> you're going.

this has nothing to do with the bug and has been improved in tl2010 btw ;)

> 
> 1) You could update your upgrade guide to warn of this problem and show people
>    how to work around it. (But I already pointed that out.)

the guide is outdated and was mainly meant as a ptex/tetex to texlive migration. It could be updated but since then I think b.g.o is also a good resource for such errors.

> 2) You could prevent a tool living in WORKDIR from parsing a runtime
>    configuration installed on the live system, but use its to-be-installed
>    runtime configuration files instead. If this could be fixed, there would be
>    no need to piss off anyone.

???
the files on the live fs are used because users are allowed to modify them; that's why they're config protected in the first time, and that's why you've had this error.

configuration files you needed to update are shared and provided by kpathsea, so I don't see what you mean by "use its to-be-installed runtime configuration files instead".

what's the "tool living in WORKDIR" ?




Comment 7


Alexis Ballier






          2011-08-09 15:52:53 UTC
        

*** Bug 378527 has been marked as a duplicate of this bug. ***









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

