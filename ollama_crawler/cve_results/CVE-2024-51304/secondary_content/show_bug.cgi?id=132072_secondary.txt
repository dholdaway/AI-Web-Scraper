Title: 132072 – Qt-4.1.2 qmake produce only Qt3/Qt4 Makefiletrash
URL: https://bugs.gentoo.org/show_bug.cgi?id=132072

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 132072
Qt-4.1.2 qmake produce only Qt3/Qt4 Makefiletrash
Last modified: 2006-05-10 13:43:40 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 132072 
      - Qt-4.1.2 qmake produce only Qt3/Qt4 Makefiletrash


Summary:
Qt-4.1.2 qmake produce only Qt3/Qt4 Makefiletrash
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Library

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       major
      


Assignee:

Qt Bug Alias








URL:







Whiteboard:




Keywords:









Duplicates (3):
    

132073 132074 132075

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2006-05-02 17:24 UTC by oc2k1





      Modified:
    
2006-05-10 13:43 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


oc2k1





          2006-05-02 17:24:00 UTC
        

I have Qtversion 3.3.4 and Qt version 4.1.2 installed. qmake produce only trash:
For testing, I change th directory to the first tutorial from the qt examples.

qmake -v
QMake version: 2.00a
Using Qt version 4.1.2 in /usr/lib/qt4

/usr/bin/qmake is from qt4, but the produced Makefile is only trash. Qt3 and QT4 Path are mixed. The Includes are QT3, libs QT4. Here only the first and some other importand lines:

#########################################################################$
# Makefile for building: t1
# Generated by qmake (2.00a) (Qt 4.1.2) on: Wed May 3 02:11:10 2006
# Project:  t1.pro
# Template: app
# Command: /usr/qt/3/bin/qmake -unix -o Makefile t1.pro
#########################################################################$

INCPATH       = -I/usr/share/doc/qt-4.1.2/mkspecs/linux-g++ -I. -I/usr/qt/3/include -I/usr/include/freetype2 -I.moc/release-shared-mt -I/usr/include -I.
LIBS          = $(SUBLIBS)  -L/usr/lib/mysql -L/usr/qt/3/lib -L/usr/lib -lQtGui -lQtCore -ldl -lSM -lICE -lpthread -lGLU -lGL
QMAKE         = /usr/qt/3/bin/qmake

Why /usr/qt/3/bin/qmake ??? I've called /usr/bin/qmake thats from version 4.1.2
Why qt3 includes???
Why QT4 libs but qt3libs search path???

QT3 an QT4 are both unusable, not a nice situation for developing....
http://bugs.gentoo.org/show_bug.cgi?id=130834  is the same problem...




Comment 1


Thomas Cort (RETIRED)






          2006-05-02 22:17:59 UTC
        

*** Bug 132074 has been marked as a duplicate of this bug. ***




Comment 2


Thomas Cort (RETIRED)






          2006-05-02 22:17:59 UTC
        

*** Bug 132073 has been marked as a duplicate of this bug. ***




Comment 3


Thomas Cort (RETIRED)






          2006-05-02 22:18:01 UTC
        

*** Bug 132075 has been marked as a duplicate of this bug. ***




Comment 4


Caleb Tennis (RETIRED)






          2006-05-03 04:12:13 UTC
        

I don't understand what you're trying to do, but if you explicitly want to run Qt3's qmake, just call "/usr/qt/3/bin/qmake".  if you want to run Qt4's, call /usr/bin/qmake.

Doesn't seem that difficult.




Comment 5


oc2k1





          2006-05-03 04:29:48 UTC
        

I don't want to run /usr/qt/3/bin/qmake. If I run /usr/bin/qmake, it produce unusable Makefiles with mixed QT3 and QT4 parts.




Comment 6


Caleb Tennis (RETIRED)






          2006-05-03 05:07:16 UTC
        

If I do the same on my system, I get:

#############################################################################
# Makefile for building: t1
# Generated by qmake (2.00a) (Qt 4.1.2) on: Wed May 3 08:05:36 2006
# Project:  t1.pro
# Template: app
# Command: /usr/bin/qmake -unix -o Makefile t1.pro
#############################################################################

INCPATH       = -I/usr/share/doc/qt-4.1.2/mkspecs/linux-g++ -I. -I/usr/include/q
t4/QtCore -I/usr/include/qt4/QtGui -I/usr/include/qt4 -I. -I.
QMAKE         = /usr/bin/qmake


So something else must be going on on your system.




Comment 7


Caleb Tennis (RETIRED)






          2006-05-03 05:15:14 UTC
        

What is your QTDIR set as?




Comment 8


oc2k1





          2006-05-03 05:24:41 UTC
        

default $QTDIR is /usr/qt/3, but I export it to /usr/qt/4




Comment 9


Caleb Tennis (RETIRED)






          2006-05-03 05:28:04 UTC
        

That is incorrect.  There is no /usr/qt/4 in existance, and Qt4 does not use the QTDIR variable.  Leave it set to /usr/qt/3




Comment 10


oc2k1





          2006-05-03 06:55:12 UTC
        

The QTDIR is not the problem. That's something other




Comment 11


Caleb Tennis (RETIRED)






          2006-05-10 12:01:00 UTC
        

can't reproduce.  I have to assume you've modified something on your system, since nobody else seems to have this problem.




Comment 12


oc2k1





          2006-05-10 13:43:40 UTC
        

I have the same Problem with QT-3.3.6 and QT-4.2.1 on a new fresh system (without any modifications...)









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

