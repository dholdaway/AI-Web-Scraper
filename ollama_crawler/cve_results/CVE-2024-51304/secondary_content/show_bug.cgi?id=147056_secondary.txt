Title: 147056 – librsvg-2.14.4 compile failure
URL: https://bugs.gentoo.org/show_bug.cgi?id=147056

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 147056
librsvg-2.14.4 compile failure
Last modified: 2006-11-02 13:35:04 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 147056 
      - librsvg-2.14.4 compile failure


Summary:
librsvg-2.14.4 compile failure
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] GNOME

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux Gnome Desktop Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-09-10 05:28 UTC by Steven De Bock





      Modified:
    
2006-11-02 13:35 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Steven De Bock





          2006-09-10 05:28:01 UTC
        

Hello, working on a fresh install of Gentoo 2006.1

"emerge gnome" hanged on a compile failure at librsvg-2.14.4, output:

(cd .libs && rm -f librsvg-2.la && ln -s ../librsvg-2.la librsvg-2.la)
/bin/sh ./libtool --mode=link --tag=CC i686-pc-linux-gnu-gcc  -O2 -march=i686 -pipe   -o rsvg-view  rsvg_view-test-display.o  -lgtk-x11-2.0 -lgdk-x11-2.0 -latk-1.0 -lgdk_pixbuf-2.0 -lm -lpangocairo-1.0 -lpango-1.0 -lcairo -lgobject-2.0 -lgmodule-2.0 -ldl -lglib-2.0   -lgdk-x11-2.0 -lgdk_pixbuf-2.0 -lm -lpangocairo-1.0 -lpango-1.0 -lcairo -lgobject-2.0 -lgmodule-2.0 -ldl -lglib-2.0    -lX11 -lm -pthread -lgnomevfs-2 -lbonobo-2 -lgconf-2 -lgobject-2.0 -lbonobo-activation -lORBit-2 -lm -lgmodule-2.0 -ldl -lgthread-2.0 -lglib-2.0   -lgsf-1 -lgobject-2.0 -lxml2 -lz -lm -lglib-2.0   -lcroco-0.6 -lglib-2.0 -lxml2 -lz -lm   -lgdk_pixbuf-2.0 -lxml2 -lm -lpangoft2-1.0 -lpango-1.0 -lgobject-2.0 -lgmodule-2.0 -ldl -lglib-2.0 -lcairo -lfontconfig -lexpat -lfreetype -lz   -lpopt ./librsvg-2.la
/bin/sh ./libtool --mode=link --tag=CC i686-pc-linux-gnu-gcc  -O2 -march=i686 -pipe   -o rsvg-convert  rsvg-convert.o -pthread -lgnomevfs-2 -lbonobo-2 -lgconf-2 -lgobject-2.0 -lbonobo-activation -lORBit-2 -lm -lgmodule-2.0 -ldl -lgthread-2.0 -lglib-2.0   -lgsf-1 -lgobject-2.0 -lxml2 -lz -lm -lglib-2.0   -lcroco-0.6 -lglib-2.0 -lxml2 -lz -lm   -lgdk_pixbuf-2.0 -lxml2 -lm -lpangoft2-1.0 -lpango-1.0 -lgobject-2.0 -lgmodule-2.0 -ldl -lglib-2.0 -lcairo -lfontconfig -lexpat -lfreetype -lz   -lpopt ./librsvg-2.la -lm
i686-pc-linux-gnu-gcc -O2 -march=i686 -pipe -o .libs/rsvg-convert rsvg-convert.o  -pthread ./.libs/librsvg-2.so /usr/lib/libgnomevfs-2.so -lssl -lcrypto -lresolv -lutil -lrt /usr/lib/libbonobo-2.so /usr/lib/libgconf-2.so /usr/lib/libbonobo-activation.so /usr/lib/libORBitCosNaming-2.so /usr/lib/libORBit-2.so /usr/lib/libpopt.so /usr/lib/libgthread-2.0.so -lpthread /usr/lib/libgsf-1.so /usr/lib/libcroco-0.6.so /usr/lib/libgdk_pixbuf-2.0.so /usr/lib/libxml2.so /usr/lib/libpangoft2-1.0.so /usr/lib/libpango-1.0.so /usr/lib/libgobject-2.0.so /usr/lib/libgmodule-2.0.so /usr/lib/libglib-2.0.so /usr/lib/libcairo.so /usr/lib/libXrender.so /usr/lib/libX11.so /usr/lib/libXau.so /usr/lib/libXdmcp.so -ldl /usr/lib/libfontconfig.so /usr/lib/libexpat.so /usr/lib/libfreetype.so -lz -lm
rsvg-convert.o: In function `main':
rsvg-convert.c:(.text+0xa37): undefined reference to `cairo_surface_write_to_png_stream'
collect2: ld returned 1 exit status
make[2]: *** [rsvg-convert] Error 1
make[2]: *** Waiting for unfinished jobs....
i686-pc-linux-gnu-gcc -O2 -march=i686 -pipe -o .libs/rsvg-view rsvg_view-test-display.o  /usr/lib/libgtk-x11-2.0.so /usr/lib/libatk-1.0.so /usr/lib/libgdk-x11-2.0.so /usr/lib/libpangocairo-1.0.so -pthread ./.libs/librsvg-2.so /usr/lib/libgnomevfs-2.so -lssl -lcrypto -lresolv -lutil -lrt /usr/lib/libbonobo-2.so /usr/lib/libgconf-2.so /usr/lib/libbonobo-activation.so /usr/lib/libORBitCosNaming-2.so /usr/lib/libORBit-2.so /usr/lib/libpopt.so /usr/lib/libgthread-2.0.so -lpthread /usr/lib/libgsf-1.so /usr/lib/libcroco-0.6.so /usr/lib/libgdk_pixbuf-2.0.so /usr/lib/libxml2.so /usr/lib/libpangoft2-1.0.so /usr/lib/libpango-1.0.so /usr/lib/libgobject-2.0.so /usr/lib/libgmodule-2.0.so /usr/lib/libglib-2.0.so /usr/lib/libcairo.so /usr/lib/libXrender.so /usr/lib/libX11.so /usr/lib/libXau.so /usr/lib/libXdmcp.so -ldl -lm /usr/lib/libfontconfig.so /usr/lib/libexpat.so /usr/lib/libfreetype.so -lz
creating rsvg-view
make[2]: Leaving directory `/var/tmp/portage/librsvg-2.14.4/work/librsvg-2.14.4'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/librsvg-2.14.4/work/librsvg-2.14.4'
make: *** [all] Error 2

!!! ERROR: gnome-base/librsvg-2.14.4 failed.
Call stack:
  ebuild.sh, line 1539:   Called dyn_compile
  ebuild.sh, line 939:   Called src_compile
  ebuild.sh, line 1248:   Called gnome2_src_compile
  gnome2.eclass, line 64:   Called die

!!! compile failure
!!! If you need support, post the topmost build error, and the call stack if relevant.



Solution:
After "emerge cairo", emerge librsvg worked properly.


Peculiarity:
I "emerged -C cairo" and retried "emerge librsvg", but when I did "emerge librsvg", this time cairo got automatically emerged.




Comment 1


Saleem Abdulrasool (RETIRED)






          2006-09-29 14:20:16 UTC
        

Did you add the cairo useflag later or at the beginning?




Comment 2


Steven De Bock





          2006-09-30 14:00:00 UTC
        

I never used the cairo USE flag, not before or after. 




Comment 3


John N. Laliberte (RETIRED)






          2006-11-02 13:35:04 UTC
        

cairo is a hard dep of librsvg, it should have pulled it in the first time.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

