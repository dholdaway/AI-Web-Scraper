Title: 132892 – gmime-2.2.1 compilation fails [test-streams.o: file not recognized]
URL: https://bugs.gentoo.org/show_bug.cgi?id=132892

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 132892
gmime-2.2.1 compilation fails [test-streams.o: file not recognized]
Last modified: 2006-05-14 17:53:29 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 132892 
      - gmime-2.2.1 compilation fails [test-streams.o: file not recognized]


Summary:
gmime-2.2.1 compilation fails [test-streams.o: file not recognized]
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] GNOME

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Net-Mail Packages








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-05-10 06:06 UTC by Martin DeMello





      Modified:
    
2006-05-14 17:53 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Martin DeMello





          2006-05-10 06:06:36 UTC
        

Can't compile gmime-2.2.1 on my box - here's the tail end of the emerge output:

/bin/sh ../libtool --tag=CC --mode=link i686-pc-linux-gnu-gcc  -O2 -march=i686   -o test-streams  test-streams.o ../gmime/libgmime-2.0.la -Wl,--export-dynamic -pthread -lgobject-2.0 -lgmodule-2.0 -ldl -lgthread-2.0 -lglib-2.0   -lz -lnsl
i686-pc-linux-gnu-gcc -O2 -march=i686 -o .libs/test-streams test-streams.o -Wl,--export-dynamic -pthread  ../gmime/.libs/libgmime-2.0.so /usr/lib/libgobject-2.0.so /usr/lib/libgmodule-2.0.so -ldl /usr/lib/libgthread-2.0.so -lpthread /usr/lib/libglib-2.0.so -lz -lnsl
test-streams.o: file not recognized: File format not recognized
collect2: ld returned 1 exit status
make[3]: *** [test-streams] Error 1
make[3]: Leaving directory `/var/tmp/portage/gmime-2.2.1/work/gmime-2.2.1/tests'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/var/tmp/portage/gmime-2.2.1/work/gmime-2.2.1/tests'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/gmime-2.2.1/work/gmime-2.2.1'
make: *** [all] Error 2

Additional info: gmime-2.1.19 compiles cleanly

-------------------------------------------------------------------------------


dabba gmime # emerge --info
Portage 2203-svn (default-linux/x86/2005.1, gcc-3.4.5, glibc-2.3.6-r3, 2.6.14-gentoo-r5 i686)
=================================================================
System uname: 2.6.14-gentoo-r5 i686 Intel(R) Pentium(R) 4 CPU 3.00GHz
Gentoo Base System version 1.12.0_pre19
ccache version 2.3 [enabled]
dev-lang/python:     2.3.5, 2.4.2
dev-python/pycrypto: [Not Present]
dev-util/ccache:     2.3
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.11
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=i686"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/NX/etc /usr/NX/home /usr/kde/2/share/config /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/ /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/eselect/compiler /etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=i686"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X aac acl alsa apm arts audiofile avi bash-completion berkdb bitmap-fonts bonobo bzip2 cdr cli crypt cups curl doc dri dvd eds emboss encode esd exif expat fam ffmpeg foomaticdb fortran gcj gd gdbm gif glut gmp gnome gpm gstreamer gtk gtk2 gtkhtml guile idn imagemagick imlib ipv6 isdnlog java jpeg junit kde lcms ldap libg++ libwww lua mad mikmod mng mono motif mozilla mozsvg mp3 mpeg ncurses nls nsplugin objc ogg oggvorbis openal opengl oss pam pcre pdflib perl png postgres pppd python qt quicktime readline reflection ruby scanner scanneri sdl session spell spl sqlite ssl tcltk tcpd tetex tiff truetype truetype-fonts type1-fonts udev usb vorbis win32codecs xine xml xml2 xmms xorg xv xvid zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGUAS, MAKEOPTS, PORTAGE_RSYNC_EXTRA_OPTS, PORTAGE_RSYNC_OPTS




Comment 1


Tuan Van (RETIRED)






          2006-05-13 21:14:51 UTC
        

could you disable ccache and try again?




Comment 2


Martin DeMello





          2006-05-14 13:42:02 UTC
        

(In reply to comment #1)
> could you disable ccache and try again?

Good call - it worked nicely without ccache. Should I refile this as a ccache bug or are there already some known issues with it?




Comment 3


Tuan Van (RETIRED)






          2006-05-14 17:53:29 UTC
        

when ever I see foo.o: file not recognized: File format not recognized , it has something to do with either ccache or distcc. I don't think anyone can fix it except telling you to to clean the stale cache. I close this one as WFM. You can file a new WRT cache if you feel it is needed.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

