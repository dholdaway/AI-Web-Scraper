Title: 150011 – dev-libs/cyrus-sasl-2.1.22 failed with USE=java
URL: https://bugs.gentoo.org/show_bug.cgi?id=150011

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 150011
dev-libs/cyrus-sasl-2.1.22 failed with USE=java
Last modified: 2006-10-04 01:14:37 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 150011 
      - dev-libs/cyrus-sasl-2.1.22 failed with USE=java


Summary:
dev-libs/cyrus-sasl-2.1.22 failed with USE=java
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Unspecified

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-10-03 14:54 UTC by Joshua Pettett





      Modified:
    
2006-10-04 01:14 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Joshua Pettett





          2006-10-03 14:54:28 UTC
        

If USE="java", cyrus-sasl ebuild needs 'jar' to emerge, but doesn't have java as a build-time dependency:

/usr/portage/dev-libs/cyrus-sasl/cyrus-sasl-2.1.22.ebuild: line 182: jar: command not found
.
.
.
install: cannot stat `cyrus-sasl.jar': No such file or directory

!!! ERROR: dev-libs/cyrus-sasl-2.1.22 failed.
Call stack:
  ebuild.sh, line 1546:   Called dyn_install
  ebuild.sh, line 1020:   Called src_install
  cyrus-sasl-2.1.22.ebuild, line 215:   Called java-pkg_dojar 'cyrus-sasl.jar'
  java-pkg.eclass, line 281:   Called die

!!! cyrus-sasl.jar not found


Portage 2.1.1 (default-linux/x86/2006.1/desktop, gcc-4.1.1, glibc-2.4-r3, 2.6.16-hardened-r11 i686)
=================================================================
System uname: 2.6.16-hardened-r11 i686 Intel(R) Pentium(R) 4 CPU 2.40GHz
Gentoo Base System version 1.12.5
Last Sync: Sun, 01 Oct 2006 21:00:01 +0000
ccache version 2.3 [enabled]
app-admin/eselect-compiler: [Not Present]
dev-java/java-config: 1.2.11-r1
dev-lang/python:     2.4.3-r1
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     2.3
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.13-r3
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.17-r1
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O3 -march=pentium4 -fomit-frame-pointer -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/X11/xkb /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/"
CONFIG_PROTECT_MASK="/etc/env.d /etc/gconf /etc/revdep-rebuild /etc/splash /etc/terminfo"
CXXFLAGS="-O3 -march=pentium4 -fomit-frame-pointer -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache distlocks metadata-transfer prelink sandbox sfperms strict"
GENTOO_MIRRORS="http://mirror.datapipe.net/gentoo http://open-systems.ufl.edu/mirrors/gentoo http://mirrors.acm.cs.rpi.edu/gentoo/ http://mirror.datapipe.net/gentoo http://gentoo.chem.wisc.edu/gentoo/"
LINGUAS=""
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 3dnow X acl acpi adns aim alsa arts audiofile avi bash-completion berkdb bitmap-fonts bzip2 cairo caps cdr cli cpdflib crypt cscope cups curl dbus dbx dga dio directfb dlloader doc dri dvd dvdr eds elibc_glibc emboss encode exif expat fam fbcon ffmpeg firefox flac flash flatfile ftp gd gdbm gif gmp gpm gstreamer gtk hal hardenedphp idn imagemagick imap imlib innodb input_devices_joystick input_devices_keyboard input_devices_mouse ipv6 isdnlog jabber java joystick jpeg kde kerberos kernel_linux krb4 lcms ldap libg++ mad mhash mikmod mime ming mmx mng motif mozilla mp3 mpeg mysql mysqli ncurses nis nls nptl nptlonly nsplugin odbc ogg opengl oscar pam pcntl pcre pda pdf pdflib perl php pic pie png posix ppds pppd prelude python qt4 quicktime readline real reflection samba sasl sdl session shared sharedmem simplexml soap sockets speex spell spl sqlite sse sse2 ssl sysvipc tcltk tcpd threads tidy tiff tokenizer truetype truetype-fonts type1-fonts udev unicode userland_GNU vhosts video_cards_nv videos vorbis win32codecs wmf xine xml xmlrpc xmms xorg xosd xv xvid yahoo zlib"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Jakub Moc (RETIRED)






          2006-10-03 14:58:36 UTC
        



*** This bug has been marked as a duplicate of 133247 ***




Comment 2


Joshua Pettett





          2006-10-03 19:22:22 UTC
        

Bug #133247 is marked as FIXED; how could it be fixed if I'm still having this problem with the latest cyrus-sasl ebuild in portage?  Also, bug #133247 seems to describe a situation in which a jdk is installed but not recognised.  In my case, there is NOT a jdk installed, but the cyrus-sasl ebuild is trying to use `jar` anyway.




Comment 3


Roger





          2006-10-03 23:13:46 UTC
        

Ditto here. 

In the middle of a emerge -e system, cyrus-sasl borked.

Once I used "-java" in /etc/portage/package.use, cyrus-sasl compiled.




Comment 4


Jakub Moc (RETIRED)






          2006-10-04 01:14:37 UTC
        

(In reply to comment #2)
> In my case, there is NOT a jdk installed, but the cyrus-sasl ebuild is trying > to use `jar` anyway.

Well, if you don't have JDK installed, it obviously won't work. The ebuild depends on it:

<snip>
RDEPEND="berkdb? ( >=sys-libs/db-3.2 )
        gdbm? ( >=sys-libs/gdbm-1.8.0 )
        ldap? ( >=net-nds/openldap-2.0.25 )
        mysql? ( >=dev-db/mysql-3.23.51 )
        postgres? ( >=dev-db/postgresql-7.2 )
        pam? ( virtual/pam )
        ssl? ( >=dev-libs/openssl-0.9.6d )
        kerberos? ( virtual/krb5 )
        authdaemond? (
                || (
                        >=net-mail/courier-imap-3.0.7
                        >=mail-mta/courier-0.46
                )
        )
        java? ( =virtual/jdk-1.4* )
        ntlm_unsupported_patch? ( >=net-fs/samba-3.0.9 )"
DEPEND="${RDEPEND}
        >=sys-apps/sed-4
        >=sys-devel/autoconf-2.58
        sys-devel/automake
        sys-devel/libtool"
</snip>









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

