Title: 755941 – sys-libs/compiler-rt-sanitizers-11.0.0: crash by signal during build - "<eof> parser at end of file"
URL: https://bugs.gentoo.org/show_bug.cgi?id=755941

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 755941
sys-libs/compiler-rt-sanitizers-11.0.0: crash by signal during build - "<eof> parser at end of file"
Last modified: 2021-08-21 07:35:31 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 755941 
      - sys-libs/compiler-rt-sanitizers-11.0.0: crash by signal during build - "<eof> parser at end of file"


Summary:
sys-libs/compiler-rt-sanitizers-11.0.0: crash by signal during build - "<eof>...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

LLVM support project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2020-11-21 13:44 UTC by Kai Krakow





      Modified:
    
2021-08-21 07:35 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



jstein









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build log

              (sys-libs:compiler-rt-sanitizers-11.0.0:20201121-131026.log,966.65 KB,
                text/plain)

            
2020-11-21 13:45 UTC,

            Kai Krakow




Details





emerge info

              (emerge-info.txt,12.03 KB,
                text/plain)

            
2020-11-21 13:46 UTC,

            Kai Krakow




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Kai Krakow





          2020-11-21 13:44:00 UTC
        

During build, this emerge fails at the same location each time:

FAILED: lib/scudo/standalone/CMakeFiles/RTScudoStandalone.i386.dir/linux.cpp.o
/usr/lib/llvm/11/bin/x86_64-pc-linux-gnu-clang++  -I/var/tmp/portage/sys-libs/compiler-rt-sanitizers-11.0.0/work/compiler-rt/lib/scudo/standalone/../.. -I/var/tmp/portage/sys-libs/compiler-rt-sanitizers-11.0.0/work/compiler-rt/lib/scudo/standalone/include
  -O2 -march=native -pipe -fomit-frame-pointer -g -ftree-vectorize -ftree-slp-vectorize -falign-functions=32 -fno-plt -fvisibility-inlines-hidden -Wall -std=c++14 -Wno-unused-parameter    -m32 -Werror=conversion -Wall -nostdinc++ -ffreestanding -fvisibili
ty=hidden -O3 -DGWP_ASAN_HOOKS -MD -MT lib/scudo/standalone/CMakeFiles/RTScudoStandalone.i386.dir/linux.cpp.o -MF lib/scudo/standalone/CMakeFiles/RTScudoStandalone.i386.dir/linux.cpp.o.d -o lib/scudo/standalone/CMakeFiles/RTScudoStandalone.i386.dir/linux.
cpp.o -c /var/tmp/portage/sys-libs/compiler-rt-sanitizers-11.0.0/work/compiler-rt/lib/scudo/standalone/linux.cpp
PLEASE submit a bug report to https://bugs.llvm.org/ and include the crash backtrace, preprocessed source, and associated run script.
Stack dump:
0.      Program arguments: /usr/lib/llvm/11/bin/x86_64-pc-linux-gnu-clang++ -I/var/tmp/portage/sys-libs/compiler-rt-sanitizers-11.0.0/work/compiler-rt/lib/scudo/standalone/../.. -I/var/tmp/portage/sys-libs/compiler-rt-sanitizers-11.0.0/work/compiler-rt/li
b/scudo/standalone/include -O2 -march=native -pipe -fomit-frame-pointer -g -ftree-vectorize -ftree-slp-vectorize -falign-functions=32 -fno-plt -fvisibility-inlines-hidden -Wall -std=c++14 -Wno-unused-parameter -m32 -Werror=conversion -Wall -nostdinc++ -ff
reestanding -fvisibility=hidden -O3 -DGWP_ASAN_HOOKS -MD -MT lib/scudo/standalone/CMakeFiles/RTScudoStandalone.i386.dir/linux.cpp.o -MF lib/scudo/standalone/CMakeFiles/RTScudoStandalone.i386.dir/linux.cpp.o.d -o lib/scudo/standalone/CMakeFiles/RTScudoStan
dalone.i386.dir/linux.cpp.o -c /var/tmp/portage/sys-libs/compiler-rt-sanitizers-11.0.0/work/compiler-rt/lib/scudo/standalone/linux.cpp
1.      <eof> parser at end of file
2.      Code generation
3.      Running pass 'Function Pass Manager' on module '/var/tmp/portage/sys-libs/compiler-rt-sanitizers-11.0.0/work/compiler-rt/lib/scudo/standalone/linux.cpp'.
4.      Running pass 'Machine Common Subexpression Elimination' on function '@_ZN5scudo9outputRawEPKc'

There's no hint in dmesg about this signal. The system is stable otherwise, hardware is tested good.

Reproducible: Always

Steps to Reproduce:
1. emerge -1a =sys-libs/compiler-rt-sanitizers-11.0.0




Comment 1


Kai Krakow





          2020-11-21 13:45:12 UTC
        

Created attachment 674122 [details]
build log

 * ERROR: sys-libs/compiler-rt-sanitizers-11.0.0::gentoo failed (compile phase):
 *   ninja -v -j5 -l8 failed
 *
 * Call stack:
 *     ebuild.sh, line  125:  Called src_compile
 *   environment, line 3375:  Called cmake_src_compile
 *   environment, line 1313:  Called cmake_build
 *   environment, line 1282:  Called eninja
 *   environment, line 1734:  Called die
 * The specific snippet of code:
 *       "$@" || die "${nonfatal_args[@]}" "${*} failed"
 *
 * If you need support, post the output of `emerge --info '=sys-libs/compiler-rt-sanitizers-11.0.0::gentoo'`,
 * the complete build log and the output of `emerge -pqv '=sys-libs/compiler-rt-sanitizers-11.0.0::gentoo'`.
 * The complete build log is located at '/var/log/portage/sys-libs:compiler-rt-sanitizers-11.0.0:20201121-131026.log'.
 * The ebuild environment file is located at '/var/tmp/portage/sys-libs/compiler-rt-sanitizers-11.0.0/temp/environment'.
 * Working directory: '/var/tmp/portage/sys-libs/compiler-rt-sanitizers-11.0.0/work/compiler-rt_build'
 * S: '/var/tmp/portage/sys-libs/compiler-rt-sanitizers-11.0.0/work/compiler-rt'
 * One or more packages are either masked or have missing dependencies:
 *
 *   ~sys-devel/clang-runtime-11.0.0 pulled in by:
 *     (sys-devel/clang-11.0.0-1:11/11::gentoo, installed)
 *
 * The resume list contains packages that are either masked or have
 * unsatisfied dependencies. Please restart/continue the operation
 * manually, or use --skipfirst to skip the first package in the list and
 * any other packages that may be masked or have missing dependencies.
 *
 * The following package has failed to build, install, or execute postinst:
 *
 *  (sys-libs/compiler-rt-sanitizers-11.0.0:11.0.0/11.0.0::gentoo, ebuild scheduled for merge), Log file:
 *   '/var/log/portage/sys-libs:compiler-rt-sanitizers-11.0.0:20201121-131026.log'
 *




Comment 2


Kai Krakow





          2020-11-21 13:46:12 UTC
        

Created attachment 674125 [details]
emerge info




Comment 3


Kai Krakow





          2021-08-21 07:35:31 UTC
        

Can no longer reproduce









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

