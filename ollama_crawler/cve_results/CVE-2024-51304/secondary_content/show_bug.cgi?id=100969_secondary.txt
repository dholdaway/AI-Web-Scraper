Title: 100969 – (gvim-7.0_alpha200507) [vim7] gvim-7.0_alpha20050721 / xorg-x11-6.8.2-r2: System destabilization when opening a file using a wildcard
URL: https://bugs.gentoo.org/show_bug.cgi?id=100969

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 100969
[vim7] gvim-7.0_alpha20050721 / xorg-x11-6.8.2-r2: System destabilization when opening a file using a wildcard
Last modified: 2005-08-11 16:35:13 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 100969 
        (gvim-7.0_alpha200507)
      - [vim7] gvim-7.0_alpha20050721 / xorg-x11-6.8.2-r2: System destabilization when opening a file using a wildcard


Summary:
[vim7] gvim-7.0_alpha20050721 / xorg-x11-6.8.2-r2: System destabilization whe...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:

gvim-7.0_alpha200507
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Vim Maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-07-31 23:21 UTC by Anthony Gorecki





      Modified:
    
2005-08-11 16:35 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Anthony Gorecki





          2005-07-31 23:21:01 UTC
        

When attempting to open a wildcarded file on the command line using gvim, the
program causes X to rapidly consume all available system memory and processing
time until killed. I've encountered the problem a number of times, however I've
found it difficult to do useful testing during the system failure because of the
extremely slow system response time:

On one occasion I managed to halt the destructive behavior by killing gvim and
various other desktop applications; I suspect that the prolonged instability
after killing gvim was due to the system attempting to free the swap space on
the hard drive, rather than a continued system conflict. Two other occurrences
of this problem resulted in hard reboots of the system.


app-editors/gvim-7.0_alpha20050721  -acl (-aqua) +bash-completion -cscope -debug
-gnome -gpm +gtk +gtk2 -motif -mzscheme -netbeans -nextaw -nls +perl -python -qt
-ruby (-selinux) -tcltk -termcap-compat

x11-base/xorg-x11-6.8.2-r2  -3dfx -3dnow +bitmap-fonts -cjk -debug -dlloader
-dmx -doc +font-server -insecure-drivers -ipv6 -minimal +mmx -nls -nocxx +opengl
-pam -sdk +sse -static +truetype-fonts +type1-fonts (-uclibc) -xprint +xv

Portage 2.0.51.22-r2 (default-linux/x86/2005.0, gcc-3.3.5-20050130,
glibc-2.3.5-r0, 2.6.11.10 i686)
=================================================================
System uname: 2.6.11.10 i686 Intel(R) Pentium(R) 4 CPU 2.66GHz
Gentoo Base System version 1.6.13
dev-lang/python:     2.3.5, 2.4.1-r1
sys-apps/sandbox:    1.2.11
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6
sys-devel/binutils:  2.15.92.0.2-r10
sys-devel/libtool:   1.5.18-r1
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O3 -march=pentium4 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env
/usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O3 -march=pentium4 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks noinfo notitles sandbox sfperms strict userpriv
usersandbox"
GENTOO_MIRRORS="http://distfiles.gentoo.org
http://distro.ibiblio.org/pub/Linux/distributions/gentoo"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 arts crypt gif jpeg kdeenablefinal mmx mmx2 nptl nptlonly opengl pcre
perl png readline sse sse2 ssl tiff unicode xv zlib userland_GNU kernel_linux
elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS




Comment 1


Ryan Phillips (RETIRED)






          2005-08-01 16:58:24 UTC
        

Anthony: We need more information and gdb backtraces if possible.  What does
'open a wildcarded file' mean?




Comment 2


Anthony Gorecki





          2005-08-02 04:05:26 UTC
        

I was referring to the list of files you'd expect to be generated by Bash upon
entering a wildcard as part of a file name: src/Version*.cs

In addition to the above, I also attempted to open a nonexistent file using gvim
and encountered the same erroneous behavior. On that occasion, I had attempted
to open "src/VersionString."

As for the backtraces, I'll see if I can capture any of them before the system
crashes, but I can't make any guarantees. I tried to capture a backtrace just
now and accomplished nothing other than necessitating a reboot. I'll post the
test results in subsequent comments since I'm likely to lose my existing remarks.




Comment 3


Aaron Walker (RETIRED)






          2005-08-02 05:19:50 UTC
        

not sure why you CC'd vim@ when that's who it's assigned to...




Comment 4


Anthony Gorecki





          2005-08-02 17:11:10 UTC
        

Sorry, it wasn't intentional; Firefox's SessionSaver extension is still buggy.




Comment 5


Ciaran McCreesh





          2005-08-04 17:33:24 UTC
        

I can't reproduce this one, so I think I'll need a backtrace. Try using X11
forwarding if getting one locally doesn't work.




Comment 6


Ciaran McCreesh





          2005-08-10 07:59:02 UTC
        

Please retry with 20050809. If it's still a problem, please reopen with a backtrace.




Comment 7


Anthony Gorecki





          2005-08-11 16:35:13 UTC
        

This problem has been fixed in the newer version, thanks.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

