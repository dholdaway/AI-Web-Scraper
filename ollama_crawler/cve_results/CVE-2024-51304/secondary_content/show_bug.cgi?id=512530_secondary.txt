Title: 512530 – =dev-util/cmake-2.8.12.2-r1 with =dev-lang/ekopath-5.0.1_pre20131115 - sandbox violation in /usr/lib/crt1.o (open_wr) by /opt/ekopath/lib/5.0.1/x8664/ldfe
URL: https://bugs.gentoo.org/show_bug.cgi?id=512530

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 512530
=dev-util/cmake-2.8.12.2-r1 with =dev-lang/ekopath-5.0.1_pre20131115 - sandbox violation in /usr/lib/crt1.o (open_wr) by /opt/ekopath/lib/5.0.1/x8664/ldfe
Last modified: 2017-06-24 15:20:31 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 512530 
      - =dev-util/cmake-2.8.12.2-r1 with =dev-lang/ekopath-5.0.1_pre20131115 - sandbox violation in /usr/lib/crt1.o (open_wr) by /opt/ekopath/lib/5.0.1/x8664/ldfe


Summary:
=dev-util/cmake-2.8.12.2-r1 with =dev-lang/ekopath-5.0.1_pre20131115 - sandbo...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2014-06-05 19:14 UTC by Bertrand Jacquin





      Modified:
    
2017-06-24 15:20 UTC
      (History)
    




          CC List:
        

3 
          users
          
            (show)
          



bertrand
mgorny
sci









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build.log

              (build.log,130.45 KB,
                text/plain)

            
2014-06-05 19:14 UTC,

            Bertrand Jacquin




Details





sandbox.log

              (sandbox.log,77.97 KB,
                text/plain)

            
2014-06-05 19:14 UTC,

            Bertrand Jacquin




Details





emerge --info

              (info.log,16.65 KB,
                text/plain)

            
2014-06-05 19:14 UTC,

            Bertrand Jacquin




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Bertrand Jacquin





          2014-06-05 19:14:05 UTC
        

When =dev-lang/ekopath-5.0.1_pre20131115 is installed and then trying to build cmake, it result to many sandbox violation.

-- <<< Gentoo configuration >>>
Build type      Gentoo
Install path    /usr
Compiler flags:
C               -march=native -O2 -pipe -fomit-frame-pointer
C++             -march=native -O2 -pipe -fomit-frame-pointer
Linker flags:
Executable       -Wl,-O1 -Wl,--as-needed
Module           -Wl,-O1 -Wl,--as-needed
Shared           -Wl,-O1 -Wl,--as-needed

-- Configuring done
-- Generating done
-- Build files have been written to: /var/tmp/portage/dev-util/cmake-2.8.12.2-r1/work/cmake-2.8.12.2_build
>>> Source configured.
 * --------------------------- ACCESS VIOLATION SUMMARY ---------------------------
 * LOG FILE: "/var/log/sandbox/sandbox-24945.log"
 *

Full log attached (portage and sandbox), and emerge --info

Reproducible: Always




Comment 1


Bertrand Jacquin





          2014-06-05 19:14:27 UTC
        

Created attachment 378332 [details]
build.log




Comment 2


Bertrand Jacquin





          2014-06-05 19:14:40 UTC
        

Created attachment 378334 [details]
sandbox.log




Comment 3


Bertrand Jacquin





          2014-06-05 19:14:50 UTC
        

Created attachment 378336 [details]
emerge --info




Comment 4


Christoph Junghans (RETIRED)






          2014-07-13 20:05:24 UTC
        

Something similar happens if dev-lang/ifc is installed.




Comment 5


Michał Górny









          2015-04-22 13:01:09 UTC
        

ekopath is fixed not to break sandbox. Now, what remains is CMake trying hard to find a random Fortran compiler.




Comment 6


Michael Palimaka (kensington)






          2015-04-22 17:01:38 UTC
        

(In reply to Michał Górny from comment #5)
> ekopath is fixed not to break sandbox. Now, what remains is CMake trying
> hard to find a random Fortran compiler.

Please elaborate. That's not a particularly useful piece of information.




Comment 7


Michał Górny









          2015-04-22 17:14:39 UTC
        

-- Looking for a Fortran compiler
-- Looking for a Fortran compiler - /opt/ekopath/bin/pathf95

I'm not convinced that Gentoo packages should try to use non-GNU compilers implicitly, and what are the implications of that.




Comment 8


Michael Palimaka (kensington)






          2015-04-22 17:19:45 UTC
        

AFAIK it's only checking out the environment as part of build. Anything actually using fortran and cmake-utils.eclass gets tc-getFC automatically.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

