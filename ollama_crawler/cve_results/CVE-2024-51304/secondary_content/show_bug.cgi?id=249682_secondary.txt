Title: 249682 – media-libs/liblrdf-0.4.0 - requires virtual/krb5? (link fails on -lgssapi_krb5)
URL: https://bugs.gentoo.org/show_bug.cgi?id=249682

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 249682
media-libs/liblrdf-0.4.0 - requires virtual/krb5? (link fails on -lgssapi_krb5)
Last modified: 2008-12-19 12:24:53 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 249682 
      - media-libs/liblrdf-0.4.0 - requires virtual/krb5? (link fails on -lgssapi_krb5)


Summary:
media-libs/liblrdf-0.4.0 - requires virtual/krb5? (link fails on -lgssapi_krb5)
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Sound Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-12-03 06:35 UTC by Daniel Santos





      Modified:
    
2008-12-19 12:24 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




proposed patch

              (liblrdf-0.4.0.ebuild.patch,462 bytes,
                patch)

            
2008-12-03 06:45 UTC,

            Daniel Santos




Details
            | Diff





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Daniel Santos





          2008-12-03 06:35:56 UTC
        

I ran emerge --depclean earlier and it removed app-crypt/mit-krb5.  Then after running revdep-rebuild, it picked up liblrdf, but it fails to build now (and nothing else is pulling in app-crypt/mit-krb5 or virtual/krb5).  If my assessment is accurate, then we need to add "virtual/krb5" to RDEPEND.


libtool: link: x86_64-pc-linux-gnu-gcc -shared  .libs/lrdf.o .libs/lrdf_multi.o .libs/md5.o   -L/usr/lib -L/usr/lib64 /usr/lib64/libraptor.so /usr/lib64/libcurl.so /usr/lib64/libcares.so /usr/lib64/libidn.so /usr/lib64/libssh2.so /usr/lib64/libldap.so /usr/lib64/liblber.so /usr/lib64/libsasl2.so -lcrypt -lssl -lcrypto -lrt -lgssapi_krb5 -lkrb5 -lk5crypto -lcom_err -lresolv /usr/lib64/libgnutls.so /usr/lib64/libtasn1.so /usr/lib64/libgcrypt.so /usr/lib64/libgpg-error.so /usr/lib64/libxslt.so /usr/lib64/libxml2.so -ldl -lz -lm  -march=amdfam10 -Wl,-O1   -Wl,-soname -Wl,liblrdf.so.2 -o .libs/liblrdf.so.2.0.0
/usr/lib/gcc/x86_64-pc-linux-gnu/4.3.2/../../../../x86_64-pc-linux-gnu/bin/ld: cannot find -lgssapi_krb5
collect2: ld returned 1 exit status
make[2]: *** [liblrdf.la] Error 1
make[2]: Leaving directory `/tmp/portage/media-libs/liblrdf-0.4.0/work/liblrdf-0.4.0/src'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/tmp/portage/media-libs/liblrdf-0.4.0/work/liblrdf-0.4.0'
make: *** [all] Error 2
 *
 * ERROR: media-libs/liblrdf-0.4.0 failed.
 * Call stack:
 *               ebuild.sh, line   49:  Called src_compile
 *             environment, line 2713:  Called base_src_compile
 *             environment, line  395:  Called base_src_work 'all'
 *             environment, line  504:  Called base_src_work 'configure' 'make'
 *             environment, line  500:  Called die
 * The specific snippet of code:
 *                   emake || die "died running emake, $FUNCNAME:make"
 *  The die message:
 *   died running emake, base_src_work:make
 *
 * If you need support, post the topmost build error, and the call stack if relevant.
 * A complete build log is located at '/var/log/portage/media-libs:liblrdf-0.4.0:20081203-061225.log'.
 * The ebuild environment file is located at '/tmp/portage/media-libs/liblrdf-0.4.0/temp/environment'.
 *


Portage 2.1.6_rc2 (default/linux/amd64/2008.0/desktop, gcc-4.3.2, glibc-2.8_p20080602-r0, 2.6.27-gentoo x86_64)
=================================================================
System uname: Linux-2.6.27-gentoo-x86_64-AMD_Phenom-tm-_9850_Quad-Core_Processor-with-glibc2.2.5
Timestamp of tree: Wed, 03 Dec 2008 05:37:03 +0000
distcc 3.0 x86_64-pc-linux-gnu [disabled]
ccache version 2.4 [disabled]
app-shells/bash:     3.2_p48
dev-java/java-config: 1.3.7-r1, 2.1.6-r1
dev-lang/python:     2.5.2-r8
dev-util/ccache:     2.4-r8
dev-util/cmake:      2.6.2
sys-apps/baselayout: 2.0.0
sys-apps/openrc:     0.3.0-r1
sys-apps/sandbox:    1.2.18.1-r3
sys-devel/autoconf:  2.13, 2.63
sys-devel/automake:  1.4_p6, 1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.2
sys-devel/binutils:  2.18-r4, 2.19
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   2.2.6a
virtual/os-headers:  2.6.27-r2
ACCEPT_KEYWORDS="amd64 ~amd64"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=amdfam10 -O2 -g -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /opt/openjms/config /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/kde/4.1/env /usr/kde/4.1/share/config /usr/kde/4.1/shutdown /usr/share/config /var/lib/hsqldb"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/splash /etc/terminfo /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-march=amdfam10 -O2 -g -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="buildpkg distlocks installsources parallel-fetch protect-owned sandbox sfperms splitdebug strict unmerge-orphans userfetch userpriv usersandbox"
GENTOO_MIRRORS="http://mirrors.cs.wmich.edu/gentoo http://mirror.mcs.anl.gov/pub/gentoo/ http://osmirrors.cerias.purdue.edu/pub/gentoo/"
LDFLAGS="-Wl,-O1"
LINGUAS="en_US en en_GB en_ZA es es_AR es_CR es_ES es_LA af am ar as_IN az be be_BY bg bn bn_IN bo br bs ca cs csb cy da de de_FR dz el eo et et_EE eu fa fi fo fr fr_CA fy fy_NL ga ga_IE gl gu gu_IN he hi hi_IN hr hsb hu hy id is it ja ka kk km kn ko ku la lb lo lt lv mk ml ml_IN mn mr mr_IN ms mt nb nb_NO nds ne nl nn nn_NO no nr ns nso oc or_IN pa pa_IN pl pt pt_BR pt_PT ro ru rw se sh sh_YU si sk sl sq sr sr@Latn sr_CS ss st sv sv_SE sw sw_TZ ta ta_IN te te_IN tg th ti ti_ER tk tl tn tr ts uk ur ur_IN uz uz@cyrillic ve vi wa xh zh zh_CN zh_HK zh_TW zu"
MAKEOPTS="-j5"
PKGDIR="/usr/portage/packages"
PORTAGE_COMPRESS="bzip2"
PORTAGE_COMPRESS_FLAGS="-9"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portage/local/layman/sunrise /usr/portage/local/layman/pro-audio /usr/portage/local/layman/Spring /usr/portage/local/layman/zugaina /usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="3dnow 3dnowext 3ds 64bit 7zip X Xaw3d a52 aac aalib acl acpi administrator afs aim aio akode alsa amd64 amr ao aotuv apache2 apm applet ares arts async audacious audiofile authdaemond authfile autoipd automount avahi backtrace bash-completion berkdb binfilter bittorrent bl bluetooth bonjour boost branding bsf bzip2 c3p0 cairo calendar cdaudio cdb cdda cddb cdparanoia cdr cdrom cegui cg cgi chm cjk cli commons-digester console cpudetection cpufreq cpulimit cracklib crypt cscope css cups curl curlwrappers custom-optimization cvs daap dbus dedicated devil dga dirac directfb divx djbfft djvu dmx dolby-record-switch double-precision dri dts dv dvd dvdr dvdread dvi editor eds emboss emoticon encode enscript esd evo excel exif expat extraicons fam fasttrack fax fbcon ffmpeg fftw firefox fits flac flash fmod font-server fontconfig fortran fping fpx ftp fuse fusion gadu gcj gd gdbm geos ggi gif ginac git glib glitz glut gmedia gmp gmtfull gnokii gnutella gnutls gphoto2 gpm gps graphviz gs gsl gstreamer gtk gzip hal hddtemp hdri html htmlhandbook hwmixer icecast iceweasel iconv icq id3 id3tag idn ieee1394 imagemagick imap imlib inifile irc irda irrlicht isdnlog ithreads jack jadetex java java5 java6 javascript jbig jce jingle jmx jpeg jpeg2k kde kdeprefix kdrive lame latex lcms ldap libcaca libnotify libsamplerate libvisual libwww lirc live lm_sensors log4j logitech-mouse lua lzo mad maildir maps math md5sum meanwhile midi mikmod mime mjpeg mmap mmkeys mmx mmxext mng modperl modplug motif mouse mozdevelop mozilla mp2 mp3 mp4 mp4live mpeg mpeg2 mplayer msn mtp mudflap multicall multilib multislot multitarget musepack musicbrainz mysql mysqli nas ncurses net netjack network njb nls nntp npp nptl nptlonly nsplugin nss nuv nvidia nvtv objc objc++ objc-gc ode odk offensive ogg openal openexr opengl openmp pam pango pch pcntl pcre pda pdf perl php player plotutils png portaudio posix postproc ppds pppd pulseaudio python qq qt3 qt3support qt4 quicktime radio rar raw readline reflection rrdcgi rtc ruby samba sametime sasl scanner schroedinger sdl sdl-image sdl-sound seamonkey sensord session sharedext silc slp smp smtp sndfile snmp soap sockets sound speex spell spl sqlite sqlite3 sse sse2 sse3 ssl startup-notification stream subtitles subversion suexec svg svgz sysfs syslog sysvipc t1lib tagwriting tcl tcpd tga theora threads tidy tiff timidity tk tokenizer tools transcode translator trayicon truetype tse3 twolame unicode urandom usb userlocales v4l v4l2 vcd vda vdr vhosts videos vim-syntax vim-with-x visualization vorbis vorbis-psy wav wavpack webdav wifi wma wmf wxwindows x264 xanim xattr xcb xcomposite xface xforms xine xinerama xml xmlreader xmlrpc xmlwriter xorg xplanet xpm xprint xscreensaver xsl xulrunner xv xvid xvmc yaepg yahoo yv12 zeroconf zip zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic auth_digest authn_alias authn_dbd authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock dbd deflate dir disk_cache dumpio env expires ext_filter file_cache filter headers ident imagemap include info log_config log_forensic logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias substitute" ELIBC="glibc" INPUT_DEVICES="keyboard mouse joystick" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en_US en en_GB en_ZA es es_AR es_CR es_ES es_LA af am ar as_IN az be be_BY bg bn bn_IN bo br bs ca cs csb cy da de de_FR dz el eo et et_EE eu fa fi fo fr fr_CA fy fy_NL ga ga_IE gl gu gu_IN he hi hi_IN hr hsb hu hy id is it ja ka kk km kn ko ku la lb lo lt lv mk ml ml_IN mn mr mr_IN ms mt nb nb_NO nds ne nl nn nn_NO no nr ns nso oc or_IN pa pa_IN pl pt pt_BR pt_PT ro ru rw se sh sh_YU si sk sl sq sr sr@Latn sr_CS ss st sv sv_SE sw sw_TZ ta ta_IN te te_IN tg th ti ti_ER tk tl tn tr ts uk ur ur_IN uz uz@cyrillic ve vi wa xh zh zh_CN zh_HK zh_TW zu" USERLAND="GNU" VIDEO_CARDS="nvidia"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LANG, LC_ALL, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Daniel Santos





          2008-12-03 06:45:48 UTC
        

Created attachment 174135 [details, diff]
proposed patch

This patch solved the problem for me, but I do not know if there is a configure option to disable kerberos support or not, thus making it a USE flat option.




Comment 2


Alexis Ballier






          2008-12-19 12:24:53 UTC
        

[ebuild   R   ] media-libs/liblrdf-0.4.0  0 kB
[ebuild  N    ] app-crypt/mit-krb5-1.6.3-r4  USE="doc -krb4" 11,636 kB


That's probably because you removed kerberos and its support but some of your libtool files still have it. Given that you didn't post the previous link line it's just a guess, but that seems the most sensible one. Just run revdep-rebuild.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

