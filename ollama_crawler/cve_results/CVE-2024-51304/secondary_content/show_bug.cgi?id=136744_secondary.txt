Title: 136744 – gimp-2.2.10 does not compile
URL: https://bugs.gentoo.org/show_bug.cgi?id=136744

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 136744
gimp-2.2.10 does not compile
Last modified: 2006-06-14 05:56:50 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 136744 
      - gimp-2.2.10 does not compile


Summary:
gimp-2.2.10 does not compile
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-06-14 00:19 UTC by Karel De Vriendt





      Modified:
    
2006-06-14 05:56 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Configuration log as requested in compilation output

              (config.log,79.24 KB,
                text/plain)

            
2006-06-14 00:23 UTC,

            Karel De Vriendt




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Karel De Vriendt





          2006-06-14 00:19:23 UTC
        

*** end of the compilation output:

checking for GLIB - version >= 2.4.5... yes (version 2.10.3)
checking for x86_64-pc-linux-gnu-pkg-config... (cached) /usr/bin/pkg-config
checking pkg-config is at least version 0.9.0... yes
checking for GMODULE... yes
checking if GLib is version 2.7.0 or newer... yes
checking for bind_textdomain_codeset... (cached) yes
checking for X... libraries , headers in standard search path
checking for gethostbyname... yes
checking for connect... yes
checking for remove... yes
checking for shmat... yes
checking for IceConnectionNumber in -lICE... yes
checking for pkg-config... (cached) /usr/bin/pkg-config
checking for GTK+ - version >= 2.4.4... no
*** Could not run GTK+ test program, checking why...
*** The test program failed to compile or link. See the file config.log for the
*** exact error that occured. This usually means GTK+ is incorrectly installed.
configure: error: Test for GTK+ failed. See the file 'INSTALL' for help.

!!! Please attach the following file when filing a report to bugs.gentoo.org:
!!! /var/tmp/portage/gimp-2.2.10/work/gimp-2.2.10/config.log

!!! ERROR: media-gfx/gimp-2.2.10 failed.
Call stack:
  ebuild.sh, line 1539:   Called dyn_compile
  ebuild.sh, line 939:   Called src_compile
  gimp-2.2.10.ebuild, line 111:   Called econf '--disable-default-binary' '--with-x' '--enable-mmx' '--enable-sse' '--disable-altivec' '--disable-gtk-doc' '--enable-python' '--disable-print' '--with-libpng' '--with-libjpeg' '--with-libexif' '--disable-mp' '--with-libtiff' '--with-libmng' '--without-aa' '--with-lcms' '--without-gtkhtml2' '--with-librsvg' '--disable-debug'
  ebuild.sh, line 541:   Called die

!!! econf failed
!!! If you need support, post the topmost build error, and the call stack if relevant.

*** emerge --info

Portage 2.1 (default-linux/amd64/2005.1, gcc-4.1.1/amd64-vanilla, glibc-2.4-r3, 2.6.16-gentoo-r9 x86_64)
=================================================================
System uname: 2.6.16-gentoo-r9 x86_64 AMD Athlon(tm) 64 Processor 3500+
Gentoo Base System version 1.12.1
dev-lang/python:     2.3.5-r2, 2.4.3-r1
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r2
sys-devel/gcc-config: 2.0.0_rc1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.16
ACCEPT_KEYWORDS="amd64 ~amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=k8 -pipe -O2"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/eselect/compiler /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/splash /etc/terminfo"
CXXFLAGS="-march=k8 -pipe -O2"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LANG="en_US.utf8"
MAKEOPTS="-j1"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/karel /usr/portage/local/layman/java-migration"
SYNC="rsync://rsync.be.gentoo.org/gentoo-portage"
USE="amd64 X a52 aac acpi aim alsa apache2 arts avi berkdb bitmap-fonts bzip2 cdparanoia cdr clamav cli crypt cups curl curlwrappers dbus directfb dri dts dvd dvdread eds emul-linux-x86 encode fam fbcon ffmpeg flac foomaticdb fortran gif gphoto2 gpm gstreamer hal icq idn imagemagick imlib java javascript jpeg kde lcms libwww lzw lzw-tiff mad matroska mikmod mime mng mono mp3 mpeg msn ncurses nls nptl nptlonly nsplugin ogg opengl pam pcre pdf pdflib perl php png ppds pppd python qt quicktime readline reflection samba scanner sdl session slp sndfile snmp spell spl sqlite ssl svg tcpd theora tiff truetype truetype-fonts type1-fonts unicode usb vorbis wmf wxwindows xml xorg xpm xv zlib elibc_glibc input_devices_keyboard input_devices_mouse kernel_linux userland_GNU video_cards_vesa video_cards_fbdev video_cards_radeon"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LC_ALL, LDFLAGS, LINGUAS, PORTAGE_RSYNC_EXTRA_OPTS

*** /var/tmp/portage/gimp-2.2.10/work/gimp-2.2.10/config.log attached




Comment 1


Karel De Vriendt





          2006-06-14 00:23:40 UTC
        

Created attachment 89117 [details]
Configuration log as requested in compilation output




Comment 2


Jakub Moc (RETIRED)






          2006-06-14 01:07:56 UTC
        

<snip>
/usr/lib/gcc/x86_64-pc-linux-gnu/4.1.1/../../../../lib64/libcairo.so: undefined reference to `png_get_IHDR@PNG12_0'
/usr/lib/gcc/x86_64-pc-linux-gnu/4.1.1/../../../../lib64/libcairo.so: undefined reference to `png_destroy_write_struct@PNG12_0'
/usr/lib/gcc/x86_64-pc-linux-gnu/4.1.1/../../../../lib64/libcairo.so: undefined reference to `png_write_end@PNG12_0'
/usr/lib/gcc/x86_64-pc-linux-gnu/4.1.1/../../../../lib64/libcairo.so: undefined reference to `png_set_tRNS_to_alpha@PNG12_0'

...

</snip>

You cairo appears to be very broken. Run revdep-rebuild and/or re-emerge it.





Comment 3


Karel De Vriendt





          2006-06-14 05:46:53 UTC
        

*** different failure:

png.o: In function `load_image':
png.c:(.text+0x70e): undefined reference to `png_read_destroy'
png.o: In function `save_image':
png.c:(.text+0x1583): undefined reference to `png_write_destroy'
collect2: ld returned 1 exit status
make[3]: *** [png] Error 1
make[3]: Leaving directory `/var/tmp/portage/gimp-2.2.10/work/gimp-2.2.10/plug-ins/common'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/var/tmp/portage/gimp-2.2.10/work/gimp-2.2.10/plug-ins'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/gimp-2.2.10/work/gimp-2.2.10'
make: *** [all] Error 2

!!! ERROR: media-gfx/gimp-2.2.10 failed.
Call stack:
  ebuild.sh, line 1539:   Called dyn_compile
  ebuild.sh, line 939:   Called src_compile
  gimp-2.2.10.ebuild, line 134:   Called die

!!! (no error message)
!!! If you need support, post the topmost build error, and the call stack if relevant.

*** libpng used: version 1.2.10




Comment 4


Jakub Moc (RETIRED)






          2006-06-14 05:56:50 UTC
        

(In reply to comment #3)
> *** different failure:

Different failure, different bug. Open a new one.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

