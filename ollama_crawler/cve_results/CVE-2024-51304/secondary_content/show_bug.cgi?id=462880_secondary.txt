Title: 462880 – kde-base/kdelibs, kde-base/powerdevil, kde-misc/synaptiks: update sys-power/upower and pm-utils related deps
URL: https://bugs.gentoo.org/show_bug.cgi?id=462880

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 462880
kde-base/kdelibs, kde-base/powerdevil, kde-misc/synaptiks: update sys-power/upower and pm-utils related deps
Last modified: 2013-03-29 04:19:23 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 462880 
      - kde-base/kdelibs, kde-base/powerdevil, kde-misc/synaptiks: update sys-power/upower and pm-utils related deps


Summary:
kde-base/kdelibs, kde-base/powerdevil, kde-misc/synaptiks: update sys-power/u...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:




462890



 

        Show dependency tree





 





      Reported:
    
2013-03-23 21:14 UTC by Nikoli





      Modified:
    
2013-03-29 04:19 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Nikoli





          2013-03-23 21:14:24 UTC
        

Now sys-power/upower-0.9.20-r2 is marked stable, it has "deprecated" and "systemd" USE flags, also usage of pm-utils is marked deprecated:
$ bzcat /usr/share/doc/upower-0.9.20-r2/NEWS.bz2|head -n7
Version 0.9.20
~~~~~~~~~~~~~~
Released: 2013-03-18

New Features:
 - Add a --enable-deprecated configure argument to remove pm-utils support (Richard Hughes)
 - Deprecate running the powersave scripts (Richard Hughes)



pm-utils seems obsolete, there were no commits several years, latest commit:
http://cgit.freedesktop.org/pm-utils/commit/?h=pm-utils-1.4&id=67abbd2f5109a732ab967c94bef4d6d9b2a11541

As i understand, current kde related ebuild should have 'sys-power/upower[deprecated]' in RDEPEND, but what about supporting 'sys-power/upower[-deprecated,systemd]'? Do you know about kde upstream plans for pm-utils and systemd?




Comment 1


Andreas K. Hüttel







          2013-03-28 20:52:21 UTC
        

This bug is, plainly speaking, unnecessary. 

upower has
REQUIRED_USE="kernel_linux? ( !deprecated? ( systemd ) )"

Meaning, if deprecated is disabled, systemd has to be enabled.

Both "deprecated -systemd" and "-deprecated systemd" should provide what KDE needs. So there's absolutely no need to specify use dependencies anywhere.




Comment 2


Nikoli





          2013-03-29 04:19:23 UTC
        

Did you verify, that kde-4.10.1 builds fine with upower[-deprecated,systemd]? Did you check, that it reboots and suspends to ram without any problem?









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

