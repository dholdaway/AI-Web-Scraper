Title: 120309 – dev-php/PEAR-DB-1.7.6-r1 doesn't install, complains about php_dir not writeable
URL: https://bugs.gentoo.org/show_bug.cgi?id=120309

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 120309
dev-php/PEAR-DB-1.7.6-r1 doesn't install, complains about php_dir not writeable
Last modified: 2010-06-06 10:05:49 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 120309 
      - dev-php/PEAR-DB-1.7.6-r1 doesn't install, complains about php_dir not writeable


Summary:
dev-php/PEAR-DB-1.7.6-r1 doesn't install, complains about php_dir not writeable
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

PHP Bugs








URL:







Whiteboard:




Keywords:









Duplicates (1):
    

125326

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2006-01-25 07:58 UTC by Bruno Lustosa





      Modified:
    
2010-06-06 10:05 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



bravecobra
mathew.paulyn









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




PEAR-DB emerge output

              (pear_db_output.txt,1.74 KB,
                text/plain)

            
2006-01-25 07:59 UTC,

            Bruno Lustosa




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Bruno Lustosa





          2006-01-25 07:58:46 UTC
        

Just tried to emerge PEAR-PEAR and PEAR-DB on my server (these packages are ~x86).
PEAR-PEAR installs fine, although with some error messages.
PEAR-DB fails, stating it can't write to /usr/share/php (php_dir). As root, I can write there with no problem, don't know if this is a sandbox issue.

>>> Install PEAR-DB-1.7.6-r1 into /var/tmp/portage/PEAR-DB-1.7.6-r1/image/ category dev-php
WARNING: channel "pear.php.net" has updated its protocols, use "channel-update pear.php.net" to update
Cannot install, php_dir for channel "pear.php.net" is not writeable by the current user


I'll post the whole PEAR-DB (plus the end of PEAR-PEAR) as an attachment.




Comment 1


Bruno Lustosa





          2006-01-25 07:59:39 UTC
        

Created attachment 78081 [details]
PEAR-DB emerge output




Comment 2


bravecobra





          2006-01-27 01:24:44 UTC
        

http://forums.gentoo.org/viewtopic-t-426711-start-0-postdays-0-postorder-asc-highlight-pear+portage.html




Comment 3


Jakub Moc (RETIRED)






          2006-01-27 01:33:35 UTC
        

This problem is not reproducible, the solution mentioned in the forums is definitely not correct. 

If you installed/upgraded pear packages manually using 'pear install' or 'pear upgrade', then you are basically on your own, we don't support this. It appears that your local pear install is severely messed up. Unmerge *all* pear ebuilds, wipe remaining contents of /usr/share/php and /etc/pear.conf and reinstall required pear ebuilds then.




Comment 4


Jakub Moc (RETIRED)






          2006-03-06 23:59:35 UTC
        

*** Bug 125326 has been marked as a duplicate of this bug. ***




Comment 5


mathew





          2006-03-07 00:10:31 UTC
        

(In reply to comment #3)
> If you installed/upgraded pear packages manually using 'pear install' or 'pear
> upgrade', then you are basically on your own, we don't support this.

Pear was not installed prior to today.

The error reported in Bug 125326 occured after following emerges:
 * emerge '=dev-lang/php-4*'
 * emerge PEAR-Log - new emerges of PEAR-PEAR, PEAR-DB

Therefore I suggest this might be an issue for others.





Comment 6


Sebastian Bergmann (RETIRED)






          2006-03-07 00:18:54 UTC
        

This issue should be solved by using dev-php/PEAR-PEAR-1.4.8 which is available through the PHP Overlay at http://svn.gnqs.org/projects/gentoo-php-overlay.

Upgrading to PEAR-1.4.8 solved similar issues for other users.




Comment 7


joe





          2010-06-06 10:05:49 UTC
        

just installed on ubuntu 10.04 

i downgraded to 5.2 php so hit this error, fixed it by running:
sudo pear update-channels

(In reply to comment #0)
> Just tried to emerge PEAR-PEAR and PEAR-DB on my server (these packages are
> ~x86).
> PEAR-PEAR installs fine, although with some error messages.
> PEAR-DB fails, stating it can't write to /usr/share/php (php_dir). As root, I
> can write there with no problem, don't know if this is a sandbox issue.
> 
> >>> Install PEAR-DB-1.7.6-r1 into /var/tmp/portage/PEAR-DB-1.7.6-r1/image/ category dev-php
> WARNING: channel "pear.php.net" has updated its protocols, use "channel-update
> pear.php.net" to update
> Cannot install, php_dir for channel "pear.php.net" is not writeable by the
> current user
> 
> 
> I'll post the whole PEAR-DB (plus the end of PEAR-PEAR) as an attachment.
> 











Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

