Title: 833934 – dev-perl/XML-LibXML-2.20.700: Configure error: Can't locate Alien/Base/Wrapper.pm in @INC
URL: https://bugs.gentoo.org/show_bug.cgi?id=833934

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 833934
dev-perl/XML-LibXML-2.20.700: Configure error: Can't locate Alien/Base/Wrapper.pm in @INC
Last modified: 2022-02-27 01:40:34 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 833934 
      - dev-perl/XML-LibXML-2.20.700: Configure error: Can't locate Alien/Base/Wrapper.pm in @INC


Summary:
dev-perl/XML-LibXML-2.20.700: Configure error: Can't locate Alien/Base/Wrappe...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Perl team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2022-02-23 07:35 UTC by Lars





      Modified:
    
2022-02-27 01:40 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



jstein
sam









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build log

              (build.log,2.75 KB,
                text/plain)

            
2022-02-23 08:29 UTC,

            Lars




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Lars





          2022-02-23 07:35:13 UTC
        

See build log.

Reproducible: Always

Steps to Reproduce:
eix-sync && emerge --update --newuse --deep --with-bdeps=y --keep-going --verbose  --ask --autounmask --backtrack=300 --autounmask-backtrack=y  world

Actual Results:  
See build log.

Expected Results:  
Update of dev-perl/XML-LibXML-2.20.100 to dev-perl/XML-LibXML-2.20.700




Comment 1


Lars





          2022-02-23 07:40:16 UTC
        

I can't attach the build log. It gives me internal server error.

You can find it here instead: https://dpaste.com/87ETDDXQX




Comment 2


Sam James









          2022-02-23 07:42:03 UTC
        

(In reply to Lars from comment #1)
> I can't attach the build log. It gives me internal server error.
> 
> You can find it here instead: https://dpaste.com/87ETDDXQX

Make sure your user can read them (move to home folder and chown if necessary)




Comment 3


Lars





          2022-02-23 08:29:47 UTC
        

Created attachment 765702 [details]
build log




Comment 4


Lars





          2022-02-23 09:50:55 UTC
        

Please note, this error occurs also after running:

perl-cleaner --all




Comment 5


Sam James









          2022-02-26 05:03:01 UTC
        

(In reply to Lars from comment #4)
> Please note, this error occurs also after running:
> 
> perl-cleaner --all

Hm. Are you sure?

Can't locate Alien/Base/Wrapper.pm in @INC (you may need to install the Alien::Base::Wrapper module) (@INC contains: /etc/perl /usr/local/lib64/perl5/5.34/x86_64-linux-thread-multi /usr/local/lib64/perl5/5.34 /usr/lib64/perl5/vendor_perl/5.34/x86_64-linux-thread-multi /usr/lib64/perl5/vendor_perl/5.34 /usr/lib64/perl5/5.34/x86_64-linux-thread-multi /usr/lib64/perl5/5.34 /usr/lib64/perl5/vendor_perl/5.32 /usr/lib64/perl5/vendor_perl/5.30.3 /usr/lib64/perl5/vendor_perl/5.30.1 /usr/lib64/perl5/vendor_perl/5.28.2 /usr/lib64/perl5/vendor_perl/5.26.2 /usr/lib64/perl5/vendor_perl/5.24.3 /usr/lib64/perl5/vendor_perl/5.24.1 /usr/lib64/perl5/5.22.3 /usr/lib64/perl5/vendor_perl/5.22.3) at Makefile.PL line 20.

I see a lot of *very* old Perl implementations there. I think perl-cleaner --all should purge this. What about perl-cleaner --reallyall.

I'm not sure how this file is missing. If I emerge -1 dev-perl/Alien-Build with USE=minimal, I still have /usr/lib64/perl5/vendor_perl/5.34/Alien/Base/Wrapper.pm. Do you have this file? Could you share 'equery f dev-perl/Alien-Build'?

What happens if you run emerge -v1 dev-perl/Alien-Build?




Comment 6


Lars





          2022-02-26 08:44:21 UTC
        

This is the output of `perl-cleaner --all`:

```
# perl-cleaner --all
 * Removing perl-core packages from world file
 *    emerge --deselect  perl-core/CPAN perl-core/Encode perl-core/File-Temp perl-core/Scalar-List-Utils
>>> No matching atoms found in "world" favorites file...
 * Updating installed Perl virtuals
 *    emerge -u1  virtual/perl-Archive-Tar virtual/perl-Carp virtual/perl-Compress-Raw-Bzip2 virtual/perl-Compress-Raw-Zlib virtual/perl-CPAN virtual/perl-CPAN-Meta virtual/perl-CPAN-Meta-Requirements virtual/perl-CPAN-Meta-YAML virtual/perl-Data-Dumper virtual/perl-Devel-PPPort virtual/perl-Digest virtual/perl-Digest-MD5 virtual/perl-Digest-SHA virtual/perl-Encode virtual/perl-Exporter virtual/perl-ExtUtils-CBuilder virtual/perl-ExtUtils-Install virtual/perl-ExtUtils-MakeMaker virtual/perl-ExtUtils-Manifest virtual/perl-ExtUtils-ParseXS virtual/perl-File-Path virtual/perl-File-Spec virtual/perl-File-Temp virtual/perl-Getopt-Long virtual/perl-if virtual/perl-IO virtual/perl-IO-Compress virtual/perl-IO-Socket-IP virtual/perl-IPC-Cmd virtual/perl-JSON-PP virtual/perl-libnet virtual/perl-Locale-Maketext virtual/perl-Math-BigInt virtual/perl-MIME-Base64 virtual/perl-Module-Load virtual/perl-Module-Metadata virtual/perl-parent virtual/perl-Parse-CPAN-Meta virtual/perl-Perl-OSType virtual/perl-podlators virtual/perl-Scalar-List-Utils virtual/perl-Socket virtual/perl-Storable virtual/perl-Sys-Syslog virtual/perl-Term-ReadLine virtual/perl-Test-Harness virtual/perl-Test-Simple virtual/perl-Text-Balanced virtual/perl-Text-ParseWords virtual/perl-Time-HiRes virtual/perl-Time-Local virtual/perl-version virtual/perl-XSLoader

These are the packages that would be merged, in order:

Calculating dependencies... done!

Total: 0 packages, Size of downloads: 0 KiB

Nothing to merge; quitting.


 * Locating packages for an update
 * Locating ebuilds linked against libperl
 * No package needs to be reinstalled.
```

`perl-cleaner --reallyall` will do 2 upgrades, 244 reinstalls. The 2 upgrades are dev-perl/XML-LibXML which fails and dev-perl/XML-Atom which depends on the former.

```
# ls /usr/lib64/perl5/vendor_perl/5.34/Alien/Base/Wrapper.pm
ls: cannot access '/usr/lib64/perl5/vendor_perl/5.34/Alien/Base/Wrapper.pm': No such file or directory
```

```
# emerge -v1 dev-perl/Alien-Build

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild   R    ] dev-perl/Alien-Build                                  [2.420.0::gentoo]             USE="zip -examples -minimal -test" 0 KiB

Total: 1 package (1 reinstall), Size of downloads: 0 KiB

>>> Verifying ebuild manifests
>>> Emerging (1 of 1) dev-perl/Alien-Build-2.420.0::gentoo
>>> Installing (1 of 1) dev-perl/Alien-Build-2.420.0::gentoo
>>> Jobs: 1 of 1 complete                           Load avg: 0.98, 1.32, 1.65
>>> Auto-cleaning packages...

>>> No outdated packages were found on your system.

 * GNU info directory index is up-to-date.
```

Now the file exists:

```
# ls /usr/lib64/perl5/vendor_perl/5.34/Alien/Base/Wrapper.pm
/usr/lib64/perl5/vendor_perl/5.34/Alien/Base/Wrapper.pm
```

And this issue is fixed. Thank you!




Comment 7


Sam James









          2022-02-27 01:40:34 UTC
        

Nice! I recommend running perl-cleaner --reallyall now that it's happy and should be able to complete, then it should drop all those old Perl references too.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

