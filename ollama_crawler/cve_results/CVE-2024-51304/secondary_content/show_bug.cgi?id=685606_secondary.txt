Title: 685606 – games-util/lgogdownloader-3.5 - help2man: can't get `--help' info from .../work/lgogdownloader-3.5_build/lgogdownloader
URL: https://bugs.gentoo.org/show_bug.cgi?id=685606

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 685606
games-util/lgogdownloader-3.5 - help2man: can't get `--help' info from .../work/lgogdownloader-3.5_build/lgogdownloader
Last modified: 2019-05-13 11:50:44 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 685606 
      - games-util/lgogdownloader-3.5 - help2man: can't get `--help' info from .../work/lgogdownloader-3.5_build/lgogdownloader


Summary:
games-util/lgogdownloader-3.5 - help2man: can't get `--help' info from .../wo...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

James Le Cuirot








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2019-05-11 11:12 UTC by Attila Tóth





      Modified:
    
2019-05-13 11:50 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



games









See Also:


639388





Package list:







Runtime testing required:

---























      Attachments
    




full build log

              (build.log,28.05 KB,
                application/octet-stream)

            
2019-05-11 19:32 UTC,

            Attila Tóth




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Attila Tóth





          2019-05-11 11:12:20 UTC
        

[16/16] cd /var/tmp/portage/games-util/lgogdownloader-3.5/work/lgogdownloader-3.5_build/man && /usr/bin/help2man -N -i /var/tmp/portage/games-util/lgogdownloader-3.5/work/lgogdownloader-3.5/man/lgogdownloader.supplemental.groff -o /var/tmp/portage/games-util/lgogdownloader-3.5/work/lgogdownloader-3.5_build/man/lgogdownloader.1 /var/tmp/portage/games-util/lgogdownloader-3.5/work/lgogdownloader-3.5_build/lgogdownloader && /bin/gzip -f -9 /var/tmp/portage/games-util/lgogdownloader-3.5/work/lgogdownloader-3.5_build/man/lgogdownloader.1
FAILED: man/lgogdownloader.1.gz
cd /var/tmp/portage/games-util/lgogdownloader-3.5/work/lgogdownloader-3.5_build/man && /usr/bin/help2man -N -i /var/tmp/portage/games-util/lgogdownloader-3.5/work/lgogdownloader-3.5/man/lgogdownloader.supplemental.groff -o /var/tmp/portage/games-util/lgogdownloader-3.5/work/lgogdownloader-3.5_build/man/lgogdownloader.1 /var/tmp/portage/games-util/lgogdownloader-3.5/work/lgogdownloader-3.5_build/lgogdownloader && /bin/gzip -f -9 /var/tmp/portage/games-util/lgogdownloader-3.5/work/lgogdownloader-3.5_build/man/lgogdownloader.1
help2man: can't get `--help' info from /var/tmp/portage/games-util/lgogdownloader-3.5/work/lgogdownloader-3.5_build/lgogdownloader
Try `--no-discard-stderr' if option outputs to stderr
ninja: build stopped: subcommand failed.




Comment 1


James Le Cuirot






          2019-05-11 17:35:38 UTC
        

I need the full build log.




Comment 2


Attila Tóth





          2019-05-11 19:32:02 UTC
        

Created attachment 576066 [details]
full build log

per request




Comment 3


Attila Tóth





          2019-05-11 19:33:13 UTC
        

(In reply to James Le Cuirot from comment #1)
> I need the full build log.

BTW: -3.4 compiles fine. The groff file is the same. I could see the build process changed a bit while bumping from -3.4 to -3.5.




Comment 4


James Le Cuirot






          2019-05-11 20:01:18 UTC
        

The GUI feature was added since 3.4. It builds fine for me though. help2man works by running --help against the compiled binary. It's saying that it's having trouble running "/var/tmp/portage/games-util/lgogdownloader-3.5/work/lgogdownloader-3.5_build/lgogdownloader --help" so try it yourself and see what it says.




Comment 5


Attila Tóth





          2019-05-13 07:08:17 UTC
        

(In reply to James Le Cuirot from comment #4)
> The GUI feature was added since 3.4. It builds fine for me though. help2man
> works by running --help against the compiled binary. It's saying that it's
> having trouble running
> "/var/tmp/portage/games-util/lgogdownloader-3.5/work/lgogdownloader-3.
> 5_build/lgogdownloader --help" so try it yourself and see what it says.

The situation is, that if I build the package with USE=gui, the resulting executable requests RWX stack. I'm using a secure kernel, so that it denies this attempt. This is the reason behind. Probably linked to Qt. If I compile it with USE=-gui, it is all right. Not funny.




Comment 6


Attila Tóth





          2019-05-13 07:15:29 UTC
        

(In reply to Attila Tóth from comment #5)
> (In reply to James Le Cuirot from comment #4)
> > The GUI feature was added since 3.4. It builds fine for me though. help2man
> > works by running --help against the compiled binary. It's saying that it's
> > having trouble running
> > "/var/tmp/portage/games-util/lgogdownloader-3.5/work/lgogdownloader-3.
> > 5_build/lgogdownloader --help" so try it yourself and see what it says.
> 
> The situation is, that if I build the package with USE=gui, the resulting
> executable requests RWX stack. I'm using a secure kernel, so that it denies
> this attempt. This is the reason behind. Probably linked to Qt. If I compile
> it with USE=-gui, it is all right. Not funny.

RWX --- ---  /usr/lib64/libQt5WebEngineCore.so.5.12.3




Comment 7


Attila Tóth





          2019-05-13 11:50:29 UTC
        

Recompiling qtwebengine with the patch attached to the other bug solves the problem:
https://bugs.gentoo.org/639388#c26









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

