Title: 427618 – [x11-overlay] media-libs/mesa-9999 failed Patch: mesa-9999-dont-require-llvm-for-r300.patch
URL: https://bugs.gentoo.org/show_bug.cgi?id=427618

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 427618
[x11-overlay] media-libs/mesa-9999 failed Patch: mesa-9999-dont-require-llvm-for-r300.patch
Last modified: 2012-08-11 17:08:10 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 427618 
      - [x11-overlay] media-libs/mesa-9999 failed Patch: mesa-9999-dont-require-llvm-for-r300.patch


Summary:
[x11-overlay] media-libs/mesa-9999 failed Patch: mesa-9999-dont-require-llvm-...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo X packagers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2012-07-22 10:56 UTC by Lucas Treffenstädt





      Modified:
    
2012-08-11 17:08 UTC
      (History)
    




          CC List:
        

3 
          users
          
            (show)
          



harrisl
marduk
zeekec









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




failed to patch output

              (mesa-8.0-dont-require-llvm-for-r300.patch.out,3.04 KB,
                text/plain)

            
2012-07-25 16:16 UTC,

            jospezial




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Lucas Treffenstädt





          2012-07-22 10:56:05 UTC
        

emergeing mesa-9999 from x11-overlay fails as of 2012-07-22 because mesa-9999-dont-require-llvm-for-r300.patch cannot be applied.

Reproducible: Always

Steps to Reproduce:
1. emerge =media-libs/mesa-9999
Actual Results:  
 * Failed Patch: mesa-9999-dont-require-llvm-for-r300.patch !
 *  ( /var/lib/layman/x11/media-libs/mesa/files/mesa-9999-dont-require-llvm-for-r300.patch )

Expected Results:  
build & install mesa




Comment 1


Albert W. Hopkins





          2012-07-25 15:11:57 UTC
        

This bug has (also) crept up on media-libs/mesa-8.1_rc1_pre201207 (in the official portage tree).




Comment 2


BillWho





          2012-07-25 15:29:18 UTC
        

Same thing here for media-libs/mesa-8.1_rc1_pre20120724!

 * Messages for package app-portage/eix-0.26.1:

 * Found obsolete /var/cache/eix.previous, please remove it

 * Messages for package media-libs/mesa-8.1_rc1_pre20120724:

 * Cannot find $EPATCH_SOURCE!  Value for $EPATCH_SOURCE is:
 * 
 *   /usr/portage/media-libs/mesa/files/mesa-8.1-dont-require-llvm-for-r300.patch
 *   ( mesa-8.1-dont-require-llvm-for-r300.patch )
 * ERROR: media-libs/mesa-8.1_rc1_pre20120724 failed (prepare phase):
 *   Cannot find $EPATCH_SOURCE!
 * 
 * Call stack:
 *     ebuild.sh, line   85:  Called src_prepare
 *   environment, line 3491:  Called epatch '/usr/portage/media-libs/mesa/files/mesa-8.1-dont-require-llvm-for-r300.patch'
 *   environment, line 1844:  Called die
 * The specific snippet of code:
 *                   die "Cannot find \$EPATCH_SOURCE!";
 * 
 * If you need support, post the output of `emerge --info '=media-libs/mesa-8.1_rc1_pre20120724'`,
 * the complete build log and the output of `emerge -pqv '=media-libs/mesa-8.1_rc1_pre20120724'`.
 * The complete build log is located at '/var/tmp/portage/media-libs/mesa-8.1_rc1_pre20120724/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/media-libs/mesa-8.1_rc1_pre20120724/temp/environment'.
 * Working directory: '/var/tmp/portage/media-libs/mesa-8.1_rc1_pre20120724/work/Mesa-8.1-rc1_pre20120724'
 * S: '/var/tmp/portage/media-libs/mesa-8.1_rc1_pre20120724/work/Mesa-8.1-rc1_pre20120724'




Comment 3


jospezial





          2012-07-25 16:16:13 UTC
        

Created attachment 319230 [details]
failed to patch output

In my mesa-8.1_rc1_pre20120724.ebuild I changed the line

epatch "${FILESDIR}"/${PN}-8.1-dont-require-llvm-for-r300.patch

to

epatch "${FILESDIR}"/${PN}-8.0-dont-require-llvm-for-r300.patch

because this the only version of the patch in files dir.

It finds the patch now but fails to patch.

Is this patch still needed in 8.1 ?




Comment 4


David J Cozatt





          2012-07-29 17:49:34 UTC
        

It will build without the patch comment the line out and may not even be necessary iunless your vid card is r300 afaict see Bug #380303




Comment 5


Matt Turner






          2012-08-11 17:08:10 UTC
        

The patch applies cleanly here..

Reopen if there's still a problem.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

