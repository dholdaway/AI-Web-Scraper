Title: 115628 – ebuild x264-svn fails to build libx264.so library
URL: https://bugs.gentoo.org/show_bug.cgi?id=115628

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 115628
ebuild x264-svn fails to build libx264.so library
Last modified: 2006-07-14 14:22:09 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 115628 
      - ebuild x264-svn fails to build libx264.so library


Summary:
ebuild x264-svn fails to build libx264.so library
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       major
      


Assignee:

Marc Hildebrand (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-12-15 01:09 UTC by Peter J. de Vrijer





      Modified:
    
2006-07-14 14:22 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




x264-svn-sobuild.patch

              (x264-svn-sobuild.patch,690 bytes,
                patch)

            
2006-01-22 05:48 UTC,

            Matteo Azzali (RETIRED)




Details
            | Diff





x264-svn-20051004-r2.ebuild

              (x264-svn-20051004-r2.ebuild,945 bytes,
                text/plain)

            
2006-01-22 05:50 UTC,

            Matteo Azzali (RETIRED)




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Peter J. de Vrijer





          2005-12-15 01:09:42 UTC
        

After emerging x264-svn the library libx264.a
is in /usr/lib/ but the corresponding libx264.so
is not. 
Software using this lib will compile without
x264 support or compile not at all.


Reproducible: Always
Steps to Reproduce:
1. emerge x264-svn
2.
3.

Actual Results:  
Not .so in /usr/lib

Expected Results:  
libx264.so installed in /usr/lib

pa3ebv ~ # emerge info
Portage 2.0.51.22-r3 (default-linux/x86/2005.1, gcc-3.4.4, glibc-2.3.5-r2,
2.6.14-gentoo-r4 i686)
=================================================================
System uname: 2.6.14-gentoo-r4 i686 AMD Sempron(tm)   2800+
Gentoo Base System version 1.6.13
dev-lang/python:     2.3.5-r2, 2.4.2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.20
virtual/os-headers:  2.6.8.1-r1, 2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -g -march=athlon-xp -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env
/usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/share/config /usr/share/texmf/dvipdfm/config/
/usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/
/usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/ /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -g -march=athlon-xp -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="ftp://ftp.easynet.nl/mirror/gentoo/
http://ftp.easynet.nl/mirror/gentoo/
ftp://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/
ftp://194.117.143.71/mirrors/gentoo http://194.117.143.70"
LINGUAS="us nl"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 3dnow 3dnowex Gtk X Xaw3d a52 aac acl alsa apm arts artswrappersuid
audiofile avi berkdb bitmap-fonts bonobo bzip2 cdparanoia cdr crypt cups curl
debug divx4linux dts dvd dvdr dvdread eds emboss encode esd exif expat fam
ffmpeg flac font-server foomaticdb fortran gd gdbm ggi gif glut gnome gpm
gstreamer gtk gtk2 guile howl idn imagemagick imlib jack java javascript jikes
jpeg jpeg2k junit kde kig-scripting lcms ldap libg++ libwww logitech-mouse lzo
mad matroska mikmod mjpeg mmx mmx2 mng motif mozilla mp3 mpeg ncurses nls odbc
ogg oggvorbis openal opengl oss pam pcre pda pdflib perl plotutils png ppds
python qt quicktime readline samba scanner sdk sdl slang spell sse ssl svga
tcltk tcpd tetex theora threads tiff truetype truetype-fonts type1-fonts udev
unicode usb vorbis wmf xine xml xml2 xmms xprint xv xvid zlib linguas_us
linguas_nl userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, PORTDIR_OVERLAY




Comment 1


Matteo Azzali (RETIRED)






          2006-01-22 05:48:24 UTC
        

Created attachment 77812 [details, diff]
x264-svn-sobuild.patch

patch for Makefile to build also libx264.so




Comment 2


Matteo Azzali (RETIRED)






          2006-01-22 05:50:49 UTC
        

Created attachment 77814 [details]
x264-svn-20051004-r2.ebuild

modified ebuild to use the patch and build libx264.so




Comment 3


kaouete





          2006-02-03 09:56:18 UTC
        

hi,

here with or without this .so, ffmpeg doesnt recognize x264.
but if i add this patch : bug #116900
it detects x264 even if the .so is not here.




Comment 4


Jakub Moc (RETIRED)






          2006-07-14 14:22:09 UTC
        

# equery f x264-svn

[ Searching for packages matching x264-svn... ]
* Contents of media-libs/x264-svn-20060612:

/usr
/usr/bin
/usr/bin/x264
/usr/include
/usr/include/x264.h
/usr/lib
/usr/lib/libx264.a
/usr/lib/libx264.so -> /usr/lib/libx264.so.47
/usr/lib/libx264.so.47
/usr/lib/pkgconfig
/usr/lib/pkgconfig/x264.pc
/usr/share
/usr/share/doc
/usr/share/doc/x264-svn-20060612
/usr/share/doc/x264-svn-20060612/AUTHORS.gz










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

