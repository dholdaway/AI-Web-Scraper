Title: 151804 – nagios depends on mailx, nagios-nrpe and nagios-nsca
URL: https://bugs.gentoo.org/show_bug.cgi?id=151804

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 151804
nagios depends on mailx, nagios-nrpe and nagios-nsca
Last modified: 2006-10-24 02:51:46 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 151804 
      - nagios depends on mailx, nagios-nrpe and nagios-nsca


Summary:
nagios depends on mailx, nagios-nrpe and nagios-nsca
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       enhancement
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-10-18 02:19 UTC by Matteo Contri





      Modified:
    
2006-10-24 02:51 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



linux









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Matteo Contri





          2006-10-18 02:19:37 UTC
        

hi all,
when i tried to install nagios (~x86 tree) i found a dependency on mailx but with nagios you can choose every kind of notification, and if you want a mail alert you can choose the software to use.
Then why force the installation of mailx?

I suggest a flag or the installation of ssmtp that is the gentoo default mta.
And also for the nrpe and nsca packages. I really don't want them. Let the users decide what they want. The gentoo's way! :-)

Regards




mepis1 ~ # emerge -va nagios

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild  N    ] net-analyzer/nagios-plugins-1.4.2  USE="ssl -ipv6 -ldap -mysql -nagios-dns -nagios-game -nagios-ntp -nagios-ping -nagios-ssh -postgres -radius -samba -snmp -ups" 0 kB
[ebuild  N    ] net-analyzer/nagios-nrpe-2.5.1  USE="ssl -command-args" 0 kB
[ebuild  N    ] net-analyzer/nagios-nsca-2.6  0 kB
[ebuild  N    ] mail-client/mailx-support-20030215  0 kB
[ebuild  N    ] net-libs/liblockfile-1.06-r1  0 kB
[ebuild  N    ] mail-client/mailx-8.1.2.20040524-r1  0 kB
[ebuild  N    ] media-libs/libpng-1.2.12-r1  USE="-doc" 0 kB
[ebuild  N    ] media-libs/jpeg-6b-r7  0 kB
[ebuild  N    ] net-analyzer/nagios-core-2.5  USE="apache2 -debug -noweb -perl" 0 kB
[ebuild  N    ] net-analyzer/nagios-imagepack-1.0  0 kB
[ebuild  N    ] net-analyzer/nagios-2.5  0 kB




Comment 1


Jakub Moc (RETIRED)






          2006-10-18 02:30:08 UTC
        

(In reply to comment #0)
> Then why force the installation of mailx?

We don't. It depends on virtual/mailx; if you something else that provides that virtual, it will use it (lika mail-client/nail or net-mail/mailutils). mail-client/mailx is just default for that virtual.
 
> And also for the nrpe and nsca packages. I really don't want them. Let the
> users decide what they want. The gentoo's way! :-)

So don't use the net-analyzer/nagios metabuild and install only what you need. No point in sticking any use flags there.





Comment 2


Matteo Contri





          2006-10-18 02:49:21 UTC
        

> We don't. It depends on virtual/mailx; if you something else that provides that
> virtual, it will use it (lika mail-client/nail or net-mail/mailutils).
> mail-client/mailx is just default for that virtual.

Okay. virtual. I missed that point.
But i'm using exim and the dependency is not satisfied.

> So don't use the net-analyzer/nagios metabuild and install only what you need.
> No point in sticking any use flags there.

Oh. Sorry. 
I'm so addicted to use flags that i forgot to do a simple thing.

Thanks for the quick reply and suggestions.




Comment 3


Jakub Moc (RETIRED)






          2006-10-18 03:06:07 UTC
        

(In reply to comment #2)
> > We don't. It depends on virtual/mailx; if you something else that provides that
> > virtual, it will use it (lika mail-client/nail or net-mail/mailutils).
> > mail-client/mailx is just default for that virtual.
> 
> Okay. virtual. I missed that point.
> But i'm using exim and the dependency is not satisfied.

Sure. You need something that installs mail binary; MTAs don't :)




Comment 4


Matteo Contri





          2006-10-18 03:42:31 UTC
        

> > Okay. virtual. I missed that point.
> > But i'm using exim and the dependency is not satisfied.
> 
> Sure. You need something that installs mail binary; MTAs don't :)

My english is terrible, i don't explain things clear as i want. (also my italian is terrible, but it's another bug thread) :-)

in my notification command i use:

echo "$NAGIOS_RELATED_VAR" | exim -f nagios@domain.it $NAGIOS_CONTACT

Then, i can rely only on MSA (is the right term?) functionality of exim.
I suppose sendmail, postfix, etc. can work in the same way.






Comment 5


Matteo Contri





          2006-10-24 02:51:46 UTC
        

Really, i don't want to bother you or costrict to do something... :-)
But i'm just curious about this dependency, also because nagios can be used to obsess over to another nagios process without any mail notification...
Then, a solution could be to move "virtual/mailx" dependency on "virtual/nagios" instead on the core itself.

I'd like to read your comments.











Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

