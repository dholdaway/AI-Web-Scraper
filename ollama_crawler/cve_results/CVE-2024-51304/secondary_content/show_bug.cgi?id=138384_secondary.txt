Title: 138384 – dev-lang/ruby-1.8.5_pre1 fails: ac-wrapper: /usr/bin/autom4te-2.60 is missing or not executable. ruby depends on autoconf-2.60?
URL: https://bugs.gentoo.org/show_bug.cgi?id=138384

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 138384
dev-lang/ruby-1.8.5_pre1 fails: ac-wrapper: /usr/bin/autom4te-2.60 is missing or not executable. ruby depends on autoconf-2.60?
Last modified: 2006-10-18 01:16:07 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 138384 
      - dev-lang/ruby-1.8.5_pre1 fails: ac-wrapper: /usr/bin/autom4te-2.60 is missing or not executable. ruby depends on autoconf-2.60?


Summary:
dev-lang/ruby-1.8.5_pre1 fails: ac-wrapper: /usr/bin/autom4te-2.60 is missing...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Core system

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo's Team for Core System packages








URL:







Whiteboard:




Keywords:









Duplicates (1):
    

151795

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2006-06-28 11:36 UTC by Alexander Skwar





      Modified:
    
2006-10-18 01:16 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



craig
ruby









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Alexander Skwar





          2006-06-28 11:36:57 UTC
        

I was trying to get ruby installed with the following flags:

[ebuild     U ] dev-lang/ruby-1.8.5_pre1 [1.8.4.20060529] USE="-cjk -doc -examples -ipv6 -socks5 -tcltk -threads" 0 kB

"FEATURES=-confcache emerge -1 ruby" fails:

>>> Unpacking ruby-1.8.5-preview1.tar.gz to /Gentoo/Portage/build/portage/ruby-1.8.5_pre1/work
 * Running eautoreconf in '/Gentoo/Portage/build/portage/ruby-1.8.5_pre1/work/ruby-1.8.5' ...
 * Running aclocal ...                                                    [ !! ]
 * Failed Running aclocal !
 *
 * Include in your bugreport the contents of:
 *
 *   /Gentoo/Portage/build/portage/ruby-1.8.5_pre1/temp/aclocal-27992.out


!!! ERROR: dev-lang/ruby-1.8.5_pre1 failed.
Call stack:
  ebuild.sh, line 1545:   Called dyn_unpack
  ebuild.sh, line 711:   Called src_unpack
  ruby-1.8.5_pre1.ebuild, line 53:   Called eautoreconf
  autotools.eclass, line 63:   Called eaclocal
  autotools.eclass, line 100:   Called autotools_run_tool 'aclocal'
  autotools.eclass, line 191:   Called die

!!! Failed Running aclocal !
!!! If you need support, post the topmost build error, and the call stack if relevant.


alexander@blatt ~/tmp/madwifi $ sudo cat /Gentoo/Portage/build/portage/ruby-1.8.5_pre1/temp/aclocal-27992.out
***** aclocal *****

configure.in:6: warning: underquoted definition of RUBY_MINGW32
  run info '(automake)Extending aclocal'
  or see http://sources.redhat.com/automake/automake.html#Extending-aclocal
configure.in:20: warning: underquoted definition of RUBY_CPPOUTFILE
configure.in:36: warning: underquoted definition of RUBY_PROG_GNU_LD
configure.in:674: warning: underquoted definition of RUBY_CHECK_IO_NEED
/usr/share/aclocal/nspr.m4:8: warning: underquoted definition of AM_PATH_NSPR
/usr/share/aclocal/libglade.m4:7: warning: underquoted definition of AM_PATH_LIBGLADE
ac-wrapper: /usr/bin/autom4te-2.60 is missing or not executable.
            Please try emerging the correct version of autoconf.
aclocal-1.9: autom4te failed with exit status: 1

alexander@blatt ~/tmp/madwifi $ ls -lad /var/db/pkg/*/*autoc* drwxr-xr-x 2 root root 712  6. May 10:35 /var/db/pkg/sys-devel/autoconf-2.13
drwxr-xr-x 2 root root 712 28. Jun 19:16 /var/db/pkg/sys-devel/autoconf-2.59-r7
drwxr-xr-x 2 root root 664 27. Jun 20:39 /var/db/pkg/sys-devel/autoconf-wrapper-3.2-r2

Hm. autoconf 2.60 isn't installed. Should it? Does ruby require that? If so, then the ruby ebuild should depend on autoconf 2.60, shouldn't it?

alexander@blatt ~/tmp/madwifi $ emerge --info
Portage 2.1.1_pre1-r5 (default-linux/x86/2006.0, gcc-4.1.1/vanilla, glibc-2.4-r3, 2.6.16-suspend2-r8.044.no-kernel-alsa i686)
=================================================================
System uname: 2.6.16-suspend2-r8.044.no-kernel-alsa i686 Intel(R) Celeron(R) M processor         1.50GHz
Gentoo Base System version 1.12.1
ccache version 2.4 [enabled]
dev-lang/python:     2.3.4-r1, 2.4.3-r1
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     2.4-r2
dev-util/confcache:  0.4.2-r1
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.17
sys-devel/gcc-config: 1.3.13-r2
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r5
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -mtune=pentium-m -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/eselect/compiler /etc/gconf /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c"
CXXFLAGS="-O2 -mtune=pentium-m -pipe -fomit-frame-pointer"
DISTDIR="/Gentoo/Portage/distfiles"
EMERGE_DEFAULT_OPTS="--alphabetical"
FEATURES="autoconfig buildpkg ccache collision-protect confcache distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="        http://mirrors.sec.informatik.tu-darmstadt.de/gentoo/  http://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/     ftp://ftp.tu-clausthal.de/pub/linux/gentoo/     http://distro.ibiblio.org/pub/linux/distributions/gentoo/       ftp://distro.ibiblio.org/pub/linux/distributions/gentoo         http://distfiles.gentoo.org/ "
LANG="de_DE.UTF-8"
LDFLAGS="-Wl,-O1"
LINGUAS="de"
PKGDIR="/Gentoo/Portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/Gentoo/Portage/build"
PORTDIR="/Gentoo/Portage/tree"
PORTDIR_OVERLAY="/Gentoo/Portage/local-tree/misc"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="x86 GAPING_SECURITY_HOLE X acpi alsa amd apache2 apm arts artswrappersuid async avi bash-completion bdf berkdb bitmap-fonts bluetooth bootsplash cairo caps cardbus ccache cdda cddb cdio cdparanoia cdr cdrom cle266 cli crypt css curlwrappers dbus devmap dillo divx4linux dlloader dri dvd dvdread emoticon esd exif fam fbcon fbdev firefox fping freetype gdbm gif gnokii gnome gstreamer gtk gtk2 hal hpn icc id3 idn imap imlib imlib2 insecure-drivers insecure-savers isdnlog javascript jikes jpeg kde kdeenablefinal kdehiddenvisibility libedit libwww linuxthreads-tls logrotate lynxkeymap mad madwifi maildir matroska mbox mmx mmxext mozilla moznoirc mozsvg mp3 mpeg mpeg2 mpeg4 mplayer multicall ncurses netboot network new-login nfs nis nls no-old-linux no-suexec noantlr nobcel nobeanutils nobsf nobsh nocd nocommonslogging nocommonsnet nodrm nogg nogulm nojsch nojython nolog4j nomac nooro nopri norhino noxalan noxerces nozaptel nptl nsplugin offensive ogg opengl openssh pam_console pam_timestamp passfile password patented pccts pcmcia pcre perl perlsuid pic player png pnp pppd qt qt3 qt4 quicktime rar readline real recode reflection reiserfs sdl sendfile sensord session sftp sms spell spf spl sse sse2 ssl startup-notification stream subp subtitles suid symlink sysfs syslog tiff transcode truetype truetype-fonts trusted type1-fonts udev underscores unichrome unicode unsafe usb utf8 uudeview vim vim-pager vlm vorbis wifi win32codecs wma123 x11vnc xinetd xml xmms xorg xpm xprint xscreensaver xv xvid xvmc zlib elibc_glibc input_devices_evdev input_devices_keyboard input_devices_mouse input_devices_-synaptics kernel_linux linguas_de userland_GNU video_cards_fbdev video_cards_vesa video_cards_vga video_cards_via"
Unset:  CTARGET, INSTALL_MASK, LC_ALL, MAKEOPTS, PORTAGE_RSYNC_EXTRA_OPTS

alexander@blatt ~/tmp/madwifi $




Comment 1


Diego Elio Pettenò (RETIRED)






          2006-06-28 12:32:14 UTC
        

Which version of autoconf-wrapper do you have?





Comment 2


SpanKY






          2006-06-28 18:55:24 UTC
        

get back to us




Comment 3


Alexander Skwar





          2006-06-28 22:26:16 UTC
        

(In reply to comment #1)
> Which version of autoconf-wrapper do you have?

The latest and greatest...

alexander@blatt ~/tmp/madwifi/wpa/wpa_supplicant-0.4.8 $ ls -lad /var/db/pkg/*/*aut*c*wra*
drwxr-xr-x 2 root root 664 27. Jun 20:39 /var/db/pkg/sys-devel/autoconf-wrapper-3.2-r2

(In reply to comment #2)
> get back to us

If bugs.gentoo.org would be more responsive... And actually, I already sent this information in my OP.




Comment 4


Alexander Skwar





          2006-06-29 12:00:53 UTC
        

After installing autoconf 2.60, ruby compiles fine. So, either autoconf-wrapper or ruby should IMO have a dependency on autconf 2.60.




Comment 5


SpanKY






          2006-06-29 15:48:57 UTC
        

they do depend on each other, but in the upgrade path there isnt an easy way to force autoconf-2.60 and latest autoconf-wrapper to merged one right after the other




Comment 6


Jakub Moc (RETIRED)






          2006-10-18 01:16:07 UTC
        

*** Bug 151795 has been marked as a duplicate of this bug. ***









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

