Title: 339679 – [science overlay] dev-python/opal-client-2.2 "Deprecation Warning... The ebuild needs to be fixed."
URL: https://bugs.gentoo.org/show_bug.cgi?id=339679

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 339679
[science overlay] dev-python/opal-client-2.2 "Deprecation Warning... The ebuild needs to be fixed."
Last modified: 2011-06-20 06:13:50 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 339679 
      - [science overlay] dev-python/opal-client-2.2 "Deprecation Warning... The ebuild needs to be fixed."


Summary:
[science overlay] dev-python/opal-client-2.2 "Deprecation Warning... The ebui...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Unspecified

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Science Related Packages








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2010-10-04 08:06 UTC by urcindalo





      Modified:
    
2011-06-20 06:13 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


urcindalo





          2010-10-04 08:06:15 UTC
        

I installed sci-chemistry/pyrx from the dberkholz overlay. It uses opal-client as a dependency. However, the post-installation of the latter fails this way:

===
 * ERROR: dev-python/opal-client-2.2 failed:
 *   python_get_sitedir() should be used in ABI-specific local scope
 * 
 * Call stack:
 *     ebuild.sh, line   54:  Called pkg_postrm
 *   environment, line 1492:  Called python_get_sitedir
 *   environment, line 2514:  Called die
 * The specific snippet of code:
 *               die "${FUNCNAME}() should be used in ABI-specific local scope";
 * 
 * If you need support, post the output of 'emerge --info =dev-python/opal-client-2.2',
 * the complete build log and the output of 'emerge -pqv =dev-python/opal-client-2.2'.
 * This ebuild is from a repository named 'science'
 * The complete build log is located at '/var/tmp/binpkgs/dev-python/opal-client-2.2/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/binpkgs/dev-python/opal-client-2.2/temp/environment'.
 * S: '/var/tmp/binpkgs/dev-python/opal-client-2.2/work/opal-client-2.2'
 * 
 * Deprecation Warning: Not passing of paths to python_mod_cleanup() is deprecated and will be
 * disallowed on 2010-09-01. Call python_mod_cleanup() with paths to Python modules.
 * The ebuild needs to be fixed. Please report a bug, if it has not been already reported.
 * 
<<< /usr/lib64/python2.6/site-packages/PyRx/Images/silk_icons/.svn/tmp/text-base
<<< /usr/lib64/python2.6/site-packages/PyRx/Images/silk_icons/.svn/tmp/props
<<< /usr/lib64/python2.6/site-packages/PyRx/Images/silk_icons/.svn/tmp/prop-base
<<< /usr/lib64/python2.6/site-packages/PyRx/Images/silk_icons/.svn/tmp
<<< /usr/lib64/python2.6/site-packages/PyRx/Images/silk_icons/.svn/props
!!! FAILED postrm: 1
 * The 'postrm' phase of the 'dev-python/opal-client-2.2' package has
 * failed with exit value 1.
 * 
 * The problem occurred while executing the ebuild file named 'opal-
 * client-2.2.ebuild' located in the '/var/db/pkg/dev-python/opal-
 * client-2.2' directory. If necessary, manually remove the environment.bz2
 * file and/or the ebuild file located in that directory.
 * 
 * Removal of the environment.bz2 file is preferred since it may allow the
 * removal phases to execute successfully. The ebuild will be sourced and
 * the eclasses from the current portage tree will be used when necessary.
 * Removal of the ebuild file will cause the pkg_prerm() and pkg_postrm()
 * removal phases to be skipped entirely.
===

As a result, pyrx is not working. Its window frame opens but there's only a solid color inside. This is the error in Konsole:

===
$ /usr/bin/runPyRx.py
Traceback (most recent call last):
  File "/usr/bin/runPyRx.py", line 37, in <module>
    frame = MainFrame(None, -1, size=(width, height-200))
  File "/usr/lib64/python2.6/site-packages/PyRx/wxMainFrame.py", line 143, in __init__
    from vinaWizard import VinaWizard
  File "/usr/lib64/python2.6/site-packages/PyRx/vinaWizard.py", line 10, in <module>
    from webServices import QueryRemoteJobs
  File "/usr/lib64/python2.6/site-packages/PyRx/webServices.py", line 3, in <module>
    from AppService_client import AppServiceLocator,\
  File "/usr/lib64/python2.6/site-packages/AppService_client.py", line 131, in <module>
    launchJobRequest = GED("http://nbcr.sdsc.edu/opal/types", "launchJobInput").pyclass
  File "/usr/lib64/python2.6/site-packages/ZSI/schema.py", line 15, in _get_global_element_declaration
    return SchemaInstanceType.getElementDeclaration(namespaceURI, name, **kw)
  File "/usr/lib64/python2.6/site-packages/ZSI/schema.py", line 186, in getElementDeclaration
    typecode = cls.element_typecode_cache[key] = tcls()
  File "/usr/lib64/python2.6/site-packages/AppService_types.py", line 604, in __init__
    ns0.JobInputType_Def.__init__(self, **kw)
  File "/usr/lib64/python2.6/site-packages/AppService_types.py", line 353, in __init__
    TClist = [ZSI.TC.String(pname="argList", aname="_argList", minOccurs=0, maxOccurs=1, nillable=False, typed=False, encoded=kw.get("encoded")), ZSI.TCnumbers.Iint(pname="numProcs", aname="_numProcs", minOccurs=0, maxOccurs=1, nillable=False, typed=False, encoded=kw.get("encoded")), ZSI.TCnumbers.InonNegativeInteger(pname="wallClockTime", aname="_wallClockTime", minOccurs=0, maxOccurs=1, nillable=False, typed=False, encoded=kw.get("encoded")), GTD("http://nbcr.sdsc.edu/opal/types","InputFileType",lazy=False)(pname="inputFile", aname="_inputFile", minOccurs=0, maxOccurs="unbounded", nillable=False, typed=False, encoded=kw.get("encoded"))]
  File "/usr/lib64/python2.6/site-packages/AppService_types.py", line 331, in __init__
    TClist = [ZSI.TC.String(pname="name", aname="_name", minOccurs=1, maxOccurs=1, nillable=False, typed=False, encoded=kw.get("encoded")), ZSI.TC.Base64String(pname="contents", aname="_contents", minOccurs=0, maxOccurs=1, nillable=False, typed=False, encoded=kw.get("encoded")), ZSI.TC.URI(pname="location", aname="_location", minOccurs=0, maxOccurs=1, nillable=False, typed=False, encoded=kw.get("encoded")), ZSI.TCapache.AttachmentRef(pname="attachment", aname="_attachment", minOccurs=0, maxOccurs=1, nillable=False, typed=False, encoded=kw.get("encoded"))]
AttributeError: 'module' object has no attribute 'AttachmentRef'
None
===

The file /usr/lib64/python2.6/site-packages/AppService_types.py belongs to opal-client-2-2

Thanks in advance.

Reproducible: Always









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

