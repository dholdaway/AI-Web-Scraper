Title: 383971 – app-emulation/spice: trying to start spicec results into an "unhandled exception"
URL: https://bugs.gentoo.org/show_bug.cgi?id=383971

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 383971
app-emulation/spice: trying to start spicec results into an "unhandled exception"
Last modified: 2012-06-15 08:28:13 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 383971 
      - app-emulation/spice: trying to start spicec results into an "unhandled exception"


Summary:
app-emulation/spice: trying to start spicec results into an "unhandled except...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Tiziano Müller (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2011-09-21 16:10 UTC by Michael Mair-Keimberger (mm1ke)





      Modified:
    
2012-06-15 08:28 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



nirbheek









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Michael Mair-Keimberger (mm1ke)





          2011-09-21 16:10:26 UTC
        

Trying to connet to a spice vm, or just type "spicec" into the konsole, spicec exits with the following error: "Error: unhandled exception: create IC failed"

However, things like "spicec --help" work. If i type "spicec -t "test"" i'll get a (correct)  message "spicec: missing --host"

Reproducible: Always

Steps to Reproduce:
1. emerge app-emulation/spice
2. type "spicec" into konsole
Actual Results:  
get the error "Error: unhandled exception: create IC failed"

Expected Results:  
spicec should connect to the vm

spice-info:
emerge -pv app-emulation/spice

These are the packages that would be merged, in order:

Calculating dependencies             ... done!
[ebuild   R    ] app-emulation/spice-0.8.1  USE="gui -static-libs" 0 kB

emerge info:
Portage 2.1.10.11 (default/linux/amd64/10.0/no-multilib, gcc-4.4.5, glibc-2.12.2-r0, 3.0.4-gentoo x86_64)
=================================================================
System uname: Linux-3.0.4-gentoo-x86_64-Intel-R-_Core-TM-2_CPU_6600_@_2.40GHz-with-gentoo-2.0.3
Timestamp of tree: Sun, 18 Sep 2011 04:45:02 +0000
app-shells/bash:          4.1_p9
dev-java/java-config:     2.1.11-r3
dev-lang/python:          2.7.1-r1, 3.1.3-r1
dev-util/cmake:           2.8.4-r1
dev-util/pkgconfig:       0.26
sys-apps/baselayout:      2.0.3
sys-apps/openrc:          0.8.3-r1
sys-apps/sandbox:         2.4
sys-devel/autoconf:       2.68
sys-devel/automake:       1.9.6-r3, 1.11.1
sys-devel/binutils:       2.21.1-r1
sys-devel/gcc:            4.4.5
sys-devel/gcc-config:     1.4.1-r1
sys-devel/libtool:        2.4-r1
sys-devel/make:           3.82-r1
sys-kernel/linux-headers: 2.6.36.1 (virtual/os-headers)
sys-libs/glibc:           2.12.2
Repositories: gentoo x-local sunrise x11 multimedia
ACCEPT_KEYWORDS="amd64"
ACCEPT_LICENSE="* -@EULA AdobeFlash-10.1 PUEL ut2003 dlj-1.1"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -march=native -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/config /usr/share/gnupg/qualified.txt"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo"
CXXFLAGS="-O2 -march=native -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="assume-digests binpkg-logs candy distlocks ebuild-locks fixlafiles fixpackages news parallel-fetch protect-owned sandbox sfperms strict unknown-features-warn unmerge-logs unmerge-orphans userfetch"
FFLAGS=""
GENTOO_MIRRORS="http://distfiles.gentoo.org"
LANG="de_DE.utf8"
LDFLAGS="-Wl,-O1,--hash-style=gnu,--as-needed"
LINGUAS="en de"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/media/public/overlays/local /media/public/overlays/layman/sunrise /media/public/overlays/layman/x11 /media/public/overlays/layman/multimedia"
SYNC="rsync://192.168.2.60/gentoo-portage"
USE="X acl alsa amd64 berkdb bzip2 cdr cli consolekit cracklib crypt cups cxx dbus dri dvd exif flac fortran gallium gdbm gif gnutls gpm graphite iconv ipv6 jpeg kde kipi lzma mad mmx mmxext modules mp3 mudflap ncurses nls nptl nptlonly opengl openmp pam pcre perl phonon plasma png policykit pppd python qt4 readline sdl semantic-desktop session spell sse sse2 ssl ssse3 sysfs tcpd threads tiff truetype udev unicode v4l2 vorbis vpx xinerama xorg xv zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cgi cgid dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CALLIGRA_FEATURES="kexi words flow plan stage tables krita karbon braindump" CAMERAS="ptp2" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf superstar2 timing tsip tripmate tnt ubx" INPUT_DEVICES="evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en de" PHP_TARGETS="php5-3" RUBY_TARGETS="ruby18" SANE_BACKENDS="net niash" USERLAND="GNU" VIDEO_CARDS="radeon r300" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LC_ALL, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Michael Mair-Keimberger (mm1ke)





          2011-09-26 16:41:47 UTC
        

i've now tried a few things and found out that i won't get the error if i build spice without gui. But only when typing "spicec" alone. I still get the error when typing "spicec -t $ip -p $port".
I also tried to turn on lots of useflags in "dev-games/cegui" since it depends on it and i guess its needed for the gui. unfortunately that dosen't changed anything.




Comment 2


Doug Goldstein (RETIRED)






          2012-03-08 01:54:55 UTC
        

Please give it a whirl with a newer version.




Comment 3


Michael Mair-Keimberger (mm1ke)





          2012-03-10 08:57:24 UTC
        

Tried it with the latest version. Still the same:

michael@asterix ~ $ spicec --version
spicec 0.10.1        

michael@asterix ~ $ spicec
Error: unhandled exception: create IC failed

Spice is build with:
[ebuild   R   ~] app-emulation/spice-0.10.1  USE="client gui -sasl -smartcard -static -static-libs" 0 kB




Comment 4


Tiziano Müller (RETIRED)






          2012-06-13 11:54:26 UTC
        

Could it be that you somehow built spice (or some other component requiring jpeg) against libjpeg-turbo and then switched back to libjpeg again?

Because that message comes from libjpeg(-turbo) and can be reproduced by building spice against libjpeg-turbo but actually using libjpeg then.




Comment 5


Michael Mair-Keimberger (mm1ke)





          2012-06-13 17:14:41 UTC
        

This bug can be closed now :)
I didn't checked if it's a problem with libjpeg(-turbo) because i got a new pc in the meanwhile but your point sounds good. On the old system i had libjpeg and switched after it got stable to jpeg-turbo so it could be the cause.
I just tried spicec with the new system and it works normal. If you really wanna have a answer to this problem i could start the old system and check it.
I guess a rebuild of the whole system should finally solve the problem??




Comment 6


Tiziano Müller (RETIRED)






          2012-06-15 08:28:13 UTC
        

Not necessary, but thanks.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

