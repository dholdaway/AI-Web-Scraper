Title: 190046 – net-misc/networkmanager-0.6.5 configure does not find iproute2
URL: https://bugs.gentoo.org/show_bug.cgi?id=190046

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 190046
net-misc/networkmanager-0.6.5 configure does not find iproute2
Last modified: 2007-09-05 20:37:48 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 190046 
      - net-misc/networkmanager-0.6.5 configure does not find iproute2


Summary:
net-misc/networkmanager-0.6.5 configure does not find iproute2
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Steev Klimaszewski (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-08-24 14:33 UTC by Mathias Laurin





      Modified:
    
2007-09-05 20:37 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



metalgod
rbu









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge --info

              (einfo,8.12 KB,
                text/plain)

            
2007-08-24 14:34 UTC,

            Mathias Laurin




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Mathias Laurin





          2007-08-24 14:33:00 UTC
        

emerging networkmanager-0.6.5 fails when executing ./configure and complains (wrongly) that iproute2 was not installed

Reproducible: Always

Steps to Reproduce:
1.emerge networkmanager
2.
3.

Actual Results:  
checking for ip... no
configure: error: iproute2 was not installed.  See http://linux-net.osdl.org/index.php/Iproute2


Expected Results:  
configure and compile

--- CUT HERE --- networkmanager-0.6.5.ebuild ---
50c50,51
<       --enable-notification-icon"
---
>       --enable-notification-icon\
>       --with-ip=/sbin/tc"
--- CUT HERE

forcing the path to iproute2 (/sbin/tc) works.

emerge --info

(I use mildy fancy LDFLAGS but I tried recompiling both iproute2 and networkmanager with LDFLAGS="" and got the same results + it is not a linker error)




Comment 1


Mathias Laurin





          2007-08-24 14:34:54 UTC
        

Created attachment 129072 [details]
emerge --info




Comment 2


Robert Buchholz (RETIRED)






          2007-09-01 13:21:22 UTC
        

For me, sys-apps/iproute2 provides /sbin/ip - which the configure is looking for.

What version of iproute2 do you have installed?
Does /sbin/ip exist for you? If not, please attach
/var/db/pkg/sys-apps/iproute2-*/CONTENTS here and try reinstalling the current stable.




Comment 3


Mathias Laurin





          2007-09-03 01:10:43 UTC
        

(In reply to comment #2)
> For me, sys-apps/iproute2 provides /sbin/ip - which the configure is looking
> for.

"ls: cannot access /sbin/ip: No such file or directory"
This is iproute2-2.6.22.20070710.

> /var/db/pkg/sys-apps/iproute2-*/CONTENTS here and try reinstalling the current
> stable.

--- CUT HERE /var/db/pkg/sys-apps/iproute2-2.6.22.20070710/CONTENTS ---
dir /sbin
obj /sbin/tc da46627e9e9b3226c0fe4af9496e3f0b 1188550335
--- CUT HERE ---

I just checked the ebuild and I had the "minimal" USE-flag on, which prevents /sbin/ip from being installed.

My bad, sorry.




Comment 4


Robert Buchholz (RETIRED)






          2007-09-05 20:37:48 UTC
        

I added a built_with_use die in case someone else runs into this.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

