Title: 118026 – equery does not correctly match dependencies with virtuals
URL: https://bugs.gentoo.org/show_bug.cgi?id=118026

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 118026
equery does not correctly match dependencies with virtuals
Last modified: 2006-01-06 05:19:48 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 118026 
      - equery does not correctly match dependencies with virtuals


Summary:
equery does not correctly match dependencies with virtuals
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Core system

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-01-06 05:07 UTC by Stefano





      Modified:
    
2006-01-06 05:19 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Stefano





          2006-01-06 05:07:15 UTC
        

I suppose this output is self-explicative :)

# equery depgraph glibc
[ Searching for packages matching glibc... ]
* dependency graph for sys-libs/glibc-2.3.5-r2
`-- sys-libs/glibc-2.3.5-r2
 `-- sys-kernel/linux-headers-2.6.11-r2 (virtual/os-headers)
 `-- sys-devel/gettext-0.14.4
[ sys-libs/glibc-2.3.5-r2 stats: packages (3), max depth (1) ]

# equery depends linux-headers
[ Searching for packages depending on linux-headers... ]
net-firewall/ipsec-tools-0.6.2-r1

Something is missing here, and I suppose the cause is the virtual dependency.

# emerge info
Portage 2.0.53 (default-linux/x86/2005.1, gcc-3.4.4, glibc-2.3.5-r2, 2.6.14-gentoo-r5 i686)
=================================================================
System uname: 2.6.14-gentoo-r5 i686 Intel(R) Pentium(R) M processor 1500MHz
Gentoo Base System version 1.12.0_pre13
ccache version 2.3 [enabled]
dev-lang/python:     2.3.5-r2, 2.4.2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.20
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O3 -march=pentium-m -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/ /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O3 -march=pentium-m -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://www.die.unipd.it/pub/Linux/distributions/gentoo-sources/ http://pandemonium.tiscali.de/pub/gentoo/ http://ftp.belnet.be/mirror/rsync.gentoo.org/gentoo/"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="x86 X acl acpi alsa amuled aqua_theme arts async atlas audiofile avantgo bash-completion berkdb bindist bitmap-fonts bluetooth bzip2 cardbus cdparanoia cdr cpudetection crypt css cups curl curlwrappers devfs26 devmap dga dhcp dio directfb divx4linux djbfft dlloader dpms dri dvb dvd encode ethereal exif expat fat fbcon fbsplash ffmpeg fftw flac foomaticdb fortran fpx ftp gd gdbm gif glut glx gnutls gphoto2 gpm gs gssapi gtk gtk2 gzip hpn icq idea idn imagemagick imap imlib ipv6 irda jabber java javascript jikes john jp2 jpeg jpeg2k kde kdepim kerberos krb4 lapack lcms ldap lesstif libg++ libwww mad mbox messages mikmod mime mmap mmx mmxext mng motif mozilla mozsvg mp3 mpeg mppe-mppc msn mysql mysqli ncurses nls nocd nomalloccheck nptl nptlonly ntfs ntlm octave odbc offensive ogg oggvorbis opengl oscar oss pam pcapnav pcmcia pcntl pcre pda pdflib perl plotutils png pnp posix ppds python qt quicktime radius rdesktop readline real samba sasl sdl sharedmem silc slp sms snmp sockets sox spell sse ssl svga sysfs sysvipc tcltk tcpd tetex threads tiff truetype truetype-fonts type1 type1-fonts udev unicode usb v4l v4l2 vcd vorbis wifi win32codecs winbind wmf xchattext xml2 xmlrpc xmms xv xvid yahoo zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS




Comment 1


Jakub Moc (RETIRED)






          2006-01-06 05:15:36 UTC
        

# equery depends linux-headers
[ Searching for packages depending on linux-headers... ]
sys-libs/glibc-2.3.6-r2

Reopen if you are able to reproduce the issue with app-portage/gentoolkit-0.2.2_pre1




Comment 2


Stefano





          2006-01-06 05:19:48 UTC
        

Confirm: it works correctly with the ~x86 package, not with the x86 one. Maybe time to switch to the new version ? :) Close at will :)









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

