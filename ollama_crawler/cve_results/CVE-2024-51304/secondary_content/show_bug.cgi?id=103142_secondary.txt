Title: 103142 – emerge of kdemultimedia-3.4.1-r1 fails building kmix
URL: https://bugs.gentoo.org/show_bug.cgi?id=103142

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 103142
emerge of kdemultimedia-3.4.1-r1 fails building kmix
Last modified: 2005-09-18 07:34:23 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 103142 
      - emerge of kdemultimedia-3.4.1-r1 fails building kmix


Summary:
emerge of kdemultimedia-3.4.1-r1 fails building kmix
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-08-20 07:16 UTC by Niels





      Modified:
    
2005-09-18 07:34 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Niels





          2005-08-20 07:16:34 UTC
        

Emerging of kdemultimedia-3.4.1-r1 fails with the following error, even if I 
use just a few specific USE-Flags (have tried various combinations...) 
 
In file included from kmix.cpp:38: 
/usr/kde/3.4/include/klineeditdlg.h:80: error: stray '$' in program 
make[3]: *** [kmix.lo] Error 1 
make[3]: *** Waiting for unfinished jobs.... 
make[3]: Leaving directory 
`/var/tmp/portage/kdemultimedia-3.4.1-r1/work/kdemultimedia-3.4.1/kmix' 
make[2]: *** [all-recursive] Error 1 
make[2]: Leaving directory 
`/var/tmp/portage/kdemultimedia-3.4.1-r1/work/kdemultimedia-3.4.1/kmix' 
make[1]: *** [all-recursive] Error 1 
make[1]: Leaving directory 
`/var/tmp/portage/kdemultimedia-3.4.1-r1/work/kdemultimedia-3.4.1' 
make: *** [all] Error 2 
 
Here are my USE-Flags from /etc/make.conf : 
 
CFLAGS="-O3 -march=athlon-tbird -pipe -fomit-frame-pointer" 
FEATURES="sandbox buildpkg ccache distcc userpriv usersandbox notitles" 
USE="x86 X gtk gtk2 kde crypt dvd cdr alsa mysql gnome oss apm acpi \ 
     arts cups avi gif mpeg jpeg libg++ libwww ncurses oggvorbis opengl \ 
     pam perl qt quicktime readline spell ssl svga tcpd truetype \ 
     xml2 xmms xv zlib bitmap-fonts 3dnow a52 aac acl aim bmp dvdr dvdread \ 
     fastcgi ffmpeg fdftk gpm gnutls gphoto2 gstreamer howl icq imagemagick \ 
     imap jabber mad maildir mbox mime mmx mng motif mozilla mp3 msn openal \ 
     pdflib speex theora unicode usb v41 vcd videos win32codecs wmf xine \ 
     xinerama xosd yahoo" 
  

Reproducible: Always
Steps to Reproduce:
1. setup gentoo2005.1 system 
2. emerge kde (kdemultimedia fails the first time) 
3. emerge --resume --skipfirst kde 
4. if system is up and running (kde works :) emerge kdemultimedia with various   
   Packet-specific USE-Flags 
Actual Results:  
It fails with the Message posted above. 

Expected Results:  
I expected it to compile cleanly. 

Tried it with running nothing but, of course, a shell...




Comment 1


Gregorio Guidi (RETIRED)






          2005-08-20 07:27:53 UTC
        

Please post your full 'emerge info'. 
 
Have you tried reemerging kdelibs? 




Comment 2


Niels





          2005-08-20 07:58:25 UTC
        

(In reply to comment #1)  
> Please post your full 'emerge info'.   
emerge info  
  
Portage 2.0.51.22-r2 (default-linux/x86/2005.1, gcc-3.3.5-20050130,  
glibc-2.3.5-r0, 2.6.12-gentoo-r6 i686)  
=================================================================  
System uname: 2.6.12-gentoo-r6 i686 AMD Duron(tm) processor  
Gentoo Base System version 1.6.13  
dev-lang/python:     2.3.5  
sys-apps/sandbox:    1.2.11  
sys-devel/autoconf:  2.13, 2.59-r6  
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.5  
sys-devel/binutils:  2.15.92.0.2-r10  
sys-devel/libtool:   1.5.18-r1  
virtual/os-headers:  2.6.11-r2  
ACCEPT_KEYWORDS="x86"  
AUTOCLEAN="yes"  
CBUILD="i686-pc-linux-gnu"  
CFLAGS="-O3 -march=athlon-tbird -pipe -fomit-frame-pointer"  
CHOST="i686-pc-linux-gnu"  
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/share/config /var/qmail/control"  
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"  
CXXFLAGS="-O3 -march=athlon-tbird -pipe -fomit-frame-pointer"  
DISTDIR="/usr/portage/distfiles"  
FEATURES="autoconfig buildpkg ccache distcc distlocks notitles sandbox sfperms  
strict userpriv usersandbox"  
GENTOO_MIRRORS="http://gentoo.inode.at"  
MAKEOPTS="-j2"  
PKGDIR="/usr/portage/packages"  
PORTAGE_TMPDIR="/var/tmp"  
PORTDIR="/usr/portage"  
SYNC="rsync://rsync.gentoo.org/gentoo-portage"  
USE="3dnow X a52 aac acl acpi aim alsa apm arts avi berkdb bitmap-fonts bmp cdr  
crypt cups curl dvd dvdr dvdread eds emboss encode esd fam fastcgi fdftk ffmpeg  
foomaticdb fortran gdbm gif gnome gnutls gphoto2 gpm gstreamer gtk gtk2 howl  
icq imagemagick imap imlib ipv6 jabber jpeg kde libg++ libwww mad maildir mbox  
mikmod mime mmx mng motif mozilla mp3 mpeg msn mysql ncurses nls ogg oggvorbis  
openal opengl oss pam pdflib perl png python qt quicktime readline samba sdl  
speex spell ssl svga tcpd theora tiff truetype truetype-fonts type1-fonts  
unicode usb v41 vcd videos vorbis win32codecs wmf x86 xine xinerama xml2 xmms  
xosd xv yahoo zlib userland_GNU kernel_linux elibc_glibc"  
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTDIR_OVERLAY  
  
>    
> Have you tried reemerging kdelibs?  
 
No, not yet. I have to wait for other installs to finish then I will try that. 
Thanks for your answer so far.  
  
  




Comment 3


Niels





          2005-08-20 13:25:19 UTC
        

OK. Tried to reemerge kdelibs, it exits with the following: 
 
The bug is not reproducible, so it is likely a hardware or OS problem. 
make[4]: *** [klocale.lo] Error 1 
make[4]: *** Waiting for unfinished jobs.... 
kcharsets.cpp:502:2: warning: #warning FIXME? 
make[4]: Leaving directory 
`/var/tmp/portage/kdelibs-3.4.1-r1/work/kdelibs-3.4.1/kdecore' 
make[3]: *** [all-recursive] Error 1 
make[3]: Leaving directory 
`/var/tmp/portage/kdelibs-3.4.1-r1/work/kdelibs-3.4.1/kdecore' 
make[2]: *** [all] Error 2 
make[2]: Leaving directory 
`/var/tmp/portage/kdelibs-3.4.1-r1/work/kdelibs-3.4.1/kdecore' 
make[1]: *** [all-recursive] Error 1 
make[1]: Leaving directory 
`/var/tmp/portage/kdelibs-3.4.1-r1/work/kdelibs-3.4.1' 
make: *** [all] Error 2 
 
I guess this is really messed up somewhere... 
I'll try to build the whole system new. 
 
Regards 
 
Niels 




Comment 4


Caleb Tennis (RETIRED)






          2005-09-18 07:34:23 UTC
        

looks to be a local problem.  closing as as worksforme, but reopen if you can find something that we need 
to fix.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

