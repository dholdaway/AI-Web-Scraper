Title: 91015 – app-accessibility/festival-1.4.3-r2 - saytime uses compile-time path
URL: https://bugs.gentoo.org/show_bug.cgi?id=91015

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 91015
app-accessibility/festival-1.4.3-r2 - saytime uses compile-time path
Last modified: 2005-07-23 19:27:57 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 91015 
      - app-accessibility/festival-1.4.3-r2 - saytime uses compile-time path


Summary:
app-accessibility/festival-1.4.3-r2 - saytime uses compile-time path
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Accessibility Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-04-30 20:36 UTC by Daniel Holth





      Modified:
    
2005-07-23 19:27 UTC
      (History)
    




          CC List:
        

3 
          users
          
            (show)
          



sound
stian
tech31842









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Daniel Holth





          2005-04-30 20:36:38 UTC
        

dholth@bluefish tmp $ saytime
/usr/bin/saytime: line 2: /mnt/hdb7/portage/festival-1.4.3-r2/work/festival/bin/festival: No such file or directory
dholth@bluefish tmp $ festival -v
festival: Festival Speech Synthesis System: 1.4.3:release Jan 2003

Reproducible: Always
Steps to Reproduce:
1. emerge festival
2. saytime
3. hearnothing




This is Bug 41164 back from the dead. Severity: lame




Comment 1


Jason Bucata





          2005-05-12 02:25:51 UTC
        

There is a sed to change that script and another one with the correct executable; however it fails if the current directory (as detected by whoever writes the "exec" header at the top in the first place) differs from $WORKDIR.  For example, my $WORKDIR is in /var/tmp but I have /var/tmp as a symlink to /tmp, which is where the script is pointing for bin/festival.

So I suggest changing that to replace the *entire* path with /usr/bin/festival, or whatever is determined to be the correct path to install into.

Even better would be to hunt down the code that appends those lines of headers (as the file in the example/ directory in the source tarball doesn't have that) and fix it in the first place.





Comment 2


Stian Skjelstad





          2005-07-03 07:12:44 UTC
        

works for me, when I use the speech-tools-1.2.3-r3.ebuild for Bug 91962.
Festival ebuild however is a bit broken, as it depends on -r1 (should just
depend on version, and not revision. It makes portage go a bit bananas for me)




Comment 3


Stian Skjelstad





          2005-07-04 18:17:49 UTC
        

Now I understand your problem. The build-script walks out the symlinks when it
builds up its paths. speech-utils use the same method (and thereby will suffer
by the same problems, aswell from the bugs in the current stable ebuild that
fails to install the binaries in the first place).




Comment 4


Jeremy Huddleston (RETIRED)






          2005-07-23 19:27:57 UTC
        

This is nolonger relevent with 1.4.3-r3 as the saytime script is actually not
installed to /usr/bin anymore.  It's placed in the examples directory in the
documentation, but it does work...









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

