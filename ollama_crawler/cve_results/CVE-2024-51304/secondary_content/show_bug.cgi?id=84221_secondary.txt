Title: 84221 – auto* error when emerging arts-3.4.0 and/or k3b-0.11.22
URL: https://bugs.gentoo.org/show_bug.cgi?id=84221

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 84221
auto* error when emerging arts-3.4.0 and/or k3b-0.11.22
Last modified: 2005-11-30 09:31:20 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 84221 
      - auto* error when emerging arts-3.4.0 and/or k3b-0.11.22


Summary:
auto* error when emerging arts-3.4.0 and/or k3b-0.11.22
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       blocker
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-03-05 12:59 UTC by Rene Gass





      Modified:
    
2005-11-30 09:31 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Rene Gass





          2005-03-05 12:59:11 UTC
        

I've recently updated KDE to 3.4.0_rc1. After that automake-1.9.5 came out so I emerged that, too (I previously had automake-1.9.4). When I wanted to reemerge arts, I got the following output:

>>> emerge (1 of 1) kde-base/arts-3.4.0_rc1 to /
>>> md5 src_uri ;-) arts-1.4.0-rc1.tar.bz2
>>> Unpacking source...
>>> Unpacking arts-1.4.0-rc1.tar.bz2 to /var/tmp/portage/arts-3.4.0_rc1/work
 * Applying 1.3.0-jack-configure.in.in.patch ...                                                                      [ ok ]
 * Applying arts-1.3.2-alsa-bigendian.patch ...                                                                       [ ok ]
*** Creating acinclude.m4
make[1]: Entering directory `/var/tmp/portage/arts-3.4.0_rc1/work/arts-1.4.0'
make[1]: Nothing to be done for `acinclude.m4'.
make[1]: Leaving directory `/var/tmp/portage/arts-3.4.0_rc1/work/arts-1.4.0'
*** Creating list of subdirectories
*** Creating Makefile.am
*** Creating configure.files
*** Creating configure.in
*** Creating aclocal.m4
*** Creating configure
*** Creating config.h template
*** Creating Makefile templates
configure.in:28: version mismatch.  This is Automake 1.9.5,
configure.in:28: but the definition used by this AM_INIT_AUTOMAKE
configure.in:28: comes from Automake 1.7.9.  You should recreate
configure.in:28: aclocal.m4 with aclocal and run automake again.
flow/gsl/gslmakefile.inc:43: variable `gslffttest_LDFLAGS' is defined but no program or
flow/gsl/gslmakefile.inc:43: library has `gslffttest' as canonic name (possible typo)
flow/gsl/Makefile.am:7:   `flow/gsl/gslmakefile.inc' included from here
flow/gsl/gslmakefile.inc:39: variable `gsltests_LDADD' is defined but no program or
flow/gsl/gslmakefile.inc:39: library has `gsltests' as canonic name (possible typo)
flow/gsl/Makefile.am:7:   `flow/gsl/gslmakefile.inc' included from here
flow/gsl/gslmakefile.inc:36: variable `gslwchunk_LDADD' is defined but no program or
flow/gsl/gslmakefile.inc:36: library has `gslwchunk' as canonic name (possible typo)
flow/gsl/Makefile.am:7:   `flow/gsl/gslmakefile.inc' included from here
flow/gsl/gslmakefile.inc:38: variable `gsltests_SOURCES' is defined but no program or
flow/gsl/gslmakefile.inc:38: library has `gsltests' as canonic name (possible typo)
flow/gsl/Makefile.am:7:   `flow/gsl/gslmakefile.inc' included from here
flow/gsl/gslmakefile.inc:42: variable `gslffttest_LDADD' is defined but no program or
flow/gsl/gslmakefile.inc:42: library has `gslffttest' as canonic name (possible typo)
flow/gsl/Makefile.am:7:   `flow/gsl/gslmakefile.inc' included from here
flow/gsl/gslmakefile.inc:40: variable `gsltests_LDFLAGS' is defined but no program or
flow/gsl/gslmakefile.inc:40: library has `gsltests' as canonic name (possible typo)
flow/gsl/Makefile.am:7:   `flow/gsl/gslmakefile.inc' included from here
flow/gsl/gslmakefile.inc:35: variable `gslwchunk_SOURCES' is defined but no program or
flow/gsl/gslmakefile.inc:35: library has `gslwchunk' as canonic name (possible typo)
flow/gsl/Makefile.am:7:   `flow/gsl/gslmakefile.inc' included from here
flow/gsl/gslmakefile.inc:41: variable `gslffttest_SOURCES' is defined but no program or
flow/gsl/gslmakefile.inc:41: library has `gslffttest' as canonic name (possible typo)
flow/gsl/Makefile.am:7:   `flow/gsl/gslmakefile.inc' included from here
flow/gsl/gslmakefile.inc:37: variable `gslwchunk_LDFLAGS' is defined but no program or
flow/gsl/gslmakefile.inc:37: library has `gslwchunk' as canonic name (possible typo)
flow/gsl/Makefile.am:7:   `flow/gsl/gslmakefile.inc' included from here
make: *** [cvs] Error 1

!!! ERROR: kde-base/arts-3.4.0_rc1 failed.
!!! Function src_unpack, Line 39, Exitcode 2
!!! (no error message)
!!! If you need support, post the topmost build error, NOT this status message.


I was able to reemerge arts with the following command:

WANT_AUTOMAKE=1.7 emerge arts

Reproducible: Always
Steps to Reproduce:
emerge automake 1.9.5
emerge arts 3.4.0_rc1
Actual Results:  
See error in detailed description.

Expected Results:  
arts should have been emerged.




Comment 1


Caleb Tennis (RETIRED)






          2005-03-05 15:11:55 UTC
        

I'm not at a place where I can fix this at the moment, but it looks like the ebuild needs to run aclocal after performing the epatches.  This looks like a regression, as previous kde releases were built with automake 1.9.2, and this looks like it was build with 1.7.




Comment 2


Gregorio Guidi (RETIRED)






          2005-03-06 02:22:10 UTC
        

That's strange, the ebuild already runs 'make -f Makefile.common'. Here the admin/detect-autoconf.sh script detects that it should run automake-1.7 and everything works fine, with both automake-1.9.4 or 1.9.5





Comment 3


Rene Gass





          2005-03-06 02:54:15 UTC
        

I've tried the following now:

cd /var/tmp/portage/arts-3.4.0_rc1/work/arts-1.4.0/
aclocal

/usr/share/aclocal/wxwin.m4:36: warning: underquoted definition of AM_OPTIONS_WXCONFIG
  run info '(automake)Extending aclocal'
  or see http://sources.redhat.com/automake/automake.html#Extending-aclocal
/usr/share/aclocal/wxwin.m4:59: warning: underquoted definition of AM_PATH_WXCONFIG
/usr/share/aclocal/speex.m4:10: warning: underquoted definition of XIPH_PATH_SPEEX
/usr/share/aclocal/smpeg.m4:13: warning: underquoted definition of AM_PATH_SMPEG
/usr/share/aclocal/pth.m4:43: warning: underquoted definition of _AC_PTH_ERROR
/usr/share/aclocal/pth.m4:54: warning: underquoted definition of _AC_PTH_VERBOSE
/usr/share/aclocal/pth.m4:60: warning: underquoted definition of AC_CHECK_PTH
/usr/share/aclocal/pkg.m4:5: warning: underquoted definition of PKG_CHECK_MODULES
/usr/share/aclocal/movtar.m4:14: warning: underquoted definition of MOVTAR_TEST_VERSION
/usr/share/aclocal/movtar.m4:59: warning: underquoted definition of AM_PATH_MOVTAR
/usr/share/aclocal/lqt.m4:14: warning: underquoted definition of AC_PATH_LQT
/usr/share/aclocal/libmikmod.m4:11: warning: underquoted definition of AM_PATH_LIBMIKMOD
/usr/share/aclocal/libfame.m4:6: warning: underquoted definition of AM_PATH_LIBFAME
/usr/share/aclocal/imlib.m4:9: warning: underquoted definition of AM_PATH_IMLIB
/usr/share/aclocal/imlib.m4:167: warning: underquoted definition of AM_PATH_GDK_IMLIB
/usr/share/aclocal/gtk.m4:7: warning: underquoted definition of AM_PATH_GTK
/usr/share/aclocal/glib.m4:8: warning: underquoted definition of AM_PATH_GLIB
/usr/share/aclocal/audiofile.m4:12: warning: underquoted definition of AM_PATH_AUDIOFILE
/usr/share/aclocal/aalib.m4:12: warning: underquoted definition of AM_PATH_AALIB


automake

flow/gsl/gslmakefile.inc:43: variable `gslffttest_LDFLAGS' is defined but no program or
flow/gsl/gslmakefile.inc:43: library has `gslffttest' as canonic name (possible typo)
flow/gsl/Makefile.am:7:   `flow/gsl/gslmakefile.inc' included from here
flow/gsl/gslmakefile.inc:39: variable `gsltests_LDADD' is defined but no program or
flow/gsl/gslmakefile.inc:39: library has `gsltests' as canonic name (possible typo)
flow/gsl/Makefile.am:7:   `flow/gsl/gslmakefile.inc' included from here
flow/gsl/gslmakefile.inc:36: variable `gslwchunk_LDADD' is defined but no program or
flow/gsl/gslmakefile.inc:36: library has `gslwchunk' as canonic name (possible typo)
flow/gsl/Makefile.am:7:   `flow/gsl/gslmakefile.inc' included from here
flow/gsl/gslmakefile.inc:38: variable `gsltests_SOURCES' is defined but no program or
flow/gsl/gslmakefile.inc:38: library has `gsltests' as canonic name (possible typo)
flow/gsl/Makefile.am:7:   `flow/gsl/gslmakefile.inc' included from here
flow/gsl/gslmakefile.inc:42: variable `gslffttest_LDADD' is defined but no program or
flow/gsl/gslmakefile.inc:42: library has `gslffttest' as canonic name (possible typo)
flow/gsl/Makefile.am:7:   `flow/gsl/gslmakefile.inc' included from here
flow/gsl/gslmakefile.inc:40: variable `gsltests_LDFLAGS' is defined but no program or
flow/gsl/gslmakefile.inc:40: library has `gsltests' as canonic name (possible typo)
flow/gsl/Makefile.am:7:   `flow/gsl/gslmakefile.inc' included from here
flow/gsl/gslmakefile.inc:35: variable `gslwchunk_SOURCES' is defined but no program or
flow/gsl/gslmakefile.inc:35: library has `gslwchunk' as canonic name (possible typo)
flow/gsl/Makefile.am:7:   `flow/gsl/gslmakefile.inc' included from here
flow/gsl/gslmakefile.inc:41: variable `gslffttest_SOURCES' is defined but no program or
flow/gsl/gslmakefile.inc:41: library has `gslffttest' as canonic name (possible typo)
flow/gsl/Makefile.am:7:   `flow/gsl/gslmakefile.inc' included from here
flow/gsl/gslmakefile.inc:37: variable `gslwchunk_LDFLAGS' is defined but no program or
flow/gsl/gslmakefile.inc:37: library has `gslwchunk' as canonic name (possible typo)
flow/gsl/Makefile.am:7:   `flow/gsl/gslmakefile.inc' included from here




Comment 4


Caleb Tennis (RETIRED)






          2005-03-06 07:23:26 UTC
        

Rene, you do have automake 1.7 installed too, right?






Comment 5


Rene Gass





          2005-03-06 07:51:55 UTC
        

Yes, I've got automake-1.7.9-r1, installed on Jan 29th.




Comment 6


Gregorio Guidi (RETIRED)






          2005-03-06 08:10:36 UTC
        

You can do:
# export WANT_ACWRAPPER_DEBUG=1
# export WANT_AMWRAPPER_DEBUG=1

and try to reproduce the error.
They will produce output whenever /usr/bin/autoconf or /usr/bin/automake is run (which is a bad thing with respect to automake, because the kde build process should call /usr/bin/automake-1.7 directly).





Comment 7


Rene Gass





          2005-03-06 12:07:26 UTC
        

emerge arts now gives this:


Calculating dependencies ...done!
>>> emerge (1 of 1) kde-base/arts-3.4.0_rc1 to /
>>> md5 src_uri ;-) arts-1.4.0-rc1.tar.bz2
>>> Unpacking source...
>>> Unpacking arts-1.4.0-rc1.tar.bz2 to /var/tmp/portage/arts-3.4.0_rc1/work
 * Applying 1.3.0-jack-configure.in.in.patch ...                                                                      [ ok ]
 * Applying arts-1.3.2-alsa-bigendian.patch ...                                                                       [ ok ]
ac-wrapper: DEBUG: will execute </usr/bin/autoconf-2.59>
ac-wrapper: DEBUG: will execute </usr/bin/autoheader-2.59>
am-wrapper: DEBUG: will execute </usr/bin/automake-1.9>
*** Creating acinclude.m4
make[1]: Entering directory `/var/tmp/portage/arts-3.4.0_rc1/work/arts-1.4.0'
make[1]: Nothing to be done for `acinclude.m4'.
make[1]: Leaving directory `/var/tmp/portage/arts-3.4.0_rc1/work/arts-1.4.0'
*** Creating list of subdirectories
*** Creating Makefile.am
*** Creating configure.files
*** Creating configure.in
*** Creating aclocal.m4
*** Creating configure
ac-wrapper: DEBUG: will execute </usr/bin/autoconf-2.59>
ac-wrapper: DEBUG: WANT_AUTOCONF is set to 2.5
ac-wrapper: DEBUG: will execute </usr/bin/autom4te-2.59>
*** Creating config.h template
ac-wrapper: DEBUG: will execute </usr/bin/autoheader-2.59>
ac-wrapper: DEBUG: WANT_AUTOCONF is set to 2.5
ac-wrapper: DEBUG: will execute </usr/bin/autom4te-2.59>
*** Creating Makefile templates
am-wrapper: DEBUG: will execute </usr/bin/automake-1.9>
ac-wrapper: DEBUG: will execute </usr/bin/autoconf-2.59>
ac-wrapper: DEBUG: WANT_AUTOCONF is set to 2.5
ac-wrapper: DEBUG: will execute </usr/bin/autom4te-2.59>
configure.in:28: version mismatch.  This is Automake 1.9.5,
configure.in:28: but the definition used by this AM_INIT_AUTOMAKE
configure.in:28: comes from Automake 1.7.9.  You should recreate
configure.in:28: aclocal.m4 with aclocal and run automake again.
flow/gsl/gslmakefile.inc:43: variable `gslffttest_LDFLAGS' is defined but no program or
flow/gsl/gslmakefile.inc:43: library has `gslffttest' as canonic name (possible typo)
flow/gsl/Makefile.am:7:   `flow/gsl/gslmakefile.inc' included from here
flow/gsl/gslmakefile.inc:39: variable `gsltests_LDADD' is defined but no program or
flow/gsl/gslmakefile.inc:39: library has `gsltests' as canonic name (possible typo)
flow/gsl/Makefile.am:7:   `flow/gsl/gslmakefile.inc' included from here
flow/gsl/gslmakefile.inc:36: variable `gslwchunk_LDADD' is defined but no program or
flow/gsl/gslmakefile.inc:36: library has `gslwchunk' as canonic name (possible typo)
flow/gsl/Makefile.am:7:   `flow/gsl/gslmakefile.inc' included from here
flow/gsl/gslmakefile.inc:38: variable `gsltests_SOURCES' is defined but no program or
flow/gsl/gslmakefile.inc:38: library has `gsltests' as canonic name (possible typo)
flow/gsl/Makefile.am:7:   `flow/gsl/gslmakefile.inc' included from here
flow/gsl/gslmakefile.inc:42: variable `gslffttest_LDADD' is defined but no program or
flow/gsl/gslmakefile.inc:42: library has `gslffttest' as canonic name (possible typo)
flow/gsl/Makefile.am:7:   `flow/gsl/gslmakefile.inc' included from here
flow/gsl/gslmakefile.inc:40: variable `gsltests_LDFLAGS' is defined but no program or
flow/gsl/gslmakefile.inc:40: library has `gsltests' as canonic name (possible typo)
flow/gsl/Makefile.am:7:   `flow/gsl/gslmakefile.inc' included from here
flow/gsl/gslmakefile.inc:35: variable `gslwchunk_SOURCES' is defined but no program or
flow/gsl/gslmakefile.inc:35: library has `gslwchunk' as canonic name (possible typo)
flow/gsl/Makefile.am:7:   `flow/gsl/gslmakefile.inc' included from here
flow/gsl/gslmakefile.inc:41: variable `gslffttest_SOURCES' is defined but no program or
flow/gsl/gslmakefile.inc:41: library has `gslffttest' as canonic name (possible typo)
flow/gsl/Makefile.am:7:   `flow/gsl/gslmakefile.inc' included from here
flow/gsl/gslmakefile.inc:37: variable `gslwchunk_LDFLAGS' is defined but no program or
flow/gsl/gslmakefile.inc:37: library has `gslwchunk' as canonic name (possible typo)
flow/gsl/Makefile.am:7:   `flow/gsl/gslmakefile.inc' included from here
make: *** [cvs] Error 1

!!! ERROR: kde-base/arts-3.4.0_rc1 failed.
!!! Function src_unpack, Line 39, Exitcode 2
!!! (no error message)
!!! If you need support, post the topmost build error, NOT this status message.




Comment 8


Rene Gass





          2005-03-06 12:34:50 UTC
        

I have downgraded automake to 1.9.4 and portage to 2.0.51-r15 now and tried to reemerge k3b and arts. This is what I get for k3b (arts doesn't work either):


emerge k3b
Calculating dependencies ...done!
>>> emerge (1 of 1) app-cdr/k3b-0.11.20 to /
>>> md5 src_uri ;-) k3b-0.11.20.tar.bz2
>>> Unpacking source...
>>> Unpacking k3b-0.11.20.tar.bz2 to /var/tmp/portage/k3b-0.11.20/work
 * Applying k3b-0.11.17-noarts.patch ...                                                                              [ ok ]
ac-wrapper: DEBUG: WANT_AUTOCONF is set to 2.5
ac-wrapper: DEBUG: will execute </usr/bin/autoconf-2.59>
ac-wrapper: DEBUG: WANT_AUTOCONF is set to 2.5
ac-wrapper: DEBUG: will execute </usr/bin/autoheader-2.59>
am-wrapper: DEBUG: WANT_AUTOMAKE is set to 1.6
am-wrapper: DEBUG: will execute </usr/bin/automake-1.6>
*** Creating acinclude.m4
*** Creating list of subdirectories
*** Creating Makefile.am
*** Creating configure.files
*** Creating configure.in
*** Creating aclocal.m4
*** Creating configure
ac-wrapper: DEBUG: WANT_AUTOCONF is set to 2.5
ac-wrapper: DEBUG: will execute </usr/bin/autoconf-2.59>
ac-wrapper: DEBUG: WANT_AUTOCONF is set to 2.5
ac-wrapper: DEBUG: will execute </usr/bin/autom4te-2.59>
*** Creating config.h template
ac-wrapper: DEBUG: WANT_AUTOCONF is set to 2.5
ac-wrapper: DEBUG: will execute </usr/bin/autoheader-2.59>
ac-wrapper: DEBUG: WANT_AUTOCONF is set to 2.5
ac-wrapper: DEBUG: will execute </usr/bin/autom4te-2.59>
*** Creating Makefile templates
am-wrapper: DEBUG: WANT_AUTOMAKE is set to 1.6
am-wrapper: DEBUG: will execute </usr/bin/automake-1.6>
aclocal.m4:11804: version mismatch.  This is Automake 1.6.3, but aclocal.m4
aclocal.m4:11804: was generated for Automake 1.7.9.  You should recreate
aclocal.m4:11804: aclocal.m4 with aclocal and run automake again.
aclocal.m4:12487: `automake requires `AM_CONFIG_HEADER', not `AC_CONFIG_HEADER'
aclocal.m4:12487: required file `./$@)].in' not found
make: *** [cvs] Error 1

!!! ERROR: app-cdr/k3b-0.11.20 failed.
!!! Function src_unpack, Line 55, Exitcode 2
!!! (no error message)
!!! If you need support, post the topmost build error, NOT this status message.


It looks like aclocal.m4 is built with WANT_AUTOMAKE set to 1.6, yet it's said that "aclocal.m4 was generated for Automake 1.7.9." Something is severly broken here, but what?




Comment 9


Rene Gass





          2005-03-07 00:01:19 UTC
        

I've uninstalled and then reinstalled automake/autoconf completely (see http://forums.gentoo.org/viewtopic-p-2156097.html#2156097). automake is still version 1.9.4. This didn't help either.




Comment 10


Caleb Tennis (RETIRED)






          2005-03-07 04:19:38 UTC
        

You do have automake-wrapepr and autoconf-wrapper installed too, right?




Comment 11


Caleb Tennis (RETIRED)






          2005-03-07 04:19:52 UTC
        

err automake-wrapper




Comment 12


Rene Gass





          2005-03-07 05:00:36 UTC
        

automake-wrapper yes, autoconf-wrapper no. Actually I did an

# emerge -C automake automake-wrapper autoconf
# emerge -C gnuconf
# remove all links to config.sub and config.guess

followed by

# emerge gnuconf
# emerge automake-wrapper

BTW: Have you seen the private mail I sent to you wrt compiling KDE with debug information?




Comment 13


Rene Gass





          2005-03-07 12:10:54 UTC
        

I had autoconf-wrapper-2-r1 installed which I now have reemerged as well. But the result is the same as before.




Comment 14


Rene Gass





          2005-03-20 05:25:01 UTC
        

Is this the reason?

Makefile.in:
# Makefile.in generated by automake 1.6.3 from Makefile.am.

aclocal.m4:
# generated automatically by aclocal 1.7.9 -*- Autoconf -*-

Error message:
ac-wrapper: DEBUG: WANT_AUTOCONF is set to 2.5
ac-wrapper: DEBUG: will execute </usr/bin/autoconf-2.59>
ac-wrapper: DEBUG: WANT_AUTOCONF is set to 2.5
ac-wrapper: DEBUG: will execute </usr/bin/autoheader-2.59>
am-wrapper: DEBUG: WANT_AUTOMAKE is set to 1.6
am-wrapper: DEBUG: will execute </usr/bin/automake-1.6>
*** Creating acinclude.m4
*** Creating list of subdirectories
*** Creating Makefile.am
*** Creating configure.files
*** Creating configure.in
*** Creating aclocal.m4
*** Creating configure
ac-wrapper: DEBUG: WANT_AUTOCONF is set to 2.5
ac-wrapper: DEBUG: will execute </usr/bin/autoconf-2.59>
ac-wrapper: DEBUG: WANT_AUTOCONF is set to 2.5
ac-wrapper: DEBUG: will execute </usr/bin/autom4te-2.59>
*** Creating config.h template
ac-wrapper: DEBUG: WANT_AUTOCONF is set to 2.5
ac-wrapper: DEBUG: will execute </usr/bin/autoheader-2.59>
ac-wrapper: DEBUG: WANT_AUTOCONF is set to 2.5
ac-wrapper: DEBUG: will execute </usr/bin/autom4te-2.59>
*** Creating Makefile templates
am-wrapper: DEBUG: WANT_AUTOMAKE is set to 1.6
am-wrapper: DEBUG: will execute </usr/bin/automake-1.6>
aclocal.m4:11832: version mismatch.  This is Automake 1.6.3, but aclocal.m4
aclocal.m4:11832: was generated for Automake 1.7.9.  You should recreate
aclocal.m4:11832: aclocal.m4 with aclocal and run automake again.
aclocal.m4:12515: `automake requires `AM_CONFIG_HEADER', not `AC_CONFIG_HEADER'
aclocal.m4:12515: required file `./$@)].in' not found
make: *** [cvs] Error 1

!!! ERROR: app-cdr/k3b-0.11.22 failed.
!!! Function src_unpack, Line 56, Exitcode 2
!!! (no error message)
!!! If you need support, post the topmost build error, NOT this status message.



It looks like automake-1.6.3 is chosen due to Makefile.in, and it chokes on aclocal.m4 afterwards.

I was able to compile k3b by replacing automake-1.6 with a link to automake-1.7.

I really wonder why this worked before.




Comment 15


Gregorio Guidi (RETIRED)






          2005-05-12 09:12:23 UTC
        

Is this still happening?

On a normal system am-wrapper should never be called during kde building, I cannot see why it's happening here.





Comment 16


Rene Gass





          2005-05-19 07:01:52 UTC
        

Yes, it's still happening. K3b gives:

>>> emerge (1 of 1) app-cdr/k3b-0.11.24 to /
>>> md5 files   ;-) k3b-0.12_beta1.ebuild
>>> md5 files   ;-) k3b-0.11.24.ebuild
>>> md5 files   ;-) k3b-0.11.23-r2.ebuild
>>> md5 files   ;-) files/digest-k3b-0.11.24
>>> md5 files   ;-) files/k3b-0.11.17-noarts.patch
>>> md5 files   ;-) files/digest-k3b-0.12_beta1
>>> md5 files   ;-) files/k3b-dvdrip-transcode.patch
>>> md5 files   ;-) files/digest-k3b-0.11.23-r2
>>> md5 src_uri ;-) k3b-0.11.24.tar.bz2
>>> Unpacking source...
>>> Unpacking k3b-0.11.24.tar.bz2 to /var/tmp/portage/k3b-0.11.24/work
 * Applying k3b-0.11.17-noarts.patch ...                                       
                                      [ ok ]
ac-wrapper: DEBUG: WANT_AUTOCONF is set to 2.5
ac-wrapper: DEBUG: will execute </usr/bin/autoconf-2.59>
ac-wrapper: DEBUG: WANT_AUTOCONF is set to 2.5
ac-wrapper: DEBUG: will execute </usr/bin/autoheader-2.59>
am-wrapper: DEBUG: WANT_AUTOMAKE is set to 1.6
am-wrapper: DEBUG: will execute </usr/bin/automake-1.6>
*** automake (GNU automake) 1.6.3 found.
*** Creating acinclude.m4
*** Creating list of subdirectories
*** Creating configure.files
*** Creating configure.in
*** Creating aclocal.m4
*** Creating configure
ac-wrapper: DEBUG: WANT_AUTOCONF is set to 2.5
ac-wrapper: DEBUG: will execute </usr/bin/autoconf-2.59>
ac-wrapper: DEBUG: WANT_AUTOCONF is set to 2.5
ac-wrapper: DEBUG: will execute </usr/bin/autom4te-2.59>
*** Creating config.h template
ac-wrapper: DEBUG: WANT_AUTOCONF is set to 2.5
ac-wrapper: DEBUG: will execute </usr/bin/autoheader-2.59>
ac-wrapper: DEBUG: WANT_AUTOCONF is set to 2.5
ac-wrapper: DEBUG: will execute </usr/bin/autom4te-2.59>
*** Creating Makefile templates
am-wrapper: DEBUG: WANT_AUTOMAKE is set to 1.6
am-wrapper: DEBUG: will execute </usr/bin/automake-1.6>
aclocal.m4:11880: version mismatch.  This is Automake 1.6.3, but aclocal.m4
aclocal.m4:11880: was generated for Automake 1.7.9.  You should recreate
aclocal.m4:11880: aclocal.m4 with aclocal and run automake again.
aclocal.m4:12563: `automake requires `AM_CONFIG_HEADER', not `AC_CONFIG_HEADER'
aclocal.m4:12563: required file `./$@)].in' not found
make: *** [cvs] Error 1


And arts gives:

>>> emerge (1 of 1) kde-base/arts-3.4.0 to /
>>> md5 files   ;-) arts-1.2.3.ebuild
>>> md5 files   ;-) arts-1.3.2-r1.ebuild
>>> md5 files   ;-) arts-1.3.2.ebuild
>>> md5 files   ;-) arts-3.4.0.ebuild
>>> md5 files   ;-) files/arts-vorbis-fix.dif
>>> md5 files   ;-) files/arts-1.3.2-mcopidl.patch
>>> md5 files   ;-) files/digest-arts-1.2.3
>>> md5 files   ;-) files/digest-arts-1.3.2
>>> md5 files   ;-) files/arts-1.2.3-buffer.patch
>>> md5 files   ;-) files/1.3.0-jack-configure.in.in.patch
>>> md5 files   ;-) files/arts-1.3.2-alsa-bigendian.patch
>>> md5 files   ;-) files/arts-1.4-mcopidl.patch
>>> md5 files   ;-) files/digest-arts-1.3.2-r1
>>> md5 files   ;-) files/digest-arts-3.4.0
>>> md5 src_uri ;-) arts-1.4.0.tar.bz2
>>> Unpacking source...
>>> Unpacking arts-1.4.0.tar.bz2 to /var/tmp/portage/arts-3.4.0/work
 * Applying 1.3.0-jack-configure.in.in.patch ...                               
                                      [ ok ]
 * Applying arts-1.3.2-alsa-bigendian.patch ...                                
                                      [ ok ]
ac-wrapper: DEBUG: will execute </usr/bin/autoconf-2.59>
ac-wrapper: DEBUG: will execute </usr/bin/autoheader-2.59>
am-wrapper: DEBUG: will execute </usr/bin/automake-1.9>
*** Creating acinclude.m4
make[1]: Entering directory `/var/tmp/portage/arts-3.4.0/work/arts-1.4.0'
make[1]: Nothing to be done for `acinclude.m4'.
make[1]: Leaving directory `/var/tmp/portage/arts-3.4.0/work/arts-1.4.0'
*** Creating list of subdirectories
*** Creating Makefile.am
*** Creating configure.files
*** Creating configure.in
*** Creating aclocal.m4
*** Creating configure
ac-wrapper: DEBUG: will execute </usr/bin/autoconf-2.59>
ac-wrapper: DEBUG: WANT_AUTOCONF is set to 2.5
ac-wrapper: DEBUG: will execute </usr/bin/autom4te-2.59>
*** Creating config.h template
ac-wrapper: DEBUG: will execute </usr/bin/autoheader-2.59>
ac-wrapper: DEBUG: WANT_AUTOCONF is set to 2.5
ac-wrapper: DEBUG: will execute </usr/bin/autom4te-2.59>
*** Creating Makefile templates
am-wrapper: DEBUG: will execute </usr/bin/automake-1.9>
ac-wrapper: DEBUG: will execute </usr/bin/autoconf-2.59>
ac-wrapper: DEBUG: WANT_AUTOCONF is set to 2.5
ac-wrapper: DEBUG: will execute </usr/bin/autom4te-2.59>
configure.in:28: version mismatch.  This is Automake 1.9.5,
configure.in:28: but the definition used by this AM_INIT_AUTOMAKE
configure.in:28: comes from Automake 1.7.9.  You should recreate
configure.in:28: aclocal.m4 with aclocal and run automake again.
flow/gsl/gslmakefile.inc:43: variable `gslffttest_LDFLAGS' is defined but no
program or
flow/gsl/gslmakefile.inc:43: library has `gslffttest' as canonic name (possible
typo)
flow/gsl/Makefile.am:7:   `flow/gsl/gslmakefile.inc' included from here
flow/gsl/gslmakefile.inc:39: variable `gsltests_LDADD' is defined but no program or
flow/gsl/gslmakefile.inc:39: library has `gsltests' as canonic name (possible typo)
flow/gsl/Makefile.am:7:   `flow/gsl/gslmakefile.inc' included from here
flow/gsl/gslmakefile.inc:36: variable `gslwchunk_LDADD' is defined but no program or
flow/gsl/gslmakefile.inc:36: library has `gslwchunk' as canonic name (possible typo)
flow/gsl/Makefile.am:7:   `flow/gsl/gslmakefile.inc' included from here
flow/gsl/gslmakefile.inc:38: variable `gsltests_SOURCES' is defined but no
program or
flow/gsl/gslmakefile.inc:38: library has `gsltests' as canonic name (possible typo)
flow/gsl/Makefile.am:7:   `flow/gsl/gslmakefile.inc' included from here
flow/gsl/gslmakefile.inc:42: variable `gslffttest_LDADD' is defined but no
program or
flow/gsl/gslmakefile.inc:42: library has `gslffttest' as canonic name (possible
typo)
flow/gsl/Makefile.am:7:   `flow/gsl/gslmakefile.inc' included from here
flow/gsl/gslmakefile.inc:40: variable `gsltests_LDFLAGS' is defined but no
program or
flow/gsl/gslmakefile.inc:40: library has `gsltests' as canonic name (possible typo)
flow/gsl/Makefile.am:7:   `flow/gsl/gslmakefile.inc' included from here
flow/gsl/gslmakefile.inc:35: variable `gslwchunk_SOURCES' is defined but no
program or
flow/gsl/gslmakefile.inc:35: library has `gslwchunk' as canonic name (possible typo)
flow/gsl/Makefile.am:7:   `flow/gsl/gslmakefile.inc' included from here
flow/gsl/gslmakefile.inc:41: variable `gslffttest_SOURCES' is defined but no
program or
flow/gsl/gslmakefile.inc:41: library has `gslffttest' as canonic name (possible
typo)
flow/gsl/Makefile.am:7:   `flow/gsl/gslmakefile.inc' included from here
flow/gsl/gslmakefile.inc:37: variable `gslwchunk_LDFLAGS' is defined but no
program or
flow/gsl/gslmakefile.inc:37: library has `gslwchunk' as canonic name (possible typo)
flow/gsl/Makefile.am:7:   `flow/gsl/gslmakefile.inc' included from here
make: *** [cvs] Error 1




Comment 17


Rene Gass





          2005-06-15 13:31:57 UTC
        

Update:

The new k3b-0.12 emerged without a problem.
arts-3.4.1 and now kdelibs-3.4.1 as well don't emerge.




Comment 18


Gregorio Guidi (RETIRED)






          2005-11-06 05:11:11 UTC
        

Is this still a problem? 




Comment 19


Rene Gass





          2005-11-16 08:31:19 UTC
        

Yes, arts and kdelibs still fail.

I have recently installed another system from scratch, where everything worked
as it should, so this is probably a problem of my system. Only that I cannot
think of any reason, why. I guess I will just have to live with it.




Comment 20


Gregorio Guidi (RETIRED)






          2005-11-17 07:46:39 UTC
        

Oh well... I really don't think we can do much at this point... 




Comment 21


Rene Gass





          2005-11-30 09:31:20 UTC
        

FYI: arts-3.5.0 and kdelibs-3.5.0 didn't show this behavior, so compiled as
expected.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

