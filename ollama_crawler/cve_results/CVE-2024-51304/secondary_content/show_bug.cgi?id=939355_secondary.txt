Title: 939355 – INSTALL_MASK doesn't work with wildcards in the path
URL: https://bugs.gentoo.org/show_bug.cgi?id=939355

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 939355
INSTALL_MASK doesn't work with wildcards in the path
Last modified: 2024-09-09 18:21:51 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 939355 
      - INSTALL_MASK doesn't work with wildcards in the path


Summary:
INSTALL_MASK doesn't work with wildcards in the path
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Portage Development




Classification:

Unclassified




Component:

Enhancement/Feature Requests

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Portage team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2024-09-08 23:19 UTC by Michael Jones





      Modified:
    
2024-09-09 18:21 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Michael Jones





          2024-09-08 23:19:27 UTC
        

E.g.

INSTALL_MASK="/usr/share/doc/*/Changelog"

added to /etc/portage/make.conf

does not prevent those files from being installed.

E.g.

ls /usr/share/doc/*/ChangeLog | wc -w
276


Reproducible: Always




Comment 1


Sam James









          2024-09-08 23:24:05 UTC
        

Changelog != ChangeLog.

Note that make.conf(5) documents a similar example as working:
"""
       INSTALL_MASK = [space delimited list of filename patterns (globs)]
              Use  this variable if you want to selectively prevent certain files from being copied into your file system tree.  This does not work on symlinks, but only on actual files
              (including directories). Useful if you wish to filter out files like HACKING.gz and TODO.gz.

              Patterns are matched against both the absolute path and the bare filename of each file (or directory) to be installed.
[...]

              # Block PDF files one level beneath /usr/share/doc.
              INSTALL_MASK="/usr/share/doc/*/*.pdf"
[...]
"""




Comment 2


Mike Gilbert






          2024-09-09 18:21:51 UTC
        

I just tested with INSTALL_MASK="/usr/share/doc/*/ChangeLog" and it worked fine.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

