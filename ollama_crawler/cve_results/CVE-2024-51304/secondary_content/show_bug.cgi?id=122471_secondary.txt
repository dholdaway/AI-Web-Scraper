Title: 122471 – pam-login fails w/ newest automake(+wrapper)
URL: https://bugs.gentoo.org/show_bug.cgi?id=122471

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 122471
pam-login fails w/ newest automake(+wrapper)
Last modified: 2006-02-11 10:00:27 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 122471 
      - pam-login fails w/ newest automake(+wrapper)


Summary:
pam-login fails w/ newest automake(+wrapper)
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Highest
       normal
      


Assignee:

PAM Gentoo Team (OBSOLETE)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-02-11 09:18 UTC by molle.bestefich





      Modified:
    
2006-02-11 10:00 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


molle.bestefich





          2006-02-11 09:18:32 UTC
        

When I try to 'emerge -D world', portage wants to install pam-login-3.17.

That fails miserably, with this error message:
====================
checking whether build environment is sane... configure.in:8: version mismatch.  This is Automake 1.7.9,
configure.in:8: but the definition used by this AM_INIT_AUTOMAKE
configure.in:8: comes from Automake 1.9.6.  You should recreate
configure.in:8: aclocal.m4 with aclocal and run automake again.
WARNING: `automake-1.7' is needed, and you do not seem to have it handy on your
         system.  You might have modified some files without having the
         proper tools for further handling them.  Check the `README' file,
         it often tells you about the needed prerequirements for installing
         this package.  You may also peek at any GNU archive site, in case
         some other package would contain this missing `automake-1.7' program.
make: *** [Makefile.in] Error 1
====================

I've got the newest automake tools installed (whatever that is :-)):
====================
~ # emerge -Dp automake automake-wrapper
These are the packages that I would merge, in order:
Calculating dependencies ...done!
[ebuild   R   ] sys-devel/automake-1.9.6-r1
[ebuild   R   ] sys-devel/automake-wrapper-1-r1

~ # equery l automake
[ Searching for package 'automake' in all categories among: ]
 * installed packages
[I--] [  ] sys-devel/automake-1.7.9-r1 (1.7)
[I--] [  ] sys-devel/automake-1.8.5-r3 (1.8)
[I--] [  ] sys-devel/automake-1.9.6-r1 (1.9)
[I--] [  ] sys-devel/automake-1.5 (1.5)
[I--] [  ] sys-devel/automake-wrapper-1-r1 (0)
[I--] [  ] sys-devel/automake-1.4_p6 (1.4)
[I--] [  ] sys-devel/automake-1.6.3 (1.6)
=====================

Hm ?
Hmm.

emerge --info says:
=====================
Portage 2.0.54 (default-linux/x86/2005.0, gcc-3.3.6, glibc-2.3.5-r2, 2.6.14 i686)
=====================




Comment 1


Diego Elio Pettenò (RETIRED)






          2006-02-11 09:34:11 UTC
        

Hmm this sounds like the timestamps does not get update in the right way.
A way to fix this is by forcing an eautoreconf (that might create a bit of circular deps on stage1, not sure), but I can't reproduce that here.

Make sure the clock of your system is set correctly, just to rule out a possible problem in that sense.




Comment 2


molle.bestefich





          2006-02-11 09:51:03 UTC
        

Ok, synced the clock:

=================================
~ # ntpdate time.nist.gov
Looking for host time.nist.gov and service ntp
host found : time.nist.gov
11 Feb 17:45:13 ntpdate[27659]: step time server 192.43.244.18 offset -65.462003 sec
=================================

Didn't help, I get the same error when doing emerge.

Here's more output, there's something that says "missing" - looks odd to me, but then again I have no clue what I'm dealing with.
=================================
config.status: creating po/Makefile
cd . && /bin/sh /var/tmp/portage/pam-login-3.17/work/pam_login-3.17/missing --run aclocal-1.7 -I m4
/usr/share/aclocal/libmikmod.m4:11: warning: underquoted definition of AM_PATH_LIBMIKMOD
  run info '(automake)Extending aclocal'
  or see http://sources.redhat.com/automake/automake.html#Extending-aclocal
/usr/share/aclocal/libgcrypt.m4:23: warning: underquoted definition of AM_PATH_LIBGCRYPT
/usr/share/aclocal/imlib.m4:9: warning: underquoted definition of AM_PATH_IMLIB
/usr/share/aclocal/imlib.m4:167: warning: underquoted definition of AM_PATH_GDK_IMLIB
/usr/share/aclocal/gtk.m4:7: warning: underquoted definition of AM_PATH_GTK
/usr/share/aclocal/glib.m4:8: warning: underquoted definition of AM_PATH_GLIB
/usr/share/aclocal/audiofile.m4:12: warning: underquoted definition of AM_PATH_AUDIOFILE
/usr/share/aclocal/ao.m4:9: warning: underquoted definition of XIPH_PATH_AO
/usr/share/aclocal/aalib.m4:12: warning: underquoted definition of AM_PATH_AALIB
cd . && \
  /bin/sh /var/tmp/portage/pam-login-3.17/work/pam_login-3.17/missing --run automake-1.7 --gnits  Makefile
cd . && /bin/sh /var/tmp/portage/pam-login-3.17/work/pam_login-3.17/missing --run autoconf
/bin/sh ./config.status --recheck
running /bin/sh ./configure  --prefix=/usr --host=i686-pc-linux-gnu --mandir=/usr/share/man --infodir=/usr/share/info --datadir=/usr/share --sysconfdir=/etc --localstatedir=/var/lib --enable-nls --build=i686-pc-linux-gnu CFLAGS=-O2 -march=pentium4 -fomit-frame-pointer -pipe build_alias=i686-pc-linux-gnu host_alias=i686-pc-linux-gnu  --no-create --no-recursion
checking for a BSD-compatible install... /bin/install -c
checking whether build environment is sane... configure.in:8: version mismatch.  This is Automake 1.7.9,
configure.in:8: but the definition used by this AM_INIT_AUTOMAKE
configure.in:8: comes from Automake 1.9.6.  You should recreate
configure.in:8: aclocal.m4 with aclocal and run automake again.
WARNING: `automake-1.7' is needed, and you do not seem to have it handy on your
         system.  You might have modified some files without having the
         proper tools for further handling them.  Check the `README' file,
         it often tells you about the needed prerequirements for installing
         this package.  You may also peek at any GNU archive site, in case
         some other package would contain this missing `automake-1.7' program.
make: *** [Makefile.in] Error 1
======================================

How do I force (e?)autoreconf with emerge?





Comment 3


molle.bestefich





          2006-02-11 10:00:27 UTC
        

Ah, found a solution, or workaround, or whatever:  # emerge -C automake automake-wrapper # emerge automake automake-wrapper  I've got the exact same packages now as before, but suddenly the automake stuff works and I can emerge pam-login! I wonder.  Thanks for your help!









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

