Title: 158599 – sys-apps/iproute2-2.6.19.20061214 fails to build on amd64
URL: https://bugs.gentoo.org/show_bug.cgi?id=158599

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 158599
sys-apps/iproute2-2.6.19.20061214 fails to build on amd64
Last modified: 2007-03-19 13:05:15 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 158599 
      - sys-apps/iproute2-2.6.19.20061214 fails to build on amd64


Summary:
sys-apps/iproute2-2.6.19.20061214 fails to build on amd64
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo's Team for Core System packages








URL:







Whiteboard:




Keywords:









Duplicates (3):
    

159035 170251 171425

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2006-12-19 15:26 UTC by Jens Mueller





      Modified:
    
2007-03-19 13:05 UTC
      (History)
    




          CC List:
        

5 
          users
          
            (show)
          



cvill64
k.epost
shpac
suertreus
weigt.mathias









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Jens Mueller





          2006-12-19 15:26:53 UTC
        

x86_64-pc-linux-gnu-gcc -D_GNU_SOURCE -march=k8 -O2 -Wstrict-prototypes -Wall -I../include -DRESOLVE_HOSTNAMES -DCONFIG_GACT -DCONFIG_GACT_PROB   -c -o m_ipt.o m_ipt.c
In file included from ../include/libiptc/libiptc.h:6,
                 from ../include/iptables.h:5,
                 from m_ipt.c:20:
../include/linux/netfilter_ipv4/ip_tables.h:20:38: error: linux/netfilter/x_tables.h: No such file or directory
In file included from ../include/libiptc/libiptc.h:6,
                 from ../include/iptables.h:5,
                 from m_ipt.c:20:
../include/linux/netfilter_ipv4/ip_tables.h:87: error: field 'counters' has incomplete type
../include/linux/netfilter_ipv4/ip_tables.h:115:39: error: linux/netfilter/xt_tcpudp.h: No such file or directory
../include/linux/netfilter_ipv4/ip_tables.h:144: error: 'XT_FUNCTION_MAXNAMELEN' undeclared here (not in a function)
In file included from m_ipt.c:20:
../include/iptables.h:56: warning: 'struct xt_entry_match' declared inside parameter list
../include/iptables.h:56: warning: its scope is only this definition or declaration, which is probably not what you want
../include/iptables.h:63: warning: 'struct xt_entry_match' declared inside parameter list
../include/iptables.h:70: warning: 'struct xt_entry_match' declared inside parameter list
../include/iptables.h:74: warning: 'struct xt_entry_match' declared inside parameter list
m_ipt.c: In function 'build_st':
m_ipt.c:356: error: invalid application of 'sizeof' to incomplete type 'struct xt_entry_target'
m_ipt.c:360: error: dereferencing pointer to incomplete type
m_ipt.c:364: error: dereferencing pointer to incomplete type
m_ipt.c:368: error: dereferencing pointer to incomplete type
m_ipt.c: In function 'parse_ipt':
m_ipt.c:499: error: dereferencing pointer to incomplete type
m_ipt.c: In function 'print_ipt':
m_ipt.c:547: error: dereferencing pointer to incomplete type
m_ipt.c:559: error: dereferencing pointer to incomplete type
make[1]: *** [m_ipt.o] Error 1
rm emp_ematch.lex.c emp_ematch.yacc.c
make[1]: Leaving directory `/var/tmp/portage/sys-apps/iproute2-2.6.19.20061214/work/iproute2-2.6.19-061214/tc'
make: *** [all] Error 2

!!! ERROR: sys-apps/iproute2-2.6.19.20061214 failed.
Call stack:
  ebuild.sh, line 1580:   Called dyn_compile
  ebuild.sh, line 945:   Called src_compile
  iproute2-2.6.19.20061214.ebuild, line 69:   Called die

!!! make
!!! If you need support, post the topmost build error, and the call stack if relevant.




Comment 1


Jens Mueller





          2006-12-19 15:27:37 UTC
        

# emerge --info
Portage 2.1.2_rc3-r7 (default-linux/amd64/2006.1, gcc-4.1.1, glibc-2.4-r4, 2.6.18-gentoo-r3 x86_64)
=================================================================
System uname: 2.6.18-gentoo-r3 x86_64 AMD Athlon(tm) 64 Processor 3200+
Gentoo Base System version 1.12.6
Last Sync: Tue, 19 Dec 2006 21:50:01 +0000
ccache version 2.3 [disabled]
dev-java/java-config: 1.3.7, 2.0.31
dev-lang/python:     2.3.5-r3, 2.4.3-r4
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     2.3
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.60
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.14
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=k8 -O2"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/NX/etc /usr/NX/home /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config /var/bind"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c"
CXXFLAGS="-march=k8 -O2"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/ ftp://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/ ftp://130.59.10.34/mirror/gentoo/ http://130.59.10.35/mirror/gentoo/"
LANG="de_DE.utf-8"
LC_ALL="de_DE.utf-8"
LINGUAS="de cz it fr en"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.de.gentoo.org/gentoo-portage"
USE="amd64 X aalib alsa arts audiofile berkdb bitmap-fonts bzip2 cdr cjk cli cracklib crypt css cups dlloader dri dvd dvdr elibc_glibc fortran gdbm gpm gtk gtk2 iconv immqt-bc input_devices_keyboard input_devices_mouse ipv6 isdnlog java jpeg jpeg2k kde kernel_linux libg++ linguas_cz linguas_de linguas_en linguas_fr linguas_it mozilla mp3 musicbrainz mysql ncurses nls nptl nptlonly nsplugin ogg opengl oss pam pango pcre pdf perl png ppds pppd python qt readline reflection samba sasl session spl ssl tcpd truetype truetype-fonts type1-fonts udev unicode userland_GNU video_cards_fbdev video_cards_nvidia video_cards_vesa video_cards_vga vorbis xorg xosd xv xvid zlib"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LDFLAGS, MAKEOPTS, PORTAGE_RSYNC_EXTRA_OPTS





Comment 2


SpanKY






          2006-12-19 16:03:14 UTC
        

your kernel headers are out of date




Comment 3


Jakub Moc (RETIRED)






          2006-12-24 14:24:25 UTC
        

*** Bug 159035 has been marked as a duplicate of this bug. ***




Comment 4


cvill64





          2006-12-24 14:55:24 UTC
        

I don't understand the resolution, I'm using 2.6.19-r2 from portage which is the newest afaik

sorry for the duplicate, I didn't see this one




Comment 5


cvill64





          2006-12-24 16:23:33 UTC
        

whoops, n/m




Comment 6


Mathias Weigt





          2007-01-02 23:06:11 UTC
        

(In reply to comment #2)
> your kernel headers are out of date
> 

I'm not happy with this solution: "WORKSFORME"
Shouldn't get the ebuild corrected to depend on newer linux-headers ?

I just wanted to emerge a testing release of vpnc which needed a newer version of iproute2. There was no hint to pull in new linux-headers as well.
I ran into the same problem as Jens M




Comment 7


Mathias Weigt





          2007-01-02 23:06:11 UTC
        

(In reply to comment #2)
> your kernel headers are out of date
> 

I'm not happy with this solution: "WORKSFORME"
Shouldn't get the ebuild corrected to depend on newer linux-headers ?

I just wanted to emerge a testing release of vpnc which needed a newer version of iproute2. There was no hint to pull in new linux-headers as well.
I ran into the same problem as Jens Müller and cvill64 and couldn't find this bug in bugzilla at first, because it was closed (Searching all bugs of iproute2 shows you more than 200 ids)





Comment 8


Jakub Moc (RETIRED)






          2007-02-15 21:28:57 UTC
        

*** Bug 167097 has been marked as a duplicate of this bug. ***




Comment 9


Jakub Moc (RETIRED)






          2007-03-10 12:42:07 UTC
        

*** Bug 170251 has been marked as a duplicate of this bug. ***




Comment 10


Jakub Moc (RETIRED)






          2007-03-19 13:05:15 UTC
        

*** Bug 171425 has been marked as a duplicate of this bug. ***









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

