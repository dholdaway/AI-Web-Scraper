Title: 103771 – Glade eats the file associations for text files and Gedit can't reclaim them
URL: https://bugs.gentoo.org/show_bug.cgi?id=103771

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 103771
Glade eats the file associations for text files and Gedit can't reclaim them
Last modified: 2006-03-30 19:03:01 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 103771 
      - Glade eats the file associations for text files and Gedit can't reclaim them


Summary:
Glade eats the file associations for text files and Gedit can't reclaim them
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] GNOME

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Linux Gnome Desktop Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-08-25 16:56 UTC by Keith Gable





      Modified:
    
2006-03-30 19:03 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Context menu describing problem

              (rightclick-problem.png,109.27 KB,
                image/png)

            
2005-08-25 16:59 UTC,

            Keith Gable




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Keith Gable





          2005-08-25 16:56:59 UTC
        

I cannot for the life of me get text files to open with Gedit automatically
after installing Glade. I've tried "Open With Other Application" and then
picking Text Editor. Doesn't work. If I unmerge Glade, Kate takes over and I
still can't make Gedit take control of text/plain files.

What am I missing here? I'll upload a screenshot of the described behavior.

Marking major because it's a small problem that's really annoying. It's a text
file for crying out loud, I should be able to open it with a text editor of my
choosing by default!

BTW -- it works fine as root.

Reproducible: Always
Steps to Reproduce:
1. Install Glade
2. Text files try to open in Glade (but they obviously can't)
3. If you do the "association reassignment" of picking "Other Application..."
and picking Text Editor, it'll open in Text Editor but it won't stick.
Actual Results:  
Text files open with Glade, Kate, or something that isn't Gedit.

Expected Results:  
If you set Gedit as the default editor, it should stay that way.

Portage 2.0.51.22-r2 (default-linux/x86/2005.0, gcc-3.3.5-20050130,
glibc-2.3.5-r1, 2.6.12-gentoo-r6 i686)
=================================================================
System uname: 2.6.12-gentoo-r6 i686 mobile AMD Athlon(tm) XP
Gentoo Base System version 1.6.13
dev-lang/python:     2.3.5, 2.4.1-r1
sys-apps/sandbox:    1.2.10
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.5
sys-devel/binutils:  2.15.92.0.2-r10
sys-devel/libtool:   1.5.18-r1
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=athlon-xp -O3 -fomit-frame-pointer -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env
/usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config
/var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/splash /etc/terminfo /etc/env.d"
CXXFLAGS="-march=athlon-xp -O3 -fomit-frame-pointer -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://gentoo.osuosl.org/
ftp://ftp.gtlib.cc.gatech.edu/pub/gentoo
http://csociety-ftp.ecn.purdue.edu/pub/gentoo/
ftp://csociety-ftp.ecn.purdue.edu/pub/gentoo/
ftp://mirror.iawnet.sandia.gov/pub/gentoo/
ftp://ftp.ussg.iu.edu/pub/linux/gentoo http://gentoo.seren.com/gentoo
http://gentoo.chem.wisc.edu/gentoo/ ftp://gentoo.chem.wisc.edu/gentoo/
http://cudlug.cudenver.edu/gentoo/
ftp://cudlug.cudenver.edu/pub/mirrors/distributions/gentoo/
http://gentoo.ccccom.com ftp://gentoo.ccccom.com
http://gentoo.mirrors.tds.net/gentoo ftp://gentoo.mirrors.tds.net/gentoo
http://gentoo.netnitco.net ftp://gentoo.netnitco.net/pub/mirrors/gentoo/source/
http://mirror.espri.arizona.edu/gentoo/
http://mirror.clarkson.edu/pub/distributions/gentoo/
http://mirrors.acm.cs.rpi.edu/gentoo/ ftp://ftp.ndlug.nd.edu/pub/gentoo/
http://open-systems.ufl.edu/mirrors/gentoo http://gentoo.llarian.net/
ftp://gentoo.llarian.net/pub/gentoo http://gentoo.binarycompass.org
http://mirror.datapipe.net/gentoo http://mirror.datapipe.net/gentoo
http://gentoo.eliteitminds.com http://gentoo.cs.lewisu.edu/gentoo/
ftp://linux.cs.lewisu.edu/gentoo/ http://prometheus.cs.wmich.edu/gentoo
http://modzer0.cs.uaf.edu/public/gentoo/ http://mirror.usu.edu/mirrors/gentoo/
ftp://mirror.usu.edu/mirrors/gentoo/ http://lug.mtu.edu/gentoo
http://mirror.phy.olemiss.edu/mirror/gentoo"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 3dnow 3dnowext X aalib alsa apm arts avi berkdb bitmap-fonts bonobo cdr
crypt cups curl directfb doc dvd dvdr eds emboss encode esd esound fam flac
foomaticdb fortran gd gdbm ggi gif gnome gphoto2 gpm gstreamer gtk gtk2 gtkhtml
guile hal imagemagick imlib ipv6 java jpeg junit kde kerberos krb4 krb5 libg++
libwww mad mikmod mmx mmxext motif mozilla mp3 mpeg mysql ncurses nls nptl odbc
ogg oggvorbis opengl oss pam pdflib perl png python qt quicktime readline samba
sdl speex spell sse ssl svga tcltk tcpd tiff truetype truetype-fonts type1-fonts
unicode userlocales vorbis xine xml xml2 xmms xv zlib userland_GNU kernel_linux
elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS




Comment 1


Keith Gable





          2005-08-25 16:59:24 UTC
        

Created attachment 66892 [details]
Context menu describing problem

Ignore the Futurama background image :)




Comment 2


Mike Gardiner (RETIRED)






          2005-09-22 06:22:01 UTC
        

I actually see the opposite - glade files (xml) are opened with Gedit/Gvim
rather than Glade. Anyway, right click on any text file, go to the "Open With"
tab and select your preferred editor there.




Comment 3


Keith Gable





          2005-09-22 15:28:45 UTC
        

Uh. That's the problem. No amount of "Open With" will make text files open in
Gedit. Everything works as expected as root (can switch between Glade owning
text files [wtf would you want that for?] or Gedit owning text files using Open
With), but when you logon as "keith" (my user), "Open With" does not set text
files to open in Gedit if you pick it to open in Gedit. The next text file you
double-click after that opens in... Glade. But I just told it to reassociate it
with Gedit! That's the problem. I figured that it's a Gentoo-specific bug, since
obviously an upstream patch would have happened many a moon ago if it were
GNOME-wide.




Comment 4


Mike Gardiner (RETIRED)






          2005-09-24 02:50:41 UTC
        

It doesn't seem to be a Gentoo specific bug either, most likely it's something
to do with your local setup. I'm betting on a permissions issue - is anything
printed to your console after you try to set the permissions? Try starting X
with startx (not gdm), try setting the right permissions, and ctrl-alt-f1 to see
if anything obvious is displayed.

If it is a permissions thing, try quitting gnome, rm -rf'ing
/tmp/gconfd-<username>, and restarting gnome.

You're most likely going to have to do some digging yourself on this one seeing
as we can't reproduce it.




Comment 5


Keith Gable





          2005-09-24 09:18:07 UTC
        

Yeah, I figured that it'd be "local problem". I just figured that since I've
already got 5 or so bugs on GNOME's bugzilla that haven't been replied to yet, I
might have an easier time assuming that it's a Gentoo problem. Thanks for the
help with that :). I'll see what comes up with startx and get back to you.




Comment 6


John N. Laliberte (RETIRED)






          2005-10-14 19:28:38 UTC
        

reporter: any update on this?




Comment 7


Keith Gable





          2005-10-15 14:42:04 UTC
        

-> "Open <File> and other files of type 'plain text document' with:" does not
set the default handler on some types.
-> Open With tab of Properties, however, works every time.

I've uninstalled Glade and KDE and deleted my GNOME profile (I nuked it -_-), so
I don't know if that had anything to do with anything.




Comment 8


John N. Laliberte (RETIRED)






          2006-03-30 18:36:56 UTC
        

reporter: can you still reproduce this with 2.12?




Comment 9


Keith Gable





          2006-03-30 18:43:37 UTC
        

I have not actually been able to reproduce this in some time. I don't know what it was -- that I upgraded KDE, or that I upgraded GNOME, or something. But it seems to work like it's supposed to last I tried (haven't tried in GNOME 2.12 and actually can't now).




Comment 10


John N. Laliberte (RETIRED)






          2006-03-30 19:03:01 UTC
        

resolving as works for me, per reporters comment.

Thanks for the quick response.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

