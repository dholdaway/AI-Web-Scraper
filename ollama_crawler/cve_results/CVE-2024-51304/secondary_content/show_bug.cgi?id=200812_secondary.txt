Title: 200812 – x11-drivers/ati-drivers-8.433 fgl_glxgears build failed
URL: https://bugs.gentoo.org/show_bug.cgi?id=200812

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 200812
x11-drivers/ati-drivers-8.433 fgl_glxgears build failed
Last modified: 2007-11-30 16:34:20 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 200812 
      - x11-drivers/ati-drivers-8.433 fgl_glxgears build failed


Summary:
x11-drivers/ati-drivers-8.433 fgl_glxgears build failed
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-11-30 08:00 UTC by Michał Kudła





      Modified:
    
2007-11-30 16:34 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Michał Kudła





          2007-11-30 08:00:51 UTC
        

m1k0 ~ # emerge -av ati-drivers

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild  N    ] x11-drivers/ati-drivers-8.433  USE="acpi -debug" 0 kB

Total: 1 package (1 new), Size of downloads: 0 kB

Would you like to merge these packages? [Yes/No]
>>> Verifying ebuild Manifests...

>>> Emerging (1 of 1) x11-drivers/ati-drivers-8.433 to /
 * ati-driver-installer-7-11-x86.x86_64.run RMD160 SHA1 SHA256 size ;-) ...                                                                                                 [ ok ]
 * checking ebuild checksums ;-) ...                                                                                                                                        [ ok ]
 * checking auxfile checksums ;-) ...                                                                                                                                       [ ok ]
 * checking miscfile checksums ;-) ...                                                                                                                                      [ ok ]
 * checking ati-driver-installer-7-11-x86.x86_64.run ;-) ...                                                                                                                [ ok ]
 * Determining the location of the kernel source code
 * Found kernel source directory:
 *     /usr/src/linux
 * Found kernel object directory:
 *     /lib/modules/2.6.22-gentoo-r9/build
 * Found sources for kernel version:
 *     2.6.22-gentoo-r9
>>> Unpacking source...
 * Applying ati-powermode-opt-path-1.patch ...                                                                                                                              [ ok ]
 * Converting 2.6.x/Makefile to use M= instead of SUBDIRS= ...                                                                                                              [ ok ]
>>> Unpacking ./../common/usr/src/ati/fglrx_sample_source.tgz to /var/tmp/portage/x11-drivers/ati-drivers-8.433/work/extra
>>> Source unpacked.
>>> Compiling source in /var/tmp/portage/x11-drivers/ati-drivers-8.433/work ...
 * Preparing fglrx module
make -C /usr/src/linux M=/var/tmp/portage/x11-drivers/ati-drivers-8.433/work/common/lib/modules/fglrx/build_mod/2.6.x modules
make[1]: Wejście do katalogu `/usr/src/linux-2.6.22-gentoo-r9'
  CC [M]  /var/tmp/portage/x11-drivers/ati-drivers-8.433/work/common/lib/modules/fglrx/build_mod/2.6.x/firegl_public.o
/var/tmp/portage/x11-drivers/ati-drivers-8.433/work/common/lib/modules/fglrx/build_mod/2.6.x/firegl_public.c: In function ‘__ke_request_irq’:
/var/tmp/portage/x11-drivers/ati-drivers-8.433/work/common/lib/modules/fglrx/build_mod/2.6.x/firegl_public.c:3019: warning: ‘deprecated_irq_flag’ is deprecated (declared at include/linux/interrupt.h:66)
/var/tmp/portage/x11-drivers/ati-drivers-8.433/work/common/lib/modules/fglrx/build_mod/2.6.x/firegl_public.c: At top level:
/var/tmp/portage/x11-drivers/ati-drivers-8.433/work/common/lib/modules/fglrx/build_mod/2.6.x/firegl_public.c:527: warning: ‘firegl_smp_func_parameter_wrap’ defined but not used
  LD [M]  /var/tmp/portage/x11-drivers/ati-drivers-8.433/work/common/lib/modules/fglrx/build_mod/2.6.x/fglrx.o
  Building modules, stage 2.
  MODPOST 1 modules
  CC      /var/tmp/portage/x11-drivers/ati-drivers-8.433/work/common/lib/modules/fglrx/build_mod/2.6.x/fglrx.mod.o
  LD [M]  /var/tmp/portage/x11-drivers/ati-drivers-8.433/work/common/lib/modules/fglrx/build_mod/2.6.x/fglrx.ko
make[1]: Opuszczenie katalogu `/usr/src/linux-2.6.22-gentoo-r9'
 * Building fgl_glxgears
/usr/lib/gcc/i686-pc-linux-gnu/4.2.2/../../../../i686-pc-linux-gnu/bin/ld: cannot find -lGL
collect2: ld returned 1 exit status
 *
 * ERROR: x11-drivers/ati-drivers-8.433 failed.
 * Call stack:
 *                  ebuild.sh, line 1701:  Called dyn_compile
 *                  ebuild.sh, line 1039:  Called qa_call 'src_compile'
 *                  ebuild.sh, line   44:  Called src_compile
 *   ati-drivers-8.433.ebuild, line  202:  Called die
 * The specific snippet of code:
 *      "$(tc-getCC)" -o fgl_fglxgears ${CFLAGS} ${LDFLAGS} -DUSE_GLU \
 *              -I"${S}"/common/usr/include fgl_glxgears.c \
 *              -lGL -lGLU -lX11 -lm || die "fgl_glxgears build failed"
 *  The die message:
 *   fgl_glxgears build failed
 *
 * If you need support, post the topmost build error, and the call stack if relevant.
 * A complete build log is located at '/var/tmp/portage/x11-drivers/ati-drivers-8.433/temp/build.log'.
 *


Reproducible: Always

Steps to Reproduce:
1.emerge -av ati-drivers


Actual Results:  
fgl_glxgears build failed



m1k0 ~ # emerge --info
Portage 2.1.3.19 (default-linux/x86/2007.0/desktop, gcc-4.2.2, glibc-2.6.1-r0, 2.6.22-gentoo-r9 i686)
=================================================================
System uname: 2.6.22-gentoo-r9 i686 AMD Athlon(tm) 64 Processor 3000+
Timestamp of tree: Thu, 29 Nov 2007 07:30:03 +0000
app-shells/bash:     3.2_p17
dev-java/java-config: 1.3.7, 2.0.33-r1
dev-lang/python:     2.4.4-r6
dev-python/pycrypto: 2.0.1-r6
sys-apps/baselayout: 1.12.9-r2
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.61-r1
sys-devel/automake:  1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.18-r1
sys-devel/gcc-config: 1.3.16
sys-devel/libtool:   1.5.24
virtual/os-headers:  2.6.22-r2
ACCEPT_KEYWORDS="x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=k8 -O2 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /opt/openjms/config /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/terminfo /etc/udev/rules.d"
CXXFLAGS="-march=k8 -O2 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="collision-protect distlocks metadata-transfer parallel-fetch sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LANG="pl_PL.UTF-8"
LINGUAS="pl en"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="3dnow 3dnowext 7zip X a52 aac aalib accessibility acl acpi addbookmarks admin administrator alias alsa amd amr amrnb amrr amrwb animgif apache2 arts asf audiofile automount avahi bash-completion berkdb bitmap-fonts bookmarks branding bzip2 cairo cdda cdr cdrom chm cli colordiff connectionstatus contactnotes cpudetection cracklib crypt css cups cvs dbus dict dri dts dv dvbplayer dvd dvdnav dvdr dvdread eds emboss encode evo fam fame ffmpeg firefox flac fortran ftp gdbm geoip geos gif gpm graphviz gs gstreamer gtk gtk2 hal hdri highlight history iconv imagemagick imap ipv6 irc isdnlog jabber jack jai java java5 javamail javascript jce jingle jms jmx jpeg jpeg2k kde kerberos lame lcms ldap libsamplerate lzo mad midi mikmod mjpeg mmx mmxext mng mp3 mpeg mplayer mudflap musepack ncurses nls nptl nptlonly nsplugin ogg openal openexr opengl openmp pam pango pcre pdf perl php png pnm postgis postgres pppd proj python q32 qt3 qt3support qt4 quicktime radio rar readline real reflection samba sdl session slang slp sms sndfile sound speech speex spell spl sql sqlite sqlite3 sse sse2 ssl statistics subversion svg symlink tcl tcpd teamarena test texteffect theora threads tiff timidity tk tordns translator truetype truetype-fonts type1-fonts unicode urandom v4l v4l2 vcd vidix vorbis vorbis-psy webdav win32codecs x264 x86 xanim xml xorg xv xvid yv12 zlib" ALSA_CARDS="intel8x0" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="keyboard mouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="pl en" USERLAND="GNU" VIDEO_CARDS="fglrx radeon"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LC_ALL, LDFLAGS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY




Comment 1


Jakub Moc (RETIRED)






          2007-11-30 16:33:10 UTC
        

This is NOT a Gentoo Bugzilla product bug; read the descriptions please.




Comment 2


Jakub Moc (RETIRED)






          2007-11-30 16:34:20 UTC
        

eselect opengl set xorg-x11









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

