Title: 704602 – app-accessibility/at-spi2-atk-2.32.0 - ld: atk-adaptor/5d62563@@atk-bridge-2.0@sha/accessible-leasing.c.o: in function `spi_leasing_get_type_once': accessible-leasing.c:(.text+0x40): undefined reference to `g_type_register_static_simple'
URL: https://bugs.gentoo.org/show_bug.cgi?id=704602

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 704602
app-accessibility/at-spi2-atk-2.32.0 - ld: atk-adaptor/5d62563@@atk-bridge-2.0@sha/accessible-leasing.c.o: in function `spi_leasing_get_type_once': accessible-leasing.c:(.text+0x40): undefined reference to `g_type_register_static_simple'
Last modified: 2020-07-29 02:55:18 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 704602 
      - app-accessibility/at-spi2-atk-2.32.0 - ld: atk-adaptor/5d62563@@atk-bridge-2.0@sha/accessible-leasing.c.o: in function `spi_leasing_get_type_once': accessible-leasing.c:(.text+0x40): undefined reference to `g_type_register_static_simple'


Summary:
app-accessibility/at-spi2-atk-2.32.0 - ld: atk-adaptor/5d62563@@atk-bridge-2....
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

PPC64
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Linux Gnome Desktop Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2020-01-02 19:43 UTC by ernsteiswuerfel





      Modified:
    
2020-07-29 02:55 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



sam









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge --info

              (file_704602.txt,5.85 KB,
                text/plain)

            
2020-01-02 19:43 UTC,

            ernsteiswuerfel




Details





build.log

              (at-spi2-atk-2.32.0:20200102-192022.log,122.27 KB,
                text/plain)

            
2020-01-02 19:49 UTC,

            ernsteiswuerfel




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


ernsteiswuerfel






          2020-01-02 19:43:53 UTC
        

Created attachment 602338 [details]
emerge --info

[...]
[33/74] powerpc64-unknown-linux-gnu-gcc -Iatk-adaptor/5d62563@@atk-bridge-2.0@sha -Iatk-adaptor -I../at-spi2-atk-2.32.0/atk-adaptor -I. -I../at-spi2-atk-2.32.0/ -Iatk-adaptor/adaptors -I../at-spi2-atk-2.32.0/atk-adaptor/adaptors -Idroute -I../at-spi2-atk-2.32.0/droute -I/usr/include/dbus-1.0 -I/usr/lib64/dbus-1.0/include -I/usr/include/at-spi-2.0 -I/usr/lib64/libffi-3.3_rc0/include -I/usr/include/glib-2.0 -I/usr/lib64/glib-2.0/include -I/usr/include/atk-1.0 -fdiagnostics-color=always -pipe -D_FILE_OFFSET_BITS=64 -std=c99 -D_DEFAULT_SOURCE -O2 -mcpu=970 -fPIC -pthread -MD -MQ 'atk-adaptor/5d62563@@atk-bridge-2.0@sha/spi-dbus.c.o' -MF 'atk-adaptor/5d62563@@atk-bridge-2.0@sha/spi-dbus.c.o.d' -o 'atk-adaptor/5d62563@@atk-bridge-2.0@sha/spi-dbus.c.o' -c ../at-spi2-atk-2.32.0/atk-adaptor/spi-dbus.c
[34/74] powerpc64-unknown-linux-gnu-gcc -Iatk-adaptor/5d62563@@atk-bridge@sha -Iatk-adaptor -I../at-spi2-atk-2.32.0/atk-adaptor -I. -I../at-spi2-atk-2.32.0/ -I/usr/include/dbus-1.0 -I/usr/lib64/dbus-1.0/include -I/usr/include/atk-1.0 -I/usr/lib64/libffi-3.3_rc0/include -I/usr/include/glib-2.0 -I/usr/lib64/glib-2.0/include -I/usr/include/at-spi-2.0 -fdiagnostics-color=always -pipe -D_FILE_OFFSET_BITS=64 -std=c99 -D_DEFAULT_SOURCE -O2 -mcpu=970 -fPIC -pthread -MD -MQ 'atk-adaptor/5d62563@@atk-bridge@sha/gtk-2.0_module.c.o' -MF 'atk-adaptor/5d62563@@atk-bridge@sha/gtk-2.0_module.c.o.d' -o 'atk-adaptor/5d62563@@atk-bridge@sha/gtk-2.0_module.c.o' -c ../at-spi2-atk-2.32.0/atk-adaptor/gtk-2.0/module.c
[35/74] powerpc64-unknown-linux-gnu-gcc  -o atk-adaptor/libatk-bridge-2.0.so.0.0.0 'atk-adaptor/5d62563@@atk-bridge-2.0@sha/accessible-leasing.c.o' 'atk-adaptor/5d62563@@atk-bridge-2.0@sha/accessible-cache.c.o' 'atk-adaptor/5d62563@@atk-bridge-2.0@sha/accessible-register.c.o' 'atk-adaptor/5d62563@@atk-bridge-2.0@sha/accessible-stateset.c.o' 'atk-adaptor/5d62563@@atk-bridge-2.0@sha/introspection.c.o' 'atk-adaptor/5d62563@@atk-bridge-2.0@sha/bridge.c.o' 'atk-adaptor/5d62563@@atk-bridge-2.0@sha/object.c.o' 'atk-adaptor/5d62563@@atk-bridge-2.0@sha/event.c.o' 'atk-adaptor/5d62563@@atk-bridge-2.0@sha/spi-dbus.c.o' -Wl,--no-undefined -Wl,--as-needed -shared -fPIC -Wl,--start-group -Wl,-soname,libatk-bridge-2.0.so.0 -O2 -mcpu=970 -pipe -Wl,-O1 -Wl,--as-needed -Wl,--hash-style=gnu atk-adaptor/adaptors/libatk-bridge-adaptors.a droute/libdroute.a /usr/lib64/libdbus-1.so /usr/lib64/libatspi.so /usr/lib64/libglib-2.0.so /usr/lib64/libatk-1.0.so -Wl,--export-dynamic -pthread /usr/lib64/libgmodule-2.0.so -Wl,--end-group '-Wl,-rpath,$ORIGIN/adaptors:$ORIGIN/../droute' -Wl,-rpath-link,/var/tmp/portage/app-accessibility/at-spi2-atk-2.32.0/work/at-spi2-atk-2.32.0-.ppc64/atk-adaptor/adaptors -Wl,-rpath-link,/var/tmp/portage/app-accessibility/at-spi2-atk-2.32.0/work/at-spi2-atk-2.32.0-.ppc64/droute
FAILED: atk-adaptor/libatk-bridge-2.0.so.0.0.0 
powerpc64-unknown-linux-gnu-gcc  -o atk-adaptor/libatk-bridge-2.0.so.0.0.0 'atk-adaptor/5d62563@@atk-bridge-2.0@sha/accessible-leasing.c.o' 'atk-adaptor/5d62563@@atk-bridge-2.0@sha/accessible-cache.c.o' 'atk-adaptor/5d62563@@atk-bridge-2.0@sha/accessible-register.c.o' 'atk-adaptor/5d62563@@atk-bridge-2.0@sha/accessible-stateset.c.o' 'atk-adaptor/5d62563@@atk-bridge-2.0@sha/introspection.c.o' 'atk-adaptor/5d62563@@atk-bridge-2.0@sha/bridge.c.o' 'atk-adaptor/5d62563@@atk-bridge-2.0@sha/object.c.o' 'atk-adaptor/5d62563@@atk-bridge-2.0@sha/event.c.o' 'atk-adaptor/5d62563@@atk-bridge-2.0@sha/spi-dbus.c.o' -Wl,--no-undefined -Wl,--as-needed -shared -fPIC -Wl,--start-group -Wl,-soname,libatk-bridge-2.0.so.0 -O2 -mcpu=970 -pipe -Wl,-O1 -Wl,--as-needed -Wl,--hash-style=gnu atk-adaptor/adaptors/libatk-bridge-adaptors.a droute/libdroute.a /usr/lib64/libdbus-1.so /usr/lib64/libatspi.so /usr/lib64/libglib-2.0.so /usr/lib64/libatk-1.0.so -Wl,--export-dynamic -pthread /usr/lib64/libgmodule-2.0.so -Wl,--end-group '-Wl,-rpath,$ORIGIN/adaptors:$ORIGIN/../droute' -Wl,-rpath-link,/var/tmp/portage/app-accessibility/at-spi2-atk-2.32.0/work/at-spi2-atk-2.32.0-.ppc64/atk-adaptor/adaptors -Wl,-rpath-link,/var/tmp/portage/app-accessibility/at-spi2-atk-2.32.0/work/at-spi2-atk-2.32.0-.ppc64/droute
/usr/lib/gcc/powerpc64-unknown-linux-gnu/9.2.0/../../../../powerpc64-unknown-linux-gnu/bin/ld: atk-adaptor/5d62563@@atk-bridge-2.0@sha/accessible-leasing.c.o: in function `spi_leasing_get_type_once':
accessible-leasing.c:(.text+0x40): undefined reference to `g_type_register_static_simple'
/usr/lib/gcc/powerpc64-unknown-linux-gnu/9.2.0/../../../../powerpc64-unknown-linux-gnu/bin/ld: atk-adaptor/5d62563@@atk-bridge-2.0@sha/accessible-leasing.c.o: in function `spi_leasing_class_intern_init':
accessible-leasing.c:(.text+0xd4): undefined reference to `g_type_class_peek_parent'
/usr/lib/gcc/powerpc64-unknown-linux-gnu/9.2.0/../../../../powerpc64-unknown-linux-gnu/bin/ld: accessible-leasing.c:(.text+0x100): undefined reference to `g_type_class_ref'
/usr/lib/gcc/powerpc64-unknown-linux-gnu/9.2.0/../../../../powerpc64-unknown-linux-gnu/bin/ld: accessible-leasing.c:(.text+0x148): undefined reference to `g_type_class_adjust_private_offset'
/usr/lib/gcc/powerpc64-unknown-linux-gnu/9.2.0/../../../../powerpc64-unknown-linux-gnu/bin/ld: accessible-leasing.c:(.text+0x154): undefined reference to `g_type_class_ref'
/usr/lib/gcc/powerpc64-unknown-linux-gnu/9.2.0/../../../../powerpc64-unknown-linux-gnu/bin/ld: atk-adaptor/5d62563@@atk-bridge-2.0@sha/accessible-leasing.c.o: in function `spi_leasing_dispose':
accessible-leasing.c:(.text+0x390): undefined reference to `g_type_check_instance_cast'
[...]
collect2: error: ld returned 1 exit status
ninja: build stopped: subcommand failed.
 * ERROR: app-accessibility/at-spi2-atk-2.32.0::gentoo failed (compile phase):
 *   ninja -v -j1 -l0 -C /var/tmp/portage/app-accessibility/at-spi2-atk-2.32.0/work/at-spi2-atk-2.32.0-.ppc64 failed
 * 
 * Call stack:
 *     ebuild.sh, line  125:  Called src_compile
 *   environment, line 2648:  Called multilib-minimal_src_compile
 *   environment, line 1420:  Called multilib_foreach_abi 'multilib-minimal_abi_src_compile'
 *   environment, line 1664:  Called multibuild_foreach_variant '_multilib_multibuild_wrapper' 'multilib-minimal_abi_src_compile'
 *   environment, line 1355:  Called _multibuild_run '_multilib_multibuild_wrapper' 'multilib-minimal_abi_src_compile'
 *   environment, line 1353:  Called _multilib_multibuild_wrapper 'multilib-minimal_abi_src_compile'
 *   environment, line  500:  Called multilib-minimal_abi_src_compile
 *   environment, line 1414:  Called multilib_src_compile
 *   environment, line 1884:  Called meson_src_compile
 *   environment, line 1272:  Called eninja '-C' '/var/tmp/portage/app-accessibility/at-spi2-atk-2.32.0/work/at-spi2-atk-2.32.0-.ppc64'
 *   environment, line  860:  Called die




Comment 1


ernsteiswuerfel






          2020-01-02 19:49:40 UTC
        

Created attachment 602340 [details]
build.log




Comment 2


WGH





          2020-01-16 15:35:59 UTC
        

Having exactly the same issue on amd64.




Comment 3


Samuel Bustillos Cabrera





          2020-01-17 20:41:05 UTC
        

Having the same problem on amd64




Comment 4


Mr. Marcelo Teixeira Ruggeri





          2020-02-07 11:13:38 UTC
        

still the Same on amd64




Comment 5


ernsteiswuerfel






          2020-03-03 21:10:08 UTC
        

Yesterday I un-emerged at-spi2-atk, all its' deps and all its' reverse-deps and after that rebuilt the whole stuff.

Fixed the issue for me.




Comment 6


Josef Larsson





          2020-03-31 14:53:09 UTC
        

Got a lot of linker errors too. Looked similar. Solved by downgrading dev-libs/atk to 2.32 (same version as app-accessibility/at-spi2-atk-2.32.0)









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

