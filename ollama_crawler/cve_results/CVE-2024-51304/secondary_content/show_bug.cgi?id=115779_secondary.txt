Title: 115779 – hugin-0.5 and hugin-0.5_rc2 SIGSEGV on Open or "Add Individual Images"
URL: https://bugs.gentoo.org/show_bug.cgi?id=115779

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 115779
hugin-0.5 and hugin-0.5_rc2 SIGSEGV on Open or "Add Individual Images"
Last modified: 2005-12-24 05:06:13 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 115779 
      - hugin-0.5 and hugin-0.5_rc2 SIGSEGV on Open or "Add Individual Images"


Summary:
hugin-0.5 and hugin-0.5_rc2 SIGSEGV on Open or "Add Individual Images"
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       critical
      


Assignee:

Mark Loeser (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-12-16 07:46 UTC by David Klann





      Modified:
    
2005-12-24 05:06 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



dklann









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Output of hugin run from gdb

              (hugin-trace,19.35 KB,
                text/plain)

            
2005-12-16 07:48 UTC,

            David Klann




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


David Klann





          2005-12-16 07:46:01 UTC
        

On attempting to open a file in a new project, hugin dies with a couple
assertion failures and ultimately a SIGSEGV. I've tried both the current portage
ebuild as well as the released 0.5 ebuild patch.

Reproducible: Always
Steps to Reproduce:
1. launch hugin
2. click "Close" on the "tip of the day"
3. click on either "File -> Open" or "Add Individual Images" button

Actual Results:  
hugin dies with:
** (hugin:24263): CRITICAL **: draw_shadow: assertion `height >= -1' failed

** (hugin:24263): CRITICAL **: draw_focus: assertion `width >= -1' failed
zsh: 24263 segmentation fault  hugin


Expected Results:  
should have allowed me to open an image file.

Portage 2.0.53 (default-linux/x86/2005.0, gcc-3.3.6, glibc-2.3.5-r3,
2.6.14-gentoo-r4 i686)
=================================================================
System uname: 2.6.14-gentoo-r4 i686 Intel(R) Pentium(R) 4 CPU 2.60GHz
Gentoo Base System version 1.12.0_pre11
dev-lang/python:     2.4.2
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1-r1
sys-devel/libtool:   1.5.20-r1
virtual/os-headers:  2.6.11-r3
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium4 -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env
/usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3.5/env
/usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config
/var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/texmf/web2c /etc/env.d"
CXXFLAGS="-O2 -march=pentium4 -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://gentoo.chem.wisc.edu/gentoo/"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X acl acpi adns alsa apache2 apm audiofile berkdb bitmap-fonts bonobo bzip2
cdr crypt cups curl dedicated directfb dlloader eds emacs emboss encode esd
ethereal exif expat fam fastcgi fbcon flac font-server foomaticdb fortran gd
gdbm gif gimpprint glut gmp gpm gstreamer gtk gtk2 gtkhtml guile hal idn
imagemagick imlib innodb ipv6 jack jack-tmpfs java jpeg lcms leim libg++ libwww
mad maildir mbox mmx mng mozilla mozsvg mp3 mpeg mpi mysql ncurses ogg oggvorbis
openal opengl openldap oss pam pcre pdflib perl png pnp portaudio postgres ppds
python qt readline recode ruby samba sasl sdl slp spell sqlite sse ssl svg tcltk
tcpd tetex tiff truetype truetype-fonts type1-fonts udev usb vorbis wmf x86 xine
xml xml2 xmms xv zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTDIR_OVERLAY




Comment 1


David Klann





          2005-12-16 07:48:50 UTC
        

Created attachment 74885 [details]
Output of hugin run from gdb

This is output from hugin compiled with USE=debug and FEATURES=nostrip and run
from GDB. The stack trace seems not very useful to me. Also, I compiled wxGTK
with USE=debug as well.




Comment 2


Mark Loeser (RETIRED)






          2005-12-17 23:27:18 UTC
        

I can't reproduce this.  The backtrace seems to suggest a problem in glib, have you tried recompiling that?  Looks like you are still on gcc-3.3.6, did you switch to gcc-3.4.4 and compile some things, then switch back?




Comment 3


Mark Loeser (RETIRED)






          2005-12-19 06:45:16 UTC
        

Well, this works for me.  Try the newest hugin ebuild and you may want to look at the "GCC Upgrading Guide" on the website if you used gcc-3.4 for some packages.




Comment 4


David Klann





          2005-12-24 05:06:13 UTC
        

Arrrgh! Sorry to waste a bug report on my lameness. I switched to gcc-3.4.4, recompiled wxGTK and hugin and it works fine.

Next time I'll check in the forums before filing a bug report. Thanks for all your help!










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

