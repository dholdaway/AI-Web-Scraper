Title: 87444 – mozilla-launcher 1.30 hangs when starting firefox/thunderbird/mozilla without starting anything
URL: https://bugs.gentoo.org/show_bug.cgi?id=87444

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 87444
mozilla-launcher 1.30 hangs when starting firefox/thunderbird/mozilla without starting anything
Last modified: 2005-08-03 07:27:45 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 87444 
      - mozilla-launcher 1.30 hangs when starting firefox/thunderbird/mozilla without starting anything


Summary:
mozilla-launcher 1.30 hangs when starting firefox/thunderbird/mozilla without...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Portage Development




Classification:

Unclassified




Component:

Conceptual/Abstract Ideas

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       critical
      


Assignee:

Portage team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-03-31 10:55 UTC by Paul Nel





      Modified:
    
2005-08-03 07:27 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Paul Nel





          2005-03-31 10:55:46 UTC
        

When I attempt to start any of mozilla/firefox/mozilla, nothing happens.  An instance of mozilla-launcher is started for every attmepted to start any of the above applications.  Each instance of mozilla-launcher consumes as much processing time as it can get, slowling my machine down to a snails pace.

On editing /usr/libexec/mozilla-launcher I find only the following script:

***Start of Script

#!/bin/sh
#
# Stub script to run mozilla-launcher.  We used to use a symlink here but
# OOo brokenness makes it necessary to use a stub instead:
# http://bugs.gentoo.org/show_bug.cgi?id=78890

export MOZILLA_LAUNCHER=thunderbird
exec /usr/libexec/mozilla-launcher "$@"
~

***End of Script

This does not look like the mozilla-launcher I know.

To resolve the problem, I have to emerge --unmerge mozilla-launcher and emerge -uD mozilla.  This problem started to occur after I did the following emerge -uD --newuse --world:

[ebuild   R   ] media-sound/esound-0.2.34  +alsa* +ipv6 +tcpd 0 kB
[ebuild     U ] app-arch/tar-1.15.1 [1.14] -build -debug +nls -static 1,573 kB
[ebuild   R   ] media-sound/xmms-1.2.10-r13  -3dnow +alsa* +arts -debug -directfb +esd -flac -jack -lirc +mad +mikmod -mmx +mp3 +nls +oggvorbis +oss -sndfile 0 kB
[ebuild     U ] kde-base/arts-1.3.2-r1 [1.3.2] +alsa* +arts -artswrappersuid -debug +esd -hardened -jack -kdeenablefinal +mad +oggvorbis -xinerama 0 kB
[ebuild   R   ] media-libs/libmikmod-3.1.11-r1  +alsa* -debug +esd +oss 0 kB
[ebuild     U ] media-plugins/xmms-mad-0.8 [0.7] 307 kB
[ebuild  N    ] media-plugins/xmms-alsa-1.2.10  0 kB
[ebuild   R   ] media-libs/gst-plugins-0.8.7  +alsa* -debug +esd +oss 0 kB
[ebuild  N    ] media-plugins/gst-plugins-alsa-0.8.7-r1  0 kB
[ebuild   R   ] gnome-base/control-center-2.8.1-r1  +alsa* -debug +gstreamer 0 kB
[ebuild     U ] www-client/mozilla-launcher-1.30 [1.23] 5 kB
[ebuild     U ] www-client/mozilla-1.7.6-r1 [1.7.5] +crypt -debug +gnome -java +ldap -mozdevelop -moznomail -moznoxft -mozsvg -mozxmlterm -postgres +ssl -xinerama -xprint 30,067 kB
[ebuild     U ] mail-client/mozilla-thunderbird-1.0.2 [1.0] +crypt -debug +gnome -java +ldap -moznoxft -xinerama -xprint 32,572 kB
[ebuild   R   ] media-libs/libao-0.8.5  +alsa* +arts +esd -mmap -nas -static 0 kB
[ebuild   R   ] media-libs/libsdl-1.2.7-r3  +X -aalib +alsa* +arts -debug -dga -directfb +esd -fbcon -ggi -libcaca -nas -noaudio -nojoystick -novideo +opengl +oss +svga -xinerama +xv 0 kB
[ebuild   R   ] dev-libs/pwlib-1.6.3-r3  +alsa* +esd -ieee1394 +sdl +ssl 0 kB
[ebuild     U ] www-client/mozilla-firefox-1.0.2 [1.0.1] -debug +gnome -java +ldap -mozdevelop -moznoxft -mozsvg -mozxmlterm -xinerama -xprint 31,992 kB



Reproducible: Sometimes
Steps to Reproduce:
1. run firefox
2.
3.

Actual Results:  
mozilla-launcher starts but not firefox.

Expected Results:  
launched firefox

Portage 2.0.51.19 (default-linux/x86/2004.3, gcc-3.3.5, glibc-2.3.4.20041102-r1,
2.6.9-gentoo-r1 i686)
=================================================================
System uname: 2.6.9-gentoo-r1 i686 Intel(R) Pentium(R) 4 CPU 3.00GHz
Gentoo Base System version 1.4.16
Python:              dev-lang/python-2.3.4-r1 [2.3.4 (#1, Feb 11 2005, 22:41:06)]
dev-lang/python:     2.3.4-r1
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.7.9-r1, 1.5, 1.4_p6, 1.9.4, 1.6.3, 1.8.5-r3
sys-devel/binutils:  2.15.92.0.2-r1
sys-devel/libtool:   1.5.10-r4
virtual/os-headers:  2.4.22-r1
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CFLAGS="-O2 -mcpu=i686 -fomit-frame-pointer"
CHOST="i386-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.3/env
/usr/kde/3.3/share/config /usr/kde/3.3/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config
/var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -mcpu=i686 -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig ccache distlocks sandbox sfperms"
GENTOO_MIRRORS="http://distfiles.gentoo.org
http://distro.ibiblio.org/pub/Linux/distributions/gentoo"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X alsa apm arts avi berkdb bitmap-fonts bonobo crypt cups curl emboss
encode esd fam font-server foomaticdb fortran gdbm gif gnome gpm gstreamer gtk
gtk2 gtkhtml guile imlib ipv6 jpeg ldap libg++ libwww mad mikmod motif mozilla
mp3 mpeg ncurses nls oggvorbis opengl oss pam pdflib perl png python quicktime
readline samba sdl spell ssl svga tcltk tcpd tiff truetype truetype-fonts
type1-fonts xml xml2 xmms xv zlib"
Unset:  ASFLAGS, CBUILD, CTARGET, LANG, LC_ALL, LDFLAGS, PORTDIR_OVERLAY




Comment 1


Aron Griffis (RETIRED)






          2005-04-01 14:07:02 UTC
        

Thanks for the bug report, Paul.  It appears that portage neglected to remove the existing symlink prior to installing the file.  I believe this is a bug in portage and needs to be fixed there, not in the mozilla-launcher ebuild.

Portage devs, here is what happened: Old versions of mozilla, mozilla-firefox and mozilla-thunderbird installed a symlink /usr/bin/mozilla -> /usr/libexec/mozilla-launcher (for example).  New versions of the suite install a stub script instead.  The installation of the script is done in src_install to ${D}/usr/bin, so it's up to portage to remove the existing symlink prior to installing the new file.




Comment 2


Jason Stubbs (RETIRED)






          2005-04-11 07:52:35 UTC
        

Actually, I'd say it's the responsibility of the ebuild to remove the symlink on uninstall - but then portage determines when the ebuild is uninstalled and does it wrongly for that case anyway. ;)

This bug occurred because of a change I made a fair while back. There was a bug where config-management-via-symlinks was being killed and no ._cfg000x files being created. Perhaps if symlinks are only kept within CONFIG_PROTECTed directories?




Comment 3


Jason Stubbs (RETIRED)






          2005-04-17 21:08:15 UTC
        

Will fix as per above...




Comment 4


Jason Stubbs (RETIRED)






          2005-04-18 07:28:59 UTC
        

Nope.. After looking at the code, I can see that what I was working on has nothing to do with this. I can't reproduce it either. I tried by emerge the following ebuilds, 0.1 then 0.2, but the symlink was replaced by the file and the original symlink deleted correctly. Are you able to reproduce this?

#symlink-test-0.1.ebuild
KEYWORDS="x86"
src_install() {
        mkdir -p ${D}/home/symlink-test/
        touch ${D}/home/symlink-test/dest
        ln -s dest ${D}/home/symlink-test/link
}

#symlink-test-0.2.ebuild
KEYWORDS="x86"
src_install() {
        mkdir -p ${D}/home/symlink-test/
        echo foo > ${D}/home/symlink-test/link
}





Comment 5


Paul Nel





          2005-04-21 02:22:32 UTC
        

I do not think it is a portage problem.  After install it ran fine, the problem occurrs apparently random.  It still happens but I have not been able to pinpoint the exact sequence of eventes leading to it yet.




Comment 6


augury@vampares.org





          2005-07-07 00:41:13 UTC
        

the new moz launcher installed w/ stubs for me but have this problem 
firefox seems to be stuck in a loop. 
so far ive only seen a bug report. the install segfaults/ 
 
 
 
 
 
# strace firefox 
execve("/usr/bin/firefox", ["firefox"], [/* 84 vars */]) = 0 
brk(0)                                  = 0x81bb000 
mmap2(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 
0xb7f5e000 
access("/etc/ld.so.preload", R_OK)      = -1 ENOENT (No such file or directory) 
open("/etc/ld.so.cache", O_RDONLY)      = 3 
fstat64(3, {st_mode=S_IFREG|0644, st_size=295551, ...}) = 0 
mmap2(NULL, 295551, PROT_READ, MAP_PRIVATE, 3, 0) = 0xb7f15000 
close(3)                                = 0 
open("/usr/lib/libdl.so.2", O_RDONLY)   = 3 
read(3, "\177ELF\1\1\1\0\0\0\0\0\0\0\0\0\3\0\3\0\1\0\0\0\340\v\0"..., 512) = 
512 
fstat64(3, {st_mode=S_IFREG|0755, st_size=10444, ...}) = 0 
mmap2(NULL, 12340, PROT_READ|PROT_EXEC, MAP_PRIVATE, 3, 0) = 0xb7f11000 
mmap2(0xb7f13000, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|
MAP_DENYWRITE, 3, 0x1) = 0xb7f13000 
close(3)                                = 0 
open("/lib/libc.so.6", O_RDONLY)        = 3 
read(3, "\177ELF\1\1\1\0\0\0\0\0\0\0\0\0\3\0\3\0\1\0\0\0fS\1\000"..., 512) = 
512 
fstat64(3, {st_mode=S_IFREG|0755, st_size=1890560, ...}) = 0 
mmap2(NULL, 1836252, PROT_READ|PROT_EXEC, MAP_PRIVATE, 3, 0) = 0xb7d50000 
mmap2(0xb7f0a000, 16384, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|
MAP_DENYWRITE, 3, 0x1b9) = 0xb7f0a000 
mmap2(0xb7f0e000, 9436, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|
MAP_ANONYMOUS, -1, 0) = 0xb7f0e000 
close(3)                                = 0 
mmap2(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 
0xb7d4f000 
set_thread_area({entry_number:-1 -> 6, base_addr:0xb7d4f6b0, limit:1048575, 
seg_32bit:1, contents:0, read_exec_only:0, limit_in_pages:1, seg_not_present:0, 
useable:1}) = 0 
mprotect(0xb7f0a000, 4096, PROT_READ)   = 0 
mprotect(0xb7f8c000, 4096, PROT_READ)   = 0 
munmap(0xb7f15000, 295551)              = 0 
open("/dev/urandom", O_RDONLY)          = 3 
read(3, "\373\317\315\260", 4)          = 4 
close(3)                                = 0 
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0 
open("/dev/tty", O_RDWR|O_NONBLOCK|O_LARGEFILE) = 3 
close(3)                                = 0 
brk(0)                                  = 0x81bb000 
brk(0x81dc000)                          = 0x81dc000 
getuid32()                              = 0 
getgid32()                              = 0 
geteuid32()                             = 0 
getegid32()                             = 0 
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0 
time(NULL)                              = 1120721848 
open("/etc/mtab", O_RDONLY)             = 3 
fstat64(3, {st_mode=S_IFREG|0644, st_size=474, ...}) = 0 
mmap2(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 
0xb7f5d000 
read(3, "/dev/md2 / xfs rw,noatime 0 0\npr"..., 4096) = 474 
close(3)                                = 0 
munmap(0xb7f5d000, 4096)                = 0 
open("/proc/meminfo", O_RDONLY)         = 3 
fstat64(3, {st_mode=S_IFREG|0444, st_size=0, ...}) = 0 
mmap2(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 
0xb7f5d000 
read(3, "MemTotal:      2070772 kB\nMemFre"..., 1024) = 598 
close(3)                                = 0 
munmap(0xb7f5d000, 4096)                = 0 
rt_sigaction(SIGCHLD, {SIG_DFL}, {SIG_DFL}, 8) = 0 
rt_sigaction(SIGCHLD, {SIG_DFL}, {SIG_DFL}, 8) = 0 
rt_sigaction(SIGINT, {SIG_DFL}, {SIG_DFL}, 8) = 0 
rt_sigaction(SIGINT, {SIG_DFL}, {SIG_DFL}, 8) = 0 
rt_sigaction(SIGQUIT, {SIG_DFL}, {SIG_DFL}, 8) = 0 
rt_sigaction(SIGQUIT, {SIG_DFL}, {SIG_DFL}, 8) = 0 
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0 
rt_sigaction(SIGQUIT, {SIG_IGN}, {SIG_DFL}, 8) = 0 
uname({sys="Linux", node="ribbon", ...}) = 0 
stat64("/RamTemp/a", {st_mode=S_IFDIR|0755, st_size=40, ...}) = 0 
stat64(".", {st_mode=S_IFDIR|0755, st_size=40, ...}) = 0 
getpid()                                = 1665 
getppid()                               = 1664 
getpgrp()                               = 1664 
rt_sigaction(SIGCHLD, {0x80a9ed0, [], 0}, {SIG_DFL}, 8) = 0 
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0 
open("/usr/bin/firefox", O_RDONLY|O_LARGEFILE) = 3 
ioctl(3, SNDCTL_TMR_TIMEBASE or TCGETS, 0xbfb8a45c) = -1 ENOTTY (Inappropriate 
ioctl for device) 
_llseek(3, 0, [0], SEEK_CUR)            = 0 
read(3, "#!/bin/sh\n# \n# Stub script to ru"..., 80) = 80 
_llseek(3, 0, [0], SEEK_SET)            = 0 
getrlimit(RLIMIT_NOFILE, {rlim_cur=1024, rlim_max=1024}) = 0 
dup2(3, 255)                            = 255 
close(3)                                = 0 
fcntl64(255, F_SETFD, FD_CLOEXEC)       = 0 
fcntl64(255, F_GETFL)                   = 0x8000 (flags O_RDONLY|O_LARGEFILE) 
fstat64(255, {st_mode=S_IFREG|0755, st_size=266, ...}) = 0 
_llseek(255, 0, [0], SEEK_CUR)          = 0 
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0 
read(255, "#!/bin/sh\n# \n# Stub script to ru"..., 266) = 266 
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0 
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0 
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0 
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0 
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0 
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0 
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0 
rt_sigaction(SIGINT, {SIG_DFL}, {SIG_DFL}, 8) = 0 
rt_sigaction(SIGQUIT, {SIG_DFL}, {SIG_IGN}, 8) = 0 
rt_sigaction(SIGCHLD, {SIG_DFL}, {0x80a9ed0, [], 0}, 8) = 0 
execve("/usr/libexec/mozilla-launcher", ["/usr/libexec/mozilla-launcher"], [/* 
83 vars */]) = 0 
brk(0)                                  = 0x81bb000 
mmap2(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 
0xb7f76000 
access("/etc/ld.so.preload", R_OK)      = -1 ENOENT (No such file or directory) 
open("/etc/ld.so.cache", O_RDONLY)      = 3 
fstat64(3, {st_mode=S_IFREG|0644, st_size=295551, ...}) = 0 
mmap2(NULL, 295551, PROT_READ, MAP_PRIVATE, 3, 0) = 0xb7f2d000 
close(3)                                = 0 
open("/usr/lib/libdl.so.2", O_RDONLY)   = 3 
read(3, "\177ELF\1\1\1\0\0\0\0\0\0\0\0\0\3\0\3\0\1\0\0\0\340\v\0"..., 512) = 
512 
fstat64(3, {st_mode=S_IFREG|0755, st_size=10444, ...}) = 0 
mmap2(NULL, 12340, PROT_READ|PROT_EXEC, MAP_PRIVATE, 3, 0) = 0xb7f29000 
mmap2(0xb7f2b000, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|
MAP_DENYWRITE, 3, 0x1) = 0xb7f2b000 
close(3)                                = 0 
open("/lib/libc.so.6", O_RDONLY)        = 3 
read(3, "\177ELF\1\1\1\0\0\0\0\0\0\0\0\0\3\0\3\0\1\0\0\0fS\1\000"..., 512) = 
512 
fstat64(3, {st_mode=S_IFREG|0755, st_size=1890560, ...}) = 0 
mmap2(NULL, 1836252, PROT_READ|PROT_EXEC, MAP_PRIVATE, 3, 0) = 0xb7d68000 
mmap2(0xb7f22000, 16384, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|
MAP_DENYWRITE, 3, 0x1b9) = 0xb7f22000 
mmap2(0xb7f26000, 9436, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|
MAP_ANONYMOUS, -1, 0) = 0xb7f26000 
close(3)                                = 0 
mmap2(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 
0xb7d67000 
set_thread_area({entry_number:-1 -> 6, base_addr:0xb7d676b0, limit:1048575, 
seg_32bit:1, contents:0, read_exec_only:0, limit_in_pages:1, seg_not_present:0, 
useable:1}) = 0 
mprotect(0xb7f22000, 4096, PROT_READ)   = 0 
mprotect(0xb7fa4000, 4096, PROT_READ)   = 0 
munmap(0xb7f2d000, 295551)              = 0 
open("/dev/urandom", O_RDONLY)          = 3 
read(3, "@\314\264\207", 4)             = 4 
close(3)                                = 0 
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0 
open("/dev/tty", O_RDWR|O_NONBLOCK|O_LARGEFILE) = 3 
close(3)                                = 0 
brk(0)                                  = 0x81bb000 
brk(0x81dc000)                          = 0x81dc000 
getuid32()                              = 0 
getgid32()                              = 0 
geteuid32()                             = 0 
getegid32()                             = 0 
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0 
time(NULL)                              = 1120721848 
open("/etc/mtab", O_RDONLY)             = 3 
fstat64(3, {st_mode=S_IFREG|0644, st_size=474, ...}) = 0 
mmap2(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 
0xb7f75000 
read(3, "/dev/md2 / xfs rw,noatime 0 0\npr"..., 4096) = 474 
close(3)                                = 0 
munmap(0xb7f75000, 4096)                = 0 
open("/proc/meminfo", O_RDONLY)         = 3 
fstat64(3, {st_mode=S_IFREG|0444, st_size=0, ...}) = 0 
mmap2(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 
0xb7f75000 
read(3, "MemTotal:      2070772 kB\nMemFre"..., 1024) = 598 
close(3)                                = 0 
munmap(0xb7f75000, 4096)                = 0 
rt_sigaction(SIGCHLD, {SIG_DFL}, {SIG_DFL}, 8) = 0 
rt_sigaction(SIGCHLD, {SIG_DFL}, {SIG_DFL}, 8) = 0 
rt_sigaction(SIGINT, {SIG_DFL}, {SIG_DFL}, 8) = 0 
rt_sigaction(SIGINT, {SIG_DFL}, {SIG_DFL}, 8) = 0 
rt_sigaction(SIGQUIT, {SIG_DFL}, {SIG_DFL}, 8) = 0 
rt_sigaction(SIGQUIT, {SIG_DFL}, {SIG_DFL}, 8) = 0 
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0 
rt_sigaction(SIGQUIT, {SIG_IGN}, {SIG_DFL}, 8) = 0 
uname({sys="Linux", node="ribbon", ...}) = 0 
stat64("/RamTemp/a", {st_mode=S_IFDIR|0755, st_size=40, ...}) = 0 
stat64(".", {st_mode=S_IFDIR|0755, st_size=40, ...}) = 0 
getpid()                                = 1665 
getppid()                               = 1664 
getpgrp()                               = 1664 
rt_sigaction(SIGCHLD, {0x80a9ed0, [], 0}, {SIG_DFL}, 8) = 0 
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0 
open("/usr/libexec/mozilla-launcher", O_RDONLY|O_LARGEFILE) = 3 
ioctl(3, SNDCTL_TMR_TIMEBASE or TCGETS, 0xbfaa252c) = -1 ENOTTY (Inappropriate 
ioctl for device) 
_llseek(3, 0, [0], SEEK_CUR)            = 0 
read(3, "#!/bin/sh\n# \n# Stub script to ru"..., 80) = 80 
_llseek(3, 0, [0], SEEK_SET)            = 0 
getrlimit(RLIMIT_NOFILE, {rlim_cur=1024, rlim_max=1024}) = 0 
dup2(3, 255)                            = 255 
close(3)                                = 0 
fcntl64(255, F_SETFD, FD_CLOEXEC)       = 0 
fcntl64(255, F_GETFL)                   = 0x8000 (flags O_RDONLY|O_LARGEFILE) 
fstat64(255, {st_mode=S_IFREG|0755, st_size=266, ...}) = 0 
_llseek(255, 0, [0], SEEK_CUR)          = 0 
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0 
read(255, "#!/bin/sh\n# \n# Stub script to ru"..., 266) = 266 
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0 
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0 
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0 
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0 
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0 
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0 
rt_sigprocmask(SIG_BLOCK, NULL, [], 8)  = 0 
rt_sigaction(SIGINT, {SIG_DFL}, {SIG_DFL}, 8) = 0 
rt_sigaction(SIGQUIT, {SIG_DFL}, {SIG_IGN}, 8) = 0 
rt_sigaction(SIGCHLD, {SIG_DFL}, {0x80a9ed0, [], 0}, 8) = 0 
execve("/usr/libexec/mozilla-launcher", ["/usr/libexec/mozilla-launcher"], [/* 
83 vars */]) = 0 
brk(0)                                  = 0x81bb000 
 




Comment 7


Jory A. Pratt





          2005-07-20 22:18:04 UTC
        

Is this still an issue or can we go ahead and close?




Comment 8


Paul Nel





          2005-07-21 10:45:10 UTC
        

This is still an issue.  I have to run a script that unmerges mozilla-launcher
and I do not consider it fixed.




Comment 9


Alec Warner (RETIRED)








          2005-07-28 19:59:06 UTC
        

(In reply to comment #8)
> This is still an issue.  I have to run a script that unmerges mozilla-launcher
> and I do not consider it fixed.

Have you tried emerging the test ebuilds that jstubbs used as examples in 
comment #4?
Have you tried upgrading to the latest portage? ( Portage 2.0.51.22-r2 on x86 )
Are there odd permissions on /usr/libexec/mozilla-launcher ( chattr +i for some 
crazy reason? )
When you go to upgrade mozilla-launcher do you get errors when portage attempts 
to write over that file?

It will be difficult to pinpoint the root of the problem if we can't get more 
information.





Comment 10


Aron Griffis (RETIRED)






          2005-08-03 07:27:45 UTC
        

(In reply to comment #5)
> I do not think it is a portage problem.  After install it ran fine, 
> the problem occurrs apparently random.  It still happens but I have 
> not been able to pinpoint the exact sequence of eventes leading to it yet.

I'm not sure how you can make the statement that it isn't a portage problem. 
What leads you to believe that?

I'm closing this bug for now because (1) nobody else is seeing this problem, (2)
we don't have any evidence that this occurs on current versions of the packages
for you.  If the problem recurs, then please re-open this bug along with your
current emerge --info, mozilla-launcher and browser versions, and the log of the
installation.











Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

