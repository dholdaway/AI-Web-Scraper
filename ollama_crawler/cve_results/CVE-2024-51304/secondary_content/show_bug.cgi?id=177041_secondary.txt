Title: 177041 – media-video/mplayer-1.0.20070321 fails to compile with ivtv
URL: https://bugs.gentoo.org/show_bug.cgi?id=177041

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 177041
media-video/mplayer-1.0.20070321 fails to compile with ivtv
Last modified: 2007-06-11 09:59:06 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 177041 
      - media-video/mplayer-1.0.20070321 fails to compile with ivtv


Summary:
media-video/mplayer-1.0.20070321 fails to compile with ivtv
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

Other
        Linux
      







Importance:
      
High
       major
      


Assignee:

Gentoo Media-video project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-05-04 14:53 UTC by matthew kelcey





      Modified:
    
2007-06-11 09:59 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



sgreene59









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


matthew kelcey





          2007-05-04 14:53:21 UTC
        

updating mplayer from 1.0rc1-4.1.1 to mplayer-1.0.20070321 [1.0_rc1-r2] with ivtv and getting compile error

vo_ivtv.c: In function 'ivtv_reset':
vo_ivtv.c:84: error: 'IVTV_STOP_FL_HIDE_FRAME' undeclared (first use in this function)
vo_ivtv.c:84: error: (Each undeclared identifier is reported only once
vo_ivtv.c:84: error: for each function it appears in.)
vo_ivtv.c:85: error: 'struct ivtv_cfg_stop_decode' has no member named 'flags'
make[1]: *** [vo_ivtv.o] Error 1
make[1]: Leaving directory `/var/tmp/portage/media-video/mplayer-1.0.20070321/work/mplayer/libvo'
make: *** [libvo/libvo.a] Error 2

!!! ERROR: media-video/mplayer-1.0.20070321 failed.
Call stack:
  ebuild.sh, line 1614:   Called dyn_compile
  ebuild.sh, line 971:   Called qa_call 'src_compile'
  environment, line 3293:   Called src_compile
  mplayer-1.0.20070321.ebuild, line 452:   Called die



Reproducible: Always

Steps to Reproduce:
1. emerge mplayer with ivtv

see additional info for all use flags
Actual Results:  
compilation failure as above

Expected Results:  
compiled

see also
http://readlist.com/lists/mplayerhq.hu/mplayer-users/1/7770.html

newt linux # emerge --info
Portage 2.1.2.2 (default-linux/x86/2006.1, gcc-4.1.1, glibc-2.4-r3, 2.6.19-gentoo-r5-matpalm20070428c i686)
=================================================================
System uname: 2.6.19-gentoo-r5-matpalm20070428c i686 VIA Nehemiah
Gentoo Base System release 1.12.9
Timestamp of tree: Thu, 03 May 2007 08:50:01 +0000
dev-lang/python:     2.4.3-r1
dev-python/pycrypto: 2.0.1-r5
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.61
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.13-r3
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.17-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i586-pc-linux-gnu"
CFLAGS="-Os -march=c3 -m3dnow -pipe -fomit-frame-pointer"
CHOST="i586-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/X11/xkb"
CONFIG_PROTECT_MASK="/etc/env.d /etc/gconf /etc/terminfo"
CXXFLAGS="-Os -march=c3 -m3dnow -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://public.planetmirror.com/pub/gentoo http://mirror.pacific.net.au/linux/Gentoo "
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.au.gentoo.org/gentoo-portage"
USE="aac acpi alsa berkdb bitmap-fonts cli cracklib crypt cups dri dvb dvd ffmpeg flac fortran gdbm gpm iconv ipod ipv6 isdnlog ivtv libg++ lirc midi mp3 mpeg mplayer mysql ncurses nls nptl nptlonly ogg pam pcre perl ppds pppd python readline reflection session spl ssl tcpd truetype-fonts type1-fonts unicode via vorbis x86 xorg xvmc zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1 emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" ELIBC="glibc" INPUT_DEVICES="keyboard" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LIRC_DEVICES="hauppauge" USERLAND="GNU" VIDEO_CARDS="via"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGUAS, MAKEOPTS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY




Comment 1


Steve Greene





          2007-05-05 02:13:36 UTC
        

Similar call stack here, different environment line.

ar: creating libmpcodecs.a
true libmpcodecs.a
ar r libmpencoders.a ae.o ae_pcm.o ve.o ve_raw.o ae_lavc.o ve_lavc.o ve_libdv.o ve_xvid4.o ae_faac.o ae_lame.o
ar: creating libmpencoders.a
true libmpencoders.a
make[1]: Leaving directory `/var/tmp/portage/media-video/mplayer-1.0.20070321/work/mplayer/libmpcodecs'

!!! ERROR: media-video/mplayer-1.0.20070321 failed.
Call stack:
  ebuild.sh, line 1614:   Called dyn_compile
  ebuild.sh, line 971:   Called qa_call 'src_compile'
  environment, line 3358:   Called src_compile
  mplayer-1.0.20070321.ebuild, line 452:   Called die
sgreene@localhost ~ $ sudo emerge --info
Portage 2.1.2.2 (default-linux/amd64/2006.1, gcc-4.1.1, glibc-2.5-r0, 2.6.19-gentoo-r5 x86_64)
=================================================================
System uname: 2.6.19-gentoo-r5 x86_64 AMD Athlon(tm) 64 X2 Dual Core Processor 3800+
Gentoo Base System release 1.12.9
Timestamp of tree: Fri, 04 May 2007 19:50:01 +0000
dev-lang/python:     2.4.3-r4
dev-python/pycrypto: 2.0.1-r5
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.61
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.15-r1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.17-r2
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O3 -pipe -msse3 -march=athlon64 -fomit-frame-pointer"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/gconf /etc/php/apache1-php5/ext-active/ /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/splash /etc/terminfo"
CXXFLAGS="-O3 -pipe -msse3 -march=athlon64 -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="ccache distcc distlocks metadata-transfer sfperms strict userpriv"
GENTOO_MIRRORS="http://mirror.datapipe.net/gentoo http://mirror.datapipe.net/gentoo ftp://ftp.ndlug.nd.edu/pub/gentoo/ ftp://sunsite.informatik.rwth-aachen.de/pub/Linux/gentoo ftp://ftp.wh2.tu-dresden.de/pub/mirrors/gentoo"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.namerica.gentoo.org/gentoo-portage"
USE="X a52 aac acpi acpi4linux alsa amd64 apache2 apm asf audiofile bonobo branding bzip2 ccache cdaudio cdda cddb cdparanoia cdr cdrom cgi clamav cli cracklib crypt css cups dbus devfs dga divx divx4linux dri dts dv dvb dvd dvdr dvdread enca encode evolution exif extrafilters fame fbcon ffmpeg fftw firefox flac fluidsynth foomaticdb fortran fping freetype fs gdbm gif gimp gimpprint gmedia gmp gpm gstreamer gtk gtk2 hal iconv ieee1394 imlib2 ipv6 isdnlog ivtv javascript jikes jpeg jpeg2k kerberos ladcca lame lcms libg++ libsamplerate lirc lm_sensors mad mcal mdb midi mime mjpeg mng mouse mozbranding mp3 mp4 mp4live mpeg mpeg2 mpeg4 mplayer msdav mysql mythtv ncurses network nforce2 nls nptl nptlonly nsplugin nvidia ogg opengl openssh oss pam pcre pda perl player pmu png ppds pppd python qt3 quicktime readline realmedia rss session sndfile sox speedo spl ssl streamzap tcpd theora threads tiff timidity transcode truetype truetype-fonts type1 type1-fonts unicode v4l v4l2 vcd vcdimager virus-scan vorbis wma wmf wmp wolk-supermount xanim xine xinerama xml xorg xrandr xscreensaver xv xvid xvmc zip zlib" ALSA_CARDS="via82xx" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" ELIBC="glibc" INPUT_DEVICES="keyboard mouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LIRC_DEVICES="streamzap" USERLAND="GNU" VIDEO_CARDS="nvidia nv vesa fbdev"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS






Comment 2


Steve Dibb (RETIRED)






          2007-05-16 03:08:32 UTC
        

It wont even compile unless youre using linux-headers-2.6.18




Comment 3


Steve Dibb (RETIRED)






          2007-05-16 03:09:07 UTC
        

(In reply to comment #2)
> It wont even compile unless youre using linux-headers-2.6.18
> 

doh, scratch that, I'm thinking of pvr.




Comment 4


Steve Greene





          2007-05-29 17:34:23 UTC
        

RESOLVED here by emerging media-tv/ivtv-0.10.1.ebuild.




Comment 5


matthew kelcey





          2007-06-11 09:59:06 UTC
        

with new version of ivtv (0.10.1-r1) can now compile 1.0.20070321 









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

