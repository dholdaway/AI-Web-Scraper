Title: 95971 – dev-libs/gmp cannot exec stack on ppc kurobox
URL: https://bugs.gentoo.org/show_bug.cgi?id=95971

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 95971
dev-libs/gmp cannot exec stack on ppc kurobox
Last modified: 2005-09-28 21:30:51 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 95971 
      - dev-libs/gmp cannot exec stack on ppc kurobox


Summary:
dev-libs/gmp cannot exec stack on ppc kurobox
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Library

  (show other bugs)



Hardware:

PPC
        Linux
      







Importance:
      
High
       blocker
      


Assignee:

PPC Porters








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-06-13 06:10 UTC by Martin Polak





      Modified:
    
2005-09-28 21:30 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Martin Polak





          2005-06-13 06:10:15 UTC
        

on gentoo/kurobox the gmp-4.1.4.ebuild lead to not loadables .so's
 error while loading shared libraries: libgmp.so.3: cannot enable executable
stack as shared object requires: (e.g. when trying to launch clamd)

I could fix it by adding:

use ppc && append-ldflags "-Wl,-z -Wl,noexecstack"

to the
src_compile() - Section

Reproducible: Always
Steps to Reproduce:
1.emerge clamav
2.try to run it
3.




Comment 1


Joe Jezak (RETIRED)






          2005-07-02 11:38:12 UTC
        

Can you post your emerge info please?




Comment 2


Martin Polak





          2005-07-07 00:28:58 UTC
        

sorry for the delay, emerge info is:

Portage 2.0.51.19 (!/usr/local/portage/kurobox/profiles/kurobox-0.1, gcc-3.4.4,
glibc-2.3.4.20041102-r1, 2.4.17_kuro-box ppc)
=================================================================
System uname: 2.4.17_kuro-box ppc 82xx
Gentoo Base System version 1.4.16
Python:              dev-lang/python-2.3.5 [2.3.5 (#1, Jun 11 2005, 02:57:57)]
distcc 2.16 powerpc-unknown-linux-gnu (protocols 1 and 2) (default port 3632)
[enabled]
dev-lang/python:     2.3.5
sys-apps/sandbox:    [Not Present]
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.5, 1.8.5-r3, 1.6.3, 1.7.9-r1, 1.4_p6, 1.9.5
sys-devel/binutils:  2.15.90.0.3-r5
sys-devel/libtool:   1.5.16
virtual/os-headers:  2.4.17
ACCEPT_KEYWORDS="ppc"
AUTOCLEAN="yes"
CFLAGS="-O2 -mcpu=603e -fno-strict-aliasing -pipe"
CHOST="powerpc-unknown-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config
/usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -mcpu=603e -fno-strict-aliasing -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs ccache distcc distlocks"
GENTOO_MIRRORS="http://gentoo.inode.at/ http://gentoo.mirror.sdv.fr/"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage/kurobox"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="apache2 berkdb cjk crypt flac foomaticdb gdbm gif imap jpeg kuro libwww
maildir mailwrapper mysql ncurses nls oggvorbis pam perl php png ppc ppds python
readline samba sasl slang ssl tcpd unicode zlib"
Unset:  ASFLAGS, CBUILD, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS




Comment 3


Joe Jezak (RETIRED)






          2005-09-28 21:30:51 UTC
        

I can't reproduce this on any of my machines.  Could you try with glibc-2.3.5
and reopen the bug if it's still a problem?

Thanks!









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

