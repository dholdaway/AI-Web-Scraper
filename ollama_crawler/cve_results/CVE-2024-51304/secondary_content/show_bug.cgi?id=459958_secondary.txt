Title: 459958 – media-gfx/shotwell-0.13.1-r2 segfaults with installed media-plugins/gst-plugins-libav-1.1.0_pre20130128
URL: https://bugs.gentoo.org/show_bug.cgi?id=459958

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 459958
media-gfx/shotwell-0.13.1-r2 segfaults with installed media-plugins/gst-plugins-libav-1.1.0_pre20130128
Last modified: 2013-04-02 06:17:22 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 459958 
      - media-gfx/shotwell-0.13.1-r2 segfaults with installed media-plugins/gst-plugins-libav-1.1.0_pre20130128


Summary:
media-gfx/shotwell-0.13.1-r2 segfaults with installed media-plugins/gst-plugi...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Markos Chandras (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2013-03-02 10:52 UTC by Account removed





      Modified:
    
2013-04-02 06:17 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



graphics+disabled
jlec









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




shotwell gdb backtrace

              (shotwell-gdb.log,4.26 KB,
                text/plain)

            
2013-03-05 16:51 UTC,

            Account removed




Details





shotwell log

              (shotwell.log,3.58 KB,
                text/plain)

            
2013-03-05 16:52 UTC,

            Account removed




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Account removed





          2013-03-02 10:52:56 UTC
        

shotwell-0.13.1-r2 segfaults with installed gst-plugins-libav-1.1.0_pre20130128
after opening the picture db on (~amd64)
unmerging gst-plugins-libav-1.1.0_pre20130128 fixes this problem.

Reproducible: Always

Steps to Reproduce:
1. start shotwell-0.13.1-r2 with installed media-plugins/gst-plugins-libav-1.1.0_pre20130128 (an existing picture db probably has to exist)


Actual Results:  
shotwell segfaults after opening the db.
if you unmerge media-plugins/gst-plugins-libav-1.1.0_pre20130128
shotwell works as it should.
To workaround this issue I added a 
=media-plugins/gst-plugins-meta-1.0-r1 -ffmpeg
to my package.use/
to prevent gst-plugins-libav-1.1.0_pre20130128 from being pulled in again




Comment 1


Justin Lecher (RETIRED)






          2013-03-05 15:48:52 UTC
        

Could you please try to get some meaningfull backtrace (http://www.gentoo.org/proj/en/qa/backtraces.xml)?

And could you please run 

SHOTWELL_LOG=1 shotwell from a terminal and attach ~/.cache/shotwell/shotwell.log




Comment 2


Account removed





          2013-03-05 16:51:48 UTC
        

Created attachment 341022 [details]
shotwell gdb backtrace

thx for interest.
gdb backtrace with debugging symbols in
media-video/ffmpeg-1.0.5
media-gfx/shotwell-0.13.1-r2
media-plugins/gst-plugins-libav-1.1.0_pre20130128




Comment 3


Account removed





          2013-03-05 16:52:15 UTC
        

Created attachment 341024 [details]
shotwell log

and the log




Comment 4


Justin Lecher (RETIRED)






          2013-03-06 08:40:16 UTC
        

What happens if media-plugins/gst-plugins-ffmpeg is installed?




Comment 5


Account removed





          2013-03-06 18:32:15 UTC
        

(In reply to comment #4)
> What happens if media-plugins/gst-plugins-ffmpeg is installed?

It is already installed. Uninstalling it doesn't fix the problem.
gst-plugins-ffmpeg is for gstreamer-0.10 though and gst-plugins-libav is for gstreamer-1.0.




Comment 6


Account removed





          2013-03-19 16:11:20 UTC
        

fyi:
still an issue with 
=gst-plugins-libav-1.1.0_pre20130128
and
=media-gfx/shotwell-0.14.0




Comment 7


Account removed





          2013-04-01 19:44:01 UTC
        

with todays gstreamer updates (no idea which one fixed it, maybe 
media-libs/gstreamer-1.0.6 or media-libs/gst-plugins-base-1.0.6 or whatever)
this is no longer an issue and (my) shotwell (db) works with
media-plugins/gst-plugins-libav-1.1.0_pre20130128 installed.
I guess this bug can be closed then...




Comment 8


Justin Lecher (RETIRED)






          2013-04-02 06:17:22 UTC
        

OKay, thanks for testing. Please reopen if it appears again.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

