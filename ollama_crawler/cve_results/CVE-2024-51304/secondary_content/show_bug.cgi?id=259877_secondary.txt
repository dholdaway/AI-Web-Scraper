Title: 259877 – app-text/hyperestraier-1.4.13 fails to build
URL: https://bugs.gentoo.org/show_bug.cgi?id=259877

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 259877
app-text/hyperestraier-1.4.13 fails to build
Last modified: 2014-06-17 00:31:44 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 259877 
      - app-text/hyperestraier-1.4.13 fails to build


Summary:
app-text/hyperestraier-1.4.13 fails to build
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Unspecified

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Akinori Hattori








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-02-22 09:01 UTC by renato gallo





      Modified:
    
2014-06-17 00:31 UTC
      (History)
    




          CC List:
        

4 
          users
          
            (show)
          



berto.d.sera
cjk
redhatter
treecleaner









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build log

              (build.log,22.37 KB,
                text/plain)

            
2009-02-22 09:02 UTC,

            renato gallo




Details





eclass debug log

              (eclass-debug.log,2.20 KB,
                text/plain)

            
2009-02-22 09:03 UTC,

            renato gallo




Details





environment

              (environment,152.03 KB,
                text/plain)

            
2009-02-22 09:03 UTC,

            renato gallo




Details





Patch for newer ruby

              (hyperestraier-ruby191.patch,1.53 KB,
                patch)

            
2014-06-14 20:18 UTC,

            Jeremy Stent




Details
            | Diff





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


renato gallo





          2009-02-22 09:01:38 UTC
        

/usr/lib64/libqdbm.a(myconf.o): In function `_qdbm_gettsd':                                  
(.text+0xe64): undefined reference to `pthread_getspecific'                                  
/usr/lib64/libqdbm.a(myconf.o): In function `_qdbm_gettsd':                                  
(.text+0xe99): undefined reference to `pthread_setspecific'                                  
/usr/lib64/libqdbm.a(myconf.o): In function `_qdbm_settsd':                                  
(.text+0xf0a): undefined reference to `pthread_mutex_lock'                                   
/usr/lib64/libqdbm.a(myconf.o): In function `_qdbm_settsd':                                  
(.text+0xf31): undefined reference to `pthread_mutex_unlock'                                 
/usr/lib64/libqdbm.a(myconf.o): In function `_qdbm_settsd':                                  
(.text+0xf6c): undefined reference to `pthread_key_create'                                   
/usr/lib64/libqdbm.a(myconf.o): In function `_qdbm_settsd':                                  
(.text+0xfa6): undefined reference to `pthread_setspecific'                                  
/usr/lib64/libqdbm.a(myconf.o): In function `_qdbm_settsd':                                  
(.text+0xfbb): undefined reference to `pthread_mutex_unlock'                                 
/usr/lib64/libqdbm.a(myconf.o): In function `_qdbm_settsd':                                  
(.text+0xfdd): undefined reference to `pthread_key_delete'                                   
/usr/lib64/libqdbm.a(myconf.o): In function `_qdbm_settsd':                                  
(.text+0xfe9): undefined reference to `pthread_mutex_unlock'                                 
/usr/lib64/libqdbm.a(myconf.o): In function `_qdbm_settsd':                                  
(.text+0x1002): undefined reference to `pthread_key_delete'                                  
/usr/lib64/libqdbm.a(myconf.o): In function `_qdbm_settsd':                                  
(.text+0x100e): undefined reference to `pthread_mutex_unlock'                                
/usr/lib/gcc/x86_64-pc-linux-gnu/4.3.3/libgcc_eh.a(unwind-dw2-fde-glibc.o): In function `__register_frame_info_bases':                                                                    
(.text+0x42): undefined reference to `pthread_mutex_lock'                                    
/usr/lib/gcc/x86_64-pc-linux-gnu/4.3.3/libgcc_eh.a(unwind-dw2-fde-glibc.o): In function `__register_frame_info_table_bases':                                                              
(.text+0xbd): undefined reference to `pthread_mutex_lock'                                    
/usr/lib/gcc/x86_64-pc-linux-gnu/4.3.3/libgcc_eh.a(unwind-dw2-fde-glibc.o): In function `_Unwind_Find_FDE':                                                                               
(.text+0x157d): undefined reference to `pthread_mutex_lock'                                  
/usr/lib/gcc/x86_64-pc-linux-gnu/4.3.3/libgcc_eh.a(unwind-dw2-fde-glibc.o): In function `_Unwind_Find_FDE':                                                                               
(.text+0x15d1): undefined reference to `pthread_mutex_unlock'                                
/usr/lib/gcc/x86_64-pc-linux-gnu/4.3.3/libgcc_eh.a(unwind-dw2-fde-glibc.o): In function `__deregister_frame_info_bases':                                                                  
(.text+0x177c): undefined reference to `pthread_mutex_lock'                                  
/usr/lib/gcc/x86_64-pc-linux-gnu/4.3.3/libgcc_eh.a(unwind-dw2-fde-glibc.o): In function `__deregister_frame_info_bases':                                                                  
(.text+0x1800): undefined reference to `pthread_mutex_unlock'                                
/usr/lib/gcc/x86_64-pc-linux-gnu/4.3.3/libgcc_eh.a(unwind-dw2-fde-glibc.o): In function `__register_frame_info_bases':                                                                    
(.text+0x61): undefined reference to `pthread_mutex_unlock'                                  
/usr/lib/gcc/x86_64-pc-linux-gnu/4.3.3/libgcc_eh.a(unwind-dw2-fde-glibc.o): In function `__register_frame_info_table_bases':                                                              
(.text+0xdc): undefined reference to `pthread_mutex_unlock'                                  
collect2: ld returned 1 exit status                                                          
make: *** [estcmd] Error 1                                                                   
make: *** Waiting for unfinished jobs....                                                    
./libestraier.a(estnode.o): In function `est_gethostaddrbyname':                             
/var/tmp/portage/app-text/hyperestraier-1.4.13/work/hyperestraier-1.4.13/estnode.c:1735: warning: Using 'gethostbyname_r' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking                                           
./libestraier.a(estnode.o): In function `est_gethostaddrbyname':                             
/var/tmp/portage/app-text/hyperestraier-1.4.13/work/hyperestraier-1.4.13/estnode.c:1735: warning: Using 'gethostbyname_r' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking 

Reproducible: Always

Steps to Reproduce:
1.emerge app-text/hyperestraier-1.4.13


Actual Results:  
it fails to build

Expected Results:  
I would like it to build smoothly

emerge --info
Portage 2.1.6.7 (default/linux/amd64/2008.0, gcc-4.3.3, glibc-2.9_p20081201-r2, 2.6.28.7 x86_64)                                                                                          
=================================================================                            
System uname: Linux-2.6.28.7-x86_64-Intel-R-_Core-TM-2_Quad_CPU_Q6600_@_2.40GHz-with-glibc2.2.5                                                                                           
Timestamp of tree: Sat, 21 Feb 2009 21:45:01 +0000                                           
app-shells/bash:     3.2_p48-r1                                                              
dev-java/java-config: 1.3.7-r1, 2.1.7                                                        
dev-lang/python:     2.4.4-r13, 2.5.4-r2                                                     
dev-python/pycrypto: 2.0.1-r6                                                                
dev-util/cmake:      2.6.2-r1                                                                
sys-apps/baselayout: 2.0.0                                                                   
sys-apps/openrc:     0.4.3-r1                                                                
sys-apps/sandbox:    1.3.8                                                                   
sys-devel/autoconf:  2.13, 2.63                                                              
sys-devel/automake:  1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.2                               
sys-devel/binutils:  2.19.1                                                                  
sys-devel/gcc-config: 1.4.1                                                                  
sys-devel/libtool:   2.2.6a                                                                  
virtual/os-headers:  2.6.28-r1                                                               
ACCEPT_KEYWORDS="amd64 ~amd64"                                                               
CBUILD="x86_64-pc-linux-gnu"                                                                 
CFLAGS="-march=nocona -O2 -pipe"                                                             
CHOST="x86_64-pc-linux-gnu"                                                                  
CONFIG_PROTECT="/etc /opt/openjms/config /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/config"                                                              
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/eselect/postgresql /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/splash /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c /etc/udev/rules.d"                                                   
CXXFLAGS="-march=nocona -O2 -pipe"                                                           
DISTDIR="/usr/portage/distfiles"                                                             
FEATURES="distlocks fixpackages parallel-fetch protect-owned sandbox sfperms strict unmerge-orphans userfetch"                                                                            
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"                                                                                     
LANG="it_IT.UTF-8"                                                                           
LDFLAGS="-Wl,-O1"                                                                            
LINGUAS="it en"                                                                              
MAKEOPTS="-j5"                                                                               
PKGDIR="/usr/portage/packages"                                                               
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"                                                                                         
PORTAGE_TMPDIR="/var/tmp"                                                                    
PORTDIR="/usr/portage"                                                                       
PORTDIR_OVERLAY="/usr/local/portage/layman/wschlich-testing /usr/local/portage/layman/sunrise"                                                                                            
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"                                        
USE="2dnow 3dnowext 7zip X Xaw3d a52 aac aalib accessibility acl acpi ada addbookmarks akode alias alsa amd64 amr amrb applet aqua_theme ares arts artswrappersuid artworkextra athena autoipd automount autoreplace avahi bash-completion beagle belagle berkdb bidi bl bluetooth bookmarks branding bzip2 cairo carbone_theme cdda cddb cdio cdparanoia cdr chm cisco clamavfontconfig cli connectionstatus contactnotes cpudetection cracklib crypt cscope cups cupsddk curl dbus debug device-mapper dga digitalradio directfb disk-partition diskio djvu dmx dnd doc dri dts dv dvb dvd dvdr dvi eds elf emacs emacx enca encode eolconv epiphany esd exif expat extensible fam fasttrack fax fbcon fbcondecor ffmpeg filepicker firefox flac fltk foomaticdb fortran freetts freewnn ftp gadu galago gd gdbm gedit ggi gif gimp glib glitz gnokii gnome gnome-keyring gnomecd gnutella gnutls google-gadgets gpg gphoto2 gpm graphwiz groupwise gsf gstreamer gtk gtkhtml guile gz gzip-el hal hdri hesiod hfs highlight history hotplug howl-compat hybrid-auth iceweasel iconv ieee1394 imagemagick imlib inotify inquisitio iproute2 ipv6 irc irda irmc isdnlog jack jadetex jai java java5 javamail javascript jbig jce jingle jmf jms jmx joystick jpeg jpeg2k kde kdrive kerberos ladspa lame laptop latex lcms ldap legacyssl libcaca libffi libnotify libsamplerate lirc live lm_sensors logitech-mouse lua lzma lzo mad mbrola md5sum mdnsresponder-compat mfd-rewrites midi mmap mmx mng mono motif mozdevelop mp2 mp3 mpeg mudflap mule multilib musepack mysql mythtv nas nautilus ncurses neXt nemesi netmeeting network networking networkmanager new-login nls nntp nowlistening npp nptl nptlonly nsplugin odbc odk offensive ogg openal openexr openft opengl openmp opensslcrypt oracle pam passwordsave pch pcre pda pdf perl phonon php pink pkcs11 png pnm pop portage povray ppds pppd pulseaudio python python-bindings q32 q8 qa qt3 qt3support qt4 quicktime radio rar rdesktop readline reflection remote resolvconf rpm rtc ruby ruby-bindings samba sametime sasl savedconfig scanner schedule script sdl seamonkey sendmail session slang slp smp sms smux snmp socks5 sound speex spell spl srt sse sse2 ssl ssse3 startup-notification statistics suid svg swat sysfs syslog t1libtcl tcpd teletext test tetex texteffect tga theora tiff tk toolkit-scroll-bars tools trackertranslator truetype tseng unicode usb v4l v4l2 vcd vim-pager vim-syntax vim-with-x visibility vorbis wavpack webinterface webkit webpresence wifi winpopup wlm wmf x264 xanim xattr xcb xcomposite xemacs xext xface xforms xft xim xine xinerama xinetd xml xorg xscreensaver xulrunner xv xvid xvmc yahoo zeroconf zlib zoran zsh-completion zvbi" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloatlinear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CAMERAS="adc65 agfa_cl20 aox barbie canon casio_qv clicksmart310 digigr8 digita dimagev dimera3500 directory enigma13 fuji gsmart300 hp215 iclick jamcamjd11 kodak_dc120 kodak_dc210 kodak_dc240 kodak_dc3200 kodak_ez200 konica konica_qm150 larganlg_gsm mars mustek panasonic_coolshot panasonic_dc1000 panasonic_dc1580 panasonic_l859 pccam300 pccam600 polaroid_pdc320 polaroid_pdc640 polaroid_pdc700 ptp2 ricoh ricoh_g3 samsung sierra sipix_blink sipix_blink2 sipix_web2 smal sonix sony_dscf1 sony_dscf55 soundvision spca50x sq905 stv0674 stv0680 sx330z template toshiba_pdrm11" DVB_CARDS="tda1004x" ELIBC="glibc" INPUT_DEVICES="evdev keyboard mouse acecad aiptek digitaledge elographics fpit hyperpen jamstudiojoystick magellan mutouch palmax spaceorb summa synaptics tek4957 ur98 vmmouse void wacom" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="it en" LIRC_DEVICES="mceusb2 mceusb devinput" USERLAND="GNU" VIDEO_CARDS="nvidia"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LC_ALL, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


renato gallo





          2009-02-22 09:02:31 UTC
        

Created attachment 182765 [details]
build log




Comment 2


renato gallo





          2009-02-22 09:03:12 UTC
        

Created attachment 182766 [details]
eclass debug log




Comment 3


renato gallo





          2009-02-22 09:03:42 UTC
        

Created attachment 182767 [details]
environment




Comment 4


renato gallo





          2009-02-22 09:04:41 UTC
        

!!! When you file a bug report, please include the following information:                    
GENTOO_VM=sun-jdk-1.6  CLASSPATH="" JAVA_HOME="/opt/sun-jdk-1.6.0.12"                        
JAVACFLAGS="-source 1.4 -target 1.4" COMPILER=""




Comment 5


renato gallo





          2009-04-19 16:08:38 UTC
        

any news ?




Comment 6


MATSUU Takuto (RETIRED)






          2009-04-20 15:32:12 UTC
        

I can't reproduce.

Could you try to remerge qdbm and hyperestraier?





Comment 7


renato gallo





          2009-04-20 15:40:45 UTC
        

-dw2-fde-glibc.o): In function `__register_frame_info_table_bases':                    
(.text+0xbd): undefined reference to `pthread_mutex_lock'                                                                                       
/usr/lib/gcc/x86_64-pc-linux-gnu/4.3.3/libgcc_eh.a(unwind-dw2-fde-glibc.o): In function `_Unwind_Find_FDE':                                     
(.text+0x157d): undefined reference to `pthread_mutex_lock'                                                                                     
/usr/lib/gcc/x86_64-pc-linux-gnu/4.3.3/libgcc_eh.a(unwind-dw2-fde-glibc.o): In function `_Unwind_Find_FDE':                                     
(.text+0x15d1): undefined reference to `pthread_mutex_unlock'                                                                                   
/usr/lib/gcc/x86_64-pc-linux-gnu/4.3.3/libgcc_eh.a(unwind-dw2-fde-glibc.o): In function `__deregister_frame_info_bases':                        
(.text+0x177c): undefined reference to `pthread_mutex_lock'                                                                                     
/usr/lib/gcc/x86_64-pc-linux-gnu/4.3.3/libgcc_eh.a(unwind-dw2-fde-glibc.o): In function `__deregister_frame_info_bases':                        
(.text+0x1800): undefined reference to `pthread_mutex_unlock'                                                                                   
/usr/lib/gcc/x86_64-pc-linux-gnu/4.3.3/libgcc_eh.a(unwind-dw2-fde-glibc.o): In function `__register_frame_info_bases':                          
(.text+0x61): undefined reference to `pthread_mutex_unlock'                                                                                     
/usr/lib/gcc/x86_64-pc-linux-gnu/4.3.3/libgcc_eh.a(unwind-dw2-fde-glibc.o): In function `__register_frame_info_table_bases':                    
(.text+0xdc): undefined reference to `pthread_mutex_unlock'                                                                                     
collect2: ld returned 1 exit status                                                                                                             
make: *** [estcmd] Error 1                                                                                                                      
make: *** Waiting for unfinished jobs....                                                                                                       
./libestraier.a(estnode.o): In function `est_gethostaddrbyname':                                                                                
/var/tmp/portage/app-text/hyperestraier-1.4.13/work/hyperestraier-1.4.13/estnode.c:1735: warning: Using 'gethostbyname_r' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking                                                    
./libestraier.a(estnode.o): In function `est_gethostaddrbyname':                                                                                
/var/tmp/portage/app-text/hyperestraier-1.4.13/work/hyperestraier-1.4.13/estnode.c:1735: warning: Using 'gethostbyname_r' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking                                                    
./libestraier.a(estnode.o): In function `est_gethostaddrbyname':                                                                                
/var/tmp/portage/app-text/hyperestraier-1.4.13/work/hyperestraier-1.4.13/estnode.c:1735: warning: Using 'gethostbyname_r' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking                                                    
 *                                                                                                                                              
 * ERROR: app-text/hyperestraier-1.4.13 failed.                                                                                                 
 * Call stack:                                                                                                                                  
 *               ebuild.sh, line   49:  Called src_compile                                                                                      
 *             environment, line 3975:  Called die
 * The specific snippet of code:
 *       emake || die;
 *  The die message:
 *   (no error message)
 *
 * If you need support, post the topmost build error, and the call stack if relevant.
 * A complete build log is located at '/var/tmp/portage/app-text/hyperestraier-1.4.13/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/app-text/hyperestraier-1.4.13/temp/environment'.
 *
!!! When you file a bug report, please include the following information:
GENTOO_VM=sun-jdk-1.6  CLASSPATH="" JAVA_HOME="/opt/sun-jdk-1.6.0.13"
JAVACFLAGS="-source 1.4 -target 1.4" COMPILER=""
and of course, the output of emerge --info

>>> Failed to emerge app-text/hyperestraier-1.4.13, Log file:

>>>  '/var/tmp/portage/app-text/hyperestraier-1.4.13/temp/build.log'

 * Messages for package app-text/hyperestraier-1.4.13:

 *
 * ERROR: app-text/hyperestraier-1.4.13 failed.
 * Call stack:
 *               ebuild.sh, line   49:  Called src_compile
 *             environment, line 3975:  Called die
 * The specific snippet of code:
 *       emake || die;
 *  The die message:
 *   (no error message)
 *
 * If you need support, post the topmost build error, and the call stack if relevant.
 * A complete build log is located at '/var/tmp/portage/app-text/hyperestraier-1.4.13/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/app-text/hyperestraier-1.4.13/temp/environment'.



(In reply to comment #6)
> I can't reproduce.
> 
> Could you try to remerge qdbm and hyperestraier?
> 






Comment 8


Akinori Hattori






          2009-05-28 02:27:08 UTC
        

Can you compile other programs which use pthread ?




Comment 9


Akinori Hattori






          2009-05-28 02:29:34 UTC
        

Oops! reopen this bug.




Comment 10


renato gallo





          2009-07-20 06:47:30 UTC
        

(In reply to comment #8)
> Can you compile other programs which use pthread ?
> 

yes




Comment 11


Bèrto 'd Sèra





          2010-06-10 05:52:21 UTC
        

same stuff here. I tried re-emerging qdbm with a ruby use flag, to no better result. Also tried revdep-rebuild, just in case, but again, to no better luck. 

my conditions:
 * USE:  amd64 debug elibc_glibc kernel_linux multilib ruby userland_GNU
checking the version of QDBM ... ok (1.8.77)

GENTOO_VM=  CLASSPATH="" JAVA_HOME=""
JAVACFLAGS="" COMPILER=""


acer7520 ~ # emerge --info =app-text/hyperestraier-1.4.10-r1
Portage 2.1.8.3 (default/linux/amd64/10.0/desktop/kde, gcc-4.3.4, glibc-2.10.1-r1, 2.6.32-gentoo-r7 x86_64)
=================================================================
                        System Settings
=================================================================
System uname: Linux-2.6.32-gentoo-r7-x86_64-AMD_Athlon-tm-_64_X2_Dual-Core_Processor_TK-55-with-gentoo-1.12.13
Timestamp of tree: Thu, 10 Jun 2010 03:00:02 +0000
app-shells/bash:     4.0_p37
dev-lang/python:     2.6.5-r2, 3.1.2-r3
dev-util/cmake:      2.6.4-r3
sys-apps/baselayout: 1.12.13
sys-apps/sandbox:    1.6-r2
sys-devel/autoconf:  2.65
sys-devel/automake:  1.8.5-r4, 1.9.6-r3, 1.11.1
sys-devel/binutils:  2.18-r3
sys-devel/gcc:       4.3.4, 4.4.3-r2
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   2.2.6b
virtual/os-headers:  2.6.30-r1
ACCEPT_KEYWORDS="amd64"
ACCEPT_LICENSE="*"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -march=athlon64 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/eselect/postgresql /etc/fonts/fonts.conf /etc/gconf /etc/sandbox.d /etc/terminfo"
CXXFLAGS="-O2 -march=athlon64 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="assume-digests distlocks fixpackages news parallel-fetch protect-owned sandbox sfperms strict unmerge-logs unmerge-orphans userfetch"
GENTOO_MIRRORS="http://mirror.switch.ch/ftp/mirror/gentoo/ ftp://mirror.switch.ch/mirror/gentoo/"
LDFLAGS="-Wl,-O1"
LINGUAS="en en_GB ru uk it pms_IT pms_IT.UTF-8"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="3dnow X a52 aac accessibility acl acpi akonadi alsa amd64 apache2 audiofile avahi berkdb bidi bluetooth branding bzip2 cairo cdparanoia cdr clamav cli consolekit cracklib crypt css cups cxx dbus debug dri dts dv dvd dvdr emboss encode exif fam ffmpeg firefox flac fontconfig fortran gd gdbm gif glitz gphoto2 gpm gps graphviz gstreamer gtk hddtemp iconv icq icu idn ieee1394 ipv6 jack jbig jpeg jpeg2k kde kipi laptop lcms ldap libnotify lirc lm_sensors lvm mad mikmod mime mmx mng modules mp3 mp4 mpeg mudflap multilib nas ncurses nls nptl nptlonly ogg opengl openmp pam pango pcmcia pcre pdf perl phonon png postgres ppds pppd pulseaudio python qt3support qt4 quicktime raw readline reflection rss sdl semantic-desktop session shorten sockets speex spell spl sse sse2 ssl startup-notification svg sysfs tcpd theora threadsafe thumbnail tiff tokenizer truetype udev unicode usb userlocales v4l2 vcd vnc vorbis wavpack webcam wifi wxwidgets x264 xcb xinerama xml xorg xulrunner xv xvid zeroconf zlib" ALSA_CARDS="hda-intel usb-audio" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CAMERAS="canon" ELIBC="glibc" INPUT_DEVICES="evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en en_GB ru uk it pms_IT pms_IT.UTF-8" RUBY_TARGETS="ruby18" USERLAND="GNU" VIDEO_CARDS="nvidia" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account" 
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LANG, LC_ALL, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY




Comment 12


Bèrto 'd Sèra





          2010-06-10 07:45:43 UTC
        

(In reply to comment #11)
In case it was lost amidst too much output, I was using app-text/hyperestraier-1.4.10-r1

I did not bother moving up to unmask a more recent version as I found the same bug reported for it. Hope you can solve it soon, as the app looks very promising.




Comment 13


Aditya Veer Singh





          2010-06-13 05:24:26 UTC
        

x86_64-pc-linux-gnu-gcc -Wall -ansi -pedantic -fPIC -fsigned-char -g -o estwaver estwaver.o wavermod.o mymorph.o -Wl,-O1 -L. -L/usr/lib64 -L/var/tmp/portage/app-text/hyperestraier-1.4.13/homedir/lib -L/usr/local/lib -static -L/usr/lib64 -lestraier  -lresolv -lnsl  -lpthread  -lqdbm -lz -lm -lc 

There seems to be linking problem when libraries are mentioned in this order. putting -lpthread between -lqdm and -lz (basically after -lqdbm and before -lc) solves the problem.




Comment 14


Stuart Longland (RETIRED)






          2010-08-12 06:43:43 UTC
        

I've been battling this bug for the past month on my P4M laptop... and have also reproduced it in a x86 chroot on my main desktop.

Steps for reproduction :-

# wget http://distfiles.gentoo.org/releases/.../stage3-i686-20100622.tar.bz2
# mkdir /tmp/x86
# tar -C /tmp/x86 -xjpf stage3-i686-20100622.tar.bz2
# cat >> /tmp/x86/etc/make.conf <<EOF
USE="a52 aac aalib accessibility acl acpi ads aiglx aio akode alisp alsa amr amrnb amrwb ao aotuv apache2 apm arts audiofile autoipd avahi bash-completion bcmath bidi bitmap-fonts bl bluetooth bonobo bookmarks boost bzip2 cairo calendar capi ccache cdparanoia cdr cgi chardet chm cjk cle266 clucene cluster consolekit coverage crypt ctype cups curl cviewer cvs daap dbase dbus debug debugger decibel dedicated demo device-mapper dia dirac disk-partition divx djvu dns -doc dri -dso dtmf dts dvb dvd dvdread dxr3 -emf encode etcproposals examples exif exiv2 faac faad fam fame fax fbcon ffmpeg fftw filepicker filter fits flac flatfile fontconfig font-server fpx -ftd2xx ftdi ftp gcj gd ggi gif gimp gimpprint gitsendemail gjdoc glib gmedia gmp -gnome gnutls gphoto2 gpm gps graphviz gs gsm gstreamer gtk gtk2 gtk2-perl h224 h281 hal hash howl-compat httpd http-server hyperestraier iax id3tag idn ieee1394 imagemagick imap imlib inifile inkjar inotify ipod iproute2 ipv6 ivr ixj jabber jack jadetex java6 javascript jbig jingle jpeg jpeg2k json kde kerberos kig-scripting kontact ksolver laptop lcms ldap libcaca libclamav libffi libsamplerate lid lirc lm_sensors log -luatex lzma lzo mad mbrola md5sum mdnsresponder-compat mikmod mjpeg mmap mmx mng mnt modplug mozbranding mozsha1 mp3 mp3rtp mp3tunes mp4 mpeg mplayer mssql mtp multislot multiuser musepack musicbrainz mysql nas netpbm network networkmanager network_manager newxkb nis njb nptl nsplugin nss ntp oav odbc ogg openexr opengl oss pango parport passwordsave pch pcntl pda pdf pdflib pipechan plotutils plugin png pnm policykit postscript povray -presto pulseaudio pvm qmax qt qt3 qt3support qt4 quicktime raw rdesktop realmedia replytolist restrict-javascript rfc4175 rogue rplay samba samba4 sametime sbc scanner schroedinger sdl server sharedext -sharedmem sid simplexml sipim slp smp sms sndfile soap sockets softmmu speex spell sqlite sqlite3 srtp sse startup-notification stats stroke subversion suhosin svg swig symlink sysvipc taglib tcl tcltk teletext tetex theora threads tidy tiff tk tokenizer tpctl truetype truetype-fonts type1-fonts unicode usb userlocales userpriv utf8 v4l v4l2 vcd vdpau vidix vim-syntax visualization vnc vorbis vorbis-psy vpb vxml wav wavpack wddx webdav webkit win32codecs winbind wma wmf wmp wpg wxgtk1 wxwidgets X x264 xanim xatrix xattr Xaw3d xcb xcomposite xerces-c xforms xine xinetd xml xmlreader xmlrpc xmlwriter xmms xpm xprint xscreensaver xsl xulrunner xv xvid xvmc yaz zeroconf zip zlib"
EOF
# mount none /tmp/x86/proc -t proc
# mount none /tmp/x86/dev/pts -t devpts
# mount none /usr/portage /tmp/x86/usr/portage -o bind
# chroot /tmp/x86
chroot# emerge kde-meta

Watch out for hyperestraier to go kaboom.

I had to resolve some blockers too... namely, avahi, cups, samba, openldap and some python modules which depend on each other with that combination of USE flags.  I have not tried with just default USE flags at present, I'll do this when the current build is finished.  I didn't strike this on AMD64 (where I decided to start with a fresh make.conf) so it's probably one of the USE flags that I have set (I tend to enable as many of the features as I can at build time for testing purposes).




Comment 15


renato gallo





          2010-10-03 11:11:31 UTC
        

bump ?




Comment 16


Pacho Ramos






          2012-10-07 12:32:29 UTC
        

I have searched but project looks dead for years, probably people should move to alternatives like xapian




Comment 17


Akinori Hattori






          2012-10-08 12:11:55 UTC
        

1. no maintainer can reproduce this bug
2. Hyper Estraier is included in Debian[1] and Fedora[2] package repositories without any modification for linking

from the above, close this bug as WORKSFORME


[1] http://packages.qa.debian.org/h/hyperestraier.html
[2] http://pkgs.fedoraproject.org/cgit/hyperestraier.git




Comment 18


Jeremy Stent





          2014-06-14 20:18:31 UTC
        

Created attachment 378896 [details, diff]
Patch for newer ruby




Comment 19


Naohiro Aota






          2014-06-17 00:31:44 UTC
        

(In reply to Jeremy Stent from comment #18)
> Created attachment 378896 [details, diff] [details, diff]
> Patch for newer ruby

Thanks for the patch, but please fill a new bug and post the patch there.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

