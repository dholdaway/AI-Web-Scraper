Title: 120841 – (attr-acl-libtool) acl/attr libraries move causing libtool issues
URL: https://bugs.gentoo.org/show_bug.cgi?id=120841

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 120841
acl/attr libraries move causing libtool issues
Last modified: 2009-10-27 18:46:45 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 120841 
        (attr-acl-libtool)
      - acl/attr libraries move causing libtool issues


Summary:
acl/attr libraries move causing libtool issues
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:

attr-acl-libtool
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo's Team for Core System packages








URL:







Whiteboard:




Keywords:









Duplicates (6):
    

121053 121054 122012 126860 127215 127218

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2006-01-29 11:01 UTC by Daniele Gaffuri





      Modified:
    
2009-10-27 18:46 UTC
      (History)
    




          CC List:
        

10 
          users
          
            (show)
          



aben
alonbl
esigra
gentoo
iverson0881
kde
m.debruijne
mls
thomas.bettler
thomas_scheffler









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Daniele Gaffuri





          2006-01-29 11:01:13 UTC
        

Hi

while emerging ksnapshot-3.5.0 I get this error

/bin/sh ../libtool --silent --mode=link --tag=CXX i686-pc-linux-gnu-g++  -Wno-long-long -Wundef -ansi -D_XOPEN_SOURCE=500 -D_BSD_SOURCE -Wcast-align -Wconversion -Wchar-subscripts -Wall -W -Wpointer-arith -DNDEBUG -DNO_DEBUG -O2 -O2 -march=pentium-m -fomit-frame-pointer -pipe -Wformat-security -Wmissing-format-attribute -Wno-non-virtual-dtor -fno-exceptions -fno-check-new -fno-common -DQT_CLEAN_NAMESPACE -DQT_NO_ASCII_CAST -DQT_NO_STL -DQT_NO_COMPAT -DQT_NO_TRANSLATION    -o ksnapshot -L/usr/kde/3.5/lib -L/usr/qt/3/lib -L/usr/lib    -R /usr/kde/3.5/lib -R /usr/kde/3.5/lib -R /usr/qt/3/lib -R /usr/lib main.o ksnapshot.o regiongrabber.o windowgrabber.o ksnapshotiface_skel.o ksnapshotwidget.o -lkdeprint
libtool: link: cannot find the library `/lib/libacl.la'
make[2]: *** [ksnapshot] Error 1
make[2]: Leaving directory `/var/tmp/portage/ksnapshot-3.5.0/work/ksnapshot-3.5.0/ksnapshot'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/ksnapshot-3.5.0/work/ksnapshot-3.5.0'
make: *** [all] Error 2

!!! ERROR: kde-base/ksnapshot-3.5.0 failed.
Call stack:
  ebuild.sh, line 1894:   Called dyn_compile
  ebuild.sh, line 941:   Called src_compile
  ebuild.sh, line 1609:   Called kde-meta_src_compile
  kde-meta.eclass, line 400:   Called kde_src_compile
  kde.eclass, line 74:   Called kde_src_compile 'compile'
  kde.eclass, line 179:   Called kde_src_compile 'all' 'myconf' 'configure'

!!! died running emake, kde_src_compile:make
!!! If you need support, post the topmost build error, and the call stack if relevant.

The same happens with kdesu-3.5.0. I've not tried other KDE packages. If a symlink /lib/libacl.sa to /usr/lib/libacl.sa I get the same error on libattr.

Here's emerge --info output

Portage 2.1_pre4-r1 (default-linux/x86/2005.1, gcc-4.0.2, glibc-2.3.6-r2, 2.6.15-gentoo-r1 i686)
=================================================================
System uname: 2.6.15-gentoo-r1 i686 Intel(R) Pentium(R) M processor 2.00GHz
Gentoo Base System version 1.12.0_pre15
dev-lang/python:     2.4.2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium-m -fomit-frame-pointer -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/kde/3/share/config /usr/share/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/splash /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=pentium-m -fomit-frame-pointer -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X a52 aac acl acpi alsa apache2 arts audiofile avi bash-completion berkdb bitmap-fonts bzip2 cdr crypt cups curl dbus dvd dvdr dvdread emboss encode exif ffmpeg firefox foomaticdb gdbm gif glut gmp gpm gstreamer gtk gtk2 hal idn ieee1394 imlib java jpeg junit kde kerberos lcms ldap libg++ libwww logrotate mad mhash mikmod mmx mng motif mp3 mpeg mysql ncurses nls nptl nvidia odbc ogg oggvorbis opengl oracle pam pcmcia pcre pdflib perl php png python qt quicktime readline samba sdl spell sse sse2 ssl tcltk tcpd threads tiff truetype truetype-fonts type1-fonts udev unicode usb vorbis wifi xine xml2 xmms xv xvid zlib elibc_glibc input_devices_keyboard input_devices_mousei input_devices_joystick input_devices_synaptics kernel_linux userland_GNU video_cards_nvidia"
Unset:  ASFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, LANG, LC_ALL, LDFLAGS, LINGUAS




Comment 1


Daniele Gaffuri





          2006-01-29 11:13:20 UTC
        

Symlinking libattr too solved the problem. Here are the installed versions of related packages

[ebuild   R   ] sys-apps/attr-2.4.24  USE="nls -debug" 0 kB
[ebuild   R   ] sys-apps/acl-2.2.32  USE="nls -debug" 0 kB





Comment 2


Diego Elio Pettenò (RETIRED)






          2006-01-29 11:19:39 UTC
        

Hmm this is not right.
Please remove the two symlinks and then run

grep -rl --include '*.la' "/lib/libacl.la" /lib /usr/lib /usr/qt/*/lib /usr/kde/*/lib

and post the list here?
You might be required to rebuild something, if libacl/libattr moved their .la recently.





Comment 3


Daniele Gaffuri





          2006-01-29 11:31:18 UTC
        

I realize now that I've updated attr and acl tonight.

# genlop -l | grep 'sys-apps/attr\|sys-apps/acl\|kde-base/kdesu'
     Sun Nov 27 17:58:48 2005 >>> sys-apps/attr-2.4.19-r1
     Sun Nov 27 17:59:14 2005 >>> sys-apps/acl-2.2.27
     Wed Nov 30 00:48:50 2005 >>> kde-base/kdesu-3.5.0
     Sun Jan 29 00:04:00 2006 >>> sys-apps/attr-2.4.24
     Sun Jan 29 00:04:40 2006 >>> sys-apps/acl-2.2.32

Here's the requested output.

# grep -rl --include '*.la' "/lib/libacl.la" /lib /usr/lib /usr/qt/*/lib /usr/kde/*/lib

/usr/lib/libkdeinit_kmplayer.la
/usr/lib/libk3b.la
/usr/lib/libk3baudioprojectcddbplugin.la
/usr/lib/libk3bdevice.la
/usr/lib/libk3baudiometainforenamerplugin.la
/usr/lib/kde3/libkmplayerpart.la
/usr/lib/kde3/libk3boggvorbisencoder.la
/usr/lib/kde3/libk3bwavedecoder.la
/usr/lib/kde3/libk3bffmpegdecoder.la
/usr/lib/kde3/kcm_btpaired.la
/usr/lib/kde3/libk3bexternalencoder.la
/usr/lib/kde3/kcm_k3bsetup2.la
/usr/lib/kde3/libk3blameencoder.la
/usr/lib/kde3/kio_sdp.la
/usr/lib/kde3/kio_obex.la
/usr/lib/kde3/libk3boggvorbisdecoder.la
/usr/lib/kde3/kmplayer.la
/usr/lib/kde3/libk3bartsoutputplugin.la
/usr/lib/kde3/libkdiff3part.la
/usr/lib/kde3/kio_bluetooth.la
/usr/lib/kde3/libk3bmaddecoder.la
/usr/lib/kde3/libk3bsoxencoder.la
/usr/lib/kde3/kcm_kbluetoothd.la
/usr/lib/libkmplayercommon.la
/usr/kde/3.5/lib/libkasbar.la
/usr/kde/3.5/lib/libkutils.la
/usr/kde/3.5/lib/libkspell2.la
/usr/kde/3.5/lib/libkscreensaver.la
/usr/kde/3.5/lib/libkdeinit_cupsdconf.la
/usr/kde/3.5/lib/libktexteditor.la
/usr/kde/3.5/lib/libkscript.la
/usr/kde/3.5/lib/libkdeinit_konsole.la
/usr/kde/3.5/lib/libkparts.la
/usr/kde/3.5/lib/libkdeinit_keditbookmarks.la
/usr/kde/3.5/lib/librss.la
/usr/kde/3.5/lib/libtaskbar.la
/usr/kde/3.5/lib/libkdeinit_kicker.la
/usr/kde/3.5/lib/libkdeinit_kfmclient.la
/usr/kde/3.5/lib/libkonqsidebarplugin.la
/usr/kde/3.5/lib/libkdeinit_kbuildsycoca.la
/usr/kde/3.5/lib/libkdeinit_khotkeys.la
/usr/kde/3.5/lib/libkdeinit_konqueror.la
/usr/kde/3.5/lib/libkatepartinterfaces.la
/usr/kde/3.5/lib/libkdeinit_kcontrol.la
/usr/kde/3.5/lib/libkhtml.la
/usr/kde/3.5/lib/libkimproxy.la
/usr/kde/3.5/lib/libkfontinst.la
/usr/kde/3.5/lib/libkdeinit_kio_http_cache_cleaner.la
/usr/kde/3.5/lib/libkdeinit_kio_uiserver.la
/usr/kde/3.5/lib/libkmediaplayer.la
/usr/kde/3.5/lib/libkhotkeys_shared.la
/usr/kde/3.5/lib/libkdeinit_klauncher.la
/usr/kde/3.5/lib/libkdeprint.la
/usr/kde/3.5/lib/libkabc_net.la
/usr/kde/3.5/lib/libkdeinit_kdesktop.la
/usr/kde/3.5/lib/libkopete_msn_shared.la
/usr/kde/3.5/lib/libkdeprint_management.la
/usr/kde/3.5/lib/libkopete_oscar.la
/usr/kde/3.5/lib/libkabc_file.la
/usr/kde/3.5/lib/libkresources.la
/usr/kde/3.5/lib/libartskde.la
/usr/kde/3.5/lib/libkdeinit_khelpcenter.la
/usr/kde/3.5/lib/libkdeinit_extensionproxy.la
/usr/kde/3.5/lib/libkabc_dir.la
/usr/kde/3.5/lib/libkonq.la
/usr/kde/3.5/lib/libkdeinit_kded.la
/usr/kde/3.5/lib/libtaskmanager.la
/usr/kde/3.5/lib/libkopete.la
/usr/kde/3.5/lib/libkmdi2.la
/usr/kde/3.5/lib/libkdeinit_kcmshell.la
/usr/kde/3.5/lib/libkdeinit_appletproxy.la
/usr/kde/3.5/lib/libknewstuff.la
/usr/kde/3.5/lib/libkdeinit_kaddprinterwizard.la
/usr/kde/3.5/lib/libkdeinit_kcminit.la
/usr/kde/3.5/lib/libkio.la
/usr/kde/3.5/lib/kde3/kbuildsycoca.la
/usr/kde/3.5/lib/kde3/kickermenu_kdeprint.la
/usr/kde/3.5/lib/kde3/konqsidebar_web.la
/usr/kde/3.5/lib/kde3/kopete_texteffect.la
/usr/kde/3.5/lib/kde3/kcm_locale.la
/usr/kde/3.5/lib/kde3/kcm_kopete_autoreplace.la
/usr/kde/3.5/lib/kde3/kcm_background.la
/usr/kde/3.5/lib/kde3/kcm_kio.la
/usr/kde/3.5/lib/kde3/kcm_kthememanager.la
/usr/kde/3.5/lib/kde3/kcm_kurifilt.la
/usr/kde/3.5/lib/kde3/kcm_privacy.la
/usr/kde/3.5/lib/kde3/kopete_history.la
/usr/kde/3.5/lib/kde3/kcm_kopete_cryptography.la
/usr/kde/3.5/lib/kde3/kdesktop.la
/usr/kde/3.5/lib/kde3/khotkeys.la
/usr/kde/3.5/lib/kde3/kio_metainfo.la
/usr/kde/3.5/lib/kde3/kio_mac.la
/usr/kde/3.5/lib/kde3/kfileaudiopreview.la
/usr/kde/3.5/lib/kde3/kickermenu_remotemenu.la
/usr/kde/3.5/lib/kde3/kio_fish.la
/usr/kde/3.5/lib/kde3/kopete_msn.la
/usr/kde/3.5/lib/kde3/libkuriikwsfilter.la
/usr/kde/3.5/lib/kde3/kio_http.la
/usr/kde/3.5/lib/kde3/kcm_kded.la
/usr/kde/3.5/lib/kde3/kickermenu_konsole.la
/usr/kde/3.5/lib/kde3/kcm_access.la
/usr/kde/3.5/lib/kde3/libkmanpart.la
/usr/kde/3.5/lib/kde3/plugins/designer/kdewidgets.la
/usr/kde/3.5/lib/kde3/ksplashredmond.la
/usr/kde/3.5/lib/kde3/ktexteditor_kdatatool.la
/usr/kde/3.5/lib/kde3/libkshorturifilter.la
/usr/kde/3.5/lib/kde3/kopete_connectionstatus.la
/usr/kde/3.5/lib/kde3/konqueror.la
/usr/kde/3.5/lib/kde3/kio_about.la
/usr/kde/3.5/lib/kde3/kded_kcookiejar.la
/usr/kde/3.5/lib/kde3/kopete_contactnotes.la
/usr/kde/3.5/lib/kde3/kded_systemdirnotify.la
/usr/kde/3.5/lib/kde3/klauncher.la
/usr/kde/3.5/lib/kde3/kcm_keys.la
/usr/kde/3.5/lib/kde3/kcm_konsole.la
/usr/kde/3.5/lib/kde3/kcm_samba.la
/usr/kde/3.5/lib/kde3/kopete_alias.la
/usr/kde/3.5/lib/kde3/kio_jabberdisco.la
/usr/kde/3.5/lib/kde3/kabc_ldapkio.la
/usr/kde/3.5/lib/kde3/kopete_icq.la
/usr/kde/3.5/lib/kde3/kcm_kopete_latex.la
/usr/kde/3.5/lib/kde3/kabc_dir.la
/usr/kde/3.5/lib/kde3/kio_tar.la
/usr/kde/3.5/lib/kde3/kopete_nowlistening.la
/usr/kde/3.5/lib/kde3/konqsidebar_tree.la
/usr/kde/3.5/lib/kde3/kabc_net.la
/usr/kde/3.5/lib/kde3/kgzipfilter.la
/usr/kde/3.5/lib/kde3/kdeprint_cups.la
/usr/kde/3.5/lib/kde3/libkcertpart.la
/usr/kde/3.5/lib/kde3/kcm_nic.la
/usr/kde/3.5/lib/kde3/knotify.la
/usr/kde/3.5/lib/kde3/trash_panelapplet.la
/usr/kde/3.5/lib/kde3/kcm_media.la
/usr/kde/3.5/lib/kde3/kcm_filetypes.la
/usr/kde/3.5/lib/kde3/kopete_groupwise.la
/usr/kde/3.5/lib/kde3/konsole.la
/usr/kde/3.5/lib/kde3/kopete_aim.la
/usr/kde/3.5/lib/kde3/khelpcenter.la
/usr/kde/3.5/lib/kde3/htmlthumbnail.la
/usr/kde/3.5/lib/kde3/kopete_statistics.la
/usr/kde/3.5/lib/kde3/kopete_chatwindow.la
/usr/kde/3.5/lib/kde3/kopete_jabber.la
/usr/kde/3.5/lib/kde3/kcm_ioslaveinfo.la
/usr/kde/3.5/lib/kde3/konq_iconview.la
/usr/kde/3.5/lib/kde3/kcm_kopete_addbookmarks.la
/usr/kde/3.5/lib/kde3/konq_sound.la
/usr/kde/3.5/lib/kde3/libkurisearchfilter.la
/usr/kde/3.5/lib/kde3/kded_khotkeys.la
/usr/kde/3.5/lib/kde3/kded_favicons.la
/usr/kde/3.5/lib/kde3/kio_floppy.la
/usr/kde/3.5/lib/kde3/kio_man.la
/usr/kde/3.5/lib/kde3/liblocaldomainurifilter.la
/usr/kde/3.5/lib/kde3/kcm_kopete_appearanceconfig.la
/usr/kde/3.5/lib/kde3/lockout_panelapplet.la
/usr/kde/3.5/lib/kde3/media_panelapplet.la
/usr/kde/3.5/lib/kde3/kopete_gadu.la
/usr/kde/3.5/lib/kde3/systemtray_panelapplet.la
/usr/kde/3.5/lib/kde3/kcm_kicker.la
/usr/kde/3.5/lib/kde3/kcm_kopete_netmeeting.la
/usr/kde/3.5/lib/kde3/kcontrol.la
/usr/kde/3.5/lib/kde3/taskbar_panelextension.la
/usr/kde/3.5/lib/kde3/kfile_trash.la
/usr/kde/3.5/lib/kde3/run_panelapplet.la
/usr/kde/3.5/lib/kde3/kcm_ksplashthemes.la
/usr/kde/3.5/lib/kde3/kcm_history.la
/usr/kde/3.5/lib/kde3/appletproxy.la
/usr/kde/3.5/lib/kde3/kio_uiserver.la
/usr/kde/3.5/lib/kde3/kdeprint_ext.la
/usr/kde/3.5/lib/kde3/khotkeys_shared_arts.la
/usr/kde/3.5/lib/kde3/kcm_componentchooser.la
/usr/kde/3.5/lib/kde3/konq_remoteencoding.la
/usr/kde/3.5/lib/kde3/kcm_keyboard.la
/usr/kde/3.5/lib/kde3/kopete_irc.la
/usr/kde/3.5/lib/kde3/kopete_latex.la
/usr/kde/3.5/lib/kde3/kcm_kopete_translator.la
/usr/kde/3.5/lib/kde3/kcm_kopete_msn.la
/usr/kde/3.5/lib/kde3/kded_mediamanager.la
/usr/kde/3.5/lib/kde3/libkatepart.la
/usr/kde/3.5/lib/kde3/kickermenu_prefmenu.la
/usr/kde/3.5/lib/kde3/kcm_clock.la
/usr/kde/3.5/lib/kde3/konq_sidebartree_bookmarks.la
/usr/kde/3.5/lib/kde3/kcm_taskbar.la
/usr/kde/3.5/lib/kde3/kio_smb.la
/usr/kde/3.5/lib/kde3/konq_shellcmdplugin.la
/usr/kde/3.5/lib/kde3/kded_kdeprintd.la
/usr/kde/3.5/lib/kde3/kcm_icons.la
/usr/kde/3.5/lib/kde3/taskbar_panelapplet.la
/usr/kde/3.5/lib/kde3/imagethumbnail.la
/usr/kde/3.5/lib/kde3/kio_cgi.la
/usr/kde/3.5/lib/kde3/ktexteditor_docwordcompletion.la
/usr/kde/3.5/lib/kde3/kio_sftp.la
/usr/kde/3.5/lib/kde3/kcm_style.la
/usr/kde/3.5/lib/kde3/kcm_arts.la
/usr/kde/3.5/lib/kde3/kcm_kopete_highlight.la
/usr/kde/3.5/lib/kde3/kopete_webpresence.la
/usr/kde/3.5/lib/kde3/kio_settings.la
/usr/kde/3.5/lib/kde3/kio_thumbnail.la
/usr/kde/3.5/lib/kde3/kfile_media.la
/usr/kde/3.5/lib/kde3/konq_sidebar.la
/usr/kde/3.5/lib/kde3/libkdeprint_management_module.la
/usr/kde/3.5/lib/kde3/libkonsolepart.la
/usr/kde/3.5/lib/kde3/fontthumbnail.la
/usr/kde/3.5/lib/kde3/kcm_cgi.la
/usr/kde/3.5/lib/kde3/kopete_netmeeting.la
/usr/kde/3.5/lib/kde3/kopete_cryptography.la
/usr/kde/3.5/lib/kde3/kcm_fontinst.la
/usr/kde/3.5/lib/kde3/kded_proxyscout.la
/usr/kde/3.5/lib/kde3/konq_sidebartree_history.la
/usr/kde/3.5/lib/kde3/ktexteditor_isearch.la
/usr/kde/3.5/lib/kde3/clock_panelapplet.la
/usr/kde/3.5/lib/kde3/kaddprinterwizard.la
/usr/kde/3.5/lib/kde3/libkhtmlpart.la
/usr/kde/3.5/lib/kde3/kcminit.la
/usr/kde/3.5/lib/kde3/kspell_ispell.la
/usr/kde/3.5/lib/kde3/konq_aboutpage.la
/usr/kde/3.5/lib/kde3/kcm_energy.la
/usr/kde/3.5/lib/kde3/libshellscript.la
/usr/kde/3.5/lib/kde3/libkfontviewpart.la
/usr/kde/3.5/lib/kde3/kio_pop3.la
/usr/kde/3.5/lib/kde3/kio_system.la
/usr/kde/3.5/lib/kde3/kio_ghelp.la
/usr/kde/3.5/lib/kde3/kio_http_cache_cleaner.la
/usr/kde/3.5/lib/kde3/kio_home.la
/usr/kde/3.5/lib/kde3/launcher_panelapplet.la
/usr/kde/3.5/lib/kde3/kio_nfs.la
/usr/kde/3.5/lib/kde3/kio_file.la
/usr/kde/3.5/lib/kde3/kded_kwalletd.la
/usr/kde/3.5/lib/kde3/kio_zeroconf.la
/usr/kde/3.5/lib/kde3/konq_listview.la
/usr/kde/3.5/lib/kde3/kopete_yahoo.la
/usr/kde/3.5/lib/kde3/kcm_khotkeys.la
/usr/kde/3.5/lib/kde3/kio_info.la
/usr/kde/3.5/lib/kde3/minipager_panelapplet.la
/usr/kde/3.5/lib/kde3/kcm_kdm.la
/usr/kde/3.5/lib/kde3/kio_trash.la
/usr/kde/3.5/lib/kde3/kio_media.la
/usr/kde/3.5/lib/kde3/konq_sidebartree_dirtree.la
/usr/kde/3.5/lib/kde3/khtmlimagepart.la
/usr/kde/3.5/lib/kde3/kcm_kresources.la
/usr/kde/3.5/lib/kde3/libkhtmlkttsdplugin.la
/usr/kde/3.5/lib/kde3/kcm_kopete_accountconfig.la
/usr/kde/3.5/lib/kde3/kopete_translator.la
/usr/kde/3.5/lib/kde3/kio_help.la
/usr/kde/3.5/lib/kde3/kcm_konqhtml.la
/usr/kde/3.5/lib/kde3/kfile_font.la
/usr/kde/3.5/lib/kde3/kcm_input.la
/usr/kde/3.5/lib/kde3/kio_nntp.la
/usr/kde/3.5/lib/kde3/kbzip2filter.la
/usr/kde/3.5/lib/kde3/extensionproxy.la
/usr/kde/3.5/lib/kde3/kcm_screensaver.la
/usr/kde/3.5/lib/kde3/keditbookmarks.la
/usr/kde/3.5/lib/kde3/kopete_highlight.la
/usr/kde/3.5/lib/kde3/kcm_css.la
/usr/kde/3.5/lib/kde3/kded_kpasswdserver.la
/usr/kde/3.5/lib/kde3/libkmultipart.la
/usr/kde/3.5/lib/kde3/kcm_konq.la
/usr/kde/3.5/lib/kde3/kcm_kopete_history.la
/usr/kde/3.5/lib/kde3/libkrichtexteditpart.la
/usr/kde/3.5/lib/kde3/kcm_kopete_behaviorconfig.la
/usr/kde/3.5/lib/kde3/cupsdconf.la
/usr/kde/3.5/lib/kde3/kcm_kopete_alias.la
/usr/kde/3.5/lib/kde3/kcm_crypto.la
/usr/kde/3.5/lib/kde3/kabc_file.la
/usr/kde/3.5/lib/kde3/kio_remote.la
/usr/kde/3.5/lib/kde3/kcm_kopete_avdeviceconfig.la
/usr/kde/3.5/lib/kde3/kopete_emailwindow.la
/usr/kde/3.5/lib/kde3/kded_remotedirnotify.la
/usr/kde/3.5/lib/kde3/kcm_knotify.la
/usr/kde/3.5/lib/kde3/kspell_aspell.la
/usr/kde/3.5/lib/kde3/kcm_kopete_texteffect.la
/usr/kde/3.5/lib/kde3/kded_konqy_preloader.la
/usr/kde/3.5/lib/kde3/kjavaappletviewer.la
/usr/kde/3.5/lib/kde3/kio_ldap.la
/usr/kde/3.5/lib/kde3/kdeprint_rlpr.la
/usr/kde/3.5/lib/kde3/kickermenu_konqueror.la
/usr/kde/3.5/lib/kde3/kcm_kopete_nowlistening.la
/usr/kde/3.5/lib/kde3/kded_kssld.la
/usr/kde/3.5/lib/kde3/kfmclient.la
/usr/kde/3.5/lib/kde3/kdeprint_lpdunix.la
/usr/kde/3.5/lib/kde3/kopete_autoreplace.la
/usr/kde/3.5/lib/kde3/kopete_testbed.la
/usr/kde/3.5/lib/kde3/kded_medianotifier.la
/usr/kde/3.5/lib/kde3/kio_finger.la
/usr/kde/3.5/lib/kde3/sidebar_panelextension.la
/usr/kde/3.5/lib/kde3/kcm_display.la
/usr/kde/3.5/lib/kde3/kcm_kopete_webpresence.la
/usr/kde/3.5/lib/kde3/kio_filter.la
/usr/kde/3.5/lib/kde3/kicker.la
/usr/kde/3.5/lib/kde3/kio_ftp.la
/usr/kde/3.5/lib/kde3/kcmshell.la
/usr/kde/3.5/lib/kde3/kasbar_panelextension.la
/usr/kde/3.5/lib/kde3/kopete_addbookmarks.la
/usr/kde/3.5/lib/kde3/kabcformat_binary.la
/usr/kde/3.5/lib/kde3/kcm_colors.la
/usr/kde/3.5/lib/kde3/kdeprint_lpr.la
/usr/kde/3.5/lib/kde3/ktexteditor_insertfile.la
/usr/kde/3.5/lib/kde3/kopete_sms.la
/usr/kde/3.5/lib/kde3/kded_homedirnotify.la
/usr/kde/3.5/lib/kde3/kded.la
/usr/kde/3.5/lib/kde3/kcm_kopete_identityconfig.la
/usr/kde/3.5/lib/kde3/kio_smtp.la
/usr/kde/3.5/lib/kde3/kio_fonts.la
/usr/kde/3.5/lib/libkmdi.la
/usr/kde/3.5/lib/libkickermain.la
/usr/kde/3.5/lib/libkabc_ldapkio.la
/usr/kde/3.5/lib/libkabc.la




Comment 4


Diego Elio Pettenò (RETIRED)






          2006-01-29 11:47:13 UTC
        

Yeah make sense, it was installing in /lib before and now it's in /usr/lib (and then moving the .so by hand).

A solution is the following:

find /lib /usr/lib /usr/qt/*/lib /usr/kde/*/lib /usr/local/lib -name \*.la -print0 | xargs -0 sed -i -e 's:\(\</lib/lib\(acl\|attr\).la\>\):/usr\0:g'

(for amd64 multilib users, replace all occurrences "lib" above with "lib64").


[I'm expecting more dupes of this]




Comment 5


Daniele Gaffuri





          2006-01-29 14:14:42 UTC
        

The command as is didn't work, because of word delimiters (don't ask me why). I run instead

grep -rl --include '*.la' "/lib/libacl.la\|/lib/libattr.la" /lib /usr/lib /usr/qt/*/lib /usr/kde/*/lib /usr/local/lib | xargs sed -i -e 's:\(/lib/lib\(acl\|attr\).la\):/usr\1:g

using grep instead of find to change only interested files.

Of course this generated /usr/usr/lib/libattr.la in libacl.la, which I corrected manually. After this emerging ksnapshot works.




Comment 6


Jakub Moc (RETIRED)






          2006-01-31 07:16:44 UTC
        

*** Bug 121053 has been marked as a duplicate of this bug. ***




Comment 7


Jakub Moc (RETIRED)






          2006-01-31 07:17:36 UTC
        

*** Bug 121054 has been marked as a duplicate of this bug. ***




Comment 8


SpanKY






          2006-01-31 08:04:19 UTC
        

> You might be required to rebuild something, if libacl/libattr moved their .la
> recently.

along the way ive been fixing packages that wrongly install .la and .a files into /lib ... this is one example




Comment 9


Daniele Gaffuri





          2006-01-31 14:29:39 UTC
        

(In reply to comment #8)
> along the way ive been fixing packages that wrongly install .la and .a files
> into /lib ... this is one example
> Nice, and what are we supposed to do to avoid emerge errors?




Comment 10


Jakub Moc (RETIRED)






          2006-02-07 10:40:51 UTC
        

*** Bug 122012 has been marked as a duplicate of this bug. ***




Comment 11


Thomas Scheffler





          2006-02-11 02:29:57 UTC
        

(In reply to comment #5)
> grep -rl --include '*.la' "/lib/libacl.la\|/lib/libattr.la" /lib /usr/lib
> /usr/qt/*/lib /usr/kde/*/lib /usr/local/lib | xargs sed -i -e
> 's:\(/lib/lib\(acl\|attr\).la\):/usr\1:g
> 
> using grep instead of find to change only interested files.
> 
> Of course this generated /usr/usr/lib/libattr.la in libacl.la, which I
> corrected manually.

Since a few packages allready emerged with the new position of acl and attr I had to change the above command to

grep -rl --include '*.la' "[^r]/lib/libacl.la\|[^r]/lib/libattr.la" /lib /usr/lib /usr/qt/*/lib /usr/kde/*/lib /usr/local/lib| xargs sed -i -e 's:\(/lib/lib\(acl\|attr\).la\):/usr\1:g'

this one didn't need any further manual changes. Thank you for your help, the problem is now fixed at my side. Just reemerging the packages would not help and this is an alternative to unmerge and then emerge again as this is so much faster. But this changes the files so the unmerge process would be problematic. Any official solution yet?




Comment 12


Diego Elio Pettenò (RETIRED)






          2006-03-19 14:14:42 UTC
        

*** Bug 126860 has been marked as a duplicate of this bug. ***




Comment 13


Diego Elio Pettenò (RETIRED)






          2006-03-22 12:14:08 UTC
        

*** Bug 127215 has been marked as a duplicate of this bug. ***




Comment 14


Diego Elio Pettenò (RETIRED)






          2006-03-22 12:14:56 UTC
        

*** Bug 127218 has been marked as a duplicate of this bug. ***




Comment 15


SpanKY






          2006-06-03 22:15:30 UTC
        

worksforme









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

