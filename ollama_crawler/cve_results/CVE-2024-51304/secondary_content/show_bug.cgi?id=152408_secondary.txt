Title: 152408 – dev-games/ode fails to compile with gcc 4.2 - '::malloc' has not been declared
URL: https://bugs.gentoo.org/show_bug.cgi?id=152408

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 152408
dev-games/ode fails to compile with gcc 4.2 - '::malloc' has not been declared
Last modified: 2009-02-13 15:14:11 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 152408 
      - dev-games/ode fails to compile with gcc 4.2 - '::malloc' has not been declared


Summary:
dev-games/ode fails to compile with gcc 4.2 - '::malloc' has not been declared
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Games

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Games








URL:







Whiteboard:




Keywords:









Duplicates (2):
    

192669 211219

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2006-10-22 12:17 UTC by Plüss Roland





      Modified:
    
2009-02-13 15:14 UTC
      (History)
    




          CC List:
        

3 
          users
          
            (show)
          



esigra
farukerdemoncel
gonet9









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Emerge log

              (ode2.log,24.01 KB,
                text/plain)

            
2008-02-24 13:57 UTC,

            Erdem




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Plüss Roland





          2006-10-22 12:17:33 UTC
        

Updated to gcc 4.1.1. For some reason ode can not be compiled anymore although the rest works.

---
if i686-pc-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I. -I../../include/ode  -O2   -I../../include -I../../include -I/home/tmp/portage/ode-0.7/work/ode-0.7/OPCODE -I/home/tmp/portage/ode-0.7/work/ode-0.7/OPCODE/Ice -DdTRIMESH_ENABLED -I/home/roland/progs/testing/include -I -L -MT libode_a-collision_kernel.o -MD -MP -MF ".deps/libode_a-collision_kernel.Tpo" -c -o libode_a-collision_kernel.o `test -f 'collision_kernel.cpp' || echo './'`collision_kernel.cpp; \
        then mv -f ".deps/libode_a-collision_kernel.Tpo" ".deps/libode_a-collision_kernel.Po"; else rm -f ".deps/libode_a-collision_kernel.Tpo"; exit 1; fi
/usr/lib/gcc/i686-pc-linux-gnu/4.1.1/include/g++-v4/cstdlib:123: error: '::malloc' has not been declared
/usr/lib/gcc/i686-pc-linux-gnu/4.1.1/include/g++-v4/cstdlib:131: error: '::realloc' has not been declared
if i686-pc-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I. -I../../include/ode  -O2   -I../../include -I../../include -I/home/tmp/portage/ode-0.7/work/ode-0.7/OPCODE -I/home/tmp/portage/ode-0.7/work/ode-0.7/OPCODE/Ice -DdTRIMESH_ENABLED -I/home/roland/progs/testing/include -I -L -MT libode_a-export-dif.o -MD -MP -MF ".deps/libode_a-export-dif.Tpo" -c -o libode_a-export-dif.o `test -f 'export-dif.cpp' || echo './'`export-dif.cpp; \
        then mv -f ".deps/libode_a-export-dif.Tpo" ".deps/libode_a-export-dif.Po"; else rm -f ".deps/libode_a-export-dif.Tpo"; exit 1; fi
make[2]: *** [libode_a-collision_kernel.o] Error 1
make[2]: *** Waiting for unfinished jobs....
make[2]: Leaving directory `/home/tmp/portage/ode-0.7/work/ode-0.7/ode/src'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/home/tmp/portage/ode-0.7/work/ode-0.7/ode'
make: *** [all-recursive] Error 1

!!! ERROR: dev-games/ode-0.7 failed.
Call stack:
  ebuild.sh, line 1546:   Called dyn_compile
  ebuild.sh, line 937:   Called src_compile
  ode-0.7.ebuild, line 46:   Called die

!!! ODE compile failed
!!! If you need support, post the topmost build error, and the call stack if relevant.
=====================

I recompiled gcc, glibc and binutils at least twice. I also did "emerge -pvet ode" and recompiled direct dependencies, nothing helped.




Comment 1


Tristan Heaven (RETIRED)






          2006-10-22 12:48:04 UTC
        

'emerge --info' please




Comment 2


Plüss Roland





          2006-10-23 08:30:06 UTC
        

Portage 2.1.1 (default-linux/x86/2006.0, gcc-4.1.1, glibc-2.4-r3, 2.6.17-gentoo-r8 i686)
=================================================================
System uname: 2.6.17-gentoo-r8 i686 Intel(R) Pentium(R) M processor 1.50GHz
Gentoo Base System version 1.12.5
Last Sync: Sat, 21 Oct 2006 01:00:01 +0000
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
app-admin/eselect-compiler: [Not Present]
dev-java/java-config: 1.3.7, 2.0.30
dev-lang/python:     2.3.5-r2, 2.4.3-r4
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.13-r4
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.17-r1
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -pipe -march=pentium3 -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/X11/xkb /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/splash /etc/terminfo"
CXXFLAGS="-I/home/roland/progs/testing/include"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://gentoo.mirror.solnet.ch http://mir1.ovh.net/gentoo-distfiles/ http://ftp.snt.utwente.nl/pub/os/linux/gentoo http://mirror.switch.ch/mirror/gentoo/ http://ftp.lug.ro/gentoo/ http://mirrors.sec.informatik.tu-darmstadt.de/gentoo/ http://mirror.pudas.net/gentoo http://pandemonium.tiscali.de/pub/gentoo/"
LDFLAGS="-L/home/roland/progs/testing/lib"
LINGUAS=""
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://server:880/portage"
USE="x86 X Xaw3d acpi alsa apache2 apm berkdb bitmap-fonts bzip2 cli cracklib crypt cups dlloader dri elibc_glibc emboss encode esd fbcon firefox foomaticdb fortran gdbm gif gimp gimpprint gpm gstreamer gtk gtk2 imlib input_devices_evdev input_devices_keyboard input_devices_mouse ipv6 isdnlog java jpeg kerberos kernel_linux libg++ libwww live mad mikmod motif mp3 mpeg ncurses nls nptl nptlonly nsplugin ogg opengl oss pam pcre perl png pppd python qt3 qt4 quicktime readline real reflection sdl session spell spl ssl svgalib tcltk tcpd tiff truetype truetype-fonts type1-fonts udev usb userland_GNU video_cards_apm video_cards_ark video_cards_ati video_cards_chips video_cards_cirrus video_cards_cyrix video_cards_dummy video_cards_fbdev video_cards_glint video_cards_i128 video_cards_i740 video_cards_i810 video_cards_imstt video_cards_mga video_cards_neomagic video_cards_nsc video_cards_nv video_cards_rendition video_cards_s3 video_cards_s3virge video_cards_savage video_cards_siliconmotion video_cards_sis video_cards_sisusb video_cards_tdfx video_cards_tga video_cards_trident video_cards_tseng video_cards_v4l video_cards_vesa video_cards_vga video_cards_via video_cards_vmware video_cards_voodoo vorbis xml xmms xorg xv xvid zlib"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY




Comment 3


Tristan Heaven (RETIRED)






          2007-02-15 09:11:17 UTC
        

Does 0.8 work?




Comment 4


Tristan Heaven (RETIRED)






          2007-02-16 00:26:55 UTC
        

Reopen if that doesn't work.




Comment 5


Jakub Moc (RETIRED)






          2008-02-24 07:56:31 UTC
        

*** Bug 211219 has been marked as a duplicate of this bug. ***




Comment 6


Jakub Moc (RETIRED)






          2008-02-24 07:57:14 UTC
        

*** Bug 192669 has been marked as a duplicate of this bug. ***




Comment 7


Jakub Moc (RETIRED)






          2008-02-24 07:57:57 UTC
        

Reopen wrt Bug 211219




Comment 8


Mr. Bones. (RETIRED)






          2008-02-24 08:34:10 UTC
        

Builds fine for me with stable x86.




Comment 9


SpanKY






          2008-02-24 09:44:49 UTC
        

should be fixed in cvs.  please re-open if not.

http://sources.gentoo.org/dev-games/ode/ode-0.9.ebuild?r1=1.1&r2=1.2
http://sources.gentoo.org/dev-games/ode/files/ode-0.9-x-flags.patch?rev=1.1




Comment 10


Erdem





          2008-02-24 13:54:25 UTC
        

(In reply to comment #9)
> should be fixed in cvs.  please re-open if not.
> 
> http://sources.gentoo.org/dev-games/ode/ode-0.9.ebuild?r1=1.1&r2=1.2
> http://sources.gentoo.org/dev-games/ode/files/ode-0.9-x-flags.patch?rev=1.1
> 

No this patch didn't solve my problem.First of all I opened ode-0.9.ebuild with an editor:

 emacs /usr/portage/dev-games/ode/ode-0.9.ebuild

And added a line as suggested:

 epatch "${FILESDIR}"/${P}-x-flags.patch

And then:

 ebuild /usr/portage/dev-games/ode/ode-0.9.ebuild digest

And I tried to reemerge ode:

 FEATURES="nostrip" PORT_LOGDIR=/var/log/portage emerge ode 

When emerging it says:
 Applying ode-0.9-x-flags.patch

But this time it gives error in other source files:

i686-pc-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I../../include/ode  -O2 -fPIC  -I../../include -I../../include  -I/var/tmp/portage/dev-games/ode-0.9/work/ode-0.9/OPCODE -I/var/tmp/portage/dev-games/ode-0.9/work/ode-0.9/OPCODE/Ice -DdTRIMESH_ENABLED -DdTRIMESH_OPCODE -O1 -march=pentium4 -pipe -g -ggdb -c -o libode_a-obstack.o `test -f 'obstack.cpp' || echo './'`obstack.cpp
i686-pc-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I../../include/ode  -O2 -fPIC  -I../../include -I../../include  -I/var/tmp/portage/dev-games/ode-0.9/work/ode-0.9/OPCODE -I/var/tmp/portage/dev-games/ode-0.9/work/ode-0.9/OPCODE/Ice -DdTRIMESH_ENABLED -DdTRIMESH_OPCODE -O1 -march=pentium4 -pipe -g -ggdb -c -o libode_a-collision_util.o `test -f 'collision_util.cpp' || echo './'`collision_util.cpp
i686-pc-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I../../include/ode  -O2 -fPIC  -I../../include -I../../include  -I/var/tmp/portage/dev-games/ode-0.9/work/ode-0.9/OPCODE -I/var/tmp/portage/dev-games/ode-0.9/work/ode-0.9/OPCODE/Ice -DdTRIMESH_ENABLED -DdTRIMESH_OPCODE -O1 -march=pentium4 -pipe -g -ggdb -c -o libode_a-array.o `test -f 'array.cpp' || echo './'`array.cpp
i686-pc-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I../../include/ode  -O2 -fPIC  -I../../include -I../../include  -I/var/tmp/portage/dev-games/ode-0.9/work/ode-0.9/OPCODE -I/var/tmp/portage/dev-games/ode-0.9/work/ode-0.9/OPCODE/Ice -DdTRIMESH_ENABLED -DdTRIMESH_OPCODE -O1 -march=pentium4 -pipe -g -ggdb -c -o libode_a-ode.o `test -f 'ode.cpp' || echo './'`ode.cpp
i686-pc-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I../../include/ode  -O2 -fPIC  -I../../include -I../../include  -I/var/tmp/portage/dev-games/ode-0.9/work/ode-0.9/OPCODE -I/var/tmp/portage/dev-games/ode-0.9/work/ode-0.9/OPCODE/Ice -DdTRIMESH_ENABLED -DdTRIMESH_OPCODE -O1 -march=pentium4 -pipe -g -ggdb -c -o libode_a-error.o `test -f 'error.cpp' || echo './'`error.cpp
i686-pc-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I../../include/ode  -O2 -fPIC  -I../../include -I../../include  -I/var/tmp/portage/dev-games/ode-0.9/work/ode-0.9/OPCODE -I/var/tmp/portage/dev-games/ode-0.9/work/ode-0.9/OPCODE/Ice -DdTRIMESH_ENABLED -DdTRIMESH_OPCODE -O1 -march=pentium4 -pipe -g -ggdb -c -o libode_a-odemath.o `test -f 'odemath.cpp' || echo './'`odemath.cpp
i686-pc-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I../../include/ode  -O2 -fPIC  -I../../include -I../../include  -I/var/tmp/portage/dev-games/ode-0.9/work/ode-0.9/OPCODE -I/var/tmp/portage/dev-games/ode-0.9/work/ode-0.9/OPCODE/Ice -DdTRIMESH_ENABLED -DdTRIMESH_OPCODE -O1 -march=pentium4 -pipe -g -ggdb -c -o libode_a-collision_kernel.o `test -f 'collision_kernel.cpp' || echo './'`collision_kernel.cpp
i686-pc-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I../../include/ode  -O2 -fPIC  -I../../include -I../../include  -I/var/tmp/portage/dev-games/ode-0.9/work/ode-0.9/OPCODE -I/var/tmp/portage/dev-games/ode-0.9/work/ode-0.9/OPCODE/Ice -DdTRIMESH_ENABLED -DdTRIMESH_OPCODE -O1 -march=pentium4 -pipe -g -ggdb -c -o libode_a-export-dif.o `test -f 'export-dif.cpp' || echo './'`export-dif.cpp
i686-pc-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I../../include/ode  -O2 -fPIC  -I../../include -I../../include  -I/var/tmp/portage/dev-games/ode-0.9/work/ode-0.9/OPCODE -I/var/tmp/portage/dev-games/ode-0.9/work/ode-0.9/OPCODE/Ice -DdTRIMESH_ENABLED -DdTRIMESH_OPCODE -O1 -march=pentium4 -pipe -g -ggdb -c -o libode_a-quickstep.o `test -f 'quickstep.cpp' || echo './'`quickstep.cpp
i686-pc-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I../../include/ode  -O2 -fPIC  -I../../include -I../../include  -I/var/tmp/portage/dev-games/ode-0.9/work/ode-0.9/OPCODE -I/var/tmp/portage/dev-games/ode-0.9/work/ode-0.9/OPCODE/Ice -DdTRIMESH_ENABLED -DdTRIMESH_OPCODE -O1 -march=pentium4 -pipe -g -ggdb -c -o libode_a-collision_quadtreespace.o `test -f 'collision_quadtreespace.cpp' || echo './'`collision_quadtreespace.cpp
i686-pc-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I../../include/ode  -O2 -fPIC  -I../../include -I../../include  -I/var/tmp/portage/dev-games/ode-0.9/work/ode-0.9/OPCODE -I/var/tmp/portage/dev-games/ode-0.9/work/ode-0.9/OPCODE/Ice -DdTRIMESH_ENABLED -DdTRIMESH_OPCODE -O1 -march=pentium4 -pipe -g -ggdb -c -o libode_a-rotation.o `test -f 'rotation.cpp' || echo './'`rotation.cpp
i686-pc-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I../../include/ode  -O2 -fPIC  -I../../include -I../../include  -I/var/tmp/portage/dev-games/ode-0.9/work/ode-0.9/OPCODE -I/var/tmp/portage/dev-games/ode-0.9/work/ode-0.9/OPCODE/Ice -DdTRIMESH_ENABLED -DdTRIMESH_OPCODE -O1 -march=pentium4 -pipe -g -ggdb -c -o libode_a-collision_space.o `test -f 'collision_space.cpp' || echo './'`collision_space.cpp
i686-pc-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I../../include/ode  -O2 -fPIC  -I../../include -I../../include  -I/var/tmp/portage/dev-games/ode-0.9/work/ode-0.9/OPCODE -I/var/tmp/portage/dev-games/ode-0.9/work/ode-0.9/OPCODE/Ice -DdTRIMESH_ENABLED -DdTRIMESH_OPCODE -O1 -march=pentium4 -pipe -g -ggdb -c -o libode_a-collision_cylinder_box.o `test -f 'collision_cylinder_box.cpp' || echo './'`collision_cylinder_box.cpp
i686-pc-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I../../include/ode  -O2 -fPIC  -I../../include -I../../include  -I/var/tmp/portage/dev-games/ode-0.9/work/ode-0.9/OPCODE -I/var/tmp/portage/dev-games/ode-0.9/work/ode-0.9/OPCODE/Ice -DdTRIMESH_ENABLED -DdTRIMESH_OPCODE -O1 -march=pentium4 -pipe -g -ggdb -c -o libode_a-collision_cylinder_sphere.o `test -f 'collision_cylinder_sphere.cpp' || echo './'`collision_cylinder_sphere.cpp
i686-pc-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I../../include/ode  -O2 -fPIC  -I../../include -I../../include  -I/var/tmp/portage/dev-games/ode-0.9/work/ode-0.9/OPCODE -I/var/tmp/portage/dev-games/ode-0.9/work/ode-0.9/OPCODE/Ice -DdTRIMESH_ENABLED -DdTRIMESH_OPCODE -O1 -march=pentium4 -pipe -g -ggdb -c -o libode_a-collision_cylinder_plane.o `test -f 'collision_cylinder_plane.cpp' || echo './'`collision_cylinder_plane.cpp
i686-pc-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I../../include/ode  -O2 -fPIC  -I../../include -I../../include  -I/var/tmp/portage/dev-games/ode-0.9/work/ode-0.9/OPCODE -I/var/tmp/portage/dev-games/ode-0.9/work/ode-0.9/OPCODE/Ice -DdTRIMESH_ENABLED -DdTRIMESH_OPCODE -O1 -march=pentium4 -pipe -g -ggdb -c -o libode_a-sphere.o `test -f 'sphere.cpp' || echo './'`sphere.cpp
In file included from /usr/lib/gcc/i686-pc-linux-gnu/4.2.3/include/g++-v4/bits/stl_algobase.h:70,
                 from /usr/lib/gcc/i686-pc-linux-gnu/4.2.3/include/g++-v4/bits/stl_tree.h:68,
                 from /usr/lib/gcc/i686-pc-linux-gnu/4.2.3/include/g++-v4/set:66,
                 from collision_std.h:33,
                 from sphere.cpp:39:
/usr/lib/gcc/i686-pc-linux-gnu/4.2.3/include/g++-v4/cstdlib:123: error: '::malloc' has not been declared
/usr/lib/gcc/i686-pc-linux-gnu/4.2.3/include/g++-v4/cstdlib:131: error: '::realloc' has not been declared
make[2]: *** [libode_a-sphere.o] Error 1
make[2]: *** Waiting for unfinished jobs....
In file included from /usr/lib/gcc/i686-pc-linux-gnu/4.2.3/include/g++-v4/bits/stl_algobase.h:70,
                 from /usr/lib/gcc/i686-pc-linux-gnu/4.2.3/include/g++-v4/bits/stl_tree.h:68,
                 from /usr/lib/gcc/i686-pc-linux-gnu/4.2.3/include/g++-v4/set:66,
                 from collision_std.h:33,
                 from collision_kernel.cpp:38:
/usr/lib/gcc/i686-pc-linux-gnu/4.2.3/include/g++-v4/cstdlib:123: error: '::malloc' has not been declared
/usr/lib/gcc/i686-pc-linux-gnu/4.2.3/include/g++-v4/cstdlib:131: error: '::realloc' has not been declared
make[2]: *** [libode_a-collision_kernel.o] Error 1
make[2]: Leaving directory `/var/tmp/portage/dev-games/ode-0.9/work/ode-0.9/ode/src'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/dev-games/ode-0.9/work/ode-0.9/ode'
make: *** [all-recursive] Error 1
 
 ERROR: dev-games/ode-0.9 failed.
 Call stack:
               ebuild.sh, line   49:  Called src_compile
             environment, line 2487:  Called die
 The specific snippet of code:
       emake || die "emake failed"
  The die message:
   emake failed
 
 If you need support, post the topmost build error, and the call stack if relevant.
 A complete build log is located at '/var/log/portage/dev-games:ode-0.9:20080224-134432.log'.
 The ebuild environment file is located at '/var/tmp/portage/dev-games/ode-0.9/temp/environment'.

emerge --info

*** Deprecated use of action 'info', use '--info' instead
Portage 2.1.4.4 (default-linux/x86/2007.0, gcc-4.2.3, glibc-2.7-r1, 2.6.23-gentoo-r5 i686)
=================================================================
System uname: 2.6.23-gentoo-r5 i686 Intel(R) Pentium(R) 4 CPU 1.80GHz
Timestamp of tree: Sun, 24 Feb 2008 03:30:01 +0000
ccache version 2.4 [enabled]
app-shells/bash:     3.2_p33
dev-lang/python:     2.5.1-r5
dev-util/ccache:     2.4-r7
sys-apps/baselayout: 1.12.11.1
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.61-r1
sys-devel/automake:  1.5, 1.6.3, 1.7.9-r1, 1.9.6-r2, 1.10.1
sys-devel/binutils:  2.18-r1
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.24
ACCEPT_KEYWORDS="x86 ~x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O1 -march=pentium4 -pipe -g -ggdb"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT=""
CONFIG_PROTECT_MASK="/etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/revdep-rebuild /etc/splash /etc/terminfo /etc/udev/rules.d"
CXXFLAGS="-O1 -march=pentium4 -pipe -g -ggdb"
DISTDIR="/usr/portage/distfiles"
FEATURES="ccache distlocks metadata-transfer parallel-fetch sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="ftp://ftp.gtlib.gatech.edu/pub/gentoo http://www.gtlib.gatech.edu/pub/gentoo http://mirror.mcs.anl.gov/pub/gentoo/ ftp://mirror.mcs.anl.gov/pub/gentoo/ ftp://ftp.romnet.org/gentoo/ "
LANG="tr_TR"
LC_ALL="C"
LINGUAS="tr en"
MAKEOPTS="-j2"
PKGDIR="/mnt/yedek/depo"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portage/local/layman/enlightenment /usr/i686-mingw32/usr/portage /usr/portage/local"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X acl ahavi alsa berkdb bitmap-fonts cli cracklib crypt dbus dri emacs fortran gdbm gif gpm gtk hal iconv isdnlog jpeg midi mmx mudflap ncurses nls nptl nptlonly opengl openmp pam pcre perl png pppd python readline reflection session spl ssl startup-notification symlink tcpd tiff truetype-fonts type1-fonts x86 xorg xpm xscreensaver zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1 emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="keyboard mouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="tr en" USERLAND="GNU" VIDEO_CARDS="nvidia"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LDFLAGS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS





Comment 11


Erdem





          2008-02-24 13:57:39 UTC
        

Created attachment 144498 [details]
Emerge log




Comment 12


Erdem





          2008-02-24 14:06:57 UTC
        

And I recognised that when I comment cstdlib in /usr/lib/gcc/i686-pc-linux-gnu/4.2.3/include/g++-v4/bits/stl_algobase.h like that

// #include <cstdlib>

temporarily and try to reemerge ode. It compiles fine and pass this parts without error until rand function is needed in an other source file which is defined in cstdlib.







Comment 13


Jakub Moc (RETIRED)






          2008-02-24 14:16:58 UTC
        

Reopen.




Comment 14


Jakub Moc (RETIRED)






          2008-02-24 14:17:25 UTC
        

*** Bug 211219 has been marked as a duplicate of this bug. ***




Comment 15


Tupone Alfredo






          2009-02-13 13:01:45 UTC
        

It works fine to me.
Can you retest with a clean portage tree, without makeing any changes to the ebuild.
It's seems that your files have a 1 line offset, looking at the error you raised, so I wonder if there are local changes.




Comment 16


Erdem





          2009-02-13 15:14:11 UTC
        

(In reply to comment #15)
> It works fine to me.
> Can you retest with a clean portage tree, without makeing any changes to the
> ebuild.
> It's seems that your files have a 1 line offset, looking at the error you
> raised, so I wonder if there are local changes.

Ok. I'll give it a try. But it may take some time. As you mentioned it may be a localisation issue.











Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

