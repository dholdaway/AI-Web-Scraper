Title: 81016 – xorg-x11-6.8.1.904 emerge fails
URL: https://bugs.gentoo.org/show_bug.cgi?id=81016

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 81016
xorg-x11-6.8.1.904 emerge fails
Last modified: 2005-02-07 18:50:01 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 81016 
      - xorg-x11-6.8.1.904 emerge fails


Summary:
xorg-x11-6.8.1.904 emerge fails
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo X packagers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-02-06 12:00 UTC by Alexander Hsia





      Modified:
    
2005-02-07 18:50 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Alexander Hsia





          2005-02-06 12:00:43 UTC
        

xorg seems to build, but dies on trying to merge
Console shows this error:

QA Notice: /usr/bin/Xorg is setXid, dynamically linked and using lazy bindings.
This combination is generally discouraged. Try: CFLAGS='-Wl,-z,now' emerge xorg-x11
>>> Completed installing xorg-x11-6.8.1.904 into /var/tmp/portage/xorg-x11-6.8.1.904/image/

>>> Merging x11-base/xorg-x11-6.8.1.904 to /
 * Migrating from /usr/X11R6/bin to /usr/bin...
 * Migration method is rsync.
 *     /usr/X11R6/bin is a symlink, not migrating
 * Migrating from /usr/X11R6/include to /usr/include...
 * Migration method is rsync.
 *     /usr/X11R6/include is a symlink, not migrating
 * Migrating from /usr/X11R6/lib to /usr/lib...
 * Migration method is rsync.
 *   /usr/X11R6/lib isn't a symlink, migrating...

!!! ERROR: x11-base/xorg-x11-6.8.1.904 failed.
!!! Function check_migrate_return, Line 1483, Exitcode 1
!!! rsync failed. Exit code: 23.
!!! If you need support, post the topmost build error, NOT this status message.

!!! FAILED preinst: 1



Reproducible: Always
Steps to Reproduce:
1. emerge xorg-x11 (with ~x86)
2. watch console messages
3.

Actual Results:  
Fails to emerge citing above error

Expected Results:  
Complete merge

Gentoo Base System version 1.6.9
Portage 2.0.51-r15 (default-linux/x86/2004.3, gcc-3.4.3,
glibc-2.3.4.20041102-r0, 2.6.10 i686)
=================================================================
System uname: 2.6.10 i686 Intel(R) Pentium(R) M processor 1500MHz
Python:              dev-lang/python-2.3.4 [2.3.4 (#1, Nov 12 2004, 01:11:58)]
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
dev-lang/python:     2.3.4
sys-devel/autoconf:  2.59-r6, 2.13
sys-devel/automake:  1.8.5-r2, 1.5, 1.4_p6, 1.6.3, 1.7.9, 1.9.4
sys-devel/binutils:  2.15.92.0.2-r2
sys-devel/libtool:   1.5.10-r4
virtual/os-headers:  2.6.8.1-r2
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CFLAGS="-march=pentium-m -O2 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.3/env
/usr/kde/3.3/share/config /usr/kde/3.3/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/share/config /usr/share/texmf/dvipdfm/config/
/usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/
/usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/ /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-march=pentium-m -O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig ccache distlocks sandbox sfperms"
GENTOO_MIRRORS="http://gentoo.osuosl.org/
ftp://distro.ibiblio.org/pub/Linux/distributions/gentoo/
ftp://ftp.ucsb.edu/pub/mirrors/linux/gentoo/ ftp://gentoo.mirrors.pair.com/
http://mirror.tucdemonic.org/gentoo/
http://mirror.clarkson.edu/pub/distributions/gentoo/
http://mirror.datapipe.net/gentoo"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages/pentium-m"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.namerica.gentoo.org/gentoo-portage"
USE="x86 X acpi alsa atlas avi bash-completion berkdb bitmap-fonts blas bonobo
cddb cdf cdparanoia cdr cdrom chroot clisp cmucl crypt cscope cups divx4linux
dnd dts dv dvd dvdr dvdread edl eds encode evms2 evo exif f2c f77 faac faad fam
ffmpeg fftw flac font-server foomaticdb fortran freetype gcj gdbm gif gimp
gimpprint ginac gnome gnomedb gnuplot gphoto2 gpm gps gsl gstreamer gtk gtk2
gtkhtml guile hal hbci hdf hdf5 ieee1394 imagemagick imlib irda jack jack-tmpfs
java javascript jikes joystick jp2 jpeg junit kerberos lapack latex lcd libg++
libwww lirc mad makecheck matroska mikmod mime mmx mmx2 mng motif mozsvg mp3
mpeg mpeg4 mpi mplayer multicall mysql mysqli mythtv ncurses netcdf nls nptl
nvidia nviz offensive ofx oggvorbis openal opengl openssh pam pcmcia pcre pda
pdf pdflib perl pic plotutils png pnp posix ppds pthreads python qt quicktime
readline real rtc samba scanner sdl shared sharedmem skey slang spell sse sse2
ssl stencil-buffer stroke svg svga tcltk tcpd tetex theora threads tiff timidity
truetype truetype-fonts type1 type1-fonts usb v4l v4l2 vnc wifi wmf xine xml
xml2 xmms xosd xpm xprint xrandr xscreensaver xv xvid xvmc zlib"
Unset:  ASFLAGS, CBUILD, CTARGET, LANG, LC_ALL, LDFLAGS




Comment 1


Donnie Berkholz (RETIRED)






          2005-02-06 16:22:14 UTC
        

Attach /var/tmp/portage/xorg-x11-6.8.1.904/tmp/migrate-* please.




Comment 2


Alexander Hsia





          2005-02-07 07:57:29 UTC
        

I managed to get 904 working (last night) by an emerge -C xorg-x11 (to remove 902), and a rm -rf /usr/X11R6. 904 installed cleanly then. Unfortunately, the new emerge overwrote the /var/tmp/portage/xorg-x11 directory and I don't seem to have a migrate-* subdirectory left. Would it be worth the while to re-emerge 902 and see if I can reproduce the error? 




Comment 3


Donnie Berkholz (RETIRED)






          2005-02-07 18:50:01 UTC
        

If you'd like, it could be helpful. I can't guarantee anything, and I can't reproduce it.

migrate-* are files within the temp/ dir, not dirs themselves.

Please reopen if you reproduce.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

