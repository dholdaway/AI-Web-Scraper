Title: 612514 – dev-tex/leaflet-20041222 sandbox violation - ACCESS DENIED:  mkdir:        /root/.texlive/texmf-var/web2c/pdftex
URL: https://bugs.gentoo.org/show_bug.cgi?id=612514

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 612514
dev-tex/leaflet-20041222 sandbox violation - ACCESS DENIED:  mkdir:        /root/.texlive/texmf-var/web2c/pdftex
Last modified: 2017-04-25 06:45:35 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 612514 
      - dev-tex/leaflet-20041222 sandbox violation - ACCESS DENIED:  mkdir:        /root/.texlive/texmf-var/web2c/pdftex


Summary:
dev-tex/leaflet-20041222 sandbox violation - ACCESS DENIED:  mkdir:        /r...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

TeX project








URL:







Whiteboard:




Keywords:









Duplicates (2):
    

612518 612528

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2017-03-13 17:36 UTC by Alessandro Barbieri





      Modified:
    
2017-04-25 06:45 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge info

              (emergeinfoleaflet,10.21 KB,
                text/plain)

            
2017-03-13 17:36 UTC,

            Alessandro Barbieri




Details





build log

              (leaflet,2.91 KB,
                text/plain)

            
2017-03-13 17:37 UTC,

            Alessandro Barbieri




Details





fmtutil log

              (fmtutillog,313.87 KB,
                text/plain)

            
2017-03-14 17:19 UTC,

            Alessandro Barbieri




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Alessandro Barbieri





          2017-03-13 17:36:39 UTC
        

Created attachment 466900 [details]
emerge info

I get this when installing dev-tex/leaflet-20041222

cat /var/log/portage/dev-tex:leaflet-20041222:20170313-171556.log                                                                                                                               
 * Package:    dev-tex/leaflet-20041222
 * Repository: gentoo
 * Maintainer: tex@gentoo.org
 * USE:        abi_x86_64 amd64 elibc_glibc kernel_linux pie ssp userland_GNU
 * FEATURES:   compressdebug fakeroot preserve-libs sandbox splitdebug userpriv usersandbox
>>>  -sandbox(setup)
>>>  +sandbox(unpack)
>>> Unpacking source...
>>> Unpacking leaflet-20041222.zip to /var/tmp/portage/dev-tex/leaflet-20041222/work
 * Applying leaflet-20041222-logging.patch ...
 [ ok ]
>>> Source unpacked in /var/tmp/portage/dev-tex/leaflet-20041222/work
>>>  +sandbox(compile)
>>> Compiling source in /var/tmp/portage/dev-tex/leaflet-20041222/work/leaflet ...
 * Extracting from /var/tmp/portage/dev-tex/leaflet-20041222/work/leaflet/leaflet.ins
>>> Source compiled.
>>> Test phase [not enabled]: dev-tex/leaflet-20041222

>>> Install leaflet-20041222 into /var/tmp/portage/dev-tex/leaflet-20041222/image/ category dev-tex
 * Making documentation: ./leaflet-manual.tex
 * ACCESS DENIED:  mkdir:        /root/.texlive/texmf-var/web2c/pdftex
 * pdflatex failed, trying texi2dvi
 * ERROR: dev-tex/leaflet-20041222::gentoo failed (install phase):
 *   (no error message)
 *
 * Call stack:
 *     ebuild.sh, line  115:  Called src_install
 *   environment, line 2328:  Called latex-package_src_install
 *   environment, line 1578:  Called latex-package_src_doinstall 'all'
 *   environment, line 1569:  Called latex-package_src_doinstall 'styles' 'fonts' 'bin' 'doc'
 *   environment, line 1560:  Called latex-package_src_doinstall 'tex' 'dtx' 'dvi' 'ps' 'pdf'
 *   environment, line 1523:  Called die
 * The specific snippet of code:
 *                               texi2dvi -q -c --language=latex $i &> /dev/null || die;
 *
 * If you need support, post the output of `emerge --info '=dev-tex/leaflet-20041222::gentoo'`,
 * the complete build log and the output of `emerge -pqv '=dev-tex/leaflet-20041222::gentoo'`.
 * The complete build log is located at '/var/log/portage/dev-tex:leaflet-20041222:20170313-171556.log'.
 * For convenience, a symlink to the build log is located at '/var/tmp/portage/dev-tex/leaflet-20041222/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/dev-tex/leaflet-20041222/temp/environment'.
 * Working directory: '/var/tmp/portage/dev-tex/leaflet-20041222/work/leaflet'
 * S: '/var/tmp/portage/dev-tex/leaflet-20041222/work/leaflet'
 * --------------------------- ACCESS VIOLATION SUMMARY ---------------------------
 * LOG FILE: "/var/log/sandbox/sandbox-22544.log"
 *
VERSION 1.0
FORMAT: F - Function called
FORMAT: S - Access Status
FORMAT: P - Path as passed to function
FORMAT: A - Absolute Path (not canonical)
FORMAT: R - Canonical Path
FORMAT: C - Command Line

F: mkdir
S: deny
P: /root/.texlive/texmf-var/web2c/pdftex
A: /root/.texlive/texmf-var/web2c/pdftex
R: /root/.texlive/texmf-var/web2c/pdftex
C: perl /usr/bin/mktexfmt pdflatex.fmt
 * --------------------------------------------------------------------------------




Comment 1


Alessandro Barbieri





          2017-03-13 17:37:41 UTC
        

Created attachment 466902 [details]
build log




Comment 2


Alexis Ballier






          2017-03-14 10:46:00 UTC
        

*** Bug 612528 has been marked as a duplicate of this bug. ***




Comment 3


Alexis Ballier






          2017-03-14 10:46:17 UTC
        

*** Bug 612518 has been marked as a duplicate of this bug. ***




Comment 4


Alexis Ballier






          2017-03-14 10:50:11 UTC
        

your latex installation is likely broken

Please attach the output of 'fmtutil-sys --all' run as root




Comment 5


Alessandro Barbieri





          2017-03-14 17:19:28 UTC
        

Created attachment 467026 [details]
fmtutil log

Attached the output of "sudo fmtutil-sys --all"




Comment 6


Alexis Ballier






          2017-03-14 18:03:09 UTC
        

does it still fail after running that command ?

If yes, could you please attach any .log file that is in the workdir after a failed build ? (leaflet-manual.log would be the most important one)




Comment 7


Alessandro Barbieri





          2017-03-14 18:45:44 UTC
        

Ok, they all builds now.




Comment 8


Alexis Ballier






          2017-04-25 06:45:35 UTC
        

(In reply to Alessandro Barbieri from comment #7)
> Ok, they all builds now.

closing as worksforme then since I've not seen any other report









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

