Title: 98360 – www-apps/trac-0.8.4 - error with trac/subversion python hooks
URL: https://bugs.gentoo.org/show_bug.cgi?id=98360

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 98360
www-apps/trac-0.8.4 - error with trac/subversion python hooks
Last modified: 2005-12-26 12:01:59 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 98360 
      - www-apps/trac-0.8.4 - error with trac/subversion python hooks


Summary:
www-apps/trac-0.8.4 - error with trac/subversion python hooks
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       major
      


Assignee:

AMD64 Project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-07-08 08:53 UTC by Fraser Ruffell





      Modified:
    
2005-12-26 12:01 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



python
web-apps









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Fraser Ruffell





          2005-07-08 08:53:49 UTC
        

I installed www-apps/trac-0.8.4 on my AMD64 gentoo box, however when I try to
run 'trac-admin' I recieve:

Traceback (most recent call last):
  File "/usr/bin/trac-admin", line 34, in ?
    from trac import sync
  File "/usr/lib64/python2.3/site-packages/trac/sync.py", line 22, in ?
    from svn import core, fs, delta, repos
ImportError: No module named svn

The python hooks installed by the subversion package are located in
/usr/lib64/svn-python, which by default is not in python's sys.path.

On my x86 32-bit box the subversion hooks are located in
/usr/lib/python2.3/site-packages/svn which is contained within python's
sys.path, so everything works fine there.

To work around this, I created a file called "svn.pth" located in
/usr/lib64/python2.3/site-packages which contains a single line:

/usr/lib64/svn-python/

Alternativley, a symbolic link could be made, or the subversion modules could be
installed to the python site package directory as is done on x86.

Reproducible: Always
Steps to Reproduce:
1. emerge trac subversion python
2. issue the trac 'trac-admin' command
3.

Actual Results:  
Traceback (most recent call last):
  File "/usr/bin/trac-admin", line 34, in ?
    from trac import sync
  File "/usr/lib64/python2.3/site-packages/trac/sync.py", line 22, in ?
    from svn import core, fs, delta, repos
ImportError: No module named svn

Expected Results:  
Executed the program without error.




Comment 1


Renat Lumpau (RETIRED)






          2005-07-12 17:52:10 UTC
        

Python folks, please advise.




Comment 2


Yogesh





          2005-07-28 07:01:39 UTC
        

Shortcut might be:
ln -s /usr/lib64/svn-python/svn /usr/lib64/python2.3/site-packages/svn
ln -s /usr/lib64/svn-python/libsvn /usr/lib64/python2.3/site-packages/libsvn




Comment 3


Simon Stelling (RETIRED)






          2005-09-02 13:26:31 UTC
        

Fraser, which profile are you using? please post your emerge info




Comment 4


John Bertagnolli





          2005-09-28 06:31:23 UTC
        

I masked trac and two of it's required packages (silvercity and clearsilver) to get it installed. I have trac 
installed cleanly and it is running without a problem. It looks like whatever requirement in python that was 
causing a problem is now fixed. I would recommend unmasking these packages for amd64 and closing 
this bug.




Comment 5


Simon Stelling (RETIRED)






          2005-12-26 12:01:59 UTC
        

can't reproduce it with trac-0.9.2, assuming the new version fixed that issue.
please reopen if you still suffer from this bug









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

