Title: 608014 – app-portage/layman-2.4.1-r1 - run 'layman -L' automagically
URL: https://bugs.gentoo.org/show_bug.cgi?id=608014

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 608014
app-portage/layman-2.4.1-r1 - run 'layman -L' automagically
Last modified: 2017-02-02 23:54:23 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 608014 
      - app-portage/layman-2.4.1-r1 - run 'layman -L' automagically


Summary:
app-portage/layman-2.4.1-r1 - run 'layman -L' automagically
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Portage Development




Classification:

Unclassified




Component:

Tools

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       enhancement
      


Assignee:

Portage Tools Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2017-02-02 12:34 UTC by Martin Mokrejš





      Modified:
    
2017-02-02 23:54 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Martin Mokrejš





          2017-02-02 12:34:47 UTC
        

Hi,
  the following cannot be performed in a series if 'foo' was the only (read last) overlay installed or when user just installed layman for the first time on a particular host and knows from top of his head what he/she want to install:

layman -d foo; layman -a foo

  It seems 'layman -L' precreates the necessary directory structure and obtain soem XML listing of repositories. Personally I would have preferred if 'layman -a foo' eventually called on its ow 'layman -L' if that was needed.


  Currently I have to do depending on the situation one of these two:
new host# layman -L; layman -a foo

reinstall# layman -d foo; layman -L; layman -a foo




Comment 1


Brian Dolbec (RETIRED)






          2017-02-02 23:54:23 UTC
        



Here is the list of actions that automatically run a "layman -f":

            # Actions that implicitly call the fetch operation before
            fetch_actions = ['sync', 'sync_all', 'list']

It has always been that you must do a -f,--fetch or -L before adding overlays.  As without the list, it has no reference data to use to know how to install the overlay.  Also, doing a fetch always before an add could be an unwanted behavior.  Especially if someone is in the process of changing links and needing to test the changes before submitting them to be updated in the repositories.xml list.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

