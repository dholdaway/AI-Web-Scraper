Title: 161834 – x11-terms/rxvt-unicode-8.1 fails on sparc
URL: https://bugs.gentoo.org/show_bug.cgi?id=161834

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 161834
x11-terms/rxvt-unicode-8.1 fails on sparc
Last modified: 2007-02-06 16:25:43 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 161834 
      - x11-terms/rxvt-unicode-8.1 fails on sparc


Summary:
x11-terms/rxvt-unicode-8.1 fails on sparc
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

Sparc
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Sparc Porters








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-01-12 22:39 UTC by Togge





      Modified:
    
2007-02-06 16:25 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge --info

              (Unsaved Document 1,7.99 KB,
                text/plain)

            
2007-01-12 22:40 UTC,

            Togge




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Togge





          2007-01-12 22:39:43 UTC
        

When emerging the compile dies with

rxvtperl.c: In function ‘void boot_urxvt(CV*)’:
rxvtperl.c:3692: error: ‘__offsetof__’ was not declared in this scope

If I change to the source dir (/var/tmp/portage...) and issue "make" then the compile works. Some ebuild issue?




Comment 1


Togge





          2007-01-12 22:40:11 UTC
        

Created attachment 106738 [details]
emerge --info




Comment 2


Jason Wever (RETIRED)






          2007-02-03 21:05:06 UTC
        

I have no problems building it here on a SPARC box with stable keywords.  However there are two items of concern here.  

1) You are mixing stable and testing (~sparc) keywords.  This can often contribute to breaking things.  Minimizing the number of packages that are marked with testing keywords may help.

2) Your overlay contains unknown elements which could be influencing things here.     Are there any packages in your overlay that are in the dependency chain for rxvt-unicode?




Comment 3


Togge





          2007-02-04 14:14:10 UTC
        

Hi,

Same problem on a ~sparc box. PORT_OVERLAY contains no packages that are in portage so no deps (direct or indirect) from overlay.

And as mentioned in comment #1: It works if I manually runs make in the portage configured dir (var/tmp/portage...).
There must(?) be some difference in the portage environment and the one I get in a shell.




Comment 4


Jason Wever (RETIRED)






          2007-02-05 23:40:38 UTC
        

Hrm, I can't replicate it on a ~sparc host either.  Have you tried emerging it without distcc in FEATURES in make.conf?




Comment 5


Togge





          2007-02-06 16:25:43 UTC
        

After a emerge --sync && emerge -uDN world rxvt-unicode emerges fine.
Closing...

Thanks for the bug hunting!









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

