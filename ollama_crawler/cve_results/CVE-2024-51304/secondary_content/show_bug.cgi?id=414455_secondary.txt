Title: 414455 – dev-tex/chktex USE=doc - rm: cannot remove `HTML': No such file or directory
URL: https://bugs.gentoo.org/show_bug.cgi?id=414455

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 414455
dev-tex/chktex USE=doc - rm: cannot remove `HTML': No such file or directory
Last modified: 2015-04-29 15:04:24 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 414455 
      - dev-tex/chktex USE=doc - rm: cannot remove `HTML': No such file or directory


Summary:
dev-tex/chktex USE=doc - rm: cannot remove `HTML': No such file or directory
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

TeX project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2012-05-03 09:27 UTC by 1126





      Modified:
    
2015-04-29 15:04 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


1126





          2012-05-03 09:27:41 UTC
        

When emerging dev-tex/chktex-1.6.* (it fails with 1.6.4 as well as with 1.6.6) with USE="doc", it fails. Without this use-flag, it compiles.


Reproduceability: always.



Here is the build.log:

[32;01m * [39;49;00mPackage:    dev-tex/chktex-1.6.6
[32;01m * [39;49;00mRepository: gentoo
[32;01m * [39;49;00mMaintainer: tex@gentoo.org
[32;01m * [39;49;00mUSE:        amd64 doc elibc_glibc kernel_linux multilib userland_GNU
[32;01m * [39;49;00mFEATURES:   sandbox
>>> Unpacking source...
>>> Unpacking chktex-1.6.6.tar.gz to /var/tmp/portage/dev-tex/chktex-1.6.6/work
>>> Source unpacked in /var/tmp/portage/dev-tex/chktex-1.6.6/work
>>> Compiling source in /var/tmp/portage/dev-tex/chktex-1.6.6/work/chktex-1.6.6 ...
./configure --prefix=/usr --build=x86_64-pc-linux-gnu --host=x86_64-pc-linux-gnu --mandir=/usr/share/man --infodir=/usr/share/info --datadir=/usr/share --sysconfdir=/etc --localstatedir=/var/lib --libdir=/usr/lib64 --disable-debug-info
checking whether lacheck replacement should be installed... no
checking whether runtime debug info should be used... no
checking whether the emacs hack should be installed... no
checking whether coverage testing is enabled... no
checking for x86_64-pc-linux-gnu-gcc... x86_64-pc-linux-gnu-gcc
checking for C compiler default output file name... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... no
checking for suffix of executables... 
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether x86_64-pc-linux-gnu-gcc accepts -g... yes
checking for x86_64-pc-linux-gnu-gcc option to accept ISO C89... none needed
checking CFLAGS for strict prototypes... -Wstrict-prototypes
checking for C compiler warning flags... -Wall
checking for a BSD-compatible install... /usr/bin/install -c
checking whether ln -s works... yes
checking for a thread-safe mkdir -p... /bin/mkdir -p
checking for perl5... no
checking for perl... /usr/bin/perl
checking whether perl is v5 or higher... yes
checking for groff... groff -man -P-bu -Tlatin1
checking for latex... /usr/bin/latex
checking for dvips... /usr/bin/dvips
checking for lynx... /usr/bin/lynx
checking for latex2html... /usr/bin/latex2html
checking for tgetent in -ltermlib... no
checking for tgetent in -ltermcap... no
checking how to run the C preprocessor... x86_64-pc-linux-gnu-gcc -E
checking for grep that handles long lines and -e... /bin/grep
checking for egrep... /bin/grep -E
checking for ANSI C header files... yes
checking for dirent.h that defines DIR... yes
checking for library containing opendir... none required
checking for sys/types.h... yes
checking for sys/stat.h... yes
checking for stdlib.h... yes
checking for string.h... yes
checking for memory.h... yes
checking for strings.h... yes
checking for inttypes.h... yes
checking for stdint.h... yes
checking for unistd.h... yes
checking limits.h usability... yes
checking limits.h presence... yes
checking for limits.h... yes
checking stat.h usability... no
checking stat.h presence... no
checking for stat.h... no
checking for strings.h... (cached) yes
checking stdarg.h usability... yes
checking stdarg.h presence... yes
checking for stdarg.h... yes
checking for sys/stat.h... (cached) yes
checking termcap.h usability... yes
checking termcap.h presence... yes
checking for termcap.h... yes
checking termlib.h usability... no
checking termlib.h presence... no
checking for termlib.h... no
checking for unistd.h... (cached) yes
checking for an ANSI C-conforming const... yes
checking for inline... inline
checking for size_t... yes
checking for vprintf... yes
checking for _doprnt... no
checking for access... yes
checking for closedir... yes
checking for fileno... yes
checking for isatty... yes
checking for opendir... yes
checking for readdir... yes
checking for stat... yes
checking for strcasecmp... yes
checking for strdup... yes
checking for strlwr... no
checking for strtol... yes
configure: creating ./config.status
config.status: creating stamp-h
config.status: creating Makefile
config.status: creating deweb
config.status: creating rmeheader
config.status: creating ChkTeX.tex
config.status: creating config.h
make -j12 
Makefile:120: .ChkTeX.d: No such file or directory
Makefile:120: .FindErrs.d: No such file or directory
Makefile:120: .OpSys.d: No such file or directory
Makefile:120: .Resource.d: No such file or directory
Makefile:120: .Utility.d: No such file or directory
x86_64-pc-linux-gnu-gcc -M -I. -I. -DHAVE_CONFIG_H -DSYSCONFDIR=\"/etc\" -D__unix__ Utility.c > .Utility.d.tmp
x86_64-pc-linux-gnu-gcc -M -I. -I. -DHAVE_CONFIG_H -DSYSCONFDIR=\"/etc\" -D__unix__ Resource.c > .Resource.d.tmp
x86_64-pc-linux-gnu-gcc -M -I. -I. -DHAVE_CONFIG_H -DSYSCONFDIR=\"/etc\" -D__unix__ OpSys.c > .OpSys.d.tmp
x86_64-pc-linux-gnu-gcc -M -I. -I. -DHAVE_CONFIG_H -DSYSCONFDIR=\"/etc\" -D__unix__ FindErrs.c > .FindErrs.d.tmp
x86_64-pc-linux-gnu-gcc -M -I. -I. -DHAVE_CONFIG_H -DSYSCONFDIR=\"/etc\" -D__unix__ ChkTeX.c > .ChkTeX.d.tmp
sed 's,\(ChkTeX\)\.o *:,\1.o .ChkTeX.d : Makefile,g' .ChkTeX.d.tmp > .ChkTeX.d
sed 's,\(Utility\)\.o *:,\1.o .Utility.d : Makefile,g' .Utility.d.tmp > .Utility.d
sed 's,\(OpSys\)\.o *:,\1.o .OpSys.d : Makefile,g' .OpSys.d.tmp > .OpSys.d
rm -f .Utility.d.tmp 2>/dev/null
sed 's,\(Resource\)\.o *:,\1.o .Resource.d : Makefile,g' .Resource.d.tmp > .Resource.d
rm -f .ChkTeX.d.tmp 2>/dev/null
rm -f .OpSys.d.tmp 2>/dev/null
rm -f .Resource.d.tmp 2>/dev/null
sed 's,\(FindErrs\)\.o *:,\1.o .FindErrs.d : Makefile,g' .FindErrs.d.tmp > .FindErrs.d
rm -f .FindErrs.d.tmp 2>/dev/null
x86_64-pc-linux-gnu-gcc -I. -I. -DHAVE_CONFIG_H -DSYSCONFDIR=\"/etc\" -D__unix__ -march=native -O2 -pipe -Wstrict-prototypes -Wall -c ChkTeX.c -o ChkTeX.o
x86_64-pc-linux-gnu-gcc -I. -I. -DHAVE_CONFIG_H -DSYSCONFDIR=\"/etc\" -D__unix__ -march=native -O2 -pipe -Wstrict-prototypes -Wall -c FindErrs.c -o FindErrs.o
x86_64-pc-linux-gnu-gcc -I. -I. -DHAVE_CONFIG_H -DSYSCONFDIR=\"/etc\" -D__unix__ -march=native -O2 -pipe -Wstrict-prototypes -Wall -c OpSys.c -o OpSys.o
x86_64-pc-linux-gnu-gcc -I. -I. -DHAVE_CONFIG_H -DSYSCONFDIR=\"/etc\" -D__unix__ -march=native -O2 -pipe -Wstrict-prototypes -Wall -c Resource.c -o Resource.o
x86_64-pc-linux-gnu-gcc -I. -I. -DHAVE_CONFIG_H -DSYSCONFDIR=\"/etc\" -D__unix__ -march=native -O2 -pipe -Wstrict-prototypes -Wall -c Utility.c -o Utility.o
ChkTeX.c: In function ‘main’:
ChkTeX.c:353:13: warning: format not a string literal and no format arguments
ChkTeX.c:371:13: warning: format not a string literal and no format arguments
ChkTeX.c:379:13: warning: format not a string literal and no format arguments
ChkTeX.c: In function ‘ParseArgs’:
ChkTeX.c:956:17: warning: format not a string literal and no format arguments
ChkTeX.c: At top level:
ChkTeX.c:106:20: warning: ‘OnText’ defined but not used
ChkTeX.c:108:20: warning: ‘OffText’ defined but not used
x86_64-pc-linux-gnu-gcc -Wl,-O1 -Wl,--as-needed -o chktex ChkTeX.o FindErrs.o OpSys.o Resource.o Utility.o 
make -j12 html 
rm -r HTML
rm: cannot remove `HTML': No such file or directory
make: [html] Error 1 (ignored)
/bin/mkdir -p HTML
/usr/bin/perl ./MakeHTML.pl ChkTeX.tex > HTML/ChkTeX.tex
cd HTML; /usr/bin/latex2html ChkTeX.tex
defined(%hash) is deprecated at /usr/lib64/latex2html/latex2html.pl line 492.
	(Maybe you should just omit the defined()?)
defined(%hash) is deprecated at /usr/lib64/latex2html/latex2html.pl line 2064.
	(Maybe you should just omit the defined()?)
defined(%hash) is deprecated at /usr/lib64/latex2html/latex2html.pl line 9065.
	(Maybe you should just omit the defined()?)
$* is no longer supported at /usr/lib64/latex2html/latex2html.pl line 10566.
Error: No such image type ''.
       This installation supports (first is default): 
Compilation failed in require at /usr/bin/latex2html line 39.
make: *** [html] Error 2
emake failed
 [31;01m*[0m ERROR: dev-tex/chktex-1.6.6 failed (compile phase):
 [31;01m*[0m   emake html failed
 [31;01m*[0m 
 [31;01m*[0m Call stack:
 [31;01m*[0m     ebuild.sh, line  85:  Called src_compile
 [31;01m*[0m   environment, line 142:  Called die
 [31;01m*[0m The specific snippet of code:
 [31;01m*[0m           emake html || die "emake html failed";
 [31;01m*[0m 
 [31;01m*[0m If you need support, post the output of 'emerge --info =dev-tex/chktex-1.6.6',
 [31;01m*[0m the complete build log and the output of 'emerge -pqv =dev-tex/chktex-1.6.6'.
 [31;01m*[0m The complete build log is located at '/var/tmp/portage/dev-tex/chktex-1.6.6/temp/build.log'.
 [31;01m*[0m The ebuild environment file is located at '/var/tmp/portage/dev-tex/chktex-1.6.6/temp/environment'.
 [31;01m*[0m S: '/var/tmp/portage/dev-tex/chktex-1.6.6/work/chktex-1.6.6'




Comment 1


Jens-Uwe Peter





          2013-10-30 09:35:36 UTC
        

Seems to be an issue if latex2html is broken (after rebuilding latex2html I could successful merge chktex).




Comment 2


Alexis Ballier






          2015-04-29 15:04:24 UTC
        

(In reply to Jens-Uwe Peter from comment #1)
> Seems to be an issue if latex2html is broken (after rebuilding latex2html I
> could successful merge chktex).

lets close it then i suppose (unless there's a bug in latex2html)









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

