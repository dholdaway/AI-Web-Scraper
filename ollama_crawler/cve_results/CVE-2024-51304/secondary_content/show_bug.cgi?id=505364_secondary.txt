Title: 505364 – media-gfx/blender-2.70 depends on package.masked >=media-video/ffmpeg-2.1.4:0
URL: https://bugs.gentoo.org/show_bug.cgi?id=505364

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 505364
media-gfx/blender-2.70 depends on package.masked >=media-video/ffmpeg-2.1.4:0
Last modified: 2014-03-31 15:36:31 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 505364 
      - media-gfx/blender-2.70 depends on package.masked >=media-video/ffmpeg-2.1.4:0


Summary:
media-gfx/blender-2.70 depends on package.masked >=media-video/ffmpeg-2.1.4:0
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Julian Ospald








URL:







Whiteboard:




Keywords:









Duplicates (1):
    

506136

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2014-03-22 17:28 UTC by Oleh





      Modified:
    
2014-03-31 15:36 UTC
      (History)
    




          CC List:
        

5 
          users
          
            (show)
          



cyp561
fcoiffie
graphics+disabled
lu_zero
randy-andy-









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Oleh





          2014-03-22 17:28:59 UTC
        

=media-gfx/blender-2.70 has dependency on masked ffmpeg versions:
ebuild excerpt
ffmpeg? (
        || (
            >=media-video/ffmpeg-2.1.4:0[x264,mp3,encode,theora,jpeg2k?]
            >=media-video/libav-9[x264,mp3,encode,theora,jpeg2k?]
        )
    )
It not possible to emerge blender with ffmpeg USE flag, because of mask:

# Alexis Ballier <aballier@gentoo.org> (20 Jul 2013)
# New major release and lots of packages fail to build.
# Tracker bug is: https://bugs.gentoo.org/show_bug.cgi?id=476490
Normally, blender should depend on virtual/ffmpeg?

Reproducible: Always




Comment 1


Julian Ospald





          2014-03-22 19:48:29 UTC
        

I don't understand how this is a bug. Repoman reports no problems, the package manager has to deal with dependency resolution, not me.

I will not use virtual/ffmpeg as it will break blender.

Either unmask >=media-video/ffmpeg-2.1.4:0 or switch to libav.




Comment 2


Oleh





          2014-03-23 16:06:08 UTC
        

sorry, this is no invalid bug. packages shouldn't depend on masked ones.




Comment 3


Julian Ospald





          2014-03-23 16:13:42 UTC
        

(In reply to Oleg from comment #2)
> sorry, this is no invalid bug. packages shouldn't depend on masked ones.

It does not, it is a "|| ( bar/masked-foo bar/unmasked-foo )"
string.

It's completely mindless to hardmask this package or the ffmpeg USE flag for libav users.

If portage is unable to print proper solutions to a problem (there are a lot more cases when it fails to do so), then that has to be improved on the PM side.




Comment 4


Jeroen Roovers (RETIRED)






          2014-03-30 22:41:06 UTC
        

*** Bug 506136 has been marked as a duplicate of this bug. ***









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

