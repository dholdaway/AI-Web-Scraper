Title: 436358 – dev-haskell/mtl-2.1.1 unusable
URL: https://bugs.gentoo.org/show_bug.cgi?id=436358

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 436358
dev-haskell/mtl-2.1.1 unusable
Last modified: 2012-09-26 22:31:52 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 436358 
      - dev-haskell/mtl-2.1.1 unusable


Summary:
dev-haskell/mtl-2.1.1 unusable
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2012-09-26 22:16 UTC by Vivek Shah





      Modified:
    
2012-09-26 22:31 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge --info log

              (emerge-info.log,4.93 KB,
                text/plain)

            
2012-09-26 22:16 UTC,

            Vivek Shah




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Vivek Shah





          2012-09-26 22:16:39 UTC
        

Created attachment 325078 [details]
emerge --info log

xmonad-0.9 was failing to compile on my system during the upgrade process. After that I unmasked xmonad-0.10 and xmonad-contrib-0.10. Now when I start up xmonad I get a failure "Xmonad.Stackset module is not found"

The output of ghci ~/.xmonad/xmonad.hs is as follows
ghci -v ~/.xmonad/xmonad.hs
GHCi, version 6.12.3: http://www.haskell.org/ghc/  :? for help
Glasgow Haskell Compiler, Version 6.12.3, for Haskell 98, stage 2 booted by GHC version 6.12.3
Using binary package database: /usr/lib64/ghc-6.12.3/package.conf.d/package.cache
Using binary package database: /home/bonii/.ghc/x86_64-linux-6.12.3/package.conf.d/package.cache
package X11-1.5.0.1-39d3e3549132c255b401c1cd01d20c57 is shadowed by package X11-1.5.0.1-2b3cebd259e4119623c27a15ff4c2e34
package xmonad-0.10-ae59cc0269db99708df3bd046e6b0676 is shadowed by package xmonad-0.10-e8dfa5890d348113f497a6a3b9f28f2d
package xmonad-0.10-e8dfa5890d348113f497a6a3b9f28f2d is unusable due to missing or recursive dependencies:
  mtl-2.0.1.0-3f9e375da935e2a5248eaad918c634c8
package xmonad-contrib-0.10-93a95ac9f99a5374744d34ec7bea6dac is unusable due to missing or recursive dependencies:
  mtl-2.0.1.0-3f9e375da935e2a5248eaad918c634c8 xmonad-0.10-e8dfa5890d348113f497a6a3b9f28f2d
package xmonad-contrib-0.10-ba753871053eda0a3753d065fd862def is shadowed by package xmonad-contrib-0.10-93a95ac9f99a5374744d34ec7bea6dac
hiding package Cabal-1.8.0.6 to avoid conflict with later version Cabal-1.14.0
hiding package time-1.1.4 to avoid conflict with later version time-1.2.0.3
hiding package base-3.0.3.2 to avoid conflict with later version base-4.2.0.2
hiding package random-1.0.0.2 to avoid conflict with later version random-1.0.1.1
hiding package syb-0.1.0.2 to avoid conflict with later version syb-0.3.7
wired-in package ghc-prim mapped to ghc-prim-0.2.0.0-5da421112969a971aa3433fdf154b37a
wired-in package integer-gmp mapped to integer-gmp-0.2.0.1-67f3940ec8fd509683668f40451c9ca1
wired-in package base mapped to base-4.2.0.2-d09520f27d14dc38c6981fa942393083
wired-in package rts mapped to builtin_rts
wired-in package haskell98 mapped to haskell98-1.0.1.1-4d2891ad99eae334ff8234bcfbddce06
wired-in package template-haskell mapped to template-haskell-2.4.0.1-e9e9c63092746bd4a3f64cc37ddb1e06
wired-in package dph-seq mapped to dph-seq-0.4.0-5ed11291726022ff6bb22049478399e8
wired-in package dph-par mapped to dph-par-0.4.0-5a5a24e36763903b0b26f03d8d510a95
Hsc static flags: -static
Loading package ghc-prim ... linking ... done.
Loading package integer-gmp ... linking ... done.
Loading package base ... linking ... done.
Loading package ffi-1.0 ... linking ... done.
*** Chasing dependencies:
Chasing modules from: 
Stable obj: []
Stable BCO: []
unload: retaining objs []
unload: retaining bcos []
Ready for upsweep []
Upsweep completely successful.
*** Deleting temp files:
Deleting: 
*** Chasing dependencies:
Chasing modules from: */home/bonii/.xmonad/xmonad.hs

/home/bonii/.xmonad/xmonad.hs:22:17:
    Could not find module `XMonad.StackSet':
      locations searched:
        XMonad/StackSet.hs
        XMonad/StackSet.lhs
Failed, modules loaded: none.


The output of ghc-pkg check is as follows
ghc-pkg check
There are problems in package xmonad-contrib-0.10:
  dependency "mtl-2.0.1.0-3f9e375da935e2a5248eaad918c634c8" doesn't exist
There are problems in package xmonad-0.10:
  dependency "mtl-2.0.1.0-3f9e375da935e2a5248eaad918c634c8" doesn't exist

The following packages are broken, either because they have a problem
listed above, or because they depend on a broken package.
xmonad-contrib-0.10
xmonad-0.10

I can reinstall the package mtl without any issues.




Comment 1


Vivek Shah





          2012-09-26 22:31:52 UTC
        

Looks like a ghc-pkg caching issue, fixed the problem by :
1. rm -rf ~/.ghc/x86_64-linux-6.12.3/package.conf.d/
2. ghc-pkg recache --user









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

