Title: 439442 – sys-fs/udisks-1.0.4-r3: doesn't detect label and doesn't correctly set mount point permissions
URL: https://bugs.gentoo.org/show_bug.cgi?id=439442

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 439442
sys-fs/udisks-1.0.4-r3: doesn't detect label and doesn't correctly set mount point permissions
Last modified: 2012-10-23 20:23:45 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 439442 
      - sys-fs/udisks-1.0.4-r3: doesn't detect label and doesn't correctly set mount point permissions


Summary:
sys-fs/udisks-1.0.4-r3: doesn't detect label and doesn't correctly set mount ...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Freedesktop bugs








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2012-10-23 19:05 UTC by Amadeusz Żołnowski (RETIRED)





      Modified:
    
2012-10-23 20:23 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



ssuominen









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge --info sys-fs/udisks sys-fs/udev

              (emere.info,5.52 KB,
                text/plain)

            
2012-10-23 19:07 UTC,

            Amadeusz Żołnowski (RETIRED)




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Amadeusz Żołnowski (RETIRED)






          2012-10-23 19:05:04 UTC
        

udisks doesn't display device label anymore. I have recently updated udev from sys-fs/udev-171-r8 to sys-fs/udev-194.

$ udisks --show-info /dev/sdc1 | grep label
  label:                       
    label:               

$ sudo blkid /dev/sdc1
/dev/sdc1: LABEL="GOODRAM_APZ" UUID="5AA1-3522" TYPE="vfat"

Another problem is that mount point permissions aren't correctly set anymore:

$ udisks --mount /dev/sdc1 
Mounted /org/freedesktop/UDisks/devices/sdc1 at /media/disk

$ ls -l 
total 4
drwxr-xr-x 2 root root 4096 Jan  1  1970 disk

It has been mounted with regular user but the user cannot write there.

Reproducible: Always




Comment 1


Amadeusz Żołnowski (RETIRED)






          2012-10-23 19:07:05 UTC
        

Created attachment 327248 [details]
emerge --info sys-fs/udisks sys-fs/udev




Comment 2


Amadeusz Żołnowski (RETIRED)






          2012-10-23 19:10:59 UTC
        

Samuli, I'm CC'ing you, because this directly affects bashmount.  It is where I have noticed the problem in the first place.  Maybe you have an idea what's going on.




Comment 3


Amadeusz Żołnowski (RETIRED)






          2012-10-23 19:34:31 UTC
        

It's OK, sorry. udev restart or reboot was required about which I have totally forgot. :-)




Comment 4


Samuli Suominen (RETIRED)






          2012-10-23 20:23:45 UTC
        

(In reply to comment #2)
> Samuli, I'm CC'ing you, because this directly affects bashmount.  It is
> where I have noticed the problem in the first place.  Maybe you have an idea
> what's going on.

If bashmount gets a bug, it will be lastrited for still using the obsolete udisks:0 as opposed to maintained udisks:2

As in, udisks:0 is _completely dead codebase_ and if there are unupdated programs that break and is still using it, they will be punted

But I'm glad you solved your problem for now









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

