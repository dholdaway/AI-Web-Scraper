Title: 377551 – Missing dependence media-libs/libwebp in www-client/chromium-13.0.782.99 ebuild
URL: https://bugs.gentoo.org/show_bug.cgi?id=377551

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 377551
Missing dependence media-libs/libwebp in www-client/chromium-13.0.782.99 ebuild
Last modified: 2011-08-03 22:19:09 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 377551 
      - Missing dependence media-libs/libwebp in www-client/chromium-13.0.782.99 ebuild


Summary:
Missing dependence media-libs/libwebp in www-client/chromium-13.0.782.99 ebuild
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Chromium Project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2011-08-03 12:33 UTC by Emeric Verschuur





      Modified:
    
2011-08-03 22:19 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Emeric Verschuur





          2011-08-03 12:33:30 UTC
        

Chromium need media-libs/libwebp to build

In a first time I had the following error:
webp/decode.h file not found

Next I emerged media-libs/libwebp then I do not have any more this error

emerge --info                                                                                                                                                    
Portage 2.1.10.9 (default/linux/amd64/10.0/desktop/kde, gcc-4.5.2, glibc-2.13-r4, 3.0.0-gentoo x86_64)                                                                              
=================================================================                                                                                                                   
System uname: Linux-3.0.0-gentoo-x86_64-Intel-R-_Core-TM-_i7_CPU_Q_740_@_1.73GHz-with-gentoo-2.0.3                                                                                  
Timestamp of tree: Tue, 02 Aug 2011 09:30:01 +0000                                                                                                                                  
distcc 3.1 x86_64-pc-linux-gnu [disabled]                                                                                                                                           
ccache version 3.1.5 [enabled]                                                                                                                                                      
app-shells/bash:          4.2_p10                                                                                                                                                   
dev-java/java-config:     2.1.11-r3                                                                                                                                                 
dev-lang/python:          2.7.2-r2, 3.2-r2                                                                                                                                          
dev-util/ccache:          3.1.5                                                                                                                                                     
dev-util/cmake:           2.8.5-r2                                                                                                                                                  
dev-util/pkgconfig:       0.26                                                                                                                                                      
sys-apps/baselayout:      2.0.3                                                                                                                                                     
sys-apps/openrc:          0.8.3-r1                                                                                                                                                  
sys-apps/sandbox:         2.5                                                                                                                                                       
sys-devel/autoconf:       2.13, 2.68                                                                                                                                                
sys-devel/automake:       1.9.6-r3, 1.10.3, 1.11.1-r1                                                                                                                               
sys-devel/binutils:       2.20.1-r1                                                                                                                                                 
sys-devel/gcc:            4.5.2                                                                                                                                                     
sys-devel/gcc-config:     1.4.1-r1
sys-devel/libtool:        2.4-r1
sys-devel/make:           3.82-r1
sys-kernel/linux-headers: 2.6.38 (virtual/os-headers)
sys-libs/glibc:           2.13-r4
Repositories: gentoo
ACCEPT_KEYWORDS="amd64 x86 ~amd64 ~x86"
ACCEPT_LICENSE="*"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=native -O3 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/config /usr/share/gnupg/qualified.txt /usr/share/openvpn/easy-rsa /var/bind /var/lib/hsqldb"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php5.3/ext-active/ /etc/php/cgi-php5.3/ext-active/ /etc/php/cli-php5.3/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c"
CXXFLAGS="-march=native -O3 -pipe"
DISTDIR="/usr/portage/distfiles"
EMERGE_DEFAULT_OPTS="--jobs=6 --load-average=16 --keep-going"
FEATURES="assume-digests binpkg-logs ccache distlocks ebuild-locks fixlafiles fixpackages news parallel-fetch protect-owned sfperms strict unknown-features-warn unmerge-logs unmerge-orphans userfetch"
FFLAGS=""
GENTOO_MIRRORS="http://mirror.ovh.net/gentoo-distfiles/"
LANG="fr_FR"
LC_ALL="fr_FR.UTF-8"
LDFLAGS="-Wl,-O1 -Wl,--as-needed"
LINGUAS="fr"
MAKEOPTS="-j9"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY=""
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="3dnow X a52 aac acl acpi alsa amd64 apache2 bash-completion berkdb bluetooth branding bzip2 cairo cdda cdr cli consolekit cracklib crypt cups curl cxx dbus declarative directfb dri dts dvd dvdr emboss encode exif fam ffmpeg firefox flac fortran ftp fuse gdbm gdu gif gpm gtk iconv ieee1394 ipv6 java jpeg jpeg2k kde kipi latex lcms ldap libnotify lm_sensors mad mmap mmx mng modules mp3 mp4 mpeg mplayer mudflap multilib mysql ncurses network networkmanager nls nptl nptlonly nsplugin ntfs odbc ogg opengl openmp pam pango pcre pdf perl phonon php plasma png policykit postgres ppds pppd pulseaudio python qt3support qt4 quicktime readline reiserfs samba sdl semantic-desktop session spell sql sqlite sqlite3 sse sse2 ssl startup-notification svg sysfs tcpd threads tiff truetype udev unicode usb vorbis x264 xcb xcomposite xine xinerama xml xorg xscreensaver xulrunner xv xvid zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic auth_digest authn_anon authn_dbd authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cgi cgid dav dav_fs dav_lock dbd deflate dir disk_cache env expires ext_filter file_cache filter headers ident imagemap include info log_config logio mem_cache mime mime_magic negotiation proxy proxy_ajp proxy_balancer proxy_connect proxy_http rewrite setenvif so speling status unique_id userdir usertrack vhost_alias" APACHE2_MPMS="worker" CALLIGRA_FEATURES="braindump flow karbon kexi kpresenter krita tables words" CAMERAS="ptp2" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf superstar2 timing tsip tripmate tnt ubx" INPUT_DEVICES="evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="fr" PHP_TARGETS="php5-3" RUBY_TARGETS="ruby18" USERLAND="GNU" VIDEO_CARDS="nv vesa nvidia nouveau" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account" 
Unset:  CPPFLAGS, CTARGET, INSTALL_MASK, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Paweł Hajdan, Jr. (RETIRED)






          2011-08-03 17:09:09 UTC
        

Weird, I think it's in dependencies:

http://sources.gentoo.org/cgi-bin/viewvc.cgi/gentoo-x86/www-client/chromium/chromium-13.0.782.99.ebuild?revision=1.1&view=markup

http://sources.gentoo.org/cgi-bin/viewvc.cgi/gentoo-x86/www-client/chromium/chromium-13.0.782.107.ebuild?revision=1.1&view=markup

Do you have some more info that could indicate it's indeed a bug in the ebuild?




Comment 2


Emeric Verschuur





          2011-08-03 18:08:30 UTC
        

yep, that's what I saw... but I don't know why portage doesn't detect this dependence and doesn't add it to the mege list (before chomium)...




Comment 3


Paweł Hajdan, Jr. (RETIRED)






          2011-08-03 18:28:17 UTC
        

(In reply to comment #2)
> yep, that's what I saw... but I don't know why portage doesn't detect this
> dependence and doesn't add it to the mege list (before chomium)...

Well, at least one thing seems suspicious about your system:

> ACCEPT_KEYWORDS="amd64 x86 ~amd64 ~x86"

Are you sure you're not passing some strange flags to emerge? Do you have EMERGE_DEFAULT_OPTS set? How are you emerging chromium?




Comment 4


Emeric Verschuur





          2011-08-03 22:13:22 UTC
        

(In reply to comment #3)
> (In reply to comment #2)
> > yep, that's what I saw... but I don't know why portage doesn't detect this
> > dependence and doesn't add it to the mege list (before chomium)...
> 
> Well, at least one thing seems suspicious about your system:
> 
> > ACCEPT_KEYWORDS="amd64 x86 ~amd64 ~x86"
I agree... I had set it there are long time at time where I had no much know about gentoo...
In fact in my case ACCEPT_KEYWORDS="~amd64" should be enough.
But I don't think that it could have an impact on my problem.
> 
> Are you sure you're not passing some strange flags to emerge? Do you have
> EMERGE_DEFAULT_OPTS set? How are you emerging chromium?

I think no, I just have --jobs --load-average and --keep-going flags




Comment 5


Emeric Verschuur





          2011-08-03 22:19:09 UTC
        

> How are you emerging chromium?
simply by the following command:
emerge www-client/chromium









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

