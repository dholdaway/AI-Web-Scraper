Title: 150209 – gnome-utils-2.14.0 failed complile during a revdep-rebuild -X
URL: https://bugs.gentoo.org/show_bug.cgi?id=150209

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 150209
gnome-utils-2.14.0 failed complile during a revdep-rebuild -X
Last modified: 2006-10-31 13:45:28 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 150209 
      - gnome-utils-2.14.0 failed complile during a revdep-rebuild -X


Summary:
gnome-utils-2.14.0 failed complile during a revdep-rebuild -X
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] GNOME

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux Gnome Desktop Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-10-05 13:59 UTC by Rob Munsch





      Modified:
    
2006-10-31 13:45 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Rob Munsch





          2006-10-05 13:59:30 UTC
        

Ze Googles, ze do nosink!  Here, zarro boogs found.  Okay...
During upgrade to modular X, revdep-rebuild crashes to a halt on this package:
-----
gnome_dictionary_applet-gdict-applet.o: In function `gdict_applet_init':
gdict-applet.c:(.text+0x2091): undefined reference to `panel_applet_set_background_widget'
collect2: ld returned 1 exit status
-----
Call stack:
  ebuild.sh, line 1546:   Called dyn_compile
  ebuild.sh, line 937:   Called src_compile
  ebuild.sh, line 1255:   Called gnome2_src_compile
  gnome2.eclass, line 64:   Called die
-----
I was hoping to find what was missing.  No success.  I eventually ran into a demand for g_print() which the system can't find, and neither can I...

-----
root@randomaccess ~ # emerge --info
Portage 2.1.1 (default-linux/x86/2006.0, gcc-4.1.1, glibc-2.4-r3, 2.6.17-gentoo-r8 i686)
=================================================================
System uname: 2.6.17-gentoo-r8 i686 Intel(R) Pentium(R) 4 CPU 2.80GHz
Gentoo Base System version 1.12.5
Last Sync: Thu, 05 Oct 2006 07:30:01 +0000
app-admin/eselect-compiler: [Not Present]
dev-java/java-config: 1.2.11-r1
dev-lang/python:     2.3.4-r1, 2.4.3-r1
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.13-r4
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.17-r1
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium4 -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/lib/mozilla/defaults/pref /usr/share/X11/xkb /usr/share/config /var/bind"
CONFIG_PROTECT_MASK="/etc/env.d /etc/gconf /etc/revdep-rebuild /etc/terminfo"
CXXFLAGS="-O2 -march=pentium4 -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LINGUAS="en"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 3dnow X aac acl aim alsa apache2 apm avi berkdb bitmap-fonts bzip2 cdr cli crypt cups dbus divx4linux dlloader dri dv dvd dvdr dvdread eds elibc_glibc emboss encode esd evo flac foomaticdb fortran ftp gd gdbm gif glut gnome gphoto2 gpm gstreamer gtk gtk2 gtkhtml hal icq imagemagick imap imlib innodb input_devices_keyboard input_devices_mouse ipv6 isdnlog jabber javascript jpeg kde kernel_linux ldap libg++ libwww linguas_en mad mikmod motif mozilla mp3 mpeg msn mysql ncurses nls nocd nptl ogg opengl oscar oss pam pcre pdflib perl php png posix pppd python qt qt3 qt4 quicktime readline reflection samba sdl session sharedext skey sockets spell spl ssl svg symlink tcpd threads tiff truetype truetype-fonts type1-fonts udev usb userland_GNU vcd vhosts video_cards_nvidia video_cards_vesa videos vorbis win32codecs wxwindows xine xml xmms xorg xv xvid yahoo zlib"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, MAKEOPTS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY




Comment 1


Daniel Gryniewicz (RETIRED)






          2006-10-06 10:42:24 UTC
        

panel_applet_set_background_widget() is in gnome-panel, which gnome-utils depends on.  g_print() is in glib, which everythign depends on.  I'd say do a revdep-rebuild, but you were doing that already.

Try emerging gnome-panel first?




Comment 2


Rob Munsch





          2006-10-06 13:20:47 UTC
        

root@randomaccess ~ # emerge -pv gnome-panel

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild     U ] gnome-extra/evolution-data-server-1.6.2 [1.2.3] USE="ipv6 ldap ssl -debug -doc -kerberos -krb4% -nntp (-mozilla%*)" 7,011 kB
[ebuild     U ] x11-libs/libwnck-2.14.2 [2.10.3] USE="-debug -doc (-static%)" 449 kB
[ebuild     U ] gnome-base/gnome-desktop-2.14.2 [2.10.2] USE="-debug -doc% (-static%)" 1,159 kB
[ebuild     U ] gnome-base/gnome-panel-2.14.2 [2.10.2] USE="eds -debug -doc (-static%)" 2,510 kB

-----
So hey, look at that library in there.  If this fails i will try remerging glib as well and see what happens.  I am doing the above emerge now and will post results.




Comment 3


Rob Munsch





          2006-10-06 14:02:17 UTC
        

emerging the panel finished successfully, as above: i am trying revdep-rebuild now (no -X).  NOTE:  i got this at the end-

-----
QA Notice: ECLASS 'portability' inherited illegally in gnome-base/gnome-panel-2.10.2
-----





Comment 4


Rob Munsch





          2006-10-06 14:03:38 UTC
        

BAD idea, the revdep rebuild with out -X.  Trying again with -X option, as i am on kde 3.5 and left to its own devices, it tried looking for 3.4 packages!
More after this finishes.




Comment 5


Rob Munsch





          2006-10-10 04:37:06 UTC
        

Emerging the panel, then revdep-rebuild -X, completed successfully.
I've no idea how it didn't find g_print() as i have glib.  I assume something was updated which emerging the panel fixed?

I'm going to restart the X server now...




Comment 6


Rob Munsch





          2006-10-11 11:39:11 UTC
        

This seems to have succeeded.  (i emerged the nvidia driver again of course).

So is this not the intended behaviour, or was the fault on my end?  I don't use Gnome, so i'd be suspect that having to emerge the panel just to get a should-have-it-already C function was supposed to happen.  

Anything i can do to get more info for you?




Comment 7


John N. Laliberte (RETIRED)






          2006-10-31 13:45:28 UTC
        

it looks like you half updated your system, and you needed to do that plus a revdep-rebuild.

closing per reporters comments.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

