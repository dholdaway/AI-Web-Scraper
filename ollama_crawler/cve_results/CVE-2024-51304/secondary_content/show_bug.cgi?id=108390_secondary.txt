Title: 108390 – net-snmp 5.2.1 seems unable to control logging, i.e.  -Lsd 0-3
URL: https://bugs.gentoo.org/show_bug.cgi?id=108390

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 108390
net-snmp 5.2.1 seems unable to control logging, i.e.  -Lsd 0-3
Last modified: 2006-01-20 15:04:02 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 108390 
      - net-snmp 5.2.1 seems unable to control logging, i.e.  -Lsd 0-3


Summary:
net-snmp 5.2.1 seems unable to control logging, i.e.  -Lsd 0-3
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Server

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Netmon project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-10-07 07:53 UTC by Heitzso





      Modified:
    
2006-01-20 15:04 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Heitzso





          2005-10-07 07:53:10 UTC
        

in /etc/conf.d/snmpd I enabled the system logging as per
the comment, but I have mrtg running on another box hitting
my gentoo sys every 5 minutes.  Each snmp info request from
mrtg logs a line in messages and I do not want that to happen.
Man on snmpd re -Ls routes over to man snmpcmd, and there the
example is given -Le #-# to control which events are logged.
Trying the same with -Lsd #-# breaks.  In fact snmpd, snmpd
cannot afterwards be started back up without restarting the
whole box (!).  (i.e. snmpd does not start up because it has
trouble with -Ls 0-3 option, but if you drop that and go back
to something that works, you cannot do a /etc/init.d/snmpd start
or restart.  Only way to get snmpd functioning again is to kick
the box.  This restart of snmpd ugliness, while ugly, is not the
core of this bug report.  Core of the bug report is that, using
the man page as a guide, I cannot figure out how to get snmpd to
limit logging to just emergency, errors, etc. (and I've spent 2 or
3 hours googling, experimenting, restarting the box, etc.).  IF
someone on your end knows how to do this then adding that as a comment
to /etc/conf.d/snmpd would be GREATLY appreciated.

Reproducible: Always
Steps to Reproduce:
1. enable logging to messages via /etc/conf.d/snmpd
2. restart snmpd --- everything is fine except that logging is very verbose
3. change '-Lsd' to '-Lsd 0-3' or '-Ls0-3d' or '-Ls3d' and attempt restart
snmpd does not restart, and often kinks up the system so have to kick the box

Actual Results:  
can't get snmpd to start and limit log messages as per man page

Expected Results:  
1) man page should be better, another couple of KNOWN TO WORK examples would be nice
2) a working example of using syslog logging facility with limits on what is
logged in /etc/conf.d/snmpd would be sufficient
3) in any case, when snmpd crashes because of a funky command line argument that
shouldn't keep it from being restarted with fixed command line arguments in
/etc/conf.d/snmpd  via a /etc/init.d/snmpd start




Comment 1


Benjamin Smee (strerror) (RETIRED)






          2006-01-20 15:04:02 UTC
        

is this still valid? On the latest ebuilds? If so reopen and provide the appropriate information so we can reproduce.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

