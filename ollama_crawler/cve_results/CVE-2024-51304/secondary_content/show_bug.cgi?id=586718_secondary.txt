Title: 586718 – app-misc/screen-4.4.0 - makeinfo ./screen.texinfo -o screen.info : Can't locate Locale/Messages.pm in @INC (you may need to install the Locale::Messages module)
URL: https://bugs.gentoo.org/show_bug.cgi?id=586718

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 586718
app-misc/screen-4.4.0 - makeinfo ./screen.texinfo -o screen.info : Can't locate Locale/Messages.pm in @INC (you may need to install the Locale::Messages module)
Last modified: 2016-06-27 08:56:48 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 586718 
      - app-misc/screen-4.4.0 - makeinfo ./screen.texinfo -o screen.info : Can't locate Locale/Messages.pm in @INC (you may need to install the Locale::Messages module)


Summary:
app-misc/screen-4.4.0 - makeinfo ./screen.texinfo -o screen.info : Can't loca...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Sven Wegener








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2016-06-22 15:15 UTC by Martin Mokrejš





      Modified:
    
2016-06-27 08:56 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



jer
shell-tools









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build.log

              (build.log,11.25 KB,
                text/plain)

            
2016-06-22 15:15 UTC,

            Martin Mokrejš




Details





perl-cleaner all output bzip2

              (nohup.out.bz2,80.27 KB,
                application/x-bzip)

            
2016-06-27 07:01 UTC,

            Martin Mokrejš




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Martin Mokrejš





          2016-06-22 15:15:36 UTC
        

Created attachment 438418 [details]
build.log

Hi,
 seems there is a missing dependency somewhere:

>>> Source configured.
>>> Compiling source in /scratch/mmokrejs/gentoo/var/tmp/portage/app-misc/screen-4.4.0/work/screen-4.4.0 ...
make SHELL=/scratch/mmokrejs/gentoo/bin/bash -j4 comm.h term.h 
AWK=gawk CC="x86_64-pc-linux-gnu-gcc -O2 -pipe -O2 -pipe -march=native -D_GNU_SOURCE" srcdir=. sh ./comm.sh
AWK=gawk srcdir=. sh ./term.sh
make SHELL=/scratch/mmokrejs/gentoo/bin/bash -j4 osdef.h 
CPP="x86_64-pc-linux-gnu-gcc -E -DMAXWIN=100 -DNONETHACK -DETCSCREENRC='"/scratch/mmokrejs/gentoo/etc/screenrc"' -DSCREENENCODINGS='"/scratch/mmokrejs/gentoo/usr/share/screen/utf8encodings"'" srcdir=. sh ./osdef.sh
make SHELL=/scratch/mmokrejs/gentoo/bin/bash -j4 -C doc screen.info 
make: Entering directory '/scratch/mmokrejs/gentoo/var/tmp/portage/app-misc/screen-4.4.0/work/screen-4.4.0/doc'
makeinfo ./screen.texinfo -o screen.info
Can't locate Locale/Messages.pm in @INC (you may need to install the Locale::Messages module) (@INC contains: /etc/perl /scratch/mmokrejs/gentoo/usr/local/lib/perl5/5.24.0/x86_64-linux-thread-multi /scratch/mmokrejs/gentoo/usr/local/lib/perl5/5.24.0 /scratch/mmokrejs/gentoo/usr/lib/perl5/vendor_perl/5.24.0/x86_64-linux-thread-multi /scratch/mmokrejs/gentoo/usr/lib/perl5/vendor_perl/5.24.0 /scratch/mmokrejs/gentoo/usr/lib/perl5/5.24.0/x86_64-linux-thread-multi /scratch/mmokrejs/gentoo/usr/lib/perl5/5.24.0 . /scratch/mmokrejs/gentoo/usr/share/texinfo) at /scratch/mmokrejs/gentoo/usr/share/texinfo/Texinfo/Report.pm line 49.
BEGIN failed--compilation aborted at /scratch/mmokrejs/gentoo/usr/share/texinfo/Texinfo/Report.pm line 49.
Compilation failed in require at /scratch/mmokrejs/gentoo/usr/share/texinfo/Texinfo/Parser.pm line 55.
BEGIN failed--compilation aborted at /scratch/mmokrejs/gentoo/usr/share/texinfo/Texinfo/Parser.pm line 55.
Compilation failed in require at /scratch/mmokrejs/gentoo/usr/bin/makeinfo line 107.
BEGIN failed--compilation aborted at /scratch/mmokrejs/gentoo/usr/bin/makeinfo line 107.
make: *** [Makefile:31: screen.info] Error 2
make: Leaving directory '/scratch/mmokrejs/gentoo/var/tmp/portage/app-misc/screen-4.4.0/work/screen-4.4.0/doc'
 * ERROR: app-misc/screen-4.4.0::gentoo_prefix failed (compile phase):
 *   emake failed
 * 
 * If you need support, post the output of `emerge --info '=app-misc/screen-4.4.0::gentoo_prefix'`,
 * the complete build log and the output of `emerge -pqv '=app-misc/screen-4.4.0::gentoo_prefix'`.



$ emerge --info '=app-misc/screen-4.4.0::gentoo_prefix'
Portage 2.2.28-prefix (python 2.7.11-final-0, prefix/linux/amd64, gcc-5.3.0, unavailable, 2.6.32-573.12.1.el6.Bull.88.x86_64 x86_64)
=================================================================
                         System Settings
=================================================================
System uname: Linux-2.6.32-573.12.1.el6.Bull.88.x86_64-x86_64-Intel-R-_Xeon-R-_CPU_E5-2670_0_@_2.60GHz-with-redhat-6.4-Santiago
KiB Mem:   131942764 total, 106616788 free
KiB Swap:   65536128 total,  64440608 free
Timestamp of repository gentoo_prefix: Mon, 20 Jun 2016 21:57:56 +0000
sh bash 4.3_p39
ld GNU ld (Gentoo 2.24 p1.3) 2.24
app-shells/bash:          4.3_p39::gentoo_prefix
dev-java/java-config:     2.2.0-r3::gentoo_prefix
dev-lang/perl:            5.24.0-r1::gentoo_prefix
dev-lang/python:          2.7.11::gentoo_prefix
dev-util/cmake:           3.5.2-r1::gentoo_prefix
dev-util/pkgconfig:       0.29.1::gentoo_prefix
sys-devel/autoconf:       2.69::gentoo_prefix
sys-devel/automake:       1.13.4::gentoo_prefix, 1.14.1::gentoo_prefix, 1.15::gentoo_prefix
sys-devel/binutils:       2.24-r2::gentoo_prefix
sys-devel/gcc:            4.2.4-r2::gentoo_prefix, 4.8.5::gentoo_prefix, 4.9.3::gentoo_prefix, 5.3.0::gentoo_prefix
sys-devel/gcc-config:     1.8-r1::gentoo_prefix
sys-devel/libtool:        2.4.6-r1::gentoo_prefix
sys-devel/make:           4.2.1::gentoo_prefix
sys-kernel/linux-headers: 4.6::gentoo_prefix (virtual/os-headers)
Repositories:

gentoo_prefix
    location: /scratch/mmokrejs/gentoo/usr/portage
    sync-type: rsync
    sync-uri: rsync://rsync.prefix.bitzolder.nl/gentoo-portage-prefix
    priority: -1000
    aliases: gentoo

science
    location: /scratch/mmokrejs/gentoo/var/lib/layman/science
    masters: gentoo_prefix
    priority: 0

haskell
    location: /scratch/mmokrejs/gentoo/var/lib/layman/haskell
    masters: gentoo_prefix
    priority: 1

x-layman
    location: /scratch/mmokrejs/gentoo/var/lib/layman
    masters: gentoo_prefix
    priority: 2

ACCEPT_KEYWORDS="~amd64-linux"
ACCEPT_LICENSE="* -@EULA"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -pipe -O2 -pipe -march=native"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/gnupg/qualified.txt"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/revdep-rebuild /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c"
CXXFLAGS="-O2 -pipe -O2 -pipe -march=native"
DISTDIR="/scratch/mmokrejs/gentoo/usr/portage/distfiles"
FCFLAGS="-O2 -pipe"
FEATURES="assume-digests binpkg-logs case-insensitive-fs collision-protect config-protect-if-modified distlocks ebuild-locks fixlafiles force-prefix merge-sync news parallel-fetch preserve-libs protect-owned sfperms strict unknown-features-warn unmerge-logs unmerge-orphans unprivileged userfetch userpriv usersandbox usersync"
FFLAGS="-O2 -pipe"
GENTOO_MIRRORS="http://gentoo.wheel.sk/ http://ftp.fi.muni.cz/pub/linux/gentoo/ http://gentoo.mirror.web4u.cz/ rsync://gentoo.mirror.dkm.cz/gentoo/ ftp://gentoo.mirror.web4u.cz/"
LDFLAGS="-Wl,-O1"
MAKEOPTS="-j4"
PKGDIR="/scratch/mmokrejs/gentoo/usr/portage/packages"
PORTAGE_CONFIGROOT="/scratch/mmokrejs/gentoo/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --omit-dir-times --compress --force --whole-file --delete --stats --human-readable --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --exclude=/.git"
PORTAGE_TMPDIR="/scratch/mmokrejs/gentoo/var/tmp"
USE="amd64 berkdb bzip2 cli cracklib crypt cxx dri fortran gdbm iconv ipv6 mmx mmxext modules ncurses nls nptl openmp pcre prefix prefix-guest readline seccomp session sse sse2 ssl tcpd unicode zlib" ABI_X86="64" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" APACHE2_MODULES="authn_core authz_core socache_shmcb unixd actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cgi cgid dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CALLIGRA_FEATURES="kexi words flow plan sheets stage tables krita karbon braindump author" CAMERAS="ptp2" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" CPU_FLAGS_X86="aes avx mmx mmxext popcnt sse sse2 sse3 sse4_1 sse4_2 ssse3" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf superstar2 timing tsip tripmate tnt ublox ubx" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LIBREOFFICE_EXTENSIONS="presenter-console presenter-minimizer" OFFICE_IMPLEMENTATION="libreoffice" PHP_TARGETS="php5-5" PYTHON_SINGLE_TARGET="python2_7" PYTHON_TARGETS="python2_7" RUBY_TARGETS="ruby20 ruby21" USERLAND="GNU" VIDEO_CARDS="amdgpu fbdev intel nouveau radeon radeonsi vesa dummy v4l" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account"
USE_PYTHON="2.7"
Unset:  CC, CPPFLAGS, CTARGET, CXX, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Jeroen Roovers (RETIRED)






          2016-06-26 09:43:07 UTC
        

Something seems to be wrong with your dev-perl/libintl-perl which should provide Locale::Messages.




Comment 2


Jeroen Roovers (RETIRED)






          2016-06-26 09:44:59 UTC
        

app-misc/screen depends on
  sys-apps/texinfo which depends on
    dev-libs/libintl-perl




Comment 3


Jeroen Roovers (RETIRED)






          2016-06-26 09:45:26 UTC
        

(In reply to Jeroen Roovers from comment #2)
>     dev-libs/libintl-perl

dev-perl/libintl-perl




Comment 4


Martin Mokrejš





          2016-06-27 06:57:47 UTC
        

So I ran 'perl-cleaner all'. I passed behind this original issue, now am stuck at bug #587214. I will attach the full output of perl-cleaner, but here are some lines maybe of interest:

>>> Emerging (7 of 24) dev-perl/libintl-perl-1.240.0-r2::gentoo_prefix
 * libintl-perl-1.24.tar.gz SHA256 SHA512 WHIRLPOOL size ;-) ...         [ ok ]
>>> Unpacking source...
>>> Unpacking libintl-perl-1.24.tar.gz to /scratch/mmokrejs/gentoo/var/tmp/portage/dev-perl/libintl-perl-1.240.0-r2/work
>>> Source unpacked in /scratch/mmokrejs/gentoo/var/tmp/portage/dev-perl/libintl-perl-1.240.0-r2/work
>>> Preparing source in /scratch/mmokrejs/gentoo/var/tmp/portage/dev-perl/libintl-perl-1.240.0-r2/work/libintl-perl-1.24 ...
 * Applying libintl-perl-1.240.0-sanity-2.patch ...
 [ ok ]
>>> Source prepared.
>>> Configuring source in /scratch/mmokrejs/gentoo/var/tmp/portage/dev-perl/libintl-perl-1.240.0-r2/work/libintl-perl-1.24 ...
 * Using ExtUtils::MakeMaker
 * perl Makefile.PL PREFIX=/scratch/mmokrejs/gentoo/usr INSTALLDIRS=vendor INSTALLMAN3DIR=none DESTDIR=/scratch/mmokrejs/gentoo/var/tmp/portage/dev-perl/libintl-perl-1.240.0-r2/image/
Checking whether we can compile the XS version ... yes.
=> Building the XS version of libintl-perl.
Checking if your kit is complete...
Looks good
Warning: NAME must be a package name
Warning (mostly harmless): No library found for -lintl
Warning (mostly harmless): No library found for -liconv
Generating a Unix-style Makefile
Writing Makefile for Locale::gettext_xs
Writing MYMETA.yml and MYMETA.json
Generating a Unix-style Makefile
Writing Makefile for libintl-perl
Writing MYMETA.yml and MYMETA.json
>>> Source configured.




Comment 5


Martin Mokrejš





          2016-06-27 07:01:35 UTC
        

Created attachment 438938 [details]
perl-cleaner all output bzip2




Comment 6


Jeroen Roovers (RETIRED)






          2016-06-27 08:29:15 UTC
        

screen has a problem because texinfo has a problem because perl has a problem because perl-cleaner has a problem. And this is in a prefix setting. I don't see how we could begin to fix any *specific* issue here.




Comment 7


Martin Mokrejš





          2016-06-27 08:56:48 UTC
        

(In reply to Martin Mokrejš from comment #4)
> Warning: NAME must be a package name
> Warning (mostly harmless): No library found for -lintl
> Warning (mostly harmless): No library found for -liconv

Provided this was a new install I assume I did not have to re-run perl-cleaner because of a perl upgrade (I did not upgrade it). However, I assume some circular dependency caused this to be beneficial. Maybe the cause is that I have too old glibc, hence no iconv, libintl and that could have been captured by some DEPENDencies? Maybe the above message is false?

I understand Gentoo:Prefix is a special thing and certainly would the docs be clearer to me at the beginning, I would have tried bootstrap_rap.sh instead with a current glibc right in the beginning.


I have dev-libs/icu-55.1 installed, though.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

