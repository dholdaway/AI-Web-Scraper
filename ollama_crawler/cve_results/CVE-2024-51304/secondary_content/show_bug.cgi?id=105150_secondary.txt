Title: 105150 – Segmentation Fault In Thunderbird Opening A Specific Message In Inbox
URL: https://bugs.gentoo.org/show_bug.cgi?id=105150

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 105150
Segmentation Fault In Thunderbird Opening A Specific Message In Inbox
Last modified: 2006-10-06 05:22:59 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 105150 
      - Segmentation Fault In Thunderbird Opening A Specific Message In Inbox


Summary:
Segmentation Fault In Thunderbird Opening A Specific Message In Inbox
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Mozilla Gentoo Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-09-07 07:28 UTC by Tim Redman





      Modified:
    
2006-10-06 05:22 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Thunderbird Inbox File

              (Inbox.gz,10.53 KB,
                application/octet-stream)

            
2005-09-07 07:31 UTC,

            Tim Redman




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Tim Redman





          2005-09-07 07:28:47 UTC
        

I sent a little love note to Cox Communications about a rogue machine they had
spewing Mytob garbage at my mail server.  I sent them excerpts from my log
files, and identified the machine name and IP.

The problem is that their mail daemon sends back an auto-response with my
original message attached.  Whenever I try to view that message in Thunderbird,
TB segfaults.  It only happens with that message, no others.

Thunderbird Version: mail-client/mozilla-thunderbird-bin-1.0.6-r3
Extensions: Enigmail 0.92.0

Message contents to follow in an attachment.

Reproducible: Always
Steps to Reproduce:
1. Start Thunderbird
2. Open Inbox
3. Open Message

Actual Results:  
When the segfault occurs after launching from KDE, Thunderbird simply closes and
pops up the Netscape Quality Agent.

When the segfault occurs after launching from a shell, I get this:
mailCharsetLoadListener: ISO-8859-1
/usr/libexec/mozilla-launcher: line 116: 13986 Segmentation fault      "$mozbin"
"$@"
thunderbird-bin exited with non-zero status (139)


Expected Results:  
No segfault, just mail-reading goodness.

Portage 2.0.51.22-r2 (default-linux/x86/2005.0, gcc-3.3.6, glibc-2.3.5-r1,
2.6.12-gentoo-r9 i686)
=================================================================
System uname: 2.6.12-gentoo-r9 i686 Intel(R) Pentium(R) 4 CPU 3.00GHz
Gentoo Base System version 1.6.13
ccache version 2.3 [enabled]
dev-lang/python:     2.3.5
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6
sys-devel/binutils:  2.15.92.0.2-r10
sys-devel/libtool:   1.5.18-r1
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-Os -march=pentium4 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env
/usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-Os -march=pentium4 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://gentoo.osuosl.org/
ftp://ftp.gtlib.cc.gatech.edu/pub/gentoo ftp://ftp.ussg.iu.edu/pub/linux/gentoo
http://open-systems.ufl.edu/mirrors/gentoo"
MAKEOPTS="-j6"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.davidandgoliathtees.com/gentoo-portage"
USE="x86 X alsa apache2 avi berkdb bitmap-fonts browserplugin cdr chroot crypt
cups curl dga divx4linux dv dvd dvdr eds emboss encode faad fam flac foomaticdb
gd gdbm gif gimpprint gstreamer gtk gtk2 icq imagemagick imap imlib innodb java
jpeg junit kde lcms ldap lesstif libg++ libwww live mad maildir mmx mng mozilla
mozsvg mp3 mpeg msn mysql ncurses nptl nptlonly nsplugin odbc ogg oggvorbis
opengl oss pam pdflib perl png ppds python qt quicktime radeon readline samba
sdl sensord softmmu spell sse ssl svg svga symlink tcltk tcpd tiff truetype
truetype-fonts type1-fonts usb userlocales v4l v4l2 visualization vorbis xml
xml2 xmms xscreensaver xv xvid zlib video_cards_radeon userland_GNU kernel_linux
elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS




Comment 1


Tim Redman





          2005-09-07 07:31:56 UTC
        

Created attachment 67827 [details]
Thunderbird Inbox File

This is the Inbox file from my Thunderbird profile.  The Inbox only contains
the one message, but because the total size of the message is rather lengthy
(~230K), it's gzip'ed and provided here as an attachment.




Comment 2


Tim Redman





          2005-09-12 07:44:21 UTC
        

I noticed today that I get the same segfault when opening the original email
from the Sent Items folder.  Obviously, this email was composed within
Thunderbird.  I sent out another, similar notice to Cox, since the spam traffic
from the same IP address is ongoing, and Thunderbird segfaults on that one, too.
 The original email, attached to this bug was 211K, which included a text/plain
attachment.  The most recent message I sent to Cox was over 700K, also including
a text/plain attachment.

I was holding off on reporting this bug upstream, since I'm using a -bin ebuild.




Comment 3


Stuart Longland (RETIRED)






          2006-09-25 19:38:08 UTC
        

If it's a -bin ebuild, then that's definately an upstream issue.

Using mozilla-thunderbird-1.5.0.7, I was able to view the email without any issues.  The steps I took:

1. Downloaded and decompressed the attachment here.
2. Renamed the output to have a .eml extension
3. In Thunderbird: clicked File, Open Saved Message..., picked out the .eml file in question

The email was successfully displayed in a new window.

Can you try with a newer release of Thunderbird and/or try the source release rather than the binary release?  If the source version works but the binary version still fails, then you may need to take this upstream to Mozilla.




Comment 4


Tim Redman





          2006-09-29 18:16:49 UTC
        

Actually, I've been doing both for the past 6 months.  I'm running Thunderbird 1.5.0.7 from source, and it seems to have no problem opening the file.  This bug may be more academic than anything now, particularly considering the original was discovered under the now obsolete 1.0.6.  I'm willing to let it go, but I don't know if any Gentoo users are still using the older version.




Comment 5


Stuart Longland (RETIRED)






          2006-10-06 05:22:59 UTC
        

Fair enough.  Well, for now I'll mark it RESO::WORKSFORME.  If you strike further problems, feel free to re-open the bug.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

