Title: 248813 – app-emulation/vmware-workstation-6.5.0.118166: vmplayer doesn't work. Asks for running vmware-config.pl
URL: https://bugs.gentoo.org/show_bug.cgi?id=248813

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 248813
app-emulation/vmware-workstation-6.5.0.118166: vmplayer doesn't work. Asks for running vmware-config.pl
Last modified: 2008-12-31 02:50:28 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 248813 
      - app-emulation/vmware-workstation-6.5.0.118166: vmplayer doesn't work. Asks for running vmware-config.pl


Summary:
app-emulation/vmware-workstation-6.5.0.118166: vmplayer doesn't work. Asks fo...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo VMWare Bug Squashers [disabled]








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-11-25 19:05 UTC by Rafael





      Modified:
    
2008-12-31 02:50 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Rafael





          2008-11-25 19:05:17 UTC
        

I installed app-emulation/vmware-workstation-6.5.0.118166, because the stable version doesn't work with the latest stable kernel in portage. The problem is that when I rum vmplayer it shows a message saying it has not been correctly configured and asking ofr running vmware-config.pl, which I could'nt find.

Reproducible: Always

Actual Results:  
Logging to /tmp/vmware-rktesser/setup-5448.log
filename:       /lib/modules/2.6.26.7/misc/vmmon.ko
license:        GPL v2
description:    VMware Virtual Machine Monitor.
author:         VMware, Inc.
depends:        
vermagic:       2.6.26.7 SMP mod_unload PENTIUM4 4KSTACKS 
filename:       /lib/modules/2.6.26.7/misc/vmnet.ko
license:        GPL v2
description:    VMware Virtual Networking Driver.
author:         VMware, Inc.
depends:        
vermagic:       2.6.26.7 SMP mod_unload PENTIUM4 4KSTACKS 
filename:       /lib/modules/2.6.26.7/misc/vmblock.ko
version:        1.1.2.0
license:        GPL v2
description:    VMware Blocking File System
author:         VMware, Inc.
srcversion:     768B08090715A2D8C721BF3
depends:        
vermagic:       2.6.26.7 SMP mod_unload PENTIUM4 4KSTACKS 
parm:           root:The directory the file system redirects to. (charp)
filename:       /lib/modules/2.6.26.7/misc/vmci.ko
license:        GPL v2
description:    VMware Virtual Machine Communication Interface (VMCI).
author:         VMware, Inc.
depends:        
vermagic:       2.6.26.7 SMP mod_unload PENTIUM4 4KSTACKS 
filename:       /lib/modules/2.6.26.7/misc/vsock.ko
license:        GPL v2
version:        1.0.0.0
description:    VMware Virtual Socket Family
author:         VMware, Inc.
srcversion:     EC2E0BE1F6FB039D1109ADB
depends:        vmci
vermagic:       2.6.26.7 SMP mod_unload PENTIUM4 4KSTACKS 
filename:       /lib/modules/2.6.26.7/misc/vmmon.ko
license:        GPL v2
description:    VMware Virtual Machine Monitor.
author:         VMware, Inc.
depends:        
vermagic:       2.6.26.7 SMP mod_unload PENTIUM4 4KSTACKS 


VMware Player Error:
VMware Player is installed, but it has not been (correctly) configured for your running kernel. To (re-)configure it, your system administrator must find and run "vmware-config.pl". For more information, please see the VMware Player documentation.

Press "Enter" to continue...



$ emerge --info
Portage 2.2_rc16 (default/linux/x86/2008.0/desktop, gcc-4.3.2, glibc-2.6.1-r0, 2.6.26.7 i686)
=================================================================
System uname: Linux-2.6.26.7-i686-Intel-R-_Pentium-R-_4_CPU_3.00GHz-with-glibc2.0
Timestamp of tree: Mon, 24 Nov 2008 20:00:01 +0000
ccache version 2.4 [enabled]
app-shells/bash:     3.2_p33
dev-java/java-config: 1.3.7, 2.1.6
dev-lang/python:     2.5.2-r7
dev-util/ccache:     2.4-r7
dev-util/cmake:      2.4.6-r1
sys-apps/baselayout: 2.0.0
sys-apps/openrc:     0.3.0-r1
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.61-r2
sys-devel/automake:  1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.1-r1
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.23-r3
ACCEPT_KEYWORDS="x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=prescott -fomit-frame-pointer -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/config"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-O2 -march=prescott -fomit-frame-pointer -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="ccache distlocks parallel-fetch protect-owned sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://www.las.ic.unicamp.br/pub/gentoo/ http://mirror.datapipe.net/gentoo"
LANG="pt_BR.UTF-8"
LC_ALL="pt_BR.UTF-8"
LDFLAGS="-Wl,--as-needed"
LINGUAS="pt_BR en_US"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X a52 aac acl acpi aiglx aim alsa apache2 avahi avi background bash-completion berkdb bluetooth branding bzip2 cairo cdr chardet cli compiz-fusion cracklib crypt cups dbus divx4linux dmi dri dvd dvdr dvdread dvi emboss encode escreen fam ffmpeg fortran gcj gdbm gif glitz gnustep gphoto2 gpm gstreamer gtk gtk2 hal i8x0 iconv imlib isdnlog java jikes jpeg kdeenablefinal kdehiddenvisibility latex lcms libnotify lm_sensors logrotate mad matroska midi mmap mmx motif mozilla mp3 mp4 mpeg mpi msn mtp mudflap musepack musicbrainz mysql ncurses nls nocd nptl nptlonly nsplugin objc ogg opengl openmp pam pcre pdf perl plugin png postscript ppds pppd ps python qt3 qt3support qt4 quicktime readline reflection rtsp sdl session smp spell spl sse sse2 ssl startup-notification stream svg sysfs tagwriting tcpd tetex theora threads tiff trayicon truetype unicode usb utempter vidix vim-pager vim-syntax vim-with-x vorbis win32codecs wmf x264 x86 xattr xcb xcomposite xine xml xorg xpm xscreensaver xulrunner xv xvid xvmc zlib" ALSA_CARDS="intel8x0" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="keyboard mouse ps2mouse usbmouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="pt_BR en_US" USERLAND="GNU" VIDEO_CARDS="intel i810 vesa fbdev i915"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY




Comment 1


Rafael





          2008-11-25 20:11:46 UTC
        

I've just found a solution in:
http://forums.gentoo.org/viewtopic-p-5252020.html

Steps:

1) Unmerged vmware-workstation and vmware-modules;
2) use slocate to find vmware files wich were not removed;
3) remove the files found and re-emerge vmware workstation.

I think the problem was with config files wich were left in /etc/vmware. The installation only replaces 2 of these files.

Can it be fixed so that the files are remove either when the old version is unmerged or when the newer one is installed?

Feel free to close the bug if it is not worth fixing, or if it simply can't be.

Thanks in advanced!






Comment 2


Dmitry Halturin





          2008-11-27 16:48:04 UTC
        

now configuration  command emerge --config vmware-workstation




Comment 3


Mike Auty (RETIRED)






          2008-11-27 20:08:16 UTC
        

Hi, I believe the error message is generated by vmware itself (even though they don't ship vmware-config.pl), so I'm not sure how we can help with that.

Do please also ensure that you've run "emerge --config vmware-workstation", otherwise it's created with a broken networking config and won't work properly.

I'd be interested to know if you could test out whether removing the old files really is required, or whether simply running the "emerge --config vmware-workstation" solves the problem.  As such, I'll mark this TEST-REQUEST for now...  5:)




Comment 4


Rafael





          2008-11-27 21:15:25 UTC
        

I had already done it.

If you read my post you already know what solved the problem for me.






Comment 5


Mike Auty (RETIRED)






          2008-11-27 21:20:56 UTC
        

I read your post and know what solved your problem.  I was hoping to find out if the rather extreme measure of completely wiping out /etc/vmware/ was entirely necessary or not.  If you could recreate the conditions it would be very useful to know whether it was simply forgetting to run the network configuration or if there was some other specific file that caused vmware to issue the error message. It sounds as though you can't recreate this situation, and the error message you complained of is an upstream issue, so I'm going to mark this as UPSTREAM.




Comment 6


Rafael





          2008-11-27 22:07:04 UTC
        

What I meant with my las message is that I didn't forget to rum "vmware --config vmware-workstation". It was the first thing I done after emerging vmware-workstation.

I remved not only the files in /etc/vmware, but every file with vmware in its name, except for the ones in /usr/portage and /home/. I can't remember all of them right now, but there where some in /var.

If it i still useful in any way, then I can try to recreate the error tomorrow. I'm using another PC right now.






Comment 7


Mike Auty (RETIRED)






          2008-11-27 22:09:54 UTC
        

Ok, thanks for clarifying that you tried out the --configu option.  The error message is an upstream issue (it's very confusing), but not clearing out the /etc/vmware directory is our issue.  We'll leave this open, but I'm not sure how best to solve this problem...




Comment 8


Rafael





          2008-11-28 18:40:34 UTC
        

I wasn't able to recreate the conditions for the error to happen. I have reinstalled vmware-workstation-5.5.7.91707, executed vmware-config.pl, and tested it. Then I upgraded it to 6.5.0.118166 and run emerge --config vmware-workstation, and tested it. It worked fine. Maybe there were files from even older versions?

If I have time I will try to redo this process wiping /etc/vmware before installing the older version, but I'm not sure if it will make any difference.

I don't know if someone else besides me and the guy from the forum post I linked above have found this error. It's up to you to decide whether to close this bug or not.






Comment 9


Mike Auty (RETIRED)






          2008-12-31 02:50:28 UTC
        

Well, if you're no longer able to recreate this problem, then I'm going to mark it as WORKSFORME.  If anyone finds it isn't working for them, please add a note on the end here and I'll reopen this.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

