Title: 169303 – app-emulation/wine-0.9.31 doesn't compile on amd64 with 2007.0 profile
URL: https://bugs.gentoo.org/show_bug.cgi?id=169303

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 169303
app-emulation/wine-0.9.31 doesn't compile on amd64 with 2007.0 profile
Last modified: 2007-03-08 12:25:31 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 169303 
      - app-emulation/wine-0.9.31 doesn't compile on amd64 with 2007.0 profile


Summary:
app-emulation/wine-0.9.31 doesn't compile on amd64 with 2007.0 profile
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       major
      


Assignee:

Wine Maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-03-04 15:12 UTC by Denny Reeh





      Modified:
    
2007-03-08 12:25 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Denny Reeh





          2007-03-04 15:12:53 UTC
        

app-emulation/wine-0.9.31 breaks while compilation:

gcc -c -I. -I. -I../../include -I../../include  -D__WINESRC__ -D_REENTRANT -fPIC -Wall -pipe -fno-strict-aliasing -Wdeclaration-after-statement -Wwrite-strings -Wpointer-arith  -march=athlon64 -O2 -pipe -D__i386__  -o interlocked.o interlocked.c
flex  -t ppl.l >ppl.yy.c || (rm -f ppl.yy.c && exit 1)
{standard input}: Assembler messages:
{standard input}:30: Error: suffix or operands invalid for `push'
{standard input}:31: Error: suffix or operands invalid for `push'
{standard input}:38: Error: suffix or operands invalid for `pop'
{standard input}:39: Error: suffix or operands invalid for `pop'
make[2]: *** [interlocked.o] Fehler 1
make[2]: Leaving directory `/var/tmp/portage/app-emulation/wine-0.9.31/work/wine-0.9.31/libs/port'
make[1]: *** [port] Fehler 2
make[1]: *** Warte auf noch nicht beendete Prozesse...
bison  -p ppy_ -o ppy.tab.c ppy.y
gcc -c -I. -I. -I../../include -I../../include    -Wall -pipe -fno-strict-aliasing -Wdeclaration-after-statement -Wwrite-strings -Wpointer-arith  -march=athlon64 -O2 -pipe -D__i386__  -o ppl.yy.o ppl.yy.c
gcc -c -I. -I. -I../../include -I../../include    -Wall -pipe -fno-strict-aliasing -Wdeclaration-after-statement -Wwrite-strings -Wpointer-arith  -march=athlon64 -O2 -pipe -D__i386__  -o ppy.tab.o ppy.tab.c
rm -f libwpp.a
ar rc libwpp.a preproc.o wpp.o ppy.tab.o ppl.yy.o  
ranlib libwpp.a
make[2]: Leaving directory `/var/tmp/portage/app-emulation/wine-0.9.31/work/wine-0.9.31/libs/wpp'
make[1]: Leaving directory `/var/tmp/portage/app-emulation/wine-0.9.31/work/wine-0.9.31/libs'
make: *** [libs] Fehler 2

!!! ERROR: app-emulation/wine-0.9.31 failed.
Call stack:
  ebuild.sh, line 1614:   Called dyn_compile
  ebuild.sh, line 971:   Called qa_call 'src_compile'
  environment, line 3331:   Called src_compile
  wine-0.9.31.ebuild, line 107:   Called die


Reproducible: Always

Steps to Reproduce:
emerge wine




wonder portage # emerge --info
Portage 2.1.2-r9 (default-linux/amd64/2007.0/desktop, gcc-4.1.1/vanilla, glibc-2.5-r0, 2.6.20-gentoo x86_64)
=================================================================
System uname: 2.6.20-gentoo x86_64 AMD Turion(tm) 64 X2 Mobile Technology TL-56
Gentoo Base System release 1.12.9
Timestamp of tree: Sun, 04 Mar 2007 12:00:01 +0000
app-admin/eselect-compiler: 2.0.0_rc2-r1
dev-java/java-config: 1.3.7, 2.0.31
dev-lang/python:     2.4.3-r4
dev-python/pycrypto: 2.0.1-r5
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.61
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.16.1-r3
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.17-r2
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=athlon64 -O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/eselect/compiler /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/terminfo"
CXXFLAGS="-march=athlon64 -O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="ftp://ftp.wh2.tu-dresden.de/pub/mirrors/gentoo http://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/ "
LANG="de_DE"
LINGUAS="de"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portage/local/myebuilds"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X alsa amd64 apache2 arts berkdb bitmap-fonts cairo cdr cli cracklib crypt cups dbus dri dvd dvdr eds emboss encode esd fam firefox fortran gdbm gif gnome gpm gstreamer gtk gtk2 hal howl iconv imagemagick ipv6 isdnlog jpeg ldap libg++ mad midi mikmod mmx mp3 mpeg ncurses nls nptl nptlonly ogg opengl oss pam pcre perl png ppds pppd python quicktime readline reflection sdl session spell spl sse sse2 ssl tcpd truetype truetype-fonts type1-fonts unicode userlocales vorbis xml xorg xv zlib" ALSA_CARDS="hda-intel" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" ELIBC="glibc" INPUT_DEVICES="keyboard mouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="de" USERLAND="GNU" VIDEO_CARDS="radeon"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LC_ALL, LDFLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


SpanKY






          2007-03-04 20:35:08 UTC
        

try with a supported profile




Comment 2


Denny Reeh





          2007-03-08 12:25:31 UTC
        

[SOLVED]

there is no problem with profiles, same with 2006.1.
but some strange gcc/glibc problems caused the issues.

not an error with wine.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

