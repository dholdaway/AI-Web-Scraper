Title: 597506 – net-misc/iputils ebuilds have wrong or redundant RDEPEND lines for USE=arping and USE=rarpd
URL: https://bugs.gentoo.org/show_bug.cgi?id=597506

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 597506
net-misc/iputils ebuilds have wrong or redundant RDEPEND lines for USE=arping and USE=rarpd
Last modified: 2016-11-15 03:56:26 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 597506 
      - net-misc/iputils ebuilds have wrong or redundant RDEPEND lines for USE=arping and USE=rarpd


Summary:
net-misc/iputils ebuilds have wrong or redundant RDEPEND lines for USE=arping...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       minor
      


Assignee:

Gentoo's Team for Core System packages








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2016-10-19 07:18 UTC by Xiami





      Modified:
    
2016-11-15 03:56 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Xiami





          2016-10-19 07:18:24 UTC
        

in net-misc/iputils all ebuilds except =net-misc/iputils-20121221-r1 (since this version do not have USE flag arping and traceroute):

RDEPEND="arping? ( !net-misc/arping )
    rarpd? ( !net-misc/rarpd )
    traceroute? ( !net-analyzer/traceroute )
    !static? ( ${LIB_DEPEND//\[static-libs(+)]} )"

In lastest commit (efdcc07411a5b54a05d907560e0594e9fc82ced7) of portage, I don't find net-misc/arping and net-misc/rarpd.
From /usr/portage/profile/updates I don't see any move for net-misc/arping
and net-misc/rarpd, too.

There is a package named with arping, it's net-analyzer/arping.
However, net-analyzer/arping installs into /usr/sbin/arping2 while net-misc/iputils installs it's arping into /bin/arping.
No conflict.

At last, net-analyzer/traceroute installs into /usr/bin/traceroute and /usr/bin/traceroute6 while net-misc/iputils installs it's traceroute6 into /usr/sbin/traceroute6, still no conflict.


So, finally, I suggest, remove arping/rarpd/traceroute from RDEPEND, making it be:

RDEPEND="!static? ( ${LIB_DEPEND//\[static-libs(+)]} )"

and einfo about traceroute6 command PATH priority.
Also remove corresponding RDEPEND lines from net-analyzer/arping, net-analyzer/traceroute.

Reproducible: Always

Steps to Reproduce:
1. grep -A3 -ne "^RDEPEND" /usr/portage/net-misc/iputils/*.ebuild




Comment 1


SpanKY






          2016-11-15 03:56:26 UTC
        

> net-misc/arping
> net-misc/rarpd

they aren't in the tree anymore, but they were, and people with old installs will still run into troubles if they try to update.  listing them in the depend doesn't cause problems.

> net-analyzer/traceroute

collisions in $PATH is largely the same as filesystem collisions.  it's bad form.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

