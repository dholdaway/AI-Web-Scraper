Title: 143615 – sys-devel/gcc-3.4.6-r1 fails to compile - suffix or operands invalid for `push'
URL: https://bugs.gentoo.org/show_bug.cgi?id=143615

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 143615
sys-devel/gcc-3.4.6-r1 fails to compile - suffix or operands invalid for `push'
Last modified: 2006-08-12 17:20:01 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 143615 
      - sys-devel/gcc-3.4.6-r1 fails to compile - suffix or operands invalid for `push'


Summary:
sys-devel/gcc-3.4.6-r1 fails to compile - suffix or operands invalid for `push'
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Core system

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
Highest
       normal
      


Assignee:

Gentoo Toolchain Maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-08-11 15:50 UTC by iskorptixas





      Modified:
    
2006-08-12 17:20 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


iskorptixas





          2006-08-11 15:50:37 UTC
        

I'm using gentoo 64, gcc 3.4.4 and trying to update gcc to version 3.4.6. When trying to do 'emerge --update gcc' or do like 'emerge -pvu sys-devel/gcc' says, still getting this strage error. Also, if I try to build OpenSSL or libstdc++ it also fails with this similiar error at the end (suffix or operands invalid for `push').

DPBIT_FUNCS='_pack_df _unpack_df _addsub_df _mul_df _div_df _fpcmp_parts_df _compare_df _eq_df _ne_df _gt_df _ge_df _lt_df _le_df _unord_df _si_to_df _df_to_si _negate_df _make_df _df_to_sf _df_to_tf _thenan_df _df_to_usi _usi_to_df' \
TPBIT='' \
TPBIT_FUNCS='_pack_tf _unpack_tf _addsub_tf _mul_tf _div_tf _fpcmp_parts_tf _compare_tf _eq_tf _ne_tf _gt_tf _ge_tf _lt_tf _le_tf _unord_tf _si_to_tf _tf_to_si _negate_tf _make_tf _tf_to_df _tf_to_sf _thenan_tf _tf_to_usi _usi_to_tf' \
MULTILIBS=` ./xgcc -B./ -B/usr/i686-pc-linux-gnu/bin/ -isystem /usr/i686-pc-linux-gnu/include -isystem /usr/i686-pc-linux-gnu/sys-include -L/var/tmp/portage/gcc-3.4.6-r1/work/build/gcc/../ld --print-multi-lib` \
EXTRA_MULTILIB_PARTS='' \
SHLIB_LINK=' ./xgcc -B./ -B/usr/i686-pc-linux-gnu/bin/ -isystem /usr/i686-pc-linux-gnu/include -isystem /usr/i686-pc-linux-gnu/sys-include -L/var/tmp/portage/gcc-3.4.6-r1/work/build/gcc/../ld -O2  -DIN_GCC    -W -Wall -Wwrite-strings -Wstrict-prototypes -Wmissing-prototypes -Wold-style-definition  -isystem ./include  -fPIC -DHAVE_SYSLOG -g -DHAVE_GTHR_DEFAULT -DIN_LIBGCC2 -D__GCC_FLOAT_NOT_NEEDED  -D_LIBC_PROVIDES_SSP_ -fno-stack-protector -shared -nodefaultlibs -Wl,--soname=@shlib_so_name@.so.1 -Wl,--version-script=@shlib_map_file@ -o @shlib_dir@@shlib_so_name@.so.1.tmp @multilib_flags@ @shlib_objs@ -lc && rm -f @shlib_base_name@.so && if [ -f @shlib_dir@@shlib_so_name@.so.1 ]; then mv -f @shlib_dir@@shlib_so_name@.so.1 @shlib_dir@@shlib_so_name@.so.1.backup; else true; fi && mv @shlib_dir@@shlib_so_name@.so.1.tmp @shlib_dir@@shlib_so_name@.so.1 && ln -s @shlib_dir@@shlib_so_name@.so.1 @shlib_base_name@.so' \
SHLIB_INSTALL='$(SHELL) $(srcdir)/mkinstalldirs $(DESTDIR)$(slibdir)@shlib_slibdir_qual@; /bin/install -c -m 644 @shlib_dir@@shlib_so_name@.so.1 $(DESTDIR)$(slibdir)@shlib_slibdir_qual@/@shlib_so_name@.so.1; rm -f $(DESTDIR)$(slibdir)@shlib_slibdir_qual@/@shlib_base_name@.so; ln -s @shlib_so_name@.so.1 $(DESTDIR)$(slibdir)@shlib_slibdir_qual@/@shlib_base_name@.so' \
SHLIB_EXT='.so' \
SHLIB_MULTILIB='' \
SHLIB_MKMAP='/var/tmp/portage/gcc-3.4.6-r1/work/gcc-3.4.6/gcc/mkmap-symver.awk' \
SHLIB_MKMAP_OPTS='' \
SHLIB_MAPFILES='/var/tmp/portage/gcc-3.4.6-r1/work/gcc-3.4.6/gcc/libgcc-std.ver /var/tmp/portage/gcc-3.4.6-r1/work/gcc-3.4.6/gcc/config/libgcc-glibc.ver' \
SHLIB_NM_FLAGS='-pg' \
MULTILIB_OSDIRNAMES='' \
GCC_FOR_TARGET=' ./xgcc -B./ -B/usr/i686-pc-linux-gnu/bin/ -isystem /usr/i686-pc-linux-gnu/include -isystem /usr/i686-pc-linux-gnu/sys-include -L/var/tmp/portage/gcc-3.4.6-r1/work/build/gcc/../ld' \
mkinstalldirs='/bin/sh /var/tmp/portage/gcc-3.4.6-r1/work/gcc-3.4.6/gcc/mkinstalldirs' \
  /bin/sh mklibgcc > tmp-libgcc.mk
mv tmp-libgcc.mk libgcc.mk
TARGET_CPU_DEFAULT="" \
HEADERS="ansidecl.h" DEFINES="" \
/bin/sh /var/tmp/portage/gcc-3.4.6-r1/work/gcc-3.4.6/gcc/mkconfig.sh tconfig.h
./xgcc -B./ -B/usr/i686-pc-linux-gnu/bin/ -isystem /usr/i686-pc-linux-gnu/include -isystem /usr/i686-pc-linux-gnu/sys-include -L/var/tmp/portage/gcc-3.4.6-r1/work/build/gcc/../ld -fno-stack-protector -O2 -DIN_GCC    -W -Wall -Wwrite-strings -Wstrict-prototypes -Wmissing-prototypes -Wold-style-definition  -isystem ./include  -I. -I. -I/var/tmp/portage/gcc-3.4.6-r1/work/gcc-3.4.6/gcc -I/var/tmp/portage/gcc-3.4.6-r1/work/gcc-3.4.6/gcc/. -I/var/tmp/portage/gcc-3.4.6-r1/work/gcc-3.4.6/gcc/../include   -g0 -finhibit-size-directive -fno-inline-functions -fno-exceptions -fno-zero-initialized-in-bss -fno-unit-at-a-time -fno-omit-frame-pointer \
   -c /var/tmp/portage/gcc-3.4.6-r1/work/gcc-3.4.6/gcc/crtstuff.c -DCRT_BEGIN \
  -o crtbegin.o
/var/tmp/portage/gcc-3.4.6-r1/temp/cciazlid.s: Assembler messages:
/var/tmp/portage/gcc-3.4.6-r1/temp/cciazlid.s:33: Error: suffix or operands invalid for `push'
/var/tmp/portage/gcc-3.4.6-r1/temp/cciazlid.s:43: Error: suffix or operands invalid for `call'
/var/tmp/portage/gcc-3.4.6-r1/temp/cciazlid.s:61: Error: suffix or operands invalid for `push'
make[2]: *** [crtbegin.o] Error 1
make[2]: Leaving directory `/var/tmp/portage/gcc-3.4.6-r1/work/build/gcc'
make[1]: *** [stage1_build] Error 2
make[1]: Leaving directory `/var/tmp/portage/gcc-3.4.6-r1/work/build/gcc'
make: *** [profiledbootstrap] Error 2

!!! ERROR: sys-devel/gcc-3.4.6-r1 failed.
Call stack:
  ebuild.sh, line 1539:   Called dyn_compile
  ebuild.sh, line 939:   Called src_compile
  ebuild.sh, line 1248:   Called toolchain_src_compile
  toolchain.eclass, line 24:   Called gcc_src_compile
  toolchain.eclass, line 1523:   Called gcc_do_make
  toolchain.eclass, line 1397:   Called die

!!! emake failed with profiledbootstrap
!!! If you need support, post the topmost build error, and the call stack if relevant.

my emerge --info:
emerge --info
Portage 2.1-r2 (default-linux/amd64/2006.0, gcc-3.4.4, glibc-2.3.6-r4, 2.6.16-gentoo-r9 x86_64)
=================================================================
System uname: 2.6.16-gentoo-r9 x86_64 AMD Athlon(tm) 64 Processor 3000+
Gentoo Base System version 1.6.15
app-admin/eselect-compiler: [Not Present]
dev-lang/python:     2.4.2
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.13-r3
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -pipe -march=k8 -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/gconf /etc/rc.d /etc/revdep-rebuild /etc/terminfo /etc/wget"
CXXFLAGS="-O2 -pipe -march=k8 -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="amd64 X alsa avi berkdb bitmap-fonts cli crypt cups dlloader dri eds emboss encode foomaticdb fortran gif gnome gpm gstreamer gtk gtk2 imlib ipv6 isdnlog jpeg kde lzw lzw-tiff mp3 mpeg ncurses nls nptl opengl pam pcre pdflib perl png pppd python qt3 qt4 quicktime readline reflection sdl session spell spl ssl tcpd tiff truetype-fonts type1-fonts usb xorg xpm xv zlib elibc_glibc input_devices_keyboard input_devices_mouse input_devices_evdev kernel_linux userland_GNU"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY

------
/etc/make.conf
------
# These settings were set by the catalyst build script that automatically built this stage
# Please consult /etc/make.conf.example for a more detailed example
#SYNC="rsync://gentoo.mikrovisata.net/gentoo-portage"
CFLAGS="-O2 -pipe -march=k8 -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CXXFLAGS="${CFLAGS}"
MAKEOPTS="-j2"
#USE="-gtk -gnome qt kde dvd alsa cdr"
#USE="-X"
#USE="-doc"
#USE="-doc symlink"
CONFIG_PROTECT_MASK="/etc/wget /etc/rc.d"




Comment 1


SpanKY






          2006-08-12 17:20:01 UTC
        

probably because you have an i686 cross-compiler installed

unmerge it









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

