Title: 132904 – emerge subversion-1.2.3 fails with apr-util-0.9.12
URL: https://bugs.gentoo.org/show_bug.cgi?id=132904

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 132904
emerge subversion-1.2.3 fails with apr-util-0.9.12
Last modified: 2006-06-29 06:22:02 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 132904 
      - emerge subversion-1.2.3 fails with apr-util-0.9.12


Summary:
emerge subversion-1.2.3 fails with apr-util-0.9.12
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

PPC
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:









Duplicates (1):
    

135684

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2006-05-10 07:44 UTC by Arne Nickel





      Modified:
    
2006-06-29 06:22 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



neclimdul
paolo.pedroni









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Arne Nickel





          2006-05-10 07:44:35 UTC
        

Tried to install subversion ("emerge subversion").
emerge failed with this message:
...
checking whether we are using the GNU C compiler... yes
checking whether powerpc-unknown-linux-gnu-gcc accepts -g... yes
checking for powerpc-unknown-linux-gnu-gcc option to accept ANSI C... none needed
checking how to run the C preprocessor... powerpc-unknown-linux-gnu-gcc -E
checking for egrep... grep -E
checking whether ln -s works... yes
configure: Apache Portable Runtime (APR) library configuration
checking for APR... yes
checking APR version... 0.9.12
wanted regex is 0\.9\.[5-9] or 1\.
configure: error: invalid apr version found


*** OUTPUT FROM "emerge --info subversion": ***
Portage 2203-svn (default-linux/ppc/2004.3, gcc-3.4.5, glibc-2.3.6-r3, 2.6.10-gentoo-r6 ppc)
=================================================================
System uname: 2.6.10-gentoo-r6 ppc 740/750
Gentoo Base System version 1.6.14
dev-lang/python:     2.3.5-r2, 2.4.2
dev-python/pycrypto: [Not Present]
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r4
ACCEPT_KEYWORDS="ppc"
AUTOCLEAN="yes"
CBUILD="powerpc-unknown-linux-gnu"
CFLAGS="-O2 -mtune=G3 -fno-strict-aliasing -pipe"
CHOST="powerpc-unknown-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/eselect/compiler /etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -mtune=G3 -fno-strict-aliasing -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="ppc berkdb bitmap-fonts bzip2 cdr cli crypt cups curl dri emboss expat font-server fortran gd gdbm gif gmp gpm gtk gtk2 idn innodb ipv6 jpeg libwww mhash motif mp3 mpeg mysql ncurses nls oggvorbis opengl pam pcre pdflib perl png python readline reflection session spell spl ssl tcpd tiff truetype truetype-fonts type1-fonts udev unicode xml2 xorg xv zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTAGE_RSYNC_EXTRA_OPTS, PORTAGE_RSYNC_OPTS, PORTDIR_OVERLAY

*** OUTPUT FROM /var/tmp/portage/subversion-1.2.3-r2/work/subversion-1.2.3/config.log: ***

This file contains any messages produced by compilers while
running configure, to aid debugging if configure makes a mistake.

It was created by subversion configure 1.2.3, which was
generated by GNU Autoconf 2.59.  Invocation command line was

  $ ./configure --prefix=/usr --host=powerpc-unknown-linux-gnu --mandir=/usr/share/man --infodir=/usr/share/info --datadir=/usr/share -
-sysconfdir=/etc --localstatedir=/var/lib --with-apr=/usr --with-apr-util=/usr --without-apxs --disable-javahl --with-swig --with-neon=
/usr --with-berkeley-db --with-zlib --with-python --enable-nls --with-apr=/usr --with-apr-util=/usr --disable-experimental-libtool --di
sable-mod-activation --build=powerpc-unknown-linux-gnu

## --------- ##
## Platform. ##
## --------- ##

hostname = pmg3
uname -m = ppc
uname -r = 2.6.10-gentoo-r6
uname -s = Linux
uname -v = #1 Thu Feb 24 11:29:16 GMT 2005

/usr/bin/uname -p = 740/750
/bin/uname -X     = unknown

/bin/arch              = ppc
/usr/bin/arch -k       = unknown
/usr/convex/getsysinfo = unknown
hostinfo               = unknown
/bin/machine           = unknown
/usr/bin/oslevel       = unknown
/bin/universe          = unknown

PATH: /sbin
PATH: /usr/sbin
PATH: /usr/lib/portage/bin
PATH: /bin
PATH: /usr/bin
PATH: /opt/bin
PATH: /usr/powerpc-unknown-linux-gnu/gcc-bin/3.4.5


## ----------- ##
## Core tests. ##
## ----------- ##

configure:1606: Configuring Subversion 1.2.3
configure:1625: checking build system type
configure:1643: result: powerpc-unknown-linux-gnu
configure:1651: checking host system type
configure:1665: result: powerpc-unknown-linux-gnu
configure:1675: creating config.nice
configure:1719: checking for powerpc-unknown-linux-gnu-gcc
configure:1735: found /usr/bin/powerpc-unknown-linux-gnu-gcc
configure:1745: result: powerpc-unknown-linux-gnu-gcc
configure:2027: checking for C compiler version
configure:2030: powerpc-unknown-linux-gnu-gcc --version </dev/null >&5
powerpc-unknown-linux-gnu-gcc (GCC) 3.4.5 (Gentoo 3.4.5-r1, ssp-3.4.5-1.0, pie-8.7.9)
Copyright (C) 2004 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

configure:2033: $? = 0
configure:2035: powerpc-unknown-linux-gnu-gcc -v </dev/null >&5
Reading specs from /usr/lib/gcc/powerpc-unknown-linux-gnu/3.4.5/specs
Configured with: /var/tmp/portage/gcc-3.4.5-r1/work/gcc-3.4.5/configure --prefix=/usr --bindir=/usr/powerpc-unknown-linux-gnu/gcc-bin/3
.4.5 --includedir=/usr/lib/gcc/powerpc-unknown-linux-gnu/3.4.5/include --datadir=/usr/share/gcc-data/powerpc-unknown-linux-gnu/3.4.5 --
mandir=/usr/share/gcc-data/powerpc-unknown-linux-gnu/3.4.5/man --infodir=/usr/share/gcc-data/powerpc-unknown-linux-gnu/3.4.5/info --wit
h-gxx-include-dir=/usr/lib/gcc/powerpc-unknown-linux-gnu/3.4.5/include/g++-v3 --host=powerpc-unknown-linux-gnu --build=powerpc-unknown-
linux-gnu --disable-altivec --enable-nls --without-included-gettext --with-system-zlib --disable-checking --disable-werror --disable-li
bunwind-exceptions --disable-multilib --disable-libgcj --enable-languages=c,c++,f77 --enable-shared --enable-threads=posix --enable-__c
xa_atexit --enable-clocale=gnu
Thread model: posix
gcc version 3.4.5 (Gentoo 3.4.5-r1, ssp-3.4.5-1.0, pie-8.7.9)
configure:2038: $? = 0
configure:2040: powerpc-unknown-linux-gnu-gcc -V </dev/null >&5
powerpc-unknown-linux-gnu-gcc: `-V' option must have argument
configure:2043: $? = 1
configure:2066: checking for C compiler default output file name
configure:2069: powerpc-unknown-linux-gnu-gcc -O2 -mtune=G3 -fno-strict-aliasing -pipe -DLINUX=2 -D_REENTRANT -D_GNU_SOURCE   conftest.
c  >&5
configure:2072: $? = 0
configure:2118: result: a.out
configure:2123: checking whether the C compiler works
configure:2129: ./a.out
configure:2132: $? = 0
configure:2149: result: yes
configure:2156: checking whether we are cross compiling
configure:2158: result: no
configure:2161: checking for suffix of executables
configure:2163: powerpc-unknown-linux-gnu-gcc -o conftest -O2 -mtune=G3 -fno-strict-aliasing -pipe -DLINUX=2 -D_REENTRANT -D_GNU_SOURCE
   conftest.c  >&5
configure:2166: $? = 0
configure:2191: result:
configure:2197: checking for suffix of object files
configure:2218: powerpc-unknown-linux-gnu-gcc -c -O2 -mtune=G3 -fno-strict-aliasing -pipe -DLINUX=2 -D_REENTRANT -D_GNU_SOURCE  conftes
t.c >&5
configure:2221: $? = 0
configure:2243: result: o
configure:2247: checking whether we are using the GNU C compiler
configure:2271: powerpc-unknown-linux-gnu-gcc -c -O2 -mtune=G3 -fno-strict-aliasing -pipe -DLINUX=2 -D_REENTRANT -D_GNU_SOURCE  conftes
t.c >&5
configure:2277: $? = 0
configure:2281: test -z
                         || test ! -s conftest.err
configure:2284: $? = 0
configure:2287: test -s conftest.o
configure:2290: $? = 0
configure:2303: result: yes
configure:2309: checking whether powerpc-unknown-linux-gnu-gcc accepts -g
configure:2330: powerpc-unknown-linux-gnu-gcc -c -g  conftest.c >&5
configure:2336: $? = 0
configure:2340: test -z
                         || test ! -s conftest.err
configure:2343: $? = 0
configure:2346: test -s conftest.o
configure:2349: $? = 0
configure:2360: result: yes
configure:2377: checking for powerpc-unknown-linux-gnu-gcc option to accept ANSI C
configure:2447: powerpc-unknown-linux-gnu-gcc  -c -O2 -mtune=G3 -fno-strict-aliasing -pipe -DLINUX=2 -D_REENTRANT -D_GNU_SOURCE  confte
st.c >&5
configure:2453: $? = 0
configure:2457: test -z
                         || test ! -s conftest.err
configure:2460: $? = 0
configure:2463: test -s conftest.o
configure:2466: $? = 0
configure:2484: result: none needed
configure:2502: powerpc-unknown-linux-gnu-gcc -c -O2 -mtune=G3 -fno-strict-aliasing -pipe -DLINUX=2 -D_REENTRANT -D_GNU_SOURCE  conftes
t.c >&5
conftest.c:2: error: syntax error before "me"
configure:2508: $? = 1
configure: failed program was:
| #ifndef __cplusplus
|   choke me
| #endif
configure:2647: checking how to run the C preprocessor
configure:2682: powerpc-unknown-linux-gnu-gcc -E  conftest.c
configure:2688: $? = 0
configure:2720: powerpc-unknown-linux-gnu-gcc -E  conftest.c
conftest.c:9:28: ac_nonexistent.h: No such file or directory
configure:2726: $? = 1
configure: failed program was:
| /* confdefs.h.  */
|
| #define PACKAGE_NAME "subversion"
| #define PACKAGE_TARNAME "subversion"
| #define PACKAGE_VERSION "1.2.3"
| #define PACKAGE_STRING "subversion 1.2.3"
| #define PACKAGE_BUGREPORT "http://subversion.tigris.org/"
| /* end confdefs.h.  */
| #include <ac_nonexistent.h>
configure:2765: result: powerpc-unknown-linux-gnu-gcc -E
configure:2789: powerpc-unknown-linux-gnu-gcc -E  conftest.c
configure:2795: $? = 0
configure:2827: powerpc-unknown-linux-gnu-gcc -E  conftest.c
conftest.c:9:28: ac_nonexistent.h: No such file or directory
configure:2833: $? = 1
configure: failed program was:
| /* confdefs.h.  */
|
| #define PACKAGE_NAME "subversion"
| #define PACKAGE_TARNAME "subversion"
| #define PACKAGE_VERSION "1.2.3"
| #define PACKAGE_STRING "subversion 1.2.3"
| #define PACKAGE_BUGREPORT "http://subversion.tigris.org/"
| /* end confdefs.h.  */
| #include <ac_nonexistent.h>
configure:2877: checking for egrep
configure:2887: result: grep -E
configure:2893: checking whether ln -s works
configure:2897: result: yes
configure:2939: Apache Portable Runtime (APR) library configuration
configure:2967: checking for APR
configure:3049: result: yes
configure:3200: checking APR version
configure:3208: result: 0.9.12
configure:3214: error: invalid apr version found

## ---------------- ##
## Cache variables. ##
## ---------------- ##

ac_cv_build=powerpc-unknown-linux-gnu
ac_cv_build_alias=powerpc-unknown-linux-gnu
ac_cv_c_compiler_gnu=yes
ac_cv_env_CC_set=
ac_cv_env_CC_value=
ac_cv_env_CFLAGS_set=set
ac_cv_env_CFLAGS_value='-O2 -mtune=G3 -fno-strict-aliasing -pipe -DLINUX=2 -D_REENTRANT -D_GNU_SOURCE'
ac_cv_env_CPPFLAGS_set=
ac_cv_env_CPPFLAGS_value=
ac_cv_env_CPP_set=
ac_cv_env_CPP_value=
ac_cv_env_CXXCPP_set=
ac_cv_env_CXXCPP_value=
ac_cv_env_CXXFLAGS_set=set
ac_cv_env_CXXFLAGS_value='-O2 -mtune=G3 -fno-strict-aliasing -pipe -DLINUX=2 -D_REENTRANT -D_GNU_SOURCE'
ac_cv_env_CXX_set=
ac_cv_env_CXX_value=
ac_cv_env_F77_set=
ac_cv_env_F77_value=
ac_cv_env_FFLAGS_set=
ac_cv_env_FFLAGS_value=
ac_cv_env_LDFLAGS_set=
ac_cv_env_LDFLAGS_value=
ac_cv_env_build_alias_set=set
ac_cv_env_build_alias_value=powerpc-unknown-linux-gnu
ac_cv_env_host_alias_set=set
ac_cv_env_host_alias_value=powerpc-unknown-linux-gnu
ac_cv_env_target_alias_set=
ac_cv_env_target_alias_value=
ac_cv_exeext=
ac_cv_host=powerpc-unknown-linux-gnu
ac_cv_host_alias=powerpc-unknown-linux-gnu
ac_cv_objext=o
ac_cv_prog_CC=powerpc-unknown-linux-gnu-gcc
ac_cv_prog_CPP='powerpc-unknown-linux-gnu-gcc -E'
ac_cv_prog_cc_g=yes
ac_cv_prog_cc_stdc=
ac_cv_prog_egrep='grep -E'

## ----------------- ##
## Output variables. ##
## ----------------- ##

APACHE_INCLUDES=''
APACHE_LIBEXECDIR=''
APACHE_TARGET=''
APXS=''
AR=''
BDB_TEST_DEPS=''
BDB_TEST_PROGRAMS=''
BINNAME=''
BUILD_APACHE_RULE=''
BUILD_RULES=''
CC='powerpc-unknown-linux-gnu-gcc'
CFLAGS='-O2 -mtune=G3 -fno-strict-aliasing -pipe -DLINUX=2 -D_REENTRANT -D_GNU_SOURCE'
CPP='powerpc-unknown-linux-gnu-gcc -E'
CPPFLAGS=''
CXX=''
CXXCPP=''
CXXFLAGS='-O2 -mtune=G3 -fno-strict-aliasing -pipe -DLINUX=2 -D_REENTRANT -D_GNU_SOURCE'
DEFS=''
ECHO='echo'
ECHO_C=''
ECHO_N='-n'
ECHO_T=''
EGREP='grep -E'
EXEEXT=''
F77=''
FFLAGS=''
FIX_JAVAHL_LIB=''
GETTEXT_CODESET=''
INCLUDE_OUTPUTS=''
INSTALL='/var/tmp/portage/subversion-1.2.3-r2/work/subversion-1.2.3/ac-helpers/install-sh -c'
INSTALL_APACHE_RULE=''
INSTALL_EXTRA_JAVAHL_LIB=''
INSTALL_INFO=''
INSTALL_IT=''
INSTALL_RULES=''
INSTALL_STATIC_RULES=''
JAR=''
JAVA=''
JAVAC=''
JAVAC_FLAGS=''
JAVAH=''
JAVAHL_OBJDIR=''
JAVAHL_TESTS_TARGET=''
JAVA_CLASSPATH=''
JDK=''
JNI_INCLUDES=''
LDFLAGS=''
LIBOBJS=''
LIBS=''
LIBTOOL=''
LN_S='ln -s'
LSWIGPL=''
LSWIGPY=''
LTLIBOBJS=''
LT_CXX_LIBADD=''
LT_LDFLAGS=''
LT_NO_UNDEFINED=''
MAKEINFO=''
MKDIR='/var/tmp/portage/subversion-1.2.3-r2/work/subversion-1.2.3/ac-helpers/install-sh -c -d'
MOD_ACTIVATION=''
MSGFMT=''
MSGFMTFLAGS=''
MSGMERGE=''
NEON_LIBS=''
NO_GETTEXT_CODESET=''
OBJEXT='o'
PACKAGE_BUGREPORT='http://subversion.tigris.org/'
PACKAGE_NAME='subversion'
PACKAGE_STRING='subversion 1.2.3'
PACKAGE_TARNAME='subversion'
PACKAGE_VERSION='1.2.3'
PATH_SEPARATOR=':'
PERL=''
PYTHON=''
RANLIB=''
RUBY=''
SHELL='/bin/sh'
STRIP=''
SVN_APRUTIL_EXPORT_LIBS=''
SVN_APRUTIL_INCLUDES=''
SVN_APRUTIL_LIBS=''
SVN_APRUTIL_PREFIX=''
SVN_APR_EXPORT_LIBS=''
SVN_APR_INCLUDES=''
SVN_APR_LIBS=''
SVN_APR_PREFIX=''
SVN_APR_SHLIB_PATH_VAR=''
SVN_BINDIR=''
SVN_EXTRA_INCLUDES='-I$(top_srcdir)/subversion/include -I$(top_builddir)/subversion'
SVN_EXTRA_LIBS=''
SVN_FS_LIB_DEPS=''
SVN_FS_LIB_INSTALL_DEPS=''
SVN_FS_LIB_LINK=''
SVN_LIBTOOL=''
SVN_LT_CCTAG=''
SVN_LT_CXXTAG=''
SVN_NEON_INCLUDES=''
SVN_RA_LIB_DEPS=''
SVN_RA_LIB_INSTALL_DEPS=''
SVN_RA_LIB_LINK=''
SVN_SUBDIRS=''
SWIG=''
SWIG_CLEAN_RULES=''
SWIG_LDFLAGS=''
SWIG_LIBSWIG_DIR=''
SWIG_NORUNTIME_FLAG=''
SWIG_PL_INCLUDES=''
SWIG_PY_COMPILE=''
SWIG_PY_INCLUDES=''
SWIG_PY_LIBS=''
SWIG_PY_LINK=''
SWIG_RB_COMPILE=''
SWIG_RB_INCLUDES=''
SWIG_RB_LINK=''
SWIG_RB_SITE_ARCH_DIR=''
SWIG_RB_SITE_LIB_DIR=''
SWIG_VERSION=''
XGETTEXT=''
abs_builddir='/var/tmp/portage/subversion-1.2.3-r2/work/subversion-1.2.3'
abs_srcdir='/var/tmp/portage/subversion-1.2.3-r2/work/subversion-1.2.3'
ac_ct_AR=''
ac_ct_CC=''
ac_ct_CXX=''
ac_ct_F77=''
ac_ct_RANLIB=''
ac_ct_STRIP=''
bindir='${exec_prefix}/bin'
build='powerpc-unknown-linux-gnu'
build_alias='powerpc-unknown-linux-gnu'
build_cpu='powerpc'
build_os='linux-gnu'
build_vendor='unknown'
datadir='/usr/share'
exec_prefix='NONE'
host='powerpc-unknown-linux-gnu'
host_alias='powerpc-unknown-linux-gnu'
host_cpu='powerpc'
host_os='linux-gnu'
host_vendor='unknown'
includedir='${prefix}/include'
infodir='/usr/share/info'
libdir='${exec_prefix}/lib'
libexecdir='${exec_prefix}/libexec'
localedir=''
localstatedir='/var/lib'
mandir='/usr/share/man'
neon_config=''
oldincludedir='/usr/include'
prefix='/usr'
program_transform_name='s,x,x,'
sbindir='${exec_prefix}/sbin'
sharedstatedir='${prefix}/com'
sysconfdir='/etc'
target_alias=''

## ----------- ##
## confdefs.h. ##
## ----------- ##

#define PACKAGE_BUGREPORT "http://subversion.tigris.org/"
#define PACKAGE_NAME "subversion"
#define PACKAGE_STRING "subversion 1.2.3"
#define PACKAGE_TARNAME "subversion"
#define PACKAGE_VERSION "1.2.3"

configure: exit 1




Comment 1


Jakub Moc (RETIRED)






          2006-05-10 07:49:08 UTC
        

You are using ~arch apr-util, use ~arch subversion then. ;)





Comment 2


Jakub Moc (RETIRED)






          2006-06-05 15:17:47 UTC
        

*** Bug 135684 has been marked as a duplicate of this bug. ***




Comment 3


James Gilliland





          2006-06-05 15:43:17 UTC
        

(In reply to comment #2)
> *** Bug 135684 has been marked as a duplicate of this bug. ***
> 

glad my search missed this bug.. </sarcasm>

Neither of the suggested fixes is really valid for me though.  1.2.3-r3 is ~arch on most large arch's and 1.3 doesn't work with everything(subclipse in my case).  It would seem the correct thing would be for apr and apr-util 0.9.12 to be blocked by subversion-1.2.3 packages.  If this is just a won't fix though I'll just maintain my workaround.




Comment 4


Paolo Pedroni





          2006-06-29 06:22:02 UTC
        

(In reply to comment #1)
> You are using ~arch apr-util, use ~arch subversion then. ;)

OK. Now apr and apr-utils 0.9.12 ARE stable on amd64 and subversion-1.2.3-r2 is the latest stable subversion on the same arch. The two don't mix and noone on _stable_ amd64 is able to build subversion. Any more smartass comments now, mr. Moc? (and I refer to bug 135684 as well).









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

