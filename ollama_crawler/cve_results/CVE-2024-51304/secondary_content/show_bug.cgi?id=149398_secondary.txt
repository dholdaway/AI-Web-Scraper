Title: 149398 – sys-devel/binutils-2.17 doesn't compile with uclibc
URL: https://bugs.gentoo.org/show_bug.cgi?id=149398

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 149398
sys-devel/binutils-2.17 doesn't compile with uclibc
Last modified: 2007-10-06 18:07:06 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 149398 
      - sys-devel/binutils-2.17 doesn't compile with uclibc


Summary:
sys-devel/binutils-2.17 doesn't compile with uclibc
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Development

  (show other bugs)



Hardware:

All
        Other
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Toolchain Maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-09-28 03:26 UTC by Daniel Glaser





      Modified:
    
2007-10-06 18:07 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



embedded









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




30_all_uclibc_need_libm.patch

              (30_all_uclibc_need_libm.patch,451 bytes,
                patch)

            
2006-09-28 03:27 UTC,

            Daniel Glaser




Details
            | Diff





52_all_uclibc-100-conf.patch

              (52_all_uclibc-100-conf.patch,1.99 KB,
                patch)

            
2006-09-28 03:28 UTC,

            Daniel Glaser




Details
            | Diff





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Daniel Glaser





          2006-09-28 03:26:16 UTC
        

I think, this should be assigned to embedded-gentoo.

Regarding to
http://www.busybox.net/lists/uclibc/2006-August/016088.html
binutils needs libm, because it stops compiling with missing something seems to belong to this lib.

For this, 52-patch in binutils-2.17-uclibc-patches.tar.bz2 must be corrected to not patch linux-gnu*) to linux-gnu*|linux-uclibc*) in ~line 3420.

It must be an extra section for linux-uclibc*) with need_libm=yes additionally included, means the things in linux-gnu*) be copied.

The 52-patch with this patch-part deleted and my 30-patch are attatched for this purpose. Perhaps getting over to binutils-2.17-r1 and UCLIBC_PATCHVER="1.1"




Comment 1


Daniel Glaser





          2006-09-28 03:27:06 UTC
        

Created attachment 98301 [details, diff]
30_all_uclibc_need_libm.patch

This is the new one...




Comment 2


Daniel Glaser





          2006-09-28 03:28:32 UTC
        

Created attachment 98302 [details, diff]
52_all_uclibc-100-conf.patch

Makes the current 52-patch obsolete.




Comment 3


Daniel Glaser





          2006-09-28 07:24:26 UTC
        

Another important thing is to check for cross-compiling and if another arch, some optimizations must be taken out e.g. -mcpu, -mtune
This could be checked in the ebuild.




Comment 4


SpanKY






          2006-09-28 07:35:39 UTC
        

you're mistaken about the role of CFLAGS in cross-compilers ... the toolchain will be running on CHOST, not on CTARGET, so the native CFLAGS are correct




Comment 5


Daniel Glaser





          2006-09-28 09:17:19 UTC
        

(In reply to comment #4)
> you're mistaken about the role of CFLAGS in cross-compilers ... the toolchain
> will be running on CHOST, not on CTARGET, so the native CFLAGS are correct

OK, will discuss this on the gentoo-embedded mailing list...




Comment 6


SpanKY






          2007-10-06 18:07:06 UTC
        

havent noticed any problems on my uclibc setups









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

