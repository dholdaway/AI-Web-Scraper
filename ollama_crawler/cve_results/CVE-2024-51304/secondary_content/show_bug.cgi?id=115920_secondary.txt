Title: 115920 – Xaw3d-1.5-r1 failed
URL: https://bugs.gentoo.org/show_bug.cgi?id=115920

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 115920
Xaw3d-1.5-r1 failed
Last modified: 2006-01-16 13:46:09 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 115920 
      - Xaw3d-1.5-r1 failed


Summary:
Xaw3d-1.5-r1 failed
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo X packagers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-12-18 03:34 UTC by Mattheus Happe





      Modified:
    
2006-01-16 13:46 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Mattheus Happe





          2005-12-18 03:34:41 UTC
        

+ ln -s ../../../.././Tree.h .
+ for i in AllWidgets.h AsciiSink.h AsciiSinkP.h AsciiSrc.h AsciiSrcP.h AsciiText.h AsciiTextP.h Box.h BoxP.h Cardinals.h Command.h CommandP.h Dialog.h DialogP.h Form.h FormP.h Grip.h GripP.h Label.h LabelP.h Layout.h LayoutP.h List.h ListP.h MenuButton.h MenuButtoP.h MultiSrc.h MultiSrcP.h MultiSink.h MultiSinkP.h Paned.h PanedP.h Panner.h PannerP.h Porthole.h PortholeP.h Repeater.h RepeaterP.h Reports.h Scrollbar.h ScrollbarP.h Simple.h SimpleP.h SimpleMenu.h SimpleMenP.h Sme.h SmeP.h SmeBSB.h SmeBSBP.h SmeLine.h SmeLineP.h SmeThreeD.h SmeThreeDP.h StripChart.h StripCharP.h Template.c Template.h TemplateP.h Text.h TextP.h TextSink.h TextSinkP.h TextSrc.h TextSrcP.h ThreeD.h ThreeDP.h Toggle.h ToggleP.h Tree.h TreeP.h VendorEP.h Viewport.h ViewportP.h XawImP.h XawInit.h
+ rm -f TreeP.h
+ ln -s ../../../.././TreeP.h .
+ for i in AllWidgets.h AsciiSink.h AsciiSinkP.h AsciiSrc.h AsciiSrcP.h AsciiText.h AsciiTextP.h Box.h BoxP.h Cardinals.h Command.h CommandP.h Dialog.h DialogP.h Form.h FormP.h Grip.h GripP.h Label.h LabelP.h Layout.h LayoutP.h List.h ListP.h MenuButton.h MenuButtoP.h MultiSrc.h MultiSrcP.h MultiSink.h MultiSinkP.h Paned.h PanedP.h Panner.h PannerP.h Porthole.h PortholeP.h Repeater.h RepeaterP.h Reports.h Scrollbar.h ScrollbarP.h Simple.h SimpleP.h SimpleMenu.h SimpleMenP.h Sme.h SmeP.h SmeBSB.h SmeBSBP.h SmeLine.h SmeLineP.h SmeThreeD.h SmeThreeDP.h StripChart.h StripCharP.h Template.c Template.h TemplateP.h Text.h TextP.h TextSink.h TextSinkP.h TextSrc.h TextSrcP.h ThreeD.h ThreeDP.h Toggle.h ToggleP.h Tree.h TreeP.h VendorEP.h Viewport.h ViewportP.h XawImP.h XawInit.h
+ rm -f VendorEP.h
+ ln -s ../../../.././VendorEP.h .
+ for i in AllWidgets.h AsciiSink.h AsciiSinkP.h AsciiSrc.h AsciiSrcP.h AsciiText.h AsciiTextP.h Box.h BoxP.h Cardinals.h Command.h CommandP.h Dialog.h DialogP.h Form.h FormP.h Grip.h GripP.h Label.h LabelP.h Layout.h LayoutP.h List.h ListP.h MenuButton.h MenuButtoP.h MultiSrc.h MultiSrcP.h MultiSink.h MultiSinkP.h Paned.h PanedP.h Panner.h PannerP.h Porthole.h PortholeP.h Repeater.h RepeaterP.h Reports.h Scrollbar.h ScrollbarP.h Simple.h SimpleP.h SimpleMenu.h SimpleMenP.h Sme.h SmeP.h SmeBSB.h SmeBSBP.h SmeLine.h SmeLineP.h SmeThreeD.h SmeThreeDP.h StripChart.h StripCharP.h Template.c Template.h TemplateP.h Text.h TextP.h TextSink.h TextSinkP.h TextSrc.h TextSrcP.h ThreeD.h ThreeDP.h Toggle.h ToggleP.h Tree.h TreeP.h VendorEP.h Viewport.h ViewportP.h XawImP.h XawInit.h
+ rm -f Viewport.h
+ ln -s ../../../.././Viewport.h .
+ for i in AllWidgets.h AsciiSink.h AsciiSinkP.h AsciiSrc.h AsciiSrcP.h AsciiText.h AsciiTextP.h Box.h BoxP.h Cardinals.h Command.h CommandP.h Dialog.h DialogP.h Form.h FormP.h Grip.h GripP.h Label.h LabelP.h Layout.h LayoutP.h List.h ListP.h MenuButton.h MenuButtoP.h MultiSrc.h MultiSrcP.h MultiSink.h MultiSinkP.h Paned.h PanedP.h Panner.h PannerP.h Porthole.h PortholeP.h Repeater.h RepeaterP.h Reports.h Scrollbar.h ScrollbarP.h Simple.h SimpleP.h SimpleMenu.h SimpleMenP.h Sme.h SmeP.h SmeBSB.h SmeBSBP.h SmeLine.h SmeLineP.h SmeThreeD.h SmeThreeDP.h StripChart.h StripCharP.h Template.c Template.h TemplateP.h Text.h TextP.h TextSink.h TextSinkP.h TextSrc.h TextSrcP.h ThreeD.h ThreeDP.h Toggle.h ToggleP.h Tree.h TreeP.h VendorEP.h Viewport.h ViewportP.h XawImP.h XawInit.h
+ rm -f ViewportP.h
+ ln -s ../../../.././ViewportP.h .
+ for i in AllWidgets.h AsciiSink.h AsciiSinkP.h AsciiSrc.h AsciiSrcP.h AsciiText.h AsciiTextP.h Box.h BoxP.h Cardinals.h Command.h CommandP.h Dialog.h DialogP.h Form.h FormP.h Grip.h GripP.h Label.h LabelP.h Layout.h LayoutP.h List.h ListP.h MenuButton.h MenuButtoP.h MultiSrc.h MultiSrcP.h MultiSink.h MultiSinkP.h Paned.h PanedP.h Panner.h PannerP.h Porthole.h PortholeP.h Repeater.h RepeaterP.h Reports.h Scrollbar.h ScrollbarP.h Simple.h SimpleP.h SimpleMenu.h SimpleMenP.h Sme.h SmeP.h SmeBSB.h SmeBSBP.h SmeLine.h SmeLineP.h SmeThreeD.h SmeThreeDP.h StripChart.h StripCharP.h Template.c Template.h TemplateP.h Text.h TextP.h TextSink.h TextSinkP.h TextSrc.h TextSrcP.h ThreeD.h ThreeDP.h Toggle.h ToggleP.h Tree.h TreeP.h VendorEP.h Viewport.h ViewportP.h XawImP.h XawInit.h
+ rm -f XawImP.h
+ ln -s ../../../.././XawImP.h .
+ for i in AllWidgets.h AsciiSink.h AsciiSinkP.h AsciiSrc.h AsciiSrcP.h AsciiText.h AsciiTextP.h Box.h BoxP.h Cardinals.h Command.h CommandP.h Dialog.h DialogP.h Form.h FormP.h Grip.h GripP.h Label.h LabelP.h Layout.h LayoutP.h List.h ListP.h MenuButton.h MenuButtoP.h MultiSrc.h MultiSrcP.h MultiSink.h MultiSinkP.h Paned.h PanedP.h Panner.h PannerP.h Porthole.h PortholeP.h Repeater.h RepeaterP.h Reports.h Scrollbar.h ScrollbarP.h Simple.h SimpleP.h SimpleMenu.h SimpleMenP.h Sme.h SmeP.h SmeBSB.h SmeBSBP.h SmeLine.h SmeLineP.h SmeThreeD.h SmeThreeDP.h StripChart.h StripCharP.h Template.c Template.h TemplateP.h Text.h TextP.h TextSink.h TextSinkP.h TextSrc.h TextSrcP.h ThreeD.h ThreeDP.h Toggle.h ToggleP.h Tree.h TreeP.h VendorEP.h Viewport.h ViewportP.h XawImP.h XawInit.h
+ rm -f XawInit.h
+ ln -s ../../../.././XawInit.h .
bison -y -d laygram.y
sed 's/yy/LayYY/g' y.tab.c > laygram.c
sed 's/yy/LayYY/g' y.tab.h > laygram.h
rm -f y.tab.c y.tab.h
flex -l laylex.l
sed 's/yy/LayYY/g' lex.yy.c > laylex.c
rm -f lex.yy.c
gccmakedep  --  -I. -I/usr/X11R6/include    -Dlinux -D__amd64__ -D_POSIX_C_SOURCE=199309L                               -D_POSIX_SOURCE -D_XOPEN_SOURCE                                -D_BSD_SOURCE -D_SVID_SOURCE                                 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64                                                                  -DFUNCPROTO=15 -DNARROWPROTO   -DHAS_WCHAR_H -DHAS_WCTYPE_H -DNO_WIDEC_H -DARROW_SCROLLBAR -DUSEGRAY  -- AllWidgets.c        AsciiSink.c     AsciiSrc.c      AsciiText.c     Box.c   Command.c       Dialog.c        Form.c Grip.c  Label.c         Layout.c        List.c  MenuButton.c    MultiSrc.c      MultiSink.c     Paned.c         Panner.c        Porthole.c    Repeater.c       Scrollbar.c     Simple.c        SimpleMenu.c    Sme.c   SmeBSB.c        SmeLine.c       SmeThreeD.c     StripChart.c    Text.c TextSink.c      TextSrc.c       TextAction.c    TextPop.c       TextTr.c        ThreeD.c        Toggle.c        Tree.c  Vendor.c        Viewport.c     XawIm.c         XawInit.c       XawI18n.c       sharedlib.c     laygram.c       laylex.c
/bin/sh: gccmakedep: command not found
make: *** [depend] Error 127

!!! ERROR: x11-libs/Xaw3d-1.5-r1 failed.
!!! Function src_compile, Line 70, Exitcode 2
!!! (no error message)
!!! If you need support, post the topmost build error, NOT this status message.
genbox tioan # emerge --info
Portage 2.0.53 (default-linux/amd64/2005.1, gcc-3.4.4, glibc-2.3.5-r3, 2.6.14-gentoo-r4 x86_64)
=================================================================
System uname: 2.6.14-gentoo-r4 x86_64 AMD Athlon(tm) 64 Processor 3000+
Gentoo Base System version 1.12.0_pre11
dev-lang/python:     2.3.5-r2, 2.4.2
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1-r1
sys-devel/libtool:   1.5.20-r1
virtual/os-headers:  2.6.11-r3
ACCEPT_KEYWORDS="amd64 ~amd64"
AUTOCLEAN="Yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=athlon64 -O2 -pipe -ftracer -m64"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/kde/3/share/config /usr/share/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/texmf/web2c /etc/env.d"
CXXFLAGS="-march=athlon64 -O2 -pipe -ftracer -m64 -fvisibility-inlines-hidden"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sfperms strict"
GENTOO_MIRRORS="ftp://ftp.tu-clausthal.de/pub/linux/gentoo/ ftp://sunsite.informatik.rwth-aachen.de/pub/Linux/gentoo http://linux.rz.ruhr-uni-bochum.de/download/gentoo-mirror/ ftp://linux.rz.ruhr-uni-bochum.de/gentoo-mirror/ ftp://ftp.uni-erlangen.de/pub/mirrors/gentoo ftp://ftp.join.uni-muenster.de/pub/linux/distributions/gentoo ftp://ftp.wh2.tu-dresden.de/pub/mirrors/gentoo http://mirrors.sec.informatik.tu-darmstadt.de/gentoo/ http://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/ ftp://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/ ftp://ftp.gentoo.mesh-solutions.com/gentoo/ http://pandemonium.tiscali.de/pub/gentoo/ ftp://pandemonium.tiscali.de/pub/gentoo/ ftp://ftp.rz.tu-bs.de/pub/mirror/ftp.gentoo.org/gentoo-distfiles/ http://gentoo.intergenia.de ftp://mirror.pacific.net.au/linux/Gentoo http://mirror.isp.net.au/pub/gentoo/ ftp://mirror.isp.net.au/pub/gentoo/ ftp://ftp.swin.edu.au/gentoo http://ftp.swin.edu.au/gentoo"
LDFLAGS="-Wl,-O1"
LINGUAS="de"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/overlays/gentoo-de /usr/local/overlays/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="amd64 X a52 aac aalib acl aclutf8 acpi alsa avi bluetooth bzip2 cdr chipcard crypt css cups dbus divx4linux dri dtaus dts dvd dvddvdr dvdread encode exif ffmpeg flac foomaticdb geldkarte gif gimp gstreamer hal hbci howl icecast ieee1394 imap ipv6 java jpeg kde kdeenablefinal ldap logitech-mouse mad mikmod mime mp2 mp3 mpeg musicbrainz ncurses nls nptl nptlonly nvidia ofx ogg oggvorbis openal opengl pam perl png ppds python qt readline samba scanner smartcard snmp spell ssl sysfs szip tiff truetype unicode usb userlocales vorbis xine xinerama xml2 xv xvid zeroconf zlib linguas_de userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL




Comment 1


Jaroslaw Kalinowski





          2005-12-18 03:43:49 UTC
        

It looks as if you don't have gccmakedep. On my system it is provided by xorg-x11:

  jak@granat ~ $ equery b gccmakedep
  [ Searching for file(s) gccmakedep in *... ]
  x11-base/xorg-x11-6.8.2-r6 (/usr/bin/gccmakedep)

Can you check if it is provided by the version you have? Like this:

  jak@granat ~ $ equery f xorg-x11 | grep gccmakedep
  /usr/bin/gccmakedep
  /usr/share/man/man1/gccmakedep.1x.gz





Comment 2


Jakub Moc (RETIRED)






          2005-12-18 04:14:26 UTC
        

Looks like missing x11-misc/gccmakedep dependency...




Comment 3


Mattheus Happe





          2005-12-18 04:32:55 UTC
        

(In reply to comment #2)
> Looks like missing x11-misc/gccmakedep dependency...
> 

Thx after emerge x11-misc/gccmakedep i get this error if i tried to emerge XaW3d

gcc -c -O2 -fno-strength-reduce -fno-strict-aliasing     -I. -I/usr/X11R6/include    -Dlinux -D__amd64__ -D_POSIX_C_SOURCE=199309L            -D_POSIX_SOURCE -D_XOPEN_SOURCE                          -D_BSD_SOURCE -D_SVID_SOURCE                                 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64                                                                  -DFUNCPROTO=15 -DNARROWPROTO   -DHAS_WCHAR_H -DHAS_WCTYPE_H -DNO_WIDEC_H -DARROW_SCROLLBAR -DUSEGRAY    -fPIC Viewport.c
Viewport.c: In function `ScrollUpDownProc':
Viewport.c:774: warning: cast from pointer to integer of different size
rm -f XawI18n.o
gcc -c -O2 -fno-strength-reduce -fno-strict-aliasing     -I. -I/usr/X11R6/include    -Dlinux -D__amd64__ -D_POSIX_C_SOURCE=199309L            -D_POSIX_SOURCE -D_XOPEN_SOURCE                          -D_BSD_SOURCE -D_SVID_SOURCE                                 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64                                                                  -DFUNCPROTO=15 -DNARROWPROTO   -DHAS_WCHAR_H -DHAS_WCTYPE_H -DNO_WIDEC_H -DARROW_SCROLLBAR -DUSEGRAY    -fPIC XawI18n.c
rm -f XawInit.o
rm -f laygram.o
gcc -c -O2 -fno-strength-reduce -fno-strict-aliasing     -I. -I/usr/X11R6/include    -Dlinux -D__amd64__ -D_POSIX_C_SOURCE=199309L            -D_POSIX_SOURCE -D_XOPEN_SOURCE                          -D_BSD_SOURCE -D_SVID_SOURCE                                 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64                                                                  -DFUNCPROTO=15 -DNARROWPROTO   -DHAS_WCHAR_H -DHAS_WCTYPE_H -DNO_WIDEC_H -DARROW_SCROLLBAR -DUSEGRAY    -fPIC laygram.c
gcc -c -O2 -fno-strength-reduce -fno-strict-aliasing     -I. -I/usr/X11R6/include    -Dlinux -D__amd64__ -D_POSIX_C_SOURCE=199309L            -D_POSIX_SOURCE -D_XOPEN_SOURCE                          -D_BSD_SOURCE -D_SVID_SOURCE                                 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64                                                                  -DFUNCPROTO=15 -DNARROWPROTO   -DHAS_WCHAR_H -DHAS_WCTYPE_H -DNO_WIDEC_H -DARROW_SCROLLBAR -DUSEGRAY    -fPIC XawInit.c
rm -f laylex.o
gcc -c -O2 -fno-strength-reduce -fno-strict-aliasing     -I. -I/usr/X11R6/include    -Dlinux -D__amd64__ -D_POSIX_C_SOURCE=199309L            -D_POSIX_SOURCE -D_XOPEN_SOURCE                          -D_BSD_SOURCE -D_SVID_SOURCE                                 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64                                                                  -DFUNCPROTO=15 -DNARROWPROTO   -DHAS_WCHAR_H -DHAS_WCTYPE_H -DNO_WIDEC_H -DARROW_SCROLLBAR -DUSEGRAY    -fPIC laylex.c
rm -f libXaw3d.so.8.0~
+ cd .
+ gcc -o ./libXaw3d.so.8.0~ -shared -Wl,-soname,libXaw3d.so.8 AllWidgets.o AsciiSink.o AsciiSrc.o AsciiText.o Box.o Command.o Dialog.o Form.o Grip.o Label.o Layout.o List.o MenuButton.o MultiSrc.o MultiSink.o Paned.o Panner.o Porthole.o Repeater.o Scrollbar.o Simple.o SimpleMenu.o Sme.o SmeBSB.o SmeLine.o SmeThreeD.o StripChart.o Text.o TextSink.o TextSrc.o TextAction.o TextPop.o TextTr.o ThreeD.o Toggle.o Tree.o Vendor.o Viewport.o XawIm.o XawI18n.o XawInit.o laygram.o laylex.o -L/usr/X11R6/lib64 -lXmu -lXt -lSM -lICE -lXext -lX11 -lXt -lSM -lICE -lXpm -lXp -lXext -lX11 -lc
/usr/lib/gcc/x86_64-pc-linux-gnu/3.4.4/../../../../x86_64-pc-linux-gnu/bin/ld: cannot find -lXp
collect2: ld returned 1 exit status
make: *** [libXaw3d.so.8.0] Error 1





Comment 4


Donnie Berkholz (RETIRED)






          2005-12-18 09:31:10 UTC
        

Mattheus, do you have libXp installed? It should be getting pulled in by Xaw3d.




Comment 5


Mattheus Happe





          2005-12-19 08:56:07 UTC
        

after emerging gccmakedep and libXp Xaw3d emerged without any error. Can soeoenm add gccmakedep and libXp als depence to Xaw3d please. 




Comment 6


Joshua Baergen (RETIRED)






          2005-12-19 09:58:32 UTC
        

They are:

RDEPEND="|| ( ( x11-libs/libXt
                                x11-libs/libX11
                                x11-libs/libXmu
                                x11-libs/libXpm
                                x11-libs/libXp
                        )
                        virtual/x11
                )"
DEPEND="${RDEPEND}
        >=sys-apps/sed-4
        || ( ( x11-proto/xextproto
                        x11-misc/gccmakedep
                )
                virtual/x11
        )"

Are you providing virtual/x11 anywhere?




Comment 7


Jakub Moc (RETIRED)






          2006-01-16 13:44:55 UTC
        

Closing, the dependencies are correct. If you have virtual/x11 in package.provided, then remove it.




Comment 8


Jakub Moc (RETIRED)






          2006-01-16 13:45:27 UTC
        

Uh...




Comment 9


Jakub Moc (RETIRED)






          2006-01-16 13:46:09 UTC
        

WORKSFORME.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

