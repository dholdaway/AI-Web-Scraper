Title: 218377 – dev-ml/lablgl-1.03-r1 fails to build
URL: https://bugs.gentoo.org/show_bug.cgi?id=218377

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 218377
dev-ml/lablgl-1.03-r1 fails to build
Last modified: 2008-04-19 16:16:02 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 218377 
      - dev-ml/lablgl-1.03-r1 fails to build


Summary:
dev-ml/lablgl-1.03-r1 fails to build
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Team for the ML programming language family








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-04-19 09:10 UTC by Pacho Ramos





      Modified:
    
2008-04-19 16:16 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Pacho Ramos






          2008-04-19 09:10:42 UTC
        

I get the following error:
make[2]: Entering directory `/var/tmp/portage/dev-ml/lablgl-1.03-r1/work/lablgl-1.03/Togl/src/Togl'
ocamlc -c -ccopt "-c -O -O2 -march=prescott -pipe -fomit-frame-pointer -mfpmath=sse -I../../src -ITogl  -I.   " togl.c
make[2]: Leaving directory `/var/tmp/portage/dev-ml/lablgl-1.03-r1/work/lablgl-1.03/Togl/src/Togl'
ocamlmklib -o togl ml_togl.o	Togl/togl.o -lGL -lGLU  -lXext -lXmu -lX11
ocamlc -c -w s -I +labltk -I ../../src togl.mli
File "togl.mli", line 4, characters 14-29:
Unbound type constructor Widget.widget
make[1]: *** [togl.cmi] Error 2
make[1]: Leaving directory `/var/tmp/portage/dev-ml/lablgl-1.03-r1/work/lablgl-1.03/Togl/src'
make: *** [togl] Error 2
 * 
 * ERROR: dev-ml/lablgl-1.03-r1 failed.
 * Call stack:
 *               ebuild.sh, line   49:  Called src_compile
 *             environment, line 2068:  Called die
 * The specific snippet of code:
 *           emake -j1 togl || die "failed to build togl";
 *  The die message:
 *   failed to build togl
 * 

My emerge --info:
Portage 2.1.4.4 (default-linux/x86/2007.0, gcc-4.1.2, glibc-2.6.1-r0, 2.6.24-tuxonice-r4 i686)
=================================================================
System uname: 2.6.24-tuxonice-r4 i686 Genuine Intel(R) CPU T2300 @ 1.66GHz
Timestamp of tree: Sat, 19 Apr 2008 08:04:01 +0000
ccache version 2.4 [enabled]
app-shells/bash:     3.2_p17-r1
dev-java/java-config: 1.3.7, 2.1.4
dev-lang/python:     2.4.4-r9
dev-python/pycrypto: 2.0.1-r6
dev-util/ccache:     2.4-r7
sys-apps/baselayout: 1.12.11.1
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.61-r1
sys-devel/automake:  1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.1
sys-devel/binutils:  2.18-r1
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.23-r3
ACCEPT_KEYWORDS="x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=prescott -pipe -fomit-frame-pointer -mfpmath=sse"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/revdep-rebuild /etc/splash /etc/terminfo /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-O2 -march=prescott -pipe -fomit-frame-pointer -mfpmath=sse"
DISTDIR="/usr/distfiles"
FEATURES="ccache collision-protect distlocks fixpackages metadata-transfer parallel-fetch sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://mirror.ovh.net/gentoo-distfiles/ "
LANG="es_ES.UTF-8"
LC_ALL="es_ES.UTF-8"
LINGUAS="es es_ES en_US"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portage/local/layman/sunrise /usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X a52 aac acl acpi aim alsa ape asf audiofile avahi avi bash-completion bcmath beagle bonobo bzip2 bzlib cairo caps cdb cddb cdparanoia cdr cdrparanoia cli cpdflib cracklib cross crypt css cups curl curlwrappers daap dbus divx4linux djvu dts dv dvb dvd dvdr dvdread dvi eds emerald encode escreen evo exif fam fbcon fbsplash ffmpeg firefox flac foomaticdb fortran ftp galago gb gcj gd gif gimp gimpprint glitz glut glx gmp gnome gphoto2 gpm gstreamer gtk gtk2 gtkhtml guile hal hddtemp iconv id3tag imagemagick imlib ipv6 isdnlog jabber jack java jikes jpeg kde kdeenablefinal kdehiddenvisibility latex lcms lesstif libnotify lm_sensors logrotate mac mad mbox midi mikmod mime ming mmap mmx mmxext mng modplug mono motif mp3 mpeg mpi mplayer mudflap musepack musicbrainz nas ncurses nethack networkmanager nls nocd nptl nptlonly nsplugin ntfs nvidia ogg oggvorbis openal opengl openmp opnegl pam pcmcia pcre pdf pdflib perl pic png pnp posix ppds pppd python qt qt3 qt4 quicktime readline real reflection reiserfs rpm rtc ruby scanner sdl seamonkey session slang slp smp sndfile sockets socks5 sourceview speex spell spl sse sse2 sse3 ssl startup-notification svg syslog tcltk tcpd tetex tga theora threads tiff timidity tk truetype trusted unicode usb userlocales v4l v4l2 vcd videos vim vorbis wifi win32codecs wma wmf wxwindows x86 xattr xcb xcomposite xft xine xml xorg xpm xv xvid zlib" ALSA_CARDS="hda-intel" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" DVB_CARDS=" " ELIBC="glibc" INPUT_DEVICES="keyboard mouse synaptics" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="es es_ES en_US" USERLAND="GNU" VIDEO_CARDS="nvidia nv vesa fbdev"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LDFLAGS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS


Reproducible: Always




Comment 1


Alexis Ballier






          2008-04-19 15:32:35 UTC
        

do you have some files like /usr/lib/ocaml/labltk/widget.* ?

ocaml should have been built with tk useflag and provides these files.

whats your tcl/tk version ?




Comment 2


Pacho Ramos






          2008-04-19 15:43:28 UTC
        

(In reply to comment #1)
> do you have some files like /usr/lib/ocaml/labltk/widget.* ?
> 
> ocaml should have been built with tk useflag and provides these files.
> 
I have it compiled with tk USE flag

> whats your tcl/tk version ?
> 

8.5.1 :-|




Comment 3


Alexis Ballier






          2008-04-19 15:47:41 UTC
        

> > whats your tcl/tk version ?
> > 
> 
> 8.5.1 :-|

then rebuild ocaml; this version is masked, the patch is here but if you built ocaml before I patched it, you didnt get labltk. see my last comment in bug #212678





Comment 4


Pacho Ramos






          2008-04-19 16:16:02 UTC
        

(In reply to comment #3)

> then rebuild ocaml; this version is masked, the patch is here but if you built
> ocaml before I patched it, you didnt get labltk. see my last comment in bug
> #212678
> 

I already rebuilt ocaml without success before sending this, but this is because seems that I need to update to ocaml-3.10.2 from 3.09.3-r1. Now works, thanks :-)









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

