Title: 744883 – [Future EAPI] Pass --enable-fast-install to libtool configure scripts
URL: https://bugs.gentoo.org/show_bug.cgi?id=744883

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 744883
[Future EAPI] Pass --enable-fast-install to libtool configure scripts
Last modified: 2021-05-18 10:24:55 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 744883 
      - [Future EAPI] Pass --enable-fast-install to libtool configure scripts


Summary:
[Future EAPI] Pass --enable-fast-install to libtool configure scripts
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Hosted Projects




Classification:

Unclassified




Component:

PMS/EAPI

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

PMS/EAPI








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:




future-eapi



 

        Show dependency tree





 





      Reported:
    
2020-09-26 22:35 UTC by David Seifert





      Modified:
    
2021-05-18 10:24 UTC
      (History)
    




          CC List:
        

3 
          users
          
            (show)
          



esigra
mgorny
pacho









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


David Seifert






          2020-09-26 22:35:00 UTC
        

"fast-install" mode in libtool switches the build process in libtool to avoid relinking in the install phase by privileging the deployer over the developer (the upstream developer, not the Gentoo developer). It does so by building all binaries for the final phase, and only relinks them if binaries are needed in test phases. This helps in reducing unnecessary relinking in src_install for most users. This feature will have to be conditionally added like --docdir/--htmldir. Exherbo adds it by default in their src_configure phase (https://git.exherbo.org/paludis/paludis.git/tree/paludis/repositories/e/ebuild/exheres-0/build_functions.bash#n148), which seems to indicate that it is generally unproblematic on a large scale.

Reproducible: Always




Comment 1


Ulrich Müller






          2020-09-27 11:25:19 UTC
        

Only 6 packages (and no eclass) in the tree are passing --enable-fast-install to econf. This doesn't look like a feature that would merit support in the package manager itself.




Comment 2


Ulrich Müller






          2020-09-27 13:08:16 UTC
        

I just see that the Council has already rejected this feature:
https://projects.gentoo.org/council/meeting-logs/20090423-summary.txt

  - New econf options,
    '--disable-dependency-tracking'/'--enable-fast-install'
      The addition of '--enable-fast-install' was opposed because it is
      already a libtool default and as such is useless. No arguments
      were made against '--disable-dependency-tracking'.

      Conclusion:
          '--disable-dependency-tracking' was voted in, while
          '--enable-fast-install' was voted out.




Comment 3


Michał Górny









          2021-05-18 10:24:55 UTC
        

>  [...] it is already a libtool default and as such is useless

Sounds like we can close the bug then.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

