Title: 924842 – media-gfx/freecad-{0.20.2-r1,0.21.2-r1} segfault (no current GL context)
URL: https://bugs.gentoo.org/show_bug.cgi?id=924842

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 924842
media-gfx/freecad-{0.20.2-r1,0.21.2-r1} segfault (no current GL context)
Last modified: 2024-02-18 00:34:10 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 924842 
      - media-gfx/freecad-{0.20.2-r1,0.21.2-r1} segfault (no current GL context)


Summary:
media-gfx/freecad-{0.20.2-r1,0.21.2-r1} segfault (no current GL context)
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       minor
      


Assignee:

Bernd








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2024-02-17 23:33 UTC by Alain Emilia Anna Zscheile





      Modified:
    
2024-02-18 00:34 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



fogti
proxy-maint









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge --info

              (emerge-info.txt,17.34 KB,
                text/plain)

            
2024-02-17 23:33 UTC,

            Alain Emilia Anna Zscheile




Details





gdb backtrace

              (freecad-bt.txt,19.19 KB,
                text/plain)

            
2024-02-17 23:34 UTC,

            Alain Emilia Anna Zscheile




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Alain Emilia Anna Zscheile





          2024-02-17 23:33:11 UTC
        

Created attachment 885259 [details]
emerge --info

FreeCAD 0.21.2, Libs: 0.21.2RUnknown
© Juergen Riegel, Werner Mayer, Yorik van Havre and others 2001-2023
FreeCAD is free and open-source software licensed under the terms of LGPL2+ license.
FreeCAD wouldn't be possible without FreeCAD community.
  #####                 ####  ###   ####  
  #                    #      # #   #   # 
  #     ##  #### ####  #     #   #  #   # 
  ####  # # #  # #  #  #     #####  #   # 
  #     #   #### ####  #    #     # #   # 
  #     #   #    #     #    #     # #   #  ##  ##  ##
  #     #   #### ####   ### #     # ####   ##  ##  ##

QOpenGLFunctions created with non-current context
(qt.qpa.wayland) Wayland does not support QWindow::requestActivate()
connect failed: No such file or directory
FreeCAD: /tmp/portage/media-libs/coin-4.0.2/work/coin/src/glue/gl.cpp:2234: const cc_glglue* cc_glglue_instance(int): Assertion `current_ctx && "Must have a current GL context when instantiating cc_glglue!! (Note: if you are using an old Mesa GL version, set the environment variable COIN_GL_NO_CURRENT_CONTEXT_CHECK to get around what may be a Mesa bug.)"' failed.
zsh: IOT instruction (core dumped)  freecad




Comment 1


Alain Emilia Anna Zscheile





          2024-02-17 23:34:08 UTC
        

Created attachment 885260 [details]
gdb backtrace




Comment 2


Alain Emilia Anna Zscheile





          2024-02-17 23:36:32 UTC
        

This is on gui-wm/sway-1.8.1, dev-qt/qtcore-5.15.12-r1, sci-libs/opencascade-7.6.3-r2, media-libs/coin-{4.0.0,4.0.2}




Comment 3


Alain Emilia Anna Zscheile





          2024-02-18 00:34:10 UTC
        

Compiling opencascade with gles2 didn't appear to affect this; surprisingly, setting COIN_GL_NO_CURRENT_CONTEXT_CHECK=1 didn't work on my first check on 0.20.2-r1, but did work when I tested on 0.21.2-r1. So I guess this does work.

My first build also error'd when it couldn't find dev-libs/c-blosc, but when I uninstalled that later and rebuild stuff, nothing complained. This stuff appears annoyingly brittle...









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

