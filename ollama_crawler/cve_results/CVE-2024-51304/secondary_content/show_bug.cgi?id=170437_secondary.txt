Title: 170437 – net-print/cups-1.2.8 Brother printer error
URL: https://bugs.gentoo.org/show_bug.cgi?id=170437

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 170437
net-print/cups-1.2.8 Brother printer error
Last modified: 2007-05-12 08:08:05 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 170437 
      - net-print/cups-1.2.8 Brother printer error


Summary:
net-print/cups-1.2.8 Brother printer error
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Printing

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       major
      


Assignee:

Printing Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-03-11 16:40 UTC by Nuitari





      Modified:
    
2007-05-12 08:08 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Nuitari





          2007-03-11 16:40:52 UTC
        

After upgrading to Cups-1.2.8 from 1.2.7 I could no longer print to my Brother MFC-210C printer.

The print job would go through, got marked as successful then blissfully disappear without being printed.

Upon turning the debug level in cupsd.conf, the only noticible error was:

ESP "Unrecoverable error, exit code 1", in the error_log file.

I have tried the following:
Cycling power to the printer
Doing the # FEATURES=-collision-protect emerge -va1 $(qfile -qC /usr/lib/cups /etc/cups | sed "s:net-print/cups$::")
Reinstalling ghostscript-esp
Reinstalling the MFC-210C as per Brother's instructions.
Reconfiguring the printer in both kcontrol and CUPS' web interface
Rebooting

Only when I downgraded CUPS to 1.2.7 could I print again with my Brother printer.

The HP printer, using hplip, was not affected.

Reproducible: Always

Steps to Reproduce:




gandalf nuitari # emerge --info
Portage 2.1.2.2 (default-linux/amd64/2006.1/desktop, gcc-4.1.2, glibc-2.5-r0, 2.6.19-gentoo-r1 x86_64)
=================================================================
System uname: 2.6.19-gentoo-r1 x86_64 AMD Athlon(tm) 64 Processor 3500+
Gentoo Base System release 1.12.9
Timestamp of tree: Thu, 08 Mar 2007 08:30:01 +0000
distcc 2.18.3 x86_64-pc-linux-gnu (protocols 1 and 2) (default port 3632) [enabled]
dev-java/java-config: 1.3.7, 2.0.31-r4
dev-lang/python:     2.4.4
dev-python/pycrypto: 2.0.1-r5
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.61
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.17
sys-devel/gcc-config: 1.3.15
sys-devel/libtool:   1.5.23b
virtual/os-headers:  2.6.20-r1
ACCEPT_KEYWORDS="amd64 ~amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=athlon64 -O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/lib/fax /usr/share/X11/xkb /usr/share/config /var/bind /var/qmail/alias /var/qmail/control /var/spool/fax/etc"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/java-config/vms/ /etc/php/apache1-php5/ext-active/ /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c"
CXXFLAGS="-march=athlon64 -O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache distcc distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X alsa amd64 apache2 berkdb bitmap-fonts bzip2 cairo cdr cli cracklib crypt cups dbus dlloader dv dvd dvdr eds emboss encode fam firefox fortran gdbm gif gpm gtk gtk2 hal iconv isdnlog jpeg kde kdeenablefinal libg++ mad matroska midi mikmod mp3 mpeg ncurses nls nptl nptlonly ogg oggvorbis opengl pam pcre perl png ppds pppd python qt3 qt4 quicktime readline reflection sdl session spell spl ssl svg tcpd truetype truetype-fonts type1-fonts unicode vorbis xinerama xml xorg xv xvid zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" ELIBC="glibc" INPUT_DEVICES="evdev keyboard mouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" USERLAND="GNU" VIDEO_CARDS="nvidia v4l"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Stefan Schweizer (RETIRED)






          2007-04-07 12:19:10 UTC
        

does it work with cups-1.2.10?

Maybe it is the fault of the driver - did you use an ebuild to install it?




Comment 2


Nuitari





          2007-05-12 05:43:19 UTC
        

Sorry I missed your comment. 
I got a new MFC-440CN and it works now. It uses newer drivers from Brother so they might have fixed their problem.

Brother only gives binary rpms and deps for the driver, there are no ebuilds for them :(




Comment 3


Stefan Schweizer (RETIRED)






          2007-05-12 08:08:05 UTC
        

rpms and debs can also be made into ebuilds :)

Not that hard to do. Anyway I will close this as WORKDFORME, because it works for you now. THanks









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

