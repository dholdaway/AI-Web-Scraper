Title: 115732 – gentoo-sources-2.6.14-r5 unusable (errors with make)
URL: https://bugs.gentoo.org/show_bug.cgi?id=115732

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 115732
gentoo-sources-2.6.14-r5 unusable (errors with make)
Last modified: 2005-12-17 04:48:51 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 115732 
      - gentoo-sources-2.6.14-r5 unusable (errors with make)


Summary:
gentoo-sources-2.6.14-r5 unusable (errors with make)
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Core system

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       major
      


Assignee:

Gentoo Kernel Bug Wranglers and Kernel Maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-12-15 21:42 UTC by Georgi Chulkov





      Modified:
    
2005-12-17 04:48 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Georgi Chulkov





          2005-12-15 21:42:05 UTC
        

The -r5 revision of the 2.6.14 kernel seems to be badly broken. While -r4 works
as expected, I get the following output with -r5 on a freshly emerged kernel source:

Superfly linux-2.6.14-gentoo-r5 # make clean
/usr/src/linux-2.6.14-gentoo-r5/drivers/base/power/Makefile:1: *** missing
separator.  Stop.
make[2]: *** [drivers/base/power] Error 2
make[1]: *** [drivers/base] Error 2
make: *** [_clean_drivers] Error 2

Superfly linux-2.6.14-gentoo-r5 # make menuconfig
scripts/kconfig/mconf arch/i386/Kconfig
drivers/net/appletalk/Kconfig:1: syntax error, unexpected T_WORD
net/Kconfig:161: invalid menu option
drivers/net/Kconfig:1: syntax error, unexpected T_WORD
drivers/Kconfig:36: invalid menu option
drivers/mmc/Kconfig:2: syntax error, unexpected T_WORD
drivers/Kconfig:68: invalid menu option
make[1]: *** [menuconfig] Error 1
make: *** [menuconfig] Error 2

Superfly linux-2.6.14-gentoo-r5 # make
  CHK     include/linux/version.h
  SYMLINK include/asm -> include/asm-i386
scripts/kconfig/conf -s arch/i386/Kconfig
drivers/net/appletalk/Kconfig:1: syntax error, unexpected T_WORD
net/Kconfig:161: invalid menu option
drivers/net/Kconfig:1: syntax error, unexpected T_WORD
drivers/Kconfig:36: invalid menu option
drivers/mmc/Kconfig:2: syntax error, unexpected T_WORD
drivers/Kconfig:68: invalid menu option
make[2]: *** [silentoldconfig] Error 1
make[1]: *** [silentoldconfig] Error 2
make: *** [include/linux/autoconf.h] Error 2


Reproducible: Always
Steps to Reproduce:
1.emerge =gentoo-sources-2.6.14-r5
2.cd /usr/src/linux-2.6.14-gentoo-r5
3.make menuconfig

Actual Results:  
See output above.

Expected Results:  
Proper behaviour of make command (clean for clean, menu configuration for
menuconfig etc.)


Superfly linux-2.6.14-gentoo-r5 # emerge --info
Portage 2.0.53 (default-linux/x86/2005.1, gcc-4.0.2, glibc-2.3.6-r1,
2.6.14-gentoo-r4 i686)
=================================================================
System uname: 2.6.14-gentoo-r4 i686 Intel(R) Pentium(R) M processor 1300MHz
Gentoo Base System version 1.12.0_pre11
dev-lang/python:     2.3.5, 2.4.2
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.91.0.4
sys-devel/libtool:   1.5.20-r1
virtual/os-headers:  2.6.11-r3
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium-m -mtune=pentium-m -pipe -ftracer
-fomit-frame-pointer -ffixed-ebp"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.5/env
/usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/splash /etc/terminfo /etc/texmf/web2c
/etc/env.d"
CXXFLAGS="-O2 -march=pentium-m -mtune=pentium-m -pipe -ftracer
-fomit-frame-pointer -ffixed-ebp"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org
http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LDFLAGS="-Wl,-O1"
MAKEOPTS="-j1"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="X a52 aac aalib acpi alsa apache2 atlas audiofile avi bash-completion
berkdb bindist bitmap-fonts bzip2 bzlib calendar cdparanoia cdr cpdflib crypt
ctype cups dba dedicated dga dio directfb divx4linux doc dts dv dvd dvdr dvdread
encode ethereal exif fbcon ffmpeg firefox flac flash fortran ftp gcj gd ggi gif
glut gphoto2 gpm gtk gtk2 gtkhtml hal howl iconv icq idn ieee1394 imagemagick
imap imlib innodb ipv6 ithreads java javascript jpeg junit kde kdeenablefinal
lame lcms libcaca libwww live mad matroska mcal ming mmx mmx2 mono monodoc
mozilla moznocompose moznoirc moznomail mozsvg mp3 mpeg mpi msn mysql ncurses
nis nls nocd nptl nptlonly nsplugin nvidia offensive ogg oggvorbis openal opengl
pam pcmcia pdf pdflib perl php pic pie plotutils png portaudio posix ppds
prelude python qt quicktime readline real samba scanner sdl session sharedext
simplexml slang sndfile sockets spell spl sse sse2 ssl subversion svg svga
symlink tcltk tcpd tetex theora threads tiff tokenizer truetype truetype-fonts
trusted type1-fonts udev unicode usb userlocales utf v4l vcd video videos
vidix-voodoo3 visualization vorbis vorbix wifi win32codecs wmf wxwindows x86 xft
xine xml xml2 xprint xsl xv xvid zlib video_cards_nvidia userland_GNU
kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LINGUAS




Comment 1


Daniel Drake (RETIRED)






          2005-12-16 02:20:41 UTC
        

Strange. Can you attach some of those files it is complaining about?
I can't reproduce this here and other people appear to have compiled and booted
this kernel too...




Comment 2


Georgi Chulkov





          2005-12-16 05:50:48 UTC
        

I rebooted the system to try again and give you the files, and then it just
worked. I'm puzzled. Sorry for bothering you.




Comment 3


Daniel Drake (RETIRED)






          2005-12-16 05:53:15 UTC
        

closing




Comment 4


Georgi Chulkov





          2005-12-17 04:48:51 UTC
        

Do you mean emerge --sync mirror or file download mirror? The first changes every time automatically.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

