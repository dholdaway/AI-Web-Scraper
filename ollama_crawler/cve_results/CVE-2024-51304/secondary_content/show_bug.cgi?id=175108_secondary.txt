Title: 175108 – Wireshark-0.99.5 compile problem
URL: https://bugs.gentoo.org/show_bug.cgi?id=175108

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 175108
Wireshark-0.99.5 compile problem
Last modified: 2007-04-18 17:28:21 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 175108 
      - Wireshark-0.99.5 compile problem


Summary:
Wireshark-0.99.5 compile problem
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

AMD64 Project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-04-18 15:36 UTC by Mark Haney





      Modified:
    
2007-04-18 17:28 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Mark Haney





          2007-04-18 15:36:28 UTC
        

Recent upgrade of wireshark 0.99.5 doesn't compile.  
Output of emerge --info:

Portage 2.1.2.2 (default-linux/amd64/2006.1/desktop, gcc-3.4.6, glibc-2.5-r0, 2.6.20-gentoo-r1 x86_64)
=================================================================
System uname: 2.6.20-gentoo-r1 x86_64 AMD Athlon(tm) 64 Processor 3500+
Gentoo Base System release 1.12.9
Timestamp of tree: Wed, 18 Apr 2007 11:20:01 +0000
dev-java/java-config: 1.3.7, 2.0.31-r5
dev-lang/python:     2.3.5-r3, 2.4.3-r4
dev-python/pycrypto: 2.0.1-r5
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.61
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.15-r1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.17-r2
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=k8 -pipe -O2"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/java-config/vms/ /etc/php/apache1-php5/ext-active/ /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/terminfo"
CXXFLAGS="-march=k8 -pipe -O2"
DISTDIR="/usr/portage/distfiles"
FEATURES="distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://gentoo.osuosl.org/ http://gentoo.seren.com/gentoo"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.namerica.gentoo.org/gentoo-portage"
USE="X acpi alsa amd64 apache2 arts berkdb bitmap-fonts cairo cdr cli cracklib crypt cups dbus dri dvd dvdr dvdread eds emboss encode esd fam firefox fortran gdbm gif gpm gstreamer gtk2 hal iconv ipv6 isdnlog jpeg kde ldap libg++ mad midi mikmod mozbranding mp3 mpeg ncurses nls nptl nptlonly nsplugin ogg opengl oss pam pcre pdf perl png ppds pppd python qt qt3 qt4 quicktime readline reflection sdl session spell spl ssl symlink tcpd truetype truetype-fonts type1-fonts unicode vorbis xml xorg xv yahoo zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" ELIBC="glibc" INPUT_DEVICES="keyboard mouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" USERLAND="GNU" VIDEO_CARDS="radeon vesa"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS


Reproducible: Always

Steps to Reproduce:
1.emerge -u wireshark
2.
3.

Actual Results:  
I get this error:

creating capinfos
/bin/sh ./libtool --tag=CC --mode=link x86_64-pc-linux-gnu-gcc  -DINET6 -D_U_="__attribute__((unused))" -Wall -Wpointer-arith -W  -march=k8 -pipe -O -I/usr/local/include -I/usr/include/glib-1.2 -I/usr/lib64/glib/include  -L/usr/local/lib -o editcap  editcap.o crypt-md5.o wiretap/libwiretap.la -L/usr/lib64 -rdynamic -lgmodule -lglib -lz
epan/.libs/libwireshark.so: undefined reference to `.LC775'
epan/.libs/libwireshark.so: undefined reference to `.LC779'
epan/.libs/libwireshark.so: undefined reference to `.LC780'
epan/.libs/libwireshark.so: undefined reference to `.LC773'
epan/.libs/libwireshark.so: undefined reference to `.LC776'
epan/.libs/libwireshark.so: undefined reference to `.LC772'
epan/.libs/libwireshark.so: undefined reference to `.LC781'
epan/.libs/libwireshark.so: undefined reference to `.LC777'
epan/.libs/libwireshark.so: undefined reference to `.LC774'
collect2: ld returned 1 exit status
make[2]: *** [tshark] Error 1
make[2]: *** Waiting for unfinished jobs....
x86_64-pc-linux-gnu-gcc -DINET6 "-D_U_=__attribute__((unused))" -Wall -Wpointer-arith -W -march=k8 -pipe -O -I/usr/local/include -I/usr/include/glib-1.2 -I/usr/lib64/glib/include -o .libs/editcap editcap.o crypt-md5.o -rdynamic  -L/usr/local/lib wiretap/.libs/libwiretap.so -L/usr/lib64 /usr/lib64/libgmodule.so /usr/lib64/libglib.so -lz
creating editcap
make[2]: Leaving directory `/var/tmp/portage/net-analyzer/wireshark-0.99.5/work/wireshark-0.99.5'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/net-analyzer/wireshark-0.99.5/work/wireshark-0.99.5'
make: *** [all] Error 2

!!! ERROR: net-analyzer/wireshark-0.99.5 failed.
Call stack:
  ebuild.sh, line 1614:   Called dyn_compile
  ebuild.sh, line 971:   Called qa_call 'src_compile'
  environment, line 3664:   Called src_compile
  wireshark-0.99.5.ebuild, line 104:   Called die

!!! emake failed
!!! If you need support, post the topmost build error, and the call stack if relevant.
!!! A complete build log is located at '/var/tmp/portage/net-analyzer/wireshark-0.99.5/temp/build.log'.


Expected Results:  
should compile.

Let me know what else I can add to get this fixed.




Comment 1


Peter Weller (RETIRED)






          2007-04-18 17:28:21 UTC
        

I can't reproduce this myself, chances are could be something to do with the fact that you're using gcc-3.x - could you please see if you still encounter the problems with gcc-4.x (See http://www.gentoo.org/doc/en/gcc-upgrading.xml for upgrade instructions). If you still encounter the problems with gcc-4.x, feel free to reopen the bug.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

