Title: 378627 – net-firewall/xtables-addons-1.{36,37} ipset throws  "Cannot open session to kernel"
URL: https://bugs.gentoo.org/show_bug.cgi?id=378627

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 378627
net-firewall/xtables-addons-1.{36,37} ipset throws  "Cannot open session to kernel"
Last modified: 2011-08-10 13:25:24 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 378627 
      - net-firewall/xtables-addons-1.{36,37} ipset throws  "Cannot open session to kernel"


Summary:
net-firewall/xtables-addons-1.{36,37} ipset throws  "Cannot open session to k...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2011-08-10 10:16 UTC by Marcin Mirosław





      Modified:
    
2011-08-10 13:25 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Marcin Mirosław





          2011-08-10 10:16:30 UTC
        

After upgrading kernel to sys-kernel/hardened-sources-r10 (this kernel has ip_set: protocol 6) i couldn't use ipset from xtables-addons-1.31. I've upgraded xtables to 1.37 but ipset can't talk with kernel:
# ipset -L
xtables-addons v1.37: Cannot open session to kernel.


Reproducible: Always




 emerge --info
FEATURES variable contains unknown value(s): Xkeepwork, Xtest, Yfail-clean, Yprofile, Ysplitdebug, Yuserpriv, profile-use
Portage 2.1.10.3 (hardened/linux/amd64, gcc-4.5.3, glibc-2.12.2-r0, 2.6.39-hardened-r10 x86_64)
=================================================================
System uname: Linux-2.6.39-hardened-r10-x86_64-Intel-R-_Core-TM-_i7_CPU_930_@_2.80GHz-with-gentoo-2.0.3
Timestamp of tree: Wed, 10 Aug 2011 07:30:01 +0000
ccache version 3.1.5 [enabled]
app-shells/bash:          4.1_p9
dev-lang/python:          2.7.1-r1, 3.1.3-r1
dev-util/ccache:          3.1.5
dev-util/cmake:           2.8.4-r1
dev-util/pkgconfig:       0.26
sys-apps/baselayout:      2.0.3
sys-apps/openrc:          0.8.3-r1
sys-apps/sandbox:         2.4
sys-devel/autoconf:       2.68
sys-devel/automake:       1.10.3, 1.11.1
sys-devel/binutils:       2.20.1-r1
sys-devel/gcc:            4.4.5, 4.5.3
sys-devel/gcc-config:     1.4.1-r1
sys-devel/libtool:        2.4-r1
sys-devel/make:           3.82
sys-kernel/linux-headers: 2.6.36.1 (virtual/os-headers)
sys-libs/glibc:           2.12.2
Repositories: gentoo sping science x-local miro-testowe
ACCEPT_KEYWORDS="amd64"
ACCEPT_LICENSE="* -@EULA"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=native -O2 -pipe         -fprefetch-loop-arrays -fpeel-loops     -fgraphite-identity -floop-interchange -floop-block -floop-strip-mine -fira-loop-pressure     -fpredictive-commoning -freorder-blocks-and-partition -ftracer -ftree-loop-distribution -ftree-vectorize        --param l2-cache-size=128 --param l1-cache-size=16 --param l1-cache-line-size=32"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/gnupg/qualified.txt /usr/share/openvpn/easy-rsa /var/bind"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php5.3/ext-active/ /etc/php/cgi-php5.3/ext-active/ /etc/php/cli-php5.3/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo"
CXXFLAGS="-march=native -O2 -pipe       -fprefetch-loop-arrays -fpeel-loops     -fgraphite-identity -floop-interchange -floop-block -floop-strip-mine -fira-loop-pressure     -fpredictive-commoning -freorder-blocks-and-partition -ftracer -ftree-loop-distribution -ftree-vectorize        --param l2-cache-size=128 --param l1-cache-size=16 --param l1-cache-line-size=32"
DISTDIR="/usr/portage/distfiles"
FEATURES="Xkeepwork Xtest Yfail-clean Yprofile Ysplitdebug Yuserpriv assume-digests binpkg-logs ccache collision-protect distlocks ebuild-locks fixlafiles fixpackages news parallel-fetch profile-use protect-owned sandbox sfperms strict unknown-features-warn unmerge-logs unmerge-orphans userfetch usersandbox usersync"
FFLAGS=""
GENTOO_MIRRORS="http://distfiles.gentoo.org"
LANG="pl_PL.UTF-8"
LDFLAGS="-Wl,-O1 -Wl,--as-needed"
LINGUAS="pl en"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_EXTRA_OPTS="-O"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/var/lib/layman/sping /var/lib/layman/science /usr/portage/local /usr/local/portage/miro/staging /usr/local/portage/miro/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="acl acpi amd64 apache2 bash-completion bzip2 caps cli crypt cups cxx dri hardened iconv idn iproute2 ipv6 justify mmap mmx mmxext modules mudflap multilib ncurses nls nptl nptlonly openmp openssl pcre pppd readline session slang smp sse sse2 sse3 sse4 sse4a ssl ssse3 sysfs syslog threads threadsafe unicode urandom vhosts vim-syntax xattr zlib" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon auth_digest authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user cache cgid dav dav_fs dav_lock dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif status unique_id usertrack vhost_alias" APACHE2_MPMS="prefork" CALLIGRA_FEATURES="braindump flow karbon kexi kpresenter krita tables words" ELIBC="glibc" KERNEL="linux" LINGUAS="pl en" NGINX_MODULES_HTTP="access browser charset gzip map limit_zone proxy rewrite stub_status" PHP_TARGETS="php5-3" USERLAND="GNU" XTABLES_ADDONS="geoip ipset6 psd sysrq tarpit" 
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LC_ALL, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS




Comment 1


Marcin Mirosław





          2011-08-10 13:25:24 UTC
        

After reboot i can't reproduce problem.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

