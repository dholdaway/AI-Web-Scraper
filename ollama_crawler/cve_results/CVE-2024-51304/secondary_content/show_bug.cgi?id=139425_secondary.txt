Title: 139425 – /var/run/cups/cups.sock causing issues with java printing
URL: https://bugs.gentoo.org/show_bug.cgi?id=139425

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 139425
/var/run/cups/cups.sock causing issues with java printing
Last modified: 2006-08-18 23:34:44 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 139425 
      - /var/run/cups/cups.sock causing issues with java printing


Summary:
/var/run/cups/cups.sock causing issues with java printing
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Printing

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Printing Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-07-06 06:55 UTC by chris salch





      Modified:
    
2006-08-18 23:34 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



java









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


chris salch





          2006-07-06 06:55:07 UTC
        

For some reason, the sun-jre looks to this socket when trying to print.  A cursory examination of the calls made by the jre seems to show that it is trying to set invalid option to on the socket.  This causes java printing to fail with a "No Print Service Found" error message.

Possible Workaround:

Commenting out the line which creates this socket in the cupsd.conf file seems to solve this issue for me.

# Only listen for connections from the local machine.
Listen localhost:631
#Listen /var/run/cups/cups.sock


From what I've seen, sun has had an open bug on this or a similar problem for quite sometime without any significant progress.


Portage 2.1.1_pre2-r2 (default-linux/x86/2006.0, gcc-4.1.1/vanilla, glibc-2.4-r3, 2.6.17-gentoo-r1 i686)
=================================================================
System uname: 2.6.17-gentoo-r1 i686 Intel(R) Pentium(R) 4 CPU 2.40GHz
Gentoo Base System version 1.12.1
dev-lang/python:     2.4.3-r1
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.60
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.17
sys-devel/gcc-config: 2.0.0_rc1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r5
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=i686 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/eselect/compiler /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/terminfo"
CXXFLAGS="-O2 -march=i686 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://linuxupdate.letnet.net/gentoo"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://linuxupdate.letnet.net/portage"
USE="x86 X aalib alsa apache2 apm arts avi berkdb bitmap-fonts browserplugin cdr cli crypt cups cxx dlloader dri dvd eds emboss encode esd examples firefox foomaticdb fortran gdbm gif glut gpm gstreamer gtk2 imlib ipv6 isdnlog java jpeg kde kqemu libg++ libwww mad mikmod mono motif mozilla mp3 mpeg ncurses nls nptl nptlonly nsplugin ogg opengl oss pam pcre pdflib perl png pppd python qt qt3 qt4 quicktime rdesktop readline reflection samba sdl session spell spl ssl tcpd threads tiff truetype truetype-fonts type1-fonts udev vorbis win32codecs xine xinerama xml xmms xorg xprint xscreensaver xv zlib elibc_glibc input_devices_keyboard input_devices_mouse kernel_linux userland_GNU video_cards_xf86-video-ati video_cards_vesa video_cards_fbdev"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGUAS, MAKEOPTS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY




Comment 1


Stefan Schweizer (RETIRED)






          2006-07-06 08:24:33 UTC
        

why do you not have that in your config file? It is in my default config file. Can you please post "emerge -vp cups"?




Comment 2


chris salch





          2006-07-06 08:52:51 UTC
        

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild   R   ] net-print/cups-1.2.1-r2  USE="jpeg nls pam png samba ssl tiff -dbus -gnutls -ppds% -slp" 0 kB

Total size of downloads: 0 kB





Comment 3


Stefan Schweizer (RETIRED)






          2006-08-18 16:09:54 UTC
        

worksforme, thanks for reporting. Cannot fix anything here though




Comment 4


Petteri Räty (RETIRED)






          2006-08-18 23:34:44 UTC
        

Sun being closed source there is nothing we can do to fix their sources. We can just file bug reports to them and wait them to fix it.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

