Title: 96860 – net-irc/xchat-2.4.4: cannot load perl module
URL: https://bugs.gentoo.org/show_bug.cgi?id=96860

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 96860
net-irc/xchat-2.4.4: cannot load perl module
Last modified: 2005-09-30 15:59:22 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 96860 
      - net-irc/xchat-2.4.4: cannot load perl module


Summary:
net-irc/xchat-2.4.4: cannot load perl module
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Packages in net-irc








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-06-23 07:00 UTC by FieldySnuts





      Modified:
    
2005-09-30 15:59 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



Heinz.Hombergs









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


FieldySnuts





          2005-06-23 07:00:10 UTC
        

net-irc/xchat-2.4.4 cannot load the perl module for me. This worked with 2.4.3.

 AutoLoad failed for: /usr/lib/xchat/plugins/perl.so
 /usr/lib/xchat/plugins/perl.so: undefined symbol:
Perl_Iperl_destruct_level_ptr

Portage 2.0.51.22-r1 (default-linux/x86/2005.0, gcc-3.4.3-20050110,
glibc-2.3.5-r0, 2.6.11.12-grsec-20050614 i686)
=================================================================
System uname: 2.6.11.12-grsec-20050614 i686 AMD Athlon(TM) XP 1800+
Gentoo Base System version 1.6.9
ccache version 2.4 [enabled]
dev-lang/python:     2.3.5
sys-apps/sandbox:    1.2.8
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.5
sys-devel/binutils:  2.16-r1
sys-devel/libtool:   1.5.18
virtual/os-headers:  2.6.11
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=athlon-xp -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=athlon-xp -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig buildpkg ccache distlocks notitles sandbox sfperms
strict"
GENTOO_MIRRORS="http://mirrors.tds.net/gentoo
ftp://gentoo.netnitco.net/pub/mirrors/gentoo/source/
http://gentoo.blueyonder.co.uk
ftp://mirror.iawnet.sandia.gov/pub/gentoo/"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.namerica.gentoo.org/gentoo-portage"
USE="x86 3dnow X aalib alsa apm avi berkdb bitmap-fonts cdr chroot crypt
curl dv dvd dvdr eds emboss encode fam flac foomaticdb fortran gdbm gif
gnome gpm gstreamer gtk gtk2 hal imagemagick imlib java jpeg kde ldap
libg++ libwww mad mikmod mmx motif mozilla mp3 mpeg ncurses nls ogg
oggvorbis opengl oss pam pdflib perl png pwdb python qt quicktime
readline samba sdl slang snmp spell sse ssl svga tcltk tcpd tiff
truetype truetype-fonts type1-fonts vorbis xine xml2 xmms xv zlib
userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS,
PORTDIR_OVERLAY




Comment 1


Sven Wegener






          2005-06-23 07:27:25 UTC
        

I'm not experiencing the load failure but some other weirdness with the perl
module. Like having perl.so called Python scripting interface.




Comment 2


Izaac Zavaleta





          2005-06-30 18:23:46 UTC
        

Well i got that error message just after i updated to the new libperl version,
from 5.8.6 to 5.8.6-r1, just re-emerge xchat. BTW gvim is also affected with the
perl use flag.




Comment 3


FieldySnuts





          2005-07-01 05:41:15 UTC
        

Okay. I however did not touch my libperl version, nor did emerge -pv xchat
before I went to xchat-2.4.4 say that it would upgrade libperl.

I did however remerge xchat, and I ahve the same issue.

I doubt much changed but here's my emerge info again:

Portage 2.0.51.22-r1 (default-linux/x86/2005.0, gcc-3.4.3-20050110,
glibc-2.3.5-r0, 2.6.11.12-grsec-20050614 i686)
=================================================================
System uname: 2.6.11.12-grsec-20050614 i686 AMD Athlon(TM) XP 1800+
Gentoo Base System version 1.6.9
ccache version 2.4 [enabled]
dev-lang/python:     2.3.5
sys-apps/sandbox:    1.2.8
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.5
sys-devel/binutils:  2.16-r1
sys-devel/libtool:   1.5.18
virtual/os-headers:  2.6.11
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=athlon-xp -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env
/usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config
/var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=athlon-xp -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig buildpkg ccache distlocks notitles sandbox sfperms strict"
GENTOO_MIRRORS="http://mirrors.tds.net/gentoo
ftp://gentoo.netnitco.net/pub/mirrors/gentoo/source/
http://gentoo.blueyonder.co.uk ftp://mirror.iawnet.sandia.gov/pub/gentoo/"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.namerica.gentoo.org/gentoo-portage"
USE="x86 3dnow X aalib alsa apm avi berkdb bitmap-fonts cdr chroot crypt curl dv
dvd dvdr eds emboss encode fam flac foomaticdb fortran gdbm gif gnome gpm
gstreamer gtk gtk2 hal imagemagick imlib java jpeg kde ldap libg++ libwww mad
mikmod mmx motif mozilla mp3 mpeg ncurses nls ogg oggvorbis opengl oss pam
pdflib perl png pwdb python qt quicktime readline samba sdl slang snmp spell
sqlite sse ssl svga tcltk tcpd tiff truetype truetype-fonts type1-fonts vorbis
xine xml2 xmms xv zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTDIR_OVERLAY




Comment 4


Heinz Hombergs





          2005-07-21 09:56:56 UTC
        

Same here with the Perl plugins and xchat 2.4.4-r1.
And I discover another Problem.
I'm a operator in 2 IRC channels. This channels will give mit automatic the OP
status with xchat 2.4.3 but with xchat 2.4.4-r1 the hostname is not correct.
I entered my nickname, alternativ nick and username.
In 2.4.3 the hostname starts with my nickname and with 2.4.4-r1 the hostname
starts with my alternative nick or username (both are the same).
So the Channelbot did not identify me as OP.




Comment 5


Sven Wegener






          2005-07-21 16:13:16 UTC
        

Did you compile perl with ithreads support?

Heinz: The hostname cannot be set by the client, it's set by the server by doing
an reverse lookup of our IP. Some networks may change it based on other values,
but during my testing the nick!user@host was correct.




Comment 6


Heinz Hombergs





          2005-07-21 16:27:06 UTC
        

Perl is compiled without ithreads support on my machine.
Sven: I'll check this when the 2.4.4 will use Perl plugins again. ;)
But without working Perl plugins I use the 2.4.3. Cause I love the GemX script. :)




Comment 7


FieldySnuts





          2005-07-21 18:38:27 UTC
        

(In reply to comment #5)
> Did you compile perl with ithreads support?

I did.




Comment 8


FieldySnuts





          2005-07-26 05:45:47 UTC
        

Looks like 2.4.4-r1 is supposed to fix some plugin loading problems (
http://www.gentoo.org/cgi-bin/viewcvs.cgi/*checkout*/net-irc/xchat/ChangeLog ).
While the Changelog does not mention perl, I still see the perl plugin problems.

Has the situation improved for others using other plugins?

AutoLoad failed for: /usr/lib/xchat/plugins/perl.so
/usr/lib/xchat/plugins/perl.so: undefined symbol: Perl_Iperl_destruct_level_ptr

Updated info:

Portage 2.0.51.22-r1 (default-linux/x86/2005.0, gcc-3.4.3-20050110,
glibc-2.3.5-r0, 2.6.11.12-grsec-20050614 i686)
=================================================================
System uname: 2.6.11.12-grsec-20050614 i686 AMD Athlon(TM) XP 1800+
Gentoo Base System version 1.6.9
ccache version 2.4 [enabled]
dev-lang/python:     2.3.5
sys-apps/sandbox:    1.2.11
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.5
sys-devel/binutils:  2.16-r1
sys-devel/libtool:   1.5.18
virtual/os-headers:  2.6.11
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=athlon-xp -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env
/usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config
/var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=athlon-xp -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig buildpkg ccache distlocks notitles sandbox sfperms strict"
GENTOO_MIRRORS="http://mirrors.tds.net/gentoo
ftp://gentoo.netnitco.net/pub/mirrors/gentoo/source/
http://gentoo.blueyonder.co.uk ftp://mirror.iawnet.sandia.gov/pub/gentoo/"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.namerica.gentoo.org/gentoo-portage"
USE="x86 3dnow X aalib alsa apm avi berkdb bitmap-fonts cdr chroot crypt curl dv
dvd dvdr eds emboss encode fam flac foomaticdb fortran gdbm gif gnome gpm
gstreamer gtk gtk2 guile hal imagemagick imlib java jpeg kde ldap libg++ libwww
mad mikmod mmx motif mozilla mp3 mpeg ncurses nls ogg oggvorbis opengl oss pam
pdflib perl png pwdb python qt quicktime readline samba sdl slang snmp spell
sqlite sse ssl svga tcltk tcpd tiff truetype truetype-fonts type1-fonts vorbis
xine xml xml2 xmms xv zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTDIR_OVERLAY





Comment 9


Sven Wegener






          2005-07-26 15:03:43 UTC
        

2.4.4-r1 fixes the problem that the perl plugin was being called python plugin or
vice versa, depending on the order of loading the modules. I suspect that the
linking problem you are experiencing might be the result of using ithreads support.
I can't find any reference of Perl_Iperl_destruct_level_ptr in my perl.so plugin
nor in the libperl.so library.




Comment 10


FieldySnuts





          2005-07-31 13:32:49 UTC
        

I found out today that I had ithreads USE flag for perl, but NOT libperl.
Enabling  this USE flag for libperl as well solved the issue.




Comment 11


Hanno Zysik (geki)





          2005-08-26 15:14:13 UTC
        

to Heinz Hombergs

I had the same problem with xchat-2.4.4-r1 and perl script not loading. I talked
to the perl plugin maintainer of xchat and he fixed that on cvs head. At least
for my perl loading error.




Comment 12


FieldySnuts





          2005-09-24 05:46:10 UTC
        

My original problem is solved. Is anyone else still having this issue? I am
thinking of closing it since there hasn't been any action beyond comments.




Comment 13


FieldySnuts





          2005-09-30 15:59:22 UTC
        

This works for me, and I didn't get any further feedback.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

