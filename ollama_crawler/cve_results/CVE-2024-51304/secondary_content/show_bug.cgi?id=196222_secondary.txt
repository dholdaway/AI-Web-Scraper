Title: 196222 – media-sound/listen-0.5-r1 configure fails to find pygtk
URL: https://bugs.gentoo.org/show_bug.cgi?id=196222

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 196222
media-sound/listen-0.5-r1 configure fails to find pygtk
Last modified: 2007-10-18 06:15:39 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 196222 
      - media-sound/listen-0.5-r1 configure fails to find pygtk


Summary:
media-sound/listen-0.5-r1 configure fails to find pygtk
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-10-17 21:54 UTC by Mathieu Goutfreind





      Modified:
    
2007-10-18 06:15 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Mathieu Goutfreind





          2007-10-17 21:54:01 UTC
        

Listen 0.5-r1 may have a lack of dependencies.

Reproducible: Always

Steps to Reproduce:
1.ACCEPT_KEYWORDS="~x86" emerge media-sound/listen
2.
3.

Actual Results:  
Dependencies problems.

Expected Results:  
It should install as dependencies python,pygtk, pyogg,  gnome-vfs, gnome-python-extras with firefox support in order not to crash.

After installing these software the emerge listen works fine.




Comment 1


Jakub Moc (RETIRED)






          2007-10-17 21:56:09 UTC
        

Reopen with some errors and emerge --info; all the dependencies you named are already there.




Comment 2


Mathieu Goutfreind





          2007-10-17 22:17:42 UTC
        

They may be there but the emerge process failed because of these dependencies lack so what should I understand ?




Comment 3


Mathieu Goutfreind





          2007-10-17 22:24:09 UTC
        

localhost sonic # emerge --info
Portage 2.1.3.9 (default-linux/x86/no-nptl, gcc-4.1.2, glibc-2.5-r4, 2.6.22-gentoo-r8 i686)
=================================================================
System uname: 2.6.22-gentoo-r8 i686 Intel(R) Pentium(R) 4 CPU 2.53GHz
Timestamp of tree: Wed, 17 Oct 2007 10:50:01 +0000
app-shells/bash:     3.2_p17
dev-java/java-config: 1.3.7, 2.0.33-r1
dev-lang/python:     2.4.4-r5, 2.5.1-r2
dev-python/pycrypto: 2.0.1-r6
sys-apps/baselayout: 1.12.9-r2
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.61-r1
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.18-r1
sys-devel/gcc-config: 1.3.16
sys-devel/libtool:   1.5.24
virtual/os-headers:  2.6.22-r2
ACCEPT_KEYWORDS="x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O3 -march=pentium4 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/revdep-rebuild /etc/terminfo /etc/udev/rules.d"
CXXFLAGS="-O3 -march=pentium4 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="distlocks metadata-transfer sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://ftp.belnet.be/mirror/rsync.gentoo.org/gentoo/ ftp://ftp.belnet.be/mirror/rsync.gentoo.org/gentoo/ http://mirror.ovh.net/gentoo-distfiles/ ftp://mirror.ovh.net/gentoo-distfiles/ http://gentoo.modulix.net/gentoo/ http://ftp.club-internet.fr/pub/mirrors/gentoo ftp://gentoo.imj.fr/pub/gentoo/ ftp://ftp.free.fr/mirrors/ftp.gentoo.org/ ftp://ftp.solnet.ch/mirror/Gentoo http://gentoo.mirror.solnet.ch http://www.mirrorservice.org/sites/www.ibiblio.org/gentoo/ ftp://ftp.mirrorservice.org/sites/www.ibiblio.org/gentoo/ "
LANG="fr_FR.UTF-8"
LC_ALL="fr_FR.UTF-8"
LINGUAS="fr fr_FR@euro"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="X a52 aac acpi additions alsa apm arts avahi berkdb bitmap-fonts bzip2 cairo cli cracklib crypt cups daemon dbus dia disk-partition dri dts dv dvd dvdr dvdread eds emboss encode esd extrafilters ffmpeg firefox flac foomaticdb fortran freetype gcj gdbm gif gimpprint gnome gnutls gpm gstreamer gtk gtk2 hal iconv imlib isdnlog java jpeg jpeg2k lame libwww mad midi mikmod mmx motif mp3 mpeg mplayer mudflap mysql nagios-dns nagios-ntp nagios-ping nagios-ssh ncurses nls no-seamonkey nsplugin nvidia ogg opengl openmp pam pcre perl png ppds pppd python quicktime readline reflection samba sdl session snmp speex spell spl sse sse2 ssl subtitles svg symlink tcpd tga threads tiff truetype truetype-fonts type1-fonts unicode usb vorbis wma wmf x264 x86 xml xorg xv xvid zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1 emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" ELIBC="glibc" INPUT_DEVICES="keyboard mouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="fr fr_FR@euro" USERLAND="GNU" VIDEO_CARDS="nvidia"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LDFLAGS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY

 ACCEPT_KEYWORDS="~x86" emerge media-sound/listen
Calculating dependencies... done!
>>> Verifying ebuild Manifests...

>>> Emerging (1 of 1) media-sound/listen-0.5-r1 to /
 * listen-0.5.tar.bz2 RMD160 ;-) ...                                                                                                                   [ ok ]
 * listen-0.5.tar.bz2 SHA1 ;-) ...                                                                                                                     [ ok ]
 * listen-0.5.tar.bz2 SHA256 ;-) ...                                                                                                                   [ ok ]
 * listen-0.5.tar.bz2 size ;-) ...                                                                                                                     [ ok ]
 * checking ebuild checksums ;-) ...                                                                                                                   [ ok ]
 * checking auxfile checksums ;-) ...                                                                                                                  [ ok ]
 * checking miscfile checksums ;-) ...                                                                                                                 [ ok ]
 * checking listen-0.5.tar.bz2 ;-) ...                                                                                                                 [ ok ]
>>> Unpacking source...
>>> Unpacking listen-0.5.tar.bz2 to /var/tmp/portage/media-sound/listen-0.5-r1/work
 * Applying listen_dbusfix.patch ...                                                                                                                   [ ok ]
>>> Source unpacked.
>>> Compiling source in /var/tmp/portage/media-sound/listen-0.5-r1/work/listen-0.5 ...
Checking for Python... /usr/bin/python
Checking Python version: 2.5
Checking for PyGTK >= 2.6:
not found
Listen requires PyGTK 2.6. (http://www.pygtk.org)
make: *** [check] Erreur 1
 * 
 * ERROR: media-sound/listen-0.5-r1 failed.
 * Call stack:
 *   ebuild.sh, line 1654:   Called dyn_compile
 *   ebuild.sh, line 990:   Called qa_call 'src_compile'
 *   ebuild.sh, line 44:   Called src_compile
 *   listen-0.5-r1.ebuild, line 97:   Called die
 * 
 * make failed
 * If you need support, post the topmost build error, and the call stack if relevant.
 * A complete build log is located at '/var/tmp/portage/media-sound/listen-0.5-r1/temp/build.log'.
 * 

 * Messages for package media-sound/listen-0.5-r1:

 * 
 * ERROR: media-sound/listen-0.5-r1 failed.
 * Call stack:
 *   ebuild.sh, line 1654:   Called dyn_compile
 *   ebuild.sh, line 990:   Called qa_call 'src_compile'
 *   ebuild.sh, line 44:   Called src_compile
 *   listen-0.5-r1.ebuild, line 97:   Called die
 * 
 * make failed
 * If you need support, post the topmost build error, and the call stack if relevant.
 * A complete build log is located at '/var/tmp/portage/media-sound/listen-0.5-r1/temp/build.log'.
 * 





Comment 4


Jakub Moc (RETIRED)






          2007-10-17 22:29:54 UTC
        

As said, it already depends on >=dev-python/pygtk-2.6; how about that you re-emerge it and run python-updater?





Comment 5


Mathieu Goutfreind





          2007-10-18 01:23:35 UTC
        

It has been done but after that some errors append let me show you :
localhost Desktop # listen 
Traceback (most recent call last):
  File "/usr/lib/listen/listen.py", line 66, in <module>
    import utils, const, stock, config
  File "/usr/lib/listen/utils.py", line 33, in <module>
    import stock
  File "/usr/lib/listen/stock.py", line 78, in <module>
    import const
  File "/usr/lib/listen/const.py", line 116
SyntaxError: Non-ASCII character '\xc3' in file /usr/lib/listen/const.py on line 117, but no encoding declared; see http://www.python.org/peps/pep-0263.html for details

it seems that now there's a problem the program never launch without crashing.




Comment 6


Mathieu Goutfreind





          2007-10-18 01:30:02 UTC
        

I'have downloaded a snapshot of the actual listen source files.
And I've installed it, it works better now after having installed this snapshot :
http://www.listen-project.org/downloads/%20snapshots/listen-snapshot-r758.tar.bz2
But there's also some messages telling me that it's not perfect :

localhost listen-snapshot-r758 # listen 

(Music Player Listen:18375): GnomeUI-WARNING **: While connecting to session manager:
Authentication Rejected, reason : MIT-MAGIC-COOKIE-1 authentication rejected.
No dbus support
No musicbrainz support (musicbrainz2 missing)
No Audio cd support (musicbrainz2 missing)
No iPod support
W:SourceUI:Failed load: daap_source
Traceback (most recent call last):
  File "/usr/lib/listen/plugins/__init__.py", line 82, in scan
    mod = imp.load_module(name, *modinfo)
  File "/usr/lib/listen/source/daap_source.py", line 40, in <module>
    from daap import DAAPClient
ImportError: No module named daap

----------
No Notify support

Maybe there is also a dependencie with musikbrainz2 in the gentoo ebuild I don't know and I don't want to say a lie.
Can anyone test this ?




Comment 7


Jakub Moc (RETIRED)






          2007-10-18 06:15:28 UTC
        

(In reply to comment #5)
> SyntaxError: Non-ASCII character '\xc3' in file /usr/lib/listen/const.py on
> line 117, but no encoding declared; see

Different issue, move this to Bug 193239. 









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

