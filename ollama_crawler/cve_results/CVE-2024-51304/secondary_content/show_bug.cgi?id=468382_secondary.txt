Title: 468382 – =media-libs/mesa-9.0.1 - Add license warning to S3TC support note.
URL: https://bugs.gentoo.org/show_bug.cgi?id=468382

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 468382
=media-libs/mesa-9.0.1 - Add license warning to S3TC support note.
Last modified: 2013-06-20 22:50:27 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 468382 
      - =media-libs/mesa-9.0.1 - Add license warning to S3TC support note.


Summary:
=media-libs/mesa-9.0.1 - Add license warning to S3TC support note.
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Library

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       trivial
      


Assignee:

Gentoo X packagers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2013-05-03 09:38 UTC by Martin





      Modified:
    
2013-06-20 22:50 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Martin





          2013-05-03 09:38:17 UTC
        

Emerging media-libs/mesa and all went fine and gave this message:

 * Messages for package media-libs/mesa-9.0.1:

 * USE="bindist" was not set. Potentially patent encumbered code was
 * enabled. Please see patents.txt for an explanation.
 * Note that in order to have full S3TC support, it is necessary to install
 * media-libs/libtxc_dxtn as well. This may be necessary to get nice
 * textures in some apps, and some others even require this to run.

 * Messages for package net-misc/openssh-5.9_p1-r4:


From that prompting, emerging media-libs/libtxc_dxtn and all went fine except for this warning:

 * Messages for package media-libs/libtxc_dxtn-1.0.1:

 * Depending on where you live, you might need a valid license for s3tc
 * in order to be legally allowed to use the external library.
 * Redistribution in binary form might also be problematic.
 * 
 * You have been warned. Have a nice day.


Please include any license problems/warnings in the original reference so as to avoid wasting time for anyone who does not wish to accept such license restrictions.

Thanks,
Martin




Comment 1


Chí-Thanh Christopher Nguyễn






          2013-05-04 17:01:48 UTC
        

media-libs/libtxc_dxtn already has FEATURES="bindist" set which is enough warning IMO.




Comment 2


Martin





          2013-05-04 19:29:08 UTC
        

(In reply to comment #1)
> media-libs/libtxc_dxtn already has FEATURES="bindist" set which is enough
> warning IMO.

Indeed so. Which is all well and good for those that already know about:

"bindist 	Flag to enable or disable options for prebuilt (GRP) packages (eg. due to licensing issues)"


But... For the media-libs/mesa message:

'USE="bindist" was not set. Potentially patent encumbered code was
enabled. Please see patents.txt for an explanation.'

Is that for media-libs/mesa itself, or a warning about media-libs/libtxc_dxtn?


To be more helpful for all users to give a good reminder, and to help new people learn about the ways of Gentoo and licensing 'issues', can the following phrase be added onto the end of both packages messages as appropriate?

This is a "bindist" package that includes (or can include) prebuilt binary (GRP) packages due to licensing conditions. See [doc ref] for details.


Thanks,
Martin




Comment 3


Chí-Thanh Christopher Nguyễn






          2013-05-04 19:37:09 UTC
        

Sorry I meant RESTRICT and not FEATURES.

bindist in RESTRICT is not the same as bindist in USE/IUSE. If there is a bindist USE flag, then it will typically toggle bindist in RESTRICT, but the reverse is not always true.




Comment 4


Matt Turner






          2013-05-05 05:44:47 UTC
        

I don't know what this bug is about...

Mesa's metadata.xml says:

<flag name='bindist'>Disable patent-encumbered ARB_texture_float, EXT_texture_shared_exponent, and EXT_packed_float extensions.</flag>

which is exactly that it does.

There's no license problem with S3TC in Mesa. Mesa simply has a little bit of code to dlopen libtxc_dxtn if it's available. The bindist USE flag doesn't control this.




Comment 5


Martin





          2013-05-05 13:07:17 UTC
        

(In reply to comment #4)
> I don't know what this bug is about...
> 
> Mesa's metadata.xml says:
> 
> <flag name='bindist'>Disable patent-encumbered ARB_texture_float,
> EXT_texture_shared_exponent, and EXT_packed_float extensions.</flag>
> 
> which is exactly that it does.
> 
> There's no license problem with S3TC in Mesa. Mesa simply has a little bit
> of code to dlopen libtxc_dxtn if it's available. The bindist USE flag
> doesn't control this.

Thanks for clarifying that, and thanks for checking. Only now do I know...

Sorry, this is more a bugging about the wording/messages displayed when you emerge those two packages. For those of us serious about licensing, and unfortunately some people need to be ( :-( ), it is not clear what those emerge messages really mean.

Can the Mesa emerge message make clear whether or not there *is* encumbered code included or not?

That is: Give the general warning/reminder about "bindist" so that non-developers are prompted to go and look it up. But also say whether for the combination of USE flags that such encumbered code has actually been installed.

Also for Mesa, add to the comment about S3TC that it is the S3TC code that is encumbered.


The warnings for S3TC are as expected.

So, for my simplistic brain, for a user to understand the 'emerge-devs-speak', can I propose something like:

 * Messages for package media-libs/mesa-9.0.1:

 * USE="bindist" was not set. This allows (potentially) patent encumbered
 * code to be enabled. Please see patents.txt for an explanation.
 * Note no USE="bindist" dependent code has been installed for this package.
 * Note no patent encumbered code has been installed for this package
 * Note that in order to have full S3TC support, it is necessary to install
 * media-libs/libtxc_dxtn as well. This may be necessary to get nice
 * textures in some apps, and some others even require this to run.
 * Depending on where you live, use of S3TC may be restricted by licensing.


The emerge message for media-libs/libtxc_dxtn was fine, although again that could benefit from the same bindist warning:


 * Messages for package media-libs/libtxc_dxtn-1.0.1:

 * USE="bindist" is set. This allows (potentially) patent encumbered
 * code to be enabled. Please see patents.txt for an explanation.
 * Note that USE="bindist" dependent code has been installed for this package.
 * Note that patent encumbered code has been installed for this package
 * Depending on where you live, you might need a valid license for s3tc
 * in order to be legally allowed to use the external library.
 * Redistribution in binary form might also be problematic.
 * 
 * You have been warned. Have a nice day.



Use colour highlighting to highlight the condition dependent wording? Possible?

Are the USE="bindist" warnings already a standard common output routine?


As a minimum, please add to the Mesa message for the S3TC note:

" * Depending on where you live, use of S3TC may be restricted by licensing."


Thanks,

Regards,
Martin




Comment 6


Matt Turner






          2013-06-20 22:50:27 UTC
        

We warn if USE=-bindist that "Potentially patent encumbered code was enabled. Please see patents.txt for an explanation." and libtxc_dxtn has RESTRICT=bindist along with a warning.

I don't think we need to print anything if no patent encumbered code was build. I think that can be safely assumed to be the norm.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

