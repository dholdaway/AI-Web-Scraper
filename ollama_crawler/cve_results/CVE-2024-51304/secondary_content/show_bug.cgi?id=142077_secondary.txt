Title: 142077 – can't compile gnome-extra/yelp
URL: https://bugs.gentoo.org/show_bug.cgi?id=142077

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 142077
can't compile gnome-extra/yelp
Last modified: 2006-10-16 09:20:43 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 142077 
      - can't compile gnome-extra/yelp


Summary:
can't compile gnome-extra/yelp
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] GNOME

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       minor
      


Assignee:

Gentoo Linux Gnome Desktop Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-07-29 04:45 UTC by Luca Gasperini





      Modified:
    
2006-10-16 09:20 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Errors I had compiling different versions of Yelp

              (yelpbuginfo.txt,10.44 KB,
                text/plain)

            
2006-09-22 05:39 UTC,

            Luca Gasperini




Details





complete emerge process for yelp 2.14 and yelp 2.16 

              (meringyelpcomplete.txt,173.47 KB,
                text/plain)

            
2006-09-23 03:34 UTC,

            Luca Gasperini




Details





Shorter:just the final errors compiling yelp 2.14 and 2.16

              (mergingyelperrors.txt,8.15 KB,
                text/plain)

            
2006-09-23 03:35 UTC,

            Luca Gasperini




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Luca Gasperini





          2006-07-29 04:45:12 UTC
        

Portage 2.1-r1 (default-linux/x86/2006.0, gcc-3.4.6, glibc-2.3.6-r4, 2.6.16-gent oo-r12 i686)
=================================================================
System uname: 2.6.16-gentoo-r12 i686 Intel(R) Pentium(R) 4 CPU 2.60GHz
Gentoo Base System version 1.6.15
app-admin/eselect-compiler: [Not Present]
dev-lang/python:     2.4.3-r1
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.13-r3
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium4 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shu tdown /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/shar e/X11/xkb /usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dv ips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/con fig/ /usr/share/texmf/xdvi/"
CONFIG_PROTECT_MASK="/etc/env.d /etc/gconf /etc/revdep-rebuild /etc/splash /etc/ terminfo"
CXXFLAGS="-O2 -march=pentium4 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig cvs distlocks metadata-transfer parallel-fetch sandbox sfpe rms strict"
GENTOO_MIRRORS="http://gentoo.ngi.it http://www.die.unipd.it/pub/Linux/distribut ions/gentoo-sources/"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/d istfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage /usr/portage/local/layman/portage-xgl"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X a52 aac aalib acpi alsa apache2 arts asf avi berkdb bitmap-fonts blue tooth bzip2 cdparanoia cdr cli crypt cups dbus divx4linux dlloader dri dts dv dv b dvd dvdr dvdread eds emboss encode esd ffmpeg firefox flac foomaticdb fortran gdbm gecko gif gmail gnome gpm gstreamer gtk gtk2 hal imagemagick imlib ipod ipv 6 isdnlog java jpeg lame libg++ libnotify libwww live mad matroska mikmod mjpeg mmx motif mozilla mp3 mpeg musepack musicbrainz ncurses nls nptl nsplugin offens ive ogg opengl oss pam pcre pdf pdflib perl png ppds pppd python quicktime readl ine real reflection samba sdl session spell spl sse sse2 ssl svg tcpd theora tif f truetype truetype-fonts type1-fonts udev unicode usb v4l vcd vidix vorbis win3 2codecs wma wmf wmv xml xmms xorg xv xvid zlib elibc_glibc input_devices_keyboar d input_devices_mouse kernel_linux userland_GNU video_cards_fglrx video_cards_ra deon video_cards_vesa"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGU AS, PORTAGE_RSYNC_EXTRA_OPTS

LastCall:

Merging translations into GNOME_Yelp.server.
i686-pc-linux-gnu-g++ -DDEBUG -D_DEBUG -fno-rtti -fshort-wchar -O2 -march=pentiu m4 -pipe -fomit-frame-pointer -Wall -Wno-unused -Wno-ctor-dtor-privacy -Wno-non- virtual-dtor -O2 -march=pentium4 -pipe -fomit-frame-pointer -o yelp yelp-Yelper. o yelp-yelp-base.o yelp-yelp-bookmarks.o yelp-yelp-db-pager.o yelp-yelp-db-print -pager.o yelp-yelp-error.o yelp-yelp-gecko-utils.o yelp-yelp-html.o yelp-yelp-io -channel.o yelp-yelp-pager.o yelp-yelp-settings.o yelp-yelp-toc-pager.o yelp-yel p-utils.o yelp-yelp-window.o yelp-yelp-xslt-pager.o yelp-yelp-marshal-main.o yel p-yelp-main.o yelp-yelp-print.o yelp-yelp-gecko-services.o yelp-yelp-man-parser. o yelp-yelp-man-pager.o yelp-yelp-info-pager.o yelp-yelp-info-parser.o yelp-gtke ntryaction.o yelp-yelp-search-pager.o yelp-GNOME_Yelp-stubs.o yelp-GNOME_Yelp-sk els.o yelp-GNOME_Yelp-common.o -pthread -Wl,--export-dynamic  /usr/lib/libgnomep rintui-2-2.so /usr/lib/libgnomeprint-2-2.so /usr/lib/libglade-2.0.so /usr/lib/li bgnomeui-2.so -L/usr/lib /usr/lib/libjpeg.so /usr/lib/libbonoboui-2.so /usr/lib/ libgnome-keyring.so /usr/lib/libgnomecanvas-2.so /usr/lib/libXext.so /usr/lib/li bgnome-2.so /usr/lib/libesd.so /usr/lib/libaudiofile.so /usr/lib/libasound.so /u sr/lib/libart_lgpl_2.so /usr/lib/libgtk-x11-2.0.so /usr/lib/libgdk-x11-2.0.so /u sr/lib/libatk-1.0.so /usr/lib/libgdk_pixbuf-2.0.so /usr/lib/libpangocairo-1.0.so  /usr/lib/libpangoft2-1.0.so /usr/lib/libpango-1.0.so /usr/lib/libcairo.so /usr/ lib/libXrender.so /usr/lib/libpng12.so /usr/lib/libglitz.so /usr/lib/libfontconf ig.so /usr/lib/libfreetype.so /usr/lib/libexpat.so /usr/lib/libgnomevfs-2.so -ls sl -lcrypto -lresolv -lutil -lrt /usr/lib/libbonobo-2.so /usr/lib/libgconf-2.so /usr/lib/libbonobo-activation.so /usr/lib/libORBitCosNaming-2.so /usr/lib/libORB it-2.so /usr/lib/libgmodule-2.0.so /usr/lib/libgthread-2.0.so /usr/lib/libexslt. so /usr/lib/libxslt.so /usr/lib/libgcrypt.so -lnsl /usr/lib/libgpg-error.so /usr /lib/libstartup-notification-1.so /usr/lib/libbeagle.so /usr/lib/libxml2.so -lm /usr/lib/libgobject-2.0.so /usr/lib/libglib-2.0.so /usr/lib/libpopt.so -lz -lbz2  /usr/lib/libSM.so /usr/lib/libICE.so /usr/lib/libX11.so /usr/lib/libXau.so /usr /lib/libXdmcp.so -L/usr/lib/firefox-2.0b1 -lgtkembedmoz -lxpcom -lplds4 -lplc4 - lnspr4 -lpthread -ldl -Wl,--rpath -Wl,/usr/lib/firefox-2.0b1
yelp-Yelper.o: In function `Yelper::SetPrintSettings(_YelpPrintInfo*, nsIPrintSe ttings*)':
Yelper.cpp:(.text+0x280): undefined reference to `NS_StringContainerInit2'
/usr/lib/firefox-2.0b1/libgtkembedmoz.so: undefined reference to `NS_InitXPCOM3'
collect2: ld returned 1 exit status
make[3]: *** [yelp] Error 1
make[3]: Leaving directory `/var/tmp/portage/yelp-2.14.2-r2/work/yelp-2.14.2/src '
make[2]: *** [all] Error 2
make[2]: Leaving directory `/var/tmp/portage/yelp-2.14.2-r2/work/yelp-2.14.2/src '
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/yelp-2.14.2-r2/work/yelp-2.14.2'
make: *** [all] Error 2

!!! ERROR: gnome-extra/yelp-2.14.2-r2 failed.
Call stack:
  ebuild.sh, line 1539:   Called dyn_compile
  ebuild.sh, line 939:   Called src_compile
  ebuild.sh, line 1248:   Called gnome2_src_compile
  gnome2.eclass, line 64:   Called die

!!! compile failure
!!! If you need support, post the topmost build error, and the call stack if rel evant.

Similar to solved #126841 ,fixed in portage since 20 march 2006.
I don't have /usr/mozilla/include on my system and I don't have /usr/lib/libart-2.0,too.I do have a /usr/include/libart-2.0,whose path is different from the ones appointed in #126841

It's the first bug i send,please tell me what I did wrong...




Comment 1


Luca Gasperini





          2006-07-29 04:48:39 UTC
        

Didn't start well....
gnome-extra/yelp-2.14.2-r2




Comment 2


Saleem Abdulrasool (RETIRED)






          2006-08-16 20:09:02 UTC
        

Please reopen if you are able to reproduce this with the stable version of firefox (1.5.x, not 2.0 beta 1).




Comment 3


Luca Gasperini





          2006-09-22 05:39:13 UTC
        

Created attachment 97737 [details]
Errors I had compiling different versions of Yelp




Comment 4


Luca Gasperini





          2006-09-22 05:45:02 UTC
        

Now I'm using firefox-1.5.0.7 (stable),also tried 2.14.2-r2 against seamonkey and tried yelp-2.16.0.see attach

Portage 2.1.1 (default-linux/x86/2006.1/desktop, gcc-4.1.1, glibc-2.4-r3, 2.6.17-beyond4 i686)
=================================================================
System uname: 2.6.17-beyond4 i686 Intel(R) Pentium(R) 4 CPU 2.60GHz
Gentoo Base System version 1.12.5
Last Sync: Fri, 22 Sep 2006 09:30:01 +0000
ccache version 2.3 [disabled]
app-admin/eselect-compiler: [Not Present]
dev-java/java-config: 1.2.11-r1
dev-lang/python:     2.4.3-r1
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     2.3
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.13-r3
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.17-r1
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium4 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/"
CONFIG_PROTECT_MASK="/etc/env.d /etc/gconf /etc/revdep-rebuild /etc/splash /etc/terminfo"
CXXFLAGS="-O2 -march=pentium4 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig cvs distlocks metadata-transfer parallel-fetch sandbox sfperms strict"
GENTOO_MIRRORS="http://gentoo.ngi.it http://www.die.unipd.it/pub/Linux/distributions/gentoo-sources/"
LDFLAGS="-Wl,-O1"
LINGUAS="en it"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage /usr/portage/local/layman/portage-xgl"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X a52 aac aalib acpi alsa arts asf avi beagle berkdb bitmap-fonts bluetooth bzip2 cairo cdparanoia cdr cli crypt cups dbus divx4linux dlloader dri dts dv dvb dvd dvdr dvdread eds elibc_glibc emboss encode esd fam ffmpeg firefox flac foomaticdb fortran gdbm gecko gif gmail gnome gpm gstreamer gtk hal imagemagick input_devices_keyboard input_devices_mouse ipod ipv6 isdnlog java jpeg kernel_linux lame ldap libg++ libnotify linguas_en linguas_it live mad matroska mikmod mjpeg mmx mozilla mp3 mpeg musepack musicbrainz ncurses nls nptl nptlonly nsplugin offensive ogg opengl oss pam pcre pdf perl png ppds pppd python quicktime readline real reflection samba sdl session spell spl sse sse2 ssl svg tcpd theora tiff truetype truetype-fonts type1-fonts udev unicode usb userland_GNU v4l vcd video_cards_fglrx video_cards_radeon video_cards_vesa vidix vorbis win32codecs wma wmf wmv xml xmms xorg xv xvid zlib"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, PORTAGE_RSYNC_EXTRA_OPTS

The only reference I found on google was something on gnome-devel about a patch for moving the printing framework to gtk.




Comment 5


Gilles Dartiguelongue (RETIRED)






          2006-09-22 13:00:53 UTC
        

first of all, don't try to link anything against seamonkey that is gnome related for the moment. The current state of seamonkey ebuild is AFAIK, not good enough to link correctly with yelp and other gnomey apps using gtkmozembed.

did you try compiling firefox/seamonkey with LDFLAGS="" ?




Comment 6


Luca Gasperini





          2006-09-23 02:49:14 UTC
        

I tried compiling firefox-1.5.0.7 without LDFLAGS (checked with emerge --info) and then compile yelp 2.14 and yelp 2.16 in portage against it but it breakes with the same error.

A few info that could be of any help: I was using firefox alpha and it's libriries where in /usr/lib/firefox2.0b1 so i don't thing its the problem.
It's a few months that yelp doensn't compile,I put yelp in package.provided to avoid seeing it everytime I updated my world,in the meanwhile I ugraded gcc following officials doc (emerge -e system;emerge -e world) but even rebuilding all the system didn't solve the yelp issue,it still complains about NS_StringContainerInit2 and NS_InitXPCOM3.




Comment 7


Rémi Cardona (RETIRED)






          2006-09-23 03:08:07 UTC
        

could you attache the whole emerge process to see what it tries to link against? that would help a lot. Thanks




Comment 8


Luca Gasperini





          2006-09-23 03:34:30 UTC
        

Created attachment 97829 [details]
complete emerge process for yelp 2.14 and yelp 2.16 

against firefox-1.5.0.7 stable compiled with no LDFLAGS




Comment 9


Luca Gasperini





          2006-09-23 03:35:57 UTC
        

Created attachment 97830 [details]
Shorter:just the final errors compiling yelp 2.14 and 2.16




Comment 10


Luca Gasperini





          2006-10-16 09:20:43 UTC
        

Yelp 2.16.1 compiles fine with firefox 2.0_rc2,haven't tried with firefox 1.5...
in any case I'm closing this bug beacuse finally after a few months I have successfully compiled yelp.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

