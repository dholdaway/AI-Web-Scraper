Title: 403873 – lxde-base/lxdm doesn't honour pam_mktemp
URL: https://bugs.gentoo.org/show_bug.cgi?id=403873

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 403873
lxde-base/lxdm doesn't honour pam_mktemp
Last modified: 2012-05-07 09:52:56 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 403873 
      - lxde-base/lxdm doesn't honour pam_mktemp


Summary:
lxde-base/lxdm doesn't honour pam_mktemp
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

LXDE team (DEFUNCT)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2012-02-15 10:30 UTC by Christian Apeltauer





      Modified:
    
2012-05-07 09:52 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




output of cave info lxdm

              (info,16.54 KB,
                text/plain)

            
2012-02-15 10:31 UTC,

            Christian Apeltauer




Details





/etc/pam.d/lxdm

              (lxdm,317 bytes,
                text/plain)

            
2012-02-15 10:32 UTC,

            Christian Apeltauer




Details





/etc/pam.d/system-auth

              (system-auth,533 bytes,
                text/plain)

            
2012-02-15 10:32 UTC,

            Christian Apeltauer




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Christian Apeltauer





          2012-02-15 10:30:13 UTC
        

When logging into a session via lxdm, pam_mktemp (included via system-auth) is not (correctly) executed: The private temp directory /tmp/.private/$USER is not created, the TMPDIR variable is set to "/tmp/.private/nobody" (in turn causing some application to fail because of missing write permission in TMPDIR). pam_mktemp works correctly when using logging in via lightdm or login on a VT.

Reproducible: Always




Comment 1


Christian Apeltauer





          2012-02-15 10:31:00 UTC
        

Created attachment 302033 [details]
output of cave info lxdm




Comment 2


Christian Apeltauer





          2012-02-15 10:32:06 UTC
        

Created attachment 302035 [details]
/etc/pam.d/lxdm

as installed out of the box




Comment 3


Christian Apeltauer





          2012-02-15 10:32:41 UTC
        

Created attachment 302037 [details]
/etc/pam.d/system-auth

inlcudes pam_mktemp




Comment 4


Markos Chandras (RETIRED)






          2012-02-18 11:39:49 UTC
        

Could you please send this bug upstream? Do you have a patch to solve this problem?




Comment 5


Christian Apeltauer





          2012-02-18 15:59:03 UTC
        

I have opened a bug report upstream:
https://sourceforge.net/tracker/?func=detail&aid=3489039&group_id=180858&atid=894869




Comment 6


Markos Chandras (RETIRED)






          2012-03-17 00:38:41 UTC
        

This seems to be fixed upstream. I just need to find the right commit




Comment 7


Vince C.





          2012-04-30 08:26:39 UTC
        

(In reply to comment #6)
> This seems to be fixed upstream. I just need to find the right commit

The maintainer/developer said:
> now, I try the latest pam_mktemp, it works fine on system [...]

Have I read the bug report @ sourceforge correctly or was it actually a bug in pam_mktemp ?




Comment 8


Markos Chandras (RETIRED)






          2012-05-07 09:52:56 UTC
        

Yes this is what I understand









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

