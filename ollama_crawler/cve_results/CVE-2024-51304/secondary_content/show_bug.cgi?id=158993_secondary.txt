Title: 158993 – dev-libs/elfutils-0.118 does not compile with multilib
URL: https://bugs.gentoo.org/show_bug.cgi?id=158993

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 158993
dev-libs/elfutils-0.118 does not compile with multilib
Last modified: 2007-02-12 14:15:37 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 158993 
      - dev-libs/elfutils-0.118 does not compile with multilib


Summary:
dev-libs/elfutils-0.118 does not compile with multilib
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Unspecified

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

AMD64 Project








URL:







Whiteboard:




Keywords:









Duplicates (1):
    

158992

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2006-12-23 21:52 UTC by Ryan Egesdahl





      Modified:
    
2007-02-12 14:15 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



olaf_j









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




elfutils-0.118.ebuild

              (elfutils-0.118.ebuild,1.98 KB,
                text/plain)

            
2006-12-23 21:53 UTC,

            Ryan Egesdahl




Details





Show
              Obsolete (1)
            View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Ryan Egesdahl





          2006-12-23 21:52:41 UTC
        

elfutils-0.118 (and higher, presumably) does not compile in a multilib environment due to a problem with the way include paths are treated, similar to some builds of openssl. Included is a fixed ebuild. (The file missed in the include path was /usr/include/gentoo-multilib/${ARCH}/error.h)




Comment 1


Ryan Egesdahl





          2006-12-23 21:53:15 UTC
        

Created attachment 104669 [details]
elfutils-0.118.ebuild




Comment 2


Samuli Suominen (RETIRED)






          2006-12-23 23:04:15 UTC
        

*** Bug 158992 has been marked as a duplicate of this bug. ***




Comment 3


Jakub Moc (RETIRED)






          2006-12-24 01:15:09 UTC
        

Pleae, attach unified diff if changing ebuild, not the whole thing.




Comment 4


Simon Stelling (RETIRED)






          2007-02-02 14:46:58 UTC
        

Comment on attachment 104669 [details]
elfutils-0.118.ebuild

This fix is a no-go. the -I stuff is handled in our profiles, setting ABI should be enough, so the problem lies somewhere else. Also, if you could provide an error message that would be great.




Comment 5


Olaf Józefowicz





          2007-02-12 14:06:23 UTC
        

Making install in libelf-po
make[1]: Entering directory `/var/tmp/portage/dev-libs/elfutils-0.118/work/elfutils-0.118/libelf-po'
/bin/sh `case "@MKINSTALLDIRS@" in /*) echo "@MKINSTALLDIRS@" ;; *) echo "../@MKINSTALLDIRS@" ;; esac` /var/tmp/portage/dev-libs/elfutils-0.118/image//usr/share
/bin/sh: ../@MKINSTALLDIRS@: No such file or directory
make[1]: *** [install-data-yes] Error 127
make[1]: Leaving directory `/var/tmp/portage/dev-libs/elfutils-0.118/work/elfutils-0.118/libelf-po'
make: *** [install-recursive] Error 1

!!! ERROR: dev-libs/elfutils-0.118 failed.
Call stack:
  ebuild.sh, line 1614:   Called dyn_install
  ebuild.sh, line 1060:   Called qa_call 'src_install'
  environment, line 3478:   Called src_install
  elfutils-0.118.ebuild, line 58:   Called die

!!! (no error message)
!!! If you need support, post the topmost build error, and the call stack if relevant.
!!! A complete build log is located at '/var/tmp/portage/dev-libs/elfutils-0.118/temp/build.log'.

emerge --info:

Portage 2.1.2-r9 (default-linux/amd64/2006.1, gcc-4.1.1, glibc-2.4-r3, 2.6.18-gentoo-r6 x86_64)
=================================================================
System uname: 2.6.18-gentoo-r6 x86_64 AMD Athlon(tm) 64 Processor 3200+
Gentoo Base System version 1.12.1
Timestamp of tree: Sun, 11 Feb 2007 11:50:01 +0000
dev-java/java-config: 1.3.7, 2.0.31
dev-lang/python:     2.4.3-r1
dev-python/pycrypto: 2.0.1-r5
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.61
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.13-r3
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=athlon64 -pipe -O2"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/java-config/vms/ /etc/terminfo"
CXXFLAGS="-march=athlon64 -pipe -O2"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="ftp://gentoo.po.opole.pl/"
LINGUAS="pl"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="X a52 aac alsa amd64 arts berkdb bitmap-fonts cdr cli cracklib crypt cups dbus dlloader dri dvd dvdr firefox fortran gdbm gif gpm gtk gtk2 hal iconv ipv6 isdnlog java jpeg kde libg++ midi mp3 mpeg mplayer ncurses nls nptl nptlonly ogg opengl oss pam pcre pdf perl png ppds pppd python qt3 readline reflection samba session sndfile spl ssl tcl tcltk tcpd tk truetype truetype-fonts type1-fonts udev unicode usb vcd xine xorg xvid zlib" ALSA_CARDS="hda-intel" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" ELIBC="glibc" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="pl" USERLAND="GNU" VIDEO_CARDS="nvidia"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY




Comment 6


Simon Stelling (RETIRED)






          2007-02-12 14:15:37 UTC
        

Try 0.123 which was marked stable yesterday, works just perfect for me









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

