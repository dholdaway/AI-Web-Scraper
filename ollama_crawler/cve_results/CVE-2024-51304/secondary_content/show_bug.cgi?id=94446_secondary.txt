Title: 94446 – xine crashing on playing dvd audio with USE="a52"
URL: https://bugs.gentoo.org/show_bug.cgi?id=94446

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 94446
xine crashing on playing dvd audio with USE="a52"
Last modified: 2005-12-02 06:40:42 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 94446 
      - xine crashing on playing dvd audio with USE="a52"


Summary:
xine crashing on playing dvd audio with USE="a52"
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Sound Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-05-29 20:15 UTC by Tom Kiermaier





      Modified:
    
2005-12-02 06:40 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



media-video









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Tom Kiermaier





          2005-05-29 20:15:58 UTC
        

I tried to play a dvd today to find out that any xine based apps crash and 
burn when trying to play dvds. After getting through the fbi warnings on dvd 
it crashed. Found out after much trial and error that its crashing as soon as 
it tries to play audio. The audio is all a52 according to mplayer (which 
works). I have a52 in my use flags. Emerging xine-lib with -a52 in the use 
flags takes care of the issue.  

Reproducible: Always
Steps to Reproduce:
1. USE="a52" emerge xine-lib  
2. try watching a dvd 
3.   
  
Actual Results:  
Crash 

Expected Results:  
Play the dvd 

raptor ~ # emerge info 
Portage 2.0.51.22-r1 (default-linux/x86/2005.0, gcc-3.4.3-20050110, 
glibc-2.3.5-r0, 2.6.11-gentoo-r9 i686) 
================================================================= 
System uname: 2.6.11-gentoo-r9 i686 AMD Athlon(TM) XP 2600+ 
Gentoo Base System version 1.6.12 
dev-lang/python:     2.2.3-r6, 2.3.5 
sys-apps/sandbox:    1.2.8 
sys-devel/autoconf:  2.13, 2.59-r6 
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.5 
sys-devel/binutils:  2.16-r1 
sys-devel/libtool:   1.5.18 
virtual/os-headers:  2.6.11 
ACCEPT_KEYWORDS="x86 ~x86" 
AUTOCLEAN="yes" 
CBUILD="i686-pc-linux-gnu" 
CFLAGS="-march=athlon-xp -O2 -pipe -fomit-frame-pointer -mmmx -msse -m3dnow 
-mfpmath=sse -fprefetch-loop-arrays" 
CHOST="i686-pc-linux-gnu" 
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/share/config /var/bind /var/qmail/control" 
CONFIG_PROTECT_MASK="/etc/gconf /etc/splash /etc/terminfo /etc/env.d" 
CXXFLAGS="-march=athlon-xp -O2 -pipe -fomit-frame-pointer -mmmx -msse -m3dnow 
-mfpmath=sse -fprefetch-loop-arrays" 
DISTDIR="/usr/portage/distfiles" 
FEATURES="autoconfig distlocks prelink sandbox sfperms strict" 
GENTOO_MIRRORS="http://gentoo.seren.com/gentoo 
http://www.ibiblio.org/pub/Linux/distributions/gentoo/ 
http://gentoo.oregonstate.edu http://gentoo.binarycompass.org/ 
http://gentoo.netnitco.net/ http://gentoo.mirrors.pair.com/" 
PKGDIR="/usr/portage/packages" 
PORTAGE_TMPDIR="/var/tmp" 
PORTDIR="/usr/portage" 
PORTDIR_OVERLAY="/usr/local/portage" 
SYNC="rsync://rsync.gentoo.org/gentoo-portage" 
USE="x86 3dnow 3dnowext X a52 aac aalib acpi alsa apm arts artswrappersuid 
audiofile avi berkdb bidi bitmap-fonts cdparanoia cdr crypt cups curl dba dbus 
dvd emboss encode esd faad fam ffmpeg flac foomaticdb fortran freetype gd 
gd-external gdbm gif gimpprint gpm gstreamer gtk gtk2 hal imagemagick imlib 
java jpeg junit kde libcaca libg++ libvisual libwww live lm_sensors logrotate 
mad matroska mikmod mmx motif mozilla moznocompose moznoirc mp3 mpeg mysql nas 
ncurses nls no_wxgtk1 nptl nptlonly nvidia offensive ogg oggvorbis opengl oss 
pam pda pdflib perl pic png pwdb python qt quicktime rdesktop readline real 
samba sdl slang smime speex spell sse ssl stream svg svga tcltk tcpd theora 
tiff truetype truetype-fonts type1-fonts unicode usb vcd vorbis wifi 
win32codecs winbind wxwindows xine xml xml2 xmms xprint xscreensaver xv xvid 
zeroconf zlib userland_GNU kernel_linux elibc_glibc" 
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS, MAKEOPTS




Comment 1


Tom Kiermaier





          2005-05-29 20:18:29 UTC
        

Forgot to mention versions here: 
media-libs/xine-lib-1.0.1-r3  
media-libs/a52dec-0.7.4-r5 
 
Tried playing the videos with a52 audio with kaffeine-0.6-r1 and 
xine-ui-0.99.3-r1. 
 




Comment 2


Diego Elio Pettenò (RETIRED)






          2005-05-29 21:03:29 UTC
        

Can you look at which kind of audio track the DVD was using?
I'm using the new xine-lib with +a52 since before committing it to watching DVDs and I haven't found 
problems as for now with the ones I have here.





Comment 3


Tom Kiermaier





          2005-05-30 08:00:32 UTC
        

xine-ui is saying that the audio codec is A/52 5.1, 2 channels, bitrate of  
384000, 16 bits, sample rate of 48000. Is that the info you needed?  




Comment 4


Stephen Guerrera





          2005-06-02 11:07:28 UTC
        

I'm having the same issue as the original poster, only I'm also having issues
with Ogle and VLC as well.  mplayer plays the file as would be expected.  

vlc returns: 
[00000201] main audio output error: couldn't find a filter for the first part of
the conversion
[00000201] main audio output error: couldn't set an input pipeline 

Ogle and Xine close.


scout steve # emerge info
Portage 2.0.51.19 (default-linux/amd64/2005.0, gcc-3.4.3,
glibc-2.3.4.20041102-r1, 2.6.11-gentoo-r6 x86_64)
=================================================================
System uname: 2.6.11-gentoo-r6 x86_64 AMD Athlon(tm) 64 Processor 3200+
Gentoo Base System version 1.4.16
Python:              dev-lang/python-2.3.5 [2.3.5 (#1, May 19 2005, 10:09:48)]
dev-lang/python:     2.3.5
sys-apps/sandbox:    [Not Present]
sys-devel/autoconf:  2.59-r6, 2.13
sys-devel/automake:  1.7.9-r1, 1.8.5-r3, 1.5, 1.4_p6, 1.6.3, 1.9.5
sys-devel/binutils:  2.15.92.0.2-r10
sys-devel/libtool:   1.5.16
virtual/os-headers:  2.6.8.1-r4
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CFLAGS="-O2 -march=k8 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.3/env
/usr/kde/3.3/share/config /usr/kde/3.3/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config
/var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=k8 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig ccache distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://mirror.datapipe.net/gentoo
http://mirror.datapipe.net/gentoo
http://mirror.clarkson.edu/pub/distributions/gentoo/"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.us.gentoo.org/gentoo-portage"
USE="amd64 X Xaw3d a52 acpi alsa berkdb bitmap-fonts cdr crypt curl dvd dvdr eds
esd fam flac font-server fortran gdbm gif gpm gstreamer gtk howl imagemagick
imap imlib ipv6 java jp2 jpeg junit libwww lzw lzw-tiff mad mozilla mp3 mysql
ncurses nls nptl nptlonly offensive ogg oggvorbis opengl oss pam perl png python
readline samba sdl ssl tcpd tiff truetype truetype-fonts type1-fonts usb
userlocales vorbis xine xml xml2 xmms xpm xrandr xv zlib userland_GNU
kernel_linux elibc_glibc"
Unset:  ASFLAGS, CBUILD, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS




Comment 5


Diego Elio Pettenò (RETIRED)






          2005-08-04 10:15:57 UTC
        

Latest xine-lib helps? 
 




Comment 6


Tom Kiermaier





          2005-08-04 16:15:18 UTC
        

nope. same problem.  




Comment 7


Diego Elio Pettenò (RETIRED)






          2005-08-18 06:30:23 UTC
        

If the problem is reproducible with vlc and ogle, the problem is probably with   
a52dec. The differences between xine's and our a52dec are only with the 
memory-aligned allocation, so I don't really know. 
 




Comment 8


Diego Elio Pettenò (RETIRED)






          2005-09-01 16:39:29 UTC
        

1.1.0-r2 works? 
 




Comment 9


Tom Kiermaier





          2005-09-01 16:47:38 UTC
        

Nope. VLC works fine. 




Comment 10


Diego Elio Pettenò (RETIRED)






          2005-12-02 05:14:06 UTC
        

Is this still an issue with 1.1.1-r1? 
I'm still watching DVDs with a52 audio without problems :| 




Comment 11


Tom Kiermaier





          2005-12-02 06:17:56 UTC
        

Seems to be working now.  




Comment 12


Diego Elio Pettenò (RETIRED)






          2005-12-02 06:40:42 UTC
        

Great :) Reopen if it's still an issue. 
 









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

