Title: 127456 – Mouse configuration in  Modular X (xorg-x11-7.0-r1) doesn't work correctly (wrong button count)
URL: https://bugs.gentoo.org/show_bug.cgi?id=127456

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 127456
Mouse configuration in  Modular X (xorg-x11-7.0-r1) doesn't work correctly (wrong button count)
Last modified: 2006-03-24 13:10:26 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 127456 
      - Mouse configuration in  Modular X (xorg-x11-7.0-r1) doesn't work correctly (wrong button count)


Summary:
Mouse configuration in  Modular X (xorg-x11-7.0-r1) doesn't work correctly (w...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Unspecified

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-03-24 10:59 UTC by rumzajs





      Modified:
    
2006-03-24 13:10 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


rumzajs





          2006-03-24 10:59:58 UTC
        

Mapping the mouse buttons via xmodmap impossible! (wrong button count)

xorg.conf
...
Section "InputDevice"
	Identifier	"Mouse-MX510"
	Driver		"mouse"
	Option          "Device"                "/dev/input/mice"
	Option		"Protocol"		"IMPS/2"
	Option		"Buttons"		"10"
	Option		"ZAxisMapping"		"9 10"
	Option 		"Emulate3Buttons" 	"false"
	Option          "CorePointer"
EndSection

~/.xinitrc
xmodmap -e "pointer = 1 6 3 2 7 8 9 10 4 5"

this worked well with xorg-x11-6.x.x, but with 7.0-r1
xmodmap report a error and not mapping the buttons

xmodmap:  commandline:1:  bad number of buttons, must have 14 instead of 10
xmodmap:  1 error encountered, aborting.


i switched to evdev in the hope to solve it

xorg.conf
...
Section "InputDevice"
	Identifier	"Logitech-MX510"
	Driver		"evdev"
	Option		"Device"	"/dev/input/event-mx510"
EndSection

xmodmap report this :

xmodmap:  commandline:1:  bad number of buttons, must have 32 instead of 10
xmodmap:  1 error encountered, aborting.

xmodmap -pp
reports 32 buttons, wow must be a beast of a mouse! :)


emerge --info :
Gentoo Base System version 1.12.0_pre16
Portage 2.1_pre6-r6 (default-linux/x86/2006.0, gcc-3.4.4, glibc-2.3.6-r3, 2.6.16-gentoo i686)
=================================================================
System uname: 2.6.16-gentoo i686 AMD Athlon(TM) XP 2500+
ccache version 2.4 [enabled]
dev-lang/python:     2.4.2-r1
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r2
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r3
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-Os -march=athlon-xp -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/env.d"
CXXFLAGS="-Os -march=athlon-xp -pipe"
DISTDIR="/portage/distfiles"
FEATURES="autoconfig ccache distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS=".cut."
LINGUAS="de"
PKGDIR="/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/portage/main"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 3dnow 3dnowext X alsa apache2 apm avi berkdb bitmap-fonts cdr cli crypt ctype cups dba dbus dri dvd eds emboss encode expat fastbuild foomaticdb force-cgi-redirect fortran ftp gd gdbm gif gpm gstreamer gtk2 hal imlib ipv6 jpeg kde libg++ libwww linguas_de mad mbox memlimit mikmod motif mp3 mpeg ncurses nls nptl nptlonly ogg opengl oss pam pcre pdflib perl png posix python qt quicktime readline sdl session simplexml soap sockets spell spl ssl tcpd tokenizer truetype truetype-fonts type1-fonts udev userlocales vorbis xml xmms xsl xv zlib elibc_glibc input_devices_evdev input_devices_keyboard input_devices_mouse input_devices_joystick kernel_linux userland_GNU video_cards_fglrx"
Unset:  ASFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, LANG, LC_ALL, LDFLAGS, MAKEOPTS, PORTDIR_OVERLAY




Comment 1


Jakub Moc (RETIRED)






          2006-03-24 11:11:22 UTC
        

That's a feature, not a bug. You really need 14 buttons set w/ xmodmap. No idea if you need 32 of them w/ evdev, that driver doesn't work for me at all. 

Example for MS Intellimouse Optical, 4 buttons + scroll wheel:

non-modular X: xmodmap -e "pointer = 1 2 3 6 7 4 5"
modular X: xmodmap -e "pointer = 1 2 3 8 9 4 5 6 7 10 11"




Comment 2


rumzajs





          2006-03-24 13:10:26 UTC
        

ok after spending some time playing with evdev, xmodmap and xev i got it working on my MX510:

this wil be the default mapping reported by xmodmap -pp

xmodmap -e "pointer = 1 3 2 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 73"

and becuase i dont want the wheel be mouse-button 3
(i like have the button in front of the wheel as mouse-button 3)
i have to use this :
xmodmap -e "pointer = 1 3 11 4 5 6 7 8 9 10 2 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 73"









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

