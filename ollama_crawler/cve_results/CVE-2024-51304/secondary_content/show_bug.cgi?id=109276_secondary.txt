Title: 109276 – xorg-x11, kdelibs, arts fail with undefined references to C++ symbols (libstdc++.so) with libGLU.so
URL: https://bugs.gentoo.org/show_bug.cgi?id=109276

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 109276
xorg-x11, kdelibs, arts fail with undefined references to C++ symbols (libstdc++.so) with libGLU.so
Last modified: 2006-04-24 23:07:39 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 109276 
      - xorg-x11, kdelibs, arts fail with undefined references to C++ symbols (libstdc++.so) with libGLU.so


Summary:
xorg-x11, kdelibs, arts fail with undefined references to C++ symbols (libstd...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Server

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       critical
      


Assignee:

Gentoo Toolchain Maintainers








URL:







Whiteboard:




Keywords:









Duplicates (1):
    

113766

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2005-10-14 07:28 UTC by Kamil Niewiarowski





      Modified:
    
2006-04-24 23:07 UTC
      (History)
    




          CC List:
        

3 
          users
          
            (show)
          



beww
chtitux
gnarlin









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Kamil Niewiarowski





          2005-10-14 07:28:15 UTC
        

I cannot compile xorg-x11 with opengl support. It does compile without it. I
have had this error for a long time, with different xorg-x11 versions (6.8.2-rX). 

Reproducible: Always
Steps to Reproduce:
1.emerge xorg-x11
2.
3.

Actual Results:  
emerge failed

Expected Results:  
xorg-x11 build with opengl support

The error looks like this:

i686-pc-linux-gnu-gcc -c -O2 -march=pentium3 -fomit-frame-pointer -pipe
-fno-strict-aliasing -ansi -pedantic -Wno-return-type -w    -fno-merge-constants
-I../include -I../../../include -I../../../include/extensions           
-I../../../include/extensions  -I../../.. -I../../../exports/include   -Dlinux
-D__i386__ -D_POSIX_C_SOURCE=199309L                           -D_POSIX_SOURCE
-D_XOPEN_SOURCE                             -D_BSD_SOURCE -D_SVID_SOURCE       
                     -D_GNU_SOURCE                               -DSHAPE
-DXINPUT -DXKB -DLBX -DXAPPGROUP       -DXCSECURITY -DTOGCUP   -DXF86BIGFONT
-DDPMSExtension         -DPANORAMIX    -DRENDER -DRANDR       -DXFIXES -DDAMAGE
-DCOMPOSITE -DXEVIE    -DGCCUSESGAS -DAVOID_GLYPHBLT -DPIXPRIV -DSINGLEDEPTH   
                          -DXFreeXDGA -DXvExtension                            
  -DXFree86LOADER  -DXFree86Server                            -DXF86VIDMODE    
                      -DXvMCExtension                 -DSMART_SCHEDULE         
                   -DXResExtension                               
-DX_BYTE_ORDER=X_LITTLE_ENDIAN  -DXORG_VERSION_CURRENT="(((6) * 10000000) + ((8)
* 100000) + ((2) * 1000) + 0)" -DNDEBUG   -DFUNCPROTO=15 -DNARROWPROTO     
unsquish.c
rm -f extensions.o
i686-pc-linux-gnu-gcc -c -O2 -march=pentium3 -fomit-frame-pointer -pipe
-fno-strict-aliasing -ansi -pedantic -Wno-return-type -w    -fno-merge-constants
-I../include -I../../../include -I../../../include/extensions           
-I../../../include/extensions  -I../../.. -I../../../exports/include   -Dlinux
-D__i386__ -D_POSIX_C_SOURCE=199309L                           -D_POSIX_SOURCE
-D_XOPEN_SOURCE                             -D_BSD_SOURCE -D_SVID_SOURCE       
                     -D_GNU_SOURCE                               -DSHAPE
-DXINPUT -DXKB -DLBX -DXAPPGROUP       -DXCSECURITY -DTOGCUP   -DXF86BIGFONT
-DDPMSExtension         -DPANORAMIX    -DRENDER -DRANDR       -DXFIXES -DDAMAGE
-DCOMPOSITE -DXEVIE    -DGCCUSESGAS -DAVOID_GLYPHBLT -DPIXPRIV -DSINGLEDEPTH   
                          -DXFreeXDGA -DXvExtension                            
  -DXFree86LOADER  -DXFree86Server                            -DXF86VIDMODE    
                      -DXvMCExtension                 -DSMART_SCHEDULE         
                   -DXResExtension                               
-DX_BYTE_ORDER=X_LITTLE_ENDIAN  -DXORG_VERSION_CURRENT="(((6) * 10000000) + ((8)
* 100000) + ((2) * 1000) + 0)" -DNDEBUG   -DFUNCPROTO=15 -DNARROWPROTO     
extensions.c
rm -f options.o
i686-pc-linux-gnu-gcc -c -O2 -march=pentium3 -fomit-frame-pointer -pipe
-fno-strict-aliasing -ansi -pedantic -Wno-return-type -w    -fno-merge-constants
-I../include -I../../../include -I../../../include/extensions           
-I../../../include/extensions  -I../../.. -I../../../exports/include   -Dlinux
-D__i386__ -D_POSIX_C_SOURCE=199309L                           -D_POSIX_SOURCE
-D_XOPEN_SOURCE                             -D_BSD_SOURCE -D_SVID_SOURCE       
                     -D_GNU_SOURCE                               -DSHAPE
-DXINPUT -DXKB -DLBX -DXAPPGROUP       -DXCSECURITY -DTOGCUP   -DXF86BIGFONT
-DDPMSExtension         -DPANORAMIX    -DRENDER -DRANDR       -DXFIXES -DDAMAGE
-DCOMPOSITE -DXEVIE    -DGCCUSESGAS -DAVOID_GLYPHBLT -DPIXPRIV -DSINGLEDEPTH   
                          -DXFreeXDGA -DXvExtension                            
  -DXFree86LOADER  -DXFree86Server                            -DXF86VIDMODE    
                      -DXvMCExtension                 -DSMART_SCHEDULE         
                   -DXResExtension                               
-DX_BYTE_ORDER=X_LITTLE_ENDIAN  -DXORG_VERSION_CURRENT="(((6) * 10000000) + ((8)
* 100000) + ((2) * 1000) + 0)" -DNDEBUG   -DFUNCPROTO=15 -DNARROWPROTO     
options.c
rm -f zeropad.o
i686-pc-linux-gnu-gcc -c -O2 -march=pentium3 -fomit-frame-pointer -pipe
-fno-strict-aliasing -ansi -pedantic -Wno-return-type -w    -fno-merge-constants
-I../include -I../../../include -I../../../include/extensions           
-I../../../include/extensions  -I../../.. -I../../../exports/include   -Dlinux
-D__i386__ -D_POSIX_C_SOURCE=199309L                           -D_POSIX_SOURCE
-D_XOPEN_SOURCE                             -D_BSD_SOURCE -D_SVID_SOURCE       
                     -D_GNU_SOURCE                               -DSHAPE
-DXINPUT -DXKB -DLBX -DXAPPGROUP       -DXCSECURITY -DTOGCUP   -DXF86BIGFONT
-DDPMSExtension         -DPANORAMIX    -DRENDER -DRANDR       -DXFIXES -DDAMAGE
-DCOMPOSITE -DXEVIE    -DGCCUSESGAS -DAVOID_GLYPHBLT -DPIXPRIV -DSINGLEDEPTH   
                          -DXFreeXDGA -DXvExtension                            
  -DXFree86LOADER  -DXFree86Server                            -DXF86VIDMODE    
                      -DXvMCExtension                 -DSMART_SCHEDULE         
                   -DXResExtension                               
-DX_BYTE_ORDER=X_LITTLE_ENDIAN  -DXORG_VERSION_CURRENT="(((6) * 10000000) + ((8)
* 100000) + ((2) * 1000) + 0)" -DNDEBUG   -DFUNCPROTO=15 -DNARROWPROTO     
zeropad.c
rm -f pm.o
i686-pc-linux-gnu-gcc -c -O2 -march=pentium3 -fomit-frame-pointer -pipe
-fno-strict-aliasing -ansi -pedantic -Wno-return-type -w    -fno-merge-constants
-I../include -I../../../include -I../../../include/extensions           
-I../../../include/extensions  -I../../.. -I../../../exports/include   -Dlinux
-D__i386__ -D_POSIX_C_SOURCE=199309L                           -D_POSIX_SOURCE
-D_XOPEN_SOURCE                             -D_BSD_SOURCE -D_SVID_SOURCE       
                     -D_GNU_SOURCE                               -DSHAPE
-DXINPUT -DXKB -DLBX -DXAPPGROUP       -DXCSECURITY -DTOGCUP   -DXF86BIGFONT
-DDPMSExtension         -DPANORAMIX    -DRENDER -DRANDR       -DXFIXES -DDAMAGE
-DCOMPOSITE -DXEVIE    -DGCCUSESGAS -DAVOID_GLYPHBLT -DPIXPRIV -DSINGLEDEPTH   
                          -DXFreeXDGA -DXvExtension                            
  -DXFree86LOADER  -DXFree86Server                            -DXF86VIDMODE    
                      -DXvMCExtension                 -DSMART_SCHEDULE         
                   -DXResExtension                               
-DX_BYTE_ORDER=X_LITTLE_ENDIAN  -DXORG_VERSION_CURRENT="(((6) * 10000000) + ((8)
* 100000) + ((2) * 1000) + 0)" -DNDEBUG   -DFUNCPROTO=15 -DNARROWPROTO      pm.c
rm -f libdilbx.a
ar clq libdilbx.a main.o dispatch.o wire.o globals.o            utils.o tables.o
init.o                 cache.o cmap.o cmaputil.o lbxfuncs.o reqtype.o          
      resource.o tags.o atomcache.o gfx.o lbxutil.o                 props.o
swapreq.o swaprep.o unsquish.o extensions.o                options.o zeropad.o pm.o
ranlib libdilbx.a
make[5]: Leaving directory
`/var/tmp/portage/xorg-x11-6.8.2-r6/work/xc/programs/lbxproxy/di'
making all in programs/lbxproxy/os...
make[5]: Entering directory
`/var/tmp/portage/xorg-x11-6.8.2-r6/work/xc/programs/lbxproxy/os'
rm -f connection.o
i686-pc-linux-gnu-gcc -c -O2 -march=pentium3 -fomit-frame-pointer -pipe
-fno-strict-aliasing -ansi -pedantic -Wno-return-type -w    -fno-merge-constants
-I../include -I../../../include -I../../../include/extensions           
-I../../../include/extensions  -I../../.. -I../../../exports/include   -Dlinux
-D__i386__ -D_POSIX_C_SOURCE=199309L                           -D_POSIX_SOURCE
-D_XOPEN_SOURCE                             -D_BSD_SOURCE -D_SVID_SOURCE       
                     -D_GNU_SOURCE                               -DSHAPE
-DXINPUT -DXKB -DLBX -DXAPPGROUP       -DXCSECURITY -DTOGCUP   -DXF86BIGFONT
-DDPMSExtension         -DPANORAMIX    -DRENDER -DRANDR       -DXFIXES -DDAMAGE
-DCOMPOSITE -DXEVIE    -DGCCUSESGAS -DAVOID_GLYPHBLT -DPIXPRIV -DSINGLEDEPTH   
                          -DXFreeXDGA -DXvExtension                            
  -DXFree86LOADER  -DXFree86Server                            -DXF86VIDMODE    
                      -DXvMCExtension                 -DSMART_SCHEDULE         
                   -DXResExtension                               
-DX_BYTE_ORDER=X_LITTLE_ENDIAN  -DXORG_VERSION_CURRENT="(((6) * 10000000) + ((8)
* 100000) + ((2) * 1000) + 0)" -DNDEBUG   -DFUNCPROTO=15 -DNARROWPROTO  
-DUNIXCONN -DTCPCONN -DHAS_STICKY_DIR_BIT -DHAS_FCHOWN                  
-DDDXOSINIT -DSERVER_LOCK -DDDXOSFATALERROR          -DDDXOSVERRORF -DDDXTIME  
-DLBXPROXY_t -DTRANS_SERVER  connection.c
rm -f io.o
i686-pc-linux-gnu-gcc -c -O2 -march=pentium3 -fomit-frame-pointer -pipe
-fno-strict-aliasing -ansi -pedantic -Wno-return-type -w    -fno-merge-constants
-I../include -I../../../include -I../../../include/extensions           
-I../../../include/extensions  -I../../.. -I../../../exports/include   -Dlinux
-D__i386__ -D_POSIX_C_SOURCE=199309L                           -D_POSIX_SOURCE
-D_XOPEN_SOURCE                             -D_BSD_SOURCE -D_SVID_SOURCE       
                     -D_GNU_SOURCE                               -DSHAPE
-DXINPUT -DXKB -DLBX -DXAPPGROUP       -DXCSECURITY -DTOGCUP   -DXF86BIGFONT
-DDPMSExtension         -DPANORAMIX    -DRENDER -DRANDR       -DXFIXES -DDAMAGE
-DCOMPOSITE -DXEVIE    -DGCCUSESGAS -DAVOID_GLYPHBLT -DPIXPRIV -DSINGLEDEPTH   
                          -DXFreeXDGA -DXvExtension                            
  -DXFree86LOADER  -DXFree86Server                            -DXF86VIDMODE    
                      -DXvMCExtension                 -DSMART_SCHEDULE         
                   -DXResExtension                               
-DX_BYTE_ORDER=X_LITTLE_ENDIAN  -DXORG_VERSION_CURRENT="(((6) * 10000000) + ((8)
* 100000) + ((2) * 1000) + 0)" -DNDEBUG   -DFUNCPROTO=15 -DNARROWPROTO  
-DUNIXCONN -DTCPCONN -DHAS_STICKY_DIR_BIT -DHAS_FCHOWN                  
-DDDXOSINIT -DSERVER_LOCK -DDDXOSFATALERROR          -DDDXOSVERRORF -DDDXTIME  
-DLBXPROXY_t -DTRANS_SERVER -DMITMISC -DXTEST -DXTRAP    -DXSYNC -DXCMISC
-DXRECORD      -DMITSHM -DBIGREQS -DXF86VIDMODE    -DXF86MISC -DDBE
-DDPMSExtension -DEVI  -DSCREENSAVER -DXV -DXVMC       -DGLXEXT -DXF86DRI
-DGLX_DIRECT_RENDERING -DGLX_USE_DLOPEN -DGLX_USE_MESA            -DRES io.c
rm -f WaitFor.o
i686-pc-linux-gnu-gcc -c -O2 -march=pentium3 -fomit-frame-pointer -pipe
-fno-strict-aliasing -ansi -pedantic -Wno-return-type -w    -fno-merge-constants
-I../include -I../../../include -I../../../include/extensions           
-I../../../include/extensions  -I../../.. -I../../../exports/include   -Dlinux
-D__i386__ -D_POSIX_C_SOURCE=199309L                           -D_POSIX_SOURCE
-D_XOPEN_SOURCE                             -D_BSD_SOURCE -D_SVID_SOURCE       
                     -D_GNU_SOURCE                               -DSHAPE
-DXINPUT -DXKB -DLBX -DXAPPGROUP       -DXCSECURITY -DTOGCUP   -DXF86BIGFONT
-DDPMSExtension         -DPANORAMIX    -DRENDER -DRANDR       -DXFIXES -DDAMAGE
-DCOMPOSITE -DXEVIE    -DGCCUSESGAS -DAVOID_GLYPHBLT -DPIXPRIV -DSINGLEDEPTH   
                          -DXFreeXDGA -DXvExtension                            
  -DXFree86LOADER  -DXFree86Server                            -DXF86VIDMODE    
                      -DXvMCExtension                 -DSMART_SCHEDULE         
                   -DXResExtension                               
-DX_BYTE_ORDER=X_LITTLE_ENDIAN  -DXORG_VERSION_CURRENT="(((6) * 10000000) + ((8)
* 100000) + ((2) * 1000) + 0)" -DNDEBUG   -DFUNCPROTO=15 -DNARROWPROTO  
-DUNIXCONN -DTCPCONN -DHAS_STICKY_DIR_BIT -DHAS_FCHOWN                  
-DDDXOSINIT -DSERVER_LOCK -DDDXOSFATALERROR          -DDDXOSVERRORF -DDDXTIME  
 WaitFor.c
rm -f osinit.o
i686-pc-linux-gnu-gcc -c -O2 -march=pentium3 -fomit-frame-pointer -pipe
-fno-strict-aliasing -ansi -pedantic -Wno-return-type -w    -fno-merge-constants
-I../include -I../../../include -I../../../include/extensions           
-I../../../include/extensions  -I../../.. -I../../../exports/include   -Dlinux
-D__i386__ -D_POSIX_C_SOURCE=199309L                           -D_POSIX_SOURCE
-D_XOPEN_SOURCE                             -D_BSD_SOURCE -D_SVID_SOURCE       
                     -D_GNU_SOURCE                               -DSHAPE
-DXINPUT -DXKB -DLBX -DXAPPGROUP       -DXCSECURITY -DTOGCUP   -DXF86BIGFONT
-DDPMSExtension         -DPANORAMIX    -DRENDER -DRANDR       -DXFIXES -DDAMAGE
-DCOMPOSITE -DXEVIE    -DGCCUSESGAS -DAVOID_GLYPHBLT -DPIXPRIV -DSINGLEDEPTH   
                          -DXFreeXDGA -DXvExtension                            
  -DXFree86LOADER  -DXFree86Server                            -DXF86VIDMODE    
                      -DXvMCExtension                 -DSMART_SCHEDULE         
                   -DXResExtension                               
-DX_BYTE_ORDER=X_LITTLE_ENDIAN  -DXORG_VERSION_CURRENT="(((6) * 10000000) + ((8)
* 100000) + ((2) * 1000) + 0)" -DNDEBUG   -DFUNCPROTO=15 -DNARROWPROTO  
-DUNIXCONN -DTCPCONN -DHAS_STICKY_DIR_BIT -DHAS_FCHOWN                  
-DDDXOSINIT -DSERVER_LOCK -DDDXOSFATALERROR          -DDDXOSVERRORF -DDDXTIME  
 osinit.c
rm -f transport.o
i686-pc-linux-gnu-gcc -c -O2 -march=pentium3 -fomit-frame-pointer -pipe
-fno-strict-aliasing -ansi -pedantic -Wno-return-type -w    -fno-merge-constants
-I../include -I../../../include -I../../../include/extensions           
-I../../../include/extensions  -I../../.. -I../../../exports/include   -Dlinux
-D__i386__ -D_POSIX_C_SOURCE=199309L                           -D_POSIX_SOURCE
-D_XOPEN_SOURCE                             -D_BSD_SOURCE -D_SVID_SOURCE       
                     -D_GNU_SOURCE                               -DSHAPE
-DXINPUT -DXKB -DLBX -DXAPPGROUP       -DXCSECURITY -DTOGCUP   -DXF86BIGFONT
-DDPMSExtension         -DPANORAMIX    -DRENDER -DRANDR       -DXFIXES -DDAMAGE
-DCOMPOSITE -DXEVIE    -DGCCUSESGAS -DAVOID_GLYPHBLT -DPIXPRIV -DSINGLEDEPTH   
                          -DXFreeXDGA -DXvExtension                            
  -DXFree86LOADER  -DXFree86Server                            -DXF86VIDMODE    
                      -DXvMCExtension                 -DSMART_SCHEDULE         
                   -DXResExtension                               
-DX_BYTE_ORDER=X_LITTLE_ENDIAN  -DXORG_VERSION_CURRENT="(((6) * 10000000) + ((8)
* 100000) + ((2) * 1000) + 0)" -DNDEBUG   -DFUNCPROTO=15 -DNARROWPROTO  
-DUNIXCONN -DTCPCONN -DHAS_STICKY_DIR_BIT -DHAS_FCHOWN                  
-DDDXOSINIT -DSERVER_LOCK -DDDXOSFATALERROR          -DDDXOSVERRORF -DDDXTIME  
-I../../../lib/xtrans -DLBXPROXY_t -DTRANS_SERVER  transport.c
rm -f libos.a
ar clq libos.a connection.o io.o WaitFor.o osinit.o transport.o 
ranlib libos.a
make[5]: Leaving directory
`/var/tmp/portage/xorg-x11-6.8.2-r6/work/xc/programs/lbxproxy/os'
making all in programs/lbxproxy/config...
make[5]: Entering directory
`/var/tmp/portage/xorg-x11-6.8.2-r6/work/xc/programs/lbxproxy/config'
make[5]: Nie nic do roboty w `all'.
make[5]: Leaving directory
`/var/tmp/portage/xorg-x11-6.8.2-r6/work/xc/programs/lbxproxy/config'
i686-pc-linux-gnu-gcc -o lbxproxy -O2 -march=pentium3 -fomit-frame-pointer -pipe
-fno-strict-aliasing -ansi -pedantic -Wno-return-type -w     -L../../exports/lib
   di/libdilbx.a os/libos.a ../../lib/lbxutil/liblbxutil.a     -lICE -lXext
-lX11 -lz -Wl,-rpath-link,../../exports/lib
rm -f lbxproxy._man
if test -z "true" ; then \
   cd `dirname lbxproxy` && \
   ln -s `basename lbxproxy.man` `basename lbxproxy._man`; \
else \
             cpp -traditional  -D__apploaddir__=/usr/lib/X11/app-defaults
-D__appmansuffix__=1x -D__filemansuffix__=5x -D__libmansuffix__=3x
-D__miscmansuffix__=7x -D__drivermansuffix__=4x -D__adminmansuffix__=8
-D__projectroot__=/usr/X11R6 -D__xconfigfile__=xorg.conf
-D__xconfigdir__=/etc/X11 -D__xlogfile__=Xorg -D__xservername__=Xorg
-D__xorgversion__='"" ""' -D__vendorversion__="`echo 6 8 2 | sed -e 's/ /./g' -e
's/^/Version\\\ /'` X.Org"  \
     < lbxproxy.man | sed -e '/^#  *[0-9][0-9]*  *.*$/d'                       
-e '/^#line  *[0-9][0-9]*  *.*$/d'      -e '/^[     ]*XCOMM$/s/XCOMM/#/'       
            -e '/^[         ]*XCOMM[^a-zA-Z0-9_]/s/XCOMM/#/'                   
    -e '/^[     ]*XHASH/s/XHASH/#/'                     -e '/\@\@$/s/\@\@$/\\/'
>lbxproxy._man; \
fi
make[4]: Leaving directory
`/var/tmp/portage/xorg-x11-6.8.2-r6/work/xc/programs/lbxproxy'
making all in programs/scripts...
make[4]: Entering directory
`/var/tmp/portage/xorg-x11-6.8.2-r6/work/xc/programs/scripts'
rm -f xon._man
if test -z "true" ; then \
   cd `dirname xon` && \
   ln -s `basename xon.man` `basename xon._man`; \
else \
             cpp -traditional  -D__apploaddir__=/usr/lib/X11/app-defaults
-D__appmansuffix__=1x -D__filemansuffix__=5x -D__libmansuffix__=3x
-D__miscmansuffix__=7x -D__drivermansuffix__=4x -D__adminmansuffix__=8
-D__projectroot__=/usr/X11R6 -D__xconfigfile__=xorg.conf
-D__xconfigdir__=/etc/X11 -D__xlogfile__=Xorg -D__xservername__=Xorg
-D__xorgversion__='"" ""' -D__vendorversion__="`echo 6 8 2 | sed -e 's/ /./g' -e
's/^/Version\\\ /'` X.Org"  \
     < xon.man | sed -e '/^#  *[0-9][0-9]*  *.*$/d'                     -e
'/^#line  *[0-9][0-9]*  *.*$/d'              -e '/^[     ]*XCOMM$/s/XCOMM/#/'  
                 -e '/^[         ]*XCOMM[^a-zA-Z0-9_]/s/XCOMM/#/'              
         -e '/^[     ]*XHASH/s/XHASH/#/'                     -e
'/\@\@$/s/\@\@$/\\/' >xon._man; \
fi
make[4]: Leaving directory
`/var/tmp/portage/xorg-x11-6.8.2-r6/work/xc/programs/scripts'
making all in programs/glxinfo...
make[4]: Entering directory
`/var/tmp/portage/xorg-x11-6.8.2-r6/work/xc/programs/glxinfo'
i686-pc-linux-gnu-gcc -O2 -march=pentium3 -fomit-frame-pointer -pipe
-fno-strict-aliasing -ansi -pedantic -Wno-return-type -w     -I../..
-I../../exports/include   -Dlinux -D__i386__ -D_POSIX_C_SOURCE=199309L         
                  -D_POSIX_SOURCE -D_XOPEN_SOURCE                            
-D_BSD_SOURCE -D_SVID_SOURCE                             -D_GNU_SOURCE   
-DFUNCPROTO=15 -DNARROWPROTO -DXTHREADS  -D_REENTRANT -DXUSE_MTSAFE_API   
-DDO_GLU    -c -o glxinfo.o glxinfo.c
rm -f glxinfo
i686-pc-linux-gnu-gcc -o glxinfo -O2 -march=pentium3 -fomit-frame-pointer -pipe
-fno-strict-aliasing -ansi -pedantic -Wno-return-type -w     -L../../exports/lib
  glxinfo.o -lGLU -lGL -lXext -lX11  -lpthread -lm  
-Wl,-rpath-link,../../exports/lib
../../exports/lib/libGLU.so: undefined reference to `operator
delete(void*)@GLIBCXX_3.4'
../../exports/lib/libGLU.so: undefined reference to `vtable for
__cxxabiv1::__vmi_class_type_info@CXXABI_1.3'
../../exports/lib/libGLU.so: undefined reference to `operator
delete[](void*)@GLIBCXX_3.4'
../../exports/lib/libGLU.so: undefined reference to `operator new[](unsigned
int)@GLIBCXX_3.4'
../../exports/lib/libGLU.so: undefined reference to `operator new(unsigned
int)@GLIBCXX_3.4'
../../exports/lib/libGLU.so: undefined reference to `__cxa_pure_virtual@CXXABI_1.3'
../../exports/lib/libGLU.so: undefined reference to `vtable for
__cxxabiv1::__si_class_type_info@CXXABI_1.3'
../../exports/lib/libGLU.so: undefined reference to `vtable for
__cxxabiv1::__class_type_info@CXXABI_1.3'
../../exports/lib/libGLU.so: undefined reference to
`__gxx_personality_v0@CXXABI_1.3'
collect2: ld returned 1 exit status
make[4]: *** [glxinfo] B&#322;&#261;d 1
make[4]: Leaving directory
`/var/tmp/portage/xorg-x11-6.8.2-r6/work/xc/programs/glxinfo'
make[3]: *** [all] B&#322;&#261;d 2
make[3]: Leaving directory `/var/tmp/portage/xorg-x11-6.8.2-r6/work/xc/programs'
make[2]: *** [all] B&#322;&#261;d 2
make[2]: Leaving directory `/var/tmp/portage/xorg-x11-6.8.2-r6/work/xc'
make[1]: *** [World] B&#322;&#261;d 2
make[1]: Leaving directory `/var/tmp/portage/xorg-x11-6.8.2-r6/work/xc'
make: *** [World] B&#322;&#261;d 2

!!! ERROR: x11-base/xorg-x11-6.8.2-r6 failed.
!!! Function build, Line 975, Exitcode 2
!!! make World failed
!!! If you need support, post the topmost build error, NOT this status message.




emerge info:

Portage 2.0.53_rc5 (default-linux/x86/2005.0, gcc-3.4.4, glibc-2.3.5-r2,
2.6.12-gentoo-r9 i686)
=================================================================
System uname: 2.6.12-gentoo-r9 i686 Pentium III (Coppermine)
Gentoo Base System version 1.12.0_pre8
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
dev-lang/python:     2.4.2
sys-apps/sandbox:    1.2.13
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.20
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium3 -fomit-frame-pointer -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config
/usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/env.d"
CXXFLAGS="-O2 -march=pentium3 -fomit-frame-pointer -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org
http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LINGUAS="pl"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X aac acpi alsa apache2 apm audiofile authdaemond avi bash-completion
berkdb bitmap-fonts bootsplash chroot crypt cups dba directfb divx4linux dts
escreen extras fbcon foomaticdb ftp gcj gd gdbm gif gpm gtk gtk2 i8x0 imlib
jabber jack java javascript jpeg justify latex lcms libwww lm_sensors matroska
mmx mng mp3 mpeg mysql ncurses nls nptl nptlonly ogg oggvorbis opengl oss pam
pcre pdflib perl plotutils png ppds python qt quotas readline reiserfs samba
sample sasl sendfile slang slp sockets spell sse ssl svga symlink tcltk tcpd
tetex theora threads tiff toolbar truetype truetype-fonts type1-fonts unicode
usb userlocales v4l v4l2 vim-with-x vorbis win32codecs wmf wxwindows xgetdefault
xml xml2 xmms xv xvid xvmc zlib linguas_pl userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS


make.conf:

# These settings were set by the catalyst build script that automatically built
this stage
# Please consult /etc/make.conf.example for a more detailed example
CFLAGS="-O2 -march=pentium3 -fomit-frame-pointer -pipe"
CHOST="i686-pc-linux-gnu"
CXXFLAGS="${CFLAGS}"
MAKEOPTS="-j2"
PORTAGE_NICENESS="15"
DISTCC_HOSTS="localhost blaszak"
ACCEPT_KEYWORDS="x86 ~x86"
FEATURES="sandbox"
PORTDIR_OVERLAY="/usr/local/portage"
LINGUAS="pl"

USE="-* X aac acpi alsa apache2 apm audiofile authdaemond avi bash-completion
     berkdb bitmap-fonts bootsplash chroot crypt cups dba directfb divx4linux
     dts escreen extras fbcon foomaticdb ftp gcj gd gdbm gif gpm gtk gtk2 i8x0
     imlib jabber jack java javascript jpeg justify latex lcms libwww
     lm_sensors matroska mmx mng mp3 mpeg mysql ncurses nls nptl nptlonly ogg
     oggvorbis opengl oss pam pcre pdflib perl plotutils png ppds python qt
     quotas readline reiserfs samba sample sasl sendfile slang slp sockets
     spell sse ssl svga symlink tcltk tcpd tetex theora threads tiff toolbar
     truetype truetype-fonts type1-fonts unicode usb userlocales v4l v4l2
     vim-with-x vorbis win32codecs wmf wxwindows xgetdefault xml xml2 xmms xv
     xvid xvmc zlib"


I tried everything:
fix_libtool_files.sh 3.4.4
emerge -e system
revdep-rebuild

No results...
Does anybody know the solution?

Best regards,
Kamil Niewiarowski




Comment 1


Carsten Lohrke (RETIRED)






          2005-10-14 07:58:39 UTC
        

You can't mix libs built with different gcc versions as you like.

*** This bug has been marked as a duplicate of 108542 ***




Comment 2


Kamil Niewiarowski





          2005-10-27 22:48:11 UTC
        

I reemerged every single library on my system and the problem persists.

I did the following thing:
emerge -ep world | grep lib

And emerged everything that was shown.
Also the solution that worked for bug #108542 didn't help my case.

Best regards,
Kamil Niewiarowski




Comment 3


Joshua Baergen (RETIRED)






          2005-10-28 12:22:02 UTC
        

Adding toolchain to advise, since previous solutions apparently haven't worked.




Comment 4


SpanKY






          2005-10-31 22:59:22 UTC
        

those arent glibc symbols

as i mentioned before in another bug, those are symbols provided by libstdc++.so
and since libGLU.so *should* be linked against it, you should not be seeing
those errors

double check that ../../exports/lib/libGLU.so is linked against libstdc++.so in
the build tree




Comment 5


Kamil Niewiarowski





          2005-11-01 11:45:43 UTC
        

I ran the following command in the
/var/tmp/portage/xorg-x11-6.8.2-r6/work/xc/lib/GLU directory:

ldd libGLU.so
Output was:
        linux-gate.so.1 =>  (0xffffe000)
        libXext.so.6 => /usr/lib/libXext.so.6 (0xb7ec1000)
        libX11.so.6 => /usr/lib/libX11.so.6 (0xb7df2000)
        libGL.so.1 => not found
        libstdc++.so.6 => /usr/lib/gcc/i686-pc-linux-gnu/3.4.4/libstdc++.so.6
(0xb7d22000)
        libm.so.6 => /lib/libm.so.6 (0xb7cff000)
        libc.so.6 => /lib/libc.so.6 (0xb7be5000)
        libgcc_s.so.1 => /usr/lib/gcc/i686-pc-linux-gnu/3.4.4/libgcc_s.so.1
(0xb7bdc000)
        libdl.so.2 => /lib/libdl.so.2 (0xb7bd7000)
        /lib/ld-linux.so.2 (0x80000000)

Should libGLU.so really be linked against the libstdc++.so.6 from gcc?
Shouldn't it be linked against the libstdc++-v3 package libraries?

Can it be the cause?
Does anybody know what should I do?

Best regards,
Kamil Niewiarowski




Comment 6


Joshua Baergen (RETIRED)






          2005-11-22 18:23:51 UTC
        

Kamil: sorry, late response.  Long solution, but it may be necessary: run
"emerge -e world".  This will rebuild everything on your machine.  It could be a
consistency issue somewhere in your current install, and hopefully this will get
rid of it.




Comment 7


Kamil Niewiarowski





          2005-11-22 23:00:45 UTC
        

Well, I have tried it already, no success there either... The xorg-x11 is on
47th position and it crashes there. 

I also tried:
emerge -ep > xyz

and then emerge --oneshot all packages from xyz but xorg-x11.

Still no luck.




Comment 8


Joshua Baergen (RETIRED)






          2005-11-23 08:25:40 UTC
        

That's really odd.

Output of 'gcc-config -l' ? 




Comment 9


Kamil Niewiarowski





          2005-11-23 14:08:09 UTC
        

 [1] i686-pc-linux-gnu-3.4.4 *
 [2] i686-pc-linux-gnu-3.4.4-hardened
 [3] i686-pc-linux-gnu-3.4.4-hardenednopie
 [4] i686-pc-linux-gnu-3.4.4-hardenednopiessp
 [5] i686-pc-linux-gnu-3.4.4-hardenednossp





Comment 10


Joshua Baergen (RETIRED)






          2005-11-23 20:32:55 UTC
        

To answer your question earlier: the link to the 3.4.4 libs should be correct.
Iirc, libstdc++-v3 is only used for binaries pre-compiled against gcc 3.3.x.

The only other thing that comes to mind would be to create a backup of your
xorg-x11 install, unmerge it completely, then re-merge it from scratch.

Before you do that, it looks like you checked the wrong libGLU file in comment
#5.  I think you need to check xc/exports/lib/libGLU.so, although it could just
be a symlink.




Comment 11


Joshua Baergen (RETIRED)






          2005-11-28 08:22:20 UTC
        

*** Bug 113766 has been marked as a duplicate of this bug. ***




Comment 12


Ricardo Cordeiro





          2005-12-04 09:28:05 UTC
        

I'm having the exact same problem, and after unmerging xorg-x11, was unable to
reemerge it, resulting in the same problem as Kamil.

Any more hints? I have the source tree, and can run a make all in
xc/programs/glxinfo, and repeat the problem. I just don't know what to do from
here. I'm going to try upgrading to XOrg 7




Comment 13


Ricardo Cordeiro





          2005-12-04 09:56:02 UTC
        

The make all script was running

i686-pc-linux-gnu-gcc -o glxinfo -O3 -march=pentium4 -pipe -fomit-frame-pointer
-fno-strict-aliasing -ansi -pedantic -Wno-return-type -w     -L../../exports/lib
  glxinfo.o -lGLU -lGL -lXext -lX11  -lpthread -lm -Wl,-rpath-link,../../exports/lib

and failed. I added -rpath-link,/usr/lib/gcc/i686-pc-linux-gnu/3.4.4/ to the
linkers parameters, and it compiled. Is this a solution? I don't know how a
normal system compiles XOrg, and what are the parameters to compile glxinfo, or
how they are determined.

The final command was: 

i686-pc-linux-gnu-gcc -o glxinfo -O3 -march=pentium4 -pipe -fomit-frame-pointer
-fno-strict-aliasing -ansi -pedantic -Wno-return-type -w     -L../../exports/lib
  glxinfo.o -lGLU -lGL -lXext -lX11  -lpthread -lm
-Wl,-rpath-link,../../exports/lib,-rpath-link,/usr/lib/gcc/i686-pc-linux-gnu/3.4.4/

Any hint on this?




Comment 14


Joshua Baergen (RETIRED)






          2005-12-04 10:12:25 UTC
        

This shouldn't be required if libGLU is linked correctly, as it should already
have the correct path to libstdc++.so.

Still waiting for someone to post 'ldd' results on xc/exports/lib/libGLU.so .




Comment 15


Benoît Giraudou





          2005-12-07 23:39:04 UTC
        

I've exactly the same problem when compiling xorg-x11. Here's the output of ldd
for xc/exports/lib/libGLU.so :
        linux-gate.so.1 =>  (0xffffe000)
        libXext.so.6 => /usr/lib/libXext.so.6 (0xb7e9e000)
        libX11.so.6 => /usr/lib/libX11.so.6 (0xb7dd2000)
        libGL.so.1 => /usr/lib/opengl/nvidia/lib/libGL.so.1 (0xb7d4f000)
        libstdc++.so.6 => /usr/lib/gcc/i686-pc-linux-gnu/3.4.4/libstdc++.so.6
(0xb7c81000)
        libm.so.6 => /lib/libm.so.6 (0xb7c5e000)
        libc.so.6 => /lib/libc.so.6 (0xb7b46000)
        libgcc_s.so.1 => /usr/lib/gcc/i686-pc-linux-gnu/3.4.4/libgcc_s.so.1
(0xb7b3d000)
        libdl.so.2 => /lib/libdl.so.2 (0xb7b38000)
        libGLcore.so.1 => /usr/lib/opengl/nvidia/lib/libGLcore.so.1 (0xb737b000)
        libnvidia-tls.so.1 => /usr/lib/opengl/nvidia/lib/libnvidia-tls.so.1
(0xb7379000)
        /lib/ld-linux.so.2 (0x80000000)




Comment 16


Joshua Baergen (RETIRED)






          2005-12-18 11:55:47 UTC
        

Hmm, I'm a little suspicious of the nvidia links there.  Have you tried merging with the xorg-x11 GL implementation first?

eselect opengl set xorg-x11

or

opengl-update xorg-x11

Other than that, C++ links look fine.  SpanKY, any more ideas?




Comment 17


Alexander Meyer





          2006-01-17 09:42:24 UTC
        

same problem here and switching to the xorg-x11 gl didn't help it





Comment 18


Théophile Helleboid





          2006-03-03 16:06:54 UTC
        

(In reply to comment #17)
> same problem here and switching to the xorg-x11 gl didn't help it
> 
Same problem with gcc 3.4.5
Is ther really no solution ?




Comment 19


Donnie Berkholz (RETIRED)






          2006-03-31 19:26:38 UTC
        

Please reopen if this remains an issue with modular X.




Comment 20


Kamil Niewiarowski





          2006-03-31 21:53:24 UTC
        

Yes, the problem does remain.. Any ides anyone?





Comment 21


Joshua Baergen (RETIRED)






          2006-03-31 23:45:16 UTC
        

Which modular X package does it die in?




Comment 22


Donnie Berkholz (RETIRED)






          2006-04-04 15:12:24 UTC
        

Please reopen when you reply.




Comment 23


Théophile Helleboid





          2006-04-05 13:28:22 UTC
        

>>> Emerging (17 of 21) x11-apps/mesa-progs-6.4.2 to /
>>> Downloading ftp://ftp.free.fr/pub/Distributions_Linux/Gentoo/distfiles/MesaDemos-6.4.2.tar.bz2
--22:21:28--  ftp://ftp.free.fr/pub/Distributions_Linux/Gentoo/distfiles/MesaDemos-6.4.2.tar.bz2
          => `/usr/portage/distfiles/MesaDemos-6.4.2.tar.bz2'
R




Comment 24


Théophile Helleboid





          2006-04-05 13:28:22 UTC
        

>>> Emerging (17 of 21) x11-apps/mesa-progs-6.4.2 to /
>>> Downloading ftp://ftp.free.fr/pub/Distributions_Linux/Gentoo/distfiles/MesaDemos-6.4.2.tar.bz2
--22:21:28--  ftp://ftp.free.fr/pub/Distributions_Linux/Gentoo/distfiles/MesaDemos-6.4.2.tar.bz2
          => `/usr/portage/distfiles/MesaDemos-6.4.2.tar.bz2'
Résolution de ftp.free.fr... 213.228.0.141
Connexion vers ftp.free.fr|213.228.0.141|:21...connecté.
Ouverture de session en anonymous...Session établie!
==> SYST ... complété.    ==> PWD ... complété.
==> TYPE I ... complété.  ==> CWD /pub/Distributions_Linux/Gentoo/distfiles ... complété.
==> PASV ... complété.    ==> RETR MesaDemos-6.4.2.tar.bz2 ... complété.
Longueur: 814,178 (795K) (non certifiée)

100%[=======================================================================================================================================================================>] 814,178      958.41K/s

22:21:30 (956.01 KB/s) - « /usr/portage/distfiles/MesaDemos-6.4.2.tar.bz2 » sauvegardé [814178]

>>> checksums files   ;-) mesa-progs-6.4.2.ebuild
>>> checksums files   ;-) mesa-progs-6.5.ebuild
>>> checksums files   ;-) files/digest-mesa-progs-6.5
>>> checksums files   ;-) files/digest-mesa-progs-6.4.2
>>> checksums src_uri ;-) MesaLib-6.4.2.tar.bz2
>>> checksums src_uri ;-) MesaDemos-6.4.2.tar.bz2
>>> Unpacking source...
>>> Unpacking MesaLib-6.4.2.tar.bz2 to /var/tmp/portage/mesa-progs-6.4.2/work
>>> Unpacking MesaDemos-6.4.2.tar.bz2 to /var/tmp/portage/mesa-progs-6.4.2/work
>>> Source unpacked.
>>> Compiling source in /var/tmp/portage/mesa-progs-6.4.2/work/Mesa-6.4.2 ...
i686-pc-linux-gnu-gcc -I../../include -Wall -O2 -march=pentium4 -fomit-frame-pointer -pipe  -m32 -D_POSIX_SOURCE -D_POSIX_C_SOURCE=199309L -D_SVID_SOURCE -D_BSD_SOURCE -D_GNU_SOURCE -DPTHREADS -DUSE_EXTERNAL_DXTN_LIB=1 -DIN_DRI_DRIVER -DGLX_DIRECT_RENDERING -DHAVE_ALIAS -DUSE_X86_ASM -DUSE_MMX_ASM -DUSE_3DNOW_ASM -DUSE_SSE_ASM -std=c99 -ffast-math  glxinfo.c -L../../lib -lglut -lGLU -lGL -lm -o glxinfo
/usr/lib/gcc/i686-pc-linux-gnu/3.4.5/../../../libGLU.so: undefined reference to `operator delete(void*)@GLIBCXX_3.4'
/usr/lib/gcc/i686-pc-linux-gnu/3.4.5/../../../libGLU.so: undefined reference to `vtable for __cxxabiv1::__vmi_class_type_info@CXXABI_1.3'
/usr/lib/gcc/i686-pc-linux-gnu/3.4.5/../../../libGLU.so: undefined reference to `operator delete[](void*)@GLIBCXX_3.4'
/usr/lib/gcc/i686-pc-linux-gnu/3.4.5/../../../libGLU.so: undefined reference to `operator new[](unsigned int)@GLIBCXX_3.4'
/usr/lib/gcc/i686-pc-linux-gnu/3.4.5/../../../libGLU.so: undefined reference to `operator new(unsigned int)@GLIBCXX_3.4'
/usr/lib/gcc/i686-pc-linux-gnu/3.4.5/../../../libGLU.so: undefined reference to `__cxa_pure_virtual@CXXABI_1.3'
/usr/lib/gcc/i686-pc-linux-gnu/3.4.5/../../../libGLU.so: undefined reference to `vtable for __cxxabiv1::__si_class_type_info@CXXABI_1.3'
/usr/lib/gcc/i686-pc-linux-gnu/3.4.5/../../../libGLU.so: undefined reference to `vtable for __cxxabiv1::__class_type_info@CXXABI_1.3'
/usr/lib/gcc/i686-pc-linux-gnu/3.4.5/../../../libGLU.so: undefined reference to `__gxx_personality_v0@CXXABI_1.3'
collect2: ld a retourné 1 code d'état d'exécution
make: *** [glxinfo] Erreur 1

!!! ERROR: x11-apps/mesa-progs-6.4.2 failed.
Call stack:
 ebuild.sh, line 1526:   Called dyn_compile
 ebuild.sh, line 923:   Called src_compile
 mesa-progs-6.4.2.ebuild, line 68:   Called die

!!! glxinfo failed
!!! If you need support, post the topmost build error, and the call stack if relevant.

REOPEN the bug, I can't do it...

chtituxx wormux-0.7 # emerge --info
Portage 2.1_pre7-r4 (default-linux/x86/2006.0, gcc-3.4.5, glibc-2.3.5-r2, 2.6.17-rc1 i686)
=================================================================
System uname: 2.6.17-rc1 i686 Intel(R) Pentium(R) 4 CPU 1500MHz
Gentoo Base System version 1.6.14
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
dev-lang/python:     2.3.5-r2, 2.4.2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium4 -fomit-frame-pointer -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.3/env /usr/kde/3.3/share/config /usr/kde/3.3/shutdown /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/ /var/bind /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/eselect/compiler /etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=pentium4 -fomit-frame-pointer -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="ftp://ftp.free.fr/pub/Distributions_Linux/Gentoo ftp://ftp.belnet.be/mirror/rsync.gentoo.org/gentoo/ ftp://mir.zyrianes.net/gentoo-distfiles/"
LANG="fr_FR@euro"
LC_ALL="fr_FR@euro"
LINGUAS="fr"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X a52 aac aalib activefilter alsa apache2 apm arts atm avi bidi bitmap-fonts cdda cddb cdio cdr cgi cli crypt ctype cups dba dbb dhcp divx4linux dri dts dvb dvd dvdread eds emboss encode esd expat fastbuild fbcon ffmpeg flac foomaticdb force-cgi-redirect fortran freetype ftp gd ggi gif gimp gimpprint gnutls gpm gstreamer gtk gtk2 hal httpd imap imlib ipv6 isdnlog java joystick jpeg lbcaca ldap libcaca libg++ libwww lirc live mad matroska mbox memlimit mikmod motif mozsvg mp3 mpeg mppe-mppc mysql ncurses nls nptl ogg opengl pam pcre pdflib perl php png posix pppd python qt quicktime radius readline real sdl session simplexml soap sockets spell spl sqlite ssl stream svg svga tcpd tetex theora threads tokenizer truetype truetype-fonts type1-fonts udev unicode v4l vcd vlm vorbis wxwindows xml xmms xosd xsl xv zlib elibc_glibc input_devices_keyboard input_devices_mouse kernel_linux linguas_fr userland_GNU video_cards_nvidia video_cards_vesa video_cards_vga video_cards_nv!
 video_cards_fbdev"
Unset:  ASFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LDFLAGS, PORTDIR_OVERLAY




Comment 25


Théophile Helleboid





          2006-04-05 13:43:49 UTC
        

If that can help ...

 # ldd /usr/lib/gcc/i686-pc-linux-gnu/3.4.5/../../../libGLU.so
        linux-gate.so.1 =>  (0xffffe000)
        libGL.so.1 => //usr/lib/opengl/xorg-x11/lib/libGL.so.1 (0xb7e85000)
        libstdc++.so.6 => /usr/lib/gcc/i686-pc-linux-gnu/3.4.5/libstdc++.so.6 (0xb7dbb000)
        libm.so.6 => /lib/libm.so.6 (0xb7d99000)
        libgcc_s.so.1 => /usr/lib/gcc/i686-pc-linux-gnu/3.4.5/libgcc_s.so.1 (0xb7d90000)
        libc.so.6 => /lib/libc.so.6 (0xb7c7b000)
        libX11.so.6 => /usr/lib/libX11.so.6 (0xb7b8d000)
        libXext.so.6 => /usr/lib/libXext.so.6 (0xb7b7e000)
        libXxf86vm.so.1 => /usr/lib/libXxf86vm.so.1 (0xb7b79000)
        libpthread.so.0 => /lib/libpthread.so.0 (0xb7b27000)
        libdl.so.2 => /lib/libdl.so.2 (0xb7b23000)
        libdrm.so.2 => /usr/lib/libdrm.so.2 (0xb7b1c000)
        /lib/ld-linux.so.2 (0x80000000)
        libXau.so.6 => /usr/lib/libXau.so.6 (0xb7b18000)
        libXdmcp.so.6 => /usr/lib/libXdmcp.so.6 (0xb7b13000)





Comment 26


Joshua Baergen (RETIRED)






          2006-04-05 20:48:34 UTC
        

(In reply to comment #23)
> REOPEN the bug, I can't do it...

Done.




Comment 27


Théophile Helleboid





          2006-04-06 09:31:07 UTC
        

The lines before the error : 
chtituxx ~ # emerge -av xorg-x11

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild  N    ] x11-apps/mesa-progs-6.4.2  0 kB
[ebuild  N    ] x11-drivers/xf86-video-nv-1.0.2.0  USE="-debug" 270 kB
[ebuild  N    ] x11-apps/xmodmap-1.0.0  USE="-debug" 87 kB
[ebuild  N    ] x11-libs/libXv-1.0.1  USE="-debug" 219 kB
[ebuild  N    ] x11-base/xorg-x11-7.0-r1  USE="-3dfx" INPUT_DEVICES="keyboard mo
use -acecad -aiptek -calcomp -citron -digitaledge -dmc -dynapro -elo2300 -elogra
phics -evdev -fpit -hyperpen -jamstudio -joystick -magellan -magictouch -microto
uch -mutouch -palmax -penmount -spaceorb -summa -synaptics -tek4957 -ur98 -vmmou
se -void -wacom" VIDEO_CARDS="fbdev nv nvidia vesa vga -apm -ark -ati -chips -ci
rrus -cyrix -dummy -fglrx -glint -i128 -i740 -i810 -imstt -mga -neomagic -nsc -r
endition -s3 -s3virge -savage -siliconmotion -sis -sisusb -tdfx -tga -trident -t
seng -v4l -via -vmware -voodoo" 0 kB

Total size of downloads: 577 kB

Do you want me to merge these packages? [Yes/No]




Comment 28


Donnie Berkholz (RETIRED)






          2006-04-06 09:53:06 UTC
        

Th




Comment 29


Donnie Berkholz (RETIRED)






          2006-04-06 09:53:06 UTC
        

Théophile reported the same problem with other packages in an email to me, so this is not an X issue.




Comment 30


Théophile Helleboid





          2006-04-07 09:06:46 UTC
        

Error with arts :
[ebuild     U ] kde-base/arts-3.5.2 [3.5.1] USE="alsa arts esd mp3 vorbis -artswrappersuid -debug -jack* -kdeenablefinal -nas -xinerama" 0 kB 


Making all in gslpp
make[3]: Entering directory `/var/tmp/portage/arts-3.5.2/work/arts-1.5.2/flow/gslpp'
/bin/sh ../../libtool --silent --tag=CXX --mode=compile i686-pc-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I. -I../.. -I../../mcop -I../../artsc -I../../flow -I../../flow/gsl -I../../flow -I../../mcop -I../../mcop -I../.. -I/usr/kde/3.5/include -I/usr/qt/3/include -I.  -I../../libltdl  -DQT_THREAD_SUPPORT  -D_REENTRANT -pthread -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include    -Wno-long-long -Wundef -ansi -D_XOPEN_SOURCE=500 -D_BSD_SOURCE -Wcast-align -Wconversion -Wchar-subscripts -Wall -W -Wpointe
r-arith -DNDEBUG -DNO_DEBUG -O2 -O2 -march=pentium4 -fomit-frame-pointer -pipe -Wformat-security -Wmissing-format-attribute -Wno-non-virtual-dtor -fno-exceptions -fno-check-new -fno-common  -ftemplate-depth-99  -c -o datahandle.lo datahandle.cpp
/bin/sh ../../libtool --silent --tag=CXX --mode=link i686-pc-linux-gnu-g++  -Wno-long-long -Wundef -ansi -D_XOPEN_SOURCE=500 -D_BSD_SOURCE -Wcast-align -Wconversion -Wchar-subscripts -Wall -W -Wpointer-arith -DNDEBUG -DNO_DEBUG -O2 -O2 -march=pentium4 -fomit-frame-pointer -pipe -Wformat-security -Wmissing-format-attribute -Wno-non-virtual-dtor -fno-exceptions -fno-check-new -fno-common  -ftemplate-depth-99    -o libgslpp.la   datahandle.lo  
make[3]: Leaving directory `/var/tmp/portage/arts-3.5.2/work/arts-1.5.2/flow/gslpp'
make[3]: Entering directory `/var/tmp/portage/arts-3.5.2/work/arts-1.5.2/flow'
../mcopidl/mcopidl -t ../flow/artsflow.idl
../mcopidl/mcopidl -t ../flow/artsflow.idl
/var/tmp/portage/arts-3.5.2/work/arts-1.5.2/mcopidl/.libs/lt-mcopidl: /usr/lib/libstdc++.so.6: version `GLIBCXX_3.4' not found (required by /var/tmp/portage/arts-3.5.2/work/arts-1.5.2/mcopidl/.libs/lt-mcopidl)
/var/tmp/portage/arts-3.5.2/work/arts-1.5.2/mcopidl/.libs/lt-mcopidl: /usr/lib/libstdc++.so.6: version `CXXABI_1.3' not found (required by /var/tmp/portage/arts-3.5.2/work/arts-1.5.2/mcopidl/../mcop/.libs/libmcop.so.1)
/var/tmp/portage/arts-3.5.2/work/arts-1.5.2/mcopidl/.libs/lt-mcopidl: /usr/lib/libstdc++.so.6: version `GLIBCXX_3.4' not found (required by /var/tmp/portage/arts-3.5.2/work/arts-1.5.2/mcopidl/../mcop/.libs/libmcop.so.1)
make[3]: *** [artsflow.cc] Erreur 1
make[3]: *** Attente des t




Comment 31


Théophile Helleboid





          2006-04-07 09:06:46 UTC
        

Error with arts :
[ebuild     U ] kde-base/arts-3.5.2 [3.5.1] USE="alsa arts esd mp3 vorbis -artswrappersuid -debug -jack* -kdeenablefinal -nas -xinerama" 0 kB 


Making all in gslpp
make[3]: Entering directory `/var/tmp/portage/arts-3.5.2/work/arts-1.5.2/flow/gslpp'
/bin/sh ../../libtool --silent --tag=CXX --mode=compile i686-pc-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I. -I../.. -I../../mcop -I../../artsc -I../../flow -I../../flow/gsl -I../../flow -I../../mcop -I../../mcop -I../.. -I/usr/kde/3.5/include -I/usr/qt/3/include -I.  -I../../libltdl  -DQT_THREAD_SUPPORT  -D_REENTRANT -pthread -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include    -Wno-long-long -Wundef -ansi -D_XOPEN_SOURCE=500 -D_BSD_SOURCE -Wcast-align -Wconversion -Wchar-subscripts -Wall -W -Wpointe
r-arith -DNDEBUG -DNO_DEBUG -O2 -O2 -march=pentium4 -fomit-frame-pointer -pipe -Wformat-security -Wmissing-format-attribute -Wno-non-virtual-dtor -fno-exceptions -fno-check-new -fno-common  -ftemplate-depth-99  -c -o datahandle.lo datahandle.cpp
/bin/sh ../../libtool --silent --tag=CXX --mode=link i686-pc-linux-gnu-g++  -Wno-long-long -Wundef -ansi -D_XOPEN_SOURCE=500 -D_BSD_SOURCE -Wcast-align -Wconversion -Wchar-subscripts -Wall -W -Wpointer-arith -DNDEBUG -DNO_DEBUG -O2 -O2 -march=pentium4 -fomit-frame-pointer -pipe -Wformat-security -Wmissing-format-attribute -Wno-non-virtual-dtor -fno-exceptions -fno-check-new -fno-common  -ftemplate-depth-99    -o libgslpp.la   datahandle.lo  
make[3]: Leaving directory `/var/tmp/portage/arts-3.5.2/work/arts-1.5.2/flow/gslpp'
make[3]: Entering directory `/var/tmp/portage/arts-3.5.2/work/arts-1.5.2/flow'
../mcopidl/mcopidl -t ../flow/artsflow.idl
../mcopidl/mcopidl -t ../flow/artsflow.idl
/var/tmp/portage/arts-3.5.2/work/arts-1.5.2/mcopidl/.libs/lt-mcopidl: /usr/lib/libstdc++.so.6: version `GLIBCXX_3.4' not found (required by /var/tmp/portage/arts-3.5.2/work/arts-1.5.2/mcopidl/.libs/lt-mcopidl)
/var/tmp/portage/arts-3.5.2/work/arts-1.5.2/mcopidl/.libs/lt-mcopidl: /usr/lib/libstdc++.so.6: version `CXXABI_1.3' not found (required by /var/tmp/portage/arts-3.5.2/work/arts-1.5.2/mcopidl/../mcop/.libs/libmcop.so.1)
/var/tmp/portage/arts-3.5.2/work/arts-1.5.2/mcopidl/.libs/lt-mcopidl: /usr/lib/libstdc++.so.6: version `GLIBCXX_3.4' not found (required by /var/tmp/portage/arts-3.5.2/work/arts-1.5.2/mcopidl/../mcop/.libs/libmcop.so.1)
make[3]: *** [artsflow.cc] Erreur 1
make[3]: *** Attente des tâches non terminées....
/var/tmp/portage/arts-3.5.2/work/arts-1.5.2/mcopidl/.libs/lt-mcopidl: /usr/lib/libstdc++.so.6: version `GLIBCXX_3.4' not found (required by /var/tmp/portage/arts-3.5.2/work/arts-1.5.2/mcopidl/.libs/lt-mcopidl)
/var/tmp/portage/arts-3.5.2/work/arts-1.5.2/mcopidl/.libs/lt-mcopidl: /usr/lib/libstdc++.so.6: version `CXXABI_1.3' not found (required by /var/tmp/portage/arts-3.5.2/work/arts-1.5.2/mcopidl/../mcop/.libs/libmcop.so.1)
/var/tmp/portage/arts-3.5.2/work/arts-1.5.2/mcopidl/.libs/lt-mcopidl: /usr/lib/libstdc++.so.6: version `GLIBCXX_3.4' not found (required by /var/tmp/portage/arts-3.5.2/work/arts-1.5.2/mcopidl/../mcop/.libs/libmcop.so.1)
make[3]: *** [artsflow.h] Erreur 1
make[3]: Leaving directory `/var/tmp/portage/arts-3.5.2/work/arts-1.5.2/flow'
make[2]: *** [all-recursive] Erreur 1
make[2]: Leaving directory `/var/tmp/portage/arts-3.5.2/work/arts-1.5.2/flow'
make[1]: *** [all-recursive] Erreur 1
make[1]: Leaving directory `/var/tmp/portage/arts-3.5.2/work/arts-1.5.2'
make: *** [all] Erreur 2

!!! ERROR: kde-base/arts-3.5.2 failed.
Call stack:
  ebuild.sh, line 1526:   Called dyn_compile
  ebuild.sh, line 923:   Called src_compile
  arts-3.5.2.ebuild, line 67:   Called kde_src_compile
  kde.eclass, line 113:   Called kde_src_compile 'all'
  kde.eclass, line 230:   Called kde_src_compile 'myconf' 'configure' 'make'
  kde.eclass, line 226:   Called die

chtituxx flow # ldd /var/tmp/portage/arts-3.5.2/work/arts-1.5.2/mcopidl/.libs/lt-mcopidl
        linux-gate.so.1 =>  (0xffffe000)
        libmcop.so.1 => /var/tmp/portage/arts-3.5.2/work/arts-1.5.2/mcop/.libs/libmcop.so.1 (0xb7e97000)
        libgmodule-2.0.so.0 => /usr/lib/libgmodule-2.0.so.0 (0xb7e72000)
        libgthread-2.0.so.0 => /usr/lib/libgthread-2.0.so.0 (0xb7e6e000)
        libglib-2.0.so.0 => /usr/lib/libglib-2.0.so.0 (0xb7def000)
        libdl.so.2 => /lib/libdl.so.2 (0xb7deb000)
        libstdc++.so.6 => /usr/lib/gcc/i686-pc-linux-gnu/3.4.5/libstdc++.so.6 (0xb7d21000)
        libgcc_s.so.1 => /usr/lib/gcc/i686-pc-linux-gnu/3.4.5/libgcc_s.so.1 (0xb7d17000)
        libpthread.so.0 => /lib/libpthread.so.0 (0xb7cc5000)
        libm.so.6 => /lib/libm.so.6 (0xb7ca3000)
        libc.so.6 => /lib/libc.so.6 (0xb7b8e000)
        /lib/ld-linux.so.2 (0xb7f46000)





Comment 32


Théophile Helleboid





          2006-04-07 10:56:09 UTC
        

Great, I think I have succes to resolving that bug ...
try
# ls -l /usr/lib/libstdc++.so.6
If the link follow /usr/lib*libstdc++.so.2.9 do :
# rm /usr/lib/libstdc++.so.6
# ln -s /usr/lib/gcc/i686-pc-linux-gnu/3.4.5/libstdc++.so.6 /usr/lib/libstdc++.so.6

retry 
# emerge xorg-x11
(or arts)




Comment 33


SpanKY






          2006-04-20 20:52:34 UTC
        

you shouldnt have any libstdc++.so files in /usr/lib*/

if you do, remove then, and then try running `ldconfig` and then try emerging




Comment 34


Freyr Gunnar Ólafsson





          2006-04-21 04:51:28 UTC
        

(In reply to comment #30)
> you shouldnt have any libstdc++.so files in /usr/lib*/
> 
> if you do, remove then, and then try running `ldconfig` and then try emerging
> 
I know that this is very inapropriate here, but I have to thank you profusedly. With this single tidbit of onformation you have removed a very longstanding problem that I never understood. Escpecially since some of the ebuilds would compile but others would not. 
This should definately be put into some faq or other. I think this happenes if one has used the same gentoo installation for a very long time. How else would those files get there?

Anyway, sorry for posting this here.





Comment 35


SpanKY






          2006-04-22 00:03:50 UTC
        

you can run `qfile /usr/lib/libstdc++.so` and find out if a package installed that lib (and if so, tell me who what package did it so we can fix it)




Comment 36


SpanKY






          2006-04-24 23:07:39 UTC
        

seems to be sorted though









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

