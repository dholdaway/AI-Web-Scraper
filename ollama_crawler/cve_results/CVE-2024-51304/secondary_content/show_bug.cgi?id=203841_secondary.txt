Title: 203841 – default settings with some terminals make ncurses apps unreadable
URL: https://bugs.gentoo.org/show_bug.cgi?id=203841

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 203841
default settings with some terminals make ncurses apps unreadable
Last modified: 2008-01-02 10:07:14 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 203841 
      - default settings with some terminals make ncurses apps unreadable


Summary:
default settings with some terminals make ncurses apps unreadable
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Library

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-12-31 00:58 UTC by Antek Grzymała (antoszka)





      Modified:
    
2008-01-02 10:07 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Antek Grzymała (antoszka)





          2007-12-31 00:58:15 UTC
        

Routine update to sys-libs/ncurses-5.6-r2 (from 5.6-r1) breaks mutt, irssi in the way that ordinary text (mail bodies, mail index entries, irc messages), the stuff that is usually white on black is invisible (seems to be black on black).

Reverting back to 5.6-r1 fixes the problem.

Reproducible: Always

Steps to Reproduce:




Comment 1


Jakub Moc (RETIRED)






          2007-12-31 01:05:57 UTC
        

WFM. emerge --info -v output, please.





Comment 2


Antek Grzymała (antoszka)





          2007-12-31 01:08:25 UTC
        

Just had a mid-air collision with your comment trying to paste this:

Portage 2.1.3.19 (default-linux/x86/2006.1/desktop, gcc-4.1.2, glibc-2.6.1-r0, 2.6.23.12 i686)
=================================================================
System uname: 2.6.23.12 i686 Genuine Intel(R) CPU T2400 @ 1.83GHz
Timestamp of tree: Sun, 30 Dec 2007 20:46:01 +0000
app-shells/bash:     3.2_p17-r1
dev-java/java-config: 1.3.7, 2.0.33-r1
dev-lang/python:     2.4.4-r6
dev-python/pycrypto: 2.0.1-r6
sys-apps/baselayout: 2.0.0_rc6-r1
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.61-r1
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.18-r1
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.24
virtual/os-headers:  2.6.23-r2
ACCEPT_KEYWORDS="x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=prescott -O2 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/config /var/bind"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/gentoo-release /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-march=prescott -O2 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
EMERGE_DEFAULT_OPTS="--nospinner"
FEATURES="ccache distlocks metadata-transfer parallel-fetch sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://linux.rz.ruhr-uni-bochum.de/download/gentoo-mirror/ http://ftp.snt.utwente.nl/pub/os/linux/gentoo ftp://gentoo.inode.at/source/ http://gentoo.inode.at/ ftp://ftp.easynet.nl/mirror/gentoo/"
LC_ALL="en_GB.UTF-8"
LINGUAS="en en_GB pl"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_EXTRA_OPTS="--progress"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portage/local/layman/sunrise /usr/portage/local/layman/berkano /usr/local/overlays/antoni"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="16bit 7zip X a52 aac acl acpi activefilter afs alsa amr apache2 ares atm bacula-console bacula-split-init bash-completion berkdb bindist bitmap-fonts bluetooth bootspla bootsplash browserplugin bzip2 bzlib cairo calendar caps cdparanoia cdr cjk cli commercial cracklib crypt cups curl curlwrappers dba dbus dri dv dvd dvdr dynagraph eap-tls emboss encode evo exif faad fam fastbuild figlet flac fluidsynth foomaticdb fortran gcj gd gdbm gif gimp gimpprint glitz glut gpgme gpm gstreamer gtk hal iconv idn imagemagick imap inkjar inquisitio iproute2 ipv6 ipw3945 irda irmc isdnlog iso14755 ithreads iwl3945 jabber jpeg kqemu ladcca ladspa lcms libgda libsamplerate linuxkeys logrotate mad maildir mbox midi mikmod mmx mng motif mozbranding moznocompose moznoirc moznomail mozsvg mp3 mpeg mudflap musepack ncurses net nethack nls no-old-linux nodrm nojython nosrc nptl nptlonly nsplugin offensive ogg openct opengl openmp operanom2 pam pcmcia pcre pcsc-lite pdf perl plotutils png pnp ppds pppd python qt3 quicktime radius readline reflection rtc ruby samba sdl session slang slp smartcard smime smp sndfile sox spell spl sse sse2 ssl svg tabs tcl tcltk tcpd theora threads tidy tiff timidity tk tordns truetype truetype-fonts trusted type1-fonts unicode urandom usb userlocales utf8 v4l v4l2 vim-syntax vorbis wifi win32codecs wmf x11vnc x86 xattr xetex xface xgetdefault xorg xrandr xv zlib" ALSA_CARDS="hda-intel,usb-audio,vxpocket,virmidi" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="evdev keyboard mouse synaptics" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en en_GB pl" USERLAND="GNU" VIDEO_CARDS="radeon fglrx vesa"
Unset:  CPPFLAGS, CTARGET, INSTALL_MASK, LANG, LDFLAGS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS






Comment 3


Jakub Moc (RETIRED)






          2007-12-31 01:48:16 UTC
        

Well, the -v thing there is important, showing stuff like TERM ;)




Comment 4


SpanKY






          2007-12-31 02:42:21 UTC
        

sounds like misconfiguration on your system

5.6-r2 enabled support for colorfgbg which some terminals enable via $COLORFGBG




Comment 5


Antek Grzymała (antoszka)





          2007-12-31 08:10:38 UTC
        

(In reply to comment #3)
> Well, the -v thing there is important, showing stuff like TERM ;)

Yeah, sorry:

Portage 2.1.3.19 (default-linux/x86/2006.1/desktop, gcc-4.1.2, glibc-2.6.1-r0, 2.6.23.12 i686)
=================================================================
System uname: 2.6.23.12 i686 Genuine Intel(R) CPU T2400 @ 1.83GHz
Timestamp of tree: Sun, 30 Dec 2007 20:46:01 +0000
app-shells/bash:     3.2_p17-r1
dev-java/java-config: 1.3.7, 2.0.33-r1
dev-lang/python:     2.4.4-r6
dev-python/pycrypto: 2.0.1-r6
sys-apps/baselayout: 2.0.0_rc6-r1
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.61-r1
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.18-r1
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.24
virtual/os-headers:  2.6.23-r2
ACCEPT_KEYWORDS="x86"
ACCEPT_LICENSE="*"
ACCEPT_LICENSES="*"
ALSA_CARDS="hda-intel,usb-audio,vxpocket,virmidi"
ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol"
APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias"
ARCH="x86"
AUTOCLEAN="yes"
AWT_TOOLKIT="MToolkit"
BROWSER="opera -newpage"
CBUILD="i686-pc-linux-gnu"
CCACHE_SIZE="2G"
CFLAGS="-march=prescott -O2 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CLASSPATH="."
CLEAN_DELAY="5"
COLORFGBG="default;default;0"
COLORTERM="rxvt-xpm"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/config /var/bind"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/gentoo-release /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c /etc/udev/rules.d"
CVS_RSH="ssh"
CXXFLAGS="-march=prescott -O2 -pipe -fomit-frame-pointer"
DISPLAY=":0.0"
DISTDIR="/usr/portage/distfiles"
EDITOR="/usr/bin/vim"
ELIBC="glibc"
EMERGE_DEFAULT_OPTS="--nospinner"
EMERGE_WARNING_DELAY="10"
FEATURES="ccache distlocks metadata-transfer parallel-fetch sandbox sfperms strict unmerge-orphans userfetch"
FETCHCOMMAND="/usr/bin/wget -t 5 -T 8 --passive-ftp -O ${DISTDIR}/${FILE} ${URI}"
GCC_SPECS=""
GDK_USE_XFT="1"
GEM_HOME="/home/antoni/ruby/gems"
GEM_PATH="/home/antoni/ruby/gems"
GENTOO_MIRRORS="http://linux.rz.ruhr-uni-bochum.de/download/gentoo-mirror/ http://ftp.snt.utwente.nl/pub/os/linux/gentoo ftp://gentoo.inode.at/source/ http://gentoo.inode.at/ ftp://ftp.easynet.nl/mirror/gentoo/"
GPG_AGENT_INFO="/tmp/gpg-9gZ9bS/S.gpg-agent:5419:1"
HISTCONTROL="ignoreboth,erasedups"
HISTFILESIZE="65536"
HISTSIZE="65536"
HOME="/home/antoni"
INFOPATH="/usr/share/info:/usr/share/binutils-data/i686-pc-linux-gnu/2.18/info:/usr/share/gcc-data/i686-pc-linux-gnu/4.1.2/info:/usr/share/info/emacs-22"
INPUT_DEVICES="evdev keyboard mouse synaptics"
INSTALLMAN1DIR="/home/antoni/.perl/man/man1"
INSTALLMAN3DIR="/home/antoni/.perl/man/man3"
JAVAC="/etc/java-config-2/current-system-vm/bin/javac"
JAVA_HOME="/etc/java-config-2/current-system-vm"
JDK_HOME="/etc/java-config-2/current-system-vm"
KDEDIRS="/usr:/usr/local:/usr/kde/3.5"
KERNEL="linux"
LADSPA_PATH="/usr/lib/ladspa"
LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text"
LC_ALL="en_GB.UTF-8"
LESS="-R -M --shift 5"
LESSOPEN="|lesspipe.sh %s"
LIB="/home/antoni/.perl"
LIBGL_DRIVERS_PATH="/usr/lib/dri"
LINGUAS="en en_GB pl"
LOGNAME="root"
LS_COLORS="no=00:fi=00:di=01;34:ln=01;36:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=01;05;37;41:mi=01;05;37;41:su=37;41:sg=30;43:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arj=01;31:*.taz=01;31:*.lzh=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.gz=01;31:*.bz2=01;31:*.bz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.rar=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.jpg=01;35:*.jpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.pdf=00;32:*.ps=00;32:*.txt=00;32:*.patch=00;32:*.diff=00;32:*.log=00;32:*.tex=00;32:*.doc=00;32:*.aac=00;36:*.au=00;36:*.flac=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:"
MAKEOPTS="-j3"
MANPATH="/etc/java-config-2/current-system-vm/man:/usr/local/share/man:/usr/share/man:/usr/share/binutils-data/i686-pc-linux-gnu/2.18/man:/usr/share/gcc-data/i686-pc-linux-gnu/4.1.2/man:${MANPATH}:/opt/sun-jdk-1.4.2.10/man:/etc/java-config/system-vm/man/:/usr/kde/3.5/share/man:/usr/qt/3/doc/man:/opt/opera/share/man:/home/antoni/.perl/man"
NOCOLOR="true"
OPENGL_PROFILE="ati"
OPERA_NUM_XSHM="0"
PAGER="/usr/bin/less"
PATH="/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:/opt/bin:/opt/sun-jdk-1.4.2.10/bin:/opt/sun-jdk-1.4.2.10/jre/bin:/opt/sun-jdk-1.4.2.10/jre/javaws:/usr/kde/3.5/sbin:/usr/kde/3.5/bin:/usr/qt/3/bin:/opt/vmware/server/bin"
PERLIO="stdio"
PKGDIR="/usr/portage/packages"
PKG_CONFIG_PATH="/usr/qt/3/lib/pkgconfig"
PORTAGE_ARCHLIST="ppc s390 amd64 x86 ppc64 x86-fbsd m68k arm sparc sh mips ia64 alpha ppc-macos hppa sparc-fbsd"
PORTAGE_BINHOST_CHUNKSIZE="3000"
PORTAGE_BIN_PATH="/usr/lib/portage/bin"
PORTAGE_CONFIGROOT="/"
PORTAGE_DEBUG="0"
PORTAGE_DEPCACHEDIR="/var/cache/edb/dep"
PORTAGE_ELOG_CLASSES="log warn error"
PORTAGE_ELOG_MAILFROM="portage@localhost"
PORTAGE_ELOG_MAILSUBJECT="[portage] ebuild log for ${PACKAGE} on ${HOST}"
PORTAGE_ELOG_MAILURI="root"
PORTAGE_ELOG_SYSTEM="save_summary echo"
PORTAGE_GID="250"
PORTAGE_INST_GID="0"
PORTAGE_INST_UID="0"
PORTAGE_NICENESS="3"
PORTAGE_PYM_PATH="/usr/lib/portage/pym"
PORTAGE_RSYNC_EXTRA_OPTS="--progress"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_RSYNC_RETRIES="3"
PORTAGE_TMPDIR="/var/tmp"
PORTAGE_WORKDIR_MODE="0700"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portage/local/layman/sunrise /usr/portage/local/layman/berkano /usr/local/overlays/antoni"
PORT_ENOTICE_DIR="/var/enotice"
PREFIX="/home/antoni/.perl"
PWD="/home/antoni"
PYTHONPATH="/usr/lib/portage/pym"
QMAKESPEC="linux-g++"
QTDIR="/usr/qt/3"
RESUMECOMMAND="/usr/bin/wget -c -t 5 -T 8 --passive-ftp -O ${DISTDIR}/${FILE} ${URI}"
ROOT="/"
ROOTPATH="/opt/bin:/usr/i686-pc-linux-gnu/gcc-bin/4.1.2:/opt/sun-jdk-1.4.2.10/bin:/opt/sun-jdk-1.4.2.10/jre/bin:/opt/sun-jdk-1.4.2.10/jre/javaws:/usr/kde/3.5/sbin:/usr/kde/3.5/bin:/usr/qt/3/bin"
RPMDIR="/usr/portage/rpm"
SEARCH_DIRS_MASK="/usr/lib/gcc/i686-pc-linux-gnu/4.1.2"
SGML_CATALOG_FILES="/etc/sgml/dsssl-docbook-stylesheets.cat:/etc/sgml/openjade-1.3.2.cat:/etc/sgml/sgml-docbook-3.1.cat:/etc/sgml/sgml-docbook-4.2.cat:/etc/sgml/sgml-docbook-4.4.cat:/etc/sgml/sgml-docbook.cat:/etc/sgml/sgml-ent.cat:/etc/sgml/sgml-lite.cat:/etc/sgml/xml-docbook-4.1.2.cat:/etc/sgml/xml-docbook-4.4.cat"
SHELL="/bin/bash"
SHLVL="2"
SSH_AGENT_PID="5465"
SSH_ASKPASS="/usr/bin/gtk2-ssh-askpass"
SSH_AUTH_SOCK="/tmp/ssh-wGzrQR5464/agent.5464"
STAGE1_USE="nptl nptlonly unicode"
STY="6591.pts-1.lemongrass"
SUDO_COMMAND="/usr/bin/emerge --info -v"
SUDO_GID="100"
SUDO_UID="1000"
SUDO_USER="antoni"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
TERM="screen"
TERMCAP="SC|screen|VT 100/ANSI X3.64 virtual terminal:\
	:DO=\E[%dB:LE=\E[%dD:RI=\E[%dC:UP=\E[%dA:bs:bt=\E[Z:\
	:cd=\E[J:ce=\E[K:cl=\E[H\E[J:cm=\E[%i%d;%dH:ct=\E[3g:\
	:do=^J:nd=\E[C:pt:rc=\E8:rs=\Ec:sc=\E7:st=\EH:up=\EM:\
	:le=^H:bl=^G:cr=^M:it#8:ho=\E[H:nw=\EE:ta=^I:is=\E)0:\
	:li#51:co#111:am:xn:xv:LP:sr=\EM:al=\E[L:AL=\E[%dL:\
	:cs=\E[%i%d;%dr:dl=\E[M:DL=\E[%dM:dc=\E[P:DC=\E[%dP:\
	:im=\E[4h:ei=\E[4l:mi:IC=\E[%d@:ks=\E[?1h\E=:\
	:ke=\E[?1l\E>:vi=\E[?25l:ve=\E[34h\E[?25h:vs=\E[34l:\
	:ti=\E[?1049h:te=\E[?1049l:us=\E[4m:ue=\E[24m:so=\E[3m:\
	:se=\E[23m:mb=\E[5m:md=\E[1m:mr=\E[7m:me=\E[m:ms:\
	:Co#8:pa#64:AF=\E[3%dm:AB=\E[4%dm:op=\E[39;49m:AX:\
	:vb=\Eg:G0:as=\E(0:ae=\E(B:\
	:ac=\140\140aaffggjjkkllmmnnooppqqrrssttuuvvwwxxyyzz{{||}}~~..--++,,hhII00:\
	:po=\E[5i:pf=\E[4i:k0=\E[10~:k1=\EOP:k2=\EOQ:k3=\EOR:\
	:k4=\EOS:k5=\E[15~:k6=\E[17~:k7=\E[18~:k8=\E[19~:\
	:k9=\E[20~:k;=\E[21~:F1=\E[23~:F2=\E[24~:F3=\E[25~:\
	:F4=\E[26~:F5=\E[28~:F6=\E[29~:F7=\E[31~:F8=\E[32~:\
	:F9=\E[33~:FA=\E[34~:kb=:K1=\EOw:K2=\EOu:K3=\EOy:\
	:K4=\EOq:K5=\EOs:kB=\E[Z:kE=\E[8\^:*4=\E[3$:*7=\E[8$:\
	:#2=\E[7$:#3=\E2$:#4=\E[d:%c=\E[6$:%e=\E[5$:%i=\E[c:\
	:kh=\E[1~:@1=\E[1~:kH=\E[4~:@7=\E[4~:kN=\E[6~:kP=\E[5~:\
	:kI=\E[2~:kD=\E[3~:ku=\EOA:kd=\EOB:kr=\EOC:kl=\EOD:km:"
USE="16bit 7zip X a52 aac acl acpi activefilter afs alsa amr apache2 ares atm bacula-console bacula-split-init bash-completion berkdb bindist bitmap-fonts bluetooth bootspla bootsplash browserplugin bzip2 bzlib cairo calendar caps cdparanoia cdr cjk cli commercial cracklib crypt cups curl curlwrappers dba dbus dri dv dvd dvdr dynagraph eap-tls emboss encode evo exif faad fam fastbuild figlet flac fluidsynth foomaticdb fortran gcj gd gdbm gif gimp gimpprint glitz glut gpgme gpm gstreamer gtk hal iconv idn imagemagick imap inkjar inquisitio iproute2 ipv6 ipw3945 irda irmc isdnlog iso14755 ithreads iwl3945 jabber jpeg kqemu ladcca ladspa lcms libgda libsamplerate linuxkeys logrotate mad maildir mbox midi mikmod mmx mng motif mozbranding moznocompose moznoirc moznomail mozsvg mp3 mpeg mudflap musepack ncurses net nethack nls no-old-linux nodrm nojython nosrc nptl nptlonly nsplugin offensive ogg openct opengl openmp operanom2 pam pcmcia pcre pcsc-lite pdf perl plotutils png pnp ppds pppd python qt3 quicktime radius readline reflection rtc ruby samba sdl session slang slp smartcard smime smp sndfile sox spell spl sse sse2 ssl svg tabs tcl tcltk tcpd theora threads tidy tiff timidity tk tordns truetype truetype-fonts trusted type1-fonts unicode urandom usb userlocales utf8 v4l v4l2 vim-syntax vorbis wifi win32codecs wmf x11vnc x86 xattr xetex xface xgetdefault xorg xrandr xv zlib" ALSA_CARDS="hda-intel,usb-audio,vxpocket,virmidi" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="evdev keyboard mouse synaptics" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en en_GB pl" USERLAND="GNU" VIDEO_CARDS="radeon fglrx vesa"
USER="root"
USERLAND="GNU"
USE_EXPAND="ALSA_CARDS ALSA_PCM_PLUGINS APACHE2_MODULES APACHE2_MPMS CAMERAS CROSSCOMPILE_OPTS DVB_CARDS ELIBC FCDSL_CARDS FOO2ZJS_DEVICES FRITZCAPI_CARDS INPUT_DEVICES KERNEL LCD_DEVICES LINGUAS LIRC_DEVICES MISDN_CARDS USERLAND VIDEO_CARDS"
USE_EXPAND_HIDDEN="CROSSCOMPILE_OPTS ELIBC KERNEL USERLAND"
USE_ORDER="env:pkg:conf:defaults:pkginternal:env.d"
VIDEO_CARDS="radeon fglrx vesa"
VISUAL="/usr/bin/vim"
WINDOW="0"
WINDOWID="14680073"
WINDOWPATH="7"
XARGS="xargs -r"
XDG_DATA_DIRS="/usr/share:/usr/kde/3.5/share:/usr/local/share"
_="/usr/bin/sudo"





Comment 6


Antek Grzymała (antoszka)





          2007-12-31 12:26:21 UTC
        

(In reply to comment #4)

> sounds like misconfiguration on your system
> 
> 5.6-r2 enabled support for colorfgbg which some terminals enable via $COLORFGBG

Yeah, unsetting this variable restores original behaviour in mutt and irssi, still I didn't manage to trace, where I inherit this variable from (it has a value of "default;default;0", whatever that means).




Comment 7


Antek Grzymała (antoszka)





          2007-12-31 16:14:27 UTC
        

Why is there no explanation to this resolution? I never set this variable anywhere manually, so it comes from my Gentoo system, so it might just as well affect other people. Please be at least kind enough to rule this possibility out.




Comment 8


Antek Grzymała (antoszka)





          2007-12-31 16:49:26 UTC
        

Further research shows that this bug is only experienced in rxvt-unicode, when the foreground colour is set to grey as in:

URxvt*foreground: grey

When it's set to:

URxvt*foreground: white

I get grey colours in mutt/irssi (instead of black when fg color is set to grey), but then fg in my terminal is white, which is wrong.

Anyhow, this is a bug, a needs to be fixed.





Comment 9


SpanKY






          2007-12-31 17:51:33 UTC
        

i already stated this is expected behavior ... ncurses merely respects the environment that other things set up.  it certainly does not breaking any applications.

if you want to complain about some terminal, go for it, but it is not ncurses or base-system's problem









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

