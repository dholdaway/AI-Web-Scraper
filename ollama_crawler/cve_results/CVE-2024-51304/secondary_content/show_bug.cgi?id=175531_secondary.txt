Title: 175531 – net-fs/nfs-utils-1.0.12: cannot emerge with USE="nonfsv4"
URL: https://bugs.gentoo.org/show_bug.cgi?id=175531

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 175531
net-fs/nfs-utils-1.0.12: cannot emerge with USE="nonfsv4"
Last modified: 2007-05-19 04:34:02 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 175531 
      - net-fs/nfs-utils-1.0.12: cannot emerge with USE="nonfsv4"


Summary:
net-fs/nfs-utils-1.0.12: cannot emerge with USE="nonfsv4"
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Network Filesystems








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-04-22 09:04 UTC by Lutz Schildt





      Modified:
    
2007-05-19 04:34 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



ls









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Lutz Schildt





          2007-04-22 09:04:50 UTC
        

Hi,
I'm trying to emerge nfs-utils with  "net-fs/nfs-utils nonfsv4" in /etc/portage/package.use. I get the following error:

pentium3 -mcpu=pentium3 -mfpmath=387,sse -pipe   -O2 -mmmx -msse -march=pentium3 -mtune=pentium3 -mcpu=pentium3 -mfpmath=387,sse -pipe -MT gssd-context_lucid.o -MD -MP -MF .deps/gs
sd-context_lucid.Tpo -c -o gssd-context_lucid.o `test -f 'context_lucid.c' || echo './'`context_lucid.c
In file included from gss_util.h:37,
                 from context_lucid.c:44:
write_bytes.h:54: error: expected declaration specifiers or '...' before 'gss_buffer_desc'
write_bytes.h: In function 'write_buffer':
write_bytes.h:56: error: 'arg' undeclared (first use in this function)
write_bytes.h:56: error: (Each undeclared identifier is reported only once
write_bytes.h:56: error: for each function it appears in.)
write_bytes.h: At top level:
write_bytes.h:67: error: expected declaration specifiers or '...' before 'gss_OID_desc'
write_bytes.h: In function 'write_oid':
write_bytes.h:69: error: 'arg' undeclared (first use in this function)
write_bytes.h: At top level:
write_bytes.h:93: error: expected declaration specifiers or '...' before 'gss_buffer_desc'
write_bytes.h: In function 'get_buffer':
write_bytes.h:100: error: 'res' undeclared (first use in this function)
write_bytes.h: At top level:
write_bytes.h:121: error: expected declaration specifiers or '...' before 'gss_buffer_desc'
write_bytes.h: In function 'xdr_get_buffer':
write_bytes.h:128: error: 'res' undeclared (first use in this function)
write_bytes.h: At top level:
write_bytes.h:149: error: expected declaration specifiers or '...' before 'gss_buffer_desc'
write_bytes.h: In function 'xdr_write_buffer':
write_bytes.h:151: error: 'arg' undeclared (first use in this function)
In file included from context_lucid.c:44:
gss_util.h: At top level:
gss_util.h:38: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'gssd_creds'
gss_util.h:42: warning: type defaults to 'int' in declaration of 'gss_OID'
gss_util.h:42: error: expected ';', ',' or ')' before 'mech'
In file included from context_lucid.c:45:
gss_oids.h:36: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'krb5oid'
gss_oids.h:37: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'spkm3oid'
In file included from context_lucid.c:47:
context.h:40: error: expected ')' before 'ctx'
context.h:42: error: expected ')' before 'ctx'
context.h:43: error: expected ')' before 'ctx'
context_lucid.c: In function 'write_lucid_keyblock':
context_lucid.c:63: error: too many arguments to function 'write_buffer'
context_lucid.c: In function 'prepare_krb5_rfc1964_buffer':
context_lucid.c:106: error: 'krb5oid' undeclared (first use in this function)
context_lucid.c:106: error: too many arguments to function 'write_oid'
context_lucid.c: In function 'serialize_krb5_ctx':
context_lucid.c:174: warning: implicit declaration of function 'gss_export_lucid_sec_context'
context_lucid.c:177: warning: implicit declaration of function 'pgsserr'
context_lucid.c:178: error: 'krb5oid' undeclared (first use in this function)
context_lucid.c:201: warning: implicit declaration of function 'gss_free_lucid_sec_context'
make[2]: *** [gssd-context_lucid.o] Error 1
make[2]: *** Waiting for unfinished jobs....
context.c:37:26: error: rpc/auth_gss.h: No such file or directory
make[2]: *** [gssd-context.o] Error 1
make[2]: Leaving directory `/var/tmp/portage/net-fs/nfs-utils-1.0.12/work/nfs-utils-1.0.12/utils/gssd'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/net-fs/nfs-utils-1.0.12/work/nfs-utils-1.0.12/utils'
make: *** [all-recursive] Error 1

!!! ERROR: net-fs/nfs-utils-1.0.12 failed.
Call stack:
  ebuild.sh, line 1614:   Called dyn_compile
  ebuild.sh, line 971:   Called qa_call 'src_compile'
  environment, line 3256:   Called src_compile
  nfs-utils-1.0.12.ebuild, line 50:   Called die

!!! Failed to compile
!!! If you need support, post the topmost build error, and the call stack if relevant.
!!! A complete build log is located at '/var/log/portage/net-fs:nfs-utils-1.0.12:20070422-085003.log'.

emerge --info:

Portage 2.1.2.2 (default-linux/x86/2006.1, gcc-4.1.1, glibc-2.5-r0, 2.6.20-ck1 i686)
=================================================================
System uname: 2.6.20-ck1 i686 Pentium III (Katmai)
Gentoo Base System release 1.12.9
Timestamp of tree: Sun, 22 Apr 2007 01:20:02 +0000
ccache version 2.4 [enabled]
dev-lang/python:     2.4.3-r4
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     2.4-r6
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.61
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.15-r1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.17-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -mmmx -msse -march=pentium3 -mtune=pentium3 -mcpu=pentium3 -mfpmath=387,sse -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc"
CONFIG_PROTECT_MASK="/etc/env.d /etc/gconf /etc/revdep-rebuild /etc/terminfo"
CXXFLAGS="-O2 -mmmx -msse -march=pentium3 -mtune=pentium3 -mcpu=pentium3 -mfpmath=387,sse -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="ccache distlocks metadata-transfer parallel-fetch sandbox sfperms strict"
GENTOO_MIRRORS="http://linux.rz.ruhr-uni-bochum.de/download/gentoo-mirror/ "
LINGUAS="de"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="berkdb bitmap-fonts chroot cli cpudetection cracklib crypt dbus dri fortran gdbm gpm hal iconv ipv6 isdnlog kerberos ldap libg++ linuxthreads-tls midi mmx ncurses nls nptl nptlonly nvidia pam pcre perl ppds pppd python readline reflection samba sasl session spl ssl syslog tcpd truetype-fonts type1-fonts unicode userlocales x86 xorg zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1 emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" ELIBC="glibc" INPUT_DEVICES="mouse keyboard" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="de" USERLAND="GNU" VIDEO_CARDS="apm ark ati chips cirrus cyrix dummy fbdev glint i128 i740 i810 imstt mga neomagic nsc nv rendition s3 s3virge savage siliconmotion sis sisusb tdfx tga trident tseng v4l vesa vga via vmware voodoo"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY

I'm using ck-sources kernel
# uname -a
Linux gentoosrv 2.6.20-ck1 #2 Sun Mar 4 04:21:31 CET 2007 i686 Pentium III (Katmai) GenuineIntel GNU/Linux



Reproducible: Always

Steps to Reproduce:
1. set USE-Flag nonfsv4 for net-fs/nfs-utils
2. nfs-utils fails to emerge
3. without nonfsv4 it works




Comment 1


SpanKY






          2007-05-19 04:34:02 UTC
        

should be fixed in nfs-utils-1.1.0









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

