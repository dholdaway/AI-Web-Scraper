Title: 904151 – app-benchmarks/wrk-4.2.0 - emake failed
URL: https://bugs.gentoo.org/show_bug.cgi?id=904151

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 904151
app-benchmarks/wrk-4.2.0 - emake failed
Last modified: 2023-05-07 12:40:11 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 904151 
      - app-benchmarks/wrk-4.2.0 - emake failed


Summary:
app-benchmarks/wrk-4.2.0 - emake failed
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Conrad Kostecki








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:




gcc-13



 

        Show dependency tree





 





      Reported:
    
2023-04-11 07:20 UTC by Toralf Förster





      Modified:
    
2023-05-07 12:40 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge-info.txt

              (emerge-info.txt,19.95 KB,
                text/plain)

            
2023-04-11 07:20 UTC,

            Toralf Förster




Details





app-benchmarks:wrk-4.2.0:20230411-030011.log

              (app-benchmarks:wrk-4.2.0:20230411-030011.log,2.40 KB,
                text/plain)

            
2023-04-11 07:20 UTC,

            Toralf Förster




Details





emerge-history.txt

              (emerge-history.txt,234.67 KB,
                text/plain)

            
2023-04-11 07:20 UTC,

            Toralf Förster




Details





environment

              (environment,74.12 KB,
                text/plain)

            
2023-04-11 07:20 UTC,

            Toralf Förster




Details





etc.clang.tar.bz2

              (etc.clang.tar.bz2,900 bytes,
                application/x-bzip)

            
2023-04-11 07:20 UTC,

            Toralf Förster




Details





etc.portage.tar.bz2

              (etc.portage.tar.bz2,26.79 KB,
                application/x-bzip)

            
2023-04-11 07:20 UTC,

            Toralf Förster




Details





temp.tar.bz2

              (temp.tar.bz2,26.11 KB,
                application/x-bzip)

            
2023-04-11 07:20 UTC,

            Toralf Förster




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Toralf Förster






          2023-04-11 07:20:14 UTC
        

luajit: /var/tmp/portage/app-benchmarks/wrk-4.2.0/work/wrk-4.2.0/obj/bytecode.c: No such file or directory2
x86_64-pc-linux-gnu-gcc -O2 -pipe -march=native -fno-diagnostics-color -std=c99 -Wall -D_REENTRANT -D_POSIX_C_SOURCE=200112L -D_BSD_SOURCE -D_DEFAULT_SOURCE -Iobj/include -I/usr/include/luajit-2.1  -I/usr/include -c -o obj/wrk.o src/wrk.c
x86_64-pc-linux-gnu-gcc -O2 -pipe -march=native -fno-diagnostics-color -std=c99 -Wall -D_REENTRANT -D_POSIX_C_SOURCE=200112L -D_BSD_SOURCE -D_DEFAULT_SOURCE -Iobj/include -I/usr/include/luajit-2.1  -I/usr/include -c -o obj/net.o src/net.c
make: *** [Makefile:60: obj/bytecode.c] Error 1
make: *** Waiting for unfinished jobs....
 * ERROR: app-benchmarks/wrk-4.2.0::gentoo failed (compile phase):
 *   emake failed
 * 
 * If you need support, post the output of `emerge --info '=app-benchmarks/wrk-4.2.0::gentoo'`,

  -------------------------------------------------------------------

  This is an unstable amd64 chroot image at a tinderbox (==build bot)
  name: 23.0_desktop_plasma_systemd-j4-20230408-073504

  -------------------------------------------------------------------

gcc-config -l:
 [1] x86_64-pc-linux-gnu-13 *
clang/llvm (if any):
clang version 16.0.1
Target: x86_64-pc-linux-gnu
Thread model: posix
InstalledDir: /usr/lib/llvm/16/bin
Configuration file: /etc/clang/clang.cfg
/usr/lib/llvm/16
16.0.1
Python 3.10.11
Available Rust versions:
  [1]   rust-bin-1.68.2 *
The following VMs are available for generation-2:
1)	IcedTea JDK 3.16.0 [icedtea-bin-8]
2)	OpenJDK 17.0.6_p10 [openjdk-17]
3)	Eclipse Temurin JDK 17.0.6_p10 [openjdk-bin-17]
*)	Eclipse Temurin JDK 8.362_p09 [openjdk-bin-8]
Available Java Virtual Machines:
  [1]   icedtea-bin-8 
  [2]   openjdk-17 
  [3]   openjdk-bin-8  system-vm
  [4]   openjdk-bin-17 

The Glorious Glasgow Haskell Compilation System, version 9.0.2
php cli (if any):

  HEAD of ::gentoo
commit 6f98641848378aa92d62367a59f99e70b0b2d1a7
Author: Repository mirror & CI <repomirrorci@gentoo.org>
Date:   Tue Apr 11 01:31:58 2023 +0000

    2023-04-11 01:31:57 UTC

emerge -qpvO app-benchmarks/wrk
[ebuild  N    ] app-benchmarks/wrk-4.2.0  LUA_SINGLE_TARGET="luajit"




Comment 1


Toralf Förster






          2023-04-11 07:20:15 UTC
        

Created attachment 859837 [details]
emerge-info.txt




Comment 2


Toralf Förster






          2023-04-11 07:20:16 UTC
        

Created attachment 859838 [details]
app-benchmarks:wrk-4.2.0:20230411-030011.log




Comment 3


Toralf Förster






          2023-04-11 07:20:17 UTC
        

Created attachment 859839 [details]
emerge-history.txt




Comment 4


Toralf Förster






          2023-04-11 07:20:18 UTC
        

Created attachment 859840 [details]
environment




Comment 5


Toralf Förster






          2023-04-11 07:20:19 UTC
        

Created attachment 859841 [details]
etc.clang.tar.bz2




Comment 6


Toralf Förster






          2023-04-11 07:20:20 UTC
        

Created attachment 859842 [details]
etc.portage.tar.bz2




Comment 7


Toralf Förster






          2023-04-11 07:20:21 UTC
        

Created attachment 859843 [details]
temp.tar.bz2




Comment 8


Sam James









          2023-04-23 05:05:13 UTC
        

luajit: /var/tmp/portage/app-benchmarks/wrk-4.2.0/work/wrk-4.2.0/obj/bytecode.c: No such file or directory2

Looks more like a race or something?




Comment 9


Conrad Kostecki






          2023-05-07 12:40:11 UTC
        

Could be this a bug in sys-devel/gcc-13.0.1_pre20230409-r1::gentoo?
I have currently gcc-13.1.0-r1 and compilation works without any problems.

Lets close and see, if bug pops up with newer gcc :-)









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

