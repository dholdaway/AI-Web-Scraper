Title: 94239 – d1x refuses to emerge with opengl use-flag unset
URL: https://bugs.gentoo.org/show_bug.cgi?id=94239

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 94239
d1x refuses to emerge with opengl use-flag unset
Last modified: 2005-09-24 21:19:48 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 94239 
      - d1x refuses to emerge with opengl use-flag unset


Summary:
d1x refuses to emerge with opengl use-flag unset
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Games

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Games








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-05-27 19:06 UTC by Steev Klimaszewski (RETIRED)





      Modified:
    
2005-09-24 21:19 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Steev Klimaszewski (RETIRED)






          2005-05-27 19:06:29 UTC
        

Apparently my laptop doesn't support opengl very well as when I attempt to run
the game with opengl it crashes, so I attempt to emerge it with USE="-opengl"
d1x  and get the following...

nasm -f elf -d__LINUX__ tmap_ll.asm -o tmap_ll.o
nasm -f elf -d__LINUX__ tmap_flt.asm -o tmap_flt.o
nasm -f elf -d__LINUX__ tmapfade.asm -o tmapfade.o
nasm -f elf -d__LINUX__ tmap_lin.asm -o tmap_lin.o
gcc  -g -c -Wall -O3  -funsigned-char -I../include -DNDEBUG -fomit-frame-pointer
-DNMONO -DNETWORK -DRELEASE  -DD1XMAJOR=\"1\" -DD1XMINOR=\"43\"
-DSUPPORTS_NET_IP -I../arch/linux/include -D__LINUX__ -D_REENTRANT
-DHAVE_NETIPX_IPX_H -D__SDL__ -I../arch/sdl/include -DSDL_INPUT -DSDL_VIDEO
-DSDL_AUDIO  -c -o tmapppro.o tmapppro.S
tmapppro.S: Assembler messages:
tmapppro.S:124: Error: Bad macro parameter list
tmapppro.S:305: Error: no such instruction: `dofpcalcs'
tmapppro.S:366: Error: no such instruction: `dofpcalcs'
tmapppro.S:463: Error: no such instruction: `dofpcalcs'
tmapppro.S:564: Error: no such instruction: `dofpcalcs'
make[1]: *** [tmapppro.o] Error 1
make[1]: Leaving directory `/var/tmp/portage/d1x-20040118/work/d1x/texmap'
make: *** [texmap] Error 2


Reproducible: Always
Steps to Reproduce:
1. USE="-opengl" emerge d1x
2. wait a while, while it emerges

Actual Results:  
game refuses to emerge.

Expected Results:  
Game emerges without opengl support.

I have libsdl emerged with -opengl

[ebuild   R   ] media-libs/libsdl-1.2.8-r1  +X +aalib +alsa -arts -debug -dga
+directfb +esd -fbcon -ggi -libcaca -nas -noaudio -nojoystick -novideo -opengl
+oss -pic +svga -xinerama +xv 0 kB 

mebius linux # emerge info
Portage 2.0.51.22-r1 (default-linux/x86/2005.0, gcc-3.4.3-20050110,
glibc-2.3.5-r0, 2.6.12-rc4-mm1 i686)
=================================================================
System uname: 2.6.12-rc4-mm1 i686 Mobile AMD Athlon(tm) 4 Processor
Gentoo Base System version 1.6.12
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
ccache version 2.4 [enabled]
dev-lang/python:     2.3.5, 2.4.1
sys-apps/sandbox:    1.2.8
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.5
sys-devel/binutils:  2.16
sys-devel/libtool:   1.5.18
virtual/os-headers:  2.6.11
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=athlon-4 -O2 -fomit-frame-pointer -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/lib/fax /usr/lib/mozilla/defaults/pref /usr/share/config
/var/qmail/control /var/spool/fax/etc"
CONFIG_PROTECT_MASK="/etc/gconf /etc/splash /etc/terminfo /etc/env.d"
CXXFLAGS="-march=athlon-4 -O2 -fomit-frame-pointer -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig candy ccache distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://mirrors.tds.net/gentoo ftp://mirrors.tds.net/gentoo"
LANG="en_US.utf8"
LC_ALL="en_US.utf8"
LDFLAGS="-Wl,-O1"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage /usr/local/portage-gentopia"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 3dnow 3dnowext X aac aalib acpi alsa apache2 avi bash-completion berkdb
bitmap-fonts cdr cjk crypt cups curl directfb divx4linux dvd dvdread eds emboss
encode esd exif fam flac foomaticdb fortran gd gd-external gdbm gif gnome gpm
gstreamer gtk gtk2 gtkhtml gtksharp guile hal howl imagemagick imlib ipv6 jpeg
ldap libg++ libwww mad mikmod ming mmx mmxext mng mono mozilla mp3 mpeg mysql
ncurses nls nptl nptlonly offensive ogg oggvorbis opengl openssl oss pam pcmcia
pcre pdflib perl php png print python quicktime readline rtc ruby samba sdl snmp
spell sqlite sse ssl svg svga tcltk tcpd tiff truetype truetype-fonts
type1-fonts unicode usb v4l v4l2 vorbis win32codecs wmf xine xml xml2 xmlrpc xpm
xprint xv xvid zlib video_cards_savage userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LINGUAS, MAKEOPTS




Comment 1


Mr. Bones. (RETIRED)






          2005-09-24 21:19:48 UTC
        

Builds fine for me with both gcc-3.3.6 and gcc-3.4.4-r1, with and without the
opengl use flag.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

