Title: 198670 – net-misc/vpnc-0.5.1 on amd64 says 'dbus-send: Unknown type " uint32"'
URL: https://bugs.gentoo.org/show_bug.cgi?id=198670

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 198670
net-misc/vpnc-0.5.1 on amd64 says 'dbus-send: Unknown type " uint32"'
Last modified: 2007-11-12 13:14:09 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 198670 
      - net-misc/vpnc-0.5.1 on amd64 says 'dbus-send: Unknown type " uint32"'


Summary:
net-misc/vpnc-0.5.1 on amd64 says 'dbus-send: Unknown type " uint32"'
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       trivial
      


Assignee:

AMD64 Project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-11-10 13:00 UTC by Erik Quaeghebeur





      Modified:
    
2007-11-12 13:14 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



fauli
hanno









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge -info

              (emerge--info.txt,3.24 KB,
                text/plain)

            
2007-11-10 14:12 UTC,

            Erik Quaeghebeur




Details





emerge -pv vpnc

              (emerge-pv_vpnc.txt,239 bytes,
                text/plain)

            
2007-11-10 14:12 UTC,

            Erik Quaeghebeur




Details





/usr/sbin/vpnc --debug 3 myconffile 2> usrsbinvpnc--debug_3_myconffile.stderr

              (usrsbinvpnc--debug_3_myconffile.stderr,34 bytes,
                text/plain)

            
2007-11-10 14:14 UTC,

            Erik Quaeghebeur




Details





/usr/sbin/vpnc --debug 3 myconffile 1> usrsbinvpnc--debug_3_myconffile.stdout

              (usrsbinvpnc--debug_3_myconffile.stdout,63.43 KB,
                text/plain)

            
2007-11-10 14:14 UTC,

            Erik Quaeghebeur




Details





/usr/sbin/vpnc --debug 3 myconffile 1> usrsbinvpnc--debug_3_myconffile.stdout+stderr 2>&1

              (usrsbinvpnc--debug_3_myconffile.stdout+stderr,63.47 KB,
                text/plain)

            
2007-11-10 14:17 UTC,

            Erik Quaeghebeur




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Erik Quaeghebeur





          2007-11-10 13:00:53 UTC
        

vpnc-0.5.1 on amd64 says 'dbus-send: Unknown type " uint32"' when started.
This did not occur with previous versions.
The program still seems to work well.

Perhaps this is for upstream? (Please advise, I will then do the reporting.)

Reproducible: Always




Comment 1


Christian Faulhammer (RETIRED)






          2007-11-10 13:16:33 UTC
        

Please elaborate a bit...I wonder where vpnc is using dbus, so I assume it is elsewhere.  Provide emerge --info, emerge -pv vpnc, where does the message occur (init script, manual call), as user or root, what is the output with a higher debug level?




Comment 2


Erik Quaeghebeur





          2007-11-10 14:12:18 UTC
        

Created attachment 135646 [details]
emerge -info




Comment 3


Erik Quaeghebeur





          2007-11-10 14:12:53 UTC
        

Created attachment 135648 [details]
emerge -pv vpnc




Comment 4


Erik Quaeghebeur





          2007-11-10 14:14:03 UTC
        

Created attachment 135650 [details]
/usr/sbin/vpnc --debug 3 myconffile 2> usrsbinvpnc--debug_3_myconffile.stderr




Comment 5


Erik Quaeghebeur





          2007-11-10 14:14:54 UTC
        

Created attachment 135652 [details]
/usr/sbin/vpnc --debug 3 myconffile 1> usrsbinvpnc--debug_3_myconffile.stdout




Comment 6


Erik Quaeghebeur





          2007-11-10 14:17:19 UTC
        

Created attachment 135653 [details]
/usr/sbin/vpnc --debug 3 myconffile 1> usrsbinvpnc--debug_3_myconffile.stdout+stderr 2>&1




Comment 7


Erik Quaeghebeur





          2007-11-10 14:22:06 UTC
        

(In reply to comment #1)
> Provide emerge --info, emerge -pv vpnc, 

attached

> where does the message occur (init script, manual call), 

Both, but this is not entirely clear to me: I thought vpnc always uses a script and conf (even if it is the default ones); I've used the one for my university's vpn (which creates a split route as described in vpnc's README).

> as user or root, 

root

> what is the output with a higher debug level?

attached; I've noticed the location of the dbus(?) stderr output can change with in the vpnc stdout output 





Comment 8


Christian Faulhammer (RETIRED)






          2007-11-10 14:37:14 UTC
        

Hmm, vpnc is not using dbus itself, so it must be in a deeper layer.  Do you have any other programs that manipulate the routing table?  If so, please check if they also have a similar message.
 You can also debug it by starting $(dbus-monitor --system) who calls dbus in that moment.
 I asked for the init-script (from /etc/init.d/vpnc) because a call there could be different to the one you use manually.




Comment 9


Erik Quaeghebeur





          2007-11-10 15:57:05 UTC
        

(In reply to comment #8)
> Hmm, vpnc is not using dbus itself, so it must be in a deeper layer.  Do you
> have any other programs that manipulate the routing table?  If so, please check
> if they also have a similar message.

# resolvconf -u
dbus-send: Unknown type " uint32"

I should've know, vpnc-0.5.1 pulled in resolvconf-gentoo...
This bug should now probably be renamed, you can do that Christian.

>  You can also debug it by starting $(dbus-monitor --system) who calls dbus in
> that moment.

Mmm, I'm not sure I've done what you meant:
start dbus-monitor --system in one konsole, ran resolvconf -u in another:
I got 

# dbus-monitor --system
signal sender=org.freedesktop.DBus -> dest=:1.33 path=/org/freedesktop/DBus; interface=org.freedesktop.DBus; member=NameAcquired
   string ":1.33"
signal sender=org.freedesktop.DBus -> dest=(null destination) path=/org/freedesktop/DBus; interface=org.freedesktop.DBus; member=NameOwnerChanged
   string ":1.34"
   string ""
   string ":1.34"
signal sender=org.freedesktop.DBus -> dest=(null destination) path=/org/freedesktop/DBus; interface=org.freedesktop.DBus; member=NameOwnerChanged
   string ":1.34"
   string ":1.34"
   string ""






Comment 10


Samuli Suominen (RETIRED)






          2007-11-11 06:43:00 UTC
        

on stable amd64,

unique / # resolvconf -u
 * Caching service dependencies ... [ ok ]




Comment 11


Christian Faulhammer (RETIRED)






          2007-11-12 11:28:12 UTC
        

(In reply to comment #10)
> on stable amd64,
> 
> unique / # resolvconf -u
>  * Caching service dependencies ... [ ok ]

 So, that is a bit weird.  On an amd64 test system I can't reproduce either, and the DBus monitor output tells me that the core of DBus issues the error.  Anyone against closing this bug?  Erik, if you want to avoid nasty warnings, you will maybe profit from bug 196276, as soon as I introduce a USE flag for resolvconf-gentoo.





Comment 12


Erik Quaeghebeur





          2007-11-12 12:47:06 UTC
        

(In reply to comment #11)
> Anyone against closing this bug?  

Not me, go ahead. WORKSFORME (well, for you and samuli) seems appropriate.

> Erik, if you want to avoid nasty warnings,
> you will maybe profit from bug 196276, as soon as I introduce a USE flag for
> resolvconf-gentoo.

I quite like (the idea of) resolvconf, so I think I'll live with the warning (I even added the resolvconf use-flag to my make.conf). If it really has an impact later on, I'll reopen the bug. But I guess it'll just disappear in time, when my system feels like it...










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

