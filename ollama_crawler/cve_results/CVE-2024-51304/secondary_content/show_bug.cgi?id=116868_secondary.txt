Title: 116868 – dev-python/pyvorbis missing dep for Ogg Python bindings
URL: https://bugs.gentoo.org/show_bug.cgi?id=116868

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 116868
dev-python/pyvorbis missing dep for Ogg Python bindings
Last modified: 2006-02-10 01:44:15 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 116868 
      - dev-python/pyvorbis missing dep for Ogg Python bindings


Summary:
dev-python/pyvorbis missing dep for Ogg Python bindings
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Development

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Python Gentoo Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-12-27 05:43 UTC by Nathan Adams





      Modified:
    
2006-02-10 01:44 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



nadams
santiago.staviski









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




my emerge info output

              (emerge.info.txt,2.96 KB,
                text/plain)

            
2005-12-27 05:45 UTC,

            Nathan Adams




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Nathan Adams





          2005-12-27 05:43:26 UTC
        

Calculating dependencies ...done!
>>> emerge (1 of 2) dev-python/pyvorbis-1.4-r1 to /
>>> md5 files   ;-) pyvorbis-1.3.ebuild
>>> md5 files   ;-) pyvorbis-1.4-r1.ebuild
>>> md5 files   ;-) pyvorbis-1.4.ebuild
>>> md5 files   ;-) pyvorbis-1.1.ebuild
>>> md5 files   ;-) files/pyvorbisfile.c-1.4.patch
>>> md5 files   ;-) files/digest-pyvorbis-1.4-r1
>>> md5 files   ;-) files/digest-pyvorbis-1.1
>>> md5 files   ;-) files/digest-pyvorbis-1.3
>>> md5 files   ;-) files/digest-pyvorbis-1.4
>>> md5 src_uri ;-) pyvorbis-1.4.tar.gz
>>> Unpacking source...
>>> Unpacking pyvorbis-1.4.tar.gz to /var/tmp/portage/pyvorbis-1.4-r1/work
 * Applying pyvorbisfile.c-1.4.patch ...                                                                                                             [ ok ]
>>> Source unpacked.
Checking for Ogg ... success
Checking for Vorbis ... success
Wrote Setup file
You must have the Ogg Python bindings
installed in order to build and install
these bindings. Import of ogg._ogg failed.

!!! ERROR: dev-python/pyvorbis-1.4-r1 failed.
!!! Function distutils_src_compile, Line 35, Exitcode 1
!!! compilation failed
!!! If you need support, post the topmost build error, NOT this status message.




Comment 1


Nathan Adams





          2005-12-27 05:45:11 UTC
        

Created attachment 75593 [details]
my emerge info output




Comment 2


Santiago Staviski





          2005-12-29 06:38:42 UTC
        

emerge sync, re-emerge pyogg (dev-python/pyogg-1.3-r1) and try to emerge pyvorbis again. 

Works fine for me




Comment 3


Santiago Staviski





          2005-12-29 06:40:53 UTC
        

emerge sync, re-emerge pyogg (dev-python/pyogg-1.3-r1) and try to emerge pyvorbis again. 

Works fine for me
(In reply to comment #1)
> Created an attachment (id=75593) [edit]
> my emerge info output
> 




Comment 4


Nathan Adams





          2005-12-29 07:51:21 UTC
        

*Before* re-emerging I have this:

# emerge  -s pyogg
Searching...
[ Results for search key : pyogg ]
[ Applications found : 1 ]

*  dev-python/pyogg
      Latest version available: 1.3-r1
      Latest version installed: 1.3-r1
      Size of downloaded files: 23 kB
      Homepage:    http://www.andrewchatham.com/pyogg/
      Description: Python bindings for the ogg library
      License:     LGPL-2

So while re-emerging is a great work-around (it worked for me), there is obviously something subtle missing from the ebuild (compile time dependency?). I clean out /var/tmp/portage/ from time to time, if that helps.




Comment 5


Alastair Tse (RETIRED)






          2006-02-06 13:47:47 UTC
        

most likely you upgraded python and didn't run python-updater?




Comment 6


Nathan Adams





          2006-02-07 19:10:28 UTC
        

I have never run python-updater, and I only update python when portage makes forces me to do so because it is a pre-requ for something else. If python-updater is the problem, then perhaps it is missing from the python ebuild.




Comment 7


Alastair Tse (RETIRED)






          2006-02-09 14:20:17 UTC
        

no no, you should run python-updater if you're upgrading major versions of python. try just running /usr/sbin/ptyhon-updater and see if it thinks you need to upgrade any packages.




Comment 8


Nathan Adams





          2006-02-09 18:19:06 UTC
        

Why shouldn't the ebuild run python-updater for me as needed?




Comment 9


Nathan Adams





          2006-02-09 18:37:03 UTC
        

The only place that python-updater is mentioned in the Gentoo documentation is the Gnome 2.12 Upgrade Guide (according to Google). So I doubt many end-users actually know the thing exists. So IMHO, it should automagically run at the end of the python ebuild; it would save you folks alot of python-upgrade related bug reports in the future.

By the way, I ran it as you suggested and it emerged about 12 packages. I hope that, like revdep-rebuild, the emerge uses the --oneshot option.




Comment 10


Bryan Østergaard (RETIRED)






          2006-02-10 01:44:15 UTC
        

Python-updater is mentioned everytime you emerge python. Unfortunately we can't automatically run it from the ebuild (running emerge inside another emerge is not allowed).









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

