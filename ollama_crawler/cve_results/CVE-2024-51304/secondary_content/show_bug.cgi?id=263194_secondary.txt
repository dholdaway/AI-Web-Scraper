Title: 263194 – app-text/texlive-2008 The recommended configuration program (tlmgr) appears to be missing
URL: https://bugs.gentoo.org/show_bug.cgi?id=263194

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 263194
app-text/texlive-2008 The recommended configuration program (tlmgr) appears to be missing
Last modified: 2024-06-05 12:20:28 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 263194 
      - app-text/texlive-2008 The recommended configuration program (tlmgr) appears to be missing


Summary:
app-text/texlive-2008 The recommended configuration program (tlmgr) appears t...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

TeX project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-03-21 00:45 UTC by Roger Hill-Cottingham





      Modified:
    
2024-06-05 12:20 UTC
      (History)
    




          CC List:
        

4 
          users
          
            (show)
          



bluetux
cruzki123
profunctor
s.v.savenko









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Roger Hill-Cottingham





          2009-03-21 00:45:23 UTC
        

On switching from teTeX to texlive, and running the familiar texconfig, I am told to use tlmgr instead for things like setting hyphenation. tlmgr is not found.

Reproducible: Always

Steps to Reproduce:
1.# emerge -C tetex 
2. edit /etc/make.conf to add "kpathsea" global useflag, and edit /etc/portage/package.use to add "graphics pstricks publishers science doc" useflags to texlive
3.# emerge -uvDNb texlive

Actual Results:  
$ tlmgr
-bash: command not found

Expected Results:  
some sort of interactive configuration program should start.

# emerge --info
Portage 2.1.6.7 (default/linux/amd64/2008.0/desktop, gcc-4.1.2, glibc-2.8_p20080602-r1, 2.6.25-gentoo-r7 x86_64)
=================================================================
System uname: Linux-2.6.25-gentoo-r7-x86_64-AMD_Athlon-tm-_64_X2_Dual_Core_Processor_6000+-with-glibc2.2.5
Timestamp of tree: Fri, 20 Mar 2009 23:00:08 +0000
app-shells/bash:     3.2_p39
dev-java/java-config: 1.3.7-r1, 2.1.7
dev-lang/python:     2.4.4-r13, 2.5.2-r7
dev-python/pycrypto: 2.0.1-r6
dev-util/cmake:      2.4.8
sys-apps/baselayout: 1.12.11.1
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.63
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.2
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.27-r2
ACCEPT_KEYWORDS="amd64"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=athlon64 -O2 -pipe -fomit-frame-pointer"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/bin/startx /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/config /var/lib/hsqldb gs_init.ps"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/revdep-rebuild /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-march=athlon64 -O2 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="distlocks fixpackages parallel-fetch protect-owned sfperms strict unmerge-orphans"
GENTOO_MIRRORS="http://www.mirrorservice.org/sites/www.ibiblio.org/gentoo/ http://mirror.ac.uk/mirror/distro.ibiblio.org/pub/linux/distributions/gentoo http://ftp.belnet.be/linux/gentoo ftp://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/ http://vlaai.snt.ipv6.utwente.nl/pub/os/linux/gentoo/ http://ftp.easynet.nl/mirror/gentoo/ http://ftp6.uni-erlangen.de/pub/mirrors/gentoo"
LDFLAGS="-Wl,-O1"
LINGUAS="en_GB"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X acl acpi alsa amd64 berkdb bluetooth branding bzip2 cairo cdr cli cracklib crypt cups dbus dri dvd dvdr dvdread eds emboss encode esd evo f77 fam firefox fortran gdbm gfortran gif gnome gpm gstreamer gtk hal iconv ipv6 isdnlog jpeg kde kpathsea ldap libnotify mad midi mikmod mmx mp3 mpeg mudflap multilib ncurses nls nptl nptlonly objc ogg opengl openmp pam pcre pdf perl png ppds pppd python qt3 qt3support qt4 quicktime readline reflection sdl session spell spl sse sse2 ssl startup-notification svg sysfs tcpd tiff truetype unicode usb vorbis xml xorg xulrunner xv zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CAMERAS="canon" ELIBC="glibc" INPUT_DEVICES="keyboard mouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en_GB" USERLAND="GNU" VIDEO_CARDS="nv vesa"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LANG, LC_ALL, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY

# cat /etc/portage/package.use 
...
app-text/texlive graphics pstricks publishers science doc




Comment 1


Alexis Ballier






          2009-03-22 21:34:59 UTC
        

do you have any use of tlmgr? hyphenations are enabled/disabled when installing/removing texlive-lang* packages




Comment 2


Roger Hill-Cottingham





          2009-03-22 23:25:06 UTC
        

I have no use of tlmgr -- it does not exist in my executable $PATH :

$ which tlmgr
 which: no tlmgr in (/usr/local/bin:/usr/bin:/bin:/opt/bin:/usr/x86_64-pc-linux-gnu/gcc-bin/4.1.2:/opt/blackdown-jdk-1.4.2.03/bin:/opt/blackdown-jdk-1.4.2.03/jre/bin:/usr/kde/3.5/bin:/usr/qt/3/bin:/usr/lib32/openoffice/program:/usr/local/gcc-svn/bin:/usr/games/bin:/usr/GNUstep/System/Tools:/usr/GNUstep/Local/Tools)





Comment 3


Alexis Ballier






          2009-03-24 08:57:46 UTC
        

Then why did you open this bug? I removed it because it is, unless I missed something, a tool to install texlive packages that are of no use for us since we do it via ebuilds & portage and doesn't integrate well in our way of doing things.




Comment 4


Alexis Ballier






          2009-03-27 19:24:50 UTC
        

(In reply to comment #3)
> Then why did you open this bug? I removed it because it is, unless I missed
> something, a tool to install texlive packages that are of no use for us since
> we do it via ebuilds & portage and doesn't integrate well in our way of doing
> things.


closing as worksforme, unless someone has a real need for tlmgr.






Comment 5


Roger Hill-Cottingham





          2009-03-27 19:32:12 UTC
        

I reported this bug because I was told to use tlmgr instead of texconfig by certain parts of texconfig. If indeed tlmgr is not useful under Gentoo, then either texconfig should reflect this, or tlmgr should be replaced by something that reports this to the user, rather than being non-existent.




Comment 6


Benjamin Rich





          2009-04-10 02:37:03 UTC
        

(In reply to comment #3)
> Then why did you open this bug? I removed it because it is, unless I missed
> something, a tool to install texlive packages that are of no use for us since
> we do it via ebuilds & portage and doesn't integrate well in our way of doing
> things.
> 

It seems to me that tlmgr would still be useful even under gentoo.  There aren't ebuilds for every package in CTAN, nor is it practical or useful to try to achieve this.  In other words, unless there is something I don't understand, it seems to me that tlmgr is designed specifically to manage your TeXLive installations and is better than portage at doing so, particularly if one want fine-grained control over the TeX packages that are installed.




Comment 7


Marcin Szamotulski





          2009-07-25 03:23:27 UTC
        

(In reply to comment #6)
> (In reply to comment #3)
> > Then why did you open this bug? I removed it because it is, unless I missed
> > something, a tool to install texlive packages that are of no use for us since
> > we do it via ebuilds & portage and doesn't integrate well in our way of doing
> > things.
> > 
> 
> It seems to me that tlmgr would still be useful even under gentoo.  There
> aren't ebuilds for every package in CTAN, nor is it practical or useful to try
> to achieve this.  In other words, unless there is something I don't understand,
> it seems to me that tlmgr is designed specifically to manage your TeXLive
> installations and is better than portage at doing so, particularly if one want
> fine-grained control over the TeX packages that are installed.
> 

I agree, it would be nice to have tlmgr: espetially if I need just one package not whole collection. This can save  much of space on HD.




Comment 8


Andrea Franceschini





          2009-08-18 13:33:20 UTC
        

+1 tlmgr is a life saver, sometimes.




Comment 9


s.v.savenko





          2009-11-03 22:34:19 UTC
        

tlmgr is a tool which allows to automatically download and install latex classes one by one from CTAN mirrors when they are required by latex. It is totally different from what portage does (installing packages including tons of unneeded classes prior to use), maybe it is just the word 'packages' which is misleading. tlmgr is absolutely required for the proper latex functioning. It took me an hour to figure out what is going on, and another hour to add missing packages by hands (again, portage is not suitable tool for that!).




Comment 10


Ian Abbott





          2010-02-08 17:33:53 UTC
        

(In reply to comment #9)
> tlmgr is a tool which allows to automatically download and install latex
> classes one by one from CTAN mirrors when they are required by latex. It is
> totally different from what portage does (installing packages including tons of
> unneeded classes prior to use), maybe it is just the word 'packages' which is
> misleading. tlmgr is absolutely required for the proper latex functioning. It
> took me an hour to figure out what is going on, and another hour to add missing
> packages by hands (again, portage is not suitable tool for that!).
> 

I'm not much of a TeX or LaTeX user, but can you use Gentoo's 'g-ctan' for that?

As an aside, Gentoo's texlive-core-2009 installs /usr/bin/tlmgr, but not the TLConfig.pm module it needs to run!




Comment 11


s.v.savenko





          2010-02-08 17:47:42 UTC
        

yes g-ctan tries to replace the original tlmgr, but I do not see the point of removing tlmgr from the ebuild. That is not yast or whatever, this is latex class manager, it has nothing in common with portage, and I see no conflict. If somebody religious does not want to have it in his Gentoo, there must be a flag in ebuild, but simply removing it is totally wrong.
Anyway g-ctan does not work `on-the-fly' like tlmgr does.

tlmgr: command not found
I really miss your point with TLConfig.pm




Comment 12


John (EBo) David





          2010-02-23 19:07:30 UTC
        

> tlmgr: command not found
> I really miss your point with TLConfig.pm

I think Ian's comment was that when you unmask the texlive-*-2009 ebuilds to build *-2009 tlpkg (which contains TLConfig.pm and lots of other stuff) was never installed.  Without this you cannot run tlmgr.

I was able to get it somewhat working by hand installing tlpkg into /usr/share, but this is not a viable solution.  tlmgr requires tlpkg to be properly installed and configured.

The question now is if tlmgr should actually be integrated back into texlive on gentoo (which I would like to see), and fix tlmgr/tlpkg on 2008 and/or 2009.  Should this be bug be reopened?




Comment 13


s.v.savenko





          2010-02-23 23:02:38 UTC
        

sorry I missed 2009 indeed :)
I am not sure whether that is true, I have read on some (debian?) forum a really good reason for pactching tlmgr off, again, I pass it from somebody else words:
tlmgr attempts to write classes into the base texlive package tree, and it will not be included in that distro unless it learns to install packages into the user tree.
If that is true (I just can not believe it), that sounds like a very good reason for me, and we should actually start kicking texlive guys. But if not, I want to reopen this bug. By the way g-ctan package is masked, I think it is not clever to remove the feature before replacement is ready.




Comment 14


sphakka





          2015-09-11 09:13:50 UTC
        

With "app-text/texlive-2014" here.

Please, until "app-portage/g-ctan" doesn't return from limbo, give us back "tlmgr". Good users will know how to make good use of it ;-)




Comment 15


sphakka





          2015-09-11 09:17:53 UTC
        

It's actually there in texlive-2014:

  "/usr/share/texmf-dist/scripts/texlive/tlmgr.pl"

though apparently missing a frontend and quite broken:

  "Can't locate TeXLive/TLConfig.pm in @INC (you may need to install the TeXLive::TLConfig module)..."




Comment 16


Larry the Git Cow






          2024-06-05 12:20:28 UTC
        

The bug has been referenced in the following commit(s):

https://gitweb.gentoo.org/repo/gentoo.git/commit/?id=3712dc9ee61c9127ef1d3a795efe96a8988bd565

commit 3712dc9ee61c9127ef1d3a795efe96a8988bd565
Author:     Florian Schmaus <flow@gentoo.org>
AuthorDate: 2024-06-05 11:21:24 +0000
Commit:     Florian Schmaus <flow@gentoo.org>
CommitDate: 2024-06-05 12:17:23 +0000

    app-text/texlive-core: install tlmgr (forced in user mode)
    
    We now install tlmgr, but forced in user mode (similar to what Debian
    does). This means that we now can use commands like "tlmgr conf", which
    are helpful when debugging issues with the TeX Live installation.
    
    Bug: https://bugs.gentoo.org/263194
    Bug: https://bugs.gentoo.org/326527
    Bug: https://bugs.gentoo.org/832139
    Signed-off-by: Florian Schmaus <flow@gentoo.org>

 app-text/texlive-core/Manifest                                       | 2 +-
 .../{texlive-core-2023-r6.ebuild => texlive-core-2023-r7.ebuild}     | 5 +----
 2 files changed, 2 insertions(+), 5 deletions(-)









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

