Title: 344091 – dev-vcs/git-1.7.3.2-r1 builds without svn support when USE="subversion -perl"
URL: https://bugs.gentoo.org/show_bug.cgi?id=344091

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 344091
dev-vcs/git-1.7.3.2-r1 builds without svn support when USE="subversion -perl"
Last modified: 2010-11-04 21:36:30 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 344091 
      - dev-vcs/git-1.7.3.2-r1 builds without svn support when USE="subversion -perl"


Summary:
dev-vcs/git-1.7.3.2-r1 builds without svn support when USE="subversion -perl"
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Development

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2010-11-04 11:25 UTC by Niko E.





      Modified:
    
2010-11-04 21:36 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



ikelos









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Niko E.





          2010-11-04 11:25:28 UTC
        

use.local.desc states: dev-vcs/git:subversion - Include git-svn for dev-vcs/subversion support

The useflag seems to be ignored hoever.

Reproducible: Always

Steps to Reproduce:
1. USE="subversion" emerge git
2. git svn

Actual Results:  
Error message stating:
fatal: git was built without support for git-svn (NO_PERL=YesPlease).


Expected Results:  
git-svn funktionality should be available




Comment 1


Niko E.





          2010-11-04 11:30:14 UTC
        

just for the record, the useflag is actualy shown as enabled:

$ emerge -vp dev-vcs/git
[ebuild   R   ] dev-vcs/git-1.7.3.2-r1  USE="bash-completion blksha1 curl gtk iconv subversion threads webdav -cgi -cvs -doc -emacs -perl (-ppcsha1) -tk -xinetd" 0 kB




Comment 2


Mike Auty (RETIRED)






          2010-11-04 19:11:27 UTC
        

It appears from the "(NO_PERL=YesPlease)" that this is because you built git with USE="-perl".

Please read the emerge logs carefully, there is a warning message ("git-svn needs USE=perl, it won't work") if you attempt to build with USE="subversion -perl".

If you need subversion support, please build with USE="perl".




Comment 3


Niko E.





          2010-11-04 21:26:29 UTC
        

should't the subversion useflag require the perl useflag then?




Comment 4


Mike Auty (RETIRED)






          2010-11-04 21:35:19 UTC
        

There is no method for one USE flag to depend on another.  Here, the perl USE flag takes precedence because subversion requires perl.  If the user has therefore explicitly asked for no perl, the user will get no subversion either.

Having subversion pull in the perl packages would just spawn bug reports saying that even though USE="-perl", perl was still installed.  There's no way of keeping everybody happy, so this is the best compromise available.

The conflicting USE flag combination also provides a warning, so that users are aware of what the problem is and the most likely steps to solve it.




Comment 5


Niko E.





          2010-11-04 21:36:30 UTC
        

ok thanks for clarifing









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

