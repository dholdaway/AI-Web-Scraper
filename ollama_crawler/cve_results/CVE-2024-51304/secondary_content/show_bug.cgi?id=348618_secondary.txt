Title: 348618 – app-emulation/xen-tools - xm list does not work with python-2.7 AttributeError: HTTPUnix instance has no attribute 'getresponse'
URL: https://bugs.gentoo.org/show_bug.cgi?id=348618

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 348618
app-emulation/xen-tools - xm list does not work with python-2.7 AttributeError: HTTPUnix instance has no attribute 'getresponse'
Last modified: 2011-03-26 11:23:16 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 348618 
      - app-emulation/xen-tools - xm list does not work with python-2.7 AttributeError: HTTPUnix instance has no attribute 'getresponse'


Summary:
app-emulation/xen-tools - xm list does not work with python-2.7 AttributeErro...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Xen Devs








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:




python-2.7



 

        Show dependency tree





 





      Reported:
    
2010-12-13 13:28 UTC by Dmitry S. Kulyabov





      Modified:
    
2011-03-26 11:23 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




app-emulation/xen/files/localpy27fixes.patch

              (localpy27fixes.patch,1.48 KB,
                patch)

            
2010-12-13 13:29 UTC,

            Dmitry S. Kulyabov




Details
            | Diff





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Dmitry S. Kulyabov





          2010-12-13 13:28:52 UTC
        

xm list don't work with python-2.7

Reproducible: Always




Comment 1


Dmitry S. Kulyabov





          2010-12-13 13:29:58 UTC
        

Created attachment 257023 [details, diff]
app-emulation/xen/files/localpy27fixes.patch




Comment 2


Dmitry S. Kulyabov





          2010-12-13 13:30:46 UTC
        

Traceback (most recent call last):
File "/usr/sbin/xm", line 7, in <module>
main.main(sys.argv)
File "/usr/lib64/python2.7/site-packages/xen/xm/main.py", line 3616, in
main
_, rc = _run_cmd(cmd, cmd_name, args)
File "/usr/lib64/python2.7/site-packages/xen/xm/main.py", line 3640, in
_run_c
md
return True, cmd(args)
File "/usr/lib64/python2.7/site-packages/xen/xm/main.py", line 969, in
xm_list
doms = getDomains(params, state, use_long)
File "/usr/lib64/python2.7/site-packages/xen/xm/main.py", line 933, in
getDoma
ins
return server.xend.domains_with_state(True, state, full)
File "/usr/lib64/python2.7/xmlrpclib.py", line 1224, in __call__
return self.__send(self.__name, args)
File "/usr/lib64/python2.7/site-packages/xen/util/xmlrpcclient.py", line
118,
in __request
response = xmlrpclib.ServerProxy.__request(self, methodname, params)
File "/usr/lib64/python2.7/xmlrpclib.py", line 1570, in __request
verbose=self.__verbose
File "/usr/lib64/python2.7/site-packages/xen/util/xmlrpcclient.py", line
55, i
n request
request_body, verbose)
File "/usr/lib64/python2.7/xmlrpclib.py", line 1264, in request
return self.single_request(host, handler, request_body, verbose)
File "/usr/lib64/python2.7/xmlrpclib.py", line 1294, in single_request
response = h.getresponse(buffering=True)
AttributeError: HTTPUnix instance has no attribute 'getresponse'





Comment 3


Arfrever Frehtes Taifersar Arahesis (RETIRED)






          2011-03-13 14:30:02 UTC
        

Does this bug still occur with dev-lang/python-2.7.1-r1?
(It seems to be similar to bug #347465.)




Comment 4


mcbeagle





          2011-03-25 16:48:37 UTC
        

I upgraded to python-2.7.1-r1 today, selected this version as global python version using eselect and then run python-updater.
Amongst others xen-tools-4.0.1 was rebuild.

Afterwards even after a reboot the error still exists (at least with 'xm list', afair also with 'xm create' but I'm not truly sure anymore - I didn't do any exhaustive tests but directly reverted to python-2.6 as this just works fine).

As I don't have the time to test at the moment, I didn't apply the above patch etc. - just want to let you know that the problem is still existent.

Regards




Comment 5


Alexey Shvetsov







          2011-03-26 11:23:16 UTC
        

Xen 4.1 in tree. Please test with it and reopen if it doesnt work









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

