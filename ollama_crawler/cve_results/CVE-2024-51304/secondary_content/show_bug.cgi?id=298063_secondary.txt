Title: 298063 – net-misc/wget-1.12 fails to link correctly on freebsd 8.0
URL: https://bugs.gentoo.org/show_bug.cgi?id=298063

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 298063
net-misc/wget-1.12 fails to link correctly on freebsd 8.0
Last modified: 2010-01-14 12:32:16 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 298063 
      - net-misc/wget-1.12 fails to link correctly on freebsd 8.0


Summary:
net-misc/wget-1.12 fails to link correctly on freebsd 8.0
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo/Alt




Classification:

Unclassified




Component:

Prefix Support

  (show other bugs)



Hardware:

AMD64
        FreeBSD
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Prefix








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-12-23 04:29 UTC by matt





      Modified:
    
2010-01-14 12:32 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


matt





          2009-12-23 04:29:46 UTC
        

[matt@plainbsd /usr/home/matt/gentoo]$ ldd usr/bin/wget 
usr/bin/wget:
        libssl.so.0.9.8 => not found (0x0)
        libcrypto.so.0.9.8 => not found (0x0)
        libz.so.1 => not found (0x0)
        libintl.so.8 => /usr/local/lib/libintl.so.8 (0x80068d000)
        libiconv.so.7 => not found (0x0)
        libthr.so.3 => /lib/libthr.so.3 (0x800796000)
        libc.so.7 => /lib/libc.so.7 (0x8008ae000)
        libiconv.so.3 => /usr/local/lib/libiconv.so.3 (0x800ae8000)
[matt@plainbsd /usr/home/matt/gentoo]$ 

[matt@plainbsd /usr/home/matt/gentoo]$ ls -l usr/lib/libssl.*
-rw-r--r-- 1 matt matt 563612 Dec 22 21:20 usr/lib/libssl.a
lrwxrwxrwx 1 matt matt     15 Dec 22 21:21 usr/lib/libssl.so -> libssl.so.0.9.8
-r-xr-xr-x 1 matt matt 312296 Dec 22 21:20 usr/lib/libssl.so.0.9.8
[matt@plainbsd /usr/home/matt/gentoo]$

[matt@plainbsd /usr/home/matt/gentoo]$ file usr/lib/libssl.so.0.9.8
usr/lib/libssl.so.0.9.8: ELF 64-bit LSB shared object, x86-64, version 1 (FreeBSD), dynamically linked, stripped
[matt@plainbsd /usr/home/matt/gentoo]$

[matt@plainbsd /usr/home/matt/gentoo]$ ldd usr/lib/libssl.so.0.9.8
usr/lib/libssl.so.0.9.8:
        libcrypto.so.0.9.8 => not found (0x0)
        libz.so.5 => /lib/libz.so.5 (0x800b4c000)
        libthr.so.3 => /lib/libthr.so.3 (0x800c61000)
        libc.so.7 => /lib/libc.so.7 (0x800648000)
[matt@plainbsd /usr/home/matt/gentoo]$ 

Portage 2.2.00.15123-prefix (prefix/bsd/freebsd/8.0/x64, gcc-4.2.1, unavailable, 8.0-RELEASE amd64)
=================================================================
System uname: FreeBSD-8.0-RELEASE-amd64-64bit-ELF
Timestamp of tree: Sun, 20 Dec 2009 22:53:41 +0000
app-shells/bash:     4.0_p35
dev-lang/python:     2.6.4
sys-devel/autoconf:  2.63-r01.1
sys-devel/automake:  1.10.2-r00.1
sys-devel/binutils:  2.20.51.0.3
sys-devel/gcc-config: 1.4.1-r00.2
sys-devel/libtool:   2.2.6b
ACCEPT_KEYWORDS="~x64-freebsd"
ACCEPT_LICENSE="* -@EULA"
CBUILD="x86_64-pc-freebsd8.0"
CFLAGS="-march=athlon64 -O2 -pipe"
CHOST="x86_64-pc-freebsd8.0"
CONFIG_PROTECT="/etc"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/gconf /etc/terminfo"
CXXFLAGS="-march=athlon64 -O2 -pipe"
DISTDIR="/usr/home/matt/gentoo/usr/portage/distfiles"
FEATURES="assume-digests collision-protect distlocks fixpackages news parallel-fetch preserve-libs protect-owned sfperms strict unmerge-logs unmerge-orphans userfetch"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LDFLAGS=""

[ebuild   R   ] net-misc/wget-1.12  USE="nls ssl -debug -idn -ipv6 -ntlm -static" 0 kB




Comment 1


Fabian Groffen






          2009-12-23 09:55:09 UTC
        

Is the binutils-config wrapper correctly set up?  Seems like a missing RPATH here.




Comment 2


Fabian Groffen






          2009-12-23 10:32:32 UTC
        

I just bumped binutils-config, the latest version allows BINUTILS_CONFIG_VERBOSE to be set in the environment, such that we can see what's being fed into ld.




Comment 3


Christian Faulhammer (RETIRED)






          2010-01-14 12:28:39 UTC
        

wget 1.12 on x86-freebsd is correctly linked...just by the way.




Comment 4


Fabian Groffen






          2010-01-14 12:32:16 UTC
        

I think this is all because of the same problem that was here (unrelated to the packages)









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

