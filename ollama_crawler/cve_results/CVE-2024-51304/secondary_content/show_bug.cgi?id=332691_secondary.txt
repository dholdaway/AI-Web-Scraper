Title: 332691 – [java-overlay] dev-java/icedtea-6.1.8.1 failed compile
URL: https://bugs.gentoo.org/show_bug.cgi?id=332691

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 332691
[java-overlay] dev-java/icedtea-6.1.8.1 failed compile
Last modified: 2010-08-27 08:58:05 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 332691 
      - [java-overlay] dev-java/icedtea-6.1.8.1 failed compile


Summary:
[java-overlay] dev-java/icedtea-6.1.8.1 failed compile
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Java

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       blocker
      


Assignee:

Java team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2010-08-14 04:33 UTC by Geoff Madden





      Modified:
    
2010-08-27 08:58 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build log

              (build.log,225.31 KB,
                text/plain)

            
2010-08-14 04:34 UTC,

            Geoff Madden




Details





environment file

              (environment,165.40 KB,
                text/plain)

            
2010-08-14 04:35 UTC,

            Geoff Madden




Details





result of emerge info

              (emerge.inf,5.01 KB,
                text/plain)

            
2010-08-14 04:36 UTC,

            Geoff Madden




Details





eclass debug log  may or may not be relevant

              (eclass-debug.log,4.52 KB,
                text/plain)

            
2010-08-14 04:37 UTC,

            Geoff Madden




Details





my attempt to get the flags

              (flags,150 bytes,
                text/plain)

            
2010-08-14 04:38 UTC,

            Geoff Madden




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Geoff Madden





          2010-08-14 04:33:05 UTC
        

Sanity check passed.
/bin/mkdir -p /var/tmp/portage/dev-java/icedtea-6.1.8.1/work/icedtea6-1.8.1/openjdk/build/linux-i586/langtools
(cd  ./langtools/make && \
	 /usr/bin/make JDK_TOPDIR=/var/tmp/portage/dev-java/icedtea-6.1.8.1/work/icedtea6-1.8.1/openjdk/jdk JDK_MAKE_SHARED_DIR=/var/tmp/portage/dev-java/icedtea-6.1.8.1/work/icedtea6-1.8.1/openjdk/jdk/make/common/shared EXTERNALSANITYCONTROL=true TARGET_CLASS_VERSION=5 MILESTONE=fcs BUILD_NUMBER=b18 JDK_BUILD_NUMBER=b18 FULL_VERSION=1.6.0_18-b18 PREVIOUS_JDK_VERSION=1.6.0 JDK_VERSION=1.6.0_18 JDK_MKTG_VERSION=6u18 JDK_MAJOR_VERSION=1 JDK_MINOR_VERSION=6 JDK_MICRO_VERSION=0 ARCH_DATA_MODEL=32 COOKED_JDK_UPDATE_VERSION=180 COOKED_BUILD_NUMBER=18 ANT_HOME="/usr/share/ant" ALT_OUTPUTDIR=/var/tmp/portage/dev-java/icedtea-6.1.8.1/work/icedtea6-1.8.1/openjdk/build/linux-i586/langtools ALT_BOOTDIR=/var/tmp/portage/dev-java/icedtea-6.1.8.1/work/icedtea6-1.8.1/bootstrap/jdk1.6.0 all)
make[2]: Entering directory `/var/tmp/portage/dev-java/icedtea-6.1.8.1/work/icedtea6-1.8.1/openjdk/langtools/make'
JAVA_HOME=/var/tmp/portage/dev-java/icedtea-6.1.8.1/work/icedtea6-1.8.1/bootstrap/jdk1.6.0 ANT_OPTS=-Djava.io.tmpdir='/var/tmp/portage/dev-java/icedtea-6.1.8.1/work/icedtea6-1.8.1/openjdk/build/linux-i586/langtools/build/ant-tmp' /usr/bin/ant -diagnostics > /var/tmp/portage/dev-java/icedtea-6.1.8.1/work/icedtea6-1.8.1/openjdk/build/linux-i586/langtools/build/ant-diagnostics.log ; \
	  JAVA_HOME=/var/tmp/portage/dev-java/icedtea-6.1.8.1/work/icedtea6-1.8.1/bootstrap/jdk1.6.0 ANT_OPTS=-Djava.io.tmpdir='/var/tmp/portage/dev-java/icedtea-6.1.8.1/work/icedtea6-1.8.1/openjdk/build/linux-i586/langtools/build/ant-tmp' /usr/bin/ant -version >> /var/tmp/portage/dev-java/icedtea-6.1.8.1/work/icedtea6-1.8.1/openjdk/build/linux-i586/langtools/build/ant-diagnostics.log
Invalid implementation version between Ant core and Ant optional tasks.
 core    : 1.8.1 in file:/usr/share/ant-core/lib/ant.jar
 optional: 1.8.0 in file:/usr/share/ant-nodeps/lib/ant-nodeps.jar
Invalid implementation version between Ant core and Ant optional tasks.
 core    : 1.8.1 in file:/usr/share/ant-core/lib/ant.jar
 optional: 1.8.0 in file:/usr/share/ant-nodeps/lib/ant-nodeps.jar
make[2]: *** [/var/tmp/portage/dev-java/icedtea-6.1.8.1/work/icedtea6-1.8.1/openjdk/build/linux-i586/langtools/build/ant-diagnostics.log] Error 1
make[2]: Leaving directory `/var/tmp/portage/dev-java/icedtea-6.1.8.1/work/icedtea6-1.8.1/openjdk/langtools/make'
make[1]: *** [langtools-build] Error 2
make[1]: Leaving directory `/var/tmp/portage/dev-java/icedtea-6.1.8.1/work/icedtea6-1.8.1/openjdk'
make: *** [stamps/icedtea.stamp] Error 2
 [31;01m*[0m ERROR: dev-java/icedtea-6.1.8.1 failed:
 [31;01m*[0m   make failed
 [31;01m*[0m 
 [31;01m*[0m Call stack:
 [31;01m*[0m     ebuild.sh, line  54:  Called src_compile
 [31;01m*[0m   environment, line 4456:  Called die
 [31;01m*[0m The specific snippet of code:
 [31;01m*[0m       emake -j 1 || die "make failed"
 [31;01m*[0m 
 [31;01m*[0m If you need support, post the output of 'emerge --info =dev-java/icedtea-6.1.8.1',
 [31;01m*[0m the complete build log and the output of 'emerge -pqv =dev-java/icedtea-6.1.8.1'.
!!! When you file a bug report, please include the following information:
GENTOO_VM=icedtea6  CLASSPATH="" JAVA_HOME=""
JAVACFLAGS="" COMPILER=""
and of course, the output of emerge --info
 [31;01m*[0m The complete build log is located at '/var/tmp/portage/dev-java/icedtea-6.1.8.1/temp/build.log'.
 [31;01m*[0m The ebuild environment file is located at '/var/tmp/portage/dev-java/icedtea-6.1.8.1/temp/environment'.
 [31;01m*[0m S: '/var/tmp/portage/dev-java/icedtea-6.1.8.1/work/icedtea6-1.8.1'


This's the last bit of the compile,so maybe you can make more sense than I of it.




Comment 1


Geoff Madden





          2010-08-14 04:34:45 UTC
        

Created attachment 242889 [details]
build log




Comment 2


Geoff Madden





          2010-08-14 04:35:25 UTC
        

Created attachment 242891 [details]
environment file




Comment 3


Geoff Madden





          2010-08-14 04:36:16 UTC
        

Created attachment 242893 [details]
result of emerge info




Comment 4


Geoff Madden





          2010-08-14 04:37:38 UTC
        

Created attachment 242895 [details]
eclass debug log  may or may not be relevant




Comment 5


Geoff Madden





          2010-08-14 04:38:40 UTC
        

Created attachment 242897 [details]
my attempt to get the flags




Comment 6


Geoff Madden





          2010-08-14 07:13:57 UTC
        

(In reply to comment #5)
> Created an attachment (id=242897) [details]
> my attempt to get the flags
> 

dunno what's going on here,just did an eix and icedtea-6.1.8.1 is actually installed. Is this a problem caused by the latest news item to recompile the world files due to a compile instruction being added. !!!???




Comment 7


Vlastimil Babka (Caster) (RETIRED)






          2010-08-26 23:10:36 UTC
        

Make sure your installed dev-java/ant-nodeps package has the same version as dev-java/ant-core (1.8.1). I don't know which exact emerge command you used but the deps should normally ensure this.




Comment 8


Geoff Madden





          2010-08-27 08:34:11 UTC
        

(In reply to comment #7)
> Make sure your installed dev-java/ant-nodeps package has the same version as
> dev-java/ant-core (1.8.1). I don't know which exact emerge command you used but
> the deps should normally ensure this.
> 

ant-nodeps-1.8.1 is installed,I'm not in attendance at all times when updating,so it's possible that the system may have reemerged icedtea after installing the ant depend.




Comment 9


Vlastimil Babka (Caster) (RETIRED)






          2010-08-27 08:58:05 UTC
        

OK so let's close this as we can't say why it happened.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

