Title: 665354 – dev-python/nautilus-python-1.1-r2 patch: Drop "introspection"
URL: https://bugs.gentoo.org/show_bug.cgi?id=665354

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 665354
dev-python/nautilus-python-1.1-r2 patch: Drop "introspection"
Last modified: 2018-12-11 18:30:10 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 665354 
      - dev-python/nautilus-python-1.1-r2 patch: Drop "introspection"


Summary:
dev-python/nautilus-python-1.1-r2 patch: Drop "introspection"
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Alexandre Rostovtsev (RETIRED)








URL:







Whiteboard:




Keywords:

PATCH







Depends on:




665764



Blocks:







 

        Show dependency tree





 





      Reported:
    
2018-09-06 11:50 UTC by David Heidelberg (okias)





      Modified:
    
2018-12-11 18:30 UTC
      (History)
    




          CC List:
        

3 
          users
          
            (show)
          



jstein
leio
poncho









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




nautilus.patch

              (nautilus.patch,444 bytes,
                patch)

            
2018-09-06 11:50 UTC,

            David Heidelberg (okias)




Details
            | Diff





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


David Heidelberg (okias)





          2018-09-06 11:50:50 UTC
        

Created attachment 546056 [details, diff]
nautilus.patch

introspection USE has been dropped from newer gnome nautilus ebuilds




Comment 1


David Heidelberg (okias)





          2018-11-26 23:26:09 UTC
        

pretty please, patch attached.




Comment 2


David Heidelberg (okias)





          2018-12-08 15:52:45 UTC
        

can be this issue together with #665764 escalated?

I'm kinda tired to keep it maintained only for myself..




Comment 3


poncho





          2018-12-08 16:24:15 UTC
        

(In reply to David Heidelberg (okias) from comment #0)
> introspection USE has been dropped from newer gnome nautilus ebuilds

The only nautilus version available in gentoo is nautilus-3.24.2.1-r1 and it has the introspection use flag:
https://gitweb.gentoo.org/repo/gentoo.git/tree/gnome-base/nautilus/nautilus-3.24.2.1-r1.ebuild#n14

nautilus-3.26.4-r1 available in the gnome overlay has the introspection use flag as well:
https://gitweb.gentoo.org/proj/gnome.git/tree/gnome-base/nautilus/nautilus-3.26.4-r1.ebuild#n14

How do you come to the conclusion, that the introspection USE has been dropped?




Comment 4


Mart Raudsepp






          2018-12-08 17:24:55 UTC
        

nautilus-python provides support for writing extensions in python - it's essentially a nautilus extension that in turn loads python extensions. It itself does not need nautilus[introspection].
However any nautilus extension written in python would naturally have to use nautilus[introspection] for interacting with the nautilus API, thus it is just depended on here directly (the USE flag requirement). Technically any nautilus extension written in python would have to depend on nautilus-python and nautilus[introspection] for it to work; however it's better to just force nautilus[introspection] in nautilus-python already, as it's useless without, and this ensures any local nautilus extensions (not from package manager) work fine with it.

USE=introspection on nautilus is still there, and is not going anywhere, so this bug is invalid.




Comment 5


Mart Raudsepp






          2018-12-11 13:23:47 UTC
        

Actually you were right - nautilus introspection is not optional anymore - it's always built. Sorry. Just our overlay ebuild was wrong and kept the USE flag, despite it not being optional anymore (thus potentially failing to build if the flag is disabled - albeit unlikely, as gobject-introspection and gtk+[introspection] are likely to be pulled in on almost all systems with nautilus anyways)




Comment 6


Mart Raudsepp






          2018-12-11 13:26:17 UTC
        

Upstream has made it optional again - just 3.26 shipped with it not optional. Thus we'll patch nautilus to bring back gobject-introspection optionality again for 3.26 too, not remove the USE flag.




Comment 7


Mart Raudsepp






          2018-12-11 18:30:10 UTC
        

nautilus-3.26.4-r2 has restored working non-introspection build and is keeping the USE flag. 3.28 will have it too from patching it. 3.30 has it optional upstream too, thus also will have a IUSE for it.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

