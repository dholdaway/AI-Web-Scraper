Title: 603032 – sys-devel/autoconf - backport fix for AC_HEADER_MAJOR with glibc-2.25
URL: https://bugs.gentoo.org/show_bug.cgi?id=603032

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 603032
sys-devel/autoconf - backport fix for AC_HEADER_MAJOR with glibc-2.25
Last modified: 2016-12-22 22:18:34 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 603032 
      - sys-devel/autoconf - backport fix for AC_HEADER_MAJOR with glibc-2.25


Summary:
sys-devel/autoconf - backport fix for AC_HEADER_MAJOR with glibc-2.25
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo's Team for Core System packages








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2016-12-18 21:54 UTC by Mike Gilbert





      Modified:
    
2016-12-22 22:18 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



toolchain









See Also:


glibc-sysmacros





Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Mike Gilbert






          2016-12-18 21:54:09 UTC
        

It would probably be wise to backport this.

http://git.savannah.gnu.org/gitweb/?p=autoconf.git;a=commit;h=e17a30e987d7ee695fb4294a82d987ec3dc9b974

Also, I'm not sure how best to deal with existing packages without forcing eautoreconf all over the place.

Maybe it would be best to patch the deprecation warning out of glibc-2.25 and have it fail hard instead. Otherwise, sysmacros.h will be mis-detected by the old AC_HEADER_MAJOR macro.




Comment 1


Mike Gilbert






          2016-12-22 21:43:45 UTC
        

On second thought, this isn't really necessary at all. Even if AC_HEADER_MAJOR mis-detects this, sys/types.h still includes sysmacros.h; it just emits a deprecation warning as well.




Comment 2


SpanKY






          2016-12-22 22:18:34 UTC
        

right, i don't think this is needed for ebuilds because we don't do -Werror.  it might make sense to roll this sooner for autoconf for devs in general, and to quiet down ebuilds that happen to already run eautoreconf.

upstream wants to do a 2.70, but i'm not sure about the timeline on that.  i'll keep pushing on them for it.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

