Title: 677014 – sys-boot/refind-0.10.4-r2 - In file included from ../refind/global.h:54:0,                  from ../refind/lib.h:56,                  from screen.c:60: ../refind/../EfiLib/GenericBdsLib.h:964:1: error: conflicting types for ‘CatPrint’
URL: https://bugs.gentoo.org/show_bug.cgi?id=677014

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 677014
sys-boot/refind-0.10.4-r2 - In file included from ../refind/global.h:54:0,                  from ../refind/lib.h:56,                  from screen.c:60: ../refind/../EfiLib/GenericBdsLib.h:964:1: error: conflicting types for ‘CatPrint’
Last modified: 2019-04-15 14:54:26 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 677014 
      - sys-boot/refind-0.10.4-r2 - In file included from ../refind/global.h:54:0,                  from ../refind/lib.h:56,                  from screen.c:60: ../refind/../EfiLib/GenericBdsLib.h:964:1: error: conflicting types for ‘CatPrint’


Summary:
sys-boot/refind-0.10.4-r2 - In file included from ../refind/global.h:54:0,   ...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Sam Jorna (wraeth) (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2019-01-31 22:21 UTC by Nathan Shearer





      Modified:
    
2019-04-15 14:54 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



proxy-maint
sveyret









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build.log

              (build.log,3.46 KB,
                text/plain)

            
2019-01-31 22:21 UTC,

            Nathan Shearer




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Nathan Shearer





          2019-01-31 22:21:57 UTC
        

Created attachment 563388 [details]
build.log

On a fully updated x86_64 install, refind will not build:



# emerge -1v sys-boot/refind

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild   R    ] sys-boot/refind-0.10.4-r2::gentoo  USE="ext2 ext4 (gnuefi) iso9660 -btrfs (-custom-cflags) -doc -hfs -ntfs -reiserfs" 0 KiB

Total: 1 package (1 reinstall), Size of downloads: 0 KiB


>>> Verifying ebuild manifests
>>> Running pre-merge checks for sys-boot/refind-0.10.4-r2

>>> Emerging (1 of 1) sys-boot/refind-0.10.4-r2::gentoo
 * refind-src-0.10.4.tar.gz BLAKE2B SHA512 size ;-) ...                                                                       [ ok ]
>>> Unpacking source...
>>> Unpacking refind-src-0.10.4.tar.gz to /var/tmp/portage/sys-boot/refind-0.10.4-r2/work
>>> Source unpacked in /var/tmp/portage/sys-boot/refind-0.10.4-r2/work
>>> Preparing source in /var/tmp/portage/sys-boot/refind-0.10.4-r2/work/refind-0.10.4 ...
>>> Source prepared.
>>> Configuring source in /var/tmp/portage/sys-boot/refind-0.10.4-r2/work/refind-0.10.4 ...
>>> Source configured.
>>> Compiling source in /var/tmp/portage/sys-boot/refind-0.10.4-r2/work/refind-0.10.4 ...
make -j1 ARCH=x86_64 GENFW=/usr/bin/GenFw CC=x86_64-pc-linux-gnu-gcc AS=x86_64-pc-linux-gnu-as LD=x86_64-pc-linux-gnu-ld AR=x86_64-pc-linux-gnu-ar RANLIB=x86_64-pc-linux-gnu-ranlib OBJCOPY=x86_64-pc-linux-gnu-objcopy 'GNUEFI_LDFLAGS=-T $(GNUEFI_LDSCRIPT) -shared -nostdlib -Bsymbolic                       -L$(EFILIB) -L$(GNUEFILIB) $(CRTOBJS) -znocombreloc -zdefs' TIANO_LDSCRIPT=/usr/lib/GccBase.lds 'TIANO_LDFLAGS=-n -q --gc-sections -nostdlib                         --script=$(TIANO_LDSCRIPT)                      --defsym=PECOFF_HEADER_SIZE=0x228                    --entry $(ENTRYPOINT) -u $(ENTRYPOINT) -m $(LD_CODE)' gnuefi 
make MAKEWITH=GNUEFI -C libeg
make[1]: Entering directory '/var/tmp/portage/sys-boot/refind-0.10.4-r2/work/refind-0.10.4/libeg'
x86_64-pc-linux-gnu-gcc -fno-PIE -Os -fno-strict-aliasing -fno-stack-protector -fshort-wchar -Wall -DEFIX64 -DEFI_FUNCTION_WRAPPER -m64 -mno-red-zone  -fpic -I/usr/include/efi -I/usr/include/efi/x86_64 -I/usr/include/efi/protocol -I../include -I../refind -I../libeg -I../mok -I. -I./../include \
      -D__MAKEWITH_GNUEFI -DREFIND_VERSION='L"0.10.4"' -c screen.c -o screen.o
In file included from ../refind/global.h:54:0,
                 from ../refind/lib.h:56,
                 from screen.c:60:
../refind/../EfiLib/GenericBdsLib.h:964:1: error: conflicting types for ‘CatPrint’
 CatPrint (
 ^~~~~~~~
In file included from libegint.h:42:0,
                 from screen.c:58:
/usr/include/efi/efilib.h:516:1: note: previous declaration of ‘CatPrint’ was here
 CatPrint (
 ^~~~~~~~
make[1]: *** [../Make.common:159: screen.o] Error 1
make[1]: Leaving directory '/var/tmp/portage/sys-boot/refind-0.10.4-r2/work/refind-0.10.4/libeg'
make: *** [Makefile:64: gnuefi] Error 2
 * ERROR: sys-boot/refind-0.10.4-r2::gentoo failed (compile phase):
 *   emake failed
 * 
 * If you need support, post the output of `emerge --info '=sys-boot/refind-0.10.4-r2::gentoo'`,
 * the complete build log and the output of `emerge -pqv '=sys-boot/refind-0.10.4-r2::gentoo'`.
 * The complete build log is located at '/var/tmp/portage/sys-boot/refind-0.10.4-r2/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/sys-boot/refind-0.10.4-r2/temp/environment'.
 * Working directory: '/var/tmp/portage/sys-boot/refind-0.10.4-r2/work/refind-0.10.4'
 * S: '/var/tmp/portage/sys-boot/refind-0.10.4-r2/work/refind-0.10.4'

>>> Failed to emerge sys-boot/refind-0.10.4-r2




Comment 1


Nathan Shearer





          2019-04-15 14:54:26 UTC
        

For a short time many of my systems could not compile refind, but now I can't reproduce the bug anymore. Something was updated and the issue appears fixed now.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

