Title: 346013 – dev-texlive/texlive-basic-2010 fails to build can't find dehypht-x-2009-06-19.tex
URL: https://bugs.gentoo.org/show_bug.cgi?id=346013

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 346013
dev-texlive/texlive-basic-2010 fails to build can't find dehypht-x-2009-06-19.tex
Last modified: 2013-04-23 15:08:22 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 346013 
      - dev-texlive/texlive-basic-2010 fails to build can't find dehypht-x-2009-06-19.tex


Summary:
dev-texlive/texlive-basic-2010 fails to build can't find dehypht-x-2009-06-19...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Development

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

TeX project








URL:







Whiteboard:




Keywords:









Duplicates (2):
    

346745 466580

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2010-11-19 00:02 UTC by Keith Harrison





      Modified:
    
2013-04-23 15:08 UTC
      (History)
    




          CC List:
        

4 
          users
          
            (show)
          



aballier
gentoo
omar_sharif70
roehner









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build.log

              (build.log,22.08 KB,
                text/plain)

            
2010-11-19 00:07 UTC,

            Keith Harrison




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Keith Harrison





          2010-11-19 00:02:01 UTC
        

Tried updating system but texlive-basic won't build.  This update worked fine on my other gentoo boxes but I can't find out what is wrong here.  I even did an emerge -e world --keep-going and it got about 2/3rds of the way done before quitting for some other unrelated reason.

Reproducible: Always

Steps to Reproduce:
1.emerge texlive-basic

Actual Results:  
50 preloaded fonts
0 words of pdf memory
0 indirect objects
No pages of output.
Transcript written on luatex.log.
fmtutil: /var/tmp/portage/dev-texlive/texlive-basic-2010/work/texmf-var/web2c/luatex/luatex.fmt installed.
fmtutil: running `mf-nowin -ini   -jobname=mf -progname=mf -translate-file=cp227.tcx mf.ini' ...
This is METAFONT, Version 2.718281 (TeX Live 2010) (INIMF)
(/usr/share/texmf/web2c/cp227.tcx)

(/var/tmp/portage/dev-texlive/texlive-basic-2010/work/texmf-dist/metafont/confi
g/mf.ini
(/var/tmp/portage/dev-texlive/texlive-basic-2010/work/texmf-dist/metafont/base/
plain.mf
Preloading the plain base, version 2.71: preliminaries,
 basic constants and mathematical macros,
 macros for converting from device-independent units to pixels,
 macros and tables for various modes of operation,
 macros for drawing and filling,
 macros for proof labels and rules,
 macros for character and font administration,
and a few last-minute items.)
(/var/tmp/portage/dev-texlive/texlive-basic-2010/work/texmf-dist/metafont/misc/
modes.mf) )
Beginning to dump on file mf.base
 (base=mf 2010.11.18)
2225 strings of total length 30183
11864 memory locations dumped; current usage is 3658&7844
1004 symbolic tokens
Transcript written on mf.log.
fmtutil: /var/tmp/portage/dev-texlive/texlive-basic-2010/work/texmf-var/web2c/metafont/mf.base installed.
fmtutil: running `pdftex -ini   -jobname=etex -progname=etex -translate-file=cp227.tcx *etex.ini' ...
This is pdfTeX, Version 3.1415926-1.40.11 (TeX Live 2010) (INITEX)
 restricted \write18 enabled.
 (/usr/share/texmf/web2c/cp227.tcx)
entering extended mode

(/var/tmp/portage/dev-texlive/texlive-basic-2010/work/texmf-dist/tex/plain/conf
ig/etex.ini
(/var/tmp/portage/dev-texlive/texlive-basic-2010/work/texmf-dist/tex/plain/etex
/etex.src
(/var/tmp/portage/dev-texlive/texlive-basic-2010/work/texmf-dist/tex/plain/base
/plain.tex Preloading the plain format: codes, registers, parameters, fonts,
more fonts, macros, math definitions, output routines, hyphenation
(/usr/share/texmf/tex/generic/hyphen/hyphen.tex
[skipping from \patterns to end-of-file...]))
(/var/tmp/portage/dev-texlive/texlive-basic-2010/work/texmf-dist/tex/plain/etex
/etexdefs.lib Skipping module "grouptypes"; Loading module "interactionmodes";
Skipping module "nodetypes"; Skipping module "iftypes";)
(/usr/share/texmf/tex/generic/config/language.def
(/usr/share/texmf/tex/generic/hyphen/hyphen.tex)
! I can't find file `dehypht-x-2009-06-19.tex'.
\addlanguage ...me =#5 \uselanguage {#1}\input #2 
                                                  \if *#3*\else \input #3 \f...
l.32 ...9-06-19}{dehypht-x-2009-06-19.tex}{}{2}{2}
                                                  
(Press Enter to retry, or Control-D to exit)
Please type another input file name: 
! Emergency stop.
\addlanguage ...me =#5 \uselanguage {#1}\input #2 
                                                  \if *#3*\else \input #3 \f...
l.32 ...9-06-19}{dehypht-x-2009-06-19.tex}{}{2}{2}
                                                  
No pages of output.
Transcript written on etex.log.
Error: `pdftex -ini  -jobname=etex -progname=etex -translate-file=cp227.tcx *etex.ini' failed
fmtutil: running `pdftex -ini   -jobname=pdfetex -progname=pdfetex -translate-file=cp227.tcx *pdfetex.ini' ...
This is pdfTeX, Version 3.1415926-1.40.11 (TeX Live 2010) (INITEX)
 restricted \write18 enabled.
 (/usr/share/texmf/web2c/cp227.tcx)
entering extended mode

Expected Results:  
Successful emerge

Portage 2.2.0_alpha4 (default/linux/x86/10.0, gcc-4.4.5, glibc-2.12.1-r3, 2.6.34-gentoo-r12 i686)
=================================================================
System uname: Linux-2.6.34-gentoo-r12-i686-Intel-R-_Pentium-R-_4_CPU_2.80GHz-with-gentoo-2.0.1
Timestamp of tree: Thu, 18 Nov 2010 23:15:01 +0000
app-shells/bash:     4.1_p9
dev-java/java-config: 2.1.11-r2
dev-lang/python:     2.6.6-r1, 3.1.2-r4
dev-util/cmake:      2.8.1-r2
sys-apps/baselayout: 2.0.1-r1
sys-apps/openrc:     0.6.4
sys-apps/sandbox:    2.3-r1
sys-devel/autoconf:  2.13, 2.68
sys-devel/automake:  1.8.5-r4, 1.9.6-r3, 1.10.3, 1.11.1
sys-devel/binutils:  2.20.1-r1
sys-devel/gcc:       4.3.5, 4.4.5
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   2.4
sys-devel/make:      3.82
virtual/os-headers:  2.6.34 (sys-kernel/linux-headers)
Repositories: gentoo local-repo
ACCEPT_KEYWORDS="x86 ~x86"
ACCEPT_LICENSE="*"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-Os -march=pentium4 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/config"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php5.3/ext-active/ /etc/php/cgi-php5.3/ext-active/ /etc/php/cli-php5.3/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/splash /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c"
CXXFLAGS="-Os -march=pentium4 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="assume-digests binpkg-logs distlocks fixlafiles fixpackages news parallel-fetch preserve-libs protect-owned sandbox sfperms strict unknown-features-warn unmerge-logs unmerge-orphans userfetch"
GENTOO_MIRRORS="http://www.cyberuse.com/gentoo/ http://distro.ibiblio.org/pub/linux/distributions/gentoo/ http://gentoo.netnitco.net http://gentoo.wetzlmayr.com/ http://gentoo.mirrors.tds.net/gentoo"
LANG="en_US.UTF-8"
LDFLAGS="-Wl,-O1 -Wl,--as-needed"
LINGUAS="en"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_EXTRA_OPTS="--progress"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.namerica.gentoo.org/gentoo-portage"
USE="32bit X a52 aac acl acpi alsa apache2 artworkextra asf audiofile automount avahi berkdb branding bzip2 cairo caps cdda cddb cdio cdparanoia cdr cli consolekit cracklib crypt cups curl cxx dbus device-mapper dri dvd dvdr dvi encode escreen fbcondecor ffmpeg firefox flac foomaticdb fortran fuse gd gdbm gdu gif gimp glib glibc-omitfp gmp gnome gnomecd gnutls google-gadgets gphoto2 gpm gstreamer gtk hal iconv id3tag ifp imagemagick imlib inotify ipv6 ithreads java java5 java6 jpeg jpeg2k kde lame laptop latex libnotify libwww logrotate lua lzma mad md5sum mdnsresponder-compat mmap mmx mng modules mp2 mp3 mp4 mpeg mplayer mtp mudflap musicbrainz mysql nautilus ncurses nls nptl nptlonly nsplugin offensive ogg openal openexr opengl openmp pam pcre pdf perl php plotutils png policykit posix ppds pppd python qt3support qt4 quicktime rar rdp readline rtc ruby samba scanner sdl semantic-desktop session sift skins smbclient sndfile spell sqlite sse sse2 ssl startup-notification svg sysfs tcpd theora threads tiff transcode truetype twolame unicode usb vcd vim-with-x visualization vnc vorbis webkit win32codecs wmf wxwidgets wxwindows x264 x86 xcomposite xine xinerama xml xorg xpm xscreensaver xulrunner xv xvid xvmc zip zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1 emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cgi cgid dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CAMERAS="canon" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf superstar2 timing tsip tripmate tnt ubx" INPUT_DEVICES="mouse keyboard evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en" PHP_TARGETS="php5-2" RUBY_TARGETS="ruby18" SANE_BACKENDS="genesys" USERLAND="GNU" VIDEO_CARDS="nvidia" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account" 
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LC_ALL, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS




Comment 1


Keith Harrison





          2010-11-19 00:07:05 UTC
        

Created attachment 254773 [details]
build.log




Comment 2


Alexis Ballier






          2010-11-19 15:57:56 UTC
        

do you have texlive-langgerman installed ?




Comment 3


Keith Harrison





          2010-11-19 17:02:15 UTC
        

Hi, thanks for your help.

No, langgerman is not installed.




Comment 4


Alexis Ballier






          2010-11-19 17:12:00 UTC
        

then do you have anything releated to texlive-langgerman in /etc/texmf/language.dat.d ?

$ grep dehypht-x-2009-06-19.tex /etc/texmf/language.dat.d/*
/etc/texmf/language.dat.d/language.texlive-langgerman.dat:german-x-2009-06-19 dehypht-x-2009-06-19.tex







Comment 5


Keith Harrison





          2010-11-19 17:22:49 UTC
        

Not that I can see:


# ls /etc/texmf/language.dat.d/
total 8
drwxr-xr-x  2 root root 4096 Nov 18 10:49 ./
drwxr-xr-x 14 root root 4096 Nov 18 10:49 ../
-rw-r--r--  1 root root    0 Nov 18 10:49 .keep_app-text_texlive-core-0
# grep -R dehypht /etc/texmf/
# grep -R langgerman /etc/texmf/
# locate dehypht
# locate langgerman
/usr/portage/dev-texlive/texlive-langgerman
/usr/portage/dev-texlive/texlive-langgerman/ChangeLog
/usr/portage/dev-texlive/texlive-langgerman/Manifest
/usr/portage/dev-texlive/texlive-langgerman/metadata.xml
/usr/portage/dev-texlive/texlive-langgerman/texlive-langgerman-2008.ebuild
/usr/portage/dev-texlive/texlive-langgerman/texlive-langgerman-2009.ebuild
/usr/portage/dev-texlive/texlive-langgerman/texlive-langgerman-2010.ebuild
/usr/portage/metadata/cache/dev-texlive/texlive-langgerman-2008
/usr/portage/metadata/cache/dev-texlive/texlive-langgerman-2009
/usr/portage/metadata/cache/dev-texlive/texlive-langgerman-2010
/var/cache/edb/dep/usr/portage/dev-texlive/texlive-langgerman-2008
/var/cache/edb/dep/usr/portage/dev-texlive/texlive-langgerman-2009
#




Comment 6


Keith Harrison





          2010-11-19 17:41:16 UTC
        

Not sure if this has anything to do with it.  

There is a file "/usr/share/texmf/tex/generic/config/language.dat" that doesn't appear on my other gentoo systems:

# equery belongs language.dat
 * Searching for language.dat ... 
app-text/texlive-core-2010 (/usr/share/texmf/tex/generic/config/language.dat)




Comment 7


Alexis Ballier






          2010-11-19 18:36:36 UTC
        

that file should be there, but it is regenerated by texmf-update

could you please attach that language.dat file and give me the output of the "texmf-update" command ran as root ?




Comment 8


Keith Harrison





          2010-11-19 21:55:06 UTC
        

Your questions got me thinking and I did something along these lines and it seemed to have fixed whatever was wrong:

1. Unmerged dev-tex/* and dev-texlive/*
2. Removed the directories /etc/texmf /var/lib/texmf /usr/share/texmf-*
3. emerge -uDN @world

I did this before I saw your last question, I hope you didn't need that information for anything else, but thankfully everything seems to be fixed now.

Thanks so much for your help.




Comment 9


Alexis Ballier






          2010-11-29 02:51:06 UTC
        

*** Bug 346745 has been marked as a duplicate of this bug. ***




Comment 10


Keith Harrison





          2010-11-29 03:06:50 UTC
        

Reopening since others seem to be having this problem and are being marked as duplicates of this bug.




Comment 11


Mark J. Olah





          2010-12-06 22:30:23 UTC
        

I experienced a similar bug with a missing 'dehypht-x-2009-06-19.tex' file giving an error.  I did not have texlive-langgerman installed but may have in the past (2008?).  I found a stray file:
/etc/texmf/tex/generic/config/language.dat

This file did not belong to any installed package.  Removing it solved it for me.




Comment 12


Ben Blum





          2011-01-04 12:40:10 UTC
        

Running texmf-update did not work for me, and removing /etc/texmf/tex/generic/config/language.dat also did not work. But running texmf-update after removing the file did work.




Comment 13


Alexis Ballier






          2011-01-11 13:11:55 UTC
        

(In reply to comment #11)
> I experienced a similar bug with a missing 'dehypht-x-2009-06-19.tex' file
> giving an error.  I did not have texlive-langgerman installed but may have in
> the past (2008?).  I found a stray file:
> /etc/texmf/tex/generic/config/language.dat

Well, this file is not in the right place. Having it here will confuse texmf-update for sure. Removing it is the correct solution and there's nothing I can do I'm afraid :(




Comment 14


Carsten Lohrke (RETIRED)






          2011-07-07 10:14:58 UTC
        

This bug will hit older systems as it did here. I'm not sure, if the stale files I found are bound to buggy tex ebuilds back to 2003...2006 or the quality status of Portage back then, but in my case fmutil picked up

/var/lib/texmf/tex/generic/config/language.dat

Investigating the issue, I found a lot of stale files in /var/lib/texmf

as well as

/usr/share/texmf/dvips/config/psfonts_pk.map
/usr/share/texmf/dvips/config/builtin35.map
/usr/share/texmf/dvips/config/pdftex_ndl14.map
/usr/share/texmf/dvips/config/download35.map
/usr/share/texmf/dvips/config/pdftex_dl14.map
/usr/share/texmf/dvips/config/psfonts_t1.map
/usr/share/texmf/dvips/config/dvipdfm_ndl14.map
/usr/share/texmf/dvips/config/ps2pk.map
/usr/share/texmf/dvips/config/dvipdfm_dl14.map
/usr/share/texmf/fonts/pk/ljfour/public/cm/cmbx12.720pk
/usr/share/texmf/fonts/pk/ljfour/public/cm/cmr17.720pk
/usr/share/texmf/fonts/pk/ljfour/public/cm/cmr12.720pk
/usr/share/texmf/fonts/pk/ljfour/public/cm/cmtt12.600pk
/usr/share/texmf/fonts/pk/ljfour/public/cm/cmbx7.600pk
/usr/share/texmf/fonts/pk/ljfour/public/cm/cmr10.600pk
/usr/share/texmf/fonts/pk/ljfour/public/cm/cmr9.600pk
/usr/share/texmf/fonts/pk/ljfour/public/cm/cmbx12.864pk
/usr/share/texmf/fonts/pk/ljfour/public/cm/cmsy7.600pk
/usr/share/texmf/fonts/pk/ljfour/public/cm/cmr12.600pk
/usr/share/texmf/fonts/pk/ljfour/public/cm/cmcsc10.720pk
/usr/share/texmf/fonts/pk/ljfour/public/cm/cmbxti10.600pk
/usr/share/texmf/fonts/pk/ljfour/public/cm/cmss12.600pk
/usr/share/texmf/fonts/pk/ljfour/public/cm/cmbx12.600pk
/usr/share/texmf/fonts/pk/ljfour/public/cm/cmmi10.600pk
/usr/share/texmf/fonts/pk/ljfour/public/cm/cmr10.657pk
/usr/share/texmf/fonts/pk/ljfour/public/cm/cmbsy10.600pk
/usr/share/texmf/fonts/pk/ljfour/public/cm/cmti9.600pk
/usr/share/texmf/fonts/pk/ljfour/public/cm/cmtt8.600pk
/usr/share/texmf/fonts/pk/ljfour/public/cm/cmbx10.600pk
/usr/share/texmf/fonts/pk/ljfour/public/cm/cmtt10.600pk
/usr/share/texmf/fonts/pk/ljfour/public/cm/cmsy10.600pk
/usr/share/texmf/fonts/pk/ljfour/public/cm/cmsl12.600pk
/usr/share/texmf/fonts/pk/ljfour/public/cm/cmsy10.720pk
/usr/share/texmf/fonts/pk/ljfour/public/cm/cmbx10.657pk
	
not being referenced nowadays. Running

`kpsewhich language.dat` either after installing texlive-core or before building texlive-basic, matching it with the installed one maybe plus checking the date of the file and printing a warning accordingly would be user friendly.




Comment 15


Alexis Ballier






          2011-07-07 13:58:43 UTC
        

well... then if its due to stale files what do you think can be done on ebuild side ? I wont give a list of any single file that can make it break in order to delete it if it exists.

The migration guide [1] gives you a list of files to delete but you can obviously put them somewhere else so that it breaks in the same way...

Still 'worksforme'...

[1] http://www.gentoo.org/proj/en/tex/texlive-migration-guide.xml




Comment 16


Alexis Ballier






          2013-04-23 15:08:22 UTC
        

*** Bug 466580 has been marked as a duplicate of this bug. ***









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

