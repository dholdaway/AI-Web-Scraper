Title: 97023 – ipp2p 0.74 fails
URL: https://bugs.gentoo.org/show_bug.cgi?id=97023

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 97023
ipp2p 0.74 fails
Last modified: 2005-06-30 06:39:56 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 97023 
      - ipp2p 0.74 fails


Summary:
ipp2p 0.74 fails
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Developers for the x86 Architecture








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-06-25 03:47 UTC by Patrizio Bassi





      Modified:
    
2005-06-30 06:39 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



eradicator









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Patrizio Bassi





          2005-06-25 03:47:51 UTC
        

emerge info
Portage 2.0.51.22-r1 (default-linux/x86/2005.0, gcc-3.4.4, glibc-2.3.5-r0, 2.6.12-git4 i686)
=================================================================
System uname: 2.6.12-git4 i686 Pentium III (Katmai)
Gentoo Base System version 1.6.12
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
ccache version 2.4 [disabled]
dev-lang/python:     2.3.5-r1, 2.4.1-r1
sys-apps/sandbox:    1.2.9
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.5
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.18
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O3 -mtune=pentium3 -march=pentium3 -pipe -fomit-frame-pointer -mmmx -msse"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /opt/openjms/config /usr/kde/2/share/config /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config /var/bind /var/qmail/control /var/run/dspam /var/spool/dspam"
CONFIG_PROTECT_MASK="/etc/gconf /etc/splash /etc/terminfo /etc/texmf/web2c /etc/env.d"
CXXFLAGS="-O3 -mtune=pentium3 -march=pentium3 -pipe -fomit-frame-pointer -mmmx -msse"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks fixpackages sandbox sfperms strict"
GENTOO_MIRRORS="http://gentoo.ngi.it http://www.die.unipd.it/pub/Linux/distributions/gentoo-sources/"
LANG="it_IT@euro"
LC_ALL="it_IT@euro"
LINGUAS="it"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="x86 X X509 Xaw3d a52 aac aalib acl acpi activefilter adns alsa apache2 apm arts audiofile avi bash-completion berkdb bidi bitmap-fonts bonobo bootsplash caps cdda cddb cdio cdparanoia cdr chroot clamav client codecs crypt css cups curl dga dhcp directfb divx4linux djbfft dlloader edl eds emboss encode ethereal exif faac faad fam fbcon ffmpeg fftw flac flash foomaticdb foreign-package fortran freetds gcj gd gdbm ggi gif gimp gimpprint gnokii gnome gphoto2 gpm graphviz gs gstreamer gtk gtk2 gtkhtml guile iconv idea imagemagick imlib innodb irda irmc jack java javascript jikes jit joystick jpeg jpeg2k junit justify kde kdeenablefinal kerberos lcd ldap libcaca libclamav libg++ libgda libusb libwww lirc live lm_sensors lzo mad mailwrapper matroska md5sum mdb mikmod mime mmx mmx2 mmxext mng motif mozdevelop mozilla moznocompose moznoirc moznomail mozsvg mozxmlterm mp3 mpeg mpeg2 mpeg4 mplayer mysql mysqli mythtv nagios-dns nagios-ntp nagios-ping nagios-ssh ncurses neXt network nls nntp no_wxgtk1 nobsh nopie nossp noxalan nptl nptlonly oav odbc ogg oggvorbis opengl operanom2 oss pam pda pdf pdflib perl png pnp postgres ppds pthreads python qemu-fast qhull qt quicktime quotas readline real rrdtool rtc ruby samba scanner sdl server session sftplogging slang slp snortsam soap sockets socks5 softmmu softquota spamassassin spell sqlite3 sse ssl subject-rewrite svg svga tcltk tcpd tetex tga theora tiff truetype truetype-fonts trusted type1-fonts usb vorbis wsconvert wxwindows xanim xchatdccserver xine xinerama xml xml2 xmlrpc xmms xosd xpm xprint xv xvid xvm xvmc zlib linguas_it userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LDFLAGS, MAKEOPTS




 * Determining the location of the kernel source code
 * Found kernel source directory:
 *     /usr/src/linux
 * Found sources for kernel version:
 *     2.6.12-git4
 * Checking for suitable kernel configuration options
>>> Unpacking source...
>>> Unpacking ipp2p-0.7.4.tar.gz to /var/tmp/portage/ipp2p-0.7.4-r1/work
 * Converting ipp2p-0.7.4/Makefile to use M= instead of SUBDIRS= ...                                                  [ ok ]
>>> Source unpacked.
make -C /usr/src/linux M=/var/tmp/portage/ipp2p-0.7.4-r1/work/ipp2p-0.7.4 modules
make[1]: Entering directory `/usr/src/linux-2.6.12'
  CC [M]  /var/tmp/portage/ipp2p-0.7.4-r1/work/ipp2p-0.7.4/ipt_ipp2p.o
In file included from include/linux/irq.h:21,
                 from include/asm/hardirq.h:6,
                 from include/linux/hardirq.h:6,
                 from include/linux/interrupt.h:11,
                 from include/linux/netdevice.h:514,
                 from include/net/sock.h:48,
                 from include/net/request_sock.h:22,
                 from include/linux/ip.h:84,
                 from include/linux/netfilter_ipv4/ip_tables.h:22,
                 from /var/tmp/portage/ipp2p-0.7.4-r1/work/ipp2p-0.7.4/ipt_ipp2p.c:5:
include/asm/irq.h:16:25: irq_vectors.h: No such file or directory
In file included from include/asm/hardirq.h:6,
                 from include/linux/hardirq.h:6,
                 from include/linux/interrupt.h:11,
                 from include/linux/netdevice.h:514,
                 from include/net/sock.h:48,
                 from include/net/request_sock.h:22,
                 from include/linux/ip.h:84,
                 from include/linux/netfilter_ipv4/ip_tables.h:22,
                 from /var/tmp/portage/ipp2p-0.7.4-r1/work/ipp2p-0.7.4/ipt_ipp2p.c:5:
include/linux/irq.h:76: error: `NR_IRQS' undeclared here (not in a function)
In file included from include/linux/irq.h:78,
                 from include/asm/hardirq.h:6,
                 from include/linux/hardirq.h:6,
                 from include/linux/interrupt.h:11,
                 from include/linux/netdevice.h:514,
                 from include/net/sock.h:48,
                 from include/net/request_sock.h:22,
                 from include/linux/ip.h:84,
                 from include/linux/netfilter_ipv4/ip_tables.h:22,
                 from /var/tmp/portage/ipp2p-0.7.4-r1/work/ipp2p-0.7.4/ipt_ipp2p.c:5:
include/asm/hw_irq.h:28: error: `NR_IRQ_VECTORS' undeclared here (not in a function)
make[2]: *** [/var/tmp/portage/ipp2p-0.7.4-r1/work/ipp2p-0.7.4/ipt_ipp2p.o] Error 1
make[1]: *** [_module_/var/tmp/portage/ipp2p-0.7.4-r1/work/ipp2p-0.7.4] Error 2
make[1]: Leaving directory `/usr/src/linux-2.6.12'
make: *** [ipt_ipp2p.ko] Error 2

!!! ERROR: net-firewall/ipp2p-0.7.4-r1 failed.
!!! Function src_compile, Line 41, Exitcode 2
!!! Parallel Make Failed
!!! If you need support, post the topmost build error, NOT this status message.



probably due to linux headers.




Comment 1


Jeremy Huddleston (RETIRED)






          2005-06-29 12:33:46 UTC
        

I don't use x86 kernels, so passing...




Comment 2


Olivier Crete (RETIRED)






          2005-06-29 13:59:26 UTC
        

your using an unstable/unsupported kernel ... please try again with
gentoo-sources  from the tree ...




Comment 3


Patrizio Bassi





          2005-06-29 23:45:48 UTC
        

are you sure of that? 
include/asm/irq.h:16:25: irq_vectors.h: No such file or directory 
 
seems more a linux-header problem. 
 
i tried 2.6.13-rc1, same issue. 
 
consider that 2.6.13 will have this configuration, so you'll need to fix that later... 




Comment 4


Olivier Crete (RETIRED)






          2005-06-30 06:39:56 UTC
        

no, you are building a kernel module, therefore building against the kernel
sources.. the separate headers are used to build glibc.

And it builds ok against gentoo-sources-2.6.11-r4...









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

