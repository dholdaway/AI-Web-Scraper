Title: 141050 – app-i18n/anthy-7900 ebuild fails on amd64
URL: https://bugs.gentoo.org/show_bug.cgi?id=141050

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 141050
app-i18n/anthy-7900 ebuild fails on amd64
Last modified: 2006-10-20 17:37:44 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 141050 
      - app-i18n/anthy-7900 ebuild fails on amd64


Summary:
app-i18n/anthy-7900 ebuild fails on amd64
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Akinori Hattori








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-07-19 09:00 UTC by gentoo





      Modified:
    
2006-10-20 17:37 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



cjk









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


gentoo





          2006-07-19 09:00:00 UTC
        

I'm not able to emerge anthy-7900. I get a segmentation fault. Here's the relevant snippet:

mkdir .libs
x86_64-pc-linux-gnu-gcc -march=k8 -O3 -pipe -ftracer -W -Wall -Wwrite-strings -Wstrict-prototypes -Wmissing-prototypes -pedantic -Wno-long-long -o .libs/mkdepgraph mkdepgraph.o  ../src-main/.libs/libanthy.so -lm ../src-worddic/.libs/libanthydic.so
creating mkdepgraph
./mkdepgraph
make[2]: *** [anthy.dep] Segmentation fault
make[2]: Leaving directory `/var/tmp/portage/anthy-7900/work/anthy-7900/depgraph'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/anthy-7900/work/anthy-7900'
make: *** [all] Error 2

In fact, I haven't been able to emerge anthy since anthy-6700b.




Comment 1


gentoo





          2006-07-19 09:01:14 UTC
        

pc portage # emerge --info
Portage 2.1.1_pre3-r1 (default-linux/amd64/2006.0, gcc-3.4.6/amd64-vanilla, glibc-2.4-r3, 2.6.17-gentoo-r2 x86_64)
=================================================================
System uname: 2.6.17-gentoo-r2 x86_64 AMD Athlon(tm) 64 X2 Dual Core Processor 4400+
Gentoo Base System version 1.12.1
distcc 2.18.3 x86_64-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
app-admin/eselect-compiler: 2.0.0_rc2-r1
dev-lang/python:     2.4.3-r1
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.60
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.17
sys-devel/gcc-config: 2.0.0_rc1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.16
ACCEPT_KEYWORDS="amd64 ~amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=k8 -O3 -pipe -ftracer"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /opt/openjms/config /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/eselect/compiler /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/terminfo"
CXXFLAGS="-march=k8 -O3 -pipe -ftracer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks fixpackages metadata-transfer sandbox sfperms strict userpriv"
GENTOO_MIRRORS="http://mirror.gentoo.gr.jp http://gentoo.oregonstate.edu http://www.ibiblio.org/pub/Linux/distributions/gentoo"
LINGUAS="en en_GB en_CA ja ko sk"
MAKEOPTS="-j 3"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/overlays/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="amd64 X X509 Xaw3d a52 aac aalib acl acpi adns aliaschain alsa anthy antlr ao apache2 arts audiofile avi berkdb bitmap-fonts bonobo browserplugin bzip2 cairo caps cddb cdr chasen cjk cli cnamefix crypt cups dbus dga directfb divx4linux djbfft dlloader dnd dri dv dvb dvd dvdr dvdread eds emboss emul-linux-x86 encode erandom expat faac faad fam fbcon ffmpeg firefox flac flash fltk foomaticdb freetype freewnn fs fwdzone gd gdbm gif gnutls gphoto2 gpm gstreamer gtk2 hbci icu idea ieee1394 imap imlib2 immqt-bc ipv6 isdnlog jack jack-tmpfs java javamail javascript jbig jce jikes jms jmx jpeg jpeg2k kakasi kde kdeenablefinal ladcca lcd lcms ldap libgda libsamplerate lm_sensors log4j ltsp lua lzo lzw lzw-tiff m17n-lib mad md5sum mjpeg mmap mng mozcalendar mozsvg mp3 mpeg mpeg2 multipleip musicbrainz nas ncurses neXt network nls nntp nobsh nocd nonfsv4 noplugin nopri nptl nptlonly nsplugin ogg opengl openssh optional-tasks oro pam pcre pda pdflib perl pg-intdatetime plotutils png portaudio postgres povray ppds pppd python qt qt3 qt4 quicktime readline reflection regexp rhino rtc ruby samba sasl sdl semanticfix session slp smtp sndfile sox spell spl sqlite ssl subversion svg tcltk tcpd theora threads tiff transcode truetype truetype-fonts type1 type1-fonts unicode usb v4l2 vorbis wmf wxwindows x264 xalan xerces xface xine xml xml2 xmms xorg xosd xpm xprint xv xvid xvmc zlib elibc_glibc input_devices_keyboard input_devices_mouse kernel_linux linguas_en linguas_en_GB linguas_en_CA linguas_ja linguas_ko linguas_sk userland_GNU video_cards_fbdev video_cards_nv video_cards_vesa video_cards_vga"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, PORTAGE_RSYNC_EXTRA_OPTS






Comment 2


gentoo





          2006-07-19 20:22:22 UTC
        

Follow up to my early report:

I have tried emerging anthy-7900 (and in fact all the anthy ebuilds currently in Portage) using the following settings:

  CFLAGS="-march=k8 -O2"
  MAKEOPTS="-j 1"

mkdepgraph still fails with the same segmentation fault error.




Comment 3


Diego Elio Pettenò (RETIRED)






          2006-10-20 17:37:44 UTC
        

Unable to reproduce here, -ftracer with GCC 3.4 is known to be broken.










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

