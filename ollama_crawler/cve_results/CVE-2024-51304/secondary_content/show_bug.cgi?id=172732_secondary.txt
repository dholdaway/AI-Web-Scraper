Title: 172732 – app-text/evince-0.6.1-r3 errors out when emerging
URL: https://bugs.gentoo.org/show_bug.cgi?id=172732

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 172732
app-text/evince-0.6.1-r3 errors out when emerging
Last modified: 2007-07-11 17:48:32 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 172732 
      - app-text/evince-0.6.1-r3 errors out when emerging


Summary:
app-text/evince-0.6.1-r3 errors out when emerging
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] GNOME

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux Gnome Desktop Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-03-30 02:01 UTC by B Nice





      Modified:
    
2007-07-11 17:48 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build.log for the failed emerge

              (build.log,38.73 KB,
                text/plain)

            
2007-03-30 02:03 UTC,

            B Nice




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


B Nice





          2007-03-30 02:01:53 UTC
        

When doing an emerge -uDvN world update, evince attempted to update to the newest version. It failed with a long list of egg-toolbars-model.c errors. 

Reproducible: Always

Steps to Reproduce:
1.emerge -uDv evince
2.watch evince fail
3.

Actual Results:  
...(errors deleted to minimize space use)
egg-toolbars-model.c:700: error: too many arguments to function 'parse_names'
make[4]: *** [libtoolbareditor_la-egg-toolbars-model.lo] Error 1
make[4]: *** Waiting for unfinished jobs....
 x86_64-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I../.. -I../../lib/egg -DORBIT2=1 -pthread -I/usr/include/gtk-2.0 -I/usr/lib64/gtk-2.0/include -I/usr/include/atk-1.0 -I/usr/include/cairo -I/usr/include/pango-1.0 -I/usr/include/glib-2.0 -I/usr/lib64/glib-2.0/include -I/usr/include/libgnomeui-2.0 -I/usr/include/libgnome-2.0 -I/usr/include/libgnomecanvas-2.0 -I/usr/include/libart-2.0 -I/usr/include/gconf/2 -I/usr/include/libbonoboui-2.0 -I/usr/include/gnome-vfs-2.0 -I/usr/lib64/gnome-vfs-2.0/include -I/usr/include/gnome-keyring-1 -I/usr/include/libbonobo-2.0 -I/usr/include/orbit-2.0 -I/usr/include/bonobo-activation-2.0 -I/usr/include/freetype2 -Wall -Wmissing-prototypes -DCURSOR_DIR=\"/usr/share/evince\" -march=k8 -O2 -pipe -MT libtoolbareditor_la-egg-editable-toolbar.lo -MD -MP -MF .deps/libtoolbareditor_la-egg-editable-toolbar.Tpo -c egg-editable-toolbar.c -o libtoolbareditor_la-egg-editable-toolbar.o >/dev/null 2>&1
mv -f .deps/libtoolbareditor_la-egg-editable-toolbar.Tpo .deps/libtoolbareditor_la-egg-editable-toolbar.Plo
make[4]: Leaving directory `/var/tmp/portage/app-text/evince-0.6.1-r3/work/evince-0.6.1/cut-n-paste/toolbar-editor'
make[3]: *** [all] Error 2
make[3]: Leaving directory `/var/tmp/portage/app-text/evince-0.6.1-r3/work/evince-0.6.1/cut-n-paste/toolbar-editor'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/var/tmp/portage/app-text/evince-0.6.1-r3/work/evince-0.6.1/cut-n-paste'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/app-text/evince-0.6.1-r3/work/evince-0.6.1'
make: *** [all] Error 2

!!! ERROR: app-text/evince-0.6.1-r3 failed.
Call stack:
  ebuild.sh, line 1614:   Called dyn_compile
  ebuild.sh, line 971:   Called qa_call 'src_compile'
  environment, line 3811:   Called src_compile
  ebuild.sh, line 1304:   Called gnome2_src_compile
  gnome2.eclass, line 71:   Called die

!!! compile failure
!!! If you need support, post the topmost build error, and the call stack if relevant.
!!! A complete build log is located at '/var/tmp/portage/app-text/evince-0.6.1-r3/temp/build.log'

Expected Results:  
evince emerge successfully

Portage 2.1.2.2 (default-linux/amd64/2006.1/desktop, gcc-4.1.2, glibc-2.5-r0, 2.6.18-gentoo-r6 x86_64)
=================================================================
System uname: 2.6.18-gentoo-r6 x86_64 AMD Turion(tm) 64 Mobile Technology ML-44
Gentoo Base System release 1.12.9
Timestamp of tree: Thu, 29 Mar 2007 21:00:01 +0000
dev-java/java-config: 1.3.7, 2.0.31-r5
dev-lang/python:     2.4.3-r4
dev-python/pycrypto: 2.0.1-r5
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.61
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.14
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.17-r2
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=k8 -O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c"
CXXFLAGS="-march=k8 -O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks fixpackages metadata-transfer parallel-fetch sandbox sfperms strict"
GENTOO_MIRRORS="ftp://cs.ubishops.ca/pub/gentoo ftp://gentoo.arcticnetwork.ca/pub/gentoo/ ftp://distro.ibiblio.org/pub/linux/distributions/gentoo/ ftp://gentoo.chem.wisc.edu/gentoo/ ftp://gentoo.mirrors.pair.com/ "
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X a52 aac alsa amd64 berkdb bidi bitmap-fonts cairo cdda cdio cdparanoia cdr cli cracklib crypt cups dbus divx4linux doc dri dts dvd dvdr dvdread eds emboss encode esd exif fam ffmpeg firefox flac foomanticdb fortran freetype gdbm gif glitz glut gnome gnutls gpm gstreamer gtk gtk2 gtkhtml hal httpd iconv ipv6 isdnlog java jbig jpeg kde ldap libg++ live mad madwifi matroska midi mikmod mp3 mpeg ncurses nls nocd nptl nptlonly nvidia offensive ogg oggvorbis opengl oss pam pcre pdf perl png ppds pppd python qt3 qt3support qt4 quicktime readline reflection samba sdl seamonkey session spell spl ssl stream svg tcpd theora tiff truetype truetype-fonts type1-fonts unicode usb userlocales utf-8 vcd vlm vorbis wxwindows xine xinerama xml xorg xv xvid zlib" ALSA_CARDS="intel8x0" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" ELIBC="glibc" INPUT_DEVICES="mouse keyboard evdev synaptics" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" USERLAND="GNU" VIDEO_CARDS="nvidia"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY




Comment 1


B Nice





          2007-03-30 02:03:35 UTC
        

Created attachment 114898 [details]
build.log for the failed emerge

This is the complete emerge evince build.log




Comment 2


Daniel Gryniewicz (RETIRED)






          2007-04-16 15:11:18 UTC
        

evince needs libxml2.  I've added the dep.




Comment 3


B Nice





          2007-05-12 22:58:55 UTC
        

With the stable and the unstable version of libxml2, the error does not change on my system.  Gives the same errors either way.




Comment 4


Rémi Cardona (RETIRED)






          2007-05-13 09:40:50 UTC
        

Do you have anything in /usr/local which could interfere with evince?




Comment 5


B Nice





          2007-05-13 10:02:24 UTC
        

I don't think so. Here's the ls -las for it.
  ls -las /usr/local
total 12
4 drwxr-xr-x 10 root root   88 Oct 11  2006 .
8 drwxr-xr-x 17 root root 4096 Feb 13 10:54 ..
0 -rw-r--r--  1 root root    0 Feb  8  2006 .keep
0 drwxr-xr-x  3 root root    8 Oct 11  2006 Brother
0 drwxr-xr-x  2 root root    8 Feb  8  2006 bin
0 drwxr-xr-x  2 root root    8 Feb  8  2006 games
0 lrwxrwxrwx  1 root root    5 May  3  2006 lib -> lib64
0 drwxr-xr-x  2 root root    8 Feb  8  2006 lib32
0 drwxr-xr-x  2 root root    8 Feb  8  2006 lib64
0 lrwxrwxrwx  1 root root    9 May  3  2006 man -> share/man
0 drwxr-xr-x  2 root root    8 Feb  8  2006 sbin
0 drwxr-xr-x  4 root root   24 Feb  8  2006 share
0 drwxr-xr-x  2 root root    8 Feb  8  2006 src

The share directory only has man and doc directories in it.  The Brother directory has a cupswrapper.  src, bin, sbin, games, lib32 & lib64 are empty except for a file called .keep.  

The only other text viewers I have installed are vim, nano, adobe reader, scribus, lyx and OO.org.   




Comment 6


Gilles Dartiguelongue (RETIRED)






          2007-06-23 10:20:55 UTC
        

There is a problem with your local installation, this is the topmost relevant error :

libxml/tree.h: No such file or directory


Could you check the existence of /usr/include/libxml2/libxml/tree.h
if it's not there, reemerging should make evince compile.




Comment 7


Daniel Gryniewicz (RETIRED)






          2007-06-23 18:50:54 UTC
        

re-emerging libxml2, that is.




Comment 8


ShadowHawkBV





          2007-07-06 16:12:26 UTC
        

The only tree.h I have under libxml is: /usr/include/libxml2/libxml/tree.h.  That's as placed by dev-libs/libxml2-2.6.28.  (dev-libs/libxml is not installed)
The newest unstable version of evince(app-text/evince-0.8.1) emerges with no errors.

If it will help, I can revert and continue testing evince-0.6.1-r3 to see if the problem can be narrowed down better.  The same for libxml2.

Sorry for the delay in responding, life's been interesting.




Comment 9


Daniel Gryniewicz (RETIRED)






          2007-07-11 17:48:32 UTC
        

If you're happy, I think we can close this.  It really sounds like it was a broken libxml2









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

