Title: 95079 – gaim-extprefs-0.4-r1 compile failed
URL: https://bugs.gentoo.org/show_bug.cgi?id=95079

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 95079
gaim-extprefs-0.4-r1 compile failed
Last modified: 2005-06-16 07:12:30 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 95079 
      - gaim-extprefs-0.4-r1 compile failed


Summary:
gaim-extprefs-0.4-r1 compile failed
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gaim Bugs Crew








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-06-04 20:23 UTC by Kenyon Ralph





      Modified:
    
2005-06-16 07:12 UTC
      (History)
    




          CC List:
        

6 
          users
          
            (show)
          



again
drakos7
gentoo-bugs2
jryans
lukenshiro
mmueller12345









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Fixed Makefile for Extended Prefs

              (extprefs.patch,696 bytes,
                patch)

            
2005-06-07 16:46 UTC,

            Ryan Loebs




Details
            | Diff





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Kenyon Ralph





          2005-06-04 20:23:58 UTC
        

libtool --mode=link    gcc -O3 -march=pentium4 -msse2 -pipe -fomit-frame-pointer -o libtmpextendedprefs.so.la -rpath /usr/lib/gaim tmpextendedprefs.so.lo -lglib-2.0   -lgtk-x11-2.0 -lgdk-x11-2.0 -latk-1.0 -lgdk_pixbuf-2.0 -lm -lpangoxft-1.0 -lpangox-1.0 -lpango-1.0 -lgobject-2.0 -lgmodule-2.0 -ldl -lglib-2.0   -module -avoid-version
i686-pc-linux-gnu-g++ -shared -nostdlib /usr/lib/gcc/i686-pc-linux-gnu/3.4.3-20050110/../../../crti.o /usr/lib/gcc/i686-pc-linux-gnu/3.4.3-20050110/crtbeginS.o  .libs/tmpextendedprefs.so.o  /usr/lib/libgtk-x11-2.0.so /usr/lib/libgdk-x11-2.0.so /usr/lib/libatk-1.0.so -L/usr/lib /usr/lib/libgdk_pixbuf-2.0.so /usr/lib/libpangoxft-1.0.so /usr/lib/libpangox-1.0.so /usr/lib/libpango-1.0.so /usr/lib/libgobject-2.0.so /usr/lib/libgmodule-2.0.so -ldl /usr/lib/libglib-2.0.so -L/usr/lib/gcc/i686-pc-linux-gnu/3.4.3-20050110 -L/usr/lib/gcc/i686-pc-linux-gnu/3.4.3-20050110/../../../../i686-pc-linux-gnu/lib -L/usr/lib/gcc/i686-pc-linux-gnu/3.4.3-20050110/../../.. -lstdc++ -lm -lc -lgcc_s /usr/lib/gcc/i686-pc-linux-gnu/3.4.3-20050110/crtendS.o /usr/lib/gcc/i686-pc-linux-gnu/3.4.3-20050110/../../../crtn.o  -march=pentium4 -msse2 -Wl,-soname -Wl,libtmpextendedprefs.so.so -o .libs/libtmpextendedprefs.so.so
i686-pc-linux-gnu-g++: /usr/lib/gcc/i686-pc-linux-gnu/3.4.3-20050110/../../../crti.o: No such file or directory
i686-pc-linux-gnu-g++: /usr/lib/gcc/i686-pc-linux-gnu/3.4.3-20050110/crtbeginS.o: No such file or directory
i686-pc-linux-gnu-g++: /usr/lib/gcc/i686-pc-linux-gnu/3.4.3-20050110/crtendS.o: No such file or directory
i686-pc-linux-gnu-g++: /usr/lib/gcc/i686-pc-linux-gnu/3.4.3-20050110/../../../crtn.o: No such file or directory
make[1]: *** [extendedprefs.so] Error 1
make[1]: Leaving directory `/var/tmp/portage/gaim-extprefs-0.4-r1/work/extendedprefs-0.4/src'
make: *** [all] Error 2

!!! ERROR: x11-plugins/gaim-extprefs-0.4-r1 failed.
!!! Function src_compile, Line 37, Exitcode 2
!!! emake failed



emerge info:
Portage 2.0.51.22-r1 (default-linux/x86/2005.0, gcc-3.4.4, glibc-2.3.5-r0, 2.6.11-cko5-ck7 i686)
=================================================================
System uname: 2.6.11-cko5-ck7 i686 Intel(R) Pentium(R) 4 CPU 2.80GHz
Gentoo Base System version 1.6.12
ccache version 2.4 [enabled]
dev-lang/python:     2.3.5
sys-apps/sandbox:    1.2.8
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.5
sys-devel/binutils:  2.16-r1
sys-devel/libtool:   1.5.18
virtual/os-headers:  2.6.11-r1
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O3 -march=pentium4 -msse2 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/texmf/web2c /etc/env.d"
CXXFLAGS="-O3 -march=pentium4 -msse2 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache distlocks fixpackages sandbox sfperms strict"
GENTOO_MIRRORS="http://gentoo.ccccom.com http://mirror.datapipe.net/gentoo http://gentoo.osuosl.org"
LANG="en_US.utf8"
LC_ALL="en_US.utf8"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.us.gentoo.org/gentoo-portage"
USE="x86 X aac aalib alsa apm arts audiofile avi bash-completion berkdb bitmap-fonts caps cdparanoia cdr crypt cups curl dvd emboss encode fam flac font-server foomaticdb fortran gdbm gif gnome gpm gtk gtk2 guile hal imagemagick imlib ipv6 java jikes jpeg jpeg2k kde kdeenablefinal lcms libg++ libwww mad mmx mng mp3 mpeg ncurses nls nptl nvidia offensive ogg oggvorbis opengl pdflib perl pic png ppds python qt quicktime readline real samba sdl slang sndfile spell sse sse2 ssl svg svga tcpd tetex theora threads tiff truetype truetype-fonts type1-fonts unicode usb vorbis wmf xine xml2 xprint xv xvid xvmc zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LDFLAGS, LINGUAS




Comment 1


Arthur I.





          2005-06-06 03:28:38 UTC
        

same problem..
after update gcc 




Comment 2


Ryan Stinnett





          2005-06-06 04:46:58 UTC
        

I also have the same error, after updating from GCC 3.4.3-20050110 to 3.4.4. 
I've tried running fix_libtool_files.sh with versions 3.4.3-20050110 and 3.4.3,
but it didn't find anything to fix with either version.




Comment 3


Pat Erley





          2005-06-07 11:42:27 UTC
        

doing:

cd /usr/lib/gcc/i686-pc-linux-gnu
ln -s 3.4.4 3.4.3-20050110

allowed this to emerge for me. Yes, it IS a hack and a workaround to the real
problem, but for those that want the fixes in the -r1 ebuild, this will give em
to ya.




Comment 4


Ryan Loebs





          2005-06-07 16:46:13 UTC
        

Created attachment 60809 [details, diff]
Fixed Makefile for Extended Prefs

Strip level 4 patch for the broken Makefile under extendedprefs-0.4/src/




Comment 5


Kenyon Ralph





          2005-06-10 20:31:06 UTC
        

(In reply to comment #4)
> Created an attachment (id=60809) [edit]
> Fixed Makefile for Extended Prefs
> 
> Strip level 4 patch for the broken Makefile under extendedprefs-0.4/src/

This is already in 0.4-r1... see bug 93962 comment 1.




Comment 6


Arudil





          2005-06-12 03:09:57 UTC
        

mkdir .libs
 gcc -march=k6-2 -O3 -pipe -fomit-frame-pointer -c extendedprefs.c
-I/usr/include/gaim -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include
-DXTHREADS -D_REENTRANT -DXUSE_MTSAFE_API -I/usr/include/gtk-2.0
-I/usr/lib/gtk-2.0/include -I/usr/include/atk-1.0 -I/usr/include/pango-1.0
-I/usr/X11R6/include -I/usr/include/freetype2 -I/usr/include/freetype2/config
-I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include -DHAVE_CONFIG_H
-DEP_VERSION=\"0.4\"  -fPIC -DPIC -o .libs/tmpextendedprefs.so.o
 gcc -march=k6-2 -O3 -pipe -fomit-frame-pointer -c extendedprefs.c
-I/usr/include/gaim -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include
-DXTHREADS -D_REENTRANT -DXUSE_MTSAFE_API -I/usr/include/gtk-2.0
-I/usr/lib/gtk-2.0/include -I/usr/include/atk-1.0 -I/usr/include/pango-1.0
-I/usr/X11R6/include -I/usr/include/freetype2 -I/usr/include/freetype2/config
-I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include -DHAVE_CONFIG_H
-DEP_VERSION=\"0.4\" -o tmpextendedprefs.so.o >/dev/null 2>&1
libtool --mode=link    gcc -march=k6-2 -O3 -pipe -fomit-frame-pointer -o
libtmpextendedprefs.so.la -rpath /usr/lib/gaim tmpextendedprefs.so.lo -lglib-2.0
  -lgtk-x11-2.0 -lgdk-x11-2.0 -latk-1.0 -lgdk_pixbuf-2.0 -lm -lpangoxft-1.0
-lpangox-1.0 -lpango-1.0 -lgobject-2.0 -lgmodule-2.0 -ldl -lglib-2.0   -module
-avoid-version
i586-pc-linux-gnu-g++ -shared -nostdlib
/usr/lib/gcc-lib/i586-pc-linux-gnu/3.3.5/../../../crti.o
/usr/lib/gcc-lib/i586-pc-linux-gnu/3.3.5/crtbeginS.o 
.libs/tmpextendedprefs.so.o  /usr/lib/libgtk-x11-2.0.so
/usr/lib/libgdk-x11-2.0.so /usr/lib/libatk-1.0.so -L/usr/lib
/usr/lib/libgdk_pixbuf-2.0.so /usr/lib/libpangoxft-1.0.so
/usr/lib/libpangox-1.0.so /usr/lib/libpango-1.0.so /usr/lib/libgobject-2.0.so
/usr/lib/libgmodule-2.0.so -ldl /usr/lib/libglib-2.0.so
-L/usr/lib/gcc-lib/i586-pc-linux-gnu/3.3.5
-L/usr/lib/gcc-lib/i586-pc-linux-gnu/3.3.5/../../../../i586-pc-linux-gnu/lib
-L/usr/lib/gcc-lib/i586-pc-linux-gnu/3.3.5/../../.. -lstdc++ -lm -lc -lgcc_s
/usr/lib/gcc-lib/i586-pc-linux-gnu/3.3.5/crtendS.o
/usr/lib/gcc-lib/i586-pc-linux-gnu/3.3.5/../../../crtn.o  -march=k6-2
-Wl,-soname -Wl,libtmpextendedprefs.so.so -o .libs/libtmpextendedprefs.so.so
i586-pc-linux-gnu-g++: /usr/lib/gcc-lib/i586-pc-linux-gnu/3.3.5/../../../crti.o:
No such file or directory
i586-pc-linux-gnu-g++: /usr/lib/gcc-lib/i586-pc-linux-gnu/3.3.5/crtbeginS.o: No
such file or directory
i586-pc-linux-gnu-g++: /usr/lib/gcc-lib/i586-pc-linux-gnu/3.3.5/crtendS.o: No
such file or directory
i586-pc-linux-gnu-g++: /usr/lib/gcc-lib/i586-pc-linux-gnu/3.3.5/../../../crtn.o:
No such file or directory
make[1]: *** [extendedprefs.so] Fehler 1
make[1]: Leaving directory
`/var/tmp/portage/gaim-extprefs-0.4-r1/work/extendedprefs-0.4/src'
make: *** [all] Fehler 2

!!! ERROR: x11-plugins/gaim-extprefs-0.4-r1 failed.
!!! Function src_compile, Line 37, Exitcode 2
!!! emake failed
!!! If you need support, post the topmost build error, NOT this status message.





Portage 2.0.51.19 (default-linux/x86/2005.0, gcc-3.3.5-20050130,
glibc-2.3.4.20041102-r1, 2.6.11-gentoo-r9 i586)
=================================================================
System uname: 2.6.11-gentoo-r9 i586 AMD-K6(tm) 3D processor
Gentoo Base System version 1.4.16
Python:              dev-lang/python-2.3.5 [2.3.5 (#1, May 30 2005, 14:24:05)]
distcc 2.16 i586-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
ccache version 2.3 [enabled]
dev-lang/python:     2.3.5
sys-apps/sandbox:    [Not Present]
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.9.5, 1.5, 1.8.5-r3, 1.7.9-r1, 1.6.3, 1.4_p6
sys-devel/binutils:  2.15.92.0.2-r10
sys-devel/libtool:   1.5.16
virtual/os-headers:  2.6.8.1-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CFLAGS="-march=k6-2 -O3 -pipe -fomit-frame-pointer"
CHOST="i586-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.3/env
/usr/kde/3.3/share/config /usr/kde/3.3/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-march=k6-2 -O3 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig ccache distlocks sandbox sfperms strict"
GENTOO_MIRRORS="ftp://linux.rz.ruhr-uni-bochum.de/gentoo-mirror/
http://ftp.uni-erlangen.de/pub/mirrors/gentoo
ftp://ftp.wh2.tu-dresden.de/pub/mirrors/gentoo
http://mirrors.sec.informatik.tu-darmstadt.de/gentoo/
http://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/
ftp://pandemonium.tiscali.de/pub/gentoo/"
LANG="de_DE@euro"
LC_ALL="de_DE@euro"
LINGUAS="de"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage/gentoo-de /usr/local/portage/arudil"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="x86 3dnow X aalib acpi aim alsa avi berkdb bitmap-fonts blender-game bonobo
cdr crypt cups curl directfb emboss encode fam fbcon flac foomaticdb fortran
freetype gdbm gif gpm gtk gtk2 gtkhtml guile hbci icq imagemagick imlib ipv6
jabber jpeg libg++ libwww mikmod mmx mng motif mp3 mpeg msn ncurses nls nvidia
ogg oggvorbis opengl oscar pam pdflib perl png python quicktime readline real
samba sdl slang spell ssl svga tcltk tcpd tiff timidity truetype truetype-fonts
type1-fonts videos vorbis xchattext xml xml2 xmms xv zlib linguas_de
userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CBUILD, CTARGET, LDFLAGS






Comment 7


Christian Schlotter





          2005-06-14 23:19:11 UTC
        

Same problem here:

i686-pc-linux-gnu-g++: /usr/lib/gcc-lib/i686-pc-linux-gnu/3.3.5/../../../crti.o:
No such file or directory
i686-pc-linux-gnu-g++: /usr/lib/gcc-lib/i686-pc-linux-gnu/3.3.5/crtbeginS.o: No
such file or directory
i686-pc-linux-gnu-g++: /usr/lib/gcc-lib/i686-pc-linux-gnu/3.3.5/crtendS.o: No
such file or directory
i686-pc-linux-gnu-g++: /usr/lib/gcc-lib/i686-pc-linux-gnu/3.3.5/../../../crtn.o:
No such file or directory
make[1]: *** [extendedprefs.so] Error 1
make[1]: Leaving directory
`/var/tmp/portage/gaim-extprefs-0.4-r1/work/extendedprefs-0.4/src'
make: *** [all] Error 

Portage 2.0.51.19 (default-linux/x86/2005.0, gcc-3.3.5-20050130,
glibc-2.3.4.20041102-r1, 2.6.11-gentoo-r9 i686)
=================================================================
System uname: 2.6.11-gentoo-r9 i686 AMD Duron(tm) 
Gentoo Base System version 1.6.12
Python:              dev-lang/python-2.3.5 [2.3.5 (#1, May 11 2005, 17:00:01)]
dev-lang/python:     2.3.5
sys-apps/sandbox:    [Not Present]
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.5, 1.7.9-r1, 1.6.3, 1.9.5, 1.4_p6, 1.8.5-r3
sys-devel/binutils:  2.15.92.0.2-r10
sys-devel/libtool:   1.5.16
virtual/os-headers:  2.6.8.1-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CFLAGS="-O2 -march=athlon -fomit-frame-pointer -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/share/config /usr/share/texmf/dvipdfm/config/
/usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/
/usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/ /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=athlon -fomit-frame-pointer -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig ccache distlocks sandbox sfperms strict"
GENTOO_MIRRORS="ftp://sunsite.informatik.rwth-aachen.de/pub/Linux/gentoo
ftp://ftp.gentoo.mesh-solutions.com/gentoo/
ftp://ftp.join.uni-muenster.de/pub/linux/distributions/gentoo/
ftp://gentoo.mirrors.tds.net/gentoo/"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="x86 3dnow X alsa apm avi berkdb bitmap-fonts crypt curl divx4linux dvd
emacs emboss encode esd fam fortran gd gdbm gif gnome gtk gtk2 imlib java jpeg
libg++ libwww mad matrox mikmod mmx motif mozilla mp3 mpeg ncurses offensive ogg
oggvorbis opengl pam pdflib perl png python qt quicktime readline sdl sse ssl
svga tcltk tcpd tetex tiff truetype truetype-fonts type1-fonts vorbis xml2 xmms
xv zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CBUILD, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS




Comment 8


Sigurd Schneider





          2005-06-15 10:14:15 UTC
        

This is a libtool problem: it doesn't get the right paths right after gcc upgrade.
# emerge libtool
solved the problem for me.




Comment 9


Ryan Stinnett





          2005-06-15 13:04:45 UTC
        

Yep, "emerge libtool" fixes this for me too.




Comment 10


Christian Schlotter





          2005-06-15 23:36:45 UTC
        

Re-emerging libtool worked for me, too. Thanks.




Comment 11


Don Seiler (RETIRED)






          2005-06-16 06:40:52 UTC
        

... yeah.  Make sure you know what needs to be done when changing GCC versions.




Comment 12


Kenyon Ralph





          2005-06-16 07:12:30 UTC
        

(In reply to comment #11)
> ... yeah.  Make sure you know what needs to be done when changing GCC versions.

Well where is this documented?  Certainly nowhere here:
http://www.google.com/search?&q=site%3Awww.gentoo.org+gcc+libtool
And there was nothing said about it by Portage when gcc was upgraded.  I've
never had to re-emerge libtool before.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

