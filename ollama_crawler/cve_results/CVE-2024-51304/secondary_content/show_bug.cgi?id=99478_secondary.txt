Title: 99478 – app-misc/splitvt sandbox violation (all versions in portage)
URL: https://bugs.gentoo.org/show_bug.cgi?id=99478

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 99478
app-misc/splitvt sandbox violation (all versions in portage)
Last modified: 2007-07-12 15:29:58 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 99478 
      - app-misc/splitvt sandbox violation (all versions in portage)


Summary:
app-misc/splitvt sandbox violation (all versions in portage)
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

No maintainer - Look at https://wiki.gentoo.org/wiki/Project:Proxy_Maintainers if you want to take care of it








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-07-18 19:55 UTC by Zachary Slater





      Modified:
    
2007-07-12 15:29 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



HowardZ1
shell-tools









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




a new ebuild + a patch for the "weird" internal config.c

              (splitvt-1.6.5-r2.tar.gz,1.02 KB,
                application/octet-stream)

            
2005-07-24 00:52 UTC,

            Axel Dyks




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Zachary Slater





          2005-07-18 19:55:49 UTC
        

If I emerge either ebuild for splitvt, I get an access violation and portage
exits out:
access_wr: /etc/utmp


Reproducible: Always
Steps to Reproduce:
1. emerge splitvt
1.5 Build fails
2. ???
3. Profit!




Gentoo Base System version 1.6.12
Portage 2.0.51.22-r1 (default-linux/x86/2005.0, gcc-3.3.5-20050130,
glibc-2.3.5-r0, 2.6.11.11 i686)
=================================================================
System uname: 2.6.11.11 i686 Intel(R) Pentium(R) M processor 1500MHz
dev-lang/python:     2.3.5
sys-apps/sandbox:    1.2.10
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.5
sys-devel/binutils:  2.15.92.0.2-r10
sys-devel/libtool:   1.5.18-r1
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -mcpu=i686 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config
/var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS=""
DISTDIR="/mnt/export1/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org
http://distro.ibiblio.org/pub/Linux/distributions/gentoo"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://10.0.6.66/portage"
USE="x86 3ds X acpi acpi4linux alsa avi bash-completion berkdb bitmap-fonts
bluetooth cdr crypt curl dga divx4linux dnd dvd eds emacs emboss encode esd
ethereal fam ffmpeg flac foomaticdb fortran gd gdbm gif gimp gimpprint gnome
gphoto2 gpm gps gstreamer gtk gtk2 guile icq imagemagick imap imlib ipv6 jabber
jack java javascript joystick jpeg junit libg++ libwww maildir matroska mikmod
mmx motif moznocompose moznoirc moznomail mp3 mpeg msn ncurses nethack network
nntp nocd noqmax nowin nptl offensive ogg oggvorbis openal opengl oscar oss pam
pcmcia pda pdflib perl png pnp pwdb python quicktime readline samba scanner sdl
slang speex spell sqlite ssl tcltk tcpd tga tiff transcode truetype
truetype-fonts type1-fonts unicode usb v4l v4l2 videos vim-with-x vorbis wifi
wxwin wxwindows xface xine xinerama xml xml2 xmms xosd xrandr xv xvid yahoo zlib
userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS, MAKEOPTS, PORTDIR_OVERLAY




Comment 1


Axel Dyks





          2005-07-24 00:52:58 UTC
        

Created attachment 64178 [details]
a new ebuild + a patch for the "weird" internal config.c

Assuming that you've got the same sandbox violation error that
I've got. Here is a new ebuild that patches the "weird" internal
config.c so that it does not try to open "/var/run/utmp" for
writing...

To test the new ebuild:
* extract the files into "/usr/portage/app-misc"
* run "ebuild splitvt-1.6.5-r2.ebuild digest" from within
  "/usr/portage/app-misc/splitvt"
* emerge splitvt

Cheers,
Axel




Comment 2


Axel Dyks





          2005-07-31 17:15:43 UTC
        

Aaron,

I've added your email-address (taken form the Changelog) to "CC:".
Don't know, if this helps to assign/resolve the bug quicker.

Cheers,
Axel
   




Comment 3


DEMAINE Benoît-Pierre, aka DoubleHP





          2005-09-02 01:12:34 UTC
        

(In reply to comment #1)
> Created an attachment (id=64178) [edit]
> a new ebuild + a patch for the "weird" internal config.c

http://bugs.gentoo.org/show_bug.cgi?id=99478#c1
works for me.




Comment 4


Howard Fredericks





          2006-04-04 17:21:23 UTC
        

Fix worked for me.






Comment 5


Jakub Moc (RETIRED)






          2007-07-12 15:29:58 UTC
        

I can't reproduce this w/ 1.6.5-r1 at all.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

