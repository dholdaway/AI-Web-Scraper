Title: 129858 – media-gfx/gimp-print-4.2.7 fails to emerge
URL: https://bugs.gentoo.org/show_bug.cgi?id=129858

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 129858
media-gfx/gimp-print-4.2.7 fails to emerge
Last modified: 2006-08-07 12:52:23 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 129858 
      - media-gfx/gimp-print-4.2.7 fails to emerge


Summary:
media-gfx/gimp-print-4.2.7 fails to emerge
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

AMD64 Project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-04-13 13:01 UTC by Régis Décamps





      Modified:
    
2006-08-07 12:52 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Régis Décamps





          2006-04-13 13:01:42 UTC
        

emerge -v gimp-print

These are the packages that I would merge, in order:

Calculating dependencies ...done!
[ebuild  N    ] media-gfx/gimp-print-4.2.7  +cups +foomaticdb +gtk +nls -ppds +readline 0 kB

[...]

gcc -Wall -Wcast-align -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wnested-externs -Wwrite-strings -pedantic -march=athlon64 -O2 -pipe -o rastertoprinter rastertoprinter.o -Wl,-rpath -Wl,/usr/lib64 -L/usr/lib64 ../../lib/.libs/libprintut.al -lcupsimage /usr/lib64/libtiff.a /usr/lib64/libjpeg.a -lpng -lm -lcups -lssl -lcrypto -lnsl ../../src/main/.libs/libgimpprint.a -lz
/usr/lib/gcc/x86_64-pc-linux-gnu/3.4.4/../../../../x86_64-pc-linux-gnu/bin/ld: /usr/lib64/libjpeg.a(jcparam.o): relocation R_X86_64_32 against `a local symbol' can not be used when making a shared object; recompile with -fPIC
/usr/lib64/libjpeg.a: could not read symbols: Bad value
collect2: ld returned 1 exit status
make[3]: *** [rastertoprinter] Error 1
make[3]: Leaving directory `/var/tmp/portage/gimp-print-4.2.7/work/gimp-print-4.2.7/src/cups'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/var/tmp/portage/gimp-print-4.2.7/work/gimp-print-4.2.7/src'




Comment 1


Régis Décamps





          2006-04-13 13:02:11 UTC
        

kro64 cups # emerge --info
Portage 2.0.54 (default-linux/amd64/2005.1, gcc-3.4.4, glibc-2.3.5-r2, 2.6.16-gentoo x86_64)
=================================================================
System uname: 2.6.16-gentoo x86_64 AMD Athlon(tm) 64 Processor 3000+
Gentoo Base System version 1.6.14
dev-lang/python:     2.4.2-r1
sys-apps/sandbox:    1.2.11
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.7.9-r1, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=athlon64 -O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/lib64/mozilla/defaults/pref /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/eselect/compiler /etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-march=athlon64 -O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://ftp.belnet.be/mirror/rsync.gentoo.org/gentoo/ http://mir.zyrianes.net/gentoo/ http://linux.rz.ruhr-uni-bochum.de/download/gentoo-mirror/"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage /usr/local/zugaina-portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="amd64 7zip X a52 aac acl acpi aim alsa amarok amuled apache2 arts audiofile avi berkdb bitmap-fonts bittorrent bonobo bzip2 cddb cdr crypt css cups curl dbus dlloader dri dvd dvdr dvdread eds emboss emul-linux-x86 encode esd exif expat fam ffmpeg firefox flac foomaticdb fortran gdbm gif glut gmp gnome gphoto2 gpm gstreamer gtk gtk2 hal idn imagemagick imap imlib ipv6 isdnlog jabber jack java jpeg junit kde kdeenablefinal kdexdeltaslm_sensors lcms libwww logrotate lua lzo lzw lzw-tiff mad maildir mhash mime ming mng mozilla mp3 mpeg msn musepack musicbrainz mysql ncurses nls nptl nsplugin nvidia ogg oggvorbis openal opengl openssl oscar pam pcre pdf pdflib perl phppng png posix postfix pppd python qt quicktime readline recode scanner screen sdl slang source sox speex spell sqlite ssl svg tcltk tcpd theora threads tiff truetype truetype-fonts type1-fonts udev unicode usb utf8 vhosts video_cards_nv visualization vorbis webdav wma xml xml2 xosd xpm xscreensaver xv xvid zeroconf zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGUAS, MAKEOPTS






Comment 2


Régis Décamps





          2006-04-13 13:06:37 UTC
        

on the other hand media-gfx/gimp-print-5.0.0_rc2 (~amd64) can be merged




Comment 3


Simon Stelling (RETIRED)






          2006-06-22 12:56:34 UTC
        

for some reason, it tries to link to the static libjpeg archive. usually libtool falls back to the static archives when there is no .so or .la file in the directory. i don't know why that should be the case though.. you can try remerging jpeg.

i'm afraid there's not much i can do here, as i can't reproduce it




Comment 4


Simon Stelling (RETIRED)






          2006-08-03 03:11:07 UTC
        

please report back whether remerging jpeg fixed the issue or not




Comment 5


Régis Décamps





          2006-08-07 12:49:45 UTC
        

Your guess seems correct.

I have build media-libs/jpeg 6b-r7 (upgraded from 6b-r5) and then I can compile gimp-pint 4.2.7.

Thanks, and sorry for the late reply.




Comment 6


Simon Stelling (RETIRED)






          2006-08-07 12:52:08 UTC
        

reopen to close




Comment 7


Simon Stelling (RETIRED)






          2006-08-07 12:52:23 UTC
        

glad to hear that :)









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

