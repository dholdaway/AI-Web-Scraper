Title: 85063 – Certain KDE 3.4 rc1 core programs crash on startup. Konqueror Kcontrol Akregator Kmail Kontact ...
URL: https://bugs.gentoo.org/show_bug.cgi?id=85063

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 85063
Certain KDE 3.4 rc1 core programs crash on startup. Konqueror Kcontrol Akregator Kmail Kontact ...
Last modified: 2005-03-18 13:00:16 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 85063 
      - Certain KDE 3.4 rc1 core programs crash on startup. Konqueror Kcontrol Akregator Kmail Kontact ...


Summary:
Certain KDE 3.4 rc1 core programs crash on startup. Konqueror Kcontrol Akrega...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       major
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-03-13 04:15 UTC by Dave Spagnol





      Modified:
    
2005-03-18 13:00 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Dave Spagnol





          2005-03-13 04:15:07 UTC
        

When I try to run Konqueror, Kcontrol, Akregator, Kontact, and others, I get an immediate crash, signal 11 (SIGSEGV).

Other KDE core programs, such as kwrite, kate, kpackage, kmenuedit, and other file  management and browsing programs (Krusader and Firefox) all work just fine.

Reproducible: Always
Steps to Reproduce:
1.
2.
3.

Actual Results:  
The backtrace says there are no useful data, though there are a few numbers at
the end of it:

[New Thread 16384 (LWP 30250)]
0x41ca5658 in waitpid ()
   from /lib/libpthread.so.0
#0  0x41ca5658 in waitpid () from /lib/libpthread.so.0
#1  0x41256260 in ?? () from /usr/kde/3.4/lib/libkdecore.so.4
#2  0x4117486e in KCrash::defaultCrashHandler(int) ()
   from /usr/kde/3.4/lib/libkdecore.so.4
#3  0xbfffe898 in ?? ()
#4  0xbfffe78c in ?? ()

Running the program "kcontrol" from an X-terminal I get this:

david ~ $ kcontrol
ERROR: Communication problem with kcontrol, it probably crashed.
david ~ $ KCrash: Application 'kcontrol' crashing...

I get the same with kontact except the word kontact appears instead of kcontrol.

If I try to run kontact as root, I get this:

root /home/david # /usr/kde/3.4/bin/kontact
kbuildsycoca running...
KWrited - Listening on Device /dev/pts/3
DCOP aborting (delayed) call from 'anonymous-30606' to 'kontact'
ERROR: Communication problem with kontact, it probably crashed.
root /home/david # KCrash: Application 'kontact' crashing...
Unable to start Dr. Konqi



Expected Results:  
I expect the program to run!

I can run v3.3 kmail under v3.4, by running /usr/kde/3.3/bin/kmail in a
terminal, from kde3.4. I can also go into kde3.3 or icewm and crash the 3.4
version from there, so it seems to be the program and/or its dependencies,
rather than which window manager I am using.




Comment 1


Simone Gotti (RETIRED)






          2005-03-13 04:29:03 UTC
        

Please add your "emerge info" output.




Comment 2


Dave Spagnol





          2005-03-16 12:43:24 UTC
        

root /home/david # emerge --info
Portage 2.0.51.19 (default-linux/x86/2004.2, gcc-3.3.5, glibc-2.3.4.20040808-r1, 2.6.10-gentoo-r4 i686)
=================================================================
System uname: 2.6.10-gentoo-r4 i686 AMD Athlon(tm) XP 3200+
Gentoo Base System version 1.4.16
Python:              dev-lang/python-2.3.4-r1 [2.3.4 (#1, Feb 12 2005, 22:30:45)]
dev-lang/python:     2.3.4-r1
sys-devel/autoconf:  2.59-r6, 2.13
sys-devel/automake:  1.7.9-r1, 1.8.5-r3, 1.5, 1.4_p6, 1.6.3, 1.9.4
sys-devel/binutils:  2.15.92.0.2-r1
sys-devel/libtool:   1.5.10-r4
virtual/os-headers:  2.4.21-r1
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CFLAGS="-O2 -march=athlon-xp -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.3/env /usr/kde/3.3/share/config /usr/kde/3.3/shutdown /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=athlon-xp -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig ccache distlocks sandbox sfperms"
GENTOO_MIRRORS="http://ftp.heanet.ie/pub/gentoo/ ftp://ftp.gentoo.mesh-solutions.com/gentoo/ ftp://mir.zyrianes.net/gentoo/ http://gd.tuwien.ac.at/opsys/linux/gentoo/"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 3dnow X acpi alsa apm arts avi berkdb bitmap-fonts bonobo cdr crypt cups curl divx4linux dvd dvdr emboss encode esd f77 fam flac font-server foomaticdb fortran gdbm gif gnome gpm gtk gtk2 gtkhtml guile imagemagick imlib ipv6 java jpeg kde libg++ libwww mad mikmod mmx motif mp3 mpeg ncurses nls odbc oggvorbis opengl oss pam pdflib perl png python qt quicktime readline scanner sdl slang spell sqlite ssl svga tcltk tcpd tiff truetype truetype-fonts type1-fonts unicode usb userlocales wmf xml xml2 xmms xv zlib"
Unset:  ASFLAGS, CBUILD, CTARGET, LANG, LC_ALL, LDFLAGS





Comment 3


Gregorio Guidi (RETIRED)






          2005-03-17 07:44:46 UTC
        

It's really difficult to understand what's going on...

Does it happen with a new user created from scratch?
Could you try to clean out /tmp/kde*, /tmp/ksocket* and /var/tmp/kdecache*?





Comment 4


Dave Spagnol





          2005-03-17 09:22:13 UTC
        

Tried the clean-out, tried new user, exactly the same, Konqueror crashed on startup.

I'm wondering whether to re-install Gentoo. I have a PCLOS partition, and I could chroot in from there and do it, save having to go without a working desktop while getting it ready.





Comment 5


Gregorio Guidi (RETIRED)






          2005-03-17 09:30:36 UTC
        

> I'm wondering whether to re-install Gentoo. I have a PCLOS partition, and I could chroot in from there and do it, save having to go without a working desktop while getting it ready.

If you choose this approach, you can always do an 'emerge -e world'...




Comment 6


Dave Spagnol





          2005-03-18 12:26:11 UTC
        

I have now installed KDE3.4 and everything works fine, so whatever the problem was, it seems to have disappeared in any final changes between kde-3.4rc1 and kde-3.4.

I don't see any point in pursuing.




Comment 7


Gregorio Guidi (RETIRED)






          2005-03-18 13:00:16 UTC
        

Ok, it was a strange local issue...









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

