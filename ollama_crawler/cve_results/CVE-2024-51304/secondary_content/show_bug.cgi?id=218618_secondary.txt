Title: 218618 – games-action/chromium-0.9.12-r6/r7 emerge fail without sdl
URL: https://bugs.gentoo.org/show_bug.cgi?id=218618

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 218618
games-action/chromium-0.9.12-r6/r7 emerge fail without sdl
Last modified: 2008-11-17 20:30:30 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 218618 
      - games-action/chromium-0.9.12-r6/r7 emerge fail without sdl


Summary:
games-action/chromium-0.9.12-r6/r7 emerge fail without sdl
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Games

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Games








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-04-20 17:45 UTC by Andrea





      Modified:
    
2008-11-17 20:30 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




diff on 0.9.12-r7 ebuild

              (chromium-0.9.12-r7.patch,891 bytes,
                patch)

            
2008-08-15 11:43 UTC,

            Tomáš Chvátal (RETIRED)




Details
            | Diff





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Andrea





          2008-04-20 17:45:02 UTC
        

Trying to emerge games-action/chromium-0.9.12-r6 and -r7 I give this link error:

i686-pc-linux-gnu-g++  -o chromium-setup Audio.o ConfigFile.o HelpPage.o HiScoreWidget.o MainWidget.o PlayList.o ../src/Config.o ../src/HiScore.o main.o moc/moc_ConfigFile.o moc/moc_HelpPage.o moc/moc_HiScoreWidget.o moc/moc_MainWidget.o moc/moc_PlayList.o  -L/usr/qt/3/lib -L/usr/X11R6/lib  -lopenal -lalut -lglut -lpthread -lXmu  -L/usr/X11R6/lib -lvorbis -lvorbisfile -lm -pthread -lqt-mt -lXext -lX11 -lm
/usr/X11R6/lib/libglut.so: undefined reference to `glPopAttrib'
/usr/X11R6/lib/libglut.so: undefined reference to `gluCylinder'
/usr/X11R6/lib/libglut.so: undefined reference to `glXGetConfig'
/usr/X11R6/lib/libglut.so: undefined reference to `glBegin'
/usr/X11R6/lib/libglut.so: undefined reference to `glViewport'
/usr/X11R6/lib/libglut.so: undefined reference to `glXWaitX'
/usr/X11R6/lib/libglut.so: undefined reference to `gluQuadricNormals'
/usr/X11R6/lib/libglut.so: undefined reference to `gluSphere'
/usr/X11R6/lib/libglut.so: undefined reference to `glPixelStorei'
/usr/X11R6/lib/libglut.so: undefined reference to `glGetError'
/usr/X11R6/lib/libglut.so: undefined reference to `glXGetClientString'
/usr/X11R6/lib/libglut.so: undefined reference to `glEvalMesh2'
/usr/X11R6/lib/libglut.so: undefined reference to `glGetString'
/usr/X11R6/lib/libglut.so: undefined reference to `glXDestroyContext'
/usr/X11R6/lib/libglut.so: undefined reference to `glVertex3fv'
/usr/X11R6/lib/libglut.so: undefined reference to `glXMakeCurrent'
/usr/X11R6/lib/libglut.so: undefined reference to `glReadBuffer'
/usr/X11R6/lib/libglut.so: undefined reference to `glPolygonMode'
/usr/X11R6/lib/libglut.so: undefined reference to `glNormal3f'
/usr/X11R6/lib/libglut.so: undefined reference to `glEnable'
/usr/X11R6/lib/libglut.so: undefined reference to `glBitmap'
/usr/X11R6/lib/libglut.so: undefined reference to `glGetIntegerv'
/usr/X11R6/lib/libglut.so: undefined reference to `glXGetProcAddressARB'
/usr/X11R6/lib/libglut.so: undefined reference to `gluNewQuadric'
/usr/X11R6/lib/libglut.so: undefined reference to `glVertex2f'
/usr/X11R6/lib/libglut.so: undefined reference to `glXCreateContext'
/usr/X11R6/lib/libglut.so: undefined reference to `glXIsDirect'
/usr/X11R6/lib/libglut.so: undefined reference to `glEnd'
/usr/X11R6/lib/libglut.so: undefined reference to `glXQueryExtensionsString'
/usr/X11R6/lib/libglut.so: undefined reference to `glXQueryVersion'
/usr/X11R6/lib/libglut.so: undefined reference to `gluErrorString'
/usr/X11R6/lib/libglut.so: undefined reference to `glPushAttrib'
/usr/X11R6/lib/libglut.so: undefined reference to `glDrawBuffer'
/usr/X11R6/lib/libglut.so: undefined reference to `glXChooseVisual'
/usr/X11R6/lib/libglut.so: undefined reference to `glScalef'
/usr/X11R6/lib/libglut.so: undefined reference to `glTranslatef'
/usr/X11R6/lib/libglut.so: undefined reference to `glXQueryExtension'
/usr/X11R6/lib/libglut.so: undefined reference to `glNormal3fv'
/usr/X11R6/lib/libglut.so: undefined reference to `glPushMatrix'
/usr/X11R6/lib/libglut.so: undefined reference to `glMap2f'
/usr/X11R6/lib/libglut.so: undefined reference to `gluQuadricDrawStyle'
/usr/X11R6/lib/libglut.so: undefined reference to `glRotatef'
/usr/X11R6/lib/libglut.so: undefined reference to `glXSwapBuffers'
/usr/X11R6/lib/libglut.so: undefined reference to `glPopMatrix'
/usr/X11R6/lib/libglut.so: undefined reference to `glFinish'
/usr/X11R6/lib/libglut.so: undefined reference to `glVertex3f'
/usr/X11R6/lib/libglut.so: undefined reference to `glMapGrid2f'
collect2: ld returned 1 exit status
make[1]: *** [chromium-setup] Error 1
make[1]: Leaving directory `/tmp/portage/games-action/chromium-0.9.12-r6/work/Chromium-0.9/src-setup'
make: *** [src-setup] Error 2

This with qt3 and vorbis USE enabled.
If I add sdl USE, linking is ok.




Reproducible: Always




Comment 1


Tristan Heaven (RETIRED)






          2008-04-20 23:04:23 UTC
        

Please post the output of 'emerge --info' and 'emerge -p media-libs/{free,}glut' to help us find what's causing this.




Comment 2


Andrea





          2008-04-21 19:17:50 UTC
        

(In reply to comment #1)
> Please post the output of 'emerge --info' and 'emerge -p
> media-libs/{free,}glut' to help us find what's causing this.
> 

-------------------------------------------------------------------------
sehome andrea # emerge --info
Portage 2.1.4.4 (default-linux/x86/2007.0, gcc-4.1.2, glibc-2.5-r4, 2.6.24-gentoo-r4 i686)
=================================================================
System uname: 2.6.24-gentoo-r4 i686 Intel(R) Pentium(R) 4 CPU 2.66GHz
Timestamp of tree: Tue, 15 Apr 2008 04:00:02 +0000
ccache version 2.4 [disabled]
app-shells/bash:     3.2_p17-r1
dev-lang/python:     2.4.4-r9
dev-python/pycrypto: 2.0.1-r6
dev-util/ccache:     2.4-r7
sys-apps/baselayout: 1.12.11.1
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.61-r1
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.1
sys-devel/binutils:  2.18-r1
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.23-r3
ACCEPT_KEYWORDS="x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=pentium4 -O2 -fomit-frame-pointer -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-march=pentium4 -O2 -fomit-frame-pointer -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="distlocks metadata-transfer sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="/mnt/z/usr/distfiles/ http://gentoo.tiscali.nl/ http://mirror.ovh.net/gentoo-distfiles/ http://ftp.uoi.gr/mirror/OS/gentoo/"
LANG="it_IT@euro"
LC_ALL="it_IT@euro"
LINGUAS="it en"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portage/local"
SYNC="rsync://server/gentoo-portage"
USE="7zip X a52 aac acl alsa amarok apache2 arts berkdb bzip2 cairo cdaudio cdda cddb cdparanoia cdr cdrom cli cracklib crypt css cups doc dri dts dv dvd dvdr dvdread dvi encode evo exif ffmpeg flac fortran gb gdbm gif gimp gimpprint gnome gnomedb gpm gtk iconv id3 id3tag imap ipod ipv6 isdnlog jpeg jpeg2k kde lm_sensors mad maildir midi mikmod mjpeg mmx mmxext moznocompose moznoirc moznomail mozsvg mp2 mp3 mp4 mp4live mpeg mpeg2 mudflap nas ncurses network nls nptl nptlonly nvidia oav ofx ogg opengl openmp openssl pam pcre pdf perl php png pnm ppds pppd python qt3 qt3support qt4 quicktime readline reflection reiserfs samba sasl screen session sis sox spell spl sse sse2 ssl svg svga syslog tcpd tga themes theora tiff tk truetype twolame unicode usb userlocales vidix vorbis wav win32codecs wma wmf x86 xfs xorg xv xvid zip zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1 emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="keyboard mouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="it en" USERLAND="GNU" VIDEO_CARDS="nv vesa fbdev"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LDFLAGS, MAKEOPTS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS

----------------------------------------------------------------------------
sehome andrea # emerge -p media-libs/glut

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild   R   ] media-libs/glut-3.7.1





Comment 3


Tristan Heaven (RETIRED)






          2008-04-21 19:21:17 UTC
        

Does it work if you remove media-libs/glut install media-libs/freeglut instead?




Comment 4


Andrea





          2008-04-21 19:29:42 UTC
        

(In reply to comment #3)
> Does it work if you remove media-libs/glut install media-libs/freeglut instead?
> 

Yes, it worked!





Comment 5


Tomáš Chvátal (RETIRED)






          2008-08-15 11:43:53 UTC
        

Created attachment 162952 [details, diff]
diff on 0.9.12-r7 ebuild

* fixes build problem (harddep on freeglut)
* fixes future problem with append-ldflags




Comment 6


Tupone Alfredo






          2008-11-17 20:30:30 UTC
        

(In reply to comment #5)
> Created an attachment (id=162952) [edit]
> diff on 0.9.12-r7 ebuild
> 
> * fixes build problem (harddep on freeglut)
> * fixes future problem with append-ldflags
> 
I don't see the same problem on my desktop. It works with both glut, so maybe another verification with the current portage is good.
And your patch hardcode games directory, not taking into account the setting of GAMES_* variables










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

