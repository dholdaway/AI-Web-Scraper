Title: 361451 – net-print/hplip-3.11.3a: INFO: open print channel failed stat=21 messages
URL: https://bugs.gentoo.org/show_bug.cgi?id=361451

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 361451
net-print/hplip-3.11.3a: INFO: open print channel failed stat=21 messages
Last modified: 2011-04-01 07:32:02 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 361451 
      - net-print/hplip-3.11.3a: INFO: open print channel failed stat=21 messages


Summary:
net-print/hplip-3.11.3a: INFO: open print channel failed stat=21 messages
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Daniel Pielmeier








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2011-03-31 10:29 UTC by Pacho Ramos





      Modified:
    
2011-04-01 07:32 UTC
      (History)
    




          CC List:
        

4 
          users
          
            (show)
          



calchan
flameeyes
netbox253
printing









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Pacho Ramos






          2011-03-31 10:29:20 UTC
        

Sadly my PSC 1610 broke and I have now a DeskJet 2050 J510 series printer that looks to be not 100% suported by hplip :-S (even if it should per upstream URL).

I am getting a lot of messages like this in /var/log/messages even printing finally working:

Mar 30 23:40:18 localhost hp[19723]: prnt/backend/hp.c 772: INFO: open print channel failed stat=21; will retry in 30 seconds...
Mar 30 23:40:38 localhost hp[20143]: prnt/backend/hp.c 772: INFO: open print channel failed stat=21; will retry in 30 seconds...
Mar 30 23:40:48 localhost hp[19723]: prnt/backend/hp.c 772: INFO: open print channel failed stat=21; will retry in 30 seconds...
Mar 30 23:41:08 localhost hp[20143]: prnt/backend/hp.c 772: INFO: open print channel failed stat=21; will retry in 30 seconds...
...

Should I maybe report this to upstream?

Reproducible: Always




# emerge --info hplip
Portage 2.1.9.45 (default/linux/amd64/10.0/desktop/gnome, gcc-4.4.5, glibc-2.11.3-r0, 2.6.37-ck x86_64)
=================================================================
                         System Settings
=================================================================
System uname: Linux-2.6.37-ck-x86_64-AMD_Athlon-tm-_64_Processor_3200+-with-gentoo-1.12.14
Timestamp of tree: Thu, 31 Mar 2011 09:00:01 +0000
ccache version 2.4 [enabled]
app-shells/bash:     4.1_p9
dev-java/java-config: 2.1.11-r3
dev-lang/python:     2.7.1-r1, 3.1.3-r1
dev-util/ccache:     2.4-r9
dev-util/cmake:      2.8.4
sys-apps/baselayout: 1.12.14-r1
sys-apps/sandbox:    2.4
sys-devel/autoconf:  2.13, 2.65-r1
sys-devel/automake:  1.9.6-r3, 1.10.3, 1.11.1
sys-devel/binutils:  2.20.1-r1
sys-devel/gcc:       4.4.5
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   2.2.10
sys-devel/make:      3.81-r2
virtual/os-headers:  2.6.36.1 (sys-kernel/linux-headers)
ACCEPT_KEYWORDS="amd64"
ACCEPT_LICENSE="*"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=native -O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/config /usr/share/gnupg/qualified.txt"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c"
CXXFLAGS="-march=native -O2 -pipe"
DISTDIR="/usr/distfiles"
FEATURES="assume-digests binpkg-logs ccache distlocks fixlafiles fixpackages multilib-strict news parallel-fetch protect-owned sandbox sfperms sign split-log strict unknown-features-warn unmerge-logs unmerge-orphans userfetch"
FFLAGS=""
GENTOO_MIRRORS="ftp://ftp.free.fr/mirrors/ftp.gentoo.org http://ftp.ussg.iu.edu/linux/gentoo http://mirror.ovh.net/gentoo-distfiles/ http://ftp.heanet.ie/pub/gentoo/ http://ftp.udc.es/gentoo/"
LANG="es_ES.UTF-8"
LDFLAGS="-Wl,-O1 -Wl,--as-needed -Wl,--hash-style=gnu"
LINGUAS="es es_ES en_US"
MAKEOPTS="-j2"
PKGDIR="/usr/local/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portage/local/layman/sunrise /usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="3dnow 3dnowext X a52 aac acl acpi alsa amd64 applet avahi bash-completion berkdb branding bzip2 cairo cdda cddb cdinstall cdr cdrom cleartype cli consolekit cracklib crypt css cups cxx daap dbus djvu dri dts dvd dvdr dvi eds emboss encode evo exif fam fat ffmpeg firefox flac fortran fuse gdbm gdu gif git gnome gnome-keyring gpm gstreamer gtk hddtemp iconv java jpeg kpathsea latex lcdfilter lcms libnotify lm_sensors lyx lzma mad mikmod mmx mmxext mng modules mono mp3 mp4 mpeg mudflap multilib musicbrainz nautilus ncurses network network-cron nls nptl nptlonly ntfs nvidia ogg opengl openmp pam pango pch pcre pdf perl png policykit ppds pppd python qt3support qt4 readline reiserfs scanner sdl session sound spell sse sse2 sse3 ssl startup-notification subversion svg sysfs t1lib tcpd test threads tiff truetype udev unicode usb v4l2 vcd vorbis webkit x264 xattr xcb xml xmp xorg xpm xulrunner xv xvid zeroconf zlib" ALSA_CARDS="via82xx" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cgi cgid dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CAMERAS="ptp2" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf superstar2 timing tsip tripmate tnt ubx" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="es es_ES en_US" PHP_TARGETS="php5-3" RUBY_TARGETS="ruby18" USERLAND="GNU" VIDEO_CARDS="nvidia nv vesa" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account" 
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LC_ALL, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS

=================================================================
                        Package Settings
=================================================================

net-print/hplip-3.11.3a was built with the following:
USE="X hpcups hpijs libnotify (multilib) policykit qt4 scanner test -doc -fax -kde -minimal -parport -snmp -static-ppds -udev-acl"




Comment 1


Daniel Pielmeier






          2011-03-31 11:00:00 UTC
        

Did you try both, the hpcups and hpijs driver?




Comment 2


Pacho Ramos






          2011-03-31 11:15:53 UTC
        

(In reply to comment #1)
> Did you try both, the hpcups and hpijs driver?

Same messages with both drivers (I keep hpijs one as hpcups one print colors really in a wrong way)




Comment 3


Daniel Pielmeier






          2011-03-31 11:35:40 UTC
        

(In reply to comment #2)
> (In reply to comment #1)
> > Did you try both, the hpcups and hpijs driver?
> Same messages with both drivers (I keep hpijs one as hpcups one print colors
> really in a wrong way)

From your report: Do I get this right you are able to print but just worry about the log messages? If you think this warrants an upstream bug report you can file one. From what I read this are just informational "INFO" messages not warnings or errors.

Recently I am not able to print with the hpcups driver at all so I am thinking of defaulting to the hpijs driver contrary to upstreams recommendation.




Comment 4


Pacho Ramos






          2011-03-31 11:44:01 UTC
        

Yes, in this case the problem looks to be only the "INFO" message, the problem is that it makes my /var/log/messages really huge :-S

Will report to upstream -> is https://launchpad.net/hplip the best option for that? (I have experienced a lot of delays on upstream feedback when reporting other problems in that one)




Comment 5


Daniel Pielmeier






          2011-03-31 12:07:14 UTC
        

(In reply to comment #4)
> Yes, in this case the problem looks to be only the "INFO" message, the problem
> is that it makes my /var/log/messages really huge :-S

Okay I understand this.

> Will report to upstream -> is https://launchpad.net/hplip the best option for
> that? (I have experienced a lot of delays on upstream feedback when reporting
> other problems in that one)

Yes it is the "best" option and yes upstream is tad slow in eyery aspect.




Comment 6


Fab





          2011-03-31 12:26:32 UTC
        

A few weeks ago I got exactly the same messages while trying to print a particular pdf file on a stable x86 system. The printer hangs in the middle of the document printing, I had to abort it. I had no other problems with printing, but I'm sure if I retry this document it will hang again.

 - hplip-3.10.9-r1
 - stable x86
 - photosmart all-in-one C4190




Comment 7


Pacho Ramos






          2011-04-01 06:36:54 UTC
        

After changing between drivers (even setting back the hpijs one) and REBOOTING (I didn't do that before) the messages are gone :-D

I will close this (Fab should probably retry with latest hplip and report a different bug for his case if still valid)




Comment 8


Daniel Pielmeier






          2011-04-01 07:32:02 UTC
        

(In reply to comment #7)
> After changing between drivers (even setting back the hpijs one) and REBOOTING
> (I didn't do that before) the messages are gone :-D
> I will close this (Fab should probably retry with latest hplip and report a
> different bug for his case if still valid)

I would recommend the following upgrade procedure for hplip, I think I even mentioned this in the printing guide.

1.) Upgrade hplip
2.) Delete all printers (hp-setup -r) and configure them again with hp-setup or the cups webinterface.
3.) Restart cupsd

I think this will prevent issues like this.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

