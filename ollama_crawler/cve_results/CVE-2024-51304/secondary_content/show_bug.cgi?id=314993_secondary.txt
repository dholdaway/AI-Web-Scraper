Title: 314993 – x11-terms/terminal: cursor background wrong (colored font instead of background)
URL: https://bugs.gentoo.org/show_bug.cgi?id=314993

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 314993
x11-terms/terminal: cursor background wrong (colored font instead of background)
Last modified: 2010-04-27 18:30:08 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 314993 
      - x11-terms/terminal: cursor background wrong (colored font instead of background)


Summary:
x11-terms/terminal: cursor background wrong (colored font instead of background)
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

XFCE Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2010-04-13 14:06 UTC by Lubos Kolouch





      Modified:
    
2010-04-27 18:30 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Correct cursor color - background

              (terminal-correct.png,3.10 KB,
                text/plain)

            
2010-04-13 14:07 UTC,

            Lubos Kolouch




Details





Wrong cursor color - font color

              (terminal-wrong.png,3.42 KB,
                text/plain)

            
2010-04-13 14:08 UTC,

            Lubos Kolouch




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Lubos Kolouch





          2010-04-13 14:06:57 UTC
        

After recent system update the behaviour of "cursor color" in terminal has changed.

Before it was changing cursor background, now it changes cursor font color.
This makes the cursor pretty much invisible.
Screenshots will be attached to the bug.

It seems that the bug is in some underlaying library, as downgrade from terminal-0.4.4 to 0.4.2 did not solve the problem.

I could reproduce this issue both on ~x86 and ~amd64

Reproducible: Always

Steps to Reproduce:
1.Launch x11-terms/terminal
2.move cursor
3.cursor font color is changed, instead of cursor background

Actual Results:  
The font color of the character on which the curor is, is changed

Expected Results:  
The background color of the character on which the curor is, is changed

# emerge --info
Portage 2.2_rc67 (default/linux/amd64/10.0, gcc-4.3.4, glibc-2.11-r1, 2.6.33-ARCH x86_64)
=================================================================
System uname: Linux-2.6.33-ARCH-x86_64-Intel-R-_Core-TM-2_Duo_CPU_U9400_@_1.40GHz-with-gentoo-2.0.1
Timestamp of tree: Tue, 13 Apr 2010 09:00:01 +0000
app-shells/bash:     4.1_p5
dev-java/java-config: 2.1.10
dev-lang/python:     2.6.5-r1, 3.1.2-r2
dev-util/cmake:      2.8.1
sys-apps/baselayout: 2.0.1
sys-apps/openrc:     0.6.1-r1
sys-apps/sandbox:    2.2
sys-devel/autoconf:  2.13, 2.65
sys-devel/automake:  1.8.5-r4, 1.10.3, 1.11.1
sys-devel/binutils:  2.20.1
sys-devel/gcc:       4.3.4, 4.4.3
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   2.2.6b
virtual/os-headers:  2.6.33
ACCEPT_KEYWORDS="amd64 ~amd64"
ACCEPT_LICENSE="*"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=native -O2 -pipe -fomit-frame-pointer -msse -msse2 -mmmx -msse4.1"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/X11/xkb"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c"
CXXFLAGS="-march=native -O2 -pipe -fomit-frame-pointer -msse -msse2 -mmmx -msse4.1"
DISTDIR="/usr/portage/distfiles"
EMERGE_DEFAULT_OPTS="--with-bdeps=y --keep-going"
FEATURES="assume-digests distlocks fixpackages metadata-transfer news parallel-fetch preserve-libs protect-owned sandbox sfperms strict unmerge-logs unmerge-orphans userfetch"
GENTOO_MIRRORS="http://gentoo.mirror.dkm.cz/pub/gentoo/ ftp://gentoo.mirror.web4u.cz/ http://gentoo.supp.name/ http://gd.tuwien.ac.at/opsys/linux/gentoo/ ftp://gentoo.mirror.dkm.cz/pub/gentoo/"
LANG="cs_CZ.utf8"
LDFLAGS="-Wl,-O1"
LINGUAS="cs en de"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/home/portmp/"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/var/lib/layman/gnome /var/lib/layman/zugaina /var/lib/layman/sabayon /var/lib/layman/sunrise /var/lib/layman/jokey"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="16bit 16bit-indices 16bittmp 7zip X a52 aac aalib acct ace acl acpi additions aften alsa amd64 amr animgif ansi applet aspnet aspnet2 audiofile auto-completion bash-completion battery berkdb bluetooth bonobo btrfs bzip2 cairo calendar cddb cdinstall cdparanoia cdr chm clamav cleartype cli consolekit context cpufreq cracklib crypt cups cxx dbus dga dhclient dia directory dri dv dvb dvd dvdr dvdread dvi enblend encode evdev exif extensions extra extra-algorithms extras fam fat fax ffmpeg firefox flac foomaticdb fortran ftp fts3 games gd gdbm gif gimp git glib glitz gmail gnome gnome-keyring gnutella gnutls gpgme gphoto2 gpm graphics gtk gtkhtml gzip hal hddtemp ical icons iconv icq icu id3 image imagemagick imap imlib jabber java java6 javascript jbig jfs jpeg jpeg2k keyring kpathsea kqemu laptop latex libcaca libgda libnotify libwww lm_sensors lzma lzo maildir maps mbox metric mime mjpeg mmx mmxext modules mp3 mp4 mpeg mplayer msn mssql mudflap multilib ncurses nls nntp nocd nodrm nptl nptlonly nsplugin ntfs odbc offensive ogg ole opengl openmp openssl pam pcmcia pcntl pcre pdf perl pidgin plugins pmu png pop ppds pppd pstricks python qt-static qt3 qt3support qt4 quicktime radio rar rdesktop readline realmedia recode reflection reiserfs resolvconf rsync samba sasl scanner scenarios sdl sdl-image sensors session sift slang slp smime smtp sndfile snmp socks5 spell spl sqlite sse sse2 ssl ssse3 subtitles subversion svg synaptics sysfs syslog szip tcl tcpd test-programs tetex tex4ht themes threads tiff timidity tk tokyocabinet toolbar tools transcode truetype unicode unzip usb utf8 v4l v4l2 vcd video videos vim-syntax vorbis webkit wifi wma wmf wmp x264 xanim xattr xcb xcomposite xetex xfce xfs xml xorg xosd xrandr xscreensaver xsettings xv xvid zip zlib" ALSA_CARDS="hda-intel" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CAMERAS="canon adc65 agfa cl20 aox barbie casio clicksmart310 digigr8 digita dimera directory enigma13 fuji gsmart300 hp215 iclick jamcam jd11 kodak konica largan lg_gsm mars minolta mustek panasonic polaroid ptp2 ricoh samsung sierra sipix smal sonix sonydscf1 sonydscf55 soundvision spca50x sq905 tv0674 stv0680 sx330z template toshiba" ELIBC="glibc" FOO2ZJS_DEVICES="km2300" INPUT_DEVICES="evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="cs en de" RUBY_TARGETS="ruby18" USERLAND="GNU" VIDEO_CARDS="intel" 
Unset:  CPPFLAGS, CTARGET, FFLAGS, INSTALL_MASK, LC_ALL, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Lubos Kolouch





          2010-04-13 14:07:31 UTC
        

Created attachment 227599 [details]
Correct cursor color - background




Comment 2


Lubos Kolouch





          2010-04-13 14:08:14 UTC
        

Created attachment 227601 [details]
Wrong cursor color - font color




Comment 3


Lubos Kolouch





          2010-04-13 14:09:31 UTC
        

I did the emerge --info in a chroot from arch linux (where the terminal works OK), so please ignore the -ARCH things in the emerge --info




Comment 4


Lubos Kolouch





          2010-04-18 20:51:41 UTC
        

ping? can I try something?




Comment 5


Lubos Kolouch





          2010-04-27 18:30:08 UTC
        

Probably something related to ccache. I copied gentoo from my other machine, reemerged, cannot reproduce there









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

