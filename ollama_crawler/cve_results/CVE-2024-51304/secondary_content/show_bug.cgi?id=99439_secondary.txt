Title: 99439 – QA: maketest error in sys-devel/automake-1.9.6
URL: https://bugs.gentoo.org/show_bug.cgi?id=99439

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 99439
QA: maketest error in sys-devel/automake-1.9.6
Last modified: 2006-11-05 00:58:34 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 99439 
      - QA: maketest error in sys-devel/automake-1.9.6


Summary:
QA: maketest error in sys-devel/automake-1.9.6
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo's Team for Core System packages








URL:







Whiteboard:




Keywords:









Duplicates (1):
    

105017

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2005-07-18 08:47 UTC by Johannes Steidl





      Modified:
    
2006-11-05 00:58 UTC
      (History)
    




          CC List:
        

5 
          users
          
            (show)
          



aross
dirk.schoenberger
gentoo.bugs.10
henrique.ferreiro
jakub









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




automake.log

              (automake.log,1.54 MB,
                text/plain)

            
2005-07-19 03:00 UTC,

            Johannes Steidl




Details





emerge --info output

              (emerge.info.txt,2.10 KB,
                text/plain)

            
2005-08-24 02:14 UTC,

            Jakub Moc (RETIRED)




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Johannes Steidl





          2005-07-18 08:47:37 UTC
        

$ emerge --oneshot automake
PASS: txinfo.test
PASS: txinfo2.test
FAIL: txinfo3.test
PASS: txinfo4.test
XFAIL: txinfo5.test
PASS: txinfo6.test
PASS: txinfo7.test
PASS: txinfo8.test
PASS: txinfo9.test
PASS: txinfo10.test
FAIL: txinfo13.test
FAIL: txinfo16.test
PASS: txinfo17.test
FAIL: txinfo18.test
PASS: txinfo19.test
PASS: txinfo20.test
PASS: txinfo21.test
FAIL: txinfo22.test
FAIL: txinfo23.test
FAIL: txinfo24.test
FAIL: txinfo25.test
PASS: txinfo26.test
PASS: txinfo27.test
FAIL: txinfo28.test
PASS: txinfo29.test
PASS: txinfo30.test
PASS: transform.test
PASS: unused.test
PASS: vars.test
PASS: vars3.test
PASS: vartar.test
PASS: version.test
PASS: version2.test
PASS: version3.test
PASS: version4.test
PASS: version6.test
FAIL: version7.test
PASS: vpath.test
PASS: vtexi.test
PASS: vtexi2.test
PASS: warnopts.test
PASS: werror.test
PASS: werror2.test
PASS: whoami.test
PASS: xsource.test
PASS: yacc.test
PASS: yacc2.test
PASS: yacc3.test
PASS: yacc4.test
PASS: yacc5.test
PASS: yacc6.test
PASS: yacc7.test
PASS: yacc8.test
PASS: yaccpp.test
PASS: yaccvpath.test
=====================================
10 of 553 tests failed
(14 tests were not run)
Please report to bug-automake@gnu.org
=====================================
make[2]: *** [check-TESTS] Fehler 1
make[2]: Leaving directory
`/var/tmp/portage/automake-1.9.6/work/automake-1.9.6/tests'
make[1]: *** [check-am] Fehler 2
make[1]: Leaving directory
`/var/tmp/portage/automake-1.9.6/work/automake-1.9.6/tests'
make: *** [check-recursive] Fehler 1

!!! ERROR: sys-devel/automake-1.9.6 failed.
!!! Function src_test, Line 566, Exitcode 0
!!! Make check failed. See above for details.
!!! If you need support, post the topmost build error, NOT this status message.


$ emerge info
Portage 2.0.51.22-r1 (default-linux/x86/2005.0, gcc-3.4.4, glibc-2.3.5-r0,
2.6.10-as3-rabbit i686)
=================================================================
System uname: 2.6.10-as3-rabbit i686 Intel(R) Pentium(R) M processor 1500MHz
Gentoo Base System version 1.6.13
ccache version 2.4 [enabled]
dev-lang/python:     2.3.5, 2.4.1-r1
sys-apps/sandbox:    1.2.9
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.5
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.18-r1
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium3 -fomit-frame-pointer -fstack-protector -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.3/env
/usr/kde/3.3/share/config /usr/kde/3.3/shutdown /usr/kde/3.4/env
/usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config
/var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/texmf/web2c /etc/env.d"
CXXFLAGS="-O2 -march=pentium3 -fomit-frame-pointer -fstack-protector -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache colission-protect distlocks maketest sandbox sfperms
strict test userpriv usersandbox"
GENTOO_MIRRORS="ftp://pandemonium.tiscali.de/pub/gentoo/
http://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/ http://194.117.143.69
http://194.117.143.72"
LANG="de_DE.utf-8"
LC_ALL="de_DE.utf-8"
LINGUAS="de"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.de.gentoo.org/gentoo-portage"
USE="x86 X aalib acl acpi alsa apache2 avi bash-completion bitmap-fonts caca
cdparanoia cdr crypt cups divx4linux dlloader dvd dvdr eds encode esd evo fam
fbcon flac gif gimpprint gnome gnomedb gpm gstreamer gtk2 gtkhtml hal hbci howl
imlib2 ipv6 ithreads jpeg mad mikmod mmx mng mono moznocompose moznoirc
moznomail mozsvg mpeg mpeg4 mysql ncurses nls nptl nptlonly oggvorbis opengl
openssh pam pcmcia png python quicktime readline real rtc samba session spell
sse sse2 ssl svg svga theora threads tiff truetype truetype-fonts type1-fonts
unicode usb userlocales wmf xanim xv zlib linguas_de userland_GNU kernel_linux
elibc_glibc"
Unset:  ASFLAGS, CTARGET, LDFLAGS




Comment 1


Jakub Moc (RETIRED)






          2005-07-18 09:16:53 UTC
        

Please, run 'VERBOSE=1 emerge automake >& automake.log' and attach the log here.




Comment 2


Johannes Steidl





          2005-07-19 03:00:50 UTC
        

Created attachment 63763 [details]
automake.log

log from 'VERBOSE=1 emerge automake >& automake.log'




Comment 3


Jakub Moc (RETIRED)






          2005-07-24 03:37:49 UTC
        

You need to reopen the bug, otherwise noone will notice...




Comment 4


SpanKY






          2005-07-24 10:06:50 UTC
        

set your LC_ALL to C and try to emerge it




Comment 5


Johannes Steidl





          2005-07-25 02:33:45 UTC
        

sorry, i won't have acess to my notebook for about 2 weeks. will be back on the
bug then, thanks.




Comment 6


SpanKY






          2005-07-25 05:52:50 UTC
        

ok, please re-open when you do then :)




Comment 7


Johannes Steidl





          2005-08-06 03:10:11 UTC
        

thank you for you patience ;)
sadly that last suggestion didnt solved the problem

$ LC_ALL="C" emerge --oneshot maketest

PASS: txinfo2.test
FAIL: txinfo3.test
PASS: txinfo4.test
XFAIL: txinfo5.test
PASS: txinfo6.test
PASS: txinfo7.test
PASS: txinfo8.test
PASS: txinfo9.test
PASS: txinfo10.test
FAIL: txinfo13.test
FAIL: txinfo16.test
PASS: txinfo17.test
FAIL: txinfo18.test
PASS: txinfo19.test
PASS: txinfo20.test
PASS: txinfo21.test
FAIL: txinfo22.test
FAIL: txinfo23.test
FAIL: txinfo24.test
FAIL: txinfo25.test
PASS: txinfo26.test
PASS: txinfo27.test
FAIL: txinfo28.test
PASS: txinfo29.test
PASS: txinfo30.test
PASS: transform.test
PASS: unused.test
PASS: vars.test
PASS: vars3.test
PASS: vartar.test
PASS: version.test
PASS: version2.test
PASS: version3.test
PASS: version4.test
PASS: version6.test
FAIL: version7.test
PASS: vpath.test
PASS: vtexi.test
PASS: vtexi2.test
PASS: warnopts.test
PASS: werror.test
PASS: werror2.test
PASS: whoami.test
PASS: xsource.test
PASS: yacc.test
PASS: yacc2.test
PASS: yacc3.test
PASS: yacc4.test
PASS: yacc5.test
PASS: yacc6.test
PASS: yacc7.test
PASS: yacc8.test
PASS: yaccpp.test
PASS: yaccvpath.test
=====================================
10 of 554 tests failed
(13 tests were not run)
Please report to bug-automake@gnu.org
=====================================
make[2]: *** [check-TESTS] Error 1
make[2]: Leaving directory
`/var/tmp/portage/automake-1.9.6/work/automake-1.9.6/tests'
make[1]: *** [check-am] Error 2
make[1]: Leaving directory
`/var/tmp/portage/automake-1.9.6/work/automake-1.9.6/tests'
make: *** [check-recursive] Error 1

!!! ERROR: sys-devel/automake-1.9.6 failed.
!!! Function src_test, Line 566, Exitcode 0
!!! Make check failed. See above for details.
!!! If you need support, post the topmost build error, NOT this status message.




Comment 8


Jakub Moc (RETIRED)






          2005-08-24 02:08:17 UTC
        

It fails one test here (posting the relevant part of the log only):

=== Running test ./ccnoco.test
/var/tmp/portage/automake-1.9.6/work/automake-1.9.6/tests/testSubDir
Makefile.am: installing `./compile'
checking for a BSD-compatible install... /bin/install -c
checking whether build environment is sane... yes
checking for gawk... gawk
checking whether make sets $(MAKE)... yes
checking for gcc...
/var/tmp/portage/automake-1.9.6/work/automake-1.9.6/tests/testSubDir/build/../Mycomp
checking for C compiler default output file name... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... no
checking for suffix of executables... configure: error: cannot compute suffix of
executables: cannot compile and link
See `config.log' for more details.
FAIL: ccnoco.test
/var/tmp/portage/automake-1.9.6/work/automake-1.9.6/tests:/usr/lib/ccache/bin:/sbin:/usr/sbin:/usr/lib/portage/bin:/bin:/usr/bin:/opt/bin:/usr/i686-pc-linux-gnu/gcc-bin/4.0.2-beta20050818





Comment 9


Jakub Moc (RETIRED)






          2005-08-24 02:14:25 UTC
        

Created attachment 66725 [details]
emerge --info output




Comment 10


Martin Schlemmer (RETIRED)






          2005-08-25 04:13:53 UTC
        

Johannes, can you add the log for each of the failures?

Jakub, can you add the config.log as specified in the log you pasted?




Comment 11


Jakub Moc (RETIRED)






          2005-08-25 04:38:14 UTC
        

(In reply to comment #10)
> Johannes, can you add the log for each of the failures?
> 
> Jakub, can you add the config.log as specified in the log you pasted?

Heh, I'd like to but did not find it anywhere. Hint please. :)




Comment 12


SpanKY






          2005-08-25 06:24:17 UTC
        

/var/tmp/portage/automake*/work/automake*/config.log usually




Comment 13


Jakub Moc (RETIRED)






          2005-08-25 06:58:38 UTC
        

(In reply to comment #12)
> /var/tmp/portage/automake*/work/automake*/config.log usually

Hmm, yeah - I've found that one before but there's zero information about the
tests, so it's pretty much useless.




Comment 14


Henning Westerholt





          2005-08-27 03:58:03 UTC
        

On my system the emerge of automake ends with 33 failed tests. I reported the  
errors to bug-automake@gnu.org today.. 
  
  




Comment 15


Jakub Moc (RETIRED)






          2005-09-06 06:48:26 UTC
        

*** Bug 105017 has been marked as a duplicate of this bug. ***




Comment 16


Andrew Ross (RETIRED)






          2006-08-06 05:35:53 UTC
        

I'm seeing the following tests fail with sys-devel/automake-1.9.6-r2:

auxdir2
cond17
condd
pluseq
subcond2
txinfo5

Will post logs within 24 hours.

Portage 2.1-r1 (hardened/x86/2.6, gcc-3.3.6, glibc-2.3.6-r3, 2.6.11-hardened-r15 i686)
=================================================================
System uname: 2.6.11-hardened-r15 i686 Pentium III (Coppermine)
Gentoo Base System version 1.6.14
app-admin/eselect-compiler: [Not Present]
dev-lang/python:     2.3.5-r2
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/gcc-config: 1.3.13-r2
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-mcpu=pentium3 -O2 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc"
CONFIG_PROTECT_MASK="/etc/env.d /etc/gconf /etc/terminfo"
CXXFLAGS="-mcpu=pentium3 -O2 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig collision-protect distlocks metadata-transfer sandbox sfperms strict test userfetch"
GENTOO_MIRRORS="ftp://mirror.aarnet.edu.au/pub/gentoo ftp://mirror.pacific.net.au/pub/gentoo http://distfiles.gentoo.org http://www.ibiblio.org/pub/Linux/distributions/gentoo"
PKGDIR="/usr/portage//packages/x86/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage/"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://gentoo.whitleycollege.org/gentoo-portage"
USE="acl bash-completion berkdb bzip2 crypt dlloader hardened ncurses nls pam pic python readline ssl symlink tcpd test unicode userlocales x86 xorg zlib elibc_glibc input_devices_mouse input_devices_keyboard kernel_linux userland_GNU"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGUAS, MAKEOPTS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 17


SpanKY






          2006-11-05 00:58:34 UTC
        

i'd try re-emerging texinfo and see if that helps









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

