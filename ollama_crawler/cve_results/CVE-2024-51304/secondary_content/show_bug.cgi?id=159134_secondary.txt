Title: 159134 – app-cdr/k3b-0.12.17 fails to emerge with USE="flac"
URL: https://bugs.gentoo.org/show_bug.cgi?id=159134

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 159134
app-cdr/k3b-0.12.17 fails to emerge with USE="flac"
Last modified: 2007-04-26 23:02:02 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 159134 
      - app-cdr/k3b-0.12.17 fails to emerge with USE="flac"


Summary:
app-cdr/k3b-0.12.17 fails to emerge with USE="flac"
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-12-26 06:20 UTC by punta





      Modified:
    
2007-04-26 23:02 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



punta









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


punta





          2006-12-26 06:20:17 UTC
        

localhost punta # emerge -pv k3b

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild     U ] app-cdr/k3b-0.12.17 [0.12.15] USE="alsa dvdr encode flac hal kde mp3 vorbis -arts -css -debug -ffmpeg -musepack -musicbrainz -sndfile -vcd -xinerama" LINGUAS="-af -bg -bn% -br -bs -ca -cs -cy -da -de -el -en_GB -es -et -eu -fi% -fr -ga -he -hi -hu -is -it -ja -km% -lt -mk -ms% -nb -nds% -nl -nn -pa -pl -pt -pt_BR -ro -ru -se -sl -sr -sr@Latn -sv -ta -tr -uk -zh_CN -zh_TW%" 0 kB

Total size of downloads: 0 kB

--

~
Making all in flac
make[4]: Entering directory `/var/tmp/portage/k3b-0.12.17/work/k3b-0.12.17/plugins/decoder/flac'
/usr/qt/3/bin/moc ./k3bflacdecoder.h -o k3bflacdecoder.moc
/bin/sh ../../../libtool --silent --tag=CXX --mode=compile i686-pc-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I. -I../../..  -I./../../../libk3b/plugin -I./../../../libk3bdevice -I./../../../libk3b/core -I/usr/include/taglib -I/usr/kde/3.5/include -I/usr/qt/3/include -I.  -I/usr/kde/3.5/include -DQT_THREAD_SUPPORT  -D_REENTRANT  -Wno-long-long -Wundef -ansi -D_XOPEN_SOURCE=500 -D_BSD_SOURCE -Wcast-align -Wconversion -Wchar-subscripts -Wall -W -Wpointer-arith -DNDEBUG -DNO_DEBUG -O2 -march=pentium4 -O2 -pipe -fomit-frame-pointer -Wformat-security -Wmissing-format-attribute -Wno-non-virtual-dtor -fno-exceptions -fno-check-new -fno-common  -c -o k3bflacdecoder.lo k3bflacdecoder.cpp
k3bflacdecoder.cpp: In member function 'virtual QString K3bFLACDecoder::technicalInfo(const QString&) const':
k3bflacdecoder.cpp:391: error: invalid cast from type 'FLAC::Metadata::VorbisComment::Entry' to type 'char*'
make[4]: *** [k3bflacdecoder.lo] Error 1
make[4]: Leaving directory `/var/tmp/portage/k3b-0.12.17/work/k3b-0.12.17/plugins/decoder/flac'
make[3]: *** [all-recursive] Error 1
make[3]: Leaving directory `/var/tmp/portage/k3b-0.12.17/work/k3b-0.12.17/plugins/decoder'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/var/tmp/portage/k3b-0.12.17/work/k3b-0.12.17/plugins'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/k3b-0.12.17/work/k3b-0.12.17'
make: *** [all] Error 2

!!! ERROR: app-cdr/k3b-0.12.17 failed.
Call stack:
  ebuild.sh, line 1546:   Called dyn_compile
  ebuild.sh, line 937:   Called src_compile
  k3b-0.12.17.ebuild, line 103:   Called kde_src_compile
  kde.eclass, line 170:   Called kde_src_compile 'all'
  kde.eclass, line 340:   Called kde_src_compile 'myconf' 'configure' 'make'
  kde.eclass, line 336:   Called die

!!! died running emake, kde_src_compile:make
!!! If you need support, post the topmost build error, and the call stack if relevant.

--

localhost punta # emerge --info
Portage 2.1.1-r2 (default-linux/x86/2006.1/desktop, gcc-4.1.1, glibc-2.4-r4, 2.6.17-gentoo-r8 i686)
=================================================================
System uname: 2.6.17-gentoo-r8 i686 Intel(R) Pentium(R) 4 CPU 3.20GHz
Gentoo Base System version 1.12.6
Last Sync: Tue, 26 Dec 2006 13:00:03 +0000
app-admin/eselect-compiler: [Not Present]
dev-java/java-config: 1.3.7, 2.0.30
dev-lang/python:     2.4.3-r4
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.60
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.14
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.17-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=pentium4 -O2 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c"
CXXFLAGS="-march=pentium4 -O2 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="ftp://ftp.ii.net/pub/Gentoo/"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X aac aalib aavm alsa alsa_cards_ali5451 alsa_cards_als4000 alsa_cards_atiixp alsa_cards_atiixp-modem alsa_cards_bt87x alsa_cards_ca0106 alsa_cards_cmipci alsa_cards_emu10k1x alsa_cards_ens1370 alsa_cards_ens1371 alsa_cards_es1938 alsa_cards_es1968 alsa_cards_fm801 alsa_cards_hda-intel alsa_cards_intel8x0 alsa_cards_intel8x0m alsa_cards_maestro3 alsa_cards_trident alsa_cards_usb-audio alsa_cards_via82xx alsa_cards_via82xx-modem alsa_cards_ymfpci alsa_pcm_plugins_adpcm alsa_pcm_plugins_alaw alsa_pcm_plugins_asym alsa_pcm_plugins_copy alsa_pcm_plugins_dmix alsa_pcm_plugins_dshare alsa_pcm_plugins_dsnoop alsa_pcm_plugins_empty alsa_pcm_plugins_extplug alsa_pcm_plugins_file alsa_pcm_plugins_hooks alsa_pcm_plugins_iec958 alsa_pcm_plugins_ioplug alsa_pcm_plugins_ladspa alsa_pcm_plugins_lfloat alsa_pcm_plugins_linear alsa_pcm_plugins_meter alsa_pcm_plugins_mulaw alsa_pcm_plugins_multi alsa_pcm_plugins_null alsa_pcm_plugins_plug alsa_pcm_plugins_rate alsa_pcm_plugins_route alsa_pcm_plugins_share alsa_pcm_plugins_shm alsa_pcm_plugins_softvol berkdb bindist bitmap-fonts cairo cdr cli cracklib crypt cups dbus dga directfb dlloader dri dvb dvd dvdr elibc_glibc emboss encode esd evms2 evo fam fbcon firefox flac fortran gdbm gif gnome gpm gstreamer gtk gtk2 hal iconv innodb input_devices_evdev input_devices_keyboard input_devices_mouse ipv6 isdnlog java jpeg kde kernel_linux ldap libg++ mad mikmod mmx mmx2 mp3 mpeg mysql ncurses nls nptl nptlonly ogg opengl oss pam pcre perl php png ppds pppd python qt3 qt4 quicktime readline reflection samba sdl session spell spl sse sse2 ssl svga tcltk tcpd tiff tk truetype truetype-fonts type1-fonts udev unicode userland_GNU video_cards_apm video_cards_ark video_cards_ati video_cards_chips video_cards_cirrus video_cards_cyrix video_cards_dummy video_cards_fbdev video_cards_glint video_cards_i128 video_cards_i740 video_cards_i810 video_cards_imstt video_cards_mga video_cards_neomagic video_cards_nsc video_cards_nv video_cards_rendition video_cards_s3 video_cards_s3virge video_cards_savage video_cards_siliconmotion video_cards_sis video_cards_sisusb video_cards_tdfx video_cards_tga video_cards_trident video_cards_tseng video_cards_v4l video_cards_vesa video_cards_vga video_cards_via video_cards_vmware video_cards_voodoo vorbis win32codecs xml xorg xv zlib"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGUAS, MAKEOPTS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Carsten Lohrke (RETIRED)






          2007-04-26 13:57:50 UTC
        

Can't reproduce, which flac version do you have installed?




Comment 2


punta





          2007-04-26 14:05:31 UTC
        

(In reply to comment #1)
> Can't reproduce, which flac version do you have installed?
> 


media-libs/flac-1.1.2-r8





Comment 3


Carsten Lohrke (RETIRED)






          2007-04-26 23:02:02 UTC
        

Flac header looks fine to me, no idea why it throws the invalid cast error on your box. You may Try to install flac again.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

