Title: 84953 – bootstrap fails if too many useflags are on?
URL: https://bugs.gentoo.org/show_bug.cgi?id=84953

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 84953
bootstrap fails if too many useflags are on?
Last modified: 2006-04-07 19:40:49 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 84953 
      - bootstrap fails if too many useflags are on?


Summary:
bootstrap fails if too many useflags are on?
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Core system

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       major
      


Assignee:

Gentoo's Team for Core System packages








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-03-12 02:51 UTC by Eero Volotinen





      Modified:
    
2006-04-07 19:40 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Eero Volotinen





          2005-03-12 02:51:05 UTC
        

bootstrap fails if too many useflags are on? for example kde, because it tries to compile libart, which fails this stage?

use-flags should be filtered by bootstrap?

Reproducible: Always
Steps to Reproduce:
1.
2.
3.




Comment 1


SpanKY






          2005-03-12 11:23:23 UTC
        

yes, you can trigger a circular dependency

however, we need more info on what happened before we can fix it




Comment 2


Eero Volotinen





          2005-03-12 22:37:35 UTC
        

if use flag kde arts? is set bootstraps fails to libart compile.




Comment 3


SpanKY






          2005-03-12 22:40:44 UTC
        

well lets see what you still neglected to provide ...

stage tarball name ?
`emerge info` ?




Comment 4


Eero Volotinen





          2005-03-12 23:37:13 UTC
        

Gentoo Base System version 1.4.16
Portage 2.0.51.19 (default-linux/x86/2004.3, gcc-3.3.5, glibc-2.3.4.20040808-r1, 2.6.11-cko2 i686)
=================================================================
System uname: 2.6.11-cko2 i686 mobile AMD Athlon(tm) XP-M 2600+
Python:              dev-lang/python-2.3.4-r1 [2.3.4 (#1, Mar 12 2005, 11:20:54)]
ccache version 2.3 [enabled]
dev-lang/python:     2.3.4-r1
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.5, 1.9.4, 1.6.3, 1.7.9-r1, 1.4_p6, 1.8.5-r3
sys-devel/binutils:  2.15.92.0.2-r1
sys-devel/libtool:   1.5.10-r4
virtual/os-headers:  2.6.8.1-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CFLAGS="-O2 -march=athlon-xp -ffast-math  -pipe -fomit-frame-pointer -msse -mfpmath=sse,387  -funroll-loops"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.3/env /usr/kde/3.3/share/config /usr/kde/3.3/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=athlon-xp -ffast-math  -pipe -fomit-frame-pointer -msse -mfpmath=sse,387  -funroll-loops"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig candy ccache distlocks prelink sandbox sfperms"
GENTOO_MIRRORS="http://trumpetti.atm.tut.fi/gentoo/ ftp://trumpetti.atm.tut.fi/gentoo/ ftp://ftp.linux.ee/pub/gentoo/distfiles/"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.fi.gentoo.org/gentoo-portage"
USE="3dnow X acpi alsa apm arts avi berkdb bitmap-fonts cdparanoia cdr crypt cups curl divx divx4linux dvd dvdread emboss encode fam flac font-server foomaticdb fortran freetype gcj gdbm gif gimpprint gphoto2 gpm imlib java jpeg jpeg2k kde kdeenablefinal libg++ libwww logitech-mouse mad mikmod mmx motif mp3 mpeg ncurses nls nptl oggvorbis opengl oss pam pcmcia pda pdf pdflib perl pic png python qt quicktime readline samba scanner sdl spell sse ssl svga tcpd tiff truetype truetype-fonts type1 type1-fonts usb wifi x86 xine xml2 xmms xprint xv xvid zlib video_cards_savage"
Unset:  ASFLAGS, CBUILD, CTARGET, LANG, LC_ALL, LDFLAGS


and stage1 - latest stable-x86 from mirrors.




Comment 5


SpanKY






          2005-03-12 23:47:16 UTC
        

'and stage1 - latest stable-x86 from mirrors.' <- that doesnt mean anything

what was the full name of the stage tarball you used




Comment 6


Eero Volotinen





          2005-03-12 23:54:27 UTC
        

http://trumpetti.atm.tut.fi/gentoo/releases/x86/2004.3/stages/x86/stage1-x86-2004.3.tar.bz2




Comment 7


Martin Schlemmer (RETIRED)






          2005-03-13 06:45:46 UTC
        

I might be missing something, but bootstrap is just the bit that happens when you run ./scripts/bootstrap.sh, which
should not even touch kde or arts.  Do you really mean 'emerge system' fails?   Or is it after even that with 'emerge kde'?





Comment 8


Eero Volotinen





          2005-03-13 07:07:26 UTC
        

Yes, emerge system fails. I tracked problem to use flags.





Comment 9


Eero Volotinen





          2005-03-13 09:18:09 UTC
        

Full bug report is not avail, but I mainly tried to install gentoo with my use flags, but bootstrap.sh fails to libart compile, why it tries to compile it. It is not needed in bootstrap??




Comment 10


Martin Schlemmer (RETIRED)






          2005-03-13 10:08:38 UTC
        

First you say 'emerge system' fails, and then you say 'bootstrap.sh' in the next comment - which is it?





Comment 11


SpanKY






          2006-04-07 19:40:49 UTC
        

use a stage3









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

