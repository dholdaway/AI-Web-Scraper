Title: 147390 – media-gfx/gimp-2.3.11 failed to emerge (undefined symbol: gimp_hint_box_get_type)
URL: https://bugs.gentoo.org/show_bug.cgi?id=147390

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 147390
media-gfx/gimp-2.3.11 failed to emerge (undefined symbol: gimp_hint_box_get_type)
Last modified: 2006-10-07 08:27:11 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 147390 
      - media-gfx/gimp-2.3.11 failed to emerge (undefined symbol: gimp_hint_box_get_type)


Summary:
media-gfx/gimp-2.3.11 failed to emerge (undefined symbol: gimp_hint_box_get_t...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

John N. Laliberte (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-09-12 15:33 UTC by Michael Baer





      Modified:
    
2006-10-07 08:27 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



hanno









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Michael Baer





          2006-09-12 15:33:47 UTC
        

Compilation of gimp failed with the following error:

gtk-doc: Compiling scanner
mkdir .libs
 gcc -O2 -mtune=athlon-xp -pipe -Wall -Wdeclaration-after-statement -O2 -mtune=athlon-xp -pipe -Wall -Wdeclaration-after-statement -I../.. -I../.. -I/usr/include/gtk-2.0 -I/usr/lib/gtk-2.0/include -I/usr/include/atk-1.0 -I/usr/include/cairo -I/usr/include/pango-1.0 -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include -I/usr/include/freetype2 -I/usr/include/libpng12 -DGIMP_ENABLE_CONTROLLER_UNDER_CONSTRUCTION -c libgimpwidgets-scan.c  -fPIC -DPIC -o .libs/libgimpwidgets-scan.o
gtk-doc: Linking scanner
gcc -O2 -mtune=athlon-xp -pipe -Wall -Wdeclaration-after-statement -o .libs/libgimpwidgets-scan .libs/libgimpwidgets-scan.o  ../../libgimpbase/.libs/libgimpbase-2.0.so ../../libgimpcolor/.libs/libgimpcolor-2.0.so ../../libgimpmath/.libs/libgimpmath-2.0.so ../../libgimpconfig/.libs/libgimpconfig-2.0.so ../../libgimpwidgets/.libs/libgimpwidgets-2.0.so /usr/lib/libgtk-x11-2.0.so /usr/lib/libgdk-x11-2.0.so /usr/lib/libatk-1.0.so /usr/lib/libgdk_pixbuf-2.0.so -lm /usr/lib/libpangocairo-1.0.so /usr/lib/libpango-1.0.so /usr/lib/libcairo.so /usr/lib/libgobject-2.0.so /usr/lib/libgmodule-2.0.so -ldl /usr/lib/libglib-2.0.so
creating libgimpwidgets-scan
gtk-doc: Running scanner libgimpwidgets-scan
/var/tmp/portage/gimp-2.3.11/work/gimp-2.3.11/devel-docs/libgimpwidgets/.libs/lt-libgimpwidgets-scan: symbol lookup error: /var/tmp/portage/gimp-2.3.11/work/gimp-2.3.11/devel-docs/libgimpwidgets/.libs/lt-libgimpwidgets-scan: undefined symbol: gimp_hint_box_get_type
Scan failed:
make[3]: *** [scan-build.stamp] Fehler 127
make[3]: Leaving directory `/var/tmp/portage/gimp-2.3.11/work/gimp-2.3.11/devel-docs/libgimpwidgets'
make[2]: *** [all-recursive] Fehler 1
make[2]: Leaving directory `/var/tmp/portage/gimp-2.3.11/work/gimp-2.3.11/devel-docs'
make[1]: *** [all-recursive] Fehler 1
make[1]: Leaving directory `/var/tmp/portage/gimp-2.3.11/work/gimp-2.3.11'
make: *** [all] Fehler 2


emerge -B =gimp-2.3.10 worked well (same machine, tried immediately after gimp 2.3.11)



Portage 2.1.1 (default-linux/x86/2006.1, gcc-4.1.1/vanilla, glibc-2.4-r3, 2.6.17.13 i686)
=================================================================
System uname: 2.6.17.13 i686 AMD Athlon(tm) XP 2000+
Gentoo Base System version 1.12.4
Last Sync: Tue, 12 Sep 2006 08:00:01 +0000
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
ccache version 2.4 [enabled]
app-admin/eselect-compiler: 2.0.0_rc2-r1
dev-lang/python:     2.3.5-r2, 2.4.3-r3
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     2.4-r2
dev-util/confcache:  0.4.2-r1
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.60
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.17
sys-devel/gcc-config: 1.3.13-r3
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.17
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -mtune=athlon-xp -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /etc/revdep-rebuild/ /opt/openjms/config /usr/NX/etc /usr/NX/home /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/lib/fax /usr/share/X11/xkb /usr/share/config /var/bind /var/spool/fax/etc /var/www/localhost/"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/eselect/compiler /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c"
CXXFLAGS="-O2 -mtune=athlon-xp -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache distlocks loadpolicy metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="ftp://ftp.ndlug.nd.edu/pub/gentoo/ ftp://cs.ubishops.ca/pub/gentoo"
LANG="de_DE@euro"
LINGUAS="de"
MAKEOPTS="-j2"
PKGDIR="/var/cache/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/my-ebuilds /usr/local/overlays/java-experimental"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 3dnow a52 aac acl acpi apache2 arts asf avi bcmath berkdb bitmap-fonts bzip2 calendar caps cgi cli crypt cups curl dba devmap dga dlloader doc dri drm dvd elibc_glibc flatfile fortran freetype gd gdbm glitz gpm gtk2 hal iconv imagemagick imap input_devices_evdev input_devices_keyboard input_devices_mouse ipv6 isdnlog java kde kerberos kernel_linux ldap libg++ linguas_de maildir mhash mmx mp3 mysql ncurses nls nptl nptlonly objc offensive ogg opengl oss pam pcre pear perl ppds pppd python readline reflection scanner sdl session soap sockets socks5 spl sse ssl svg tcpd tiff truetype truetype-fonts type1-fonts udev unicode usb userland_GNU vcd vhosts video_cards_ati video_cards_vesa win32codecs x264 xine xml xml2 xorg xsl xv xvid xvmc zlib"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LC_ALL, LDFLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


endrazine





          2006-10-03 17:09:40 UTC
        

Hi,
I emerged the very same version of gimp and it worked lika a charm : I couldn't reproduce that bug.
Maybe having a look at http://bugs.gentoo.org/show_bug.cgi?id=147489
could explain the why of it thoo -maybe a dependency issue.

Could you please verify that emerging an older version of gimp and then the new one fixes the problem please ?

regards,

endrazine-

localhost gentoobugs # ACCEPT_KEYWORDS="~x86" emerge =gimp-2.3.11
(...)
localhost gentoobugs # gimp --version
GNU Image Manipulation Programme version 2.3.11
localhost gentoobugs #


(In reply to comment #0)
> Compilation of gimp failed with the following error:
> 
> gtk-doc: Compiling scanner
> mkdir .libs
>  gcc -O2 -mtune=athlon-xp -pipe -Wall -Wdeclaration-after-statement -O2
> -mtune=athlon-xp -pipe -Wall -Wdeclaration-after-statement -I../.. -I../..
> -I/usr/include/gtk-2.0 -I/usr/lib/gtk-2.0/include -I/usr/include/atk-1.0
> -I/usr/include/cairo -I/usr/include/pango-1.0 -I/usr/include/glib-2.0
> -I/usr/lib/glib-2.0/include -I/usr/include/freetype2 -I/usr/include/libpng12
> -DGIMP_ENABLE_CONTROLLER_UNDER_CONSTRUCTION -c libgimpwidgets-scan.c  -fPIC
> -DPIC -o .libs/libgimpwidgets-scan.o
> gtk-doc: Linking scanner
> gcc -O2 -mtune=athlon-xp -pipe -Wall -Wdeclaration-after-statement -o
> .libs/libgimpwidgets-scan .libs/libgimpwidgets-scan.o 
> ../../libgimpbase/.libs/libgimpbase-2.0.so
> ../../libgimpcolor/.libs/libgimpcolor-2.0.so
> ../../libgimpmath/.libs/libgimpmath-2.0.so
> ../../libgimpconfig/.libs/libgimpconfig-2.0.so
> ../../libgimpwidgets/.libs/libgimpwidgets-2.0.so /usr/lib/libgtk-x11-2.0.so
> /usr/lib/libgdk-x11-2.0.so /usr/lib/libatk-1.0.so /usr/lib/libgdk_pixbuf-2.0.so
> -lm /usr/lib/libpangocairo-1.0.so /usr/lib/libpango-1.0.so /usr/lib/libcairo.so
> /usr/lib/libgobject-2.0.so /usr/lib/libgmodule-2.0.so -ldl
> /usr/lib/libglib-2.0.so
> creating libgimpwidgets-scan
> gtk-doc: Running scanner libgimpwidgets-scan
> /var/tmp/portage/gimp-2.3.11/work/gimp-2.3.11/devel-docs/libgimpwidgets/.libs/lt-libgimpwidgets-scan:
> symbol lookup error:
> /var/tmp/portage/gimp-2.3.11/work/gimp-2.3.11/devel-docs/libgimpwidgets/.libs/lt-libgimpwidgets-scan:
> undefined symbol: gimp_hint_box_get_type
> Scan failed:
> make[3]: *** [scan-build.stamp] Fehler 127
> make[3]: Leaving directory
> `/var/tmp/portage/gimp-2.3.11/work/gimp-2.3.11/devel-docs/libgimpwidgets'
> make[2]: *** [all-recursive] Fehler 1
> make[2]: Leaving directory
> `/var/tmp/portage/gimp-2.3.11/work/gimp-2.3.11/devel-docs'
> make[1]: *** [all-recursive] Fehler 1
> make[1]: Leaving directory `/var/tmp/portage/gimp-2.3.11/work/gimp-2.3.11'
> make: *** [all] Fehler 2
> 
> 
> emerge -B =gimp-2.3.10 worked well (same machine, tried immediately after gimp
> 2.3.11)
> 
> 
> 
> Portage 2.1.1 (default-linux/x86/2006.1, gcc-4.1.1/vanilla, glibc-2.4-r3,
> 2.6.17.13 i686)
> =================================================================
> System uname: 2.6.17.13 i686 AMD Athlon(tm) XP 2000+
> Gentoo Base System version 1.12.4
> Last Sync: Tue, 12 Sep 2006 08:00:01 +0000
> distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632)
> [disabled]
> ccache version 2.4 [enabled]
> app-admin/eselect-compiler: 2.0.0_rc2-r1
> dev-lang/python:     2.3.5-r2, 2.4.3-r3
> dev-python/pycrypto: 2.0.1-r5
> dev-util/ccache:     2.4-r2
> dev-util/confcache:  0.4.2-r1
> sys-apps/sandbox:    1.2.18.1
> sys-devel/autoconf:  2.13, 2.60
> sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
> sys-devel/binutils:  2.17
> sys-devel/gcc-config: 1.3.13-r3
> sys-devel/libtool:   1.5.22
> virtual/os-headers:  2.6.17
> ACCEPT_KEYWORDS="x86 ~x86"
> AUTOCLEAN="yes"
> CBUILD="i686-pc-linux-gnu"
> CFLAGS="-O2 -mtune=athlon-xp -pipe"
> CHOST="i686-pc-linux-gnu"
> CONFIG_PROTECT="/etc /etc/revdep-rebuild/ /opt/openjms/config /usr/NX/etc
> /usr/NX/home /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown
> /usr/lib/fax /usr/share/X11/xkb /usr/share/config /var/bind /var/spool/fax/etc
> /var/www/localhost/"
> CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/eselect/compiler
> /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/terminfo
> /etc/texmf/web2c"
> CXXFLAGS="-O2 -mtune=athlon-xp -pipe"
> DISTDIR="/usr/portage/distfiles"
> FEATURES="autoconfig ccache distlocks loadpolicy metadata-transfer sandbox
> sfperms strict"
> GENTOO_MIRRORS="ftp://ftp.ndlug.nd.edu/pub/gentoo/
> ftp://cs.ubishops.ca/pub/gentoo"
> LANG="de_DE@euro"
> LINGUAS="de"
> MAKEOPTS="-j2"
> PKGDIR="/var/cache/portage/packages"
> PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress
> --force --whole-file --delete --delete-after --stats --timeout=180
> --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
> PORTAGE_TMPDIR="/var/tmp"
> PORTDIR="/usr/portage"
> PORTDIR_OVERLAY="/my-ebuilds /usr/local/overlays/java-experimental"
> SYNC="rsync://rsync.gentoo.org/gentoo-portage"
> USE="x86 3dnow a52 aac acl acpi apache2 arts asf avi bcmath berkdb bitmap-fonts
> bzip2 calendar caps cgi cli crypt cups curl dba devmap dga dlloader doc dri drm
> dvd elibc_glibc flatfile fortran freetype gd gdbm glitz gpm gtk2 hal iconv
> imagemagick imap input_devices_evdev input_devices_keyboard input_devices_mouse
> ipv6 isdnlog java kde kerberos kernel_linux ldap libg++ linguas_de maildir
> mhash mmx mp3 mysql ncurses nls nptl nptlonly objc offensive ogg opengl oss pam
> pcre pear perl ppds pppd python readline reflection scanner sdl session soap
> sockets socks5 spl sse ssl svg tcpd tiff truetype truetype-fonts type1-fonts
> udev unicode usb userland_GNU vcd vhosts video_cards_ati video_cards_vesa
> win32codecs x264 xine xml xml2 xorg xsl xv xvid xvmc zlib"
> Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LC_ALL, LDFLAGS,
> PORTAGE_RSYNC_EXTRA_OPTS
> 






Comment 2


Michael Baer





          2006-10-07 08:27:11 UTC
        

"Solved"

I couldn't get gimp 2.3.11 to work as long as gimp 2.3.10 was installed. 

I've tried to execute lt-libgimpwidgets-scan manually and it produced the "undefined symbol" output. I've checked all shlibs given by ldd and none of them contained a gimp_hint_box_get_type string. Some of the needed shlibs were the gimp-libs. Thus I've removed old gimp completely and compiled gimp 2.3.11 without any gimp installed. Voil




Comment 3


Michael Baer





          2006-10-07 08:27:11 UTC
        

"Solved"

I couldn't get gimp 2.3.11 to work as long as gimp 2.3.10 was installed. 

I've tried to execute lt-libgimpwidgets-scan manually and it produced the "undefined symbol" output. I've checked all shlibs given by ldd and none of them contained a gimp_hint_box_get_type string. Some of the needed shlibs were the gimp-libs. Thus I've removed old gimp completely and compiled gimp 2.3.11 without any gimp installed. Voilá, it worked.

Conclusion: If this error occurs, uninstall old gimp and install the new one.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

