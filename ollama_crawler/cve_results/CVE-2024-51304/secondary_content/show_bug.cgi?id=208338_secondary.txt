Title: 208338 – Idea: Dependency cache for faster dependency calculation
URL: https://bugs.gentoo.org/show_bug.cgi?id=208338

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 208338
Idea: Dependency cache for faster dependency calculation
Last modified: 2008-01-31 23:45:54 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 208338 
      - Idea: Dependency cache for faster dependency calculation


Summary:
Idea: Dependency cache for faster dependency calculation
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Portage Development




Classification:

Unclassified




Component:

Enhancement/Feature Requests

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       enhancement
      


Assignee:

Portage team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-01-31 19:15 UTC by Arne Babenhauserheide





      Modified:
    
2008-01-31 23:45 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Arne Babenhauserheide





          2008-01-31 19:15:30 UTC
        

Hi, 

Would it be possible (and useful) to cache the dependencies of ebuilds to get faster dependency calculation? 

That way, portage wouldn't have to check the whole ebuild information, but only if the avaible versions and the useflags of each dependency have changed from the last check. 

This could especially speed up dependency checking for ebuilds where I just set a version to testing. 
With a dependency cache, portage would only really need to check, for which ebuilds the keywords changed, and if anything else changed, but wouldn't have to check each ebuild again. 

As a last comment: I don't know much about the inner workings of portage, except that which I got from the wiki and 3 years of portage usage, so this idea might just be impossible to implement or not very useful. 

I hope it is useful, though. 

Best wishes, and many thanks for portage! 
Arne

Reproducible: Always




Comment 1


Bo Ørsted Andresen (RETIRED)






          2008-01-31 22:40:35 UTC
        

(In reply to comment #0)
> Would it be possible (and useful) to cache the dependencies of ebuilds to get
> faster dependency calculation? 
[...]
> As a last comment: I don't know much about the inner workings of portage,
> except that which I got from the wiki and 3 years of portage usage, so this
> idea might just be impossible to implement or not very useful. 

If you go to metadata/cache in your rsync checkout (usually in /usr/portage) you'll find a cache which contains metadata (this includes *DEPEND) for all ebuilds in the tree... So yes, it's useful.. It has also existed for years..




Comment 2


Arne Babenhauserheide





          2008-01-31 23:45:54 UTC
        

I could have expected that much... sorry, that I took your time. 

And many thanks for your answer! 

It's good to see again how advanced portage is. 









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

