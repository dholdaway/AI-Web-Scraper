Title: 104765 – madwifi-driver causes system lockup
URL: https://bugs.gentoo.org/show_bug.cgi?id=104765

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 104765
madwifi-driver causes system lockup
Last modified: 2005-09-07 13:37:39 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 104765 
      - madwifi-driver causes system lockup


Summary:
madwifi-driver causes system lockup
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       critical
      


Assignee:

Mobile Herd (OBSOLETE)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-09-03 20:33 UTC by Slowking Man





      Modified:
    
2005-09-07 13:37 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



mr_bones_









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Slowking Man





          2005-09-03 20:33:35 UTC
        

On my Intel Pentium D box running ~amd64, madwifi-driver causes, at random, a
full system lockup, only recoverable by hard-restarting the system. I'm certain
the madwifi modules are the cause, because I never experienced any problems
until installing them. All versions in Portage seem to do it, even the latest
hard-masked version (pre20050809-r1). The lockup happens at random: while
sitting at a terminal, idling with an application open, or while compiling or
doing other system-intensive tasks. With versions up to 0.1_pre20050420-r1, the
system is actually able to establish a wireless connection, but, of course, the
system eventually freezes. With the masked versions, no connection happens (I'm
using wpa_supplicant-0.4.4, and the latest versions are masked because they
don't seem to work with it), but the lockup still occurs. I haven't been able to
find any other instances of such a problem. My wireless card is a D-Link DWL-520.

lsmod output:
Module                  Size  Used by
wlan_ccmp               6528  2 
ath_pci                72608  0 
ath_rate_sample        15888  1 ath_pci
wlan                  128116  4 wlan_ccmp,ath_pci,ath_rate_sample
ath_hal               170352  3 ath_pci,ath_rate_sample
vfat                   12160  1 
nls_cp437               7296  1 
nls_ascii               5504  0 
nls_utf8                2304  0 
nls_iso8859_1           5504  1 
binfmt_misc            10636  0 
udf                    77192  0 
msdos                   9344  0 
isofs                  32740  0 
cifs                  198556  0 
fat                    47280  2 vfat,msdos
nls_base                8448  9
vfat,nls_cp437,nls_ascii,nls_utf8,nls_iso8859_1,udf,isofs,cifs,fat
quota_v2                9728  0 
autofs4                18568  0 
anubis                 10880  0 
cast6                  17536  0 
tcrypt                 83096  0 
md5                     4608  0 
wp512                  23808  0 
sha1                    3072  0 
crc32c                  2304  0 
md4                     4096  0 
deflate                 3456  0 
serpent                17920  0 
arc4                    2304  0 
sha512                  5632  0 
cast5                  17152  0 
tgr192                 13312  0 
michael_mic             3072  0 
tea                     2944  0 
blowfish                8960  0 
khazad                 20096  0 
crypto_null             2944  0 
twofish                39552  0 
sha256                  8960  0 
des                    17152  0 
raw1394                23576  0 
dv1394                 19576  0 
video1394              18936  0 
amdtp                  10488  0 
ohci1394               30796  3 dv1394,video1394,amdtp
cmp                     4224  1 amdtp
sbp2                   22024  0 
ieee1394               89456  7 raw1394,dv1394,video1394,amdtp,ohci1394,cmp,sbp2
v4l2_common             6784  0 
videodev                9728  0 
v4l1_compat            12164  0 
sr_mod                 15140  0 
dm_crypt               10768  1 
dm_mod                 50008  3 dm_crypt
usb_storage            35204  0 
usblp                  12544  0 
ehci_hcd               30600  0 
uhci_hcd               30752  0 
usbhid                 33056  0 
usbcore               110744  6 usb_storage,usblp,ehci_hcd,uhci_hcd,usbhid
pktcdvd                25864  0 
cdrom                  36264  2 sr_mod,pktcdvd
cfq_iosched            22424  0 
floppy                 61080  1 
lm85                   36644  0 
cpufreq_conservative     8604  0 
cpufreq_stats           5408  0 
button                  7840  0 
fan                     5256  0 
thermal                18192  0 
video                  22280  0 
evdev                  10368  0 
uinput                  7808  0 
pcspkr                  4216  0 
hw_random               5152  0 
intel_agp              22208  1 
tpm_nsc                 6912  0 
tpm                     9504  1 tpm_nsc
nvram                   8584  0 
hangcheck_timer         4376  0 
i2c_dev                10368  0 
eeprom                  7440  0 
i2c_sensor              3456  2 lm85,eeprom
tun                     9600  0 
e100                   35840  0 
mii                     5376  1 e100
microcode               6880  0 
msr                     3584  0 
acpi_cpufreq            5008  1 
freq_table              4368  2 cpufreq_stats,acpi_cpufreq
processor              32992  2 thermal,acpi_cpufreq
cpuid                   3720  0 
aes_x86_64             26024  4 
snd_seq_oss            31872  0 
snd_seq_midi_event      7296  1 snd_seq_oss
snd_seq                53440  4 snd_seq_oss,snd_seq_midi_event
snd_seq_device          8080  2 snd_seq_oss,snd_seq
snd_rtctimer            3360  0 
rtc                    12040  1 snd_rtctimer
snd_pcm_oss            49056  0 
snd_mixer_oss          16256  1 snd_pcm_oss
snd_hda_intel          14912  0 
snd_hda_codec          93696  1 snd_hda_intel
snd_pcm                84744  3 snd_pcm_oss,snd_hda_intel,snd_hda_codec
snd_timer              21896  3 snd_seq,snd_rtctimer,snd_pcm
snd                    50504  9
snd_seq_oss,snd_seq,snd_seq_device,snd_pcm_oss,snd_mixer_oss,snd_hda_intel,snd_hda_codec,snd_pcm,snd_timer
snd_page_alloc          9488  2 snd_hda_intel,snd_pcm
soundcore               8352  1 snd
crc_ccitt               2432  0 
libcrc32c               2944  1 crc32c
zlib_inflate           16512  2 isofs,deflate
zlib_deflate           21912  1 deflate
xfrm_user              16264  0 
ipcomp                  7436  0 
xfrm4_tunnel            3848  0 
ah4                     5888  0 
tcp_diag                7944  0 
ipt_ecn                 2432  0 
ipt_tcpmss              2688  0 
ipt_multiport           2944  0 
ipt_pkttype             2048  0 
ipt_ULOG                8712  0 
iptable_raw             2304  0 
ipt_CLASSIFY            2432  0 
ipt_ttl                 2176  0 
ipt_REJECT              5120  0 
ipt_hashlimit           8088  0 
ipt_recent             10008  0 
ipt_tos                 1920  0 
ipt_addrtype            2304  0 
ipt_ah                  2304  0 
ipt_sctp                3200  0 
arpt_mangle             2688  0 
ipt_comment             2048  0 
iptable_mangle          2944  0 
ipt_MARK                2816  0 
arptable_filter         2432  0 
ipt_LOG                 7168  0 
ipt_iprange             2176  0 
ipt_ECN                 3456  0 
arp_tables             12672  2 arpt_mangle,arptable_filter
ipt_limit               2688  0 
ipt_length              2048  0 
ipt_esp                 2304  0 
ipt_TCPMSS              4224  0 
ipt_owner               3840  0 
iptable_filter          3200  0 
ipt_DSCP                2688  0 
ipt_mark                2048  0 
ipt_TOS                 2688  0 
ipt_mac                 2304  0 
ipt_realm               2304  0 
ipt_dscp                2048  0 
ip_tables              19456  33
ipt_ecn,ipt_tcpmss,ipt_multiport,ipt_pkttype,ipt_ULOG,iptable_raw,ipt_CLASSIFY,ipt_ttl,ipt_REJECT,ipt_hashlimit,ipt_recent,ipt_tos,ipt_addrtype,ipt_ah,ipt_sctp,ipt_comment,iptable_mangle,ipt_MARK,ipt_LOG,ipt_iprange,ipt_ECN,ipt_limit,ipt_length,ipt_esp,ipt_TCPMSS,ipt_owner,iptable_filter,ipt_DSCP,ipt_mark,ipt_TOS,ipt_mac,ipt_realm,ipt_dscp
esp4                    7552  0 
af_packet              19084  4 
fglrx                 260576  0 
agpgart                29676  2 intel_agp,fglrx
unix                   26392  16 

emerge -v --info output:
Gentoo Base System version 1.12.0_pre8
Portage 2.0.51.22-r2 (default-linux/amd64/2005.1, gcc-3.4.4, glibc-2.3.5-r1,
2.6.13-gentoo x86_64)
=================================================================
System uname: 2.6.13-gentoo x86_64 Intel(R) Pentium(R) D CPU 3.00GHz
dev-lang/python:     2.3.5, 2.4.1-r1
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.20
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="amd64 ~amd64"
ACCEPT_LICENSE=""
ARCH="amd64"
AUTOCLEAN="yes"
BASH_ENV="/etc/spork/is/not/valid/profile.env"
CBUILD="x86_64-pc-linux-gnu"
CDEFINE_amd64="__x86_64__"
CDEFINE_x86="__i386__"
CFLAGS="-march=nocona -O2 -pipe"
CFLAGS_x86="-m32 -L/emul/linux/x86/lib -L/emul/linux/x86/usr/lib"
CHOST="x86_64-pc-linux-gnu"
CHOST_amd64="x86_64-pc-linux-gnu"
CHOST_x86="i686-pc-linux-gnu"
CLASSPATH="."
CLEAN_DELAY="5"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/splash /etc/terminfo /etc/texmf/web2c
/etc/env.d"
CVS_RSH="ssh"
CXXFLAGS="-march=nocona -O2 -pipe"
DEFAULT_ABI="amd64"
DISTDIR="/usr/portage/distfiles"
EDITOR="/bin/nano"
ELIBC="glibc"
EMERGE_WARNING_DELAY="10"
FEATURES="autoconfig collision-protect distlocks sandbox sfperms strict userpriv
usersandbox"
FETCHCOMMAND="/usr/bin/wget -t 5 --passive-ftp -P ${DISTDIR} ${URI}"
GCC_SPECS=""
GDK_USE_XFT="1"
GENTOO_MIRRORS="http://gentoo.osuosl.org/
ftp://distro.ibiblio.org/pub/linux/distributions/gentoo/
http://distro.ibiblio.org/pub/linux/distributions/gentoo/
ftp://ftp.gtlib.cc.gatech.edu/pub/gentoo
ftp://mirror.iawnet.sandia.gov/pub/gentoo/
ftp://ftp.ussg.iu.edu/pub/linux/gentoo http://gentoo.seren.com/gentoo
http://gentoo.chem.wisc.edu/gentoo/ ftp://gentoo.chem.wisc.edu/gentoo/
http://cudlug.cudenver.edu/gentoo/
ftp://cudlug.cudenver.edu/pub/mirrors/distributions/gentoo/
http://gentoo.ccccom.com ftp://gentoo.ccccom.com
http://gentoo.mirrors.tds.net/gentoo ftp://gentoo.mirrors.tds.net/gentoo
http://gentoo.netnitco.net ftp://gentoo.netnitco.net/pub/mirrors/gentoo/source/
http://mirror.espri.arizona.edu/gentoo/ http://mirrors.acm.cs.rpi.edu/gentoo/
ftp://ftp.ndlug.nd.edu/pub/gentoo/ http://open-systems.ufl.edu/mirrors/gentoo
http://gentoo.llarian.net/ ftp://gentoo.llarian.net/pub/gentoo
http://gentoo.binarycompass.org http://mirror.datapipe.net/gentoo
http://mirror.datapipe.net/gentoo http://gentoo.cs.lewisu.edu/gentoo/
ftp://linux.cs.lewisu.edu/gentoo/ http://prometheus.cs.wmich.edu/gentoo
http://modzer0.cs.uaf.edu/public/gentoo/ http://mirror.usu.edu/mirrors/gentoo/
ftp://mirror.usu.edu/mirrors/gentoo/ ftp://lug.mtu.edu/gentoo
http://mirror.phy.olemiss.edu/mirror/gentoo
http://mirror.mcs.anl.gov/pub/gentoo/ ftp://mirror.mcs.anl.gov/pub/gentoo/
http://gentoo.mirrors.easynews.com/linux/gentoo/
http://gentoo.cites.uiuc.edu/pub/gentoo/ ftp://gentoo.cites.uiuc.edu/pub/gentoo/"
G_BROKEN_FILENAMES="1"
HOME="/root"
HOSTNAME="tabatha"
HUSHLOGIN="FALSE"
INFOPATH="/usr/share/info:/usr/share/binutils-data/x86_64-pc-linux-gnu/2.16.1/info:/usr/share/gcc-data/x86_64-pc-linux-gnu/3.4.4/info"
INPUT_DRIVERS="keyboard serialmouse"
JAVAC="/opt/blackdown-jdk-1.4.2.02/bin/javac"
JAVA_HOME="/opt/blackdown-jdk-1.4.2.02"
JDK_HOME="/opt/blackdown-jdk-1.4.2.02"
KERNEL="linux"
LDFLAGS_x86="-m elf_i386 -L/emul/linux/x86/lib -L/emul/linux/x86/usr/lib"
LESS="-R -M"
LESSOPEN="|lesspipe.sh %s"
LIBDIR_amd64="lib64"
LIBDIR_x86="lib32"
LOGNAME="root"
MAIL="/var/mail/root"
MAKEOPTS="-j3"
MANPATH="/usr/local/share/man:/usr/share/man:/usr/share/binutils-data/x86_64-pc-linux-gnu/2.16.1/man:/usr/share/gcc-data/x86_64-pc-linux-gnu/3.4.4/man::/opt/blackdown-jdk-1.4.2.02/man"
MULTILIB_ABIS="x86 amd64"
MULTILIB_STRICT_DENY="64-bit.*shared object"
MULTILIB_STRICT_DIRS="/lib /usr/lib /usr/kde/*/lib /usr/qt/*/lib /usr/X11R6/lib"
MULTILIB_STRICT_EXEMPT="(perl5|gcc|gcc-lib|eclipse-3)"
OPENGL_PROFILE="ati"
PAGER="/usr/bin/less"
PATH="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/bin:/usr/x86_64-pc-linux-gnu/gcc-bin/3.4.4:/opt/ati/bin:/opt/blackdown-jdk-1.4.2.02/bin:/opt/blackdown-jdk-1.4.2.02/jre/bin"
PKGDIR="/usr/portage/packages"
PORTAGE_ARCHLIST="alpha amd64 arm hppa ia64 m68k mips ppc ppc64 ppc-macos ppc-od
s390 sh sparc x86 x86-fbsd x86-od"
PORTAGE_BINHOST_CHUNKSIZE="3000"
PORTAGE_CALLER="emerge"
PORTAGE_GID="250"
PORTAGE_MASTER_PID="12229"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PRELINK_PATH=""
PRELINK_PATH_MASK="/usr/lib/klibc"
PWD="/root"
PYTHONDOCS="/usr/share/doc/python-docs-2.3.5/html"
PYTHONPATH="/usr/lib/portage/pym"
RESUMECOMMAND="/usr/bin/wget -c -t 5 --passive-ftp -P ${DISTDIR} ${URI}"
RPMDIR="/usr/portage/rpm"
RSYNC_RETRIES="3"
RSYNC_TIMEOUT="180"
SHELL="/bin/bash"
SHLVL="1"
SYMLINK_LIB="yes"
SYNC="rsync://rsync.us.gentoo.org/gentoo-portage"
TERM="linux"
USE="X a52 aac aalib acl acpi adns aim alsa amd64 apache2 apm artworkextra
audiofile authdaemond avi bash-completion bcmath berkdb big-tables bitmap-fonts
bonobo browserplugin bzip2 c++ cairo calendar caps cdr chroot cjk clamav crypt
cups curl curlwrappers dga dio directfb djbfft dlloader doc dri dv dvb dvd dvdr
dvdread dynagraph eds emul-linux-x86 encode erandom esd ethereal evo examples
exif extensions fam fastcgi fbcon ffmpeg flac flash floppyboot fontconfig
foomaticdb fortran ftp gb gcj gd gdbm gif gimp gimpprint glitz glut gmp gnome
gnustep gnutls gphoto2 gpm gstreamer gtk gtk2 gtkhtml guile hal howl hpn icq
ieee1394 imagemagick imap imlib inifile inline ipv6 ithreads jabber java
javascript jikes jpeg justify kerberos krb4 lcms ldap libcaca libclamav libgda
libwww linuxthreads-tls lm_sensors lzw lzw-tiff mad madwifi mailwrapper matroska
md5sum memlimit mikmod mime ming mng motif mozsvg mozxmlterm mp3 mpeg mpi msn
mysql mysqli ncurses neXt netboot new-login nls nodrm nptl
ntlm_unsupported_patch oav objc odbc offensive ogg openal opengl osc oscar oss
pam pam_chroot pam_console pam_timestamp pcntl pcre pda pdflib perl php pic
plotutils png posix ppds profile pwdb python quicktime quotas readline real
recode ruby samba sample sasl savedconfig scanner sdk sdl sensord session
sftplogging sharedext sharedmem shorten simplexml skey slang smartcard sndfile
snmp soap sockets socks5 speex spell srp ssl svg symlink sysfs sysvipc szip
tcltk tcpd tetex theora threads tidy tiff tokenizer toolbar truetype
truetype-fonts type1-fonts ucs2 unicode urandom usb userlocales v4l vcd verbose
videos vorbis wifi winbind wmf wxwindows xine xml xml2 xosd xpm xprint xv xvid
yahoo zlib video_cards_radeon userland_GNU kernel_linux elibc_glibc"
USER="root"
USERLAND="GNU"
USE_EXPAND="FRITZCAPI_CARDS FCDSL_CARDS VIDEO_CARDS INPUT_DEVICES LINGUAS
USERLAND KERNEL ELIBC"
VIDEO_CARDS="radeon"
XARGS="xargs -r"
XINITRC="/etc/X11/xinit/xinitrc"
_="/usr/bin/emerge"




Comment 1


Mr. Bones. (RETIRED)






          2005-09-03 22:49:41 UTC
        

Just curious, if you eject the pcmcia card, does that "free up" the system?




Comment 2


Slowking Man





          2005-09-07 13:37:39 UTC
        

Okay, I did more troubleshooting and it turns out the problem was bad RAM
instead. That's what I get for jumping to conclusions.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

