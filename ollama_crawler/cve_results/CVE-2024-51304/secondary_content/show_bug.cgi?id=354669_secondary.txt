Title: 354669 – dev-db/slony1-1.2.10 - ./configure: line 6677: cd: /usr/include/postgresql/pgsql: No such file or directory
URL: https://bugs.gentoo.org/show_bug.cgi?id=354669

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 354669
dev-db/slony1-1.2.10 - ./configure: line 6677: cd: /usr/include/postgresql/pgsql: No such file or directory
Last modified: 2011-04-11 10:05:19 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 354669 
      - dev-db/slony1-1.2.10 - ./configure: line 6677: cd: /usr/include/postgresql/pgsql: No such file or directory


Summary:
dev-db/slony1-1.2.10 - ./configure: line 6677: cd: /usr/include/postgresql/pg...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

PgSQL Bugs








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2011-02-12 21:13 UTC by Sergey Konoplev





      Modified:
    
2011-04-11 10:05 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



titanofold









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build.log

              (build.log,7.33 KB,
                text/plain)

            
2011-02-12 21:14 UTC,

            Sergey Konoplev




Details





environment

              (environment,84.80 KB,
                text/plain)

            
2011-02-12 21:15 UTC,

            Sergey Konoplev




Details





emerge --info

              (emerge.info,4.18 KB,
                text/plain)

            
2011-02-12 21:16 UTC,

            Sergey Konoplev




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Sergey Konoplev





          2011-02-12 21:13:21 UTC
        

I got the error when tried to emerge the slony1 package:

 * ERROR: dev-db/slony1-1.2.10 failed:
 *   emake failed!
 * 
 * Call stack:
 *     ebuild.sh, line  56:  Called src_compile
 *   environment, line 2313:  Called die
 * The specific snippet of code:
 *       emake || die "emake failed!";


Reproducible: Always

Steps to Reproduce:
1. PG_SHAREDIR=/usr/share/postgresql-9.0/ emerge -av slony1
2.
3.

Actual Results:  
 * ERROR: dev-db/slony1-1.2.10 failed:
 *   emake failed!
 * 
 * Call stack:
 *     ebuild.sh, line  56:  Called src_compile
 *   environment, line 2313:  Called die
 * The specific snippet of code:
 *       emake || die "emake failed!";




Comment 1


Sergey Konoplev





          2011-02-12 21:14:46 UTC
        

Created attachment 262281 [details]
build.log




Comment 2


Sergey Konoplev





          2011-02-12 21:15:01 UTC
        

Created attachment 262283 [details]
environment




Comment 3


Sergey Konoplev





          2011-02-12 21:16:37 UTC
        

Created attachment 262285 [details]
emerge --info




Comment 4


Jeroen Roovers (RETIRED)






          2011-02-15 14:28:31 UTC
        

Looks like this configure error:

./configure: line 6677: cd: /usr/include/postgresql/pgsql: No such file or directory
overriding pgincludedir with /var/tmp/portage/dev-db/slony1-1.2.10/work/slony1-1.2.10
overriding pgincludeserverdir with /usr/include/postgresql/server

leads to these errors later:

xxid.c: In function ‘_Slony_I_getMinXid’:
xxid.c:236: error: ‘SerializableSnapshot’ undeclared (first use in this function)
xxid.c:236: error: (Each undeclared identifier is reported only once
xxid.c:236: error: for each function it appears in.)
xxid.c: In function ‘_Slony_I_getMaxXid’:
xxid.c:249: error: ‘SerializableSnapshot’ undeclared (first use in this function)
make[2]: *** [xxid.o] Error 1




Comment 5


Aaron W. Swenson






          2011-02-15 15:39:46 UTC
        

Try replacing the econf arguments with just: --with-pgconfigdir=/usr/lib/postgresql/bin




Comment 6


SpanKY






          2011-03-22 14:29:51 UTC
        

`emerge --sync` and re-emerge postgres packages




Comment 7


Sergey Konoplev





          2011-03-22 15:15:48 UTC
        

(In reply to comment #6)
> `emerge --sync` and re-emerge postgres packages

The same error.




Comment 8


Patrick Lauer






          2011-04-11 10:05:19 UTC
        

eselect postgresql  - the new version (1.0.x) changed things around a bit, so most likely you don't have a valid active slot of postgresql set.

I've hit the same issue and was able to resolve it by re-setting it.

Reopen if that doesn't fix it.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

