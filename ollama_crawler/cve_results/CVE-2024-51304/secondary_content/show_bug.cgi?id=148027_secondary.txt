Title: 148027 – Nvidia-drivers blocked xorg-x11 (7.1), but not resolved after uninstall
URL: https://bugs.gentoo.org/show_bug.cgi?id=148027

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 148027
Nvidia-drivers blocked xorg-x11 (7.1), but not resolved after uninstall
Last modified: 2006-09-21 06:37:09 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 148027 
      - Nvidia-drivers blocked xorg-x11 (7.1), but not resolved after uninstall


Summary:
Nvidia-drivers blocked xorg-x11 (7.1), but not resolved after uninstall
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-09-18 01:02 UTC by Mike Baikov





      Modified:
    
2006-09-21 06:37 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Mike Baikov





          2006-09-18 01:02:46 UTC
        

dds ~ # emerge -uvD world
Calculating world dependencies |

... done!

!!! Error: the x11-drivers/nvidia-drivers package conflicts with another package;
!!!        the two packages cannot be installed on the same system together.
!!!        Please use 'emerge --pretend' to determine blockers.

For more information about Blocked Packages, please refer to the following
section of the Gentoo Linux x86 Handbook (architecture is irrelevant):

http://www.gentoo.org/doc/en/handbook/handbook-x86.xml?full=1#blocked

dds ~ # emerge -C x11-drivers/nvidia-drivers

--- Couldn't find 'x11-drivers/nvidia-drivers' to unmerge.

>>> No packages selected for removal by unmerge.

dds ~ #




Comment 1


Mike Baikov





          2006-09-18 01:03:50 UTC
        

dds ~ # emerge info
*** Deprecated use of action 'info', use '--info' instead
Portage 2.1.1 (default-linux/x86/2006.0, gcc-4.1.1, glibc-2.4-r3, 2.6.17-gentoo-r8 i686)
=================================================================
System uname: 2.6.17-gentoo-r8 i686 Intel(R) Pentium(R) 4 CPU 3.20GHz
Gentoo Base System version 1.12.5
Last Sync: Mon, 18 Sep 2006 07:20:01 +0000
ccache version 2.3 [enabled]
app-admin/eselect-compiler: [Not Present]
dev-java/java-config: 1.3.6-r1, 2.0.28-r1
dev-lang/python:     2.3.5-r2, 2.4.3-r1
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     2.3
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.13-r3
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r5
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=pentium4 -O2 -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /opt/jetty/etc /opt/openjms/config /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/ /var/qmail/alias /var/qmail/control /var/vpopmail/domains /var/vpopmail/etc"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/terminfo"
CXXFLAGS="-march=pentium4 -O2 -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://mirror.aiya.ru/pub/gentoo/ http://gentoo.osuosl.org http://www.ibiblio.org/pub/Linux/distributions/gentoo"
LANG="ru_RU.UTF-8"
LC_ALL=""
LINGUAS="ru en"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage /usr/local/portage/xgl-coffee"
SYNC="rsync://mirror.aiya.ru/gentoo-portage"
USE="x86 X a52 aac acpi aim alsa apache2 arts bash-completion bcmath berkdb bluetooth cairo cddb cdparanoia cli composite crypt cups dga dio dlloader dri dv dvd dvdr dvdread elibc_glibc encode fftw flash foomaticdb gcj gd geoip gif gps gstreamer gtk gtk2 iconv icq imap imlib informix innodb input_devices_keyboard input_devices_mouse isdnlog jabber javamail javascript jikes jpeg kde kdeenablefinal kdexdeltas kernel_linux ldap libwww linguas_en linguas_ru lm_sensors mad maildir memlimit mhash mikmod mime mmap mmx mp3 mpeg msn mssql mysql mysqli ncurses nls nptl nsplugin nvidia ogg openal opengl oscar oss pcre pda pdf perl png ppds pppd python qt3 qt4 quicktime rdesktop readline reflection sasl sdl session shorten slp smartcard sndfile snmp sockets source spell spl sse sse2 ssl svg symlink szip tcpd theora tiff truetype udev unicode userland_GNU vcd video_cards_nv video_cards_nvidia video_cards_vesa vorbis wifi win32codecs xml xmms xorg xprint xv yahoo zlib"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LDFLAGS, PORTAGE_RSYNC_EXTRA_OPTS





Comment 2


Jakub Moc (RETIRED)






          2006-09-18 01:07:25 UTC
        

emerge -C nvidia-{kernel,glx}





Comment 3


Mike Baikov





          2006-09-18 01:16:41 UTC
        

[blocks B     ] x11-drivers/nvidia-drivers (is blocking x11-base/xorg-server-1.1.1-r1)

== skip ===


dds ~ # emerge -C nvidia-kernel

--- Couldn't find 'nvidia-kernel' to unmerge.

>>> No packages selected for removal by unmerge.

dds ~ # emerge -C nvidia-drivers

--- Couldn't find 'nvidia-drivers' to unmerge.

>>> No packages selected for removal by unmerge.

dds ~ #    




Comment 4


Mike Baikov





          2006-09-18 01:17:17 UTC
        

dds ~ # emerge -C nvidia-glx

--- Couldn't find 'nvidia-glx' to unmerge.

>>> No packages selected for removal by unmerge.

dds ~ #               




Comment 5


Jakub Moc (RETIRED)






          2006-09-18 01:20:13 UTC
        

emerge -C nvidia-kernel. You know, if you did follow the advice and checked for yourself, I wouldn't have to guess.

> !!!        Please use 'emerge --pretend' to determine blockers.




Comment 6


Mike Baikov





          2006-09-18 01:21:16 UTC
        

emerge -C nvidia-settings fix the problem. 

IMHO, Developers should be report to users about nvidia-settings.




Comment 7


Mike Baikov





          2006-09-18 01:22:25 UTC
        

i'm not beginner :)

dds ~ # emerge -upvD world

These are the packages that would be merged, in order:

Calculating world dependencies |
!!! Ebuilds for the following packages are either all
!!! masked or don't exist:
x11-apps/xvinfo app-cdr/cdrecord-prodvd perl-core/ExtUtils-MakeMaker media-libs/tunepimp net-im/twinkle dev-lang/fpc www-servers/jetty

... done!
[blocks B     ] x11-drivers/nvidia-drivers (is blocking x11-base/xorg-server-1.1.1-r1)






Comment 8


Mike Baikov





          2006-09-18 01:25:50 UTC
        

Understand Jakob? Is NOT nvidia-drivers block, is ONLY nvidia-settings block.

I think, ppl will be report duplicate bugs very soon. waiting :)




Comment 9


Jakub Moc (RETIRED)






          2006-09-18 02:21:54 UTC
        

nvidia-settings doesn't block anything:

# emerge -av nvidia-{drivers,settings} xorg-server

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild   R   ] x11-drivers/nvidia-drivers-1.0.8774  USE="dlloader" 0 kB 
[ebuild  N    ] x11-misc/gccmakedep-1.0.2  USE="-debug" 68 kB 
[ebuild  N    ] media-video/nvidia-settings-1.0.20060516-r1  1,093 kB 
[ebuild   R   ] x11-base/xorg-server-1.1.1-r1  USE="-3dfx -debug -dmx dri ipv6 -kdrive -minimal nptl sdl xorg -xprint" INPUT_DEVICES="-acecad -aiptek -calcomp -citron -digitaledge -dmc -dynapro -elo2300 -elographics -evdev -fpit -hyperpen -jamstudio joystick keyboard -magellan -microtouch mouse -mutouch -palmax -penmount -spaceorb -summa -synaptics -tek4957 -ur98 vmmouse -void -wacom" VIDEO_CARDS="-apm -ark -chips -cirrus -cyrix -dummy -epson fbdev -fglrx -glint -i128 -i740 -i810 (-impact) -imstt -mach64 -mga -neomagic (-newport) -nsc nv nvidia -r128 -radeon -rendition -s3 -s3virge -savage -siliconmotion -sis -sisusb (-sunbw2) (-suncg14) (-suncg3) (-suncg6) (-sunffb) (-sunleo) (-suntcx) -tdfx -tga -trident -tseng v4l vesa -vga -via vmware -voodoo" 0 kB 





Comment 10


Mike Baikov





          2006-09-18 02:53:45 UTC
        

:-)

I'm install nvidia-settings (it install nvidia-drivers also) and ....

dds ~ # emerge -av nvidia-drivers xorg-server

These are the packages that would be merged, in order:

Calculating dependencies... done!
[blocks B     ] x11-drivers/nvidia-drivers (is blocking x11-base/xorg-server-1.1.1-r1)
[ebuild   R   ] x11-drivers/nvidia-drivers-1.0.8774  USE="dlloader" 0 kB
[ebuild     U ] x11-base/xorg-server-1.1.1-r1 [1.0.2-r7] USE="dri nptl%* sdl%* xorg%* xprint -3dfx% -debug -dmx% -ipv6 -kdrive% -minimal" INPUT_DEVICES="keyboard%* mouse%* -acecad% -aiptek% -calcomp% -citron% -digitaledge% -dmc% -dynapro% -elo2300% -elographics% -evdev% -fpit% -hyperpen% -jamstudio% -joystick% -magellan% -microtouch% -mutouch% -palmax% -penmount% -spaceorb% -summa% -synaptics% -tek4957% -ur98% -vmmouse% -void% -wacom%" VIDEO_CARDS="nv%* vesa%* -apm% -ark% -chips% -cirrus% -cyrix% -dummy% -epson% -fbdev% -glint% -i128% -i740% -i810% (-impact) -imstt% -mach64% -mga% -neomagic% (-newport) -nsc% -r128% -radeon% -rendition% -s3% -s3virge% -savage% -siliconmotion% -sis% -sisusb% (-sunbw2) (-suncg14) (-suncg3) (-suncg6) (-sunffb) (-sunleo) (-suntcx) -tdfx% -tga% -trident% -tseng% -v4l% -vga% -via% -vmware% -voodoo%" 6,105 kB [2]
[ebuild     U ] x11-drivers/xf86-video-nv-1.2.0 [1.0.2.0] USE="-debug" 279 kB
[ebuild     U ] x11-drivers/xf86-video-vesa-1.2.1 [1.0.1.3] USE="-debug" 210 kB
[ebuild     U ] x11-drivers/xf86-input-mouse-1.1.1 [1.0.4] USE="-debug" 260 kB
[ebuild     U ] x11-drivers/xf86-input-keyboard-1.1.0 [1.0.1.3] USE="-debug" 226 kB

Total size of downloads: 7,083 kB


:-)

I think, nvidia-settings also blocking update xorg-server.




Comment 11


Jakub Moc (RETIRED)






          2006-09-18 03:11:46 UTC
        

Where do you see *any* mention of nvidia-settings above? It's simply not true, I have just installed it, no block whatsoever, also read Comment #9 - nvidia-settings doesn't block anything at all. Which version of nvidia-settings did you install?






Comment 12


Mike Baikov





          2006-09-18 05:48:02 UTC
        

is not fantasy.

dds ~ # emerge -pv nvidia-settings

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild   R   ] media-video/nvidia-settings-1.0.20060516-r1  0 kB

Total size of downloads: 0 kB
dds ~ #                              




Comment 13


Mike Baikov





          2006-09-18 05:51:42 UTC
        

from nvidia-settings ebuild:
NVIDIA_NEW_VERSION="1.0.8762"

my nvidia-drivers version is 1.0.8774

Maybe bug, maybe not.




Comment 14


Mike Baikov





          2006-09-19 04:45:46 UTC
        

dds ~ # USE="bzip2 lcms wmf java hal" emerge -upvD world

These are the packages that would be merged, in order:

Calculating world dependencies \
... done!
[blocks B     ] x11-drivers/nvidia-drivers (is blocking x11-base/xorg-server-1.1.1-r1)

Total size of downloads: 0 kB
dds ~ # equery d nvidia-drivers
[ Searching for packages depending on nvidia-drivers... ]
media-libs/xine-lib-1.1.2-r2
dds ~ #                     

?




Comment 15


Mike Baikov





          2006-09-21 06:23:56 UTC
        

dds ~ # emerge -upvD world

[ebuild  N    ] x11-drivers/nvidia-drivers-1.0.8774  USE="dlloader" 0 kB

Total size of downloads: 0 kB
dds ~ # equery d nvidia-drivers
[ Searching for packages depending on nvidia-drivers... ]

dds ~ # emerge -v nvidia-drivers

>>> cut <<<

>>> Regenerating /etc/ld.so.cache...
>>> x11-drivers/nvidia-drivers-1.0.8774 merged.
>>> Recording x11-drivers/nvidia-drivers in "world" favorites file...

>>> No packages selected for removal by clean.

>>> Auto-cleaning packages...

>>> No outdated packages were found on your system.


 * GNU info directory index is up-to-date.

dds ~ # emerge -upvD world

dds ~ # emerge -upvD world

These are the packages that would be merged, in order:

Calculating world dependencies |
... done!
[blocks B     ] x11-drivers/nvidia-drivers (is blocking x11-base/xorg-server-1.1.1-r1)


Please explain me, why nvidia-drivers is required in this situation?




Comment 16


Mike Baikov





          2006-09-21 06:26:36 UTC
        

i'm lost some strings in previous message.

dds ~ # equery d nvidia-drivers
[ Searching for packages depending on nvidia-drivers... ]
dds ~ #  

No depends?!




Comment 17


Jakub Moc (RETIRED)






          2006-09-21 06:37:09 UTC
        

And, still no block here... And not on any other box I've tried. Unmerge it, go upgrade your xorg-server, try again. 









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

