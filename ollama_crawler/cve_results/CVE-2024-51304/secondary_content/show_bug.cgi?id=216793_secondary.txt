Title: 216793 – sys-apps/sandbox-1.2.18.1-r2: fails to compile with message "econf failed"
URL: https://bugs.gentoo.org/show_bug.cgi?id=216793

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 216793
sys-apps/sandbox-1.2.18.1-r2: fails to compile with message "econf failed"
Last modified: 2008-11-08 14:38:04 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 216793 
      - sys-apps/sandbox-1.2.18.1-r2: fails to compile with message "econf failed"


Summary:
sys-apps/sandbox-1.2.18.1-r2: fails to compile with message "econf failed"
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Sandbox Maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-04-07 23:41 UTC by Jonathan Glines





      Modified:
    
2008-11-08 14:38 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



renean









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build logs

              (sys-apps:sandbox-1.2.18.1-r2:20080407-233043.log,2.52 KB,
                text/plain)

            
2008-04-08 00:15 UTC,

            Jonathan Glines




Details





/var/tmp/portage/sys-apps/sandbox-1.2.18.1-r2/work/build-x86-x86_64-pc-linux-gnu/config.log

              (config.log,6.82 KB,
                text/plain)

            
2008-04-08 00:19 UTC,

            Jonathan Glines




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Jonathan Glines





          2008-04-07 23:41:03 UTC
        

I'm trying to upgrade portage, and apparently sys-apps/sandbox is a dependency. Sandbox fails to get through configuration with the message "econf failed". It then tells me to try running "FEATURES=-sandbox emerge sandbox", but that also fails with the same error. Here's the output:

antineo-gentoo antineo # emerge portage
Calculating dependencies... done!
>>> Verifying ebuild Manifests...

>>> Emerging (1 of 2) sys-apps/sandbox-1.2.18.1-r2 to /
 * sandbox-1.2.18.1.tar.bz2 RMD160 SHA1 SHA256 size ;-) ...                                                                                                       [ ok ]
 * checking ebuild checksums ;-) ...                                                                                                                              [ ok ]
 * checking auxfile checksums ;-) ...                                                                                                                             [ ok ]
 * checking miscfile checksums ;-) ...                                                                                                                            [ ok ]
 * checking sandbox-1.2.18.1.tar.bz2 ;-) ...                                                                                                                      [ ok ]
>>> Unpacking source...
>>> Unpacking sandbox-1.2.18.1.tar.bz2 to /var/tmp/portage/sys-apps/sandbox-1.2.18.1-r2/work
 * Applying sandbox-1.2.18.1-open-normal-fail.patch ...                                                                                                           [ ok ]
 * Applying sandbox-1.2.18.1-open-cloexec.patch ...                                                                                                               [ ok ]
>>> Source unpacked.
>>> Compiling source in /var/tmp/portage/sys-apps/sandbox-1.2.18.1-r2/work/sandbox-1.2.18.1 ...
 * If configure fails with a 'cannot run C compiled programs' error, try this:
 * FEATURES=-sandbox emerge sandbox
 * Configuring sandbox for ABI=x86...
 * econf: updating sandbox-1.2.18.1/config.guess with /usr/share/gnuconfig/config.guess
 * econf: updating sandbox-1.2.18.1/config.sub with /usr/share/gnuconfig/config.sub
../sandbox-1.2.18.1//configure --prefix=/usr --host=i686-pc-linux-gnu --mandir=/usr/share/man --infodir=/usr/share/info --datadir=/usr/share --sysconfdir=/etc --localstatedir=/var/lib --libdir=/usr/lib32 --enable-multilib --build=i686-pc-linux-gnu
checking for a BSD-compatible install... /usr/bin/install -c
checking whether build environment is sane... yes
checking for gawk... gawk
checking whether make sets $(MAKE)... yes
checking for i686-pc-linux-gnu-gcc... i686-pc-linux-gnu-gcc
checking for C compiler default output file name... configure: error: C compiler cannot create executables
See `config.log' for more details.

!!! Please attach the following file when filing a report to bugs.gentoo.org:
!!! /var/tmp/portage/sys-apps/sandbox-1.2.18.1-r2/work/build-x86-x86_64-pc-linux-gnu/config.log
 *
 * ERROR: sys-apps/sandbox-1.2.18.1-r2 failed.
 * Call stack:
 *                    ebuild.sh, line 1701:  Called dyn_compile
 *                    ebuild.sh, line 1039:  Called qa_call 'src_compile'
 *                    ebuild.sh, line   44:  Called src_compile
 *   sandbox-1.2.18.1-r2.ebuild, line   87:  Called econf '--libdir=/usr/lib32' '--enable-multilib'
 *                    ebuild.sh, line  638:  Called die
 * The specific snippet of code:
 *                      die "econf failed"
 *  The die message:
 *   econf failed
 *
 * If you need support, post the topmost build error, and the call stack if relevant.
 * A complete build log is located at '/var/log/portage/sys-apps:sandbox-1.2.18.1-r2:20080407-232849.log'.
 *

 * Messages for package sys-apps/sandbox-1.2.18.1-r2:

 * 
 * ERROR: sys-apps/sandbox-1.2.18.1-r2 failed.
 * Call stack:
 *                    ebuild.sh, line 1701:  Called dyn_compile
 *                    ebuild.sh, line 1039:  Called qa_call 'src_compile'
 *                    ebuild.sh, line   44:  Called src_compile
 *   sandbox-1.2.18.1-r2.ebuild, line   87:  Called econf '--libdir=/usr/lib32' '--enable-multilib'
 *                    ebuild.sh, line  638:  Called die
 * The specific snippet of code:
 *                      die "econf failed"
 *  The die message:
 *   econf failed
 * 
 * If you need support, post the topmost build error, and the call stack if relevant.
 * A complete build log is located at '/var/log/portage/sys-apps:sandbox-1.2.18.1-r2:20080407-232849.log'.
 * 
 * If configure fails with a 'cannot run C compiled programs' error, try this:
 * FEATURES=-sandbox emerge sandbox
antineo-gentoo antineo # FEATURES=-sandbox emerge sandbox
Calculating dependencies... done!
>>> Verifying ebuild Manifests...

>>> Emerging (1 of 1) sys-apps/sandbox-1.2.18.1-r2 to /
 * sandbox-1.2.18.1.tar.bz2 RMD160 SHA1 SHA256 size ;-) ...                                                                                                       [ ok ]
 * checking ebuild checksums ;-) ...                                                                                                                              [ ok ]
 * checking auxfile checksums ;-) ...                                                                                                                             [ ok ]
 * checking miscfile checksums ;-) ...                                                                                                                            [ ok ]
 * checking sandbox-1.2.18.1.tar.bz2 ;-) ...                                                                                                                      [ ok ]
>>> Unpacking source...
>>> Unpacking sandbox-1.2.18.1.tar.bz2 to /var/tmp/portage/sys-apps/sandbox-1.2.18.1-r2/work
 * Applying sandbox-1.2.18.1-open-normal-fail.patch ...                                                                                                           [ ok ]
 * Applying sandbox-1.2.18.1-open-cloexec.patch ...                                                                                                               [ ok ]
>>> Source unpacked.
>>> Compiling source in /var/tmp/portage/sys-apps/sandbox-1.2.18.1-r2/work/sandbox-1.2.18.1 ...
 * If configure fails with a 'cannot run C compiled programs' error, try this:
 * FEATURES=-sandbox emerge sandbox
 * Configuring sandbox for ABI=x86...
 * econf: updating sandbox-1.2.18.1/config.guess with /usr/share/gnuconfig/config.guess
 * econf: updating sandbox-1.2.18.1/config.sub with /usr/share/gnuconfig/config.sub
../sandbox-1.2.18.1//configure --prefix=/usr --host=i686-pc-linux-gnu --mandir=/usr/share/man --infodir=/usr/share/info --datadir=/usr/share --sysconfdir=/etc --localstatedir=/var/lib --libdir=/usr/lib32 --enable-multilib --build=i686-pc-linux-gnu
checking for a BSD-compatible install... /usr/bin/install -c
checking whether build environment is sane... yes
checking for gawk... gawk
checking whether make sets $(MAKE)... yes
checking for i686-pc-linux-gnu-gcc... i686-pc-linux-gnu-gcc
checking for C compiler default output file name... configure: error: C compiler cannot create executables
See `config.log' for more details.

!!! Please attach the following file when filing a report to bugs.gentoo.org:
!!! /var/tmp/portage/sys-apps/sandbox-1.2.18.1-r2/work/build-x86-x86_64-pc-linux-gnu/config.log
 *
 * ERROR: sys-apps/sandbox-1.2.18.1-r2 failed.
 * Call stack:
 *                    ebuild.sh, line 1701:  Called dyn_compile
 *                    ebuild.sh, line 1039:  Called qa_call 'src_compile'
 *                    ebuild.sh, line   44:  Called src_compile
 *   sandbox-1.2.18.1-r2.ebuild, line   87:  Called econf '--libdir=/usr/lib32' '--enable-multilib'
 *                    ebuild.sh, line  638:  Called die
 * The specific snippet of code:
 *                      die "econf failed"
 *  The die message:
 *   econf failed
 *
 * If you need support, post the topmost build error, and the call stack if relevant.
 * A complete build log is located at '/var/log/portage/sys-apps:sandbox-1.2.18.1-r2:20080407-233043.log'.
 *

 * Messages for package sys-apps/sandbox-1.2.18.1-r2:

 * 
 * ERROR: sys-apps/sandbox-1.2.18.1-r2 failed.
 * Call stack:
 *                    ebuild.sh, line 1701:  Called dyn_compile
 *                    ebuild.sh, line 1039:  Called qa_call 'src_compile'
 *                    ebuild.sh, line   44:  Called src_compile
 *   sandbox-1.2.18.1-r2.ebuild, line   87:  Called econf '--libdir=/usr/lib32' '--enable-multilib'
 *                    ebuild.sh, line  638:  Called die
 * The specific snippet of code:
 *                      die "econf failed"
 *  The die message:
 *   econf failed
 * 
 * If you need support, post the topmost build error, and the call stack if relevant.
 * A complete build log is located at '/var/log/portage/sys-apps:sandbox-1.2.18.1-r2:20080407-233043.log'.
 * 
 * If configure fails with a 'cannot run C compiled programs' error, try this:
 * FEATURES=-sandbox emerge sandbox
antineo-gentoo antineo #

Reproducible: Always

Steps to Reproduce:
1. emerge portage
2. (start emerging portage, which pulls in sandbox as a dependency)
3. fail

Actual Results:  
Sandbox is not installed, portage is not upgraded.

Expected Results:  
Install sandbox, upgrade portage.




Comment 1


Jan Kundrát (RETIRED)






          2008-04-08 00:11:28 UTC
        

Hi Jonathan, please attach the full build logs which the error message you pasted asks you for, and then re-open this bug.




Comment 2


Jonathan Glines





          2008-04-08 00:15:52 UTC
        

Created attachment 149062 [details]
build logs




Comment 3


Jonathan Glines





          2008-04-08 00:16:46 UTC
        

Alright, attached log and reopening bug...




Comment 4


Jonathan Glines





          2008-04-08 00:19:41 UTC
        

Created attachment 149064 [details]
/var/tmp/portage/sys-apps/sandbox-1.2.18.1-r2/work/build-x86-x86_64-pc-linux-gnu/config.log

And I guess this thing too...




Comment 5


Jan Kundrát (RETIRED)






          2008-04-08 00:44:13 UTC
        

How come that you're mixing 32bit and 64bit stuff? How did you install that machine? Any funny $CHOST changes? `emerge --info` output should be interesting to read, too.




Comment 6


Jonathan Glines





          2008-04-08 02:23:51 UTC
        

(In reply to comment #5)
> How come that you're mixing 32bit and 64bit stuff? How did you install that
> machine? Any funny $CHOST changes? `emerge --info` output should be interesting
> to read, too.

I don't know how I'm mixing 32bit and 64bit stuff... I'm not trying to.

Here's the 'emerge --info'...

antineo@antineo-gentoo ~ $ emerge --info
Portage 2.1.3.19 (default-linux/amd64/2006.1/desktop, gcc-4.1.2, glibc-2.5-r3, 2.6.21-ck2 x86_64)
=================================================================
System uname: 2.6.21-ck2 x86_64 Dual Core AMD Opteron(tm) Processor 165
Timestamp of tree: Mon, 07 Apr 2008 22:45:01 +0000
distcc 2.18.3 x86_64-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
app-shells/bash:     3.2_p17
dev-java/java-config: 1.3.7, 2.0.33-r1
dev-lang/python:     2.3.5-r3, 2.4.4-r4
dev-python/pycrypto: 2.0.1-r6
sys-apps/baselayout: 1.12.9-r2
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.61
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.17
sys-devel/gcc-config: 1.3.16
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.17-r2
ACCEPT_KEYWORDS="amd64"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=opteron -O2 -pipe -msse3"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c"
CXXFLAGS="-march=opteron -O2 -pipe -msse3"
DISTDIR="/usr/portage/distfiles"
FEATURES="distlocks metadata-transfer sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://gentoo.mirrors.easynews.com/linux/gentoo/"
LANG="en_US.UTF-8"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/overlays/xeffects/trunk /usr/local/portage"
SYNC="rsync://rsync.us.gentoo.org/gentoo-portage"
USE="X a52 aac alsa amd64 apache2 berkdb bluetooth bzip2 cairo cdr cjk cli cracklib crypt cups dbus dri dts dv dvd dvdr eds emboss encode fam ffmpeg firefox flac fortran ftp gdbm gif glut gpm gstreamer gtk gtk2 hal iconv imagemagick immqt-bc ipv6 isdnlog jack joystick jpeg kde ladspa ldap lzo mad midi mikmod mjpeg mp3 mpeg mplayer mudflap ncurses nls nptl nptlonly nsplugin ogg opengl openmp pam pcre pdf perl png ppds pppd python qt qt3 qt4 quicktime readline reflection samba sdl session spell spl ssl subtitles tcpd theora threads truetype unicode vcd vorbis wmf x264 xine xinerama xml xorg xv xvid zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="keyboard mouse joystick" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" USERLAND="GNU" VIDEO_CARDS="nv nvidia vesa"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LC_ALL, LDFLAGS, LINGUAS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 7


Jan Kundrát (RETIRED)






          2008-04-08 09:41:19 UTC
        

> > How come that you're mixing 32bit and 64bit stuff? How did you install that
> > machine? Any funny $CHOST changes? `emerge --info` output should be interesting
> > to read, too.
> 
> I don't know how I'm mixing 32bit and 64bit stuff... I'm not trying to.

You haven't told us how you installed your system and what media you used. Did you follow our handbook for AMD64?




Comment 8


Jonathan Glines





          2008-04-08 11:22:22 UTC
        

(In reply to comment #7)
> > > How come that you're mixing 32bit and 64bit stuff? How did you install that
> > > machine? Any funny $CHOST changes? `emerge --info` output should be interesting
> > > to read, too.
> > 
> > I don't know how I'm mixing 32bit and 64bit stuff... I'm not trying to.
> 
> You haven't told us how you installed your system and what media you used. Did
> you follow our handbook for AMD64?
> 

Umm... I installed my system over three years ago, back when I had no idea what I was doing. I'm sure I used the AMD64 handbook, though. What are you suspecting is wrong?




Comment 9


dave





          2008-05-28 00:56:18 UTC
        

I have the same issue.  I found this bug several months ago and thought it would be fixed by now, yet I see no new activity since April!!

How do we get this fixed?  I have exactly the same issue as this guy, and I am trying to update portage too.





Comment 10


Zac Medico






          2008-05-28 01:50:27 UTC
        

(In reply to comment #9)
> How do we get this fixed?  I have exactly the same issue as this guy, and I am
> trying to update portage too.

How can you be sure it's the same issue? Does your config.log contain something like this:

configure:2253: i686-pc-linux-gnu-gcc --version </dev/null >&5
gcc-config error: i686-pc-linux-gnu-gcc wrapper: Could not determine which compiler to use.  Invalid CTARGET or CTARGET has no selected profile.
configure:2256: $? = 1

If so, does `gcc-config -c` show a valid gcc profile or not?




Comment 11


Jonathan Glines





          2008-05-29 00:41:00 UTC
        

Heh, after having a stupid argument with some people on #gentoo, I decided to just reinstall. This bug has been around for a while and it doesn't look like anyone wants to fix it.




Comment 12


Zac Medico






          2008-05-29 00:53:24 UTC
        

Do you have a good understanding of the problem or how to fix it?  If you can supply an appropriate patch then somebody would probably apply it for you.




Comment 13


Jonathan Glines





          2008-05-29 00:58:38 UTC
        

(In reply to comment #12)
> Do you have a good understanding of the problem or how to fix it?  If you can
> supply an appropriate patch then somebody would probably apply it for you.

I'm a n00b. ;)

I think it has something to do with the wrong compiler being set or something... but I really don't know.





Comment 14


renean





          2008-06-30 08:39:07 UTC
        

I have the same problem, I am running ~amd64 and sandbox detects an i686-pc-linux-gnu-gcc. I think the problem is a somehow broken configure script. On my machine I have installed numerous cross compilers, among them is i686-pc-linux-gnu-gcc.

I solved the problem temporarily by
    export CC=/usr/bin/x86_64-pc-linux-gnu-gcc
before the emerge.

The problem only occurs on emerging sandbox, so I think the system is all right.

For convenience, the output of gcc-config -l (yes, maybe there are a few of them):
 [1] i686-pc-linux-gnu-4.1.2
 [2] i686-pc-linux-gnu-4.2.4 *
 [3] i686-pc-linux-gnu-4.3.1

 [4] powerpc-unknown-linux-gnu-4.1.2 *
 [5] powerpc-unknown-linux-gnu-4.2.4
 [6] powerpc-unknown-linux-gnu-4.3.1

 [7] x86_64-pc-linux-gnu-4.2.4
 [8] x86_64-pc-linux-gnu-4.3.1 *

The crosscompilers all were emerged using crossdev. The output of arch says I
have an x86_64.

As the previous sandbox-version sandbox-1.2.18.1-r2 was installed, but now also would not install (without the export) maybe some other package changed.

And the output of emerge --info:

Portage 2.2_rc1 (default/linux/amd64/2008.0, gcc-4.3.1, glibc-2.8_p20080602-r0, 2.6.25.9 x86_64)
=================================================================
System uname: Linux-2.6.25.9-x86_64-Intel-R-_Core-TM-2_CPU_6300_@_1.86GHz-with-glibc2.2.5
Timestamp of tree: Mon, 30 Jun 2008 07:45:01 +0000
distcc 2.18.3 x86_64-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
app-shells/bash:     3.2_p39
dev-java/java-config: 1.3.7, 2.1.6
dev-lang/python:     2.5.2-r5
sys-apps/baselayout: 2.0.0
sys-apps/openrc:     0.2.5
sys-apps/sandbox:    1.2.18.1-r3
sys-devel/autoconf:  2.13, 2.62-r1
sys-devel/automake:  1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.1-r1
sys-devel/binutils:  2.18-r2
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   2.2.4
virtual/os-headers:  2.6.25-r4
ACCEPT_KEYWORDS="amd64 ~amd64"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-pipe -Os -march=core2"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/config"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-pipe -Os -march=core2"
DISTDIR="/mnt/sda7/usr/portage/distfiles"
EMERGE_DEFAULT_OPTS="--with-bdeps y"
FEATURES="distlocks parallel-fetch preserve-libs sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="ftp://ftpl.tu-chemnitz.de/pub/linux/gentoo/             http://gentoo.osuosl.org/               http://ftp.uni-erlangen.de/pub/mirrors/gentoo/          http://mirrors.sec.informatik.tu-darmstadt.de/gentoo/             http://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/            http://pandemonium.tiscali.de/pub/gentoo/ ftp://ftp.tu-clausthal.de/pub/linux/gentoo/             ftp://ftp.join.uni-muenster.de/pub/linux/distributions/gentoo/          ftp://ftp.wh2.tu-dresden.de/pub/mirrors/gentoo/distfiles/                 http://linux.rz.ruhr-uni-bochum.de/download/gentoo-mirror/"
LDFLAGS=""
LINGUAS="       en de"
MAKEOPTS="--jobs=3"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.de.gentoo.org/gentoo-portage"
USE="7zip X Xaw3d a52 aac acl acpi aim alsa amd64 arts avi bash-completion berkdb bittorrent bluetooth bzip2 cairo cdparanoia cdr cli cracklib crypt cups curl dbus dri dts dvd dvdr dvdread dvi encode expat fbcon ffmpeg flac foomaticdb fortran ftp gdbm geoip gif gimp glibc-omitfp gphoto2 gpm graphviz gs iconv icq ieee1394 imagemagick imap ipv6 isdnlog jabber java jpeg jpeg2k kde kdeenablefinal kdehiddenvisibility latex lm_sensors mad matroska mbox midi mikmod mime mmx mng modplug mono mozilla mp3 mpeg msn mudflap multilib ncurses nls nptl nptlonly nsplugin ogg oggvorbis openal opengl openmp pam pcntl pcre pdf perl png posix postgres pppd python quicktime readline reflection samba sdl seamonkey session smp snmp speex spell spl sse sse2 ssl ssse3 subversion svg sysvipc szip tcpd tetex tga theora threads threadsafe tiff truetype unicode usb vcd videos vorbis wma wmf x264 xanim xcomposite xine xinerama xml2 xorg xpm xv xvid xvmc yahoo zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="   keyboard mouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="      en de" USERLAND="GNU" VIDEO_CARDS="     fbdev vesa vga fglrx mga nv radeon"
Unset:  CPPFLAGS, CTARGET, INSTALL_MASK, LANG, LC_ALL, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 15


Xepher





          2008-07-01 17:05:23 UTC
        

I just hit the same problem (but with the -r3 ebuild) on a non-multilib system. Definitely crossdev related, at least in part. Removing the crossdev packages with "crossdev -C i686" fixes it quickly enough. However, I think gcc-4.3 issues may be involved as well, since my config.log warned that "-march=core2" was invalid, and I had the cross-dev i686-gcc version 4.2.4 and I'm currently using x86_64 version 4.3.1 (with the new march=core2 CFLAG) for the system itself. I believe the problem only came up for me because the CFLAGS caused the old i686 gcc to fail.

I imagine all that's needed is some logic to seperate actual multilib systems from ones that just happen to have crossdev setups. Could it be as simple as USE=(no)multilib ?




Comment 16


Roman Garnett





          2008-07-07 17:06:35 UTC
        

i was having this problem because i had failed to set

CONFIG_IA32_EMULATION=y

in my kernel during a new install; setting it fixed the problem.




Comment 17


renean





          2008-07-08 14:32:39 UTC
        

I long have the emulation for 32 bit executables enabled in my kernel or otherwise 32 bit binary packages would not have been able to run, e.g. opera < 9.5

So i think that is not the point in fixing this problem. Even if your sandbox now compiles fine, still a 32 bit exectuable has been created and this is simply wrong on a 64 bit configuration.





Comment 18


renean





          2008-07-09 20:23:00 UTC
        

I just found that bug #202811 seems to have hit the same problem. So this here seems to be a duplicate.




Comment 19


SpanKY






          2008-11-08 14:38:04 UTC
        

original bug was due eselect compiler garbage.  delete the wrappers by hand.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

