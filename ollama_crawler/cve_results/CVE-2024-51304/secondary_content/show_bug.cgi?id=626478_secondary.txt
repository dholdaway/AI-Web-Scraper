Title: 626478 – net-im/toxic-0.7.2-r1 : /.../libtoxencryptsave.so: undefined reference to  crypto_pwhash_scryptsalsa208sha256
URL: https://bugs.gentoo.org/show_bug.cgi?id=626478

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 626478
net-im/toxic-0.7.2-r1 : /.../libtoxencryptsave.so: undefined reference to  crypto_pwhash_scryptsalsa208sha256
Last modified: 2017-08-30 17:18:21 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 626478 
      - net-im/toxic-0.7.2-r1 : /.../libtoxencryptsave.so: undefined reference to  crypto_pwhash_scryptsalsa208sha256


Summary:
net-im/toxic-0.7.2-r1 : /.../libtoxencryptsave.so: undefined reference to  cr...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

zlg (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2017-07-28 17:32 UTC by Toralf Förster





      Modified:
    
2017-08-30 17:18 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge-info.txt

              (emerge-info.txt,16.37 KB,
                text/plain)

            
2017-07-28 17:32 UTC,

            Toralf Förster




Details





emerge-history.txt

              (emerge-history.txt,235.65 KB,
                text/plain)

            
2017-07-28 17:32 UTC,

            Toralf Förster




Details





environment

              (environment,16.20 KB,
                text/plain)

            
2017-07-28 17:33 UTC,

            Toralf Förster




Details





etc.portage.tbz2

              (etc.portage.tbz2,27.25 KB,
                application/x-bzip)

            
2017-07-28 17:33 UTC,

            Toralf Förster




Details





net-im:toxic-0.7.2-r1:20170728-111724.log

              (net-im:toxic-0.7.2-r1:20170728-111724.log,2.39 KB,
                text/plain)

            
2017-07-28 17:33 UTC,

            Toralf Förster




Details





temp.tbz2

              (temp.tbz2,6.61 KB,
                application/x-bzip)

            
2017-07-28 17:33 UTC,

            Toralf Förster




Details





toxic-0.7.2-r2.ebuild

              (toxic-0.7.2-r2.ebuild,1.11 KB,
                text/plain)

            
2017-07-31 05:20 UTC,

            zlg (RETIRED)




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Toralf Förster






          2017-07-28 17:32:51 UTC
        

  CC    video_device.o
  LD    toxic
/usr/lib/gcc/x86_64-pc-linux-gnu/6.3.0/../../../../lib64/libtoxencryptsave.so: undefined reference to `crypto_pwhash_scryptsalsa208sha256'
collect2: error: ld returned 1 exit status
make: *** [Makefile:63: /var/tmp/portage/net-im/toxic-0.7.2-r1/work/toxic-0.7.2/build/toxic] Error 1
 * ERROR: net-im/toxic-0.7.2-r1::gentoo failed (compile phase):

  -------------------------------------------------------------------

  This is an unstable amd64 chroot image at a tinderbox (==build bot)
  name: 13.0-desktop-gnome_20170723-192245

  -------------------------------------------------------------------

gcc-config -l:
 [1] x86_64-pc-linux-gnu-6.3.0 *

Available Python interpreters, in order of preference:
  [1]   python3.4
  [2]   python2.7 (fallback)
  [3]   pypy3 (fallback)
Available Ruby profiles:
  [1]   ruby21 (with Rubygems)
  [2]   ruby22 (with Rubygems) *
java-config:
The following VMs are available for generation-2:
*)	IcedTea JDK 3.5.0 [icedtea-bin-8]
Available Java Virtual Machines:
  [1]   icedtea-bin-8  system-vm




Comment 1


Toralf Förster






          2017-07-28 17:32:54 UTC
        

Created attachment 487096 [details]
emerge-info.txt




Comment 2


Toralf Förster






          2017-07-28 17:32:58 UTC
        

Created attachment 487098 [details]
emerge-history.txt




Comment 3


Toralf Förster






          2017-07-28 17:33:01 UTC
        

Created attachment 487100 [details]
environment




Comment 4


Toralf Förster






          2017-07-28 17:33:04 UTC
        

Created attachment 487102 [details]
etc.portage.tbz2




Comment 5


Toralf Förster






          2017-07-28 17:33:07 UTC
        

Created attachment 487104 [details]
net-im:toxic-0.7.2-r1:20170728-111724.log




Comment 6


Toralf Förster






          2017-07-28 17:33:10 UTC
        

Created attachment 487106 [details]
temp.tbz2




Comment 7


zlg (RETIRED)






          2017-07-31 05:20:31 UTC
        

Created attachment 487426 [details]
toxic-0.7.2-r2.ebuild

Proposed 0.7.2-r2 ebuild. It looks like the linking order might've been disturbed. Forcing crypto to link after ssl should satisfy things in theory, but I've been unable to reproduce and upstream hadn't seen anything like it before. Please re-test at your convenience.




Comment 8


zlg (RETIRED)






          2017-08-30 17:18:21 UTC
        

Upon further discussion with floppym, I learned that this issue could've been caused by a temporary DT_NEEDED problem with net-libs/tox at link time. There must've been a brief period where the library (that toxic depends on) didn't have the symbol needed, but was fixed by the time the newer version was synced and merged (when I merged net-libs/tox last).

Please reopen if you continue to have the problem. Closing for now.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

