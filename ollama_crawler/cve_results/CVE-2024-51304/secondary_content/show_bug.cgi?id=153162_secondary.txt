Title: 153162 – media-tv/mythtv-0.20_p11444 failed emerge on ~amd64
URL: https://bugs.gentoo.org/show_bug.cgi?id=153162

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 153162
media-tv/mythtv-0.20_p11444 failed emerge on ~amd64
Last modified: 2006-10-29 10:33:19 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 153162 
      - media-tv/mythtv-0.20_p11444 failed emerge on ~amd64


Summary:
media-tv/mythtv-0.20_p11444 failed emerge on ~amd64
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Television related Applications in Gentoo's Portage








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-10-28 10:39 UTC by Drake Donahue





      Modified:
    
2006-10-29 10:33 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Drake Donahue





          2006-10-28 10:39:08 UTC
        

Messages:
 
* MythTV requires Qt to be built with mysql and opengl use flags enabled.
 * Please re-emerge =x11-libs/qt-3*, after having the use flags set.


 * You enabled the 'xvmc' USE flag, you must have a GeForce 4 or
 * greater to use this. Otherwise, you'll have crashes with MythTV


!!! ERROR: media-tv/mythtv-0.20_p11444 failed.
Call stack:
  ebuild.sh, line 1562:   Called dyn_setup
  ebuild.sh, line 665:   Called pkg_setup
  mythtv-0.20_p11444.ebuild, line 83:   Called die

!!! Please fix the above issues, before continuing.
!!! If you need support, post the topmost build error, and the call stack if relevant.

flags opengl and mysql and qt3 were set.
qt3 was present.
video is >geforce4
did USE="opengl mysql" emerge =x11-libs/qt-3*
did emerge mythtv
got same result

got same results on a seperate machine with single core socket 939 processor

media-tv/mythtv-0.20_p11281 worked fine before the attempted update. Also pii281 worked fine after p11444 was masked locally and p11281 was emerged again. This also was true on the single core socket 939 machine.

recommend hard mask p11444 for amd64.

oddman ~ # emerge --info
Portage 2.1.1-r1 (default-linux/amd64/2006.1/desktop, gcc-4.1.1, glibc-2.4-r3, 2.6.18-gentoo-r1 x86_64)
=================================================================
System uname: 2.6.18-gentoo-r1 x86_64 AMD Athlon(tm) 64 X2 Dual Core Processor 3800+
Gentoo Base System version 1.12.5
Last Sync: Thu, 26 Oct 2006 13:30:01 +0000
app-admin/eselect-compiler: [Not Present]
dev-java/java-config: [Not Present]
dev-lang/python:     2.4.3-r4
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.13-r4
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=athlon64 -O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/gconf /etc/revdep-rebuild /etc/terminfo"
CXXFLAGS="-march=athlon64 -O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X alsa amd64 arts avi berkdb bitmap-fonts cairo cdr cli cracklib crypt cups dbus dlloader dri dvd dvdr eds elibc_glibc emboss encode esd fam firefox fortran gdbm gif gnome gpm gstreamer gtk gtk2 hal input_devices_evdev input_devices_keyboard input_devices_mouse ipv6 isdnlog jpeg kde kernel_linux ldap libg++ mad mikmod mp3 mpeg ncurses nls nptl nptlonly ogg opengl oss pam pcre pdflib perl png posix ppds pppd python qt3 qt4 quicktime readline reflection sdl session spell spl ssl tcpd truetype truetype-fonts type1-fonts udev unicode userland_GNU video_cards_nv video_cards_nvidia video_cards_vesa vorbis xml xorg xv zlib"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Doug Goldstein (RETIRED)






          2006-10-28 15:46:55 UTC
        

Your overlay is probably screwing things up for you. Development of MythTV ebuilds are done on amd64 platforms. It works fine on all my machines.




Comment 2


Drake Donahue





          2006-10-29 10:17:19 UTC
        

Further info:
Executing: 
USE="opengl mysql qt3 " emerge -av =x11-libs/qt-3* mythtv
produced a successful emerge.
Executing:
USE="opengl mysql" emerge -av =x11-libs/qt-3*
emerge mythtv
did not.
Executing:
USE="opengl mysql" emerge -av =x11-libs/qt-3*
USE="qt3" emerge mythtv
did not.
I have no overlay.
I have no third party builds.
I have mythtv and the rest of myth keyworded as ~amd64, the rest is stable.
qt3 appears to be obsolescent. qt4 to be current.




Comment 3


Doug Goldstein (RETIRED)






          2006-10-29 10:33:19 UTC
        

1) You do have an overlay. Your emerge --info clearly shows it. 
2) The check that's failing is a very simple one. Attach the output of "cat /var/db/pkg/x11-libs/qt-3.3.*/USE"
3) MythTV does not take a "qt3" USE flag.
4) Don't complain about qt3 being obsolete and being used. MythTV only uses QT3. If you have an issue with that, take it up with upstream. http://www.mythtv.org
5) Using USE flags on the command line is definitely not the right way to do things and can lead to issues. read man portage and man emerge. You will see /etc/portage/package.use is the correct file.

In the long run, it's still an issue that only affects your system and no one elses. Since I personally have access to 4 amd64 boxes that run MythTV just fine.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

