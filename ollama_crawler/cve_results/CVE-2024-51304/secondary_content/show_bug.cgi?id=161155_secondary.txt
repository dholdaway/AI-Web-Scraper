Title: 161155 – nodns shown in the configuration line for dhcp doesn't seem like a good default option.
URL: https://bugs.gentoo.org/show_bug.cgi?id=161155

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 161155
nodns shown in the configuration line for dhcp doesn't seem like a good default option.
Last modified: 2007-01-09 22:09:06 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 161155 
      - nodns shown in the configuration line for dhcp doesn't seem like a good default option.


Summary:
nodns shown in the configuration line for dhcp doesn't seem like a good defau...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

[OLD] Docs on www.gentoo.org




Classification:

Unclassified




Component:

Installation Handbook

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
    (vote)
  



Assignee:

Docs Team








URL:



http://bugs.gentoo.org/enter_bug.cgi?...
        




Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-01-09 17:02 UTC by James Allen





      Modified:
    
2007-01-09 22:09 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


James Allen





          2007-01-09 17:02:41 UTC
        

In the section about setting up DHCP, it has the following listed as an entry in /etc/conf.d/net:

config_eth0=( "dhcp" )
dhcp_eth0="nodns nontp nonis"

The inclusion of the nodns prevents the dhcp client from obtaining a nameserver. Starting up the gentoo install with this configuration will show a working network configuration, but one that is unusable. Unless the user is familiar with DNS, this would be very confusing and hard to debug. This seems like a less than ideal situation.

It seems to me that either nodns should not be included in the shown configuration file, or an explanation of it should be given.


Reproducible: Always




Comment 1


nm (RETIRED)






          2007-01-09 22:09:06 UTC
        

We already have warning after warning after warning in the handbooks to *read conf.d/net.example* so that users can properly setup their own network, and not rely on the example in the handbook which may or may not apply to them.

Actually, "nodns nonis nontp" just means that the dhcp client will not overwrite the dns/nis/ntp settings *you have defined elsewhere*. That's taken from net.example -- you really do need to read it. Our setup is more geared to a basic dhcp-only networked system without complicated nis/dns setups. It will work for the majority of the install base, which is the usual single-homed machine that gets is address from a router or ISP direct.

Again, I can't stress enough that we already provide plenty of warnings to read net.example -- it can help you with your setup:

# Set generic DHCP options like so
#dhcp_eth0="release nodns nontp nonis nogateway nosendhost"

# This tells the dhcp client to release it's lease when it stops, not to
# overwrite dns, ntp and nis settings, not to set a default route and not to
# send the current hostname to the dhcp server and when it starts.
# You can use any combination of the above options - the default is not to
# use any of them.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

