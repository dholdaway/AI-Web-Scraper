Title: 420549 – >=media-sound/mp3splt-gtk-0.7.0.930 makes use of gtk3 useflag
URL: https://bugs.gentoo.org/show_bug.cgi?id=420549

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 420549
>=media-sound/mp3splt-gtk-0.7.0.930 makes use of gtk3 useflag
Last modified: 2014-04-05 07:53:28 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 420549 
      - >=media-sound/mp3splt-gtk-0.7.0.930 makes use of gtk3 useflag


Summary:
>=media-sound/mp3splt-gtk-0.7.0.930 makes use of gtk3 useflag
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Sebastian Pipping








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:




use_gtk3



 

        Show dependency tree





 





      Reported:
    
2012-06-10 18:22 UTC by Julian Ospald





      Modified:
    
2014-04-05 07:53 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



sound









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Julian Ospald





          2012-06-10 18:22:51 UTC
        

These packages make use of gtk3 useflag which indicates that there are issues of migration to gtk+:3.
Gtk3 and similar useflags should be avoided.

Adding to tracker. Please have a look.




Comment 1


Sebastian Pipping






          2012-06-10 18:33:46 UTC
        

(In reply to comment #0)
> These packages make use of gtk3 useflag which indicates that there are
> issues of migration to gtk+:3.

The package supports both the GTK 2.x and 3.x version of Audacious.
Forcing the use of GTK 3.x would disable support for Audaciuous 2.x which I rely on myself.

What do you propose?




Comment 2


Julian Ospald





          2012-06-10 18:39:51 UTC
        

Alright, this relies on the gtk flag handling of audacious too.

I would suggest to use two slots for this package as mentioned in the tracker bug (and force one toolkit version and audacious versions for each slot).




Comment 3


Sebastian Pipping






          2012-06-10 19:03:00 UTC
        

(In reply to comment #2)
> I would suggest to use two slots for this package as mentioned in the
> tracker bug (and force one toolkit version and audacious versions for each
> slot).

If I make two slots for version 0.7.2 of mp3splt-gtk that results in two files called mp3splt-gtk-0.7.2.ebuild, correct?  How can I make two slots for the very same version?  What do have in mind?




Comment 4


Julian Ospald





          2012-06-10 19:18:42 UTC
        

(In reply to comment #3)
> (In reply to comment #2)
> > I would suggest to use two slots for this package as mentioned in the
> > tracker bug (and force one toolkit version and audacious versions for each
> > slot).
> 
> If I make two slots for version 0.7.2 of mp3splt-gtk that results in two
> files called mp3splt-gtk-0.7.2.ebuild, correct?  How can I make two slots
> for the very same version?  What do have in mind?

Hmm, I'm actually not sure if this would be a misuse of slotting. Are slots expected to be always installable simultaneously?

Let's drop that proposal for now.

However, the current ebuilds do not force "gtk3" useflag of version 3.2.x of audacious.

what I mean:

	gtk3? ( x11-libs/gtk+:3
		audacious? ( || ( =media-sound/audacious-3.1* =media-sound/audacious-3.2*[gtk3] ) )
        )

Maybe we should rather wait what happens to audacious packages.




Comment 5


Julian Ospald





          2012-06-10 19:29:47 UTC
        

gtk3 has been disabled for audacious-3.2.3, so only audacious-3.2.2-r1 (which has not been modified, cause it's stabilized) and 3.1* still supports gtk3.

bug 420433

so I would propose:

	gtk3? ( x11-libs/gtk+:3
		audacious? ( || ( =media-sound/audacious-3.1* =media-sound/audacious-3.2.2-r1[gtk3] ) )
        )

This still looks like a mess. Please add comments to your ebuild wrt to these bugs.




Comment 6


Julian Ospald





          2012-06-10 19:55:34 UTC
        

and don't close this bug yet, so we can figure out if we are able to drop gtk3 useflag some time later




Comment 7


Ben de Groot (RETIRED)






          2012-06-24 07:46:47 UTC
        

There is nothing wrong with using gtk3 useflag, as long as both gtk2 and gtk3 are supported by this package.




Comment 8


Julian Ospald





          2012-06-24 09:16:35 UTC
        

(In reply to comment #7)
> There is nothing wrong with using gtk3 useflag, as long as both gtk2 and
> gtk3 are supported by this package.

That support will break/is broken, cause audacious is in the process of removing gtk3 useflag in favor of enforcing one of both slots depending on the state of the release.

As you can see this will result in pretty weird version-dependencies.




Comment 9


Samuli Suominen (RETIRED)






          2014-02-12 14:36:47 UTC
        

current stable audacious simply uses gtk+:3 and doesn't support gtk+:2

futhermore older than current stable audacious versions only compile with certain USE flags, and are broken due to it's dependencies like libcdio changing API, to a point that older audacious versions should be treecleaned anyday now

i don't know mp3splt-gtk got to this, but the package used to be fine... :/




Comment 10


Samuli Suominen (RETIRED)






          2014-04-05 03:22:46 UTC
        

why did you close the bug, when it's not handled?




Comment 11


Julian Ospald





          2014-04-05 07:53:28 UTC
        

I don't have the time to work on QA if I have neither support from QA, council or gnome team.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

