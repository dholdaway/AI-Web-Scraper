Title: 686782 – app-portage/g-cpan empty directories installed to /var
URL: https://bugs.gentoo.org/show_bug.cgi?id=686782

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 686782
app-portage/g-cpan empty directories installed to /var
Last modified: 2020-04-11 05:25:33 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 686782 
      - app-portage/g-cpan empty directories installed to /var


Summary:
app-portage/g-cpan empty directories installed to /var
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Sergiy Borodych








URL:



https://bugs.gentoo.org/465834




Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2019-05-26 09:26 UTC by Jonas Stein





      Modified:
    
2020-04-11 05:25 UTC
      (History)
    




          CC List:
        

3 
          users
          
            (show)
          



gentoo-bugs-augustin
perl
Sergiy.Borodych









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Jonas Stein






          2019-05-26 09:26:14 UTC
        

* One or more empty directories installed to /var:
 * 
 *   /var/tmp/g-cpan
 * 
 * If those directories need to be preserved, please make sure to create
 * or mark them for keeping using 'keepdir'. Future versions of Portage
 * will strip empty directories from installation image.




Comment 1


Sergiy Borodych





          2019-08-09 14:01:11 UTC
        

Discussed at #465834.
Seems like we can just do not create it.




Comment 2


augustin





          2019-12-10 02:54:55 UTC
        

It is written:

https://wiki.gentoo.org/wiki/Project:Perl/g-cpan 
If no overlays are defined, or the user operating g-cpan cannot write to an overlay, then anything generated will be written to a temporary space and wiped on exit. Without an overlay to write to, certain functions will not be available, such as upgrading. 


- - -

It appears to be related.
From the wiki page above, it is not very clear how to configure everything the first time we use g-cpan, to ensure a smooth experience.




Comment 3


augustin





          2019-12-10 02:57:14 UTC
        

https://bugs.gentoo.org/465834




Comment 4


Sergiy Borodych





          2020-04-04 05:43:43 UTC
        

AFAIR g-cpan generates meaningful errors in such cases.
Please check it.

If you have suggestion about the errors or documentation please let me know.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

