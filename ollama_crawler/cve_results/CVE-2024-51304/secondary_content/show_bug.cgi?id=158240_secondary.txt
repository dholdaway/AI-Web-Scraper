Title: 158240 – app-emulation/kqemu-0.7.2 won't compile
URL: https://bugs.gentoo.org/show_bug.cgi?id=158240

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 158240
app-emulation/kqemu-0.7.2 won't compile
Last modified: 2009-03-07 14:53:31 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 158240 
      - app-emulation/kqemu-0.7.2 won't compile


Summary:
app-emulation/kqemu-0.7.2 won't compile
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Other
      







Importance:
      
High
       normal
      


Assignee:

Luca Barbato








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-12-15 13:21 UTC by Steffen Froehlich





      Modified:
    
2009-03-07 14:53 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



kanelxake









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Steffen Froehlich





          2006-12-15 13:21:00 UTC
        

Portage 2.1.1 (default-linux/x86/2006.0, gcc-3.4.6, glibc-2.3.6-r4, 2.4.32-gentoo-r6 i686)
=================================================================
System uname: 2.4.32-gentoo-r6 i686 Pentium III (Coppermine)
Gentoo Base System version 1.6.15
Last Sync: Sun, 05 Nov 2006 21:00:01 +0000
ccache version 2.3 [enabled]
app-admin/eselect-compiler: [Not Present]
dev-java/java-config: [Not Present]
dev-lang/python:     2.4.3-r1
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     2.3
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.13-r3
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.17-r1
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium3 -fomit-frame-pointer -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/"
CONFIG_PROTECT_MASK="/etc/env.d /etc/gconf /etc/terminfo"
CXXFLAGS="-O2 -march=pentium3 -fomit-frame-pointer -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="ftp://gentoo.mirrors.pair.com/"
LINGUAS="en"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X alsa apache2 apm arts automount bitmap-fonts cgi chroot cli cracklib crypt cups dlloader dri elibc_glibc encode esd foomaticdb fortran gdbm gif gmail gmailtimestamps gpm gstreamer gtk2 hal iconv imap input_devices_keyboard input_devices_mouse isdnlog jpeg kde kerberos kernel_linux libg++ libwww linguas_en mad maildir mp3 mpeg mppe-mppc mschap mysql mysqli ncurses nls nptl nptlonly ogg opengl oss pam pcre perl php png ppds pppd python qt3 qt4 readline reflection samba sdl server session sftplogging spell spl ssl threads truetype truetype-fonts type1-fonts udev unicode userland_GNU video_cards_radeon vorbis xml xorg xv zlib"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY


-------------------------------------------------------------------------------



kqemu won't compile right. i get this error

make[1]: warning: jobserver unavailable: using -j1.  Add `+' to parent make rule.
make -C  /var/tmp/portage/kqemu-0.7.2/work/qemu-0.7.2/kqemu CFLAGS="-D__KERNEL__ -I/usr/src/linux-2.4.32-gentoo-r6/include -Wall -Wstrict-prototypes -Wno-trigraphs -O2 -fno-strict-aliasing -fno-common -fomit-frame-pointer -pipe -mpreferred-stack-boundary=2 -march=pentium3 -fno-unit-at-a-time -DMODULE -DMODVERSIONS -include /usr/src/linux-2.4.32-gentoo-r6/include/linux/modversions.h" MAKING_MODULES=1 modules
make[2]: Entering directory `/var/tmp/portage/kqemu-0.7.2/work/qemu-0.7.2/kqemu'
gcc -D__KERNEL__ -I/usr/src/linux-2.4.32-gentoo-r6/include -Wall -Wstrict-prototypes -Wno-trigraphs -O2 -fno-strict-aliasing -fno-common -fomit-frame-pointer -pipe -mpreferred-stack-boundary=2 -march=pentium3 -fno-unit-at-a-time -DMODULE -DMODVERSIONS -include /usr/src/linux-2.4.32-gentoo-r6/include/linux/modversions.h  -nostdinc -iwithprefix include -DKBUILD_BASENAME=kqemu_linux  -c -o kqemu-linux.o kqemu-linux.c
kqemu-linux.c:51: error: syntax error before "int"
kqemu-linux.c:51: warning: type defaults to `int' in declaration of `module_param'
kqemu-linux.c:51: warning: function declaration isn't a prototype
kqemu-linux.c:51: warning: data definition has no type or storage class
kqemu-linux.c:55: error: syntax error before "int"
kqemu-linux.c:55: warning: type defaults to `int' in declaration of `module_param'
kqemu-linux.c:55: warning: function declaration isn't a prototype
kqemu-linux.c:55: warning: data definition has no type or storage class
make[2]: *** [kqemu-linux.o] Error 1
make[2]: Leaving directory `/var/tmp/portage/kqemu-0.7.2/work/qemu-0.7.2/kqemu'
make[1]: *** [_mod_/var/tmp/portage/kqemu-0.7.2/work/qemu-0.7.2/kqemu] Error 2
make[1]: Leaving directory `/usr/src/linux-2.4.32-gentoo-r6'
make: *** [kqemu.o] Error 2
make: Leaving directory `/var/tmp/portage/kqemu-0.7.2/work/qemu-0.7.2/kqemu'

!!! ERROR: app-emulation/kqemu-0.7.2 failed.
Call stack:
  ebuild.sh, line 1546:   Called dyn_compile
  ebuild.sh, line 937:   Called src_compile
  kqemu-0.7.2.ebuild, line 73:   Called die




Comment 1


Luca Barbato






          2006-12-15 13:39:58 UTC
        

try an updated version...




Comment 2


Steffen Froehlich





          2006-12-15 17:23:47 UTC
        

I've also tried with with ACCEPT_KEYWORDS="~x86" but when i tries to emerge ver 1.3.0_pre9 i get this error

make[2]: *** [kqemu-linux.o] Error 1
make[2]: Leaving directory `/var/tmp/portage/kqemu-1.3.0_pre9/work/kqemu-1.3.0pre9'
make[1]: *** [_mod_/var/tmp/portage/kqemu-1.3.0_pre9/work/kqemu-1.3.0pre9] Error 2
make[1]: Leaving directory `/usr/src/linux-2.4.32-gentoo-r6'
make: *** [kqemu.o] Error 2
>>> Source compiled.
>>> Test phase [not enabled]: app-emulation/kqemu-1.3.0_pre9

>>> Install kqemu-1.3.0_pre9 into /var/tmp/portage/kqemu-1.3.0_pre9/image/ category app-emulation
 * Installing kqemu module
install: cannot stat `kqemu.o': No such file or directory

!!! ERROR: app-emulation/kqemu-1.3.0_pre9 failed.
Call stack:
  ebuild.sh, line 1546:   Called dyn_install
  ebuild.sh, line 1020:   Called src_install
  kqemu-1.3.0_pre9.ebuild, line 54:   Called linux-mod_src_install
  linux-mod.eclass, line 540:   Called die

!!! doins kqemu.o failed
!!! If you need support, post the topmost build error, and the call stack if relevant.





Comment 3


Xake





          2009-01-22 08:06:08 UTC
        

Still an issue? Or maybe time to mark WORKSFORME?




Comment 4


Luca Barbato






          2009-03-07 14:53:31 UTC
        

Please check the latest version, reopen if is still an issue.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

