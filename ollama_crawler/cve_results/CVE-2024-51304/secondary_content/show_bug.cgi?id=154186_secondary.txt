Title: 154186 – libXi-1.1.0 & inputproto-1.4 combination breaks international input in KDE
URL: https://bugs.gentoo.org/show_bug.cgi?id=154186

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 154186
libXi-1.1.0 & inputproto-1.4 combination breaks international input in KDE
Last modified: 2006-11-11 15:09:15 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 154186 
      - libXi-1.1.0 & inputproto-1.4 combination breaks international input in KDE


Summary:
libXi-1.1.0 & inputproto-1.4 combination breaks international input in KDE
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-11-05 14:20 UTC by Ivan Yosifov





      Modified:
    
2006-11-11 15:09 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



arnaud









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Ivan Yosifov





          2006-11-05 14:20:33 UTC
        

After updating to libXi-1.1.0 I am no longer able to input international characters in KDE. After changing the keyboard layout, the keyboard layout indicator shows the appropriate flag, but what comes out on the screen are the english letters as if I am still using the US English layout ( my main layout ). Tested with switching to Bulgarian (phonetic) or Greek.

Downgrading to x11-libs/libXi-1.0.1-r1 fixes the issue.

Portage 2.1.2_rc1-r3 (default-linux/x86/2006.1, gcc-4.1.1, glibc-2.5-r0, 2.6.18-gentoo-r1 i686)
=================================================================
System uname: 2.6.18-gentoo-r1 i686 Intel(R) Pentium(R) 4 CPU 3.20GHz
Gentoo Base System version 1.12.6
Last Sync: Sun, 05 Nov 2006 11:00:01 +0000
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
app-admin/eselect-compiler: [Not Present]
dev-java/java-config: 1.3.7, 2.0.30
dev-lang/python:     2.4.4
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.60
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.17
sys-devel/gcc-config: 1.3.14
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.17-r1
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=prescott -mtune=prescott -fomit-frame-pointer -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c"
CXXFLAGS="-O2 -march=prescott -mtune=prescott -fomit-frame-pointer -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LANG="en_US.UTF8"
LC_ALL="en_US.UTF8"
LINGUAS="en de"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage/obelix"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X aac acl alsa apache2 avi bash-completion bzip2 cairo cdr crypt cups dbus djvu doc dri dts dvd dvdr dvdread elibc_glibc encode esd exif fam ffmpeg firefox flac gd gif glitz glut gmp gnutls gphoto2 gpm gstreamer gtk gtk2 hal howl imagemagick input_devices_evdev input_devices_keyboard input_devices_mouse jpeg kde kdeenablefinal kdehiddenvisibility kernel_linux lcms linguas_de linguas_en logrotate mad mikmod mmap mmx mng mp3 mpeg ncurses nls nptl nsplugin nvidia ogg opengl pam pdf pic png qt qt3 quicktime readline samba sdl session snmp spell sqlite sse sse2 ssl svg threads tidy tiff truetype unicode usb userland_GNU vcd video_cards_fbdev video_cards_nv video_cards_nvidia video_cards_vesa video_cards_vga vorbis win32codecs wmf x86 xine xml xml2 xv xvid zlib"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LDFLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Ivan Yosifov





          2006-11-05 14:39:14 UTC
        

Actually to fix the problem I had to first downgrade inputproto from 1.4 to 1.3.2 and the libXi from 1.1.0 to 1.0.1-r1. Downgrading libXi alone and so building it against inputproto-1.4 did NOT fix the problem.




Comment 2


Ivan Yosifov





          2006-11-05 14:43:07 UTC
        

Also, while running the broken configuration I got several copies of the following message in one of my consoles:

XInputWireToEvent: UNKNOWN WIRE EVENT! type=105

I am not sure if this is related, it has never happened before and does not happen with the working configuration.




Comment 3


Arnaud Fabre





          2006-11-08 16:19:12 UTC
        

The following thread in the Gentoo forums discuss the problem: http://forums.gentoo.org/viewtopic-p-3705294.html

The only solution I found (apart from downgrading xproto, inputproto and libXI :) is to recompile all packages directly depending on xproto and inputproto.






Comment 4


Ivan Yosifov





          2006-11-11 15:09:15 UTC
        

After installing the latest batch of ~x86 updates libXi-1.1.0 & inputproto-1.4  no longer break international input in KDE, at least for me. Closing bug.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

