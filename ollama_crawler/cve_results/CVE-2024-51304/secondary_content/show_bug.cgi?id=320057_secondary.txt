Title: 320057 – dev-haskell/haddock-2.6.0: Ambiguous occurrence `display'
URL: https://bugs.gentoo.org/show_bug.cgi?id=320057

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 320057
dev-haskell/haddock-2.6.0: Ambiguous occurrence `display'
Last modified: 2010-06-05 11:35:00 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 320057 
      - dev-haskell/haddock-2.6.0: Ambiguous occurrence `display'


Summary:
dev-haskell/haddock-2.6.0: Ambiguous occurrence `display'
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Library

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo's Haskell Language team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2010-05-16 21:37 UTC by Navid Zamani





      Modified:
    
2010-06-05 11:35 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Navid Zamani





          2010-05-16 21:37:52 UTC
        

At least with GHC 6.12 this bug occurs when emerging haddock-2.6.0:

Building haddock-2.6.0...
[1 of 5] Compiling Haddock.GhcUtils ( src/Haddock/GhcUtils.hs, dist/build/Haddock/GhcUtils.o )

src/Haddock/GhcUtils.hs:53:37:
    Ambiguous occurrence `display'
    It could refer to either `Distribution.Text.display', imported from Distribution.Text at src/Haddock/GhcUtils.hs:27:0-23
                          or `Packages.display', imported from Packages at src/Haddock/GhcUtils.hs:32:0-14

Since I don’t know which one was meant, I can’t fix it.
The same problem is also true for the 2.6* ebuilds in the haskell overlay, since the source is the same. Apparently haddock wasn’t ready for GHC 6.12?

But this should be an easy fix. :)

Reproducible: Always

Steps to Reproduce:




Comment 1


Navid Zamani





          2010-05-16 22:25:43 UTC
        

Hmm… fixing the line by substituting “Packages.display” for “display” only makes it fail at the next error:

src/Haddock/GhcUtils.hs:64:40:
    No instance for (Text PackageIdentifier)
      arising from a use of `parse' at src/Haddock/GhcUtils.hs:64:40-44
    Possible fix:
      add an instance declaration for (Text PackageIdentifier)
    In the first argument of `readP_to_S', namely `parse'
    In the expression: readP_to_S parse str
    In a stmt of a list comprehension:
        (pid, "") <- readP_to_S parse str


And I don’t even remotely know how to fix that one…




Comment 2


Navid Zamani





          2010-05-19 21:24:09 UTC
        

News: The bug is not occurring anymore with haddock-2.6.1 and ghc-6.12.2 (as it is in the GHC overlay since this a couple of hours ago).

So I say the bug is resolved for me.

If you also want to resolve it, depends on your situation in the main portage repository. If you just upgrade the ebuilds by using the overlay ones, we can call this closed. :)




Comment 3


Ivan





          2010-05-19 21:47:00 UTC
        

(In reply to comment #2)
> News: The bug is not occurring anymore with haddock-2.6.1 and ghc-6.12.2 (as it
> is in the GHC overlay since this a couple of hours ago).

If by "a couple of hours ago" you mean 9 days ago, sure :p

Just for the record, which exact version of GHC where you using?





Comment 4


Navid Zamani





          2010-05-19 22:07:59 UTC
        

(In reply to comment #3)
> If by "a couple of hours ago" you mean 9 days ago, sure :p
No I mean a couple of hours ago. Since it did not yet work after my sync yesterday night (GMT+2), but worked after the sync about 5 hours ago.

> Just for the record, which exact version of GHC where you using?
Hey, can you read my mind? I just wanted to mention that. ^^
I used GHC 6.12.1 for both tests.
(I upgraded to GHC 6.12.2 afterwards, about 20 minutes ago.)




Comment 5


fplccl





          2010-06-05 11:35:00 UTC
        

I had the same problem with haddock both versions 2.6.0 and 2.6.1 after I have installed the haskell overlay and have upgraded the cabal to 1.8.0.4.

After I have reverted the cabal to 1.8.0.2 all other haskell libs have been upgraded from overlay without errors.

So I suggest this error appears when there are libs mixed from different installations with different cabal versions.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

