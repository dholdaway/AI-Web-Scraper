Title: 171628 – crossdev i586-mingw32 doesn't install the correct packages
URL: https://bugs.gentoo.org/show_bug.cgi?id=171628

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 171628
crossdev i586-mingw32 doesn't install the correct packages
Last modified: 2007-03-24 07:53:37 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 171628 
      - crossdev i586-mingw32 doesn't install the correct packages


Summary:
crossdev i586-mingw32 doesn't install the correct packages
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Development

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Toolchain Maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-03-20 22:17 UTC by Francisco González





      Modified:
    
2007-03-24 07:53 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Francisco González





          2007-03-20 22:17:44 UTC
        

I tried it on an amd64 and a x86 machine. This is what crossdev wants to install (the output is the same on both arquitectures,only changes the Host Portage ARCH):

melee ~ # crossdev-stable  i586-mingw32
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 * Host Portage ARCH:     amd64
 * Target Portage ARCH:   x86
 * Target System:         i586-mingw32
 * Stage:                 4 (C/C++ compiler)

 * binutils:              binutils-[latest]
 * gcc:                   gcc-[latest]
 * headers:               linux-headers-[latest]
 * libc:                  -[latest]

 * PORTDIR_OVERLAY:       /usr/local/portage
 * PORT_LOGDIR:           /var/log/portage
 * PKGDIR:                /usr/portage/packages/cross/i586-mingw32
 * PORTAGE_TMPDIR:        /var/tmp/cross/i586-mingw32
  _  -  ~  -  _  -  ~  -  _  -  ~  -  _  -  ~  -  _  -  

And this is what it wants to install with only defining "mingw32", without the i586:

melee ~ # crossdev-stable  mingw32
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 * Host Portage ARCH:     amd64
 * Target Portage ARCH:   amd64
 * Target System:         mingw32
 * Stage:                 4 (C/C++ compiler)

 * binutils:              binutils-[latest]
 * gcc:                   gcc-[latest]
 * headers:               w32api-[latest]
 * libc:                  mingw-runtime-[latest]

 * PORTDIR_OVERLAY:       /usr/local/portage
 * PORT_LOGDIR:           /var/log/portage
 * PKGDIR:                /usr/portage/packages/cross/mingw32
 * PORTAGE_TMPDIR:        /var/tmp/cross/mingw32
  _  -  ~  -  _  -  ~  -  _  -  ~  -  _  -  ~  -  _  -  ~  -  _

I think it's not getting the correct packages for "i586-mingw32" (w32api,mingw-runtime, and why it wants to install linux-headers?)

Anyway I tried to emerge it (i586-mingw32) on amd64 and gcc failed, it said it can't find stdio.h...if needed I can attach the build log but I think it's irrelevant. And there is already a bug opened for this stdio.h bug (and the solution given is: emerge it with crossdev -t mingw32)

As far as I know, setting only "mingw32" on a amd64 machine will generate a mingw32-gcc that compiles 64bit binaries or binaries that doesn't work on any machine, I don't want this. I'm now compiling it with "mingw32" on the x86 machine, seems to be working, but the "i586-mingw32" bug is still there, and I want to emerge it on the amd64 machine not on the x86 one...

Reproducible: Always




Comment 1


SpanKY






          2007-03-24 07:53:37 UTC
        

you're using crossdev stable which handled i586-mingw32 incorrectly

crossdev-0.9.18+ works just fine









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

