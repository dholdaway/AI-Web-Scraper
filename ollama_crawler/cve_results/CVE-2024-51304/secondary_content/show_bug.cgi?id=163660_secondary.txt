Title: 163660 – gdm login: ssh-agent denies bind
URL: https://bugs.gentoo.org/show_bug.cgi?id=163660

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 163660
gdm login: ssh-agent denies bind
Last modified: 2007-08-05 23:10:55 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 163660 
      - gdm login: ssh-agent denies bind


Summary:
gdm login: ssh-agent denies bind
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] GNOME

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       critical
      


Assignee:

Gentoo Linux Gnome Desktop Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-01-24 21:55 UTC by Stephan Friedrichs





      Modified:
    
2007-08-05 23:10 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Stephan Friedrichs





          2007-01-24 21:55:54 UTC
        

Starting gnome via 'startx' works fine. But when I regularly log in at the login-screen, while /etc/init.d/xdm is running, gnome immediately logs me off. The following error message is left in ~/.xsession-errors:

/etc/X11/gdm/PreSession/Default: Registering your session with wtmp and utmp
/etc/X11/gdm/PreSession/Default: running: /usr/X11R6/bin/sessreg -a -w /var/log/wtmp -u /var/run/utmp -x "/var/gdm/:0.Xservers" -h "" -l ":0" "igel"
/etc/X11/gdm/Xsession: Beginning session setup...
/etc/X11/gdm/Xsession: Setup done, will execute: /usr/bin/ssh-agent -- gnome-session
bind: Permission denied

Reproducible: Always

Steps to Reproduce:
1. /etc/init.d/xdm start
2. <login at gnome with username and password>

Actual Results:  
The ~/.xsession-errors output described above.


Important package versions:

net-misc/openssh: 4.5_p1
gnome-base/gnome-light: 2.16.2




Comment 1


Stephan Friedrichs





          2007-01-24 23:17:56 UTC
        

Oh, I forgot

emerge --info
Portage 2.1.2-r3 (default-linux/amd64/2006.1, gcc-4.1.1, glibc-2.5-r0, 2.6.19-gentoo-r4 x86_64)
=================================================================
System uname: 2.6.19-gentoo-r4 x86_64 Intel(R) Core(TM)2 CPU          6600  @ 2.40GHz
Gentoo Base System release 1.12.9
Timestamp of tree: Wed, 24 Jan 2007 19:50:01 +0000
dev-java/java-config: 1.3.7, 2.0.31-r3
dev-lang/python:     2.4.4
dev-python/pycrypto: 2.0.1-r5
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.61
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.17
sys-devel/gcc-config: 1.3.14
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.19.2-r1
ACCEPT_KEYWORDS="amd64 ~amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=nocona -O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c"
CXXFLAGS="-march=nocona -O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="ftp://ftp.isu.edu.tw/pub/Linux/Gentoo ftp://gentoo.netnitco.net/pub/mirrors/gentoo/source/ ftp://ftp.rhnet.is/pub/gentoo/"
LC_ALL="en_US.UTF-8"
LINGUAS="en"
MAKEOPTS="-j4"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="X a52 aac acpi alsa amd64 apm avahi berkdb bitmap-fonts bzip2 calendar cdda cdio cdr cli cracklib crypt css cups dbus dlloader doc dri dts dvd dvdr dvdread ffmpeg firefox flac flash ftp gdbm gif gnome gnutls gpm gtk gtk2 hal howl iconv icq ieee1394 ipv6 isdnlog jabber java jdk jpeg jpeg2k libg++ libnotify live logrotate mad mp3 mpeg mysql ncurses nls nptl nptlonly nsplugin nvidia offensive ogg openal opengl pam pcre pdf perl png ppds pppd python readline reflection session spl ssl stream tcpd theora truetype-fonts type1-fonts udev unicode usb vcd vim vlm vorbis wxwindows xml xorg xv zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" ELIBC="glibc" INPUT_DEVICES="keyboard mouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en" USERLAND="GNU" VIDEO_CARDS="nvidia"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LDFLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY



Regards
//Stephan




Comment 2


Brian Nisonger





          2007-05-25 08:30:17 UTC
        

Try updating net-misc/openssh to the unstable version.  I did this and it fixed this problem.

Bri 

(In reply to comment #1)
> Oh, I forgot
> 
> emerge --info
> Portage 2.1.2-r3 (default-linux/amd64/2006.1, gcc-4.1.1, glibc-2.5-r0,
> 2.6.19-gentoo-r4 x86_64)
> =================================================================
> System uname: 2.6.19-gentoo-r4 x86_64 Intel(R) Core(TM)2 CPU          6600  @
> 2.40GHz
> Gentoo Base System release 1.12.9
> Timestamp of tree: Wed, 24 Jan 2007 19:50:01 +0000
> dev-java/java-config: 1.3.7, 2.0.31-r3
> dev-lang/python:     2.4.4
> dev-python/pycrypto: 2.0.1-r5
> sys-apps/sandbox:    1.2.18.1
> sys-devel/autoconf:  2.13, 2.61
> sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
> sys-devel/binutils:  2.17
> sys-devel/gcc-config: 1.3.14
> sys-devel/libtool:   1.5.22
> virtual/os-headers:  2.6.19.2-r1
> ACCEPT_KEYWORDS="amd64 ~amd64"
> AUTOCLEAN="yes"
> CBUILD="x86_64-pc-linux-gnu"
> CFLAGS="-march=nocona -O2 -pipe"
> CHOST="x86_64-pc-linux-gnu"
> CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config
> /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
> CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf
> /etc/java-config/vms/ /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c"
> CXXFLAGS="-march=nocona -O2 -pipe"
> DISTDIR="/usr/portage/distfiles"
> FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
> GENTOO_MIRRORS="ftp://ftp.isu.edu.tw/pub/Linux/Gentoo
> ftp://gentoo.netnitco.net/pub/mirrors/gentoo/source/
> ftp://ftp.rhnet.is/pub/gentoo/"
> LC_ALL="en_US.UTF-8"
> LINGUAS="en"
> MAKEOPTS="-j4"
> PKGDIR="/usr/portage/packages"
> PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress
> --force --whole-file --delete --delete-after --stats --timeout=180
> --exclude=/distfiles --exclude=/local --exclude=/packages"
> PORTAGE_TMPDIR="/var/tmp"
> PORTDIR="/usr/portage"
> SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
> USE="X a52 aac acpi alsa amd64 apm avahi berkdb bitmap-fonts bzip2 calendar
> cdda cdio cdr cli cracklib crypt css cups dbus dlloader doc dri dts dvd dvdr
> dvdread ffmpeg firefox flac flash ftp gdbm gif gnome gnutls gpm gtk gtk2 hal
> howl iconv icq ieee1394 ipv6 isdnlog jabber java jdk jpeg jpeg2k libg++
> libnotify live logrotate mad mp3 mpeg mysql ncurses nls nptl nptlonly nsplugin
> nvidia offensive ogg openal opengl pam pcre pdf perl png ppds pppd python
> readline reflection session spl ssl stream tcpd theora truetype-fonts
> type1-fonts udev unicode usb vcd vim vlm vorbis wxwindows xml xorg xv zlib"
> ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x
> ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3
> trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw
> asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa
> lfloat linear meter mulaw multi null plug rate route share shm softvol"
> ELIBC="glibc" INPUT_DEVICES="keyboard mouse" KERNEL="linux" LCD_DEVICES="bayrad
> cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en"
> USERLAND="GNU" VIDEO_CARDS="nvidia"
> Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LDFLAGS,
> PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY
> 
> 
> 
> Regards
> //Stephan
> 

(In reply to comment #1)
> Oh, I forgot
> 
> emerge --info
> Portage 2.1.2-r3 (default-linux/amd64/2006.1, gcc-4.1.1, glibc-2.5-r0,
> 2.6.19-gentoo-r4 x86_64)
> =================================================================
> System uname: 2.6.19-gentoo-r4 x86_64 Intel(R) Core(TM)2 CPU          6600  @
> 2.40GHz
> Gentoo Base System release 1.12.9
> Timestamp of tree: Wed, 24 Jan 2007 19:50:01 +0000
> dev-java/java-config: 1.3.7, 2.0.31-r3
> dev-lang/python:     2.4.4
> dev-python/pycrypto: 2.0.1-r5
> sys-apps/sandbox:    1.2.18.1
> sys-devel/autoconf:  2.13, 2.61
> sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
> sys-devel/binutils:  2.17
> sys-devel/gcc-config: 1.3.14
> sys-devel/libtool:   1.5.22
> virtual/os-headers:  2.6.19.2-r1
> ACCEPT_KEYWORDS="amd64 ~amd64"
> AUTOCLEAN="yes"
> CBUILD="x86_64-pc-linux-gnu"
> CFLAGS="-march=nocona -O2 -pipe"
> CHOST="x86_64-pc-linux-gnu"
> CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config
> /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
> CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf
> /etc/java-config/vms/ /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c"
> CXXFLAGS="-march=nocona -O2 -pipe"
> DISTDIR="/usr/portage/distfiles"
> FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
> GENTOO_MIRRORS="ftp://ftp.isu.edu.tw/pub/Linux/Gentoo
> ftp://gentoo.netnitco.net/pub/mirrors/gentoo/source/
> ftp://ftp.rhnet.is/pub/gentoo/"
> LC_ALL="en_US.UTF-8"
> LINGUAS="en"
> MAKEOPTS="-j4"
> PKGDIR="/usr/portage/packages"
> PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress
> --force --whole-file --delete --delete-after --stats --timeout=180
> --exclude=/distfiles --exclude=/local --exclude=/packages"
> PORTAGE_TMPDIR="/var/tmp"
> PORTDIR="/usr/portage"
> SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
> USE="X a52 aac acpi alsa amd64 apm avahi berkdb bitmap-fonts bzip2 calendar
> cdda cdio cdr cli cracklib crypt css cups dbus dlloader doc dri dts dvd dvdr
> dvdread ffmpeg firefox flac flash ftp gdbm gif gnome gnutls gpm gtk gtk2 hal
> howl iconv icq ieee1394 ipv6 isdnlog jabber java jdk jpeg jpeg2k libg++
> libnotify live logrotate mad mp3 mpeg mysql ncurses nls nptl nptlonly nsplugin
> nvidia offensive ogg openal opengl pam pcre pdf perl png ppds pppd python
> readline reflection session spl ssl stream tcpd theora truetype-fonts
> type1-fonts udev unicode usb vcd vim vlm vorbis wxwindows xml xorg xv zlib"
> ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x
> ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3
> trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw
> asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa
> lfloat linear meter mulaw multi null plug rate route share shm softvol"
> ELIBC="glibc" INPUT_DEVICES="keyboard mouse" KERNEL="linux" LCD_DEVICES="bayrad
> cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en"
> USERLAND="GNU" VIDEO_CARDS="nvidia"
> Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LDFLAGS,
> PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY
> 
> 
> 
> Regards
> //Stephan
> 






Comment 3


Gilles Dartiguelongue (RETIRED)






          2007-08-04 13:55:31 UTC
        

stephan, what's the status on this bug ?




Comment 4


Stephan Friedrichs





          2007-08-05 20:50:59 UTC
        

(In reply to comment #3)
> stephan, what's the status on this bug ?
> 

It just vanished a few weeks after its first occurence... I do not know why, if there had been an update of a suspected package I would have noticed. A friend of mine told me he had the same problem and it was also gone some time later (without him remembering what actually changed). Sorry this is so vague :(




Comment 5


Gilles Dartiguelongue (RETIRED)






          2007-08-05 23:10:55 UTC
        

ok, closing as WORKSFORME then.
Don't hesitate to reopen this bug if you ever encounter this bug again.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

