Title: 637662 – sci-electronics/kicad-4.0.6 crashes when running cvpcb and pcbnew
URL: https://bugs.gentoo.org/show_bug.cgi?id=637662

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 637662
sci-electronics/kicad-4.0.6 crashes when running cvpcb and pcbnew
Last modified: 2017-11-21 16:11:00 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 637662 
      - sci-electronics/kicad-4.0.6 crashes when running cvpcb and pcbnew


Summary:
sci-electronics/kicad-4.0.6 crashes when running cvpcb and pcbnew
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Zoltan Puskas








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2017-11-16 09:44 UTC by globus





      Modified:
    
2017-11-21 16:11 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



jstein
proxy-maint









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




cvpcb.bug.bz2

              (cvpcb.bug.bz2,7.29 KB,
                application/x-bzip)

            
2017-11-16 09:44 UTC,

            globus




Details





pcb.bug.bz2

              (pcb.bug.bz2,7.30 KB,
                application/x-bzip)

            
2017-11-16 09:45 UTC,

            globus




Details





example-crash

              (dtemp-emul.tar.bz2,10.12 KB,
                application/x-bzip2)

            
2017-11-18 18:40 UTC,

            globus




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


globus





          2017-11-16 09:44:36 UTC
        

Created attachment 504490 [details]
cvpcb.bug.bz2

Hello, sorry my bad English.
kicad crashes after some time when running cvpcb & pcbnew.If you have time to slip with cvpcb (assign footprints), it is fall after some time pcbnew. Roll on kicad-4.0.4 solved the problem.

$ emerge --info
Portage 2.3.8 (python 3.4.5-final-0, default/linux/amd64/13.0/desktop, gcc-5.4.0, glibc-2.25-r8, 4.12.12-gentoo-m1 x86_64)
=================================================================
System uname: Linux-4.12.12-gentoo-m1-x86_64-AMD_Athlon-tm-_II_X2_250e_Processor-with-gentoo-2.4.1
KiB Mem:     6106516 total,    359376 free
KiB Swap:   10485692 total,  10485692 free
Timestamp of repository gentoo: Sun, 12 Nov 2017 06:00:01 +0000
Head commit of repository gentoo: 926f9314afc813f90d67215a8c9d2fcacf8d765f
sh bash 4.3_p48-r1
ld GNU ld (Gentoo 2.28.1 p1.0) 2.28.1
app-shells/bash:          4.3_p48-r1::gentoo
dev-java/java-config:     2.2.0-r3::gentoo
dev-lang/perl:            5.24.3::gentoo
dev-lang/python:          2.7.14::gentoo, 3.4.5::gentoo
dev-util/cmake:           3.8.2::gentoo
dev-util/pkgconfig:       0.29.2::gentoo
sys-apps/baselayout:      2.4.1-r2::gentoo
sys-apps/openrc:          0.32.1::gentoo
sys-apps/sandbox:         2.10-r4::gentoo
sys-devel/autoconf:       2.13::gentoo, 2.69::gentoo
sys-devel/automake:       1.11.6-r1::gentoo, 1.15-r2::gentoo
sys-devel/binutils:       2.28.1::gentoo
sys-devel/gcc:            5.4.0-r3::gentoo
sys-devel/gcc-config:     1.8-r1::gentoo
sys-devel/libtool:        2.4.6-r3::gentoo
sys-devel/make:           4.2.1::gentoo
sys-kernel/linux-headers: 4.4::gentoo (virtual/os-headers)
sys-libs/glibc:           2.25-r8::gentoo
Repositories:

gentoo
    location: /usr/portage
    sync-type: rsync
    sync-uri: rsync://rsync.gentoo.org/gentoo-portage
    priority: -1000

x-portage
    location: /usr/local/portage
    masters: gentoo
    priority: 0

ACCEPT_KEYWORDS="amd64"
ACCEPT_LICENSE="* -@EULA"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -march=native -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/lib64/libreoffice/program/sofficerc /usr/share/gnupg/qualified.txt /usr/share/themes/oxygen-gtk/gtk-2.0"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/dconf /etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c"
CXXFLAGS="-O2 -march=native -pipe"
DISTDIR="/usr/portage/distfiles"
EMERGE_DEFAULT_OPTS="--keep-going=y --quiet-build=y --with-bdeps=y"
FCFLAGS="-O2 -pipe"
FEATURES="assume-digests binpkg-logs config-protect-if-modified distlocks ebuild-locks fixlafiles merge-sync multilib-strict news parallel-fetch preserve-libs protect-owned sandbox sfperms strict unknown-features-warn unmerge-logs unmerge-orphans userfetch userpriv usersandbox usersync xattr"
FFLAGS="-O2 -pipe"
GENTOO_MIRRORS="http://trumpetti.atm.tut.fi/gentoo/"
LANG="ru_RU.utf8"
LDFLAGS="-Wl,-O1 -Wl,--as-needed"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_BUNZIP2_COMMAND="lbunzip2 -n2"
PORTAGE_BZIP2_COMMAND="lbzip2 -n2"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --omit-dir-times --compress --force --whole-file --delete --stats --human-readable --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --exclude=/.git"
PORTAGE_TMPDIR="/var/tmp"
USE="3dnow 3dnowext X a52 aac acpi alsa amd64 bash-completion berkdb branding bzip2 cairo cdda cdr cli cracklib crypt cuda cxx dbus dri drm dts dvd dvdr egl encode exif fam firefox flac gdbm gif glamor gtk iconv jpeg jpeg2k ladspa lcms libnotify mad mmx mmxext mng modules mp3 mp4 mpeg mtp multilib musepack ncurses nls nptl nvidia ogg opengl openmp pam pango pcre pdf png popcnt ppds readline sdl seccomp session smp sse sse2 sse3 sse4a ssl startup-notification svg tcpd tiff truetype udev unicode upower usb vaapi vdpau vorbis wmf wxwidgets x264 xattr xcb xml xv xvid zlib" ABI_X86="64" APACHE2_MODULES="authn_core authz_core socache_shmcb unixd actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cgi cgid dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CALLIGRA_FEATURES="kexi words flow plan sheets stage tables krita karbon braindump author" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" CPU_FLAGS_X86="3dnow 3dnowext mmx mmxext popcnt sse sse2 sse3 sse4a" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock isync itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf skytraq superstar2 timing tsip tripmate tnt ublox ubx" INPUT_DEVICES="evdev" KERNEL="linux" L10N="ru en" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LIBREOFFICE_EXTENSIONS="presenter-console presenter-minimizer" LINGUAS="ru en" OFFICE_IMPLEMENTATION="libreoffice" PHP_TARGETS="php5-6" POSTGRES_TARGETS="postgres9_5" PYTHON_SINGLE_TARGET="python3_4" PYTHON_TARGETS="python2_7 python3_4" RUBY_TARGETS="ruby22" USERLAND="GNU" VIDEO_CARDS="nvidia vesa" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account"
Unset:  CC, CPPFLAGS, CTARGET, CXX, INSTALL_MASK, LC_ALL, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


globus





          2017-11-16 09:45:54 UTC
        

Created attachment 504492 [details]
pcb.bug.bz2




Comment 2


Jonas Stein






          2017-11-18 13:26:34 UTC
        

For the other readers: The attachments cvpcb.bug.bz2 and pcb.bug.bz2 are a backtrace.

I have never seen this problem here. Can you describe a precise procedure how to trigger this bug? Could you also attach a build.log in the meantime? Perhaps we can see a hint there. Best, JS




Comment 3


globus





          2017-11-18 17:57:59 UTC
        

I run the Manager kicad, eeschema from it. Make the scheme, annotinous components, everything is fine.
Run cvpcb, assign case, some time later cvpcb && eeschema && kicad crash. If you have time to assign case and go to pcbnew, after a short time, all too crash.
[cvpcb|pcb].bug - from .xsession-errors
kicad compiles without errors, where would I get build.log?




Comment 4


Jonas Stein






          2017-11-18 18:04:49 UTC
        

about the log:
https://wiki.gentoo.org/wiki/Bugzilla/Bug_report_guide#Packages.2Febuild

I will try to reproduce it.




Comment 5


Jonas Stein






          2017-11-18 18:11:53 UTC
        

could not crash it here. Perhaps you find more hints also on IRC freenode #kicad to locate the problem.
Can you attach an example file, which can trigger the crash after one special action or something like that?




Comment 6


globus





          2017-11-18 18:33:38 UTC
        

[I] sci-electronics/kicad
     Available versions:  4.0.4 ~4.0.5-r1 ~4.0.6 {debug doc examples github i18n libressl minimal +python L10N="bg ca cs de el es fi fr hu it ja ko nl pl pt ru sk sl sv zh-CN" LINGUAS="bg ca cs de el es fi fr hu it ja ko nl pl pt ru sk sl sv zh_CN" PYTHON_TARGETS="python2_7"}
     Installed versions:  4.0.4(01:29:44 16.11.2017)(doc github i18n -debug -examples -libressl -minimal -python LINGUAS="ru -bg -ca -cs -de -el -es -fi -fr -hu -it -ja -ko -nl -pl -pt -sk -sl -sv -zh_CN" PYTHON_TARGETS="python2_7")

4.0.6 as well.

========

 # emerge -pv kicad

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild   R    ] sci-electronics/kicad-4.0.4::gentoo  USE="doc github i18n -debug -examples -libressl -minimal -python" LINGUAS="ru -bg -ca -cs -de -el -es -fi -fr -hu -it -ja -ko -nl -pl -pt -sk -sl -sv -zh_CN" PYTHON_TARGETS="python2_7" 0 KiB

Total: 1 package (1 reinstall), Size of downloads: 0 KiB




Comment 7


globus





          2017-11-18 18:40:58 UTC
        

Created attachment 504658 [details]
example-crash

Crashes have not yet been established .kicad_pcb




Comment 8


Zoltan Puskas





          2017-11-20 06:35:13 UTC
        

I cannot crash it either, nor with a new project, nor with the attached example.




Comment 9


Jonas Stein






          2017-11-20 11:20:48 UTC
        

could you retry with the new 4.0.7? 
Also it could be that one of the dependent libs is broken on your system and needs to be rebuilt.




Comment 10


globus





          2017-11-21 10:06:36 UTC
        

After updating the system (including glibc etc), and rebuilding has ceased to fall.




Comment 11


Jonas Stein






          2017-11-21 16:11:00 UTC
        

thank you for your feedback









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

