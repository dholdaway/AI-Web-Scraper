Title: 162564 – sys-libs/db-4.3.29-r2 doesn't compile on uclibc (missing rpcgen)
URL: https://bugs.gentoo.org/show_bug.cgi?id=162564

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 162564
sys-libs/db-4.3.29-r2 doesn't compile on uclibc (missing rpcgen)
Last modified: 2007-06-23 08:43:32 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 162564 
      - sys-libs/db-4.3.29-r2 doesn't compile on uclibc (missing rpcgen)


Summary:
sys-libs/db-4.3.29-r2 doesn't compile on uclibc (missing rpcgen)
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Embedded Gentoo Team








URL:







Whiteboard:




Keywords:









Duplicates (1):
    

177612

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2007-01-17 19:06 UTC by Peter Alfredsen (RETIRED)





      Modified:
    
2007-06-23 08:43 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



napalmllama









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




/var/tmp/portage/sys-libs/db-4.3.29-r2/temp/build.log

              (build.log,3.93 KB,
                text/plain)

            
2007-01-17 19:09 UTC,

            Peter Alfredsen (RETIRED)




Details





emerge --info

              (eminf,2.94 KB,
                text/plain)

            
2007-01-17 19:11 UTC,

            Peter Alfredsen (RETIRED)




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Peter Alfredsen (RETIRED)






          2007-01-17 19:06:38 UTC
        

I'm in a uClibc-chroot. While doing my first emerge -e world, sys-libs/db gave me this. I just had to disable my berkdb use flag, but still, sys-libs/db should depend on glibc (which provides rpcgen):
checking for i686-gentoo-linux-uclibc-ranlib... i686-gentoo-linux-uclibc-ranlib
checking for i686-gentoo-linux-uclibc-ranlib... /usr/bin/i686-gentoo-linux-uclibc-ranlib
checking for i686-gentoo-linux-uclibc-rm... no
checking for rm... rm
checking for i686-gentoo-linux-uclibc-rpcgen... no
checking for rpcgen... missing_rpcgen
configure: error: No rpcgen utility found.

!!! ERROR: sys-libs/db-4.3.29-r2 failed.
Call stack:
  ebuild.sh, line 1618:   Called dyn_compile
  ebuild.sh, line 975:   Called qa_call 'src_compile'
  environment, line 4649:   Called src_compile
  db-4.3.29-r2.ebuild, line 109:   Called die

!!! configure failed
!!! If you need support, post the topmost build error, and the call stack if relevant.
!!! A complete build log is located at '/var/tmp/portage/sys-libs/db-4.3.29-r2/temp/build.log'.

!!! When you file a bug report, please include the following information:
GENTOO_VM=  CLASSPATH="." JAVA_HOME="/etc/java-config-2/current-system-vm"
JAVACFLAGS="" COMPILER=""
and of course, the output of emerge --info


Reproducible: Always




Comment 1


Peter Alfredsen (RETIRED)






          2007-01-17 19:09:01 UTC
        

Created attachment 107283 [details]
/var/tmp/portage/sys-libs/db-4.3.29-r2/temp/build.log




Comment 2


Peter Alfredsen (RETIRED)






          2007-01-17 19:11:26 UTC
        

Created attachment 107285 [details]
emerge --info




Comment 3


SpanKY






          2007-01-17 19:52:30 UTC
        

for now, install nfs-utils




Comment 4


Natanael Copa





          2007-04-13 08:37:38 UTC
        

I have the same problem and I can't install (upgrade) nfs-utils until uclibc-0.9.29 is available. See https://bugs.gentoo.org/show_bug.cgi?id=169907

Now, I need sys-lib/db for the security upgrade of freeradius... :-(






Comment 5


SpanKY






          2007-04-13 09:14:56 UTC
        

you can copy rpcgen manually out of the builddir ...




Comment 6


Jakub Moc (RETIRED)






          2007-05-08 11:54:16 UTC
        

*** Bug 177612 has been marked as a duplicate of this bug. ***




Comment 7


Tom Lloyd





          2007-05-29 22:34:01 UTC
        

I've discovered a temporary workaround for this bug, which is to downgrade to sys-libs/db-4.2.52_p2-r1 - it seems to build without any complaints on my system.  I guess the rpcgen dependency was only introduced in a more recent version...




Comment 8


Natanael Copa





          2007-06-23 08:43:32 UTC
        

(In reply to comment #5)
> you can copy rpcgen manually out of the builddir ...
> 

nfs-utils's generates bad output. For example <sys/ioctl.h> is not included even if it should be. See #174393

openrpcgen works. See #182956










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

