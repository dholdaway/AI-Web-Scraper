Title: 203061 – net-im/gajim - Tray icon on GNOME not transparent
URL: https://bugs.gentoo.org/show_bug.cgi?id=203061

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 203061
net-im/gajim - Tray icon on GNOME not transparent
Last modified: 2008-10-20 08:13:16 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 203061 
      - net-im/gajim - Tray icon on GNOME not transparent


Summary:
net-im/gajim - Tray icon on GNOME not transparent
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       trivial
      


Assignee:

Peter Weller (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:




210720



Blocks:







 

        Show dependency tree





 





      Reported:
    
2007-12-22 19:31 UTC by Marek Kubica





      Modified:
    
2008-10-20 08:13 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



net-im









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Screenshot to show the Problem.

              (screenshot.png,80.49 KB,
                image/png)

            
2008-02-19 16:32 UTC,

            Christian Häßler




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Marek Kubica





          2007-12-22 19:31:18 UTC
        

Hi,

Recently, I set my GNOME panel to be transparent. Now, all status icons (in the notification area) also have a transparent background (XChat of example), except for Gajim which uses the system default background color and looks out-of-place.

I am using Gajim 0.11.1 from the stable tree, but the problem seems to be the same when using the upstream 0.11.1 or 0.11.4. I asked some Ubuntu people, and they don't have this problem. Using Gajim built from the Ubuntu source did not help either.

Reproducible: Always

Steps to Reproduce:
1. Set GNOME panel to be transparent
2. Start Gajim
Actual Results:  
The Gajim tray icon has a non-transparent background

Expected Results:  
Transparent background of the Gajim tray icon




Comment 1


Christian Häßler





          2008-02-19 16:32:18 UTC
        

Created attachment 143987 [details]
Screenshot to show the Problem.




Comment 2


Christian Häßler





          2008-02-19 16:32:58 UTC
        

Comment on attachment 143987 [details]
Screenshot to show the Problem.

I can't solve this Problem but i think to know where the Problem is.

The Icon has as Background Color the Color of the Panel this is the description of Gnome-Color-Chooser i have installed. The Panel itself has another background-color (thisone you can change in the Panel options menue). I have made an Screenshot which should show the difference (no this color's are not my default!!!)

If you use something like compiz or beryl you would not see this i think. This is the reason i don't saw is in my old ~86 Gentoo with compiz-fusion.




Comment 3


Marek Kubica





          2008-02-19 17:09:13 UTC
        

I looked into this problem. The problem is caused by ``/usr/share/gajim/src/systray.py``. It imports one of these modules: ``egg.trayicon`` (preferably) which is part of gnome-python-extras or ``trayicon`` which is part of Gajim. Now, you can either change this file and change ``egg.trayicon`` to ``egg.trayicon_``, which causes the import to fail, so Gajim uses it's own module which does work.

Then, I tried unmasking gnome-python-extras-2.19.1-r1, and ``egg.trayicon`` was working. I wanted to see for a patch, as 2.19 seems to be a development version. The Gentoo tree contains 2.14.2, but the GNOME FTP server does have 2.14.3 available. Now that is the exact version this bug was fixed: <http://ftp.gnome.org/pub/GNOME/sources/gnome-python-extras/2.14/gnome-python-extras-2.14.3.news>

I'll file a bug to update and stabilize the gnome-python-extras 2.14.3 ebuild.




Comment 4


Peter Weller (RETIRED)






          2008-10-20 08:13:16 UTC
        

Old, and apparently not a Gajim problem? Feel free to re-open if you believe that this is still an issue!









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

