Title: 142023 – x11-libs/fox depends on xft
URL: https://bugs.gentoo.org/show_bug.cgi?id=142023

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 142023
x11-libs/fox depends on xft
Last modified: 2006-08-24 01:36:58 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 142023 
      - x11-libs/fox depends on xft


Summary:
x11-libs/fox depends on xft
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

No maintainer - Look at https://wiki.gentoo.org/wiki/Project:Proxy_Maintainers if you want to take care of it








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-07-28 12:07 UTC by Rabbe Fogelholm





      Modified:
    
2006-08-24 01:36 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



dberkholz









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Rabbe Fogelholm





          2006-07-28 12:07:31 UTC
        

I am wondering if maybe x11-libs/fox ought to specify another dependency. This is how I stumbled over it: I needed to build fox-1.4.11 with gcc-3.*, since there are problems when building it with gcc-4.* (see http://bugs.gentoo.org/show_bug.cgi?id=102606).

So, what I did was to start a chrooted shell, download the 2006.0 stage3 tarball and the 20060123 portage snapshot. Then I did roughly

    emerge --sync (today is 2006-07-28)
    emerge portage
    etc-update
    emerge --deep fox

just to find that the very final emerge of fox fails due to Xft missing. By doing an explicit `emerge xft' the required library is pulled in and fox can then be successfully emerged.

I should mention that I had ACCEPT_KEYWORDS="~x86" in /etc/make.conf all along the way.

I had these packages masked to avoid getting modular X,

    >=x11-base/xorg-x11-7.0
    >=virtual/x11-7.0

and these ones as a workaround against a text rendering problem with non-antialiased fonts (probably not significant to this bug)

    >=x11-libs/cairo-1.2.0
    >=dev-python/pycairo-1.2.0

and my `emerge --info' is:

Gentoo Base System version 1.6.14
Portage 2.1.1_pre3-r5 (default-linux/x86/2006.0, gcc-3.4.4, glibc-2.3.5-r2, 2.6.17-gentoo-r3 i686)
=================================================================
System uname: 2.6.17-gentoo-r3 i686 Pentium III (Coppermine)
app-admin/eselect-compiler: [Not Present]
dev-lang/python:     2.4.2
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.17
sys-devel/gcc-config: 1.3.12-r6
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=i686 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.3/env /usr/kde/3.3/share/config /usr/kde/3.3/shutdown /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/lib/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/gconf /etc/terminfo"
CXXFLAGS="-O2 -march=i686 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X acpi alsa apache2 arts avi berkdb bitmap-fonts cli crypt cups dlloader doc dri eds emacs emboss encode esd examples foomaticdb fortran gd gdbm ggi gif glut gnome gpm gstreamer gtk gtk2 imlib isdnlog java jpeg kde libg++ libwww mad mikmod mmx motif mp3 mpeg ncurses nls nptl nptlonly ogg opengl oss pam pcre pdf pdflib perl plotutils png pppd python qt qt3 qt4 quicktime readline real reflection sdl session source spell spl ssl svga tcltk tcpd truetype truetype-fonts type1-fonts udev vorbis win32codecs xml xmms xorg xv zlib elibc_glibc input_devices_keyboard input_devices_mouse input_devices_evdev kernel_linux userland_GNU video_cards_i810"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGUAS, MAKEOPTS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY




Comment 1


Donnie Berkholz (RETIRED)






          2006-08-22 17:47:24 UTC
        

This seems bogus, xorg 6.x provides libXft.




Comment 2


Rabbe Fogelholm





          2006-08-24 01:27:26 UTC
        

I re-did "emerge fox" in another fresh chrooted stage3 environment on another (faster) machine, and I simply can't reproduce the problem. I have no clue as to why I did see the problem the other day, but most likely it is because of some mistake I made then.

Sorry to have taken your time.




Comment 3


Jakub Moc (RETIRED)






          2006-08-24 01:36:58 UTC
        

OK, thanks for reporting back. Closing this as it can't be reproduced, feel free to reopen if you figure out the issue.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

