Title: 804318 – net-im/teams: depends on <ffmpeg-4.3, blocks security cleanup
URL: https://bugs.gentoo.org/show_bug.cgi?id=804318

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 804318
net-im/teams: depends on <ffmpeg-4.3, blocks security cleanup
Last modified: 2022-10-10 15:37:34 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 804318 
      - net-im/teams: depends on <ffmpeg-4.3, blocks security cleanup


Summary:
net-im/teams: depends on <ffmpeg-4.3, blocks security cleanup
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Stephan Hartmann (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2021-07-26 03:22 UTC by John Helmert III





      Modified:
    
2022-10-10 15:37 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



gentoo
paolo.pedroni









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


John Helmert III









          2021-07-26 03:22:29 UTC
        

We may not be able to do anything here (I'm not familiar with Teams), but good to have a bug for tracking purposes anyway.




Comment 1


Geoff Leach





          2021-10-11 03:33:40 UTC
        

FWIW I've been using teams 13653 and just now 26453 +system-ffmpeg with ffmpeg-4.4-r1[chromium] and works for me.




Comment 2


Joakim Tjernlund





          2021-10-11 09:04:59 UTC
        

(In reply to Geoff Leach from comment #1)
> FWIW I've been using teams 13653 and just now 26453 +system-ffmpeg with
> ffmpeg-4.4-r1[chromium] and works for me.

Nice, that would mean that the need for this ffmpeg patch is gone:
--- ./libavutil/mem.c.org	2020-10-07 19:22:30.286728200 +0200
+++ ./libavutil/mem.c	2020-10-07 19:24:04.039885660 +0200
@@ -71,6 +71,8 @@
 static size_t max_alloc_size= INT_MAX;
 
 void av_max_alloc(size_t max){
+    if (!max)
+        max = INT_MAX; /* be compatible to older < 4.3 versions */
     max_alloc_size = max;
 }

which our Teams has been using for a long time now(and +system-ffmpeg)




Comment 3


Paolo Pedroni





          2022-04-20 10:57:49 UTC
        

teams-1.5.00.10453[system-ffmpeg] with ffmpeg-4.4.1-r5 and the above patch works fine for me.




Comment 4


Geoff Leach





          2022-06-27 02:25:52 UTC
        

teams-1.5.00.10453[swiftshader system-ffmpeg] and ffmpeg-4.4.2 works for me, albeit limited testing, watching a seminar, so only down no up. Based on [seden] ebuild. nvidia-drivers-515.48.07. The ffmpeg patch is gone, not mentioned in the ebuild.




Comment 5


John Helmert III









          2022-10-10 15:37:34 UTC
        

Sam's given us a newer <ffmpeg-4.3 that should fix the security bugs this previously blocked!

commit 31baf58256ca04e305510ce86df9f6d83948f853
Author: Sam James <sam@gentoo.org>
Date:   Sat Sep 3 06:24:50 2022 +0100

    media-video/ffmpeg: add 4.2.7

    Fixes a bunch of CVEs that we've had fixed in newer versions
    for a while, but until we can clean up 4.2.x, we may as well
    bump to the latest in that series...

    Bug: https://bugs.gentoo.org/842267
    Bug: https://bugs.gentoo.org/795696
    Bug: https://bugs.gentoo.org/781146
    Signed-off-by: Sam James <sam@gentoo.org>









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

