Title: 364329 – dev-python/mako-0.4.1 Version bump
URL: https://bugs.gentoo.org/show_bug.cgi?id=364329

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 364329
dev-python/mako-0.4.1 Version bump
Last modified: 2011-04-21 15:43:24 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 364329 
      - dev-python/mako-0.4.1 Version bump


Summary:
dev-python/mako-0.4.1 Version bump
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       enhancement
      


Assignee:

Python Gentoo Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2011-04-21 08:54 UTC by Johan Bergström





      Modified:
    
2011-04-21 15:43 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Johan Bergström





          2011-04-21 08:54:57 UTC
        

A simple version bump worked for me. Tests pass @ 2.4,2.5,2.6,2.7 for me, but fails at 3.1 (money quote below) - so I'm not sure about the status of bug 312405 which has some whole other ordeal going on. Perhaps Diego can run tests once 0.4.1 hits the tree. I'll talk to upstream regarding the test fail.

 * Testing of dev-python/mako-0.4.1 with CPython 3.1...
PYTHONPATH=build/lib nosetests --verbosity=1 -P -w test
.................S.......................................Traceback (most recent call last):
  File "/usr/lib64/python3.1/site-packages/beaker/cache.py", line 204, in _get_cache
    return cache_managers[key]
KeyError: "test{'type': 'dbm', 'data_dir': '/var/tmp/portage/dev-python/mako-0.4.1/work/Mako-0.4.1-3.1/test/templates/modules'}"

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib64/python3.1/unittest.py", line 480, in run
    testMethod()
  File "/var/tmp/portage/dev-python/mako-0.4.1/work/Mako-0.4.1-3.1/test/test_cache.py", line 198, in test_fileargs_implicit
    assert result_lines(l.get_template('test').render()) == [
  File "/usr/lib64/python3.1/site-packages/mako/template.py", line 296, in render
    return runtime._render(self, self.callable_, args, data)
  File "/usr/lib64/python3.1/site-packages/mako/runtime.py", line 661, in _render
    **_kwargs_for_callable(callable_, data))
  File "/usr/lib64/python3.1/site-packages/mako/runtime.py", line 693, in _render_context
    _exec_template(inherit, lclcontext, args=args, kwargs=kwargs)
  File "/usr/lib64/python3.1/site-packages/mako/runtime.py", line 719, in _exec_template
    callable_(context, *args, **kwargs)
  File "test", line 33, in render_body

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib64/python3.1/site-packages/nose/case.py", line 134, in run
    self.runTest(result)
  File "/usr/lib64/python3.1/site-packages/nose/case.py", line 152, in runTest
    test(result)
  File "/usr/lib64/python3.1/unittest.py", line 526, in __call__
    return self.run(*args, **kwds)
  File "/usr/lib64/python3.1/unittest.py", line 490, in run
    result.addError(self, sys.exc_info())
  File "/usr/lib64/python3.1/site-packages/nose/proxy.py", line 125, in addError
    self.result.addError(self.test, err)
  File "/usr/lib64/python3.1/site-packages/nose/result.py", line 61, in addError
    exc_info = self._exc_info_to_string(err, test)
  File "/usr/lib64/python3.1/site-packages/nose/result.py", line 187, in _exc_info_to_string
    return _TextTestResult._exc_info_to_string(self, err, test)
  File "/usr/lib64/python3.1/unittest.py", line 239, in _exc_info_to_string
    return ''.join(traceback.format_exception(exctype, value, tb))
  File "/usr/lib64/python3.1/traceback.py", line 186, in format_exception
    list.extend(format_tb(tb, limit))
  File "/usr/lib64/python3.1/traceback.py", line 75, in format_tb
    return format_list(extract_tb(tb, limit))
  File "/usr/lib64/python3.1/traceback.py", line 100, in extract_tb
    line = linecache.getline(filename, lineno, f.f_globals)
  File "/usr/lib64/python3.1/linecache.py", line 15, in getline
    lines = getlines(filename, module_globals)
  File "/usr/lib64/python3.1/linecache.py", line 41, in getlines
    return updatecache(filename, module_globals)
  File "/usr/lib64/python3.1/linecache.py", line 129, in updatecache
    lines = fp.readlines()
  File "/usr/lib64/python3.1/codecs.py", line 300, in decode
    (result, consumed) = self._buffer_decode(data, self.errors, final)
UnicodeDecodeError: 'utf8' codec can't decode byte 0xb4 in position 208: invalid start byte

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/bin/nosetests-3.1", line 9, in <module>
    load_entry_point('nose==1.0.0', 'console_scripts', 'nosetests')()
  File "/usr/lib64/python3.1/site-packages/nose/core.py", line 118, in __init__
    **extra_args)
  File "/usr/lib64/python3.1/unittest.py", line 1566, in __init__
    self.runTests()
  File "/usr/lib64/python3.1/site-packages/nose/core.py", line 197, in runTests
    result = self.testRunner.run(self.test)
  File "/usr/lib64/python3.1/site-packages/nose/core.py", line 61, in run
    test(result)
  File "/usr/lib64/python3.1/site-packages/nose/suite.py", line 177, in __call__
    return self.run(*arg, **kw)
  File "/usr/lib64/python3.1/site-packages/nose/suite.py", line 224, in run
    test(orig)
  File "/usr/lib64/python3.1/site-packages/nose/suite.py", line 177, in __call__
    return self.run(*arg, **kw)
  File "/usr/lib64/python3.1/site-packages/nose/suite.py", line 224, in run
    test(orig)
  File "/usr/lib64/python3.1/site-packages/nose/suite.py", line 177, in __call__
    return self.run(*arg, **kw)
  File "/usr/lib64/python3.1/site-packages/nose/suite.py", line 224, in run
    test(orig)
  File "/usr/lib64/python3.1/site-packages/nose/suite.py", line 177, in __call__
    return self.run(*arg, **kw)
  File "/usr/lib64/python3.1/site-packages/nose/suite.py", line 224, in run
    test(orig)
  File "/usr/lib64/python3.1/site-packages/nose/case.py", line 46, in __call__
    return self.run(*arg, **kwarg)
  File "/usr/lib64/python3.1/site-packages/nose/case.py", line 139, in run
    result.addError(self, err)
  File "/usr/lib64/python3.1/site-packages/nose/proxy.py", line 125, in addError
    self.result.addError(self.test, err)
  File "/usr/lib64/python3.1/site-packages/nose/result.py", line 61, in addError
    exc_info = self._exc_info_to_string(err, test)
  File "/usr/lib64/python3.1/site-packages/nose/result.py", line 187, in _exc_info_to_string
    return _TextTestResult._exc_info_to_string(self, err, test)
  File "/usr/lib64/python3.1/unittest.py", line 239, in _exc_info_to_string
    return ''.join(traceback.format_exception(exctype, value, tb))
  File "/usr/lib64/python3.1/traceback.py", line 186, in format_exception
    list.extend(format_tb(tb, limit))
  File "/usr/lib64/python3.1/traceback.py", line 75, in format_tb
    return format_list(extract_tb(tb, limit))
  File "/usr/lib64/python3.1/traceback.py", line 100, in extract_tb
    line = linecache.getline(filename, lineno, f.f_globals)
  File "/usr/lib64/python3.1/linecache.py", line 15, in getline
    lines = getlines(filename, module_globals)
  File "/usr/lib64/python3.1/linecache.py", line 41, in getlines
    return updatecache(filename, module_globals)
  File "/usr/lib64/python3.1/linecache.py", line 129, in updatecache
    lines = fp.readlines()
  File "/usr/lib64/python3.1/codecs.py", line 300, in decode
    (result, consumed) = self._buffer_decode(data, self.errors, final)
UnicodeDecodeError: 'utf8' codec can't decode byte 0xb4 in position 208: invalid start byte




Comment 1


Arfrever Frehtes Taifersar Arahesis (RETIRED)






          2011-04-21 15:43:24 UTC
        

It has been in the tree for over 2 days.
http://sources.gentoo.org/cgi-bin/viewvc.cgi/gentoo-x86/dev-python/mako/mako-0.4.1.ebuild?view=log









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

