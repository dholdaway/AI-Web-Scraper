Title: 119393 – Who doesn't work
URL: https://bugs.gentoo.org/show_bug.cgi?id=119393

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 119393
Who doesn't work
Last modified: 2006-02-25 13:14:36 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 119393 
      - Who doesn't work


Summary:
Who doesn't work
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Core system

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo's Team for Core System packages








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-01-18 01:29 UTC by Bernhard





      Modified:
    
2006-02-25 13:14 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge --info

              (emerge_info,2.68 KB,
                text/plain)

            
2006-01-18 07:04 UTC,

            Bernhard




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Bernhard





          2006-01-18 01:29:30 UTC
        

The list of logged on users returned by the who command is incomplete. It returns only the current user:

currentuser :0           Jan 11 09:41
currentuser pts/0        Jan 11 09:46 (:0.0)

Other users logged in via ssh do not show




Comment 1


Bernhard





          2006-01-18 02:00:05 UTC
        

Actually it is the user currently logged in locally (under gnome) who shows up, even for other users logged in via ssh.




Comment 2


SpanKY






          2006-01-18 06:35:41 UTC
        

make sure your /var/run/utmp file isnt incomplete

utmpdump /var/run/utmp

also, you neglected to post `emerge info`




Comment 3


Bernhard





          2006-01-18 07:04:04 UTC
        

Created attachment 77424 [details]
emerge --info




Comment 4


Bernhard





          2006-01-18 07:04:28 UTC
        

OK. Here are the last lines of the output "from utmpdump /var/run/utmp". I notice that the dates are well before the last logins via ssh. Also strange seems to me the fact that no username is given for lines where and ip number is given...

[8] [00000] [/2  ] [        ] [pts/2       ] [                    ] [0.0.0.0        ] [Tue Jan 10 11:19:49 2006 CET]
[8] [00000] [/3  ] [        ] [pts/3       ] [                    ] [0.0.0.0        ] [Mon Jan 09 11:34:23 2006 CET]
[8] [05834] [ts/3] [        ] [pts/3       ] [                    ] [129.194.71.170 ] [Mon Jan 09 12:53:30 2006 CET]
[8] [31266] [ts/0] [        ] [pts/0       ] [                    ] [212.254.141.133] [Wed Jan 11 09:14:19 2006 CET]




Comment 5


OKUMURA N. Shin-ya





          2006-02-19 02:16:38 UTC
        

I met similar problems with coreutils-5.93 or 5.94, but not with coreutils-5.3.0-r2.





Comment 6


Bernhard





          2006-02-21 07:17:54 UTC
        

I updated my kernel and the problem seems to have gone away.




Comment 7


SpanKY






          2006-02-21 16:08:36 UTC
        

k




Comment 8


OKUMURA N. Shin-ya





          2006-02-25 13:14:36 UTC
        

I also updated kernel from 2.6.15-gentoo-r2 to 2.6.15-gentoo-r5, and then the problem seemed be solved.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

