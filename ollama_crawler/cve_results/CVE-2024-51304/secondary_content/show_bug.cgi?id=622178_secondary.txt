Title: 622178 – =sci-mathematics/rstudio-1.0.143 emerge fails....
URL: https://bugs.gentoo.org/show_bug.cgi?id=622178

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 622178
=sci-mathematics/rstudio-1.0.143 emerge fails....
Last modified: 2017-06-20 07:52:39 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 622178 
      - =sci-mathematics/rstudio-1.0.143 emerge fails....


Summary:
=sci-mathematics/rstudio-1.0.143 emerge fails....
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Mark Wright








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2017-06-18 21:49 UTC by Neil





      Modified:
    
2017-06-20 07:52 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



jstein









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge --info =rstudio-1.0.43

              (rstudio.info,17.22 KB,
                application/x-info)

            
2017-06-18 21:49 UTC,

            Neil




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Neil





          2017-06-18 21:49:54 UTC
        

Created attachment 477192 [details]
emerge --info =rstudio-1.0.43

Emergeing on ~amd64 fails with...

[ 58%] Building CXX object src/cpp/desktop/CMakeFiles/rstudio.dir/qrc_desktop.cpp.o
cd /var/tmp/portage/sci-mathematics/rstudio-1.0.143/work/rstudio-1.0.143_build/src/cpp/desktop && /usr/bin/x86_64-pc-linux-gnu-g++ -DBOOST_ASIO_DISABLE_KQUEUE -DBOOST_ENABLE_ASSERT_HANDLER -DQT_CORE_LIB -DQT_DBUS_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_NO_CAST_FROM_ASCII -DQT_NO_CAST_TO_ASCII -DQT_NO_DEBUG -DQT_OPENGL_LIB -DQT_POSITIONING_LIB -DQT_PRINTSUPPORT_LIB -DQT_QML_LIB -DQT_QUICK_LIB -DQT_SENSORS_LIB -DQT_SQL_LIB -DQT_SVG_LIB -DQT_WEBKITWIDGETS_LIB -DQT_WEBKIT_LIB -DQT_WIDGETS_LIB -DQT_XMLPATTERNS_LIB -DQT_XML_LIB -D_FORTIFY_SOURCE=2 -I/var/tmp/portage/sci-mathematics/rstudio-1.0.143/work/rstudio-1.0.143_build/src/cpp/desktop -I/var/tmp/portage/sci-mathematics/rstudio-1.0.143/work/rstudio-1.0.143/src/cpp/desktop -I/var/tmp/portage/sci-mathematics/rstudio-1.0.143/work/rstudio-1.0.143/src/cpp/desktop/include -I/var/tmp/portage/sci-mathematics/rstudio-1.0.143/work/rstudio-1.0.143/src/cpp/core/include -I/usr/include/qt5/QtSolutions -I/var/tmp/portage/sci-mathematics/rstudio-1.0.143/work/rstudio-1.0.143/src/cpp/tests/cpp -isystem /usr/include/qt5 -isystem /usr/include/qt5/QtCore -isystem /usr/lib64/qt5/mkspecs/linux-g++ -isystem /usr/include/qt5/QtWidgets -isystem /usr/include/qt5/QtGui -isystem /usr/include/qt5/QtNetwork -isystem /usr/include/qt5/QtWebKit -isystem /usr/include/qt5/QtWebKitWidgets -isystem /usr/include/qt5/QtPrintSupport -isystem /usr/include/qt5/QtQuick -isystem /usr/include/qt5/QtQml -isystem /usr/include/qt5/QtPositioning -isystem /usr/include/qt5/QtSensors -isystem /usr/include/qt5/QtSvg -isystem /usr/include/qt5/QtXml -isystem /usr/include/qt5/QtXmlPatterns -isystem /usr/include/qt5/QtSql -isystem /usr/include/qt5/QtOpenGL -isystem /usr/include/qt5/QtDBus   -DNDEBUG -O2 -march=native -pipe   -Wall -pthread -Wformat -Wformat-security -fstack-protector --param ssp-buffer-size=4 -pie -fPIE -fPIC -std=gnu++11 -o CMakeFiles/rstudio.dir/qrc_desktop.cpp.o -c /var/tmp/portage/sci-mathematics/rstudio-1.0.143/work/rstudio-1.0.143_build/src/cpp/desktop/qrc_desktop.cpp
<command-line>:0:0: warning: "_FORTIFY_SOURCE" redefined
<built-in>: note: this is the location of the previous definition
[ 58%] Linking CXX executable rstudio
cd /var/tmp/portage/sci-mathematics/rstudio-1.0.143/work/rstudio-1.0.143_build/src/cpp/desktop && /usr/bin/cmake -E cmake_link_script CMakeFiles/rstudio.dir/link.txt --verbose=1
/usr/bin/x86_64-pc-linux-gnu-g++  -O2 -march=native -pipe  -Wl,-z,relro,-z,now -Wl,-O1 -Wl,--as-needed -rdynamic CMakeFiles/rstudio.dir/DesktopAboutDialog.cpp.o CMakeFiles/rstudio.dir/DesktopBrowserWindow.cpp.o CMakeFiles/rstudio.dir/DesktopCommandInvoker.cpp.o CMakeFiles/rstudio.dir/DesktopDataUriNetworkReply.cpp.o CMakeFiles/rstudio.dir/DesktopDownloadHelper.cpp.o CMakeFiles/rstudio.dir/DesktopGwtCallback.cpp.o CMakeFiles/rstudio.dir/DesktopGwtWindow.cpp.o CMakeFiles/rstudio.dir/DesktopInputDialog.cpp.o CMakeFiles/rstudio.dir/DesktopMain.cpp.o CMakeFiles/rstudio.dir/DesktopMainWindow.cpp.o CMakeFiles/rstudio.dir/DesktopMenuCallback.cpp.o CMakeFiles/rstudio.dir/DesktopNetworkIOService.cpp.o CMakeFiles/rstudio.dir/DesktopNetworkReply.cpp.o CMakeFiles/rstudio.dir/DesktopNetworkProxyFactory.cpp.o CMakeFiles/rstudio.dir/DesktopOptions.cpp.o CMakeFiles/rstudio.dir/DesktopURLDownloader.cpp.o CMakeFiles/rstudio.dir/DesktopUtils.cpp.o CMakeFiles/rstudio.dir/DesktopWebPage.cpp.o CMakeFiles/rstudio.dir/DesktopWebView.cpp.o CMakeFiles/rstudio.dir/DesktopWindowTracker.cpp.o CMakeFiles/rstudio.dir/DesktopSatelliteWindow.cpp.o CMakeFiles/rstudio.dir/DesktopSecondaryWindow.cpp.o CMakeFiles/rstudio.dir/DesktopSessionLauncher.cpp.o CMakeFiles/rstudio.dir/DesktopSlotBinders.cpp.o CMakeFiles/rstudio.dir/DesktopSubMenu.cpp.o CMakeFiles/rstudio.dir/DesktopSynctex.cpp.o CMakeFiles/rstudio.dir/DesktopNetworkAccessManager.cpp.o CMakeFiles/rstudio.dir/DesktopPosixApplication.cpp.o CMakeFiles/rstudio.dir/DesktopPosixApplicationLaunch.cpp.o CMakeFiles/rstudio.dir/DesktopPosixDetectRHome.cpp.o CMakeFiles/rstudio.dir/synctex/evince/EvinceDaemon.cpp.o CMakeFiles/rstudio.dir/synctex/evince/EvinceSynctex.cpp.o CMakeFiles/rstudio.dir/synctex/evince/EvinceWindow.cpp.o CMakeFiles/rstudio.dir/moc_DesktopAboutDialog.cpp.o CMakeFiles/rstudio.dir/moc_DesktopApplicationLaunch.cpp.o CMakeFiles/rstudio.dir/moc_DesktopBrowserWindow.cpp.o CMakeFiles/rstudio.dir/moc_DesktopCommandInvoker.cpp.o CMakeFiles/rstudio.dir/moc_DesktopDataUriNetworkReply.cpp.o CMakeFiles/rstudio.dir/moc_DesktopDownloadHelper.cpp.o CMakeFiles/rstudio.dir/moc_DesktopGwtCallback.cpp.o CMakeFiles/rstudio.dir/moc_DesktopGwtWindow.cpp.o CMakeFiles/rstudio.dir/moc_DesktopInputDialog.cpp.o CMakeFiles/rstudio.dir/moc_DesktopMainWindow.cpp.o CMakeFiles/rstudio.dir/moc_DesktopMenuCallback.cpp.o CMakeFiles/rstudio.dir/moc_DesktopNetworkAccessManager.cpp.o CMakeFiles/rstudio.dir/moc_DesktopNetworkReply.cpp.o CMakeFiles/rstudio.dir/moc_DesktopPosixApplication.cpp.o CMakeFiles/rstudio.dir/moc_DesktopSatelliteWindow.cpp.o CMakeFiles/rstudio.dir/moc_DesktopSecondaryWindow.cpp.o CMakeFiles/rstudio.dir/moc_DesktopSessionLauncher.cpp.o CMakeFiles/rstudio.dir/moc_DesktopSlotBinders.cpp.o CMakeFiles/rstudio.dir/moc_DesktopSubMenu.cpp.o CMakeFiles/rstudio.dir/moc_DesktopSynctex.cpp.o CMakeFiles/rstudio.dir/moc_DesktopURLDownloader.cpp.o CMakeFiles/rstudio.dir/moc_DesktopWebPage.cpp.o CMakeFiles/rstudio.dir/moc_DesktopWebView.cpp.o CMakeFiles/rstudio.dir/moc_DesktopWindowTracker.cpp.o CMakeFiles/rstudio.dir/qt-patch/mac-colorspace/moc_qpaintengine_mac_p.cpp.o CMakeFiles/rstudio.dir/synctex/evince/moc_EvinceDaemon.cpp.o CMakeFiles/rstudio.dir/synctex/evince/moc_EvinceSynctex.cpp.o CMakeFiles/rstudio.dir/synctex/evince/moc_EvinceWindow.cpp.o CMakeFiles/rstudio.dir/qrc_desktop.cpp.o  -o rstudio /usr/lib64/libQt5WebKitWidgets.so.5.7.1 /usr/lib64/libQt5PrintSupport.so.5.7.1 /usr/lib64/libQt5Quick.so.5.7.1 /usr/lib64/libQt5Positioning.so.5.7.1 /usr/lib64/libQt5Sensors.so.5.7.1 /usr/lib64/libQt5Svg.so.5.7.1 /usr/lib64/libQt5Xml.so.5.7.1 /usr/lib64/libQt5XmlPatterns.so.5.7.1 /usr/lib64/libQt5Qml.so.5.7.1 /usr/lib64/libQt5Sql.so.5.7.1 /usr/lib64/libQt5OpenGL.so.5.7.1 /usr/lib64/libQt5DBus.so.5.7.1 -lQt5Solutions_SingleApplication-2.6 ../core/librstudio-core.a /usr/lib64/libQt5WebKit.so.5.7.1 /usr/lib64/libQt5Network.so.5.7.1 /usr/lib64/libQt5Widgets.so.5.7.1 /usr/lib64/libQt5Gui.so.5.7.1 /usr/lib64/libQt5Core.so.5.7.1 -lboost_date_time-mt -lboost_filesystem-mt -lboost_iostreams-mt -lboost_program_options-mt -lboost_regex-mt -lboost_signals-mt -lboost_system-mt -lboost_thread-mt -lboost_chrono-mt -lboost_atomic-mt -lpthread -lutil -luuid -lrt -lz -lssl -lcrypto -lpam -ldl 
make[2]: Leaving directory '/var/tmp/portage/sci-mathematics/rstudio-1.0.143/work/rstudio-1.0.143_build'
[ 58%] Built target rstudio
     [java]    Compiling 4 permutations
     [java]       Compiling permutation 0...
     [java]       Process output
     [java]          Compiling
     [java]             Compiling permutation 1...
     [java]       Compiling permutation 2...
     [java]          Compiling
     [java]             Compiling permutation 3...
     [java]    Compile of permutations succeeded
     [java]    Compilation succeeded -- 128.447s
     [java] Linking into /var/tmp/portage/sci-mathematics/rstudio-1.0.143/work/rstudio-1.0.143/src/gwt/www/rstudio; Writing extras to /var/tmp/portage/sci-mathematics/rstudio-1.0.143/work/rstudio-1.0.143/src/gwt/extras/rstudio
     [java]    Link succeeded
     [java]    Linking succeeded -- 0.955s

build:

BUILD SUCCESSFUL
Total time: 2 minutes 43 seconds
make[2]: Leaving directory '/var/tmp/portage/sci-mathematics/rstudio-1.0.143/work/rstudio-1.0.143_build'
[ 58%] Built target gwt_build
make[1]: Leaving directory '/var/tmp/portage/sci-mathematics/rstudio-1.0.143/work/rstudio-1.0.143_build'
make: *** [Makefile:152: all] Error 2
 * ERROR: sci-mathematics/rstudio-1.0.143::gentoo failed (compile phase):
 *   emake failed
 * 
 * If you need support, post the output of `emerge --info '=sci-mathematics/rstudio-1.0.143::gentoo'`,
 * the complete build log and the output of `emerge -pqv '=sci-mathematics/rstudio-1.0.143::gentoo'`.
 * The complete build log is located at '/var/tmp/portage/sci-mathematics/rstudio-1.0.143/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/sci-mathematics/rstudio-1.0.143/temp/environment'.
 * Working directory: '/var/tmp/portage/sci-mathematics/rstudio-1.0.143/work/rstudio-1.0.143_build'
 * S: '/var/tmp/portage/sci-mathematics/rstudio-1.0.143/work/rstudio-1.0.143'
!!! When you file a bug report, please include the following information:
GENTOO_VM=oracle-jdk-bin-1.8  CLASSPATH="" JAVA_HOME="/opt/oracle-jdk-bin-1.8.0.131"
JAVACFLAGS="-source 1.8 -target 1.8" COMPILER=""
and of course, the output of emerge --info =rstudio-1.0.143

And emerge --info attached.




Comment 1


Jonas Stein






          2017-06-19 21:25:29 UTC
        

emerge =sci-mathematics/rstudio-1.0.143 works for me.

Do the other versions fail too?

The situation seems to be a bit more complicate and requires some analysis.
We can not help you efficiently via bug tracker. The bug tracker aims rather on specific problems in .ebuilds and less on individual systems. 

I have had very good experience on the gentoo IRC [1] with questions like this. Of course there are also forums and mailing lists [2,3].
I hope you understand, that I will close the bug here therefore and wish you good luck on one of the mentioned channels [4].
Please reopen the ticket in order to provide an indication for an error in the ebuild.

[1] https://www.gentoo.org/get-involved/irc-channels/
[2] https://forums.gentoo.org/
[3] https://www.gentoo.org/get-involved/mailing-lists/all-lists.html
[4] https://www.gentoo.org/support/




Comment 2


Neil





          2017-06-20 07:52:39 UTC
        

(In reply to Jonas Stein from comment #1)
> emerge =sci-mathematics/rstudio-1.0.143 works for me.
> 
> Do the other versions fail too?

I've not tested many others but have had =sci-mathematics/rstudio-1.0.136 installed since it was released (I just emerge -uDN @world regularly).  Its the same problem on three different systems (albeit pretty similar in terms of USE flags, arch and other portage settings).

> 
> The situation seems to be a bit more complicate and requires some analysis.
> We can not help you efficiently via bug tracker. The bug tracker aims rather
> on specific problems in .ebuilds and less on individual systems. 
> 
> I have had very good experience on the gentoo IRC [1] with questions like
> this. Of course there are also forums and mailing lists [2,3].
> I hope you understand, that I will close the bug here therefore and wish you
> good luck on one of the mentioned channels [4].
> Please reopen the ticket in order to provide an indication for an error in
> the ebuild.
> 
> [1] https://www.gentoo.org/get-involved/irc-channels/
> [2] https://forums.gentoo.org/
> [3] https://www.gentoo.org/get-involved/mailing-lists/all-lists.html
> [4] https://www.gentoo.org/support/

Ok, I'll try the forums and see if anyone has any thoughts on digging deeper, have reported upstream bugs here in the past and people have supplied solutions/patches which is why I've tried here first.  Will update here if it gets solved.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

