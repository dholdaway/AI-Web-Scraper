Title: 176463 – xfce-extra/terminal-0.2.6-r1 (xfterm4) fails to start after xorg-7.1->7.2 upgrade
URL: https://bugs.gentoo.org/show_bug.cgi?id=176463

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 176463
xfce-extra/terminal-0.2.6-r1 (xfterm4) fails to start after xorg-7.1->7.2 upgrade
Last modified: 2007-05-15 08:41:23 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 176463 
      - xfce-extra/terminal-0.2.6-r1 (xfterm4) fails to start after xorg-7.1->7.2 upgrade


Summary:
xfce-extra/terminal-0.2.6-r1 (xfterm4) fails to start after xorg-7.1->7.2 upg...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

XFCE Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-04-29 14:19 UTC by Bjoern Ottervik





      Modified:
    
2007-05-15 08:41 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



rane
x11









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Bjoern Ottervik





          2007-04-29 14:19:56 UTC
        

After updating xorg-7.1 to -7.2 in an effort to get Beryl working again(*(did the trick btw)), xfterm4 goes down in flames when launching (regardless xfwm/Beryl), opening a dialog saying:

-----
Failed to execute default Terminal Emulator.
Input/output error.
-----

Terminal output from such an event:

-----
 Unable to register terminal service: Did not receive a reply. Possible causes include: the remote application did not send a reply, the message bus security policy blocked the reply, the reply timeout expired, or the network connection was broken.
The program 'Terminal' received an X Window System error.
This probably reflects a bug in the program.
The error was 'BadMatch (invalid parameter attributes)'.
  (Details: serial 957 error_code 8 request_code 72 minor_code 0)
  (Note to programmers: normally, X errors are reported asynchronously;
   that is, you will receive the error a while after causing it.
   To debug your program, run it with the --sync command line
   option to change this behavior. You can then get a meaningful
   backtrace from your debugger if you break on the gdk_x_error() function.)
-----

(* CPU usage would skyrocket after a period of time, eventualy resulting in an unusable xserver. Switching to TTY, logging in and running killall beryl revived it, falling back to xfwm instead of Beryl.)

Reproducible: Always

Steps to Reproduce:
1. Unmask everything the xorg-7.2 metapackage is dependant upon
2. emerge -uDN world && revdep-rebuils
3. Launch xfterm4

Actual Results:  
Crash with error dialog.

Expected Results:  
Started.

Output of emerge --info:

-----
Portage 2.1.2.2 (default-linux/x86/2006.1, gcc-4.1.1, glibc-2.5-r0, 2.6.21-gento
o i686)
=================================================================
System uname: 2.6.21-gentoo i686 AMD Athlon(tm)
Gentoo Base System release 1.12.9
Timestamp of tree: Sun, 29 Apr 2007 10:20:01 +0000
dev-java/java-config: 1.3.7, 2.0.31-r5
dev-lang/python:     2.4.3-r4
dev-python/pycrypto: 2.0.1-r5
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.61
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.15-r1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.20-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=athlon-xp -O2 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shu
tdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/java-config/vms
/ /etc/revdep-rebuild /etc/terminfo"
CXXFLAGS="-march=athlon-xp -O2 -pipe -fvisibility-inlines-hidden"
DISTDIR="/usr/portage/distfiles"
FEATURES="distlocks metadata-transfer parallel-fetch sandbox sfperms strict"
GENTOO_MIRRORS="http://ds.thn.htu.se/linux/gentoo"
LC_ALL="en_US.UTF-8"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress 
--force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/di
stfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="3dnow 3dnowext X acpi alsa bash-completion berkdb bitmap-fonts cairo cdinst
all cli cracklib crypt dbus dio dri fortran gdbm glitz gpm gtk gtk2 hal iconv is
dnlog jack jpeg jpeg2k libg++ libnotify midi mmx mmxext ncurses nls nptl nptlonl
y nvidia opengl pam pcre perl png ppds pppd python qt3 readline reflection sdl s
ession sox spl sse ssl startup-notification svg tcpd truetype truetype-fonts typ
e1-fonts unicode usb x86 xorg zlib" ALSA_CARDS="emu10k1" ALSA_PCM_PLUGINS="adpcm
 alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa
 lfloat linear meter mulaw multi null plug rate route share shm softvol" ELIBC="
glibc" INPUT_DEVICES="keyboard mouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz 
cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" USERLAND="GNU" VIDEO_CA
RDS="nvidia"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LDFLAGS, LINGUAS, PORT
AGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY
-----




Comment 1


Samuli Suominen (RETIRED)






          2007-04-29 14:38:21 UTC
        

Try rebuilding x11-libs/vte and xfce-extra/terminal..




Comment 2


Joshua Baergen (RETIRED)






          2007-04-29 14:51:26 UTC
        

Yeah, you might have to rebuild a few things if building what Samuli suggests doesn't work.  I would probably start with things like gtk+ and other base libraries, though if you have a semi-fast system you may as well issue an 'emerge -e xfce-extra/terminal' and leave it overnight.




Comment 3


Bjoern Ottervik





          2007-04-30 15:05:03 UTC
        

(In reply to comment #2)
> Yeah, you might have to rebuild a few things if building what Samuli suggests
> doesn't work.  I would probably start with things like gtk+ and other base
> libraries, though if you have a semi-fast system you may as well issue an
> 'emerge -e xfce-extra/terminal' and leave it overnight.
> 

I've already tried both the -e-method, and reemerging vte/terminal. None
        of that did any good. What did help, however, was to remove the
        unmasking on all the xorg-7.2 stuff, and using the packages now deemed
        stable (the upgrade was made before xorg-7.2 went stable, why i had to
        unmask (keyword) all dependencies for the metapackage).
        So, the problem is not with the (now) stable branch, but there seem to
        be an outstanding bug with some unstable package - have it not been
        fixed within the last day or so...




Comment 4


Samuli Suominen (RETIRED)






          2007-05-01 13:05:55 UTC
        

> I've already tried both the -e-method, and reemerging vte/terminal. None
> of that did any good. What did help, however, was to remove the
> unmasking on all the xorg-7.2 stuff, and using the packages now deemed
> stable (the upgrade was made before xorg-7.2 went stable, why i had to
> unmask (keyword) all dependencies for the metapackage).
> So, the problem is not with the (now) stable branch, but there seem to
> be an outstanding bug with some unstable package - have it not been
> fixed within the last day or so...

x11: This tells me that some deps should be raised for 7.2 to pull in matching deps for stable users package.keywording X.org 7.2. 
But since 7.2 is stable, and going stable on all arches I don't see this as a problem anymore.

Since it works for you now, I'm closing this as WORKSFORME.




Comment 5


whereami





          2007-05-15 08:41:23 UTC
        

(In reply to comment #4)
> x11: This tells me that some deps should be raised for 7.2 to pull in matching
> deps for stable users package.keywording X.org 7.2. 
> But since 7.2 is stable, and going stable on all arches I don't see this as a
> problem anymore.

For anybody still experiencing this: upgrading to cairo 1.4.4 (recently stabilized in portage) fixed the issue fore me, without having to downgrade anything else.

> Since it works for you now, I'm closing this as WORKSFORME.











Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

