Title: 467150 – [gcc 4.8?] dev-python/pypy-2.0_beta* fails to build
URL: https://bugs.gentoo.org/show_bug.cgi?id=467150

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 467150
[gcc 4.8?] dev-python/pypy-2.0_beta* fails to build
Last modified: 2013-05-31 15:11:33 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 467150 
      - [gcc 4.8?] dev-python/pypy-2.0_beta* fails to build


Summary:
[gcc 4.8?] dev-python/pypy-2.0_beta* fails to build
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Nirbheek Chauhan (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2013-04-25 03:38 UTC by Patrick Lauer





      Modified:
    
2013-05-31 15:11 UTC
      (History)
    




          CC List:
        

3 
          users
          
            (show)
          



jlec
python
vivo75









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




dev-python:pypy-2.0.2:20130527-092031.log.xz

              (dev-python:pypy-2.0.2:20130527-092031.log.xz,30.11 KB,
                application/x-xz)

            
2013-05-27 11:43 UTC,

            Francesco Riosa




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Patrick Lauer






          2013-04-25 03:38:19 UTC
        

[translation:ERROR]     In file included from /var/tmp/portage/dev-python/pypy-2.0_beta1/work/pypy-2.0_beta1/pypy/module/cpyext/include/Python.h:117:0,
[translation:ERROR]                      from ../module_cache/module_10.c:32:
[translation:ERROR]     /var/tmp/portage/dev-python/pypy-2.0_beta1/work/pypy-2.0_beta1/pypy/module/cpyext/include/pymem.h:8:0: note: this is the location of the previous definition
[translation:ERROR]      #define PyMem_Malloc PyMem_MALLOC
[translation:ERROR]      ^
[translation:ERROR]     In file included from ../module_cache/module_10.c:163:0:
[translation:ERROR]     /var/tmp/portage/dev-python/pypy-2.0_beta1/work/pypy-2.0_beta1/pypy/translator/c/src/dtoa.c:133:0: warning: "PyMem_Free" redefined [enabled by default]
[translation:ERROR]      #define PyMem_Free free
[translation:ERROR]      ^
[translation:ERROR]     In file included from /var/tmp/portage/dev-python/pypy-2.0_beta1/work/pypy-2.0_beta1/pypy/module/cpyext/include/Python.h:117:0,
[translation:ERROR]                      from ../module_cache/module_10.c:32:
[translation:ERROR]     /var/tmp/portage/dev-python/pypy-2.0_beta1/work/pypy-2.0_beta1/pypy/module/cpyext/include/pymem.h:9:0: note: this is the location of the previous definition
[translation:ERROR]      #define PyMem_Free  PyMem_FREE
[translation:ERROR]      ^
[translation:ERROR]     Traceback (most recent call last):
[translation:ERROR]       File "/var/tmp/portage/dev-python/pypy-2.0_beta1/work/pypy-2.0_beta1/pypy/translator/c/gcc/trackgcroot.py", line 2023, in <module>
[translation:ERROR]         tracker.process(f, g, filename=fn)
[translation:ERROR]       File "/var/tmp/portage/dev-python/pypy-2.0_beta1/work/pypy-2.0_beta1/pypy/translator/c/gcc/trackgcroot.py", line 1916, in process
[translation:ERROR]         tracker = parser.process_function(lines, filename)
[translation:ERROR]       File "/var/tmp/portage/dev-python/pypy-2.0_beta1/work/pypy-2.0_beta1/pypy/translator/c/gcc/trackgcroot.py", line 1431, in process_function
[translation:ERROR]         table = tracker.computegcmaptable(self.verbose)
[translation:ERROR]       File "/var/tmp/portage/dev-python/pypy-2.0_beta1/work/pypy-2.0_beta1/pypy/translator/c/gcc/trackgcroot.py", line 65, in computegcmaptable
[translation:ERROR]         return self.gettable()
[translation:ERROR]       File "/var/tmp/portage/dev-python/pypy-2.0_beta1/work/pypy-2.0_beta1/pypy/translator/c/gcc/trackgcroot.py", line 109, in gettable
[translation:ERROR]         % (reg,))
[translation:ERROR]     AssertionError: cannot track where register %rbx is saved
[translation:ERROR]     make: *** [pypy_module__weakref_interp__weakref.gcmap] Error 1
[translation:ERROR]     make: *** Waiting for unfinished jobs....
[translation:ERROR]     """)
[translation] batch mode, not calling interactive helpers
 * ERROR: dev-python/pypy-2.0_beta1 failed (compile phase):
 *   compile error




Comment 1


Patrick Lauer






          2013-04-25 03:38:46 UTC
        

Portage 2.1.11.62 (default/linux/amd64/13.0, gcc-4.8.0, glibc-2.17, 3.8.5-gentoo x86_64)
=================================================================
System uname: Linux-3.8.5-gentoo-x86_64-AMD_Phenom-tm-_II_X4_965_Processor-with-gentoo-2.2
KiB Mem:     7921068 total,   3117136 free
KiB Swap:    8723124 total,   7975660 free
Timestamp of tree: Unknown
ld GNU ld (GNU Binutils) 2.23.1
app-shells/bash:          4.2_p45
dev-lang/python:          2.7.3-r3, 3.2.3-r2
dev-util/cmake:           2.8.10.2-r2
dev-util/pkgconfig:       0.28
sys-apps/baselayout:      2.2
sys-apps/openrc:          0.11.8
sys-apps/sandbox:         2.6-r1
sys-devel/autoconf:       2.13, 2.69
sys-devel/automake:       1.10.3, 1.11.6, 1.12.6, 1.13.1
sys-devel/binutils:       2.23.1
sys-devel/gcc:            4.6.3, 4.8.0
sys-devel/gcc-config:     1.8
sys-devel/libtool:        2.4.2
sys-devel/make:           3.82-r4
sys-kernel/linux-headers: 3.8 (virtual/os-headers)
sys-libs/glibc:           2.17
Repositories: gentoo
ACCEPT_KEYWORDS="amd64 ~amd64"
ACCEPT_LICENSE="*"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/config /usr/share/gnupg/qualified.txt /usr/share/polkit-1/actions /usr/share/themes/oxygen-gtk/gtk-2.0 /var/lib/hsqldb"
CONFIG_PROTECT_MASK="${EPREFIX}/etc/gconf /etc/ca-certificates.conf /etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c"
CXXFLAGS="-O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FCFLAGS="-O2 -pipe"
FEATURES="assume-digests binpkg-logs buildpkg config-protect-if-modified distlocks ebuild-locks fixlafiles merge-sync news parallel-fetch protect-owned sandbox sfperms strict test unknown-features-warn unmerge-logs unmerge-orphans userfetch"
FFLAGS="-O2 -pipe"
GENTOO_MIRRORS="ftp://ftp.lecl.net/pub/gentoo/ http://ftp.lecl.net/pub/gentoo/"
LANG="en_US.utf8"
LDFLAGS="-Wl,-O1 -Wl,--as-needed"
MAKEOPTS="-j4"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --human-readable --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY=""
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="acl amd64 berkdb bzip2 cli cracklib crypt cxx dri egl fortran gdbm gpm iconv ipv6 mmx modules mudflap multilib ncurses nls nptl openmp openvg pam pcre readline session sqlite sse sse2 ssl tcpd unicode xa xvfb zlib" ABI_X86="64" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="authn_core authz_core socache_shmcb unixd actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cgi cgid dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CALLIGRA_FEATURES="kexi words flow plan sheets stage tables krita karbon braindump" CAMERAS="ptp2" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf superstar2 timing tsip tripmate tnt ubx" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LIBREOFFICE_EXTENSIONS="presenter-console presenter-minimizer" OFFICE_IMPLEMENTATION="libreoffice" PHP_TARGETS="php5-3" PYTHON_SINGLE_TARGET="python2_7" PYTHON_TARGETS="python2_7 python3_2" RUBY_TARGETS="ruby19" USERLAND="GNU" VIDEO_CARDS="vesa" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LC_ALL, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, USE_PYTHON




Comment 2


Mike Gilbert






          2013-05-05 04:41:51 UTC
        

PyPy 2.0 Beta 2 also fails with gcc-4.8.




Comment 3


ak47wj





          2013-05-05 22:10:33 UTC
        

The new gcc 4.8 doesn't compile the release branch of PyPy correctly. As a workaround, run with CFLAGS=-fno-aggressive-loop-optimizations.




Comment 4


Mike Gilbert






          2013-05-06 00:49:23 UTC
        

(In reply to comment #3)

I added that to the beta 2 ebuild already, but it still seems to produce an interpreter that is unable to build itself.




Comment 5


Justin Lecher (RETIRED)






          2013-05-08 10:02:38 UTC
        

(In reply to comment #3)
> The new gcc 4.8 doesn't compile the release branch of PyPy correctly. As a
> workaround, run with CFLAGS=-fno-aggressive-loop-optimizations.

Doesn't work here. Still get the same error.




Comment 6


Francesco Riosa





          2013-05-27 11:43:09 UTC
        

Created attachment 349340 [details]
dev-python:pypy-2.0.2:20130527-092031.log.xz

dev-python/pypy-2.0.2 full build log, seem the same failure

Portage 2.2.0_alpha177 (default/linux/amd64/13.0, gcc-4.8.0, glibc-2.15-r3, 3.5.7-vs2.3.4.3 x86_64)
=================================================================
System uname: Linux-3.5.7-vs2.3.4.3-x86_64-Intel-R-_Core-TM-_i7-2600_CPU_@_3.40GHz-with-gentoo-2.2
KiB Mem:    16404916 total,   5880236 free
KiB Swap:    4610648 total,   4609268 free
Timestamp of tree: Mon, 27 May 2013 08:00:01 +0000
ld GNU ld (GNU Binutils) 2.23.1
distcc 3.1 x86_64-pc-linux-gnu [enabled]
ccache version 3.1.9 [disabled]
app-shells/bash:          4.2_p45
dev-java/java-config:     2.2.0
dev-lang/python:          2.7.3-r3, 3.3.0-r1
dev-util/ccache:          3.1.9
dev-util/cmake:           2.8.11::kde
dev-util/pkgconfig:       0.28
sys-apps/baselayout:      2.2
sys-apps/openrc:          0.11.8
sys-apps/sandbox:         2.6-r1
sys-devel/autoconf:       2.13, 2.69
sys-devel/automake:       1.9.6-r3, 1.10.3, 1.11.6, 1.12.6
sys-devel/binutils:       2.23.1
sys-devel/gcc:            4.8.0
sys-devel/gcc-config:     1.8
sys-devel/libtool:        2.4.2
sys-devel/make:           3.82-r4
sys-kernel/linux-headers: 3.8 (virtual/os-headers)
sys-libs/glibc:           2.15-r3
Repositories: gentoo sabayon sabayon-distro qt x11 kde mysql vivovl digikam vivo
ACCEPT_KEYWORDS="amd64 ~amd64"
ACCEPT_LICENSE="*"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -march=corei7-avx -pipe -frecord-gcc-switches  -mno-bmi2 -mno-avx2 -mno-lzcnt -mrdrnd --param=l1-cache-size=32"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /etc/conf.d /etc/init.d /usr/share/config /usr/share/config/kdm /usr/share/gnupg/qualified.txt /usr/share/polkit-1/actions /usr/share/themes/oxygen-gtk/gtk-2.0 /var/lib/hsqldb"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php5.5/ext-active/ /etc/php/cgi-php5.5/ext-active/ /etc/php/cli-php5.5/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/skel /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c"
CXXFLAGS="-O2 -march=corei7-avx -pipe -frecord-gcc-switches  -mno-bmi2 -mno-avx2 -mno-lzcnt -mrdrnd --param=l1-cache-size=32 -fvisibility-inlines-hidden -fabi-version=6 -ffor-scope -fstrict-enums -fuse-cxa-atexit"
DISTDIR="/g/distfiles"
EMERGE_DEFAULT_OPTS="--ask-enter-invalid --quiet-build=y --buildpkg-exclude=x11-drivers/nvidia-drivers --buildpkg-exclude=sys-power/bbswitch --buildpkg-exclude=app-emulation/virtualbox-modules --buildpkg-exclude=sys-fs/aufs3"
FCFLAGS="-O2 -pipe"
FEATURES="assume-digests binpkg-logs buildpkg clean-logs compress-build-logs compressdebug config-protect-if-modified distcc distlocks ebuild-locks fail-clean fixlafiles installsources merge-sync metadata-transfer news noinfo notitles parallel-fetch parallel-install sandbox sfperms skiprocheck splitdebug strict test-fail-continue unknown-features-warn unmerge-logs unmerge-orphans xattr"
FFLAGS="-O2 -pipe"
GENTOO_MIRRORS="ftp://mirrors.tera-byte.com/pub/gentoo ftp://ftp.spline.inf.fu-berlin.de/mirrors/gentoo/ http://archive.mmu.edu.my/gentoo rsync://gentoo.bloodhost.ru/gentoo-distfiles ftp://gentoo.mirrors.tds.net/gentoo ftp://ftp.halifax.rwth-aachen.de/gentoo/ rsync://mirror.neolabs.kz/gentoo http://ftp.gentoo.bg/ http://ftp.cc.uoc.gr/mirrors/linux/gentoo/ ftp://ftp.cc.uoc.gr/mirrors/linux/gentoo/"
INSTALL_MASK=" /usr/lib64/elektra/*.la /usr/lib64/libelektra*.la /usr/lib64/libo{{,sp}grove,style}.la /lib/udev/rules.d/45-Argyll.rules /usr/lib64/terminfo/[0-9] /usr/src/debug /usr/lib64/debug/ "
LDFLAGS="-Wl,-O1 -Wl,--as-needed -Wl,--build-id"
MAKEOPTS="-j3"
PKGDIR="/g/packages"
PORTAGE_COMPRESS_FLAGS="-3"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --human-readable --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/g/portage"
PORTDIR_OVERLAY="/g/ovl/for-gentoo /g/ovl/sabayon /g/ovl/qt /g/ovl/x11 /g/ovl/kde /g/ovl/mysql /g/ovl/tmp /g/ovl/digikam /g/ovl/systemd-love"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="X a52 aac accessibility acl acpi aiglx aim alsa amd64 artswrappersuid audiofile avahi bash-completion berkdb bidi bluetooth bzip2 cairo cdda cddb cdr cjk cli cpudetection cracklib crypt cups cxx dbus dga dri dts dv dvb dvd dvdr dvdread dvi efi egl fame fat ffmpeg firefox flac foomatic-db fortran freetype gcj gdbm gif gimpprint gles2 gmp gnutls gphoto2 gpm gsm gtk hfs iconv icq ieee1394 imap inotify ipod ipv6 irc irda jabber jack jfs joystick kdeenablefinal kdehiddenvisibility kerberos lame lcd libnotify live lm_sensors lzo mail matroska mjpeg mmx modules mozdevelop mp3 mp3rtp msn mudflap multilib musepack musicbrainz ncurses network nls nptl nsplugin ntfs ogg openal openexr opengl openmp pam pcmcia pcre pda perl png policykit ppds pulseaudio python qt3support qt4 rar rdesktop readline reiserfs rss scanner sdl session slp smpeg speex sse sse2 ssl startup-notification stream svg sysfs systemd tcpd theora tiff udev unicode usb v4l v4l2 visualization wifi wmf x264 xattr xcb xfs xine xinerama xpm xprint 
xulrunner xvid xvmc yahoo zeroconf zlib" ABI_X86="64" ALSA_CARDS="emu10k1x darla20 darla24 emu10k1 gina20 gina24 hdsp hdspm ice1712 indigo indigoio layla20 layla24 mia mixart mona pcxhr rme32 rme96 sb16 sbawe sscape usbusx2y vx222 usb-usx2y" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="authn_core authz_core socache_shmcb unixd actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cgi cgid dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" APACHE2_MPMS="prefork" CALLIGRA_FEATURES="krita braindump flow stage words sheets" CAMERAS="agfa_cl20 casio_qv dimagev 
dimera3500 kodak_dc120 kodak_dc210 kodak_dc240 kodak_dc3200 kodak_ez200 konica_qm150 panasonic_coolshot panasonic_dc1000 panasonic_dc1580 panasonic_l859 polaroid_pdc320 polaroid_pdc640 polaroid_pdc700 ricoh_g3 sipix_blink sipix_blink2 sipix_web2 sony_dscf1 sony_dscf55 toshiba_pdrm11 adc65 aox barbie canon clicksmart310 digigr8 digita directory enigma13 fuji gsmart300 hp215 iclick jamcam jd11 konica largan lg_gsm mars mustek pccam300 pccam600 ptp2 ricoh samsung sierra smal sonix soundvision spca50x sq905 stv0674 stv0680 sx330z template" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" DRACUT_MODULES="caps cifs dmsquash-live livenet mdraid nfs ssh-client syslog systemd" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf superstar2 timing tsip tripmate tnt ubx" INPUT_DEVICES="evdev void" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 
mtxorb ncurses text" LIBREOFFICE_EXTENSIONS="presenter-console presenter-minimizer nlpsolver pdfimport scripting-beanshell scripting-javascript wiki-publisher" LINGUAS="it en en_US" LIRC_DEVICES="audio audio_alsa serial pctv" OFFICE_IMPLEMENTATION="libreoffice" PHP_TARGETS="php5-4" PYTHON_SINGLE_TARGET="python2_7" PYTHON_TARGETS="python2_7 python3_3" QEMU_SOFTMMU_TARGETS="arm cris m68k microblaze mips mips64 mips64el mipsel ppc ppc64 ppcemb sh4 sh4eb sparc sparc64 x86_64" QEMU_USER_TARGETS="arm x86_64" RUBY_TARGETS="ruby18 ruby19" USERLAND="GNU" VIDEO_CARDS="fbdev vesa r300 r600 intel modesetting radeon" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account"
USE_PYTHON="2.7 3.3"
Unset:  CPPFLAGS, CTARGET, LANG, LC_ALL, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 7


Mike Gilbert






          2013-05-27 15:50:04 UTC
        

I cannot reproduce the problem with pypy-2.0.2 and gcc-4.8.0.




Comment 8


Justin Lecher (RETIRED)






          2013-05-28 06:20:00 UTC
        

(In reply to Mike Gilbert from comment #7)
> I cannot reproduce the problem with pypy-2.0.2 and gcc-4.8.0.

Me neither.




Comment 9


Francesco Riosa





          2013-05-31 08:00:25 UTC
        

looking again; it's the "pmovzxbw" instruction from SSE4.1 (1), this instruction is probably unknown to pypy.
The problem should *not* be related to gcc-4.8, since even previous version used the SSE4.1 ISA extension.

Do you want a new bug?

(1) http://en.wikipedia.org/wiki/SSE4

dev-python/pypy-2.0.2:2.0 [1.9-r2:1.9] USE="bzip2 jit ncurses ssl xml -doc -examples -sandbox -shadowstack -sqlite"

[platform:Error] Traceback (most recent call last):
[platform:Error]   File "/var/tmp/p2/portage/dev-python/pypy-2.0.2/work/pypy-2.0.2-src/rpython/translator/c/gcc/trackgcroot.py", line 2037, in <module>
[platform:Error]     tracker.process(f, g, filename=fn)
[platform:Error]   File "/var/tmp/p2/portage/dev-python/pypy-2.0.2/work/pypy-2.0.2-src/rpython/translator/c/gcc/trackgcroot.py", line 1930, in process
[platform:Error]     tracker = parser.process_function(lines, filename)
[platform:Error]   File "/var/tmp/p2/portage/dev-python/pypy-2.0.2/work/pypy-2.0.2-src/rpython/translator/c/gcc/trackgcroot.py", line 1445, in process_function
[platform:Error]     table = tracker.computegcmaptable(self.verbose)
[platform:Error]   File "/var/tmp/p2/portage/dev-python/pypy-2.0.2/work/pypy-2.0.2-src/rpython/translator/c/gcc/trackgcroot.py", line 53, in computegcmaptable
[platform:Error]     self.parse_instructions()
[platform:Error]   File "/var/tmp/p2/portage/dev-python/pypy-2.0.2/work/pypy-2.0.2-src/rpython/translator/c/gcc/trackgcroot.py", line 207, in parse_instructions
[platform:Error]     self.find_missing_visit_method(opname)
[platform:Error]   File "/var/tmp/p2/portage/dev-python/pypy-2.0.2/work/pypy-2.0.2-src/rpython/translator/c/gcc/trackgcroot.py", line 237, in find_missing_visit_method
[platform:Error]     raise UnrecognizedOperation(opname)
[platform:Error] __main__.UnrecognizedOperation: pmovzxbw




Comment 10


Mike Gilbert






          2013-05-31 15:11:33 UTC
        

(In reply to Francesco Riosa from comment #9)

Ah, nice discovery.

Please file a bug upstream https://bugs.pypy.org/ .

If you want a fix back-ported, then file a new Gentoo bug with a link to the upstream fix.

I'm closing this bug for now.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

