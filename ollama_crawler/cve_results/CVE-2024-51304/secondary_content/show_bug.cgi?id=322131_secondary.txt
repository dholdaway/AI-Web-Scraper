Title: 322131 – x11-libs/gtk+-2.18.6 missing DEP
URL: https://bugs.gentoo.org/show_bug.cgi?id=322131

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 322131
x11-libs/gtk+-2.18.6 missing DEP
Last modified: 2010-06-05 13:50:58 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 322131 
      - x11-libs/gtk+-2.18.6 missing DEP


Summary:
x11-libs/gtk+-2.18.6 missing DEP
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:



http://bugs.gentoo.org/204589




Whiteboard:




Keywords:









Duplicates (1):
    

322135

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2010-05-30 19:42 UTC by Kevin Haddock





      Modified:
    
2010-06-05 13:50 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



swegener









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Kevin Haddock





          2010-05-30 19:42:57 UTC
        

when doing world update while compiling x11-libs/gtk+-2.18.6 I get this error:

In file included from gdkdisplay-x11.c:40:
gdkinputprivate.h:38:35: error: X11/extensions/XInput.h: No such file or directory
In file included from gdkdisplay-x11.c:40:
gdkinputprivate.h:79: error: expected specifier-qualifier-list before 'XDevice'
gdkinputprivate.h:175: error: expected declaration specifiers or '...' before 'XEventClass'
make[4]: *** [gdkdisplay-x11.lo] Error 1

Which is virtually identical to the bug at the URL above.

When doing:

equery depends inputproto   
[ Searching for packages depending on inputproto... ]
gnome-base/gdm-2.20.10-r2 (x11-proto/inputproto)
gnome-base/gnome-settings-daemon-2.26.1-r2 (x11-proto/inputproto)
media-libs/mesa-7.5.2 (x11-proto/inputproto)
media-video/xine-ui-0.99.5-r1 (X? x11-proto/inputproto)
net-misc/nx-3.4.0 (x11-proto/inputproto)
net-misc/tightvnc-1.3.10-r1 (server? x11-proto/inputproto)
x11-apps/xdpyinfo-1.1.0 (x11-proto/inputproto)
x11-apps/xinput-1.4.2 (>=x11-proto/inputproto-1.5)
x11-drivers/xf86-input-evdev-2.3.2 (x11-proto/inputproto)
x11-drivers/xf86-input-keyboard-1.4.0 (x11-proto/inputproto)
x11-drivers/xf86-input-mouse-1.5.0 (x11-proto/inputproto)
x11-drivers/xf86-input-synaptics-1.2.1 (x11-proto/inputproto)
x11-libs/gtk+-1.2.10-r12 (x11-proto/inputproto)
x11-libs/gtk+-2.16.6 (x11-proto/inputproto)
x11-libs/libX11-1.2.2 (x11-proto/inputproto)
x11-libs/libXi-1.2.1 (>=x11-proto/inputproto-1.5)
x11-libs/libXtst-1.0.3 (x11-proto/inputproto)
x11-libs/qt-gui-4.6.2 (!aqua? x11-proto/inputproto)
xfce-base/xfce4-settings-4.6.3 (x11-proto/inputproto)

one can see that gtk+ library 2.18.6 is *NOT* included in the list of dependencies.  Apparently it should be.




Comment 1


Rafał Mużyło





          2010-05-30 20:25:27 UTC
        

(In reply to comment #0)
> equery depends inputproto   
> [ Searching for packages depending on inputproto... ]
> ...
> x11-libs/gtk+-2.16.6 (x11-proto/inputproto)
> ...
> 
> one can see that gtk+ library 2.18.6 is *NOT* included in the list of
> dependencies.  Apparently it should be.
> 

lol

Anyway, what are your useflags for gtk+ ?
Are you i.e. masking 1.7 server ?





Comment 2


Kevin Haddock





          2010-05-30 21:24:25 UTC
        

emerge -pv gtk+

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild     U ] x11-libs/gtk+-2.18.6 [2.16.6] USE="cups jpeg tiff (-aqua) -debug -doc -jpeg2k -test -vim-syntax -xinerama" 0 kB

I don't see any mask in /etc/portage/package.mask

in /etc/portage:

$ grep -R 1.7 .
./package.use/.svn/entries:cf66bf8d-32c8-44ce-8bf1-729498b3d127
./package.mask/.svn/entries:cf66bf8d-32c8-44ce-8bf1-729498b3d127
./package.mask/.svn/entries:163bd416c1ab12480672147c584be37e
./package.mask/.svn/entries:a262661175ddc4a0929cfda7c84eb890
./.svn/entries:cf66bf8d-32c8-44ce-8bf1-729498b3d127
./package.keywords.orig/xorg-1.6-keywords:=x11-base/xorg-x11-7.4-r1
./package.keywords.orig/xorg-1.6-keywords:=x11-drivers/xf86-video-siliconmotion-1.7.3
./package.keywords.orig/.svn/entries:cf66bf8d-32c8-44ce-8bf1-729498b3d127





Comment 3


Kevin Haddock





          2010-05-30 21:29:24 UTC
        

apparently, according to the ebuild I need the aqua flag to bring in inputproto , but isn't that still a bug if it bombs without it?




Comment 4


Davide Pesavento (RETIRED)






          2010-05-30 21:42:02 UTC
        

*** Bug 322135 has been marked as a duplicate of this bug. ***




Comment 5


Rafał Mużyło





          2010-05-30 22:06:20 UTC
        

What versions of xinputproto and libXi you have ?

aqua is treated as unset - it's profile masked,
as, IIRC, it's mac only.




Comment 6


Kevin Haddock





          2010-05-30 22:28:34 UTC
        

(In reply to comment #5)
> What versions of xinputproto and libXi you have ?

*  x11-proto/inputproto
      Latest version available: 2.0
      Latest version installed: 2.0
      Size of files: 136 kB
      Homepage:      http://xorg.freedesktop.org/
      Description:   X.Org Input protocol headers
      License:       MIT

*  x11-libs/libXi
      Latest version available: 1.3
      Latest version installed: 1.2.1
      Size of files: 342 kB
      Homepage:      http://xorg.freedesktop.org/
      Description:   X.Org Xi library
      License:       MIT






> 
> aqua is treated as unset - it's profile masked,
> as, IIRC, it's mac only.
> 

Ok, I'll take that back *out* of my USE flags then :)






Comment 7


Rafał Mużyło





          2010-05-31 01:16:27 UTC
        

Tell me, what does 'emerge -1pv x11-libs/libXi' prints ?




Comment 8


Kevin Haddock





          2010-05-31 18:00:33 UTC
        

emerge -1pv x11-libs/libXi

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild     U ] x11-libs/libX11-1.3.3 [1.2.2] USE="ipv6 xcb -debug -doc% -test%" 0 kB
[ebuild     U ] x11-libs/libXi-1.3 [1.2.1] USE="-debug" 0 kB

Total: 2 packages (2 upgrades), Size of downloads: 0 kB





Comment 9


Rafał Mużyło





          2010-06-01 02:49:04 UTC
        

(In reply to comment #8)

> [ebuild     U ] x11-libs/libX11-1.3.3 [1.2.2] USE="ipv6 xcb -debug -doc%
> -test%" 0 kB
> [ebuild     U ] x11-libs/libXi-1.3 [1.2.1] USE="-debug" 0 kB
> 

Exactly. Your world update is incomplete.
That makes this bug (mostly) INVALID.










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

