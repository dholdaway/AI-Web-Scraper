Title: 549730 – sys-apps/openrc-0.16.3: relocation R_X86_64_32 against `.rodata.str1.1' can not be used when making a shared object; recompile with -fPIC
URL: https://bugs.gentoo.org/show_bug.cgi?id=549730

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 549730
sys-apps/openrc-0.16.3: relocation R_X86_64_32 against `.rodata.str1.1' can not be used when making a shared object; recompile with -fPIC
Last modified: 2016-08-16 21:53:11 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 549730 
      - sys-apps/openrc-0.16.3: relocation R_X86_64_32 against `.rodata.str1.1' can not be used when making a shared object; recompile with -fPIC


Summary:
sys-apps/openrc-0.16.3: relocation R_X86_64_32 against `.rodata.str1.1' can n...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

OpenRC Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2015-05-17 14:46 UTC by Jiří Moravec





      Modified:
    
2016-08-16 21:53 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



aoaaxy+gentoobugzilla
zazdxscf+bugs.gentoo.org









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build.log

              (build.log,30.92 KB,
                text/plain)

            
2015-05-17 14:53 UTC,

            Jiří Moravec




Details





emerge -pqv

              (emerge-pqv.log,138 bytes,
                text/plain)

            
2015-05-17 14:54 UTC,

            Jiří Moravec




Details





emerge --info

              (info.log,7.30 KB,
                text/plain)

            
2015-05-17 14:54 UTC,

            Jiří Moravec




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Jiří Moravec





          2015-05-17 14:46:08 UTC
        

Linking sys-apps/openrc-0.16.3 phase failed with error:

Reproducible: Always

Steps to Reproduce:
1.emerge -v1 =sys-apps/openrc-0.16.3::gentoo

Actual Results:  
/usr/lib/gcc/x86_64-pc-linux-gnu/4.9.2/../../../../x86_64-pc-linux-gnu/bin/ld: checkpath.o: relocation R_X86_64_32 against `.rodata.str1.1' can not be used when making a shared object; recompile with -fPIC
checkpath.o: error adding symbols: Bad value
collect2: error: ld returned 1 exit status
../../mk/prog.mk:31: recipe for target 'openrc' failed
make[2]: *** [openrc] Error 1
make[2]: Leaving directory '/var/tmp/portage/sys-apps/openrc-0.16.3/work/openrc-0.16.3/src/rc'
../mk/subdir.mk:19: recipe for target 'all' failed
make[1]: *** [all] Error 2
make[1]: Leaving directory '/var/tmp/portage/sys-apps/openrc-0.16.3/work/openrc-0.16.3/src'
/var/tmp/portage/sys-apps/openrc-0.16.3/work/openrc-0.16.3//mk/subdir.mk:19: recipe for target 'all' failed
make: *** [all] Error 2

Expected Results:  
emerge success


Emerge of previous version =sys-apps/openrc-0.16.2 in the SAME environment have NO problems at all.

And emerge of 0.16.3 with 'CFLAGS += -fPIC' succeeded, but I assume that is wrong approach.




Comment 1


Jiří Moravec





          2015-05-17 14:53:39 UTC
        

Created attachment 403486 [details]
build.log




Comment 2


Jiří Moravec





          2015-05-17 14:54:07 UTC
        

Created attachment 403488 [details]
emerge -pqv




Comment 3


Jiří Moravec





          2015-05-17 14:54:39 UTC
        

Created attachment 403490 [details]
emerge --info




Comment 4


William Hubbs






          2016-08-16 21:53:11 UTC
        

I compared the versions of OpenRC you mentioned, and there are no
differences in the build. Also, I have not been able to reproduce the
errors you mention.

If this is still an issue for 0.21.3, please feel free to re-open this
bug.

Thanks,

William









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

