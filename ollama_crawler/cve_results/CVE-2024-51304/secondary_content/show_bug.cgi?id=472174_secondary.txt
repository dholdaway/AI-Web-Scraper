Title: 472174 – mail-client/claws-mail-3.9.1-r1 - claws-mail: This connection is configured to be secured using SSL, but SSL is not available in this build of Claws Mail.
URL: https://bugs.gentoo.org/show_bug.cgi?id=472174

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 472174
mail-client/claws-mail-3.9.1-r1 - claws-mail: This connection is configured to be secured using SSL, but SSL is not available in this build of Claws Mail.
Last modified: 2013-07-04 19:57:34 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 472174 
      - mail-client/claws-mail-3.9.1-r1 - claws-mail: This connection is configured to be secured using SSL, but SSL is not available in this build of Claws Mail.


Summary:
mail-client/claws-mail-3.9.1-r1 - claws-mail: This connection is configured t...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Christian Faulhammer (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2013-06-03 14:25 UTC by Boney McCracker





      Modified:
    
2013-07-04 19:57 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



net-mail+disabled









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Boney McCracker





          2013-06-03 14:25:31 UTC
        

After an emerge -e world I started getting the following error dialog box when claws-mail attempts to make its initial connection (using IMAP).  The account configuration is correct and has been working for months:
-------------------------------------------------------------------------------
Insecure connection

This connection is configured to be secured using SSL, but SSL is not available in this build of Claws Mail. 

Do you want to continue connecting to this server? The communication would not be secure.

-------------------------------------------------------------------------------



Reproducible: Always

Steps to Reproduce:
Variables for claws-mail ebuild:
USE="dbus gnutls imap libcanberra libindicate notification pgp spell"
PYTHON_SINGLE_TARGET="python2_7"
PYTHON_TARGETS="python2_7"

Variables for libetpan-1.1:
USE="berkdb ssl"

I do not have libsoup or glib-networking on the system.

Rebuilding libetpan with USE="berkdb gnutls" has no effect.

The account is a GMail account, using IMAP4, configured to receive with Authentication Method: "Automatic", and to send with SMTP Auth and Authentication Method: "Automatic".
Actual Results:  
As indicated in description above.



Expected Results:  
claws-mail should make the secured connection using the ssl or gnutls facilities on the system.

~ # emerge --info
Portage 2.1.12.2 (default/linux/amd64/13.0/no-multilib, gcc-4.7.3, glibc-2.17, 3.9.4-gentoo x86_64)
=================================================================
System uname: Linux-3.9.4-gentoo-x86_64-Intel-R-_Pentium-R-_Dual_CPU_E2160_@_1.80GHz-with-gentoo-2.2
KiB Mem:     2053224 total,    299992 free
KiB Swap:    1048568 total,   1048376 free
Timestamp of tree: Mon, 03 Jun 2013 12:45:01 +0000
ld GNU ld (GNU Binutils) 2.23.1
ccache version 3.1.9 [enabled]
app-shells/bash:          4.2_p45
dev-lang/python:          2.7.5, 3.2.5, 3.3.2
dev-util/ccache:          3.1.9
dev-util/cmake:           2.8.10.2-r2
dev-util/pkgconfig:       0.28
sys-apps/baselayout:      2.2::local-portage
sys-apps/sandbox:         2.6-r1
sys-devel/autoconf:       2.13, 2.69
sys-devel/automake:       1.13.2
sys-devel/binutils:       2.23.1
sys-devel/gcc:            4.7.3
sys-devel/gcc-config:     1.8
sys-devel/libtool:        2.4.2
sys-devel/make:           3.82-r4
sys-kernel/linux-headers: 3.9 (virtual/os-headers)
sys-libs/glibc:           2.17
Repositories: gentoo local-portage
ACCEPT_KEYWORDS="amd64 ~amd64"
ACCEPT_LICENSE="*"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -march=native -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/gnupg/qualified.txt"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo"
CXXFLAGS="-O2 -march=native -pipe"
DISTDIR="/usr/portage/distfiles"
FCFLAGS="-O2 -pipe"
FEATURES="assume-digests binpkg-logs ccache clean-logs config-protect-if-modified distlocks ebuild-locks fixlafiles merge-sync news parallel-fetch preserve-libs protect-owned sandbox sfperms strict unknown-features-warn unmerge-logs unmerge-orphans userfetch"
FFLAGS="-O2 -pipe"
GENTOO_MIRRORS="ftp://ftp.gtlib.gatech.edu/pub/gentoo http://gentoo.osuosl.org/ http://open-systems.ufl.edu/mirrors/gentoo "
INSTALL_MASK="/etc/init.d /etc/conf.d /etc/cron.* /etc/runlevels /etc/xinetd.d"
LANG="en_US.UTF-8"
LC_ALL="en_US.UTF-8"
LDFLAGS="-Wl,--hash-style=gnu,-O1 -Wl,--as-needed"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --human-readable --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.namerica.gentoo.org/gentoo-portage"
USE="X acl acpi alsa amd64 berkdb bzip2 cairo caps cli cracklib crypt cups cxx dbus dri fortran gdbm gif gpm gtk iconv jpeg mmx modules mudflap ncurses nls nptl openmp pam pcre png python3 readline session sse sse2 ssl svg systemd threads tiff truetype udev unicode xcb xft zlib" ABI_X86="64" ALSA_CARDS="hda-intel" APACHE2_MODULES="authn_core authz_core socache_shmcb unixd actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cgi cgid dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CALLIGRA_FEATURES="kexi words flow plan sheets stage tables krita karbon braindump author" CAMERAS="ptp2" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf superstar2 timing tsip tripmate tnt ubx" INPUT_DEVICES="evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LIBREOFFICE_EXTENSIONS="presenter-console presenter-minimizer" OFFICE_IMPLEMENTATION="libreoffice" PHP_TARGETS="php5-3" PYTHON_SINGLE_TARGET="python2_7" PYTHON_TARGETS="python2_7 python3_2" RUBY_TARGETS="ruby19 ruby18" USERLAND="GNU" VIDEO_CARDS="nvidia" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, USE_PYTHON




Comment 1


Johannes Hirte





          2013-06-04 17:45:18 UTC
        

I can confirm this with claws-mail-3.9.1-r1




Comment 2


Dirk Blank





          2013-06-30 13:06:01 UTC
        

I also have the same problem. When creating a new account, there is no SSL configuration available and when editing an account, the SSL option is not there.




Comment 3


Boney McCracker





          2013-06-30 13:22:44 UTC
        

Mine has mysteriously started working again.  I haven't used it since filing this bug, so I have no insight into what, if anything, I did that altered the situation.  I know that emerge -e world did not fix it.

I would say this should remain unconfirmed.  It may be some kind of intermittent problem, or it may be related to Google's habit of using multiple SSL certificates simultaneously.




Comment 4


edes





          2013-07-01 12:37:36 UTC
        

i have this very same problem with 3.9.1-r1. it happens consistently, but only with one of my accounts. (none of them has anything to do with google, BTW).




Comment 5


edes





          2013-07-01 13:40:27 UTC
        

SOLVED-
sorry about my previous mail, i discovered what the problem was: somehow the gnutls USE flag was deactivated. compiling again with +gnutls solved the problem.




Comment 6


Dirk Blank





          2013-07-02 09:22:54 UTC
        

Now I removed and installed claws-mail again, without changing any USE flags. Now SSL configuration options are available.

When I tried the same some weeks ago, it did not help.

Whatever caused the problem, for me it seems to be solved.




Comment 7


Christian Faulhammer (RETIRED)






          2013-07-04 19:57:34 UTC
        

I could not reproduce, too...so close this bug.  Thanks for reporting nonetheless.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

