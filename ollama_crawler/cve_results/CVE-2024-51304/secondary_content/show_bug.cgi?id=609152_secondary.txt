Title: 609152 – dev-ros/mavlink-gbp-release-2017.2.7 : sandbox issue (XDG_xxx_DIR related)
URL: https://bugs.gentoo.org/show_bug.cgi?id=609152

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 609152
dev-ros/mavlink-gbp-release-2017.2.7 : sandbox issue (XDG_xxx_DIR related)
Last modified: 2020-09-04 14:33:51 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 609152 
      - dev-ros/mavlink-gbp-release-2017.2.7 : sandbox issue (XDG_xxx_DIR related)


Summary:
dev-ros/mavlink-gbp-release-2017.2.7 : sandbox issue (XDG_xxx_DIR related)
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Robot Operating System team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:




567192



 

        Show dependency tree





 





      Reported:
    
2017-02-12 17:52 UTC by Toralf Förster





      Modified:
    
2020-09-04 14:33 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge-info.txt

              (emerge-info.txt,6.13 KB,
                text/plain)

            
2017-02-12 17:52 UTC,

            Toralf Förster




Details





dev-ros:mavlink-gbp-release-2017.2.7:20170211-145704.log

              (dev-ros:mavlink-gbp-release-2017.2.7:20170211-145704.log,226.51 KB,
                text/plain)

            
2017-02-12 17:52 UTC,

            Toralf Förster




Details





emerge-history.txt

              (emerge-history.txt,339.21 KB,
                text/plain)

            
2017-02-12 17:52 UTC,

            Toralf Förster




Details





etc.portage.tbz2

              (etc.portage.tbz2,14.28 KB,
                application/x-bzip)

            
2017-02-12 17:52 UTC,

            Toralf Förster




Details





sandbox-26082.log

              (sandbox-26082.log,11.37 KB,
                text/plain)

            
2017-02-12 17:52 UTC,

            Toralf Förster




Details





emerge-info.txt

              (emerge-info.txt,5.78 KB,
                text/plain)

            
2017-03-10 18:38 UTC,

            Toralf Förster




Details





dev-ros:mavlink-gbp-release-2017.2.7-r1:20170310-162633.log

              (dev-ros:mavlink-gbp-release-2017.2.7-r1:20170310-162633.log,227.48 KB,
                text/plain)

            
2017-03-10 18:38 UTC,

            Toralf Förster




Details





emerge-history.txt

              (emerge-history.txt,347.36 KB,
                text/plain)

            
2017-03-10 18:38 UTC,

            Toralf Förster




Details





etc.portage.tbz2

              (etc.portage.tbz2,26.27 KB,
                application/x-bzip)

            
2017-03-10 18:38 UTC,

            Toralf Förster




Details





sandbox-8459.log

              (sandbox-8459.log,11.53 KB,
                text/plain)

            
2017-03-10 18:38 UTC,

            Toralf Förster




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Toralf Förster






          2017-02-12 17:52:29 UTC
        

This is an unstable amd64 chroot image (named gnome-systemd-unstable_20170203-145554) at a hardened host acting as a tinderbox.
  -----------------------------------------------------------------

This issue is forced at the tinderbox by making:

export XDG_DESKTOP_DIR="/root/Desktop"
export XDG_DOCUMENTS_DIR="/root/Documents"
export XDG_DOWNLOAD_DIR="/root/Downloads"
export XDG_MUSIC_DIR="/root/Music"
export XDG_PICTURES_DIR="/root/Pictures"
export XDG_PUBLICSHARE_DIR="/root/Public"
export XDG_TEMPLATES_DIR="/root/Templates"
export XDG_VIDEOS_DIR="/root/Videos"
export XDG_RUNTIME_DIR="/root/run"
export XDG_CONFIG_HOME="/root/config"
export XDG_CACHE_HOME="/root/cache"
export XDG_DATA_HOME="/root/share"

pls see bug #567192 too

VERSION 1.0
FORMAT: F - Function called
FORMAT: S - Access Status
FORMAT: P - Path as passed to function
FORMAT: A - Absolute Path (not canonical)
FORMAT: R - Canonical Path
FORMAT: C - Command Line

F: mkdir
S: deny

  -----------------------------------------------------------------

gcc-config -l:
 [1] x86_64-pc-linux-gnu-5.4.0 *
llvm-config --version:
3.9.1
Available Java Virtual Machines:
  [1]   icedtea-bin-8  system-vm
Available Python interpreters, in order of preference:
  [1]   python3.4
  [2]   python2.7 (fallback)
  [3]   jython2.7 (fallback)
Available Ruby profiles:
  [1]   ruby21 (with Rubygems) *
java-config:
The following VMs are available for generation-2:
*)	IcedTea JDK 3.3.0 [icedtea-bin-8]




Comment 1


Toralf Förster






          2017-02-12 17:52:34 UTC
        

Created attachment 463494 [details]
emerge-info.txt




Comment 2


Toralf Förster






          2017-02-12 17:52:37 UTC
        

Created attachment 463496 [details]
dev-ros:mavlink-gbp-release-2017.2.7:20170211-145704.log




Comment 3


Toralf Förster






          2017-02-12 17:52:40 UTC
        

Created attachment 463500 [details]
emerge-history.txt




Comment 4


Toralf Förster






          2017-02-12 17:52:43 UTC
        

Created attachment 463502 [details]
etc.portage.tbz2




Comment 5


Toralf Förster






          2017-02-12 17:52:47 UTC
        

Created attachment 463504 [details]
sandbox-26082.log




Comment 6


Alexis Ballier






          2017-02-14 09:39:28 UTC
        

How can I reproduce this ?


I typed:

(In reply to Toralf Förster from comment #0)
> export XDG_DESKTOP_DIR="/root/Desktop"
> export XDG_DOCUMENTS_DIR="/root/Documents"
> export XDG_DOWNLOAD_DIR="/root/Downloads"
> export XDG_MUSIC_DIR="/root/Music"
> export XDG_PICTURES_DIR="/root/Pictures"
> export XDG_PUBLICSHARE_DIR="/root/Public"
> export XDG_TEMPLATES_DIR="/root/Templates"
> export XDG_VIDEOS_DIR="/root/Videos"
> export XDG_RUNTIME_DIR="/root/run"
> export XDG_CONFIG_HOME="/root/config"
> export XDG_CACHE_HOME="/root/cache"

in a terminal then emerge -1Ov dev-ros/mavlink-gbp-release but it did not fail...




Comment 7


Toralf Förster






          2017-02-14 09:56:39 UTC
        

(In reply to Alexis Ballier from comment #6)
look at the attached etc.portage.tbz2 file - in make.conf there's:

FEATURES="xattr preserve-libs parallel-fetch ipc-sandbox network-sandbox -news"




Comment 8


Alexis Ballier






          2017-02-14 11:20:12 UTC
        

(In reply to Toralf Förster from comment #7)
> (In reply to Alexis Ballier from comment #6)
> look at the attached etc.portage.tbz2 file - in make.conf there's:
> 
> FEATURES="xattr preserve-libs parallel-fetch ipc-sandbox network-sandbox
> -news"

even with that, it still doesnt fail :(




Comment 9


Toralf Förster






          2017-02-14 19:37:19 UTC
        

the package builds today fine at nearly almost all running tinderbox images :-/




Comment 10


Toralf Förster






          2017-03-10 18:38:10 UTC
        

same issue at an unstable amd64 chroot image (named gnome-systemd_20170301-222559)




Comment 11


Toralf Förster






          2017-03-10 18:38:14 UTC
        

Created attachment 466562 [details]
emerge-info.txt




Comment 12


Toralf Förster






          2017-03-10 18:38:17 UTC
        

Created attachment 466564 [details]
dev-ros:mavlink-gbp-release-2017.2.7-r1:20170310-162633.log




Comment 13


Toralf Förster






          2017-03-10 18:38:20 UTC
        

Created attachment 466566 [details]
emerge-history.txt




Comment 14


Toralf Förster






          2017-03-10 18:38:23 UTC
        

Created attachment 466568 [details]
etc.portage.tbz2




Comment 15


Toralf Förster






          2017-03-10 18:38:26 UTC
        

Created attachment 466570 [details]
sandbox-8459.log




Comment 16


Alexis Ballier






          2020-09-04 14:33:51 UTC
        

cant seem to repro with 2020.7.7-r1; please reopen if this still fails









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

