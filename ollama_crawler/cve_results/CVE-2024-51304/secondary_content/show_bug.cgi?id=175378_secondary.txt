Title: 175378 – mythtv-0.20_p13288 ebuild fails
URL: https://bugs.gentoo.org/show_bug.cgi?id=175378

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 175378
mythtv-0.20_p13288 ebuild fails
Last modified: 2007-04-28 15:30:58 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 175378 
      - mythtv-0.20_p13288 ebuild fails


Summary:
mythtv-0.20_p13288 ebuild fails
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Doug Goldstein (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-04-20 21:13 UTC by Paul Sands





      Modified:
    
2007-04-28 15:30 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Paul Sands





          2007-04-20 21:13:41 UTC
        

Failed to compile on one of 3 machaines. Below is the output from emerge:

g++ -c -pipe -march=pentium3 -Wall -W -O3 -Wall -Wno-switch -fomit-frame-pointer -D_REENTRANT -DPIC -fPIC  -DMMX -Di386 -D_GNU_SOURCE -D_FILE_OFFSET_BITS=64 -DPREFIX=\"/usr\" -DLIBDIR=\"/usr/lib\" -DUSING_OSS -DUSE_ALSA -DUSE_LIRC -DUSE_JACK -DUSING_XRANDR -DQT_NO_DEBUG -DQT_THREAD_SUPPORT -DQT_SHARED -DQT_TABLET_SUPPORT -I/usr/qt/3/mkspecs/linux-g++ -I. -I/usr/include -I../libmythsamplerate -I../libmythsoundtouch -I../.. -I.. -I/usr/qt/3/include -o volumebase.o volumebase.cpp
/usr/lib/gcc/i686-pc-linux-gnu/4.1.1/include/g++-v4/bits/locale_facets.tcc:1239: error: '_OutIter std::num_put<_CharT, _OutIter>::do_put' is not a static member of 'class std::num_put<_CharT, _OutIter>'
/usr/lib/gcc/i686-pc-linux-gnu/4.1.1/include/g++-v4/bits/locale_facets.tcc:1239: error: template definition of non-template '_OutIter std::num_put<_CharT, _OutIter>::do_put'
/usr/lib/gcc/i686-pc-linux-gnu/4.1.1/include/g++-v4/bits/locale_facets.tcc:1239: error: 'iter_Type' was not declared in this scope
/usr/lib/gcc/i686-pc-linux-gnu/4.1.1/include/g++-v4/bits/locale_facets.tcc:1239: error: expected primary-expression before '&' token
/usr/lib/gcc/i686-pc-linux-gnu/4.1.1/include/g++-v4/bits/locale_facets.tcc:1239: error: '__io' was not declared in this scope
/usr/lib/gcc/i686-pc-linux-gnu/4.1.1/include/g++-v4/bits/locale_facets.tcc:1239: error: expected primary-expression before '__fill'
/usr/lib/gcc/i686-pc-linux-gnu/4.1.1/include/g++-v4/bits/locale_facets.tcc:1240: error: expected primary-expression before 'long'
/usr/lib/gcc/i686-pc-linux-gnu/4.1.1/include/g++-v4/bits/locale_facets.tcc:1240: error: expected `;' before 'const'
g++ -c -pipe -march=pentium3 -Wall -W -O3 -Wall -Wno-switch -fomit-frame-pointer -D_REENTRANT -DPIC -fPIC  -DMMX -Di386 -D_GNU_SOURCE -D_FILE_OFFSET_BITS=64 -DPREFIX=\"/usr\" -DLIBDIR=\"/usr/lib\" -DUSING_OSS -DUSE_ALSA -DUSE_LIRC -DUSE_JACK -DUSING_XRANDR -DQT_NO_DEBUG -DQT_THREAD_SUPPORT -DQT_SHARED -DQT_TABLET_SUPPORT -I/usr/qt/3/mkspecs/linux-g++ -I. -I/usr/include -I../libmythsamplerate -I../libmythsoundtouch -I../.. -I.. -I/usr/qt/3/include -o audiooutputbase.o audiooutputbase.cpp
make[2]: *** [volumebase.o] Error 1
make[2]: *** Waiting for unfinished jobs....
make[2]: Leaving directory `/var/tmp/portage/media-tv/mythtv-0.20_p13288/work/mythtv-0.20/libs/libmyth'
make[1]: *** [sub-libmyth] Error 2
make[1]: Leaving directory `/var/tmp/portage/media-tv/mythtv-0.20_p13288/work/mythtv-0.20/libs'
make: *** [sub-libs] Error 2

!!! ERROR: media-tv/mythtv-0.20_p13288 failed.
Call stack:
  ebuild.sh, line 1614:   Called dyn_compile
  ebuild.sh, line 971:   Called qa_call 'src_compile'
  environment, line 3598:   Called src_compile
  mythtv-0.20_p13288.ebuild, line 208:   Called die

!!! emake failed
!!! If you need support, post the topmost build error, and the call stack if relevant.
!!! A complete build log is located at '/var/tmp/portage/media-tv/mythtv-0.20_p13288/temp/build.log'.

I get this everytime on this particular machine (which is identical to one of the machines i compiled same ebuild for earlier today without issue).

Reproducible: Always

Steps to Reproduce:
1. unmask -0.20_p13288 in package.keywords
2. emerge mythtv (USE Flags listed below)
USE="alsa crciprec dts dvd freebox frontendonly jack lcd lirc* mmx opengl perl vorbis xvmc (-altivec) -autostart -backendonly -dbox2 -debug -dvb -hdhomerun -ieee1394 -ivtv -joystick" VIDEO_CARDS="via -i810 -nvidia"
Actual Results:  
emerge fails with the error message listed in description section.

Expected Results:  
emerge should have completed sucessfully.




Comment 1


Paul Sands





          2007-04-20 23:33:01 UTC
        

Ok, so further testing shows that it fails at different points (i.e. duing compile of different files). I wonder if this is related to the update to MySQL (5.0.38) that was just marked as stable today.




Comment 2


Johannes Duschl





          2007-04-23 18:27:24 UTC
        

hello,

I have masked mysql greater than 5.0.26-r2. it compiles fine here. however, i'm not quite sure about this, but since it breaks at different points, it could also be a hardware failure, like faulty RAM.

what do you mean with "during compile of different files"? Files or different ebuilds/packages? For exmample, during "emerge -u world"?

greetings
jvs

(In reply to comment #1)
> Ok, so further testing shows that it fails at different points (i.e. duing
> compile of different files). I wonder if this is related to the update to MySQL
> (5.0.38) that was just marked as stable today.
> 






Comment 3


Doug Goldstein (RETIRED)






          2007-04-28 15:30:58 UTC
        

This is seriously pointing to a hardware issue or a corrupted gcc installation if it's only happening on 1 out of 3 machines and there are several successful confirmed users of this version.

If you can find something pointing to it being an ebuild issue and not a hardware or issue specific to your machine. Reopen.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

