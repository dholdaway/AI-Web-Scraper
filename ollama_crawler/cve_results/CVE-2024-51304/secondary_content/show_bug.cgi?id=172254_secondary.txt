Title: 172254 – No sound in KDE even though alsa is installed
URL: https://bugs.gentoo.org/show_bug.cgi?id=172254

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 172254
No sound in KDE even though alsa is installed
Last modified: 2007-09-02 00:53:22 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 172254 
      - No sound in KDE even though alsa is installed


Summary:
No sound in KDE even though alsa is installed
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-03-26 01:18 UTC by NM





      Modified:
    
2007-09-02 00:53 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



yngwin









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


NM





          2007-03-26 01:18:02 UTC
        

I have no sound in any app in KDE, even though the sound server is running, and the sound card is showing.  I have Alsa installed in the Kernel, I've tried recompiling without it and emerging alsa from the command line, and I get the same results.  I have tried to use the aplay utility in order to play system sounds, but all I get is horrible static.

I've tried everything I can think of to get this to work, but nothing happens.
The sound card is detected and installed but still no sound.

running lspci shows this:

**************
00:00.0 Memory controller: nVidia Corporation CK804 Memory Controller (rev a3)
00:01.0 ISA bridge: nVidia Corporation CK804 ISA Bridge (rev a3)
00:01.1 SMBus: nVidia Corporation CK804 SMBus (rev a2)
00:02.0 USB Controller: nVidia Corporation CK804 USB Controller (rev a2)
00:02.1 USB Controller: nVidia Corporation CK804 USB Controller (rev a3)
00:04.0 Multimedia audio controller: nVidia Corporation CK804 AC'97 Audio Controller (rev a2)
00:06.0 IDE interface: nVidia Corporation CK804 IDE (rev f2)
00:07.0 IDE interface: nVidia Corporation CK804 Serial ATA Controller (rev f3)
00:08.0 IDE interface: nVidia Corporation CK804 Serial ATA Controller (rev f3)
00:09.0 PCI bridge: nVidia Corporation CK804 PCI Bridge (rev a2)
00:0a.0 Bridge: nVidia Corporation CK804 Ethernet Controller (rev a3)
00:0b.0 PCI bridge: nVidia Corporation CK804 PCIE Bridge (rev a3)
00:0c.0 PCI bridge: nVidia Corporation CK804 PCIE Bridge (rev a3)
00:0d.0 PCI bridge: nVidia Corporation CK804 PCIE Bridge (rev a3)
00:0e.0 PCI bridge: nVidia Corporation CK804 PCIE Bridge (rev a3)
00:18.0 Host bridge: Advanced Micro Devices [AMD] K8 [Athlon64/Opteron] HyperTransport Technology Configuration
00:18.1 Host bridge: Advanced Micro Devices [AMD] K8 [Athlon64/Opteron] Address Map
00:18.2 Host bridge: Advanced Micro Devices [AMD] K8 [Athlon64/Opteron] DRAM Controller
00:18.3 Host bridge: Advanced Micro Devices [AMD] K8 [Athlon64/Opteron] Miscellaneous Control
01:00.0 VGA compatible controller: nVidia Corporation NV43 [GeForce 6600] (rev a2)
05:06.0 Multimedia video controller: Conexant CX23880/1/2/3 PCI Video and Audio Decoder (rev 05)
******************

As you can see, the sound card is there (Multimedia audio controller: nVidia Corporation CK804 AC'97 Audio Controller (rev a2))

My /etc/make.conf:

# These settings were set by the catalyst build script that automatically built this stage
# Please consult /etc/make.conf.example for a more detailed example
CFLAGS="-march=athlon64 -O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CXXFLAGS="${CFLAGS}"
MAKEOPTS="-j3"

SYNC="rsync://rsync.namerica.gentoo.org/gentoo-portage"
USE="gtk -gnome qt3 qt4 kde dvd alsa cdr cdparanoia 3dfx 3dnow X a52 aac acpi aim arts cddb crypt dri dvdr dvdread gtk2 gtkhtml icq mp3 nsplug
ins quicktime sasl ssl v4l win32codecs wxwindows xine xinerama yahoo oss"

I've tried using oss, esd, alsa, and auto for the settings in aRts, no effect.

If any other info needs to be posted, please let me know.

Reproducible: Always

Steps to Reproduce:
1.Play sound
2.
3.

Actual Results:  
No sound whatsoever, even though the sound server is running

Expected Results:  
I expect sound.

It should have given me sound.




Comment 1


Ben de Groot (RETIRED)






          2007-03-29 09:41:07 UTC
        

Which alsa module are you using?

I also recommend trying without arts, just use alsa straightaway for sound. Even so I suspect this is an alsa problem, rather than a KDE/aRts one, as you say you don't get sound with aplay either. And are you sure this is not a hardware problem?




Comment 2


NM





          2007-03-30 01:14:48 UTC
        

(In reply to comment #1)
> Which alsa module are you using?

1.0.14_rc2

> 
> I also recommend trying without arts, just use alsa straightaway for sound.

Thank you, but I've tried that.  Still no sound.

> Even so I suspect this is an alsa problem, rather than a KDE/aRts one, as you
> say you don't get sound with aplay either. 

I get sound with aplay, but it's nothing but horrible static, unusable and really annoying.

>And are you sure this is not a
> hardware problem?

Absolutely.  I run four other operating systems.  SuSe 10.2, Slackware 11, Windows XP64, and Windows XP Pro.  All on the same machine, removable drives. The only OS giving me trouble in this area is Gentoo.  Other than the sound, there are no problems.  I've been working on this for weeks, no luck at all.  Incidentally, this happened directly after I switched out motherboards from an MSI to an Asus.

I'm out of options and completely stumped.  It doesn't make a bit of sense to me at all.
> 






Comment 3


Carsten Lohrke (RETIRED)






          2007-04-03 11:34:14 UTC
        

When you do not even get proper sound via aplay, this is either a config or a driver issue.

According to the v4l-wiki¹, the driver status isn't too good, so depending on which kernel or alsa-driver version do you use the result may be very diffent.


Regarding aRts: I do not even know, if any of us caring for KDE on Gentoo runs aRts at all. Best advice is indeed to avoid the sucker. I remember back then, when I used it, that enabling full duplex in the sound system controlcenter module silenced my card and I had a hard time, to find that out. When you stop aRtsd and start it from commandline, does it throw any useful message, maybe!?


[1] http://www.linuxtv.org/v4lwiki/index.php/Cx88_devices_(cx2388x)


# 136810 While true, there's still the summary widget with its a popup menu loading the Kmail icon, which gets installed by the KMail ebuild.





Comment 4


NM





          2007-04-05 02:11:28 UTC
        

(In reply to comment #3)
> When you do not even get proper sound via aplay, this is either a config or a
> driver issue.

Agreed.  I just can't seem to find what the problem is.

> 
> According to the v4l-wiki¹, the driver status isn't too good, so depending on
> which kernel or alsa-driver version do you use the result may be very diffent.
> 

I'm using the latest kernel on the live CD.

> 
> Regarding aRts: I do not even know, if any of us caring for KDE on Gentoo runs
> aRts at all. Best advice is indeed to avoid the sucker. I remember back then,
> when I used it, that enabling full duplex in the sound system controlcenter
> module silenced my card and I had a hard time, to find that out. When you stop
> aRtsd and start it from commandline, does it throw any useful message, maybe!?
> 

Nothing unusual, everything tells me that the sound server is running and the card is detected.

This is the funny thing.

I've been using Gentoo for three years, since 2004, before that...I was an extensive user of Slackware and RH, never any major problems. I have always used aRts and KDE and I have never had this problem, not to this extent anyways.  I also run three other flavors of Linux on three different machines and four hard disks, including this version of Gentoo...besides the ocassional minor troubles, I've always managed to get everything working on all distros...I have no complaints about Gentoo...it's an excellent distro IMO, I just figured that someone else might have had similar problems.  I'm tempted to simply start over and reinstall from scratch...since this is a fairly new install anyway and I haven't had the chance to customize it much.

> 
> [1] http://www.linuxtv.org/v4lwiki/index.php/Cx88_devices_(cx2388x)

I'll check this out, thank you.

> 
> 
> # 136810 While true, there's still the summary widget with its a popup menu
> loading the Kmail icon, which gets installed by the KMail ebuild.
> 






Comment 5


Wulf Krueger (RETIRED)






          2007-07-08 19:47:20 UTC
        

NM, do you still have this problem?




Comment 6


Wulf Krueger (RETIRED)






          2007-09-02 00:53:22 UTC
        

No response and it works for me.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

