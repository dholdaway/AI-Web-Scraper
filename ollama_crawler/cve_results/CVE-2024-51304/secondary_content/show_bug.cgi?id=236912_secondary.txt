Title: 236912 – media-sound/alsa-utils-1.0.16, sys-kernel/gentoo-sources-2.6.25-r7, headphone jack overrides alsamixer mute settings
URL: https://bugs.gentoo.org/show_bug.cgi?id=236912

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 236912
media-sound/alsa-utils-1.0.16, sys-kernel/gentoo-sources-2.6.25-r7, headphone jack overrides alsamixer mute settings
Last modified: 2008-12-02 01:40:37 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 236912 
      - media-sound/alsa-utils-1.0.16, sys-kernel/gentoo-sources-2.6.25-r7, headphone jack overrides alsamixer mute settings


Summary:
media-sound/alsa-utils-1.0.16, sys-kernel/gentoo-sources-2.6.25-r7, headphone...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo ALSA team [DISABLED]








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-09-07 02:13 UTC by sa wu





      Modified:
    
2008-12-02 01:40 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


sa wu





          2008-09-07 02:13:25 UTC
        

Plugging in and out headphones seems to override alsamixer settings.

When muting front in alsamixer (effect: internal speaker muted)
and plugging in and out headphones/external speakers internal speakers unmute regardless of muting front in alsamixer settings.
this unmute does not show in alsamixer, which displays front being muted. restarting alsamixer does not change this.
time of muting front (first plugging in headphones/external speakers then muting front) does not affect specified behaviour.

Conversely plugging in headphones/external speaker automatically mutes internal speakers regardless of alsamixer settings.

Problem only appears with unmuted 'headphon' when plugging in/out headphones/external speakers and regardless of alsasound service running.

some config details i think relevant:
amd64 2008 no-multilib profile
gentoo-sources-2.6.25-r7 (pure alsa, without deprecated modules and oss support, built into kernel)
alsa-utils 1.0.16

alsa configuration is still as per emerge
switched to amd64 profile just yesterday.

my box:
samsung r70 aura deluis notebook ...
intel ich8 family hd audio controller, in kernel config: Intel HD Audio

bug may or may not be a desired feature by some people (see many posts etc regarding headphone jack sense not working et al.) but if so it should be togglable.

i ask forgiveness for not having found a solution myself or via extensive searching means.

Reproducible: Always

Steps to Reproduce:
1. alsamixer
2. mute front
3. plug in headphones/external speakers
4. plug off headphones/external speakers

1. alsamixer
2. unmute front and 'headphon'
3. plugin headphone/external speakers

Actual Results:  
internal speakers playing sound

internal speakers don't play sound

Expected Results:  
internal speakers stay muted

internal speakers still playing

using alsamixer to unmute then mute resp. mute then unmute 'front' puts internal speakers to desired state.

i used to have a x86 build on my system before, which did not feature this behaviour so the bug may or not be 2.6.25 related. for the 32 bit profile i used
tuxonice-sources 2.6.24-r9, basically same kernel config but for tuxonice, same alsa revisions and config.




Comment 1


sa wu





          2008-09-07 23:24:52 UTC
        

my comment on bug not being present in old build may or may not be true. if and oly if i recall correctly internal speakers never unmuted/muted unless being muted/unmuted via alsamixer. i never did test specified scenarios with old system.




Comment 2


sa wu





          2008-12-02 01:40:37 UTC
        

works for me with 2.6.27-r4, but might be completely unrelated









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

