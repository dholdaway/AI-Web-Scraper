Title: 95361 – gcc-3.4.3-r1 ebuild fails while building libraries
URL: https://bugs.gentoo.org/show_bug.cgi?id=95361

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 95361
gcc-3.4.3-r1 ebuild fails while building libraries
Last modified: 2005-09-13 09:54:08 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 95361 
      - gcc-3.4.3-r1 ebuild fails while building libraries


Summary:
gcc-3.4.3-r1 ebuild fails while building libraries
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Core system

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

AMD64 Project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-06-07 09:22 UTC by Scott Alfter





      Modified:
    
2005-09-13 09:54 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Scott Alfter





          2005-06-07 09:22:20 UTC
        

I already have a working install with gcc 3.4.2, but figured I'd emerge world to
get the latest.  gcc-3.4.3-r1 gets stuck while building the C runtime library (I
think that's what it's building when it crashes, anyway).

Reproducible: Always
Steps to Reproduce:
1. emerge gcc

Actual Results:  
ar rc libbackend.a alias.o bb-reorder.o bitmap.o builtins.o caller-save.o
calls.o cfg.o cfganal.o cfgbuild.o cfgcleanup.o cfglayout.o cfgloop.o
cfgloopanal.o cfgloopmanip.o loop-init.o loop-unswitch.o loop-unroll.o cfgrtl.o
combine.o conflict.o convert.o coverage.o cse.o cselib.o dbxout.o debug.o df.o
diagnostic.o dojump.o doloop.o dominance.o dwarf2asm.o dwarf2out.o emit-rtl.o
except.o explow.o expmed.o expr.o final.o flow.o fold-const.o function.o gcse.o
genrtl.o ggc-common.o global.o graph.o gtype-desc.o haifa-sched.o hooks.o
ifcvt.o insn-attrtab.o insn-emit.o insn-modes.o insn-extract.o insn-opinit.o
insn-output.o insn-peep.o insn-recog.o integrate.o intl.o jump.o  langhooks.o
lcm.o lists.o local-alloc.o loop.o optabs.o options.o opts.o params.o
postreload.o predict.o print-rtl.o print-tree.o value-prof.o profile.o ra.o
ra-build.o ra-colorize.o ra-debug.o ra-rewrite.o real.o recog.o reg-stack.o
regclass.o regmove.o regrename.o reload.o reload1.o reorg.o resource.o rtl.o
rtlanal.o rtl-error.o sbitmap.o sched-deps.o sched-ebb.o sched-rgn.o sched-vis.o
sdbout.o sibcall.o simplify-rtx.o sreal.o stmt.o stor-layout.o stringpool.o
targhooks.o timevar.o toplev.o tracer.o tree.o tree-dump.o unroll.o varasm.o
varray.o version.o vmsdbgout.o xcoffout.o alloc-pool.o et-forest.o cfghooks.o
bt-load.o pretty-print.o ggc-page.o web.o protector.o i386.o  host-default.o
hashtable.o tree-inline.o tree-optimize.o cgraph.o cgraphunit.o
/bin/sh /var/tmp/portage/gcc-3.4.3-r1/work/gcc-3.4.3/gcc/move-if-change
tmp-config.h insn-config.h
mv: cannot stat `tmp-config.h': No such file or directory
make[4]: *** [s-config] Error 1
make[4]: Leaving directory `/var/tmp/portage/gcc-3.4.3-r1/work/build/gcc'
make[3]: *** [32/crtbegin.o] Error 2
make[3]: *** Waiting for unfinished jobs....
if [ -f specs.ready ] ; then \
        true; \
else \
        echo timestamp > specs.ready; \
fi
ranlib libbackend.a
stage2/xgcc -Bstage2/ -B/usr/x86_64-pc-linux-gnu/bin/    -march=k8 -O2 -pipe
-W-Wall -Wwrite-strings -Wstrict-prototypes -Wmissing-prototypes -pedantic
-Wno-long-long -Wold-style-definition    -DIN_GCC   -W -Wall -Wwrite-strings
-Wstrict-prototypes -Wmissing-prototypes -pedantic -Wno-long-long   
-DHAVE_CONFIG_H  -o cc1 \
        c-parse.o c-lang.o c-pretty-print.o stub-objc.o attribs.o c-errors.o
c-lex.o c-pragma.o c-decl.o c-typeck.o c-convert.o c-aux-info.o c-common.o
c-opts.o c-format.o c-semantics.o c-incpath.o cppdefault.o c-ppoutput.o
c-cppbuiltin.o prefix.o c-objc-common.o c-dump.o c-pch.o libcpp.a  main.o
libbackend.a ../libiberty/libiberty.a
./xgcc -B./ -B/usr/x86_64-pc-linux-gnu/bin/ -isystem
/usr/x86_64-pc-linux-gnu/include -isystem /usr/x86_64-pc-linux-gnu/sys-include
-L/var/tmp/portage/gcc-3.4.3-r1/work/build/gcc/../ld -fno-stack-protector-all
-O2 -DIN_GCC    -W -Wall -Wwrite-strings -Wstrict-prototypes
-Wmissing-prototypes -Wold-style-definition  -isystem ./include  -I. -I32
-I/var/tmp/portage/gcc-3.4.3-r1/work/gcc-3.4.3/gcc
-I/var/tmp/portage/gcc-3.4.3-r1/work/gcc-3.4.3/gcc/32
-I/var/tmp/portage/gcc-3.4.3-r1/work/gcc-3.4.3/gcc/../include  -m32 -g0
-finhibit-size-directive -fno-inline-functions -fno-exceptions
-fno-zero-initialized-in-bss -fno-unit-at-a-time -fno-omit-frame-pointer
-fno-asynchronous-unwind-tables \
   -c /var/tmp/portage/gcc-3.4.3-r1/work/gcc-3.4.3/gcc/crtstuff.c -DCRT_END \
  -o 32/crtend.o
make[4]: Leaving directory `/var/tmp/portage/gcc-3.4.3-r1/work/build/gcc'
make[3]: Leaving directory `/var/tmp/portage/gcc-3.4.3-r1/work/build/gcc'
make[2]: *** [stmp-multilib] Error 2
make[2]: Leaving directory `/var/tmp/portage/gcc-3.4.3-r1/work/build/gcc'
make[1]: *** [stage3_build] Error 2
make[1]: Leaving directory `/var/tmp/portage/gcc-3.4.3-r1/work/build/gcc'
make: *** [bootstrap-lean] Error 2


Expected Results:  
built gcc

Portage 2.0.51.19 (default-linux/amd64/2004.3, gcc-3.4.2,
glibc-2.3.4.20040808-r1, 2.6.9-gentoo-r1 x86_64)
=================================================================
System uname: 2.6.9-gentoo-r1 x86_64 AMD Athlon(tm) 64 Processor 3200+
Gentoo Base System version 1.4.16
Python:              dev-lang/python-2.3.4 [2.3.4 (#1, Oct 28 2004, 08:02:56)]
distcc 2.18.3 x86_64-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
dev-lang/python:     2.3.4
sys-apps/sandbox:    [Not Present]
sys-devel/autoconf:  2.59-r5
sys-devel/automake:  1.8.5-r1
sys-devel/binutils:  2.15.90.0.1.1-r3
sys-devel/libtool:   1.5.2-r5
virtual/os-headers:  2.6.8.1-r4
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CFLAGS="-march=k8 -O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/X11R6/lib/X11/xkb /usr/kde/2/share/config
/usr/kde/3.3/env /usr/kde/3.3/share/config /usr/kde/3.3/shutdown
/usr/kde/3/share/config /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-march=k8 -O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig ccache distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://mirrors.tds.net/gentoo http://gentoo.ccccom.com"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://192.168.1.1/gentoo-portage"
USE="amd64 X acpi alsa arts berkdb bitmap-fonts cdr crypt curl dvd fam flac
font-server fortran gif gpm gtk ipv6 jp2 jpeg kde lzw lzw-tiff mad mp3 multilib
mysql ncurses nls ogg oggvorbis opengl oss pam perl png python qt radeon
readline ssl tcpd tiff truetype truetype-fonts type1-fonts usb userlocales
vorbis xine xinerama xml2 xpm xrandr xv zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CBUILD, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTDIR_OVERLAY




Comment 1


Simon Stelling (RETIRED)






          2005-09-02 13:15:49 UTC
        

uhm, this bug is quite old... is this fixed with 3.4.4-r1 or more recent versions?




Comment 2


Simon Stelling (RETIRED)






          2005-09-13 08:45:53 UTC
        

reopen if the bug still exists




Comment 3


Scott Alfter





          2005-09-13 09:54:08 UTC
        

To answer the question that was put in earlier, I've not run into problems
building gcc-3.4.4 on either AMD64 or x86.  









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

