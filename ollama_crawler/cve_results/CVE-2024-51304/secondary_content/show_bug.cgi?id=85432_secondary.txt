Title: 85432 – mjpegtools-1.6.2-r3 failed to compile
URL: https://bugs.gentoo.org/show_bug.cgi?id=85432

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 85432
mjpegtools-1.6.2-r3 failed to compile
Last modified: 2005-12-26 01:03:29 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 85432 
      - mjpegtools-1.6.2-r3 failed to compile


Summary:
mjpegtools-1.6.2-r3 failed to compile
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       blocker
      


Assignee:

Television related Applications in Gentoo's Portage








URL:







Whiteboard:




Keywords:









Duplicates (1):
    

100606

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2005-03-15 16:21 UTC by Tristan RENAUD





      Modified:
    
2005-12-26 01:03 UTC
      (History)
    




          CC List:
        

12 
          users
          
            (show)
          



blaisorblade_spam
david.morgan
denny.reeh
iellis
mgleed
mikael.osterdahl
mikomek
moixa
niv
pdenapo
rockoo
rossi.f









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Preprocessed source

              (cc1uK1QD.out,91.76 KB,
                text/plain)

            
2005-03-16 18:15 UTC,

            Bob Heise




Details





mjpegtools CVS version's ebuild

              (mjpegtools-cvs.tbz,2.00 KB,
                application/octet-stream)

            
2005-03-22 14:06 UTC,

            Tristan RENAUD




Details





Patch for mjpegtools-1.6.2-r3.ebuild

              (mjpegtools-1.6.2-r4.ebuild.patch,446 bytes,
                patch)

            
2005-04-11 15:56 UTC,

            Jürgen Hötzel




Details
            | Diff





Complete mjpegtools-1.6.2-r4.ebuild 

              (mjpegtools-1.6.2-r4.ebuild,3.45 KB,
                text/plain)

            
2005-04-11 15:58 UTC,

            Jürgen Hötzel




Details





Patch: replacement for quicktime_read_audio() is lqt_decode_audio_track()

              (mjpegtools-1.6.2-openquicktime094.patch,3.09 KB,
                patch)

            
2005-04-11 15:59 UTC,

            Jürgen Hötzel




Details
            | Diff





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Tristan RENAUD





          2005-03-15 16:21:11 UTC
        

Hi,
when I try to emerge kino, mjpegtools failed to compile due to undefined reference to quicktime_read_audio.

[...]
/bin/sh ../libtool --mode=link x86_64-pc-linux-gnu-gcc  -march=k8 -O3 -pipe -m64   -o lavplay  lavplay.o ../utils/libmjpegutils.la liblavplay.la liblavjpeg.la liblavfile.la -lpthread -L/usr/lib -Wl,-rpath,/usr/lib -lSDL -lpthread -L/usr/lib64 -lX11
x86_64-pc-linux-gnu-gcc -march=k8 -O3 -pipe -m64 -o .libs/lavplay lavplay.o -Wl,-rpath -Wl,/usr/lib  ../utils/.libs/libmjpegutils.so ./.libs/liblavplay.so ./.libs/liblavjpeg.so -L/usr/x86_64-pc-linux-gnu/bin -L/usr/x86_64-pc-linux-gnu/lib -L/usr/lib/gcc/x86_64-pc-linux-gnu/3.4.3-20050110/../../../../lib64 -L/lib/../lib64 -L/usr/lib/../lib64 ./.libs/liblavfile.so -L/usr/lib /usr/lib/libquicktime.so -lz /usr/lib/libjpeg.so /usr/lib/libSDL.so //usr/lib/gcc/x86_64-pc-linux-gnu/3.4.3-20050110/libstdc++.so -L/usr/lib/gcc/x86_64-pc-linux-gnu/3.4.3-20050110 -L/usr/lib/gcc/x86_64-pc-linux-gnu/3.4.3-20050110/../../../../x86_64-pc-linux-gnu/lib -lgcc_s -lc -lm -ldl -L/usr/lib64 -lXext -lpthread -lX11 -Wl,--rpath -Wl,/usr/lib -Wl,--rpath -Wl,//usr/lib/gcc/x86_64-pc-linux-gnu/3.4.3-20050110
./.libs/liblavfile.so: undefined reference to `quicktime_read_audio'
collect2: ld returned 1 exit status
make[2]: *** [lavplay] Erreur 1
make[2]: Leaving directory `/var/tmp/portage/mjpegtools-1.6.2-r3/work/mjpegtools-1.6.2/lavtools'
make[1]: *** [all-recursive] Erreur 1
make[1]: Leaving directory `/var/tmp/portage/mjpegtools-1.6.2-r3/work/mjpegtools-1.6.2'
make: *** [all] Erreur 2

!!! ERROR: media-video/mjpegtools-1.6.2-r3 failed.


Reproducible: Always
Steps to Reproduce:
1.emerge mjpegtools
2.
3.

Actual Results:  
mjpegtools don't compile.

Expected Results:  
compile and install mjpegtools.

fearfactory ~ # emerge --info
Portage 2.0.51.19 (default-linux/amd64/2004.3, gcc-3.4.3-20050110,
glibc-2.3.4.20050125-r0, 2.6.11-gentoo-r3 x86_64)
=================================================================
System uname: 2.6.11-gentoo-r3 x86_64 AMD Athlon(tm) 64 Processor 3200+
Gentoo Base System version 1.6.10
Python:              dev-lang/python-2.3.5 [2.3.5 (#1, Mar 10 2005, 09:18:49)]
dev-lang/python:     2.3.5
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.9.5, 1.5, 1.8.5-r3, 1.6.3, 1.7.9-r1, 1.4_p6
sys-devel/binutils:  2.15.92.0.2-r6
sys-devel/libtool:   1.5.10-r5
virtual/os-headers:  2.6.8.1-r3
ACCEPT_KEYWORDS="amd64 ~amd64"
AUTOCLEAN="yes"
CFLAGS="-march=k8 -O3 -pipe -m64"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.3/env
/usr/kde/3.3/share/config /usr/kde/3.3/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-march=k8 -O3 -pipe -m64"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig ccache distlocks sandbox"
GENTOO_MIRRORS="ftp://pandemonium.tiscali.de/pub/gentoo/
ftp://mirrors.blueyonder.co.uk/mirrors/gentoo ftp://mir.zyrianes.net/gentoo/
ftp://mir.zyrianes.net/gentoo/ http://gentoo.osuosl.org
http://www.ibiblio.org/pub/Linux/distributions/gentoo"
LANG="fr_FR@euro"
LC_ALL="fr_FR@euro"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="amd64 X aac acpi alsa apache2 apm arts avi bash-completion berkdb bindist
bitmap-fonts bmp bonobo bzlib cdb cdr crypt cups curl dga divx4linux doc dvd
dvdr encode esd exif fam fbcon flac font-server foomaticdb fortran ftp gb gif
gnome gphoto2 gpm gtk gtk2 gtkhtml icq imagemagick imlib ipv6 jabber java jp2
jpeg kde lzw lzw-tiff mikmod mime motif mp3 mpeg ncurses nls nvidia ogg
oggvorbis openal opengl oss pam pdflib perl png ppds python qt quicktime
readline sdl speex spell ssl svg tcpd tiff truetype truetype-fonts type1-fonts
usb userlocales videos wmf xface xine xml2 xmms xosd xpm xrandr xsl xv xvid
yahoo zlib linguas_fr"
Unset:  ASFLAGS, CBUILD, CTARGET, LDFLAGS, PORTDIR_OVERLAY




Comment 1


Bob Heise





          2005-03-16 18:15:05 UTC
        

Created attachment 53666 [details]
Preprocessed source

I tried emerging k3b, and during the compilation of mjpegtools-1.6.2-r3 I got
the following error:

motion.c: In function `calc_SAD_mmx':
motion.c:143: internal compiler error: asm clobber conflict with output operand




Comment 2


David Morgan





          2005-03-16 19:16:54 UTC
        

I also get "./.libs/liblavfile.so: undefined reference to `quicktime_read_audio'", but on ~x86 (same version of mjpegtools, and same version of gcc)




Comment 3


Ian Ellis





          2005-03-17 10:22:08 UTC
        

Got the quicktime_read_audio one here too.

emerge info:Portage 2.0.51.19 (default-linux/amd64/2005.0, gcc-3.4.3-20050110, glibc-2.3.4.20050125-r0, 2.6.11-gentoo-r3 x86_64)
=================================================================
System uname: 2.6.11-gentoo-r3 x86_64 AMD Athlon(tm) 64 Processor 3500+
Gentoo Base System version 1.6.10
Python:              dev-lang/python-2.3.5 [2.3.5 (#1, Feb 18 2005, 16:44:56)]
distcc 2.18.3 x86_64-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
ccache version 2.4 [enabled]
dev-lang/python:     2.3.5
sys-devel/autoconf:  2.59-r6, 2.13
sys-devel/automake:  1.7.9-r1, 1.8.5-r3, 1.5, 1.4_p6, 1.6.3, 1.9.5
sys-devel/binutils:  2.15.92.0.2-r6
sys-devel/libtool:   1.5.14
virtual/os-headers:  2.6.10
ACCEPT_KEYWORDS="amd64 ~amd64"
AUTOCLEAN="yes"
CFLAGS="-O3 -march=athlon64 -pipe -fomit-frame-pointer"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O3 -march=athlon64 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig buildpkg ccache distlocks fixpackages sandbox"
GENTOO_MIRRORS="ftp://gentoo.chem.wisc.edu/gentoo/ http://cudlug.cudenver.edu/gentoo/ ftp://lug.mtu.edu/gentoo/source/ ftp://mirrors.sec.informatik.tu-darmstadt.de/gentoo/ http://open-systems.ufl.edu/mirrors/gentoo"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage/halcy0n"
SYNC="rsync://rsync.namerica.gentoo.org/gentoo-portage"
USE="amd64 X aalib aclocal acpi aim alsa audiofile avi berkdb bitmap-fonts blas bonobo cdr crypt cups curl divx4linux dvd emul-linux-x86 encode esd f77 fam flac font-server foomaticdb fortran gif gnome gpm gstreamer gtk gtkhtml guile imagemagick imlib ipv6 java jp2 jpeg junit kde ldap live lzw lzw-tiff mad motif mozilla mp3 mpeg nas ncurses network nls nptl offensive oggvorbis opengl oss pam pdf pdflib perl pic plotutils png posix ppds pthreads python qt quicktime readline samba sdl spell ssl tcpd tiff truetype truetype-fonts type1-fonts unicode usb userlocales xine xml xml2 xmms xpm xrandr xscreensaver xv xvid zlib"
Unset:  ASFLAGS, CBUILD, CTARGET, LANG, LC_ALL, LDFLAGS





Comment 4


circuit_breaker





          2005-03-17 18:24:01 UTC
        

This URL explains the problem.  things that mjpegtools need from these qtime libs changed.  in CVS, it's fixed.. 

http://www.mail-archive.com/mjpeg-users@lists.sourceforge.net/msg05238.html






Comment 5


Gregg Casillo





          2005-03-20 21:16:22 UTC
        

Prepending USE="-quicktime" allows me to build and emerge cleanly without the aforementioned error. It's enough to get by until the fix from CVS finds its way into portage. Thanks for this bug report folks.




Comment 6


Tristan RENAUD





          2005-03-22 14:06:54 UTC
        

Created attachment 54179 [details]
mjpegtools CVS version's ebuild

Hi there,

I made an ebuild for the CVS version of mjpegtools. It works for me but don't
know if it will for you.

Hope that help.




Comment 7


Jonathan Heaney





          2005-04-05 03:08:07 UTC
        

Tristan,

Your cvs ebuild works with libquicktime 0.9.4 for me here.  Thanks.




Comment 8


Jory A. Pratt





          2005-04-08 13:46:24 UTC
        

This is an issue for all variants not just specific to amd64 reason for change.




Comment 9


Jürgen Hötzel





          2005-04-11 15:56:56 UTC
        

Created attachment 56037 [details, diff]
Patch for mjpegtools-1.6.2-r3.ebuild




Comment 10


Jürgen Hötzel





          2005-04-11 15:58:20 UTC
        

Created attachment 56038 [details]
Complete mjpegtools-1.6.2-r4.ebuild 

conditional patch (depending on installed libquicktime version)




Comment 11


Jürgen Hötzel





          2005-04-11 15:59:51 UTC
        

Created attachment 56039 [details, diff]
Patch: replacement for quicktime_read_audio() is lqt_decode_audio_track()

from mjpegtools cvs




Comment 12


Jürgen Hötzel





          2005-04-11 16:02:49 UTC
        

Maybe, the best workaround is conditional patch (depending on installed openquicktime version) the mjpegtools-1.6.2 sources.

From mjpegtools CVS:
quicktime_read_audio() came up undefined when using the CVS version of
libquicktime (it is an obsolete function the libquicktime folks want to
get rid of as soon as possible).  After asking on the libquicktime mailinglist
the replacement for quicktime_read_audio() is lqt_decode_audio_track().
A similar function exists for writing audio (lqt_encode_audio_track).
One VERY important and useful side effect of using the lqt_{encode|decode}_audio_track
routines is that they handle the endianness of the data - the underlying
libquickime routines know about flipping the bytes and thus that logic can
disappear from lav_io.c


J




Comment 13


Jürgen Hötzel





          2005-04-11 16:02:49 UTC
        

Maybe, the best workaround is conditional patch (depending on installed openquicktime version) the mjpegtools-1.6.2 sources.

From mjpegtools CVS:
quicktime_read_audio() came up undefined when using the CVS version of
libquicktime (it is an obsolete function the libquicktime folks want to
get rid of as soon as possible).  After asking on the libquicktime mailinglist
the replacement for quicktime_read_audio() is lqt_decode_audio_track().
A similar function exists for writing audio (lqt_encode_audio_track).
One VERY important and useful side effect of using the lqt_{encode|decode}_audio_track
routines is that they handle the endianness of the data - the underlying
libquickime routines know about flipping the bytes and thus that logic can
disappear from lav_io.c


Jürgen




Comment 14


Nicolas Vilz





          2005-04-12 00:52:39 UTC
        

i tried Patch: replacement for quicktime_read_audio() is lqt_decode_audio_track(), did ebuild compile, install and qmerge and it cleanly compiled and installed. I hope there will be a similar solution to http://bugs.gentoo.org/show_bug.cgi?id=85865 so I can finaly merge k3b for testing my hardware...




Comment 15


Shawn





          2005-04-17 18:53:08 UTC
        

I'm getting this with the new mjpegtools-1.6.2-r4.ebuild.

liblavfile.so -L/usr/lib /usr/lib/libquicktime.so /usr/lib/libjpeg.so /usr/lib/l ibSDL.so //usr/lib/gcc-lib/i686-pc-linux-gnu/3.3.5/libstdc++.so -lgcc_s -lc /usr /lib/libasound.so -lm -ldl -lXext -lvga -lpthread -lX11 -Wl,--rpath -Wl,//usr/li b/gcc-lib/i686-pc-linux-gnu/3.3.5
./.libs/liblavfile.so: undefined reference to `lqt_last_audio_position'
./.libs/liblavfile.so: undefined reference to `lqt_encode_audio_track'
./.libs/liblavfile.so: undefined reference to `lqt_decode_audio_track'
collect2: ld returned 1 exit status
make[2]: *** [lavplay] Error 1
make[2]: Leaving directory `/var/tmp/portage/mjpegtools-1.6.2-r4/work/mjpegtools -1.6.2/lavtools'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/mjpegtools-1.6.2-r4/work/mjpegtools -1.6.2'
make: *** [all] Error 2

!!! ERROR: media-video/mjpegtools-1.6.2-r4 failed.
!!! Function src_compile, Line 102, Exitcode 2
!!! emake failed

Portage 2.0.51.19 (default-linux/x86/2005.0, gcc-3.4.3-20050110, glibc-2.3.4.200 50125-r1, 2.6.11-gentoo-r6 i686)
=================================================================
System uname: 2.6.11-gentoo-r6 i686 Intel(R) Pentium(R) 4 CPU 3.00GHz
Gentoo Base System version 1.4.16
Python:              dev-lang/python-2.3.4-r1 [2.3.4 (#1, Apr  9 2005, 17:51:41) ]
dev-lang/python:     2.3.4-r1
sys-devel/autoconf:  2.59-r6, 2.13
sys-devel/automake:  1.7.9-r1, 1.8.5-r3, 1.5, 1.4_p6, 1.6.3, 1.9.4
sys-devel/binutils:  2.15.92.0.2-r7
sys-devel/libtool:   1.5.14
virtual/os-headers:  2.6.11
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CFLAGS="-march=pentium4 -O3 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config /usr/lib/X1 1/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-march=pentium4 -O3 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig ccache distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/Linux/ distributions/gentoo"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage /usr/local/bmg-main /usr/local/gentoo.de"
SYNC="rsync://rsync.namerica.gentoo.org/gentoo-portage"
USE="x86 X alsa apache2 apm avi berkdb bitmap-fonts bonobo cdr crypt cups curl d vd emboss encode esd fam flac foomaticdb fortran gdbm gif gimpprint gnome gpm gs treamer gtk gtk2 imagemagick imlib ipv6 java jpeg libg++ libwww mad mikmod motif  mp3 mpeg mysql nas ncurses nls nptl nptlonly ogg oggvorbis opengl oss pam pdfli b perl png ppds python quicktime readline scanner sdl spell ssl svga tcltk tcpd tiff truetype truetype-fonts type1-fonts usb vorbis xml xml2 xmms xv zlib"
Unset:  ASFLAGS, CBUILD, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS

The really strange thig is it looks like it is compiling with gcc-3.3.5.  When I have gcc-3.4.3-20050110 set as my compiler. I get the same error if I change to gcc-3.3.5 also.







Comment 16


Fabio Rossi





          2005-04-18 07:06:57 UTC
        

Shawn, I had the same problem and the solution was to upgrade to libquicktime-0.9.4. I'm using mjpegtools-1.6.2-r3




Comment 17


Matt MacAulay





          2005-04-18 10:31:17 UTC
        

Shawn & Fabio, 

I had the same compilation problems as well. 
mjpegtools-1.6.2-r3 and libquicktime-0.9.2

I temporarily "solved" the problem by merging openquicktime in place of libquicktime. I hope it didn't cause breakage elsewhere...




Comment 18


Bret Comstock Waldow





          2005-04-20 04:36:50 UTC
        

I have used patch before, and there are differening arguments, usages, etc.     '--help' shows a couple of screenfuls of arguments.
Is there some standard "gentoo way" of applying a patch so that the arguments never vary?  If so, please point me at the place it shows that.
Otherwise, could you please include the command line for applying these patches?  Is it '-p0' or ?
Thanks.




Comment 19


Denny Reeh





          2005-04-22 02:42:29 UTC
        

compiled failed on my machine, too.




Comment 20


Denny Reeh





          2005-04-22 02:51:58 UTC
        

it works, if you do so:

emerge --unmerge libquicktime
emerge openquicktime
emerge mjpegtools




Comment 21


Daniel Webert





          2005-04-22 05:49:38 UTC
        

plz a solution now in cvs - it is a stable one :( and the bug has +1 month




Comment 22


Jan Seiffert





          2005-04-23 11:36:03 UTC
        

Had to revdeb-rebuild due to directfb-update.
Now same Problem over here:

...
./.libs/liblavfile.so: undefined reference to `lqt_last_audio_position'
./.libs/liblavfile.so: undefined reference to `lqt_encode_audio_track'
./.libs/liblavfile.so: undefined reference to `lqt_decode_audio_track'
collect2: ld returned 1 exit status
make[2]: *** [lavplay] Error 1
make[2]: Leaving directory `/var/tmp/portage/mjpegtools-1.6.2-r3/work/mjpegtools-1.6.2/lavtools'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/mjpegtools-1.6.2-r3/work/mjpegtools-1.6.2'
make: *** [all] Error 2

!!! ERROR: media-video/mjpegtools-1.6.2-r3 failed.
...

The stable mjpegtools and the stable libquicktime (still 0.9.2) don't like each other, since the libquicktime-0.9.4-patch is applied unconditionaly.

Solved by 'echo "=media-libs/libquicktime-0.9.4 ~x86" >> /etc/portage/package.keywords'
and 'emerge --oneshot libquicktime'

Afterwards revdep-rebuild could remerge mjpegtools.




Comment 23


Nathan James





          2005-04-25 05:47:55 UTC
        

I simply got this working by using USE="-quicktime" for the time being on my amd64 system.




Comment 24


Ralph Alvy





          2005-04-26 23:20:51 UTC
        

I just got the following tonight:

./.libs/liblavfile.so: undefined reference to `lqt_last_audio_position'
./.libs/liblavfile.so: undefined reference to `lqt_encode_audio_track'
./.libs/liblavfile.so: undefined reference to `lqt_decode_audio_track'
collect2: ld returned 1 exit status
make[2]: *** [lavplay] Error 1
make[2]: Leaving directory `/var/tmp/portage/mjpegtools-1.6.2-r3/work/mjpegtools-1.6.2/lavtools'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/mjpegtools-1.6.2-r3/work/mjpegtools-1.6.2'
make: *** [all] Error 2

!!! ERROR: media-video/mjpegtools-1.6.2-r3 failed.
!!! Function src_compile, Line 111, Exitcode 2
!!! emake failed





Comment 25


Björn Kuhlmann





          2005-04-27 08:19:07 UTC
        

Got the same error as Ralph Alvy. Here my emerge info:

Portage 2.0.51.19 (default-linux/x86/2005.0, gcc-3.3.5, glibc-2.3.4.20041102-r1, 2.6.10-gentoo-r6 i686)
=================================================================
System uname: 2.6.10-gentoo-r6 i686 Pentium III (Katmai)
Gentoo Base System version 1.4.16
Python:              dev-lang/python-2.3.4-r1 [2.3.4 (#1, Feb  8 2005, 22:15:31)]
dev-lang/python:     2.3.4-r1
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.8.5-r3, 1.5, 1.7.9-r1, 1.6.3, 1.4_p6, 1.9.4
sys-devel/binutils:  2.15.92.0.2-r1
sys-devel/libtool:   1.5.10-r4
virtual/os-headers:  2.6.8.1-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CFLAGS="-O2 -march=pentium3 -fomit-frame-pointer -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.3/env /usr/kde/3.3/share/config /usr/kde/3.3/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=pentium3 -fomit-frame-pointer -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig ccache distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://pandemonium.tiscali.de/pub/gentoo/ ftp://pandemonium.tiscali.de/pub/gentoo/ http://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/ ftp://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/overlays/gentoo-de /usr/local/overlays/gentoo-de-ebuilds"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X alsa apm arts avi bash-completion berkdb bitmap-fonts cdr crypt cups curl divx4linux dvb emboss encode foomaticdb fortran gdbm gif gpm imlib jpeg libg++ libwww mad mikmod motif mp3 mpe
g ncurses nls ogg oggvorbis opengl oss pam pdflib perl png python qt quicktime readline samba sdl spell ssl svga tcpd tiff truetype truetype-fonts type1-fonts vorbis win32codecs xml2 xmms xv zlib"
Unset:  ASFLAGS, CBUILD, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS




Comment 26


David Grant





          2005-05-05 16:15:57 UTC
        

Getting the same as comment #23




Comment 27


msalerno





          2005-06-04 11:14:30 UTC
        

What I had to do to resolve this issue is tell the gcc-config to use the vanilla
profile, then compile mjpegtools with the following line:


USE="-quicktime" CFLAGS=" " emerge mjpegtools




Comment 28


Fabio Rossi





          2005-06-04 12:01:31 UTC
        

Now libquicktime-0.9.4 is stable for all archs. I think this bug could be
closed. Is there anyone who still have problems (please sync the portage first)?




Comment 29


David Li





          2005-06-30 13:46:07 UTC
        

Yep, I'm using libquicktime-0.9.7 and it seems resolved. Let's close the bug!




Comment 30


Benjamin Greiner





          2005-07-10 14:27:11 UTC
        

Had the same error tonight. Fixed after I emerged libquicktime-0.9.4

Please make sure mjeptools depends on a working quicktime.




Comment 31


Jakub Moc (RETIRED)






          2005-07-28 09:28:37 UTC
        

*** Bug 100606 has been marked as a duplicate of this bug. ***




Comment 32


Jim Colton





          2005-08-24 11:40:10 UTC
        

Without looking at whether this fix satifies what the library really needs, I 
followed the steps at the bottom of this page and the symbols were resolved 
sucessfully. 
 
http://www.abclinuxu.cz/forum/show/84825 
 
In case the page is gone, here is the solution that they took.  (use a 
different quicktime library): 
 
emerge -C libquicktime  
emerge quicktime4linux  




Comment 33


Tristan RENAUD





          2005-09-21 06:29:43 UTC
        

Hi, 
I thing we can close that bug, because mjpegtools version 1.7.0_alpha compiles   
fine on my AMD64 box.   
  
I don't know which option to choose in the  "Resolve bug, changing resolution 
to  FIXED ..." listbox. 
 
Thanks. 
 
Tristan. 




Comment 34


Doug Goldstein (RETIRED)






          2005-12-25 22:22:22 UTC
        

Please try mjpegtools-1.8.0. Because this has worked for me. Even with the listed versions.




Comment 35


Tristan RENAUD





          2005-12-26 01:03:29 UTC
        

(In reply to comment #33)
> Please try mjpegtools-1.8.0. Because this has worked for me. Even with the
> listed versions.
> 

Hi, yep, since version 1.7.0_alpha this worked for me. Kino compiles fine with the mjpegtools-1.8.0 and last version of libquicktime. I think everything that depends on new versions of libquicktime has been updated, so this bug is RESOLVED. Should I close it or leave it RESOLVED ?

Tristan.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

