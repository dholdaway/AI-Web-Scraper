Title: 238400 – Unable to determine VM for building from dependencies - ImportError: No module named java_config_2
URL: https://bugs.gentoo.org/show_bug.cgi?id=238400

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 238400
Unable to determine VM for building from dependencies - ImportError: No module named java_config_2
Last modified: 2008-09-28 12:47:50 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 238400 
      - Unable to determine VM for building from dependencies - ImportError: No module named java_config_2


Summary:
Unable to determine VM for building from dependencies - ImportError: No modul...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Development

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Java team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-09-22 15:05 UTC by Graham Russell





      Modified:
    
2008-09-28 12:47 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Graham Russell





          2008-09-22 15:05:09 UTC
        

* checking ant-1.7.0-gentoo.tar.bz2 ;-) ...                                                           [ ok ]
Traceback (most recent call last):
  File "/usr/bin/depend-java-query", line 8, in <module>
    from java_config_2 import __version__
ImportError: No module named java_config_2
 * Unable to determine VM for building from dependencies:
NV_DEPEND: >=virtual/jdk-1.4
	!<dev-java/ant-tasks-1.7.0
	!<dev-java/ant-1.7.0
	!dev-java/ant-optional
	source? ( app-arch/zip )  >=dev-java/java-config-2.0.33-r1 >=sys-apps/portage-2.1.2.7 >=dev-java/javatoolkit-0.2.0-r1 >=sys-apps/portage-2.1.2.7  
VNEED: 
 * 
 * ERROR: dev-java/ant-core-1.7.0-r1 failed.
 * Call stack:
 *               ebuild.sh, line   49:  Called pkg_setup
 *               ebuild.sh, line 1244:  Called java-pkg-2_pkg_setup
 *       java-pkg-2.eclass, line   60:  Called java-pkg_init
 *     java-utils-2.eclass, line 2090:  Called java-pkg_switch-vm
 *     java-utils-2.eclass, line 2516:  Called die
 * The specific snippet of code:
 *   				die "Failed to determine VM for building."
 *  The die message:
 *   Failed to determine VM for building.
 * 
 * If you need support, post the topmost build error, and the call stack if relevant.
 * A complete build log is located at '/var/tmp/portage/dev-java/ant-core-1.7.0-r1/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/dev-java/ant-core-1.7.0-r1/temp/die.env'.
 * 
!!! When you file a bug report, please include the following information:
GENTOO_VM=  CLASSPATH="." JAVA_HOME=""
JAVACFLAGS="" COMPILER=""
and of course, the output of emerge --info

 * Messages for package dev-java/ant-core-1.7.0-r1:

 * Unable to determine VM for building from dependencies:
 * 
 * ERROR: dev-java/ant-core-1.7.0-r1 failed.
 * Call stack:
 *               ebuild.sh, line   49:  Called pkg_setup
 *               ebuild.sh, line 1244:  Called java-pkg-2_pkg_setup
 *       java-pkg-2.eclass, line   60:  Called java-pkg_init
 *     java-utils-2.eclass, line 2090:  Called java-pkg_switch-vm
 *     java-utils-2.eclass, line 2516:  Called die
 * The specific snippet of code:
 *   				die "Failed to determine VM for building."
 *  The die message:
 *   Failed to determine VM for building.
 * 
 * If you need support, post the topmost build error, and the call stack if relevant.
 * A complete build log is located at '/var/tmp/portage/dev-java/ant-core-1.7.0-r1/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/dev-java/ant-core-1.7.0-r1/temp/die.env'.
 * 
 * GNU info directory index is up-to-date.

Reproducible: Always

Steps to Reproduce:
1. emerge jade (or just emerge ant-core)




Comment 1


Graham Russell





          2008-09-22 15:05:40 UTC
        

$ emerge --info
Portage 2.1.4.4 (default-linux/amd64/2007.0, gcc-4.1.2, glibc-2.6.1-r0, 2.6.25-gentoo-r7 x86_64)
=================================================================
System uname: 2.6.25-gentoo-r7 x86_64 Intel(R) Core(TM)2 Quad CPU Q6600 @ 2.40GHz
Timestamp of tree: Mon, 22 Sep 2008 14:18:01 +0000
distcc 2.18.3 x86_64-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
ccache version 2.4 [enabled]
app-shells/bash:     3.2_p33
dev-java/java-config: 1.3.7, 2.1.6
dev-lang/python:     2.5.2-r7
dev-util/ccache:     2.4-r7
sys-apps/baselayout: 1.12.11.1
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.61-r2
sys-devel/automake:  1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.1-r1
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.23-r3
ACCEPT_KEYWORDS="amd64"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=nocona -O2 -pipe -maccumulate-outgoing-args -mieee-fp"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/config"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-march=nocona -O2 -pipe -maccumulate-outgoing-args -mieee-fp"
DISTDIR="/usr/portage/distfiles"
FEATURES="ccache distlocks metadata-transfer parallel-fetch sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://gentoo.virginmedia.com/ http://mirror.bytemark.co.uk/gentoo/ http://www.mirrorservice.org/sites/www.ibiblio.org/gentoo/ http://mirror.qubenet.net/mirror/gentoo/"
LINGUAS="en en_GB"
MAKEOPTS="-j10"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="X a52 aac acl acpi alsa amd64 apache2 arts berkdb bzip2 cdr cli cracklib crypt css cups dbus dri dvd dvdr dvdread encode exif fat ffmpeg flac fortran fping ftp gdbm gif gimp gpm grammar gtk gtk+ hal hddtemp iconv imagemagick ipv6 isdnlog jbig jfs jpeg jpeg2k kerberos lame latex lm_sensors mad math md5sum midi mjpeg mmx mmxext mono mp2 mp3 mp4 mpeg mplayer mudflap musepack ncurses network nls nptl nptlonly ntfs ogg openal opengl openmp oss ots pam pcre pdf perl php png pnm pppd pulseaudio python qt4 quicktime radio rar raw readline reflection reiser4 reiserfs ruby samba session sndfile spell spl sqlite sse sse2 ssl ssse3 startup-notification svg tcpd theora thesaurus threads tiff unicode vcd vorbis wmf wordperfect wxwindows x264 xfs xine xinerama xml xorg xscreensaver xvid zlib" ALSA_CARDS="hda-intel" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CAMERAS="canon" ELIBC="glibc" INPUT_DEVICES="mouse keyboard" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en en_GB" USERLAND="GNU" VIDEO_CARDS="nvidia vesa"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 2


Vlastimil Babka (Caster) (RETIRED)






          2008-09-23 07:28:23 UTC
        

Did you upgrade python without running python-udpater?




Comment 3


Graham Russell





          2008-09-26 23:29:17 UTC
        

I ran python-updater but I still get the same error. I posted this the other day but it did not seem to work...




Comment 4


Vlastimil Babka (Caster) (RETIRED)






          2008-09-27 10:39:57 UTC
        

Ok so were you upgrading from python 2.4 to python 2.5 in the first place? Did you run python-updater BEFORE unmerging python 2.4? Did it reinstall anything? I suppose it didn't reinstall =java-config-2* 
You should reinstall it manually, in fact all packages that get reported by this command:
# equery belongs /usr/lib/python2.4

Or this command could help if you uninstalled python 2.4 before running python-updater:
# python-updater -o 2.4

It's also possible that python-updater does not work for some reason - bug 232313.




Comment 5


Graham Russell





          2008-09-28 12:02:28 UTC
        

I haven't upgraded from 2.4 to 2.5; I am still on 2.4.

I reinstalled everything from # equery belongs /usr/lib/python2.4 and it works fine now.




Comment 6


Vlastimil Babka (Caster) (RETIRED)






          2008-09-28 12:47:50 UTC
        

OK.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

