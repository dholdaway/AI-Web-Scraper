Title: 251561 – dev-python/pykde-3.16.2 - environment: line 4489: kde-config: command not found
URL: https://bugs.gentoo.org/show_bug.cgi?id=251561

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 251561
dev-python/pykde-3.16.2 - environment: line 4489: kde-config: command not found
Last modified: 2009-01-05 18:25:29 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 251561 
      - dev-python/pykde-3.16.2 - environment: line 4489: kde-config: command not found


Summary:
dev-python/pykde-3.16.2 - environment: line 4489: kde-config: command not found
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Python Gentoo Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-12-18 22:06 UTC by Marijn Schouten (RETIRED)





      Modified:
    
2009-01-05 18:25 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



kde









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




pykde-3.16.2/temp/build.log

              (build.log,2.65 KB,
                text/plain)

            
2008-12-18 22:07 UTC,

            Marijn Schouten (RETIRED)




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Marijn Schouten (RETIRED)






          2008-12-18 22:06:37 UTC
        

dev-python/pykde-3.16.2 fails at emake




Comment 1


Marijn Schouten (RETIRED)






          2008-12-18 22:07:05 UTC
        

Created attachment 175806 [details]
pykde-3.16.2/temp/build.log




Comment 2


Marijn Schouten (RETIRED)






          2008-12-18 22:07:30 UTC
        

Portage 2.1.6.1 (default/linux/amd64/2008.0/desktop, gcc-4.3.2, glibc-2.8_p20080602-r1, 2.6.26-gentoo-r1 x86_64)
=================================================================
System uname: Linux-2.6.26-gentoo-r1-x86_64-Intel-R-_Core-TM-2_CPU_6600_@_2.40GHz-with-glibc2.2.5
Timestamp of tree: Thu, 18 Dec 2008 16:36:01 +0000
app-shells/bash:     3.2_p48
dev-java/java-config: 1.3.7, 2.1.3
dev-lang/python:     2.5.2-r8
dev-python/pycrypto: 2.0.1-r6
dev-util/cmake:      2.6.2
sys-apps/baselayout: 2.0.0
sys-apps/openrc:     0.3.0-r1
sys-apps/sandbox:    1.2.18.1-r3
sys-devel/autoconf:  2.13, 2.63
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.2
sys-devel/binutils:  2.19
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   2.2.6a
virtual/os-headers:  2.6.27-r2
ACCEPT_KEYWORDS="amd64 ~amd64"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=core2 -O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/config"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-march=core2 -O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="collision-protect cvs distlocks fixpackages parallel-fetch protect-owned sandbox sfperms splitdebug strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LANG="en_US.UTF-8"
LDFLAGS="-Wl,-O1"
LINGUAS="en nl"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portage/local/layman/nouveau /home/marijn/git/gentoo-lisp-overlay /home/marijn/overlay"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X Xaw3d a52 aac acl acpi alsa amd64 bash-completion berkdb bluetooth branding bzip2 cairo cdr cli cracklib crypt cups dbus dri dts dvd dvdr dvdread eds emacs emboss encode esd evo fam firefoxflac fortran gdbm gif gmp gpm gstreamer gtk hal history iconv ipv6 isdnlog jpeg kde kpathsea ldap libnotify lm_sensors mad midi mikmod mmx mng mp3 mpeg mudflap multilib ncurses nls nptl nptlonly nvidia offensive ogg opengl openmp pam pcre pdf perl png ppds pppd python qt3 qt3support qt4 quicktime readline reflection sasl sdl session smp speex spell spl sse sse2 ssl startup-notification svg sysfs tcpd theora threads tiff truetype unicode usb vorbis xinerama xml xorg xpm xulrunner xv zlib" ALSA_CARDS="hda-intel" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en nl" USERLAND="GNU" VIDEO_CARDS="fbdev nouveau nv nvidia"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LC_ALL, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS





Comment 3


Wormo (RETIRED)






          2008-12-19 07:19:42 UTC
        

For some reason, kde-config is not being found. Could you show what kde-libs you have installed: 'emerge -pv kde-base/kdelibs-3.5'

Also, check that you can run 'kde-config --help' from the command line -- it should be on your path.




Comment 4


Wormo (RETIRED)






          2008-12-19 07:21:07 UTC
        

Sorry, typo in showing current kdelibs, should be 'emerge -pv =kde-base/kdelibs-3.5*'




Comment 5


Marijn Schouten (RETIRED)






          2008-12-19 13:05:44 UTC
        

I have kde-base/kdelibs-3.5.10-r2 and kde-base/kdelibs-4.1.3-r1 installed and kde-config is not in my PATH.




Comment 6


Lars Wendler (Polynomial-C) (RETIRED)






          2008-12-19 15:27:58 UTC
        

That's odd...

# qfile -Cv `which kde-config`
kde-base/kdelibs-3.5.10-r2 (/usr/kde/3.5/bin/kde-config)

Marijn does the problem vanish when you rebuild kdelibs-3.5.10-r2?

emerge --oneshot =kdelibs-3.5.10-r2




Comment 7


Marijn Schouten (RETIRED)






          2008-12-19 23:24:06 UTC
        

No, the problem remains after rebuilding kdelibs.




Comment 8


Lars Wendler (Polynomial-C) (RETIRED)






          2008-12-20 01:42:55 UTC
        

Please check if /usr/kde/3.5/bin/kde-config exists on your system and if yes, please post the content of your /etc/env.d/45kdepaths-3.5 file as well as the output of 
  env | grep -i kde
from the user, which you are running emerge with (usually root).




Comment 9


Jeroen Roovers (RETIRED)






          2008-12-20 18:05:48 UTC
        

Why don't you assign your own bugs?




Comment 10


Marijn Schouten (RETIRED)






          2008-12-24 15:55:19 UTC
        

/usr/kde/3.5/bin/kde-config exists as part of kde-base/kdelibs-3.5.10-r2

/etc/env.d/45kdepaths-3.5:
PATH=/usr/kde/3.5/bin
ROOTPATH=/usr/kde/3.5/sbin:/usr/kde/3.5/bin
LDPATH=/usr/kde/3.5/lib:/usr/kde/3.5/lib64:/usr/kde/3.5/lib32
MANPATH=/usr/kde/3.5/share/man
CONFIG_PROTECT="/usr/kde/3.5/share/config /usr/kde/3.5/env /usr/kde/3.5/shutdown /usr/share/config"
#KDE_IS_PRELINKED=1
# Excessive flushing to disk as in releases before KDE 3.5.10. Usually you don't want that.
#KDE_EXTRA_FSYNC=1
XDG_DATA_DIRS="/usr/share:/usr/kde/3.5/share:/usr/local/share"
COLON_SEPARATED="XDG_DATA_DIRS"


# env | grep -i kde
MANPATH=/etc/java-config-2/current-system-vm/man:/usr/local/share/man:/usr/share/man:/usr/share/binutils-data/x86_64-pc-linux-gnu/2.19/man:/usr/share/gcc-data/x86_64-pc-linux-gnu/4.3.2/man:/etc/java-config/system-vm/man/:/usr/lib64/php5/man/:/usr/kde/3.5/share/man:/usr/qt/3/doc/man
KDE_FULL_SESSION=true
DESKTOP_SESSION=KDE-4
KDE_SESSION_UID=1000
KDE_SESSION_VERSION=4
QT_PLUGIN_PATH=/home/marijn/.kde4/lib64/kde4/plugins/:/usr/lib64/kde4/plugins/
CONFIG_PROTECT=/usr/share/config /usr/kde/3.5/share/config /usr/kde/3.5/env /usr/kde/3.5/shutdown




Comment 11


Lars Wendler (Polynomial-C) (RETIRED)






          2008-12-24 19:38:49 UTC
        

Do you by any chance mess with the PATH variable of your root user?
Please make sure root has "/usr/kde/3.5/bin" in his PATH variable.




Comment 12


Marijn Schouten (RETIRED)






          2008-12-27 19:48:30 UTC
        

I did not mess with any PATH variables, but:

# echo $PATH
/sbin:/bin:/usr/sbin:/usr/bin




Comment 13


Lars Wendler (Polynomial-C) (RETIRED)






          2008-12-29 14:52:48 UTC
        

You could try the following:

env-update
source /etc/profile
echo $PATH

If that helps, something is messing with root's PATH variable...




Comment 14


Marijn Schouten (RETIRED)






          2008-12-31 01:10:53 UTC
        

After doing that I could emerge dev-python/pykde-3.16.2 fine.




Comment 15


Mark Loeser (RETIRED)






          2009-01-03 15:55:07 UTC
        

Thanks Lars for tracking this one down.




Comment 16


Marijn Schouten (RETIRED)






          2009-01-05 18:25:29 UTC
        

The work-around was of course temporary, so it fails again now.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

