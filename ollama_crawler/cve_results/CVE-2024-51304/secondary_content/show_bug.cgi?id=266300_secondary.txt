Title: 266300 – x11-drivers/xf86-video-intel-2.6.3-r1 doesn't compile
URL: https://bugs.gentoo.org/show_bug.cgi?id=266300

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 266300
x11-drivers/xf86-video-intel-2.6.3-r1 doesn't compile
Last modified: 2009-04-30 08:02:41 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 266300 
      - x11-drivers/xf86-video-intel-2.6.3-r1 doesn't compile


Summary:
x11-drivers/xf86-video-intel-2.6.3-r1 doesn't compile
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       major
      


Assignee:

Gentoo X packagers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-04-15 19:57 UTC by Account Removed





      Modified:
    
2009-04-30 08:02 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




compile.log , environment, emerge --info

              (bug.txt,201.08 KB,
                text/plain)

            
2009-04-15 20:00 UTC,

            Account Removed




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Account Removed





          2009-04-15 19:57:49 UTC
        

I own a HP 2530p Laptop with an Intel onboard graphics 4500MHD. 
When I want to compile the stable driver xf86-video-intel-2.6.3-r1, I get a compile error. (x86)
The last good version is 2.5.1-r1, all 2.6.x versions don't compile.

I have tried a lot of things:
- Recompile the whole xorg-x11 system
- delete the intel driver completely and reinstall driver
- compile without dri enabled
- install the latest kernel-headers

I use the latest tuxonice-sources (2.6.29 and 2.6.28-r9), and also the problem occurs with gentoo-sources

Best regards

B.A.




Reproducible: Always

Steps to Reproduce:
1.install the stable x11-drivers/xf86-video-intel-2.6.3-r1 ebuild



Actual Results:  
The Intel driver doesn't compile.

Expected Results:  
The driver should compile successfully.

I attach the environment file of the compile log and my emerge --info:

Now I use the gcc 4.3.2-r3 (before 4.1.2) and new C-Flags -march=core2 -msse4.1 -pipe (before: -march=prescott -pipe), but also the source doesn't compile.




Comment 1


Account Removed





          2009-04-15 20:00:04 UTC
        

Created attachment 188491 [details]
compile.log , environment, emerge --info




Comment 2


Gilles Dartiguelongue (RETIRED)






          2009-04-18 10:07:29 UTC
        

what it your version of libdrm ?




Comment 3


Account Removed





          2009-04-19 16:04:39 UTC
        

(In reply to comment #2)
> what it your version of libdrm ?
> 

My x11-packages are all from the current stable branch (xorg-server-1.5.3-r5, ..)
libdrm is version 2.4.5.
I also tried the unstable one 2.4.6, but without success.
Furthermore I unmasked (keyword ~x86) all unstable xorg-x11 packages and updated them, but the same error is still there (also the packages (snapshots,...) from the layman x11 don't help).





Comment 4


Account Removed





          2009-04-28 19:15:08 UTC
        

I also tried the new intel-driver 2.7.0 and the latest snapshot from x11-overlay, but without success; the same error is still there.




Comment 5


Rémi Cardona (RETIRED)






          2009-04-29 13:03:55 UTC
        

Please paste the output of : pkg-config libdrm_intel --modversion

Also, do you have _anything_ in /usr/local ?

Thanks




Comment 6


Account Removed





          2009-04-30 08:02:41 UTC
        


pkgconfig output -> 2.4.5

Thank you very much; I had some old drm stuff in my /usr/local, that's why compiling fails.

Now all compile well. 

Best regards, B.A.

Closing bug.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

