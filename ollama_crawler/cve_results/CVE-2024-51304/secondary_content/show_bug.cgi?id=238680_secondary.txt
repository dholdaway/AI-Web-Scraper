Title: 238680 – doc flag prevents various current (4.4.2 series) Xfce packages from building
URL: https://bugs.gentoo.org/show_bug.cgi?id=238680

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 238680
doc flag prevents various current (4.4.2 series) Xfce packages from building
Last modified: 2008-11-18 16:26:43 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 238680 
      - doc flag prevents various current (4.4.2 series) Xfce packages from building


Summary:
doc flag prevents various current (4.4.2 series) Xfce packages from building
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       major
      


Assignee:

XFCE Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-09-25 19:07 UTC by flacvest





      Modified:
    
2008-11-18 16:26 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



flacvest.identede









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build log for xfce-base/xfdesktop-4.4.2-r2 with "doc" USE flag enabled

              (build.log,25.75 KB,
                text/plain)

            
2008-09-26 16:17 UTC,

            flacvest




Details





environment log for xfce-base/xfdesktop-4.4.2-r2 (with "doc" USE flag enabled)

              (environment,92.15 KB,
                text/plain)

            
2008-09-26 16:20 UTC,

            flacvest




Details





build log for xfce-extra/exo-0.3.4 (with "doc" USE flag enabled)

              (build.log,171.72 KB,
                text/plain)

            
2008-09-26 16:23 UTC,

            flacvest




Details





environment log for xfce-extra/exo-0.3.4 (with "doc" USE flag enabled)

              (environment,48.95 KB,
                text/plain)

            
2008-09-26 16:24 UTC,

            flacvest




Details





build log for xfce-base/xfdesktop-4.4.2 (with "doc" USE flag enabled)

              (build.log,25.57 KB,
                text/plain)

            
2008-09-26 16:27 UTC,

            flacvest




Details





environment log for xfce-base/xfdesktop-4.4.2 (with "doc" USE flag enabled)

              (environment,91.87 KB,
                text/plain)

            
2008-09-26 16:28 UTC,

            flacvest




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


flacvest





          2008-09-25 19:07:42 UTC
        

xfce-base/xfdesktop-4.4.2-r2
xfce-base/xfdesktop-4.4.2
xfce-extra/exo-0.3.4

and various other packages...

The listed packages REFUSED to build with the "doc" USE flag enabled. When I entered "-doc" for them in /etc/package.use then an "emerge -DuNav xfce4" enabled the (finally!) (re)building of the listed (and other related) packages that were necessary to fix my Xfce 4.4.2 installation.

I am bewildered, as the ebuilds listed "die message | no message" or something to that effect.

Apologies for the imperfect documentation but the terminal buffer is short on this system and I don't know how to look at that history any other way than scrolling back through the terminal buffer.

I would be happy to (under guidance) extract any meaningful information from my Installation if someone out there knows how.

BTW I had an "experience" trying to install Pixel image editor beta 7, so it all probably started with that. I had to "emerge -e world" to fix my system... *sigh* that's what I get for testing software...

Reproducible: Always

Steps to Reproduce:
1.emerge xfce-base/xfdesktop
2.OR
3.emerge xfce-extra/exo
4.OR
5.emerge DuNav xfce4

Actual Results:  
the ebuilds refused to build, they would die with "no message" I had to swap USE flags for a day and a half until I whittled (narrowed) it down to the "doc" USE flag per package in "/etc/package.use" for the listed packages. After changing the USE flag to "-doc" for the packages, they WOULD build.

Expected Results:  
I expected that the packages would build with all available USE flags enabled, especially "doc" as this provides you with DOCUMENTATION, hello! :-D I usually read that stuff when I run into a snag before bothering anyone.

I'm still very new to Gentoo Linux amd64 multilib.

Also, I had upgraded GCC to 4.3.1... Please let me know if that's a REALLY bad idea, or the cause of the problems listed.

I can be reached at flacvest dot identede at gmail dot com




Comment 1


Jeroen Roovers (RETIRED)






          2008-09-26 14:33:47 UTC
        

Please post your `emerge --info' as well as the build logs for the XFCE packages that fail to build with USE=doc.




Comment 2


flacvest





          2008-09-26 16:17:35 UTC
        

Created attachment 166521 [details]
build log for xfce-base/xfdesktop-4.4.2-r2 with "doc" USE flag enabled

This is the Build Log for the failed xfce-base/xfdesktop-4.4.2-r2 build (with "doc" USE flag enabled).




Comment 3


flacvest





          2008-09-26 16:20:08 UTC
        

Created attachment 166523 [details]
environment log for xfce-base/xfdesktop-4.4.2-r2 (with "doc" USE flag enabled)

Here is the environment log for xfce-base/xfdesktop-4.4.2-r2 failed build (with "doc" USE flag enabled).




Comment 4


flacvest





          2008-09-26 16:23:50 UTC
        

Created attachment 166525 [details]
build log for xfce-extra/exo-0.3.4 (with "doc" USE flag enabled)

Here is the build log for xfce-extra/exo-0.3.4 failed build (with "doc" USE flag enabled).




Comment 5


flacvest





          2008-09-26 16:24:43 UTC
        

Created attachment 166526 [details]
environment log for xfce-extra/exo-0.3.4 (with "doc" USE flag enabled)

Here is the environment log for xfce-extra/exo-0.3.4 failed build (with "doc" USE flag enabled).




Comment 6


flacvest





          2008-09-26 16:27:05 UTC
        

Created attachment 166527 [details]
build log for xfce-base/xfdesktop-4.4.2 (with "doc" USE flag enabled)

Here is the build log for xfce-base/xfdesktop-4.4.2 failed build (with "doc" USE flag enabled).




Comment 7


flacvest





          2008-09-26 16:28:20 UTC
        

Created attachment 166528 [details]
environment log for xfce-base/xfdesktop-4.4.2 (with "doc" USE flag enabled)

Here is the environment log for xfce-base/xfdesktop-4.4.2 failed build (with "doc" USE flag enabled).




Comment 8


flacvest





          2008-09-26 16:32:01 UTC
        

 emerge --info
Portage 2.1.4.4 (default/linux/amd64/2008.0, gcc-4.3.1, glibc-2.8_p20080602-r0, 2.6.25-gentoo-r7 x86_64)
=================================================================
System uname: 2.6.25-gentoo-r7 x86_64 AMD Athlon(tm) 64 X2 Dual Core Processor 6000+
Timestamp of tree: Thu, 25 Sep 2008 16:37:01 +0000
app-shells/bash:     3.2_p33
dev-java/java-config: 1.3.7, 2.1.6
dev-lang/python:     2.4.4-r13, 2.5.2-r7
dev-python/pycrypto: 2.0.1-r6
sys-apps/baselayout: 2.0.0
sys-apps/openrc:     9999
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.61-r2
sys-devel/automake:  1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.1-r1
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.23-r3
ACCEPT_KEYWORDS="amd64"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=athlon64 -O2 -pipe -msse3"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/config"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-march=athlon64 -O2 -pipe -msse3"
DISTDIR="/usr/portage/distfiles"
FEATURES="ccache collision-protect distlocks metadata-transfer parallel-fetch sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://adelie.polymtl.ca/ ftp://gentoo.arcticnetwork.ca/pub/gentoo/ http://gentoo.osuosl.org/ ftp://distro.ibiblio.org/pub/linux/distributions/gentoo/ http://distro.ibiblio.org/pub/linux/distributions/gentoo/ ftp://ftp.gtlib.gatech.edu/pub/gentoo http://www.gtlib.gatech.edu/pub/gentoo http://ftp.ucsb.edu/pub/mirrors/linux/gentoo/ http://gentoo.mirrors.easynews.com/linux/gentoo/ ftp://gentoo.chem.wisc.edu/gentoo/ ftp://lug.mtu.edu/gentoo/"
LDFLAGS="-Wl,-O1"
LINGUAS="en"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portage/local/layman/dang-maintainer /usr/portage/local/layman/sunrise /usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="3dnow X aac aalib acl alsa amd64 ao audiofile avahi berkdb bzip2 cairo cddb cli cracklib crypt cups curl daap dbus debug dri dvd exif fftw flac flash fortran gdbm gif glib glitz gpm gstreamer gtk hal icecast iconv ipod ipv6 isdnlog jack jpeg lame lcms libsamplerate lirc mad mdnsresponder-compat midi mikmod mmx mng mp3 mudflap multilib ncurses nls normalize nptl nptlonly nsplugin ogg opengl openmp oss oxygen pam pango pcre pdf perl php png policykit ppds pppd pulseaudio python qt3 qt4 readline reflection rubytests samba session slp smp socks5 speex spl sse sse2 ssl startup-notification svg symlink sysfs taglib tcpd threadsdoc tiff unicode upnp vorbis wav wavpack wmf xcomposite xorg xscreensaver zlib" ALSA_CARDS="oxygen" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en" USERLAND="GNU" VIDEO_CARDS="vesa ati fglrx"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LANG, LC_ALL, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS





Comment 9


flacvest





          2008-09-26 16:34:51 UTC
        

I hope that's everything you all need to work on these bugs... If I can do anything else, please let me know.




Comment 10


Jeremy Olexa (darkside) (RETIRED)








          2008-10-21 17:22:43 UTC
        

I suppose the problem boils down to whatever this means:
file:///usr/share/sgml/docbook/xsl-stylesheets/html/glossary.xsl:0: error : Unknown node type 24015312
make[4]: *** [xfdesktop.html] Segmentation fault
make[4]: *** Deleting file `xfdesktop.html'

I have never seen it before. I will try out the doc USE flag soon here on my ~ARCH chroot and my stable host and see what happens.




Comment 11


Jeremy Olexa (darkside) (RETIRED)








          2008-11-14 23:43:04 UTC
        

(In reply to comment #10)
> I suppose the problem boils down to whatever this means:
> file:///usr/share/sgml/docbook/xsl-stylesheets/html/glossary.xsl:0: error :
> Unknown node type 24015312
> make[4]: *** [xfdesktop.html] Segmentation fault
> make[4]: *** Deleting file `xfdesktop.html'
> 
> I have never seen it before. I will try out the doc USE flag soon here on my
> ~ARCH chroot and my stable host and see what happens.
> 

Everything worksforme here. I guess my only advice would be to try rebuilding app-text/docbook-xsl-stylesheets and see what happens. Sorry that I cannot be of more help. Leaving open for awhile.




Comment 12


Jeremy Olexa (darkside) (RETIRED)








          2008-11-18 16:26:43 UTC
        

re-open if necessary, resolving as wfm because no one seems to be able to reproduce this issue =/ 









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

