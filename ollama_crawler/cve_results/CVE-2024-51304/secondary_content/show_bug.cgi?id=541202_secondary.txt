Title: 541202 – dev-libs/libwacom - additional udev rules for certain conflicts (synaptics)
URL: https://bugs.gentoo.org/show_bug.cgi?id=541202

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 541202
dev-libs/libwacom - additional udev rules for certain conflicts (synaptics)
Last modified: 2015-03-04 05:40:02 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 541202 
      - dev-libs/libwacom - additional udev rules for certain conflicts (synaptics)


Summary:
dev-libs/libwacom - additional udev rules for certain conflicts (synaptics)
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Unspecified

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       enhancement
      


Assignee:

Freedesktop bugs








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2015-02-24 06:04 UTC by Julius





      Modified:
    
2015-03-04 05:40 UTC
      (History)
    




          CC List:
        

3 
          users
          
            (show)
          



egore
eva
x11









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




udev: wacom add: check_driver

              (70-wacom.rules,184 bytes,
                text/plain)

            
2015-02-24 06:04 UTC,

            Julius




Details





emerge --info

              (file_541202.txt,18.02 KB,
                text/plain)

            
2015-02-25 03:46 UTC,

            Julius




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Julius





          2015-02-24 06:04:54 UTC
        

Created attachment 397360 [details]
udev: wacom add: check_driver

Following situation:
-I own a Wacom Bamboo Fun Pen & Touch (USB)
-My kernel config properly specified to build the correct drivers.
-xf86-input-wacom is emerged
-I have both wacom and synaptics enabled in my INPUT_DEVICES.
-The tablet was recognized as a touchpad and only usable as such. The stylus was inactive.

The fix:
Force the use of the wacom driver (automatically, synaptics had been loaded, which does not speak the protocol of the stylus). The corresponding rule is attached. (used like that in /etc/udev/rules.d

You may want to add this to /usr/lib*/udev/rules.d/wacom.rules or change that file to one of the versions suggested at http://linuxwacom.sourceforge.net/wiki/index.php/Fixed_device_files_with_udev




Comment 1


Julius





          2015-02-25 02:52:57 UTC
        

Enhancement… I'm not so sure about the categories, but I want to underline that the tablet does not work as intended without this.




Comment 2


Alexandre Rostovtsev (RETIRED)






          2015-02-25 03:42:02 UTC
        

Looks similar to https://bugzilla.gnome.org/show_bug.cgi?id=739728 - in which case this would be a bug in xf86-input-synaptics (bad 50-synaptics.conf file), not in libwacom.

Please attach the output of "emerge --info xorg-server libwacom xf86-input-synaptics"




Comment 3


Julius





          2015-02-25 03:46:42 UTC
        

Created attachment 397462 [details]
emerge --info




Comment 4


Alexandre Rostovtsev (RETIRED)






          2015-02-25 05:22:50 UTC
        

Thanks. In xf86-input-synaptics-1.8.1 we install 50-synaptics.conf without modifications, so it probably should be ok.

I am curious why your "check_driver" patch works: the check_driver script is not a part of udev or systemd; as far as I know it's an obsolete, Debian-only tool that Debian provided with their xorg-input-wacom package until ~2010. So I wonder where it came from on your modern Gentoo system :)

(And of course the sourceforge wiki page is very, very obsolete.)

Our xf86-input-wacom is old (we have 0.24.0, upstream is 0.28.0) - maybe the problem is fixed in a newer release? Upstream commit 6a9c6a22 (match tablets by raw USP/PnP id instead of kernel device name) sounds like something that might help.




Comment 5


Julius





          2015-03-04 05:16:15 UTC
        

(I'm sorry for being too busy these days…)

So, I checked. The check_driver utility is not on my system. So something else must have fixed the problem. I have no clue what and I won't find time to investigate it for nearly a month.




Comment 6


Matt Turner






          2015-03-04 05:40:02 UTC
        

I'm going to mark this as WORKSFORME. If you find there's still a problem, feel free to reopen.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

