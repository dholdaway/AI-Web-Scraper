Title: 141280 – fluxbox window shade does not work on amd64 + xorg 7 (double click)
URL: https://bugs.gentoo.org/show_bug.cgi?id=141280

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 141280
fluxbox window shade does not work on amd64 + xorg 7 (double click)
Last modified: 2006-10-12 06:14:09 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 141280 
      - fluxbox window shade does not work on amd64 + xorg 7 (double click)


Summary:
fluxbox window shade does not work on amd64 + xorg 7 (double click)
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       trivial
      


Assignee:

Alec Warner (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-07-21 06:27 UTC by Martin Mlynar





      Modified:
    
2006-10-12 06:14 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



amd64
tercel









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




patch for this bug

              (fluxbox-1.0rc2b-dblclick-64bit.patch,558 bytes,
                patch)

            
2006-07-21 06:28 UTC,

            Martin Mlynar




Details
            | Diff





Show
              Obsolete (1)
            View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Martin Mlynar





          2006-07-21 06:27:17 UTC
        

I have pure AMD64 system and after upgrading my X.Org to 7 I've noticed little problem with shading windows. 

Usualy when you double click title bar of a window fluxbox "shades" the window, so only titlebar is visible. Next dbl click "unshades" it.

On amd64 + xorg7 fluxbox does not recognize dbl click on some circumstances. I believe, that appended patch fixes it.

Bug has been reported into fluxbox dev mailing list but things seems to move slowly, so I'll appriciate if you could append this patch to next ebuild.
---
Portage 2.1-r1 (default-linux/amd64/2006.0, gcc-3.4.6, glibc-2.3.6-r4, 2.6.17 x86_64)
=================================================================
System uname: 2.6.17 x86_64 AMD Athlon(tm) 64 X2 Dual Core Processor 4400+
Gentoo Base System version 1.6.14
app-admin/eselect-compiler: [Not Present]
dev-lang/python:     2.3.5-r2, 2.4.2
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.13-r3
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=k8 -O2 -pipe -msse3"
CHOST="x86_64-pc-linux-gnu"     
CONFIG_PROTECT="/etc"           
CONFIG_PROTECT_MASK="/etc/env.d /etc/gconf"
CXXFLAGS="-march=k8 -O2 -pipe -msse3"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="ftp://ftp.fi.muni.cz/pub/linux/gentoo/"
PKGDIR="/usr/portage/packages"  
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"       
PORTDIR="/usr/portage"          
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="amd64 X aac alsa avi bash-completion berkdb bitmap-fonts bluetooth browserplugin cli crypt cups dlloader dri dts dvb dvd dvdread eds emboss encode foomaticdb fortran gif gnome gpm gstreamer gtk gtk2 imlib ipv6 irmc isdnlog java javascript jpeg ldap lzw lzw-tiff mozdevelop mozilla mozsvg mp3 mpeg mysql ncurses nls nntp nptl nvidia offensive ogg opengl pam pcre pdflib perl png ppds pppd python qt qt3 qt4 quicktime readline reflection rtc sdl session spell spl ssl svg tcpd tiff truetype truetype-fonts type1-fonts usb v4l v4l2 vorbis xorg xpm xv xvid zlib elibc_glibc input_devices_keyboard input_devices_mouse kernel_linux userland_GNU video_cards_nv video_cards_nvidia video_cards_vesa video_cards_fbdev"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGUAS, MAKEOPTS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Martin Mlynar





          2006-07-21 06:28:18 UTC
        

Created attachment 92403 [details, diff]
patch for this bug




Comment 2


Alec Warner (RETIRED)








          2006-09-07 17:22:06 UTC
        

I don't have an amd64 box; can either a dev or archtested from amd64 test this?




Comment 3


Simon Stelling (RETIRED)






          2006-09-08 00:49:34 UTC
        

uhoh, better reopen it so it doesn't get lost in our books




Comment 4


Simon Stelling (RETIRED)






          2006-10-07 05:42:23 UTC
        

Comment on attachment 92403 [details, diff]
patch for this bug

I can't reproduce the issue you're having with 1.0_rc2-r2. That being said, the patch looks rather odd in my eyes:

Breakpoint 1, FbWinFrame::buttonReleaseEvent (this=0x74c9e0,
    event=@0x7ffff46288f0) at FbWinFrame.cc:884
884         bool double_click = ((int)(event.time - last_release_time) <= m_double_click_time);
(gdb) ptype event.time
type = long unsigned int
(gdb) ptype last_release_time
type = long unsigned int
(gdb) ptype this->m_double_click_time
type = unsigned int

A comparation between long unsigned int and unsigned int shouldn't cause any troubles, casting the long unsigned int to a signed int will only make things worse.




Comment 5


Simon Stelling (RETIRED)






          2006-10-12 06:14:09 UTC
        

Hoping this one resolved itself with newer versions. In case you can still reproduce it (please try latest testing version), reopen the bug please.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

