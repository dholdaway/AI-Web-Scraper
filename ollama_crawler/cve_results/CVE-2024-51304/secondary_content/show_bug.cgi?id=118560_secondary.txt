Title: 118560 – Audacity-1.2.4b-r1 crashes after import of long mp3 or wav
URL: https://bugs.gentoo.org/show_bug.cgi?id=118560

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 118560
Audacity-1.2.4b-r1 crashes after import of long mp3 or wav
Last modified: 2007-05-01 16:16:11 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 118560 
      - Audacity-1.2.4b-r1 crashes after import of long mp3 or wav


Summary:
Audacity-1.2.4b-r1 crashes after import of long mp3 or wav
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
Highest
       critical
      


Assignee:

Gentoo Sound Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-01-10 11:22 UTC by Jiri





      Modified:
    
2007-05-01 16:16 UTC
      (History)
    




          CC List:
        

3 
          users
          
            (show)
          



as.gentoo
richard
tcort









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Jiri





          2006-01-10 11:22:58 UTC
        

Audacity-1.2.4b-r1 crashes after long mp3 or wavs are imported (segfault). I tried it with about 4 minutes long mp3 and wav. I don't know if other formats are affected, it is probably more general problem. Short mp3s make no problem.




Comment 1


Jiri





          2006-01-10 11:24:12 UTC
        

# emerge info
Portage 2.0.53 (default-linux/x86/2005.0, gcc-3.4.4, glibc-2.3.5-r2, 2.6.14-gentoo-r4 i686)
=================================================================
System uname: 2.6.14-gentoo-r4 i686 AMD Athlon(tm) XP 1800+
Gentoo Base System version 1.6.13
ccache version 2.3 [enabled]
dev-lang/python:     2.3.5-r2, 2.4.2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.20
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=athlon-xp -O3 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/ /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/splash /etc/terminfo /etc/env.d"
CXXFLAGS="-march=athlon-xp -O3 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache distlocks sandbox sfperms strict"
GENTOO_MIRRORS="ftp://trumpetti.atm.tut.fi/gentoo/"
LANG="cs_CZ.utf8"
LC_ALL="cs_CZ.utf8"
LINGUAS="cz cs en"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 3dnow 3dnowex 3dnowext X Xaw3d aac aalib alsa apache2 apm arts artswrappersuid audiofile avi bash-completion berkdb bitmap-fonts bzip2 cdparanoia cdr crypt cups curl dga directfb divx4linux dts dvb dvd dvdread emboss encode exif expat fam ffmpeg fftw flac font-server foomaticdb fortran gd gdbm gif glut gmp gphoto2 gpm gps gstreamer gtk gtk2 guile icq idn imagemagick imap imlib jabber jack java jpeg kde lcms ldap lesstif libcaca libg++ libsamplerate libwww live lua mad matroska mbox mcal mdir mhash mikmod mmx mmxext mng motif mp3 mpeg mpeg4 mysql nas ncurses network nls nsplugin nvidia ogg oggvorbis opengl oscar oss pam pcre pdflib perl plotutils png python qt quicktime readline real recode rtc samba sdl session slang speex spell sse ssl svga tcpd tetex theora tiff truetype truetype-fonts type1-fonts udev unicode usb userlocales v4l v4l2 videos vorbis win32codecs wmf wxgtk1 wxwindows xine xml xml2 xmms xosd xv xvid xvmc zlib linguas_cz linguas_cs linguas_en userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LDFLAGS, MAKEOPTS, PORTDIR_OVERLAY





Comment 2


Thomas Cort (RETIRED)






          2006-02-24 18:39:14 UTC
        

I have audacity-1.2.4b-r1 compiled with the same USE flags as you, but I am unable to reproduce your problem. I tried importing a bunch of wav files of different sizes, some of which were almost an hour long. Do you have this problem with previous versions of audacity?

The problem might be your CFLAGS and/or ccache. You could try re-compiling audacity with CFLAGS="-march=athlon-xp -O2 -pipe" and FEATURES="-ccache". If that doesn't work you could double check that it isn't a hardware problem by running memtest86.

If the problem isn't with your hardware, ccache, or CFLAGS, then you could compile audacity with debugging information, run it in gdb, and post the results to this bug. The Gentoo Bug Reporting Guide explains how to do this if you don't know how. The URL is http://www.gentoo.org/doc/en/bugzilla-howto.xml

Good Luck!

Portage 2.1_pre3-r1 (!/usr/portage/profiles/default-linux/ppc/2005.1/ppc, gcc-3.4.5, glibc-2.3.6-r2, 2.6.15-gentoo-r1 ppc)
=================================================================
System uname: 2.6.15-gentoo-r1 ppc 740/750
Gentoo Base System version 1.12.0_pre14
distcc 2.18.3 powerpc-unknown-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
ccache version 2.3 [enabled]
dev-lang/python:     2.3.5, 2.4.2
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1-r1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r4
ACCEPT_KEYWORDS="ppc ~ppc"
AUTOCLEAN="yes"
CBUILD="powerpc-unknown-linux-gnu"
CFLAGS="-mcpu=750 -Os -pipe -fno-strict-aliasing -mpowerpc-gfxopt"
CHOST="powerpc-unknown-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-mcpu=750 -Os -pipe -fno-strict-aliasing -mpowerpc-gfxopt"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache distlocks sandbox sfperms strict"
GENTOO_MIRRORS="ftp://cs.ubishops.ca/pub/gentoo http://adelie.polymtl.ca/ http://gentoo.cites.uiuc.edu/pub/gentoo/ ftp://gentoo.arcticnetwork.ca/pub/gentoo/"
LINGUAS="en"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/exports/nfs/portage/"
PORTDIR_OVERLAY="/exports/nfs/overlay"
SYNC="rsync://rsync.ca.gentoo.org/gentoo-portage"
USE="ppc X aac aim alsa apache2 audiofile berkdb bitmap-fonts browserplugin bzip2 crypt cups curl eds emboss encode esd exif expat fam ffmpeg flac gdbm gif glut gnome gphoto2 gpm gstreamer gtk gtk2 gtkhtml hal icq idn ipv6 jabber java jpeg kde lcms libwww lua mad mikmod mng mono motif mozilla moznocompose moznoirc moznomail mp3 mpeg msn mysql ncurses nls nocd nptl nptlonly nsplugin offensive ogg oggvorbis openal opengl oscar pam pcre pdflib perl png python qt readline ruby samba sdl shorten sndfile speex spell sqlite ssl symlink tcpd tiff truetype truetype-fonts type1-fonts udev unicode usb vorbis wxgtk1 xml xml2 xmms xv xvid yahoo zlib elibc_glibc kernel_linux linguas_en userland_GNU"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS




Comment 3


Richard Ash





          2006-03-19 13:11:58 UTC
        

Make sure your system hasn't got broken dynamic linking (use revdep-rebuild from gentoolkit), especially GTK / wxGTK / sound format libraries.




Comment 4


Attila Stehr





          2006-05-25 07:40:54 UTC
        

Same here!


atti@magic ~/applications/wine/wizardry7 $ gdb audacity
GNU gdb 6.4
Copyright 2005 Free Software Foundation, Inc.
GDB is free software, covered by the GNU General Public License, and you are
welcome to change it and/or distribute copies of it under certain conditions.
Type "show copying" to see the conditions.
There is absolutely no warranty for GDB.  Type "show warranty" for details.
This GDB was configured as "x86_64-pc-linux-gnu"...(no debugging symbols found)
Using host libthread_db library "/lib/libthread_db.so.1".

(gdb) run#
Starting program: /usr/bin/audacity #
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
[Thread debugging using libthread_db enabled]
[New Thread 47924345535888 (LWP 24391)]
[New Thread 1082132816 (LWP 24398)]

Program received signal SIGSEGV, Segmentation fault.
[Switching to Thread 47924345535888 (LWP 24391)]
0x00002b963ed803a0 in strlen () from /lib/libc.so.6
(gdb) down
Bottom (innermost) frame selected; you cannot go down.
(gdb) up
#1  0x00002b963e284245 in wxWindowDC::DoGetTextExtent () from /usr/lib/libwx_gtk2-2.4.so
(gdb) bt
#0  0x00002b963ed803a0 in strlen () from /lib/libc.so.6
#1  0x00002b963e284245 in wxWindowDC::DoGetTextExtent () from /usr/lib/libwx_gtk2-2.4.so
#2  0x00000000004ab9a7 in wxScrollBarBase::~wxScrollBarBase ()
#3  0x00000000004b3e4e in wxScrollBarBase::~wxScrollBarBase ()
#4  0x00000000004b41ac in wxScrollBarBase::~wxScrollBarBase ()
#5  0x00000000004b4392 in wxScrollBarBase::~wxScrollBarBase ()
#6  0x00000000004b46f5 in wxScrollBarBase::~wxScrollBarBase ()
#7  0x00000000004b4850 in wxScrollBarBase::~wxScrollBarBase ()
#8  0x00002b963e320c21 in wxEvtHandler::SearchEventTable () from /usr/lib/libwx_gtk2-2.4.so
#9  0x00002b963e320a50 in wxEvtHandler::ProcessEvent () from /usr/lib/libwx_gtk2-2.4.so
#10 0x00002b963e2cf9f6 in wxWindow::GtkSendPaintEvents () from /usr/lib/libwx_gtk2-2.4.so
#11 0x00002b963e2cfbb7 in wxWindow::GtkSendPaintEvents () from /usr/lib/libwx_gtk2-2.4.so
#12 0x00002b963f2f2ca8 in gtk_marshal_VOID__UINT_STRING () from /usr/lib/libgtk-x11-2.0.so.0
#13 0x00002b963fe579ea in g_closure_invoke () from /usr/lib/libgobject-2.0.so.0
#14 0x00002b963fe7291e in g_signal_has_handler_pending () from /usr/lib/libgobject-2.0.so.0
#15 0x00002b963fe73b9f in g_signal_emit_valist () from /usr/lib/libgobject-2.0.so.0
#16 0x00002b963fe743e1 in g_signal_emit () from /usr/lib/libgobject-2.0.so.0
#17 0x00002b963f46ade1 in gtk_widget_activate () from /usr/lib/libgtk-x11-2.0.so.0
#18 0x00002b963f46b04c in gtk_widget_send_expose () from /usr/lib/libgtk-x11-2.0.so.0
#19 0x00002b963f2f0e24 in gtk_main_do_event () from /usr/lib/libgtk-x11-2.0.so.0
#20 0x00002b963f719206 in gdk_window_clear_area_e () from /usr/lib/libgdk-x11-2.0.so.0
#21 0x00002b963f7192e0 in gdk_window_process_all_updates () from /usr/lib/libgdk-x11-2.0.so.0
#22 0x00002b963f21d5d6 in gtk_container_check_resize () from /usr/lib/libgtk-x11-2.0.so.0
#23 0x00002b96401e656d in g_child_watch_add () from /usr/lib/libglib-2.0.so.0
---Type <return> to continue, or q <return> to quit---
#24 0x00002b96401e088b in g_source_remove_poll () from /usr/lib/libglib-2.0.so.0
#25 0x00002b96401e38c8 in g_main_context_acquire () from /usr/lib/libglib-2.0.so.0
#26 0x00002b96401e3cdb in g_main_loop_run () from /usr/lib/libglib-2.0.so.0
#27 0x00002b963f2ef716 in gtk_main () from /usr/lib/libgtk-x11-2.0.so.0
#28 0x00002b963e265068 in wxApp::MainLoop () from /usr/lib/libwx_gtk2-2.4.so
#29 0x00002b963e2d21f5 in wxAppBase::OnRun () from /usr/lib/libwx_gtk2-2.4.so
#30 0x00002b963e265a37 in wxEntry () from /usr/lib/libwx_gtk2-2.4.so
#31 0x00002b963ed2d136 in __libc_start_main () from /lib/libc.so.6
#32 0x000000000041aeea in ?? ()
#33 0x00007fffffc6b268 in ?? ()
#34 0x000000000000001c in ?? ()
#35 0x0000000000000001 in ?? ()
#36 0x00007fffffc6c0bf in ?? ()
#37 0x0000000000000000 in ?? ()
(gdb)

Portage 2.0.54-r2 (default-linux/amd64/2005.1, gcc-3.4.5, glibc-2.4-r2, 2.6.16-gentoo-r7 x86_64)
=================================================================
System uname: 2.6.16-gentoo-r7 x86_64 AMD Athlon(tm) 64 Processor 3000+
Gentoo Base System version 1.6.14
dev-lang/python:     2.3.5-r2, 2.4.2
dev-python/pycrypto: 2.0.1-r4
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=athlon64 -O3 -ffast-math -funroll-all-loops -fpeel-loops -ftracer -funswitch-loops -funit-at-a-time -pipe -fomit-frame-pointer -fno-stack-protector"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/ /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/eselect/compiler /etc/gconf /etc/terminfo /usr/X11R6/bin/startx /etc/env.d"
CXXFLAGS="-march=athlon64 -O3 -ffast-math -funroll-all-loops -fpeel-loops -ftracer -funswitch-loops -funit-at-a-time -pipe -fomit-frame-pointer -fno-stack-protector"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig candy distlocks sandbox severe sfperms strict"
GENTOO_MIRRORS="http://pandemonium.tiscali.de/pub/gentoo/ ftp://ftp.tu-clausthal.de/pub/linux/gentoo/ ftp://ftp.gentoo.mesh-solutions.com/gentoo/ http://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/"
LANG="de_DE.utf8"
LC_ALL="de_DE.utf8"
LINGUAS="de"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.de.gentoo.org/gentoo-portage"
USE="7zip X a52 aac acpi alsa amd64 artworkextra asf audiofile avi berkdb bidi bitmap-fonts bzip2 bzlib cairo cdda cdio cdparanoia cdr cli crypt css cups curl dbus dga directfb dlloader dmalloc dnd dpms dri dts dvb dvd dvdr dvdread dvi eds effects emacs emboss encode esd exif expat fam fame fat fbcon ffmpeg firefox foomaticdb freetype gcj gdbm ggi gif gimpprint glut gmp gnome gnutls gpm gs gstreamer gtk gtk2 gtkhtml hal hardened howl hpn httpd idn imagemagick imlib ipv6 isdnlog ithreads javascript jpeg jpeg2k kde lcms libsamplerate libwww linuxthreads-tls live lzo lzw lzw-tiff mad matroska mbox memlimit milter mjpeg mmap mng mozcalendar mozdevelop mozsvg mp3 mpeg mpi nautilus ncurses nls nptl nptlonly nsplugin ntfs nvidia offensive ogg oggvorbis on-the-fly-crypt openal openexr opengl pam pcre pdflib perl png ppds pppd python qt quicktime readline reflection reiserfs rle sasl screen sdl session slang sndfile spell spl ssl stream svg symlink tcltk tcpd test tetex tga theora threads tidy tiff toolbar truetype truetype-fonts type1-fonts udev unicode usb userlocales v4l vcd video_cards_nvidia videos vlm vorbis wmf wxwindows xine xml xml2 xmms xorg xosd xpm xprint xtermtoolbar xv xvid xvmc yv12 zlib linguas_de userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, INSTALL_MASK, LDFLAGS, MAKEOPTS, PORTAGE_RSYNC_EXTRA_OPTS, PORTAGE_RSYNC_OPTS, PORTDIR_OVERLAY





Comment 5


MATSUU Takuto (RETIRED)






          2007-05-01 16:16:11 UTC
        

If you stiil have the problem in audacity-1.3.2-r1, please reopen.










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

