Title: 83321 – The "de" keyboard layout doesn't work properly in all KDE applications
URL: https://bugs.gentoo.org/show_bug.cgi?id=83321

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 83321
The "de" keyboard layout doesn't work properly in all KDE applications
Last modified: 2005-03-09 02:21:55 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 83321 
      - The "de" keyboard layout doesn't work properly in all KDE applications


Summary:
The "de" keyboard layout doesn't work properly in all KDE applications
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-02-25 10:31 UTC by Tobias Leupold





      Modified:
    
2005-03-09 02:21 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Tobias Leupold





          2005-02-25 10:31:30 UTC
        

I have configured my keyboard as "de" with the "dead keys" enabled. So, I should be able to type in characters like "




Comment 1


Tobias Leupold





          2005-02-25 10:31:30 UTC
        

I have configured my keyboard as "de" with the "dead keys" enabled. So, I should be able to type in characters like "é" or "ñ". This works properly at the login dialog from kdm and also in the xterm window, Firefox and Thunderbird (which are afaik native von Gnome), but not in the KDE applications. It doesn't work, even if I set the keyboard layout one more time to "basic", which means that the "dead keys" are enabled, by the KDE control center.
I recognized this problem on two machines with the same versions of KDE and the X-Server running but completely independent installations.

With a Debian installation running the same Version of KDE (and the same keyboard configuration in the X config file), there are no problems with the "dead keys", so I think this is a bug in the KDE ebuild.

Reproducible: Always
Steps to Reproduce:
1. Set the keymap to "de" without "nodeadkeys"
2. Try to type in é, è, ê, ñ, etc. in a KDE application (like kwrite)

Actual Results:  
the "'"-Character won't work at all, so typing in "`e" will result in "e"
the other accents (`, ^, ~) will be displayed at once, so typing in e.g. "^e"
will result in "^e" displayed instead of the expected "ê"

Expected Results:  
typing in "'e" --> "é", "^e" --> "ê", etc.


This bug isn't very serious and everything works although, but it's quite
annoying if one writes a French text or has a name with an accent in it.




Comment 2


Gregorio Guidi (RETIRED)






          2005-03-03 08:56:47 UTC
        

I cannot reproduce it here, it seems to work fine.

Can you reproduce it just by doing something like
setxkbmap -layout de -variant basic
setxkbmap -layout de -variant nodeadkeys
from a terminal?





Comment 3


Tobias Leupold





          2005-03-04 04:55:27 UTC
        

"setxkbmap -layout de -variant basic" doesn't change anything, the keyboard behaves in the ame way (I would have expected this, because the keymap is still set to this).

"setxkbmap -layout de -variant nodeadkeys" doesn't also work as it should - typing in "




Comment 4


Tobias Leupold





          2005-03-04 04:55:27 UTC
        

"setxkbmap -layout de -variant basic" doesn't change anything, the keyboard behaves in the ame way (I would have expected this, because the keymap is still set to this).

"setxkbmap -layout de -variant nodeadkeys" doesn't also work as it should - typing in "´" gives me a "?". The other accents work as expected (`, ^, ~)

The relevant part of my /etc/X11/xorg.conf is this (perhaps it'll help to reproduce it):

Section "InputDevice"
	Identifier	"Keyboard0"
	Driver		"keyboard"
	Option		"CoreKeyboard"
	Option		"XkbRules"	"xfree86"
	Option		"XkbModel"	"pc105"
	Option		"XkbLayout"	"de"
EndSection




Comment 5


Gregorio Guidi (RETIRED)






          2005-03-04 05:56:28 UTC
        

Still cannot reproduce it...




Comment 6


Tobias Leupold





          2005-03-05 10:29:38 UTC
        

Then, the question is: why doesn't it work for me on two different machines with different hardware and different installations?!




Comment 7


Tobias Leupold





          2005-03-08 08:44:32 UTC
        

It seems that the LANG variable causes the problem. I have set the LANG variable to 'de_DE.iso885915@euro'. When I set it to 'de_DE.utf8', I am able to type in the accented keys (but sometimes other problems occur with the German Umlaute like 




Comment 8


Tobias Leupold





          2005-03-08 08:44:32 UTC
        

It seems that the LANG variable causes the problem. I have set the LANG variable to 'de_DE.iso885915@euro'. When I set it to 'de_DE.utf8', I am able to type in the accented keys (but sometimes other problems occur with the German Umlaute like ä, ö, etc.)
I think this is not a ebuild bug but a KDE bug.




Comment 9


Gregorio Guidi (RETIRED)






          2005-03-08 09:11:16 UTC
        

So this problem can be explained by this bug:
http://bugs.kde.org/show_bug.cgi?id=45256

It's really tricky, I don't know if we can do anything for it...




Comment 10


Tobias Leupold





          2005-03-09 01:14:07 UTC
        

I've tried other configurations of the LANG variable and it seems that setting it just to "de_DE" instead of "de_DE.iso885915@euro", which is recommended by the Localisation Guide (I don't know where to find it at this time, but I think it was on http://www.gentoo.org/ or http://www.gentoo.de/ which offer the same German documentation) solves the problem. There are no more problems typing in characters like 




Comment 11


Tobias Leupold





          2005-03-09 01:14:07 UTC
        

I've tried other configurations of the LANG variable and it seems that setting it just to "de_DE" instead of "de_DE.iso885915@euro", which is recommended by the Localisation Guide (I don't know where to find it at this time, but I think it was on http://www.gentoo.org/ or http://www.gentoo.de/ which offer the same German documentation) solves the problem. There are no more problems typing in characters like é or â, even in OpenOffice. All special German characters like ä or Ö are still available, the same for the Euro sign .
I think, that's a acceptable workaround for this problem.




Comment 12


Gregorio Guidi (RETIRED)






          2005-03-09 02:21:55 UTC
        

The localisation guide is here:
http://www.gentoo.org/doc/en/guide-localization.xml
and recommends to do:
  export LANG="de_DE@euro"
so it seems ok.

Closing this bug now, please report if you find inconsistencies in the documentation, or encounter other specific problems.










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

