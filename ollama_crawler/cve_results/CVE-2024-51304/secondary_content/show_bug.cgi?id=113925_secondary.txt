Title: 113925 – xsane-0.97.ebuild: line 64: [: =: unary operator  expected
URL: https://bugs.gentoo.org/show_bug.cgi?id=113925

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 113925
xsane-0.97.ebuild: line 64: [: =: unary operator  expected
Last modified: 2005-11-30 07:29:00 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 113925 
      - xsane-0.97.ebuild: line 64: [: =: unary operator  expected


Summary:
xsane-0.97.ebuild: line 64: [: =: unary operator  expected
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Patrick Kursawe (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-11-29 11:19 UTC by Denilson Sá Maia





      Modified:
    
2005-11-30 07:29 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Denilson Sá Maia





          2005-11-29 11:19:06 UTC
        

After compiling xsane, I get this message at /var/log/portage/2772-xsane-0.97.
log:

/gentoo/tmp_portage/portage-pkg/xsane-0.97/inf/xsane-0.97.ebuild: line 64: [: =: 
unary operator expected

xsane appears to work, though.

Reproducible: Always
Steps to Reproduce:
1. Enable logs at portage FEATURES. (optional)
2. emerge xsane
3. Look at emerge output/log, you will find above error message.




# emerge info
Portage 2.0.51.22-r3 (default-linux/x86/2005.1, gcc-3.3.6, glibc-2.3.5-r2, 2.6.
12.5 i686)
=================================================================
System uname: 2.6.12.5 i686 Pentium III (Coppermine)
Gentoo Base System version 1.6.13
dev-lang/python:     2.4.2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.20
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -pipe -march=i686 -mcpu=pentium3 -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env /usr/kde/3.4/
share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /
usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ 
/usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/
share/texmf/xdvi/ /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -pipe -march=i686 -mcpu=pentium3 -fomit-frame-pointer"
DISTDIR="/gentoo/distfiles"
FEATURES="autoconfig buildpkg distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/Linux/
distributions/gentoo"
PKGDIR="/gentoo/packages"
PORTAGE_TMPDIR="/gentoo/tmp_portage"
PORTDIR="/gentoo/portage"
SYNC="rsync://rsync.samerica.gentoo.org/gentoo-portage"
USE="x86 7zip X aac acpi alsa apache2 arts audiofile avi bitmap-fonts bzip2 cdr 
clamav crypt cups curl divx4linux dts dv dvd dvdr dvdread emboss encode esd 
ethereal exif expat fam ffmpeg flac foomaticdb fortran gd gdbm gif gimp 
gimpprint glut gphoto2 gpm gstreamer gtk gtk2 gtkhtml gzip idn imagemagick imlib 
ipv6 java joystick jpeg kdeenablefinal lcms libg++ libwww live lm_sensors mad 
matroska mhash mikmod mmx mng motif mp3 mpeg mysql ncurses nls no-htdocs 
nsplugin nvidia ogg oggvorbis openal opengl pam pcre pdflib perl png python qt 
quicktime rar readline recode scanner sdl slang spell sse ssl svg tcltk tcpd 
tetex theora tiff truetype truetype-fonts type1-fonts udev unicode usb vcd 
vorbis win32codecs wmf xanim xine xinerama xml2 xpm xv xvid zlib userland_GNU 
kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS, MAKEOPTS, 
PORTDIR_OVERLAY




Comment 1


Patrick Kursawe (RETIRED)






          2005-11-29 23:18:41 UTC
        

Could not reproduce it, but tried a little modification which possibly fixes it
for you. In CVS, thanks for the hint. Closing as WORKSFORME (the worst
consequence of this bug could be that you don't see a warning message that you
are unlikely to see anyway). Thanks anyway.




Comment 2


Denilson Sá Maia





          2005-11-30 07:29:00 UTC
        

Ok, I saw the change you did. From:
if [ $OLDXSANE = 'yes' ]; then
to:
if [ x${OLDXSANE} = 'xyes' ]; then
If that is bash (or sh) syntax, you can also use this:
if [ "$OLDXSANE" = 'yes' ]; then
The double-quotes may solve that too. Maybe you would prefer to change to 
double-quotes.

Thanks, anyway.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

