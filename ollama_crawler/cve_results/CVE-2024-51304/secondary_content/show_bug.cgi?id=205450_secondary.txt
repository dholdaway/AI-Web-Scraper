Title: 205450 – dev-lang/python tries to symlink a man page when installing with FEATURES="noman", symlink fails
URL: https://bugs.gentoo.org/show_bug.cgi?id=205450

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 205450
dev-lang/python tries to symlink a man page when installing with FEATURES="noman", symlink fails
Last modified: 2008-01-12 12:58:27 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 205450 
      - dev-lang/python tries to symlink a man page when installing with FEATURES="noman", symlink fails


Summary:
dev-lang/python tries to symlink a man page when installing with FEATURES="no...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       trivial
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-01-12 12:53 UTC by Stefan Hellermann





      Modified:
    
2008-01-12 12:58 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Stefan Hellermann





          2008-01-12 12:53:13 UTC
        

When emerging dev-lang/python with FEATURES="noman" it warns:
 * Unable to establish /usr/share/man/man1/python.1.bz2 symlink

It think the ebuild should be changed to only symlink the man-page in pkg_postinst() when noman is unset

Reproducible: Always

Steps to Reproduce:

Actual Results:  
a small warning:
 * Unable to establish /usr/share/man/man1/python.1.bz2 symlink


Expected Results:  
no warning :)

$ emerge --info
Portage 2.1.4 (uclibc/x86, gcc-4.2.2, uclibc-0.9.28.3-r2, 2.6.24-rc6-git9 i686)
=================================================================
System uname: 2.6.24-rc6-git9 i686 AMD Athlon(tm) 64 X2 Dual Core Processor 5200+
Timestamp of tree: Sat, 12 Jan 2008 11:46:01 +0000
app-shells/bash:     3.2_p33
dev-lang/python:     2.5.1-r5
sys-apps/baselayout: 1.12.10-r5
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.61-r1
sys-devel/automake:  1.10
sys-devel/binutils:  2.18-r1
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.24
virtual/os-headers:  2.6.23-r3
ACCEPT_KEYWORDS="x86 ~x86"
CBUILD="i386-gentoo-linux-uclibc"
CFLAGS="-O2 -march=pentium3 -mtune=k8 -pipe -fomit-frame-pointer -mno-tls-direct-seg-refs"
CHOST="i386-gentoo-linux-uclibc"
CONFIG_PROTECT="/etc"
CONFIG_PROTECT_MASK="/etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/revdep-rebuild /etc/terminfo /etc/udev/rules.d"
CXXFLAGS="-O2 -march=pentium3 -mtune=k8 -pipe -fomit-frame-pointer -mno-tls-direct-seg-refs"
DISTDIR="/var/db/distfiles"
FEATURES="autoconfig distlocks metadata-transfer nodoc noinfo noman parallel-fetch sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://mirrors.sec.informatik.tu-darmstadt.de/gentoo/"
LDFLAGS="-Wl,-z,relro -Wl,--as-needed -Wl,-O1"
MAKEOPTS="-j3 -s"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/var/db/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="minimal nocxx unicode x86" ELIBC="uclibc" KERNEL="linux" USERLAND="GNU"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LINGUAS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY




Comment 1


Jakub Moc (RETIRED)






          2008-01-12 12:58:27 UTC
        

Checking for portage-specific features in ebuilds/eckasses is an icky idea (see Bug 174335), plus the whole no{doc,man,info} features stuff is just a hack.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

