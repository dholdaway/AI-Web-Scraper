Title: 536888 – =dev-java/ant-core-1.9.2 fails to compile on ppc
URL: https://bugs.gentoo.org/show_bug.cgi?id=536888

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 536888
=dev-java/ant-core-1.9.2 fails to compile on ppc
Last modified: 2015-06-13 11:38:12 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 536888 
      - =dev-java/ant-core-1.9.2 fails to compile on ppc


Summary:
=dev-java/ant-core-1.9.2 fails to compile on ppc
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Java

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Java team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:




315557



 

        Show dependency tree





 





      Reported:
    
2015-01-17 19:50 UTC by Agostino Sarubbo





      Modified:
    
2015-06-13 11:38 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build log

              (file_536888.txt,4.96 KB,
                text/plain)

            
2015-01-19 18:54 UTC,

            Agostino Sarubbo




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Agostino Sarubbo






          2015-01-17 19:50:19 UTC
        

Portage 2.2.8-r2 (default/linux/powerpc/ppc64/13.0/32bit-userland, gcc-4.8.3, glibc-2.19-r1, 3.12.20-gentoo ppc64)
=================================================================
System uname: Linux-3.12.20-gentoo-ppc64-POWER7_-architected-with-gentoo-2.2
KiB Mem:    16514732 total,    930604 free
KiB Swap:    7814548 total,   7811108 free
Timestamp of tree: Sat, 17 Jan 2015 15:00:01 +0000
ld ld di GNU (Gentoo 2.24 p1.4) 2.24
app-shells/bash:          4.2_p53
dev-java/java-config:     2.2.0
dev-lang/perl:            5.18.2-r2
dev-lang/python:          2.7.7, 3.3.5-r1, 3.4.1
dev-util/cmake:           2.8.12.2-r1
sys-apps/baselayout:      2.2
sys-apps/openrc:          0.12.4
sys-apps/sandbox:         2.6-r1
sys-devel/autoconf:       2.69
sys-devel/automake:       1.13.4
sys-devel/binutils:       2.24-r3
sys-devel/gcc:            4.8.3
sys-devel/gcc-config:     1.7.3
sys-devel/libtool:        2.4.2-r1
sys-devel/make:           3.82-r4
sys-kernel/linux-headers: 3.13 (virtual/os-headers)
sys-libs/glibc:           2.19-r1
Repositories: gentoo x-portage
ACCEPT_KEYWORDS="ppc"
ACCEPT_LICENSE="*"
CBUILD="powerpc-unknown-linux-gnu"
CFLAGS="-O2 -pipe"
CHOST="powerpc-unknown-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/config /usr/share/gnupg/qualified.txt"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php5.3/ext-active/ /etc/php/apache2-php5.4/ext-active/ /etc/php/apache2-php5.5/ext-active/ /etc/php/cgi-php5.3/ext-active/ /etc/php/cgi-php5.4/ext-active/ /etc/php/cgi-php5.5/ext-active/ /etc/php/cli-php5.3/ext-active/ /etc/php/cli-php5.4/ext-active/ /etc/php/cli-php5.5/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c"
CXXFLAGS="-O2 -pipe"
DISTDIR="/usr/portage/distfiles/"
EMERGE_DEFAULT_OPTS="--with-bdeps y --keep-going y -1"
FCFLAGS="-O2 -pipe"
FEATURES="assume-digests binpkg-logs collision-protect config-protect-if-modified distlocks ebuild-locks fixlafiles merge-sync news parallel-fetch preserve-libs protect-owned sandbox sfperms split-log strict unknown-features-warn unmerge-logs unmerge-orphans userfetch userpriv usersandbox usersync"
FFLAGS="-O2 -pipe"
GENTOO_MIRRORS="http://gentoo.osuosl.org/"
LANG="it_IT.UTF-8"
LDFLAGS="-Wl,-O1 -Wl,--as-needed -Wl,--hash-style=gnu"
MAKEOPTS="-j30"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --omit-dir-times --compress --force --whole-file --delete --stats --human-readable --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://bobolink.gentoo.osuosl.org/gentoo-portage"
USE="X acl berkdb bzip2 cli consolekit cracklib crypt cxx dbus dri fontconfig fortran gcc64 gdbm gudev hwdb iconv ipv6 jpeg kde minizip modules ncurses nls nptl ogg opengl openmp pam pcre png policykit ppc qt3support qt4 readline semantic-desktop session ssl tcpd unicode vorbis zlib" ABI_PPC="32" ALSA_CARDS="aoa aoa-fabric-layout aoa-onyx aoa-soundbus aoa-soundbus-i2s aoa-tas aoa-toonie powermac usb-audio via82xx" ELIBC="glibc" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LIBREOFFICE_EXTENSIONS="presenter-console presenter-minimizer" LINGUAS="am fil zh af ca cs da de el es et gl hu nb nl pl pt ro ru sk sl sv uk bg cy en eo fo ga he id ku lt lv mk ms nn sw tn zu ja zh_TW en_GB pt_BR ko zh_CN ar en_CA fi kk oc sr tr fa wa nds as be bn bn_BD bn_IN en_US es_AR es_CL es_ES es_MX eu fy fy_NL ga_IE gu gu_IN hi hi_IN is ka kn ml mr nn_NO or pa pa_IN pt_PT rm si sq sv_SE ta ta_LK te th vi ast dz km my om sh ug uz ca@valencia sr@ijekavian sr@ijekavianlatin sr@latin csb hne mai se es_LA fr_CA zh_HK br la no es_CR et_EE sr_CS bo hsb hy mn sr@Latn lb ne bs tg uz@cyrillic xh be_BY brx ca_XV dgo en_ZA gd kok ks ky lo mni nr ns pap ps rw sa_IN sat sd ss st sw_TZ ti ts ve mt ia az me tl ak hy_AM lg nso son ur_PK it fr nb nb_NO hr nan ur tk cs_CZ da_DK de_1901 de_CH en_AU lt_LT pl_PL sa sk_SK th_TH ta_IN tt sco ha mi ven ar_SY el_GR ro_RO ru_RU sl_SI uk_UA vi_VN ar_SY te_IN de_DE es_VE fa_IR fr_FR hu_HU id_ID it_IT ja_JP ka_GE nl_NL sr_BA sr_RS ca_ES fi_FI he_IL jv ru_gold yi eu_ES" OFFICE_IMPLEMENTATION="libreoffice" PHP_TARGETS="php5-4 php5-5" PYTHON_SINGLE_TARGET="python2_7" PYTHON_TARGETS="python2_7 python3_3" RUBY_TARGETS="ruby19 ruby20" USERLAND="GNU" VIDEO_CARDS="fbdev glint mach64 nv r128 radeon savage tdfx trident dummy v4l"
USE_PYTHON="2.7 3.3"




Comment 1


Johann Schmitz (ercpe) (RETIRED)






          2015-01-19 18:04:42 UTC
        

Could you please post a build log?




Comment 2


Agostino Sarubbo






          2015-01-19 18:54:52 UTC
        

Created attachment 394350 [details]
build log

(In reply to Johann Schmitz (ercpe) from comment #1)
> Could you please post a build log?

sorry, I attached it, there was a failure I guess.




Comment 3


Patrice Clement (RETIRED)






          2015-04-24 15:06:20 UTC
        

I'm told Chewi has access to the pcc Gentoo box..




Comment 4


James Le Cuirot






          2015-04-24 15:16:55 UTC
        

Looks nasty. The ibm-jdk in the tree is pretty old and we're looking to push towards icedtea so I'd like to try with that instead. Java bugs usually have more to do with the VM than the arch but unfortunately we can't keyword by VM.




Comment 5


William L. Thomson Jr.





          2015-06-11 14:26:30 UTC
        

If icedtea is lagging the other option is to update IBM jdk packages. Which IBM supports the widest variety of versions, 1.5 - 1.8 all current as of May 2015.
http://www.ibm.com/developerworks/java/jdk/linux/download.html

But like Oracle, they are a licensed download. IBM jdk not being current is mostly a lack of man power, and favoring of icedtea/openjdk over non-open source, licensed jvms/jdks. Though not sure that is a practical long term approach. Java historically has always been closed source. The move to open source is good, but it will likely always lag behind closed source. Like no stable icedtea 1.7, much less 1.8. Despite 1.8 being out for a year, and 1.7 being out for years. Its allot of work, RedHat is struggling, much less Gentoo getting things in order there.

If the IBM jdk ebuilds are any good, bumping to latest version should not be that much work. I can look into such, but I am not sure others will commit it to tree. Ideally all jvms/jdks should be available to provide users with choice. Choice is always good, and lack there of, not so much.




Comment 6


William L. Thomson Jr.





          2015-06-11 14:33:17 UTC
        

There is also IBMs work on openjdk, which is where the PPC support in openjdk/icedtea comes from. Icedtea/openjdk is downstream, not up. I am not sure if IBM will switch to that entirely. I am not sure if their jdk is based on openjdk or not, as IBM had their own jdk/jvm for some time before openjdk existed.

That said, IBM does do nightly builds and does binary releases of openjdk.

http://cr.openjdk.java.net/~simonis/ppc-aix-port/index.html

Lots of choice, just lack of man power in Gentoo is all.




Comment 7


James Le Cuirot






          2015-06-11 22:49:03 UTC
        

I'm afraid I haven't managed to reproduce this. I have a chroot on timberdoodle, which I'm pretty sure is the machine you're using, but it works fine for me with ibm-jdk-bin, icedtea-6 and icedtea-7.

ant-core was already marked stable, by yourself no less, and it obviously gets pulled in a lot so this seems like an isolated case. We can't afford to have this blocking the stabilisation of other packages, especially in the face of security issues.




Comment 8


Agostino Sarubbo






          2015-06-13 11:38:12 UTC
        

you right. I setup a new chroot and works for me too.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

