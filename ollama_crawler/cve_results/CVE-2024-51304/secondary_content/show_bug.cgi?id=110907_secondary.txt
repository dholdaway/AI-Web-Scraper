Title: 110907 – musepack-tools-1.15u won't build with gcc-3.4.4
URL: https://bugs.gentoo.org/show_bug.cgi?id=110907

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 110907
musepack-tools-1.15u won't build with gcc-3.4.4
Last modified: 2005-10-31 09:44:56 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 110907 
      - musepack-tools-1.15u won't build with gcc-3.4.4


Summary:
musepack-tools-1.15u won't build with gcc-3.4.4
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Sound Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-10-30 09:10 UTC by Robert Persson





      Modified:
    
2005-10-31 09:44 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Robert Persson





          2005-10-30 09:10:04 UTC
        

I have just done an emerge -e world, following a switch from using gcc-3.3.5 to 
using gcc-3.4.4.  One of the builds that failed was media-sound/musepack-tools-
1.15u, even though it built fine with gcc-3.3.5.  I can't think of anything else 
that has changed that might have caused this.

However I have successfully emerged musepack-tools-1.15v using gcc-3.4.4.  
Therefore unmasking 1.15v would remove the problem.

Reproducible: Always
Steps to Reproduce:
1. gcc-config i686-linux-gnu-3.4.4
2. emerge musepack-tools  (i.e. emerge =musepack-tools-1.15u)
3. That's it.

Actual Results:  
C_VERSION=\"1.15u\" -DMPPENC_VERSION=\"1.15u\" -I/usr/include -L/usr/lib -fno-
strict-aliasing -fno-gcse -fno-finite-math-only -fno-unsafe-math-optimizations -
DMPP_DECODER replaygain.c
In file included from _setargv.c:20:
mppdec.h:67:21: config.h: No such file or directory
In file included from replaygain.c:32:
mppdec.h:67:21: config.h: No such file or directory

*** Compile sources with ***

cc -O3 -march=pentium4 -pipe -fomit-frame-pointer  -DCVD_FASTLOG -DFAST_MATH    
-DMPPDEC_VERSION="1.15u" -DMPPENC_VERSION="1.15u" -I/usr/include -L/usr/lib -
fno-strict-aliasing -fno-gcse -fno-finite-math-only -fno-unsafe-math-
optimizations -o <<EXE>> <<SRC>> -L/usr/lib -lesd -laudiofile -lm -lasound


*** Execute binary with ***

./<<EXE>>

cc -c -O3 -march=pentium4 -pipe -fomit-frame-pointer  -DCVD_FASTLOG -DFAST_MATH  
  -DMPPDEC_VERSION=\"1.15u\" -DMPPENC_VERSION=\"1.15u\" -I/usr/include -L/usr/
lib -fno-strict-aliasing -fno-gcse -fno-finite-math-only -fno-unsafe-math-
optimizations -DMPP_DECODER gain_analysis.c
make: *** [_setargv.o] Error 1
make: *** Waiting for unfinished jobs....
make: *** [replaygain.o] Error 1

!!! ERROR: media-sound/musepack-tools-1.15u failed.
!!! Function src_compile, Line 55, Exitcode 2
!!! (no error message)
!!! If you need support, post the topmost build error, NOT this status message.


Expected Results:  
Built musepack-tools-1.15u.  Or built musepack-tool-1.15v.  Doesn't matter so 
long as it builds something that works.

Portage 2.0.51.22-r3 (default-linux/x86/2005.0, gcc-3.4.4, glibc-2.3.5-r2, 2.6.
13-mm1 i686)
=================================================================
System uname: 2.6.13-mm1 i686 Intel(R) Pentium(R) 4 CPU 2.80GHz
Gentoo Base System version 1.6.13
ccache version 2.3 [disabled]
dev-lang/python:     2.3.5-r2, 2.4.2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.20
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O3 -march=pentium4 -pipe -fomit-frame-pointer -mfpmath=sse"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.3/env /usr/kde/3.3/
share/config /usr/kde/3.3/shutdown /usr/kde/3.4/env /usr/kde/3.4/share/config /
usr/kde/3.4/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/lib/mozilla/
defaults/pref /usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/
texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/
platex/config/ /usr/share/texmf/xdvi/ /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O3 -march=pentium4 -pipe -fomit-frame-pointer -mfpmath=sse"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/Linux/
distributions/gentoo"
LANG="en_CA.UTF-8"
LC_ALL="en_CA.UTF-8"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="3dfx 3dnow 3dnowext X X509 aac acpi aim alsa apache2 apm arts audiofile avi 
bash-completion berkdb bindist bitmap-fonts bonobo bzlib calendar cdparanoia cdr 
crypt cups curl dba dga doc dv dvb dvd dvdr eds emacs emboss encode erandom fam 
ffmpeg flac flash foomaticdb fortran freetds gcj gd gdbm gif gimpprint gphoto2 
gpm gstreamer gtk gtk2 gtkhtml guile hal icc ieee1394 imagemagick imap imlib 
innodb insecure-drivers ithreads jack jack-tmpfs java jikes jpeg jpeg2k junit 
kde kdeenablefinal kerberos krb4 ladcca ladspa ldap libg++ libwww lm_sensors lzo 
mad maildir matroska md5sum memlimit mikmod mime ming mmx motif mozilla mp3 mpeg 
multitarget mysql nas ncurses network nls nptl nptlonly objc odbc offensive ogg 
oggvorbis openal openexr opengl pam pcre pdflib perl php png portaudio postgres 
povray ppds python qt quicktime rdesktop readline real rrdtool rtc ruby samba 
scanner sdk sdl session slang slp sndfile speex spell sse sse2 ssl svg svga 
tcltk tcpd tetex theora threads tiff truetype truetype-fonts type1-fonts udev 
unicode usb v4l v4l2 vhosts vorbis wmf x86 xanim xine xinerama xml xml2 xmms 
xprint xscreensaver xv xvid xvmc yahoo zeroconf zlib userland_GNU kernel_linux 
elibc_glibc"
Unset:  ASFLAGS, CTARGET, LDFLAGS, LINGUAS




Comment 1


Diego Elio Pettenò (RETIRED)






          2005-10-31 09:44:56 UTC
        

1.15v is stable on x86 and 1.15u works on stable amd64. 









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

