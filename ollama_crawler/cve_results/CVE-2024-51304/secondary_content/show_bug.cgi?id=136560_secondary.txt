Title: 136560 – samba 3.0.22 fails to compile with a segfault
URL: https://bugs.gentoo.org/show_bug.cgi?id=136560

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 136560
samba 3.0.22 fails to compile with a segfault
Last modified: 2006-06-12 11:41:42 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 136560 
      - samba 3.0.22 fails to compile with a segfault


Summary:
samba 3.0.22 fails to compile with a segfault
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       critical
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-06-12 11:01 UTC by Thomas Schweikle





      Modified:
    
2006-06-12 11:41 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



tps









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Thomas Schweikle





          2006-06-12 11:01:00 UTC
        

Portage 2.1 (default-linux/x86/2006.0, gcc-3.4.6, glibc-2.3.6-r3, 2.6.16-gentoo-r9 i686)
=================================================================
System uname: 2.6.16-gentoo-r9 i686 AMD Duron(tm)
Gentoo Base System version 1.6.14
dev-lang/python:     2.4.2
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1-r2
sys-devel/gcc-config: 1.3.13-r2
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=i686"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/lib/X11/xkb"
CONFIG_PROTECT_MASK="/etc/env.d /etc/gconf /etc/terminfo"
CXXFLAGS="-O2 -march=i686"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="ftp://ftp.tu-clausthal.de/pub/linux/gentoo/"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.de.gentoo.org/gentoo-portage"
USE="x86 X apache2 apm arts avi berkdb bitmap-fonts cgi cli crypt dba dri eds emboss encode esd foomaticdb fortran gdbm gif gpm gstreamer gtk2 imlib ipv6 isdnlog jpeg kerberos ldap libg++ libwww mad mikmod motif mp3 mpeg mpm-worker nagios-dns nagios-ntp nagios-ping nagios-ssh ncurses nls nptl ogg opengl oss pam pcre pdflib perl png pppd python quicktime radius readline reflection sdl session spell spl ssl swat tcpd threads truetype truetype-fonts type1-fonts udev ups vorbis winbind xml xmms xorg xv zlib elibc_glibc kernel_linux userland_GNU"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGUAS, MAKEOPTS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY




Comment 1


Thomas Schweikle





          2006-06-12 11:08:01 UTC
        

The error is reproducible. I am not sure if it is related to gcc

> gcc (GCC) 3.4.6 (Gentoo 3.4.6-r1, ssp-3.4.5-1.0, pie-8.7.9)
> Copyright (C) 2006 Free Software Foundation, Inc.
> This is free software; see the source for copying conditions.  There is NO
> warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

or samba.





Comment 2


Thomas Schweikle





          2006-06-12 11:41:42 UTC
        

The error is not samba related! Merging samba alone, using "emerge samba" it compiles. If trying the same in a chain "emerge -uavDN world" it does not compile. Instead gcc dumps core. Looks like there is something wrong with portage. I suggest it being some old shared libs hanging arround in memory.

I have tried it three times, everytime gcc dumping core at exact the same point. Then compiling again, this time using: "emerge samba > ~/samba.log 2>&1" it did compile (without rebooting or something else --- looks like gcc dumping core because of some problems printing to console?!









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

