Title: 82109 – consistent oops in linux-2.4.24-openmosix-r10
URL: https://bugs.gentoo.org/show_bug.cgi?id=82109

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 82109
consistent oops in linux-2.4.24-openmosix-r10
Last modified: 2005-04-30 08:37:13 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 82109 
      - consistent oops in linux-2.4.24-openmosix-r10


Summary:
consistent oops in linux-2.4.24-openmosix-r10
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Core system

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Konstantin Arkhipov (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-02-15 04:48 UTC by Peter Bienstman (RETIRED)





      Modified:
    
2005-04-30 08:37 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Peter Bienstman (RETIRED)






          2005-02-15 04:48:35 UTC
        

One of the machines in our cluster crashes during boot, or very quickly afterwards, with the following oops:

kernel BUG in skbuff.c:96!
invalid operand:0000
CPU:0
EIP: 0010:[<c02da4bb>] Not tainted
EFLAGS: 00010086
eax: 00000028 ebx: 00000000 ecx: 00000001 edx: 00000000
esi: 00000006 edi: f75c0280 ebp: f75c0280 esp: c03efc94
ds: 0018 es: 0018 ss: 0018
Process swapper: pid 0, stackpage=c03ef00
..
Code: 0f ab 60 00 99 75 38 co 83 c4 14 c3 89 f6 8d bc 27 00 00 00
<0> kernil panic, Aie, killing interrupt handler
In interrupt handler: not syncing

linux-2.4.24-openmosix-r7 did work fine.


Reproducible: Always
Steps to Reproduce:
1.
2.
3.




# 
# openMosix 
# 
CONFIG_MOSIX=y 
# CONFIG_MOSIX_TOPOLOGY is not set 
CONFIG_MOSIX_SECUREPORTS=y 
CONFIG_MOSIX_DISCLOSURE=3 
# CONFIG_MOSIX_FS is not set 
# CONFIG_MOSIX_PIPE_EXCEPTIONS is not set 
# CONFIG_MOSIX_NO_OOM is not set 
# CONFIG_MOSIX_LOADLIMIT is not set




Comment 1


Konstantin Arkhipov (RETIRED)






          2005-02-15 04:52:13 UTC
        

can you please provide output of ksymoops for this oops?




Comment 2


Peter Bienstman (RETIRED)






          2005-02-15 05:00:37 UTC
        

If I run ksymoops, I get 

Reading Oops report from the terminal

Can you tell me how exactly I should use it? I just copied the oops report by hand, because I couldn't find it in the syslog.





Comment 3


Konstantin Arkhipov (RETIRED)






          2005-02-15 05:08:13 UTC
        

you should save whole oops message in separate file, then - just `cat oops.file | ksymoops`
if you're able to reproduce oops, probably best way to catch whole oops message will be looking at `tail -f /var/log/messages` from remote thru ssh session




Comment 4


Peter Bienstman (RETIRED)






          2005-02-15 05:12:34 UTC
        

If I paste my partial handcopied oops, I get:

>>EIP; c02da4bb <skb_over_panic+3b/50>   <=====

>>edi; f75c0280 <_end+37142db4/383e3b94>
>>ebp; f75c0280 <_end+37142db4/383e3b94>
>>esp; c03efc94 <init_task_union+1c94/2000>

Code;  c02da4bb <skb_over_panic+3b/50>
00000000 <_EIP>:
Code;  c02da4bb <skb_over_panic+3b/50>   <=====
   0:   0f ab 60 00               bts    %esp,0x0(%eax)   <=====
Code;  c02da4bf <skb_over_panic+3f/50>
   4:   99                        cltd
Code;  c02da4c0 <skb_over_panic+40/50>
   5:   75 38                     jne    3f <_EIP+0x3f>

Is this sufficient info? The oops doesn't show up in /var/log/messages. Should I change something to syslog-ng?




Comment 5


Konstantin Arkhipov (RETIRED)






          2005-02-15 05:22:55 UTC
        

you can try it without files/openmosix-sources-af_unix.patch too.





Comment 6


Konstantin Arkhipov (RETIRED)






          2005-02-15 05:23:47 UTC
        

no, your syslog is ok. that's normal behaviour under oops/panics.




Comment 7


Peter Bienstman (RETIRED)






          2005-02-15 06:25:53 UTC
        

Without openmosix-sources-af_unix.patch I get the same behaviour...

I think I'll try a vanilla 2.4.26-1, because we can't really afford to reboot our production cluster all the time.




Comment 8


Konstantin Arkhipov (RETIRED)






          2005-04-15 10:12:40 UTC
        

is it still actual?
any luck with 2.4.30?




Comment 9


Konstantin Arkhipov (RETIRED)






          2005-04-30 08:32:45 UTC
        

still no feedback. closing it.




Comment 10


Peter Bienstman (RETIRED)






          2005-04-30 08:37:13 UTC
        

Sorry, didn't see the request for feedback. We won't be trying 2.4.30: the vanilla openmosix 2.4.26-1 works fine for us, and since we're running a production cluster, we can't use it to test gentoo patches.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

