Title: 141398 – gcc 4.1.1 postinst failed - cp: cannot stat ..../c89,c99
URL: https://bugs.gentoo.org/show_bug.cgi?id=141398

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 141398
gcc 4.1.1 postinst failed - cp: cannot stat ..../c89,c99
Last modified: 2006-07-24 03:00:48 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 141398 
      - gcc 4.1.1 postinst failed - cp: cannot stat ..../c89,c99


Summary:
gcc 4.1.1 postinst failed - cp: cannot stat ..../c89,c99
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Core system

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Toolchain Maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-07-22 09:08 UTC by Mihael Robost





      Modified:
    
2006-07-24 03:00 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Mihael Robost





          2006-07-22 09:08:59 UTC
        

I'm trying to build a new gentoo system from an existing (i'm following the /HOWTO Xen and Gentoo/ instructions from http://gentoo-wiki.com/HOWTO_Xen_and_Gentoo#Gentoo_domU_using_quickpkg)

1) creating binary packages from the existing system

 for PKG in $(equery -q list | cut -d ' ' -f 3)
 do
   quickpkg =$PKG
 done

2) then copying
      - stage3-amd64-2006.0 tarball (extract)
      - /usr/portage
      - /etc/make.conf, /etc/portage 
    to the new file file system

3) finally doing this:

ROOT=/mnt/gentoo/ CONFIG_PROTECT=-/etc FEATURES=-collision-protect emerge --usepkg --emptytree system


during postinst of gcc-4.1.1 it fails


(here is the output)
...

 * If you have issues with packages unable to locate libstdc++.la,
 * then try running 'fix_libtool_files.sh' on the old gcc versions.

--- !empty dir /mnt/gentoo-u0/etc/env.d
--- !empty dir /mnt/gentoo-u0/etc
>>> Regenerating /mnt/gentoo-u0/etc/ld.so.cache...
>>> Original instance of package unmerged safely.


--
cp: cannot stat `/mnt/gentoo-u0///usr/share/gcc-data/x86_64-pc-linux-gnu/4.1.1/c89': No such file or directory
cp: cannot stat `/mnt/gentoo-u0///usr/share/gcc-data/x86_64-pc-linux-gnu/4.1.1/c99': No such file or directory

!!! ERROR: sys-devel/gcc-4.1.1 failed.
Call stack:
  ebuild.sh, line 1526:   Called pkg_postinst
  ebuild.sh, line 1254:   Called toolchain_pkg_postinst
  toolchain.eclass, line 36:   Called gcc-compiler_pkg_postinst
  toolchain.eclass, line 883:   Called die

!!! installing c89/c99
!!! If you need support, post the topmost build error, and the call stack if relevant.

!!! FAILED postinst: 1




Comment 1


SpanKY






          2006-07-24 03:00:48 UTC
        

known issue with binary packages always using latest eclass

solution: re-emerge gcc and rebuild the binpkg









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

