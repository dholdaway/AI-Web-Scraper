Title: 341079 – media-sound/alsa-utils-1.0.21-r1 does not save Input Source
URL: https://bugs.gentoo.org/show_bug.cgi?id=341079

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 341079
media-sound/alsa-utils-1.0.21-r1 does not save Input Source
Last modified: 2012-02-03 13:22:14 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 341079 
      - media-sound/alsa-utils-1.0.21-r1 does not save Input Source


Summary:
media-sound/alsa-utils-1.0.21-r1 does not save Input Source
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo ALSA team [DISABLED]








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2010-10-15 01:19 UTC by DEMAINE Benoît-Pierre, aka DoubleHP





      Modified:
    
2012-02-03 13:22 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


DEMAINE Benoît-Pierre, aka DoubleHP





          2010-10-15 01:19:23 UTC
        

- set system to start /etc/init.d/alsasound at boot
- reboot
- run alsamixer, F4, change the Input source (for me, default is Mic, i change it to Line)
- reboot
- enter alsamixer: oh, it's mic again !!! and it should not !

All other parameters in the output page are saved and restaured. I did not check how much deep the bug is; i did not check if the bug hapens only for the first source (I have 3 sources); for other cards (I have 4 cards - only tested #0); did not check if the capture gain was lost, or restaured, or if active sources are memorised (disabled by pressing space) ... but I think all this will seem obvious to the maintainer who digs in the scripts.

I would say that the gain is saved and restaured as expected.

dhp@uranus ~ $ lspci
00:00.0 Host bridge: Advanced Micro Devices [AMD] RS780 Host Bridge Alternate
00:01.0 PCI bridge: Advanced Micro Devices [AMD] RS780 PCI to PCI bridge (int gfx)
00:02.0 PCI bridge: Advanced Micro Devices [AMD] RS780 PCI to PCI bridge (ext gfx port 0)
00:04.0 PCI bridge: Advanced Micro Devices [AMD] RS780 PCI to PCI bridge (PCIE port 0)
00:0a.0 PCI bridge: Advanced Micro Devices [AMD] RS780 PCI to PCI bridge (PCIE port 5)
00:11.0 SATA controller: ATI Technologies Inc SB700/SB800 SATA Controller [AHCI mode]
00:12.0 USB Controller: ATI Technologies Inc SB700/SB800 USB OHCI0 Controller
00:12.1 USB Controller: ATI Technologies Inc SB700 USB OHCI1 Controller
00:12.2 USB Controller: ATI Technologies Inc SB700/SB800 USB EHCI Controller
00:13.0 USB Controller: ATI Technologies Inc SB700/SB800 USB OHCI0 Controller
00:13.1 USB Controller: ATI Technologies Inc SB700 USB OHCI1 Controller
00:13.2 USB Controller: ATI Technologies Inc SB700/SB800 USB EHCI Controller
00:14.0 SMBus: ATI Technologies Inc SBx00 SMBus Controller (rev 3c)
00:14.1 IDE interface: ATI Technologies Inc SB700/SB800 IDE Controller
00:14.2 Audio device: ATI Technologies Inc SBx00 Azalia (Intel HDA)
00:14.3 ISA bridge: ATI Technologies Inc SB700/SB800 LPC host controller
00:14.4 PCI bridge: ATI Technologies Inc SBx00 PCI to PCI Bridge
00:14.5 USB Controller: ATI Technologies Inc SB700/SB800 USB OHCI2 Controller
00:18.0 Host bridge: Advanced Micro Devices [AMD] K10 [Opteron, Athlon64, Sempron] HyperTransport Configuration
00:18.1 Host bridge: Advanced Micro Devices [AMD] K10 [Opteron, Athlon64, Sempron] Address Map
00:18.2 Host bridge: Advanced Micro Devices [AMD] K10 [Opteron, Athlon64, Sempron] DRAM Controller
00:18.3 Host bridge: Advanced Micro Devices [AMD] K10 [Opteron, Athlon64, Sempron] Miscellaneous Control
00:18.4 Host bridge: Advanced Micro Devices [AMD] K10 [Opteron, Athlon64, Sempron] Link Control
01:05.0 VGA compatible controller: ATI Technologies Inc Device 9710
01:05.1 Audio device: ATI Technologies Inc Device 970f
02:00.0 VGA compatible controller: ATI Technologies Inc RV710 [Radeon HD 4350]
02:00.1 Audio device: ATI Technologies Inc R700 Audio Device [Radeon HD 4000 Series]
03:00.0 VGA compatible controller: ATI Technologies Inc RV710 [Radeon HD 4350]
03:00.1 Audio device: ATI Technologies Inc R700 Audio Device [Radeon HD 4000 Series]
04:00.0 Ethernet controller: Realtek Semiconductor Co., Ltd. RTL8111/8168B PCI Express Gigabit Ethernet controller (rev 02)
05:0e.0 FireWire (IEEE 1394): Texas Instruments TSB43AB23 IEEE-1394a-2000 Controller (PHY/Link)
dhp@uranus ~ $

dhp@uranus ~ $ cat /proc/asound/cards
 0 [SB             ]: HDA-Intel - HDA ATI SB
                      HDA ATI SB at 0xfe024000 irq 16
 1 [HDMI           ]: HDA-Intel - HDA ATI HDMI
                      HDA ATI HDMI at 0xfdefc000 irq 19
 2 [HDMI_1         ]: HDA-Intel - HDA ATI HDMI
                      HDA ATI HDMI at 0xfdcfc000 irq 44
 3 [HDMI_2         ]: HDA-Intel - HDA ATI HDMI
                      HDA ATI HDMI at 0xfdbfc000 irq 45
dhp@uranus ~ $ cat /proc/asound/devices
  2:        : timer
  3:        : sequencer
  4: [ 0- 2]: digital audio capture
  5: [ 0- 1]: digital audio playback
  6: [ 0- 1]: digital audio capture
  7: [ 0- 0]: digital audio playback
  8: [ 0- 0]: digital audio capture
  9: [ 0- 0]: hardware dependent
 10: [ 0]   : control
 11: [ 1- 3]: digital audio playback
 12: [ 1- 0]: hardware dependent
 13: [ 1]   : control
 14: [ 2- 3]: digital audio playback
 15: [ 2- 0]: hardware dependent
 16: [ 2]   : control
 17: [ 3- 3]: digital audio playback
 18: [ 3- 0]: hardware dependent
 19: [ 3]   : control
dhp@uranus ~ $




Comment 1


Tony Vroon (RETIRED)






          2012-02-03 13:22:14 UTC
        

Older versions of ALSA only saved volume levels and not the state of more complex controls like selectors. You should find that this works correctly in 1.0.25; my apologies for the complete lack of response to your bug.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

