Title: 115359 – autofs will not build after upgrade to gcc-3.4.4
URL: https://bugs.gentoo.org/show_bug.cgi?id=115359

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 115359
autofs will not build after upgrade to gcc-3.4.4
Last modified: 2005-12-13 07:22:30 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 115359 
      - autofs will not build after upgrade to gcc-3.4.4


Summary:
autofs will not build after upgrade to gcc-3.4.4
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Network Filesystems








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-12-12 18:02 UTC by Peter Kelly





      Modified:
    
2005-12-13 07:22 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Peter Kelly





          2005-12-12 18:02:18 UTC
        

emerge autofs will not compile.  Build looks for hesiod.h, which it not present.  
  
lookup_hesiod.c:20:20: hesiod.h: No such file or directory  
lookup_hesiod.c: In function `lookup_mount':  
lookup_hesiod.c:82: warning: assignment makes pointer from integer without a cast  
make[1]: *** [lookup_hesiod.so] Error 1  
make[1]: *** Waiting for unfinished jobs....  
strip --strip-debug mount_ext2.so  
make[1]: *** Waiting for unfinished jobs....  
strip --strip-debug parse_hesiod.so  
make[1]: Leaving directory `/isoserver/portage/portage/autofs-4.1.3-r4/work/autofs-4.1.3/modules'  
make: *** [daemon] Error 2  
  
!!! ERROR: net-fs/autofs-4.1.3-r4 failed.  
!!! Function src_compile, Line 48, Exitcode 2  
!!! make failed  
!!! If you need support, post the topmost build error, NOT this status message.  
  

Reproducible: Always
Steps to Reproduce:
1. emerge autofs 
2. 
3. 
 
Actual Results:  
lookup_hesiod.c:20:20: hesiod.h: No such file or directory 
lookup_hesiod.c: In function `lookup_mount': 
lookup_hesiod.c:82: warning: assignment makes pointer from integer without a cast 
make[1]: *** [lookup_hesiod.so] Error 1 
make[1]: *** Waiting for unfinished jobs.... 
strip --strip-debug mount_ext2.so 
make[1]: *** Waiting for unfinished jobs.... 
strip --strip-debug parse_hesiod.so 
make[1]: Leaving directory `/isoserver/portage/portage/autofs-4.1.3-r4/work/autofs-4.1.3/modules' 
make: *** [daemon] Error 2 
 
!!! ERROR: net-fs/autofs-4.1.3-r4 failed. 
!!! Function src_compile, Line 48, Exitcode 2 
!!! make failed 
!!! If you need support, post the topmost build error, NOT this status message. 
 

Expected Results:  
build should compile 

crichton ~ # emerge --info 
Portage 2.0.51.22-r3 (default-linux/x86/2005.0, gcc-3.4.4, glibc-2.3.5-r2, 2.6.13-gentoo-r3 i686) 
================================================================= 
System uname: 2.6.13-gentoo-r3 i686 Intel(R) Pentium(R) 4 CPU 3.00GHz 
Gentoo Base System version 1.12.0_pre11 
dev-lang/python:     2.3.5-r2, 2.4.2 
sys-apps/sandbox:    1.2.12 
sys-devel/autoconf:  2.13, 2.59-r6 
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1 
sys-devel/binutils:  2.16.1 
sys-devel/libtool:   1.5.20 
virtual/os-headers:  2.6.11-r2 
ACCEPT_KEYWORDS="x86" 
AUTOCLEAN="yes" 
CBUILD="i686-pc-linux-gnu" 
CFLAGS="-march=pentium4 -O2 -pipe -mmmx -msse -msse2" 
CHOST="i686-pc-linux-gnu" 
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config /var/qmail/control" 
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d" 
CXXFLAGS="-march=pentium4 -O2 -pipe -mmmx -msse -msse2" 
DISTDIR="/usr/portage/distfiles" 
FEATURES="autoconfig distlocks sandbox sfperms strict" 
GENTOO_MIRRORS="http://distro.ibiblio.org/pub/linux/distributions/gentoo/ 
ftp://ftp.gtlib.cc.gatech.edu/pub/gentoo http://open-systems.ufl.edu/mirrors/gentoo 
http://mirror.tucdemonic.org/gentoo/" 
MAKEOPTS="-j3" 
PKGDIR="/usr/portage/packages" 
PORTAGE_TMPDIR="/isoserver/portage" 
PORTDIR="/usr/portage" 
SYNC="rsync://rsync.gentoo.org/gentoo-portage" 
USE="x86 X acl alsa apm arts audiofile avi berkdb bitmap-fonts browserplugin bzip2 cdb cdr crypt cups curl 
dbus dts emboss encode esd exif expat fam ffmpeg flac foomaticdb fortran gdbm gif glut gmp gpm 
gstreamer gtk gtk2 hal idn imagemagick imap imlib java javascript jpeg junit kde lcms libg++ libwww lua 
mad maildir mikmod mmx mng motif mozilla mp3 mpeg mysql ncurses nls nptl nsplugin nvidia ogg 
oggvorbis openal opengl oss pam pcre pda pdflib perl png python qt quicktime readline recode samba sdl 
slang spell sqlite sse sse2 ssl svga tcltk tcpd tiff truetype truetype-fonts type1-fonts udev usb vorbis 
win32codecs xine xml xml2 xmms xscreensaver xv xvid zlib userland_GNU kernel_linux elibc_glibc" 
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTDIR_OVERLAY




Comment 1


Maurice van der Pot (RETIRED)






          2005-12-13 03:55:54 UTC
        

Looks to me like your system is in an inconsistent state.
I could see this happening if you have libhesiod installed, but not the
accompanying header file.

If you have hesiod installed, please try to remerge and see if that helps. 





Comment 2


Peter Kelly





          2005-12-13 07:10:05 UTC
        

(In reply to comment #1) 
> Looks to me like your system is in an inconsistent state. 
> I could see this happening if you have libhesiod installed, but not the 
> accompanying header file. 
>  
> If you have hesiod installed, please try to remerge and see if that helps.  
>  
I never emerge'd hesiod, but had gone through a few updates of fetchmail.  Currently, emerge -pv 
fetchmail has a -hesiod flag. 
I had /usr/lib/libhesiod.so(.0) on the system.  I removed the two files, and autofs emerges nicely.  
Thanks. 
 
 




Comment 3


Maurice van der Pot (RETIRED)






          2005-12-13 07:22:30 UTC
        

Alright, please reopen if it reoccurs at a later time.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

