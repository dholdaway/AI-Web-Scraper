Title: 490310 – kde-base/konsole: bzip2 error when viewing man pages
URL: https://bugs.gentoo.org/show_bug.cgi?id=490310

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 490310
kde-base/konsole: bzip2 error when viewing man pages
Last modified: 2013-11-26 23:01:30 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 490310 
      - kde-base/konsole: bzip2 error when viewing man pages


Summary:
kde-base/konsole: bzip2 error when viewing man pages
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2013-11-03 20:45 UTC by Chris Smith





      Modified:
    
2013-11-26 23:01 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:


458148





Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Chris Smith





          2013-11-03 20:45:13 UTC
        

Quiting the viewing of a man page Konsole throws this error:

bzip2: I/O or other error, bailing out.

This does not occur with other terminals (xterm, etc.)


Reproducible: Always

Actual Results:  
$ man ls

bzip2: I/O or other error, bailing out.  Possible reason follows.
bzip2: Broken pipe
        Input file = /usr/share/man/man1p/ls.1p.bz2, output file = (stdout)

bzip2: I/O or other error, bailing out.  Possible reason follows.
bzip2: Broken pipe
        Input file = /usr/share/man/man1p/ls.1p.bz2, output file = (stdout)

Expected Results:  
should exit clean instead of throwing errors

emerge --info
Portage 2.2.7 (default/linux/amd64/13.0/desktop/kde, gcc-4.8.1, glibc-2.17, 3.11.6-gentoo x86_64)
=================================================================
System uname: Linux-3.11.6-gentoo-x86_64-Intel-R-_Core-TM-_i7-3770K_CPU_@_3.50GHz-with-gentoo-2.2
KiB Mem:    32897920 total,  22543124 free
KiB Swap:    6291452 total,   6291452 free
Timestamp of tree: Sun, 03 Nov 2013 18:15:01 +0000
ld GNU ld (GNU Binutils) 2.23.2
app-shells/bash:          4.2_p45
dev-java/java-config:     2.2.0
dev-lang/python:          2.7.5-r4, 3.3.2-r2
dev-util/cmake:           2.8.12
dev-util/pkgconfig:       0.28
sys-apps/baselayout:      2.2
sys-apps/openrc:          0.12.4
sys-apps/sandbox:         2.6-r1
sys-devel/autoconf:       2.13, 2.69
sys-devel/automake:       1.10.3, 1.11.6, 1.12.6, 1.14
sys-devel/binutils:       2.23.2
sys-devel/gcc:            4.8.1-r1
sys-devel/gcc-config:     1.8
sys-devel/libtool:        2.4.2
sys-devel/make:           3.82-r4
sys-kernel/linux-headers: 3.11 (virtual/os-headers)
sys-libs/glibc:           2.17
Repositories: gentoo desktop server                                                                                   
ACCEPT_KEYWORDS="amd64 ~amd64"                                                                                        
ACCEPT_LICENSE="* -@EULA"                                                                                             
CBUILD="x86_64-pc-linux-gnu"                                                                                          
CFLAGS="-O2 -march=native -fomit-frame-pointer -pipe -floop-interchange -floop-strip-mine -floop-block"               
CHOST="x86_64-pc-linux-gnu"                                                                                           
CONFIG_PROTECT="/etc /usr/share/config /usr/share/gnupg/qualified.txt"                                                
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/dconf /etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo"                                                                 
CXXFLAGS="-O2 -march=native -fomit-frame-pointer -pipe -floop-interchange -floop-strip-mine -floop-block"             
DISTDIR="/usr/portage/distfiles"                                                                                      
EMERGE_DEFAULT_OPTS="--with-bdeps y"                                                                                  
FCFLAGS="-O2 -pipe"                                                                                                   
FEATURES="assume-digests binpkg-logs config-protect-if-modified distlocks ebuild-locks fixlafiles merge-sync news parallel-fetch preserve-libs protect-owned sandbox sfperms strict unknown-features-warn unmerge-logs unmerge-orphans userfetch userpriv usersandbox usersync xattr"                                                                             
FFLAGS="-O2 -pipe"                                                                                                    
GENTOO_MIRRORS="http://distfiles.gentoo.org"                                                                          
LANG="en_US.utf8"                                                                                                     
LDFLAGS="-Wl,-O1 -Wl,--as-needed"                                                                                     
MAKEOPTS="-j5"                                                                                                        
PKGDIR="/usr/portage/packages"                                                                                        
PORTAGE_CONFIGROOT="/"                                                                                                
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --omit-dir-times --compress --force --whole-file --delete --stats --human-readable --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"            
PORTAGE_TMPDIR="/var/tmp"                                                                                             
PORTDIR="/usr/portage"                                                                                                
PORTDIR_OVERLAY="/usr/local/portage/desktop /usr/local/portage/server"                                                
SYNC="rsync://rsync11.us.gentoo.org/gentoo-portage"                                                                   
USE="X a52 aac aalib acl acpi alsa amd64 amr apache2 audiofile avahi bash-completion berkdb bluray branding btrfs bzip2 cairo caps cdaudio cdda cddb cdparanoia cdr cdrdao chm cli consolekit cracklib crypt cups curl cxx dbus declarative designer-plugin djvu dri dts dv dvb dvd dvdr ebook emboss encode exif fam ffmpeg firefox flac fortran gdbm gif gmp gphoto2 gpm graphite gstreamer gtk gtk3 iconv icu ieee1394 imagemagick imap imlib introspection ipv6 jack java jpeg jpeg2k kde kipi kpathsea lame lcms libffi libnotify mad marble midi mmap mmx mng modules mozilla mp3 mp4 mpeg mtp mudflap multilib musicbrainz mythtv ncurses network nls nodrm nptl nsplugin nvidia ofx ogg opencl openexr opengl openmp pam pango pcre pdf phonon plasma png policykit ppds pulseaudio qt3support qt4 quicktime readline rtmp samba sasl scanner sdl semantic-desktop session slp smp sndfile spell sse sse2 ssl startup-notification subversion svg theora threads tiff tk transparency truetype udev udisks unicode upower usb v4l vaapi vcd vdpau vim-syntax vorbis vpx wav wavpack wmf wxwidgets x264 xattr xcomposite xine xinerama xml xscreensaver xv xvid xvmc zeroconf zlib" ABI_X86="64" ALSA_CARDS="hda-intel hdsp hpet hrtimer rtctimer seqdummy virmidi" APACHE2_MODULES="authn_core authz_core socache_shmcb unixd actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cgi cgid dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CALLIGRA_FEATURES="author braindump flow karbon kexi krita sheets stage words" CAMERAS="*" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf superstar2 timing tsip tripmate tnt ubx" GRUB_PLATFORMS="efi-64 pc" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LIBREOFFICE_EXTENSIONS="presenter-console presenter-minimizer" LINGUAS="en_US en" NGINX_MODULES_HTTP="autoindex fancyindex fastcgi gzip" OFFICE_IMPLEMENTATION="libreoffice" PHP_TARGETS="php5-5" PYTHON_SINGLE_TARGET="python2_7" PYTHON_TARGETS="python2_7 python3_3" QEMU_SOFTMMU_TARGETS="i386 x86_64" QEMU_USER_TARGETS="i386 x86_64" RUBY_TARGETS="ruby19 ruby20" SANE_BACKENDS="epson epson2" USERLAND="GNU" VIDEO_CARDS="nvidia" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account"
Unset:  CPPFLAGS, CTARGET, INSTALL_MASK, LC_ALL, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, USE_PYTHON




Comment 1


Chris Smith





          2013-11-03 21:09:00 UTC
        

version is kde-base/konsole-4.11.2




Comment 2


Johannes Huber (RETIRED)






          2013-11-04 11:26:38 UTC
        

On your steps to reproduce, i am unable to reproduce. But your CFLAGS seems not safe.

> CFLAGS="-O2 -march=native -fomit-frame-pointer -pipe -floop-interchange -floop-strip-mine -floop-block"

https://wiki.gentoo.org/wiki/Safe_CFLAGS




Comment 3


Chris Smith





          2013-11-04 16:50:49 UTC
        

(In reply to Johannes Huber from comment #2)
> On your steps to reproduce, i am unable to reproduce. But your CFLAGS seems
> not safe.
> 
> > CFLAGS="-O2 -march=native -fomit-frame-pointer -pipe -floop-interchange -floop-strip-mine -floop-block"
> 
> https://wiki.gentoo.org/wiki/Safe_CFLAGS

Been using those flags for a long time, believe they are standard graphite optimizations.

The Konsole problem is new, something has occurred.




Comment 4


Chris Smith





          2013-11-12 21:35:57 UTC
        

Please see:
https://bugs.gentoo.org/show_bug.cgi?id=458148

And reopen this bug. I believe they are related.




Comment 5


Chris Smith





          2013-11-26 23:01:30 UTC
        

This bug is back again, seems to come and go.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

