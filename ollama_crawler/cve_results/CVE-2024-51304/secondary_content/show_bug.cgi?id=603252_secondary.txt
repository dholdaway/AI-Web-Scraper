Title: 603252 – www-client/chromium-55.0.2883.75 fails build (possibly icu problem)
URL: https://bugs.gentoo.org/show_bug.cgi?id=603252

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 603252
www-client/chromium-55.0.2883.75 fails build (possibly icu problem)
Last modified: 2016-12-21 22:25:28 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 603252 
      - www-client/chromium-55.0.2883.75 fails build (possibly icu problem)


Summary:
www-client/chromium-55.0.2883.75 fails build (possibly icu problem)
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Chromium Project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2016-12-20 21:07 UTC by samurai.no.dojo





      Modified:
    
2016-12-21 22:25 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



samurai.no.dojo









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build log and emerge --info

              (chromium.pkg.info.tar.xz,545.68 KB,
                application/x-xz)

            
2016-12-20 21:07 UTC,

            samurai.no.dojo




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


samurai.no.dojo





          2016-12-20 21:07:01 UTC
        

Created attachment 456904 [details]
build log and emerge --info

www-client/chromium-55.0.2883.75 fails build with error 
[23133/23134] touch obj/chrome/browser_dependencies.stamp
[23134/23134] x86_64-pc-linux-gnu-g++ -pie -fPIC -Wl,-z,noexecstack -Wl,-z,now -Wl,-z,relro -Wl,-z,defs -Wl,--no-as-needed -lpthread -Wl,--as-needed -pthread -m64 -Wl,-O1 -Wl,--gc-sections -Wl,-rpath-link=. -Wl,--disable-new-dtags -Wl,--export-dynamic -Wl,-O1 -Wl,--as-needed -o "./chrome" -Wl,--start-group @"./chrome.rsp"  -Wl,--end-group  -ldl -lrt -lpangocairo-1.0 -lpango-1.0 -lgobject-2.0 -lglib-2.0 -lcairo -lX11 -lX11-xcb -lxcb -lXcomposite -lXcursor -lXdamage -lXext -lXfixes -lXi -lXrender -lXtst -lgmodule-2.0 -lgthread-2.0 -licui18n -licuuc -licudata -lsmime3 -lnss3 -lnssutil3 -lplds4 -lplc4 -lnspr4 -lcups -lz -lpthread -lm -lcrypt -lexpat -lxml2 -lfontconfig -ldbus-1 -latomic -lfreetype -lgio-2.0 -lresolv -lharfbuzz-icu -lharfbuzz -lpng16 -ljpeg -lXss -lXrandr -lre2 -lavcodec -lavformat -lavutil -lvpx -lasound -latk-1.0 -lminizip -lsnappy -lFLAC -lgtk-x11-2.0 -lgdk-x11-2.0 -lgdk_pixbuf-2.0 -lpangoft2-1.0 -lwebp -lwebpdemux -lxslt -llzma 
FAILED: x86_64-pc-linux-gnu-g++ -pie -fPIC -Wl,-z,noexecstack -Wl,-z,now -Wl,-z,relro -Wl,-z,defs -Wl,--no-as-needed -lpthread -Wl,--as-needed -pthread -m64 -Wl,-O1 -Wl,--gc-sections -Wl,-rpath-link=. -Wl,--disable-new-dtags -Wl,--export-dynamic -Wl,-O1 -Wl,--as-needed -o "./chrome" -Wl,--start-group @"./chrome.rsp"  -Wl,--end-group  -ldl -lrt -lpangocairo-1.0 -lpango-1.0 -lgobject-2.0 -lglib-2.0 -lcairo -lX11 -lX11-xcb -lxcb -lXcomposite -lXcursor -lXdamage -lXext -lXfixes -lXi -lXrender -lXtst -lgmodule-2.0 -lgthread-2.0 -licui18n -licuuc -licudata -lsmime3 -lnss3 -lnssutil3 -lplds4 -lplc4 -lnspr4 -lcups -lz -lpthread -lm -lcrypt -lexpat -lxml2 -lfontconfig -ldbus-1 -latomic -lfreetype -lgio-2.0 -lresolv -lharfbuzz-icu -lharfbuzz -lpng16 -ljpeg -lXss -lXrandr -lre2 -lavcodec -lavformat -lavutil -lvpx -lasound -latk-1.0 -lminizip -lsnappy -lFLAC -lgtk-x11-2.0 -lgdk-x11-2.0 -lgdk_pixbuf-2.0 -lpangoft2-1.0 -lwebp -lwebpdemux -lxslt -llzma 
/usr/lib/gcc/x86_64-pc-linux-gnu/4.9.3/../../../../lib64/libre2.so: undefined reference to `icu::UnicodeString::fromUTF8(icu::StringPiece const&)'
collect2: error: ld returned 1 exit status
ninja: build stopped: subcommand failed.

Problem is possibly linked with icu.




Comment 1


Mike Gilbert






          2016-12-20 21:33:32 UTC
        

Try re-building dev-libs/re2.




Comment 2


samurai.no.dojo





          2016-12-21 22:16:41 UTC
        

That did the trick...
This is SOLVED for me, but it should be probably more "automatic" in portage (if it is possible, please enlighten me in this topic if not...)
Thank you 
S




Comment 3


Mike Gilbert






          2016-12-21 22:25:28 UTC
        

dev-libs/re2 has a slot-operator dependency on dev-libs/icu, so the rebuild should have been automatic.

It is hard to say why this failed for you.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

