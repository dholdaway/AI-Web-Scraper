Title: 132741 – gocr-0.39 fails to build
URL: https://bugs.gentoo.org/show_bug.cgi?id=132741

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 132741
gocr-0.39 fails to build
Last modified: 2010-01-31 10:55:35 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 132741 
      - gocr-0.39 fails to build


Summary:
gocr-0.39 fails to build
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-05-08 17:12 UTC by Juergen Nagel





      Modified:
    
2010-01-31 10:55 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Juergen Nagel





          2006-05-08 17:12:55 UTC
        

i686-pc-linux-gnu-gcc -march=athlon-xp -O2 -pipe -falign-functions=4 -falign-jumps=4 -frename-registers -funit-at-a-time  -I../include -DHAVE_CONFIG_H -c -o job.o job.c
rm -f libPgm2asc.a
ar cru libPgm2asc.a pgm2asc.o box.o database.o detect.o barcode.o lines.o list.o ocr0.o ocr0n.o ocr1.o otsu.o output.o pixel.o unicode.o remove.o pnm.o pcx.o job.o
i686-pc-linux-gnu-ranlib libPgm2asc.a
i686-pc-linux-gnu-gcc -march=athlon-xp -O2 -pipe -falign-functions=4 -falign-jumps=4 -frename-registers -funit-at-a-time  -I../include -DHAVE_CONFIG_H -c -o gocr.o gocr.c
i686-pc-linux-gnu-gcc -o gocr gocr.o -lpnm  -L. -lPgm2asc
./libPgm2asc.a(pnm.o): In function `writepgmfile':
pnm.c:(.text+0x147c): undefined reference to `pgm_allocrow'
collect2: ld returned 1 exit status
make[1]: *** [gocr] Error 1
make[1]: Leaving directory `/var/tmp/portage/gocr-0.39/work/gocr-0.39/src'
make: *** [src] Error 2

!!! ERROR: app-text/gocr-0.39 failed.
!!! Function src_compile, Line 37, Exitcode 2
!!! (no error message)
!!! If you need support, post the topmost build error, NOT this status message




emerge --info
Portage 2203-svn (default-linux/x86/2006.0, gcc-3.4.5, glibc-2.3.6-r3, 2.6.16-suspend2-r4 i686)
=================================================================
System uname: 2.6.16-suspend2-r4 i686 AMD Athlon(tm) XP 2100+
Gentoo Base System version 1.6.14
dev-lang/python:     2.4.2
dev-python/pycrypto: [Not Present]
dev-util/ccache:     [Not Present]
dev-util/confcache:  0.4.2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=athlon-xp -O2 -pipe -falign-functions=4 -falign-jumps=4 -frename-registers -funit-at-a-time"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/ /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/eselect/compiler /etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-march=athlon-xp -O2 -pipe -falign-functions=4 -falign-jumps=4 -frename-registers -funit-at-a-time -fvisibility-inlines-hidden"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict userpriv usersandbox"
GENTOO_MIRRORS="ftp://gentoo.inode.at/source http://mirror.hamakor.org.il/pub/mirrors/gentoo            ftp://sunsite.informatik.rwth-aachen.de/pub/Linux/gentoo ftp://ftp.tiscali.nl/pub/mirror/gentoo                 http://sunsite.cnlab-switch.ch/ftp/mirror/gentoo http://www.mirror.ac.uk/sites/www.ibiblio.org/gentoo           http://ftp.tugraz.at/pub/mirror/gentoo http://www.ibiblio.org/pub/Linux/distributions/gentoo"
LC_ALL="de_DE.utf8"
LINGUAS="de"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portage.local"
SYNC="rsync://rsync.us.gentoo.org/gentoo-portage"
USE="x86 3dnow 3dnowext X a52 aac acl acpi alsa apm audiofile avi bash-completion berkdb bitmap-fonts bzip2 cairo caps cdparanoia cdr cli crypt cscope cups curl dbus dri dts dvd emboss encode ethereal exif expat fam ffmpeg flac foomaticdb fortran gcj gd gdbm ggi gif glut gmp gnutls gphoto2 gtk gtk2 hal hardened idn imagemagick imap imlib ipv6 isdnlog jabber java jikes jpeg junit kde kdeenablefinal kdexdeltas lcms ldap lesstif libedit libg++ libwww lm_sensors logrotate mad matroska mikmod mmx mng motif mp3 mpeg mysql ncurses nptl odbc ogg opengl oss pam pcre pdflib perl pic png postgres ppds pppd python qt quicktime readline recode reflection ruby samba sasl scanner sdl session slang speex spell spl sse ssl svg svga tetex theora threads tidy tiff truetype truetype-fonts type1-fonts udev unicode usb vorbis win32codecs wmf wxwindows xine xinerama xml xml2 xorg xosd xv xvid zlib video_cards_nvidia linguas_de userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, INSTALL_MASK, LANG, LDFLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTAGE_RSYNC_OPTS




Comment 1


Jakub Moc (RETIRED)






          2006-05-08 23:33:09 UTC
        

That's what you get for using junk C[XX]FLAGS like -fvisibility-inlines-hidden.




Comment 2


blazed





          2010-01-31 10:55:35 UTC
        

(In reply to comment #1)
> That's what you get for using junk C[XX]FLAGS like -fvisibility-inlines-hidden.
> 

i'm sorry but that is just not a sufficient response to this bug, if this package can't use -O3 cflags then it should remove them as does most every other package that can't handle over optimmization









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

