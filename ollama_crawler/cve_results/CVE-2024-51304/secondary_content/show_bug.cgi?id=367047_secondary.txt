Title: 367047 – dev-java/ant-eclipse-ecj-3.5.2 fails build due to absent package
URL: https://bugs.gentoo.org/show_bug.cgi?id=367047

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 367047
dev-java/ant-eclipse-ecj-3.5.2 fails build due to absent package
Last modified: 2012-07-02 20:17:53 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 367047 
      - dev-java/ant-eclipse-ecj-3.5.2 fails build due to absent package


Summary:
dev-java/ant-eclipse-ecj-3.5.2 fails build due to absent package
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Java

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Java team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2011-05-13 03:30 UTC by Ian Delaney (RETIRED)





      Modified:
    
2012-07-02 20:17 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




my emerge --info

              (emerge.info,4.15 KB,
                text/plain)

            
2011-05-13 03:32 UTC,

            Ian Delaney (RETIRED)




Details





build log

              (build.log,3.03 KB,
                text/plain)

            
2011-05-13 03:32 UTC,

            Ian Delaney (RETIRED)




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Ian Delaney (RETIRED)






          2011-05-13 03:30:27 UTC
        

In testing for an unrelated bug, emerging dev-java/ant-eclipse-ecj-3.5.2 fails build due to absent package.
Strange thing is, the absent package had just been effectively emerged.

Reproducible: Always

Steps to Reproduce:
1. emerge dev-java/eclipse-ecj-3.5.2 fails build due to absent package
2. emerge dev-java/ant-eclipse-ecj-3.5.2 fails build due to absent package
3.
Actual Results:  
/bin/bash: warning: setlocale: LC_ALL: cannot change locale (et_EE.UTF-8 UTF-8)
>>> Compiling source in /mnt/gen2/tmpdir/portage/dev-java/ant-eclipse-ecj-3.5.2/work ...
!!! ERROR: Package eclipse-ecj-3.5 was not found!
 * ERROR: dev-java/ant-eclipse-ecj-3.5.2 failed (compile phase):
 *   java-config --classpath=ant-core,eclipse-ecj-3.5 failed
 * 
 * Call stack:
 *     ebuild.sh, line   56:  Called src_compile
 *   environment, line 4003:  Called java-pkg_getjars 'ant-core,eclipse-ecj-3.5'
 *   environment, line 2759:  Called die


Expected Results:  
effective emerge

>>> Emerging (1 of 2) dev-java/eclipse-ecj-3.5.2
>>> Installing (1 of 2) dev-java/eclipse-ecj-3.5.2
>>> Recording dev-java/eclipse-ecj:3.5 in "world" favorites file...
>>> Emerging (2 of 2) dev-java/ant-eclipse-ecj-3.5.2
>>> Failed to emerge dev-java/ant-eclipse-ecj-3.5.2, Log file:
>>>  '/mnt/gen2/tmpdir/portage/dev-java/ant-eclipse-ecj-3.5.2/temp/build.log'


From a long list, the package eclipse-ecj-3.5 was emerged with ant-eclipse-ecj to follow.




Comment 1


Ian Delaney (RETIRED)






          2011-05-13 03:32:06 UTC
        

Created attachment 273019 [details]
my emerge --info




Comment 2


Ian Delaney (RETIRED)






          2011-05-13 03:32:31 UTC
        

Created attachment 273021 [details]
build log




Comment 3


Ralph Sennhauser (RETIRED)






          2012-07-02 20:17:53 UTC
        

Works for me. If you still can reproduce this issue after you fixed the setlocale issue please reaopen. ssh, vm, missing locale?

Also at that time the eclass forced LC_ALL=C in pkg_setup and as such any attempt to override that would have been unsupported.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

