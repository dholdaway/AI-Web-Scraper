Title: 263575 – media-gfx/gimp-2.6.4 compile fails - undefined symbol: gimp_ruler_get_type
URL: https://bugs.gentoo.org/show_bug.cgi?id=263575

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 263575
media-gfx/gimp-2.6.4 compile fails - undefined symbol: gimp_ruler_get_type
Last modified: 2009-10-02 11:48:00 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 263575 
      - media-gfx/gimp-2.6.4 compile fails - undefined symbol: gimp_ruler_get_type


Summary:
media-gfx/gimp-2.6.4 compile fails - undefined symbol: gimp_ruler_get_type
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Hanno Böck








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-03-24 08:19 UTC by Sasha Medvedev





      Modified:
    
2009-10-02 11:48 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Sasha Medvedev





          2009-03-24 08:19:59 UTC
        

During the last world upgrading gimp-2.6.4 compile fails.
Last massages of emerge look the following way:


Making all in libgimpwidgets
make[3]: Entering directory `/var/tmp/portage/media-gfx/gimp-2.6.4/work/gimp-2.6.4/devel-docs/libgimpwidgets'
gtk-doc: Scanning header files
cd . && \
	  gtkdoc-scan --module=libgimpwidgets --source-dir=../../libgimpwidgets --ignore-headers="gimpcolorprofilestore-private.h gimpwidgets-private.h" --deprecated-guards="GIMP_DISABLE_DEPRECATED" 
if grep -l '^..*$' ./libgimpwidgets.types > /dev/null 2>&1 ; then \
	    CC="/bin/sh ../../libtool --mode=compile i686-pc-linux-gnu-gcc   -O2 -march=pentium3 -pipe -fomit-frame-pointer -DGIMP_DISABLE_DEPRECATED -DG_DISABLE_DEPRECATED -DGDK_PIXBUF_DISABLE_DEPRECATED -DGDK_DISABLE_DEPRECATED -DGTK_DISABLE_DEPRECATED -DGDK_MULTIHEAD_SAFE -DGTK_MULTIHEAD_SAFE  -O2 -march=pentium3 -pipe -fomit-frame-pointer -Wall -Wdeclaration-after-statement -Wmissing-prototypes -Wmissing-declarations -Winit-self -Wpointer-arith -Wold-style-definition" LD="/bin/sh ../../libtool --mode=link i686-pc-linux-gnu-gcc  -O2 -march=pentium3 -pipe -fomit-frame-pointer -Wall -Wdeclaration-after-statement -Wmissing-prototypes -Wmissing-declarations -Winit-self -Wpointer-arith -Wold-style-definition  -Wl,-O1" CFLAGS="-O2 -march=pentium3 -pipe -fomit-frame-pointer -Wall -Wdeclaration-after-statement -Wmissing-prototypes -Wmissing-declarations -Winit-self -Wpointer-arith -Wold-style-definition -I../.. -I../.. -pthread -I/usr/include/gtk-2.0 -I/usr/lib/gtk-2.0/include -I/usr/include/atk-1.0 -I/usr/include/cairo -I/usr/include/pango-1.0 -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include -I/usr/include/pixman-1 -I/usr/include/freetype2 -I/usr/include/libpng12 -DGIMP_ENABLE_CONTROLLER_UNDER_CONSTRUCTION -UGTK_DISABLE_SINGLE_INCLUDES -UGIMP_DISABLE_DEPRECATED" LDFLAGS="../../libgimpbase/libgimpbase-2.0.la ../../libgimpcolor/libgimpcolor-2.0.la ../../libgimpmath/libgimpmath-2.0.la ../../libgimpconfig/libgimpconfig-2.0.la ../../libgimpwidgets/libgimpwidgets-2.0.la -pthread -lgtk-x11-2.0 -lgdk-x11-2.0 -latk-1.0 -lgio-2.0 -lpangoft2-1.0 -lgdk_pixbuf-2.0 -lpangocairo-1.0 -lcairo -lpango-1.0 -lfreetype -lz -lfontconfig -lgobject-2.0 -lgmodule-2.0 -lgthread-2.0 -lrt -lglib-2.0  " gtkdoc-scangobj  --module=libgimpwidgets --output-dir=. ; \
	else \
	    cd . ; \
	    for i in libgimpwidgets.args libgimpwidgets.hierarchy libgimpwidgets.interfaces libgimpwidgets.prerequisites libgimpwidgets.signals ; do \
               test -f $i || touch $i ; \
	    done \
	fi
gtk-doc: Compiling scanner
mkdir .libs
 i686-pc-linux-gnu-gcc -O2 -march=pentium3 -pipe -fomit-frame-pointer -DGIMP_DISABLE_DEPRECATED -DG_DISABLE_DEPRECATED -DGDK_PIXBUF_DISABLE_DEPRECATED -DGDK_DISABLE_DEPRECATED -DGTK_DISABLE_DEPRECATED -DGDK_MULTIHEAD_SAFE -DGTK_MULTIHEAD_SAFE -O2 -march=pentium3 -pipe -fomit-frame-pointer -Wall -Wdeclaration-after-statement -Wmissing-prototypes -Wmissing-declarations -Winit-self -Wpointer-arith -Wold-style-definition -O2 -march=pentium3 -pipe -fomit-frame-pointer -Wall -Wdeclaration-after-statement -Wmissing-prototypes -Wmissing-declarations -Winit-self -Wpointer-arith -Wold-style-definition -I../.. -I../.. -pthread -I/usr/include/gtk-2.0 -I/usr/lib/gtk-2.0/include -I/usr/include/atk-1.0 -I/usr/include/cairo -I/usr/include/pango-1.0 -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include -I/usr/include/pixman-1 -I/usr/include/freetype2 -I/usr/include/libpng12 -DGIMP_ENABLE_CONTROLLER_UNDER_CONSTRUCTION -UGTK_DISABLE_SINGLE_INCLUDES -UGIMP_DISABLE_DEPRECATED -c libgimpwidgets-scan.c  -fPIC -DPIC -o .libs/libgimpwidgets-scan.o
gtk-doc: Linking scanner
i686-pc-linux-gnu-gcc -O2 -march=pentium3 -pipe -fomit-frame-pointer -Wall -Wdeclaration-after-statement -Wmissing-prototypes -Wmissing-declarations -Winit-self -Wpointer-arith -Wold-style-definition -Wl,-O1 -o .libs/libgimpwidgets-scan .libs/libgimpwidgets-scan.o -pthread  ../../libgimpbase/.libs/libgimpbase-2.0.so ../../libgimpcolor/.libs/libgimpcolor-2.0.so ../../libgimpmath/.libs/libgimpmath-2.0.so ../../libgimpconfig/.libs/libgimpconfig-2.0.so ../../libgimpwidgets/.libs/libgimpwidgets-2.0.so /usr/lib/libgtk-x11-2.0.so /usr/lib/libgdk-x11-2.0.so /usr/lib/libatk-1.0.so /usr/lib/libgio-2.0.so /usr/lib/libpangoft2-1.0.so /usr/lib/libgdk_pixbuf-2.0.so /usr/lib/libpangocairo-1.0.so /usr/lib/libcairo.so /usr/lib/libpango-1.0.so /usr/lib/libfreetype.so -lz /usr/lib/libfontconfig.so /usr/lib/libgobject-2.0.so /usr/lib/libgmodule-2.0.so /usr/lib/libgthread-2.0.so -lrt /usr/lib/libglib-2.0.so 
creating libgimpwidgets-scan
gtk-doc: Running scanner libgimpwidgets-scan
/var/tmp/portage/media-gfx/gimp-2.6.4/work/gimp-2.6.4/devel-docs/libgimpwidgets/.libs/lt-libgimpwidgets-scan: symbol lookup error: /var/tmp/portage/media-gfx/gimp-2.6.4/work/gimp-2.6.4/devel-docs/libgimpwidgets/.libs/lt-libgimpwidgets-scan: undefined symbol: gimp_ruler_get_type
Scan failed: 
make[3]: *** [scan-build.stamp] Ошибка 127
make[3]: Leaving directory `/var/tmp/portage/media-gfx/gimp-2.6.4/work/gimp-2.6.4/devel-docs/libgimpwidgets'
make[2]: *** [all-recursive] Ошибка 1
make[2]: Leaving directory `/var/tmp/portage/media-gfx/gimp-2.6.4/work/gimp-2.6.4/devel-docs'
make[1]: *** [all-recursive] Ошибка 1
make[1]: Leaving directory `/var/tmp/portage/media-gfx/gimp-2.6.4/work/gimp-2.6.4'
make: *** [all] Ошибка 2
 * 
 * ERROR: media-gfx/gimp-2.6.4 failed.
 * Call stack:
 *               ebuild.sh, line   49:  Called src_compile
 *             environment, line 2901:  Called gnome2_src_compile
 *             environment, line 2110:  Called die
 * The specific snippet of code:
 *       emake || die "compile failure"
 *  The die message:
 *   compile failure
 * 
 * If you need support, post the topmost build error, and the call stack if relevant.
 * A complete build log is located at '/var/tmp/portage/media-gfx/gimp-2.6.4/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/media-gfx/gimp-2.6.4/temp/environment'.
 * 


Reproducible: Always




Here is my emerge info

Portage 2.1.6.7 (default/linux/x86/2008.0, gcc-4.1.2, glibc-2.8_p20080602-r1, 2.6.27-gentoo-r8-N1 i686)
=================================================================
System uname: Linux-2.6.27-gentoo-r8-N1-i686-Intel-R-_Core-TM-2_CPU_4400_@_2.00GHz-with-glibc2.0
Timestamp of tree: Mon, 23 Mar 2009 01:45:01 +0000
app-shells/bash:     3.2_p39
dev-java/java-config: 2.1.7
dev-lang/python:     2.5.2-r7
dev-util/cmake:      2.6.2-r1
sys-apps/baselayout: 2.0.0
sys-apps/openrc:     0.4.3-r1
sys-apps/sandbox:    1.3.6
sys-devel/autoconf:  2.13, 2.63
sys-devel/automake:  1.4_p6, 1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.2
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.27-r2
ACCEPT_KEYWORDS="x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium3 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/config"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c /etc/udev/rules.d"
CPPFLAGS="-O2 -march=pentium3 -pipe -fomit-frame-pointer"
CXXFLAGS="-O2 -march=pentium3 -pipe -fomit-frame-pointer"
DISTDIR="/mnt/wing/GENTOO/distfiles-down"
FEATURES="distlocks fixpackages metadata-transfer parallel-fetch protect-owned sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://linux.solo.by/gentoo/"
LANG="ru_RU.UTF-8"
LC_ALL="ru_RU.UTF-8"
LDFLAGS="-Wl,-O1"
LINGUAS="ru en"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portage/local/layman/bobrik-cleartype /usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="7zip X a52 aac acl acpi aften alsa amr amrnb amrwb aotuv bash-completion bzip2 cairo cdio cdr chm cleartype cli cpufreq cracklib crypt cups custom-optimization dbus djvu dri dts dvd dvdr dvdread encode exif fam fbcon ffmpeg flac fortran gdbm gif glitz gnutls gpm gtk gtkhtml hal hddtemp htmlhandbook iconv id3tag idn isdnlog javascript jbig jfs jpeg jpeg2k kpathsea lame latex lcms lirc lm_sensors logitech-mouse mad madwifi mbrola midi mmx mmxext mp2 mp3 mp4 mpeg mudflap musepack ncurses nls nptl nptlonly ntfs ogg openexr openmp pam pdf plasma png pppd qt4 quicktime radio raw readline reflection reiser4 reiserfs samba scanner schroedinger semantic-desktop session smp spell spl sse ssl startup-notification svg sysfs tcpd tetex theora tiff timidity toolkit-scroll-bars truetype type1 unicode usb userlocales v4l2 vorbis wifi win32codecs winpopup wma x264 x86 xcomposite xorg xulrunner xv xvid xvmc zip zlib" ALSA_CARDS="ice1724" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="mouse keyboard evdev wacom" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="ru en" LIRC_DEVICES="devinput" USERLAND="GNU" VIDEO_CARDS="vesa radeon"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Sasha Medvedev





          2009-10-02 11:48:00 UTC
        

Some times later bug mistically disapear. I tested on AMD64 and x86. Compiles and works fine. So can I close bug? I think this will be hard to reproduce this bug.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

