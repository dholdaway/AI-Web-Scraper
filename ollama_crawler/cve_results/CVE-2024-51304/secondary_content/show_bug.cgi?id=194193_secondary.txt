Title: 194193 – net-p2p/mldonkey-2.9.0-r3: /etc/init.d/mldonkey script weird verbose behaviour
URL: https://bugs.gentoo.org/show_bug.cgi?id=194193

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 194193
net-p2p/mldonkey-2.9.0-r3: /etc/init.d/mldonkey script weird verbose behaviour
Last modified: 2007-10-08 19:02:15 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 194193 
      - net-p2p/mldonkey-2.9.0-r3: /etc/init.d/mldonkey script weird verbose behaviour


Summary:
net-p2p/mldonkey-2.9.0-r3: /etc/init.d/mldonkey script weird verbose behaviour
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo net-p2p team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-09-29 11:36 UTC by Francisco Rodera





      Modified:
    
2007-10-08 19:02 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Francisco Rodera





          2007-09-29 11:36:31 UTC
        

When stopping mldonkey daemon the following output is displayed:

root ~ # /etc/init.d/mldonkey stop
 * Service mldonkey stopping                                                                                                  Would send signal 15 to 4552.
Would send signal 15 to 4552.
Would send signal 15 to 4552.
Would send signal 15 to 4552.
Would send signal 15 to 4552.
Would send signal 15 to 4552.
Would send signal 15 to 4552.
Would send signal 15 to 4552.
Would send signal 15 to 4552.
Would send signal 15 to 4552.
 Failed to cleanly stop mldonkey                                                                                        [ !! ]
 * Service mldonkey stopped

Apart from those signaling messages (they weren't shown before), the line "Failed to cleanly stop mldonkey [ !! ]" is quite confusing, since the service seems to stop properly (no mlnet processes remaining). 

Reproducible: Always

Steps to Reproduce:
1. As root, issue "/etc/init.d/mldonkey start"
2. As root, issue "/etc/init.d/mldonkey stop"



Actual Results:  
root ~ # /etc/init.d/mldonkey stop
 * Service mldonkey stopping                                                                                                  Would send signal 15 to 4552.
Would send signal 15 to 4552.
Would send signal 15 to 4552.
Would send signal 15 to 4552.
Would send signal 15 to 4552.
Would send signal 15 to 4552.
Would send signal 15 to 4552.
Would send signal 15 to 4552.
Would send signal 15 to 4552.
Would send signal 15 to 4552.
 Failed to cleanly stop mldonkey                                                                                        [ !! ]
 * Service mldonkey stopped


Expected Results:  
root ~ # /etc/init.d/mldonkey stop
 * Service mldonkey stopping                                                                                                  
 * Service mldonkey stopped


Portage 2.1.3.9 (default-linux/x86/2007.0/server, gcc-4.1.2, glibc-2.5-r4, 2.6.19-beyond2 i686)
=================================================================
System uname: 2.6.19-beyond2 i686 AMD Athlon(tm) XP
Timestamp of tree: Fri, 28 Sep 2007 13:50:01 +0000
app-shells/bash:     3.2_p17
dev-java/java-config: 1.3.7, 2.0.31
dev-lang/python:     2.2.3-r5, 2.3.5-r3, 2.4.4-r5
dev-python/pycrypto: 2.0.1-r6
sys-apps/baselayout: 1.12.9-r2
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.61-r1
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.17-r1
sys-devel/gcc-config: 1.3.16
sys-devel/libtool:   1.5.24
virtual/os-headers:  2.6.21
ACCEPT_KEYWORDS="x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=athlon-xp -O2 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/terminfo"
CXXFLAGS="-march=athlon-xp -O2 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="distlocks metadata-transfer parallel-fetch sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://ftp.belnet.be/mirror/rsync.gentoo.org/gentoo/"
LANG="en_US.utf8"
LC_ALL="en_US.utf8"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync1.it.gentoo.org/gentoo-portage/"
USE="acl alsa apache2 berkdb bitmap-fonts cli cracklib crypt dvd dvdr fortran gdbm gpm iconv isdnlog mailwrapper midi mp3 mudflap mysql ncurses nls nptl nptlonly ogg openmp pam pcre perl posix pppd python readline reflection session snmp spl ssl tcpd truetype-fonts type1-fonts unicode vim-syntax vorbis x86 xml xorg zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1 emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" ELIBC="glibc" INPUT_DEVICES="keyboard mouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" USERLAND="GNU" VIDEO_CARDS="fbdev"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LDFLAGS, LINGUAS, MAKEOPTS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


midnightflash





          2007-10-02 20:40:49 UTC
        

Has been corrected for me by recompiling dev-lang/ocaml and than running /usr/sbin/ocaml-rebuild.sh and recompiling all that was proposed.




Comment 2


midnightflash





          2007-10-02 21:09:52 UTC
        

Not true... bug has been back after another restart.




Comment 3


Francisco Rodera





          2007-10-08 19:02:15 UTC
        

After recompiling mldonkey and ocaml problems seems to have disappeared. 










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

