Title: 233092 – gnome-base/gdm-2.20.3 - segfaults on first start
URL: https://bugs.gentoo.org/show_bug.cgi?id=233092

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 233092
gnome-base/gdm-2.20.3 - segfaults on first start
Last modified: 2008-09-05 07:23:47 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 233092 
      - gnome-base/gdm-2.20.3 - segfaults on first start


Summary:
gnome-base/gdm-2.20.3 - segfaults on first start
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux Gnome Desktop Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-07-27 09:54 UTC by Mathias Zimmermann





      Modified:
    
2008-09-05 07:23 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Mathias Zimmermann





          2008-07-27 09:54:59 UTC
        

The first time I log in from gdm I get this dmesg and gdm restarts. After gdm restart the login is successfully.

gdm[2445]: segfault at 7672657f ip b760e1dc sp bfba0320 error 6 in libglib-2.0.so.0.1600.3[b75be000+c9000]


Reproducible: Always

Steps to Reproduce:
1.only the first time after gdm starts
2.
3.




Comment 1


Mathias Zimmermann





          2008-07-27 09:55:35 UTC
        

Portage 2.1.4.4 (default-linux/x86/2007.0/desktop, gcc-4.1.2, glibc-2.6.1-r0, 2.6.25-gentoo-r7 i686)
=================================================================
System uname: 2.6.25-gentoo-r7 i686 Genuine Intel(R) CPU T2500 @ 2.00GHz
Timestamp of tree: Sun, 27 Jul 2008 07:45:01 +0000
app-shells/bash:     3.2_p33
dev-java/java-config: 1.3.7, 2.1.6
dev-lang/python:     2.5.2-r5
sys-apps/baselayout: 1.12.11.1
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.61-r2
sys-devel/automake:  1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.1
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.23-r3
ACCEPT_KEYWORDS="x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=prescott -O2 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/revdep-rebuild /etc/terminfo /etc/udev/rules.d"
CXXFLAGS="-march=prescott -O2 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="distlocks metadata-transfer parallel-fetch sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="ftp://pandemonium.tiscali.de/pub/gentoo/ ftp://de-mirror.org/distro/gentoo/ http://213.186.33.38/gentoo-distfiles/ ftp://mirror.switch.ch/mirror/gentoo/ ftp://213.186.33.37/gentoo-distfiles/"
LANG="C"
LC_ALL="C"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="X a52 aac acpi alsa asf bitmap-fonts bluetooth bzip2 cdr cdrom css cups cxx divx dlloader dri dvd dvdr dvdread encode ffmpeg firefox flac gdbm gif gnome gtk hdaps jpeg jpeg2k lame matroska midi mmx mp3 ncurses nls no-seamonkey nptl nptlonly nsplugin opengl pcmcia pcre pdf png python quicktime readline real samba session sse sse2 ssl svg threads tiff truetype truetype-fonts type1-fonts udev vcd vorbis win32codecs x264 x86 xml xorg xv xvid zlib" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="keyboard mouse synaptics" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" USERLAND="GNU" VIDEO_CARDS="radeon fglrx"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LDFLAGS, LINGUAS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY





Comment 2


Gilles Dartiguelongue (RETIRED)






          2008-07-27 17:51:44 UTC
        

which version of glib do you have ?




Comment 3


Mathias Zimmermann





          2008-07-27 17:59:22 UTC
        

glib-2.16.3-r1




Comment 4


Gilles Dartiguelongue (RETIRED)






          2008-07-27 18:25:19 UTC
        

could you try 2.16.5 ?




Comment 5


Mathias Zimmermann





          2008-07-27 18:45:10 UTC
        

no luck

gdm[2451]: segfault at 7672657f ip b762b7dc sp bf8be4a0 error 6 in libglib-2.0.so.0.1600.5[b75db000+ca000] 




Comment 6


Mathias Zimmermann





          2008-08-12 19:42:58 UTC
        

don't show up with gdm-2.20.7 (glib-2.16.3-r1)




Comment 7


Matthew





          2008-08-23 12:20:13 UTC
        

I'm still seeing this with gdm-2.20.7... same segfault in glibc.

Running ~amd64, happens on every boot




Comment 8


Gilles Dartiguelongue (RETIRED)






          2008-09-05 07:23:47 UTC
        

@Matthew, could you please test with gdm-2.20.8, it had some crash fixes. If it doesn't fix it, I'm gonna need backtrace (see http://www.gentoo.org/proj/en/qa/backtraces.xml) and an upstream report.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

