Title: 295198 – app-admin/sysstat - init script doesn't start sadc
URL: https://bugs.gentoo.org/show_bug.cgi?id=295198

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 295198
app-admin/sysstat - init script doesn't start sadc
Last modified: 2019-05-31 08:41:13 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 295198 
      - app-admin/sysstat - init script doesn't start sadc


Summary:
app-admin/sysstat - init script doesn't start sadc
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Jeroen Roovers (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-11-30 15:37 UTC by Marcin Mirosław





      Modified:
    
2019-05-31 08:41 UTC
      (History)
    




          CC List:
        

4 
          users
          
            (show)
          



barzog
jstein
mike
stefano.priore









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Marcin Mirosław





          2009-11-30 15:37:15 UTC
        

Init script starts sadc in this way:
/usr/lib/sa/sadc -F -L -
This makes sadc to write line: "16:26:21          LINUX RESTART" to sa-log and quit.

Daemon sadc should be started with interval parametr to collect data.
E.g.:
/usr/lib/sa/sadc -F -L 5  -
(for interval lenght 5 seconds). Maybe this interval should be setting via /etc/conf.d/sadc file ?


Reproducible: Always



Expected Results:  
Started and working sadc daemon.




Comment 1


Jeroen Roovers (RETIRED)






          2009-12-15 14:59:38 UTC
        

(In reply to comment #0)
> Init script starts sadc in this way:
> /usr/lib/sa/sadc -F -L -
> This makes sadc to write line: "16:26:21          LINUX RESTART" to sa-log and
> quit.

That's quite useful in itself, isn't it?

> Daemon sadc should be started with interval parametr to collect data.
> E.g.:
> /usr/lib/sa/sadc -F -L 5  -
> (for interval lenght 5 seconds). Maybe this interval should be setting via
> /etc/conf.d/sadc file ?

> Expected Results:  
> Started and working sadc daemon.

It's not going to be interactive in any way, just sit there and count the minutes until it's time to update.

Have you looked at 9.0.6 yet? It introduced a USE=cron that uses your favourite cron daemon to achieve the very same result.




Comment 2


Jeroen Roovers (RETIRED)






          2009-12-15 15:07:03 UTC
        

Btw, I am not opposing your wish to make the init.d script more useful - we could have it honour SYSSTAT_OPTIONS in conf.d/sysstat so that you could easily set sadc's behaviour yourself.

That said, maybe the script should be named sadc and not sysstat at all.




Comment 3


Marcin Mirosław





          2009-12-19 23:10:33 UTC
        

(In reply to comment #1)
> That's quite useful in itself, isn't it?

It could be, if log contains any other data:)

> It's not going to be interactive in any way, just sit there and count the
> minutes until it's time to update.

Mayby i'm wrong, i don't know this tool well. It seems this is what exactly i want. After /etc/init.d/sysstat start i would like to found sadc in processes, but ps aux|grep sadc shows nothing.

> Have you looked at 9.0.6 yet? It introduced a USE=cron that uses your favourite
> cron daemon to achieve the very same result.

So, if i choose to start sadc by cron, init script is useless? Mayby init script shouldn't be installed when cron useflag is set?





Comment 4


Jonas Stein






          2019-05-30 15:42:20 UTC
        

This ticket is "in progress" since 10 years. What is the status/progress?




Comment 5


Jeroen Roovers (RETIRED)






          2019-05-31 08:41:13 UTC
        

The `sysstat` script included in the sources does the same thing as ${FILESDIR}/sysstat.init.d script: it calls /usr/lib/sa/sa1 --boot and exits.

Furthermore, the sadc(1) manual explains how it should be run periodically through a cron service and not init.d as it has no way of running persistently anyway, while it does support locking so as to ensure only one cron job is run at any time.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

