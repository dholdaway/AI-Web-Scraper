Title: 305683 – media-libs/fontconfig-2.8.0 USE="-doc" - Can't locate SGMLS/Output.pm in @INC
URL: https://bugs.gentoo.org/show_bug.cgi?id=305683

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 305683
media-libs/fontconfig-2.8.0 USE="-doc" - Can't locate SGMLS/Output.pm in @INC
Last modified: 2010-02-19 22:58:41 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 305683 
      - media-libs/fontconfig-2.8.0 USE="-doc" - Can't locate SGMLS/Output.pm in @INC


Summary:
media-libs/fontconfig-2.8.0 USE="-doc" - Can't locate SGMLS/Output.pm in @INC
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Fonts Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2010-02-18 00:47 UTC by Chuck Wegrzyn





      Modified:
    
2010-02-19 22:58 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



perl









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build log

              (build.log,34.55 KB,
                text/plain)

            
2010-02-18 00:48 UTC,

            Chuck Wegrzyn




Details





environment

              (environment,111.39 KB,
                text/plain)

            
2010-02-18 00:49 UTC,

            Chuck Wegrzyn




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Chuck Wegrzyn





          2010-02-18 00:47:52 UTC
        

Did USE="-doc" emerge fontconfig and it failed will building documentation!

Reproducible: Always

Steps to Reproduce:
1.USE="-doc" emerge fontconfig
2.
3.

Actual Results:  
make: Entering directory `/var/tmp/portage/media-libs/fontconfig-2.8.0/work/fontconfig-2.8.0/doc'                                                                                                                    
test -z "/usr/share/man/man3" || /bin/mkdir -p "/var/tmp/portage/media-libs/fontconfig-2.8.0/image//usr/share/man/man3"                                                                                              
ln -s fontconfig-user.sgml local-fontconfig-user.sgml                                                                                                                                                                
sed "s,@CONFDIR\@,/etc/fonts," < ./confdir.sgml.in | awk '{ if (NR > 1) printf ("\n"); printf ("%s", $0); }' > confdir.sgml                                                                                          
rm -f fonts-conf.5                                                                                                                                                                                                   
docbook2man local-fontconfig-user.sgml && \                                                                                                                                                                          
        rm -f manpage.*                                                                                                                                                                                              
Using catalogs: /etc/sgml/sgml-docbook-3.1.cat                                                                                                                                                                       
Using stylesheet: /usr/share/sgml/docbook/utils-0.6.14/docbook-utils.dsl#print                                                                                                                                       
Working on: /var/tmp/portage/media-libs/fontconfig-2.8.0/work/fontconfig-2.8.0/doc/local-fontconfig-user.sgml                                                                                                        
Can't locate SGMLS/Output.pm in @INC (@INC contains: /usr/lib/perl5/site_perl/5.10.1/i686-linux /usr/lib/perl5/site_perl/5.10.1 /usr/lib/perl5/site_perl /usr/lib/perl5/vendor_perl/5.10.1/i686-linux /usr/lib/perl5/vendor_perl/5.10.1 /usr/lib/perl5/vendor_perl /usr/lib/perl5/5.10.1/i686-linux /usr/lib/perl5/5.10.1 .) at /usr/bin/sgmlspl line 59.                                                                                 
BEGIN failed--compilation aborted at /usr/bin/sgmlspl line 59.                                                                                                                                                       
make: *** [fonts-conf.5] Error 8                                                                                                                                                                                     
make: Leaving directory `/var/tmp/portage/media-libs/fontconfig-2.8.0/work/fontconfig-2.8.0/doc'   

Expected Results:  
To emerge correctly

Portage 2.1.7.17 (default/linux/x86/10.0, gcc-4.4.3, glibc-2.11-r1, 2.6.31-gentoo-r6 i686)
=================================================================                         
System uname: Linux-2.6.31-gentoo-r6-i686-Intel-R-_Core-TM-2_Duo_CPU_E8400_@_3.00GHz-with-gentoo-2.0.1
Timestamp of tree: Tue, 16 Feb 2010 18:15:01 +0000                                                    
ccache version 2.4 [enabled]                                                                          
app-shells/bash:     4.1_p2                                                                           
dev-java/java-config: 1.3.7-r1, 2.1.10                                                                
dev-lang/python:     2.4.6, 2.5.4-r3, 2.6.4-r1, 3.1.1-r1                                              
dev-python/pycrypto: 2.1.0                                                                            
dev-util/ccache:     2.4-r8                                                                           
dev-util/cmake:      2.8.0-r2                                                                         
sys-apps/baselayout: 2.0.1                                                                            
sys-apps/openrc:     0.6.0-r1                                                                         
sys-apps/sandbox:    2.2                                                                              
sys-devel/autoconf:  2.13, 2.65                                                                       
sys-devel/automake:  1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.3, 1.11.1
sys-devel/binutils:  2.20
sys-devel/gcc:       3.3.6-r1, 4.1.2, 4.3.4, 4.4.3
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   2.2.6b
virtual/os-headers:  2.6.32
ACCEPT_KEYWORDS="x86 ~x86"
ACCEPT_LICENSE="*"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=i686 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config /var/lib/hsqldb"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/eselect/postgresql /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-O2 -march=i686 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="assume-digests ccache distlocks fixpackages metadata-transfer news parallel-fetch preserve-libs protect-owned sandbox sfperms strict unmerge-logs unmerge-orphans userfetch"
GENTOO_MIRRORS="http://distfiles.gentoo.org"
LANG="en_US"
LC_ALL="en_US"
LDFLAGS="-Wl,-O1"
LINGUAS="en_US"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage/layman/sunrise /usr/local/portage/layman/nekoverlay"
SYNC="rsync://rsync.namerica.gentoo.org/gentoo-portage"
USE="X acl additions alsa aspell assistant asyncns bash-completion berkdb bidi bluetooth bzip2 cairo caps cdaudio cdda cddb cdio cdparanoia cli connectionstatus consolekit contactnotes cracklib crypt cups cxx dbus dga divx dmx doc dri dvd dvdread embedded encode examples expat extras firefox3 flac gdbm gif glib gnome gnutls gpm gtk hal htmlhandbook iconv inquisitio ipv6 jabber jadetex java java6 javacomm javamail javascript jce jde jdepend jpeg jpeg2k kde kde4 kdepim kdm lastfm lzo md5sum mdnsresponder-compat mecab mng modules mp3 mp4 mpeg mpeg2 mplayer msn mudflap mysql ncurses nls nowlistening nptl nptlonly nsplugin ntfs ogg opengl openmp oscar otr pam parted pcre pda pdf perl pink pipes plasma png postgres ppds pppd pulseaudio python qt3 qt3support qt4 qtdesigner quicktime readline realmedia redland reflection reiserfs rss samba scanner sdk secure-delete semantic-desktop session shout slp smbclient sms soundex spl sql sqlite3 ssl subversion svg sysfs tcpd texteffect threads threadsafe thumbnail thunderbird tiff tk tools truetype unicode usb v4l v4l2 valgrind vboxwebsrv virtualbox vorbis webinterface webkit webpresence wifi win32codecs wireshark wmf wmp wxwidgets wxwindows x86 xine xinerama xml xorg xrandr yahoo zeroconf zlib" ALSA_CARDS="hda-intel" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="evdev keyboard mouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en_US" RUBY_TARGETS="ruby18" USERLAND="GNU" VIDEO_CARDS="fbdev ati radeonhd vesa vga"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Chuck Wegrzyn





          2010-02-18 00:48:45 UTC
        

Created attachment 220119 [details]
build log




Comment 2


Chuck Wegrzyn





          2010-02-18 00:49:10 UTC
        

Created attachment 220121 [details]
environment




Comment 3


Torsten Veller (RETIRED)






          2010-02-18 06:23:22 UTC
        

Did you run `perl-cleaner --all` after upgrading to perl-5.10.1? 




Comment 4


Chuck Wegrzyn





          2010-02-18 12:43:20 UTC
        

No I didn't run perl-cleaner. Thanks for the mentioning it; I will give it a run.




Comment 5


Chuck Wegrzyn





          2010-02-19 11:10:21 UTC
        

I am sorry to say running perl-cleaner didn't fix the problem.




Comment 6


Torsten Veller (RETIRED)






          2010-02-19 11:33:26 UTC
        

(In reply to comment #5)
> I am sorry to say running perl-cleaner didn't fix the problem.

Please attach `qlist -e dev-perl/SGMLSpm` (qlist is in app-portage/portage-utils)
or /var/db/pkg/dev-perl/SGMLSpm-*/CONTENTS




Comment 7


Chuck Wegrzyn





          2010-02-19 20:27:55 UTC
        

Here is the information you requested:

einstein portage # qlist -e dev-perl/SGMLSpm
/usr/share/doc/SGMLSpm-1.03-r6/TODO.bz2
/usr/share/doc/SGMLSpm-1.03-r6/ChangeLog.bz2
/usr/share/doc/SGMLSpm-1.03-r6/BUGS.bz2
/usr/share/doc/SGMLSpm-1.03-r6/README.bz2
/usr/lib/perl5/vendor_perl/5.8.8/SGMLS/Refs.pm
/usr/lib/perl5/vendor_perl/5.8.8/SGMLS/Output.pm
/usr/lib/perl5/vendor_perl/5.8.8/SGMLS.pm
/usr/lib/perl5/vendor_perl/5.8.8/sgmlspl-specs/skel.pl
/usr/bin/sgmlspl




Comment 8


Chuck Wegrzyn





          2010-02-19 20:33:47 UTC
        

I noticed what you wanted to know with the qlist command so I reinstalled SGMLSpm and reran emerge fontconfig. It worked.

Thanks for all your help.










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

