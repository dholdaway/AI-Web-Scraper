Title: 479610 – >=net-news/liferea-1.10.0 - segmentation fault in liferea_htmlview_write at liferea_htmlview.c:305 while selecting a feed
URL: https://bugs.gentoo.org/show_bug.cgi?id=479610

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 479610
>=net-news/liferea-1.10.0 - segmentation fault in liferea_htmlview_write at liferea_htmlview.c:305 while selecting a feed
Last modified: 2013-11-03 22:56:14 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 479610 
      - >=net-news/liferea-1.10.0 - segmentation fault in liferea_htmlview_write at liferea_htmlview.c:305 while selecting a feed


Summary:
>=net-news/liferea-1.10.0 - segmentation fault in liferea_htmlview_write at l...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Víctor Ostorga (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2013-08-03 08:49 UTC by Viktor Yu. Kovalskii





      Modified:
    
2013-11-03 22:56 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



iskren.s
proxy-maint









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Viktor Yu. Kovalskii





          2013-08-03 08:49:22 UTC
        

Liferea starting with 1.10.0 crashes when I try to choose any feedlist.

Reproducible: Always

Steps to Reproduce:
1. Starts liferea
2. Choose any feedlist.




Portage 2.2.0_alpha191 (default/linux/x86/13.0, gcc-4.7.3, glibc-2.17, 3.9.4-tuxonice i686)
=================================================================
                        System Settings
=================================================================
System uname: Linux-3.9.4-tuxonice-i686-Intel-R-_Core-TM-_Duo_CPU_T2350_@_1.86GHz-with-gentoo-2.2
KiB Mem:     3100028 total,    199164 free
KiB Swap:    2104508 total,   1484304 free
Timestamp of tree: Sat, 03 Aug 2013 03:45:01 +0000
ld GNU ld (GNU Binutils) 2.23.1
ccache version 3.1.9 [enabled]
app-shells/bash:          4.2_p45
dev-java/java-config:     2.2.0
dev-lang/python:          2.7.5-r1
dev-util/ccache:          3.1.9
dev-util/cmake:           2.8.11.1
dev-util/pkgconfig:       0.28
sys-apps/baselayout:      2.2
sys-apps/openrc:          0.11.8
sys-apps/sandbox:         2.6-r1
sys-devel/autoconf:       2.13, 2.69
sys-devel/automake:       1.11.6, 1.13.4, 1.14
sys-devel/binutils:       2.23.1
sys-devel/gcc:            4.7.3
sys-devel/gcc-config:     1.8
sys-devel/libtool:        2.4.2
sys-devel/make:           3.82-r4
sys-kernel/linux-headers: 3.9 (virtual/os-headers)
sys-libs/glibc:           2.17
Repositories: gentoo overlays-oschtan dmol flying
Installed sets: @lxde-full, @system
ACCEPT_KEYWORDS="x86 ~x86"
ACCEPT_LICENSE="* -@EULA PUEL skype-4.0.0.7-copyright dlj-1.1 AdobeFlash-11.x googleearth Oracle-BCLA-JavaSE"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -pipe -march=pentium-m -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/gnupg/qualified.txt /usr/share/themes/oxygen-gtk/gtk-2.0 /usr/share/themes/oxygen-gtk/gtk-3.0 /var/lib/hsqldb"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/revdep-rebuild /etc/sandbox.d /etc/splash /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c"
CPPFLAGS="-O2 -pipe -march=pentium-m -fomit-frame-pointer"
CXXFLAGS="-O2 -pipe -march=pentium-m -fomit-frame-pointer"
DISTDIR="/mnt/slag/distfiles"
EMERGE_DEFAULT_OPTS="--autounmask=n"
FCFLAGS="-O2 -march=i686 -pipe"
FEATURES="assume-digests binpkg-logs buildpkg ccache collision-protect distlocks ebuild-locks fixlafiles merge-sync metadata-transfer news parallel-fetch preserve-libs protect-owned sandbox sfperms strict unknown-features-warn unmerge-logs unmerge-orphans userfetch userpriv usersandbox usersync xattr"
FFLAGS="-O2 -march=i686 -pipe"
GENTOO_MIRRORS="http://mirror.yandex.ru/gentoo-distfiles http://linux.nsu.ru/gentoo-distfiles/ http://trumpetti.atm.tut.fi/gentoo/ http://distfiles.gentoo.org"
LANG="ru_RU.UTF-8"
LC_ALL=""
LDFLAGS="-Wl,-O1 -Wl,--as-needed"
MAKEOPTS="-j3"
PKGDIR="/mnt/slag/gentoo-tree/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --omit-dir-times --compress --force --whole-file --delete --stats --human-readable --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/mnt/slag"
PORTDIR="/mnt/slag/gentoo-tree"
PORTDIR_OVERLAY="/mnt/slag/layman/oschtan /mnt/slag/layman/dmol /mnt/slag/layman/flying"
SYNC="rsync://linux.rz.ruhr-uni-bochum.de/gentoo-portage"
USE="7zip X a52 aac aalib acl acpi additions alsa amr amrnb amrwb ao apng archive aspell audiofile autotools bash-completion bazaar bdf bluetooth branding bzip2 cairo cdda cddb cdparanoia cdr cdrdao cdrom chardet cjk cleartype cli consolekit cracklib curl cvs cxx cyrillic dbus dia divx djvu docbook dot dri dri2 drm dts dvd dvdnav dvdr dvdread dvi egl emf enca encode equalizer eselect exceptions exif expat extensions fbcondecor fbsplash ffmpeg fftw flac flash fontconfig fortran fpx ftp fuse gallium gd gecko gif gimp git gles glib glitz gmp gnutls gphoto2 gpm graphviz gstreamer gtk gtk3 gtkstyle hddtemp html http icons iconv icu id3tag idn imagemagick imlib jabber jbig jemalloc jpeg jpeg2k ladspa lame laptop lasi lastfm latex lcms libass libffi libnotify libsamplerate libyaml live lm_sensors lqr lxde lzma lzo mad matroska mercurial mikmod mime mjpeg mms mmx mmxext mng modules motif mp2 mp3 mp4 mpeg mplayer mudflap multitarget musepack natspec ncurses nls nptl nptlonly nsplugin oav ogg ogm openexr opengl openmp optimisememory opus orc osmesa pam pango pcre pdf pkcs11 plotutils png policykit postscript pulseaudio qt3support quicktime rar raw rcc readline realmedia rtc rtf science scrobbler sdl session shared-dricore shared-glapi shorten smp sndfile sound soundtouch speex spell sqlite sqlite3 srt sse sse2 ssl startup-notification stats subversion svg symlink syslog system-sqlite szip t1lib tcpd templates theora threads tiff truetype twolame type1 udev unicode unsupported upnp usb utempter v4l v4l2 vaapi vamp vba vorbis vpx wav wavpack webdav webdav-neon webgl webp wifi wma wmf wmp wps wxwidgets wxwindows x264 x264-svn-encoder x86 xattr xcb xcomposite xml xmp xorg xpm xps xscreensaver xv xvid zip zlib" ABI_X86="32" ALSA_CARDS="hda-intel" APACHE2_MODULES="authn_core authz_core socache_shmcb unixd actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cgi cgid dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CALLIGRA_FEATURES="kexi words flow plan sheets stage tables krita karbon braindump author" CAMERAS="adc65 agfa_cl20 aox barbie canon casio_qv clicksmart310 digigr8 digita dimagev dimera3500 directory enigma13 fuji gsmart300 hp215 iclick jamcam jd11 kodak_dc120 kodak_dc210 kodak_dc240 kodak_dc3200 kodak_ez200 konica konica_qm150 largan lg_gsm mars mustek panasonic_coolshot panasonic_dc1000 panasonic_dc1580 panasonic_l859 pccam300 pccam600 polaroid_pdc320 polaroid_pdc640 polaroid_pdc700 ptp2 ricoh ricoh_g3 samsung sierra sipix_blink sipix_blink2 sipix_web2 smal sonix sony_dscf1 sony_dscf55 soundvision spca50x sq905 stv0674 stv0680 sx330z template toshiba_pdrm11 jl2005a jl2005c topfield ax203 st2205 tp6801" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" CURL_SSL="gnutls" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf superstar2 timing tsip tripmate tnt ubx" INPUT_DEVICES="evdev synaptics" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LIBREOFFICE_EXTENSIONS="presenter-console presenter-minimizer nlpsolver pdfimport" LINGUAS="ru ru_RU" OFFICE_IMPLEMENTATION="libreoffice" PHP_TARGETS="php5-4" PYTHON_SINGLE_TARGET="python2_7" PYTHON_TARGETS="python2_7" RUBY_TARGETS="ruby19" USERLAND="GNU" VIDEO_CARDS="intel i915" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account"
Unset:  CTARGET, INSTALL_MASK, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, USE_PYTHON

=================================================================
                        Package Settings
=================================================================

net-news/liferea-1.10.1a was built with the following:
USE="libnotify (-ayatana)"




Comment 1


Viktor Yu. Kovalskii





          2013-08-03 08:50:44 UTC
        

Backtrace for liferea:

gdb liferea
GNU gdb (Gentoo 7.6 p1) 7.6
Copyright (C) 2013 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type "show copying"
and "show warranty" for details.
This GDB was configured as "i686-pc-linux-gnu".
For bug reporting instructions, please see:
<http://bugs.gentoo.org/>...
Reading symbols from /usr/bin/liferea...Reading symbols from /usr/lib/debug/usr/bin/liferea.debug...done.
done.
(gdb) run
Starting program: /usr/bin/liferea 
warning: Could not load shared library symbols for linux-gate.so.1.
Do you need "set solib-search-path" or "set sysroot"?
[Thread debugging using libthread_db enabled]
Using host libthread_db library "/lib/libthread_db.so.1".
[New Thread 0xb2d58b40 (LWP 22920)]
[New Thread 0xb23ffb40 (LWP 22921)]
sh: kde4-config: command not found
sh: kde4-config: command not found

** (liferea:22915): WARNING **: Couldn't load icon: Icon 'folder-saved-search' not present in theme

Program received signal SIGSEGV, Segmentation fault.
liferea_htmlview_write (htmlview=htmlview@entry=0x0, 
    string=0x84eae90 "<?xml version=\"1.0\" encoding=\"utf-8\"?><!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n\"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtm"..., base=base@entry=0x848da98 "http://arstechnica.com") at liferea_htmlview.c:305
305	liferea_htmlview.c: No such file or directory.
(gdb) bt
#0  liferea_htmlview_write (htmlview=htmlview@entry=0x0, 
    string=0x84eae90 "<?xml version=\"1.0\" encoding=\"utf-8\"?><!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n\"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtm"..., base=base@entry=0x848da98 "http://arstechnica.com") at liferea_htmlview.c:305
#1  0x0806d12c in htmlview_update (htmlview=0x0, mode=ITEMVIEW_NODE_INFO) at htmlview.c:415
#2  0x0808cac1 in itemview_update () at itemview.c:278
#3  0x0806f828 in itemlist_merge_itemset (itemSet=itemSet@entry=0x836a5b0) at itemlist.c:273
#4  0x0806fae1 in itemlist_load (node=0x8419280) at itemlist.c:336
#5  0x0806bca9 in feedlist_selection_changed (node=0x8419280) at feedlist.c:538
#6  0x0808a744 in feed_list_view_selection_changed_cb (selection=0x8307828, data=0x830a138) at feed_list_view.c:74
#7  0xb5ac7597 in g_cclosure_marshal_VOID__VOIDv (closure=closure@entry=0x83b93a8, return_value=return_value@entry=0x0, instance=instance@entry=0x8307828, 
    args=args@entry=0xbfffe12c "\322\263\036\266\020\063A\b\001", marshal_data=marshal_data@entry=0x0, n_params=n_params@entry=0, param_types=param_types@entry=0x0) at gmarshal.c:115
#8  0xb5ac5a86 in _g_closure_invoke_va (closure=closure@entry=0x83b93a8, return_value=return_value@entry=0x0, instance=instance@entry=0x8307828, args=args@entry=0xbfffe12c "\322\263\036\266\020\063A\b\001", 
    n_params=0, param_types=0x0) at gclosure.c:840
#9  0xb5adfb59 in g_signal_emit_valist (instance=instance@entry=0x8307828, signal_id=signal_id@entry=213, detail=detail@entry=0, var_args=var_args@entry=0xbfffe12c "\322\263\036\266\020\063A\b\001")
    at gsignal.c:3234
#10 0xb5ae0733 in g_signal_emit (instance=instance@entry=0x8307828, signal_id=213, detail=detail@entry=0) at gsignal.c:3384
#11 0xb61dddab in _gtk_tree_selection_internal_select_node (selection=0x8307828, node=node@entry=0x8418f60, tree=0x8413310, path=path@entry=0x836cd80, mode=(unknown: 0), 
    override_browse_mode=override_browse_mode@entry=0) at gtktreeselection.c:1604
#12 0xb61f4c9b in gtk_tree_view_real_set_cursor (tree_view=tree_view@entry=0x830a138, path=path@entry=0x836cd80, flags=flags@entry=(CLEAR_AND_SELECT | CLAMP_NODE)) at gtktreeview.c:13208
#13 0xb61f8f34 in gtk_tree_view_button_press (widget=widget@entry=0x830a138, event=0x846cc78) at gtktreeview.c:3127
#14 0xb60c9642 in _gtk_marshal_BOOLEAN__BOXED (closure=0x80d5dd8, return_value=0xbfffe400, n_param_values=2, param_values=0xbfffe470, invocation_hint=0xbfffe41c, 
    marshal_data=0xb61f8660 <gtk_tree_view_button_press>) at gtkmarshalers.c:85
#15 0xb5ac45ed in g_type_class_meta_marshal (closure=closure@entry=0x80d5dd8, return_value=return_value@entry=0xbfffe400, n_param_values=n_param_values@entry=2, param_values=param_values@entry=0xbfffe470, 
    invocation_hint=invocation_hint@entry=0xbfffe41c, marshal_data=marshal_data@entry=0xc0) at gclosure.c:970
#16 0xb5ac57eb in g_closure_invoke (closure=closure@entry=0x80d5dd8, return_value=return_value@entry=0xbfffe400, n_param_values=2, param_values=param_values@entry=0xbfffe470, 
    invocation_hint=invocation_hint@entry=0xbfffe41c) at gclosure.c:777
#17 0xb5ad7a3e in signal_emit_unlocked_R (node=node@entry=0x80d5800, detail=detail@entry=0, instance=instance@entry=0x830a138, emission_return=emission_return@entry=0xbfffe540, 
    instance_and_params=instance_and_params@entry=0xbfffe470) at gsignal.c:3622
#18 0xb5ae01e6 in g_signal_emit_valist (instance=instance@entry=0x830a138, signal_id=signal_id@entry=28, detail=detail@entry=0, 
    var_args=0xbfffe680 "\234\346\377\277\340\274\f\b\264\232\256\265sE!\266\307@!\266", var_args@entry=0xbfffe67c "x\314F\b\234\346\377\277\340\274\f\b\264\232\256\265sE!\266\307@!\266") at gsignal.c:3338
#19 0xb5ae0733 in g_signal_emit (instance=instance@entry=0x830a138, signal_id=28, detail=detail@entry=0) at gsignal.c:3384
#20 0xb62142c1 in gtk_widget_event_internal (widget=widget@entry=0x830a138, event=event@entry=0x846cc78) at gtkwidget.c:6714
#21 0xb62146ee in gtk_widget_event (widget=widget@entry=0x830a138, event=event@entry=0x846cc78) at gtkwidget.c:6371
#22 0xb60c7039 in propagate_event_up (topmost=<optimized out>, event=<optimized out>, widget=0x830a138) at gtkmain.c:2393
#23 propagate_event (widget=<optimized out>, event=0x846cc78, captured=0, topmost=0x0) at gtkmain.c:2501
#24 0xb60c92f0 in gtk_main_do_event (event=0x846cc78) at gtkmain.c:1716
#25 0xb5eb3adc in _gdk_event_emit (event=event@entry=0x846cc78) at gdkevents.c:69
#26 0xb5ee19e8 in gdk_event_source_dispatch (source=source@entry=0x8101880, callback=0x0, user_data=0x0) at gdkeventsource.c:364
#27 0xb59ce6b5 in g_main_dispatch (context=0x80e7238, context@entry=0x8101880) at gmain.c:3054
#28 g_main_context_dispatch (context=context@entry=0x80e7238) at gmain.c:3630
#29 0xb59cea64 in g_main_context_iterate (context=context@entry=0x80e7238, block=block@entry=1, dispatch=dispatch@entry=1, self=<optimized out>) at gmain.c:3701
#30 0xb59ceb4d in g_main_context_iteration (context=0x80e7238, context@entry=0x0, may_block=may_block@entry=1) at gmain.c:3762
#31 0xb5bac0a7 in g_application_run (application=0x8112038, argc=argc@entry=0, argv=argv@entry=0x0) at gapplication.c:1623
#32 0x0805fd37 in main (argc=1, argv=0xbfffec14) at main.c:279
(gdb) quit




Comment 2


Viktor Yu. Kovalskii





          2013-10-30 01:36:09 UTC
        

I can not reproduce this error anymore. Maybe this bug report should be closed as invalid.




Comment 3


Víctor Ostorga (RETIRED)






          2013-11-03 22:56:14 UTC
        

(In reply to Viktor Yu. Kovalskiy from comment #2)
> I can not reproduce this error anymore. Maybe this bug report should be
> closed as invalid.

Doing so









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

