Title: 729508 – app-misc/lcdproc fails to compile
URL: https://bugs.gentoo.org/show_bug.cgi?id=729508

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 729508
app-misc/lcdproc fails to compile
Last modified: 2020-09-02 22:01:19 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 729508 
      - app-misc/lcdproc fails to compile


Summary:
app-misc/lcdproc fails to compile
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Conrad Kostecki








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2020-06-25 07:55 UTC by Agostino Sarubbo





      Modified:
    
2020-09-02 22:01 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build.log

              (build.log,51.39 KB,
                text/plain)

            
2020-06-25 07:55 UTC,

            Agostino Sarubbo




Details





other.tar.bz2

              (other.tar.bz2,247 bytes,
                application/x-bzip-compressed-tar)

            
2020-06-25 07:55 UTC,

            Agostino Sarubbo




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Agostino Sarubbo






          2020-06-25 07:55:26 UTC
        

@@This is an auto-filed bug@@
Feel free to change the summary at your convenience.

Issue: app-misc/lcdproc fails to compile.
Discovered on: amd64

NOTE:
If yout think this issue is related to clang/llvm toolchain, please block bug 408963. If you need further logs, feel free to ask.




Comment 1


Agostino Sarubbo






          2020-06-25 07:55:31 UTC
        

Created attachment 646212 [details]
build.log

build log and emerge --info




Comment 2


Agostino Sarubbo






          2020-06-25 07:55:34 UTC
        

Created attachment 646214 [details]
other.tar.bz2

other logs




Comment 3


Conrad Kostecki






          2020-08-25 19:58:17 UTC
        

Thats strange. If I read the log correct, you have '/usr/lib64/libugpio.a' installed by dev-libs/libugpio? If so, could you give me the compile log for that package?

Normally, the package disables static completly (and locally here), no libugpio.a is installed and so lcdproc works for me.




Comment 4


Conrad Kostecki






          2020-08-28 22:53:47 UTC
        

Could you also try newest app-misc/lcdproc-0.5.9_p20200721 after checking with dev-libs/libugpio?




Comment 5


Conrad Kostecki






          2020-09-02 22:01:19 UTC
        

I did now run multiple tests with lcdproc and libugpio using Clang and GCC. I am not able to reproduce in any way.

I also took the same CFLAGS and LDFLAGS, as seen in the provided log file. I did even modified my local libugpio ebuild, to install the static version on porpose. It's just working fine here.

> >>> referenced by ugpio.c
> >>>               ugpio.o:(ugpio_open) in archive /usr/lib/gcc/x86_64-pc-linux-gnu/10.1.0/../../../../lib64/libugpio.a

The log clearly indicated, that's its no happy with libugpio.a, but the static file is never installed. Configure uses "--disable-static" is the libugpio ebuild, so it's never build and installed.

So I will close for now here, since I don't think, that this is an error in lcdproc. Maybe there went something wrong in libugpio, but without compile logs, I can't judge.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

