Title: 273062 – hal always failed on my notebook (gcc 4.4.0)
URL: https://bugs.gentoo.org/show_bug.cgi?id=273062

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 273062
hal always failed on my notebook (gcc 4.4.0)
Last modified: 2009-06-11 06:31:43 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 273062 
      - hal always failed on my notebook (gcc 4.4.0)


Summary:
hal always failed on my notebook (gcc 4.4.0)
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Core system

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       major
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-06-07 15:55 UTC by hubertstar





      Modified:
    
2009-06-11 06:31 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


hubertstar





          2009-06-07 15:55:04 UTC
        

hal always failed on my notebook using gcc 4.4.0 (gcc 4.3.x is ok).

then gentoo system on my server (intel core2 E4500) using same vars, and everything is ok.

but on my notebook, hal always failed! i have to reinstall gentoo, but hald service alway failed.

please help me.

Reproducible: Always




hubert-dell ~ # emerge --info
Portage 2.2_rc33 (default/linux/amd64/2008.0, gcc-4.4.0, glibc-2.10.1-r0, 2.6.30-rc8-git4 x86_64)
=================================================================
System uname: Linux-2.6.30-rc8-git4-x86_64-Intel-R-_Core-TM-2_Extreme_CPU_X7800_@_2.60GHz-with-gentoo-2.0.1
Timestamp of tree: Sun, 07 Jun 2009 15:00:01 +0000
ccache version 2.4 [enabled]
app-shells/bash:     4.0_p24
dev-java/java-config: 2.1.8
dev-lang/python:     2.5.4-r3, 2.6.2-r1
dev-util/ccache:     2.4-r8
dev-util/cmake:      2.6.4
sys-apps/baselayout: 2.0.1
sys-apps/openrc:     0.4.3-r2
sys-apps/sandbox:    2.0
sys-devel/autoconf:  2.13, 2.63-r1
sys-devel/automake:  1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.2, 1.11
sys-devel/binutils:  2.19.1-r1
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   2.2.6a
virtual/os-headers:  2.6.29
ACCEPT_KEYWORDS="amd64 ~amd64"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=core2 -mtune=core2 -O2 -mmmx -msse -msse2 -msse3 -mssse3 -pipe -fomit-frame-pointer"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/config /var/spool/torque"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/eselect/postgresql /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-march=core2 -mtune=core2 -O3 -mmmx -msse -msse2 -msse3 -mssse3 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="ccache distlocks fixpackages parallel-fetch preserve-libs protect-owned sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="ftp://mirrors.kernel.org/gentoo http://mirror.mcs.anl.gov/pub/gentoo"
LDFLAGS="-Wl,-O1"
LINGUAS="zh_CN zh en zh_TW"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage/layman/x11 /usr/local/portage/layman/devnull /usr/local/portage/layman/gentoo-china /usr/local/portage/layman/gnome /usr/local/portage/hubert"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X a52 aalib accessibility acl acpi alsa amd64 amr apache2 applet archive artworkextra aspell asyncns autoipd automount avahi bash-completion beagle berkdb bluetooth branding bzip2 cairo caps cdda cdr cdrkit cjk cli consolekit cracklib crypt cups custom-optimization dbus deskbar device-mapper dga dirac djvu doc dri dvb dvd dvdr dvdread elisp esd evo examples exif faac faad festival ffmpeg firefox flac fontconfig foomaticdb fortran fpx freetts fuse gd gdbm gif glade gnome gnome-keyring gnomecd gnutls gpg gphoto2 gpm graphviz gs gsf gsm gstreamer gtk guile hal hdri iconv ieee1394 ipv6 isdnlog jack java java6 jbig jpeg jpeg2k kde kerberos krb4 lame lasi latex lcms ldap libnotify libsamplerate lua lzo mad mailwrapper midi mikmod mmx mono mp3 mp3rtp mpeg mudflap multilib mysql mysqli nautilus ncurses network networking networkmanager nls nptl nptlonly nsplugin ogg openexr opengl openmp oracle oss pam pango pch pcre pdf perl pg-intdatetime png policykit postgres ppds pppd pulseaudio python q32 q8 qt qt3 qt3support qt4 quicktime raw readline reflection ruby samba sasl schroedinger sdl session sndfile snmp sound source speex spell spl sqlite sse sse2 ssh ssl startup-notification svg sysfs taglib tcl tcpd theora threads tiff tk tracker truetype unicode urandom usb utils v4l v4l2 vhook vim-syntax vorbis wmf x264 xattr xcb xcomposite xine xinerama xml xmp xorg xpm xscreensaver xulrunner xv xvid zlib zsh-completion" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CAMERAS="adc65 agfa_cl20 aox barbie canon casio_qv clicksmart310 digigr8 digita dimagev dimera3500 directory enigma13 fuji gsmart300 hp215 iclick jamcam jd11 jl2005a kodak_dc120 kodak_dc210 kodak_dc240 kodak_dc3200 kodak_ez200 konica konica_qm150 largan lg_gsm mars mustek panasonic_coolshot panasonic_dc1000 panasonic_dc1580 panasonic_l859 pccam300 pccam600 polaroid_pdc320 polaroid_pdc640 polaroid_pdc700 ptp2 ricoh ricoh_g3 samsung sierra sipix_blink sipix_blink2 sipix_web2 smal sonix sony_dscf1 sony_dscf55 soundvision spca50x sq905 stv0674 stv0680 sx330z template topfield toshiba_pdrm11" ELIBC="glibc" INPUT_DEVICES="keyboard mouse acecad aiptek calcomp citron digitaledge dmc dynapro elo2300 elographics evdev fpit hyperpen jamstudio joystick magellan microtouch mutouch palmax penmount spaceorb summa synaptics tek4957 tslib ur98 void wacom" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="zh_CN zh en zh_TW" USERLAND="GNU" VIDEO_CARDS="nvidia intel vesa"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LANG, LC_ALL, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS



hal error message:
hubert-dell ~ # grep "\[E\]" /var/log/messages

Jun  7 23:48:39 hubert-dell hald-probe-serial: [27285]: 23:48:39.545 [E] probe-serial.c:84: serial port /dev/ttyS0 seems not to exist
Jun  7 23:48:39 hubert-dell hald-probe-serial: [27286]: 23:48:39.580 [E] probe-serial.c:84: serial port /dev/ttyS1 seems not to exist
Jun  7 23:48:39 hubert-dell hald-probe-serial: [27287]: 23:48:39.592 [E] probe-serial.c:84: serial port /dev/ttyS2 seems not to exist
Jun  7 23:48:39 hubert-dell hald-probe-serial: [27288]: 23:48:39.620 [E] probe-serial.c:84: serial port /dev/ttyS3 seems not to exist
Jun  7 23:48:39 hubert-dell hald[27190]: 23:48:39.659 [E] device.c:1705: In hal_device_inc_num_ready_addons for udi=/org/freedesktop/Hal/devices/platform_i8042_i8042_KBD_port_logicaldev_input but all addons are already ready!
Jun  7 23:48:39 hubert-dell hald[27190]: 23:48:39.752 [E] hald_runner.c:671: Error running 'hald-addon-cpufreq': org.freedesktop.DBus.Error.NoReply: Did not receive a reply. Possible causes include: the remote application did not send a reply, the message bus security policy blocked the reply, the reply timeout expired, or the network connection was broken.
Jun  7 23:48:39 hubert-dell hald[27190]: 23:48:39.752 [E] hald.c:124: Cannot start addon hald-addon-cpufreq for udi /org/freedesktop/Hal/devices/computer
Jun  7 23:48:39 hubert-dell hald[27190]: 23:48:39.752 [E] hald_runner.c:671: Error running 'hald-addon-acpi': org.freedesktop.DBus.Error.Disconnected: Connection is closed
Jun  7 23:48:39 hubert-dell hald[27190]: 23:48:39.752 [E] hald.c:124: Cannot start addon hald-addon-acpi for udi /org/freedesktop/Hal/devices/computer




Comment 1


hubertstar





          2009-06-08 13:00:14 UTC
        

This is not hal's bug.

I'm compiled glib using -O3.

and i compile hal using -O2.

final, i recompiled glib using -O2, hal can be started.


please close this thread.

Thanks.










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

