Title: 862561 – 2022-07-29-pipewire-sound-server migration: cater for non-desktop profile users?
URL: https://bugs.gentoo.org/show_bug.cgi?id=862561

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 862561
2022-07-29-pipewire-sound-server migration: cater for non-desktop profile users?
Last modified: 2024-10-04 01:59:40 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 862561 
      - 2022-07-29-pipewire-sound-server migration: cater for non-desktop profile users?


Summary:
2022-07-29-pipewire-sound-server migration: cater for non-desktop profile users?
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Sam James








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:




744622



 

        Show dependency tree





 





      Reported:
    
2022-07-31 15:39 UTC by Stefan Salewski





      Modified:
    
2024-10-04 01:59 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



sam









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




make.conf, profile, and emerge --info

              (info.txt,10.69 KB,
                text/plain)

            
2022-08-01 06:57 UTC,

            Stefan Salewski




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Stefan Salewski





          2022-07-31 15:39:35 UTC
        

My Gentoo box was fresh installed two months ago (Gnome/Systemd/no-multilib, amd64), sound was working. I think with a pipewire/pulseaudio mix.

I followed the migration guide carefully. After update, I had no sound. Finally, I had the feeling that use flag pipewire-alsa was missing in make.conf. I added it and did a world update, including reemerging pipewire. Sound was working immediately, even without a reboot. Well, after reboot it still works.

My useflags in make.conf is now:

USE="lto pgo clang graphite -fortran systemd opengl vulkan vaapi vdpau spell -elogind zstd -qt -qt5 -kde gnome gtk X wayland networkmanager dbus alsa pipewire-alsa vpx bluetooth lm-sensors"

The reason for my missing pipewire-alsa may be, that I am using a no-multilib install, so the default systemd gnome useflag set is not provided. Maybe we should mention this fact in the migration guide. Additional, I am using GentooLTO, but I think that makes no difference for this issue.

Reproducible: Always

Steps to Reproduce:
1.Follow the migration guide carefully
2.
3.
Actual Results:  
No sound

Expected Results:  
Sound

Ensure that pipewire-alsa use flag is active!




Comment 1


Sam James









          2022-08-01 02:17:38 UTC
        

Please share emerge --info. Also, what profile are you on exactly?




Comment 2


Stefan Salewski





          2022-08-01 06:57:03 UTC
        

Created attachment 796312 [details]
make.conf, profile, and emerge --info




Comment 3


Sam James









          2022-08-03 03:05:26 UTC
        

(In reply to Stefan Salewski from comment #2)
> Created attachment 796312 [details]
> make.conf, profile, and emerge --info

It's noteworthy that you're not on a desktop profile.




Comment 4


Stefan Salewski





          2022-08-03 05:05:05 UTC
        

>It's noteworthy that you're not on a desktop profile.

Yes, I tried to express that fact in my initial comment with "that I am using a no-multilib install, so the default systemd gnome useflag set is not provided.". Maybe not the optional wording.

Many people like me prefer to use a no-multilib profile, as they have never used 32 bit software in the last decades, and do not intend it in the future. So the desktop profiles are not an option.

Well I created this issue mostly for people with the same problem. I think now we can close the issue.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

