Title: 363987 – dev-python/evince-python-2.32.0 - /bin/sed: can't read /usr/lib64/libXt.la: No such file or directory
URL: https://bugs.gentoo.org/show_bug.cgi?id=363987

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 363987
dev-python/evince-python-2.32.0 - /bin/sed: can't read /usr/lib64/libXt.la: No such file or directory
Last modified: 2011-04-18 15:02:12 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 363987 
      - dev-python/evince-python-2.32.0 - /bin/sed: can't read /usr/lib64/libXt.la: No such file or directory


Summary:
dev-python/evince-python-2.32.0 - /bin/sed: can't read /usr/lib64/libXt.la: N...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Unspecified

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2011-04-18 05:56 UTC by Frederik 'Freso' S. Olesen





      Modified:
    
2011-04-18 15:02 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Build environment

              (cave-info-evince-python.txt,16.35 KB,
                text/plain)

            
2011-04-18 05:56 UTC,

            Frederik 'Freso' S. Olesen




Details





Output log

              (1303103968-install-dev-python_evince-python-2.32.0:0::gentoo.out,26.52 KB,
                text/plain)

            
2011-04-18 05:58 UTC,

            Frederik 'Freso' S. Olesen




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Frederik 'Freso' S. Olesen





          2011-04-18 05:56:54 UTC
        

Created attachment 270335 [details]
Build environment

When trying to install dev-python/evince-python-2.32.0, it fails along the way:

libtool: compile:  x86_64-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I.. -I/usr/include/python2.7 -I/usr/include/python2.7 -pthread -I/usr/include/pygtk-2.0 -I/usr/include/gtk-2.0 -I/usr/include/glib-2.0 -I/usr/lib64/glib-2.0/include -I/usr/lib64/gtk-2.0/include -I/usr/include/atk-1.0 -I/usr/include/cairo -I/usr/include/gdk-pixbuf-2.0 -I/usr/include/pango-1.0 -I/usr/include/pixman-1 -I/usr/include/freetype2 -I/usr/include/libpng14 -I/usr/include/libdrm -pthread -I/usr/include/evince/2.32 -I/usr/include/gtk-2.0 -I/usr/include/glib-2.0 -I/usr/lib64/glib-2.0/include -I/usr/lib64/gtk-2.0/include -I/usr/include/atk-1.0 -I/usr/include/cairo -I/usr/include/gdk-pixbuf-2.0 -I/usr/include/pango-1.0 -I/usr/include/pixman-1 -I/usr/include/freetype2 -I/usr/include/libpng14 -I/usr/include/libdrm -march=native -O2 -Wall -std=c9x -fno-strict-aliasing -MT evince_la-evince.lo -MD -MP -MF .deps/evince_la-evince.Tpo -c evince.c  -fPIC -DPIC -o .libs/evince_la-evince.o
Warning: Constructor for EvJobLayers needs to be updated to new API
         See http://live.gnome.org/PyGTK_2fWhatsNew28#update-constructors
Warning: Constructor for EvJobLinks needs to be updated to new API
         See http://live.gnome.org/PyGTK_2fWhatsNew28#update-constructors
Warning: Constructor for EvJobLoad needs to be updated to new API
         See http://live.gnome.org/PyGTK_2fWhatsNew28#update-constructors
Warning: Constructor for EvJobPageData needs to be updated to new API
         See http://live.gnome.org/PyGTK_2fWhatsNew28#update-constructors
Warning: Constructor for EvJobPrint needs to be updated to new API
         See http://live.gnome.org/PyGTK_2fWhatsNew28#update-constructors
Warning: Constructor for EvJobRender needs to be updated to new API
         See http://live.gnome.org/PyGTK_2fWhatsNew28#update-constructors
Warning: Constructor for EvJobSave needs to be updated to new API
         See http://live.gnome.org/PyGTK_2fWhatsNew28#update-constructors
Warning: Constructor for EvJobThumbnail needs to be updated to new API
         See http://live.gnome.org/PyGTK_2fWhatsNew28#update-constructors
Warning: Constructor for EvLayer needs to be updated to new API
         See http://live.gnome.org/PyGTK_2fWhatsNew28#update-constructors
Warning: Constructor for EvPage needs to be updated to new API
         See http://live.gnome.org/PyGTK_2fWhatsNew28#update-constructors
Warning: Constructor for EvRenderContext needs to be updated to new API
         See http://live.gnome.org/PyGTK_2fWhatsNew28#update-constructors
***INFO*** The coverage of global functions is 80.28% (114/142)
***INFO*** The coverage of methods is 75.41% (46/61)
***INFO*** There are no declared virtual proxies.
***INFO*** There are no declared virtual accessors.
***INFO*** There are no declared interface proxies.
evince.c: In function '_wrap_ev_document_annotations_get_type':
evince.c:2662: warning: implicit declaration of function 'ev_document_annotations_get_type'
evince.c: In function '_wrap_ev_document_text_get_type':
evince.c:3049: warning: implicit declaration of function 'ev_document_text_get_type'
evince.c: In function '_wrap_ev_view_presentation_get_type':
evince.c:3922: warning: implicit declaration of function 'ev_view_presentation_get_type'
mv -f .deps/evince_la-evince.Tpo .deps/evince_la-evince.Plo
/bin/sh ../libtool --tag=CC   --mode=link x86_64-pc-linux-gnu-gcc -pthread -I/usr/include/evince/2.32 -I/usr/include/gtk-2.0 -I/usr/include/glib-2.0 -I/usr/lib64/glib-2.0/include -I/usr/lib64/gtk-2.0/include -I/usr/include/atk-1.0 -I/usr/include/cairo -I/usr/include/gdk-pixbuf-2.0 -I/usr/include/pango-1.0 -I/usr/include/pixman-1 -I/usr/include/freetype2 -I/usr/include/libpng14 -I/usr/include/libdrm   -march=native -O2 -Wall -std=c9x -fno-strict-aliasing -module -avoid-version -export-symbols-regex initevince -Wl,-O1 -Wl,--as-needed -o evince.la -rpath /usr/lib64/python2.7/site-packages/gtk-2.0 evince_la-evincemodule.lo evince_la-evince.lo -pthread -levview -levdocument -lgtk-x11-2.0 -lgdk-x11-2.0 -latk-1.0 -lgio-2.0 -lpangoft2-1.0 -lpangocairo-1.0 -lgdk_pixbuf-2.0 -lm -lcairo -lpng14 -lpango-1.0 -lfreetype -lfontconfig -lgobject-2.0 -lgmodule-2.0 -lgthread-2.0 -lrt -lglib-2.0 

Error:
  * In program cave perform install --hooks --managed-output --output-exclusivity with-others =dev-python/evince-python-2.32.0:0::gentoo --destination installed --replacing =dev-python/evince-python-2.30.2:0::installed --x-of-y 1 of 1:
  * When installing 'dev-python/evince-python-2.32.0:0::gentoo' replacing { 'dev-python/evince-python-2.30.2:0::installed' }:
  * When running an ebuild command on 'dev-python/evince-python-2.32.0:0::gentoo':
  * Install failed for 'dev-python/evince-python-2.32.0:0::gentoo' (paludis::ActionFailedError)

make[2]: Leaving directory `/var/tmp/paludis/dev-python-evince-python-2.32.0/work/gnome-python-desktop-2.32.0-2.7/evince'
make[1]: Leaving directory `/var/tmp/paludis/dev-python-evince-python-2.32.0/work/gnome-python-desktop-2.32.0-2.7'
/bin/grep: /usr/lib64/libXt.la: No such file or directory
/bin/sed: can't read /usr/lib64/libXt.la: No such file or directory
libtool: link: `/usr/lib64/libXt.la' is not a valid libtool archive
make[2]: *** [evince.la] Error 1
make[1]: *** [all-recursive] Error 1
make: *** [all] Error 2
/usr/libexec/paludis/utils/emake: emake returned error 2

!!! ERROR in dev-python/evince-python-2.32.0::gentoo:
!!! In python_execute_function at line 5716
!!! Building failed with CPython 2.7 in python_default_function() function

!!! Call stack:
!!!    * python_execute_function (/var/tmp/paludis/dev-python-evince-python-2.32.0/temp/loadsaveenv:5716)
!!!    * python_src_compile (/var/tmp/paludis/dev-python-evince-python-2.32.0/temp/loadsaveenv:7050)
!!!    * gnome-python-common_src_compile (/var/tmp/paludis/dev-python-evince-python-2.32.0/temp/loadsaveenv:4195)
!!!    * src_compile (/var/tmp/paludis/dev-python-evince-python-2.32.0/temp/loadsaveenv:7178)
!!!    * ebuild_f_compile (/usr/libexec/paludis/2/src_compile.bash:56)
!!!    * ebuild_main (/usr/libexec/paludis/ebuild.bash:646)
!!!    * main (/usr/libexec/paludis/ebuild.bash:672)

diefunc: making ebuild PID 14834 exit with error
die trap: exiting with error.




Comment 1


Frederik 'Freso' S. Olesen





          2011-04-18 05:58:07 UTC
        

Created attachment 270337 [details]
Output log




Comment 2


SpanKY






          2011-04-18 06:03:33 UTC
        

run revdep-rebuild or lafilefixer to fix your outdated .la files




Comment 3


Frederik 'Freso' S. Olesen





          2011-04-18 06:27:53 UTC
        

What seems to be missing is the libXt.la file. I'd think to the solution might be re-installing libXt, however, libXt doesn't provide "libXt.la":

nayru ~ # cave contents libXt | grep "\.la"
nayru ~ #

Also, trying to "revdep-rebuild" it, simply makes it try to re-install, which fails due to the lack of libXt.la.




Comment 4


Pacho Ramos






          2011-04-18 08:28:15 UTC
        

Run "lafilefixer --justfixit"




Comment 5


Jeroen Roovers (RETIRED)






          2011-04-18 15:02:12 UTC
        

You need to run lafilefixer.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

