Title: 118505 – dev-lang/php xml useflag not used
URL: https://bugs.gentoo.org/show_bug.cgi?id=118505

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 118505
dev-lang/php xml useflag not used
Last modified: 2006-01-23 07:40:09 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 118505 
      - dev-lang/php xml useflag not used


Summary:
dev-lang/php xml useflag not used
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-01-10 02:07 UTC by grischa





      Modified:
    
2006-01-23 07:40 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



chrb









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


grischa





          2006-01-10 02:07:08 UTC
        

Hi,

it looks like the ebuild for php-4.4.1-r3.ebuild ignores the xml useflag.
If i do an emerge -vp dev-lang/php everything looks fine:

---------------------------------
emerge -vp dev-lang/php

These are the packages that I would merge, in order:

Calculating dependencies ...done!
[ebuild   R   ] dev-lang/php-4.4.1-r3  (-adabas) -apache +apache2 -bcmath -berkdb (-birdstep) -bzip2 -calendar -cdb +cgi -cjk +cli -crypt +ctype -curl -db2 -dba -dbase (-dbmaker) -dbx -debug -discard-path -doc (-empress) (-empress-bcs) (-esoob) -exif -expat -fastbuild (-fdftk) (-filepro) (-firebird) -flatfile -force-cgi-redirect (-frontbase) -ftp +gd -gd-external -gdbm -gmp -hardenedphp -hyperwave-api -iconv -imap (-informix) -inifile -interbase -iodbc -ipv6 -java-external -java-internal -kerberos -ldap -libedit -mcal -mcve -memlimit -mhash +ming -mnogosearch -msql -mssql +mysql -ncurses -nls -oci8 (-oci8-instant-client) -odbc -oracle7 -overload -ovrimos +pcntl +pcre -pear (-pfpro) -pic -posix -postgres -readline -recode -sapdb +session -sharedext -sharedmem -snmp -sockets (-solid) -spell -sqlite -ssl (-sybase) (-sybase-ct) -sysvipc -threads -tiff -tokenizer +truetype -wddx +xml -xmlrpc -xpm +xsl -yaz -zip +zlib 0 kB

---------------------------------------------------

, but when i finally emerge (everythings looks fine), afterwards use php-toolkit to set it up and than run a simple phpinfo() script, the xml support is disabled....

Maybe i did something wrong, if not, could you please check it?
Grischa




Comment 1


Jakub Moc (RETIRED)






          2006-01-10 02:17:20 UTC
        

<snip>
ewarn "The 'xml' and 'xml2' USE flags were unified in only the 'xml' USE"
ewarn "flag. To get the features that were once controlled by the 'xml2'"
ewarn "USE flag, turn the 'xml' USE flag on. To get the features that were"
ewarn "once controlled by the 'xml' USE flag, turn the 'expat' USE flag on."
</snip>

USE=xml enables DOM XML; you probably want USE=expat.




Comment 2


Chris Bainbridge (RETIRED)






          2006-01-23 07:35:10 UTC
        

That's pretty confusing - especially since the emerge prints:

*   Enabling xml

when it actually means expat. I think this comes from /usr/portage/eclass/php4_4-sapi.eclass where it seems to associate the xml flag with expat:

enable_extension_disable    "xml"           "expat"         0

and phpinfo() reports whatever expat enables as "xml support". Maybe the xml use flag could enable what php calls xml (ie. expat) as well?




Comment 3


Jakub Moc (RETIRED)






          2006-01-23 07:40:09 UTC
        

A(In reply to comment #2)
> That's pretty confusing

... and won't change, xml2 use flag is deprecated (Bug 116346).

http://www.gentoo.org/proj/en/php/php-upgrading.xml has section on use flags.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

