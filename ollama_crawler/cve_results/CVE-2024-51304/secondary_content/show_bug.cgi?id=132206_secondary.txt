Title: 132206 – find is not finding certain strangely named files
URL: https://bugs.gentoo.org/show_bug.cgi?id=132206

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 132206
find is not finding certain strangely named files
Last modified: 2006-05-04 12:41:15 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 132206 
      - find is not finding certain strangely named files


Summary:
find is not finding certain strangely named files
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo's Team for Core System packages








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-05-03 23:07 UTC by Alexander Skwar





      Modified:
    
2006-05-04 12:41 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




tar file containing the strangely named .jpg file

              (02_766.tar,910.00 KB,
                application/x-tar)

            
2006-05-03 23:09 UTC,

            Alexander Skwar




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Alexander Skwar





          2006-05-03 23:07:42 UTC
        

On my system, I've got files named like this:

[2005-04-14 20-17-09] (0766) Sandra mit Cassandra auf Arm, Klinikum Barmen, Tag 23 - Schwarz-Wei&#65533;:009f.jpg

I'll attach this file as a tar.

The "?" is, according to hexdump, the following:

00000070  65 69 c3 3a 30 30 39 66  2e 6a 70 67 0a           |ei.:009f.jpg.|

So, it is a 0xc3 character.

Instead of "&#65533;:009f" it should read "




Comment 1


Alexander Skwar





          2006-05-03 23:07:42 UTC
        

On my system, I've got files named like this:

[2005-04-14 20-17-09] (0766) Sandra mit Cassandra auf Arm, Klinikum Barmen, Tag 23 - Schwarz-Wei&#65533;:009f.jpg

I'll attach this file as a tar.

The "?" is, according to hexdump, the following:

00000070  65 69 c3 3a 30 30 39 66  2e 6a 70 67 0a           |ei.:009f.jpg.|

So, it is a 0xc3 character.

Instead of "&#65533;:009f" it should read "ß".

Now, the strange thing is, that I'm not able to find this file with "find" v4.3.0, when I use a "-name" parameter:

$ find . | grep 766
./[2005-04-14 20-17-09] (0766) Sandra mit Cassandra auf Arm, Klinikum Barmen, Tag 23 - Schwarz-Wei&#65533;:009f.jpg
$ find . -name "*766*"
$

$ ls -la
insgesamt 916
drwxr-xr-x 2 alexander users     80  4. May 08:03 .
drwxrwxrwt 3 root      root      80  4. May 07:59 ..
-rw-r--r-- 1 alexander users 922538  6. Nov 16:00 [2005-04-14 20-17-09] (0766) Sandra mit Cassandra auf Arm, Klinikum Barmen, Tag 23 - Schwarz-Wei?:009f.jpg
-rw-r--r-- 1 alexander users    125  4. May 08:03 dateien.txt


This behaviour is independent on which type of filesystem the file is stored. In the example above, I've got the file on a tmpfs, but it also happens with reiserfs, xfs or NFSv3.


All of this does NOT happen, when I use find v4.1.20 on a non-Gentoo system. Because of that, I'm reporting this bug here in the Gentoo bugzilla.

Why is that happening?




Comment 2


Alexander Skwar





          2006-05-03 23:09:14 UTC
        

Created attachment 86117 [details]
tar file containing the strangely named .jpg file




Comment 3


Alexander Skwar





          2006-05-03 23:22:55 UTC
        

I now reported this bug upstream. See: https://savannah.gnu.org/bugs/index.php?func=detailitem&item_id=16520




Comment 4


Alexander Skwar





          2006-05-04 12:41:15 UTC
        

I now recompiled findutils 4.3.0, and now find is behaving correctly - ie. a find . -name "*jpg" is also finding those strangely named files.











Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

