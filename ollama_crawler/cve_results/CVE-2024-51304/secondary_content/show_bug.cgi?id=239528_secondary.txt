Title: 239528 – gpac 0.4.4-r1 fails to build (cannot find avformat.h)
URL: https://bugs.gentoo.org/show_bug.cgi?id=239528

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 239528
gpac 0.4.4-r1 fails to build (cannot find avformat.h)
Last modified: 2008-10-30 12:36:55 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 239528 
      - gpac 0.4.4-r1 fails to build (cannot find avformat.h)


Summary:
gpac 0.4.4-r1 fails to build (cannot find avformat.h)
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Media-video project








URL:







Whiteboard:




Keywords:









Duplicates (1):
    

241886

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2008-10-04 11:05 UTC by Christian Kotz





      Modified:
    
2008-10-30 12:36 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



gnu_andrew









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build log

              (build.log,352.53 KB,
                text/plain)

            
2008-10-04 11:06 UTC,

            Christian Kotz




Details





environment

              (environment,105.39 KB,
                text/plain)

            
2008-10-04 11:07 UTC,

            Christian Kotz




Details





debug log

              (eclass-debug.log,1.55 KB,
                text/plain)

            
2008-10-04 11:07 UTC,

            Christian Kotz




Details





output of emerge --info

              (emerge.info.txt,5.87 KB,
                text/plain)

            
2008-10-04 11:08 UTC,

            Christian Kotz




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Christian Kotz





          2008-10-04 11:05:23 UTC
        

gpac 0.4.4-r1 fails build with my use flags. Include file avformat.h (from ffmpeg library?) cannot be found

Reproducible: Always

Steps to Reproduce:
1.emerge gpac

Actual Results:  
emerge stops with error

Expected Results:  
gpac is (re)installed

I'll attach output of emerge --info and build.log




Comment 1


Christian Kotz





          2008-10-04 11:06:22 UTC
        

Created attachment 167157 [details]
build log

my build log




Comment 2


Christian Kotz





          2008-10-04 11:07:00 UTC
        

Created attachment 167159 [details]
environment




Comment 3


Christian Kotz





          2008-10-04 11:07:24 UTC
        

Created attachment 167160 [details]
debug log




Comment 4


Christian Kotz





          2008-10-04 11:08:32 UTC
        

Created attachment 167161 [details]
output of emerge --info




Comment 5


Rafał Mużyło





          2008-10-04 16:20:47 UTC
        

This looks like self-harm: mixing stable and unstable.

What is the value of FFMPEG_CFLAGS in config.mak ?
What is your version of ffmpeg ?




Comment 6


Thomas Sachau






          2008-10-04 22:06:37 UTC
        

You should not use the developer profile!

@Rafał Mużyło:

Where do you see mixing stable and unstable?




Comment 7


Christian Kotz





          2008-10-05 08:44:29 UTC
        

ffmpeg version: 0.4.9_p20080326
FFMPEG_CFLAGS is empty in config.mak




Comment 8


Christian Kotz





          2008-10-05 09:38:45 UTC
        

changed my profile to Desktop
(I thought developer profile is for everybody doing SW development, not just gentoo people)




Comment 9


Thomas Sachau






          2008-10-05 12:28:13 UTC
        

Please try with a stable version of ffmpeg.




Comment 10


Alexis Ballier






          2008-10-05 12:41:29 UTC
        

(In reply to comment #7)
> FFMPEG_CFLAGS is empty in config.mak

it shouldn't be; isn't your ffmpeg broken and needing revdep-rebuild?




Comment 11


Christian Kotz





          2008-10-05 18:50:54 UTC
        

no revdep-rebuild was not complaining. 
anyhow I try to move back to an older ffmpeg. (newest ffmpeg was requested by newst ~amd64 version of k3b, so I will emerge an older k3b too)




Comment 12


Alexis Ballier






          2008-10-17 05:44:42 UTC
        

*** Bug 241886 has been marked as a duplicate of this bug. ***




Comment 13


Alexis Ballier






          2008-10-30 12:36:55 UTC
        

(In reply to comment #11)
> no revdep-rebuild was not complaining. 

revdep-rebuild -i ?

if your ffmpeg is broken it wont detect it correctly
please reopen if you are *sure* that its not badly linked
(ie with the output of ldd /usr/lib/libavcodec.so and ldd /usr/lib/libavformat.so)









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

