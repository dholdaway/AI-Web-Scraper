Title: 106531 – samba 3.0.20-r1 can't restart remote windows machine using net rpc shutdown
URL: https://bugs.gentoo.org/show_bug.cgi?id=106531

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 106531
samba 3.0.20-r1 can't restart remote windows machine using net rpc shutdown
Last modified: 2006-12-16 18:18:48 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 106531 
      - samba 3.0.20-r1 can't restart remote windows machine using net rpc shutdown


Summary:
samba 3.0.20-r1 can't restart remote windows machine using net rpc shutdown
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo's SAMBA Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-09-19 09:15 UTC by Niosop





      Modified:
    
2006-12-16 18:18 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



vapier









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Niosop





          2005-09-19 09:15:23 UTC
        

Using samba-3.0.20-r1, the following command will not work: 
 
net rpc shutdown -r -f -t 1 <ip-address> -I <ip-address> -U 
<ip-address>/<username> 
 
the error message is: 
 
[2005/09/19 10:00:13, 0] utils/net_rpc.c:rpc_init_shutdown_internals(4485) 
  Shutdown of remote machine failed! 
[2005/09/19 10:00:13, 0] utils/net_rpc.c:rpc_reg_shutdown_internals(4555) 
  Shutdown of remote machine failed! 
 
Using samba-3.0.14a-r2 the command works as expected. 
 
 

Reproducible: Always
Steps to Reproduce:
1.  ACCEPT_KEYWORDS="~x86" emerge samba 
2.  net rpc shutdown -r -f -t 1 <ip> -I <ip> -U <ip>/<username> 
3.  enter password 
 
Actual Results:  
Received error message: 
 
[2005/09/19 10:00:13, 0] utils/net_rpc.c:rpc_init_shutdown_internals(4485)   
  Shutdown of remote machine failed!   
[2005/09/19 10:00:13, 0] utils/net_rpc.c:rpc_reg_shutdown_internals(4555)   
  Shutdown of remote machine failed!   
 
Machine does not restart. 

Expected Results:  
Should have gotten message: 
 
Shutdown of remote machine succeeded 
 
Remote machine should restart. 

emerge info: 
 
Portage 2.0.51.22-r2 (default-linux/x86/2005.0, gcc-3.3.6, glibc-2.3.5-r1, 
2.6.11-gentoo-r11 i686) 
================================================================= 
System uname: 2.6.11-gentoo-r11 i686 Intel(R) Pentium(R) 4 CPU 3.20GHz 
Gentoo Base System version 1.6.13 
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) 
[enabled] 
dev-lang/python:     2.3.5-r2 
sys-apps/sandbox:    1.2.12 
sys-devel/autoconf:  2.13, 2.59-r6 
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6 
sys-devel/binutils:  2.15.92.0.2-r10 
sys-devel/libtool:   1.5.18-r1 
virtual/os-headers:  2.6.11-r2 
ACCEPT_KEYWORDS="x86" 
AUTOCLEAN="yes" 
CBUILD="i686-pc-linux-gnu" 
CFLAGS="-O2 -march=pentium4 -funroll-loops -pipe" 
CHOST="i686-pc-linux-gnu" 
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/share/config /var/qmail/control" 
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d" 
CXXFLAGS="-O2 -march=pentium4 -funroll-loops -pipe" 
DISTDIR="/usr/portage/distfiles" 
FEATURES="autoconfig distcc distlocks sandbox sfperms strict" 
GENTOO_MIRRORS="ftp://gentoo.ccccom.com 
ftp://ftp.gtlib.cc.gatech.edu/pub/gentoo http://gentoo.noved.org/ 
http://gentoo.ccccom.com" 
MAKEOPTS="-j7" 
PKGDIR="/usr/portage/packages" 
PORTAGE_TMPDIR="/var/tmp" 
PORTDIR="/usr/portage" 
PORTDIR_OVERLAY="/usr/local/portage" 
SYNC="rsync://rsync.gentoo.org/gentoo-portage" 
USE="x86 X alsa apache2 apm arts avi berkdb bitmap-fonts cdr crypt cups curl 
curlwrappers doc dts dvd dvdread eds emboss encode esd fam foomaticdb fortran 
gcj gd gdbm gif gpm gstreamer gtk gtk+ gtk2 imagemagick imlib ipv6 jpeg kde 
libg++ libwww mad mikmod mmx motif mp3 mpeg mysql ncurses network nls nptl 
nptlonly offensive ogg oggvorbis opengl oss pam pdflib perl pic png python qt 
quicktime quotes readline samba scanner sdl spell sse sse2 ssl tcltk tcpd tiff 
truetype truetype-fonts type1-fonts usb vorbis win32codecs winbind xanim xine 
xml xml2 xmms xv xvid zlib userland_GNU kernel_linux elibc_glibc" 
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS 
 
samba-3.0.14a-r2 works as expected.




Comment 1


SpanKY






          2006-12-16 18:18:48 UTC
        

using net-fs/samba-3.0.23a i can use `net shutdown` just peachy









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

