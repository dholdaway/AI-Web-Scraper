Title: 312643 – dev-java/icedtea can't bootstrap without =dev-java/sun-jdk-1.5.0*
URL: https://bugs.gentoo.org/show_bug.cgi?id=312643

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 312643
dev-java/icedtea can't bootstrap without =dev-java/sun-jdk-1.5.0*
Last modified: 2010-04-01 16:42:20 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 312643 
      - dev-java/icedtea can't bootstrap without =dev-java/sun-jdk-1.5.0*


Summary:
dev-java/icedtea can't bootstrap without =dev-java/sun-jdk-1.5.0*
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Java

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Java team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2010-04-01 15:46 UTC by Rebecca Menessec





      Modified:
    
2010-04-01 16:42 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Rebecca Menessec





          2010-04-01 15:46:31 UTC
        

I have dev-java/icedtea6-bin-1.7.2 installed, but apparently dev-java/icedtea can't bootstrap from that, nor from gcc.

java-overlay's dev-java/icedtea =6.* or =7.* seem willing to bootstrap without Sunacle tools, but appear to absolutely require X, which isn't going to fit on a headless machine with a small CF card as a sole pvol (my particular build scenario).

(If we're going to depend on sun-jdk, shouldn't it at least be 1.6.0* ?)

Reproducible: Always

Steps to Reproduce:
Attempt to emerge icedtea w/o Sunacle tools.
Actual Results:  
Failed emerge.

Expected Results:  
Bootstrap with no Sunacle dependencies.

spatha ~ # emerge -pv icedtea

These are the packages that would be merged, in order:

Calculating dependencies... done!

!!! All ebuilds that could satisfy "=dev-java/sun-jdk-1.5.0*" have been masked.
!!! One of the following masked packages is required to complete your request:
- dev-java/sun-jdk-1.5.0.22-r1 (masked by: dlj-1.1 license(s))
A copy of the 'dlj-1.1' license is located at '/mnt/portage/portage/licenses/dlj-1.1'.


(dependency required by "virtual/jdk-1.5.0" [ebuild])
(dependency required by "dev-db/hsqldb-1.8.1.2" [ebuild])
(dependency required by "dev-java/jaxme-0.5.2" [ebuild])
(dependency required by "dev-java/dom4j-1.6.1-r3" [ebuild])
(dependency required by "dev-java/jaxen-1.1.1" [ebuild])
(dependency required by "dev-java/jdom-jaxen-1.0-r1" [ebuild])
(dependency required by "dev-java/jdom-1.0-r4" [ebuild])

For more information, see the MASKED PACKAGES section in the emerge
man page or refer to the Gentoo Handbook.




Comment 1


Petteri Räty (RETIRED)






          2010-04-01 15:52:16 UTC
        

And ideologically you don't want to accept the dlj-1.1 license?




Comment 2


Vlastimil Babka (Caster) (RETIRED)






          2010-04-01 16:42:20 UTC
        

(In reply to comment #0)
> I have dev-java/icedtea6-bin-1.7.2 installed, but apparently dev-java/icedtea
> can't bootstrap from that, nor from gcc.

It can bootstrap from that. Certain flag make it harder though, in this case USE="javascript" (I guess, since you delayed success providing emerge --info)
 
> java-overlay's dev-java/icedtea =6.* or =7.* seem willing to bootstrap without
> Sunacle tools, but appear to absolutely require X, which isn't going to fit on
> a headless machine with a small CF card as a sole pvol (my particular build
> scenario).

Tough luck, it just needs those X headers and libraries at build time, period. Try asking upstream if they care about creating headless build option (I guess not). Consider building on different machine and using binpkg?

> (dependency required by "virtual/jdk-1.5.0" [ebuild])

See, there's no dependency on sun's jdk, just a 1.5 jdk, which happens to be satisfied by sun's.

> (dependency required by "dev-db/hsqldb-1.8.1.2" [ebuild])

USE="java6" will make hsqldb build with 1.6 jdk.

> (dependency required by "dev-java/jaxme-0.5.2" [ebuild])
> (dependency required by "dev-java/dom4j-1.6.1-r3" [ebuild])
> (dependency required by "dev-java/jaxen-1.1.1" [ebuild])
> (dependency required by "dev-java/jdom-jaxen-1.0-r1" [ebuild])
> (dependency required by "dev-java/jdom-1.0-r4" [ebuild])

USE="-javascript" for icedtea will remove these deps altogether. Consider if you need javascript scripting in java?
 










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

