Title: 499358 – app-portage/eix ignores config files symlinked into /etc/portage/*
URL: https://bugs.gentoo.org/show_bug.cgi?id=499358

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 499358
app-portage/eix ignores config files symlinked into /etc/portage/*
Last modified: 2014-01-27 08:56:17 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 499358 
      - app-portage/eix ignores config files symlinked into /etc/portage/*


Summary:
app-portage/eix ignores config files symlinked into /etc/portage/*
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Portage Development




Classification:

Unclassified




Component:

Third-Party Tools

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Martin Väth








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2014-01-26 14:47 UTC by Franz Trischberger





      Modified:
    
2014-01-27 08:56 UTC
      (History)
    




          CC List:
        

4 
          users
          
            (show)
          



axs
franz.trischberger
proxy-maint
xmw









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Franz Trischberger





          2014-01-26 14:47:48 UTC
        

In order to install gnome-3.10 for a friend I cloned the gentoo gnome overlay and used its config files to get a quick start - I simply created symbolic links. Unforitnately eix ignores those files and still tells me e.g. net-libs/webkit-gtk-2.2.2 was masked, though it is not.




Comment 1


Martin Väth





          2014-01-26 20:21:13 UTC
        

So far, eix never had problems to read symlinks in /etc/portage.
I suppose that something else is wrong with your setup (wrong filename, wrong directory name, ...)




Comment 2


Franz Trischberger





          2014-01-26 22:08:46 UTC
        

ls -l /etc/portage/package.unmask/gnome3
lrwxrwxrwx 1 root root 60 25. Jan 11:02 /etc/portage/package.unmask/gnome3 -> /root/src/gnome/status/portage-configs/package.unmask.gnome3

grep webkit-gtk /etc/portage/package.unmask/gnome3
>=net-libs/webkit-gtk-2

eix -eI webkit-gtk
[D] net-libs/webkit-gtk
     Available versions:  
     (2)    1.8.3-r200 1.8.3-r201
     (3)    1.8.3-r300 (~)1.10.2-r300 2.0.4(3/25) [M](~)2.2.2(3/29)
       {aqua coverage debug doc +egl +geoloc gles2 +gstreamer +introspection +jit libsecret +opengl spell test +webgl webkit2}
     Installed versions:  2.2.2(3)(17:34:41 26.01.2014)(egl geoloc gstreamer introspection jit opengl spell webgl -aqua -coverage -debug -gles2 -libsecret -test)

I think my config setup/naming is valid.
webkit-gtk is just an example, any package that is unmasked in a symlinked file is not recognized by eix. Also package.accept_keywords is affected the same way.




Comment 3


Franz Trischberger





          2014-01-27 07:53:40 UTC
        

I now moved the cloned overlay from /root/src to /var/repositories (where all my repos live) and now it seems to work.
The remaining question is, why eix run as root did not "see" those files. A user is not able to see them - which I was fully aware of. It's only me who administrates that computer, logged in as root via ssh. So I expexted this setup to work.




Comment 4


Martin Väth





          2014-01-27 08:56:17 UTC
        

(In reply to Franz Fellner from comment #3)
> A user is not able to see them

This would have been my next question after your example:
By default, eix drops permissions to portage:portage (250:250) as soon as possible.

So I suppose the issue is solved: You either have to change permissions or to configure eix (EIX_USER,EIX_GROUP,EIX_UID,EIX_GID) to keep/set corresponding permissions.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

