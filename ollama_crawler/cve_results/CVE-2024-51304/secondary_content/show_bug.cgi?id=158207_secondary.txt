Title: 158207 – app-emulation/wine 0.9.27 winecfg crash
URL: https://bugs.gentoo.org/show_bug.cgi?id=158207

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 158207
app-emulation/wine 0.9.27 winecfg crash
Last modified: 2011-05-02 16:47:54 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 158207 
      - app-emulation/wine 0.9.27 winecfg crash


Summary:
app-emulation/wine 0.9.27 winecfg crash
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Wine Maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-12-15 04:51 UTC by Dario Ernst





      Modified:
    
2011-05-02 16:47 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



cuse
traviesomono









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




log of the winecfg crash

              (winelog,20.28 KB,
                text/plain)

            
2006-12-15 04:51 UTC,

            Dario Ernst




Details





log of the winecfg crash

              (winelog,20.28 KB,
                text/plain)

            
2006-12-15 04:52 UTC,

            Dario Ernst




Details





wine 0.9.27 & aoesetup.exe

              (temp.txt,5.77 KB,
                text/plain)

            
2006-12-18 08:00 UTC,

            Artur Wosztyl




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Dario Ernst





          2006-12-15 04:51:16 UTC
        

when starting winecfg with a newly compiled wine and no ~/.wine/ present i get the attached error.

emerge --info: 
Portage 2.1.2_rc3-r5 (default-linux/x86/2006.0, gcc-3.4.6, glibc-2.5-r0, 2.6.17-gentoo-r5 i686)
=================================================================
System uname: 2.6.17-gentoo-r5 i686 AMD Athlon(TM) XP 2400+
Gentoo Base System version 1.12.6
Last Sync: Thu, 14 Dec 2006 22:30:01 +0000
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
dev-java/java-config: 1.3.7, 2.0.30
dev-lang/python:     2.3.6, 2.4.4
dev-python/pycrypto: 2.0.1-r5
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.60
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.17
sys-devel/gcc-config: 1.3.14
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.17-r1
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=athlon-xp -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c"
CXXFLAGS="-O2 -march=athlon-xp -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="ftp://194.117.143.72/mirrors/gentoo http://194.117.143.69 ftp://ftp.linux.ee/pub/gentoo/distfiles/ http://ftp.linux.ee/pub/gentoo/distfiles/"
LANG="en_US.UTF-8"
LC_ALL="en_US.UTF-8"
LINGUAS="de en"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles -
-exclude=/local --exclude=/packages"                                                                                                                                     PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/overlays"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="3dnow X a52 aac aalib acpi alsa ao apache2 apm audiofile avi bash-completion berkdb bitmap-fonts bzip2 bzlib canna cdda cdparanoia cjk cli corba cracklib crypt cups
 curl dlloader dmx dri dvd dvdread ecc eds elibc_glibc emacs emboss encode esd fame ffmpeg font-server foomaticdb fortran freetype freewnn gcj gdbm gif gnome gnustep gpm gstreamer gtk gtk2 icecast iconv idea imagemagick imlib input_devices_keyboard input_devices_mouse ipv6 isdnlog jpeg jpeg2k kernel_linux lcms libcaca libg++ libwww linguas_de linguas_en live lzo mad matroska mikmod mmx mmx2 mmxext motif mozcalendar mozdevelop mozilla mozsvg mp3 mpeg musepack ncurses nls nptl nptlonly nvidia objc offensive ogg oggvorbis opengl oss pam pcre perl png portaudio pppd python qt3 qt4 quicktime readline real reflection screen sdl session skey sndfile snmp spell spl sqlite sse ssl stats tcltk tcpd tetex theora threads truetype truetype-fonts type1-fonts udev unicode usb userland_GNU video_cards_matrox video_cards_mga video_cards_nv vorbis win32codecs wxwindows x86 xinerama xml xml2 xorg xosd xprint xv xvid zlib"                                                                                                  Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LDFLAGS, MAKEOPTS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Dario Ernst





          2006-12-15 04:51:53 UTC
        

Created attachment 104086 [details]
log of the winecfg crash




Comment 2


Dario Ernst





          2006-12-15 04:52:24 UTC
        

Created attachment 104087 [details]
log of the winecfg crash




Comment 3


Artur Wosztyl





          2006-12-18 07:56:04 UTC
        

Ok, I have similar error, when running e.g. aoe2's install. My emerge --info:
 Portage 2.1.2_rc3-r6 (default-linux/x86/2006.1/desktop, gcc-4.1.1, glibc-2.5-r0, 2.6.19-gentoo i686)
=================================================================
System uname: 2.6.19-gentoo i686 Celeron (Mendocino)
Gentoo Base System version 1.12.7
Last Sync: Mon, 18 Dec 2006 14:30:03 +0000
dev-java/java-config: 1.3.7, 2.0.30
dev-lang/python:     2.3.6, 2.4.4
dev-python/pycrypto: 2.0.1-r5
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.61
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.17
sys-devel/gcc-config: 1.3.14
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.17-r2
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=pentium2 -pipe -O2"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/lib/mozilla/defaults/pref /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/terminfo"
CXXFLAGS="-march=pentium2 -pipe -O2"
DISTDIR="/usr/portage.distfiles"
FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://src.gentoo.pl http://gentoo.zie.pg.gda.pl ftp://mirror.icis.pcz.pl/gentoo http://gentoo.prz.edu.pl http://gentoo.po.opole.pl"
LC_ALL="pl_PL.UTF-8"
LINGUAS="pl"
MAKEOPTS="-j2"
PKGDIR="/usr/portage.packages"
PORTAGE_RSYNC_EXTRA_OPTS="--exclude-from=/etc/portage/banned_branches"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X alsa avahi berkdb bitmap-fonts bzip2 cairo cdr cli cracklib crypt cups curl dbus dlloader dri eds elibc_glibc emboss encode esd fam firefox flac fortran gdbm gif gmp gnome gpm gstreamer gtk gtk2 gtkhtml hal iconv idn input_devices_keyboard input_devices_mouse input_devices_ps2mouse ipv6 isdnlog jpeg kernel_linux lcms ldap libg++ linguas_pl mad mikmod mmx mng mp3 mpeg mysql ncurses nls nptl nptlonly ogg opengl oss pam pcre perl png ppds pppd python qt3 qt4 quicktime readline reflection sdl session spell spl ssl tcpd tiff truetype truetype-fonts type1-fonts udev unicode usb userland_GNU video_cards_fbdev video_cards_i810 vorbis win32codecs xine xml xorg xv zlib"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LDFLAGS





Comment 4


Artur Wosztyl





          2006-12-18 08:00:13 UTC
        

Created attachment 104284 [details]
wine 0.9.27 & aoesetup.exe




Comment 5


Christian Schoenebeck





          2007-11-12 14:44:07 UTC
        

I encountered the same problem and as far as I can see it, it's caused by a NPTL glibc bug (see bug #194076). With glibc 2.5.x winecfg does not crash a) when glibc was either not compiled with NPTL or b) if glibc was compiled with NTPL but not with nptlonly and calling winecfg this way:

    LD_ASSUME_KERNEL="2.4.1" winecfg

By setting that variable, the linuxthreads version of glibc will be used instead of the NPTL one (if possible). Note that with glibc 2.6.x you cannot do this anymore!

I would appreciate if you try the small C test case I uploaded to bug #194076 ,  it's just a very small C program which checks whether you have that mentioned glibc problem. You'll find compile instructions and details in that bug report.




Comment 6


Pawel Madej aka Nysander





          2008-11-24 23:53:36 UTC
        

no such version in the tree please close this bug




Comment 7


Bartosz Szreder





          2011-05-02 12:58:47 UTC
        

This bug should be closed by now.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

