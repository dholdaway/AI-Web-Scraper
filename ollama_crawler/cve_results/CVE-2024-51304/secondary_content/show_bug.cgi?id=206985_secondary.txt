Title: 206985 – x11-terms/eterm-0.9.4 contains executable stacks
URL: https://bugs.gentoo.org/show_bug.cgi?id=206985

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 206985
x11-terms/eterm-0.9.4 contains executable stacks
Last modified: 2008-01-23 10:13:54 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 206985 
      - x11-terms/eterm-0.9.4 contains executable stacks


Summary:
x11-terms/eterm-0.9.4 contains executable stacks
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Hardened

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

SpanKY








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-01-22 06:43 UTC by Nicky





      Modified:
    
2008-01-23 10:13 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge log while emerging eterm

              (log.txt,72.42 KB,
                text/plain)

            
2008-01-22 06:44 UTC,

            Nicky




Details





the file that contains executable stacks

              (libEterm-0.9.4.so,575.61 KB,
                application/octet-stream)

            
2008-01-22 06:46 UTC,

            Nicky




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Nicky





          2008-01-22 06:43:48 UTC
        

the QA notice from emerging eterm:

 * QA Notice: The following files contain executable stacks
 *  Files with executable stacks will not work properly (or at all!)
 *  on some architectures/operating systems.  A bug should be filed
 *  at http://bugs.gentoo.org/ to make sure the file is fixed.
 *  For more information, see http://hardened.gentoo.org/gnu-stack.xml
 *  Please include this file in your report:
 *  /var/tmp/portage/x11-terms/eterm-0.9.4/temp/scanelf-execstack.log
 * RWX --- --- usr/lib/libEterm-0.9.4.so
 * GNU info directory index is up-to-date.

However, the file /var/tmp/portage/x11-terms/eterm-0.9.4/temp/scanelf-execstack.log was deleted by portage after the merge.

Attached is the emerge log and the file /usr/lib/libEterm-0.9.4.so

Reproducible: Always

Steps to Reproduce:
1.emerge eterm
2.
3.




Portage 2.1.3.19 (hardened/x86/2.6, gcc-3.4.6, glibc-2.6.1-r0, 2.6.23-hardened-r4 i686)
=================================================================
System uname: 2.6.23-hardened-r4 i686 Pentium III (Coppermine)
Timestamp of tree: Wed, 16 Jan 2008 20:30:01 +0000
ccache version 2.4 [enabled]
app-shells/bash:     3.2_p17-r1
dev-lang/python:     2.4.4-r6
dev-python/pycrypto: 2.0.1-r6
dev-util/ccache:     2.4-r7
sys-apps/baselayout: 1.12.10-r5
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.61-r1
sys-devel/automake:  1.4_p6, 1.6.3, 1.7.9-r1, 1.9.6-r2, 1.10
sys-devel/binutils:  2.18-r1
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.24
virtual/os-headers:  2.6.23-r3
ACCEPT_KEYWORDS="x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-mtune=i686 -O2 -pipe -fforce-addr -march=pentium3 -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc"
CONFIG_PROTECT_MASK="/etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/revdep-rebuild /etc/terminfo /etc/udev/rules.d"
CXXFLAGS="-mtune=i686 -O2 -pipe -fforce-addr -march=pentium3 -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="ccache distlocks metadata-transfer parallel-fetch sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://adelie.polymtl.ca/ http://ftp.jaist.ac.jp/pub/Linux/Gentoo/ ftp://ftp.ecc.u-tokyo.ac.jp/GENTOO"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X bash-completion berkdb cracklib crypt dri hal hardened midi mmx nptl nptlonly pam pic readline sdl sse ssl tcpd unicode urandom x86 xorg zlib" ALSA_CARDS="intel8x0" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="keyboard mouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" USERLAND="GNU" VIDEO_CARDS="i810"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY




Comment 1


Nicky





          2008-01-22 06:44:22 UTC
        

Created attachment 141554 [details]
emerge log while emerging eterm




Comment 2


Nicky





          2008-01-22 06:46:34 UTC
        

Created attachment 141556 [details]
the file that contains executable stacks




Comment 3


solar (RETIRED)






          2008-01-22 16:32:04 UTC
        

unable to confirm error due to linking failures with imlib.. 

Anyway this should be assigned to the maintainer before being assigned to hardened.






Comment 4


SpanKY






          2008-01-22 22:52:16 UTC
        

try building eterm with USE="-mmx -sse2"




Comment 5


Nicky





          2008-01-23 10:13:54 UTC
        

I don't have an sse2 capable processor however, adding -mmx USE flag for eterm-0.9.4 in /etc/portage/package.use resolved the issue for me. I think the USE flags in question should be included in the ebuild to remain -mmx -sse2.. if that can be done in the hardened profile. Guess we can close this bug now, thank you for you time.

Regards,
nix









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

