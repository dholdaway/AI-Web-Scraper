Title: 124023 – Error updating when installing from stage3
URL: https://bugs.gentoo.org/show_bug.cgi?id=124023

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 124023
Error updating when installing from stage3
Last modified: 2006-02-25 00:06:20 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 124023 
      - Error updating when installing from stage3


Summary:
Error updating when installing from stage3
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Core system

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:









Duplicates (1):
    

124024

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2006-02-24 19:32 UTC by David Carlos Manuelda





      Modified:
    
2006-02-25 00:06 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


David Carlos Manuelda





          2006-02-24 19:32:16 UTC
        

If you install gentoo from stage3, you edit your make.conf for setting USE variable (and much other things more).

Once you set your USE variable, if you set "... nls ..." and you try to emerge --update --deep world (after emerge --sync), some programs such as "nano" can't compile because of the UTF8 support is not fully installed (not in ncurses for example).

This issue can be fixed by running emerge --update --deep --newuse world but: Isn't this step a bit extrange, because you didn't edit your USE variables, just set new ones from the beginning? (if not, don't issue like a bug, is only an idea) :)


P.D. I recommend you to redo support for stage1 for gentoo ;) (Using just 2004.1 handbook sometimes leads to errors)

Thanks a lot :)

emerge --info:
Portage 2.0.54 (default-linux/amd64/2005.1, gcc-3.4.4, glibc-2.3.5-r2, 2.6.15-gentoo-r5 x86_64)
=================================================================
System uname: 2.6.15-gentoo-r5 x86_64 AMD Athlon(tm) 64 X2 Dual Core Processor 3800+
Gentoo Base System version 1.6.14
ccache version 2.3 [enabled]
dev-lang/python:     2.3.5-r2, 2.4.2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -pipe -march=k8"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -pipe -march=k8"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://linuv.uv.es/mirror/gentoo/"
LANG="es_ES.UTF8"
LC_ALL="es_ES.UTF8"
LINGUAS="es"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="amd64 X a53 aac acpi alsa apm audiofile avi berkdb bitmap-fonts bzip2 cdr crypt cups dts dvd dvdr dxr3 eds emboss encode exif expat fam ffmpeg flac foomaticdb fortran gif glut gpm gstreamer gtk gtk2 hal idn imlib ipv6 jpeg kde lcms lm_sensors lzw lzw-tiff mad mng mp3 mpeg musicbrainz mysql ncurses nls nvidia ogg opengl pam pcre pdf pdflib perl png python qt quicktime readline sdl slang spell ssl tcpd tiff truetype truetype-fonts type1-fonts udev unicode usb userlocales vcd vorbis xml2 xpm xv xvmc ysb zlib linguas_es userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LDFLAGS, PORTDIR_OVERLAY




Comment 1


Jakub Moc (RETIRED)






          2006-02-24 23:59:20 UTC
        

*** Bug 124024 has been marked as a duplicate of this bug. ***




Comment 2


Jakub Moc (RETIRED)






          2006-02-25 00:06:20 UTC
        

(In reply to comment #0)
> This issue can be fixed by running emerge --update --deep --newuse world but:
> Isn't this step a bit extrange, because you didn't edit your USE variables,
> just set new ones from the beginning? 

No, it isn't strange at all, since you've *changed* the use flags from default values used for stage3 compilation (those you can see with empty USE in make.conf). 'emerge --newuse -uD world' is a documented solution for such cases.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

