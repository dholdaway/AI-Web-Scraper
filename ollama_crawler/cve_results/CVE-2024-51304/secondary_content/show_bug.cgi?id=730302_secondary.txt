Title: 730302 – dev-util/shadowman removes clang shadows
URL: https://bugs.gentoo.org/show_bug.cgi?id=730302

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 730302
dev-util/shadowman removes clang shadows
Last modified: 2020-07-15 14:26:16 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 730302 
      - dev-util/shadowman removes clang shadows


Summary:
dev-util/shadowman removes clang shadows
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Michał Górny








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2020-07-01 01:06 UTC by Jannik Glückert





      Modified:
    
2020-07-15 14:26 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Jannik Glückert





          2020-07-01 01:06:14 UTC
        

When running `eselect compiler-shadow update all` after installing clang, it removes / doesn't find the various clang tools

Note that when installing clang, the shadows are correctly registered. Only when you try to update the shadows afterwards it no longer finds clang.

This occurs with clang-10 (may have occured with earlier versions aswell) on amd64 and arm64, and probably all other arches




Comment 1


Michał Górny









          2020-07-04 15:01:11 UTC
        

It creates clang symlinks for me just fine.  Could you verify that your PATH correctly includes /usr/lib/llvm/*/bin?




Comment 2


Jannik Glückert





          2020-07-05 12:40:56 UTC
        

yes, /usr/lib/llvm/10/bin was in PATH. I also did a "cd /usr/bin && touch x86-64-pc-linux-gnu-clang" , but it didn't pick that one up either.

I'll see if I can reproduce this from a fresh tarball, but I won't be home for another 7 days




Comment 3


Jannik Glückert





          2020-07-15 14:26:16 UTC
        

I can no longer reproduce this on both machines I tested, and not in a fresh tarball either. Closing with an increment in fear of ghosts









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

