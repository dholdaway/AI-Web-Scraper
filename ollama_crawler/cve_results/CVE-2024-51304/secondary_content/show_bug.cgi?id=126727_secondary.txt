Title: 126727 – media-video/kmplayer-0.9.1a fails with final link failed: Bad value
URL: https://bugs.gentoo.org/show_bug.cgi?id=126727

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 126727
media-video/kmplayer-0.9.1a fails with final link failed: Bad value
Last modified: 2006-04-17 12:03:28 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 126727 
      - media-video/kmplayer-0.9.1a fails with final link failed: Bad value


Summary:
media-video/kmplayer-0.9.1a fails with final link failed: Bad value
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

AMD64 Project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-03-18 14:44 UTC by George Prowse





      Modified:
    
2006-04-17 12:03 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



kde









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


George Prowse





          2006-03-18 14:44:25 UTC
        

kmplayer seems to be having problems compiling, i have tried recompiling with -fPIC but i get the same result: /usr/lib/gcc/x86_64-pc-linux-gnu/3.4.5/../../../../x86_64-pc-linux-gnu/bin/ld: .libs/kmplayertvsource.o: relocation R_X86_64_PC32 against `KMPlayerApp::view() const' can not be used when making a shared object; recompile with -fPIC
/usr/lib/gcc/x86_64-pc-linux-gnu/3.4.5/../../../../x86_64-pc-linux-gnu/bin/ld: final link failed: Bad value
collect2: ld returned 1 exit status
make[2]: *** [libkdeinit_kmplayer.la] Error 1
make[2]: *** Waiting for unfinished jobs....
make[2]: Leaving directory `/var/tmp/portage/kmplayer-0.9.1a/work/kmplayer-0.9.1a/src'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/kmplayer-0.9.1a/work/kmplayer-0.9.1a'
make: *** [all] Error 2

!!! ERROR: media-video/kmplayer-0.9.1a failed.
Call stack:
  ebuild.sh, line 1557:   Called dyn_compile
  ebuild.sh, line 966:   Called src_compile
  kmplayer-0.9.1a.ebuild, line 42:   Called kde_src_compile
  kde.eclass, line 111:   Called kde_src_compile 'all'
  kde.eclass, line 228:   Called kde_src_compile 'myconf' 'configure' 'make'

!!! died running emake, kde_src_compile:make
!!! If you need support, post the topmost build error, and the call stack if relevant.

I am having *serious* problems with anything linked to xine-libs and i think this may be a problem with it also. Emerge info as follows: 

achilles george # emerge --info
Portage 2.1_pre6-r3 (default-linux/amd64/2006.0, gcc-3.4.5, glibc-2.4-r0, 2.6.15-gentoo-r7 x86_64)
=================================================================
System uname: 2.6.15-gentoo-r7 x86_64 AMD Athlon(tm) 64 Processor 3700+
Gentoo Base System version 1.12.0_pre16
dev-lang/python:     2.4.2-r1
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1-r2
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r3
ACCEPT_KEYWORDS="amd64 ~amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=k8 -O2 -pipe -ggdb"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/revdep-rebuild /etc/terminfo /etc/env.d"
CXXFLAGS="-march=k8 -O2 -pipe -ggdb"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks fixpackages metadata-transfer sandbox sfperms splitdebug strict"
GENTOO_MIRRORS="ftp://mirrors.blueyonder.co.uk/mirrors/gentoo ftp://ftp.mirrorservice.org/sites/www.ibiblio.org/gentoo/"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.uk.gentoo.org/gentoo-portage"
USE="amd64 X alsa apache2 avi berkdb bitmap-fonts cdr cjk cli crypt ctype cups dba debug dri dvd dvdr eds emboss encode expat fastbuild foomaticdb force-cgi-redirect fortran ftp gd gif gpm imagemagick ipv6 java jpeg kde lzw lzw-tiff memlimit mp3 mpeg mplayer ncurses nls nptl nptlonly nvidia ogg opengl pam pcre pdflib perl png posix python qt quicktime readline samba sdl session simplexml soap sockets spell spl ssl tcpd tiff tokenizer truetype truetype-fonts type1-fonts unicode usb userlocales vorbis xine xml xpm xsl xv xvid zlib elibc_glibc kernel_linux userland_GNU video_cards_nvidia"
Unset:  ASFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTDIR_OVERLAY




Comment 1


Diego Elio Pettenò (RETIRED)






          2006-03-19 08:43:54 UTC
        

Did you ever use -fvisibility* flags?
Can you provide a full build log for kmplayer?





Comment 2


George Prowse





          2006-03-28 14:47:27 UTC
        

i'm sorry, i have changed to gnome after a glibc problem.




Comment 3


Carsten Lohrke (RETIRED)






          2006-04-17 12:03:28 UTC
        

Well...









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

