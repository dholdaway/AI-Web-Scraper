Title: 180451 – app-emulation/dosemu: stack smashing detected after upgrade to glibc-2.5
URL: https://bugs.gentoo.org/show_bug.cgi?id=180451

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 180451
app-emulation/dosemu: stack smashing detected after upgrade to glibc-2.5
Last modified: 2013-08-05 09:58:23 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 180451 
      - app-emulation/dosemu: stack smashing detected after upgrade to glibc-2.5


Summary:
app-emulation/dosemu: stack smashing detected after upgrade to glibc-2.5
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

The Gentoo Linux Hardened Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-05-31 14:05 UTC by Benno Schulenberg





      Modified:
    
2013-08-05 09:58 UTC
      (History)
    




          CC List:
        

5 
          users
          
            (show)
          



bugs.gentoo.09-17
hardened
hramrach
slyfox
zorry









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Benno Schulenberg





          2007-05-31 14:05:33 UTC
        

Upgrading from a hardened glibc-2.3.6-r5 to a hardened glibc-2.5-r2 (and after a reboot), a bug in dosemu was triggered.  A hardened dosemu-1.3.2 failed with:

*** stack smashing detected ***: dosemu.bin - terminated
dosemu.bin: stack smashing attack in function setup_default_keytable - terminated
Report to http://bugs.gentoo.org/
Killed

Upgrading to dosemu-1.4.0, it still failed, now with:

*** stack smashing detected ***: dosemu.bin - terminated
dosemu.bin: stack smashing attack in function X11_DetectLayout - terminated
Report to http://bugs.gentoo.org/
Killed

Compiling dosemu-1.4.0 with the vanilla compiler gets it going again.


Emerge --info:
Portage 2.1.2.7 (hardened/x86/2.6, gcc-3.4.6-hardenednopie, glibc-2.5-r3, 2.6.20 i686)
=================================================================
System uname: 2.6.20 i686 AMD Athlon(tm) XP 2800+
Gentoo Base System release 1.12.9
Timestamp of tree: Tue, 29 May 2007 11:50:01 +0000
dev-lang/python:     2.4.4-r4
dev-python/pycrypto: 2.0.1-r5
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.60
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.16
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.17-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=athlon-xp -O2 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/gconf /etc/init.d /etc/revdep-rebuild /etc/terminfo"
CXXFLAGS="-march=athlon-xp -O2 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="distlocks metadata-transfer notitles sandbox sfperms strict test userfetch userpriv usersandbox"
LANG="en_GB.utf8"
LINGUAS="en en_GB en_US eo es es_ES nl nl_NL"
MAKEOPTS="-j1"
PKGDIR="/usr/portage/packages"
PORTAGE_COMPRESS="gzip"
PORTAGE_RSYNC_EXTRA_OPTS="--progress --human-readable                           --exclude-from=/etc/portage/rsync_excludes"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
USE="3dnow X aac alsa apm arts asf audiofile avi bash-completion berkdb bzip2 cdparanoia cdr cracklib crypt dbus dio dri encode exif fam fbcon ffmpeg flac gif glx gphoto2 gpm gtk gtk2 gtkhtml hardened imagemagick imap imlib jabber jpeg jpeg2k kde kdeenablefinal lcms lm_sensors mad mbox mbrola memlimit midi mikmod mime mmap mmx mng modplug mp3 mpeg musepack ncurses nls nptl nsplugin ogg opengl pdf pic png python qt3 quicktime readline recode sasl scanner sdl shorten sndfile sox speex spell sqlite sse ssl svg test theora threads tidy tiff timidity truetype unicode urandom usb vcd vorbis win32codecs wmf x86 xface xine xml xorg xpm xsl xv xvid zlib" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" ELIBC="glibc" INPUT_DEVICES="keyboard mouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en en_GB en_US eo es es_ES nl nl_NL" USERLAND="GNU" VIDEO_CARDS="via vesa nv fbdev"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LC_ALL, LDFLAGS, PORTAGE_COMPRESS_FLAGS




Comment 1


Hanno Böck






          2007-06-29 21:24:32 UTC
        

hardened-team, please comment on that




Comment 2


Andre Burgoyne





          2008-07-04 06:52:46 UTC
        

I get the same error.




Comment 3


Magnus Granberg






          2009-03-30 01:08:05 UTC
        

Do you get it when starting it or when using it?






Comment 4


Michal Suchanek





          2009-03-30 18:10:15 UTC
        

looks like a crash on keyboard layout setup so that would be on configuration before the dos is started




Comment 5


Pacho Ramos






          2012-10-06 12:17:54 UTC
        

Still the same with 1.4.1_pre20091009?




Comment 6


Sergei Trofimovich (RETIRED)






          2013-08-05 09:58:23 UTC
        

Closing as WORKSFORME.

Please repoen if it's still the case on
    app-emulation/dosemu-1.4.1_pre20130107-r2
and add some steps to reproduce.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

