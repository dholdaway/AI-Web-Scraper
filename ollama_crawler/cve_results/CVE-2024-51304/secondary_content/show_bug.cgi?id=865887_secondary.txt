Title: 865887 – dev-java/browserlauncher2-1.3-r2 does not compile (unmappable character)
URL: https://bugs.gentoo.org/show_bug.cgi?id=865887

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 865887
dev-java/browserlauncher2-1.3-r2 does not compile (unmappable character)
Last modified: 2022-08-24 18:13:52 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 865887 
      - dev-java/browserlauncher2-1.3-r2 does not compile (unmappable character)


Summary:
dev-java/browserlauncher2-1.3-r2 does not compile (unmappable character)
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Java team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2022-08-20 15:58 UTC by Frank Noack





      Modified:
    
2022-08-24 18:13 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build.log

              (build.log,8.59 KB,
                text/plain)

            
2022-08-21 12:44 UTC,

            Frank Noack




Details





emerge.info

              (emerge.info,20.01 KB,
                text/plain)

            
2022-08-21 12:46 UTC,

            Frank Noack




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Frank Noack





          2022-08-20 15:58:27 UTC
        

Emerge dev-java/browserlauncher2-1.3-r2 crashes with different java versions (icedtea-bin-8, openjdk-17, openjdk-bin-17). 

Reproducible: Always

Steps to Reproduce:
1. emerge -1 browserlauncher2

Actual Results:  
* BrowserLauncher2-all-1_3.jar BLAKE2B SHA512 size ;-) ...                                                                                                       [ ok ]
 * Using: openjdk-bin-17
>>> Unpacking source...
>>> Unpacking BrowserLauncher2-all-1_3.jar to /var/tmp/portage/dev-java/browserlauncher2-1.3-r2/work
>>> Source unpacked in /var/tmp/portage/dev-java/browserlauncher2-1.3-r2/work
>>> Preparing source in /var/tmp/portage/dev-java/browserlauncher2-1.3-r2/work ...
>>> Unpacking BrowserLauncher2-all-1_3.jar to /var/tmp/portage/dev-java/browserlauncher2-1.3-r2/work
removed './net/sf/wraplog/SystemLogger.class'
removed './net/sf/wraplog/NoneLogger.class'
removed './net/sf/wraplog/LoggingException.class'
removed './net/sf/wraplog/Logger.class'
removed './net/sf/wraplog/Level.class'
removed './net/sf/wraplog/AbstractLogger.class'
removed './edu/stanford/ejalbert/BrowserLauncherRunner.class'
removed './edu/stanford/ejalbert/BrowserLauncher.class'
removed './edu/stanford/ejalbert/testing/TestAppLogger.class'
removed './edu/stanford/ejalbert/testing/BrowserLauncherTestApp.class'
removed './edu/stanford/ejalbert/testing/BrowserLauncherTestApp$TestAppErrorHandler.class'
removed './edu/stanford/ejalbert/testing/BrowserLauncherTestApp$4.class'
removed './edu/stanford/ejalbert/testing/BrowserLauncherTestApp$3.class'
removed './edu/stanford/ejalbert/testing/BrowserLauncherTestApp$2.class'
removed './edu/stanford/ejalbert/testing/BrowserLauncherTestApp$1.class'
removed './edu/stanford/ejalbert/launching/IBrowserLaunching.class'
removed './edu/stanford/ejalbert/launching/BrowserLaunchingFactory.class'
removed './edu/stanford/ejalbert/launching/BrowserDescription.class'
removed './edu/stanford/ejalbert/launching/windows/WindowsBrowserLaunching.class'
removed './edu/stanford/ejalbert/launching/windows/WindowsBrowserLaunching$ExeFileNameFilter.class'
removed './edu/stanford/ejalbert/launching/windows/WindowsBrowserLaunching$DirFileFilter.class'
removed './edu/stanford/ejalbert/launching/windows/WindowsBrowserLaunching$0.class'
removed './edu/stanford/ejalbert/launching/windows/WindowsBrowser.class'
removed './edu/stanford/ejalbert/launching/utils/LaunchingUtils.class'
removed './edu/stanford/ejalbert/launching/misc/UnixNetscapeBrowserLaunching.class'
removed './edu/stanford/ejalbert/launching/misc/UnixBrowser.class'
removed './edu/stanford/ejalbert/launching/misc/SunOSBrowserLaunching.class'
removed './edu/stanford/ejalbert/launching/misc/StandardUnixBrowser.class'
removed './edu/stanford/ejalbert/launching/macos/MacOsBrowserLaunching.class'
removed './edu/stanford/ejalbert/launching/macos/MacOs3_1BrowserLaunching.class'
removed './edu/stanford/ejalbert/launching/macos/MacOs3_0BrowserLaunching.class'
removed './edu/stanford/ejalbert/launching/macos/MacOs2_1BrowserLaunching.class'
removed './edu/stanford/ejalbert/launching/macos/MacOs2_0BrowserLaunching.class'
removed './edu/stanford/ejalbert/exceptionhandler/BrowserLauncherErrorHandler.class'
removed './edu/stanford/ejalbert/exceptionhandler/BrowserLauncherDefaultErrorHandler.class'
removed './edu/stanford/ejalbert/exception/UnsupportedOperatingSystemException.class'
removed './edu/stanford/ejalbert/exception/BrowserLaunchingInitializingException.class'
removed './edu/stanford/ejalbert/exception/BrowserLaunchingExecutionException.class'
removed './edu/stanford/ejalbert/browserprefui/BrowserPrefDialog.class'
removed './edu/stanford/ejalbert/browserprefui/BrowserPrefDialog$2.class'
removed './edu/stanford/ejalbert/browserprefui/BrowserPrefDialog$1.class'
removed './edu/stanford/ejalbert/browserprefui/BrowserPrefAction.class'
removed './edu/stanford/ejalbert/browserprefui/BrowserPrefAction$1.class'
removed './at/jta/Regor.class'
removed './at/jta/RegistryErrorException.class'
removed './at/jta/NotSupportedOSException.class'
>>> Source prepared.
>>> Configuring source in /var/tmp/portage/dev-java/browserlauncher2-1.3-r2/work ...
Rewriting attributes
Rewriting ./build.xml
>>> Source configured.
>>> Compiling source in /var/tmp/portage/dev-java/browserlauncher2-1.3-r2/work ...
 * Could not find configuration for ecj-3.1, skipping
 * Perhaps it is not installed?
 * Could not find configuration for jikes, skipping
 * Perhaps it is not installed?
 * Using javac for compilation
 * Disabling all optional ANT_TASKS
Warning: Unable to determine tools.jar location.
  If build fails because sun.* classes could not be found,
  Make sure you are using a JDK, not JRE as your user/system VM.
  and that you have java-config version 2.0.30 or above installed.
Buildfile: /var/tmp/portage/dev-java/browserlauncher2-1.3-r2/work/build.xml

init:
    [mkdir] Created dir: /var/tmp/portage/dev-java/browserlauncher2-1.3-r2/work/lib
    [mkdir] Created dir: /var/tmp/portage/dev-java/browserlauncher2-1.3-r2/work/deployment

build:
    [javac] Compiling 35 source files to /var/tmp/portage/dev-java/browserlauncher2-1.3-r2/work/classes
    [javac] /var/tmp/portage/dev-java/browserlauncher2-1.3-r2/work/source/at/jta/Regor.java:355: error: unmappable character (0xC3) for encoding US-ASCII
    [javac]    * Will man den defaulteintrag ??ndern, so muss man valueName "" ??bergeben
    [javac]                                  ^
    [javac] /var/tmp/portage/dev-java/browserlauncher2-1.3-r2/work/source/at/jta/Regor.java:355: error: unmappable character (0xA4) for encoding US-ASCII
    [javac]    * Will man den defaulteintrag ??ndern, so muss man valueName "" ??bergeben
    [javac]                                   ^
    [javac] /var/tmp/portage/dev-java/browserlauncher2-1.3-r2/work/source/at/jta/Regor.java:355: error: unmappable character (0xC3) for encoding US-ASCII
    [javac]    * Will man den defaulteintrag ??ndern, so muss man valueName "" ??bergeben
    [javac]                                                                    ^
    [javac] /var/tmp/portage/dev-java/browserlauncher2-1.3-r2/work/source/at/jta/Regor.java:355: error: unmappable character (0xBC) for encoding US-ASCII
    [javac]    * Will man den defaulteintrag ??ndern, so muss man valueName "" ??bergeben
    [javac]                                                                     ^
    [javac] /var/tmp/portage/dev-java/browserlauncher2-1.3-r2/work/source/at/jta/Regor.java:482: error: unmappable character (0xC2) for encoding US-ASCII
    [javac]    * doesnt have a high access level (so maybe creating or deleting a key/value wouldn??t be successful)
    [javac]                                                                                       ^
    [javac] /var/tmp/portage/dev-java/browserlauncher2-1.3-r2/work/source/at/jta/Regor.java:482: error: unmappable character (0xB4) for encoding US-ASCII
    [javac]    * doesnt have a high access level (so maybe creating or deleting a key/value wouldn??t be successful)
    [javac]                                                                                        ^
    [javac] 6 errors

BUILD FAILED
/var/tmp/portage/dev-java/browserlauncher2-1.3-r2/work/build.xml:41: Compile failed; see the compiler error output for details.

Total time: 0 seconds
 * ERROR: dev-java/browserlauncher2-1.3-r2::gentoo failed (compile phase):
 *   eant failed
 * 
 * Call stack:
 *     ebuild.sh, line  127:  Called src_compile
 *   environment, line 3029:  Called java-pkg-2_src_compile
 *   environment, line 1412:  Called eant 'build' '-f' 'build.xml'
 *   environment, line  578:  Called die
 * The specific snippet of code:
 *       ant ${antflags} "${@}" || die "eant failed"
 * 
 * If you need support, post the output of `emerge --info '=dev-java/browserlauncher2-1.3-r2::gentoo'`,
 * the complete build log and the output of `emerge -pqv '=dev-java/browserlauncher2-1.3-r2::gentoo'`.
!!! When you file a bug report, please include the following information:
GENTOO_VM=openjdk-bin-17  CLASSPATH="" JAVA_HOME="/opt/openjdk-bin-17.0.3_p7"
JAVACFLAGS="-source 1.8 -target 1.8" COMPILER="javac"
and of course, the output of emerge --info =browserlauncher2-1.3
 * The complete build log is located at '/var/tmp/portage/dev-java/browserlauncher2-1.3-r2/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/dev-java/browserlauncher2-1.3-r2/temp/environment'.
 * Working directory: '/var/tmp/portage/dev-java/browserlauncher2-1.3-r2/work'
 * S: '/var/tmp/portage/dev-java/browserlauncher2-1.3-r2/work'




Comment 1


Volkmar W. Pogatzki





          2022-08-21 07:58:42 UTC
        

Please add the output of emerge --info =browserlauncher2-1.3
and the complete build log.




Comment 2


Frank Noack





          2022-08-21 12:44:08 UTC
        

Created attachment 800341 [details]
build.log

complete build.log




Comment 3


Frank Noack





          2022-08-21 12:46:09 UTC
        

Created attachment 800343 [details]
emerge.info

emerge --info =browserlauncher2-1.3




Comment 4


Volkmar W. Pogatzki





          2022-08-21 15:01:16 UTC
        

(In reply to Frank Noack from comment #3)
> Created attachment 800343 [details]
> emerge.info
> 
> emerge --info =browserlauncher2-1.3

Thanks.  Here you should have something like:

LANG=en_US.utf8

Using your settings I was able to reproduce the error.
To solve your problem you want to compare your setting with 
https://wiki.gentoo.org/wiki/Handbook:AMD64/Installation/Base#Locale_generation
Setting locale per user is shown in https://wiki.gentoo.org/wiki/UTF-8#Setting_up_UTF-8_in_Gentoo




Comment 5


Frank Noack





          2022-08-24 18:13:52 UTC
        

Thanks, that works for me. But I do not understand why the German UTF8 does not work propetly.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

