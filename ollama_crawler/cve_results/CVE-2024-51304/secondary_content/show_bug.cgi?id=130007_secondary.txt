Title: 130007 – Pure-ftpd 1.0.21 stop does not work properly
URL: https://bugs.gentoo.org/show_bug.cgi?id=130007

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 130007
Pure-ftpd 1.0.21 stop does not work properly
Last modified: 2006-09-25 04:36:30 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 130007 
      - Pure-ftpd 1.0.21 stop does not work properly


Summary:
Pure-ftpd 1.0.21 stop does not work properly
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Luca Longinotti (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-04-14 19:26 UTC by Hod





      Modified:
    
2006-09-25 04:36 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



humpback









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Hod





          2006-04-14 19:26:32 UTC
        

Gentoo Base System version 1.12.0_pre17
Portage 2.0.54 (default-linux/x86/2005.0, gcc-3.4.6, glibc-2.3.6-r3, 2.6.15-gentoo-r7 i686)
=================================================================
System uname: 2.6.15-gentoo-r7 i686 AMD Duron(tm)
ccache version 2.3 [disabled]
dev-lang/python:     2.4.2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1-r2
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -fomit-frame-pointer -march=i686"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config /usr/lib/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/eselect/compiler /etc/gconf /etc/splash /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -fomit-frame-pointer -march=i686"
DISTDIR="/net/dist"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LANG="ru_RU.KOI8-R"
PKGDIR="/net/dist/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://192.168.0.145/gentoo-portage"
USE="x86 X acl alsa apache2 apm audiofile avi bash-completion berkdb bitmap-fonts bzip2 crypt cscope cups curl directfb dri eds emboss encode esd ethereal exif expat fam fbcon ffmpeg flac foomaticdb gd gdbm gif glut gmp gpm gstreamer gtk gtk2 guile idn imlib isdnlog jack java jpeg junit lcms ldap libg++ libwww mad mhash mikmod mng motif mp3 mpeg mysql ncurses nls
nptl nptlonly ogg oggvorbis opengl oss pam pcre pdflib perl php png postgres pppd python qt quicktime readline samba sdl snmp ssl svga tcltk tiff truetype truetype-fonts type1-fonts udev userlocales vorbis xml xml2 xmms xv zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, INSTALL_MASK, LC_ALL, LDFLAGS, LINGUAS, MAKEOPTS

baselayout-1.12.0_pre17-r2 -bootstrap -build -static -unicode
pure-ftpd-1.0.21 +caps +ldap -mysql +pam -postgres (-selinux) +ssl -vchroot
perl-5.8.8-r1 berkdb -build -debug -doc +gdbm -ithreads -perlsuid

Unable to stop pure-ftpd daemon after start.

How to repeat:
[~:root:05:19:38]#ps afx| grep -v grep | grep pure-ftpd
[~:root:05:19:40]#
[~:root:05:19:40]#/etc/init.d/pure-ftpd start
 * Starting Pure-FTPd ...                                                [ ok ]
[~:root:05:20:06]#ps afx| grep -v grep | grep pure-ftpd
21602 ?        Ss     0:00 pure-ftpd (SERVER)
[~:root:05:20:36]#/etc/init.d/pure-ftpd stop
 * Stopping Pure-FTPd ...                                                [ ok ]
[~:root:05:21:03]#ps afx| grep -v grep | grep pure-ftpd
21602 ?        Ss     0:00 pure-ftpd (SERVER)
[~:root:05:21:40]#/etc/init.d/pure-ftpd zap
 * Manually resetting pure-ftpd to stopped state.
[~:root:05:21:57]#ps afx| grep -v grep | grep pure-ftpd
21602 ?        Ss     0:00 pure-ftpd (SERVER)




Comment 1


Luca Longinotti (RETIRED)






          2006-09-23 16:19:47 UTC
        

I cannot reproduce this here, it works as expected.
Please be sure to update your system to a stable baselayout (currently 1.12.5) and try to use the 1.0.21-r1 version of Pure-FTPd. Remember to etc-update everything correctly.
Reopen if it still doesn't work as expected.
Best regards, CHTEKK.




Comment 2


Hod





          2006-09-25 04:36:30 UTC
        

seems that pure-ftpd cannot be properly shutdown with an active ftp sessions 









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

