Title: 312653 – Ebuilds involving dev-python/gnome-applets-python fail due to sandbox violations
URL: https://bugs.gentoo.org/show_bug.cgi?id=312653

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 312653
Ebuilds involving dev-python/gnome-applets-python fail due to sandbox violations
Last modified: 2010-07-14 11:31:05 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 312653 
      - Ebuilds involving dev-python/gnome-applets-python fail due to sandbox violations


Summary:
Ebuilds involving dev-python/gnome-applets-python fail due to sandbox violations
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux Gnome Desktop Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2010-04-01 16:12 UTC by Robert Bradbury





      Modified:
    
2010-07-14 11:31 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



pchrist









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge --info

              (Info100330.lst,4.11 KB,
                text/plain)

            
2010-04-01 16:19 UTC,

            Robert Bradbury




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Robert Bradbury





          2010-04-01 16:12:49 UTC
        

Multiple ebuilds, e.g. gnome-extra/hamster-applet-2.28.2, gnome-base/gnome-applets-2.28.0 and gnome-extra/deskbar-applet-2.28.0 fail during ebuilds with a sandbox violation when attempting to import the python library "gnomeapplet".

Reproducible: Always

Steps to Reproduce:
1. Unmask package level in package.keywords (e.g. gnome-base/gnome-applets ~x86)
2. emerge gnome-applets (or one of the other packages cited).

Actual Results:  
--------------------------- ACCESS VIOLATION SUMMARY ---------------------------
LOG FILE "/var/log/sandbox/sandbox-4805.log"

VERSION 1.0
FORMAT: F - Function called
FORMAT: S - Access Status
FORMAT: P - Path as passed to function
FORMAT: A - Absolute Path (not canonical)
FORMAT: R - Canonical Path
FORMAT: C - Command Line

F: utime
S: deny
P: /home/bradbury/.tmpdir/orbit-bradbury
A: /home/bradbury/.tmpdir/orbit-bradbury
R: /home/bradbury/.tmpdir/orbit-bradbury
C: /usr/bin/python2.6 -c
import sys
try:
        import gnomeapplet
except ImportError:
        sys.exit(1)
except:
        sys.exit(0)
sys.exit(0)
--------------------------------------------------------------------------------

Expected Results:  
Package should emerge properly.

Changing /etc/make.conf (or ebuild environment) so one has FEATURES="-sandbox" appears to work around the problem and allow the packages to emerge properly.




Comment 1


Robert Bradbury





          2010-04-01 16:19:09 UTC
        

Created attachment 226143 [details]
emerge --info

Attempting to eselect alternate versions of python (e.g. 3.1 vs. 2.6) did not change the sandbox failure.  The gnomeapplet.so file is in /usr/lib/python2.6/site-packages/gtk-2.0/gnomeapplet.so and re-emerging "gnome-applets-python" which updates that file had no effect.




Comment 2


Pacho Ramos






          2010-06-17 18:47:55 UTC
        

Do you still suffer this with Gnome 2.30 and updated gnome-python packages? I never suffered this issue :-/

Good luck




Comment 3


Pacho Ramos






          2010-07-14 11:31:05 UTC
        

Please try with 2.30









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

