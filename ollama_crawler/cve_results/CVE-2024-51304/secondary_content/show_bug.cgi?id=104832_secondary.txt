Title: 104832 – xmms-vorbis build problem
URL: https://bugs.gentoo.org/show_bug.cgi?id=104832

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 104832
xmms-vorbis build problem
Last modified: 2005-09-05 22:13:42 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 104832 
      - xmms-vorbis build problem


Summary:
xmms-vorbis build problem
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

AMD64 Project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-09-04 12:39 UTC by Jeremy Smith





      Modified:
    
2005-09-05 22:13 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Jeremy Smith





          2005-09-04 12:39:44 UTC
        

Can't build xmms-vorbis plugin.  XMMS gets the following error: 

x86_64-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I/usr/include/xmms
-I/usr/include/gtk-1.2 -I/usr/include/glib-1.2 -I/usr/lib64/glib/include
-I/usr/include/gtk-1.2 -I/usr/include/glib-1.2 -I/usr/lib64/glib/include
-D_REENTRANT -I/usr/include -I/usr/include -I../../intl -march=k8 -O3 -Wall
-Wpointer-arith -finline-functions -fomit-frame-pointer -ffast-math
-funroll-all-loops -MT vcedit.lo -MD -MP -MF .deps/vcedit.Tpo -c vcedit.c  -fPIC
-DPIC -o .libs/vcedit.o
/bin/sh ../../libtool --mode=link x86_64-pc-linux-gnu-gcc  -march=k8 -O3 -Wall
-Wpointer-arith -finline-functions -fomit-frame-pointer -ffast-math
-funroll-all-loops   -o libvorbis.la -rpath /usr/lib64/xmms/Input -module
-avoid-version -export-symbols-regex "get_.plugin_info" vorbis.lo configure.lo
http.lo fileinfo.lo vcedit.lo -L/usr/lib64 -L/usr/lib64 -lgtk -lgdk -rdynamic
-lgmodule -lgthread -lglib -lpthread -lXi -lXext -lX11 -lm -lpthread -L/usr/lib
-lvorbis -lm -L/usr/lib -logg -lvorbisfile  -lssl

*** Warning: Linking the shared library libvorbis.la against the loadable module
*** libvorbis.so is not portable!
rm -fr  .libs/libvorbis.exp .libs/libvorbis.la .libs/libvorbis.lai
.libs/libvorbis.so .libs/libvorbis.ver
generating symbol list for `libvorbis.la'
/usr/bin/x86_64-pc-linux-gnu-nm -B  .libs/vorbis.o .libs/configure.o
.libs/http.o .libs/fileinfo.o .libs/vcedit.o  | sed -n -e 's/^.*[   
]\([ABCDGIRSTW][ABCDGIRSTW]*\)[         ][      ]*\([_A-Za-z][_A-Za-z0-9]*\)$/\1
\2 \2/p' | /bin/sed 's/.* //' | sort | uniq > .libs/libvorbis.exp
grep -E -e "get_.plugin_info" ".libs/libvorbis.exp" > ".libs/libvorbis.expT"
mv -f ".libs/libvorbis.expT" ".libs/libvorbis.exp"
echo "{ global:" > .libs/libvorbis.ver
 cat .libs/libvorbis.exp | sed -e "s/\(.*\)/\1;/" >> .libs/libvorbis.ver
 echo "local: *; };" >> .libs/libvorbis.ver
 x86_64-pc-linux-gnu-gcc -shared  .libs/vorbis.o .libs/configure.o .libs/http.o
.libs/fileinfo.o .libs/vcedit.o  -Wl,--rpath
-Wl,/var/tmp/portage/xmms-vorbis-1.2.10-r1/work/xmms-1.2.10/Input/vorbis/.libs
-Wl,--rpath -Wl,/usr/lib64/xmms/Input -L/usr/lib64 /usr/lib64/libgtk.so
/usr/lib64/libgdk.so /usr/lib64/libgmodule.so /usr/lib64/libgthread.so
/usr/lib64/libglib.so -lXi -lXext -lX11 -lpthread -L/usr/lib
/var/tmp/portage/xmms-vorbis-1.2.10-r1/work/xmms-1.2.10/Input/vorbis/.libs/libvorbis.so
-lm /usr/lib64/libogg.so /usr/lib64/libvorbisfile.so -lssl  -march=k8
-Wl,-soname -Wl,libvorbis.so -Wl,-version-script -Wl,.libs/libvorbis.ver -o
.libs/libvorbis.so
x86_64-pc-linux-gnu-gcc:
/var/tmp/portage/xmms-vorbis-1.2.10-r1/work/xmms-1.2.10/Input/vorbis/.libs/libvorbis.so:
No such file or directory
make: *** [libvorbis.la] Error 1



Reproducible: Always
Steps to Reproduce:
1. Emerge libvorbis
2. emerge xmms
3. emerge xmms-vorbis

Actual Results:  
See details

Expected Results:  
completed xmms-vorbis build

AMD64 Dual Opteron
NUMA enabled
Portage 2.0.51.22-r2 (default-linux/amd64/2005.1, gcc-3.4.3, glibc-2.3.5-r0,
2.6.12-gentoo-r9 x86_64)
=================================================================
System uname: 2.6.12-gentoo-r9 x86_64 AMD Opteron(tm) Processor 244
Gentoo Base System version 1.6.13
dev-lang/python:     2.3.5
sys-apps/sandbox:    1.2.11
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6
sys-devel/binutils:  2.15.92.0.2-r10
sys-devel/libtool:   1.5.18-r1
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=k8 -O3"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env
/usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/share/config /usr/share/texmf/dvipdfm/config/
/usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/
/usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/ /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-march=k8 -O3"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org
http://distro.ibiblio.org/pub/Linux/distributions/gentoo"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X aac aalib acl aim alsa amd64 apache2 arts audiofile avi bash-completion
berkdb bitmap-fonts bzip2 calendar cdparanoia cdr crypt cups curl curlwrappers
dbm dio directfb doc dv dvd dvdr dvdread eds emacs encode ethereal examples fam
fbcon flac foomaticdb fortran freetds ftp gd gdbm gif gnome gpm gstreamer gtk
gtk2 iconv ieee1394 imap imlib ipv6 jabber jpeg kde libwww lm_sensors lzw
lzw-tiff mad mime mozilla mp3 mpeg mssql mysql ncurses nls oci8 odbc offensive
ogg openal opengl oracle pam pcre pda pdflib perl php png postgres ppd python qt
quicktime readline ruby samba sasl sdl sharedmem snmp sockets spell ssl svg
tcltk tcpd tetex theora tidy tiff truetype truetype-fonts type1-fonts unicode
usb userlocales vorbis wmf xine xinerama xml2 xmms xosd xpm xv xvid zlib
userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS, MAKEOPTS, PORTDIR_OVERLAY




Comment 1


Jeremy Smith





          2005-09-05 22:13:42 UTC
        

This is odd.  I tried this again (after many times not working) and it worked. 
I was troubleshooting other issues, and ended up flashing my BIOS to the latest
version and rebuilding the kernel.  I don't see how that would have helped, but
it did.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

