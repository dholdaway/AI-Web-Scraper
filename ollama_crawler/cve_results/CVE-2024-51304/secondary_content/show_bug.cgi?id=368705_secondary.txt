Title: 368705 – x11-wm/openbox-3.5.0_pre20110313 broken due to libxcb
URL: https://bugs.gentoo.org/show_bug.cgi?id=368705

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 368705
x11-wm/openbox-3.5.0_pre20110313 broken due to libxcb
Last modified: 2011-05-25 18:03:23 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 368705 
      - x11-wm/openbox-3.5.0_pre20110313 broken due to libxcb


Summary:
x11-wm/openbox-3.5.0_pre20110313 broken due to libxcb
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2011-05-25 14:46 UTC by Enne Eziarc





      Modified:
    
2011-05-25 18:03 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Enne Eziarc





          2011-05-25 14:46:30 UTC
        

A recent update I did broke some ICU libraries in openbox, so I tried the usual revdep-rebuilding but it fails at the linking step with the error below. I've tried following the libxcb-1.4 upgrade guide on the main website but it doesn't help at all. I've also checked to see if there are any .la-file references to the things it can't find and there aren't any.

=============

/bin/sh ./libtool --silent --tag=CC --mode=link x86_64-pc-linux-gnu-gcc  -O2 -march=amdfam10 -pipe -floop-interchange -floop-strip-mine -floop-block -mcx16 -msahf -mpopcnt --param l1-cache-size=64 --param l1-cache-line-size=64 --param l2-cache-size=512 -DNDEBUG -DG_DISABLE_ASSERT -fno-strict-aliasing  -Wl,-O1,--sort-common,--hash-style=gnu,--as-needed -o openbox/openbox -export-dynamic openbox/actions/openbox_openbox-all.o openbox/actions/openbox_openbox-addremovedesktop.o openbox/actions/openbox_openbox-breakchroot.o openbox/actions/openbox_openbox-close.o openbox/actions/openbox_openbox-cyclewindows.o openbox/actions/openbox_openbox-debug.o openbox/actions/openbox_openbox-decorations.o openbox/actions/openbox_openbox-desktop.o openbox/actions/openbox_openbox-dock.o openbox/actions/openbox_openbox-dockautohide.o openbox/actions/openbox_openbox-directionalwindows.o openbox/actions/openbox_openbox-execute.o openbox/actions/openbox_openbox-exit.o openbox/actions/openbox_openbox-focus.o openbox/actions/openbox_openbox-focustobottom.o openbox/actions/openbox_openbox-fullscreen.o openbox/actions/openbox_openbox-growtoedge.o openbox/actions/openbox_openbox-iconify.o openbox/actions/openbox_openbox-if.o openbox/actions/openbox_openbox-kill.o openbox/actions/openbox_openbox-layer.o openbox/actions/openbox_openbox-lower.o openbox/actions/openbox_openbox-maximize.o openbox/actions/openbox_openbox-move.o openbox/actions/openbox_openbox-moverelative.o openbox/actions/openbox_openbox-moveresizeto.o openbox/actions/openbox_openbox-movetoedge.o openbox/actions/openbox_openbox-omnipresent.o openbox/actions/openbox_openbox-raise.o openbox/actions/openbox_openbox-raiselower.o openbox/actions/openbox_openbox-reconfigure.o openbox/actions/openbox_openbox-resize.o openbox/actions/openbox_openbox-resizerelative.o openbox/actions/openbox_openbox-restart.o openbox/actions/openbox_openbox-shade.o openbox/actions/openbox_openbox-shadelowerraise.o openbox/actions/openbox_openbox-showdesktop.o openbox/actions/openbox_openbox-showmenu.o openbox/actions/openbox_openbox-unfocus.o openbox/openbox_openbox-actions.o openbox/openbox_openbox-client.o openbox/openbox_openbox-client_list_menu.o openbox/openbox_openbox-client_list_combined_menu.o openbox/openbox_openbox-client_menu.o openbox/openbox_openbox-config.o openbox/openbox_openbox-debug.o openbox/openbox_openbox-dock.o openbox/openbox_openbox-event.o openbox/openbox_openbox-focus.o openbox/openbox_openbox-focus_cycle.o openbox/openbox_openbox-focus_cycle_indicator.o openbox/openbox_openbox-focus_cycle_popup.o openbox/openbox_openbox-frame.o openbox/openbox_openbox-framerender.o openbox/openbox_openbox-grab.o openbox/openbox_openbox-group.o openbox/openbox_openbox-keyboard.o openbox/openbox_openbox-keytree.o openbox/openbox_openbox-menuframe.o openbox/openbox_openbox-menu.o openbox/openbox_openbox-mouse.o openbox/openbox_openbox-moveresize.o openbox/openbox_openbox-openbox.o openbox/openbox_openbox-ping.o openbox/openbox_openbox-place.o openbox/openbox_openbox-prompt.o openbox/openbox_openbox-popup.o openbox/openbox_openbox-resist.o openbox/openbox_openbox-screen.o openbox/openbox_openbox-session.o openbox/openbox_openbox-stacking.o openbox/openbox_openbox-startupnotify.o openbox/openbox_openbox-translate.o openbox/openbox_openbox-window.o -lSM -lICE -lglib-2.0   -lSM -lICE  -lX11 -lXcursor   -lstartup-notification-1   -lxml2     obrender/libobrender.la obt/libobt.la 

Error:
  * In program cave perform install --hooks --managed-output --output-exclusivity with-others =x11-wm/openbox-3.5.0_pre20110313:3::gentoo --destination installed --replacing =x11-wm/openbox-3.5.0_pre20110313:3::installed --x-of-y 1 of 1:
  * When installing 'x11-wm/openbox-3.5.0_pre20110313:3::gentoo' replacing { 'x11-wm/openbox-3.5.0_pre20110313:3::installed' }:
  * When running an ebuild command on 'x11-wm/openbox-3.5.0_pre20110313:3::gentoo':
  * Install failed for 'x11-wm/openbox-3.5.0_pre20110313:3::gentoo' (paludis::ActionFailedError)

make[1]: Leaving directory `/var/tmp/paludis/x11-wm-openbox-3.5.0_pre20110313/work'
/usr/lib/gcc/x86_64-pc-linux-gnu/4.5.2/../../../../x86_64-pc-linux-gnu/bin/ld: cannot find -lxcb-aux
/usr/lib/gcc/x86_64-pc-linux-gnu/4.5.2/../../../../x86_64-pc-linux-gnu/bin/ld: cannot find -lxcb-event
/usr/lib/gcc/x86_64-pc-linux-gnu/4.5.2/../../../../x86_64-pc-linux-gnu/bin/ld: cannot find -lxcb-atom
collect2: ld returned 1 exit status
distcc[20899] ERROR: compile (null) on localhost failed
make[1]: *** [openbox/openbox] Error 1
make: *** [all-recursive] Error 1
/usr/libexec/paludis/utils/emake: emake returned error 2

!!! ERROR in x11-wm/openbox-3.5.0_pre20110313::gentoo:
!!! In default_src_compile at line 27
!!! emake failed

!!! Call stack:
!!!    * default_src_compile (/usr/libexec/paludis/2/src_compile.bash:27)
!!!    * src_compile (/usr/libexec/paludis/2/src_compile.bash:33)
!!!    * ebuild_f_compile (/usr/libexec/paludis/2/src_compile.bash:56)
!!!    * ebuild_main (/usr/libexec/paludis/ebuild.bash:646)
!!!    * main (/usr/libexec/paludis/ebuild.bash:672)




Comment 1


Enne Eziarc





          2011-05-25 18:03:23 UTC
        

Never mind, I figured out the source of the problem - removing startup-notification from everything fixed it (and a segfault I was getting in claws-mail too... oh well)









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

