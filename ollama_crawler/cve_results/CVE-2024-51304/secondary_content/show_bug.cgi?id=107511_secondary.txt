Title: 107511 – lvm2 pvdisplay fail to find successfully created physical volume
URL: https://bugs.gentoo.org/show_bug.cgi?id=107511

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 107511
lvm2 pvdisplay fail to find successfully created physical volume
Last modified: 2006-04-20 05:49:08 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 107511 
      - lvm2 pvdisplay fail to find successfully created physical volume


Summary:
lvm2 pvdisplay fail to find successfully created physical volume
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

HPPA
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Eric Edgar (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-09-28 07:20 UTC by Giorgio





      Modified:
    
2006-04-20 05:49 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



wschlich









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Giorgio





          2005-09-28 07:20:55 UTC
        

I've checked the first 2048 bytes of a scsi disk after a pvcreate and I found
the disklabel wrote by pvcreate, but pvdisplay fails to recognise the physical
volume.
This happens with the current stable version of lvm2 2.01.09.
Version 2.01.13 of lvm2 works correctly.

Reproducible: Always
Steps to Reproduce:
1. Run pvcreate on a scsi disk
2. Run pvdisplay on the same disk
3.

Actual Results:  
Can't create a logical volume

Expected Results:  
Have a correct output and a usable physical volume to create a logical volume

Portage 2.0.51.22-r2 (default-linux/hppa/2005.0, gcc-3.3.5,
glibc-2.3.4.20040808-r1, 2.6.13-pa4 parisc64)
=================================================================
System uname: 2.6.13-pa4 parisc64 PA8600 (PCX-W+)
Gentoo Base System version 1.6.13
dev-lang/python:     2.3.5-r2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6
sys-devel/binutils:  2.15.92.0.2-r10
sys-devel/libtool:   1.5.18-r1
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="hppa"
AUTOCLEAN="yes"
CBUILD="hppa2.0-unknown-linux-gnu"
CFLAGS="-O3 -pipe -march=2.0 -fomit-frame-pointer"
CHOST="hppa2.0-unknown-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config
/usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O3 -pipe -march=2.0 -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://ftp.snt.utwente.nl/pub/os/linux/gentoo"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="apache2 berkdb bitmap-fonts crypt cups foomaticdb fortran gdbm gpm hppa
imlib kde libwww mysql ncurses nls pam perl php pic png python qt readline spell
ssl tcpd truetype-fonts type1-fonts vhosts xml2 zlib userland_GNU kernel_linux
elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTDIR_OVERLAY




Comment 1


Wolfram Schlich (RETIRED)






          2006-01-31 08:34:59 UTC
        

Please post the output of:

grep '^[[:space:]]*filter = ' /etc/lvm/lvm.conf

Possibly the LVM tools just don't scan your PV because it's filtered...




Comment 2


Giorgio





          2006-01-31 09:06:40 UTC
        

(In reply to comment #1)
> Please post the output of:
> 
> grep '^[[:space:]]*filter = ' /etc/lvm/lvm.conf
> 
> Possibly the LVM tools just don't scan your PV because it's filtered...
> 
Here's the output:

[root@--- ~]# grep '^[[:space:]]*filter = ' /etc/lvm/lvm.conf
    filter = [ "a/.*/" ]

I'm still running sys-fs/lvm2-2.01.13





Comment 3


Eric Edgar (RETIRED)






          2006-04-19 20:23:11 UTC
        

Is this still an issue?  have you upgraded to the latest stable lvm?




Comment 4


Eric Edgar (RETIRED)






          2006-04-20 05:49:08 UTC
        

reopen this bug if its still an issue with the newest lvm2-2.02.03









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

