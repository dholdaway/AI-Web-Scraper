Title: 83455 – dev-embedded/avrdude-4.4.0: cannot find texi2html
URL: https://bugs.gentoo.org/show_bug.cgi?id=83455

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 83455
dev-embedded/avrdude-4.4.0: cannot find texi2html
Last modified: 2005-04-08 22:15:20 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 83455 
      - dev-embedded/avrdude-4.4.0: cannot find texi2html


Summary:
dev-embedded/avrdude-4.4.0: cannot find texi2html
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        All
      







Importance:
      
High
       normal
      


Assignee:

Text-Markup Team (OBSOLETE)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-02-27 05:43 UTC by Sascha Silbe





      Modified:
    
2005-04-08 22:15 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Sascha Silbe





          2005-02-27 05:43:05 UTC
        

dev-embedded/avrdude-4.4.0 tries to use texi2html, but the binary provided by app-text/texi2html-1.64-r1 is called texi2html-1.64.


Reproducible: Always
Steps to Reproduce:
1. emerge avrdude
2. equery list texi2html
3. equery files texi2html

Actual Results:  
[...]
config.status: creating Makefile
config.status: creating ac_cfg.h
config.status: executing depfiles commands
make  all-recursive
make[1]: Entering directory `/var/tmp/portage/avrdude-4.4.0/work/avrdude-4.4.0'
Making all in doc
make[2]: Entering directory `/var/tmp/portage/avrdude-4.4.0/work/avrdude-4.4.0/doc'
mkdir -p avrdude-html
texi2html -split_node ./avrdude.texi
make[2]: texi2html: Command not found
make[2]: *** [html] Error 127
make[2]: Leaving directory `/var/tmp/portage/avrdude-4.4.0/work/avrdude-4.4.0/doc'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/avrdude-4.4.0/work/avrdude-4.4.0'
make: *** [all] Error 2

!!! ERROR: dev-embedded/avrdude-4.4.0 failed.
!!! Function src_compile, Line 556, Exitcode 2
!!! emake failed
!!! If you need support, post the topmost build error, NOT this status message.

root@caravan:~# equery list texi2html
[ Searching for package 'texi2html' in all categories among: ]
 * installed packages
[I--] [  ] app-text/texi2html-1.64-r1 (0)
root@caravan:~# equery files texi2html
[ Searching for packages matching texi2html... ]
app-text/texi2html-1.64-r1
* Contents of app-text/texi2html-1.64-r1:
/usr
/usr/bin
/usr/bin/texi2html-1.64
/usr/share
/usr/share/doc
/usr/share/doc/texi2html-1.64-r1
/usr/share/doc/texi2html-1.64-r1/AUTHORS.gz
/usr/share/doc/texi2html-1.64-r1/COPYING.gz
/usr/share/doc/texi2html-1.64-r1/ChangeLog.gz
/usr/share/doc/texi2html-1.64-r1/INSTALL.gz
/usr/share/doc/texi2html-1.64-r1/INTRODUCTION.gz
/usr/share/doc/texi2html-1.64-r1/NEWS.gz
/usr/share/doc/texi2html-1.64-r1/README.gz
/usr/share/doc/texi2html-1.64-r1/TODO.gz
/usr/share/doc/texi2html-1.64-r1/html
/usr/share/doc/texi2html-1.64-r1/html/texi2html.html
/usr/share/info
/usr/share/info/texi2html.info.gz
/usr/share/man
/usr/share/man/man1
/usr/share/man/man1/texi2html-1.64.1.gz
root@caravan:~# 


Expected Results:  
Successfully build the documentation and install the package.


Gentoo Base System version 1.4.16
Portage 2.0.51-r15 (default-linux/x86/2004.0, gcc-3.3.5, glibc-2.3.4.20040808-r1, 2.6.10-infra-r2 i686)
=================================================================
System uname: 2.6.10-infra-r2 i686 mobile AMD Athlon(tm) XP2500+
Python:              dev-lang/python-2.3.4-r1 [2.3.4 (#1, Feb 15 2005, 19:58:10)]
distcc 2.16 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
ccache version 2.3 [enabled]
dev-lang/python:     2.3.4-r1
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.5, 1.7.9-r1, 1.4_p6, 1.6.3, 1.9.4, 1.8.5-r3
sys-devel/binutils:  2.15.92.0.2-r1
sys-devel/libtool:   1.5.10-r4
virtual/os-headers:  2.4.21-r1
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CFLAGS="-O3 -march=athlon-xp -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.3/env /usr/kde/3.3/share/config /usr/kde/3.3/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/ /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/afs/C /etc/afs/afsws /etc/afs/modload /etc/gconf /etc/make.globals /etc/terminfo /etc/env.d"
CXXFLAGS="-O3 -march=athlon-xp -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig ccache collision-protect distlocks fixpackages sandbox severe sfperms strict test userpriv usersandbox"
GENTOO_MIRRORS="ftp://ftp.easynet.nl/mirror/gentoo/ http://gentoo.inode.at/ ftp://gentoo.inode.at/source/"
LANG="en_US"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/share/infra/work/portage-local--main--1.0"
SYNC="rsync://hybrid.sascha.silbe.org/gentoo-portage"
USE="x86 3dnow X acl acpi afs alsa avi bash-completion berkdb bitmap-fonts ccache cdparanoia cdr chipcard crypt cups curl doc dvd encode f77 fam flac font-server foomaticdb fortran gatos gdbm gif gps gtk gtk2 gtkhtml guile hbci imagemagick imap imlib ipv6 jpeg jpeg2k krb4 lcms libg++ libwww mad maildir makecheck mbox mikmod mmx monitor mpeg nas ncurses nls oggvorbis opengl pam pcmcia pdflib png postgres python qt qtmt quicktime readline samba sdl skey socks5 spell sse ssl tetex tiff truetype truetype-fonts type1-fonts unicode userlocales xml xml2 xosd xv zlib video_cards_radeon input_devices_synaptics linguas_en,de"
Unset:  ASFLAGS, CBUILD, CTARGET, LC_ALL, LDFLAGS




Comment 1


Sascha Silbe





          2005-02-27 05:49:41 UTC
        

On another host, I can install avrdude, since it has texi2html. But it doesn't belong to any package!?!

sascha@cube:~$ which texi2html
/usr/bin/texi2html
sascha@cube:~$ equery belongs /usr/bin/texi2html
[ Searching for file(s) /usr/bin/texi2html in *... ]
sascha@cube:~$ 






Comment 2


Nguyen Thai Ngoc Duy (RETIRED)






          2005-02-27 23:58:45 UTC
        

texi2html is created at pkg_postinst and doens't belong to 1.64-r1 (1.64 owns its texi2html). I assume that the maintainer would like to support multiple texi2html in future and texi2html serves as a link to the newest texi2html.
Could you re-emerge 1.64-r1 again to see if the problem remains?




Comment 3


Sascha Silbe





          2005-02-28 02:23:58 UTC
        

OK, works fine now. I'm surprised how this could happen. According to the ChangeLog,  texi2html-1.64-r1 is over a year old (2003-11-24) and according to  Bug #34217 it was installing the SymLink right from the beginning. The bug  that could have possibly affected me (Bug #34245) had already been fixed  (2003-11-24) by the time it got marked stable (2004-04-26) and installed on  the failing system (2004-06-01). 




Comment 4


Mamoru KOMACHI (RETIRED)






          2005-04-08 22:15:20 UTC
        

Yes, my first intention was to make a symlink to newest texi2html installed
(because tetex installed its bundled texi2html). However, I changed tetex
to not install texi2html and put the latest texi2html ebuild, so I modified
texi2html to remove the symlink. I don't know why texi2html-1.64-r1
didn't create the symlink for you (it still creates the symlink if you use
that revision). I'll remove 1.64-r1 once 1.76 is keyworded on
all the arches in 1.64-r1. Thanks anyway for the bug report.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

