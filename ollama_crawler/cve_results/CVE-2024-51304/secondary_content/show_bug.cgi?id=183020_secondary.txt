Title: 183020 – app-crypt/pinentry-0.7.2-r4 - pinentry-qt doesn't work
URL: https://bugs.gentoo.org/show_bug.cgi?id=183020

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 183020
app-crypt/pinentry-0.7.2-r4 - pinentry-qt doesn't work
Last modified: 2008-10-28 05:39:00 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 183020 
      - app-crypt/pinentry-0.7.2-r4 - pinentry-qt doesn't work


Summary:
app-crypt/pinentry-0.7.2-r4 - pinentry-qt doesn't work
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Sven Wegener








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-06-24 08:21 UTC by Patrick





      Modified:
    
2008-10-28 05:39 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Patrick





          2007-06-24 08:21:26 UTC
        

I have no idea why, but I just can't used pinentry-qt on my system. pinentry-gtk-2 works well.

$ echo Test | gpg --clearsign

You need a passphrase to unlock the secret key for
user: ...

gpg: problem with the agent: IPC write error
gpg: Invalid passphrase; please try again ...

You need a passphrase to unlock the secret key for
user: ...

gpg: problem with the agent: IPC write error
gpg: no default secret key: General error
gpg: [stdin]: clearsign failed: General error

The pinentry-qt passphrase dialog pops up for an instant, but closes immediately again.


$ cat .gnupg/gpg-agent.conf
pinentry-program /usr/bin/pinentry-qt
no-grab
default-cache-ttl 1800
###+++--- GPGConf ---+++###
debug-level basic
log-file socket:///home/patrick/.gnupg/log-socket
###+++--- GPGConf ---+++### Sun 24 Jun 2007 08:55:50 CEST
# GPGConf edited this configuration file.
# It will disable options before this marked block, but it will
# never change anything below these lines.


$ emerge -pv pinentry

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild   R   ] app-crypt/pinentry-0.7.2-r4  USE="caps gtk ncurses qt3" 0 kB

Total: 1 package (1 reinstall), Size of downloads: 0 kB


$ emerge -pv gnupg

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild   R   ] app-crypt/gnupg-2.0.4-r1  USE="bzip2 ldap nls -doc -openct -pcsc-lite (-selinux) -smartcard" 0 kB

Total: 1 package (1 reinstall), Size of downloads: 0 kB


$ emerge --info
Portage 2.1.3_rc5 (default-linux/x86/2007.0/desktop, gcc-4.1.2, glibc-2.5-r3, 2.6.21-gentoo-r3 i686)
=================================================================
System uname: 2.6.21-gentoo-r3 i686 Genuine Intel(R) CPU T2300 @ 1.66GHz
Gentoo Base System release 1.12.10
Timestamp of tree: Sun, 24 Jun 2007 05:30:01 +0000
ccache version 2.4 [enabled]
dev-java/java-config: 1.3.7, 2.0.33-r1
dev-lang/python:     2.4.4-r4
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     2.4-r7
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.61
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.17
sys-devel/gcc-config: 1.3.16
sys-devel/libtool:   1.5.23b
virtual/os-headers:  2.6.21
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=prescott"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c"
CXXFLAGS="-O2 -march=prescott"
DISTDIR="/usr/portage/distfiles"
FEATURES="ccache distlocks fixpackages metadata-transfer parallel-fetch sandbox sfperms strict unmerge-orphans"
GENTOO_MIRRORS="http://gentoo.osuosl.org/ "
LANG="en_GB.utf8"
LC_ALL="en_GB.utf8"
LDFLAGS="-Wl,-O1"
LINGUAS="en_GB de zh_CN"
MAKEOPTS="-j5"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portage/local/layman/gentoo-de /usr/portage/local/layman/moonitor /usr/portage/local/layman/xeffects /usr/portage/local/layman/liquidx /usr/portage/local/layman/sunrise /usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X a52 aac aalib ac3 acpi alsa arts audiofile berkdb bluetooth branding browserplugin bzip2 cairo caps cdparanoia cdr cjk cli cracklib crypt cups curl dbus dri dvd dvdr dvdread encode evo exif fam fbcon ffmpeg firefox flac gif glitz gpm gtk gtk2 iconv icq idn ieee1394 imagemagick imap isdnlog jabber java jpeg kde kdeenablefinal kqemu lcms ldap libg++ mad matroska midi mime mmap mmx mmxext mng mp3 mpeg mplayer msn mudflap ncurses nls nptl nptlonly nsplugin nvidia ogg opengl openmp pam pcmcia pcre pda pdf perl png pppd python qt3 qt3support qt4 quicktime readline reflection ruby samba sdl session smp softmmu speex spl sse sse2 ssl svg tcltk tcpd tetex theora threads tidy tiff truetype truetype-fonts type1-fonts unicode usb userlocales utf8 v4l v4l2 vcd vorbis win32codecs x264 x86 xcomposite xine xml xml2 xorg xv xvid xvmc yahoo zlib" ALSA_CARDS="hda-intel emu10k1" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" CAMERAS="canon ptp2" ELIBC="glibc" INPUT_DEVICES="keyboard mouse synaptics" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en_GB de zh_CN" USERLAND="GNU" VIDEO_CARDS="nvidia nv"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS

Reproducible: Always




Comment 1


Patrick





          2008-10-28 05:39:00 UTC
        

Going through my bug reports... can't reproduce this anymore, seems to be fixed in a later version. Closing as WORKSFORME.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

