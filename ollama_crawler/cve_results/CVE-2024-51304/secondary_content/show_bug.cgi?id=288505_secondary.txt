Title: 288505 – kde-base/kdebase-startkde[4.3.2]
URL: https://bugs.gentoo.org/show_bug.cgi?id=288505

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 288505
kde-base/kdebase-startkde[4.3.2]
Last modified: 2010-02-19 13:25:18 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 288505 
      - kde-base/kdebase-startkde[4.3.2]


Summary:
kde-base/kdebase-startkde[4.3.2]
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-10-11 03:36 UTC by Tiago Maluta





      Modified:
    
2010-02-19 13:25 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



reavertm









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




startx log

              (startx.log,8.11 KB,
                text/plain)

            
2009-10-11 03:37 UTC,

            Tiago Maluta




Details





emerge --info output

              (emerge-info.txt,3.55 KB,
                text/plain)

            
2009-10-11 03:37 UTC,

            Tiago Maluta




Details





after kdelibs 4.3.2-r1

              (startx-after-kdelibs-4.3.2-r1.txt,7.16 KB,
                text/plain)

            
2009-10-11 14:01 UTC,

            Tiago Maluta




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Tiago Maluta





          2009-10-11 03:36:31 UTC
        

After emerging KDE 4.3.2 my login screen (kdm) stopped to initialize KDE session. Attached are the complete log, basically it's a problem on D-BUS. 

Could not connect to D-Bus server: org.freedesktop.DBus.Error.NoServer: Failed to connect to socket /tmp/dbus-s7PdW1YBf9: Connection refused

I've tried:

* re-emerge KDE, QT, and D-Bus
* remove .kde from my user directory



Reproducible: Always

Steps to Reproduce:
1. startx (with startkde on .xinitrc)
2.
3.




Comment 1


Tiago Maluta





          2009-10-11 03:37:09 UTC
        

Created attachment 206726 [details]
startx log




Comment 2


Tiago Maluta





          2009-10-11 03:37:48 UTC
        

Created attachment 206727 [details]
emerge --info output




Comment 3


Tomás Touceda (RETIRED)






          2009-10-11 05:06:55 UTC
        

Did you check if DBUS and HAL were started?

And for that "org.freedesktop.DBus.Error.AccessDenied", is your user in the plugdev group?




Comment 4


Tiago Maluta





          2009-10-11 05:15:11 UTC
        

(In reply to comment #3)
> Did you check if DBUS and HAL were started?
> 
Yes. Both are up and running. 

# /etc/init.d/hald status      
hald                    |* status: started
# /etc/init.d/udev status
udev                    |* status: started


> And for that "org.freedesktop.DBus.Error.AccessDenied", is your user in the
> plugdev group?
> 

No. But even adding the user on this group to my user the problem persist. This bug would be reproduced with 'root' user. 





Comment 5


Tiago Maluta





          2009-10-11 14:01:07 UTC
        

Created attachment 206747 [details]
after kdelibs 4.3.2-r1

It's important to say that I can use KDE apps from other WM (i.e xfce). 

sys-apps/dbus [1.3.0]
sys-apps/hal  [0.5.13-r2]




Comment 6


Tomás Touceda (RETIRED)






          2009-10-11 17:49:55 UTC
        

And how about console-kit-daemon? is it started?

I remember having an issue with kdm, and it was that console-kit-deamon wasn't started, but as I don't know what the error message was, this is a wild guess.




Comment 7


Tiago Maluta





          2009-10-13 00:37:58 UTC
        

(In reply to comment #6)
> And how about console-kit-daemon? is it started?
> 

Yes.

> I remember having an issue with kdm, and it was that console-kit-deamon wasn't
> started, but as I don't know what the error message was, this is a wild guess.
> 

I'm still studying d-bus to see how they affect my KDE session...




Comment 8


Tiago Maluta





          2009-10-13 02:39:21 UTC
        

Apparently it's kwin problem. I made a regression to

* kwin [4.3.0]
* kdebase-startkde [4.3.0]

The KDE session started, with kwin 4.3.2 I got the d-bus error. 




Comment 9


Maciej Mrozowski






          2009-12-01 00:19:13 UTC
        

How does it look with 4.3.3?




Comment 10


Tiago Maluta





          2010-02-18 03:02:35 UTC
        

(In reply to comment #9)
> How does it look with 4.3.3?
> 

I still have the problem with newer versions. 
Now running kdelibs/kdebase/.../startkde 4.4.0 with kwin 4.3.1-r1.




Comment 11


Maciej Mrozowski






          2010-02-18 13:55:03 UTC
        

Backtrace:
0: X(xorg_backtrace+0x3c) [0x8126474]
1: X(xf86SigHandler+0x4e) [0x80cc4e0]
2: [0xb7761400]
3: /usr/lib/dri/i965_dri.so [0xa6af85de]
4: /usr/lib/dri/i965_dri.so [0xa6ae6557]
5: /usr/lib/xorg/modules/extensions//libglx.so [0xb725fe44]
6: /usr/lib/xorg/modules/extensions//libglx.so [0xb72552a0]
7: X(FreeResource+0x109) [0x80721df]
8: X(ProcDestroyWindow+0x92) [0x8085ec5]
9: X(Dispatch+0x353) [0x80892c8]
10: X(main+0x3b5) [0x806f99d]
11: /lib/libc.so.6(__libc_start_main+0xe5) [0xb7331725]
12: X [0x806ee81]

Fatal server error:
Caught signal 11.  Server aborting

That's what your backtrace says - intel driver issue most likely




Comment 12


Tiago Maluta





          2010-02-19 12:42:33 UTC
        

(In reply to comment #11)
> Backtrace:
> 0: X(xorg_backtrace+0x3c) [0x8126474]
> 1: X(xf86SigHandler+0x4e) [0x80cc4e0]
> 2: [0xb7761400]
> 3: /usr/lib/dri/i965_dri.so [0xa6af85de]
> 4: /usr/lib/dri/i965_dri.so [0xa6ae6557]
> 5: /usr/lib/xorg/modules/extensions//libglx.so [0xb725fe44]
> 6: /usr/lib/xorg/modules/extensions//libglx.so [0xb72552a0]
> 7: X(FreeResource+0x109) [0x80721df]
> 8: X(ProcDestroyWindow+0x92) [0x8085ec5]
> 9: X(Dispatch+0x353) [0x80892c8]
> 10: X(main+0x3b5) [0x806f99d]
> 11: /lib/libc.so.6(__libc_start_main+0xe5) [0xb7331725]
> 12: X [0x806ee81]
> 
> Fatal server error:
> Caught signal 11.  Server aborting
> 
> That's what your backtrace says - intel driver issue most likely
> 

Maybe. I know this Intel driver has many problems reports. 
But I can log on another WM, including running KDE with Enlightenment.

I'll resolve bug this bug as 'WORKSFORME' with the solution make a regression on KWin. If I found the solution I re-open and explain the fix...


 





Comment 13


Maciej Mrozowski






          2010-02-19 13:25:18 UTC
        

Thanks, the difference between KWin and other WM is that kwin is heavy OpenGL compositing and pixel shader user.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

