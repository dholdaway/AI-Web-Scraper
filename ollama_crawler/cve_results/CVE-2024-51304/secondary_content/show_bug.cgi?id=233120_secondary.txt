Title: 233120 – Xen-tools fail to compile with mkdir ACCESS DENIED errors
URL: https://bugs.gentoo.org/show_bug.cgi?id=233120

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 233120
Xen-tools fail to compile with mkdir ACCESS DENIED errors
Last modified: 2011-03-26 11:40:35 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 233120 
      - Xen-tools fail to compile with mkdir ACCESS DENIED errors


Summary:
Xen-tools fail to compile with mkdir ACCESS DENIED errors
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Server

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Xen Devs








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-07-27 20:23 UTC by Hari Sekhon





      Modified:
    
2011-03-26 11:40 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



smougel









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Output from failed emerge

              (xen-tools-failed-emerge.txt,7.60 KB,
                text/plain)

            
2008-07-27 20:25 UTC,

            Hari Sekhon




Details





hanging in the same places but without the Access Denied errors...

              (xen-tools-failed-emerge-2nd-try.txt,3.91 KB,
                text/plain)

            
2008-07-30 08:50 UTC,

            Hari Sekhon




Details





fuller output, manages to get past hanging if holding down enter... but errors out

              (xen-tools-failed-emerge-2nd-try2.txt,23.76 KB,
                text/plain)

            
2008-07-30 08:54 UTC,

            Hari Sekhon




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Hari Sekhon





          2008-07-27 20:23:18 UTC
        

Every time I try to emerge xen-tools the compilation fails with mkdir ACCESS DENIED errors and hangs. When I press enter it goes on one line and then the same thing happens with a different path and so on and so on.

Reproducible: Always

Steps to Reproduce:
1. emerge xen-tools
2.
3.

Actual Results:  
...

ACCESS DENIED  mkdir:     /var/cache/fonts/tfm/adobe/times
mkdir: cannot create directory `././var/cache/fonts/tfm/adobe/times': Permission denied
mktextfm: mktexdir /var/cache/fonts/tfm/adobe/times failed.
kpathsea: Appending font creation commands to missfont.log.

...

Expected Results:  
successful compile.

$ emerge --info
Portage 2.1.4.4 (default-linux/x86/2007.0, gcc-4.1.2, glibc-2.6.1-r0, 2.6.24-gentoo-r8 i686)
=================================================================
System uname: 2.6.24-gentoo-r8 i686 Genuine Intel(R) CPU U2500 @ 1.20GHz
Timestamp of tree: Fri, 25 Jul 2008 15:33:01 +0000
app-shells/bash:     3.2_p33
dev-java/java-config: 1.3.7, 2.1.6
dev-lang/python:     2.4.4-r13
dev-python/pycrypto: 2.0.1-r6
sys-apps/baselayout: 1.12.11.1
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.61-r2
sys-devel/automake:  1.4_p6, 1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.1
sys-devel/binutils:  2.18-r1
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.23-r3
ACCEPT_KEYWORDS="x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=prescott -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/splash /etc/terminfo /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-O2 -march=prescott -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="distlocks metadata-transfer sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LANG="en_GB"
LC_ALL="en_GB"
MAKEOPTS="-j 3"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="3dfx 3dnow X aac acl acpi alsa apache2 audacious bash-completion berkdb bindist branding bzip2 clamav cli cracklib crypt curl doc dri dts dvd dvdr dvdread dxr3 emacs exif fbcon firefox flac gdbm gdm geoip gif gkrellm gnome gpm gtk gtk2 hal hddtemp hybrid iconv imap javascript jpeg jpeg2k kde kdm kerberos laptop ldap lm_sensors logrotate mad md5sum midi mmx mp3 mpd mpeg mpeg2 mplayer mudflap musepack mysql ncurses network-cron nls nptl nptlonly nsplugin opengl openmp pam pcmcia pcre perl png pop pppd python qt rdesktop readline reflection samba screen session sguil snmp spl sse sse2 ssl svg symlink syslog tcpd thunderbird tiff tk truetype tta unicode vcd vhosts vim-syntax vorbis wavpack wifi win32codecs winbind wma x86 xen xine xinerama xml xorg xscreensaver xvid xvmc zlib" ALSA_CARDS="intel8x0 intel8x0m" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" USERLAND="GNU" VIDEO_CARDS="vesa vga"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LDFLAGS, LINGUAS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY




Comment 1


Hari Sekhon





          2008-07-27 20:25:58 UTC
        

Created attachment 161491 [details]
Output from failed emerge

the end relevant output from the failed emerge of xen-tools




Comment 2


Robert Buchholz (RETIRED)






          2008-07-30 01:00:12 UTC
        

+  30 Jul 2008; Robert Buchholz <rbu@gentoo.org> ChangeLog:
+  Set VARTEXFONTS so LaTeX does not try to write out of the sandbox (bug #233120)

Can you please "emerge --sync" and retry, then report back if it works now?
Thank you for the bug report.




Comment 3


Hari Sekhon





          2008-07-30 08:48:20 UTC
        

It exibits similar behaviour after an emerge --sync but without the access denied errors and when it reaches a certain point it hangs after each line unless I press enter all the time and then after doing that a few dozen times it doesn't get past the next one, pressing enter several times fails to proceed and control-C is wedged as well, so only a control-z followed by a kill manages to stop the stuck compile. 

I have attached the output of the first few lines where the problem occurs




Comment 4


Hari Sekhon





          2008-07-30 08:50:52 UTC
        

Created attachment 161698 [details]
hanging in the same places but without the Access Denied errors...




Comment 5


Hari Sekhon





          2008-07-30 08:54:50 UTC
        

Created attachment 161700 [details]
fuller output, manages to get past hanging if holding down enter... but errors out




Comment 6


Robert Buchholz (RETIRED)






          2008-07-30 20:51:49 UTC
        

Are you using tetex or texlive?




Comment 7


Hari Sekhon





          2008-07-31 09:05:24 UTC
        

(In reply to comment #6)
> Are you using tetex or texlive?
> 

equery l tetex; equery l texlive
[ Searching for package 'tetex' in all categories among: ]
 * installed packages
[ Searching for package 'texlive' in all categories among: ]
 * installed packages
[I--] [  ] app-text/texlive-core-2007-r13 (0)
[I--] [  ] dev-texlive/texlive-basic-2007 (0)
[I--] [  ] dev-texlive/texlive-documentation-base-2007 (0)
[I--] [  ] dev-texlive/texlive-latex-2007 (0)
[I--] [  ] dev-texlive/texlive-latexrecommended-2007 (0)





Comment 8


Stephane





          2010-07-08 08:16:27 UTC
        

(In reply to comment #7)
Same probleme while emerging xen-tools-4.0.0.
fixed by setting use flag "-doc".





Comment 9


Alexey Shvetsov







          2011-03-26 11:40:35 UTC
        

Xen 4.1 in tree. Please test with it and reopen if it doesnt work









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

