Title: 101850 – gcc dies when compiling openssh-3.9_p1-r2 when LANG=es_ES
URL: https://bugs.gentoo.org/show_bug.cgi?id=101850

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 101850
gcc dies when compiling openssh-3.9_p1-r2 when LANG=es_ES
Last modified: 2005-12-04 11:20:36 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 101850 
      - gcc dies when compiling openssh-3.9_p1-r2 when LANG=es_ES


Summary:
gcc dies when compiling openssh-3.9_p1-r2 when LANG=es_ES
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       minor
      


Assignee:

Gentoo Toolchain Maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-08-09 05:51 UTC by Lothar Krause





      Modified:
    
2005-12-04 11:20 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




preprocessed source from session.c

              (ccgXEtHN.out,335.28 KB,
                application/octet-stream)

            
2005-08-09 05:57 UTC,

            Lothar Krause




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Lothar Krause





          2005-08-09 05:51:08 UTC
        

emerging the latest gnome, i ran into this error message:

after a frustrating lot of time i figured that the compile goes through when
LANG is set to en or es however. 

i686-pc-linux-gnu-gcc -O2 -march=pentium4 -fomit-frame-pointer -Wall
-Wpointer-arith -Wno-uninitialized -I. -I.  -DSSHDIR=\"/etc/ssh\"
-D_PATH_SSH_PROGRAM=\"/usr/bin/ssh\"
-D_PATH_SSH_ASKPASS_DEFAULT=\"/usr/lib/misc/ssh-askpass\"
-D_PATH_SFTP_SERVER=\"/usr/lib/misc/sftp-server\"
-D_PATH_SSH_KEY_SIGN=\"/usr/lib/misc/ssh-keysign\"
-D_PATH_SSH_PIDDIR=\"/var/run\" -D_PATH_PRIVSEP_CHROOT_DIR=\"/var/empty\"
-DSSH_RAND_HELPER=\"/usr/lib/misc/ssh-rand-helper\" -DHAVE_CONFIG_H -c session.c
session.c: En la funci




Comment 1


Lothar Krause





          2005-08-09 05:51:08 UTC
        

emerging the latest gnome, i ran into this error message:

after a frustrating lot of time i figured that the compile goes through when
LANG is set to en or es however. 

i686-pc-linux-gnu-gcc -O2 -march=pentium4 -fomit-frame-pointer -Wall
-Wpointer-arith -Wno-uninitialized -I. -I.  -DSSHDIR=\"/etc/ssh\"
-D_PATH_SSH_PROGRAM=\"/usr/bin/ssh\"
-D_PATH_SSH_ASKPASS_DEFAULT=\"/usr/lib/misc/ssh-askpass\"
-D_PATH_SFTP_SERVER=\"/usr/lib/misc/sftp-server\"
-D_PATH_SSH_KEY_SIGN=\"/usr/lib/misc/ssh-keysign\"
-D_PATH_SSH_PIDDIR=\"/var/run\" -D_PATH_PRIVSEP_CHROOT_DIR=\"/var/empty\"
-DSSH_RAND_HELPER=\"/usr/lib/misc/ssh-rand-helper\" -DHAVE_CONFIG_H -c session.c
session.c: En la función `do_setusercontext':
session.c:1311: aviso: se usó 
Error interno del compilador: Error al reportar rutinas reentradas.
Por favor envíe un reporte completo de `bugs',
con el código preprocesado si es apropiado.
Vea <URL:http://bugs.gentoo.org/> para más instrucciones.
Preprocessed source stored into
/var/tmp/portage/openssh-3.9_p1-r2/temp/ccgXEtHN.out file, please attach this to
your bugreport.
make: *** [session.o] Error 1


Plus, I did try to use mask out the upgrade using 
>openssh-3.9_p1-r2 

but emerge tried to DOWNGRADE openssh. WTF?

Reproducible: Always
Steps to Reproduce:
1.export LANG=es_ES
2.emerge --oneshot -u openssh
3.

Actual Results:  
see above

Expected Results:  
compile without hobo mobo.

Portage 2.0.51.22-r2 (default-linux/x86/2005.0, gcc-3.3.5-20050130, glibc-2.3.5-
                                                                              
r0, 2.6.11-gentoo-r9 i686)
=================================================================
System uname: 2.6.11-gentoo-r9 i686 Mobile Intel(R) Pentium(R) 4 - M CPU 1.80GHz
Gentoo Base System version 1.6.13
dev-lang/python:     2.2.2, 2.3.5
sys-apps/sandbox:    1.2.11
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.5
sys-devel/binutils:  2.15.92.0.2-r10
sys-devel/libtool:   1.5.18-r1
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium4 -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config /usr/lib/X1
                                                                              
1/xkb /usr/lib/mozilla/defaults/pref /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=pentium4 -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://linux.rz.ruhr-uni-bochum.de/download/gentoo-mirror/ http:
                                                                              
//ftp.uni-erlangen.de/pub/mirrors/gentoo http://mirrors.sec.informatik.tu-darmst
                                                                              
adt.de/gentoo/ http://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/ http://pande
                                                                              
monium.tiscali.de/pub/gentoo/"
LANG="es_ES"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="x86 X aac acpi acpi4linux aim alsa amd apache2 avi bzip2 bzlib cairo cdda c
                                                                              
ddb cdio cdparanoia cdr chroot codecs css cups dga dhcp dio dvd dvdread ecc eran
                                                                              
dom evo evo2 f77 faac faad fam ffmpeg flac fortran ftp gcj gimp gimpprint ginac
                                                                               
gmp gnome gnomedb gphoto2 gtk2 gtkhtml hal hdf5 i8x0 icq imap ipv6 irc jabber ja
                                                                              
va javascript jp2 jpeg justify log4j lzo mad mime mimencode mjpeg mmx mmxext mng
                                                                               
mozdomi moznocompose moznoirc moznomail mozsvg mp3 mpeg mpeg4 msn mysql nls no-
                                                                              
exercises nptl octave offensive ogg oggvorbis opengl pcmcia pdflib php png pnp p
                                                                              
osix povray ppds readline recode regexp session sharedmem silc sms speex sse sse
                                                                               2
ssl svg svgz szip t1lib tga tidy tiff timidity tokenizer transcode truetype tr 
                                                                             
uetype-fonts trusted type1 type1-fonts underscores unicode usb utf8 v4l v4l2 vid
                                                                              
eos wifi xatrix xine xinerama xml2 xosd xsl xv xvid zlib userland_GNU kernel_lin
                                                                              
ux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LC_ALL, LDFLAGS, LINGUAS, MAKEOPTS, PORTDIR_OVERLAY




Comment 2


Jakub Moc (RETIRED)






          2005-08-09 05:56:57 UTC
        

Works with >=gcc-3.4.x (see Bug 55487).




Comment 3


Lothar Krause





          2005-08-09 05:57:29 UTC
        

Created attachment 65524 [details]
preprocessed source from session.c




Comment 4


Lothar Krause





          2005-08-09 06:07:27 UTC
        

(In reply to comment #1)
> Works with >=gcc-3.4.x (see Bug 55487).

since when is 'bleeding edge' the new 'stable'? I have lost track of counting
how often my emerges bomb or gnome starts to act a litte strange. I heartly
suggest to stop calling it 'stable' and start calling it a tiny bit less
experimental.





Comment 5


Jakub Moc (RETIRED)






          2005-08-09 07:26:23 UTC
        

(In reply to comment #3)
> (In reply to comment #1)
> > Works with >=gcc-3.4.x (see Bug 55487).
> 
> since when is 'bleeding edge' the new 'stable'?

I'm missing any mention of stable in the above quote, all I told is that it
works with >=gcc-3.4.x. and referred to the other bug. Period. What's your
trouble with understanding that?





Comment 6


SpanKY






          2005-09-05 18:43:42 UTC
        

test it with gcc-3.3.6 please




Comment 7


Lothar Krause





          2005-09-08 04:59:24 UTC
        

Seems to work.

Thought to refrain from setting x86 would make run the world updates smoothly 
95% of the time. frustrates my when things don't work, especially when this is 
seemingly innocent, like updating a x86 gentoo in spanish. frustrates me even 
more to sit down take a huge amount of my limited time, to type up a bug report 
thats completely useless because the underlining cause in question has already 
been solved.







Comment 8


SpanKY






          2005-10-18 20:34:43 UTC
        

k




Comment 9


wel





          2005-12-04 11:19:32 UTC
        

Here doesn't work yet. Same configuration, but with LANG="C" in make.conf.




Comment 10


wel





          2005-12-04 11:20:36 UTC
        

Here doesn't work yet. Same configuration, but with LANG="C" in make.conf.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

