Title: 334707 – games-puzzle/enigma-1.01 installs, but dies on startup
URL: https://bugs.gentoo.org/show_bug.cgi?id=334707

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 334707
games-puzzle/enigma-1.01 installs, but dies on startup
Last modified: 2011-12-08 18:07:39 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 334707 
      - games-puzzle/enigma-1.01 installs, but dies on startup


Summary:
games-puzzle/enigma-1.01 installs, but dies on startup
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Games

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Games








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2010-08-26 23:30 UTC by Phil Stracchino (Unix Ronin)





      Modified:
    
2011-12-08 18:07 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Phil Stracchino (Unix Ronin)





          2010-08-26 23:30:18 UTC
        

games-puzzle/enigma-1.01 builds and installs without any significant problem, but dies on startup with a SEGV.  strace /usr/games/bin/enigma yields a trace ending with the following:

getrlimit(RLIMIT_STACK, {rlim_cur=8192*1024, rlim_max=RLIM_INFINITY}) = 0
uname({sys="Linux", node="babylon5", ...}) = 0
futex(0xb738c79c, FUTEX_WAKE_PRIVATE, 2147483647) = 0
brk(0)                                  = 0x970e000
brk(0x972f000)                          = 0x972f000
stat64("/home/alaric", {st_mode=S_IFDIR|0710, st_size=65536, ...}) = 0
open("/usr/lib/icu/icuplugins44.txt", O_RDONLY) = -1 ENOENT (No such file or directory)
stat64("/usr/share/xerces-c/msg/xercesc_messages_3_0/en_US.res", 0xbf8ac93c) = -1 ENOENT (No such file or directory)
stat64("/usr/share/xerces-c/msg/xercesc_messages_3_0.dat", 0xbf8ac68c) = -1 ENOENT (No such file or directory)
stat64("/usr/share/xerces-c/msg/xercesc_messages_3_0/en.res", 0xbf8ac93c) = -1 ENOENT (No such file or directory)
stat64("/usr/share/xerces-c/msg/xercesc_messages_3_0.dat", 0xbf8ac68c) = -1 ENOENT (No such file or directory)
stat64("/usr/share/xerces-c/msg/xercesc_messages_3_0/root.res", 0xbf8ac93c) = -1 ENOENT (No such file or directory)
stat64("/usr/share/xerces-c/msg/xercesc_messages_3_0.dat", 0xbf8ac68c) = -1 ENOENT (No such file or directory)
brk(0x9750000)                          = 0x9750000
brk(0x974f000)                          = 0x974f000
brk(0x9770000)                          = 0x9770000
--- SIGSEGV (Segmentation fault) @ 0 (0) ---
+++ killed by SIGSEGV +++
Segmentation fault

/usr/lib/icu exists, but /usr/lib/icu/icuplugins44.txt does not.  Neither does /usr/share/xerces-c.

emerge -vuD games-puzzle/enigma installed the following new and upgraded packages:
net-libs/enet-1.2.2
dev-libs/icu-4.4.1 (upgrade, previously 4.2.1)
dev-libs/xerces-c-3.0.1-r1[icu]
media-libs/libmikmod-3.2.0_beta2-r1
media-libs/sdl-ttf-2.0.9
media-libs/sdl-mixer-1.2.11-r1
games-puzzle/enigma-1.01



Reproducible: Always

Steps to Reproduce:
1. emerge -vuD games-puzzle/enigma
2. add user to group games if necessary
3. try to start /usr/games/bin/enigma

Actual Results:  
Enigma does on startup after failing to find /usr/lib/icu/icuplugins44.txt and /usr/share/xerces-c/msg/xercesc_messages_3_0/*


# emerge --info
Portage 2.1.8.3 (default/linux/x86/10.0/desktop, gcc-4.4.3, glibc-2.11.2-r0, 2.6.35-gentoo-babylon5 i686)
=================================================================
System uname: Linux-2.6.35-gentoo-babylon5-i686-AMD_Athlon-TM-_XP_2400+-with-gentoo-1.12.13
Timestamp of tree: Thu, 26 Aug 2010 05:45:03 +0000
distcc 3.1 i686-pc-linux-gnu [enabled]
ccache version 2.4 [disabled]
app-shells/bash:     4.1_p7
dev-java/java-config: 2.1.11
dev-lang/python:     2.6.5-r3, 3.1.2-r4
dev-util/ccache:     2.4-r7
dev-util/cmake:      2.8.1-r2
sys-apps/baselayout: 1.12.13
sys-apps/sandbox:    1.6-r2
sys-devel/autoconf:  2.13, 2.65
sys-devel/automake:  1.9.6-r2, 1.10.3, 1.11.1
sys-devel/binutils:  2.20.1-r1
sys-devel/gcc:       4.4.3-r2
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   2.2.10
sys-devel/make:      3.81-r2
virtual/os-headers:  2.6.30-r1
ACCEPT_KEYWORDS="x86"
ACCEPT_LICENSE="*"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=athlon-xp -mfpmath=sse -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/X11/xkb /usr/share/config /var/bind /var/lib/hsqldb"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo"
CXXFLAGS="-O2 -march=athlon-xp -mfpmath=sse -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="assume-digests distcc distlocks fixpackages news parallel-fetch protect-owned sandbox sfperms strict unmerge-logs unmerge-orphans userfetch"
GENTOO_MIRRORS="http://mirror.mcs.anl.gov/pub/gentoo                 ftp://mirror.iawnet.sandia.gov/pub/gentoo                 http://gentoo.cites.uiuc.edu/pub/gentoo                 http://gentoo.chem.wisc.edu/gentoo                 http://gentoo.osuosl.org                 http://www.gtlib.gatech.edu/pub/gentoo                 ftp://mirrors.rit.edu/gentoo                 http://mirrors.cs.wmich.edu/gentoo                 "
LDFLAGS="-Wl,-O1 -Wl,--as-needed"
MAKEOPTS="-j11 -l4"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/var/lib/layman/perl-experimental /var/lib/layman/robbat2 /var/lib/alaric"
SYNC="rsync://rsync21.us.gentoo.org/gentoo-portage"
USE="3dnow 3dnowext X a52 aac acl acpi alsa bash-completion berkdb branding bzip2 cairo cdda cddb cdr cli consolekit cracklib crypt cups cxx dbus dri dts dvd dvdr emboss encode exif ffmpeg firefox flac fltk fortran gdbm gif gpm gtk hal iconv id3tag imagemagick ipv6 java jpeg jpeg2k kde lcms ldap libnotify mad mikmod mmx mmxext mng modules mp3 mp4 mpeg mudflap mysql ncurses nls nptl nptlonly ogg opengl openmp pam pango pcre pdf perl png ppds pppd python qt3support qt4 readline reflection sdl session speex spell spl sse ssl startup-notification svg sysfs tcpd theora threads tiff tk tools truetype unicode usb utils vorbis x264 x86 xcb xml xorg xpm xulrunner xv xvid zlib" ALSA_CARDS="cmipci emu10k1" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" ELIBC="glibc" INPUT_DEVICES="evdev keyboard mouse" KERNEL="linux" RUBY_TARGETS="ruby18" USERLAND="GNU" VIDEO_CARDS="mga vesa vga" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LANG, LC_ALL, LINGUAS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Diego Elio Pettenò (RETIRED)






          2010-08-26 23:37:14 UTC
        

Please use the instructions at http://www.gentoo.org/proj/en/qa/backtraces.xml to provide a proper backtrace; strace won't help you in this situation.





Comment 2


Phil Stracchino (Unix Ronin)





          2010-08-27 01:14:39 UTC
        

Go figure.  I rebuilt it with debugging symbols, and now I can't reproduce the SEGV.

Might want to write this one off as unconfirmed for now, until and unless I can reproduce it in a debugging environment.




Comment 3


Mr. Bones. (RETIRED)






          2011-01-25 08:20:11 UTC
        

See if it works with dev-libs/xerces-c[-icu, -iconv]




Comment 4


Mr. Bones. (RETIRED)






          2011-12-08 18:07:39 UTC
        

Seems to be working.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

