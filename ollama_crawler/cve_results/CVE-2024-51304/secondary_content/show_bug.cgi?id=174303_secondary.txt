Title: 174303 – mail-client/mutt-1.5.15-r1 failed to emerge
URL: https://bugs.gentoo.org/show_bug.cgi?id=174303

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 174303
mail-client/mutt-1.5.15-r1 failed to emerge
Last modified: 2007-04-14 16:06:05 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 174303 
      - mail-client/mutt-1.5.15-r1 failed to emerge


Summary:
mail-client/mutt-1.5.15-r1 failed to emerge
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       major
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-04-12 17:15 UTC by Chris Smith





      Modified:
    
2007-04-14 16:06 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



transacid









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Chris Smith





          2007-04-12 17:15:41 UTC
        

mail-client/mutt-1.5.15-r1 fails on emerge:

x86_64-pc-linux-gnu-gcc  -Wall -pedantic -march=nocona -O2 -fomit-frame-pointer -pipe   -o pgpring pgppubring.o pgplib.o lib.o extlib.o sha1.o md5c.o pgppacket.o ascii.o regex.o   -L/usr/lib -ldb-4.5
x86_64-pc-linux-gnu-gcc  -Wall -pedantic -march=nocona -O2 -fomit-frame-pointer -pipe   -o pgpewrap pgpewrap.o regex.o  -L/usr/lib -ldb-4.5
lib.o: In function `mutt_mkwrapdir':
lib.c:(.text+0x592): warning: the use of `mktemp' is dangerous, better use `mkstemp'
lib.o: In function `mutt_mkwrapdir':
lib.c:(.text+0x592): warning: the use of `mktemp' is dangerous, better use `mkstemp'
hcache.o: In function `mutt_hcache_open':
hcache.c:(.text+0x384): undefined reference to `db_env_create_4002'
hcache.c:(.text+0x3ca): undefined reference to `db_create_4002'
collect2: ld returned 1 exit status
make[2]: *** [mutt] Error 1
make[2]: Leaving directory `/var/tmp/portage/mail-client/mutt-1.5.15-r1/work/mutt-1.5.15'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/mail-client/mutt-1.5.15-r1/work/mutt-1.5.15'
make: *** [all] Error 2

!!! ERROR: mail-client/mutt-1.5.15-r1 failed.


Reproducible: Always




# emerge --info
Portage 2.1.2.3 (default-linux/amd64/2006.1, gcc-4.1.2, glibc-2.5-r1, 2.6.20-ck1 x86_64)
=================================================================
System uname: 2.6.20-ck1 x86_64 Intel(R) Core(TM)2 CPU 6600 @ 2.40GHz
Gentoo Base System release 1.12.10
Timestamp of tree: Thu, 12 Apr 2007 15:20:02 +0000
dev-java/java-config: 1.3.7, 2.0.31-r5
dev-lang/python:     2.4.4, 2.5-r2
dev-python/pycrypto: 2.0.1-r5
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.61
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.17
sys-devel/gcc-config: 1.3.16
sys-devel/libtool:   1.5.23b
virtual/os-headers:  2.6.20-r2
ACCEPT_KEYWORDS="amd64 ~amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=nocona -O2 -fomit-frame-pointer -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c"
CXXFLAGS="-march=nocona -O2 -fomit-frame-pointer -pipe"
DISTDIR="/usr/portage/distfiles"
EMERGE_DEFAULT_OPTS="--with-bdeps y"
FEATURES="distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://gentoo.mirrors.tds.net/gentoo http://gentoo.cites.uiuc.edu/pub/gentoo/ ftp://gentoo.chem.wisc.edu/gentoo/ http://prometheus.cs.wmich.edu/gentoo http://gentoo.chem.wisc.edu/gentoo/"
LC_ALL="en_US.UTF-8"
LINGUAS="en"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage /usr/local/overlays/xeffects"
SYNC="rsync://rsync.namerica.gentoo.org/gentoo-portage"
USE="X a52 aac aalib acl acpi alsa amd64 apache2 arts audiofile avi bash-completion berkdb bitmap-fonts bzip2 cairo cdparanoia cdr cli cracklib crypt cups curl dbus dri dts dv dvb dvd dvdr dvdread encode exif fam ffmpeg flac fortran gdbm gif gphoto2 gpm gstreamer gtk2 hal iconv imagemagick imap ipv6 isdnlog jack java jpeg jpeg2k kde kdeenablefinal lame lcd lcms ldap libg++ lm_sensors mad midi mmap mozcalendar mozilla mp3 musicbrainz ncurses newspr nls nodrm nptl nptlonly nvidia ofx ogg oggvorbis openexr opengl pam pcre pda pdf perl png ppds pppd python qt3 qt4 quicktime readline reflection samba sasl scanner sdl session slp sndfile spell spl ssl subversion svg tcltk tcpd theora threads tiff truetype truetype-fonts type1-fonts unicode usb utf8 v4l v4l2 vcd vorbis wmf xattr xcomposite xine xml xorg xscreensaver xv xvid xvmc zlib" ALSA_CARDS="hda-intel hdsp" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" ELIBC="glibc" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en" USERLAND="GNU" VIDEO_CARDS="nvidia nv vesa fbdev vmware v4l"
Unset:  CTARGET, INSTALL_MASK, LANG, LDFLAGS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Jakub Moc (RETIRED)






          2007-04-12 21:00:11 UTC
        



*** This bug has been marked as a duplicate of bug 132968 ***




Comment 2


Chris Smith





          2007-04-12 21:07:30 UTC
        

Reopening as sys-libs/db had already been remerged as an attempt to preclude this bug report. It didn't solve the problem in this case as it did in bug 132968.




Comment 3


Jakub Moc (RETIRED)






          2007-04-12 21:08:38 UTC
        

Yeah, this is not a mutt bug at all; run revdep-rebuild.




Comment 4


Chris Smith





          2007-04-12 22:21:29 UTC
        

(In reply to comment #3)
> Yeah, this is not a mutt bug at all; run revdep-rebuild.

Not that simple as I had already run revdep-rebuild with no issues.

Problem seemed to stem from 3 different versions of db being slotted in the system (4.2.52,4.3.29,4.5.20), so I removed all but the 4.5.x, then ran revdep-rebuild which needed to rebuild a lot of packages, then mutt emerged OK.

Apparently portage doesn't deal with these slotted versions and dependencies so well.




Comment 5


Jakub Moc (RETIRED)






          2007-04-14 16:06:05 UTC
        

*** Bug 174598 has been marked as a duplicate of this bug. ***









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

