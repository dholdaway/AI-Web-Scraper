Title: 469376 – dev-vcs/git-cola-1.8.2 - Build target (python2_7) not in PYTHON_TARGETS.
URL: https://bugs.gentoo.org/show_bug.cgi?id=469376

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 469376
dev-vcs/git-cola-1.8.2 - Build target (python2_7) not in PYTHON_TARGETS.
Last modified: 2013-05-12 16:30:52 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 469376 
      - dev-vcs/git-cola-1.8.2 - Build target (python2_7) not in PYTHON_TARGETS.


Summary:
dev-vcs/git-cola-1.8.2 - Build target (python2_7) not in PYTHON_TARGETS.
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Development

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Tiziano Müller (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2013-05-11 06:16 UTC by hajo





      Modified:
    
2013-05-12 16:30 UTC
      (History)
    




          CC List:
        

3 
          users
          
            (show)
          



hajo
jlec
python









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


hajo





          2013-05-11 06:16:43 UTC
        

The new version Useflags in dev-vcs/git-cola-1.8.2 for PYTHON_TARGETS = not detected. Blocked emerge.

--------------------------------------------
emerge -NDuva @world:	

These are the packages that would be merged, in order:

Calculating dependencies... done!

emerge: there are no ebuilds built with USE flags to satisfy "dev-python/pyinotify[python_targets_python2_6(-)?,python_targets_python2_7(-)?,python_single_target_python2_6(+)?,python_single_target_python2_7(+)?]".
!!! One of the following packages is required to complete your request:
- dev-vcs/git-cola-1.8.2::gentoo (Change USE: -python_targets_python2_7)
(dependency required by "dev-vcs/git-cola-1.8.2" [ebuild])
(dependency required by "@selected" [set])
(dependency required by "@world" [argument])
	
--------------------------------------------

If I do this in /etc/portage/package.use

=dev-vcs/git-cola-1.8.2 -python_targets_python2_7

I get this message:

--------------------------------------------
emerge -NDuva @world:	

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild U ~] dev-vcs/git-cola-1.8.2 [1.8.1] USE="-doc {-test}" PYTHON_SINGLE_TARGET="python2_7%* -python2_6%" PYTHON_TARGETS="-python2_6% -python2_7%" 0 kB

Total: 1 package (1 upgrade), Size of downloads: 0 kB

Would you like to merge these packages? [Yes/No]

--------------------------------------------

After a Yes this error appears:

--------------------------------------------

Would you like to merge these packages? [Yes/No] yes

>>> Verifying ebuild manifests

>>> Emerging (1 of 1) dev-vcs/git-cola-1.8.2
* git-cola-1.8.2.tar.gz SHA256 SHA512 WHIRLPOOL size ;-) ... [ ok ]
* The implementation chosen as PYTHON_SINGLE_TARGET must be added
* to PYTHON_TARGETS as well. This is in order to ensure that
* dependencies are satisfied correctly. We're sorry
* for the inconvenience.

* ERROR: dev-vcs/git-cola-1.8.2 failed (setup phase):
* Build target (python2_7) not in PYTHON_TARGETS.
*
* Call stack:
* ebuild.sh, line 93: Called pkg_setup
* ebuild.sh, line 326: Called python-single-r1_pkg_setup
* python-single-r1.eclass, line 206: Called die
* The specific snippet of code:
* die "Build target (${impl}) not in PYTHON_TARGETS."
*
* If you need support, post the output of `emerge --info '=dev-vcs/git-cola-1.8.2'`,
* the complete build log and the output of `emerge -pqv '=dev-vcs/git-cola-1.8.2'`.
* The complete build log is located at '/var/log/portage/dev-vcs:git-cola-1.8.2:20130510-094527.log'.
* For convenience, a symlink to the build log is located at '/var/tmp/portage/dev-vcs/git-cola-1.8.2/temp/build.log'.
* The ebuild environment file is located at '/var/tmp/portage/dev-vcs/git-cola-1.8.2/temp/die.env'.
* Working directory: '/var/tmp/portage/dev-vcs/git-cola-1.8.2'
* S: '/var/tmp/portage/dev-vcs/git-cola-1.8.2/work/git-cola-1.8.2' 
--------------------------------------------

If I play with /etc/portage/package.use and set:
=dev-vcs/git-cola-1.8.2 -python_targets_python2_7 python_single_target_python2_7

the result is:

--------------------------------------------
emerge -NDuva @world:	


These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild U ~] dev-vcs/git-cola-1.8.2 [1.8.1] USE="-doc {-test}" PYTHON_SINGLE_TARGET="python2_7%* -python2_6%" PYTHON_TARGETS="-python2_6% -python2_7%" 0 kB

Total: 1 package (1 upgrade), Size of downloads: 0 kB

Would you like to merge these packages? [Yes/No] yes

>>> Verifying ebuild manifests

>>> Emerging (1 of 1) dev-vcs/git-cola-1.8.2
* git-cola-1.8.2.tar.gz SHA256 SHA512 WHIRLPOOL size ;-) ... [ ok ]
* The implementation chosen as PYTHON_SINGLE_TARGET must be added
* to PYTHON_TARGETS as well. This is in order to ensure that
* dependencies are satisfied correctly. We're sorry
* for the inconvenience.

* ERROR: dev-vcs/git-cola-1.8.2 failed (setup phase):
* Build target (python2_7) not in PYTHON_TARGETS.
*
* Call stack:
* ebuild.sh, line 93: Called pkg_setup
* ebuild.sh, line 326: Called python-single-r1_pkg_setup
* python-single-r1.eclass, line 206: Called die
* The specific snippet of code:
* die "Build target (${impl}) not in PYTHON_TARGETS."
*
* If you need support, post the output of `emerge --info '=dev-vcs/git-cola-1.8.2'`,
* the complete build log and the output of `emerge -pqv '=dev-vcs/git-cola-1.8.2'`.
* The complete build log is located at '/var/log/portage/dev-vcs:git-cola-1.8.2:20130510-095429.log'.
* For convenience, a symlink to the build log is located at '/var/tmp/portage/dev-vcs/git-cola-1.8.2/temp/build.log'.
* The ebuild environment file is located at '/var/tmp/portage/dev-vcs/git-cola-1.8.2/temp/die.env'.
* Working directory: '/var/tmp/portage/dev-vcs/git-cola-1.8.2'
* S: '/var/tmp/portage/dev-vcs/git-cola-1.8.2/work/git-cola-1.8.2'
--------------------------------------------

This is the same error message as above.

If I set /etc/portage/package.use to:
=dev-vcs/git-cola-1.8.2 python_targets_python2_7 python_single_target_python2_7

the first error message appears:

--------------------------------------------

emerge -NDuva @world:	


These are the packages that would be merged, in order:

Calculating dependencies... done!

emerge: there are no ebuilds built with USE flags to satisfy "dev-python/pyinotify[python_targets_python2_6(-)?,python_targets_python2_7(-)?,python_single_target_python2_6(+)?,python_single_target_python2_7(+)?]".
!!! One of the following packages is required to complete your request:
- dev-vcs/git-cola-1.8.2::gentoo (Change USE: -python_targets_python2_7)
(dependency required by "dev-vcs/git-cola-1.8.2" [ebuild])
(dependency required by "@selected" [set])
(dependency required by "@world" [argument]) 
--------------------------------------------

My system:

eselect python list:	

Available Python interpreters:
[1] python2.7 *
[2] python3.1
[3] python3.2
[4] python3.3 
--------------------------------------------




Comment 1


hajo





          2013-05-11 06:18:00 UTC
        

emerge --info
Portage 2.1.11.63 (default/linux/amd64/13.0/desktop/gnome, gcc-4.7.2, glibc-2.15-r3, 3.9.0-gentoo x86_64)
=================================================================
System uname: Linux-3.9.0-gentoo-x86_64-AMD_Phenom-tm-_II_X6_1090T_Processor-with-gentoo-2.2
KiB Mem:     8169708 total,   2898980 free
KiB Swap:   20980852 total,  20980852 free
Timestamp of tree: Fri, 10 May 2013 23:30:01 +0000
ld GNU ld (GNU Binutils) 2.22
app-shells/bash:          4.2_p45
dev-java/java-config:     2.1.12-r1
dev-lang/python:          2.7.3-r3, 3.1.5-r1, 3.2.3-r2, 3.3.0-r1
dev-util/cmake:           2.8.10.2-r2
sys-apps/baselayout:      2.2
sys-apps/openrc:          0.11.8
sys-apps/sandbox:         2.6-r1
sys-devel/autoconf:       2.13, 2.69
sys-devel/automake:       1.9.6-r3, 1.10.3, 1.11.6, 1.12.6
sys-devel/binutils:       2.22-r1
sys-devel/gcc:            4.7.2-r1
sys-devel/gcc-config:     1.7.3
sys-devel/libtool:        2.4-r1
sys-devel/make:           3.82-r4
sys-kernel/linux-headers: 3.7 (virtual/os-headers)
sys-libs/glibc:           2.15-r3
Repositories: gentoo vmware lokal
ACCEPT_KEYWORDS="amd64"
ACCEPT_LICENSE="*"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -march=native -pipe -fomit-frame-pointer"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /etc/conf.d /etc/init.d /usr/share/config/kdm /usr/share/gnupg/qualified.txt"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/dconf /etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php5.4/ext-active/ /etc/php/cgi-php5.4/ext-active/ /etc/php/cli-php5.4/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/skel /etc/splash /etc/terminfo"
CXXFLAGS="-O2 -march=native -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage//distfiles"
EMERGE_DEFAULT_OPTS="--with-bdeps=y --backtrack=30 --keep-going --autounmask=n --quiet-build=n"
FCFLAGS="-O2 -pipe"
FEATURES="assume-digests binpkg-logs collision-protect config-protect-if-modified distlocks ebuild-locks fixlafiles merge-sync news parallel-fetch protect-owned sandbox sfperms splitdebug strict unknown-features-warn unmerge-logs unmerge-orphans userfetch userpriv xattr"
FFLAGS="-O2 -pipe"
GENTOO_MIRRORS="http://ftp-stud.hs-esslingen.de/pub/Mirrors/gentoo/ http://mirror.netcologne.de/gentoo/ http://gentoo.mneisen.org/"
LANG="de_DE.UTF-8"
LDFLAGS="-Wl,-O1 -Wl,--as-needed"
MAKEOPTS="-j7"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --human-readable --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/var/lib/layman/vmware /usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="3dnow 3dnowext X a52 aac aacs aalib acl acpi alsa amd64 aqsis artworkextra aspell autoipd avahi bash-completion berkdb blender bluetooth bluray branding btrfs bzip2 cairo cdda cdparanoia cdr cdrom cdsound chromium clamav clamd cleartype cli clutter collada colord consolekit corefonts cpudetection cpufreq cracklib crypt cryptsetup css cups curl cvs cxx dbus dconf device-mapper dhcp dhcpcd dia dirac directfb dri dts dv dvb dvbplayer dvbpsi dvd dvdnav dvdr dxva2 eds egl emboss encode equalizer eselect espeak exif extensions faac fam fat fbcon fbcondecor ffmpeg firefox flac flash fontconfig fonts fortran frei0r ftp fuse g3dvl gallium game-engine gbm gconf gd gdbm geoclue geocode geoip geoloc geolocation geonames gflags ggi gif gimp git glamor glchess gles gles1 gles2 gnome gnome-keyring gnome-online-accounts gnome-print gnome-shell gpac gpg gphoto2 gpm grammar grilo gs gstreamer gtk gtk3 gucharmap gui hddtemp hostip hpcups hpijs hsm http icap-client iconv icu id3tag ieee1394 image imagemagick imap inkjar inotify introspection iplayer java java6 javascript jce jemalloc jfs jpeg jpeg2k kate kvm lame lcms lib libass libcaca libkms libmpeg2 libnotify libsamplerate libsecret libtiger libv4l libv4l2 libvisual lirc lm_sensors logrotate lucene mad mail math matroska mca mce md5sum mdadm mdnsresponder-compat melt mercurial messages mhash milter minizip mjpeg mms mmx mmxext mng modules mozilla mp3 mp4 mpeg mpg123 mplayer mudflap multilib multimedia multislot musepack musicbrainz nas nautilus ncurses network nfs nfsidmap nfsv3 nfsv4 nfsv41 nls nominatim nptl nsplugin nss ntfs nvram nx objc ocr ogg ogg123 ogm openal opengl openmp openssl openvg openxml optimisememory opus orc osmesa oss pae pam pango pcaprub pcre pdf pdfimport perl pic player plugins pmu png policykit pop postgres powermanager ppds pronounce pulseaudio python python3 qemu qt-faststart qt3support qt4 qtscript quicktime r600-llvm-compiler radio rar raw readline reiser4 reiserfs resolvconf rpc scanner schroedinger sdl sendto sensord sensors session shine smp sms smtp snmp socialweb source speech speex spell sqlite sse sse2 sse3 sse4 sse4a sse5 ssh1 ssl ssse3 startup-notification subversion svg taglib tcpd telepathy terminal test-programs theora thesaurus thumbnail tiff tor tordns totem truetype twolame type1 type3 udev udisks unicode upower usb usbredir utils uuid v4l v4l2 vala vcd vdr video vlc vmware vmware-tools vnc vorbis vpx wav waveout wavpack webcam webgl webkit wmf wxwidgets x264 xa xattr xcb xcf xfs xinerama xml xmltv xosd xv xvfb xvid xvmc youtube zlib" ABI_X86="64" ALSA_CARDS="hda-intel" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="authn_core authz_core socache_shmcb unixd actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cgi cgid dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CALLIGRA_FEATURES="kexi words flow plan sheets stage tables krita karbon braindump author" CAMERAS="*" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf superstar2 timing tsip tripmate tnt ubx" GRUB_PLATFORMS="pc" INPUT_DEVICES="evdev vmmouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LIBREOFFICE_EXTENSIONS="presenter-console presenter-minimizer" LINGUAS="de" LIRC_DEVICES="pctv" OFFICE_IMPLEMENTATION="libreoffice" PHP_TARGETS="php5-3" PYTHON_SINGLE_TARGET="python2_7" PYTHON_TARGETS="python2_7 python3_1 python3_2" QEMU_SOFTMMU_TARGETS="x86_64" QEMU_USER_TARGETS="x86_64" RUBY_TARGETS="ruby18 ruby19" SANE_BACKENDS="hp hp3500 hp3900 hp4200 hp5400 hp5590" USERLAND="GNU" VIDEO_CARDS="radeon radeonsi r600 fbdev vesa vmware" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account"
Unset:  CPPFLAGS, CTARGET, INSTALL_MASK, LC_ALL, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, USE_PYTHON




Comment 2


Justin Lecher (RETIRED)






          2013-05-11 16:17:43 UTC
        

DISTUTILS_SINGLE_IMPL=true seems to be borked.




Comment 3


Michał Górny









          2013-05-11 16:40:01 UTC
        

What are your ACCEPT_KEYWORDS? If you're running a stable system, you need to keyword a newer pyinotify.




Comment 4


hajo





          2013-05-12 13:46:39 UTC
        

Thank you.
An update to dev-python/pyinotify-0.9.4-r1 has fixed the problem.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

