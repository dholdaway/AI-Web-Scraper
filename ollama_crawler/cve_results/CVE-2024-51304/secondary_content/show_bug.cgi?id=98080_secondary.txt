Title: 98080 – kde apps crash when using certain a certain widget
URL: https://bugs.gentoo.org/show_bug.cgi?id=98080

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 98080
kde apps crash when using certain a certain widget
Last modified: 2005-09-01 10:07:53 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 98080 
      - kde apps crash when using certain a certain widget


Summary:
kde apps crash when using certain a certain widget
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

PPC
        Linux
      







Importance:
      
High
       critical
      


Assignee:

PPC Porters








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-07-05 21:56 UTC by Thomas Marschall





      Modified:
    
2005-09-01 10:07 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



kde









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Thomas Marschall





          2005-07-05 21:56:09 UTC
        

when using a popup button widget in kde 3.4.1, whatever app you are using at the
time crashes.

Reproducible: Always
Steps to Reproduce:
1.get into kde.
2.get to the "Configure Panel" screen, I do it by right clicking on the panel
itself.
3.click on the button to change the size of the panel.
4.

Actual Results:  
the app should crash immediately.

Expected Results:  
not crashed.

Portage 2.0.51.19 (default-linux/ppc/2004.3, gcc-3.4.4, glibc-2.3.4.20041102-r1,
2.6.9-test ppc)
=================================================================
System uname: 2.6.9-test ppc 7450, altivec supported
Gentoo Base System version 1.4.16
Python:              dev-lang/python-2.3.5 [2.3.5 (#1, May  3 2005, 13:26:47)]
distcc 2.16 powerpc-unknown-linux-gnu (protocols 1 and 2) (default port 3632)
[disabled]
dev-lang/python:     2.3.5
sys-apps/sandbox:    [Not Present]
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.5, 1.9.5, 1.8.5-r3, 1.7.9-r1, 1.6.3, 1.4_p6
sys-devel/binutils:  2.15.90.0.3-r5
sys-devel/libtool:   1.5.16
virtual/os-headers:  2.6.8.1-r4
ACCEPT_KEYWORDS="ppc"
AUTOCLEAN="yes"
CFLAGS="-O2 -mtune=powerpc -fno-strict-aliasing -pipe -mcpu=7400 -maltivec
-mabi=altivec"
CHOST="powerpc-unknown-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.3/env
/usr/kde/3.3/share/config /usr/kde/3.3/shutdown /usr/kde/3.4/env
/usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config
/usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/
/usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/
/usr/share/texmf/xdvi/ /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -mtune=powerpc -fno-strict-aliasing -pipe -mcpu=7400 -maltivec
-mabi=altivec"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig ccache distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org
http://distro.ibiblio.org/pub/Linux/distributions/gentoo"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://10.0.1.1/gentoo-portage"
USE="ppc X Xaw3d alsa altivec arts audiofile bash-completion bcmath berkdb
bitmap-fonts bonobo caps cdr cpdflib crypt ctype cups curl curlwrappers doc dvd
eds emacs emboss encode esd ethereal evo exif fam fftw flac font-server fortran
ftp gd gdbm gif ginac gnome gnustep gnutls gpm gstreamer gtk gtk2 gtkhtml
hardenedphp iconv imagemagick imlib innodb ipv6 jabber jack java jpeg junit kde
kerberos krb4 ladcca leim lesstif libedit libg++ libgda libwww mad mhash mime
mmap mng mnogosearch motif mozilla mp3 mpeg mpi msession msn mule mysql mysqli
nas ncurses nls nocd offensive ogg oggvorbis openal opengl oscar oss pam pcntl
pcre pdflib perl php pic pie plotutils png portaudio posix ppds prelude python
qt quicktime readline ruby samba sdl session shared sharedmem simplexml slang
slp sndfile soap sockets spell spl ssl svg sysvipc tcltk tcpd tetex theora tidy
tiff tokenizer truetype truetype-fonts type1-fonts unicode usb vhosts videos
vorbis wmf wxwindows xface xine xinerama xml xml2 xmlrpc xmms xosd xpm xprint
xsl xv xvid yahoo zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CBUILD, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTDIR_OVERLAY
-------------------------------------------------
when I start kde, I have a kinda odd way of doing it.  I don't know how common
this method is, so I'll just explain it here shortly.  Pardon my pseudo shell
syntax.
$startx
(then from with-in the single xterm window that my X starts with)
$ssh user@remotemachine -Y -C
(now on the remote machine)
$startkde
I grabbed this output from the window that I type "startkde" in, not sure how
far back the important stuff goes though:
(gnome-terminal:21724): Gdk-CRITICAL **: gdk_gc_get_colormap: assertion
`GDK_IS_GC (gc)' failed
Saving session: gnome-terminal --window-with-profile-internal-id=Default
--show-menubar --role=gnome-terminal-16703--882120520-1120608651 --active
--geometry 123x41 --title xterm --working-directory /home/thomas --zoom 1 
kio (KIOConnection): ERROR: Header read failed, errno=104
kio (KIOConnection): ERROR: Header has invalid size (-1)
kio (KIOConnection): ERROR: Header read failed, errno=104
kio (KIOConnection): ERROR: Header has invalid size (-1)
received X error event: BadAccess (attempt to access private resource denied)
QClipboard: Unknown SelectionClear event received.
QClipboard: Unknown SelectionClear event received.
libpng warning: Ignoring gAMA chunk with gamma=0
libpng warning: Invalid cHRM white point
QClipboard: Unknown SelectionClear event received.
kicker: stack smashing attack in function virtual bool
KeramikStyle::eventFilter(QObject*, QEvent*)()




Comment 1


Gregorio Guidi (RETIRED)






          2005-07-06 09:52:40 UTC
        

Never seen something like this, probably ppc specific?  
  
I can only suggest to try changing the widget style, or try with a new user, 
or try getting a backtrace of the crash... 




Comment 2


Lars Weiler (RETIRED)






          2005-07-06 13:03:08 UTC
        

No problem here on my iBook.




Comment 3


Thomas Marschall





          2005-07-06 17:32:34 UTC
        

(In reply to comment #1)
> Never seen something like this, probably ppc specific?  
I would say this is ppc specific,  I also recently upgraded kde 3.4.1 on an x86
machine here and I don't have this problem there.
   
> I can only suggest to try changing the widget style, or try with a new user, 
> or try getting a backtrace of the crash... 
I have tried opening kcontrol to change the widget style, but I get this output
from the window that I did startkde in:
"kcontrol: stack smashing attack in function virtual void
KeramikStyle::drawPrimitive(QStyle::PrimitiveElement, QPainter*, const QRect&,
const QColorGroup&, uint, const QStyleOption&) const()"
So now I need to know how I go about getting a stack trace.




Comment 4


Joe Jezak (RETIRED)






          2005-08-01 06:50:03 UTC
        

I also can't reproduce this error, perhaps you need to run revdep-rebuild?  To
get a backtrace, you'll need to use a debugger like gdb.




Comment 5


Joe Jezak (RETIRED)






          2005-09-01 10:07:53 UTC
        

Please reopen if you're still having problems after the revdep-rebuild.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

