Title: 575286 – net-libs/ignition-transport-1.0.1 fails to build - multiple issues
URL: https://bugs.gentoo.org/show_bug.cgi?id=575286

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 575286
net-libs/ignition-transport-1.0.1 fails to build - multiple issues
Last modified: 2016-03-01 11:47:29 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 575286 
      - net-libs/ignition-transport-1.0.1 fails to build - multiple issues


Summary:
net-libs/ignition-transport-1.0.1 fails to build - multiple issues
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Alexis Ballier








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2016-02-21 11:34 UTC by PetaMem R&D





      Modified:
    
2016-03-01 11:47 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



pchrist









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




ignition-transport build log

              (build.log,60.58 KB,
                text/x-log)

            
2016-02-21 11:34 UTC,

            PetaMem R&D




Details





emerge --info

              (emerge_info.txt,5.30 KB,
                text/plain)

            
2016-02-21 11:35 UTC,

            PetaMem R&D




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


PetaMem R&D





          2016-02-21 11:34:37 UTC
        

Created attachment 426096 [details]
ignition-transport build log

said package (needed as prerequisite for gazebo) fails with these famous last words on our build system.
THe complete build.log is attached
....
CMakeFiles/UNIT_AdvertiseOptions_TEST.dir/__/msgs/vector3d.pb.cc.o: In function `ignition::transport::msgs::protobuf_AssignDesc_vector3d_2eproto()':
/var/tmp/portage/net-libs/ignition-transport-1.0.1/work/ignition-transport-1.0.1_build/msgs/vector3d.pb.cc:36: undefined reference to `google::protobuf::DescriptorPool::FindFileByName(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) const'
CMakeFiles/UNIT_AdvertiseOptions_TEST.dir/__/msgs/vector3d.pb.cc.o:(.data.rel.ro._ZTVN8ignition9transport4msgs8Vector3dE[_ZTVN8ignition9transport4msgs8Vector3dE]+0x20): undefined reference to `google::protobuf::Message::GetTypeName[abi:cxx11]() const'
CMakeFiles/UNIT_AdvertiseOptions_TEST.dir/__/msgs/vector3d.pb.cc.o:(.data.rel.ro._ZTVN8ignition9transport4msgs8Vector3dE[_ZTVN8ignition9transport4msgs8Vector3dE]+0x40): undefined reference to `google::protobuf::Message::InitializationErrorString[abi:cxx11]() const'
libignition-transport1.so.1.0.1: undefined reference to `google::protobuf::MessageLite::SerializeToString(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) const'
collect2: error: ld returned 1 exit status
src/CMakeFiles/UNIT_AdvertiseOptions_TEST.dir/build.make:148: recipe for target 'src/UNIT_AdvertiseOptions_TEST' failed
make[2]: *** [src/UNIT_AdvertiseOptions_TEST] Error 1
make[2]: Leaving directory '/var/tmp/portage/net-libs/ignition-transport-1.0.1/work/ignition-transport-1.0.1_build'
CMakeFiles/Makefile2:244: recipe for target 'src/CMakeFiles/UNIT_AdvertiseOptions_TEST.dir/all' failed
make[1]: *** [src/CMakeFiles/UNIT_AdvertiseOptions_TEST.dir/all] Error 2
make[1]: Leaving directory '/var/tmp/portage/net-libs/ignition-transport-1.0.1/work/ignition-transport-1.0.1_build'
Makefile:138: recipe for target 'all' failed
make: *** [all] Error 2
 * ERROR: net-libs/ignition-transport-1.0.1::gentoo failed (compile phase):
 *   emake failed



inspecting the build log, there are some issues announcing problems:


-- Could NOT find Doxygen (missing:  DOXYGEN_EXECUTABLE) 

maybe doxygen should be a prerequisite, or make it depending on some "doc" USE-flag.
results later in

-- BUILD WARNINGS
--      ignition-tools not found, for command line utilities, please install ignition-tools.
-- END BUILD WARNINGS




Package also seems to have some cmake issues:


CMake Warning at cmake/SearchForStuff.cmake:90 (find_package):
  By not providing "Findignition-tools.cmake" in CMAKE_MODULE_PATH this
  project has asked CMake to find a package configuration file provided by
  "ignition-tools", but CMake did not find one.

  Could not find a package configuration file provided by "ignition-tools"
  with any of the following names:

    ignition-toolsConfig.cmake
    ignition-tools-config.cmake

  Add the installation prefix of "ignition-tools" to CMAKE_PREFIX_PATH or set
  "ignition-tools_DIR" to a directory containing one of the above files.  If
  "ignition-tools" provides a separate development package or SDK, be sure it
  has been installed.
Call Stack (most recent call first):
  CMakeLists.txt:136 (include)




Comment 1


PetaMem R&D





          2016-02-21 11:35:10 UTC
        

Created attachment 426098 [details]
emerge --info




Comment 2


Alexis Ballier






          2016-03-01 11:47:29 UTC
        

those warnings can be ignored, as for the build error, i think you have not followed gcc5 upgrade guide and you need to rebuild protobuf with gcc5:
https://wiki.gentoo.org/wiki/Upgrading_from_gcc-4.x_to_gcc-5.x









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

