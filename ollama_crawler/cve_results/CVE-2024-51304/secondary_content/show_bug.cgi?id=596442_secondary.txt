Title: 596442 – app-office/taskcoach-1.4.3: assertion failed "GetSize() doesn't work without window" with dev-python/wxpython-3.0.2.0
URL: https://bugs.gentoo.org/show_bug.cgi?id=596442

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 596442
app-office/taskcoach-1.4.3: assertion failed "GetSize() doesn't work without window" with dev-python/wxpython-3.0.2.0
Last modified: 2017-06-06 12:50:16 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 596442 
      - app-office/taskcoach-1.4.3: assertion failed "GetSize() doesn't work without window" with dev-python/wxpython-3.0.2.0


Summary:
app-office/taskcoach-1.4.3: assertion failed "GetSize() doesn't work without ...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

No maintainer - Look at https://wiki.gentoo.org/wiki/Project:Proxy_Maintainers if you want to take care of it








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2016-10-07 12:45 UTC by Viktor Lazarev





      Modified:
    
2017-06-06 12:50 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge --info

              (emerge-info.txt,6.59 KB,
                text/plain)

            
2016-10-07 12:45 UTC,

            Viktor Lazarev




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Viktor Lazarev





          2016-10-07 12:45:21 UTC
        

Created attachment 449456 [details]
emerge --info

It worked couple months ago, but now I'm getting this when I try to run it:

$ taskcoach.py 

(taskcoach.py:27344): Gtk-WARNING **: Theme directory base/ of theme oxygen has no size field


(taskcoach.py:27344): Gtk-CRITICAL **: IA__gtk_widget_set_size_request: assertion 'height >= -1' failed

(taskcoach.py:27344): Gtk-CRITICAL **: IA__gtk_widget_set_size_request: assertion 'width >= -1' failed

(taskcoach.py:27344): Gtk-CRITICAL **: IA__gtk_widget_set_size_request: assertion 'width >= -1' failed
Traceback (most recent call last):
  File "/usr/lib/python-exec/python2.7/taskcoach.py", line 72, in <module>
    start()
  File "/usr/lib/python-exec/python2.7/taskcoach.py", line 63, in start
    app = application.Application(options, args)
  File "/usr/lib64/python2.7/site-packages/taskcoachlib/patterns/singleton.py", line 29, in __call__
    class_.instance = super(Singleton, class_).__call__(*args, **kwargs)
  File "/usr/lib64/python2.7/site-packages/taskcoachlib/application/application.py", line 117, in __init__
    self.init(**kwargs)
  File "/usr/lib64/python2.7/site-packages/taskcoachlib/application/application.py", line 226, in init
    self.settings, splash=splash)
  File "/usr/lib64/python2.7/site-packages/taskcoachlib/gui/mainwindow.py", line 68, in __init__
    self._create_window_components()  # Not private for test purposes
  File "/usr/lib64/python2.7/site-packages/taskcoachlib/gui/mainwindow.py", line 140, in _create_window_components
    viewer.addViewers(self.viewer, self.taskFile, self.settings)
  File "/usr/lib64/python2.7/site-packages/taskcoachlib/gui/viewer/factory.py", line 45, in __init__
    self.__add_all_viewers()
  File "/usr/lib64/python2.7/site-packages/taskcoachlib/gui/viewer/factory.py", line 51, in __add_all_viewers
    self.__add_viewers(task.SquareTaskViewer)
  File "/usr/lib64/python2.7/site-packages/taskcoachlib/gui/viewer/factory.py", line 66, in __add_viewers
    **self._viewer_kwargs(viewer_class))
  File "/usr/lib64/python2.7/site-packages/taskcoachlib/patterns/metaclass.py", line 39, in __call__
    instance = super(NumberedInstances, cls).__call__(*args, **kwargs)
  File "/usr/lib64/python2.7/site-packages/taskcoachlib/gui/viewer/task.py", line 464, in __init__
    super(SquareTaskViewer, self).__init__(*args, **kwargs)
  File "/usr/lib64/python2.7/site-packages/taskcoachlib/gui/viewer/task.py", line 136, in __init__
    super(BaseTaskTreeViewer, self).__init__(*args, **kwargs)
  File "/usr/lib64/python2.7/site-packages/taskcoachlib/gui/viewer/task.py", line 77, in __init__
    super(BaseTaskViewer, self).__init__(*args, **kwargs)
  File "/usr/lib64/python2.7/site-packages/taskcoachlib/gui/viewer/mixin.py", line 85, in __init__
    super(FilterableViewerMixin, self).__init__(*args, **kwargs)
  File "/usr/lib64/python2.7/site-packages/taskcoachlib/gui/viewer/base.py", line 583, in __init__
    super(TreeViewer, self).__init__(*args, **kwargs)
  File "/usr/lib64/python2.7/site-packages/taskcoachlib/gui/viewer/base.py", line 63, in __init__
    self.widget = self.createWidget()
  File "/usr/lib64/python2.7/site-packages/taskcoachlib/gui/viewer/task.py", line 487, in createWidget
    self.onSelect, uicommand.Edit(viewer=self), itemPopupMenu)
  File "/usr/lib64/python2.7/site-packages/taskcoachlib/widgets/squaremap.py", line 29, in __init__
    highlight=False)
  File "/usr/lib64/python2.7/site-packages/taskcoachlib/widgets/tooltip.py", line 32, in __init__
    self.__timer = wx.Timer(self, wx.NewId())
  File "/usr/lib64/python2.7/site-packages/wx-3.0-gtk2/wx/_misc.py", line 284, in NewId
    return _misc_.NewId(*args)
wx._core.PyAssertionError: C++ assertion "m_window" failed at /var/tmp/portage/x11-libs/wxGTK-3.0.2.0-r2/work/wxPython-src-3.0.2.0/src/gtk/dcclient.cpp(2043) in DoGetSize(): GetSize() doesn't work without window

after removing 'dev-python/wxpython:3.0[${PYTHON_USEDEP}]' from DEPEND it works well again:

--- a/app-office/taskcoach/taskcoach-1.4.3.ebuild
+++ b/app-office/taskcoach/taskcoach-1.4.3.ebuild
@@ -20,10 +20,7 @@ KEYWORDS="~amd64 ~x86"
 IUSE="libnotify"
 
 DEPEND="
-       || (
-               >=dev-python/wxpython-2.8.9.2:2.8[${PYTHON_USEDEP}]
-               dev-python/wxpython:3.0[${PYTHON_USEDEP}]
-       )
+       >=dev-python/wxpython-2.8.9.2:2.8[${PYTHON_USEDEP}]
        >=dev-python/twisted-core-10.0
 "
 RDEPEND="${DEPEND}




Comment 1


Pacho Ramos






          2016-10-08 10:25:23 UTC
        

I cannot reproduce this with the same version of wxpython









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

