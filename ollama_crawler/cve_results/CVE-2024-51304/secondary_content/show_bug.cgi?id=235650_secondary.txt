Title: 235650 – x11-libs/libxcb-1.1.90.1 - ImportError: No module named _elementtree
URL: https://bugs.gentoo.org/show_bug.cgi?id=235650

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 235650
x11-libs/libxcb-1.1.90.1 - ImportError: No module named _elementtree
Last modified: 2014-05-24 18:13:28 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 235650 
      - x11-libs/libxcb-1.1.90.1 - ImportError: No module named _elementtree


Summary:
x11-libs/libxcb-1.1.90.1 - ImportError: No module named _elementtree
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Library

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo X packagers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-08-25 05:46 UTC by J M W





      Modified:
    
2014-05-24 18:13 UTC
      (History)
    




          CC List:
        

5 
          users
          
            (show)
          



adam.walker
emitrax
jonas
lists
steffen.weber









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


J M W





          2008-08-25 05:46:04 UTC
        

x11-libs/libxcb-1.1.90.1 fails to emerge on my system:

...
config.status: creating xcb-xprint.pc
config.status: creating xcb-xselinux.pc
config.status: creating xcb-xtest.pc
config.status: creating xcb-xv.pc
config.status: creating xcb-xvmc.pc
config.status: creating doc/xcb.doxygen
config.status: creating src/config.h
config.status: executing depfiles commands
 Package: libxcb 1.1.90.1

  Configuration
    XDM support.........: yes
    Build unit tests....: yes

  Used CFLAGS:
    CPPFLAGS............: 
    CFLAGS..............: -march=pentium4 -Os -pipe
    Warning CFLAGS......: -Wall -pedantic -Wpointer-arith               -Wstrict
-prototypes -Wmissing-declarations -Wnested-externs

  Installation:
    Prefix..............: /usr

Making all in src
make[1]: Entering directory `/var/tmp/portage/x11-libs/libxcb-1.1.90.1/work/libx
cb-1.1.90.1/src'
ln -s -f /usr/share/xcb/xproto.xml xproto.xml
/usr/bin/python ./c_client.py -p /usr/lib/python2.5/site-packages /usr/share/xcb
/xproto.xml
Traceback (most recent call last):
  File "./c_client.py", line 2, in <module>
    from xml.etree.cElementTree import *
  File "/usr/lib/python2.5/xml/etree/cElementTree.py", line 3, in <module>
    from _elementtree import *
ImportError: No module named _elementtree
make[1]: *** [xproto.c] Error 1
make[1]: Leaving directory `/var/tmp/portage/x11-libs/libxcb-1.1.90.1/work/libxc
b-1.1.90.1/src'
make: *** [all-recursive] Error 1
 * 
 * ERROR: x11-libs/libxcb-1.1.90.1 failed.
 * Call stack:
 *               ebuild.sh, line   49:  Called src_compile
 *             environment, line 2940:  Called x-modular_src_compile
 *             environment, line 3725:  Called x-modular_src_make
 *             environment, line 3761:  Called die
 * The specific snippet of code:
 *       emake || die "emake failed"
 *  The die message:
 *   emake failed
 * 
 * If you need support, post the topmost build error, and the call stack if rele
vant.
 * A complete build log is located at '/var/tmp/portage/x11-libs/libxcb-1.1.90.1
/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/x11-libs/libxcb-1
.1.90.1/temp/environment'.
 * 



Reproducible: Always

Steps to Reproduce:
1.ACCEPT_KEYWORDS="~x86" emerge libxcb


Actual Results:  
emerge failed

Expected Results:  
Should compile and emerge without issue

ProximaCentauri / # emerge --info
Portage 2.1.4.4 (default-linux/x86/2007.0/desktop, gcc-3.4.6, glibc-2.6.1-r0, 2.6.22-gentoo-r5 i686)
=================================================================
System uname: 2.6.22-gentoo-r5 i686 Intel(R) Pentium(R) 4 Mobile CPU 1.60GHz
Timestamp of tree: Sat, 23 Aug 2008 21:00:01 +0000
app-shells/bash:     3.2_p33
dev-java/java-config: 1.3.7, 2.1.6
dev-lang/python:     2.4.4-r13, 2.5.2-r5
dev-python/pycrypto: 2.0.1-r6
sys-apps/baselayout: 1.12.5
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.62-r1
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.1-r1
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.23-r3
ACCEPT_KEYWORDS="x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=pentium4 -Os -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/config /var/lib/hsqldb"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/splash /etc/terminfo /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-march=pentium4 -Os -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="distlocks metadata-transfer sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LC_ALL="en_GB.UTF-8"
LINGUAS="en_GB"
MAKEOPTS=""
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portage/local/layman/pro-audio /usr/portage/local/layman/sunrise /usr/portage/local/layman/zugaina /usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="16bit X Xaw3d a52 aac aalib acl acpi aim alsa amr amrnb amrwb amuled ao asf audacious audiofile background bash-completion bdf berkdb bidi bittorrent blender-game browserplugin bzip2 cairo caps cddb cdio cdr chardet cjk cli context cracklib crypt cscope css ctype cups curl curlwrappers cyrillic dba dbus dga directfb djvu doc dri dts dvd dvdr dvdread ecc eds emboss encode epydoc ethereal evo examples exif expat extra fam fastbuild fbcon ffmpeg finger firebird firefox flac fluidsynth font-server force-cgi-redirect fortran fpx ftp games gcrypt gd gdbm ggi gif glut glx gnutls gopher gpm grammar graphics graphviz gsm gstreamer gtk gtkhtml hal hddtemp humanities iceweasel iconv idea idn ieee1394 ilbc imlib immqt-bc injection iplsrc ipv6 isdnlog jabber jadetex jai java javascript jbig jikes jingle jmf jpeg jpeg2k jrtplib kerberos kpathsea ladspa laptop latex lcms ldap libcaca libgda libnotify loudmouth lua lyx m17n-lib mad math md5sum memlimit midi mikmod mmap mmx mng modplug motif mozcalendar mozdevelop mozilla mozsvg mozxmlterm mp2 mp3 mpeg mplayer msn mudflap musepack music mysql ncurses neXt nemesi network nls nntp nodrm nptl nptlonly nsplugin odbc offensive ogg omega openexr opengl openmp ortp oss ots pam pcmcia pcre pdf perl plotutils png pnm portaudio posix pppd profile pstricks publishers python qt3support quicktime radio rar readline real reflection rss science sdl session sid simplexml slang slp smi sndfile soap sockets socks5 sofia-sip speex spell spl srp srt srv sse sse2 ssl ssse3 startup-notification svg t1lib tcltk tcpd tex4ht theora thesaurus threads tiff timidity tk tokenizer tordns truetype tta unicode utils vcd verse vidix vim-syntax vorbis wavpack wifi win32codecs wma wmf wordperfect x264 x86 xcb xchatnogtk xetex xgetdefault xml xml2 xorg xsl xv xvid yahoo zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1 emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="keyboard mouse evdev synaptics" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en_GB" USERLAND="GNU" VIDEO_CARDS="radeon"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LANG, LDFLAGS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Wormo (RETIRED)






          2008-08-25 06:17:48 UTC
        

Does /usr/lib/python2.5/lib-dynload/_elementtree.so exist? 




Comment 2


J M W





          2008-08-25 07:38:07 UTC
        

No it doesn't. Do I have a borked setup? If you tell me what package that belongs to, I'll tell you whether my system thinks I have it or not. Libxcb doesn't appear to depend on anything python related, according to the ebuild, so is it a portage problem or what?




Comment 3


J M W





          2008-08-25 07:56:29 UTC
        

remerged dev-python/elementtree, checked carefully to see if it created an _elementtree.so, which it did not. I then tried again to emerge libxcb and it failed again. It looks to me like this file is supposed to be created during the build process or something, or else there is some sort of script I need to run to get it to be created...




Comment 4


Donnie Berkholz (RETIRED)






          2008-08-25 17:25:50 UTC
        

Are you on python 2.4 or 2.5?




Comment 5


Wormo (RETIRED)






          2008-08-25 18:20:22 UTC
        

/usr/lib/python2.5/lib-dynload/_elementtree.so is supposed to be built into python2.5, so you do have a python problem -- not an X11 problem. 

This may have been a quirk of python-2.5.2-r5
http://forums.gentoo.org/viewtopic-t-701259-highlight-python+elementtree.html
so try upgrading your python2.5 (I've got -r6, and the elementtree module built fine)




Comment 6


J M W





          2008-08-26 21:38:24 UTC
        

Emerged python-2.5-r6 and the _elementtree.so built. Emerged libxcb-1.1.90.1 with no problem. Thanks Wormo!




Comment 7


Donnie Berkholz (RETIRED)






          2008-08-28 21:19:10 UTC
        

Closing as wfm since we didn't actually make any changes to fix it.




Comment 8


Martin Chikilian





          2008-11-26 19:17:27 UTC
        

(In reply to comment #7)
> Closing as wfm since we didn't actually make any changes to fix it.
> 

Guys, i tried to emerge net-p2p/azureus and emerge fails with same error ImportError: No module named _elementtree, python-2.5.2-r8 here. I discovered that during dev-lang/python emerge module _elementtree fails with several errors, including:

building '_elementtree' extension
i686-pc-linux-gnu-gcc -pthread -fPIC -fno-strict-aliasing -DNDEBUG -O2 -march=athlon-xp -pipe -fwrapv -DUSE_PYEXPAT_CAPI -I/usr/include -I. -I/var/tmp/portage/dev-lang/python-2.5.2-r8/work/Python-2.5.2/./Include -I. -IInclude -I./Include -I/usr/local/include -I/var/tmp/portage/dev-lang/python-2.5.2-r8/work/Python-2.5.2/Include -I/var/tmp/portage/dev-lang/python-2.5.2-r8/work/Python-2.5.2 -c -DUSE_PYEXPAT_CAPI -I/usr/include -I. -I/var/tmp/portage/dev-lang/python-2.5.2-r8/work/Python-2.5.2/./Include -I. -IInclude -I./Include -I/usr/local/include -I/var/tmp/portage/dev-lang/python-2.5.2-r8/work/Python-2.5.2/Include -I/var/tmp/portage/dev-lang/python-2.5.2-r8/work/Python-2.5.2 -c /var/tmp/portage/dev-lang/python-2.5.2-r8/work/Python-2.5.2/Modules/_elementtree.c -o build/temp.linux-i686-2.5/var/tmp/portage/dev-lang/python-2.5.2-r8/work/Python-2.5.2/Modules/_elementtree.o
In file included from /var/tmp/portage/dev-lang/python-2.5.2-r8/work/Python-2.5.2/Modules/_elementtree.c:1833:
/var/tmp/portage/dev-lang/python-2.5.2-r8/work/Python-2.5.2/./Include/pyexpat.h:19: error: expected specifier-qualifier-list before 'XML_Size'
/var/tmp/portage/dev-lang/python-2.5.2-r8/work/Python-2.5.2/Modules/_elementtree.c: In function 'expat_default_handler':
/var/tmp/portage/dev-lang/python-2.5.2-r8/work/Python-2.5.2/Modules/_elementtree.c:1998: error: 'struct PyExpat_CAPI' has no member named 'GetErrorLineNumber'
/var/tmp/portage/dev-lang/python-2.5.2-r8/work/Python-2.5.2/Modules/_elementtree.c:1999: error: 'struct PyExpat_CAPI' has no member named 'GetErrorColumnNumber'
/var/tmp/portage/dev-lang/python-2.5.2-r8/work/Python-2.5.2/Modules/_elementtree.c: In function 'xmlparser':
/var/tmp/portage/dev-lang/python-2.5.2-r8/work/Python-2.5.2/Modules/_elementtree.c:2252: error: 'struct PyExpat_CAPI' has no member named 'ParserCreate_MM'
/var/tmp/portage/dev-lang/python-2.5.2-r8/work/Python-2.5.2/Modules/_elementtree.c:2265: error: 'struct PyExpat_CAPI' has no member named 'ParserFree'
/var/tmp/portage/dev-lang/python-2.5.2-r8/work/Python-2.5.2/Modules/_elementtree.c:2285: error: 'struct PyExpat_CAPI' has no member named 'SetUserData'
/var/tmp/portage/dev-lang/python-2.5.2-r8/work/Python-2.5.2/Modules/_elementtree.c:2286: error: 'struct PyExpat_CAPI' has no member named 'SetElementHandler'
/var/tmp/portage/dev-lang/python-2.5.2-r8/work/Python-2.5.2/Modules/_elementtree.c:2291: error: 'struct PyExpat_CAPI' has no member named 'SetDefaultHandlerExpand'
/var/tmp/portage/dev-lang/python-2.5.2-r8/work/Python-2.5.2/Modules/_elementtree.c:2295: error: 'struct PyExpat_CAPI' has no member named 'SetCharacterDataHandler'
/var/tmp/portage/dev-lang/python-2.5.2-r8/work/Python-2.5.2/Modules/_elementtree.c:2300: error: 'struct PyExpat_CAPI' has no member named 'SetCommentHandler'
/var/tmp/portage/dev-lang/python-2.5.2-r8/work/Python-2.5.2/Modules/_elementtree.c:2305: error: 'struct PyExpat_CAPI' has no member named 'SetProcessingInstructionHandler'
/var/tmp/portage/dev-lang/python-2.5.2-r8/work/Python-2.5.2/Modules/_elementtree.c:2310: error: 'struct PyExpat_CAPI' has no member named 'SetUnknownEncodingHandler'
/var/tmp/portage/dev-lang/python-2.5.2-r8/work/Python-2.5.2/Modules/_elementtree.c: In function 'xmlparser_dealloc':
/var/tmp/portage/dev-lang/python-2.5.2-r8/work/Python-2.5.2/Modules/_elementtree.c:2324: error: 'struct PyExpat_CAPI' has no member named 'ParserFree'
/var/tmp/portage/dev-lang/python-2.5.2-r8/work/Python-2.5.2/Modules/_elementtree.c: In function 'expat_parse':
/var/tmp/portage/dev-lang/python-2.5.2-r8/work/Python-2.5.2/Modules/_elementtree.c:2350: error: 'struct PyExpat_CAPI' has no member named 'Parse'
/var/tmp/portage/dev-lang/python-2.5.2-r8/work/Python-2.5.2/Modules/_elementtree.c:2359: error: 'struct PyExpat_CAPI' has no member named 'GetErrorLineNumber'
/var/tmp/portage/dev-lang/python-2.5.2-r8/work/Python-2.5.2/Modules/_elementtree.c:2360: error: 'struct PyExpat_CAPI' has no member named 'GetErrorColumnNumber'
/var/tmp/portage/dev-lang/python-2.5.2-r8/work/Python-2.5.2/Modules/_elementtree.c: In function 'xmlparser_setevents':
/var/tmp/portage/dev-lang/python-2.5.2-r8/work/Python-2.5.2/Modules/_elementtree.c:2520: error: 'struct PyExpat_CAPI' has no member named 'SetNamespaceDeclHandler'
/var/tmp/portage/dev-lang/python-2.5.2-r8/work/Python-2.5.2/Modules/_elementtree.c:2529: error: 'struct PyExpat_CAPI' has no member named 'SetNamespaceDeclHandler'

And thats the reason because the module is not found after emerge. The solution i found is reemerging dev-python/pyxml (contains some pyexpat code iirc) and dev-lang/python after that, module _elementtree compiled fine and that solved the problem.

I hope this can be useful for anyone having the same issue.

Regards,

Martin





Comment 9


salvo





          2008-12-01 08:13:03 UTC
        

Same problem here while emerging netbeans. Python~2.5.2-r8.




Comment 10


Kfir Ozer





          2008-12-09 14:15:02 UTC
        

i have the same problem, recompiling pyxml, python and elementtree does not resolve the issue.

******************************************
Traceback (most recent call last):
  File "./c_client.py", line 2, in <module>
    from xml.etree.cElementTree import *
  File "/usr/lib64/python2.5/xml/etree/cElementTree.py", line 3, in <module>
Traceback (most recent call last):
  File "./c_client.py", line 2, in <module>
    from xml.etree.cElementTree import *
  File "/usr/lib64/python2.5/xml/etree/cElementTree.py", line 3, in <module>
Traceback (most recent call last):
  File "./c_client.py", line 2, in <module>
Traceback (most recent call last):
    from xml.etree.cElementTree import *
  File "/usr/lib64/python2.5/xml/etree/cElementTree.py", line 3, in <module>
  File "./c_client.py", line 2, in <module>
    from xml.etree.cElementTree import *
  File "/usr/lib64/python2.5/xml/etree/cElementTree.py", line 3, in <module>
Traceback (most recent call last):
  File "./c_client.py", line 2, in <module>
    from xml.etree.cElementTree import *
  File "/usr/lib64/python2.5/xml/etree/cElementTree.py", line 3, in <module>
    from _elementtree import *
ImportError: No module named _elementtree
make[1]: *** [xc_misc.h] Error 1
make[1]: *** Waiting for unfinished jobs....
    from _elementtree import *
ImportError: No module named _elementtree
make[1]: *** [xproto.h] Error 1
    from _elementtree import *
    from _elementtree import *
ImportErrorImportError: : No module named _elementtreeNo module named _elementtree

make[1]: *** [bigreq.h] Error 1
    from _elementtree import *
make[1]: *** [composite.h] Error 1
ImportError: No module named _elementtree
make[1]: *** [damage.h] Error 1
make[1]: Leaving directory `/var/tmp/portage/x11-libs/libxcb-1.1.90.1/work/libxcb-1.1.90.1/src'
make: *** [all-recursive] Error 1
 * 
 * ERROR: x11-libs/libxcb-1.1.90.1 failed.
 * Call stack:
 *               ebuild.sh, line   49:  Called src_compile
 *             environment, line 3009:  Called x-modular_src_compile
 *             environment, line 3779:  Called x-modular_src_make
 *             environment, line 3815:  Called die
 * The specific snippet of code:
 *       emake || die "emake failed"
 *  The die message:
 *   emake failed
 * 
 * If you need support, post the topmost build error, and the call stack if relevant.
 * A complete build log is located at '/var/tmp/portage/x11-libs/libxcb-1.1.90.1/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/x11-libs/libxcb-1.1.90.1/temp/environment'.
 * 

>>> Failed to emerge x11-libs/libxcb-1.1.90.1, Log file:

>>>  '/var/tmp/portage/x11-libs/libxcb-1.1.90.1/temp/build.log'

 * Messages for package x11-libs/libxcb-1.1.90.1:

 * 
 * ERROR: x11-libs/libxcb-1.1.90.1 failed.
 * Call stack:
 *               ebuild.sh, line   49:  Called src_compile
 *             environment, line 3009:  Called x-modular_src_compile
 *             environment, line 3779:  Called x-modular_src_make
 *             environment, line 3815:  Called die
 * The specific snippet of code:
 *       emake || die "emake failed"
 *  The die message:
 *   emake failed
 * 
 * If you need support, post the topmost build error, and the call stack if relevant.
 * A complete build log is located at '/var/tmp/portage/x11-libs/libxcb-1.1.90.1/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/x11-libs/libxcb-1.1.90.1/temp/environment'.
 * 
**************************************************************

emerge --info
***************************************************************
Portage 2.1.6 (default/linux/amd64/2008.0, gcc-4.3.2, glibc-2.9_p20081201-r0, 2.6.27-gentoo-r5 x86_64)
=================================================================
System uname: Linux-2.6.27-gentoo-r5-x86_64-Intel-R-_Core-TM-2_Quad_CPU_@_2.40GHz-with-glibc2.2.5
Timestamp of tree: Tue, 09 Dec 2008 11:02:01 +0000
ccache version 2.4 [enabled]
app-shells/bash:     3.2_p48
dev-java/java-config: 1.3.7-r1, 2.1.6-r1
dev-lang/python:     2.4.4-r13, 2.5.2-r8
dev-python/pycrypto: 2.0.1-r6
dev-util/ccache:     2.4-r8
dev-util/cmake:      2.6.2
sys-apps/baselayout: 2.0.0
sys-apps/openrc:     0.3.0-r1
sys-apps/sandbox:    1.2.18.1-r3
sys-devel/autoconf:  2.13, 2.63
sys-devel/automake:  1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.2
sys-devel/binutils:  2.19
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   2.2.6a
virtual/os-headers:  2.6.27-r2
ACCEPT_KEYWORDS="amd64 ~amd64"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=nocona -O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/revdep-rebuild /etc/terminfo /etc/udev/rules.d"
CXXFLAGS="-march=nocona -O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="ccache distcc distlocks fixpackages parallel-fetch protect-owned sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LANG="C"
LDFLAGS="-Wl,-O1"
MAKEOPTS="-j5"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X acl alsa amd64 apache2 avahi bash-completion berkdb bzip2 cairo cjk cli cracklib crypt cups device-mapper directfb dri dvdr dvdread encode fasttrack fat fbcon ffmpeg flac fontconfig fortran fuse gd gdbm glade glitz glut gnome gnomecanvas gnutella gnutls gpm gtk hal iconv ipv6 isdnlog java jpeg latex libnotify lua midi mmx mp3 mudflap multilib mysql ncurses nls nptl nptlonly ntfs opengl openmp pam pcre perl png pppd python readline reflection samba sdl session sndfile sourceview spell spl sqlite sse sse2 ssl svg sysfs tcpd threads tiff tk truetype unicode vcd vim-syntax xcb xinerama xml xorg xpm zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" USERLAND="GNU" VIDEO_CARDS="nvidia"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LC_ALL, LINGUAS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY
***************************************************




Comment 11


Jonas M. Gastal





          2008-12-09 16:11:19 UTC
        

I was havving the same problem and was running python 2.5.2-r8, upon looking at my build logs I noticed on the failure to build the elementtree module a complaint about not having pyexpat, so I enabled the expat flag on dev-lang/python, and it solved the problem, I now have the _elementtree.so file.

Hope this helps someone.




Comment 12


ArtG





          2008-12-11 12:26:41 UTC
        

(In reply to comment #11)
> I was havving the same problem and was running python 2.5.2-r8, upon looking at
> my build logs I noticed on the failure to build the elementtree module a
> complaint about not having pyexpat, so I enabled the expat flag on
> dev-lang/python, and it solved the problem, I now have the _elementtree.so
> file.
> 
> Hope this helps someone.
> 

Having same trouble with emerging x11-libs/libxcb
Installing dev-python/celementtree dev-python/elementtree didn't help. Enabling expat flag and rebuilding dev-lang/python helped. Thx.




Comment 13


Justin





          2009-02-13 15:00:40 UTC
        

(In reply to comment #12)
> (In reply to comment #11)
> > I was havving the same problem and was running python 2.5.2-r8, upon looking at
> > my build logs I noticed on the failure to build the elementtree module a
> > complaint about not having pyexpat, so I enabled the expat flag on
> > dev-lang/python, and it solved the problem, I now have the _elementtree.so
> > file.
> > 
> > Hope this helps someone.
> > 

I am having the same problem running Python 2.5.4-r2. There is no expat use flag in this version. Is there some other way to build in the functionality in this release?
> 
> Having same trouble with emerging x11-libs/libxcb
> Installing dev-python/celementtree dev-python/elementtree didn't help. Enabling
> expat flag and rebuilding dev-lang/python helped. Thx.
> 






Comment 14


Justin





          2009-02-14 23:58:46 UTC
        

(In reply to comment #13)
> (In reply to comment #12)
> > (In reply to comment #11)
> > > I was havving the same problem and was running python 2.5.2-r8, upon looking at
> > > my build logs I noticed on the failure to build the elementtree module a
> > > complaint about not having pyexpat, so I enabled the expat flag on
> > > dev-lang/python, and it solved the problem, I now have the _elementtree.so
> > > file.
> > > 
> > > Hope this helps someone.
> > > 
> 
> I am having the same problem running Python 2.5.4-r2. There is no expat use
> flag in this version. Is there some other way to build in the functionality in
> this release?
> > 
> > Having same trouble with emerging x11-libs/libxcb
> > Installing dev-python/celementtree dev-python/elementtree didn't help. Enabling
> > expat flag and rebuilding dev-lang/python helped. Thx.
> > 
> 

I may have made a bit of a deal with the devil on this one. Unmasked Python 2.6.1 and emerged. There was still no expat flag, but after emerge the _elementtree.so showed up. Initially tried python 2.6-r5, but that did not help. libxcb now emerges fine






Comment 15


Guillaume BINET





          2009-03-03 11:28:01 UTC
        

(In reply to comment #14)
> (In reply to comment #13)
> > (In reply to comment #12)
> > > (In reply to comment #11)
> > > > I was havving the same problem and was running python 2.5.2-r8, upon looking at
> > > > my build logs I noticed on the failure to build the elementtree module a
> > > > complaint about not having pyexpat, so I enabled the expat flag on
> > > > dev-lang/python, and it solved the problem, I now have the _elementtree.so
> > > > file.
> > > > 
> > > > Hope this helps someone.
> > > > 
> > 
> > I am having the same problem running Python 2.5.4-r2. There is no expat use
> > flag in this version. Is there some othePython 2.5.4-r2r way to build in the functionality in
> > this release?
> > > 
> > > Having same trouble with emerging x11-libs/libxcb
> > > Installing dev-python/celementtree dev-python/elementtree didn't help. Enabling
> > > expat flag and rebuilding dev-lang/python helped. Thx.
> > > 
> > 
> 
> I may have made a bit of a deal with the devil on this one. Unmasked Python
> 2.6.1 and emerged. There was still no expat flag, but after emerge the
> _elementtree.so showed up. Initially tried python 2.6-r5, but that did not
> help. libxcb now emerges fine
> 

just enable the xml flag on the Python 2.5.4-r2 version and it creates it.




Comment 16


Justin





          2009-03-12 19:32:11 UTC
        

(In reply to comment #15)
> (In reply to comment #14)
> > (In reply to comment #13)
> > > (In reply to comment #12)
> > > > (In reply to comment #11)
> > > > > I was havving the same problem and was running python 2.5.2-r8, upon looking at
> > > > > my build logs I noticed on the failure to build the elementtree module a
> > > > > complaint about not having pyexpat, so I enabled the expat flag on
> > > > > dev-lang/python, and it solved the problem, I now have the _elementtree.so
> > > > > file.
> > > > > 
> > > > > Hope this helps someone.
> > > > > 
> > > 
> > > I am having the same problem running Python 2.5.4-r2. There is no expat use
> > > flag in this version. Is there some othePython 2.5.4-r2r way to build in the functionality in
> > > this release?
> > > > 
> > > > Having same trouble with emerging x11-libs/libxcb
> > > > Installing dev-python/celementtree dev-python/elementtree didn't help. Enabling
> > > > expat flag and rebuilding dev-lang/python helped. Thx.
> > > > 
> > > 
> > 
> > I may have made a bit of a deal with the devil on this one. Unmasked Python
> > 2.6.1 and emerged. There was still no expat flag, but after emerge the
> > _elementtree.so showed up. Initially tried python 2.6-r5, but that did not
> > help. libxcb now emerges fine
> > 
> just enable the xml flag on the Python 2.5.4-r2 version and it creates it.

All of my Python emerges were performed with the XML flag on.That did not create it. 




Comment 17


Andris





          2009-03-29 01:01:31 UTC
        

(In reply to comment #16)
> (In reply to comment #15)
> > (In reply to comment #14)
> > > (In reply to comment #13)
> > > > (In reply to comment #12)
> > > > > (In reply to comment #11)
> > > > > > I was havving the same problem and was running python 2.5.2-r8, upon looking at
> > > > > > my build logs I noticed on the failure to build the elementtree module a
> > > > > > complaint about not having pyexpat, so I enabled the expat flag on
> > > > > > dev-lang/python, and it solved the problem, I now have the _elementtree.so
> > > > > > file.
> > > > > > 
> > > > > > Hope this helps someone.
> > > > > > 
> > > > 
> > > > I am having the same problem running Python 2.5.4-r2. There is no expat use
> > > > flag in this version. Is there some othePython 2.5.4-r2r way to build in the functionality in
> > > > this release?
> > > > > 
> > > > > Having same trouble with emerging x11-libs/libxcb
> > > > > Installing dev-python/celementtree dev-python/elementtree didn't help. Enabling
> > > > > expat flag and rebuilding dev-lang/python helped. Thx.
> > > > > 
> > > > 
> > > 
> > > I may have made a bit of a deal with the devil on this one. Unmasked Python
> > > 2.6.1 and emerged. There was still no expat flag, but after emerge the
> > > _elementtree.so showed up. Initially tried python 2.6-r5, but that did not
> > > help. libxcb now emerges fine
> > > 
> > just enable the xml flag on the Python 2.5.4-r2 version and it creates it.
> 
> All of my Python emerges were performed with the XML flag on.That did not
> create it. 
> 

I had the same problem and resolved it by upgrading dev-libs/expat-1.95.8 to dev-libs/expat-2.0.1.




Comment 18


James L. Hammons





          2009-06-21 13:09:37 UTC
        

I'd say this is still a bug as compiling libxcb didn't work until I added the +expat USE flag and recompiled python. Also, the 2.6 version of python doesn't show the expat USE flag as being used yet once I added that USE flag and recompiled python 2.6, libxcb built with no problems.

There should be at least a USE flag dependency on libxcb (for +expat on python), because otherwise nobody will know why libxcb is failing to build (unless they look at this bug :-).

Could the owner of this bug please reopen? Pretty please? :-)




Comment 19


Jonas Bernoulli





          2009-07-05 13:33:30 UTC
        

_elementtree.so does not exist on my system just /usr/lib/python2.6/lib-dynload/_elementtree_failed.so. This is probably a python bug and not really related to xcb.

Please reopen and possibly reassign.




Comment 20


Reimundo Heluani





          2010-02-07 03:27:19 UTC
        

I have the same problem on a fresh install dev-lang/python-2.6.4-r1 x11-libs/libxcb 

adding expat to USE doesn't help. Downgrading python to 2.6.4 doesn't either. Don't know how to build libxcb




Comment 21


I. Takahashi





          2010-04-27 15:29:07 UTC
        

(In reply to comment #20)
> I have the same problem on a fresh install dev-lang/python-2.6.4-r1
> x11-libs/libxcb 
> 
> adding expat to USE doesn't help. Downgrading python to 2.6.4 doesn't either.
> Don't know how to build libxcb
> 

Please check USE flag on dev-lang/python.
If "build" flag is selected, "xml" flag does not become valid.
---------
# less  /var/db/pkg/dev-lang/python-2.6.4-r1/python-2.6.4-r1.ebuild
----
src_configure() {
        # Disable extraneous modules with extra dependencies.
        if use build; then
                export PYTHON_DISABLE_MODULES="dbm _bsddb gdbm _curses _curses_p
anel readline _sqlite3 _tkinter _elementtree pyexpat"
                export PYTHON_DISABLE_SSL="1"
        else
                # dbm module can be linked against berkdb or gdbm.
                # Defaults to gdbm when both are enabled, #204343.
                local disable
                use berkdb   || use gdbm || disable+=" dbm"
                use berkdb   || disable+=" _bsddb"
                use gdbm     || disable+=" gdbm"
                use ncurses  || disable+=" _curses _curses_panel"
                use readline || disable+=" readline"
                use sqlite   || disable+=" _sqlite3"
                use ssl      || export PYTHON_DISABLE_SSL="1"
                use tk       || disable+=" _tkinter"
                use xml      || disable+=" _elementtree pyexpat" # _elementtree uses pyexpat.
                export PYTHON_DISABLE_MODULES="${disable}"
-----
/etc/portage/package.use :
dev-lang/python -*  -berkdb doc gdbm ipv6 ncurses readline ssl threads wide-u   nicode xml build examples sqlite tk -wininst

After I emerge python-2.6.4-r1 then
  # ls -l /usr/lib/python2.6/lib-dynload/_elementtree*
ls: cannot access /usr/lib/python2.6/lib-dynload/_elementtree*: No such file or directory

/etc/portage/package.use :
dev-lang/python -*  -berkdb doc gdbm ipv6 ncurses readline ssl threads wide-u   nicode xml -build examples sqlite tk -wininst

After I emerge python-2.6.4-r1 then
 # ls -l /usr/lib/python2.6/lib-dynload/_elementtree*
-rwxr-xr-x 1 root root 43668 Apr 27 23:48 /usr/lib/python2.6/lib-dynload/_elementtree.so






Comment 22


Zenitur





          2011-06-29 02:50:11 UTC
        

I just don't want to create new bug.

dev-libs/gobject-introspection-0.10.8 doesn't install without dev-python/elementtree. When I tried to update dev-libs/gobject-introspection from 0.10.0 version to 0.10.8, I saw "ImportError: No module named _elementtree". Emerge isn't check installed dev-python/elementtree or not.




Comment 23


Nick Pershyn





          2014-05-24 18:13:28 UTC
        

Got the same problem with the same package. This time it is:
x11-libs/libxcb-1.10
dev-lang/python-2.7.5-r3

This version of python does not have expat use flag. I don't have build use flag in my make.conf.
Emerging dev-python/pyxml doesn't help.
My python is built with xml use flag.
Emerged dev-python/elementtree - still no effect...

"eselect python set python3.3" solved my problem.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

