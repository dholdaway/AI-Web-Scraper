Title: 129268 – dev-lang/R does not pass make check when compiled with LAPACK-support
URL: https://bugs.gentoo.org/show_bug.cgi?id=129268

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 129268
dev-lang/R does not pass make check when compiled with LAPACK-support
Last modified: 2007-04-06 18:34:34 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 129268 
      - dev-lang/R does not pass make check when compiled with LAPACK-support


Summary:
dev-lang/R does not pass make check when compiled with LAPACK-support
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Unspecified

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Science Related Packages








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-04-08 11:46 UTC by Felix Riemann





      Modified:
    
2007-04-06 18:34 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



patrizio.bassi









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




patch from Fedora

              (lapack-fixlwork.patch,1.62 KB,
                patch)

            
2006-04-08 11:56 UTC,

            Felix Riemann




Details
            | Diff





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Felix Riemann





          2006-04-08 11:46:58 UTC
        

When emerging dev-lang/R-2.2.1 with LAPACK-support (blas and lapack USE-flags enabled) and having "test" enabled in FEATURES, emerge dies when running the make checks:

> kappa(x1 <- cbind(1,1:10))# 15.71
[1] 15.70590
> kappa(x1, exact = TRUE)        # 13.68
[1] 13.67903
> kappa(x2 <- cbind(x1,2:11))# high! [x2 is singular!]
[1] 8.351867e+16
>
> hilbert <- function(n) { i <- 1:n; 1 / outer(i - 1, i, "+") }
> sv9 <- svd(h9 <- hilbert(9))$ d
> kappa(h9)# pretty high!
[1] 728289149562
> kappa(h9, exact = TRUE) == max(sv9) / min(sv9)
Error in La.svd(x, nu, nv) : BLAS/LAPACK routine 'DGEBRD' gave error code -10
Execution halted


This seems to be related to the problem described here:
https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=169558

and can be fixed with the patch from Fedora's lapack-RPM.




Comment 1


Felix Riemann





          2006-04-08 11:56:04 UTC
        

Created attachment 84219 [details, diff]
patch from Fedora

This is the patch (lapack-fixlwork.patch) from Fedora's LAPACK-SRPM. I patched lapack-atlas-3.7.11 with it and R passed "make check".
This patch is apparently also included in Debian's LAPACK-package.




Comment 2


Patrizio Bassi





          2006-04-08 12:19:21 UTC
        

you're lucky, i opened a bug:
http://bugs.gentoo.org/show_bug.cgi?id=122465

i can't even compile R.
any patch for that?




Comment 3


Markus Dittrich (RETIRED)






          2007-03-21 02:25:34 UTC
        

Is this still an issue with R-2.4.1? All test pass for me on both
of my dev boxes.

cheers,
Markus




Comment 4


Felix Riemann





          2007-04-04 10:52:25 UTC
        

Hi,
I just tried the latest blas, lapack and R-2.4.1 packages and it passes the tests now. 




Comment 5


Markus Dittrich (RETIRED)






          2007-04-06 18:34:34 UTC
        

Hi Felix,

Thanks for the update. I'll close this bug then. 
Please re-open should this crop up again.

Best,
Markus









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

