Title: 262403 – dev-libs/xmlrpc-c-1.06.27 fails to emerge: undefined reference to `xmlrpc_limit_get'
URL: https://bugs.gentoo.org/show_bug.cgi?id=262403

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 262403
dev-libs/xmlrpc-c-1.06.27 fails to emerge: undefined reference to `xmlrpc_limit_get'
Last modified: 2009-04-27 21:33:44 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 262403 
      - dev-libs/xmlrpc-c-1.06.27 fails to emerge: undefined reference to `xmlrpc_limit_get'


Summary:
dev-libs/xmlrpc-c-1.06.27 fails to emerge: undefined reference to `xmlrpc_lim...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Unspecified

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Peter Alfredsen (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-03-14 10:25 UTC by Peter Karlsson





      Modified:
    
2009-04-27 21:33 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build log

              (xmlrpc_c_10627_build.log,126.15 KB,
                text/plain)

            
2009-03-14 10:30 UTC,

            Peter Karlsson




Details





environment file

              (xmlrpc_c_10627_environment,82.76 KB,
                text/plain)

            
2009-03-14 10:31 UTC,

            Peter Karlsson




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Peter Karlsson





          2009-03-14 10:25:29 UTC
        

Trying to downgrade from xmlrpc-c-1.14.07-r1 (masked) to 1.06.27. The emerge fails with an error. At first I tried with standard USE flags (from make.conf), which includes "threads". Second time I tried with "-threads" in package.use. Same result.

Reproducible: Always

Steps to Reproduce:
1. emerge dev-libs/xmlrpc-c
2. failed emerge...
3.

Actual Results:  
i686-pc-linux-gnu-gcc -o xmlrpc -Wl,-O1 xmlrpc.o dumpvalue.o blddir/lib/util/cmdline_parser.o blddir/lib/util/getoptx.o blddir/lib/util/casprintf.o -Lblddir/src/.libs -lxmlrpc_client -lxmlrpc -lcurl -lrt -L/usr/lib -Wl,-rpath -Wl,/usr/lib -O2 -march=prescott -pipe -g0 -Wno-system-headers -lgssapi_krb5 -lkrb5 -lk5crypto -lcom_err -lresolv -ldl -L/usr/lib -Wl,-rpath -Wl,/usr/lib -O2 -march=prescott -pipe -g0 -Wno-system-headers -lgssapi_krb5 -lkrb5 -lk5crypto -lcom_err -lresolv -ldl -lz -L/usr/lib -lgnutls -L/usr/lib -ltasn1 -lgcrypt -lgpg-error -lxml2 -lz -lm -Lblddir/lib/libutil/.libs -lxmlrpc_util
blddir/src/.libs/libxmlrpc.so: undefined reference to `xmlrpc_limit_get'
collect2: ld returned 1 exit status
make[2]: *** [xmlrpc] Error 1
make[2]: Leaving directory `/var/tmp/portage/dev-libs/xmlrpc-c-1.06.27/work/xmlrpc-c-1.06.27/tools/xmlrpc'
make[1]: *** [xmlrpc/all] Error 2
make[1]: Leaving directory `/var/tmp/portage/dev-libs/xmlrpc-c-1.06.27/work/xmlrpc-c-1.06.27/tools'
make: *** [tools/all] Error 2
 * 
 * ERROR: dev-libs/xmlrpc-c-1.06.27 failed.
 * Call stack:
 *               ebuild.sh, line   49:  Called src_compile
 *             environment, line 2128:  Called die
 * The specific snippet of code:
 *       emake -j1 || die "emake failed"
 *  The die message:
 *   emake failed
 * 
 * If you need support, post the topmost build error, and the call stack if relevant.
 * A complete build log is located at '/var/tmp/portage/dev-libs/xmlrpc-c-1.06.27/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/dev-libs/xmlrpc-c-1.06.27/temp/environment'.
 * 

>>> Failed to emerge dev-libs/xmlrpc-c-1.06.27, Log file:

>>>  '/var/tmp/portage/dev-libs/xmlrpc-c-1.06.27/temp/build.log'



Expected Results:  
Downgrade xmlrpc-c from 1.14.07.07-r1 to 1.06.27.




Comment 1


Peter Karlsson





          2009-03-14 10:28:25 UTC
        

Portage 2.1.6.7 (default/linux/x86/2008.0, gcc-4.1.2, glibc-2.8_p20080602-r1, 2.6.25-gentoo-r9_081111_SMP_PREEMPT i686)
=================================================================
System uname: Linux-2.6.25-gentoo-r9_081111_SMP_PREEMPT-i686-Intel-R-_Core-TM-2_CPU_6700_@_2.66GHz-with-glibc2.0
Timestamp of tree: Sat, 14 Mar 2009 09:30:02 +0000
app-shells/bash:     3.2_p39
dev-java/java-config: 1.3.7-r1, 2.1.7
dev-lang/python:     2.4.4-r14, 2.5.2-r7
dev-python/pycrypto: 2.0.1-r8
dev-util/cmake:      2.6.2-r1
sys-apps/baselayout: 1.12.11.1
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.63
sys-devel/automake:  1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.2
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.27-r2
ACCEPT_KEYWORDS="x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=prescott -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /etc/X11/app-defaults/ /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/applications/ /usr/share/config /var/lib/hsqldb"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-O2 -march=prescott -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="distlocks fixpackages parallel-fetch protect-owned sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://trumpetti.atm.tut.fi/gentoo/ ftp://trumpetti.atm.tut.fi/gentoo/ http://ds.thn.htu.se/linux/gentoo http://ftp.du.se/pub/os/gentoo ftp://ftp.du.se/pub/os/gentoo http://mirror.pudas.net/gentoo http://distfiles.gentoo.org http://www.ibiblio.org/pub/Linux/distributions/gentoo"
LANG="en_US.utf8"
LDFLAGS="-Wl,-O1"
LINGUAS="en sv en_GB sv_SE sv-SE en_US"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X a52 aac acl acpi aim alsa ansi asf audiofile avi bash-completion bcmath berkdb bitmap-fonts blas bzip2 bzlib cairo caps cdparanoia cdr cli cracklib crypt cscope css ctype cups dga divx4linux dlloader doc dri dts dv dvb dvd dvdr dvdread emacs encode examples exif fbcon ffmpeg fftw filepicker flac foomaticdb fortran freetype ftp gd gdbm gif gimp ginac glitz glut gmp gnutls gphoto2 gpm gtk2 guile iconv icq imagemagick imap imlib isdnlog jabber java jpeg junit kerberos ladcca lapack latex lcms leim libdts liblzo libwww lm_sensors mad matroska memlimit mhash midi mime mjpeg mmap mmx mng mozilla moznopango mozsvg mp3 mpeg mplayer mudflap mythtv ncurses nls nowin noxft nptl nptlonly ogg openal openexr opengl openmp pam pcntl pcre pdf pdflib perl pic pie plotutils png posix postgresql ppds pppd ptp2 python qhull quicktime readline recode reflection restrict-javascript ruby sasl scanner sdl session shared sharedmem smp sndfile sockets sox speex spl sqlite sse sse2 ssl svg sysfs sysvipc szip tcltk tcpd tetex theora threads tiff timidity toolame truetype truetype-fonts type1-fonts unicode usb v4l v4l2 vcd videos vorbis win32codecs wmf wxgtk1 x264 x86 xanim xforms xine xorg xpm xprint xv xvid xvmc zlib zvbi" ALSA_CARDS="emu10k1" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CAMERAS="canon" ELIBC="glibc" INPUT_DEVICES="keyboard mouse magellan" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en sv en_GB sv_SE sv-SE en_US" USERLAND="GNU" VIDEO_CARDS="radeon fglrx vesa radeonhd"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LC_ALL, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 2


Peter Karlsson





          2009-03-14 10:30:52 UTC
        

Created attachment 184933 [details]
build log




Comment 3


Peter Karlsson





          2009-03-14 10:31:24 UTC
        

Created attachment 184934 [details]
environment file




Comment 4


Peter Alfredsen (RETIRED)






          2009-04-27 21:33:44 UTC
        

Re-open if you can reproduce on 1.18.02.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

