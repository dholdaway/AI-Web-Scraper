Title: 636314 – sys-apps/which-2.21 fails to build with CFLAGS=-flto: In function `find_command_in_path': <artificial>:(.text+0x71b): undefined reference to `tilde_expand'
URL: https://bugs.gentoo.org/show_bug.cgi?id=636314

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 636314
sys-apps/which-2.21 fails to build with CFLAGS=-flto: In function `find_command_in_path': <artificial>:(.text+0x71b): undefined reference to `tilde_expand'
Last modified: 2021-08-25 02:26:23 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 636314 
      - sys-apps/which-2.21 fails to build with CFLAGS=-flto: In function `find_command_in_path': <artificial>:(.text+0x71b): undefined reference to `tilde_expand'


Summary:
sys-apps/which-2.21 fails to build with CFLAGS=-flto: In function `find_comma...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo's Team for Core System packages








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:




lto



 

        Show dependency tree





 





      Reported:
    
2017-11-02 20:23 UTC by cryptopsy





      Modified:
    
2021-08-25 02:26 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



sam









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge --info

              (einfo,3.23 KB,
                text/plain)

            
2017-11-02 20:23 UTC,

            cryptopsy




Details





build.log

              (sys-apps:which-2.21:20171102-221530.log,6.51 KB,
                text/x-log)

            
2017-11-02 20:24 UTC,

            cryptopsy




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


cryptopsy





          2017-11-02 20:23:03 UTC
        

Created attachment 501946 [details]
emerge --info

When giving -flto CFLAGS in make.conf, this package fails to build. There are other pkgs which fail as well, is this expected?

x86_64-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I.   -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE -D_LARGEFILE64_SOURCE  -O2 -pipe -flto -march=native -c -o getopt1.o getopt1.c
x86_64-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I.   -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE -D_LARGEFILE64_SOURCE  -O2 -pipe -flto -march=native -c -o bash.o bash.c
x86_64-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I.   -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE -D_LARGEFILE64_SOURCE  -O2 -pipe -flto -march=native -c -o which.o which.c
x86_64-pc-linux-gnu-gcc  -O2 -pipe -flto -march=native  -Wl,-O1 -Wl,--as-needed -o which getopt.o getopt1.o bash.o which.o ./tilde/libtilde.a /usr/lib/libiberty.a 
/tmp/.portage/portage/sys-apps/which-2.21/temp/cc1KeTgX.ltrans0.ltrans.o: In function `find_command_in_path':
<artificial>:(.text+0x71b): undefined reference to `tilde_expand'




Comment 1


cryptopsy





          2017-11-02 20:24:23 UTC
        

Created attachment 501950 [details]
build.log




Comment 2


cryptopsy





          2017-12-27 12:29:13 UTC
        

i was able to build successfully now with -flto. Don't know what happened since the package is still the same version. You may close.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

