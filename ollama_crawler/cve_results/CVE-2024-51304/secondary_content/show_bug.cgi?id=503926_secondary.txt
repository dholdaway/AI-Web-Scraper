Title: 503926 – dev-libs/boost-1.55.0-r1 - src_compile(): link.jam: No such file or directory
URL: https://bugs.gentoo.org/show_bug.cgi?id=503926

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 503926
dev-libs/boost-1.55.0-r1 - src_compile(): link.jam: No such file or directory
Last modified: 2014-06-19 07:49:21 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 503926 
      - dev-libs/boost-1.55.0-r1 - src_compile(): link.jam: No such file or directory


Summary:
dev-libs/boost-1.55.0-r1 - src_compile(): link.jam: No such file or directory
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Library

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

C++ Team [disbanded]








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2014-03-09 00:07 UTC by Martin Ošmera





      Modified:
    
2014-06-19 07:49 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



ganastasiouGR
martin.osmera









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Martin Ošmera





          2014-03-09 00:07:02 UTC
        

Cross compilation issue with the newest libboost.

 * Package:    dev-libs/boost-1.55.0-r1
 * Repository: gentoo
 * Maintainer: cpp@gentoo.org
 * USE:        elibc_glibc kernel_linux nls prefix python_targets_python2_7 python_targets_python3_3 threads userland_GNU x86
 * FEATURES:   preserve-libs sandbox userpriv usersandbox
>>> Unpacking source...
>>> Unpacking boost_1_55_0.tar.bz2 to /usr/i686-linux-gnu/tmp/portage/dev-libs/boost-1.55.0-r1/work
>>> Source unpacked in /usr/i686-linux-gnu/tmp/portage/dev-libs/boost-1.55.0-r1/work
>>> Preparing source in /usr/i686-linux-gnu/tmp/portage/dev-libs/boost-1.55.0-r1/work/boost_1_55_0 ...
 * Applying boost-1.51.0-respect_python-buildid.patch ...                                                                                                                                                                 [ ok ]
 * Applying boost-1.51.0-support_dots_in_python-buildid.patch ...                                                                                                                                                         [ ok ]
 * Applying boost-1.48.0-no_strict_aliasing_python2.patch ...                                                                                                                                                             [ ok ]
 * Applying boost-1.48.0-disable_libboost_python3.patch ...                                                                                                                                                               [ ok ]
 * Applying boost-1.48.0-python_linking.patch ...                                                                                                                                                                         [ ok ]
 * Applying boost-1.48.0-disable_icu_rpath.patch ...                                                                                                                                                                      [ ok ]
 * Applying boost-1.55.0-context-x32.patch ...                                                                                                                                                                            [ ok ]
>>> Source prepared.
>>> Configuring source in /usr/i686-linux-gnu/tmp/portage/dev-libs/boost-1.55.0-r1/work/boost_1_55_0 ...
>>> Source configured.
>>> Compiling source in /usr/i686-linux-gnu/tmp/portage/dev-libs/boost-1.55.0-r1/work/boost_1_55_0 ...
b2 gentoorelease -j9 -q -d+2 --user-config=/usr/i686-linux-gnu/tmp/portage/dev-libs/boost-1.55.0-r1/work/boost_1_55_0/user-config.jam --disable-icu boost.locale.icu=off --without-mpi --without-python --without-context --without-coroutine pch=off --boost-build=/usr/share/boost-build --prefix="/usr/i686-linux-gnu/tmp/portage/dev-libs/boost-1.55.0-r1/image/usr" --layout=system threading=multi link=shared
link.jam: No such file or directory
XXX
XXX
libs/iostreams/build/Jamfile.v2:163: in modules.load
rule ac.check-library unknown in module Jamfile</usr/i686-linux-gnu/tmp/portage/dev-libs/boost-1.55.0-r1/work/boost_1_55_0/libs/iostreams/build>
/usr/share/boost-build/build/project.jam:317: in load-jamfile
/usr/share/boost-build/build/project.jam:62: in project.load
/usr/share/boost-build/build/project.jam:776: in project.use
/usr/share/boost-build/build/project.jam:89: in load-used-projects
/usr/share/boost-build/build/project.jam:73: in load
/usr/share/boost-build/build/project.jam:168: in project.find
/usr/share/boost-build/build-system.jam:570: in load
/usr/share/boost-build/kernel/modules.jam:283: in import
/usr/share/boost-build/kernel/bootstrap.jam:142: in boost-build
/usr/i686-linux-gnu/tmp/portage/dev-libs/boost-1.55.0-r1/work/boost_1_55_0/boost-build.jam:17: in module scope
 * ERROR: dev-libs/boost-1.55.0-r1::gentoo failed (compile phase):
 *   Building of Boost libraries failed
 * 
 * Call stack:
 *     ebuild.sh, line   93:  Called src_compile
 *   environment, line 3504:  Called building
 *   environment, line 3472:  Called die
 * The specific snippet of code:
 *           ejam ${OPTIONS} $(use python && echo --python-buildid=${EPYTHON#python}) || die "Building of Boost libraries failed";
 * 
 * If you need support, post the output of `emerge --info '=dev-libs/boost-1.55.0-r1::gentoo'`,
 * the complete build log and the output of `emerge -pqv '=dev-libs/boost-1.55.0-r1::gentoo'`.
 * The complete build log is located at '/usr/i686-linux-gnu/tmp/portage/dev-libs/boost-1.55.0-r1/temp/build.log'.
 * The ebuild environment file is located at '/usr/i686-linux-gnu/tmp/portage/dev-libs/boost-1.55.0-r1/temp/environment'.
 * Working directory: '/usr/i686-linux-gnu/tmp/portage/dev-libs/boost-1.55.0-r1/work/boost_1_55_0'
 * S: '/usr/i686-linux-gnu/tmp/portage/dev-libs/boost-1.55.0-r1/work/boost_1_55_0'




Comment 1


Martin Ošmera





          2014-03-09 00:07:47 UTC
        

i686-linux-gnu-emerge --info '=dev-libs/boost-1.55.0-r1::gentoo'

Portage 2.2.7 (prefix/linux/x86, gcc-4.8.2, unavailable, 3.10.25-gentoo x86_64)
=================================================================
                         System Settings
=================================================================
System uname: Linux-3.10.25-gentoo-x86_64-Intel-R-_Core-TM-_i7-2630QM_CPU_@_2.00GHz-with-gentoo-2.2
KiB Mem:     8068144 total,    119532 free
KiB Swap:    8388604 total,   8388604 free
Timestamp of tree: Fri, 07 Mar 2014 22:00:01 +0000
ld GNU ld (GNU Binutils) 2.24
Repositories: gentoo x-portage
ACCEPT_KEYWORDS="~x86-linux"
ACCEPT_LICENSE="* -@EULA"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -pipe -m32 -march=i686 -msse -mfpmath=sse"
CHOST="i686-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/config /usr/share/gnupg/qualified.txt /usr/share/themes/oxygen-gtk/gtk-2.0"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php5.5/ext-active/ /etc/php/cgi-php5.5/ext-active/ /etc/php/cli-php5.5/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/splash /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c"
CXXFLAGS="-O2 -pipe -m32 -march=i686 -msse -mfpmath=sse"
DISTDIR="/usr/portage/distfiles"
FCFLAGS="-O2 -march=i686 -pipe"
FEATURES="assume-digests binpkg-logs buildpkg config-protect-if-modified distlocks ebuild-locks fixlafiles merge-sync news nodoc noinfo noman parallel-fetch preserve-libs protect-owned sandbox sfperms strict unknown-features-warn unmerge-logs unmerge-orphans userfetch userpriv usersandbox usersync"
FFLAGS="-O2 -march=i686 -pipe"
GENTOO_MIRRORS="http://ftp.fi.muni.cz/pub/linux/gentoo/ ftp://ftp.fi.muni.cz/pub/linux/gentoo/ rsync://ftp6.linux.cz/pub/linux/gentoo/ rsync://ftp.fi.muni.cz/pub/linux/gentoo/"
LANG="en_US.utf8"
LDFLAGS="-Wl,-O1"
MAKEOPTS="-j9"
PKGDIR="/usr/i686-linux-gnu/packages/"
PORTAGE_CONFIGROOT="/usr/i686-linux-gnu/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --omit-dir-times --compress --force --whole-file --delete --stats --human-readable --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/usr/i686-linux-gnu/tmp/"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
USE="berkdb bzip2 cli cracklib crypt cxx dri fortran gdbm iconv ipv6 modules ncurses nls nptl openmp pcre prefix readline session ssl tcpd unicode x86 zlib" ABI_X86="32" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1 emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" APACHE2_MODULES="authn_core authz_core socache_shmcb unixd actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cgi cgid dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CALLIGRA_FEATURES="kexi words flow plan sheets stage tables krita karbon braindump author" CAMERAS="ptp2" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf superstar2 timing tsip tripmate tnt ublox ubx" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LIBREOFFICE_EXTENSIONS="presenter-console presenter-minimizer" OFFICE_IMPLEMENTATION="libreoffice" PHP_TARGETS="php5-5" PYTHON_SINGLE_TARGET="python2_7" PYTHON_TARGETS="python2_7 python3_3" RUBY_TARGETS="ruby19 ruby18" USERLAND="GNU" VIDEO_CARDS="fbdev glint intel mach64 mga nouveau nv r128 radeon savage sis tdfx trident vesa via vmware dummy v4l" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LC_ALL, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, SYNC, USE_PYTHON




Comment 2


Martin Ošmera





          2014-03-09 00:12:52 UTC
        

And by the way, version 1.54 fails to build as well:

>>> Source prepared.
>>> Configuring source in /usr/i686-linux-gnu/tmp/portage/dev-libs/boost-1.54.0-r1/work/boost_1_54_0 ...
>>> Source configured.
>>> Compiling source in /usr/i686-linux-gnu/tmp/portage/dev-libs/boost-1.54.0-r1/work/boost_1_54_0 ...
b2 gentoorelease -j9 -q -d+2 --user-config=/usr/i686-linux-gnu/tmp/portage/dev-libs/boost-1.54.0-r1/work/boost_1_54_0/user-config.jam --disable-icu boost.locale.icu=off --without-mpi --without-python pch=off --boost-build=/usr/share/boost-build --prefix="/usr/i686-linux-gnu/tmp/portage/dev-libs/boost-1.54.0-r1/image/usr" --layout=system threading=multi link=shared --without-context --without-coroutine
XXX
XXX
libs/iostreams/build/Jamfile.v2:163: in modules.load
rule ac.check-library unknown in module Jamfile</usr/i686-linux-gnu/tmp/portage/dev-libs/boost-1.54.0-r1/work/boost_1_54_0/libs/iostreams/build>
/usr/share/boost-build/build/project.jam:317: in load-jamfile
/usr/share/boost-build/build/project.jam:62: in project.load
/usr/share/boost-build/build/project.jam:776: in project.use
/usr/share/boost-build/build/project.jam:89: in load-used-projects
/usr/share/boost-build/build/project.jam:73: in load
/usr/share/boost-build/build/project.jam:168: in project.find
/usr/share/boost-build/build-system.jam:570: in load
/usr/share/boost-build/kernel/modules.jam:283: in import
/usr/share/boost-build/kernel/bootstrap.jam:142: in boost-build
/usr/i686-linux-gnu/tmp/portage/dev-libs/boost-1.54.0-r1/work/boost_1_54_0/boost-build.jam:17: in module scope
 * ERROR: dev-libs/boost-1.54.0-r1::gentoo failed (compile phase):
 *   Building of Boost libraries failed
 * 
 * Call stack:
 *     ebuild.sh, line   93:  Called src_compile
 *   environment, line 3505:  Called building
 *   environment, line 3473:  Called die
 * The specific snippet of code:
 *           ejam ${OPTIONS} $(use python && echo --python-buildid=${EPYTHON#python}) || die "Building of Boost libraries failed";
 * 
 * If you need support, post the output of `emerge --info '=dev-libs/boost-1.54.0-r1::gentoo'`,
 * the complete build log and the output of `emerge -pqv '=dev-libs/boost-1.54.0-r1::gentoo'`.
 * The complete build log is located at '/usr/i686-linux-gnu/tmp/portage/dev-libs/boost-1.54.0-r1/temp/build.log'.
 * The ebuild environment file is located at '/usr/i686-linux-gnu/tmp/portage/dev-libs/boost-1.54.0-r1/temp/environment'.
 * Working directory: '/usr/i686-linux-gnu/tmp/portage/dev-libs/boost-1.54.0-r1/work/boost_1_54_0'
 * S: '/usr/i686-linux-gnu/tmp/portage/dev-libs/boost-1.54.0-r1/work/boost_1_54_0'

>>> Failed to emerge dev-libs/boost-1.54.0-r1 for /usr/i686-linux-gnu/, Log file:




Comment 3


Sergey Popov (RETIRED)






          2014-06-19 07:49:21 UTC
        

Please, make sure that you have boost-build with exactly the same version(except the revision) in host system.

Cause i get this error only while i am trying to compile newer boost with older boost-build

Unfortunately we can not pull anything in host system to make sure that crosscompilation goes fine :-/









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

