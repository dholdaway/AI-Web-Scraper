Title: 423833 – xfce-base/xfce-utils blocks other packages but is not installed
URL: https://bugs.gentoo.org/show_bug.cgi?id=423833

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 423833
xfce-base/xfce-utils blocks other packages but is not installed
Last modified: 2012-06-27 18:48:59 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 423833 
      - xfce-base/xfce-utils blocks other packages but is not installed


Summary:
xfce-base/xfce-utils blocks other packages but is not installed
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

XFCE Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2012-06-27 13:53 UTC by Naveen Goswamy





      Modified:
    
2012-06-27 18:48 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




the results of revdep-rebuild -p -- -v

              (REVDEPERROR.txt,5.09 KB,
                text/plain)

            
2012-06-27 15:01 UTC,

            Naveen Goswamy




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Naveen Goswamy





          2012-06-27 13:53:23 UTC
        

revdep-rebuild gives this ....


[blocks B      ] xfce-base/xfce-utils ("xfce-base/xfce-utils" is blocking xfce-base/xfce4-session-4.10.0, xfce-base/xfce4-appfinder-4.10.0, xfce-base/libxfce4ui-4.10.0)

 * Error: The above package list contains packages which cannot be
 * installed at the same time on the same system.

  (xfce-base/xfce-utils-4.8.3::gentoo, ebuild scheduled for merge) pulled in by
    xfce-base/xfce-utils:0

while emerge -s xfce-utils gives ...

*  xfce-base/xfce-utils
      Latest version available: 4.8.3
      Latest version installed: [ Not Installed ]
      Size of files: 859 kB
      Homepage:      http://www.xfce.org/projects/xfce-utils/
      Description:   Utilities for the Xfce desktop environment
      License:       GPL-2


So it seems that there is some broken logic here, xfce-utils is not installed, so how could it be pulling in or blocking anything?




Comment 1


Jeroen Roovers (RETIRED)






          2012-06-27 13:57:13 UTC
        

Could you show the output of `emerge -C xfce-base/xfce-utils', please?




Comment 2


Rafał Mużyło





          2012-06-27 14:11:34 UTC
        

I suspect bad timing.
Most likely you did only a partial upgrade to 4.10 and some of the 4.8 leftovers are still pulling xfce-utils.




Comment 3


Samuli Suominen (RETIRED)






          2012-06-27 14:27:57 UTC
        

I would add 'xfce-base/xfce-utils' to /etc/portage/package.mask to get more informative output
And 'emerge -C xfce4-smartbookmark-plugin xfce4-meta xfce4-session'

In any case, this is not a real bug since absolutely nothing is depending on xfce-utils in Portage anymore for 4.10:

http://qa-reports.gentoo.org/output/genrdeps/dindex/xfce-base/xfce-utils
http://qa-reports.gentoo.org/output/genrdeps/rindex/xfce-base/xfce-utils




Comment 4


Naveen Goswamy





          2012-06-27 14:37:09 UTC
        

(In reply to comment #1)
> Could you show the output of `emerge -C xfce-base/xfce-utils', please?

here it is:


# emerge -C xfce-base/xfce-utils
 * This action can remove important packages! In order to be safer, use
 * `emerge -pv --depclean <atom>` to check for reverse dependencies before
 * removing packages.

--- Couldn't find 'xfce-base/xfce-utils' to unmerge.

>>> No packages selected for removal by unmerge




Comment 5


Naveen Goswamy





          2012-06-27 14:41:34 UTC
        

(In reply to comment #3)
> I would add 'xfce-base/xfce-utils' to /etc/portage/package.mask to get more
> informative output
> And 'emerge -C xfce4-smartbookmark-plugin xfce4-meta xfce4-session'
> 
> In any case, this is not a real bug since absolutely nothing is depending on
> xfce-utils in Portage anymore for 4.10:
> 
> http://qa-reports.gentoo.org/output/genrdeps/dindex/xfce-base/xfce-utils
> http://qa-reports.gentoo.org/output/genrdeps/rindex/xfce-base/xfce-utils


I did those steps, and now when I try to revdep rebuild, in addition to the previous block message, I get this


The following mask changes are necessary to proceed:
#required by xfce-base/xfce-utils:0 (argument)
# /etc/portage/package.mask/xfce-utils.mask:
=xfce-base/xfce-utils-4.8.3

NOTE: The --autounmask-keep-masks option will prevent emerge
      from creating package.unmask or ** keyword changes.




Comment 6


Rafał Mużyło





          2012-06-27 14:53:38 UTC
        

OK, a bad question, the real is: post the full output of 'revdep-rebuild -p -- -v'.




Comment 7


Naveen Goswamy





          2012-06-27 15:01:19 UTC
        

Created attachment 316451 [details]
the results of revdep-rebuild -p -- -v




Comment 8


Rafał Mużyło





          2012-06-27 15:11:47 UTC
        

Don't know about the rest, but xfce-extra/xfce4-mixer-4.8.0 doesn't strike me as a part of 4.10.
Perhaps 'revdep-rebuild -p -- -tv' will give you a better hint.




Comment 9


Jeroen Roovers (RETIRED)






          2012-06-27 15:33:02 UTC
        

This still looks like a plain `emerge -vuaDN world' would solve the issue, and not a revdep-rebuild before the world file's targets are satisfied. Also, emerge --depclean might help here in getting rid of unneeded/former xfce 4.8 dependencies.




Comment 10


Naveen Goswamy





          2012-06-27 15:40:30 UTC
        

(In reply to comment #9)
> This still looks like a plain `emerge -vuaDN world' would solve the issue,
> and not a revdep-rebuild before the world file's targets are satisfied.
> Also, emerge --depclean might help here in getting rid of unneeded/former
> xfce 4.8 dependencies.

I'd already done the emerge --depclean before trying revdep-rebuild in the first place.

I'll try your emerge -vauDN world, but I wonder, does it differ from 

emerge --update --newuse --deep -av world

(that was the first part of this whole process, ie...


emerge --update --newuse --deep -av world
emerge --depclean 
revdep-rebuild

which is my usual update procedure)




Comment 11


Naveen Goswamy





          2012-06-27 18:48:59 UTC
        

Woop, works now!

Seems somethings have changed since I last --rsync'ed.

Thanks all,

Naveen









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

