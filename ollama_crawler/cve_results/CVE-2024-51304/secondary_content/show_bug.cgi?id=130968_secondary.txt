Title: 130968 – nas depends on rman, but the ebuild does not
URL: https://bugs.gentoo.org/show_bug.cgi?id=130968

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 130968
nas depends on rman, but the ebuild does not
Last modified: 2006-04-24 06:18:44 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 130968 
      - nas depends on rman, but the ebuild does not


Summary:
nas depends on rman, but the ebuild does not
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-04-23 08:21 UTC by Jeff Mitchell





      Modified:
    
2006-04-24 06:18 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Jeff Mitchell





          2006-04-23 08:21:25 UTC
        

If you try to emerge nas without rman installed it'll fail.  The nas ebuild fails to pull in rman, however.



Portage 2.1_pre7-r5 (default-linux/x86/2005.1, gcc-3.4.5, glibc-2.3.5-r3, 2.6.15-suspend2-r8 i686)
=================================================================
System uname: 2.6.15-suspend2-r8 i686 Intel(R) Pentium(R) M processor 1700MHz
Gentoo Base System version 1.6.14
ccache version 2.3 [enabled]
dev-lang/python:     2.3.5-r2, 2.4.2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=pentium-m -O2 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/kde/3/share/config /usr/lib/mozilla/defaults/pref /usr/share/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/eselect/compiler /etc/gconf /etc/revdep-rebuild /etc/terminfo /etc/env.d"
CXXFLAGS="-march=pentium-m -O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://gentoo.osuosl.org/"
LANG="en_US.utf8"
LC_ALL="en_US.utf8"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage /usr/local/xgl-coffee"
SYNC="rsync://rsync.namerica.gentoo.org/gentoo-portage"
USE="x86 16bit 4kstacks 7zip X X509 a52 aac aalib acpi ada aim alsa amarok arts asf asm audiofile avahi avi bash-completion berkdb bitmap-fonts bluetooth bonjour bonobo bookmarks browserplugin bzip2 bzlib cairo calendar cardbus ccache cdda cddb cdio cdparanoia cdrom clearcase cli codecs commercial cpudetection crypt css cups curl curlwrappers custom-cflags cvs dbus dio divx4linux dlloader dnd dri dts dv dvb dvd dvdr dvdread emacs emboss encode esd evo evo2 exif expat exscalibar fame fastcgi fb ffmpeg fftw firefox flac font-server foomaticdb fortran freetype ftp fuse gd gdbm gg gif gimp gimpprint glitz gmail gmailtimestamps gmp gnome gnome-print gnutls gphoto2 gpm graphviz gsm gstreamer gtk gtk2 gtkhtml h323 hal haskell hbci howl-compat hpn httpd icq id3 idn ieee1394 imagemagick imap imlib input_devices_evdev input_devices_joystick input_devices_keyboard input_devices_mouse input_devices_synaptics ipod isdnlog jabber java javascript jikes jit joystick jpeg jpeg2k kde kdeenablefinal lame largeterminal lcms ldap libcaca libg++ libwww live logitech-mouse logrotate lua lzw mad maildir matroska mbox mikmod mime mmap mmx mmxext mng mono motif mozilla mozsvg mozxmlterm mp3 mp4 mp4live mpeg mpeg2 mplayer msn musepack musicbrainz mysql mysqli nas ncurses network new-login nls nntp nptl nptlonly nsplugin ntlm nvidia offensive ofx ogg oggvorbis on-the-fly-crypt openal openexr opengl oscar oss pam pam_console pam_timestamp pascal pcre pda pdf pdflib perforce perl php player plotutils plugin png pnp posix postfix povray ppds pppd python qemu-fast qt quicktime quotes rar rdesktop readline real reflection reiserfs remote rrdtool rss ruby samba sasl scanner screenshot sdl server session sharedext sharedmem shorten skey slp sndfile sockets speedo spell spl sql sqlite sqlite3 sse sse2 ssl stream subversion svg svga sysfs tcltk tcpd theora threads tiff tokenizer toolbar transcode truetype truetype-fonts type1 type1-fonts unicode usb utf8 v4l v4l2 vcd video_cards_fbdev video_cards_nv video_cards_nvidia video_cards_vesa vidix vim vim-pager vim-with-x visualization vlm vnc vorbis wifi win32codecs wmf wxgtk1 wxwindows x264 xanim xchatnogtk xchattext xcomposite xface xine xinerama xml xml2 xorg xosd xpm xprint xrandr xscreensaver xv xvid xvmc yahoo zeroconf zlib elibc_glibc kernel_linux userland_GNU"
Unset:  ASFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LDFLAGS, LINGUAS, MAKEOPTS




Comment 1


Jakub Moc (RETIRED)






          2006-04-23 08:26:27 UTC
        

nas-1.7-r1.ebuild

DEPEND="${RDEPEND}
        || (
                ( x11-misc/gccmakedep x11-misc/imake app-text/rman x11-proto/xproto )
                virtual/x11
        )"


Moreover, even the virtual/x11-7.0-r2 depends or rman. No chance you could miss that dependency unless you either didn't put the correct nas version into package.keywords or you did redefine/provide virtual/x11 in /etc/portage files.

Closing, not a bug.




Comment 2


Jeff Mitchell





          2006-04-24 06:14:06 UTC
        

I see the dependency in the ebuild, so I'm not sure what happened, but two independent machines (one 2006.0, one 2005.0, with different USE flags) both failed compiling the ebuild because the rman include files weren't found, and rman was not emerged when nas was.  I did find something else, though:

"Moreover, even the virtual/x11-7.0-r2 depends or rman."

virtual/x11-7.0-r1, which was current when I was emerging nas, does not (still doesn't, as of a sync done yesterday).  The rman dependency was added for virtual/x11-7.0-r2.

virtual/x11-7.0-r1:
RDEPEND=">=x11-base/xorg-x11-7
                        x11-apps/xdm
                        x11-apps/xdpyinfo
                        ...

virtual/x11-7.0-r2:
RDEPEND="app-text/rman
                        >=x11-base/xorg-x11-7
                        x11-apps/xdm
                        x11-apps/xdpyinfo
                        ...

Re-opening so you see this, in case you want to fix the earlier virtual/x11 ebuilds.




Comment 3


Jakub Moc (RETIRED)






          2006-04-24 06:18:44 UTC
        

We won't be backporting dependencies to obsoleted virtual/x11 versions. Thanks, closing.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

