Title: 626220 – kde-apps/kdenlive-16.12.3 SIGSEGV on startup
URL: https://bugs.gentoo.org/show_bug.cgi?id=626220

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 626220
kde-apps/kdenlive-16.12.3 SIGSEGV on startup
Last modified: 2017-12-03 13:28:04 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 626220 
      - kde-apps/kdenlive-16.12.3 SIGSEGV on startup


Summary:
kde-apps/kdenlive-16.12.3 SIGSEGV on startup
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2017-07-26 09:23 UTC by Bas van den Heuvel





      Modified:
    
2017-12-03 13:28 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge --info

              (emerge.info,16.37 KB,
                application/x-info)

            
2017-07-26 18:17 UTC,

            Bas van den Heuvel




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Bas van den Heuvel





          2017-07-26 09:23:49 UTC
        

No matter what I try, it crashes. It warns about the icon theme "breeze" not being found, so I went and added it to my system. I took the icons from https://github.com/KDE/breeze-icons and placed them in /usr/share/icons/, but that message never disappeared and the program keeps crashing.

 ~  kdenlive                                                                  2017-07-26T11:19:08 CEST
qt5ct: using qt5ct plugin
Non KDE Desktop detected, forcing Breeze icon theme
Icon theme "breeze" not found.
Icon theme "breeze" not found.
MLT profiles path:  "/usr/share/mlt/profiles/"
fish: “kdenlive” terminated by signal SIGSEGV (Address boundary error)




Comment 1


Bas van den Heuvel





          2017-07-26 09:25:00 UTC
        

By the way, I also tried the unstable 17.04.3, but it has exactly the same problem.




Comment 2


Andreas Sturmlechner






          2017-07-26 17:21:42 UTC
        

Since when do we download random stuff and place it into system directories manually?

We have kde-frameworks/breeze-icons packaged just fine.




Comment 3


Andreas Sturmlechner






          2017-07-26 17:43:16 UTC
        

emerge --info missing




Comment 4


Bas van den Heuvel





          2017-07-26 18:17:15 UTC
        

Created attachment 486914 [details]
emerge --info




Comment 5


Bas van den Heuvel





          2017-07-26 19:09:18 UTC
        

(In reply to Andreas Sturmlechner from comment #2)
> Since when do we download random stuff and place it into system directories
> manually?
> 
> We have kde-frameworks/breeze-icons packaged just fine.

Ah, I didn't search well enough. Well, now only the warnings are gone:

 ~  kdenlive                                                                                                 2017-07-26T20:16:56 CEST
qt5ct: using qt5ct plugin
Non KDE Desktop detected, forcing Breeze icon theme
MLT profiles path:  "/usr/share/mlt/profiles/"
fish: “kdenlive” terminated by signal SIGSEGV (Address boundary error)




Comment 6


Andreas Sturmlechner






          2017-07-27 15:36:23 UTC
        

* Can we assume you did the GCC-5 upgrade properly, read the ABI incompatibility news item w/ rebuild?
* Did you already try to rebuild media-libs/mlt?
* I'm glad I don't have to deal with Optimus myself - kdenlive is rather sensitive to the GPU in use. Is there any reason to use bumblebee(-overlay) when you do not use nvidia-drivers? Can you try with the Nvidia chip disabled?




Comment 7


Bas van den Heuvel





          2017-07-27 19:04:31 UTC
        

(In reply to Andreas Sturmlechner from comment #6)
> * Can we assume you did the GCC-5 upgrade properly, read the ABI
> incompatibility news item w/ rebuild?

Yes.

> * Did you already try to rebuild media-libs/mlt?

Now I did and to no avail.

> * I'm glad I don't have to deal with Optimus myself - kdenlive is rather
> sensitive to the GPU in use. Is there any reason to use bumblebee(-overlay)
> when you do not use nvidia-drivers? Can you try with the Nvidia chip
> disabled?

Actually I don't use any package from that overlay, so I removed it. I've never fully grasped how to get control of the graphics cards, so I have no idea as to disabling the Nvidia chip.

Thank you for your help and time.




Comment 8


Bas van den Heuvel





          2017-08-21 18:08:28 UTC
        

Anything? Even with the new stable build it does exactly the same...




Comment 9


Andreas Sturmlechner






          2017-11-15 22:21:21 UTC
        

Please test with 17.08.3, alternatively build with USE=debug and check for more verbose error messages




Comment 10


Bas van den Heuvel





          2017-11-16 19:55:13 UTC
        

(In reply to Andreas Sturmlechner from comment #9)
> Please test with 17.08.3, alternatively build with USE=debug and check for
> more verbose error messages

Unfortunately, no. The Use-flag doesn't yield any different output. Maybe I can use valgrind?




Comment 11


Andreas Sturmlechner






          2017-11-16 19:59:41 UTC
        

Maybe enable it also for mlt.

Please rebuild at least mlt and kdenlive with debug symbols, though for better stacktrace it would need to be more I guess (all the dependencies of kdenlive) and report your bug to upstream.

https://wiki.gentoo.org/wiki/Debugging




Comment 12


Bas van den Heuvel





          2017-12-03 13:26:48 UTC
        

Okay. I upgraded to the latest GCC and rebuilt mlt and kdenlive. It now works. Thanks.




Comment 13


Andreas Sturmlechner






          2017-12-03 13:28:04 UTC
        

Thanks for checking back.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

