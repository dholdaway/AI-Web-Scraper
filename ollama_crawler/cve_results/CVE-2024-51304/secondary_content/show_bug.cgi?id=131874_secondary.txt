Title: 131874 – sys-apps/coreutils-5.94-r1 fails on sort-test
URL: https://bugs.gentoo.org/show_bug.cgi?id=131874

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 131874
sys-apps/coreutils-5.94-r1 fails on sort-test
Last modified: 2006-08-24 19:07:57 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 131874 
      - sys-apps/coreutils-5.94-r1 fails on sort-test


Summary:
sys-apps/coreutils-5.94-r1 fails on sort-test
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] baselayout

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo's Team for Core System packages








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-05-01 02:04 UTC by Christian Schlotter





      Modified:
    
2006-08-24 19:07 UTC
      (History)
    




          CC List:
        

4 
          users
          
            (show)
          



aaron123456789
gpp666_999
mcummings
natanael.copa









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Christian Schlotter





          2006-05-01 02:04:01 UTC
        

Hi!

This is the error I encounter when doing emerge --verbose --update world, which also bumps coreutils to 5.94-r1:

[...]
Making all in sha1sum
make[3]: Entering directory `/var/tmp/portage/coreutils-5.94-r1/work/coreutils-5.94/tests/sha1sum'
make[3]: Nothing to be done for `all'.
make[3]: Leaving directory `/var/tmp/portage/coreutils-5.94-r1/work/coreutils-5.94/tests/sha1sum'
Making all in shred
make[3]: Entering directory `/var/tmp/portage/coreutils-5.94-r1/work/coreutils-5.94/tests/shred'
make[3]: Nothing to be done for `all'.
make[3]: Leaving directory `/var/tmp/portage/coreutils-5.94-r1/work/coreutils-5.94/tests/shred'
Making all in sort
make[3]: Entering directory `/var/tmp/portage/coreutils-5.94-r1/work/coreutils-5.94/tests/sort'
test 'sort' = test && prog=../../src/sort || prog=sort; \
perl -I. -w -- ./../mk-script . $prog > sort-tests.n
Can't locate auto/POSIX/assert.al in @INC (@INC contains: . /etc/perl /usr/lib/perl5/site_perl/5.8.7/i686-linux /usr/lib/perl5/site_perl/5.8.7 /usr/lib/perl5/site_perl /usr/lib/perl5/vendor_perl/5.8.7/i686-linux /usr/lib/perl5/vendor_perl/5.8.7 /usr/lib/perl5/vendor_perl/5.8.4 /usr/lib/perl5/vendor_perl/5.8.4/i686-linux /usr/lib/perl5/vendor_perl/5.8.5 /usr/lib/perl5/vendor_perl/5.8.5/i686-linux /usr/lib/perl5/vendor_perl /usr/lib/perl5/5.8.7/i686-linux /usr/lib/perl5/5.8.7 /usr/local/lib/site_perl .) at ./../mk-script line 33
make[3]: *** [sort-tests] Error 255
make[3]: Leaving directory `/var/tmp/portage/coreutils-5.94-r1/work/coreutils-5.94/tests/sort'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/var/tmp/portage/coreutils-5.94-r1/work/coreutils-5.94/tests'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/coreutils-5.94-r1/work/coreutils-5.94'
make: *** [all] Error 2

Here's my emerge --info output:
Portage 2203-svn (default-linux/x86/2005.0, gcc-3.4.5, glibc-2.3.6-r3, 2.4.31-xbox i686)
=================================================================
System uname: 2.4.31-xbox i686 Celeron (Coppermine)
Gentoo Base System version 1.6.14
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
dev-lang/python:     2.3.5-r2, 2.4.2
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.10
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium3 -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/eselect/compiler /etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=pentium3 -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="ftp://sunsite.informatik.rwth-aachen.de/pub/Linux/gentoo ftp://ftp.gentoo.mesh-solutions.com/gentoo/ ftp://linux.rz.ruhr-uni-bochum.de/gentoo-mirror/"
MAKEOPTS="-j1"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="x86 acl alsa apm bitmap-fonts bzip2 cdb cli crypt curl dri eds emboss encode expat foomaticdb fortran gdbm gif gstreamer isdnlog libg++ libwww mmx mp3 ncurses ogg pam pcre pdflib pppd python readline reflection samba session spell spl sse ssl tcpd tiff truetype-fonts type1-fonts vorbis xml2 xorg zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGUAS

Best regards
Christian




Comment 1


Jakub Moc (RETIRED)






          2006-05-01 02:13:17 UTC
        

On a side note, your perl is pretty messed up - about time to run perl-cleaner.

*** This bug has been marked as a duplicate of 125701 ***




Comment 2


Christian Schlotter





          2006-05-17 06:38:38 UTC
        

It was suggested in bug 125701 that another bug should be opened for this case, as it doesn't seem to be related to the sandbox issue discussed there.  I assume that my USE="minimal" perl install is related to this failure.




Comment 3


Natanael Copa





          2006-05-17 06:55:52 UTC
        

Yes this is a separate bug from 125701.

There is a patch posted in bug 125701 fixing this: https://bugs.gentoo.org/attachment.cgi?id=84586






Comment 4


Christian Schlotter





          2006-05-21 23:42:51 UTC
        

I think noone should put energy in resolving this bug.  I simply compiled perl without the "minimal" USE flag set, and coreutils compiled fine.  The minimal USE flag is already removed from perl-5.8.8, which will be stable soon (see bug 133869, comment 4).




Comment 5


Michael Cummings (RETIRED)






          2006-05-22 17:14:59 UTC
        

not much more i can add. 'minimal' perl was never able to be as minimal as possible. we left off in 5.8.8 with a 'build' version, and the vanilla - once we started undoing those removes that turned out to be necessary for perl, what we were left with for minimal was just shy of the regular install (and i mean a few files shy) - hence the dropping of minimal in 5.8.8.




Comment 6


SpanKY






          2006-06-11 09:53:37 UTC
        

k




Comment 7


Gergan Penkov





          2006-08-20 17:35:43 UTC
        

this breaks building stage tarballs with catalyst (using ~arch), so could you re-open it as building with the "build" use flag is still broken and needs something like https://bugs.gentoo.org/attachment.cgi?id=84586 from bug# 125701




Comment 8


SpanKY






          2006-08-20 18:36:07 UTC
        

USE=build is dead




Comment 9


Gergan Penkov





          2006-08-20 18:54:27 UTC
        

cat /usr/lib/catalyst/targets/stage1/stage1-chroot.sh |grep build
export clst_buildpkgs="$(/tmp/build.py)"
export USE="-* build ${STAGE1_USE}"
if [ -z "${clst_buildpkgs}" ]
        echo "Could not build a list of build packages."
run_emerge "--noreplace --oneshot ${clst_buildpkgs}"

this does not seem like particulary dead to me :)
btw this is from catalyst-2.0 
anyway I simply decided to report it, not that it is sth critical




Comment 10


Michael Cummings (RETIRED)






          2006-08-24 19:07:57 UTC
        

(In reply to comment #9)
>> this does not seem like particulary dead to me :)
>
maybe you're looking in the wrong place then ;) the breakage was because of a "minimal" flag in perl. It was removed with 5.8.8, which is stable on all arch's.










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

