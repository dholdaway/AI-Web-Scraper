Title: 215204 – kde-base/nepomuk-4.0.2 fails to compile
URL: https://bugs.gentoo.org/show_bug.cgi?id=215204

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 215204
kde-base/nepomuk-4.0.2 fails to compile
Last modified: 2009-04-01 05:04:41 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 215204 
      - kde-base/nepomuk-4.0.2 fails to compile


Summary:
kde-base/nepomuk-4.0.2 fails to compile
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-03-28 15:00 UTC by Robert Förster





      Modified:
    
2009-04-01 05:04 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



peter









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build.log

              (build.log,4.46 KB,
                text/plain)

            
2008-03-28 18:15 UTC,

            Robert Förster




Details





find output

              (nepomuk-4.0.2,7.34 KB,
                text/plain)

            
2008-03-28 19:23 UTC,

            Robert Förster




Details





build.log

              (build.log,5.10 KB,
                text/plain)

            
2008-03-29 00:52 UTC,

            Robert Förster




Details





Show
              Obsolete (1)
            View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Robert Förster





          2008-03-28 15:00:21 UTC
        

-- Configuring done
-- Generating done
-- Build files have been written to: /var/tmp/portage/kde-base/nepomuk-4.0.2/work/nepomuk_build
>>> Source compiled.
>>> Test phase [not enabled]: kde-base/nepomuk-4.0.2

>>> Install nepomuk-4.0.2 into /var/tmp/portage/kde-base/nepomuk-4.0.2/image/ category kde-base
make: *** No rule to make target `install'.  Stop.
 *
 * ERROR: kde-base/nepomuk-4.0.2 failed.
 * Call stack:
 *               ebuild.sh, line   49:  Called src_install
 *             environment, line 2838:  Called kde4-meta_src_install
 *             environment, line 2247:  Called cmake-utils_src_install
 *             environment, line  702:  Called die
 * The specific snippet of code:
 *       emake install DESTDIR="${D}" || die "Make install failed";
 *  The die message:
 *   Make install failed
 *
 * If you need support, post the topmost build error, and the call stack if relevant.
 * A complete build log is located at '/var/tmp/portage/kde-base/nepomuk-4.0.2/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/kde-base/nepomuk-4.0.2/temp/environment'.
 *

Reproducible: Always

Steps to Reproduce:




Portage 2.1.4.4 (default-linux/amd64/2007.0, gcc-4.2.3, glibc-2.7-r2, 2.6.24-gentoo-r3-Beatrix x86_64)
=================================================================
System uname: 2.6.24-gentoo-r3-Beatrix x86_64 Intel(R) Pentium(R) D CPU 2.80GHz
Timestamp of tree: Thu, 27 Mar 2008 18:45:01 +0000
app-shells/bash:     3.2_p33
dev-java/java-config: 1.3.7, 2.1.5
dev-lang/python:     2.5.1-r5
sys-apps/baselayout: 2.0.0
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.61-r1
sys-devel/automake:  1.5, 1.7.9-r1, 1.9.6-r2, 1.10.1
sys-devel/binutils:  2.18-r1
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.24
ACCEPT_KEYWORDS="amd64 ~amd64"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=nocona -O3 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/4.0/env /usr/kde/4.0/share/config /usr/kde/4.0/shutdown /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf/etc/gentoo-release /etc/revdep-rebuild /etc/terminfo /etc/udev/rules.d"
CXXFLAGS="-march=nocona -O3 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="distlocks metadata-transfer sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://gentoo.osuosl.org/ ftp://distro.ibiblio.org/pub/linux/distributions/gentoo/ ftp://ftp.tu-clausthal.de/pub/linux/gentoo/ ftp://sunsite.informatik.rwth-aachen.de/pub/Linux/gentoo http://linux.rz.ruhr-uni-bochum.de/download/gentoo-mirror/ http://ftp.uni-erlangen.de/pub/mirrors/gentoo ftp://ftp.join.uni-muenster.de/pub/linux/distributions/gentoo ftp://ftp.wh2.tu-dresden.de/pub/mirrors/gentoo ftp://ftp.join.uni-muenster.de/pub/linux/distributions/gentoo http://mirrors.sec.informatik.tu-darmstadt.de/gentoo/ http://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/ ftp://ftp.gentoo.mesh-solutions.com/gentoo/ ftp://pandemonium.tiscali.de/pub/gentoo/ http://gentoo.mneisen.org/ http://de-mirror.org/distro/gentoo/ ftp://de-mirror.org/distro/gentoo/ "
LINGUAS="de en"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portage/local/layman/mozilla /usr/local/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="acl acpi alsa amd64 bash-completion berkdb cli cracklib crypt cups dri fortran gdbm glitz gpm iconv ipv6 isdnlog ithreads kdehiddenvisibility midi mmx mudflapmysql ncurses nls no-old-linux nptl nptlonly openmp pam pcre perl pppd python readline reflection session spl sse sse2 ssl svg symlink tcpd unicode xine xorg zlib"ALSA_CARDS="emu10k1x" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="keyboard mouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="de en" USERLAND="GNU" VIDEO_CARDS="nvidia"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Bo Ørsted Andresen (RETIRED)






          2008-03-28 18:09:54 UTC
        

(In reply to comment #0)
>  * A complete build log is located at
> '/var/tmp/portage/kde-base/nepomuk-4.0.2/temp/build.log'.

Please post this file as an attachment and reopen.




Comment 2


Robert Förster





          2008-03-28 18:15:36 UTC
        

Created attachment 147564 [details]
build.log




Comment 3


Robert Förster





          2008-03-28 18:15:58 UTC
        

file attached




Comment 4


Bo Ørsted Andresen (RETIRED)






          2008-03-28 19:13:26 UTC
        

Please provide the output of:

find /var/tmp/portage/kde-base/nepomuk-4.0.2/work




Comment 5


Robert Förster





          2008-03-28 19:23:43 UTC
        

Created attachment 147565 [details]
find output




Comment 6


Bo Ørsted Andresen (RETIRED)






          2008-03-29 00:08:47 UTC
        

Oh, another thing to try to get something useful:

# export CMAKE_COMPILER_VERBOSE=true
# emerge -1 nepomuk

Then attach the resulting build.log




Comment 7


Robert Förster





          2008-03-29 00:52:44 UTC
        

Created attachment 147594 [details]
build.log




Comment 8


Bernd Steinhauser





          2008-05-08 18:01:24 UTC
        

If you still have that problem...

Could you please ensure reinstall app-misc/strigi and ensure, that the use flags dbus and qt4 are enabled?
(If they are enabled, reinstall anyway.)

After that reinstall, please try again and see if it still fails.




Comment 9


Robert Förster





          2008-05-09 00:39:12 UTC
        

reemerging strigi fixed it, thanks! (useflags dbus and qt4 were already enabled)




Comment 10


Ingmar Vanhassel (RETIRED)






          2008-05-09 07:32:42 UTC
        

If anyone can still reproduce this, feel free to reopen..




Comment 11


Wily Unrest





          2008-05-14 09:25:28 UTC
        

(In reply to comment #10)
> If anyone can still reproduce this, feel free to reopen..

Was experiencing same issue with 4.0.3:

-- Looking for include files HAVE_SYS_TIME_H
-- Looking for include files HAVE_SYS_TIME_H - found
--
-----------------------------------------------------------------------------
-- The following external packages were located on your system.
-- This installation will have the extra features provided by these packages.
+ Soprano
Congratulations! All external packages have been found.
-----------------------------------------------------------------------------

-- Configuring done
-- Generating done
-- Build files have been written to: /var/tmp/portage/kde-base/nepomuk-4.0.3/work/nepomuk_build
>>> Source compiled.
>>> Test phase [not enabled]: kde-base/nepomuk-4.0.3

>>> Install nepomuk-4.0.3 into /var/tmp/portage/kde-base/nepomuk-4.0.3/image/ category kde-base
make: *** No rule to make target `install'.  Stop.
 *
 * ERROR: kde-base/nepomuk-4.0.3 failed.
 * Call stack:
 *               ebuild.sh, line   49:  Called src_install
 *             environment, line 2930:  Called kde4-meta_src_install
 *             environment, line 2339:  Called cmake-utils_src_install
 *             environment, line  707:  Called die
 * The specific snippet of code:
 *       emake install DESTDIR="${D}" || die "Make install failed";
 *  The die message:
 *   Make install failed
 *
 * If you need support, post the topmost build error, and the call stack if relevant.
 * A complete build log is located at '/var/tmp/portage/kde-base/nepomuk-4.0.3/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/kde-base/nepomuk-4.0.3/temp/environment'.
 *

Checked strigi as suggested:

Calculating dependencies... done!
[ebuild   R   ] app-misc/strigi-0.5.8  USE="clucene dbus exiv2 qt4 -debug -fam -hyperestraier -inotify -java -test" 0 kB

Rebuilt anyhow.

Compile nepomuk 4.0.3 then succeeds.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

