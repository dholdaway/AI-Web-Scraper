Title: 254209 – media-gfx/sane-backends: USE "doc": fails
URL: https://bugs.gentoo.org/show_bug.cgi?id=254209

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 254209
media-gfx/sane-backends: USE "doc": fails
Last modified: 2009-02-12 22:26:13 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 254209 
      - media-gfx/sane-backends: USE "doc": fails


Summary:
media-gfx/sane-backends: USE "doc": fails
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Patrick Kursawe (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-01-08 11:26 UTC by Manfred Knick





      Modified:
    
2009-02-12 22:26 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



tex









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Manfred Knick





          2009-01-08 11:26:39 UTC
        

Emerging media-gfx/sane-backends-1.0.19-r1 fails with enabled USE flag "doc".

I guess this report might be for Patrick Kursawe ;) 
Hi, kind regards!


Reproducible: Always

Steps to Reproduce:
1.enable "doc" USE flag in /etc/make.conf
2.emerge sane-backends

Actual Results:  
...
making all in doc
make[1]: Entering directory `/Storage-B/Portage_tmp/portage/media-gfx/sane-backends-1.0.19-r1/work/sane-backends-1.0.19/doc'
Generating index for sane.ps...
Generating manpage scanimage.1...
Generating manpage sane-config.1...
Generating manpage sane-find-scanner.1...
Generating manpage gamma4scanimage.1...
Generating manpage sane-abaton.5...
Generating manpage sane-agfafocus.5...
Generating manpage sane-apple.5...
Generating manpage sane-as6e.5...
warning: Configuration file texmf.cnf not found! Searched these directories:
/usr/bin:/usr:/:/usr/bin/share/texmf-local/web2c:/usr/share/texmf-local/web2c://share/texmf-local/web2c:/usr/bin/texmf-local/web2c:/usr/texmf-local/web2c://texmf-local/web2c:/usr/bin/share/texmf/web2c:/usr/share/texmf/web2c://share/texmf/web2c:/usr/bin/texmf/web2c:/usr/texmf/web2c://texmf/web2c:/.:/usr/share/texmf/web2c:/usr/share/texmf/web2c
Trying to proceed...
kpathsea: Running mktexfmt latex.fmt
Generating manpage sane-dc25.5...
Generating manpage sane-dll.5...
Generating manpage sane-dmc.5...
warning: Configuration file texmf.cnf not found! Searched these directories:
/usr/bin:/usr:/:/usr/bin/share/texmf-local/web2c:/usr/share/texmf-local/web2c://share/texmf-local/web2c:/usr/bin/texmf-local/web2c:/usr/texmf-local/web2c://texmf-local/web2c:/usr/bin/share/texmf/web2c:/usr/share/texmf/web2c://share/texmf/web2c:/usr/bin/texmf/web2c:/usr/texmf/web2c://texmf/web2c:/.:/usr/share/texmf/web2c:/usr/share/texmf/web2c
Trying to proceed...
/usr/bin/mktexfmt: line 336: /texconfig/tcfmgr: Datei oder Verzeichnis nicht gefunden
fmtutil: config file `fmtutil.cnf' not found.
make[1]: *** [sane.ind] Fehler 1
make[1]: *** Warte auf noch nicht beendete Prozesse...
Generating manpage sane-epson.5...
Generating manpage sane-hp.5...
make[1]: Leaving directory `/Storage-B/Portage_tmp/portage/media-gfx/sane-backends-1.0.19-r1/work/sane-backends-1.0.19/doc'
make: *** [all-recursive] Fehler 1
 *
 * ERROR: media-gfx/sane-backends-1.0.19-r1 failed.
 * Call stack:
 *               ebuild.sh, line   49:  Called src_compile
 *             environment, line 2152:  Called die
 * The specific snippet of code:
 *       emake VARTEXFONTS="${T}/fonts" || die;
 *  The die message:
 *   (no error message)


Expected Results:  
successful build

# emerge --info
Portage 2.1.6.4 (default/linux/amd64/2008.0/desktop, gcc-4.3.2, glibc-2.9_p20081201-r1, 2.6.28-gentoo x86_64)
=================================================================
System uname: Linux-2.6.28-gentoo-x86_64-AMD_Athlon-tm-_64_X2_Dual_Core_Processor_5600+-with-glibc2.2.5
Timestamp of tree: Thu, 08 Jan 2009 10:15:01 +0000
app-shells/bash:     3.2_p39
dev-java/java-config: 1.3.7-r1, 2.1.6-r1
dev-lang/python:     2.5.2-r7
dev-util/cmake:      2.6.2
sys-apps/baselayout: 1.12.11.1
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.63
sys-devel/automake:  1.4_p6, 1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.2
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.28-r1
ACCEPT_KEYWORDS="amd64"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=athlon64-sse3 -O2 -pipe "
CHOST="x86_64-pc-linux-gnu"
...
CXXFLAGS="-march=athlon64-sse3 -O2 -pipe "
...
LC_ALL="de_DE.UTF8"
LDFLAGS="-Wl,-O1"
...




Comment 1


Manfred Knick





          2009-01-08 11:28:43 UTC
        

The TEX packages that are installe on my box are:

# equery list tex
[ Searching for package 'tex' in all categories among: ]
 * installed packages
[I--] [  ] app-text/jadetex-3.13-r2 (0)
[I--] [  ] app-text/texi2html-1.76 (0)
[I--] [  ] app-text/texlive-core-2007-r13 (0)
[I--] [  ] dev-perl/Locale-gettext-1.05 (0)
[I--] [  ] dev-texlive/texlive-basic-2007 (0)
[I--] [  ] dev-texlive/texlive-documentation-base-2007 (0)
[I--] [  ] dev-texlive/texlive-fontsrecommended-2007 (0)
[I--] [  ] dev-texlive/texlive-latex-2007 (0)
[I--] [  ] dev-texlive/texlive-latexextra-2007 (0)
[I--] [  ] dev-texlive/texlive-latexrecommended-2007 (0)
[I--] [  ] sys-apps/texinfo-4.11-r1 (0)
[I--] [  ] sys-devel/gettext-0.17 (0)
[I--] [  ] virtual/latex-base-1.0 (0) 




Comment 2


Manfred Knick





          2009-01-08 11:40:15 UTC
        

Including "media-gfx/sane-backends -doc" into  /etc/portage/package.use:

emerge sane-backends "without Dokumentation"  succeeds, as expected.




Comment 3


Patrick Kursawe (RETIRED)






          2009-01-22 18:04:07 UTC
        

Since I am no TeXpert, can anyone in the TeX herd please tell me what's going on here?




Comment 4


Alexis Ballier






          2009-01-23 10:59:01 UTC
        

(In reply to comment #0)
> warning: Configuration file texmf.cnf not found! Searched these directories:
> /usr/bin:/usr:/:/usr/bin/share/texmf-local/web2c:/usr/share/texmf-local/web2c://share/texmf-local/web2c:/usr/bin/texmf-local/web2c:/usr/texmf-local/web2c://texmf-local/web2c:/usr/bin/share/texmf/web2c:/usr/share/texmf/web2c://share/texmf/web2c:/usr/bin/texmf/web2c:/usr/texmf/web2c://texmf/web2c:/.:/usr/share/texmf/web2c:/usr/share/texmf/web2c

this seems very broken;
it should be there:
/usr/share/texmf/web2c/texmf.cnf

gimme the output of 'texconfig conf'
'ls /etc/texmf/texmf.d/'
'which kpsewhich'




Comment 5


Manfred Knick





          2009-01-23 13:42:41 UTC
        

(In reply to comment #4)

Caution: In order to meke my system work, I USEd "-doc" !
BeWare:  After weeks, this system isn't the same any more ...


> gimme the output of 'texconfig conf'

# texconfig conf
warning: Configuration file texmf.cnf not found! Searched these directories:
/usr/bin:/usr:/:/usr/bin/share/texmf-local/web2c:/usr/share/texmf-local/web2c://share/texmf-local/web2c:/usr/bin/texmf-local/web2c:/usr/texmf-local/web2c://texmf-local/web2c:/usr/bin/share/texmf/web2c:/usr/share/texmf/web2c://share/texmf/web2c:/usr/bin/texmf/web2c:/usr/texmf/web2c://texmf/web2c:/.:/usr/share/texmf/web2c:/usr/share/texmf/web2c
Trying to proceed...
warning: Configuration file texmf.cnf not found! Searched these directories:
/usr/bin:/usr:/:/usr/bin/share/texmf-local/web2c:/usr/share/texmf-local/web2c://share/texmf-local/web2c:/usr/bin/texmf-local/web2c:/usr/texmf-local/web2c://texmf-local/web2c:/usr/bin/share/texmf/web2c:/usr/share/texmf/web2c://share/texmf/web2c:/usr/bin/texmf/web2c:/usr/texmf/web2c://texmf/web2c:/.:/usr/share/texmf/web2c:/usr/share/texmf/web2c
Trying to proceed...
=========================== version information ==========================
teTeX-src release:   (info not available)
teTeX-texmf release: (info not available)

==================== binaries found by searching $PATH ===================
PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/bin:/usr/x86_64-pc-linux-gnu/gcc-bin/4.3.2:/opt/blackdown-jdk-1.4.2.03/bin:/opt/blackdown-jdk-1.4.2.03/jre/bin:/usr/kde/3.5/sbin:/usr/kde/3.5/bin:/usr/qt/3/bin:/usr/lib/subversion/bin:/root/bin:
kpsewhich: /usr/bin/kpsewhich
updmap: /usr/bin/updmap
fmtutil: /usr/bin/fmtutil
texconfig: /usr/bin/texconfig
tex: /usr/bin/tex
pdftex: /usr/bin/pdftex
mktexpk: /usr/bin/mktexpk
dvips: /usr/bin/dvips
dvipdfm: not found

=========================== active config files ==========================
warning: Configuration file texmf.cnf not found! Searched these directories:
/usr/bin:/usr:/:/usr/bin/share/texmf-local/web2c:/usr/share/texmf-local/web2c://share/texmf-local/web2c:/usr/bin/texmf-local/web2c:/usr/texmf-local/web2c://texmf-local/web2c:/usr/bin/share/texmf/web2c:/usr/share/texmf/web2c://share/texmf/web2c:/usr/bin/texmf/web2c:/usr/texmf/web2c://texmf/web2c:/.:/usr/share/texmf/web2c:/usr/share/texmf/web2c
Trying to proceed...

... and so forth ...


> 'ls /etc/texmf/texmf.d/'

# ls /etc/texmf/texmf.d/
ls: Zugriff auf /etc/texmf/texmf.d/ nicht möglich: Datei oder Verzeichnis nicht gefunden


> 'which kpsewhich'

# which kpsewhich
/usr/bin/kpsewhich





Comment 6


Alexis Ballier






          2009-01-24 10:48:44 UTC
        

(In reply to comment #5)
> (In reply to comment #4)
> # ls /etc/texmf/texmf.d/
> ls: Zugriff auf /etc/texmf/texmf.d/ nicht möglich: Datei oder Verzeichnis
> nicht gefunden

i suppose that means that dir does not exist... try re-installing texlive-core




Comment 7


Manfred Knick





          2009-01-25 10:02:30 UTC
        

(In reply to comment #6)

re-installing texlive-core:



make[1]: Leaving directory `/Storage-B/Portage_tmp/portage/media-gfx/sane-backends-1.0.19-r1/work/sane-backends-1.0.19/tools'
making all in doc
make[1]: Entering directory `/Storage-B/Portage_tmp/portage/media-gfx/sane-backends-1.0.19-r1/work/sane-backends-1.0.19/doc'
Generating index for sane.ps...
Generating manpage scanimage.1...
...
...
Generating manpage sane-hs2p.5...
Generating manpage saned.8...
make[1]: *** [sane.ind] Fehler 1
make[1]: Leaving directory `/Storage-B/Portage_tmp/portage/media-gfx/sane-backends-1.0.19-r1/work/sane-backends-1.0.19/doc'
make: *** [all-recursive] Fehler 1
 *
 * ERROR: media-gfx/sane-backends-1.0.19-r1 failed.
 * Call stack:
 *               ebuild.sh, line   49:  Called src_compile
 *             environment, line 2157:  Called die
 * The specific snippet of code:
 *       emake VARTEXFONTS="${T}/fonts" || die;
 *  The die message:
 *   (no error message)




Comment 8


Manfred Knick





          2009-01-25 10:05:33 UTC
        

(In reply to comment #6)

Note:
This BUG exposed itself directly after a fresh clean install,
enabling USE=" doc " and installing the desired packages,
working on the "desktop" profile.





Comment 9


Patrick Kursawe (RETIRED)






          2009-01-30 12:49:02 UTC
        

(In reply to comment #8)

> make[1]: *** [sane.ind] Fehler 1

That sounds vaguely familiar. Please go ahead as described in
http://bugs.gentoo.org/show_bug.cgi?id=56624#c1
and tell me the results.
Thank you!




Comment 10


Patrick Kursawe (RETIRED)






          2009-02-12 19:07:26 UTC
        

Please re-open if you are still interested in this.




Comment 11


Manfred Knick





          2009-02-12 21:50:55 UTC
        

(In reply to comment #10)
> Please re-open if you are still interested in this.

Hi Patrick,

re-trying with +doc tonight pulled in as an additionall dependency:

-->   dev-texlive/texlive-latexextra-2007   <--

Together with that, emerging sane-backends with USE "... doc ..." succeeded.

Sorry that I can't produce more detailed hints any more.

I would propose to close this bug as "works for me".

Kind regards!
Manfred





Comment 12


Patrick Kursawe (RETIRED)






          2009-02-12 22:25:53 UTC
        

re-opening...




Comment 13


Patrick Kursawe (RETIRED)






          2009-02-12 22:26:13 UTC
        

... and resolving as "worksforme".









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

