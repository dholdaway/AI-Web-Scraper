Title: 126216 – libcap-1.10-r5 emerge fails because it tries to compile in src_install
URL: https://bugs.gentoo.org/show_bug.cgi?id=126216

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 126216
libcap-1.10-r5 emerge fails because it tries to compile in src_install
Last modified: 2006-05-05 13:03:48 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 126216 
      - libcap-1.10-r5 emerge fails because it tries to compile in src_install


Summary:
libcap-1.10-r5 emerge fails because it tries to compile in src_install
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Library

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo's Team for Core System packages








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-03-14 14:26 UTC by Kenyon Ralph





      Modified:
    
2006-05-05 13:03 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




sys-libs/libcap-1.10-r5 failed emerge log

              (13233-libcap-1.10-r5.log,148.86 KB,
                text/plain)

            
2006-03-14 15:02 UTC,

            Kenyon Ralph




Details





out put of emerge -1v libcap --debug >& logfile

              (logfile,147.64 KB,
                text/plain)

            
2006-03-14 15:13 UTC,

            Kenyon Ralph




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Kenyon Ralph





          2006-03-14 14:26:41 UTC
        

This looks like the same as bug 31092 except we're at r5 now.

I'll attach the emerge log in my next comment.

Here is my emerge --info:
Portage 2.1_pre6-r2 (default-linux/x86/2006.0, gcc-3.4.5, glibc-2.4-r0, 2.6.15-archck2 i686)
=================================================================
System uname: 2.6.15-archck2 i686 Intel(R) Pentium(R) 4 CPU 2.80GHz
Gentoo Base System version 1.12.0_pre16
ccache version 2.4 [enabled]
dev-lang/python:     2.3.5, 2.4.2-r1
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1-r2
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r3
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O3 -march=pentium4 -fomit-frame-pointer -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/share/config /var/bind /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c /etc/env.d"
CXXFLAGS="-O3 -march=pentium4 -fomit-frame-pointer -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache confcache distlocks fixpackages metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://gentoo.mirrors.easynews.com/linux/gentoo http://mirror.datapipe.net/gentoo http://gentoo.osuosl.org"
LANG="en_US.utf8"
LC_ALL="en_US.utf8"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.us.gentoo.org/gentoo-portage"
USE="x86 X a52 aac alsa apache2 apm arts audiofile avi bash-completion berkdb bitmap-fonts bzip2 caps cdparanoia cdr cli crypt ctype cups curl dba dbus dri dts eds emboss encode exif expat fastbuild ffmpeg flac font-server foomaticdb force-cgi-redirect fortran freetype ftp gd gdbm gif gnutls gphoto2 gpm gstreamer gtk gtk2 hal idn imagemagick imlib ipv6 java jikes jpeg jpeg2k kde kdeenablefinal lcms libg++ libwww lm_sensors mad matroska memlimit mmx mng mp3 mpeg ncurses network nls nptl nvidia offensive ogg opengl pcre pdflib perl pic png posix ppds python qt quicktime readline real samba scanner sdl session simplexml sndfile soap sockets spell spl sse sse2 ssl svg tetex theora threads tiff tokenizer truetype truetype-fonts type1-fonts udev unicode usb vorbis win32codecs wmf wxwindows xine xml xprint xsl xv xvid xvmc zlib elibc_glibc kernel_linux userland_GNU"
Unset:  ASFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, LDFLAGS, LINGUAS, MAKEOPTS




Comment 1


Kenyon Ralph





          2006-03-14 15:02:30 UTC
        

Created attachment 82151 [details]
sys-libs/libcap-1.10-r5 failed emerge log




Comment 2


Kenyon Ralph





          2006-03-14 15:13:35 UTC
        

Created attachment 82153 [details]
out put of emerge -1v libcap --debug >& logfile




Comment 3


SpanKY






          2006-03-14 17:28:30 UTC
        

uhh, your second logfile showed it emerging properly




Comment 4


Kenyon Ralph





          2006-03-14 17:47:28 UTC
        

(In reply to comment #3)
> uhh, your second logfile showed it emerging properly

Hah, well that's strange.  Out of the at least 30 times I've tried it now, that was the only time it succeeded.




Comment 5


Brian Merrill





          2006-04-13 15:53:24 UTC
        

Trying to emerge libcap fails for me with a nearly identical failed message as the attached failed emerge log albeit with different line numbers, but identical missing include error messages.

I tried re-emergeing python-2.4.2-r1 with no luck.

However, if I remove 1-10-python.patch from the libcap ebuild, libcap finishes the emerge successfully.  I also had to remove libcap-1.10-r4-staticfix.diff because it no longer patched cleanly with the removal of 1-10-python.patch.

This is on amd64 machine.  Additional information upon request.




Comment 6


SpanKY






          2006-05-05 09:59:27 UTC
        

are you using a tmpfs mount with /var/tmp/portage ?




Comment 7


Kenyon Ralph





          2006-05-05 11:23:38 UTC
        

(In reply to comment #6)
> are you using a tmpfs mount with /var/tmp/portage ?

No.

Since I reported this bug, I've reinstalled my system and it's all stable now, no more ~x86 in ACCEPT_KEYWORDS.  libcap-1.10-r5 emerges fine now, so this bug could be marked invalid for my part, unless Brian Merrill still has the problem as in Comment #5.




Comment 8


SpanKY






          2006-05-05 13:03:48 UTC
        

k









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

