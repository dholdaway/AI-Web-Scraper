Title: 122003 – Gentoo's/PPC gcc crashes while compiling MICO sources
URL: https://bugs.gentoo.org/show_bug.cgi?id=122003

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 122003
Gentoo's/PPC gcc crashes while compiling MICO sources
Last modified: 2006-02-08 11:54:27 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 122003 
      - Gentoo's/PPC gcc crashes while compiling MICO sources


Summary:
Gentoo's/PPC gcc crashes while compiling MICO sources
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Development

  (show other bugs)



Hardware:

PPC
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Toolchain Maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-02-07 09:39 UTC by Karel Gardas





      Modified:
    
2006-02-08 11:54 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Karel Gardas





          2006-02-07 09:39:24 UTC
        

Hello,
I've tried compiling MICO 2.3.12 (http://www.mico.org) sources on genesis's ODW provided by techonline Lab with Gentoo 2005.0. The problem is that compiler crashes with segfault on this machine. I wouldn't like to post preprosessed sources here, since they are quite large, rather post instruction to duplicate this issue:

wget http://mico.org/mico-2.3.12.tar.gz
tar -xzf mico-2.3.12.tar.gz
cd mico
./configure --prefix=/tmp/mico-bin
make

and here GCC crashes while compiling dii.cc. If you disable optimization by configuring with:

./configure --prefix=/tmp/mico-bin --disable-optimize
make

then GCC crashes while compiling context.cc.

Cheers,
Karel




Comment 1


SpanKY






          2006-02-07 10:28:28 UTC
        

you neglected to post `emerge info` and the error message




Comment 2


Karel Gardas





          2006-02-08 11:20:08 UTC
        

Hello,

sorry for missing emerge info, it's here:

O493687@gentoo O493687 $ emerge info

*** You are not in the portage group. You may experience cache problems
*** due to permissions preventing the creation of the on-disk cache.
*** Please add this user to the portage group if you wish to use portage.

Portage 2.0.51.22-r3 (default-linux/ppc/2005.0, gcc-3.4.3,
glibc-2.3.4.20041102-r1, 2.6.11-gentoo-r4 ppc)
=================================================================
System uname: 2.6.11-gentoo-r4 ppc 7447/7457, altivec supported
Gentoo Base System version 1.4.16
distcc 2.16 powerpc-unknown-linux-gnu (protocols 1 and 2) (default port 3632)
[disabled]
dev-lang/python:     2.3.4-r1
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.4
sys-devel/binutils:  2.15.90.0.3-r3
sys-devel/libtool:   1.5.10-r4
virtual/os-headers:  2.6.8.1
ACCEPT_KEYWORDS="ppc"
AUTOCLEAN="yes"
CBUILD="powerpc-unknown-linux-gnu"
CFLAGS="-O2 -mtune=G4 -maltivec -mabi=altivec -fno-strict-aliasing -pipe"
CHOST="powerpc-unknown-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config
/var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -mtune=G4 -maltivec -mabi=altivec -fno-strict-aliasing -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/
http://ftp.du.se/pub/os/gentoo http://trumpetti.atm.tut.fi/gentoo/
http://gentoo.eliteitminds.com ftp://mir.zyrianes.net/gentoo/"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="ppc X alsa altivec audiofile berkdb bitmap-fonts bzip2 cdr crypt cscope
cups curl dvdr eds emboss encode esd exif expat fam fbcon fortran gdbm gif
glut gnome gnomeprint gphoto2 gpm gstreamer gtk gtk2 hal imlib ipv6 java jpeg
junit kde lcms ldap libwww live lzo matroska mmap mng motif mozilla mp3 mpeg
ncurses network nls nptl nptlonly ogg oggvorbis opengl oss pam pcre pdflib
perl pic png python qt readline rtc ruby sdk sdl spell ssl tcpd theora tiff
truetype truetype-fonts type1-fonts udev unicode usb vorbis xml2 xmms xv xvid
zlib video_cards_radeon userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTDIR_OVERLAY

O493687@gentoo O493687 $


also compiler crash looks like:

c++  -I../include  -O2  -Wall -D_REENTRANT -D_GNU_SOURCE   -DPIC -fPIC  -c
dii.cc -o dii.pic.o
dii.cc:224: internal compiler error: Segmentation fault
Please submit a full bug report,
with preprocessed source if appropriate.
See <URL:http://bugs.gentoo.org/> for instructions.
The bug is not reproducible, so it is likely a hardware or OS problem.


and gcc version is:

Reading specs from /usr/lib/gcc/powerpc-unknown-linux-gnu/3.4.3/specs
Configured with: /var/tmp/portage/gcc-3.4.3-r1/work/gcc-3.4.3/configure --enable-version-specific-runtime-libs
--prefix=/usr --bindir=/usr/powerpc-unknown-linux-gnu/gcc-bin/3.4.3
--includedir=/usr/lib/gcc/powerpc-unknown-linux-gnu/3.4.3/include
--datadir=/usr/share/gcc-data/powerpc-unknown-linux-gnu/3.4.3
--mandir=/usr/share/gcc-data/powerpc-unknown-linux-gnu/3.4.3/man
--infodir=/usr/share/gcc-data/powerpc-unknown-linux-gnu/3.4.3/info
--with-gxx-include-dir=/usr/lib/gcc/powerpc-unknown-linux-gnu/3.4.3/include/g++-v3 --host=powerpc-unknown-linux-gnu
--enable-altivec --enable-nls --without-included-gettext --with-system-zlib --disable-checking --disable-werror
--disable-libunwind-exceptions --disable-multilib --disable-libgcj --enable-languages=c,c++,f77 --enable-shared
--enable-threads=posix --enable-__cxa_atexit --enable-clocale=gnu
Thread model: posix
gcc version 3.4.3 20041125 (Gentoo Linux 3.4.3-r1, ssp-3.4.3-0, pie-8.7.7)






Comment 3


SpanKY






          2006-02-08 11:54:27 UTC
        

you're using an outdated version of gcc, upgrade it









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

