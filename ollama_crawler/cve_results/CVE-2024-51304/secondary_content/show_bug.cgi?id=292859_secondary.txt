Title: 292859 – www-client/mozilla-firefox-3.5.5 segfaults on /usr/lib/xulrunner-1.9.1/libxul.so && net-libs/xulrunner-1.9.1.5 fails to emerge
URL: https://bugs.gentoo.org/show_bug.cgi?id=292859

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 292859
www-client/mozilla-firefox-3.5.5 segfaults on /usr/lib/xulrunner-1.9.1/libxul.so && net-libs/xulrunner-1.9.1.5 fails to emerge
Last modified: 2010-03-09 02:47:50 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 292859 
      - www-client/mozilla-firefox-3.5.5 segfaults on /usr/lib/xulrunner-1.9.1/libxul.so && net-libs/xulrunner-1.9.1.5 fails to emerge


Summary:
www-client/mozilla-firefox-3.5.5 segfaults on /usr/lib/xulrunner-1.9.1/libxul...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Mozilla Gentoo Team








URL:



http://www.mozilla.org/




Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-11-11 22:47 UTC by Stefan Wimmer





      Modified:
    
2010-03-09 02:47 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build.log of xulrunner-1.9.1.5

              (net-libs:xulrunner-1.9.1.5:20091111-221506.log.gz,139.03 KB,
                application/octet-stream)

            
2009-11-11 23:27 UTC,

            Stefan Wimmer




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Stefan Wimmer





          2009-11-11 22:47:50 UTC
        

Today all in a sudden mozilla-firefox stopped working and segfaults on /usr/lib/xulrunner-1.9.1/libxul.so (when running in gdb). So I tried to re-emerge xulrunner-1.9.1.5 but it fails to build with this error:

ar cr libgkconhtmlcon_s.a nsClientRect.o nsHTMLDNSPrefetch.o nsGenericHTMLElement.o nsFormSubmission.o nsImageMapUtils.o nsHTMLAnchorElement.o nsHTMLAreaElement.o nsHTMLBRElement.o nsHTMLBodyElement.o nsHTMLButtonElement.o nsHTMLCanvasElement.o nsHTMLDelElement.o nsHTMLDivElement.o nsHTMLFieldSetElement.o nsHTMLFontElement.o nsHTMLFormElement.o nsHTMLFrameElement.o nsHTMLFrameSetElement.o nsHTMLHRElement.o nsHTMLHeadElement.o nsHTMLHeadingElement.o nsHTMLHtmlElement.o nsHTMLIFrameElement.o nsHTMLImageElement.o nsHTMLInputElement.o nsHTMLLIElement.o nsHTMLLabelElement.o nsHTMLLegendElement.o nsHTMLLinkElement.o nsHTMLMapElement.o nsHTMLMetaElement.o nsHTMLObjectElement.o nsHTMLOListElement.o nsHTMLSharedObjectElement.o nsHTMLOptionElement.o nsHTMLOptGroupElement.o nsHTMLParagraphElement.o nsHTMLPreElement.o nsHTMLScriptElement.o nsHTMLSelectElement.o nsHTMLSharedElement.o nsHTMLSpanElement.o nsHTMLStyleElement.o nsHTMLTableElement.o nsHTMLTableCaptionElement.o nsHTMLTableCellElement.o nsHTMLTableColElement.o nsHTMLTableRowElement.o nsHTMLTableSectionElement.o nsHTMLTextAreaElement.o nsHTMLTitleElement.o nsHTMLAudioElement.o nsHTMLMediaElement.o nsHTMLMediaError.o nsHTMLSourceElement.o nsHTMLVideoElement.o  
ranlib libgkconhtmlcon_s.a
gmake[6]: Leaving directory `/var/tmp/portage/net-libs/xulrunner-1.9.1.5/work/mozilla-1.9.1/content/html/content/src'
gmake[5]: Leaving directory `/var/tmp/portage/net-libs/xulrunner-1.9.1.5/work/mozilla-1.9.1/content/html/content'
gmake[4]: Leaving directory `/var/tmp/portage/net-libs/xulrunner-1.9.1.5/work/mozilla-1.9.1/content/html'
gmake[3]: Leaving directory `/var/tmp/portage/net-libs/xulrunner-1.9.1.5/work/mozilla-1.9.1/content'
gmake[2]: *** [libs_tier_gecko] Error 2
gmake[2]: Leaving directory `/var/tmp/portage/net-libs/xulrunner-1.9.1.5/work/mozilla-1.9.1'
gmake[1]: *** [tier_gecko] Error 2
gmake[1]: Leaving directory `/var/tmp/portage/net-libs/xulrunner-1.9.1.5/work/mozilla-1.9.1'
make: *** [default] Error 2


Reproducible: Always

Steps to Reproduce:
1. run firefox in gdb
2. firefox segfaults on libxul.so
3. emerge xulrunner-1.9.1.5
Actual Results:  
emerge stops with this error:
gmake[6]: Leaving directory `/var/tmp/portage/net-libs/xulrunner-1.9.1.5/work/mozilla-1.9.1/content/html/content/src'
gmake[5]: Leaving directory `/var/tmp/portage/net-libs/xulrunner-1.9.1.5/work/mozilla-1.9.1/content/html/content'
gmake[4]: Leaving directory `/var/tmp/portage/net-libs/xulrunner-1.9.1.5/work/mozilla-1.9.1/content/html'
gmake[3]: Leaving directory `/var/tmp/portage/net-libs/xulrunner-1.9.1.5/work/mozilla-1.9.1/content'
gmake[2]: *** [libs_tier_gecko] Error 2
gmake[2]: Leaving directory `/var/tmp/portage/net-libs/xulrunner-1.9.1.5/work/mozilla-1.9.1'
gmake[1]: *** [tier_gecko] Error 2
gmake[1]: Leaving directory `/var/tmp/portage/net-libs/xulrunner-1.9.1.5/work/mozilla-1.9.1'
make: *** [default] Error 2


Expected Results:  
no segfaults on firefox and no problems re-emerging xulrunner

!!! When you file a bug report, please include the following information:
GENTOO_VM=  CLASSPATH="" JAVA_HOME="/etc/java-config-2/current-system-vm"
JAVACFLAGS="" COMPILER=""
and of course, the output of emerge --info
Portage 2.1.6.13 (default/linux/x86/10.0, gcc-4.3.4, glibc-2.9_p20081201-r2, 2.6.30-gentoo-r4 i686)
=================================================================
System uname: Linux-2.6.30-gentoo-r4-i686-Intel-R-_Core-TM-2_Duo_CPU_E8500_@_3.16GHz-with-gentoo-1.12.13
Timestamp of tree: Wed, 11 Nov 2009 21:15:01 +0000
app-shells/bash:     4.0_p28
dev-java/java-config: 2.1.9-r1
dev-lang/python:     2.6.2-r1
dev-util/cmake:      2.6.4-r3
sys-apps/baselayout: 1.12.13
sys-apps/sandbox:    1.6-r2
sys-devel/autoconf:  2.13, 2.63-r1
sys-devel/automake:  1.7.9-r1, 1.9.6-r2, 1.10.2
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   2.2.6a
virtual/os-headers:  2.6.27-r2
ACCEPT_KEYWORDS="x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=native -O2 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/config"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/revdep-rebuild /etc/sandbox.d /etc/splash /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-march=native -O2 -pipe"
DISTDIR="/usr/portage/distfiles"
EMERGE_DEFAULT_OPTS="--color y --with-bdeps y"
FEATURES="distlocks fixpackages parallel-fetch protect-owned sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://ftp.snt.utwente.nl/pub/os/linux/gentoo http://gentoo.tiscali.nl/ http://mirror.muntinternet.net/pub/gentoo/ "
LANG="en_US.utf8"
LDFLAGS="-Wl,-O1"
MAKEOPTS="--jobs=5 --load-average=44"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage/layman/mpd /usr/local/portage/layman/devnull /usr/local/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="X acl acpi alsa berkdb bzip2 cli cracklib crypt cups dri exif flac fortran gdbm gpm iconv ieee1394 maildir modules mudflap ncurses nls nptl nptlonly ogg opengl openmp pam pcre perl pppd python qt3support readline reflection session spl ssl startup-notification svg sysfs tcpd truetype unicode vorbis x86 xorg xulrunner zlib" ALSA_CARDS="hda-intel emu10k1" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CAMERAS="directory ptp2 usb" ELIBC="glibc" INPUT_DEVICES="keyboard mouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" USERLAND="GNU" VIDEO_CARDS="nvidia"
Unset:  CPPFLAGS, CTARGET, FFLAGS, INSTALL_MASK, LC_ALL, LINGUAS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS

genlop -l --date 1 week ago
---------------------------
     Sat Nov  7 12:00:14 2009 >>> sys-devel/autoconf-wrapper-7
     Sat Nov  7 12:00:29 2009 >>> dev-libs/eventlog-0.2.10
     Sat Nov  7 12:01:06 2009 >>> media-libs/tiff-3.9.1
     Sat Nov  7 12:01:52 2009 >>> dev-db/sqlite-3.6.20
     Sat Nov  7 12:03:29 2009 >>> app-cdr/cdrtools-2.01.01_alpha67-r1
     Sat Nov  7 12:03:41 2009 >>> x11-misc/xclip-0.12
     Sat Nov  7 12:03:59 2009 >>> x11-libs/libXTrap-1.0.0
     Sat Nov  7 12:04:10 2009 >>> x11-misc/gccmakedep-1.0.2
     Sat Nov  7 12:04:49 2009 >>> media-libs/nas-1.8b
     Sat Nov  7 12:05:09 2009 >>> www-client/opera-10.01
     Sat Nov  7 12:05:51 2009 >>> sys-kernel/gentoo-sources-2.6.31-r5
     Sat Nov  7 12:06:05 2009 >>> app-admin/eselect-opengl-1.0.9
     Sat Nov  7 12:06:29 2009 >>> app-text/iso-codes-3.10
     Sat Nov  7 12:08:19 2009 >>> dev-util/cmake-2.6.4-r3
     Sat Nov  7 12:09:26 2009 >>> dev-texlive/texlive-latexextra-2008-r1
     Sat Nov  7 12:10:19 2009 >>> dev-java/sun-jdk-1.6.0.17
     Sat Nov  7 12:10:51 2009 >>> dev-java/sun-jre-bin-1.6.0.17
     Sat Nov  7 12:11:09 2009 >>> sys-apps/baselayout-1.12.13
     Sat Nov  7 12:11:35 2009 >>> app-emulation/virtualbox-modules-3.0.10
     Sat Nov  7 12:52:29 2009 >>> app-emulation/virtualbox-bin-3.0.10
     Sat Nov  7 13:02:08 2009 >>> app-emulation/wine-1.1.32
     Sat Nov  7 13:13:27 2009 >>> net-libs/xulrunner-1.9.1.5
     Sat Nov  7 13:14:34 2009 >>> www-client/mozilla-firefox-3.5.5
     Sat Nov  7 13:23:12 2009 >>> x11-libs/qt-gui-4.5.3-r2
     Sat Nov  7 13:23:43 2009 >>> sys-boot/unetbootin-377-r1
     Sat Nov  7 13:24:10 2009 >>> x11-drivers/nvidia-drivers-190.42-r3
     Sat Nov  7 13:25:34 2009 >>> media-video/transcode-1.1.5
     Sat Nov  7 13:26:15 2009 >>> media-sound/sox-14.3.0
     Wed Nov 11 20:50:58 2009 >>> dev-libs/nss-3.12.4-r2
     Wed Nov 11 21:02:37 2009 >>> dev-util/lafilefixer-0.5
     Wed Nov 11 22:56:22 2009 >>> www-client/mozilla-firefox-3.5.5




Comment 1


Dror Levin (RETIRED)






          2009-11-11 23:03:19 UTC
        

Please attach full build.log.
Segfault seems related to bug 292651.




Comment 2


Stefan Wimmer





          2009-11-11 23:27:22 UTC
        

Created attachment 209964 [details]
build.log of xulrunner-1.9.1.5




Comment 3


Stefan Wimmer





          2009-11-11 23:28:44 UTC
        

(In reply to comment #1)
> Please attach full build.log.
> Segfault seems related to bug 292651.

After a successful rebuild of mozilla-firefox the segfaults don't appear anymore so this case can rest at least ;-)

The build log is already attached above ...




Comment 4


Jory A. Pratt






          2010-03-09 02:47:50 UTC
        

User reports successful build and useability so closing.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

