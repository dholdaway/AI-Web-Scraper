Title: 86093 – Koules crashes with X Error
URL: https://bugs.gentoo.org/show_bug.cgi?id=86093

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 86093
Koules crashes with X Error
Last modified: 2008-03-01 18:35:47 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 86093 
      - Koules crashes with X Error


Summary:
Koules crashes with X Error
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Games

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Games








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-03-20 23:56 UTC by PiFactorial





      Modified:
    
2008-03-01 18:35 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



diogot









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


PiFactorial





          2005-03-20 23:56:58 UTC
        

When X is started with the "Use Shared Memory" option turned on, it pukes with this error:

X4GW 1.21.21 professional
Copyright(c)1991,1992,1993,1994,1995 Jan Hubicka(JAHUSOFT)
Initializing sound server...
Autoprobing hardware
Initializing joystick driver
Joystick 1 initialized
Joystick driver: No such file or directory
Joystick 2 not avaiable..
Connecting X server
2
X: Screen doesn't support PseudoColor!
Shm mode seems to be possible
Allocating pallette
32-ok
creating bitmaps...
creating backgrounds
starting intro
X Error of failed request:  BadMatch (invalid parameter attributes)
  Major opcode of failed request:  147 (MIT-SHM)
  Minor opcode of failed request:  3 (X_ShmPutImage)
  Serial number of failed request:  307
  Current serial number in output stream:  308
koules.sndsrv: shutting down

When started without the "Use Shared Memory" option, the game runs, but very poorly.

Reproducible: Always
Steps to Reproduce:
1.  Emerge koules-1.4-r1 with xorg-x11-6.8.2-r1
2.  Type "xkoules" on the command line (uses default settings)
3.  Crash

Actual Results:  
Full output listed above

Expected Results:  
The game window should pop up

Portage 2.0.51.19 (default-linux/x86/2004.3, gcc-3.4.3, glibc-2.3.4.20050125-r1,
2.6.11-nitro1 i686)
=================================================================
System uname: 2.6.11-nitro1 i686 AMD Athlon(TM) XP 1800+
Gentoo Base System version 1.6.10
Python:              dev-lang/python-2.3.5 [2.3.5 (#1, Feb 18 2005, 15:37:27)]
ccache version 2.4 [enabled]
dev-lang/python:     2.3.5
sys-devel/autoconf:  2.59-r6, 2.13
sys-devel/automake:  1.7.9-r1, 1.8.5-r3, 1.5, 1.4_p6, 1.6.3, 1.9.5
sys-devel/binutils:  2.15.92.0.2-r6
sys-devel/libtool:   1.5.14
virtual/os-headers:  2.6.8.1-r2
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CFLAGS="-O3 -march=athlon-xp -mtune=athlon-xp -fno-if-conversion2
-fstrength-reduce -frerun-cse-after-loop -fstrict-aliasing -freorder-blocks
-fprefetch-loop-arrays"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.3/env
/usr/kde/3.3/share/config /usr/kde/3.3/shutdown /usr/kde/3.4/env
/usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config
/var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O3 -march=athlon-xp -mtune=athlon-xp -fno-if-conversion2
-fstrength-reduce -frerun-cse-after-loop -fstrict-aliasing -freorder-blocks
-fprefetch-loop-arrays"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig ccache distlocks sfperms"
GENTOO_MIRRORS="http://gentoo.osuosl.org/ http://gentoo.binarycompass.org
ftp://mirrors.sec.informatik.tu-darmstadt.de/gentoo/
ftp://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/"
LANG="en_CA.UTF-8"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X aalib aim alsa apache2 apm asm audiofile avi bash-completion bidi
bitmap-fonts blender-game bonobo cdr crypt cups curl dbus dga dvd dvdread emboss
encode esd f77 faad fam ffmpeg flac font-server foomaticdb fortran freetype gd
gif gimpprint gnome gpm gstreamer gtk gtk2 gtkhtml guile hal httpd imagemagick
imlib jack java joystick jpeg junit ladspa libcaca libg++ libwww mad matroska
mikmod mmx mng mono motif mozilla mozsvg mp3 mpeg mysql nas ncurses nls nvidia
ogg oggvorbis opengl pam pdflib perl png ppds python quicktime readline real
samba sdl session slang sockets speex spell sqlite ssl svg tcltk tcpd tiff
truetype truetype-fonts type1-fonts usb vcd vorbis want-experimental wmf
wxwindows x86 xml xml2 xmms xorg xv zlib"
Unset:  ASFLAGS, CBUILD, CTARGET, LC_ALL, LDFLAGS




Comment 1


PiFactorial





          2005-03-21 01:54:32 UTC
        

Sorry, I should have posted this under Expected Results:

X4GW 1.21.21 professional
Copyright(c)1991,1992,1993,1994,1995 Jan Hubicka(JAHUSOFT)
Initializing sound server...
Autoprobing hardware
Initializing joystick driver
Joystick 1 initialized
Joystick driver: No such file or directory
Joystick 2 not avaiable..
Connecting X server
X: Screen doesn't support PseudoColor!
Shm support disabled
Allocating pallette
2
32-ok
creating bitmaps...
creating backgrounds
starting intro
starting game
have a nice X
koules.sndsrv: shutting down





Comment 2


Mr. Bones. (RETIRED)






          2005-07-01 23:42:31 UTC
        

I can't reproduce this.   Reopen if it's still a problem.




Comment 3


Diogo Tridapalli





          2008-03-01 18:35:47 UTC
        

Same problem here, koules version 1.4-r2!

X4GW 1.21.21 professional
Copyright(c)1991,1992,1993,1994,1995 Jan Hubicka(JAHUSOFT)
Initializing sound server...
Autoprobing hardware
Initializing joystick driver
Joystick driver not avaiable(recompile koules with JOYSTICK enabled )
Connecting X server
X: Screen doesn't support PseudoColor!
Shm mode seems to be possible
Allocating pallette
2
32-ok
creating bitmaps...
creating backgrounds
starting intro
X Error of failed request:  BadMatch (invalid parameter attributes)
  Major opcode of failed request:  147 (MIT-SHM)
  Minor opcode of failed request:  3 (X_ShmPutImage)
  Serial number of failed request:  307
  Current serial number in output stream:  308


Portage 2.1.4.4 (default-linux/x86/2007.0/desktop, gcc-4.1.2, glibc-2.6.1-r0, 2.6.23-tuxonice-r10 i686)
=================================================================
System uname: 2.6.23-tuxonice-r10 i686 Intel(R) Pentium(R) M processor 1.73GHz
Timestamp of tree: Sat, 01 Mar 2008 06:00:02 +0000
ccache version 2.4 [enabled]
app-shells/bash:     3.2_p17-r1
dev-java/java-config: 1.3.7, 2.1.4
dev-lang/python:     2.4.4-r6
dev-python/pycrypto: 2.0.1-r6
dev-util/ccache:     2.4-r7
sys-apps/baselayout: 1.12.11.1
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.61-r1
sys-devel/automake:  1.4_p6, 1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.18-r1
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.23-r3
ACCEPT_KEYWORDS="x86"










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

