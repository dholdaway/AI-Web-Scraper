Title: 110414 – gstreamer fails with ACCESS VIOLATION
URL: https://bugs.gentoo.org/show_bug.cgi?id=110414

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 110414
gstreamer fails with ACCESS VIOLATION
Last modified: 2007-04-08 17:35:39 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 110414 
      - gstreamer fails with ACCESS VIOLATION


Summary:
gstreamer fails with ACCESS VIOLATION
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       minor
      


Assignee:

GStreamer package maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-10-25 01:14 UTC by Donald J. Axel





      Modified:
    
2007-04-08 17:35 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Donald J. Axel





          2005-10-25 01:14:57 UTC
        

Writing gstreamer-libs-GstControl.html for refentry(gstreamer-libs-GstControl)
Writing GstDParamManager.html for refentry(GstDParamManager)
Writing GstDParam.html for refentry(GstDParam)
Writing GstDParamSmooth.html for refentry(GstDParamSmooth)
Writing GstDParamLinInterp.html for refentry(GstDParamLinInterp)
Writing GstUnitConvert.html for refentry(GstUnitConvert)
Writing gstreamer-control.html for chapter(gstreamer-control)
Writing gstreamer-libs.html for part(gstreamer-libs)
Writing gstreamer-libs-hierarchy.html for part(gstreamer-libs-hierarchy)
Writing api-index.html for index(api-index)
Writing index.html for book(index)
Writing index.sgml for book(index)
Writing gstreamer-libs.devhelp for book(index)
rm -f html/gstreamer-libs-docs.sgml
rm -rf html/xml
rm -f html/version.entities
test "x" = "x" || for i in ""  ; do \
    if test "$i" != ""; then cp ./$i html ; fi; done
-- Fixing Crossreferences
LANG=C && gtkdoc-fixxref --module-dir=html --html-dir=/usr/share/gtk-doc/html
--extra-dir=../gst/html
touch html-build.stamp
make[3]: Leaving directory
`/var/tmp/portage/gstreamer-0.8.10/work/gstreamer-0.8.10/docs/libs'
make[3]: Entering directory
`/var/tmp/portage/gstreamer-0.8.10/work/gstreamer-0.8.10/docs'
make[3]: Nothing to be done for `all-am'.
make[3]: Leaving directory
`/var/tmp/portage/gstreamer-0.8.10/work/gstreamer-0.8.10/docs'
make[2]: Leaving directory
`/var/tmp/portage/gstreamer-0.8.10/work/gstreamer-0.8.10/docs'
make[2]: Entering directory
`/var/tmp/portage/gstreamer-0.8.10/work/gstreamer-0.8.10'
cp ./gst-element-check.m4 gst-element-check-0.8.m4
make[2]: Leaving directory `/var/tmp/portage/gstreamer-0.8.10/work/gstreamer-0.8.10'
make[1]: Leaving directory `/var/tmp/portage/gstreamer-0.8.10/work/gstreamer-0.8.10'
--------------------------- ACCESS VIOLATION SUMMARY ---------------------------
LOG FILE = "/var/log/sandbox/sandbox-media-libs_-_gstreamer-0.8.10-25319.log"

mkdir:     /hjem/root/.gstreamer-0.8
mkdir:     /hjem/root/.gstreamer-0.8
mkdir:     /hjem/root/.gstreamer-0.8
mkdir:     /hjem/root/.gstreamer-0.8
--------------------------------------------------------------------------------
pluto:/ #rv
1


Reproducible: Always
Steps to Reproduce:
1. emerge -a -v kdemultimedia # fails at gstreamer
2. emerge -a -v gstreamer     # fails
3. emerge -a -v gstreamer     # fails again :-(

Actual Results:  
No gstreamer

Expected Results:  
Finished qmerge - part

Gentoo Base System version 1.4.16
Portage 2.0.51.22-r3 (default-linux/x86/2005.1, gcc-3.3.6, glibc-2.3.5-r1,
2.4.312tun i686)
=================================================================
System uname: 2.4.312tun i686 AMD Duron(tm)
dev-lang/python:     2.3.3-r1
sys-apps/sandbox:    1.2.11
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.4
sys-devel/binutils:  2.14.90.0.8-r1
sys-devel/libtool:   1.4.3-r4
virtual/os-headers:  2.4.21-r1
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=i686 -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.3/env
/usr/kde/3.3/share/config /usr/kde/3.3/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/share/config /usr/share/texmf/dvipdfm/config/
/usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/
/usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/ /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=i686 -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="ftp://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/
ftp://mirrors.sec.informatik.tu-darmstadt.de/gentoo/
http://ftp.du.se/pub/os/gentoo http://ds.thn.htu.se/linux/gentoo"
LC_ALL=""
LINGUAS="en"
MAKEOPTS="-j1"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.skumleren.net/gentoo-portage"
USE="x86 3dnow 3dnowex X Xaw3d alsa apm avi berkdb bitmap-fonts bonobo cdr crypt
cups curl doc eds emboss encode esd fam flac font-server fontconfig foomaticdb
fortran freetype gd gdbm gif gphoto2 gpm gstreamer gtk2 gtkhtml guile
imagemagick imlib ipv6 jpeg kde ldap libg++ libgda libwww mad mikmod mmx mmx2
mmxext mng motif mozplaintext mp3 mpeg mplayer ncurses network nls odbc ogg
oggvorbis opengl oss pam pdflib perl png postgres python qt quicktime readline
real rtc samba sdl slang snmp spell ssl svga tcltk tcpd tetex tiff truetype
truetype-fonts type1-fonts v4l v4l2 vorbis xine xinerama xml xml2 xmms xv xvid
xvmc zlib linguas_en userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LDFLAGS




I retried emerge -a -v gstreamer # and it stopped again with same message.

cd /var/tmp/portage/gstreamer-0.8.10/work/gstreamer-0.8.10
make
[ok]
ebuild /usr/portage/media-libs/gstreamer/gstreamer-0.8.10.ebuild install
[ok]
build /usr/portage/media-libs/gstreamer/gstreamer-0.8.10.ebuild qmerge
[ok]




Comment 1


Zaheer Abbas Merali (RETIRED)






          2005-11-27 06:17:08 UTC
        

weird, does it happen with gstreamer 0.8.11?




Comment 2


Donald J. Axel





          2005-11-27 09:49:58 UTC
        

(In reply to comment #1)
> weird, does it happen with gstreamer 0.8.11?

The same happens; emerge stops with exitcode 1 and heralds:


make[2]: Leaving directory `/var/tmp/portage/gstreamer-0.8.11/work/gstreamer-0.8.11'
make[1]: Leaving directory `/var/tmp/portage/gstreamer-0.8.11/work/gstreamer-0.8.11'
--------------------------- ACCESS VIOLATION SUMMARY ---------------------------
LOG FILE = "/var/log/sandbox/sandbox-media-libs_-_gstreamer-0.8.11-1638.log"

access_wr: /hjem/root/.gstreamer-0.8
access_wr: /hjem/root/.gstreamer-0.8
--------------------------------------------------------------------------------



Actually this directory is one in root's home, which I don't think
the package should touch. I simply sent this report in order for
the developers to wake up: Never touch any home dir. Leave that to
the owner, help the owner(s) by adding some cleanup-function in a script.

When verifying the installation I get this:

#ls -lad /hjem/root/.gstreamer*
drwxr-xr-x  2 root root 2048 Aug  7  2004 /hjem/root/.gstreamer
drwxr-xr-x  2 root root 2048 Oct 26 06:37 /hjem/root/.gstreamer-0.8

----

which is ok, and then running a verify action:

#epm -V gstreamer
#echo $?
0
#

Fine! The access error stems from the Makefile I assume and
maybe the ebuild-file needs to know when to ignore such errors.
The result of this bug is that a warning about pre-linking never
gets printed to the user.

Isn't there a problem with messages relating to ebuild-files? 

I mean: shouldn't ebuild files run unattended?

Regards/Donald Axel







Comment 3


Christian Kolquist





          2006-04-05 15:52:54 UTC
        

ignore that.  Sorry wrong bug




Comment 4


Jakub Moc (RETIRED)






          2007-04-08 17:35:39 UTC
        

(In reply to comment #2)
> Actually this directory is one in root's home

Well yeah, this fails because your root's $HOME is whacky. The ebuilds do `use doc && addpredict /var && addpredict /root`, not exactly our fault.










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

