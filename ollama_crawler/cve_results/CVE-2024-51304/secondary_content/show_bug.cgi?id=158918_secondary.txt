Title: 158918 – media-libs/libgphoto2-2.2.1-r1 fails to emerge, sgml-dtd
URL: https://bugs.gentoo.org/show_bug.cgi?id=158918

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 158918
media-libs/libgphoto2-2.2.1-r1 fails to emerge, sgml-dtd
Last modified: 2007-11-07 00:52:46 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 158918 
      - media-libs/libgphoto2-2.2.1-r1 fails to emerge, sgml-dtd


Summary:
media-libs/libgphoto2-2.2.1-r1 fails to emerge, sgml-dtd
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Graphics Project








URL:







Whiteboard:




Keywords:









Duplicates (1):
    

158908

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2006-12-23 07:28 UTC by Ivan Todorović





      Modified:
    
2007-11-07 00:52 UTC
      (History)
    




          CC List:
        

5 
          users
          
            (show)
          



bugs
gnome
jakub
liquidx
text-markup+disabled









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Ivan Todorović





          2006-12-23 07:28:13 UTC
        

This is my first bug repport. Here's what I found.

libgphoto2-2.2.1-r1 produces the following error:

if ! test -d html ; then mkdir html ; fi 
cd html && gtkdoc-mkhtml gphoto2-port .././gphoto2-port-api.sgml 
/usr/bin/openjade:/etc/sgml/sgml-docbook-4.3.cat:1:8:E: cannot open "/usr/share/sgml/docbook/sgml-dtd-4.3/catalog" (No such file or directory) 
...  (many identical lines here)
/usr/bin/openjade:/etc/sgml/sgml-docbook-4.3.cat:1:8:E: cannot open "/usr/share/sgml/docbook/sgml-dtd-4.3/catalog" (No such file or directory) 
make[4]: *** [html] Error 1 
make[4]: Leaving directory `/var/tmp/portage/libgphoto2-2.2.1-r1/work/libgphoto2-2.2.1/libgphoto2_port/doc' 
make[3]: *** [all-recursive] Error 1 
make[3]: Leaving directory `/var/tmp/portage/libgphoto2-2.2.1-r1/work/libgphoto2-2.2.1/libgphoto2_port' 
make[2]: *** [all] Error 2 
make[2]: Leaving directory `/var/tmp/portage/libgphoto2-2.2.1-r1/work/libgphoto2-2.2.1/libgphoto2_port' 
make[1]: *** [all-recursive] Error 1 
make[1]: Leaving directory `/var/tmp/portage/libgphoto2-2.2.1-r1/work/libgphoto2-2.2.1' 
make: *** [all] Error 2 

!!! ERROR: media-libs/libgphoto2-2.2.1-r1 failed. 
Call stack: 
  ebuild.sh, line 1546:   Called dyn_compile 
  ebuild.sh, line 937:   Called src_compile 
  libgphoto2-2.2.1-r1.ebuild, line 107:   Called die 

!!! make failed 
!!! If you need support, post the topmost build error, and the call stack if relevant.

It seems that it is missing docbook-sgml-dtd-4.3. I don't have it installed and it is not pulled for the emerge.

libgphoto2-2.2.1-r1.ebuild states:

DEPEND="${RDEPEND} 
        dev-util/pkgconfig 
        doc? ( dev-util/gtk-doc 
                =app-text/docbook-sgml-dtd-4.2* 
        )"

emerge --info:

Portage 2.1.1-r2 (default-linux/x86/2006.1/desktop, gcc-4.1.1, glibc-2.4-r4, 2.6.17-gentoo-r8 i686)
=================================================================
System uname: 2.6.17-gentoo-r8 i686 AMD Athlon(tm)
Gentoo Base System version 1.12.6
Last Sync: Sat, 23 Dec 2006 13:50:01 +0000
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
app-admin/eselect-compiler: [Not Present]
dev-java/java-config: 1.3.7, 2.0.30
dev-lang/python:     2.4.3-r4
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.60
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.14
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.17-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=athlon-xp -O3 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/X11/xkb"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/splash /etc/terminfo /etc/texmf/web2c"
CXXFLAGS="-march=athlon-xp -O3 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://ds.thn.htu.se/linux/gentoo http://ftp.du.se/pub/os/gentoo http://mirror.pudas.net/gentoo"
LANG="sv_SE.utf8"
LC_ALL="sv_SE.utf8"
LINGUAS="sv us"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="x86 3dnow 3dnowext X acl acpi alsa alsa_cards_intel8x0 alsa_pcm_plugins_adpcm alsa_pcm_plugins_alaw alsa_pcm_plugins_asym alsa_pcm_plugins_copy alsa_pcm_plugins_dmix alsa_pcm_plugins_dshare alsa_pcm_plugins_dsnoop alsa_pcm_plugins_empty alsa_pcm_plugins_extplug alsa_pcm_plugins_file alsa_pcm_plugins_hooks alsa_pcm_plugins_iec958 alsa_pcm_plugins_ioplug alsa_pcm_plugins_ladspa alsa_pcm_plugins_lfloat alsa_pcm_plugins_linear alsa_pcm_plugins_meter alsa_pcm_plugins_mulaw alsa_pcm_plugins_multi alsa_pcm_plugins_null alsa_pcm_plugins_plug alsa_pcm_plugins_rate alsa_pcm_plugins_route alsa_pcm_plugins_share alsa_pcm_plugins_shm alsa_pcm_plugins_softvol arts audiofile berkdb bitmap-fonts browserplugin bzip2 cairo cdparanoia cdr cdrom cli cracklib crypt cups curl dbus directfb dlloader doc dri dvd dvdr elibc_glibc emboss encode esd evo exif expat fam fame fbcon ffmpeg firefox font-server fortran gd gdbm gif glut gmp gphoto2 gpm gstreamer gtk gtk2 hal iconv icq imagemagick imlib input_devices_evdev input_devices_keyboard input_devices_mouse isdnlog java jpeg kernel_linux lcms ldap libg++ linguas_sv linguas_us mad mikmod mmx mmxext mng mozilla mp3 mpeg ncurses nls nptl nptlonly nsplugin nvidia ogg opengl oss pam pcre pda perl png ppds pppd python qt3 qt4 quicktime rar readline real reflection scanner sdl session slang spell spl sse ssl subtitles svga tcpd tetex tiff truetype truetype-fonts type1-fonts udev unicode usb userland_GNU video_cards_nv video_cards_nvidia video_cards_vesa vorbis win32codecs wmf xml xml2 xorg xv xvid zlib"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LDFLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Jakub Moc (RETIRED)






          2006-12-23 07:40:00 UTC
        

*** Bug 158908 has been marked as a duplicate of this bug. ***




Comment 2


Vasilis Lourdas





          2006-12-25 16:39:01 UTC
        

Compile with -doc and you'll be fine, until a solution is found.




Comment 3


Jakub Moc (RETIRED)






          2007-03-16 12:25:49 UTC
        

(In reply to comment #0)
> It seems that it is missing docbook-sgml-dtd-4.3. I don't have it installed and
> it is not pulled for the emerge.

So, does it work if you install it?





Comment 4


Ivan Todorović





          2007-03-28 15:36:14 UTC
        

Yes, the emerge completes after installing docbook-sgml-dtd-4.3-r2.




Comment 5


Jakub Moc (RETIRED)






          2007-03-28 16:10:11 UTC
        

Cool, so lets add the dependency and be done with it.




Comment 6


Matthias Schwarzott






          2007-03-28 17:30:55 UTC
        

for me it works with just
docbook-sgml-dtd-3.0-r3
docbook-sgml-dtd-4.2-r2

installed.





Comment 7


Gilles Dartiguelongue (RETIRED)






          2007-11-07 00:52:46 UTC
        

Using CAMERAS="" USE="doc" emerge -1 \=libghoto-2.2.1-r1

I couldn't reproduce as well and I only have:
docbook-sgml-dtd-3.0-r3
docbook-sgml-dtd-4.2-r2

I also have:
app-text/docbook-xml-dtd-4.1.2-r6
app-text/docbook-xml-dtd-4.4-r1
app-text/docbook-xsl-stylesheets-1.73.2
app-text/docbook-dsssl-stylesheets-1.79

but I doubt that this would change anything. I'm closing this as workforme. If it still doesn't work for you please reopen this bug, and provide the full build.log and your emerge --info if it changed. thanks for reporting.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

