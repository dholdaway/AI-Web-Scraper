Title: 134881 – media-video/kaffeine crashes when listening AAC+ stream and changing audio visualization   to none or FFTGraph]
URL: https://bugs.gentoo.org/show_bug.cgi?id=134881

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 134881
media-video/kaffeine crashes when listening AAC+ stream and changing audio visualization   to none or FFTGraph]
Last modified: 2007-06-03 15:42:24 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 134881 
      - media-video/kaffeine crashes when listening AAC+ stream and changing audio visualization   to none or FFTGraph]


Summary:
media-video/kaffeine crashes when listening AAC+ stream and changing audio vi...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Low
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-05-30 01:00 UTC by Piotrek





      Modified:
    
2007-06-03 15:42 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



media-video









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




GDB kaffeine

              (gdb.txt,1.45 KB,
                text/plain)

            
2006-05-30 01:15 UTC,

            Piotrek




Details





strace

              (strace.txt,42.06 KB,
                text/plain)

            
2006-05-30 10:30 UTC,

            Piotrek




Details





strace

              (strace kaffeine 0.8.1,5.66 KB,
                text/plain)

            
2006-05-30 11:19 UTC,

            Piotrek




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Piotrek





          2006-05-30 01:00:59 UTC
        

Portage 2.0.54-r2 (default-linux/x86/2006.0, gcc-3.4.6, glibc-2.3.6-r3, 2.6.16-gentoo-r7-NG i686)
=================================================================
System uname: 2.6.16-gentoo-r7-NG i686 AMD Athlon(tm) XP 2400+
Gentoo Base System version 1.6.14
ccache version 2.3 [enabled]
dev-lang/python:     2.4.2
dev-python/pycrypto: [Not Present]
dev-util/ccache:     2.3
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1-r2
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=athlon-xp -O2 -pipe -fomit-frame-pointer -falign-functions=64 -msse -mmmx -m3dnow"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/lib/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/gconf /etc/splash /etc/terminfo /etc/env.d"
CXXFLAGS="-march=athlon-xp -O2 -pipe -fomit-frame-pointer -falign-functions=64 -msse -mmmx -m3dnow"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://gentoo.po.opole.pl  http://gentoo.zie.pg.gda.pl http://gentoo.po.opole.pl ftp://gentoo.po.opole.pl http://gentoo.prz.rzeszow.pl "
LC_ALL="pl_PL.UTF-8"
LINGUAS="pl en"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage/gentoo-de"
SYNC="rsync://gentoo.po.opole.pl/gentoo-portage"
USE="3dnow X aac aalib alsa apache2 apm arts asf audiofile avi berkdb bitmap-fonts bzip2 cdr cjk cli crypt ctype cups curl dba dbus dri dvd eds elibc_glibc emboss encode ethereal exif expat fam fastbuild flac foomaticdb force-cgi-redirect fortran ftp gd gdbm gif glut gmp gpm gstreamer gtk2 gtkhtml guile hal idn imlib isdnlog java javascript jpeg kde kernel_linux lcms libg++ libwww mad memlimit mikmod mmx mng motif mozilla mp3 mpeg ncurses nls nptl nsplugin ogg opengl oss pam pcre pdflib perl png posix pppd python qt quicktime readline real reflection sdl session simplexml slang soap sockets spell spl sse ssl svga symlink tcltk tcpd tiff tokenizer truetype truetype-fonts type1-fonts udev unicode usb userland_GNU vorbis win32codecs x86 xine xml xml2 xmms xorg xsl xv xvid zlib linguas_pl linguas_en"
Unset:  CTARGET, INSTALL_MASK, LANG, LDFLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTAGE_RSYNC_OPTS




Comment 1


Piotrek





          2006-05-30 01:05:37 UTC
        

I am listening AAC+ stream in Kaffeine from www.polskastacja.pl and when i change te visualization from gnoon to none or FFTGraph kaffeine crashes.
This is not happing when listening for exemple  mp3 fies from disk.
Steps to reproduce:
1)Open AAC stream in Kaffeine(using xine engine with use flags aac)
2)Change visualization to none from gnoom.
I am also adding a txt file of gdb kaffeine.
My xine-libs version xine-lib-1.1.2_pre20060328-r1






Comment 2


Piotrek





          2006-05-30 01:15:07 UTC
        

Created attachment 87845 [details]
GDB kaffeine

An gdb kaffeine




Comment 3


Diego Elio Pettenò (RETIRED)






          2006-05-30 01:56:09 UTC
        

The backtrace you provided is not useful, as it's completely stripped; take a look at http://www.gentoo.org/proj/en/qa/backtraces.xml to know how to generate a valid one.

Anyway, AAC/aacPlus support in xine-lib -r1 is not working that well at all, as I fixed it in -r2 and then -r3, while 5.1 streams are fixed only in -r6. Try with latest ~arch version (-r8) that should work better, and let me know.





Comment 4


Piotrek





          2006-05-30 10:27:02 UTC
        

I dont get a point :/ i Have readed that you give me about gdb.
I have set gcc flags -ggdb and re-emerged xine-lib and kaffeine with debug flag
Also disabled earlier stripping by portage.
The result of gdb kaffeine --nocrashhandler is

NU gdb 6.4
Copyright 2005 Free Software Foundation, Inc.
GDB is free software, covered by the GNU General Public License, and you are
welcome to change it and/or distribute copies of it under certain conditions.
Type "show copying" to see the conditions.
There is absolutely no warranty for GDB.  Type "show warranty" for details.
This GDB was configured as "i686-pc-linux-gnu"...Using host libthread_db library "/lib/tls/libthread_db.so.1".

(gdb) set args --nocrashhandler
(gdb) run
Starting program: /usr/bin/kaffeine --nocrashhandler
[Thread debugging using libthread_db enabled]
[New Thread -1232852192 (LWP 24689)]

Program exited normally.
(gdb)
(gdb)
Dr'Konqi also dont trace it. 
But when i use strace kaffeine i get this
(look in strace.txt Attachment and in DrKonqi i get this trace
Using host libthread_db library "/lib/tls/libthread_db.so.1".
`system-supplied DSO at 0xffffe000' has disappeared; keeping its symbols.
[Thread debugging using libthread_db enabled]
[New Thread -1232995552 (LWP 24706)]
[New Thread -1326003280 (LWP 24717)]
[New Thread -1310147664 (LWP 24716)]
[New Thread -1301754960 (LWP 24715)]
[New Thread -1293161552 (LWP 24714)]
[New Thread -1282880592 (LWP 24713)]
[New Thread -1270387792 (LWP 24712)]
[New Thread -1261724752 (LWP 24711)]
[New Thread -1253332048 (LWP 24708)]
[New Thread -1240568912 (LWP 24707)]
0xffffe410 in __kernel_vsyscall ()
#0  0xffffe410 in __kernel_vsyscall ()
#1  0xb68d2a81 in select () from /lib/tls/libc.so.6
#2  0xb6ac1efc in _XWaitForReadable () from /usr/lib/libX11.so.6
#3  0xbfd087c0 in ?? ()
#4  0x00000000 in ?? ()
I will now try to emerge the xine-lib from ~arch and see what it gets.
P,S Sorry for my english 






Comment 5


Piotrek





          2006-05-30 10:30:17 UTC
        

Created attachment 87885 [details]
strace




Comment 6


Piotrek





          2006-05-30 10:46:04 UTC
        

Comment on attachment 87885 [details]
strace

UPDATE Latest xine-lib dosent resolve problem.
Kaffeine is still crashing.
I will try to emerge it from ~arch too.




Comment 7


Piotrek





          2006-05-30 11:19:38 UTC
        

Created attachment 87891 [details]
strace




Comment 8


Piotrek





          2006-05-30 11:20:31 UTC
        

Comment on attachment 87891 [details]
strace

This is strace of kaffeine 0.8.1 and in console when running normally kaffeine the last meseeges are affeine: KXineWidget: Wait for valid length information
kaffeine: KXineWidget: New visualization plugin: none
kaffeine: PostFilter: Delete Postprocessing Filter: goom
KCrash: Application 'kaffeine' crashing...
kaffeine: Fatal IO error: client killed
kaffeine: KXineWidget: xine event: xine message




Comment 9


Diego Elio Pettenò (RETIRED)






          2006-05-31 04:35:12 UTC
        

Confirmed, I can reproduce, and even the missing trace in Dr Konqi... I'll ahve a look later if I can get a decent stack out of this.





Comment 10


Jakub Moc (RETIRED)






          2007-02-10 13:56:18 UTC
        

Someone try w/ 0.8.3?




Comment 11


Piotrek





          2007-02-10 15:47:55 UTC
        

Seams to work OK can any body else confirm it?




Comment 12


Piotrek





          2007-02-10 15:49:44 UTC
        

Sorry i was to fast it's working but crashes from time to time.
BTW I need somebody else to confirm it.




Comment 13


Piotrek





          2007-02-10 15:51:37 UTC
        

I forgot to open it.




Comment 14


Carsten Lohrke (RETIRED)






          2007-04-25 15:53:59 UTC
        

Same problem with 0.8.4?




Comment 15


Wulf Krueger (RETIRED)






          2007-06-03 15:42:24 UTC
        

No response and works for me with 0.8.4.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

