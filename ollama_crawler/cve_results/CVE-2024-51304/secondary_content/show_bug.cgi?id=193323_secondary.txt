Title: 193323 – building openldap 2.3.5-r1 ends with request to revdep-rebuild for libldap.so.2.0.130, but revdep-rebuild doesn't solve issue.
URL: https://bugs.gentoo.org/show_bug.cgi?id=193323

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 193323
building openldap 2.3.5-r1 ends with request to revdep-rebuild for libldap.so.2.0.130, but revdep-rebuild doesn't solve issue.
Last modified: 2007-10-09 17:01:53 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 193323 
      - building openldap 2.3.5-r1 ends with request to revdep-rebuild for libldap.so.2.0.130, but revdep-rebuild doesn't solve issue.


Summary:
building openldap 2.3.5-r1 ends with request to revdep-rebuild for libldap.so...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-09-21 12:36 UTC by Dan Thorson





      Modified:
    
2007-10-09 17:01 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



esigra









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Dan Thorson





          2007-09-21 12:36:30 UTC
        

emerge updates openldap to net-nds/openldap-2.3.35-r1.  Compile complains about need for revdep-rebuild.  revdep-rebuild reports nothing needs to be done.  Do I need to emerge -C some older version?  If so how to identify?

 * Old versions of installed libraries were detected on your system.
 * In order to avoid breaking packages that depend on these old libs,
 * the libraries are not being removed.  You need to run revdep-rebuild
 * in order to remove these old dependencies.  If you do not have this
 * helper program, simply emerge the 'gentoolkit' package.
 * 
 *   # revdep-rebuild --library libldap.so.2.0.130
 * Old versions of installed libraries were detected on your system.
 * In order to avoid breaking packages that depend on these old libs,
 * the libraries are not being removed.  You need to run revdep-rebuild
 * in order to remove these old dependencies.  If you do not have this
 * helper program, simply emerge the 'gentoolkit' package.
 * 
 *   # revdep-rebuild --library libldap_r.so.2.0.130
 * Old versions of installed libraries were detected on your system.
 * In order to avoid breaking packages that depend on these old libs,
 * the libraries are not being removed.  You need to run revdep-rebuild
 * in order to remove these old dependencies.  If you do not have this
 * helper program, simply emerge the 'gentoolkit' package.
 * 
 *   # revdep-rebuild --library libldap-2.2.so.7
 * Old versions of installed libraries were detected on your system.
 * In order to avoid breaking packages that depend on these old libs,
 * the libraries are not being removed.  You need to run revdep-rebuild
 * in order to remove these old dependencies.  If you do not have this
 * helper program, simply emerge the 'gentoolkit' package.
 * 
 *   # revdep-rebuild --library libldap_r-2.2.so.7
 * GNU info directory index is up-to-date.

gluon conf.d # revdep-rebuild --library libldap.so.2.0.130
Configuring search environment for revdep-rebuild

Environment mismatch from previous run, deleting temporary files...

Checking reverse dependencies...

Packages containing binaries and libraries using libldap.so.2.0.130
will be emerged.

Collecting system binaries and libraries... done.
  (/root/.revdep-rebuild.1_files)

Checking dynamic linking...
 done.
  (/root/.revdep-rebuild_a75835fa.3_rebuild)

Assigning files to ebuilds... Nothing to rebuild

Evaluating package order... done.
  (/root/.revdep-rebuild_a75835fa.5_order)

There are no dynamic links to libldap.so.2.0.130... All done. 
gluon conf.d # revdep-rebuild --library libldap_r.so.2.0.130
Configuring search environment for revdep-rebuild

Checking reverse dependencies...

Packages containing binaries and libraries using libldap_r.so.2.0.130
will be emerged.

Collecting system binaries and libraries... done.
  (/root/.revdep-rebuild.1_files)

Checking dynamic linking...
 done.
  (/root/.revdep-rebuild_4f73db51.3_rebuild)

Assigning files to ebuilds... Nothing to rebuild

Evaluating package order... done.
  (/root/.revdep-rebuild_4f73db51.5_order)

There are no dynamic links to libldap_r.so.2.0.130... All done. 
gluon conf.d # revdep-rebuild --library libldap-2.2.so.7
Configuring search environment for revdep-rebuild

Checking reverse dependencies...

Packages containing binaries and libraries using libldap-2.2.so.7
will be emerged.

Collecting system binaries and libraries... done.
  (/root/.revdep-rebuild.1_files)

Checking dynamic linking...
 done.
  (/root/.revdep-rebuild_0021784c.3_rebuild)

Assigning files to ebuilds... Nothing to rebuild

Evaluating package order... done.
  (/root/.revdep-rebuild_0021784c.5_order)

There are no dynamic links to libldap-2.2.so.7... All done. 
gluon conf.d # revdep-rebuild --library libldap_r-2.2.so.7
Configuring search environment for revdep-rebuild

Checking reverse dependencies...

Packages containing binaries and libraries using libldap_r-2.2.so.7
will be emerged.

Collecting system binaries and libraries... done.
  (/root/.revdep-rebuild.1_files)

Checking dynamic linking...
 done.
  (/root/.revdep-rebuild_95218d1c.3_rebuild)

Assigning files to ebuilds... Nothing to rebuild

Evaluating package order... done.
  (/root/.revdep-rebuild_95218d1c.5_order)

There are no dynamic links to libldap_r-2.2.so.7... All done. 
gluon conf.d # 

Reproducible: Always

Steps to Reproduce:
1.emerge -uNDatv openldap
2.see revdep requirements
3.

Actual Results:  
request to run revdep-rebuild 4x

Expected Results:  
would expect no request to run revdep-rebuild

gluon conf.d # emerge --info
Portage 2.1.3.9 (default-linux/x86/2007.0/server, gcc-4.1.2, glibc-2.5-r4, 2.6.11-gentoo-r5 i686)
=================================================================
System uname: 2.6.11-gentoo-r5 i686 Intel(R) Xeon(TM) CPU 2.80GHz
Timestamp of tree: Thu, 20 Sep 2007 01:00:01 +0000
ccache version 2.4 [enabled]
app-shells/bash:     3.2_p17
dev-lang/python:     2.3.5-r3, 2.4.4-r4
dev-python/pycrypto: 2.0.1-r6
dev-util/ccache:     2.4-r7
sys-apps/baselayout: 1.12.9-r2
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.61-r1
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.17-r1
sys-devel/gcc-config: 1.3.16
sys-devel/libtool:   1.5.24
virtual/os-headers:  2.6.21
ACCEPT_KEYWORDS="x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -pipe -march=i686 -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/X11/xkb"
CONFIG_PROTECT_MASK="/etc/env.d /etc/gconf /etc/php/apache2-php4/ext-active/ /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php4/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php4/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/terminfo"
CXXFLAGS="-O2 -pipe -march=i686 -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="ccache distlocks metadata-transfer sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://gentoo.mirrors.pair.com/ http://mirror.datapipe.net/gentoo ftp://gentoo.netnitco.net/pub/mirrors/gentoo/source/"
LINGUAS="en"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://lepton.nrm.minn.seagate.com/gentoo-portage"
USE="acl apache2 berkdb bitmap-fonts cli cracklib crypt cups dri fortran gdbm gpm iconv ipv6 isdnlog ldap mailwrapper midi mudflap ncurses nls nptl nptlonly openmp pam pcre perl pppd python readline reflection session snmp spl ssl tcpd truetype truetype-fonts type1-fonts unicode x86 xml xorg zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1 emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" ELIBC="glibc" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en" USERLAND="GNU" VIDEO_CARDS="apm ark chips cirrus cyrix dummy fbdev glint i128 i740 i810 imstt mach64 mga neomagic nsc nv r128 radeon rendition s3 s3virge savage siliconmotion sis sisusb tdfx tga trident tseng v4l vesa vga via vmware voodoo"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY




Comment 1


Jakub Moc (RETIRED)






          2007-09-21 12:46:37 UTC
        

Just delete the unneeded libraries if nothing uses them any more.





Comment 2


Dan Thorson





          2007-09-21 14:02:38 UTC
        

Newbie alert: I don't seem to be able to determine what/how to remove old libs.  an emerge -pC openldap only shows 2.3.35-r1, and I don't know what package to clean!




Comment 3


Jakub Moc (RETIRED)






          2007-09-21 14:10:21 UTC
        

Delete the files that the update complains about. If you have further questions, we have #gentoo on Freenode or forums.gentoo.org; bugzilla is not a support forum and this is not a bug.










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

