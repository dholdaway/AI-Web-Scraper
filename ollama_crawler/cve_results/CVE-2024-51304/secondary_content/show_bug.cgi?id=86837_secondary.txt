Title: 86837 – cyrus-sasl-2.1.20-r2 fails to emerge
URL: https://bugs.gentoo.org/show_bug.cgi?id=86837

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 86837
cyrus-sasl-2.1.20-r2 fails to emerge
Last modified: 2005-06-28 05:17:28 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 86837 
      - cyrus-sasl-2.1.20-r2 fails to emerge


Summary:
cyrus-sasl-2.1.20-r2 fails to emerge
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Library

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Net-Mail Packages








URL:







Whiteboard:




Keywords:









Duplicates (1):
    

97294

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2005-03-27 02:04 UTC by Igor Galchevsky





      Modified:
    
2005-06-28 05:17 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Igor Galchevsky





          2005-03-27 02:04:06 UTC
        

When I try to emerge cyrus-sasl, I get this error in function `auth_shadow': too few arguments to function `getpwnam_r'

Reproducible: Always
Steps to Reproduce:
1. emerge cyrus-sasl

Actual Results:  
if i686-pc-linux-gnu-gcc -DHAVE_CONFIG_H
-DSASLAUTHD_CONF_FILE_DEFAULT=\"/etc/saslauthd.conf\" -I. -I. -I.. -I. -I. -I.
-I./include -I./include -I./../include    -O3 -march=pentium4 -mtune=pentium4
-msse -msse2 -mmmx -pipe -fomit-frame-pointer -mfpmath=sse -pthread  -MT
auth_shadow.o -MD -MP -MF ".deps/auth_shadow.Tpo" \
  -c -o auth_shadow.o `test -f 'auth_shadow.c' || echo './'`auth_shadow.c; \
then mv ".deps/auth_shadow.Tpo" ".deps/auth_shadow.Po"; \
else rm -f ".deps/auth_shadow.Tpo"; exit 1; \
fi
auth_shadow.c: In function `auth_shadow':
auth_shadow.c:134: error: too few arguments to function `getpwnam_r'
auth_shadow.c:134: warning: assignment makes pointer from integer without a cast
auth_shadow.c:149: error: too few arguments to function `getspnam_r'
auth_shadow.c:149: warning: assignment makes pointer from integer without a cast
make[3]: *** [auth_shadow.o] Error 1
make[3]: Leaving directory
`/var/tmp/portage/cyrus-sasl-2.1.20-r2/work/cyrus-sasl-2.1.20/saslauthd'
make[2]: *** [all] Error 2
make[2]: Leaving directory
`/var/tmp/portage/cyrus-sasl-2.1.20-r2/work/cyrus-sasl-2.1.20/saslauthd'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory
`/var/tmp/portage/cyrus-sasl-2.1.20-r2/work/cyrus-sasl-2.1.20'
make: *** [all] Error 2



Portage 2.0.51.19 (default-linux/x86/2004.3, gcc-3.4.3-20050110,
glibc-2.3.4.20050125-r1, 2.6.11-ck1 i686)
=================================================================
System uname: 2.6.11-ck1 i686 Intel(R) Pentium(R) 4 CPU 2.40GHz
Gentoo Base System version 1.6.10
Python:              dev-lang/python-2.3.5 [2.3.5 (#1, Feb 21 2005, 21:58:04)]
dev-lang/python:     2.3.5
sys-devel/autoconf:  2.59-r6, 2.13
sys-devel/automake:  1.7.9-r1, 1.8.5-r3, 1.5, 1.4_p6, 1.6.3, 1.9.5
sys-devel/binutils:  2.15.92.0.2-r7
sys-devel/libtool:   1.4.3-r4, 1.5.14
virtual/os-headers:  2.6.8.1-r2
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CFLAGS="-O3 -march=pentium4 -mtune=pentium4 -msse -msse2 -mmmx -pipe
-fomit-frame-pointer -mfpmath=sse -pthread "
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config
/var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O3 -march=pentium4 -mtune=pentium4 -msse -msse2 -mmmx -pipe
-fomit-frame-pointer -mfpmath=sse -pthread "
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig ccache distlocks sandbox sfperms"
GENTOO_MIRRORS="ftp://ftp.linux.kiev.ua/pub/Linux/Gentoo/
ftp://ftp.linux.org.ua/pub/Linux/Gentoo/ "
LANG="en_US.UTF-8"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.linux.kiev.ua/gentoo-portage"
USE="X aalib acl acpi alsa apm audiofile avi berkdb bidi bitmap-fonts bzip2
bzlib cdb cdparanoia cdr crypt cscope cups curl curlwrappers dbm dio directfb
divx4linux dvd dvdread emboss encode evolution examples extensions fam fastcgi
fbcon fftw flac font-server foomaticdb fortran ftp gd gdbm gif gimpprint gnome
gnutls gpm gstreamer gtk gtk2 gtkhtml guile hardenedphp hsql hsqldb i8x0 icc
icc-pgo iconv icq imagemagick imap imlib iodbc ipv6 jabber jack java javamail
jce jdbc jikes jpeg jpeg2k junit kde koi8-r ldap libcaca libedit libg++ libwww
live mad maildir mbox memlimit mikmod mime ming mmx mmx2 mono mozdevelop mozilla
mozsvg mp3 mpeg msession msql mysql mysqli nas ncurses network nls nntp nptl
nptlonly ntp nvidia odbc oggvorbis openal opengl openldap oss pam pdflib perl
pgo php png portaudio postgres ppds python qt quicktime readline real recode
samba sdl session shared sharedmem slang slp sndfile snmp sockets socks5 spell
spl sqlite sse sse2 ssl svg svga tcltk tcpd theora threads tidy tiff timidity
tokenizer truetype truetype-fonts type1-fonts unicode usb utf utf8 vanilla
vhosts wxwindows x86 xml xml2 xmlrpc xmms xpm xsl xv xvid zlib video_cards_nvidia"
Unset:  ASFLAGS, CBUILD, CTARGET, LC_ALL, LDFLAGS, PORTDIR_OVERLAY




Comment 1


Fernando J. Pereda (RETIRED)






          2005-03-27 05:00:40 UTC
        

Could you please post emerge -vp cyrus-sasl ? I've just built it with no problems.

Cheers,
Ferdy




Comment 2


Igor Galchevsky





          2005-03-27 05:11:22 UTC
        

# emerge -pv cyrus-sasl

[ebuild  N    ] dev-libs/cyrus-sasl-2.1.20-r2  -authdaemond +berkdb +crypt -debug -gdbm +java -kerberos +ldap +mysql -ntlm_unsupported_patch +pam +postgres -sample -srp +ssl -static -urandom




Comment 3


Fernando J. Pereda (RETIRED)






          2005-03-27 05:35:39 UTC
        

This is not blocker. Reverting to normal

(I can't reproduce it... I'm digging to see what can be causing it)

Cheers,
Ferdy




Comment 4


Igor Galchevsky





          2005-03-27 09:19:28 UTC
        

It is blocker, I am not able to emerge kde due to this error. I tried lot different use flags combinations and always got the same error :(




Comment 5


Fernando J. Pereda (RETIRED)






          2005-03-27 10:07:35 UTC
        

Try to use less agressive CFLAGS. Remove -pthread and cyrus-sasl will install perfectly.

Chhers,
Ferdy




Comment 6


Jakub Moc (RETIRED)






          2005-06-28 05:17:28 UTC
        

*** Bug 97294 has been marked as a duplicate of this bug. ***









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

