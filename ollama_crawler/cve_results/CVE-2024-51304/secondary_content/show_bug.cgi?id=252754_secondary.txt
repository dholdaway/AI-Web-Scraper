Title: 252754 – x11-libs/qt-webkit-4.4.2: compilation failure: DeprecatedString.cpp: m_impl is of non-class type 'size_t (WTF::Vector<T, inlineCapacity>::)()const'
URL: https://bugs.gentoo.org/show_bug.cgi?id=252754

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 252754
x11-libs/qt-webkit-4.4.2: compilation failure: DeprecatedString.cpp: m_impl is of non-class type 'size_t (WTF::Vector<T, inlineCapacity>::)()const'
Last modified: 2009-01-03 01:50:50 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 252754 
      - x11-libs/qt-webkit-4.4.2: compilation failure: DeprecatedString.cpp: m_impl is of non-class type 'size_t (WTF::Vector<T, inlineCapacity>::)()const'


Summary:
x11-libs/qt-webkit-4.4.2: compilation failure: DeprecatedString.cpp: m_impl i...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Qt Bug Alias








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-12-27 23:03 UTC by Andrew Evans





      Modified:
    
2009-01-03 01:50 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Andrew Evans





          2008-12-27 23:03:34 UTC
        

emerge of x11-libs/qt-webkit-4.4.2 failed on my system like so:

compiling platform/DeprecatedCString.cpp
compiling platform/DeprecatedPtrListImpl.cpp
compiling platform/DeprecatedString.cpp
../JavaScriptCore/wtf/Vector.h: In member function 'void WTF::Vector<T, inlineCapacity>::reserveCapacity(size_t) [with T = char, unsigned int inlineCapacity = 0u]':
../JavaScriptCore/wtf/Vector.h:565:   instantiated from 'void WTF::Vector<T, inlineCapacity>::expandCapacity(size_t) [with T = char, unsigned int inlineCapacity = 0u]'
../JavaScriptCore/wtf/Vector.h:594:   instantiated from 'void WTF::Vector<T, inlineCapacity>::resize(size_t) [with T = char, unsigned int inlineCapacity = 0u]'
../JavaScriptCore/wtf/Vector.h:380:   instantiated from 'WTF::Vector<T, inlineCapacity>::Vector(size_t) [with T = char, unsigned int inlineCapacity = 0u]'
platform/CString.h:40:   instantiated from here
../JavaScriptCore/wtf/Vector.h:608: error: request for member 'WTF::Vector<char, 0u>::m_impl' in 'WTF::Vector<T, inlineCapacity>::capacity', which is of non-class type 'size_t (WTF::Vector<T, inlineCapacity>::)()const'
../JavaScriptCore/wtf/Vector.h:565:   instantiated from 'void WTF::Vector<T, inlineCapacity>::expandCapacity(size_t) [with T = char, unsigned int inlineCapacity = 0u]'
../JavaScriptCore/wtf/Vector.h:594:   instantiated from 'void WTF::Vector<T, inlineCapacity>::resize(size_t) [with T = char, unsigned int inlineCapacity = 0u]'
../JavaScriptCore/wtf/Vector.h:380:   instantiated from 'WTF::Vector<T, inlineCapacity>::Vector(size_t) [with T = char, unsigned int inlineCapacity = 0u]'
platform/CString.h:40:   instantiated from here
../JavaScriptCore/wtf/Vector.h:610: error: request for member 'WTF::Vector<char, 0u>::m_impl' in 'WTF::Vector<T, inlineCapacity>::capacity', which is of non-class type 'size_t (WTF::Vector<T, inlineCapacity>::)()const'
../JavaScriptCore/wtf/Vector.h: In member function 'size_t WTF::Vector<T, inlineCapacity>::capacity() const':
../JavaScriptCore/wtf/Vector.h:608:   instantiated from 'void WTF::Vector<T, inlineCapacity>::reserveCapacity(size_t) [with T = char, unsigned int inlineCapacity = 0u]'
../JavaScriptCore/wtf/Vector.h:565:   instantiated from 'void WTF::Vector<T, inlineCapacity>::expandCapacity(size_t) [with T = char, unsigned int inlineCapacity = 0u]'
../JavaScriptCore/wtf/Vector.h:594:   instantiated from 'void WTF::Vector<T, inlineCapacity>::resize(size_t) [with T = char, unsigned int inlineCapacity = 0u]'
../JavaScriptCore/wtf/Vector.h:380:   instantiated from 'WTF::Vector<T, inlineCapacity>::Vector(size_t) [with T = char, unsigned int inlineCapacity = 0u]'
platform/CString.h:40:   instantiated from here
../JavaScriptCore/wtf/Vector.h:397: warning: no return statement in function returning non-void
make: *** [.obj/release-shared/DeprecatedString.o] Error 1
make: *** Waiting for unfinished jobs....
 *
 * ERROR: x11-libs/qt-webkit-4.4.2 failed.
 * Call stack:
 *               ebuild.sh, line   49:  Called src_compile
 *             environment, line 2671:  Called qt4-build_src_compile
 *             environment, line 2462:  Called build_target_directories
 *             environment, line  344:  Called build_directories 'src/3rdparty/webkit/WebCore tools/designer/src/plugins/qwebview'
 *             environment, line  339:  Called die
 * The specific snippet of code:
 *           emake || die "emake failed";
 *  The die message:
 *   emake failed
 *
 * If you need support, post the topmost build error, and the call stack if relevant.
 * A complete build log is located at '/var/tmp/portage/x11-libs/qt-webkit-4.4.2/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/x11-libs/qt-webkit-4.4.2/temp/environment'.
 *

andrew@trusty /var/lib/portage/gentoo/x11-libs/qt-webkit $ emerge --info                                                       
Portage 2.1.6.3 (default/linux/x86/2008.0, gcc-4.1.2, glibc-2.6.1-r0, 2.6.27-gentoo-r7 i686)                                   
=================================================================
System uname: Linux-2.6.27-gentoo-r7-i686-AMD_Athlon-tm-_XP_rrsossor-with-glibc2.0
Timestamp of tree: Thu, 25 Dec 2008 19:30:01 +0000
distcc 3.0 i686-pc-linux-gnu [disabled]
app-shells/bash:     3.2_p33
dev-java/java-config: 1.3.7-r1, 2.1.6-r1
dev-lang/python:     2.5.2-r7
dev-util/cmake:      2.6.2
sys-apps/baselayout: 1.12.11.1
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.61-r2
sys-devel/automake:  1.5, 1.7.9-r1, 1.9.6-r2, 1.10.1-r1
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.23-r3
ACCEPT_KEYWORDS="x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=athlon-xp -Os -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/config"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/revdep-rebuild /etc/terminfo /etc/udev/rules.d"
CXXFLAGS="-march=athlon-xp -Os -pipe"
DISTDIR="/var/lib/portage/gentoo/distfiles"
FEATURES="distlocks fixpackages parallel-fetch protect-owned sandbox sfperms splitdebug strict unmerge-orphans userfetch userpriv usersandbox"
GENTOO_MIRRORS="http://gentoo.llarian.net/ http://cudlug.cudenver.edu/gentoo/ http://gentoo.osuosl.org/"
LDFLAGS="-Wl,-O1"
MAKEOPTS="-j2"
PKGDIR="/var/lib/portage/gentoo/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/var/lib/portage/gentoo"
PORTDIR_OVERLAY="/var/lib/portage/overlay"
SYNC="rsync://rsync.namerica.gentoo.org/gentoo-portage"
USE="3dnow 3dnowext X a52 aac acpi alsa bash-completion berkdb bitmap-fonts boundschecking browserplugin bzip2 caps cli cracklib css cups dbus doc dri dvdnav dvdread emacsffmpeg flac foomaticdb gtk2 htmlhandbook iconv imlib ipod isdnlog lame lm_sensors midi mmx mmxext mng mozilla moznopango mp4 mplayer mudflap musicbrainz mythtv ncurses nptl nptlonly nsplugin ooo-kde pam pcre pda pdf ppds pppd readline reflection rtc session smp sms spl sse sse2 ssl sysfs tcpd threads truetype type1-fonts v4l v4l2 win32codecsx264 x86 xcomposite xorg xvid yahoo zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1 emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" USERLAND="GNU" VIDEO_CARDS="nvidia"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LANG, LC_ALL, LINGUAS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Andrew Evans





          2008-12-28 05:17:33 UTC
        

Strangely a second emerge of this same package version succeeded. Seems there's a problem here for first-time installs that somehow sorted itself out after the first emerge attempt.




Comment 2


Jeremy Olexa (darkside) (RETIRED)








          2008-12-29 00:43:54 UTC
        

(In reply to comment #1)
> Strangely a second emerge of this same package version succeeded. Seems there's
> a problem here for first-time installs that somehow sorted itself out after the
> first emerge attempt.
> 

Odd. Assigning to maintainers.




Comment 3


Ben de Groot (RETIRED)






          2009-01-03 01:50:50 UTC
        

I'm closing as "works for me". Reopen if this can be reproduced.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

