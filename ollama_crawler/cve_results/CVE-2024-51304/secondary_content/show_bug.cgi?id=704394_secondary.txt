Title: 704394 – net-analyzer/fail2ban fails to start with default configuration
URL: https://bugs.gentoo.org/show_bug.cgi?id=704394

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 704394
net-analyzer/fail2ban fails to start with default configuration
Last modified: 2020-01-12 08:48:54 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 704394 
      - net-analyzer/fail2ban fails to start with default configuration


Summary:
net-analyzer/fail2ban fails to start with default configuration
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Netmon project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2019-12-31 17:31 UTC by Tiago Marques





      Modified:
    
2020-01-12 08:48 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Tiago Marques





          2019-12-31 17:31:02 UTC
        

Just installed the package and found a few bugs upon starting the service:

- jail.conf file was loading "paths-debian.conf" instead of "paths-common.conf", so it wouldn't even start.
- Needs sqlite3 flag to enable database support and edit fail2ban.conf to match. If not set, needs to default to ":memory:" or "None",
- Tries to use "/var/log/auth.log" instead of "/var/log/messages", the default with syslog-ng. This probably needs some configuration or just print a warning with some pointers.




Reproducible: Always

Steps to Reproduce:
1.Install fail2ban
2.Start the service
3.
Actual Results:  
Service fails to start due to various configuration errors on Gentoo systems.




Comment 1


Jeroen Roovers (RETIRED)






          2019-12-31 18:13:57 UTC
        

(In reply to Tiago Marques from comment #0)
> Just installed the package and found a few bugs upon starting the service:
> 
> - jail.conf file was loading "paths-debian.conf" instead of
> "paths-common.conf", so it wouldn't even start.

Works for me. You should be more specific. I am changing the Summary accordingly.

> - Needs sqlite3 flag to enable database support and edit fail2ban.conf to
> match. If not set, needs to default to ":memory:" or "None",

No it does not. If you want that, then that's your local system administrator's choice, not something to be magically set for everyone else.

> - Tries to use "/var/log/auth.log" instead of "/var/log/messages", the
> default with syslog-ng. This probably needs some configuration or just print
> a warning with some pointers.

Again, a configuration problem you should resolve locally. Not all sysloggers use /var/log/messages.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

