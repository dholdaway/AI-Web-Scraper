Title: 137275 – kfind-3.5.3 merge error
URL: https://bugs.gentoo.org/show_bug.cgi?id=137275

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 137275
kfind-3.5.3 merge error
Last modified: 2006-08-24 09:21:18 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 137275 
      - kfind-3.5.3 merge error


Summary:
kfind-3.5.3 merge error
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-06-19 09:52 UTC by Noxxcs





      Modified:
    
2006-08-24 09:21 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Noxxcs





          2006-06-19 09:52:06 UTC
        

>>Overview Description: the command 'emerge kfind' gives an error
>>Steps to Reproduce: execute the command 'emerge kfind'
>>Actual Results:

Good - your configure finished. Start make now

WARNING: use unsermake instead of make or use a wrapper script, e.g. makeobj!!!
/usr/lib/python2.4/site-packages/unsermake/unsermake all
Traceback (most recent call last):
  File "<string>", line 1, in ?
  File "/usr/lib/python2.4/site-packages/unsermake/__init__.py", line 1362, in ?
    main()
  File "/usr/lib/python2.4/site-packages/unsermake/__init__.py", line 1220, in main
    (top_makefile, all_defines) = setup_top_makefile_wrapper( top_makefile, top_srcdir, subdir)
  File "/usr/lib/python2.4/site-packages/unsermake/__init__.py", line 825, in setup_top_makefile_wrapper
    os.path.abspath(".") + "/")
  File "/usr/lib/python2.4/site-packages/unsermake/__init__.py", line 245, in read_subdirs
    submakefile = merged_makefiles(nprefix, nsrc_prefix)
  File "/usr/lib/python2.4/site-packages/unsermake/__init__.py", line 134, in merged_makefiles
    src = amfile.AMFile(path)
  File "/usr/lib/python2.4/site-packages/unsermake/amfile.py", line 46, in __init__
    self.parse(filename, ignore_comments, create_empty)
  File "/usr/lib/python2.4/site-packages/unsermake/amfile.py", line 486, in parse
    del self.targets[target.value]
KeyError: 'all'
make: *** [all] Error 1

!!! ERROR: kde-base/kfind-3.5.3 failed.
Call stack:
  ebuild.sh, line 1540:   Called dyn_compile
  ebuild.sh, line 940:   Called src_compile
  ebuild.sh, line 1249:   Called kde-meta_src_compile
  kde-meta.eclass, line 408:   Called kde_src_compile
  kde.eclass, line 111:   Called kde_src_compile 'all'
  kde.eclass, line 232:   Called kde_src_compile 'myconf' 'configure' 'make'
  kde.eclass, line 228:   Called die

!!! died running emake, kde_src_compile:make
!!! If you need support, post the topmost build error, and the call stack if relevant.





>>Expected Results: Merge kfind without errors


>>emerge --info:

Portage 2.1.1_pre1-r1 (default-linux/x86/2006.0, gcc-4.1.1/vanilla, glibc-2.4-r3, 2.6.15-25-386 i686)
=================================================================
System uname: 2.6.15-25-386 i686 unknown
Gentoo Base System version 1.12.1
ccache version 2.4 [enabled]
dev-lang/python:     2.4.3-r1
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     2.4-r2
dev-util/confcache:  0.4.2-r1
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.92, 2.16.93, 2.17.50.0.2
sys-devel/gcc-config: 2.0.0_rc1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.16
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium-m -fomit-frame-pointer -pipe -ftracer -fweb -frename-registers"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc"
CONFIG_PROTECT_MASK="/etc/env.d /etc/gconf"
CXXFLAGS="-O2 -march=pentium-m -fomit-frame-pointer -pipe -ftracer -fweb -frename-registers -fvisibility-inlines-hidden"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache confcache distlocks metadata-transfer parallel-fetch sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LANG="en_AU.UTF-8"
LDFLAGS="-Wl,-O1 -Wl,--sort-common"
LINGUAS="de it en_GB"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage /usr/local/initng-portage /usr/portage/local/layman/nxsty-glibc /usr/portage/local/layman/initng"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X alsa apache2 apm arts avi berkdb bitmap-fonts cairo cli crypt cups dri eds emboss encode esd foomaticdb fortran gdbm gif gpm gstreamer gtk gtk2 imlib ipv6 isdnlog jpeg kde libg++ libwww mad mikmod mmx motif mp3 mpeg ncurses nls nptl nptlonly ogg opengl oss pam pcre pdflib perl png pppd python qt quicktime readline reflection sdl session spell spl sse sse2 ssl tcpd truetype truetype-fonts type1-fonts udev vorbis win32codecs xml xmms xorg xv zlib &#65533;ango elibc_glibc initng_plugins_ctrlaltdel initng_plugins_also initng_plugins_bash_launcher initng_plugins_chdir initng_plugins_chroot initng_plugins_conflict initng_plugins_cpout initng_plugins_critical initng_plugins_cron initng_plugins_daemon initng_plugins_dev initng_plugins_dllaunch initng_plugins_envparser initng_plugins_find initng_plugins_fstat initng_plugins_history initng_plugins_idleprobe initng_plugins_initctl initng_plugins_interactive initng_plugins_iparser initng_plugins_last initng_plugins_limit initng_plugins_logfile initng_plugins_netprobe initng_plugins_ngc4 initng_plugins_pause initng_plugins_pidfile initng_plugins_reload initng_plugins_renice initng_plugins_rlparser initng_plugins_simple_launcher initng_plugins_stcmd initng_plugins_stdout initng_plugins_suid initng_plugins_syncron initng_plugins_syslog initng_plugins_unneeded initng_plugins_provide input_devices_keyboard input_devices_mouse input_devices_synaptics kernel_linux linguas_de linguas_it linguas_en_GB userland_GNU video_cards_radeon video_cards_vesa"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LC_ALL, MAKEOPTS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Caleb Tennis (RETIRED)






          2006-07-03 05:31:36 UTC
        

I'd say you should try and build without unsermake.




Comment 2


Carsten Lohrke (RETIRED)






          2006-08-24 09:21:18 UTC
        

Don't use unsermake, don't use confcache.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

