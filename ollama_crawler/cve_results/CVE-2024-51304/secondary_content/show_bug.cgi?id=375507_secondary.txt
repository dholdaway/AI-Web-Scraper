Title: 375507 – net-wireless/wpa_supplicant - multiple Connect/Disconnect
URL: https://bugs.gentoo.org/show_bug.cgi?id=375507

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 375507
net-wireless/wpa_supplicant - multiple Connect/Disconnect
Last modified: 2011-07-25 15:54:19 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 375507 
      - net-wireless/wpa_supplicant - multiple Connect/Disconnect


Summary:
net-wireless/wpa_supplicant - multiple Connect/Disconnect
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] baselayout

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
Normal
       critical
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2011-07-17 21:42 UTC by Musabbir





      Modified:
    
2011-07-25 15:54 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



musabbirmajeed
pchrist









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Output of emerge --info

              (emerge_info,4.47 KB,
                text/plain)

            
2011-07-17 22:09 UTC,

            Musabbir




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Musabbir





          2011-07-17 21:42:56 UTC
        

My wireless is being repeatedly disconnected. I am using ipw2200 driver for Intel Corporation PRO/Wireless 2200BG. My kernel version is "2.6.38-gentoo-r6".

**********Connect/Disconnect Frequency**********
Jul 17 22:34:53 musabbir wpa_cli: interface eth1 CONNECTED
Jul 17 22:34:54 musabbir wpa_cli: executing '/etc/init.d/net.eth1 --quiet start' failed
Jul 17 22:34:58 musabbir dhcpcd[12875]: eth1: acknowledged 192.168.1.2 from 192.168.1.1 `D-Link'
Jul 17 22:34:58 musabbir dhcpcd[12875]: eth1: checking for 192.168.1.2
Jul 17 22:35:02 musabbir dhcpcd[12875]: eth1: leased 192.168.1.2 for 259200 seconds
Jul 17 22:36:03 musabbir dhcpcd[12875]: eth1: carrier lost
Jul 17 22:36:03 musabbir wpa_cli: interface eth1 DISCONNECTED
Jul 17 22:36:03 musabbir wpa_cli: executing 'false /etc/init.d/net.eth1 --quiet stop' failed
Jul 17 22:36:04 musabbir dhcpcd[12875]: eth1: carrier acquired
Jul 17 22:36:04 musabbir dhcpcd[12875]: eth1: rebinding lease of 192.168.1.2
Jul 17 22:36:04 musabbir wpa_cli: interface eth1 CONNECTED
**********Connect/Disconnect Frequency**********

Thank you for your considerations.

Best regards,
Musabbir

Reproducible: Always




Comment 1


Panagiotis Christopoulos (RETIRED)






          2011-07-17 22:03:25 UTC
        

Well, 

1) Please, paste your "emerge --info", "emerge -pv wpa_supplicant", "lspci | grep -i wireless" and "uname -a". 

2) Please, give us more information such as, when this started to happen and anything you believe would help 

3) Are you sure this has nothing to do with the other end of the wireless connection?

4) Reopen the bug only after you have submitted more information. 

Thank you for your report.




Comment 2


Musabbir





          2011-07-17 22:09:33 UTC
        

Created attachment 280273 [details]
Output of emerge --info




Comment 3


Musabbir





          2011-07-17 22:23:15 UTC
        

Thank you so much for your speedy response.

This is happening since I have installed Gentoo a week ago. This was never a problem with Ubuntu 10.10 and windows XP. So, I doubt its a problem with the wireless card or the router.

I am using dhcpd client. Moreover, whenever I lose my wireless, ip address and broadcasting address disappears as expected.

Please find attached the information you requested in each file

***************Output of uname  -a******************
Linux musabbir 2.6.38-gentoo-r6 #1 SMP Sat Jul 9 23:40:46 BST 2011 i686 Intel(R) Pentium(R) M processor 1.60GHz GenuineIntel GNU/Linux
***************Output of uname  -a******************

***************Output of lspci | grep -i wireless******************
03:03.0 Network controller: Intel Corporation PRO/Wireless 2200BG [Calexico2] Network Connection (rev 05)
***************Output of lspci | grep -i wireless******************

***************Output of lspci | grep -i wireless******************
These are the packages that would be merged, in order:

******************emerge -pv wpa_supplicant******************
Calculating dependencies  ... done!
[ebuild   R    ] net-wireless/wpa_supplicant-0.7.3-r2  USE="dbus readline ssl -debug -eap-sim -fasteap -gnutls -madwifi (-ps3) -qt4 -wimax -wps" 0 kB

Total: 1 package (1 reinstall), Size of downloads: 0 kB

 * IMPORTANT: 3 news items need reading for repository 'gentoo'.
 * Use eselect news to read news items.
******************emerge -pv wpa_supplicant******************

Hope this helps.




Comment 4


Jeroen Roovers (RETIRED)






          2011-07-21 14:27:19 UTC
        

I'm not sure that it is a problem with wpa_supplicant. It's dhcpcd that apparently has a problem establising a connection. You may want to enable -d in dhcpcd's config to see more of what is happening.




Comment 5


Musabbir





          2011-07-21 21:10:15 UTC
        

Thank you for your reply. I dont think wpa_supplicant is the issue because I installed network manager and the problem persists. Now I am using network manager.

Can you please explain how to apply -d flag. I tried "dhcpd -d", and the output from this command is the same as in /var/log/dhcpd file. The output of the log file is as follows:

Jul 21 22:04:03 musabbir dhcpd: Wrote 1 leases to leases file.
Jul 21 22:04:03 musabbir dhcpd: Listening on LPF/eth1/00:13:ce:19:f5:79/192.168.1/24
Jul 21 22:04:03 musabbir dhcpd: Sending on   LPF/eth1/00:13:ce:19:f5:79/192.168.1/24
Jul 21 22:04:03 musabbir dhcpd: Sending on   Socket/fallback/fallback-net
Jul 21 22:04:03 musabbir dhcpd: There's already a DHCP server running.
Jul 21 22:04:03 musabbir dhcpd: 
Jul 21 22:04:03 musabbir dhcpd: If you did not get this software from ftp.isc.org, please
Jul 21 22:04:03 musabbir dhcpd: get the latest from ftp.isc.org and install that before
Jul 21 22:04:03 musabbir dhcpd: requesting help.
Jul 21 22:04:03 musabbir dhcpd: 
Jul 21 22:04:03 musabbir dhcpd: If you did get this software from ftp.isc.org and have not
Jul 21 22:04:03 musabbir dhcpd: yet read the README, please read it before requesting help.
Jul 21 22:04:03 musabbir dhcpd: If you intend to request help from the dhcp-server@isc.org
Jul 21 22:04:03 musabbir dhcpd: mailing list, please read the section on the README about
Jul 21 22:04:03 musabbir dhcpd: submitting bug reports and requests for help.
Jul 21 22:04:03 musabbir dhcpd: 
Jul 21 22:04:03 musabbir dhcpd: Please do not under any circumstances send requests for
Jul 21 22:04:03 musabbir dhcpd: help directly to the authors of this software - please
Jul 21 22:04:03 musabbir dhcpd: send them to the appropriate mailing list as described in
Jul 21 22:04:03 musabbir dhcpd: the README file.
Jul 21 22:04:03 musabbir dhcpd: 
Jul 21 22:04:03 musabbir dhcpd: exiting.

Hope to hear from you soon.


Best regards




Comment 6


Pacho Ramos






          2011-07-22 12:45:10 UTC
        

You probably need to kill existing dhcpcd process before running another one with "-d" option.




Comment 7


Musabbir





          2011-07-22 17:40:41 UTC
        

The output of dhcpd -d is as follows:

*********************************************
DHCPNAK on 192.168.1.2 to <Mac Address> via eth1
DHCPREQUEST for 192.168.1.2 from <Mac Address> via eth1: lease 192.168.1.2 unavailable.
DHCPNAK on 192.168.1.2 to <Mac Address> via eth1
DHCPREQUEST for 192.168.1.2 from <Mac Address> via eth1: lease 192.168.1.2 unavailable.
DHCPNAK on 192.168.1.2 to <Mac Address> via eth1
DHCPREQUEST for 192.168.1.2 from <Mac Address> via eth1: lease 192.168.1.2 unavailable.
DHCPNAK on 192.168.1.2 to <Mac Address> via eth1
DHCPREQUEST for 192.168.1.2 from <Mac Address> via eth1: lease 192.168.1.2 unavailable.
DHCPNAK on 192.168.1.2 to <Mac Address> via eth1
**********************************************

output of /var/log/messages:

Jul 22 18:36:10 musabbir sudo: musabbir : TTY=pts/0 ; PWD=/home/musabbir ; USER=root ; COMMAND=/bin/cat /var/log/messages
Jul 22 18:36:10 musabbir sudo: pam_unix(sudo:session): session opened for user root by (uid=0)
Jul 22 18:36:14 musabbir dhcpd: DHCPREQUEST for 192.168.1.2 from <mac address> via eth1: lease 192.168.1.2 unavailable.
Jul 22 18:36:14 musabbir dhcpd: DHCPNAK on 192.168.1.2 to <mac address> via eth1
Jul 22 18:36:14 musabbir dhcpcd[15733]: eth1: acknowledged 192.168.1.2 from 192.168.1.1 `D-Link'
Jul 22 18:36:14 musabbir dhcpcd[15733]: eth1: checking for 192.168.1.2



hope this helps.




Comment 8


Musabbir





          2011-07-22 23:49:18 UTC
        

I was wondering that can you please remove this bug  from the database. I have moved from gentoo to another linux distro. Also, because there is some personal information like ip etc.

Apologies for that. But I needed a more reliable wireless and other little things. Thank you for your support




Comment 9


Pacho Ramos






          2011-07-25 15:54:19 UTC
        

Next time would be better to try to ask in forums.gentoo.org before filling a bug report.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

