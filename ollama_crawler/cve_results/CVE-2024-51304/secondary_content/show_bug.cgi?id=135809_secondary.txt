Title: 135809 – mono causes  bad glibc loop gcc 4.1.1 fails to compile any C++ app - libgcc_s.so: undefined reference to `init_dwarf_reg_size_table'
URL: https://bugs.gentoo.org/show_bug.cgi?id=135809

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 135809
mono causes  bad glibc loop gcc 4.1.1 fails to compile any C++ app - libgcc_s.so: undefined reference to `init_dwarf_reg_size_table'
Last modified: 2006-09-18 12:20:52 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 135809 
      - mono causes  bad glibc loop gcc 4.1.1 fails to compile any C++ app - libgcc_s.so: undefined reference to `init_dwarf_reg_size_table'


Summary:
mono causes  bad glibc loop gcc 4.1.1 fails to compile any C++ app - libgcc_s...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Core system

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Toolchain Maintainers








URL:







Whiteboard:




Keywords:









Duplicates (1):
    

145878

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2006-06-06 12:03 UTC by Aaron Peterson





      Modified:
    
2006-09-18 12:20 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



peper









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




g++ -Wl,--verbose test.cpp

              (gppnoc.log,9.91 KB,
                text/plain)

            
2006-06-18 09:22 UTC,

            Aaron Peterson




Details





readelf-slibgcc_s.so.log

              (readelf-slibgcc_s.so.log,8.24 KB,
                text/plain)

            
2006-06-19 00:00 UTC,

            Aaron Peterson




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Aaron Peterson





          2006-06-06 12:03:01 UTC
        

i686-pc-linux-gnu-ar rv ../lib/libncurses++.a ../obj_s/cursesf.o ../obj_s/cursesm.o ../obj_s/cursesw.o ../obj_s/cursespad.o ../obj_s/cursesp.o ../obj_s/cursslk.o ../obj_s/cursesapp.o ../obj_s/cursesmain.o
i686-pc-linux-gnu-ar: creating ../lib/libncurses++.a
a - ../obj_s/cursesf.o
a - ../obj_s/cursesm.o
a - ../obj_s/cursesw.o
a - ../obj_s/cursespad.o
a - ../obj_s/cursesp.o
a - ../obj_s/cursslk.o
a - ../obj_s/cursesapp.o
a - ../obj_s/cursesmain.o
i686-pc-linux-gnu-ranlib ../lib/libncurses++.a
i686-pc-linux-gnu-g++  -o demo ../obj_s/demo.o -L../lib -lncurses++ -L../lib -lform -lmenu -lpanel -lncurses -ldl  -Wl,-rpath,/mnt/sata2/portage_tempdir/portage/ncurses-5.5-r2/work/narrowc/lib  -I../c++ -I../include -I/mnt/sata2/portage_tempdir/portage/ncurses-5.5-r2/work/ncurses-5.5/c++ -DHAVE_CONFIG_H -I/mnt/sata2/portage_tempdir/portage/ncurses-5.5-r2/work/ncurses-5.5/c++/../include -I. -I../include  -D_GNU_SOURCE -DNDEBUG -march=athlon-xp -O2 -pipe -fomit-frame-pointer  -fno-unit-at-a-time  -fPIC
/usr/lib/gcc/i686-pc-linux-gnu/4.1.1/libgcc_s.so: undefined reference to `init_dwarf_reg_size_table'
collect2: ld returned 1 exit status
make[1]: *** [demo] Error 1
make[1]: Leaving directory `/mnt/sata2/portage_tempdir/portage/ncurses-5.5-r2/work/narrowc/c++'
make: *** [all] Error 2

!!! ERROR: sys-libs/ncurses-5.5-r2 failed.
Call stack:
  ebuild.sh, line 1531:   Called dyn_compile
  ebuild.sh, line 931:   Called src_compile
  ncurses-5.5-r2.ebuild, line 48:   Called do_compile
  ncurses-5.5-r2.ebuild, line 90:   Called die

!!! make failed
!!! If you need support, post the topmost build error, and the call stack if relevant.


escargot aaron # emerge --info
Portage 2.1_rc3-r1 (default-linux/x86/2005.1, gcc-4.1.1, glibc-2.4-r3, 2.6.16-gentoo-r8 i686)
=================================================================
System uname: 2.6.16-gentoo-r8 i686 AMD Athlon(tm) XP 1700+
Gentoo Base System version 1.12.1
dev-lang/python:     2.4.3-r1
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r2
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r5
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=athlon-xp -O2 -pipe -fomit-frame-pointer  -fno-unit-at-a-time"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/lib/mozilla/defaults/pref /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/gconf /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c /etc/env.d"
CXXFLAGS="-march=athlon-xp -O2 -pipe -fomit-frame-pointer  -fno-unit-at-a-time"
DISTDIR="/mnt/sata2/distfiles"
FEATURES="autoconfig ccache distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LINGUAS="en_US en zh_TW zh_CN ru es en_US"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/mnt/sata2/portage_tempdir"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.namerica.gentoo.org/gentoo-portage"
USE="x86 16bit 3dnow 3dnowext X a52 aac accessibility acl acpi alsa amd amr apache2 apm arts artswrappersuid asf avi berkdb bidi bitmap-fonts cap caps cjk cjkcrypt cli cpudetection crypt css cups dba dbus dga divx4linux djbfft dmx dnd doc dpms dri dv dvb dvd dvdr dvdread edl eds emboss encode fam fat fbcon ffmpeg firefox flac flash flatfile fmod font-server foomaticdb fortran freewnn gdbm gif gimp gimpprint gnome gphoto2 gpm grammar gstreamer gtk gtk2 hal hardenedphp icq ieee1394 imagemagick imap imlib immqt-bc intl ipod ipv6 isdnlog jabber java javascript jbig jce joystick jp2 jpeg jpeg2k kde kdepim kerberos krb4 ldap libg++ libwww live lm_sensors logitech-mouse ltsp lzo lzw m17n-lib mad madwifi maildir math md5sum mdb mikmod ming mjpeg mmx mmxext mng mono motif mozdevelop mozsvg mozxmlterm mp3 mp4 mp4live mpeg mpeg2 mpi mplayer msn mssql mule music nas ncurses net network nforce2 nls nptl nptlonly nsplugin ntlm nv nvidia offensive ogg oggvorbis oldworld openexr opengl oss pam pcre pdf pdflib perl physfs pic png posix pppd python qt quicktime readline real reflection reiserfs rtc samba sasl sdl session smime spell spl sql sse sse-filters ssl subtitles tcpd tga theora threads tiff timidity transcode truetype truetype-fonts type1 type1-fonts uim unicode v4l v4l2 vcd vhosts vidix vim-with-x virus-scan vnc vorbis wifi win32codecs winbind wma x264 xanim xcomposite xine xinerama xml2 xmms xorg xpm xprint xscreensaver xv xvid xvmc yahoo yv12 zeo zeroconf zlib elibc_glibc input_devices_keyboard input_devices_mouse input_devices_kbd kernel_linux linguas_en_US linguas_en linguas_zh_TW linguas_zh_CN linguas_ru linguas_es userland_GNU video_cards_nv video_cards_nvidia video_cards_fbdev video_cards_vesa"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Piotr Jaroszyński (RETIRED)






          2006-06-06 12:30:01 UTC
        

works for me.

Portage 2.1_rc4-r3 (default-linux/x86/2006.0, gcc-4.1.1/vanilla, glibc-2.4-r3, 2.6.16-gentoo-r8-dione i686)
=================================================================
System uname: 2.6.16-gentoo-r8-dione i686 AMD Athlon(tm) XP 1700+
Gentoo Base System version 1.12.1
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
ccache version 2.4 [enabled]
dev-lang/python:     2.3.5, 2.4.3-r1
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     2.4-r1
dev-util/confcache:  0.4.2-r1
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r2
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r5
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=athlon-xp -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/eselect/compiler /etc/gconf /etc/revdep-rebuild /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=athlon-xp -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache colorgcc confcache distlocks metadata-transfer parallel-fetch sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LINGUAS="en pl"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/overlays/manual"
SYNC="rsync://192.168.1.1/gentoo-portage"
USE="x86 3dnow 3dnowext 7zip X a52 aac acl acpi alsa amarok amuled apm asf audiofile avi bash-completion berkdb bidi bitmap-fonts bluetooth browserplugin bzip2 c++ ccache cdda cddb cdr cdrom chroot cli cpudetection crypt css cups curl curlwrappers dbus dri dts dv dvd dvdr dvdread eds emboss encode escreen exif extensions extraicons extramodules extras ffmpeg firefox flac foomaticdb fortran gdbm gg gif gimp gnutls gphoto2 gpm gstreamer gstreamer010 gtk gtk2 guile hal imagemagick imlib insecure-patches ipv6 irmc isdnlog jabber java javascript jpeg jpeg2k junit kcal kde kdeenablefinal kdepim kdexdeltas kig-scripting kipi lcms libg++ libwww live lm_sensors logitech-mouse logrotate mad mikmod mime mmx mng motif mozilla mozsvg mp3 mp4live mpeg mpeg2 mplayer musepack musicbrainz ncurses neXt nls no-old-linux nowin nptl nptlonly nsplugin ntfs nvidia objc ogg opengl oss pam pcre pda pdflib perl png pppd python qt quicktime readline real reflection remote rrdtool samba sdl session sms sndfile spell spl sql sqlite sqlite3 sse sse2 ssl startup-notification stats stream svg svga symlink sysfs tcpd theora threads tidy tiff truetype truetype-fonts type1 type1-fonts udev unicode usb userlocales v4l v4l2 vcd vim-pager vim-with-x visualization vlm voice vorbis win32codecs withsamplescripts wmf wxgtk1 wxwindows xine xml xorg xscreensaver xv xvid xvmc yv12 zlib elibc_glibc input_devices_keyboard input_devices_evdev input_devices_mouse kernel_linux linguas_en linguas_pl userland_GNU video_cards_nvidia"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, PORTAGE_RSYNC_EXTRA_OPTS

and btw aaron: you have ccache in portage features but you haven't installed it yet...




Comment 2


SpanKY






          2006-06-07 04:06:28 UTC
        

what version of gcc-config / eselect-compiler do you have Aaron ?




Comment 3


SpanKY






          2006-06-11 14:31:10 UTC
        

get back to us




Comment 4


Aaron Peterson





          2006-06-13 14:09:14 UTC
        

qt, ncurses, xorg 7.1 won't compile, giving a similar error message.

escargot ~ # emerge --info
Portage 2.1 (default-linux/x86/dev/2006.1/desktop, gcc-4.1.1/vanilla, glibc-2.4-r3, 2.6.16-gentoo-r8 i686)
=================================================================
System uname: 2.6.16-gentoo-r8 i686 AMD Athlon(tm) XP 1700+
Gentoo Base System version 1.12.1
ccache version 2.4 [enabled]
dev-lang/python:     2.4.3-r1
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     2.4-r2
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r2
sys-devel/gcc-config: 2.0.0_rc1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r5
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=athlon-xp -O2 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/lib/mozilla/defaults/pref /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/eselect/compiler /etc/gconf /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c"
CXXFLAGS="-march=athlon-xp -O2 -pipe -fomit-frame-pointer"
DISTDIR="/mnt/sata2/distfiles"
FEATURES="autoconfig ccache distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LINGUAS="en_US en zh_TW zh_CN ru es en_US"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/mnt/sata2/portage_tempdir"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.namerica.gentoo.org/gentoo-portage"
USE="x86 16bit 3dnow 3dnowext X a52 aac accessibility acl acpi alsa amd amr apache2 apm arts artswrappersuid asf avi berkdb bidi bitmap-fonts cairo cap caps cdr cjk cjkcrypt cli cpudetection crypt css cups dba dbus dga divx4linux djbfft dmx dnd doc dpms dri dv dvb dvd dvdr dvdread edl eds emboss encode esd fam fat fbcon ffmpeg firefox flac flash flatfile fmod font-server foomaticdb fortran freewnn gdbm gif gimp gimpprint gnome gphoto2 gpm grammar gstreamer gtk gtk2 hal hardenedphp icq ieee1394 imagemagick imap imlib immqt-bc intl ipod ipv6 isdnlog jabber java javascript jbig jce joystick jp2 jpeg jpeg2k kde kdepim kerberos krb4 ldap libg++ live lm_sensors logitech-mouse ltsp lzo lzw m17n-lib mad madwifi maildir math md5sum mdb mikmod ming mjpeg mmx mmxext mng mono motif mozdevelop mozsvg mozxmlterm mp3 mp4 mp4live mpeg mpeg2 mpi mplayer msn mssql mule music nas ncurses net network nforce2 nls nptl nptlonly nsplugin ntlm nv nvidia offensive ogg oldworld openexr opengl oss pam pcre pdf pdflib perl physfs pic png posix pppd python qt quicktime readline real reflection reiserfs rtc samba sasl sdl session smime spell spl sql sse sse-filters ssl subtitles tcpd tga theora threads tiff timidity transcode truetype truetype-fonts type1 type1-fonts udev uim unicode v4l v4l2 vcd vhosts vidix vim-with-x virus-scan vnc vorbis wifi win32codecs winbind wma x264 xanim xcomposite xine xinerama xml xmms xorg xpm xprint xscreensaver xv xvid xvmc yahoo yv12 zeo zeroconf zlib elibc_glibc input_devices_keyboard input_devices_mouse input_devices_kbd kernel_linux linguas_en_US linguas_en linguas_zh_TW linguas_zh_CN linguas_ru linguas_es userland_GNU video_cards_nv video_cards_fbdev video_cards_vesa"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, PORTAGE_RSYNC_EXTRA_OPTS





Comment 5


SpanKY






          2006-06-15 20:50:05 UTC
        

does linking a simple C++ app work ?

echo 'int main(){}' > test.cpp
g++ test.cpp




Comment 6


Aaron Peterson





          2006-06-16 02:15:08 UTC
        

no, it does not work

aaron@escargot ~ $ echo 'int main(){}' > test.cpp
aaron@escargot ~ $ g++ test.cpp
/usr/lib/gcc/i686-pc-linux-gnu/4.1.1/libgcc_s.so: undefined reference to `init_dwarf_reg_size_table'
collect2: ld returned 1 exit status
aaron@escargot ~ $





Comment 7


SpanKY






          2006-06-17 23:36:51 UTC
        

run the same test, but this time use -Wl,--verbose and -v




Comment 8


Aaron Peterson





          2006-06-18 00:20:52 UTC
        

I've tried rebuilding everything! still happens.. maybe I should go to another profile?

aaron@escargot ~ $ g++ --verbose test.cpp
Using built-in specs.
Target: i686-pc-linux-gnu
Configured with: /mnt/sata2/portage_tempdir/portage/gcc-4.1.1/work/gcc-4.1.1/configure --prefix=/usr --bindir=/usr/i686-pc-linux-gnu/gcc-bin/4.1.1 --includedir=/usr/lib/gcc/i686-pc-linux-gnu/4.1.1/include --datadir=/usr/share/gcc-data/i686-pc-linux-gnu/4.1.1 --mandir=/usr/share/gcc-data/i686-pc-linux-gnu/4.1.1/man --infodir=/usr/share/gcc-data/i686-pc-linux-gnu/4.1.1/info --with-gxx-include-dir=/usr/lib/gcc/i686-pc-linux-gnu/4.1.1/include/g++-v4 --host=i686-pc-linux-gnu --build=i686-pc-linux-gnu --disable-altivec --enable-nls --without-included-gettext --with-system-zlib --disable-checking --disable-werror --disable-libunwind-exceptions --disable-multilib --disable-libmudflap --disable-libssp --disable-libgcj --enable-languages=c,c++,fortran --enable-shared --enable-threads=posix --enable-__cxa_atexit --enable-clocale=gnu
Thread model: posix
gcc version 4.1.1 (Gentoo 4.1.1)
 /usr/libexec/gcc/i686-pc-linux-gnu/4.1.1/cc1plus -quiet -v -D_GNU_SOURCE test.cpp -quiet -dumpbase test.cpp -mtune=pentiumpro -auxbase test -version -o /tmp/cchqgBKq.s
ignoring nonexistent directory "/usr/local/include"
ignoring nonexistent directory "/usr/lib/gcc/i686-pc-linux-gnu/4.1.1/../../../../i686-pc-linux-gnu/include"
#include "..." search starts here:
#include <...> search starts here:
 /usr/lib/gcc/i686-pc-linux-gnu/4.1.1/include/g++-v4
 /usr/lib/gcc/i686-pc-linux-gnu/4.1.1/include/g++-v4/i686-pc-linux-gnu
 /usr/lib/gcc/i686-pc-linux-gnu/4.1.1/include/g++-v4/backward
 /usr/lib/gcc/i686-pc-linux-gnu/4.1.1/include
 /usr/include
End of search list.
GNU C++ version 4.1.1 (Gentoo 4.1.1) (i686-pc-linux-gnu)
        compiled by GNU C version 4.1.1 (Gentoo 4.1.1).
GGC heuristics: --param ggc-min-expand=100 --param ggc-min-heapsize=131072
Compiler executable checksum: cf532d040b2f5e1068d28e281a5ed4b7
 /usr/lib/gcc/i686-pc-linux-gnu/4.1.1/../../../../i686-pc-linux-gnu/bin/as -V -Qy -o /tmp/ccy5GDxP.o /tmp/cchqgBKq.s
GNU assembler version 2.16.1 (i686-pc-linux-gnu) using BFD version 2.16.1
 /usr/libexec/gcc/i686-pc-linux-gnu/4.1.1/collect2 --eh-frame-hdr -m elf_i386 -dynamic-linker /lib/ld-linux.so.2 /usr/lib/gcc/i686-pc-linux-gnu/4.1.1/../../../crt1.o /usr/lib/gcc/i686-pc-linux-gnu/4.1.1/../../../crti.o /usr/lib/gcc/i686-pc-linux-gnu/4.1.1/crtbegin.o -L/usr/lib/gcc/i686-pc-linux-gnu/4.1.1 -L/usr/lib/gcc/i686-pc-linux-gnu/4.1.1 -L/usr/lib/gcc/i686-pc-linux-gnu/4.1.1/../../../../i686-pc-linux-gnu/lib -L/usr/lib/gcc/i686-pc-linux-gnu/4.1.1/../../.. /tmp/ccy5GDxP.o -lstdc++ -lm -lgcc_s -lgcc -lc -lgcc_s -lgcc /usr/lib/gcc/i686-pc-linux-gnu/4.1.1/crtend.o /usr/lib/gcc/i686-pc-linux-gnu/4.1.1/../../../crtn.o
/usr/lib/gcc/i686-pc-linux-gnu/4.1.1/libgcc_s.so: undefined reference to `init_dwarf_reg_size_table'
collect2: ld returned 1 exit status






Comment 9


Aaron Peterson





          2006-06-18 00:21:04 UTC
        

aaron@escargot ~ $ g++ -v test.cpp
Using built-in specs.
Target: i686-pc-linux-gnu
Configured with: /mnt/sata2/portage_tempdir/portage/gcc-4.1.1/work/gcc-4.1.1/configure --prefix=/usr --bindir=/usr/i686-pc-linux-gnu/gcc-bin/4.1.1 --includedir=/usr/lib/gcc/i686-pc-linux-gnu/4.1.1/include --datadir=/usr/share/gcc-data/i686-pc-linux-gnu/4.1.1 --mandir=/usr/share/gcc-data/i686-pc-linux-gnu/4.1.1/man --infodir=/usr/share/gcc-data/i686-pc-linux-gnu/4.1.1/info --with-gxx-include-dir=/usr/lib/gcc/i686-pc-linux-gnu/4.1.1/include/g++-v4 --host=i686-pc-linux-gnu --build=i686-pc-linux-gnu --disable-altivec --enable-nls --without-included-gettext --with-system-zlib --disable-checking --disable-werror --disable-libunwind-exceptions --disable-multilib --disable-libmudflap --disable-libssp --disable-libgcj --enable-languages=c,c++,fortran --enable-shared --enable-threads=posix --enable-__cxa_atexit --enable-clocale=gnu
Thread model: posix
gcc version 4.1.1 (Gentoo 4.1.1)
 /usr/libexec/gcc/i686-pc-linux-gnu/4.1.1/cc1plus -quiet -v -D_GNU_SOURCE test.cpp -quiet -dumpbase test.cpp -mtune=pentiumpro -auxbase test -version -o /tmp/ccMwLqsy.s
ignoring nonexistent directory "/usr/local/include"
ignoring nonexistent directory "/usr/lib/gcc/i686-pc-linux-gnu/4.1.1/../../../../i686-pc-linux-gnu/include"
#include "..." search starts here:
#include <...> search starts here:
 /usr/lib/gcc/i686-pc-linux-gnu/4.1.1/include/g++-v4
 /usr/lib/gcc/i686-pc-linux-gnu/4.1.1/include/g++-v4/i686-pc-linux-gnu
 /usr/lib/gcc/i686-pc-linux-gnu/4.1.1/include/g++-v4/backward
 /usr/lib/gcc/i686-pc-linux-gnu/4.1.1/include
 /usr/include
End of search list.
GNU C++ version 4.1.1 (Gentoo 4.1.1) (i686-pc-linux-gnu)
        compiled by GNU C version 4.1.1 (Gentoo 4.1.1).
GGC heuristics: --param ggc-min-expand=100 --param ggc-min-heapsize=131072
Compiler executable checksum: cf532d040b2f5e1068d28e281a5ed4b7
 /usr/lib/gcc/i686-pc-linux-gnu/4.1.1/../../../../i686-pc-linux-gnu/bin/as -V -Qy -o /tmp/cccxmf42.o /tmp/ccMwLqsy.s
GNU assembler version 2.16.1 (i686-pc-linux-gnu) using BFD version 2.16.1
 /usr/libexec/gcc/i686-pc-linux-gnu/4.1.1/collect2 --eh-frame-hdr -m elf_i386 -dynamic-linker /lib/ld-linux.so.2 /usr/lib/gcc/i686-pc-linux-gnu/4.1.1/../../../crt1.o /usr/lib/gcc/i686-pc-linux-gnu/4.1.1/../../../crti.o /usr/lib/gcc/i686-pc-linux-gnu/4.1.1/crtbegin.o -L/usr/lib/gcc/i686-pc-linux-gnu/4.1.1 -L/usr/lib/gcc/i686-pc-linux-gnu/4.1.1 -L/usr/lib/gcc/i686-pc-linux-gnu/4.1.1/../../../../i686-pc-linux-gnu/lib -L/usr/lib/gcc/i686-pc-linux-gnu/4.1.1/../../.. /tmp/cccxmf42.o -lstdc++ -lm -lgcc_s -lgcc -lc -lgcc_s -lgcc /usr/lib/gcc/i686-pc-linux-gnu/4.1.1/crtend.o /usr/lib/gcc/i686-pc-linux-gnu/4.1.1/../../../crtn.o
/usr/lib/gcc/i686-pc-linux-gnu/4.1.1/libgcc_s.so: undefined reference to `init_dwarf_reg_size_table'
collect2: ld returned 1 exit status
aaron@escargot ~ $ g++ -WI test.cpp
cc1plus: error: unrecognized command line option "-WI"
aaron@escargot ~ $ g++ -W test.cpp
/usr/lib/gcc/i686-pc-linux-gnu/4.1.1/libgcc_s.so: undefined reference to `init_dwarf_reg_size_table'
collect2: ld returned 1 exit status
aaron@escargot ~ $ g++ -I test.cpp
i686-pc-linux-gnu-g++: no input files
aaron@escargot ~ $ g++ -Wl test.cpp
cc1plus: error: unrecognized command line option "-Wl"
aaron@escargot ~ $ g++ -Wl --verbose -v test.cpp
Using built-in specs.
Target: i686-pc-linux-gnu
Configured with: /mnt/sata2/portage_tempdir/portage/gcc-4.1.1/work/gcc-4.1.1/configure --prefix=/usr --bindir=/usr/i686-pc-linux-gnu/gcc-bin/4.1.1 --includedir=/usr/lib/gcc/i686-pc-linux-gnu/4.1.1/include --datadir=/usr/share/gcc-data/i686-pc-linux-gnu/4.1.1 --mandir=/usr/share/gcc-data/i686-pc-linux-gnu/4.1.1/man --infodir=/usr/share/gcc-data/i686-pc-linux-gnu/4.1.1/info --with-gxx-include-dir=/usr/lib/gcc/i686-pc-linux-gnu/4.1.1/include/g++-v4 --host=i686-pc-linux-gnu --build=i686-pc-linux-gnu --disable-altivec --enable-nls --without-included-gettext --with-system-zlib --disable-checking --disable-werror --disable-libunwind-exceptions --disable-multilib --disable-libmudflap --disable-libssp --disable-libgcj --enable-languages=c,c++,fortran --enable-shared --enable-threads=posix --enable-__cxa_atexit --enable-clocale=gnu
Thread model: posix
gcc version 4.1.1 (Gentoo 4.1.1)
 /usr/libexec/gcc/i686-pc-linux-gnu/4.1.1/cc1plus -quiet -v -v -D_GNU_SOURCE test.cpp -quiet -dumpbase test.cpp -mtune=pentiumpro -auxbase test -Wl -version -o /tmp/ccy0nt8v.s
cc1plus: error: unrecognized command line option "-Wl"
ignoring nonexistent directory "/usr/local/include"
ignoring nonexistent directory "/usr/lib/gcc/i686-pc-linux-gnu/4.1.1/../../../../i686-pc-linux-gnu/include"
#include "..." search starts here:
#include <...> search starts here:
 /usr/lib/gcc/i686-pc-linux-gnu/4.1.1/include/g++-v4
 /usr/lib/gcc/i686-pc-linux-gnu/4.1.1/include/g++-v4/i686-pc-linux-gnu
 /usr/lib/gcc/i686-pc-linux-gnu/4.1.1/include/g++-v4/backward
 /usr/lib/gcc/i686-pc-linux-gnu/4.1.1/include
 /usr/include
End of search list.
GNU C++ version 4.1.1 (Gentoo 4.1.1) (i686-pc-linux-gnu)
        compiled by GNU C version 4.1.1 (Gentoo 4.1.1).
GGC heuristics: --param ggc-min-expand=100 --param ggc-min-heapsize=131072




Comment 10


SpanKY






          2006-06-18 00:30:50 UTC
        

you didnt use the right options ... you need to run:
g++ -Wl,--verbose test.cpp

make sure you pipe it to a log file and post it as an *attachment*




Comment 11


Aaron Peterson





          2006-06-18 09:22:08 UTC
        

Created attachment 89480 [details]
g++ -Wl,--verbose test.cpp

aaron@escargot ~ $ g++ -Wl,--verbose test.cpp > gppnoc.log
/usr/lib/gcc/i686-pc-linux-gnu/4.1.1/libgcc_s.so: undefined reference to `init_dwarf_reg_size_table'
collect2: ld returned 1 exit status
aaron@escargot ~ $ vi gppnoc.log
Error detected while processing /etc/vim/vimrc:
line   87:
E484: Can't open file /usr/share/vim/syntax/syntax.vim
Hit ENTER or type command to continue
aaron@escargot ~ $




Comment 12


SpanKY






          2006-06-18 09:49:11 UTC
        

run this and post the output as an attachment:
readelf -s /usr/lib/gcc/i686-pc-linux-gnu/4.1.1/libgcc_s.so

then i suggest you re-emerge gcc




Comment 13


Aaron Peterson





          2006-06-19 00:00:42 UTC
        

Created attachment 89511 [details]
readelf-slibgcc_s.so.log

re emerging gcc... again




Comment 14


Aaron Peterson





          2006-06-19 18:45:46 UTC
        

it worked,  the version number of gcc did not change when I compiled it, however, there was the downloading of a patch.. and I hadn't delected my distfiles for a while, so I was surprized to see that the fie source changed.

It appears to work now!
ncurses compiled, and I think I've got xorg and kde compiling asway! 

thank you...

what was wrong?




Comment 15


SpanKY






          2006-06-19 22:27:36 UTC
        

*shrug* couldnt tell you without the build logs from previous runs




Comment 16


SpanKY






          2006-09-10 23:17:47 UTC
        

*** Bug 145878 has been marked as a duplicate of this bug. ***




Comment 17


Aaron Peterson





          2006-09-18 12:20:52 UTC
        

I traced it to my not rebuilding glibc, and having the mono useflag.

glibc was dependant on mono
mono was dependant on glibc

How this manifested itself was rediculous.

I could not get mono to compile for the life of me.
Other people didn't have the mono useflag, but a badglibc might cause the same problems









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

