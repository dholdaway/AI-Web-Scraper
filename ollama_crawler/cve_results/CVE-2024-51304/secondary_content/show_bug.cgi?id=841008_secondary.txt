Title: 841008 – app-misc/trash-cli-0.22.4.16 fails test - _ ERROR collecting tests/test_file_descriptions.py _
URL: https://bugs.gentoo.org/show_bug.cgi?id=841008

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 841008
app-misc/trash-cli-0.22.4.16 fails test - _ ERROR collecting tests/test_file_descriptions.py _
Last modified: 2022-07-21 17:43:28 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 841008 
      - app-misc/trash-cli-0.22.4.16 fails test - _ ERROR collecting tests/test_file_descriptions.py _


Summary:
app-misc/trash-cli-0.22.4.16 fails test - _ ERROR collecting tests/test_file_...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Zoltan Puskas








URL:







Whiteboard:




Keywords:

TESTFAILURE







Depends on:







Blocks:




859598



 

        Show dependency tree





 





      Reported:
    
2022-04-26 11:37 UTC by Toralf Förster





      Modified:
    
2022-07-21 17:43 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



proxy-maint









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge-info.txt

              (emerge-info.txt,17.06 KB,
                text/plain)

            
2022-04-26 11:37 UTC,

            Toralf Förster




Details





app-misc:trash-cli-0.22.4.16:20220426-095712.log

              (app-misc:trash-cli-0.22.4.16:20220426-095712.log,9.62 KB,
                text/plain)

            
2022-04-26 11:37 UTC,

            Toralf Förster




Details





emerge-history.txt

              (emerge-history.txt,246.80 KB,
                text/plain)

            
2022-04-26 11:37 UTC,

            Toralf Förster




Details





environment

              (environment,123.54 KB,
                text/plain)

            
2022-04-26 11:37 UTC,

            Toralf Förster




Details





etc.portage.tar.bz2

              (etc.portage.tar.bz2,42.47 KB,
                application/x-bzip)

            
2022-04-26 11:37 UTC,

            Toralf Förster




Details





temp.tar.bz2

              (temp.tar.bz2,29.54 KB,
                application/x-bzip)

            
2022-04-26 11:37 UTC,

            Toralf Förster




Details





tests.tar.bz2

              (tests.tar.bz2,20.17 KB,
                application/x-bzip)

            
2022-04-26 11:37 UTC,

            Toralf Förster




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Toralf Förster






          2022-04-26 11:37:29 UTC
        

asyncio: mode=auto
collecting ... collected 285 items / 1 error

==================================== ERRORS ====================================
_______________ ERROR collecting tests/test_file_descriptions.py _______________
/usr/lib/python3.9/site-packages/pytest_describe/plugin.py:84: in collect
    self.session._fixturemanager.parsefactories(self)

  -------------------------------------------------------------------

  This is an unstable amd64 chroot image at a tinderbox (==build bot)
  name: 17.1_hardened-j4_test-20220423-192942

  -------------------------------------------------------------------

gcc-config -l:
 [1] x86_64-pc-linux-gnu-9.3.1
 [2] x86_64-pc-linux-gnu-11.3.0 *
clang/llvm (if any):
Python 3.9.12
Available Ruby profiles:
  [1]   ruby26 (with Rubygems)
  [2]   ruby27 (with Rubygems)
  [3]   ruby31 (with Rubygems) *
Available Rust versions:
  [1]   rust-bin-1.60.0 *
The Glorious Glasgow Haskell Compilation System, version 8.10.4
php cli:

  HEAD of ::gentoo
commit 1fb73d4c65dc906369072cb9c898afefd5fa4d12
Author: Repository mirror & CI <repomirrorci@gentoo.org>
Date:   Tue Apr 26 09:03:16 2022 +0000

    2022-04-26 09:03:16 UTC

emerge -qpvO app-misc/trash-cli
[ebuild  N    ] app-misc/trash-cli-0.22.4.16  USE="test" PYTHON_TARGETS="python3_9 -python3_8 -python3_10"




Comment 1


Toralf Förster






          2022-04-26 11:37:31 UTC
        

Created attachment 774735 [details]
emerge-info.txt




Comment 2


Toralf Förster






          2022-04-26 11:37:32 UTC
        

Created attachment 774738 [details]
app-misc:trash-cli-0.22.4.16:20220426-095712.log




Comment 3


Toralf Förster






          2022-04-26 11:37:34 UTC
        

Created attachment 774741 [details]
emerge-history.txt




Comment 4


Toralf Förster






          2022-04-26 11:37:35 UTC
        

Created attachment 774744 [details]
environment




Comment 5


Toralf Förster






          2022-04-26 11:37:36 UTC
        

Created attachment 774747 [details]
etc.portage.tar.bz2




Comment 6


Toralf Förster






          2022-04-26 11:37:38 UTC
        

Created attachment 774750 [details]
temp.tar.bz2




Comment 7


Toralf Förster






          2022-04-26 11:37:39 UTC
        

Created attachment 774753 [details]
tests.tar.bz2




Comment 8


Zoltan Puskas





          2022-07-21 17:43:12 UTC
        

Running `USE="test" PYTHON_TARGETS="python3_9" ebuild trash-cli-0.22.4.16.ebuild clean test` does pass tests on my box. Same goes when running `python3.9 -m pytest .` on an extracted copy of the tarball. Not sure how to reproduce this.

Looking at the offending file per the logs (tests/test_file_descriptions.py) all the describe() calls have a path set. Please reopen if this happens, but currently this does not seem to be an issue.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

