Title: 288378 – after update to gnome-2.26 some audio programms don't work correct with media-sound/pulseaudio-0.9.15-r2
URL: https://bugs.gentoo.org/show_bug.cgi?id=288378

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 288378
after update to gnome-2.26 some audio programms don't work correct with media-sound/pulseaudio-0.9.15-r2
Last modified: 2010-01-04 17:25:46 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 288378 
      - after update to gnome-2.26 some audio programms don't work correct with media-sound/pulseaudio-0.9.15-r2


Summary:
after update to gnome-2.26 some audio programms don't work correct with media...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] GNOME

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux Gnome Desktop Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:




gnome2.26



 

        Show dependency tree





 





      Reported:
    
2009-10-10 06:29 UTC by Kai Wüstermann





      Modified:
    
2010-01-04 17:25 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



sound









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Kai Wüstermann





          2009-10-10 06:29:50 UTC
        

www-plugins/adobe-flash-10.0.32.18, media-video/totem-2.26.3-r1 don't appear in the list of programms in the gnome sound settings.

The sound of these programms is blocked when another programm that works in the right way plays sound. (vlc or audacious with pulse audio output plugin).

If I play sound with one of the wrong working programms first they block sound of pulseaudio.

Reproducible: Always

Steps to Reproduce:
adobe-flash blocks pulseadio
1. Play a youtube video in firefox
2. Start a programm wihich appears in the gnome sound settings
3. This programm plays no sound or is blocked

pulseaudio blocks adobe-flash
1. Start a programm that appear in the gnome sound settings
2. Start firefox and a youtube video
3. the video will not play sound
4. stopping firefox, it may freeze after closing window




emerge --info pulseaudio
Portage 2.1.6.13 (default/linux/amd64/10.0/desktop, gcc-4.3.2, glibc-2.9_p20081201-r2, 2.6.30-gentoo-r5 x86_64)
=================================================================
                        System Settings
=================================================================
System uname: Linux-2.6.30-gentoo-r5-x86_64-Intel-R-_Core-TM-2_Quad_CPU_Q8200_@_2.33GHz-with-gentoo-1.12.11.1
Timestamp of tree: Fri, 09 Oct 2009 16:45:02 +0000
ccache version 2.4 [enabled]
app-shells/bash:     4.0_p28
dev-java/java-config: 2.1.8-r1
dev-lang/python:     2.6.2-r1
dev-util/ccache:     2.4-r7
dev-util/cmake:      2.6.4
sys-apps/baselayout: 1.12.11.1
sys-apps/sandbox:    1.6-r2
sys-devel/autoconf:  2.13, 2.63-r1
sys-devel/automake:  1.9.6-r2, 1.10.2
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   2.2.6a
virtual/os-headers:  2.6.27-r2
ACCEPT_KEYWORDS="amd64"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=nocona -O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/lib/latex2html /usr/share/texmf-site/tex/latex/html /var/lib/hsqldb"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-march=nocona -O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="ccache distlocks fixpackages parallel-fetch protect-owned sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="ftp://ftp.wh2.tu-dresden.de/pub/mirrors/gentoo/ ftp://de-mirror.org/distro/gentoo/"
LANG="de_DE.UTF-8"
LC_ALL="de_DE.UTF-8"
LDFLAGS="-Wl,-O1"
LINGUAS="de en"
MAKEOPTS="-j5"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="X a52 aac acl acpi alsa amd64 berkdb branding bzip2 cairo cdda cdr cli consolekit cracklib crypt cups cupsddk dbus dri dts dvd dvdr dvi eds emboss encode evo exif fam ffmpeg firefox flac fortran gdbm gif gimp gnome gpm gstreamer gtk hal iconv ipv6 isdnlog java jpeg latex libnotify lm_sensors lyx mad midi mikmod mmx modules mono mp3 mp4 mpeg mudflap multilib nautilus ncurses nls nptl nptlonly nvidia ogg opengl openmp pam pcre pdf perl png ppds pppd pulseaudio python qt3support quicktime readline reflection scanner sdl session spell spl sse sse2 ssl startup-notification svg symlink sysfs tcpd theora thunar tiff truetype unicode usb vorbis wmf x264 xinerama xml xorg xulrunner xv xvid xvmc zlib" ALSA_CARDS="hda-intel" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="de en" USERLAND="GNU" VIDEO_CARDS="nvidia"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS

=================================================================
                        Package Settings
=================================================================

media-sound/pulseaudio-0.9.15-r2 was built with the following:
USE="X alsa asyncns caps dbus glib gnome hal (multilib) tcpd -avahi -bluetooth -jack -libsamplerate -lirc -oss -test"
CFLAGS="-march=nocona -O2 -pipe -UNDEBUG"
CXXFLAGS="-march=nocona -O2 -pipe -UNDEBUG"
LDFLAGS="-Wl,-O1 -Wl,--no-as-needed"




Comment 1


Kai Wüstermann





          2009-10-12 09:48:54 UTC
        

If you switch all audio programms to alsa output then you don't have that problem. 

I don't think, this is the right behavior.




Comment 2


Nirbheek Chauhan (RETIRED)






          2009-10-12 10:02:26 UTC
        

Hum. I think we need a newer libcanberra stable. Could you try to upgrade it to 0.17 (latest ~arch) ?




Comment 3


Kai Wüstermann





          2009-10-12 13:07:49 UTC
        

(In reply to comment #2)
> Hum. I think we need a newer libcanberra stable. Could you try to upgrade it to
> 0.17 (latest ~arch) ?

I just tried 0.17. That doesn't change anything. 

BTW: libcanberra-0.11 doesn't have a pulseaudio use flag.





Comment 4


Gilles Dartiguelongue (RETIRED)






          2009-10-30 00:48:57 UTC
        

adding sound to CC since I've got basically no clue with PA




Comment 5


David Abbott (RETIRED)






          2009-10-30 01:43:25 UTC
        

Does your ~/.asoundrc look like;

cat ~/.asoundrc
pcm.!default {
    type pulse
}

ctl.!default {
    type pulse
}





Comment 6


Kai Wüstermann





          2009-10-30 13:10:53 UTC
        

(In reply to comment #5)
> Does your ~/.asoundrc look like;
> 
> cat ~/.asoundrc
> pcm.!default {
>     type pulse
> }
> 
> ctl.!default {
>     type pulse
> }
> 

This works for me, but i had to emerge media-plugins/alsa-plugins with useflag pulseaudio manually.

Should we put media-plugins/alsa-plugins into the dependencies of gnome-base/gnome-2.26xx or media-sound/pulseaudio?






Comment 7


Kai Wüstermann





          2009-10-30 16:00:47 UTC
        

I tried to create a /etc/asound.conf for system wide configuration. This does not work. 

You would not have sound until you locked on gnome, because pulseaudio don't work until gnome is started.




Comment 8


Nirbheek Chauhan (RETIRED)






          2009-12-30 00:31:34 UTC
        

Is this still an issue with newer pulseaudio and/or gnome-2.28?




Comment 9


Kai Wüstermann





          2009-12-30 08:53:40 UTC
        

(In reply to comment #8)
> Is this still an issue with newer pulseaudio and/or gnome-2.28?
> 

I can't test that. I switched back to alsa and uninstalled pulseaudio.





Comment 10


Nirbheek Chauhan (RETIRED)






          2010-01-04 17:25:21 UTC
        

(In reply to comment #9)
> I can't test that. I switched back to alsa and uninstalled pulseaudio.
> 

Alright, feel free to reopen if you decide to install pulseaudio again and have problems. Thanks.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

