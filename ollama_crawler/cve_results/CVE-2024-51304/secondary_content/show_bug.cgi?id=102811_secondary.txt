Title: 102811 – Wrong explanation for routers_eth0
URL: https://bugs.gentoo.org/show_bug.cgi?id=102811

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 102811
Wrong explanation for routers_eth0
Last modified: 2005-11-25 07:03:42 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 102811 
      - Wrong explanation for routers_eth0


Summary:
Wrong explanation for routers_eth0
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

[OLD] Docs-user




Classification:

Unclassified




Component:

Gentoo Linux x86 Installation Guide

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       major
    (vote)
  



Assignee:

Docs Team








URL:



http://www.gentoo.org/doc/en/handbook...
        




Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-08-17 04:01 UTC by Michal Margula





      Modified:
    
2005-11-25 07:03 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



uberlord









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Michal Margula





          2005-08-17 04:01:19 UTC
        

There is:

Code Listing 13: Manually setting IP information for eth0

config_eth0=( "192.168.0.2 netmask 255.255.255.0" )
routes_eth0=( "default gw 192.168.0.1" )

There should be:

Code Listing 13: Manually setting IP information for eth0

config_eth0=( "192.168.0.2 netmask 255.255.255.0" )
routes_eth0=( "default via 192.168.0.1" )


Reproducible: Always
Steps to Reproduce:




Comment 1


SpanKY






          2005-08-17 06:06:56 UTC
        

example looks fine to me




Comment 2


Roy Marples (RETIRED)






          2005-08-17 06:16:37 UTC
        

gw - is used by the route command from net-tools
via - is used by the ip route command from iproute2

Both should work equally well with baselayout-1.11.13 and better.

baselayout-1.11 and earlier prefer net-tools
baselayout-1.12 prefers iproute2




Comment 3


Michal Margula





          2005-08-17 08:38:01 UTC
        

But it didn't work. I was setting up Gentoo box remotely. It failed while
initialising network. I had to send there a guy, who changed it from gw to via
and  then everything worked fine.

sys-apps/baselayout-1.11.13
sys-apps/iproute2-2.6.11.20050310-r1
sys-apps/net-tools-1.60-r11




Comment 4


Roy Marples (RETIRED)






          2005-08-17 09:21:29 UTC
        

Attach the non working /etc/conf.d/net please - there must be something else
that's wrong




Comment 5


Michal Margula





          2005-08-17 10:36:32 UTC
        

Not working net.eth0:

config_eth0=( "80.55.147.109 netmask 255.255.255.248" )
routes_eth0=( "default gw 80.55.147.105" )

Working one:

config_eth0=( "80.55.147.109/29" )
routes_eth0=( "default via 80.55.147.105" )

So two things has changed, but it only worked after changing routes_eth0





Comment 6


Shyam Mani (RETIRED)






          2005-09-09 03:36:11 UTC
        

Mike, Roy? Any pointers on this?




Comment 7


Roy Marples (RETIRED)






          2005-09-11 23:48:11 UTC
        

All of his examples given correctly setup the interface.

Personally, I have no issue with the example being changed, but if it is changed
then please use iproute2 format instead of ifconfig, fex

config_eth0=( "192.168.0.2/24" )
routes_eth0=( "default via 192.168.0.1" )




Comment 8


Shyam Mani (RETIRED)






          2005-09-22 22:16:50 UTC
        

(In reply to comment #7)

> Personally, I have no issue with the example being changed, but if it is changed
> then please use iproute2 format instead of ifconfig, fex

We wouldn't want to change the example *unless* the current one fails or doesn't
work at all. Atleast that's what I feel about it. If this can't be reproduced or
is a one off case, is a change warranted?






Comment 9


Sven Vermeulen (RETIRED)






          2005-10-06 03:21:32 UTC
        

updating the example to be 'future-proof' isn't useless, but should only happen 
is the proposed change works for all architectures, all users. Think about 
networkless installs as well, btw.

Are net-tools and iproute2 always available?




Comment 10


Roy Marples (RETIRED)






          2005-10-06 03:30:38 UTC
        

The current example works just fine with current and future baselayouts,
regardless of using iproute2 or net-tools. baselayout transparently maps
settings so that net-tools variant works on iprout2 and vice versa.

net-tools is part of the system profile
iproute2 is not, but should be a 100% drop in replacement for most users right now




Comment 11


SpanKY






          2005-10-06 06:23:56 UTC
        

yes, net-tools/iproute2 are available on all arches




Comment 12


Xavier Neys (RETIRED)






          2005-11-25 07:03:42 UTC
        

(In reply to comment #10)
> The current example works just fine with current and future baselayouts,
Indeed.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

