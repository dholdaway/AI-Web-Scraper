Title: 325087 – x11-libs/libX11-1.3.4 build failed.
URL: https://bugs.gentoo.org/show_bug.cgi?id=325087

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 325087
x11-libs/libX11-1.3.4 build failed.
Last modified: 2011-12-15 19:18:34 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 325087 
      - x11-libs/libX11-1.3.4 build failed.


Summary:
x11-libs/libX11-1.3.4 build failed.
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo/Alt




Classification:

Unclassified




Component:

Prefix Support

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Prefix








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2010-06-22 16:46 UTC by Eric Meddaugh





      Modified:
    
2011-12-15 19:18 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build.log

              (build.log,24.78 KB,
                text/plain)

            
2010-06-29 12:49 UTC,

            Eric Meddaugh




Details





build.log

              (build.log,23.35 KB,
                text/plain)

            
2010-08-31 00:09 UTC,

            mike




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Eric Meddaugh





          2010-06-22 16:46:38 UTC
        

Not sure what the problem exactly is:

make[3]: Leaving directory `/sys_tools/var/tmp/portage/x11-libs/libX11-1.3.4/work/libX11-1.3.4/src/xkb'
make[3]: Entering directory `/sys_tools/var/tmp/portage/x11-libs/libX11-1.3.4/work/libX11-1.3.4/src'
  CC     AllCells.lo
  CC     AllowEv.lo
  CC     AllPlanes.lo
  CC     AutoRep.lo
  CC     Backgnd.lo
  CC     BdrWidth.lo
  CC     Bell.lo
  CC     Border.lo
  CC     ChAccCon.lo
  CC     ChActPGb.lo
  CC     ChClMode.lo
  CC     ChCmap.lo
  CC     ChGC.lo
  CC     ChKeyCon.lo
  CC     ChkIfEv.lo
  CC     ChkMaskEv.lo
ChkMaskEv.c: In function 'XCheckMaskEvent':
ChkMaskEv.c:64: error: 'GenericEvent' undeclared (first use in this function)
ChkMaskEv.c:64: error: (Each undeclared identifier is reported only once
ChkMaskEv.c:64: error: for each function it appears in.)
make[3]: *** [ChkMaskEv.lo] Error 1
make[3]: Leaving directory `/sys_tools/var/tmp/portage/x11-libs/libX11-1.3.4/work/libX11-1.3.4/src'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/sys_tools/var/tmp/portage/x11-libs/libX11-1.3.4/work/libX11-1.3.4/src'
make[1]: *** [all] Error 2
make[1]: Leaving directory `/sys_tools/var/tmp/portage/x11-libs/libX11-1.3.4/work/libX11-1.3.4/src'
make: *** [all-recursive] Error 1
 * ERROR: x11-libs/libX11-1.3.4 failed:
 *   died running emake, base_src_make
 * 
 * Call stack:
 *     ebuild.sh, line   54:  Called call-ebuildshell 'src_compile'
 *   environment, line  697:  Called src_compile
 *   environment, line 3421:  Called xorg-2_src_compile
 *   environment, line 4288:  Called base_src_compile
 *   environment, line  528:  Called base_src_make
 *   environment, line  566:  Called die
 * The specific snippet of code:
 *           emake "$@" || die "died running emake, $FUNCNAME";




Comment 1


Florian CROUZAT (SuperFlo)





          2010-06-22 21:37:17 UTC
        

You should probably give some informations about your arch.
I tried to update my libX11 from 1.3.3 to 1.3.4 to reproduce your bug, but I didn't, the compilation worked, but I failed on another one (see bug 325119).




Comment 2


Jeremy Olexa (darkside) (RETIRED)








          2010-06-28 20:45:25 UTC
        

works for me too. Please reopen and attach your build.log (and emerge --info) if you are still haveing troubles




Comment 3


Eric Meddaugh





          2010-06-29 12:49:01 UTC
        

Sorry about not attaching the correct files, I normally do that, here's the emerge --info (Also, this fails on both Cent OS 32 and 64 bits):

# emerge --info
Portage 2.2.00.15842-prefix (prefix/linux/amd64, gcc-4.4.3, unavailable, 2.6.18-194.3.1.el5 x86_64)
=================================================================
System uname: Linux-2.6.18-194.3.1.el5-x86_64-Intel-R-_Xeon-R-_CPU_E5530_@_2.40GHz-with-redhat-5.5-Final
Timestamp of tree: Tue, 22 Jun 2010 13:39:02 +0000
app-shells/bash:     4.0_p38
dev-java/java-config: 2.1.11
dev-lang/python:     2.6.5-r2
dev-util/cmake:      2.8.1-r2
sys-devel/autoconf:  2.65
sys-devel/automake:  1.9.6-r2, 1.10.3, 1.11.1
sys-devel/binutils:  2.20.51.0.8
sys-devel/gcc:       4.2.4-r01.2, 4.4.3-r2
sys-devel/gcc-config: 1.4.1-r00.2
sys-devel/libtool:   2.2.6b
virtual/os-headers:  2.6.33
ACCEPT_KEYWORDS="~amd64-linux"
ACCEPT_LICENSE="* -@EULA"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -pipe -fgnu89-inline"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /var/lib/hsqldb"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/terminfo"
CPPFLAGS="-I/sys_tools/usr/include"
CXXFLAGS="-O2 -pipe -fgnu89-inline"
DISTDIR="/sys_tools/usr/portage/distfiles"
FEATURES="assume-digests collision-protect distlocks fixpackages news parallel-fetch preserve-libs protect-owned sfperms strict unmerge-logs unmerge-orphans userfetch"
GENTOO_MIRRORS="http://distfiles.gentoo.org"
LANG="en_US.UTF-8"
LDFLAGS="-L/sys_tools/usr/lib -R/sys_tools/usr/lib -L/sys_tools/lib -R/sys_tools/lib"
PKGDIR="/sys_tools/usr/portage/packages"
PORTAGE_CONFIGROOT="/sys_tools/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/sys_tools/var/tmp"
PORTDIR="/sys_tools/usr/portage"
PORTDIR_OVERLAY="/sys_tools/usr/local/portage"
SYNC="rsync://rsync.prefix.freens.org/gentoo-portage-prefix"
USE="amd64 berkdb bzip2 cli cracklib crypt cxx dri fortran gdbm iconv ipv6 kerberos mmx modules mudflap ncurses nptl nptlonly openmp pcre perl pppd prefix python readline reflection session spl sse sse2 ssl sysfs tcpd unicode xorg zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias proxy proxy_ajp proxy_balancer proxy_connect proxy_ftp proxy_http auth_digest" ELIBC="glibc" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" RUBY_TARGETS="ruby18" USERLAND="GNU" VIDEO_CARDS="fbdev glint intel mach64 mga neomagic nv r128 radeon savage sis tdfx trident vesa via vmware voodoo" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account" 
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LC_ALL, LINGUAS, MAKEOPTS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS





Comment 4


Eric Meddaugh





          2010-06-29 12:49:34 UTC
        

Created attachment 236905 [details]
build.log




Comment 5


Eric Meddaugh





          2010-06-29 12:50:03 UTC
        

Attached build.log now too.




Comment 6


Alexander M. Poznyak





          2010-08-22 12:35:45 UTC
        

I solved this problem by adding a new environment variable 
GS_FONTPATH=/usr/share/libwmf/fonts

I have next files in this directory:

fontmap       n019004l.afm  n019023l.pfb  n021003l.afm  n021004l.pfb  n021024l.afm  n022003l.pfb  n022023l.afm  n022024l.pfb
n019003l.afm  n019004l.pfb  n019024l.afm  n021003l.pfb  n021023l.afm  n021024l.pfb  n022004l.afm  n022023l.pfb  s050000l.afm
n019003l.pfb  n019023l.afm  n019024l.pfb  n021004l.afm  n021023l.pfb  n022003l.afm  n022004l.pfb  n022024l.afm  s050000l.pfb





Comment 7


mike





          2010-08-31 00:09:43 UTC
        

Created attachment 245419 [details]
build.log

Portage 2.1.8.3 (default/linux/x86/10.0, gcc-4.3.2, glibc-2.11.2-r0, 2.6.35-g
oo-r4 i686)
=================================================================
System uname: Linux-2.6.35-gentoo-r4-i686-Intel-R-_Pentium-R-_Dual_CPU_E2200_
.20GHz-with-gentoo-1.12.13
Timestamp of tree: Mon, 30 Aug 2010 23:15:01 +0000
app-shells/bash:     3.2_p39
dev-java/java-config: 2.1.9-r1
dev-lang/python:     2.6.2-r1
dev-util/cmake:      2.6.4-r3
sys-apps/baselayout: 1.12.13
sys-apps/sandbox:    1.6-r2
sys-devel/autoconf:  2.13, 2.65
sys-devel/automake:  1.4_p6-r1, 1.8.5-r3, 1.9.6-r2, 1.10.2, 1.11.1
sys-devel/binutils:  2.20.1-r1
sys-devel/gcc:       4.3.2-r3
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   2.2.6b
sys-devel/make:      3.81
virtual/os-headers:  2.6.30-r1
ACCEPT_KEYWORDS="x86"
ACCEPT_LICENSE="*"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=i686 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /var/lib/hsqldb"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /e
fonts/fonts.conf /etc/gconf /etc/php/apache2-php5/ext-active/ /etc/php/cgi-ph
ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/sandbox.d 
c/terminfo /etc/udev/rules.d"
CXXFLAGS="-O2 -march=i686 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="assume-digests distlocks fixpackages news parallel-fetch protect-ow
 sandbox sfperms strict unmerge-logs unmerge-orphans userfetch"
GENTOO_MIRRORS="ftp://gentoo.netnitco.net/pub/mirrors/gentoo/source/"
LDFLAGS="-Wl,-O1 -Wl,--as-needed"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compre
--force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --ex
de=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.namerica.gentoo.org/gentoo-portage"
USE="X aac aalib acl alsa apache2 berkdb branding bzip2 cairo cdda cdr cli cr
lib crypt css ctype cups cxx dbus dga dri dvd dvdr encode esd exif ffmpeg fir
x flac fortran ftp gd gdbm geoip gif gphoto2 gpm gtk gzip hal iconv imap ipv6
va6 javascript joystick jpeg lame libapi libwwww mad maildir modules mozilla 
 mp4 mpeg mplayer mudflap mysql mysqli ncurses nero nls nptl nptlonly opengl 
nmp pam pcre pdf perl php png pppd python readline reflection sasl sdl sessio
pl ssl svg sysfs tcpd theora threads tiff tk truetype unicode usb vhosts win3
decs x86 xfe xfmedia xine xml xorg xv xvmc xvmca52 zlib" ALSA_CARDS="ali5451 
4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1 emu10k1x ens1370 ens1371
1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via
x via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare ds
p empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul
law multi null plug rate route share shm softvol" APACHE2_MODULES="actions al
 auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_d
authz_default authz_groupfile authz_host authz_owner authz_user autoindex cac
cgi cgid dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter fi
cache filter headers include info log_config logio mem_cache mime mime_magic 
otiation rewrite setenvif speling status unique_id userdir usertrack vhost_al
" ELIBC="glibc" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVIC
"bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" RUBY_
GETS="ruby18" USERLAND="GNU" VIDEO_CARDS="nvidia" XTABLES_ADDONS="quota2 psd 
ock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tar
 sysrq steal rawnat logmark ipmark dhcpmac delude chaos account" 
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LANG, L
LL, LINGUAS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OP




Comment 8


Eric Meddaugh





          2010-10-27 17:56:45 UTC
        

Tried this again now, after a updating some tools, including a new gcc (4.4.5) and it appears to build without any problems now, nothing else that I am aware of has changed, so perhaps some dependency was updated.




Comment 9


Fabian Groffen






          2011-12-15 19:18:34 UTC
        

ok, closing









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

