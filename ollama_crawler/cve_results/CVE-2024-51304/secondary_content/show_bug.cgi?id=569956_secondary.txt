Title: 569956 – python3.5 reports weird SOABI
URL: https://bugs.gentoo.org/show_bug.cgi?id=569956

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 569956
python3.5 reports weird SOABI
Last modified: 2015-12-28 16:15:22 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 569956 
      - python3.5 reports weird SOABI


Summary:
python3.5 reports weird SOABI
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Python Gentoo Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2015-12-28 09:22 UTC by Justin Lecher (RETIRED)





      Modified:
    
2015-12-28 16:15 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Justin Lecher (RETIRED)






          2015-12-28 09:22:56 UTC
        

Is the following expected?

$ for impl in python{2.7,3.{3,4,5}}; do ${impl} -c "import sysconfig; print(sysconfig.get_config_var('SOABI'))"; done
None
cpython-33m
cpython-34m
cpython-35m-x86_64-linux-gnu




Comment 1


Michał Górny









          2015-12-28 13:55:56 UTC
        

Yes.




Comment 2


Michał Górny









          2015-12-28 13:56:27 UTC
        

See how extensions are named.




Comment 3


Mike Gilbert






          2015-12-28 16:15:22 UTC
        

The change to the extension module file names is described here.

https://docs.python.org/3/whatsnew/3.5.html#build-and-c-api-changes

From configure.ac:

SOABI='cpython-'`echo $VERSION | tr -d .`${ABIFLAGS}${PLATFORM_TRIPLET:+-$PLATFORM_TRIPLET}

PLATFORM_TRIPLET is set based on cpp test.

> ...
> # if defined(__x86_64__) && defined(__LP64__)
>         x86_64-linux-gnu
> # elif defined(__x86_64__) && defined(__ILP32__)
>         x86_64-linux-gnux32
> # elif defined(__i386__)
>         i386-linux-gnu
> ...









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

