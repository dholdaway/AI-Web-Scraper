Title: 333899 – app-shells/bash-completion-1.2 no completion for kill and killall (worked on 1.1-r5)
URL: https://bugs.gentoo.org/show_bug.cgi?id=333899

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 333899
app-shells/bash-completion-1.2 no completion for kill and killall (worked on 1.1-r5)
Last modified: 2010-10-04 12:55:47 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 333899 
      - app-shells/bash-completion-1.2 no completion for kill and killall (worked on 1.1-r5)


Summary:
app-shells/bash-completion-1.2 no completion for kill and killall (worked on ...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Shell Tools project








URL:







Whiteboard:




Keywords:









Duplicates (1):
    

339391

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2010-08-22 04:37 UTC by Stuart W. Finlayson





      Modified:
    
2010-10-04 12:55 UTC
      (History)
    




          CC List:
        

3 
          users
          
            (show)
          



lubos.katrinec
pacho
xmw









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Stuart W. Finlayson





          2010-08-22 04:37:00 UTC
        

For some reason app-shells/bash-completion-1.2 does not complete for kill and killall.


Here's my emerge --info:
Portage 2.1.8.3 (default/linux/amd64/10.0, gcc-4.4.3, glibc-2.11.2-r0, 2.6.34-gentoo-r1 x86_64)
=================================================================
System uname: Linux-2.6.34-gentoo-r1-x86_64-Intel-R-_Core-TM-2_CPU_6700_@_2.66GHz-with-gentoo-1.12.13
Timestamp of tree: Sun, 22 Aug 2010 01:15:01 +0000
app-shells/bash:     4.0_p37
dev-java/java-config: 2.1.11
dev-lang/python:     2.6.5-r3, 3.1.2-r4
dev-util/cmake:      2.8.1-r2
sys-apps/baselayout: 1.12.13
sys-apps/sandbox:    1.6-r2
sys-devel/autoconf:  2.65
sys-devel/automake:  1.8.5-r3, 1.9.6-r2, 1.10.3, 1.11.1
sys-devel/binutils:  2.20.1-r1
sys-devel/gcc:       4.4.3-r2
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   2.2.6b
sys-devel/make:      3.81-r2
virtual/os-headers:  2.6.30-r1
ACCEPT_KEYWORDS="amd64"
ACCEPT_LICENSE="* -@EULA"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=core2 -O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/X11/xkb /usr/share/config /var/bind"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo"
CXXFLAGS="-march=core2 -O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="assume-digests distlocks fixpackages news parallel-fetch protect-owned sandbox sfperms strict unmerge-logs unmerge-orphans userfetch"
GENTOO_MIRRORS="http://gentoo.osuosl.org/ http://distro.ibiblio.org/pub/linux/distributions/gentoo/ http://gentoo.netnitco.net"
LDFLAGS="-Wl,-O1 -Wl,--as-needed"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_EXTRA_OPTS="--exclude-from=/etc/portage/rsync_excludes"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.namerica.gentoo.org/gentoo-portage"
USE="X a52 aac alsa amd64 amr bash-completion berkdb bzip2 cairo cli corefonts cracklib crypt cups curl cxx dbus dri dvd encode fam ffmpeg flac fortran gdbm gif gpm iconv ieee1394 imlib ipv6 jpeg kde kipi lame mad matroska mmx mmxext mng modules mp3 mudflap multilib ncurses nls nptl nptlonly ogg opengl openmp pam pcap pcre perl png ppds pppd python qt3support qt4 readline reflection rtc sdl semantic-desktop session smi smp spell spl srt sse sse2 sse3 ssl ssse3 symlink sysfs tcpd threads truetype unicode usb vim-with-x vorbis x264 xcomposite xmp xorg xv xvid zlib" ALSA_CARDS="hda-intel" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cgi cgid dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="evdev keyboard mouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" RUBY_TARGETS="ruby18" USERLAND="GNU" VIDEO_CARDS="dummy fbdev nvidia vesa vga" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account" 
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LANG, LC_ALL, LINGUAS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTDIR_OVERLAY




Comment 1


Michael Weber (RETIRED)






          2010-08-24 22:02:03 UTC
        

Did this ever work on any version/distribution?




Comment 2


Stuart W. Finlayson





          2010-08-25 05:36:32 UTC
        

It worked with app-shells/bash-completion-1.1-r5 fine.




Comment 3


Pacho Ramos






          2010-09-07 13:29:25 UTC
        

I also suffer this one, if I run:

# eselect bashcomp enable procps --global

as root, it works for root, but still fails for the rest of users




Comment 4


Jeremy Olexa (darkside) (RETIRED)








          2010-09-07 16:22:55 UTC
        

The expected behavior is to complete the PID, right?




Comment 5


Jeremy Olexa (darkside) (RETIRED)








          2010-09-07 16:29:20 UTC
        

(In reply to comment #4)
> The expected behavior is to complete the PID, right?

kill(1) completion is in util-linux.
killall(1) completion is in procps.

%% cd /usr/share/bash-completion/
%% grep kill.*\( *
dsniff:_tcpkill()
procps:# killall(1) (Linux and FreeBSD) and pkill(1) completion.
procps:_killall()
rfkill:_rfkill()
util-linux:# kill(1) completion
util-linux:_kill()

(In reply to comment #3)

> # eselect bashcomp enable procps --global
> 
> as root, it works for root, but still fails for the rest of users

User error:  # eselect bashcomp enable --global procps <- proper syntax




Comment 6


Pacho Ramos






          2010-09-07 18:05:35 UTC
        

(In reply to comment #5)
> (In reply to comment #3)
> 
> > # eselect bashcomp enable procps --global
> > 
> > as root, it works for root, but still fails for the rest of users
> 
> User error:  # eselect bashcomp enable --global procps <- proper syntax
> 

I don't think "eselect bashcomp --help" output is ok then:
# eselect bashcomp --help
Manage contributed bash-completion scripts
Usage: eselect bashcomp <action> <options>
...

Then, I thought "--global" option should be put after "action", I didn't even get any error when running it :-/





Comment 7


Jeremy Olexa (darkside) (RETIRED)








          2010-10-04 12:55:47 UTC
        

*** Bug 339391 has been marked as a duplicate of this bug. ***









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

