Title: 191007 – net-im/pidgin "unexpected async reply" crash
URL: https://bugs.gentoo.org/show_bug.cgi?id=191007

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 191007
net-im/pidgin "unexpected async reply" crash
Last modified: 2007-09-05 20:08:34 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 191007 
      - net-im/pidgin "unexpected async reply" crash


Summary:
net-im/pidgin "unexpected async reply" crash
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       critical
      


Assignee:

Gentoo Net-im project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-09-01 21:13 UTC by Mathieu Goutfreind





      Modified:
    
2007-09-05 20:08 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Mathieu Goutfreind





          2007-09-01 21:13:16 UTC
        

Pidgin crashes after telling "unexpected async reply" and then it makes an error everytime I launch it.
I'm unable to use it.

Reproducible: Always

Steps to Reproduce:
1.Start the program
2.Talk to someone
3.It will crash after few seconds



Expected Results:  
It should work instead crashing and I should see the message my friend send to me.

Portage 2.1.2.12 (default-linux/x86/2006.1, gcc-4.1.2, glibc-2.5-r4, 2.6.22-gentoo-r5 i686)
=================================================================
System uname: 2.6.22-gentoo-r5 i686 Mobile Intel(R) Pentium(R) III CPU - M 1200MHz
Gentoo Base System release 1.12.9
Timestamp of tree: Sat, 01 Sep 2007 15:30:10 +0000
app-shells/bash:     3.2_p17
dev-java/java-config: 1.3.7, 2.0.33-r1
dev-lang/python:     2.4.4-r4
dev-python/pycrypto: 2.0.1-r5
sys-apps/baselayout: 1.12.9-r2
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.61-r1
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.17
sys-devel/gcc-config: 1.3.16
sys-devel/libtool:   1.5.24
virtual/os-headers:  2.6.21
ACCEPT_KEYWORDS="x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium3 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/revdep-rebuild /etc/terminfo"
CXXFLAGS="-O2 -march=pentium3 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LANG="fr_FR@euro"
LC_ALL="fr_FR@euro"
LINGUAS="fr fr_FR"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X a52 aac acpi alsa apache2 apm avahi berkdb bitmap-fonts bzip2 cairo cli cracklib crypt cups curl dbus dia dri dts dv dvb dvd dvdnav dvdread encode esd fat ffmpeg flac fortran gamin gdbm gif gimpprint glib gnome gnutls gpm gtk hal iconv ieee1394 irda isdnlog java jpeg jpeg2k ldap libnotify live mad midi mmx mmxext mp2 mp3 mpeg msn mudflap mysql nagios-dns nagios-ntp nagios-ping nagios-ssh ncurses nls no-seamonkey nptl nptlonly nptonly nsplugin ntfs ogg openmp pam pcre perl png ppds pppd python readline reflection reiser4 reiserfs samba session snmp spell spl srt sse ssl svg symlink tcpd tiff truetype truetype-fonts type1-fonts unicode usb userlocales v4l v4l2 vorbis wma wmf x264 x86 xml xorg xosd xvid zlib" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" ELIBC="glibc" INPUT_DEVICES="keyboard mouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="fr fr_FR" USERLAND="GNU" VIDEO_CARDS="i810"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LDFLAGS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS


The complete error :

The program 'pidgin' received an X Window System error.
This probably reflects a bug in the program.
The error was 'BadIDChoice (invalid resource ID chosen for this connection)'.
  (Details: serial 853 error_code 14 request_code 1 minor_code 0)
  (Note to programmers: normally, X errors are reported asynchronously;
   that is, you will receive the error a while after causing it.
   To debug your program, run it with the --sync command line
   option to change this behavior. You can then get a meaningful
   backtrace from your debugger if you break on the gdk_x_error() function.)
localhost pidgin-blinklight-0.8 # Xlib: unexpected async reply (sequence 0x35a)!
Xlib: sequence lost (0x1130e > 0x130e) in reply type 0x0!
Xlib: unexpected async reply (sequence 0x1316)!
Xlib: unexpected async reply (sequence 0x1318)!
Xlib: unexpected async reply (sequence 0x2a28)!
Xlib: unexpected async reply (sequence 0x2a2b)!
Xlib: unexpected async reply (sequence 0x4131)!
Xlib: unexpected async reply (sequence 0x4134)!
Xlib: unexpected async reply (sequence 0x49d7)!
Xlib: unexpected async reply (sequence 0x49da)!
Xlib: unexpected async reply (sequence 0x65fa)!
Xlib: sequence lost (0x16b98 > 0x6b98) in reply type 0x0!
Xlib: unexpected async reply (sequence 0x6ba0)!
Xlib: unexpected async reply (sequence 0xf893)!
Xlib: unexpected async reply (sequence 0xffe7)!
Xlib: sequence lost (0x1001b > 0x10013) in reply type 0x8!
Xlib: unexpected async reply (sequence 0x4996)!
Xlib: unexpected async reply (sequence 0x501d)!
Xlib: unexpected async reply (sequence 0x6836)!
      
localhost pidgin-blinklight-0.8 # pidgin
The program 'pidgin' received an X Window System error.
This probably reflects a bug in the program.
The error was 'BadIDChoice (invalid resource ID chosen for this connection)'.
  (Details: serial 285 error_code 14 request_code 1 minor_code 0)
  (Note to programmers: normally, X errors are reported asynchronously;
   that is, you will receive the error a while after causing it.
   To debug your program, run it with the --sync command line
   option to change this behavior. You can then get a meaningful
   backtrace from your debugger if you break on the gdk_x_error() function.)




Comment 1


Mathieu Goutfreind





          2007-09-01 21:15:23 UTC
        

It appends surely during a conversation on my laptop.




Comment 2


Olivier Crete (RETIRED)






          2007-09-02 02:20:06 UTC
        

this is really strange, did you do anything special with X or xcb on your system?




Comment 3


Mathieu Goutfreind





          2007-09-02 14:08:28 UTC
        

No I'haven't done anything else than trying to speak with Pidgin




Comment 4


Mathieu Goutfreind





          2007-09-02 18:46:42 UTC
        

Here is the output when the program is compiled with USE="debug":

 pidgin 
(20:42:08) dbus: okkk
(20:42:08) plugins: probing /usr/lib/pidgin/gestures.so
(20:42:08) plugins: probing /usr/lib/pidgin/musicmessaging.so
(20:42:08) plugins: probing /usr/lib/pidgin/ticker.so
(20:42:08) plugins: probing /usr/lib/pidgin/convcolors.so
(20:42:08) plugins: probing /usr/lib/pidgin/extplacement.so
(20:42:08) plugins: probing /usr/lib/pidgin/gtkbuddynote.so
(20:42:08) plugins: probing /usr/lib/pidgin/history.so
(20:42:08) plugins: probing /usr/lib/pidgin/iconaway.so
(20:42:08) plugins: probing /usr/lib/pidgin/markerline.so
(20:42:08) plugins: probing /usr/lib/pidgin/notify.so
(20:42:08) plugins: probing /usr/lib/pidgin/pidginrc.so
(20:42:08) plugins: probing /usr/lib/pidgin/relnot.so
(20:42:08) plugins: probing /usr/lib/pidgin/spellchk.so
(20:42:08) plugins: probing /usr/lib/pidgin/timestamp.so
(20:42:08) plugins: probing /usr/lib/pidgin/timestamp_format.so
(20:42:08) plugins: probing /usr/lib/pidgin/xmppconsole.so
(20:42:08) plugins: probing /usr/lib/purple-2/perl.so
(20:42:08) plugins: probing /usr/lib/purple-2/ssl.so
(20:42:08) plugins: probing /usr/lib/purple-2/ssl-gnutls.so
(20:42:08) plugins: probing /usr/lib/purple-2/ssl-nss.so
(20:42:08) plugins: probing /usr/lib/purple-2/autoaccept.so
(20:42:08) plugins: probing /usr/lib/purple-2/buddynote.so
(20:42:08) plugins: probing /usr/lib/purple-2/idle.so
(20:42:08) plugins: probing /usr/lib/purple-2/joinpart.so
(20:42:08) plugins: probing /usr/lib/purple-2/log_reader.so
(20:42:08) plugins: probing /usr/lib/purple-2/newline.so
(20:42:08) plugins: probing /usr/lib/purple-2/offlinemsg.so
(20:42:09) plugins: probing /usr/lib/purple-2/psychic.so
(20:42:09) plugins: probing /usr/lib/purple-2/statenotify.so
(20:42:09) plugins: probing /usr/lib/purple-2/dbus-example.so
(20:42:09) plugins: probing /usr/lib/purple-2/libirc.so
(20:42:09) plugins: probing /usr/lib/purple-2/libjabber.so
(20:42:09) plugins: /usr/lib/purple-2/libjabber.so is not usable because the 'purple_init_plugin' symbol could not be found.  Does the plugin call the PURPLE_INIT_PLUGIN() macro?
(20:42:09) plugins: probing /usr/lib/purple-2/libxmpp.so
(20:42:09) plugins: probing /usr/lib/purple-2/liboscar.so
(20:42:09) plugins: /usr/lib/purple-2/liboscar.so is not usable because the 'purple_init_plugin' symbol could not be found.  Does the plugin call the PURPLE_INIT_PLUGIN() macro?
(20:42:09) plugins: probing /usr/lib/purple-2/libaim.so
(20:42:09) plugins: probing /usr/lib/purple-2/libicq.so
(20:42:09) plugins: probing /usr/lib/purple-2/libyahoo.so
(20:42:09) plugins: probing /usr/lib/purple-2/libzephyr.so
(20:42:09) plugins: probing /usr/lib/purple-2/libsimple.so
(20:42:09) plugins: probing /usr/lib/purple-2/libmsn.so
(20:42:09) plugins: probing /usr/lib/purple-2/pidgin-blinklight.so
(20:42:09) util: Reading file accounts.xml from directory /root/.purple
(20:42:09) util: Reading file status.xml from directory /root/.purple
(20:42:09) stun: using server 
(20:42:09) stun: using server 
(20:42:09) prefs: purple_prefs_get_int: Unknown pref /pidgin/conversations/im/width
(20:42:09) util: Reading file blist.xml from directory /root/.purple
(20:42:09) prefs: Reading /root/.purple/prefs.xml
(20:42:09) gtkblist: added visibility manager: 1
(20:42:09) docklet: created
(20:42:09) prefs: Finished reading /root/.purple/prefs.xml
(20:42:09) plugins: Loading saved plugin /usr/lib/purple-2/ssl-gnutls.so
(20:42:09) plugins: Loading saved plugin /usr/lib/purple-2/pidgin-blinklight.so
(20:42:09) pidgin-blinklight: chose file /proc/acpi/ibm/light.
(20:42:09) plugins: Loading saved plugin /usr/lib/purple-2/ssl.so
(20:42:09) pounce: Error reading pounces: L'ouverture du fichier « /root/.purple/pounces.xml » a échoué : Aucun fichier ou répertoire de ce type
(20:42:09) pidgin-blinklight: chose file /proc/acpi/ibm/light.
(20:42:09) plugins: Loading saved plugin /usr/lib/purple-2/ssl.so
(20:42:09) pounce: Error reading pounces: L'ouverture du fichier « /root/.purple/pounces.xml » a échoué : Aucun fichier ou répertoire de ce type
(20:42:09) Session Management: ICE initialized.
(20:42:09) Session Management: Connecting with no previous ID
(20:42:09) Session Management: Handling new ICE connection... (20:42:09) done.
(20:42:09) Session Management: ICE initialized.
(20:42:09) Session Management: Connecting with no previous ID
(20:42:10) Session Management: Connected to manager (GnomeSM) with client ID 103d336d60000118875852900000052160014
(20:42:10) Session Management: Using pidgin as command
(20:42:10) Session Management: Handling new ICE connection... (20:42:10) done.
(20:42:10) Session Management: Connected to manager (GnomeSM) with client ID 103d336d60000118875853000000052160015
The program 'pidgin' received an X Window System error.
This probably reflects a bug in the program.
The error was 'BadIDChoice (invalid resource ID chosen for this connection)'.
  (Details: serial 232 error_code 14 request_code 1 minor_code 0)
  (Note to programmers: normally, X errors are reported asynchronously;
   that is, you will receive the error a while after causing it.
   To debug your program, run it with the --sync command line
   option to change this behavior. You can then get a meaningful
   backtrace from your debugger if you break on the gdk_x_error() function.)
pidgin: Fatal IO error 0 (SuccÃšs) on X server :0.0.





Comment 5


Olivier Crete (RETIRED)






          2007-09-02 19:00:56 UTC
        

Which desktop are you using?




Comment 6


Mathieu Goutfreind





          2007-09-02 19:22:47 UTC
        

X Window System Version 7.2.0
Release Date: 22 January 2007
X Protocol Version 11, Revision 0, Release 7.2
Build Operating System: Linux 2.6.20-gentoo-r8 i686 
Current Operating System: Linux localhost 2.6.22-gentoo-r5 #1 Sat Aug 25 22:20:31 CEST 2007 i686
Build Date: 24 July 2007
        Before reporting problems, check http://wiki.x.org
        to make sure that you have the latest version.
Module Loader present

With a Gnome 2.18.2 window manager




Comment 7


Mathieu Goutfreind





          2007-09-05 20:08:34 UTC
        

A way to workaround for me was to install the 2.1.1 version, it is currently masked but it works well for me.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

