Title: 739624 – x11-wm/mutter-3.36.5 fails test
URL: https://bugs.gentoo.org/show_bug.cgi?id=739624

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 739624
x11-wm/mutter-3.36.5 fails test
Last modified: 2022-12-07 21:56:28 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 739624 
      - x11-wm/mutter-3.36.5 fails test


Summary:
x11-wm/mutter-3.36.5 fails test
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Linux Gnome Desktop Team








URL:







Whiteboard:




Keywords:

TESTFAILURE







Depends on:







Blocks:









 





      Reported:
    
2020-08-30 12:31 UTC by Thomas Deutschmann (RETIRED)





      Modified:
    
2022-12-07 21:56 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build.log

              (build.log.gz,82.74 KB,
                application/x-gzip)

            
2020-08-30 12:31 UTC,

            Thomas Deutschmann (RETIRED)




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Thomas Deutschmann (RETIRED)






          2020-08-30 12:31:36 UTC
        

Created attachment 657498 [details]
build.log

Ok:                 62
Expected Fail:      0
Fail:               30
Unexpected Pass:    0
Skipped:            0
Timeout:            0

Full log written to /var/tmp/portage/x11-wm/mutter-3.36.5/work/mutter-3.36.5-build/meson-logs/testlog.txt
 * ERROR: x11-wm/mutter-3.36.5::gentoo failed (test phase):
 *   tests failed


Portage 3.0.4 (python 3.7.8-final-0, default/linux/x86/17.0, gcc-9.3.0, glibc-2.31-r6, 5.4.60-gentoo-x86-kmod i686)
=================================================================
System uname: Linux-5.4.60-gentoo-x86-kmod-i686-with-gentoo-2.6
KiB Mem:     3106040 total,   1176648 free
KiB Swap:    8875836 total,   8875060 free
Timestamp of repository gentoo: Sat, 29 Aug 2020 12:35:28 +0000
Head commit of repository gentoo: 12379b5f47de6706ec7688be6d482aa64aa377aa

sh bash 5.0_p18
ld GNU ld (Gentoo 2.33.1 p2) 2.33.1
ccache version 3.7.11 [disabled]
app-shells/bash:          5.0_p18::gentoo
dev-lang/perl:            5.30.3::gentoo
dev-lang/python:          2.7.18-r1::gentoo, 3.6.11-r2::gentoo, 3.7.8-r2::gentoo, 3.8.5::gentoo
dev-util/ccache:          3.7.11::gentoo
dev-util/cmake:           3.16.5::gentoo
dev-util/pkgconfig:       0.29.2::gentoo
sys-apps/baselayout:      2.6-r1::gentoo
sys-apps/openrc:          0.42.1::gentoo
sys-apps/sandbox:         2.18::gentoo
sys-devel/autoconf:       2.13-r1::gentoo, 2.69-r5::gentoo
sys-devel/automake:       1.16.1-r1::gentoo
sys-devel/binutils:       2.33.1-r1::gentoo
sys-devel/gcc:            9.3.0-r1::gentoo
sys-devel/gcc-config:     2.3.1::gentoo
sys-devel/libtool:        2.4.6-r6::gentoo
sys-devel/make:           4.2.1-r4::gentoo
sys-kernel/linux-headers: 5.4-r1::gentoo (virtual/os-headers)
sys-libs/glibc:           2.31-r6::gentoo

ABI="x86"
ABI_X86="32"
ACCEPT_KEYWORDS="x86"




Comment 1


Thomas Deutschmann (RETIRED)






          2020-08-30 12:32:22 UTC
        

Error is always

> --- stderr ---
> Window manager warning: Failed to set environment variable GNOME_SETUP_DISPLAY for gnome-session: GDBus.Error:org.freede
> sktop.DBus.Error.NameHasNoOwner: Name "org.gnome.SessionManager" does not exist
> Window manager warning: Failed to set environment variable DISPLAY for gnome-session: GDBus.Error:org.freedesktop.DBus.E
> rror.NameHasNoOwner: Name "org.gnome.SessionManager" does not exist
> Window manager warning: Failed to set environment variable XAUTHORITY for gnome-session: GDBus.Error:org.freedesktop.DBu
> s.Error.NameHasNoOwner: Name "org.gnome.SessionManager" does not exist
> Window manager warning: Failed to set environment variable WAYLAND_DISPLAY for gnome-session: GDBus.Error:org.freedeskto
> p.DBus.Error.NameHasNoOwner: Name "org.gnome.SessionManager" does not exist
> 
> (mutter-test-runner:7780): mutter-WARNING **: 06:48:47.048: Failed to retrieve locale properties: GDBus.Error:org.freede
> sktop.DBus.Error.ServiceUnknown: The name org.freedesktop.locale1 was not provided by any .service files
> could not connect to wayland server
> (EE)
> Fatal server error:
> (EE) Couldn't add screen
> (EE)
>




Comment 2


Thomas Deutschmann (RETIRED)






          2020-08-30 12:41:43 UTC
        

With app-admin/openrc-settingsd installed and running, down to 17 errors:

> >>> Test phase: x11-wm/mutter-3.36.5
>  * Scanning for an open DISPLAY to start Xvfb ...
>  * Starting Xvfb on $DISPLAY=9 ...
> meson test -C /var/tmp/portage/x11-wm/mutter-3.36.5/work/mutter-3.36.5-build --num-processes 5
> ninja: Entering directory `/var/tmp/portage/x11-wm/mutter-3.36.5/work/mutter-3.36.5-build'
> ninja: no work to do.
>  1/92 mutter:cogl+cogl/conform / pipeline-user-matrix                                                OK             0.84s
>  2/92 mutter:cogl+cogl/conform / blend-strings                                                       FAIL           3.04s (exit status 133 or signal 5 SIGTRAP)
>  3/92 mutter:cogl+cogl/conform / blend                                                               FAIL           0.58s (exit status 133 or signal 5 SIGTRAP)
>  4/92 mutter:cogl+cogl/conform / premult                                                             FAIL           0.64s (exit status 133 or signal 5 SIGTRAP)
>  5/92 mutter:cogl+cogl/conform / path                                                                OK             0.69s
>  6/92 mutter:cogl+cogl/conform / path-clip                                                           OK             0.68s
>  7/92 mutter:cogl+cogl/conform / depth                                                               OK             0.89s
>  8/92 mutter:cogl+cogl/conform / backface-culling                                                    OK             0.89s
>  9/92 mutter:cogl+cogl/conform / layer-remove                                                        OK             0.79s
> 10/92 mutter:cogl+cogl/conform / sparse-pipeline                                                     FAIL           0.58s (exit status 133 or signal 5 SIGTRAP)
> 11/92 mutter:cogl+cogl/conform / npot-texture                                                        OK             0.69s
> 12/92 mutter:cogl+cogl/conform / sub-texture                                                         FAIL           0.58s (exit status 133 or signal 5 SIGTRAP)
> 13/92 mutter:cogl+cogl/conform / pixel-buffer-map                                                    OK             0.69s
> 14/92 mutter:cogl+cogl/conform / pixel-buffer-set-data                                               OK             0.68s
> 15/92 mutter:cogl+cogl/conform / pixel-buffer-sub-region                                             OK             0.68s
> 16/92 mutter:cogl+cogl/conform / wrap-modes                                                          OK             0.99s
> 17/92 mutter:cogl+cogl/conform / texture-get-set-data                                                OK             0.43s
> 18/92 mutter:cogl+cogl/conform / atlas-migration                                                     OK             1.75s
> 19/92 mutter:cogl+cogl/conform / read-texture-formats                                                OK             0.48s
> 20/92 mutter:cogl+cogl/conform / write-texture-formats                                               OK             0.43s
> 21/92 mutter:cogl+cogl/conform / alpha-textures                                                      OK             0.64s
> 22/92 mutter:cogl+cogl/conform / primitive                                                           FAIL           1.15s (exit status 133 or signal 5 SIGTRAP)
> 23/92 mutter:cogl+cogl/conform / just-vertex-shader                                                  OK             0.84s
> 24/92 mutter:cogl+cogl/conform / pipeline-uniforms                                                   OK             1.11s
> 25/92 mutter:cogl+cogl/conform / snippets                                                            OK             3.67s
> 26/92 mutter:cogl+cogl/conform / custom-attributes                                                   OK             0.95s
> 27/92 mutter:cogl+cogl/conform / offscreen                                                           OK             0.90s
> 28/92 mutter:cogl+cogl/conform / framebuffer-get-bits                                                OK             0.49s
> 29/92 mutter:cogl+cogl/conform / point-size                                                          OK             0.63s
> 30/92 mutter:cogl+cogl/conform / point-size-attribute                                                FAIL           0.48s (exit status 133 or signal 5 SIGTRAP)
> 31/92 mutter:cogl+cogl/conform / point-size-attribute-snippet                                        OK             0.63s
> 32/92 mutter:cogl+cogl/conform / point-sprite                                                        OK             0.84s
> 33/92 mutter:cogl+cogl/conform / point-sprite-orientation                                            OK             0.99s
> 34/92 mutter:cogl+cogl/conform / point-sprite-glsl                                                   FAIL           0.68s (exit status 133 or signal 5 SIGTRAP)
> 35/92 mutter:cogl+cogl/conform / alpha                                                               OK             0.68s
> 36/92 mutter:cogl+cogl/conform / map-buffer-range                                                    OK             0.63s
> 37/92 mutter:cogl+cogl/conform / primitive-and-journal                                               FAIL           0.53s (exit status 133 or signal 5 SIGTRAP)
> 38/92 mutter:cogl+cogl/conform / copy-replace-texture                                                OK             0.43s
> 39/92 mutter:cogl+cogl/conform / pipeline-cache-unrefs-texture                                       OK             1.15s
> 40/92 mutter:cogl+cogl/conform / pipeline-shader-state                                               OK             0.74s
> 41/92 mutter:cogl+cogl/conform / euler                                                               OK             0.43s
> 42/92 mutter:cogl+cogl/conform / color-hsl                                                           OK             0.43s
> 43/92 mutter:cogl+cogl/conform / fence                                                               OK             0.43s
> 44/92 mutter:cogl+cogl/conform / texture-no-allocate                                                 OK             0.43s
> 45/92 mutter:cogl+cogl/conform / texture-rg                                                          OK             0.68s
> 46/92 mutter:cogl+cogl/unit / check-pipeline-pruning                                                 OK             4.66s
> 47/92 mutter:cogl+cogl/unit / check-bitmask-api                                                      OK             0.43s
> 48/92 mutter:cogl+cogl/unit / check-blend-constant-ancestry                                          OK             0.43s
> 49/92 mutter:cogl+cogl/unit / check-uniform-ancestry                                                 OK             0.53s
> 50/92 mutter:cogl+cogl/unit / check-gl-blend-enable                                                  OK             0.68s
> 51/92 mutter:cogl+cogl/unit / check-point-size-shader                                                FAIL           0.58s (exit status 133 or signal 5 SIGTRAP)
> 52/92 mutter:cogl+cogl/unit / check-mesa-driver-package-parser                                       FAIL           0.33s (exit status 133 or signal 5 SIGTRAP)
> 53/92 mutter:clutter+clutter/conform / actor-anchors                                                 OK             0.16s
> 54/92 mutter:clutter+clutter/conform / actor-clone                                                   OK             3.29s
> 55/92 mutter:clutter+clutter/conform / actor-destroy                                                 OK             0.14s
> 56/92 mutter:clutter+clutter/conform / actor-graph                                                   OK             0.20s
> 57/92 mutter:clutter+clutter/conform / actor-invariants                                              OK             0.20s
> 58/92 mutter:clutter+clutter/conform / actor-iter                                                    OK             0.18s
> 59/92 mutter:clutter+clutter/conform / actor-layout                                                  OK             0.28s
> 60/92 mutter:clutter+clutter/conform / actor-meta                                                    OK             0.18s
> 61/92 mutter:clutter+clutter/conform / actor-offscreen-redirect                                      OK             0.38s
> 62/92 mutter:clutter+clutter/conform / actor-paint-opacity                                           OK             0.17s
> 63/92 mutter:clutter+clutter/conform / actor-pick                                                    OK             0.17s
> 64/92 mutter:clutter+clutter/conform / actor-shader-effect                                           OK             0.38s
> 65/92 mutter:clutter+clutter/conform / actor-size                                                    OK             0.18s
> 66/92 mutter:clutter+clutter/conform / text                                                          OK             0.18s
> 67/92 mutter:clutter+clutter/conform / binding-pool                                                  OK             0.17s
> 68/92 mutter:clutter+clutter/conform / color                                                         OK             0.18s
> 69/92 mutter:clutter+clutter/conform / interval                                                      OK             0.18s
> 70/92 mutter:clutter+clutter/conform / script-parser                                                 OK             0.17s
> 71/92 mutter:clutter+clutter/conform / units                                                         OK             0.17s
> 72/92 mutter:clutter+clutter/conform / group                                                         OK             0.17s
> 73/92 mutter:clutter+clutter/conform / rectangle                                                     OK             0.17s
> 74/92 mutter:core+mutter/stacking / basic-x11                                                        OK             0.89s
> 75/92 mutter:core+mutter/stacking / basic-wayland                                                    FAIL           0.53s (exit status 1)
> 76/92 mutter:core+mutter/stacking / client-side-decorated                                            OK             1.15s
> 77/92 mutter:core+mutter/stacking / closed-transient                                                 FAIL           0.48s (exit status 1)
> 78/92 mutter:core+mutter/stacking / closed-transient-no-input-no-take-focus-parent                   OK             1.05s
> 79/92 mutter:core+mutter/stacking / closed-transient-no-input-no-take-focus-parents                  OK             1.15s
> 80/92 mutter:core+mutter/stacking / closed-transient-no-input-parent                                 OK             1.40s
> 81/92 mutter:core+mutter/stacking / closed-transient-no-input-parent-delayed-focus-default-cancelled OK             1.41s
> 82/92 mutter:core+mutter/stacking / closed-transient-no-input-parents                                OK             1.80s
> 83/92 mutter:core+mutter/stacking / closed-transient-no-input-parents-queued-default-focus-destroyed OK             1.65s
> 84/92 mutter:core+mutter/stacking / closed-transient-only-take-focus-parents                         OK             1.19s
> 85/92 mutter:core+mutter/stacking / minimized                                                        OK             0.84s
> 86/92 mutter:core+mutter/stacking / mixed-windows                                                    FAIL           0.53s (exit status 1)
> 87/92 mutter:core+mutter/stacking / set-parent                                                       FAIL           0.53s (exit status 1)
> 88/92 mutter:core+mutter/stacking / override-redirect                                                OK             0.95s
> 89/92 mutter:core+mutter/stacking / set-override-redirect-parent                                     OK             1.10s
> 90/92 mutter:core+mutter/stacking / set-parent-exported                                              FAIL           0.49s (exit status 1)
> 91/92 mutter:core+mutter/unit / normal                                                               FAIL           0.70s (killed by signal 5 SIGTRAP)
> 92/92 mutter:core+mutter/unit / headless-start                                                       OK             0.18s
> 
> Ok:                 75  
> Expected Fail:      0   
> Fail:               17  
> Unexpected Pass:    0   
> Skipped:            0   
> Timeout:            0   
>




Comment 3


Thomas Deutschmann (RETIRED)






          2020-11-21 16:19:12 UTC
        

Same for 3.36.7.




Comment 4


Matt Turner






          2020-12-05 23:00:12 UTC
        

Test x11-wm/mutter-3.38.2 please?









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

