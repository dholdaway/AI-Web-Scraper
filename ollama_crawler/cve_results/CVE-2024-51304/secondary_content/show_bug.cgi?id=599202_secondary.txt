Title: 599202 – x11-drivers/xf86-video-nouveau OpenGL 3.0 disabled for NVE7 (mesa + nouveau)
URL: https://bugs.gentoo.org/show_bug.cgi?id=599202

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 599202
x11-drivers/xf86-video-nouveau OpenGL 3.0 disabled for NVE7 (mesa + nouveau)
Last modified: 2016-11-13 11:36:05 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 599202 
      - x11-drivers/xf86-video-nouveau OpenGL 3.0 disabled for NVE7 (mesa + nouveau)


Summary:
x11-drivers/xf86-video-nouveau OpenGL 3.0 disabled for NVE7 (mesa + nouveau)
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo X packagers








URL:



https://forums.gentoo.org/viewtopic-t...
        




Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2016-11-08 12:57 UTC by AskNow





      Modified:
    
2016-11-13 11:36 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



jstein









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


AskNow





          2016-11-08 12:57:33 UTC
        

NVE7 has mesa OGL 3.0 support for ages and xf86 nouveau driver must enable it.
It was tested natively with ArchLinux, among others.

$ glxinfo| grep OpenGL (ArchLinux)
OpenGL vendor string: nouveau
OpenGL renderer string: Gallium 0.4 on NVE7
OpenGL core profile version string: 4.3 (Core Profile) Mesa 13.0.0
OpenGL core profile shading language version string: 4.30
OpenGL core profile context flags: (none)
OpenGL core profile profile mask: core profile
OpenGL core profile extensions:
OpenGL version string: 3.0 Mesa 13.0.0
OpenGL shading language version string: 1.30
OpenGL context flags: (none)
OpenGL extensions:
OpenGL ES profile version string: OpenGL ES 3.1 Mesa 13.0.0
OpenGL ES profile shading language version string: OpenGL ES GLSL ES 3.10
OpenGL ES profile extensions:

NOW THE PROBLEMATIC

$ glxinfo| grep OpenGL (Gentoo)
OpenGL vendor string: nouveau
OpenGL renderer string: Gallium 0.4 on NVE7
OpenGL version string: 2.1 Mesa 13.0.0
OpenGL shading language version string: 1.30
OpenGL extensions:
OpenGL ES profile version string: OpenGL ES 2.0 Mesa 13.0.0
OpenGL ES profile shading language version string: OpenGL ES GLSL ES 1.0.16
OpenGL ES profile extensions:

FURTHER SETTINGS

$ eselect opengl list
Available OpenGL implementations:
  [1]   xorg-x11 *

$ eselect mesa list
64bit i915 (Intel 915, 945)
64bit i965 (Intel GMA 965, G/Q3x, G/Q4x, HD)
64bit r300 (Radeon R300-R500)
64bit r600 (Radeon R600-R700, Evergreen, Northern Islands)
64bit sw (Software renderer)
  [1]   classic
  [2]   gallium *
32bit i915 (Intel 915, 945)
32bit i965 (Intel GMA 965, G/Q3x, G/Q4x, HD)
32bit r300 (Radeon R300-R500)
32bit r600 (Radeon R600-R700, Evergreen, Northern Islands)
32bit sw (Software renderer)
  [1]   classic
  [2]   gallium *

$ emerge -pv mesa
[ebuild   R    ] media-libs/mesa-13.0.0::gentoo  USE="bindist classic d3d9 dri3 egl gallium gbm llvm nptl pax_kernel pic -debug -gles1 -gles2 -opencl -openmax -osmesa (-selinux) -vaapi -valgrind -vdpau -wayland -xa -xvmc" ABI_X86="32 (64) (-x32)" VIDEO_CARDS="nouveau (-freedreno) -i915 -i965 -ilo -intel -r100 -r200 -r300 -r600 -radeon -radeonsi (-vc4) -vmware" 0 KiB




Comment 1


Chí-Thanh Christopher Nguyễn






          2016-11-13 11:36:05 UTC
        

> USE="bindist"
OpenGL 3.0 requires patent-encumbered code which is not built with USE="bindist".
You need to disable that flag if you want OpenGL 3.0.

Please reopen the issue if the problem persists after rebuilding mesa with bindist disabled.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

