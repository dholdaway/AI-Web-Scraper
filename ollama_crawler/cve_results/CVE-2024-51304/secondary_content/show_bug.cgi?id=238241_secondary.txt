Title: 238241 – portage/eix-0.13.3 failed to emerge due to missing module docutils.core
URL: https://bugs.gentoo.org/show_bug.cgi?id=238241

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 238241
portage/eix-0.13.3 failed to emerge due to missing module docutils.core
Last modified: 2009-08-20 22:34:15 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 238241 
      - portage/eix-0.13.3 failed to emerge due to missing module docutils.core


Summary:
portage/eix-0.13.3 failed to emerge due to missing module docutils.core
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Portage Development




Classification:

Unclassified




Component:

Third-Party Tools

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Portage Tools Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-09-20 23:31 UTC by Sascha





      Modified:
    
2009-08-20 22:34 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



esigra









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Sascha





          2008-09-20 23:31:02 UTC
        

When I tried to emerge portage/eix-0.13.3 to update my eix-0.12.4 it fails with the following error message:

make[2]: Leaving directory `/var/tmp/portage/app-portage/eix-0.13.3/work/eix-0.13.3/manpage'
Making all in doc
make[2]: Entering directory `/var/tmp/portage/app-portage/eix-0.13.3/work/eix-0.13.3/doc'
A=`sed -n -e 's/^.*static * const *.* current *= *\([0-9]*\) *;.*$/\1/p' ../src/database/header.h` ; \
        sed -e "s,\@PACKAGE_STRING\@,eix 0.13.3,g" \
                -e "s,\@CURRENT\@,${A},g" \
        "format.txt.in" > "format.txt"
rst2html.py format.txt --embed-stylesheet \
                --stylesheet-path=stylesheet.css > format.html
Traceback (most recent call last):
  File "/usr/bin/rst2html.py", line 19, in <module>
    from docutils.core import publish_cmdline, default_description
ImportError: No module named docutils.core
make[2]: *** [format.html] Fehler 1
make[2]: Leaving directory `/var/tmp/portage/app-portage/eix-0.13.3/work/eix-0.13.3/doc'
make[1]: *** [all-recursive] Fehler 1
make[1]: Leaving directory `/var/tmp/portage/app-portage/eix-0.13.3/work/eix-0.13.3'
make: *** [all] Fehler 2
 *
 * ERROR: app-portage/eix-0.13.3 failed.
 * Call stack:
 *               ebuild.sh, line   49:  Called src_compile
 *             environment, line  103:  Called die
 * The specific snippet of code:
 *       emake || die "emake failed"
 *  The die message:
 *   emake failed
 *
 * If you need support, post the topmost build error, and the call stack if relevant.
 * A complete build log is located at '/var/log/portage/app-portage:eix-0.13.3:20080920-221847.log'.
 * The ebuild environment file is located at '/var/tmp/portage/app-portage/eix-0.13.3/temp/environment'.
 *



Reproducible: Always

Steps to Reproduce:
1.emerge eix
2.
3.

Actual Results:  
emerge failed, showing the above mentioned error message.

Expected Results:  
emerge eix should update existing eix from 0.12.4 to 0.13.3

eix information:

*root*@Arrakis:/root # emerge -pv docutils eix

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild     U ] dev-python/docutils-0.4-r3 [0.4-r1] USE="-emacs -glep" 0 kB
[ebuild     U ] app-portage/eix-0.13.3 [0.12.4] USE="doc -sqlite" 0 kB

Total: 2 packages (2 upgrades), Size of downloads: 0 kB

Information about the system:
*root*@Arrakis:/root # emerge --info
Portage 2.1.4.4 (default/linux/x86/2008.0/desktop, gcc-4.1.2, glibc-2.6.1-r0, 2.6.24-gentoo-r8 i686)
=================================================================
System uname: 2.6.24-gentoo-r8 i686 AMD Athlon(tm) XP 2000+
Timestamp of tree: Sat, 20 Sep 2008 20:45:05 +0000
ccache version 2.4 [enabled]
app-shells/bash:     3.2_p33
dev-java/java-config: 1.3.7, 2.0.33-r1
dev-lang/python:     2.5.2-r7
dev-python/pycrypto: 2.0.1-r6
dev-util/ccache:     2.4-r7
sys-apps/baselayout: 1.12.11.1
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.61-r2
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.1
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.23-r3
ACCEPT_KEYWORDS="x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=athlon-xp -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/revdep-rebuild /etc/splash /etc/terminfo /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-O2 -march=athlon-xp -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="ccache collision-protect digest distlocks maketest metadata-transfer sandbox sfperms strict unmerge-orphans userfetch userpriv usersandbox"
GENTOO_MIRRORS="http://mirrors.sec.informatik.tu-darmstadt.de/gentoo/ "
LANG="de_DE.UTF-8"
LDFLAGS="-Wl,-O1"
LINGUAS="de en"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="3dnow X a52 aac aalib acl acpi aim alsa ao apache2 apm arts audiofile bash-completion berkdb bluetooth branding bzip2 cairo cddb cdinstall cdparanoia cdr cli cracklib crypt ctype cups dbus doc dri dvd dvdr dvdread eds emboss encode esd evo examples exif fam fastcgi fbcon ffmpeg firefox flac fortran ftp gd gdbm gif gphoto2 gpm gstreamer gtk hal hardened iconv icq idn ieee1394 imagemagick imap imlib innodb iodbc ipv6 isdnlog jack java javascript jbig jpeg jpeg2k kde kerberos kerboros krb4 ldap libcaca libnotify libwww lirc mad maildir mbox mcal memlimit midi mikmod mmap mmx mng motif mozilla mp3 mpeg mplayer mudflap mysql mysqli ncurses nls nptl nptlonly nsplugin offensive ofx ogg openal opengl openmp pam pcre pdf perl plotutils png posix ppds pppd python qt3 qt3support qt4 quicktime quotes raw readline recode reflection scanner sdl session sharedmem smartcard sndfile source sox spell spl ssl startup-notification svg svga symlink sysfs tcl tcpd test theora threads tiff tk truetype unicode usb vcd verbose vorbis win32codecs wmf wxwindows x86 xine xinerama xinetd xml xorg xosd xpm xsl xv xvid zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1 emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="de en" USERLAND="GNU" VIDEO_CARDS="nvidia"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LC_ALL, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY




Comment 1


Sascha





          2008-09-20 23:38:51 UTC
        

I just updated dev-python/docutils-0.4-r1 to 0.4-r3, and afterwards eix could successfully be emerged. IMHO dependency of eix-0.13.3 to (at least) dev-python/docutils-0.4-r3 should be considered in ebuild.




Comment 2


Erik





          2008-09-22 16:21:12 UTC
        

I can confirm this bug. I had dev-python/docutils-0.4-r3 but after reemerging it, eix could actually be emerged. So adding a dependency as suggested in comment #1 would not have helped me.




Comment 3


Christian Hoffmann (RETIRED)






          2008-09-25 21:12:53 UTC
        

Just for reference, it's very likely that both of you forgot to run python-updater after upgrading from python-2.4 to 2.5 (so python-2.5 was used, but the docutils modules (and all others as well) were in the 2.4 site-packages directory).




Comment 4


disperato





          2009-08-20 22:32:33 UTC
        

(In reply to comment #3)

I tend to exclude that was the issue. I had docutils-0.5 installed and python2.6 only. emerging eix gave me the same error, and the only way to successfully emerge it has been to re-emerge docutils.

To give you guys some more information, I had no other slots of python installed, no residuals from python recovery (you know, if you accidentally unmerge it and install another version manually, it puts files in /usr/local/* instead of /usr etc.), and obviously running python-updater did notghing beacuse nothing had to be done. 






Comment 5


disperato





          2009-08-20 22:34:15 UTC
        

(In reply to comment #4)
excuse me, I forgot to specify the eix version: this happened to me with eix-0.16.0









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

