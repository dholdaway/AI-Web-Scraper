Title: 269066 – ~app-portage/gentoolkit-dev-0.2.6.11 - echangelog omits *new-version line and omits ebuild addition from entry
URL: https://bugs.gentoo.org/show_bug.cgi?id=269066

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 269066
~app-portage/gentoolkit-dev-0.2.6.11 - echangelog omits *new-version line and omits ebuild addition from entry
Last modified: 2009-05-14 18:21:42 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 269066 
      - ~app-portage/gentoolkit-dev-0.2.6.11 - echangelog omits *new-version line and omits ebuild addition from entry


Summary:
~app-portage/gentoolkit-dev-0.2.6.11 - echangelog omits *new-version line and...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       major
      


Assignee:

Portage Tools Team








URL:



http://sources.gentoo.org/viewcvs.py/...
        




Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-05-08 21:31 UTC by Jeroen Roovers (RETIRED)





      Modified:
    
2009-05-14 18:21 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Jeroen Roovers (RETIRED)






          2009-05-08 21:31:22 UTC
        

jeroen@astrid /keeps/gentoo/cvs/gentoo-x86/www-client/opera $ cvs diff -r 1.338 -r 1.339 ChangeLog
Index: ChangeLog
===================================================================
RCS file: /var/cvsroot/gentoo-x86/www-client/opera/ChangeLog,v
retrieving revision 1.338
retrieving revision 1.339
diff -u -B -r1.338 -r1.339
--- ChangeLog   10 Apr 2009 13:26:17 -0000      1.338
+++ ChangeLog   8 May 2009 21:03:51 -0000       1.339
@@ -1,6 +1,12 @@
 # ChangeLog for www-client/opera
-# Copyright 2002-2009 Gentoo Foundation; Distributed under the GPL v2
-# $Header: /var/cvsroot/gentoo-x86/www-client/opera/ChangeLog,v 1.338 2009/04/10 13:26:17 ulm Exp $
+# Copyright 1999-2009 Gentoo Foundation; Distributed under the GPL v2
+# $Header: /var/cvsroot/gentoo-x86/www-client/opera/ChangeLog,v 1.339 2009/05/08 21:03:51 jer Exp $
+
+  08 May 2009; Jeroen Roovers <jer@gentoo.org> ChangeLog:
+  Version bump
+  <http://my.opera.com/desktopteam/blog/2009/05/08/skin-debugging-and-more>.
+  Move epatch to src_prepare(). Move opera_cd() into src_unpack() and set S
+  only when not set to a valid directory.

   10 Apr 2009; Ulrich Mueller <ulm@gentoo.org> opera-9.64.ebuild,
   opera-10.00_pre4205.ebuild, opera-10.00_pre4214.ebuild,




Comment 1


Jeroen Roovers (RETIRED)






          2009-05-08 21:33:52 UTC
        

Doesn't look like 0.2.6.11-r1 fixes this.




Comment 2


Jeroen Roovers (RETIRED)






          2009-05-08 21:47:53 UTC
        

jeroen@astrid /keeps/gentoo/cvs/gentoo-x86/net-misc/socat $ cp socat-2.0.0_beta{3,4}.ebuild
jeroen@astrid /keeps/gentoo/cvs/gentoo-x86/net-misc/socat $ cvs add socat-2.0.0_beta4.ebuild
cvs add: use `cvs commit' to add this file permanently
jeroen@astrid /keeps/gentoo/cvs/gentoo-x86/net-misc/socat $ echangelog 'Version bump.'
--- ChangeLog   2009-05-08 00:52:04.000000000 +0200
+++ ChangeLog.new       2009-05-08 23:47:14.000000000 +0200
@@ -2,6 +2,11 @@
 # Copyright 1999-2009 Gentoo Foundation; Distributed under the GPL v2
 # $Header: /var/cvsroot/gentoo-x86/net-misc/socat/ChangeLog,v 1.51 2009/05/07 22:52:04 jer Exp $

+*socat-2.0.0_beta4 (08 May 2009)
+
+  08 May 2009; Jeroen Roovers <jer@gentoo.org> +socat-2.0.0_beta4.ebuild:
+  Version bump.
+
 *socat-1.7.1.1 (07 May 2009)

   07 May 2009; Jeroen Roovers <jer@gentoo.org> +socat-1.7.1.1.ebuild:





Comment 3


Jeroen Roovers (RETIRED)






          2009-05-08 22:16:20 UTC
        

cp opera-10.00_pre4268.ebuild opera-10.00_pre4340.ebuild
eshowkw   [1]
ekeyword ~ppc opera-10.00_pre4340.ebuild
eshowkw
screenvi opera-10.00_pre4340.ebuild [4]
ebuild opera-10.00_pre4340.ebuild manifest
screenvi opera-10.00_pre4340.ebuild
ebuild opera-10.00_pre4340.ebuild manifest
screenvi opera-10.00_pre4340.ebuild
teleport qt-core [2]
teleport opera [3]
ebuild opera-10.00_pre4340.ebuild manifest
grep immqt *
eshowkw
vi opera-10.00_pre4340.ebuild
screenvi opera-10.00_pre4340.ebuild
grep qt-c *
repofull
screenvi opera-10.00_pre4340.ebuild
ebuild opera-10.00_pre4340.ebuild manifest install
ebuild opera-10.00_pre4340.ebuild manifest clean unpack
screenvi opera-10.00_pre4340.ebuild
ebuild opera-10.00_pre4340.ebuild manifest clean unpack
screenvi opera-10.00_pre4340.ebuild
ebuild opera-10.00_pre4340.ebuild manifest clean unpack
screenvi opera-10.00_pre4340.ebuild
ebuild opera-10.00_pre4340.ebuild manifest clean unpack
ebuild opera-10.00_pre4340.ebuild prepare
screenvi opera-10.00_pre4340.ebuild
ebuild opera-10.00_pre4340.ebuild manifest clean prepare
screenvi opera-10.00_pre4340.ebuild
screenvi opera-10.00_pre4340.ebuild
screenvi opera-10.00_pre4340.ebuild
ebuild opera-10.00_pre4340.ebuild manifest clean install
screenvi opera-10.00_pre4340.ebuild
ebuild opera-10.00_pre4340.ebuild manifest clean prepare
screenvi opera-10.00_pre4340.ebuild
ebuild opera-10.00_pre4340.ebuild manifest clean install
sudo FEATURES=noauto ebuild opera-10.00_pre4340.ebuild package
sudo emerge -vak --nodeps =www-client/opera-10.00_pre4340
sudo etc-update
screenvi opera-10.00_pre4340.ebuild
repofull
cvs add opera-10.00_pre4340.ebuild
echangelog 'Version bump <http://my.opera.com/desktopteam/blog/2009/05/08/skin-debugging-and-more>. Move epatch to src_prepare(). Move opera_cd() into src_unpack() and set S only when not set to a valid directory.'
repocommit 'Version bump <http://my.opera.com/desktopteam/blog/2009/05/08/skin-debugging-and-more>. Move epatch to src_prepare(). Move opera_cd() into src_unpack() and set S only when not set to a valid directory.'
screenvi opera-10.00_pre4340.ebuild
ebuild opera-10.00_pre4340.ebuild manifest
ekeyword ~x86-fbsd opera-10.00_pre4340.ebuild
eshowkw
repofull
repoman  --without-mask
echangelog 'Marked ~x86-fbsd too.'
lesschangelog
repocommit 'Marked ~x86-fbsd too. Fix ChangeLog entry.'
head ChangeLog

[1] eshowkw is a script adapted from the eponymous script downloaded from someone's devspace. Doesn't touch files.
[2] End of first shell (from .bash_history recording). teleport is a local thingy I use to cd, cvs up, eshowkw and cat metadata.xml. Doesn't touch files at all, except maybe something cvs up does...
[3] Start of work in the second shell (from .bash_history recording).

More notes:
* screenvi - alias of `screen vi'.
* repofull - alias of `FEATURES=digest repoman' (used to be `repoman full' a long time ago, when it was still useful).
* lesschangelog - alias of `[screen] less ChangeLog'.




Comment 4


Jeroen Roovers (RETIRED)






          2009-05-08 22:17:14 UTC
        

* repocommit - an alias of `repoman --ignore-arches commit -m'.




Comment 5


Jeroen Roovers (RETIRED)






          2009-05-08 22:24:35 UTC
        

Adding `emerge --info' for good measure:

Fri May  8 23:42:50 CEST 2009
Portage 2.1.6.13 (default/linux/hppa/2008.0, gcc-4.3.2, glibc-2.8_p20080602-r1, 2.6.30-rc4-JeR parisc)
=================================================================
System uname: Linux-2.6.30-rc4-JeR-parisc-PA8700_-PCX-W2-with-glibc2.2
Timestamp of tree: Fri, 08 May 2009 18:15:01 +0000
distcc 3.0 hppa2.0-unknown-linux-gnu [enabled]
ccache version 2.4 [disabled]
app-shells/bash:     3.2_p39
dev-java/java-config: 2.1.7
dev-lang/python:     2.5.4-r2
dev-python/pycrypto: 2.0.1-r8
dev-util/ccache:     2.4-r7
dev-util/cmake:      2.6.4
sys-apps/baselayout: 2.0.0
sys-apps/openrc:     0.4.3-r2
sys-apps/sandbox:    1.6-r2
sys-devel/autoconf:  2.13, 2.63
sys-devel/automake:  1.4_p6, 1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.2
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.27-r2
ACCEPT_KEYWORDS="hppa"
CBUILD="hppa2.0-unknown-linux-gnu"
CFLAGS="-O2 -pipe -mschedule=8000 -march=2.0 -g -ggdb -Wall"
CHOST="hppa2.0-unknown-linux-gnu"
CONFIG_PROTECT="/etc /usr/lib/fax /usr/share/config /var/bind /var/spool/fax/etc /var/spool/torque /var/www/localhost/htdocs/wordpress/wp-config.php"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-O2 -pipe -mschedule=8000 -march=2.0 -g -ggdb -Wall"
DISTDIR="/keeps/gentoo/distfiles"
FEATURES="autoaddcvs buildpkg cvs distcc distlocks fixpackages notitles parallel-fetch preserve-libs protect-owned sandbox sfperms splitdebug strict unmerge-orphans userfetch"
GENTOO_MIRRORS=" http://gentoo.tiscali.nl/ http://mirror.muntinternet.net/pub/gentoo/ http://mirror.cambrium.nl/pub/os/linux/gentoo/ http://ftp.snt.utwente.nl/pub/os/linux/gentoo/ "
LC_ALL="en_US.UTF-8"
LDFLAGS="-Wl,-O1"
LINGUAS="en nl he"
MAKEOPTS="-j5"
PKGDIR="/keeps/gentoo/packages/elmer"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/mnt/alt/portage-tmp"
PORTDIR="/keeps/gentoo/portage"
PORTDIR_OVERLAY="/keeps/gentoo/local"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="7zip X Xaw3d a52 aac aalib abyss accessibility ads agg alsa amr amrnb amrwb ao aoss apache2 ares asf async asyncns audiofile audit automount avfs bash-completion berkdb bidi bittorrent bittorrent-external bl bluetooth bzip2 c++ cairo caps captury catalogs cblas cdb cddb cdparanoia cdr chardet cjk clarens cli cracklib crypt cups curl custom-cflags custom-cxxflags cxx dbi dbtool dbus designer designer-plugin device-mapper dga dia dirac directfb djbfft djvu domainkeys dri drm dts dv dvd dvdr dvdread dxr3 ebook edl elf emacs enca encode esd examples exif expat fame fastbuild fastcgi fbcon ffmpeg filter flac fluidsynth fontconfig fontforge foomaticdb fortran ftp gadu galago gcrypt gd gdbm geant4 geoip ggi gif gimp gimpprint glep glib glut gmp gnome gnutls google-gadgets gphoto2 gpm gps gs gsl gsm gtk gtk2 gtkhtml guidexml hal hepmc hesiod hppa ical icecast iconv icu idea idn imagemagick imlib immqt-bc inquisitio ipv6 isc isdnlog ithreads jack javascript jbig jingle jpeg jpeg2k judy kde kerberos kpathsea lapack latex lcms ldap leim libass libcaca libffi libmms libnotify libsamplerate libwww live lm_sensors logrotate logwatch lua lzo mad manhole matroska mbrola memcache metis mhash midi mikmod mmap mng modplug motif mozbranding mp3 mplayer mssql mudflap musepack musicbrainz mysql nas nautilus ncurses netpbm network-cron nfconntrack nfs nls nntp nptl nptlonly nsplugin ntlm offensive ogg openal openexr opengl openmp openssl oss ots overlays pam pango pbs pcre pdf pdo-external perl php plasma plotutils plugins png policykit portage portaudio postgres povray ppds pppd pulseaudio python pyzord qalculate qdbm qt3 qt3support qt4 quotas raw readline recode reflection rle rpc rrdtool rtc ruby samba sasl scanner schroedinger scim sdl seamonkey server session sid slang slp sms sndfile snmp soundex speex spell spl sqlite srt srtp ssh ssl startup-notification subtitles subversion suhosin supernodal svg swat sysfs syslog talkfilters tcl tcpd test tftp tga theora threads thumbnail thunar-vfs tidy tiff timidity tk tools truetype tslib tunepimp twolame udev unicode unzip urandom usb userlocales utempter utf v4l v4l2 vanim vcd vidix vim-syntax vorbis wavpack webdav webinstall webkit winbind wlan wma wmf xanim xcb xchattext xcomposite xface xml xml2 xmp xmpi xorg xpm xrandr xscreensaver xsettings xulrunner xv xvid xvmc zip zip-external zlib" ALSA_CARDS="ad1889 usb-audio" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic auth_digest authn_anon authn_dbd authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock dbd deflate dir disk_cache env expires ext_filter file_cache filter headers ident imagemap include info log_config logio mem_cache mime mime_magic negotiation proxy proxy_ajp proxy_balancer proxy_ftp proxy_connect proxy_http rewrite setenvif so speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="evdev joystick keyboard mouse acecad aiptek calcomp citron digitaledge dmc dynapro elo2300 elographics fpit hyperpen jamstudio magellan microtouch mutouch palmax penmount spaceorb summa synaptics tek4957 tslib ur98 virtualbox wacom void" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en nl he" USERLAND="GNU" VIDEO_CARDS="stifb fbdev matrox dummy"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LANG, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 6


Jeroen Roovers (RETIRED)






          2009-05-14 18:21:42 UTC
        

I haven't been able to reproduce this problem either, and so far nobody else seems to have run into it.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

