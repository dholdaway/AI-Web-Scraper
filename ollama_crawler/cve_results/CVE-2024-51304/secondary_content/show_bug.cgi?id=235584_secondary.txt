Title: 235584 – dev-util/subversion-1.5.1 ruby bindings compile failure with dev-lang/swig-1.3.36:subversion/bindings/swig/ruby/svn_client.c:1364: error: ‘_mSWIG’ undeclared (first use in this function)
URL: https://bugs.gentoo.org/show_bug.cgi?id=235584

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 235584
dev-util/subversion-1.5.1 ruby bindings compile failure with dev-lang/swig-1.3.36:subversion/bindings/swig/ruby/svn_client.c:1364: error: ‘_mSWIG’ undeclared (first use in this function)
Last modified: 2009-01-07 14:04:21 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 235584 
      - dev-util/subversion-1.5.1 ruby bindings compile failure with dev-lang/swig-1.3.36:subversion/bindings/swig/ruby/svn_client.c:1364: error: ‘_mSWIG’ undeclared (first use in this function)


Summary:
dev-util/subversion-1.5.1 ruby bindings compile failure with dev-lang/swig-1....
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Benedikt Böhm (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-08-24 00:41 UTC by Ed Catmur





      Modified:
    
2009-01-07 14:04 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



arfrever









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




ruby-swig-1.3.36.patch

              (ruby-swig-1.3.36.patch,3.44 KB,
                patch)

            
2008-08-24 01:03 UTC,

            Ed Catmur




Details
            | Diff





ruby-swig-1.3.36.patch

              (ruby-swig-1.3.36.patch,12.81 KB,
                patch)

            
2008-08-24 12:45 UTC,

            Ed Catmur




Details
            | Diff





Show
              Obsolete (1)
            View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Ed Catmur





          2008-08-24 00:41:00 UTC
        

/usr/bin/swig -I/var/tmp/portage/dev-util/subversion-1.5.1/work/subversion-1.5.1/subversion/include -I/var/tmp/portage/dev-util/subversion-1.5.1/work/subversion-1.5.1/subversion/bindings/swig -I/var/tmp/portage/dev-util/subversion-1.5.1/work/subversion-1.5.1/subversion/bindings/swig/include -I/var/tmp/portage/dev-util/subversion-1.5.1/work/subversion-1.5.1/subversion/bindings/swig/proxy -I/var/tmp/portage/dev-util/subversion-1.5.1/work/subversion-1.5.1/subversion/bindings/swig/proxy -I/usr/include/apr-1  -I/usr/include/apr-1 -I/usr/include/db4.6 -ruby -o subversion/bindings/swig/ruby/svn_wc.c ./subversion/bindings/swig/svn_wc.i
/var/tmp/portage/dev-util/subversion-1.5.1/work/subversion-1.5.1/subversion/include/svn_props.h:424: Warning(305): Bad constant value (ignored).
/bin/sh /var/tmp/portage/dev-util/subversion-1.5.1/work/subversion-1.5.1/libtool --tag=CC --silent --mode=compile i686-pc-linux-gnu-gcc -ggdb -O1 -O2 -O3 -pipe -march=athlon-xp -mmmx -msse -m3dnow -fno-strict-aliasing  -fPIC -DLINUX=2 -D_REENTRANT -D_GNU_SOURCE -D_LARGEFILE64_SOURCE  -I/usr/include/apr-1   -I/usr/include/apr-1 -I/usr/include/db4.6  -I/var/tmp/portage/dev-util/subversion-1.5.1/work/subversion-1.5.1/subversion/include -I/var/tmp/portage/dev-util/subversion-1.5.1/work/subversion-1.5.1/subversion/bindings/swig -I/var/tmp/portage/dev-util/subversion-1.5.1/work/subversion-1.5.1/subversion/bindings/swig/include -I/var/tmp/portage/dev-util/subversion-1.5.1/work/subversion-1.5.1/subversion/bindings/swig/proxy -I/var/tmp/portage/dev-util/subversion-1.5.1/work/subversion-1.5.1/subversion/bindings/swig/proxy -I/usr/include/apr-1  -I/usr/include/apr-1 -I/usr/include/db4.6 -I. -I/usr/lib/ruby/1.8/i686-linux -I/var/tmp/portage/dev-util/subversion-1.5.1/work/subversion-1.5.1/subversion/bindings/swig/ruby/libsvn_swig_ruby -prefer-pic -c -o subversion/bindings/swig/ruby/svn_client.lo subversion/bindings/swig/ruby/svn_client.c
subversion/bindings/swig/ruby/svn_client.c: In function 'getExceptionClass':
subversion/bindings/swig/ruby/svn_client.c:1364: error: '_mSWIG' undeclared (first use in this function)
subversion/bindings/swig/ruby/svn_client.c:1364: error: (Each undeclared identifier is reported only once
subversion/bindings/swig/ruby/svn_client.c:1364: error: for each function it appears in.)
subversion/bindings/swig/ruby/svn_client.c: In function 'SWIG_Ruby_InitRuntime':
subversion/bindings/swig/ruby/svn_client.c:1387: error: '_mSWIG' undeclared (first use in this function)
subversion/bindings/swig/ruby/svn_client.c: In function 'SWIG_Ruby_define_class':
subversion/bindings/swig/ruby/svn_client.c:1402: error: '_mSWIG' undeclared (first use in this function)
subversion/bindings/swig/ruby/svn_client.c: In function 'SWIG_Ruby_NewPointerObj':
subversion/bindings/swig/ruby/svn_client.c:1457: error: '_mSWIG' undeclared (first use in this function)
subversion/bindings/swig/ruby/svn_client.c: In function 'SWIG_Ruby_ConvertPtrAndOwn':
subversion/bindings/swig/ruby/svn_client.c:1565: error: too many arguments to function 'SWIG_TypeCast'
distcc[26075] ERROR: compile subversion/bindings/swig/ruby/svn_client.c on localhost failed
make: *** [subversion/bindings/swig/ruby/svn_client.lo] Error 1
make: *** Waiting for unfinished jobs....
/var/tmp/portage/dev-util/subversion-1.5.1/work/subversion-1.5.1/subversion/bindings/swig/proxy/svn_wc_h.swg:178: Warning(900): FIXME: Missing argout typemap
 * 
 * ERROR: dev-util/subversion-1.5.1 failed.
 * Call stack:
 *               ebuild.sh, line   49:  Called src_compile
 *             environment, line 6477:  Called die
 * The specific snippet of code:
 *           emake swig-rb || die "Building of Subversion Ruby bindings failed";
 *  The die message:
 *   Building of Subversion Ruby bindings failed




Comment 1


Ed Catmur





          2008-08-24 01:03:56 UTC
        

Created attachment 163688 [details, diff]
ruby-swig-1.3.36.patch




Comment 2


Wormo (RETIRED)






          2008-08-24 01:22:10 UTC
        

Thanks for the patch!

Assigning to maintainers




Comment 3


Ed Catmur





          2008-08-24 12:45:46 UTC
        

Created attachment 163707 [details, diff]
ruby-swig-1.3.36.patch

Unbreak perl & python bindings by updating relevant .swg imports as well.




Comment 4


Arfrever Frehtes Taifersar Arahesis (RETIRED)






          2008-08-29 12:08:45 UTC
        

Post the output of:
emerge --info




Comment 5


Arfrever Frehtes Taifersar Arahesis (RETIRED)






          2008-10-20 13:03:22 UTC
        

Could you explain what did you do to enforce regeneration of SWIG-pregenerated files (which are already present in Subversion tarballs)?









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

