Title: 246407 – Failed: `./bootstrap-prefix.sh $EPREFIX portage'
URL: https://bugs.gentoo.org/show_bug.cgi?id=246407

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 246407
Failed: `./bootstrap-prefix.sh $EPREFIX portage'
Last modified: 2008-11-14 08:13:42 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 246407 
      - Failed: `./bootstrap-prefix.sh $EPREFIX portage'


Summary:
Failed: `./bootstrap-prefix.sh $EPREFIX portage'
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo/Alt




Classification:

Unclassified




Component:

Prefix Support

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo non-Linux Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-11-11 16:15 UTC by Rabbe Fogelholm





      Modified:
    
2008-11-14 08:13 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Rabbe Fogelholm





          2008-11-11 16:15:53 UTC
        

Bootstrapping failed at an early stage on SUSE Enterprise 10. This is from the console log:

02:02:51 (43.23 KB/s) - `prefix-portage-2.2.00.10347.tar.bz2' saved [671446/671446]

* Unpacking prefix-portage
* Compiling prefix-portage
checking build system type... i686-pc-linux-gnu
checking host system type... i686-pc-linux-gnu
checking target system type... i686-pc-linux-gnu
checking for a BSD-compatible install... /usr/bin/install -c
checking whether build environment is sane... yes
checking for a thread-safe mkdir -p... /bin/mkdir -p
checking for gawk... gawk
checking whether make sets $(MAKE)... yes
checking for i686-pc-linux-gnu-gcc... no
checking for gcc... gcc
checking for C compiler default output file name... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... no
checking for suffix of executables... 
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ISO C89... none needed
checking for style of include used by make... GNU
checking dependency style of gcc... gcc3
checking for a BSD-compatible install... /usr/bin/install -c
checking whether ln -s works... yes
checking for grep that handles long lines and -e... /usr/bin/grep
checking for egrep... /usr/bin/grep -E
checking for id... /usr/bin/id
checking whether /usr/bin/id is good enough... configure: error: no doesn't understand -Gn

There seems to be a complaint on /usr/bin/id. Running `/usr/bin/id --version' produces this:

id (GNU coreutils) 5.93
Copyright (C) 2005 Free Software Foundation, Inc.
This is free software.  You may redistribute copies of it under the terms of
the GNU General Public License <http://www.gnu.org/licenses/gpl.html>.
There is NO WARRANTY, to the extent permitted by law.
Written by Arnold Robbins and David MacKenzie.

However, running `/usr/bin/id -Gn' does work. A list of group names is printed and the returned status is zero.




Comment 1


Jeremy Olexa (darkside) (RETIRED)








          2008-11-11 16:26:34 UTC
        

This is bad, but also happens on the latest ubuntu's as well.

However, I don't understand why the path to id is on the host system, you should have already bootstrapped coreutils.
./bootstrap-prefix.sh $EPREFIX/tmp coreutils

If that does not work (produces the same error) could you try to do:
./bootstrap-prefix.sh $EPREFIX/tmp coreutils6 instead and report back?




Comment 2


Fabian Groffen






          2008-11-11 18:29:26 UTC
        

this may be a posixly correct bash thing, as the check looks non-bourne.  Can you try with CONFIG_SHELL=${EPREFIX}/tmp/usr/bin/bash?




Comment 3


Rabbe Fogelholm





          2008-11-14 07:33:40 UTC
        

The problem went away by 2008-11-12. Perhaps it is because prefix-overlay was stepped:

< * Fetching prefix-overlay-20081017.tar.bz2
---
> * Fetching prefix-overlay-20081110.tar.bz2


< checking whether /usr/bin/id is good enough... configure: error: no doesn't understand -Gn
---
> checking whether /usr/bin/id is good enough... yes





Comment 4


Fabian Groffen






          2008-11-14 08:13:42 UTC
        

weird, nothing has changed.  Anyway reopen if the problem pops up again.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

