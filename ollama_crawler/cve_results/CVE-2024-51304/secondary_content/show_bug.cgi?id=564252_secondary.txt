Title: 564252 – dev-qt/qtwebkit-5.5.1: /usr/lib64/ruby/2.0.0/rubygems.rb:15:in `require': cannot load such file -- rubygems/compatibility (LoadError)
URL: https://bugs.gentoo.org/show_bug.cgi?id=564252

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 564252
dev-qt/qtwebkit-5.5.1: /usr/lib64/ruby/2.0.0/rubygems.rb:15:in `require': cannot load such file -- rubygems/compatibility (LoadError)
Last modified: 2016-02-07 23:22:19 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 564252 
      - dev-qt/qtwebkit-5.5.1: /usr/lib64/ruby/2.0.0/rubygems.rb:15:in `require': cannot load such file -- rubygems/compatibility (LoadError)


Summary:
dev-qt/qtwebkit-5.5.1: /usr/lib64/ruby/2.0.0/rubygems.rb:15:in `require': can...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Library

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Qt Bug Alias








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2015-10-27 10:30 UTC by Martin Mokrejš





      Modified:
    
2016-02-07 23:22 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



ruby









See Also:


572056





Package list:







Runtime testing required:

---























      Attachments
    




build.log

              (build.log,285.95 KB,
                text/x-log)

            
2015-10-27 10:30 UTC,

            Martin Mokrejš




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Martin Mokrejš





          2015-10-27 10:30:25 UTC
        

Created attachment 415582 [details]
build.log

make[1]: Entering directory '/var/tmp/portage/dev-qt/qtwebkit-5.5.1/work/qtwebkit-opensource-src-5.5.1/Source/JavaScriptCore'
( test -e Makefile.LLIntOffsetsExtractor || /usr/lib64/qt5/bin/qmake /var/tmp/portage/dev-qt/qtwebkit-5.5.1/work/qtwebkit-opensource-src-5.5.1/Source/JavaScriptCore/LLIntOffsetsExtractor.pro CONFIG+=release CONFIG-=debug 'QMAKE_AR=x86_64-pc-linux-gnu-ar cqs' QMAKE_CC=x86_64-pc-linux-gnu-gcc QMAKE_LINK_C=x86_64-pc-linux-gnu-gcc QMAKE_LINK_C_SHLIB=x86_64-pc-linux-gnu-gcc QMAKE_CXX=x86_64-pc-linux-gnu-g++ QMAKE_LINK=x86_64-pc-linux-gnu-g++ QMAKE_LINK_SHLIB=x86_64-pc-linux-gnu-g++ QMAKE_OBJCOPY=x86_64-pc-linux-gnu-objcopy QMAKE_RANLIB= QMAKE_STRIP=x86_64-pc-linux-gnu-strip 'QMAKE_CFLAGS=-O2 -pipe -maes -mpclmul -mpopcnt -mavx -march=native' QMAKE_CFLAGS_RELEASE= QMAKE_CFLAGS_DEBUG= 'QMAKE_CXXFLAGS=-O2 -pipe -maes -mpclmul -mpopcnt -mavx -march=native' QMAKE_CXXFLAGS_RELEASE= QMAKE_CXXFLAGS_DEBUG= 'QMAKE_LFLAGS=-Wl,-O1 -Wl,--as-needed' QMAKE_LFLAGS_RELEASE= QMAKE_LFLAGS_DEBUG= -o Makefile.LLIntOffsetsExtractor ) && make -f Makefile.LLIntOffsetsExtractor 
make[2]: Entering directory '/var/tmp/portage/dev-qt/qtwebkit-5.5.1/work/qtwebkit-opensource-src-5.5.1/Source/JavaScriptCore'
ruby /var/tmp/portage/dev-qt/qtwebkit-5.5.1/work/qtwebkit-opensource-src-5.5.1/Source/JavaScriptCore/offlineasm/generate_offset_extractor.rb llint/LowLevelInterpreter.asm LLIntDesiredOffsets.h
/usr/lib64/ruby/2.0.0/rubygems.rb:15:in `require': cannot load such file -- rubygems/compatibility (LoadError)
        from /usr/lib64/ruby/2.0.0/rubygems.rb:15:in `<top (required)>'
        from <internal:gem_prelude>:1:in `require'
        from <internal:gem_prelude>:1:in `<compiled>'
Makefile.LLIntOffsetsExtractor:317: recipe for target 'LLIntDesiredOffsets.h' failed
make[2]: *** [LLIntDesiredOffsets.h] Error 1
make[2]: Leaving directory '/var/tmp/portage/dev-qt/qtwebkit-5.5.1/work/qtwebkit-opensource-src-5.5.1/Source/JavaScriptCore'
Makefile.JavaScriptCore:42: recipe for target 'sub-LLIntOffsetsExtractor-pro-make_first-ordered' failed
make[1]: *** [sub-LLIntOffsetsExtractor-pro-make_first-ordered] Error 2
make[1]: Leaving directory '/var/tmp/portage/dev-qt/qtwebkit-5.5.1/work/qtwebkit-opensource-src-5.5.1/Source/JavaScriptCore'
Makefile:92: recipe for target 'sub-Source-JavaScriptCore-JavaScriptCore-pro-make_first-ordered' failed
make: *** [sub-Source-JavaScriptCore-JavaScriptCore-pro-make_first-ordered] Error 2
 * ERROR: dev-qt/qtwebkit-5.5.1::gentoo failed (compile phase):
 *   emake failed
 * 
 * If you need support, post the output of `emerge --info '=dev-qt/qtwebkit-5.5.1::gentoo'`,
 * the complete build log and the output of `emerge -pqv '=dev-qt/qtwebkit-5.5.1::gentoo'`.
 * The complete build log is located at '/var/tmp/portage/dev-qt/qtwebkit-5.5.1/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/dev-qt/qtwebkit-5.5.1/temp/environment'.
 * Working directory: '/var/tmp/portage/dev-qt/qtwebkit-5.5.1/work/qtwebkit-opensource-src-5.5.1'
 * S: '/var/tmp/portage/dev-qt/qtwebkit-5.5.1/work/qtwebkit-opensource-src-5.5.1'


# emerge --info
Portage 2.2.18 (python 2.7.9-final-0, default/linux/amd64/13.0, gcc-4.9.3, glibc-2.21-r1, 4.1.6-default-pciehp x86_64)
=================================================================
System uname: Linux-4.1.6-default-pciehp-x86_64-Intel-R-_Core-TM-_i7-2640M_CPU_@_2.80GHz-with-gentoo-2.2
KiB Mem:    16361120 total,   8945648 free
KiB Swap:   16776188 total,  16776188 free
Timestamp of repository gentoo: Fri, 23 Oct 2015 12:30:01 +0000
sh bash 4.3_p42
ld GNU ld (Gentoo 2.25.1 p1.1) 2.25.1
app-shells/bash:          4.3_p42::gentoo
dev-java/java-config:     2.2.0::gentoo
dev-lang/perl:            5.20.2::gentoo
dev-lang/python:          2.7.9-r2::gentoo, 3.2.5-r6::gentoo, 3.4.3::gentoo
dev-util/cmake:           3.2.1::gentoo
dev-util/pkgconfig:       0.28-r2::gentoo
sys-apps/baselayout:      2.2::gentoo
sys-apps/openrc:          0.18.3::gentoo
sys-apps/sandbox:         2.6-r1::gentoo
sys-devel/autoconf:       2.13::gentoo, 2.69-r1::gentoo
sys-devel/automake:       1.11.6-r1::gentoo, 1.12.6::gentoo, 1.13.4::gentoo, 1.14::gentoo, 1.15::gentoo
sys-devel/binutils:       2.25.1-r1::gentoo
sys-devel/gcc:            4.3.6-r1::gentoo, 4.4.7::gentoo, 4.6.4::gentoo, 4.7.4::gentoo, 4.8.4::gentoo, 4.9.3::gentoo
sys-devel/gcc-config:     1.8::gentoo
sys-devel/libtool:        2.4.6-r1::gentoo
sys-devel/make:           4.1-r1::gentoo
sys-kernel/linux-headers: 4.0::gentoo (virtual/os-headers)
sys-libs/glibc:           2.21-r1::gentoo
Repositories:

gentoo
    location: /usr/portage
    sync-type: rsync
    sync-uri: rsync://rsync.gentoo.org/gentoo-portage
    priority: -1000

science
    location: /home/mmokrejs/proj/sci
    masters: gentoo
    priority: 0

x-portage
    location: /usr/local/portage
    masters: gentoo
    priority: 1

layman
    location: /var/lib/layman
    masters: gentoo
    priority: 2

haskell
    location: /var/lib/layman/haskell
    masters: gentoo
    priority: 50

ACCEPT_KEYWORDS="amd64 ~amd64"
ACCEPT_LICENSE="* -@EULA dlj-1.1 sun-bcla-java-vm Oracle-BCLA-JavaSE IBM-J1.6 skype-eula Nero-EULA-US AdobeFlash-10.3 skype-4.0.0.7-copyright AdobeFlash-11.x"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -pipe -maes -mpclmul -mpopcnt -mavx -march=native"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /etc/stunnel/stunnel.conf /usr/lib64/libreoffice/program/sofficerc /usr/share/easy-rsa /usr/share/gnupg/qualified.txt /usr/share/maven-bin-3.2/conf /var/bind /var/lib/hsqldb /var/spool/torque"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/dconf /etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php5.4/ext-active/ /etc/php/apache2-php5.5/ext-active/ /etc/php/apache2-php5.6/ext-active/ /etc/php/cgi-php5.4/ext-active/ /etc/php/cgi-php5.5/ext-active/ /etc/php/cgi-php5.6/ext-active/ /etc/php/cli-php5.4/ext-active/ /etc/php/cli-php5.5/ext-active/ /etc/php/cli-php5.6/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c"
CXXFLAGS="-O2 -pipe -maes -mpclmul -mpopcnt -mavx -march=native"
DISTDIR="/usr/portage/distfiles"
FCFLAGS="-O2 -pipe"
FEATURES="assume-digests binpkg-logs config-protect-if-modified distlocks ebuild-locks fixlafiles merge-sync news nostrip parallel-fetch preserve-libs protect-owned sandbox sfperms splitdebug strict unknown-features-warn unmerge-logs unmerge-orphans userfetch userpriv usersandbox usersync"
FFLAGS="-O2 -pipe"
GENTOO_MIRRORS="rsync://ftp.fi.muni.cz/pub/linux/gentoo/ rsync://gentoo.mirror.dkm.cz/gentoo/ ftp://gentoo.mirror.web4u.cz/"
LDFLAGS="-Wl,-O1 -Wl,--as-needed"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --omit-dir-times --compress --force --whole-file --delete --stats --human-readable --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
USE="X acpi alsa amd64 amr apache apache2 apulse avx berkdb bindist bluetooth boost bzip2 cairo cgi cli coin consolekit cracklib crypt cryptlib cups cxx dbus device-mapper dhcp directfb dri drm dvd emboss encode fax fbcon ffmpeg flac fontconfig fortran gbm gd gdbm geoip gimp glpk gnutls gpm gtk hal hpijs hwdb iconv id3tag imaging innodb java jce jpeg jpg keymap ladspa lapack laptop lcms libnotify lm_sensors mad matroska mmx mmxext modules mpi mpich2 multilib mysql ncurses nfs nls nptl nptlonly nscd nsplugin ntfsprogs ocr ogg opengl openmp pam parport pcre pdf perl php png policykit polkit ppds pppd python qt3support readline rendering resolvconf scanner seccomp server session slideshow sndfile sqlite sse sse2 sse3 sse4_1 sse4_2 ssl ssse3 suexec svg syslog tcl tcpd threads tiff tk truetype udev unicode usb v4l v4l2 vim-syntax vnc wavpack wifi x11 xattr xcb xml xorg xrandr xv xvid xvmc zlib" ABI_X86="64 32" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" APACHE2_MODULES="alias authz_host auth_basic auth_digest cgi cgid deflate dir env filter include info mem_cache mime mime_magic negotiation remoteip setenvif status userdir vhost_alias rewrite usertrack cache file_cache disk_cache charset_lite log_config log_forensic" CALLIGRA_FEATURES="kexi words flow plan sheets stage tables krita karbon braindump author" CAMERAS="ptp2" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" CPU_FLAGS_X86="aes avx mmx mmxext popcnt sse sse2 sse3 sse4_1 sse4_2 ssse3" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf superstar2 timing tsip tripmate tnt ublox ubx" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LIBREOFFICE_EXTENSIONS="presenter-console presenter-minimizer" LINGUAS="en en_US en_GB cs cz" OFFICE_IMPLEMENTATION="libreoffice" PHP_TARGETS="php5-4 php5-5" PYTHON_SINGLE_TARGET="python2_7" PYTHON_TARGETS="python2_7 python3_2" RUBY_TARGETS="ruby20 ruby21" USERLAND="GNU" VIDEO_CARDS="vesa vmware fbdev intel i915 i965" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account"
USE_PYTHON="2.7"
Unset:  CC, CPPFLAGS, CTARGET, CXX, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Martin Mokrejš





          2015-10-27 10:31:38 UTC
        

Cannot comment on the status of my ruby setup (whether it works or not but configure should have tested it). See bug #538450 .




Comment 2


Davide Pesavento (RETIRED)






          2015-10-27 12:21:42 UTC
        

(In reply to Martin Mokrejš from comment #1)
> Cannot comment on the status of my ruby setup (whether it works or not but
> configure should have tested it). See bug #538450 .

Uh? I have no idea what that means, can you rephrase please? Also how is bug 538450 related to this?

IIRC the configure only checks for the presence of a ruby interpreter, not for any gems, so it could be a missing dependency. Do you have rubygems installed?




Comment 3


Martin Mokrejš





          2015-10-28 12:07:22 UTC
        

Hi Davide,
  portage complained last weeks about ruby 1.9 being phased out. After the qtwebkit compile issue I uninstalled the rubygems altogether, but maybe check the timestamps below. I tried tai64nlocal from daemontools but they do not convert the numbers to date/time.

# grep rubygems /var/log/emerge.log
...
1405272626:  >>> emerge (5 of 39) dev-ruby/rubygems-2.0.14-r1 to /
1405272626:  === (5 of 39) Cleaning (dev-ruby/rubygems-2.0.14-r1::/mnt/1TB/usr/portage/dev-ruby/rubygems/rubygems-2.0.14-r1.ebuild)
1405272627:  === (5 of 39) Compiling/Merging (dev-ruby/rubygems-2.0.14-r1::/mnt/1TB/usr/portage/dev-ruby/rubygems/rubygems-2.0.14-r1.ebuild)
1405272651:  === (5 of 39) Merging (dev-ruby/rubygems-2.0.14-r1::/mnt/1TB/usr/portage/dev-ruby/rubygems/rubygems-2.0.14-r1.ebuild)
1405272661:  >>> AUTOCLEAN: dev-ruby/rubygems:0
1405272674:  === (5 of 39) Post-Build Cleaning (dev-ruby/rubygems-2.0.14-r1::/mnt/1TB/usr/portage/dev-ruby/rubygems/rubygems-2.0.14-r1.ebuild)
1405272674:  ::: completed emerge (5 of 39) dev-ruby/rubygems-2.0.14-r1 to /
1424075227:  *** emerge  --unmerge rubygems
1424075232: === Unmerging... (dev-ruby/rubygems-2.0.14-r1)
1424075237:  >>> unmerge success: dev-ruby/rubygems-2.0.14-r1
1424075503:  *** emerge  --unmerge virtual/rubygems
1424075509: === Unmerging... (virtual/rubygems-4)
1424075513:  >>> unmerge success: virtual/rubygems-4
1424075513: === Unmerging... (virtual/rubygems-6)
1424075516:  >>> unmerge success: virtual/rubygems-6
1424075516: === Unmerging... (virtual/rubygems-1)
1424075520:  >>> unmerge success: virtual/rubygems-1
1428657220:  >>> emerge (9 of 41) dev-ruby/rubygems-2.4.6 to /
1428657220:  === (9 of 41) Cleaning (dev-ruby/rubygems-2.4.6::/mnt/1TB/usr/portage/dev-ruby/rubygems/rubygems-2.4.6.ebuild)
1428657220:  === (9 of 41) Compiling/Merging (dev-ruby/rubygems-2.4.6::/mnt/1TB/usr/portage/dev-ruby/rubygems/rubygems-2.4.6.ebuild)
1428657225:  === (9 of 41) Merging (dev-ruby/rubygems-2.4.6::/mnt/1TB/usr/portage/dev-ruby/rubygems/rubygems-2.4.6.ebuild)
1428657228:  >>> AUTOCLEAN: dev-ruby/rubygems:0
1428657233:  === (9 of 41) Post-Build Cleaning (dev-ruby/rubygems-2.4.6::/mnt/1TB/usr/portage/dev-ruby/rubygems/rubygems-2.4.6.ebuild)
1428657233:  ::: completed emerge (9 of 41) dev-ruby/rubygems-2.4.6 to /
1428657233:  >>> emerge (10 of 41) virtual/rubygems-10 to /
1428657233:  === (10 of 41) Cleaning (virtual/rubygems-10::/mnt/1TB/usr/portage/virtual/rubygems/rubygems-10.ebuild)
1428657233:  === (10 of 41) Compiling/Merging (virtual/rubygems-10::/mnt/1TB/usr/portage/virtual/rubygems/rubygems-10.ebuild)
1428657235:  === (10 of 41) Merging (virtual/rubygems-10::/mnt/1TB/usr/portage/virtual/rubygems/rubygems-10.ebuild)
1428657238:  >>> AUTOCLEAN: virtual/rubygems:0
1428657240:  === (10 of 41) Post-Build Cleaning (virtual/rubygems-10::/mnt/1TB/usr/portage/virtual/rubygems/rubygems-10.ebuild)
1428657240:  ::: completed emerge (10 of 41) virtual/rubygems-10 to /
1445891965:  *** emerge  --unmerge dev-ruby/rubygems sci-biology/Atlas2
1445891971: === Unmerging... (dev-ruby/rubygems-2.4.6)
1445891976:  >>> unmerge success: dev-ruby/rubygems-2.4.6



At the moment I cannot install back:

# emerge -uN dev-ruby/rubygems

 * IMPORTANT: 9 news items need reading for repository 'gentoo'.
 * Use eselect news read to view new items.

Calculating dependencies... done!
[ebuild  NS    ] dev-lang/ruby-2.1.7 [2.0.0_p645] USE="berkdb gdbm ncurses rdoc readline ssl -debug -doc -examples -ipv6 -rubytests -socks5 -xemacs"
[ebuild  N     ] dev-ruby/rubygems-2.4.8  USE="server {-test}" RUBY_TARGETS="ruby20 ruby21 (-ruby19) -ruby22"
[ebuild     U  ] virtual/rubygems-11 [10] RUBY_TARGETS="ruby21* (-ruby19*)"
[ebuild   R    ] dev-ruby/rake-10.4.2  RUBY_TARGETS="ruby21* (-ruby19*)"
[ebuild     U  ] dev-ruby/json-1.8.3 [1.8.2-r1] RUBY_TARGETS="ruby21* (-ruby19*)"
[ebuild  N     ] dev-ruby/builder-3.2.2-r1  USE="-doc {-test}" RUBY_TARGETS="ruby20 ruby21 (-ruby19) -ruby22"
[ebuild     U  ] dev-ruby/racc-1.4.13 [1.4.12] RUBY_TARGETS="ruby21* (-ruby19*)"
[ebuild   R    ] dev-ruby/rdoc-4.1.2-r1  RUBY_TARGETS="ruby21* (-ruby19*)"

!!! Multiple package instances within a single package slot have been pulled
!!! into the dependency graph, resulting in a slot conflict:

virtual/rubygems:0

  (virtual/rubygems-11:0/0::gentoo, ebuild scheduled for merge) pulled in by
    virtual/rubygems[ruby_targets_ruby21] required by (dev-ruby/json-1.8.3:0/0::gentoo, ebuild scheduled for merge)
                     ^^^^^^^^^^^^^^^^^^^
    virtual/rubygems[ruby_targets_ruby21] required by (dev-ruby/rdoc-4.1.2-r1:0/0::gentoo, ebuild scheduled for merge)
                     ^^^^^^^^^^^^^^^^^^^
    virtual/rubygems[ruby_targets_ruby21] required by (dev-ruby/racc-1.4.13:0/0::gentoo, ebuild scheduled for merge)
                     ^^^^^^^^^^^^^^^^^^^
    virtual/rubygems[ruby_targets_ruby21] required by (dev-ruby/builder-3.2.2-r1:3.2/3.2::gentoo, ebuild scheduled for merge)
                     ^^^^^^^^^^^^^^^^^^^
    virtual/rubygems[ruby_targets_ruby21] required by (dev-ruby/rake-10.4.2:0/0::gentoo, ebuild scheduled for merge)
                     ^^^^^^^^^^^^^^^^^^^
    virtual/rubygems[ruby_targets_ruby21] required by (dev-lang/ruby-2.1.7:2.1/2.1::gentoo, ebuild scheduled for merge)
                     ^^^^^^^^^^^^^^^^^^^
    =virtual/rubygems-11[ruby_targets_ruby20] required by (dev-ruby/rdoc-4.1.2-r1:0/0::gentoo, ebuild scheduled for merge)
    ^                 ^^
    (and 12 more with the same problems)

  (virtual/rubygems-10:0/0::gentoo, installed) pulled in by
    virtual/rubygems[ruby_targets_ruby19] required by (dev-ruby/pkg-config-1.1.6:0/0::gentoo, installed)
                     ^^^^^^^^^^^^^^^^^^^


It may be possible to solve this problem by using package.mask to
prevent one of those packages from being selected. However, it is also
possible that conflicting dependencies exist such that they are
impossible to satisfy simultaneously.  If such a conflict exists in
the dependencies of two different packages, then those packages can
not be installed simultaneously. You may want to try a larger value of
the --backtrack option, such as --backtrack=30, in order to see if
that will solve this conflict automatically.

For more information, see MASKED PACKAGES section in the emerge man
page or refer to the Gentoo Handbook.

#

So, merely this about 'Why I do not know how much broken is my ruby-related install or not'. Second, I thought that the compile process calls a bundled ruby-based utility "rubygems/compatibility" but I did not check what is in Makefile in real. I just wanted to say configure should have checked what needs to be functional (ruby, maybe even rubygems as you say).

Martin




Comment 4


Davide Pesavento (RETIRED)






          2015-10-29 02:24:09 UTC
        

@ruby team, I can't tell if the reporter's ruby installation is broken or if it's really a missing dep or something else altogether... Can you please take a look at comment #3 and advise?
Thanks.




Comment 5


Marc van der Sluys





          2015-11-29 13:02:40 UTC
        

I had the same issue, but moving from Ruby 1.9 to 2.0 (eselect ruby set ruby20) fixed this.




Comment 6


Ralf Ramsauer





          2016-01-17 00:31:35 UTC
        

Same here, changing to ruby23 (with rubygems) fixed the issue.




Comment 7


Davide Pesavento (RETIRED)






          2016-02-07 23:22:19 UTC
        

This is/was probably due to a not-new-enough eselect-ruby, which didn't know the existence of a new ruby version when dev-lang/ruby got upgraded, so the /usr/bin/{ruby,gem} symlinks were being removed instead of updated to point to the new version.

Ruby 2.3 has been fixed to require a recent enough eselect-ruby [1], so as long as the ruby team doesn't forget to release a new eselect-ruby and update the dep, this bug shouldn't occur again.

[1] https://gitweb.gentoo.org/repo/gentoo.git/commit/?id=0cbbf13c21a144ceae18716b4f4647add409d081









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

