Title: 92242 – sys-fs/lvm2-2.01.09 fails to compile
URL: https://bugs.gentoo.org/show_bug.cgi?id=92242

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 92242
sys-fs/lvm2-2.01.09 fails to compile
Last modified: 2005-05-11 07:27:19 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 92242 
      - sys-fs/lvm2-2.01.09 fails to compile


Summary:
sys-fs/lvm2-2.01.09 fails to compile
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:



http://www.usenetlinux.com/t-406254.html




Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-05-11 06:39 UTC by Eli Spizzichino





      Modified:
    
2005-05-11 07:27 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Eli Spizzichino





          2005-05-11 06:39:38 UTC
        

Trying to emerge lvm2 fails caused by compilation error for a linux header file.
Re-emerging linux header solves the problem

Reproducible: Always
Steps to Reproduce:
1. emerge -u lvm2

Steps to fix:
1. emerge linux-headers
2. emerge -u lvm2
3.

Actual Results:  
i686-pc-linux-gnu-gcc -c -I. -I../include -march=athlon-xp -O2 -pipe
-fomit-frame-pointer -march=athlon-xp -O2 -pipe -fomit-frame-pointer
-DLVM1_INTERNAL -DPOOL_INTERNAL -DCLUSTER_LOCKING_INTERNAL -DSNAPSHOT_INTERNAL
-DMIRRORED_INTERNAL -DREADLINE_SUPPORT -DDEVMAPPER_SUPPORT -DO_DIRECT_SUPPORT
-DHAVE_LIBDL -DHAVE_GETOPTLONG -DHAVE_RL_COMPLETION_MATCHES -fPIC -Wall -Wundef
-Wshadow -Wcast-align -Wwrite-strings -Wmissing-prototypes
-Wmissing-declarations -Wnested-externs -Winline -O2 -march=athlon-xp -O2 -pipe
-fomit-frame-pointer -DLVM1_INTERNAL -DPOOL_INTERNAL -DCLUSTER_LOCKING_INTERNAL
-DSNAPSHOT_INTERNAL -DMIRRORED_INTERNAL -DREADLINE_SUPPORT -DDEVMAPPER_SUPPORT
-DO_DIRECT_SUPPORT -DHAVE_LIBDL -DHAVE_GETOPTLONG -DHAVE_RL_COMPLETION_MATCHES
-fPIC -Wall -Wundef -Wshadow -Wcast-align -Wwrite-strings -Wmissing-prototypes
-Wmissing-declarations -Wnested-externs -Winline -O2 device/dev-io.c -o
device/dev-io.o
In file included from /usr/include/linux/wait.h:12,
                 from /usr/include/linux/fs.h:12,
                 from device/dev-io.c:34:
/usr/include/linux/list.h:44: error: conflicting types for `list_empty'
../include/list.h:61: error: previous declaration of `list_empty'
make[1]: *** [device/dev-io.o] Error 1
make[1]: *** Waiting for unfinished jobs....
make[1]: Leaving directory
`/var/tmp/portage/portage/lvm2-2.01.09/work/LVM2.2.01.09/lib'
make: *** [lib] Error 2

!!! ERROR: sys-fs/lvm2-2.01.09 failed.
!!! Function src_compile, Line 28, Exitcode 2
!!! compile problem




Comment 1


Jakub Moc (RETIRED)






          2005-05-11 06:57:37 UTC
        

> Re-emerging linux header solves the problem

So what




Comment 2


Jakub Moc (RETIRED)






          2005-05-11 06:57:37 UTC
        

> Re-emerging linux header solves the problem

So what´s the point of this bug, then? BTW, compiles just fine here.




Comment 3


Eli Spizzichino





          2005-05-11 07:16:37 UTC
        

I think the ebuild should make the step to recompile linux-headers before proceed to compile lvm2 if this is neccesary... 




Comment 4


Jakub Moc (RETIRED)






          2005-05-11 07:27:19 UTC
        

It is not necessary here and for a lot of other people, b/c it works just fine. Also, I can




Comment 5


Jakub Moc (RETIRED)






          2005-05-11 07:27:19 UTC
        

It is not necessary here and for a lot of other people, b/c it works just fine. Also, I can´t see how the ebuild would know that your linux headers are broken before compiling. ;-)









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

