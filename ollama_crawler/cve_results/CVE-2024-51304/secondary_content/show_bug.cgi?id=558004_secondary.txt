Title: 558004 – kactivitymanage break libQt5Sql.so.5.4.2
URL: https://bugs.gentoo.org/show_bug.cgi?id=558004

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 558004
kactivitymanage break libQt5Sql.so.5.4.2
Last modified: 2016-12-27 21:06:53 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 558004 
      - kactivitymanage break libQt5Sql.so.5.4.2


Summary:
kactivitymanage break libQt5Sql.so.5.4.2
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2015-08-17 10:25 UTC by Wallance





      Modified:
    
2016-12-27 21:06 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



esigra









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




This is emerge info of dev-qt/qtsql-5.4.2

              (qterror,6.17 KB,
                text/plain)

            
2015-08-17 10:25 UTC,

            Wallance




Details





This is emerge info of dev-qt/qtcore-4.8.7

              (qterror2,6.19 KB,
                text/plain)

            
2015-08-17 10:26 UTC,

            Wallance




Details





This is emerge info of x11-base/xorg-server-1.7.2

              (xorgerror,6.31 KB,
                text/plain)

            
2015-08-17 11:14 UTC,

            Wallance




Details





This is emerge info of app-office/wps-office

              (wpserror,6.24 KB,
                text/plain)

            
2015-08-17 22:59 UTC,

            Wallance




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Wallance





          2015-08-17 10:25:32 UTC
        

Created attachment 409228 [details]
This is emerge info of dev-qt/qtsql-5.4.2

Today, when I use my KDE, it just exited and return to sddm login entrance.
I am very curious why does this happen?
So I just run journalctl to find some logs.
The related are following:
kactivitymanage[957]: segfault at 7f37dcd23c50 ip 00007f37cc091fa1 sp 00007ffe4fb15d08 error 4 in libQt5Sql.so.5.4.2[7f37cc07e000+3f000]
wps[3602]: segfault at 8 ip 00007f76e96510b4 sp 00007fff9a4ab190 error 4 in libQtCore.so.4.7.4[7f76e92af000+af5000]
I also run dmesg to see something wrong.
The following are related:
Aug 17 14:20:32 Wallance kdeinit5[22869]: kdeinit5: Fatal IO error: client killed
Aug 17 14:20:32 Wallance kdeinit5[22869]: kdeinit5: sending SIGHUP to children.
Aug 17 14:20:32 Wallance kglobalaccel5[22884]: The X11 connection broke (error 1). Did the X11 server die?
Aug 17 14:20:32 Wallance kdeinit5[22873]: The X11 connection broke (error 1). Did the X11 server die?
Aug 17 14:20:32 Wallance kwalletd5[23101]: The X11 connection broke (error 1). Did the X11 server die?
Aug 17 14:20:32 Wallance kactivitymanagerd[22895]: The X11 connection broke (error 1). Did the X11 server die
Aug 17 14:20:32 Wallance kwin_x11[22915]: The X11 connection broke: I/O error (code 1)
Aug 17 14:20:32 Wallance kdeinit5[22869]: kdeinit5: sending SIGTERM to children.
Aug 17 14:20:32 Wallance kdeinit5[22869]: kdeinit5: Exit.

Aug 17 14:20:32 Wallance kwin_x11[22915]: The X11 connection broke: I/O error (code 1)
Aug 17 14:20:32 Wallance kdeinit5[22912]: The X11 connection broke (error 1). Did the X11 server die?
Aug 17 14:20:32 Wallance sddm[840]: Display server stopped.
Aug 17 14:20:32 Wallance kdeinit5[22871]: The X11 connection broke (error 1). Did the X11 server die?
Aug 17 14:20:32 Wallance sddm-helper[22823]: [PAM] Ended.
Aug 17 14:20:32 Wallance sddm[840]: Socket server stopping...
Aug 17 14:20:32 Wallance sddm[840]: Socket server stopped.
Aug 17 14:20:32 Wallance sddm[840]: Removing display 0 ...




Comment 1


Wallance





          2015-08-17 10:26:12 UTC
        

Created attachment 409230 [details]
This is emerge info of dev-qt/qtcore-4.8.7




Comment 2


Wallance





          2015-08-17 11:14:58 UTC
        

Created attachment 409236 [details]
This is emerge info of x11-base/xorg-server-1.7.2




Comment 3


Wallance





          2015-08-17 22:59:19 UTC
        

Created attachment 409308 [details]
This is emerge info of app-office/wps-office




Comment 4


Wallance





          2015-08-19 12:43:25 UTC
        

I have forgotten to add username into video group.Now I have added it and until now it didn't break down any more.




Comment 5


Wallance





          2015-08-23 03:27:03 UTC
        

But it is not resolved.It happens today.I just open firefox and konsole, vlc.




Comment 6


Wallance





          2015-08-23 03:28:16 UTC
        

But it is not resolved.It happens today.I just open firefox and konsole, vlc.




Comment 7


Wallance





          2015-08-25 05:30:19 UTC
        

After I upgrade my kde frameworks to 5.13, it is just fine now.Yesterday I find ksycoca5 in user's cache direcotry could lead to this problem and kf 5.13 just repair it. So now journalctl cannot find a flood of ksycoca log.




Comment 8


Alexandre Rostovtsev (RETIRED)






          2015-08-27 21:42:34 UTC
        

Are you still experiencing these crashes, or are they now fixed?

> upgrade my kde frameworks to 5.13

What exactly do you mean? I don't see any such version in portage.




Comment 9


Wallance





          2015-08-28 00:45:27 UTC
        

Now it's fine. KDE-frameworks 5.13 is in kde-frameworks/* in main tree.Please see github.com/gentoo/gentoo/kde-frameworks to find it.




Comment 10


Alexandre Rostovtsev (RETIRED)






          2015-08-28 15:28:03 UTC
        

OK. If you encounter this problem this again, feel free to open a bug.




Comment 11


Erik





          2016-05-02 04:22:22 UTC
        

I can not get into a KDE session. After an attempt, /var/log/everything/current contains:
[kernel] [43596.414637] kactivitymanage[24257]: segfault at 7f61d3b64c50 ip 00007f61c4838cd1 sp 00007ffe6b61dcb8 error 4 in libQt5Sql.so.5.6.0[7f61c4823000+46000]

I emerged LXDE as a workaround just to be able to run applications.

See also [https://bugs.kde.org/show_bug.cgi?id=348194].




Comment 12


Erik





          2016-12-27 21:06:53 UTC
        

KDE works again since a while.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

