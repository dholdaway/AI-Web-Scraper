Title: 259914 – media-libs/audiofile-0.2.6-r3 produces wrong wav headers
URL: https://bugs.gentoo.org/show_bug.cgi?id=259914

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 259914
media-libs/audiofile-0.2.6-r3 produces wrong wav headers
Last modified: 2010-05-08 09:59:42 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 259914 
      - media-libs/audiofile-0.2.6-r3 produces wrong wav headers


Summary:
media-libs/audiofile-0.2.6-r3 produces wrong wav headers
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Library

  (show other bugs)



Hardware:

All
        All
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux Gnome Desktop Team








URL:



http://bugs.launchpad.net/ubuntu/+sou...
        




Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-02-22 15:48 UTC by Thomas





      Modified:
    
2010-05-08 09:59 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



sound









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Thomas





          2009-02-22 15:48:47 UTC
        

Libaudiofile in this version produces wrong length information in the data and RIFF chunk of wav files because it internally uses the data type "float" for length calculations, with loss of precision.

Reproducible: Always

Steps to Reproduce:
1. create a wav file with 77.777.777 frames, 8 bit/sample, stereo
2. check the length written in the RIFF and data chunk, it will be wrong





I already filed a bug report and a patch to ubuntu launchpad, see:

https://bugs.launchpad.net/ubuntu/+source/audiofile/+bug/327018




Comment 1


Gilles Dartiguelongue (RETIRED)






          2009-02-22 18:31:24 UTC
        

did you try 0.2.6-r4 ?




Comment 2


Thomas





          2009-02-22 21:52:21 UTC
        

now yes, media-libs/audiofile-0.2.6-r4 behaves exactly the same.





Comment 3


Samuli Suominen (RETIRED)






          2009-05-13 18:52:32 UTC
        

http://launchpadlibrarian.net/22320508/audiofile-no-float.diff




Comment 4


Daniel Gryniewicz (RETIRED)






          2009-05-14 01:35:01 UTC
        

Won't that patch just fail if you tack more decimals on the end?  Or is there some format restriction that keeps that from happening?




Comment 5


Samuli Suominen (RETIRED)






          2010-04-28 16:05:42 UTC
        

try 0.2.7 for update




Comment 6


Thomas





          2010-05-08 09:59:42 UTC
        

I tested with v0.2.7 and was not able to reproduce the bug with the size mentioned above.

I also tested several other chunk sizes that are not representable in a "float", 
like (2^24 - 1) and around, but everything worked fine.

From my point of view we could set this bug to "resolved".









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

