Title: 243508 – app-arch/star: CC variable not respected
URL: https://bugs.gentoo.org/show_bug.cgi?id=243508

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 243508
app-arch/star: CC variable not respected
Last modified: 2008-10-29 15:44:53 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 243508 
      - app-arch/star: CC variable not respected


Summary:
app-arch/star: CC variable not respected
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Shell Tools project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:




tc-directly



 

        Show dependency tree





 





      Reported:
    
2008-10-23 23:57 UTC by Diego Elio Pettenò (RETIRED)





      Modified:
    
2008-10-29 15:44 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



pva









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Diego Elio Pettenò (RETIRED)






          2008-10-23 23:57:27 UTC
        

I'm filing this bug (from a template, mind you) because the ebuild I'm reporting it against failed to build once I removed my /usr/bin/{gcc,cc,c++,c99} binaries. This means that the ebuild is relying on gcc or cc as compiler, while it should use "$(tc-getCC)" so that user choices are respected, and cross-compiling works as intended.

This usually comes down to one of these tasks:

- use emake CC="$(tc-getCC)" for building, to ovewrite make's CC variable (defaults to "cc", some upstream rewrites it);
- the above plus replacing explicit "gcc" (or similar) calls with $(CC) so that the variable is actually respected;
- tc-export CC in src_compile before eventual econf.

For C++, you'd have to replace CC with CXX everywhere above, of course.

If your package is a special case on this, please let me know.

Thanks,
Diego




Comment 1


Peter Volkov (RETIRED)






          2008-10-29 15:44:53 UTC
        

Diego, I failed to reproduce this issue. Please if this is really this issue reopen bug with some details on how to reproduce this behavior. Thanks.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

