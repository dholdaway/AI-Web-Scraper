Title: 436082 – sys-fs/aufs3 with sys-kernel/tuxonice-sources-3.4.x - Failed Patch: aufs3-base-4.patch !
URL: https://bugs.gentoo.org/show_bug.cgi?id=436082

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 436082
sys-fs/aufs3 with sys-kernel/tuxonice-sources-3.4.x - Failed Patch: aufs3-base-4.patch !
Last modified: 2012-10-06 10:18:34 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 436082 
      - sys-fs/aufs3 with sys-kernel/tuxonice-sources-3.4.x - Failed Patch: aufs3-base-4.patch !


Summary:
sys-fs/aufs3 with sys-kernel/tuxonice-sources-3.4.x - Failed Patch: aufs3-bas...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Justin Lecher (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2012-09-24 10:00 UTC by rafnov





      Modified:
    
2012-10-06 10:18 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



ibuyandtrade0+bugs.gentoo.org
tommy









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build.log

              (build.log,2.37 KB,
                text/plain)

            
2012-09-24 10:00 UTC,

            rafnov




Details





emerge --info

              (emerge.info,13.68 KB,
                text/plain)

            
2012-09-24 10:01 UTC,

            rafnov




Details





patch.out

              (aufs3-base-4.patch.out,8.35 KB,
                text/plain)

            
2012-09-28 10:07 UTC,

            rafnov




Details





build.log

              (build.log,2.38 KB,
                text/plain)

            
2012-10-05 18:36 UTC,

            majlo




Details





aufs3-base-5.patch.out

              (aufs3-base-5.patch.out,11.84 KB,
                text/plain)

            
2012-10-05 18:37 UTC,

            majlo




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


rafnov





          2012-09-24 10:00:54 UTC
        

Created attachment 324786 [details]
build.log

Installing sys-fs/aufs3-3_p20120813 and three versions back fails on kernels 3.4.x with the following output:

 * Messages for package sys-fs/aufs3-3_p20120813:

 * Patching your kernel...
 * Failed Patch: aufs3-base-4.patch !
 *  ( /usr/portage/sys-fs/aufs3/files/aufs3-base-4.patch )
 * 
 * Include in your bugreport the contents of:
 * 
 *   /var/tmp/portage/sys-fs/aufs3-3_p20120813/temp/aufs3-base-4.patch.out
 * ERROR: sys-fs/aufs3-3_p20120813 failed (setup phase):
 *   Failed Patch: aufs3-base-4.patch!
 * 
 * Call stack:
 *                  ebuild.sh, line  85:  Called pkg_setup
 *   aufs3-3_p20120813.ebuild, line  72:  Called epatch '/usr/portage/sys-fs/aufs3/files/aufs3-base-4.patch' '/usr/portage/sys-fs/aufs3/files/aufs3-standalone-4.patch'
 *              eutils.eclass, line 325:  Called epatch '/usr/portage/sys-fs/aufs3/files/aufs3-base-4.patch'
 *              eutils.eclass, line 530:  Called die
 * The specific snippet of code:
 *                      die "Failed Patch: ${patchname}!"
 * 
 * If you need support, post the output of `emerge --info '=sys-fs/aufs3-3_p20120813'`,
 * the complete build log and the output of `emerge -pqv '=sys-fs/aufs3-3_p20120813'`.
 * The complete build log is located at '/var/tmp/portage/sys-fs/aufs3-3_p20120813/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/sys-fs/aufs3-3_p20120813/temp/die.env'.
 * Working directory: '/usr/src/linux'
 * S: '/var/tmp/portage/sys-fs/aufs3-3_p20120813/work/aufs3-standalone'
 * 
 * The following package has failed to build or install:
 * 
 *  (sys-fs/aufs3-3_p20120813::gentoo, ebuild scheduled for merge), Log file:
 *   '/var/tmp/portage/sys-fs/aufs3-3_p20120813/temp/build.log'

Build.log and emerge --info in the attachments.




Comment 1


rafnov





          2012-09-24 10:01:17 UTC
        

Created attachment 324788 [details]
emerge --info




Comment 2


rafnov





          2012-09-24 10:03:26 UTC
        

file /usr/src/linux
/usr/src/linux: symbolic link to `linux-3.4.11-tuxonice'




Comment 3


rafnov





          2012-09-28 10:07:30 UTC
        

Created attachment 325180 [details]
patch.out




Comment 4


Justin Lecher (RETIRED)






          2012-10-05 14:05:55 UTC
        

Are you using a clean and fresh source directory?




Comment 5


majlo





          2012-10-05 15:36:25 UTC
        

I had same problem with sys-kernel/pf-sources-3.5.4 and sys-devel/patch-2.7.0. Masking >=patch-2.7.0 helped, but now it's working with 2.7.1. I don't have time to check with 2.7.0 again though (not in the tree anymore).




Comment 6


Justin Lecher (RETIRED)






          2012-10-05 16:16:52 UTC
        

so you are thinking it is a patch-2.7.0 bug?




Comment 7


rafnov





          2012-10-05 17:20:03 UTC
        

(In reply to comment #4)
> Are you using a clean and fresh source directory?

I've removed package of sys-kernel/tuxonice-sources-3.4.11 , reinstalled it, then succesfully installed sys-fs/aufs3-3_p20120813 and compiled kernel with it.




Comment 8


majlo





          2012-10-05 18:36:22 UTC
        

Yes, tried again with patch-2.7 from here http://sources.gentoo.org/cgi-bin/viewvc.cgi/gentoo-x86/sys-devel/patch/patch-2.7.ebuild?revision=1.4 and aufs3 fails while patching aufs3-base-5.patch.




Comment 9


majlo





          2012-10-05 18:36:34 UTC
        

Created attachment 325742 [details]
build.log




Comment 10


majlo





          2012-10-05 18:37:20 UTC
        

Created attachment 325744 [details]
aufs3-base-5.patch.out




Comment 11


Justin Lecher (RETIRED)






          2012-10-06 10:18:34 UTC
        

as sys-devel/patch-2.7 isn't in the tree anymore and sys-devel/patch-2.7.1 works I will close this bug.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

