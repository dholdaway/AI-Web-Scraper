Title: 471650 – =sys-kernel/gentoo-sources-3.9.3 - Missing Makefile.
URL: https://bugs.gentoo.org/show_bug.cgi?id=471650

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 471650
=sys-kernel/gentoo-sources-3.9.3 - Missing Makefile.
Last modified: 2013-05-29 13:31:09 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 471650 
      - =sys-kernel/gentoo-sources-3.9.3 - Missing Makefile.


Summary:
=sys-kernel/gentoo-sources-3.9.3 - Missing Makefile.
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Core system

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Kernel Bug Wranglers and Kernel Maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2013-05-29 05:56 UTC by Hiroshi Takenaka





      Modified:
    
2013-05-29 13:31 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Hiroshi Takenaka





          2013-05-29 05:56:29 UTC
        

By emergeing --update @world, the kernel source was updated.
However, the source does not include a Makefile.
Some messages during the world update shows
that I need to rebuild the kernel but I cannot rebuild it,
owing to the lack of a Makefile.




Comment 1


Tom Wijsman (TomWij) (RETIRED)






          2013-05-29 08:28:29 UTC
        

Please paste the output of `emerge --info` in a comment.




Comment 2


Hiroshi Takenaka





          2013-05-29 09:14:32 UTC
        

emerge --info
------
Portage 2.1.12.1 (default/linux/x86/13.0, gcc-4.7.3, glibc-2.17, 3.5.7-gentoo \
i686)
=================================================================
System uname: Linux-3.5.7-gentoo-i686-Intel-R-_Celeron-R-_CPU_450_@_2.20GHz-wi\
th-gentoo-2.2
KiB Mem:      769064 total,     20124 free
KiB Swap:    1048572 total,    960680 free
Timestamp of tree: Thu, 23 May 2013 07:45:01 +0000
ld GNU ld (GNU Binutils) 2.23.1
app-shells/bash:          4.2_p45
dev-lang/python:          2.7.4, 3.2.4, 3.3.2
dev-util/cmake:           2.8.10.2-r2
dev-util/pkgconfig:       0.28
sys-apps/baselayout:      2.2
sys-apps/openrc:          0.11.8
sys-apps/sandbox:         2.6-r1
sys-devel/autoconf:       2.13, 2.69
sys-devel/automake:       1.11.6, 1.12.6, 1.13.2
sys-devel/binutils:       2.23.1
sys-devel/gcc:            4.7.3
sys-devel/gcc-config:     1.8
sys-devel/libtool:        2.4.2
sys-devel/make:           3.82-r4
sys-kernel/linux-headers: 3.9 (virtual/os-headers)
sys-libs/glibc:           2.17
Repositories: gentoo x-portage
ACCEPT_KEYWORDS="x86 ~x86"
ACCEPT_LICENSE="* -@EULA"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=i686 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/config /usr/share/gnupg/qualified.txt"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/dconf /etc/env.d /etc/font\
s/fonts.conf /etc/gconf /etc/gentoo-release /etc/revdep-rebuild /etc/sandbox.d\
 /etc/terminfo"
CXXFLAGS="-O2 -march=i686 -pipe"
DISTDIR="/usr/portage/distfiles"
FCFLAGS="-O2 -march=i686 -pipe"
FEATURES="assume-digests binpkg-logs config-protect-if-modified distlocks ebui\
ld-locks fixlafiles merge-sync news parallel-fetch preserve-libs protect-owned\
 sandbox sfperms strict unknown-features-warn unmerge-logs unmerge-orphans use\
rfetch"
FFLAGS="-O2 -march=i686 -pipe"
GENTOO_MIRRORS="http://gentoo.mirrors.hoobly.com/"
LC_ALL="ja_JP.utf8"
LDFLAGS="-Wl,-O1 -Wl,--as-needed"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compres\
s --force --whole-file --delete --stats --human-readable --timeout=180 --exclu\
de=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.us.gentoo.org/gentoo-portage"
USE="X acl acpi alsa berkdb bzip2 cjk cli cracklib crypt cxx dri dvd fortran g\
dbm gpm gstreamer hal iconv modules mudflap ncurses nls nptl opengl openmp pam\
 pcre readline session ssl tcpd unicode upcall x86 xfce zlib" ABI_X86="32" ALS\
A_CARDS="ens1371" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop em\
pty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mula\
w multi null plug rate route share shm softvol" APACHE2_MODULES="authn_core au\
thz_core socache_shmcb unixd actions alias auth_basic authn_alias authn_anon a\
uthn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile auth\
z_host authz_owner authz_user autoindex cache cgi cgid dav dav_fs dav_lock def\
late dir disk_cache env expires ext_filter file_cache filter headers include i\
nfo log_config logio mem_cache mime mime_magic negotiation rewrite setenvif sp\
eling status unique_id userdir usertrack vhost_alias" CALLIGRA_FEATURES="kexi \
words flow plan sheets stage tables krita karbon braindump author" CAMERAS="pt\
p2" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" ELIBC=\
"glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt\
 gpsclock itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v\
2 rtcm104v3 sirf superstar2 timing tsip tripmate tnt ubx" INPUT_DEVICES="evdev\
 keyboard mouse vmmouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 g\
lk hd44780 lb216 lcdm001 mtxorb ncurses text" LIBREOFFICE_EXTENSIONS="presente\
r-console presenter-minimizer" LINGUAS="ja"  OFFICE_IMPLEMENTATION="libreoffice\
" PHP_TARGETS="php5-3" PYTHON_SINGLE_TARGET="python2_7" PYTHON_TARGETS="python\
2_7 python3_2" RUBY_TARGETS="ruby18 ruby19" USERLAND="GNU" VIDEO_CARDS="vmware\
 vga" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p \
iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpm\
ac delude chaos account"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, PORTAGE_BU\
NZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_O\
PTS, USE_PYTHON




Comment 3


Tom Wijsman (TomWij) (RETIRED)






          2013-05-29 10:06:34 UTC
        

Okay, so I first thought this had to do with INSTALL_MASK; but it seems that is unset so that's not the cause.

Well, since others are not reporting this and some people are running this fine I think something must have gone wrong during the emege, but I don't see why.

Could you try to `emerge --sync` (because your tree is almost a week out of date) and `emerge =sys-kernel/gentoo-sources-3.9.3` again to see if it is present when you try again?

If not, please attach the build log if the Makefile is still missing.

/var/tmp/portage/sys-kernel/gentoo-sources-3.9.3/temp/build.log




Comment 4


Hiroshi Takenaka





          2013-05-29 10:52:46 UTC
        

I've found the Makefile in /usr/src/linux-3.9.3.
And I noticed that the /usr/src/linux was linked to an older source directory.
Emerge doesn't seem to make a symlink to the emerged kernel source.




Comment 5


Eric F. GARIOUD





          2013-05-29 13:00:03 UTC
        

(In reply to Hiroshi Takenaka from comment #4)
> I've found the Makefile in /usr/src/linux-3.9.3.
> And I noticed that the /usr/src/linux was linked to an older source
> directory.
> Emerge doesn't seem to make a symlink to the emerged kernel source.

The ebuild will make the symlink only if you explicitly requires it to do so via the setting of the "symlink" use flag.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

