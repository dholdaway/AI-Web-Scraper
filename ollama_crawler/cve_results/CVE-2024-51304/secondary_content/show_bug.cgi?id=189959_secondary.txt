Title: 189959 – /lib/rcscripts/init.d directory did not exist
URL: https://bugs.gentoo.org/show_bug.cgi?id=189959

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 189959
/lib/rcscripts/init.d directory did not exist
Last modified: 2007-10-29 15:27:03 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 189959 
      - /lib/rcscripts/init.d directory did not exist


Summary:
/lib/rcscripts/init.d directory did not exist
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] baselayout

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo's Team for Core System packages








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-08-23 17:53 UTC by Len Meakin





      Modified:
    
2007-10-29 15:27 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Len Meakin





          2007-08-23 17:53:57 UTC
        

After upgrading to baselayout-2.0.0_rc3-r1 (and performing etc-update) upon reboot the system would not boot complaining about the mount point /lib/rcscripts/init.d not existing. This was the case, created directory rebooted and all was well.


Reproducible: Didn't try




Comment 1


Roy Marples (RETIRED)






          2007-08-24 08:38:52 UTC
        

baselayout always installs this file
/lib/rcscripts/init.d/.keep

You also forgot to attach your `emerge --info`




Comment 2


Zac Medico






          2007-08-24 16:32:59 UTC
        

Perhaps the problem was triggered by a mount shadowing the .keep file? When is this mount point mounted and unmounted, and what filesystem is mounted there? Portage is oblivious to mounts, so it's up to caller to manage mounts.




Comment 3


Len Meakin





          2007-08-25 18:40:47 UTC
        

Portage 2.1.3.6 (default-linux/x86/2007.0/desktop, gcc-4.2.0, glibc-2.6.1-r0, 2.6.22-gentoo-r5 i686)
=================================================================
System uname: 2.6.22-gentoo-r5 i686 Intel(R) Core(TM)2 CPU T5300 @ 1.73GHz
Gentoo Base System release 2.0.0_rc3
Timestamp of tree: Sat, 25 Aug 2007 18:30:01 +0000
app-shells/bash:     3.2_p17-r1
dev-java/java-config: 1.3.7, 2.0.33-r1
dev-lang/python:     2.4.4-r4, 2.5.1-r2
dev-python/pycrypto: 2.0.1-r6
sys-apps/baselayout: 2.0.0_rc3-r1
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.61-r1
sys-devel/automake:  1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.17-r1
sys-devel/gcc-config: 1.4.0
sys-devel/libtool:   1.5.24
virtual/os-headers:  2.6.22-r2
ACCEPT_KEYWORDS="x86 ~x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=i686 -O2 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/X11/xkb"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/revdep-rebuild /etc/splash /etc/terminfo"
CXXFLAGS="-march=i686 -O2 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="distlocks metadata-transfer sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LINGUAS="en_GB"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X aac acl acpi alsa berkdb bitmap-fonts bogofilter cairo cdr cli cracklib crypt cups dbus divx dri dvd dvdr dvdread eds emboss emerald encode esd evo fam ffmpeg firefox fortran gdbm gif glitz gnome gpm gstreamer gtk hal iconv intel ipv6 isdnlog jpeg kerberos mad midi mikmod mng mp3 mpeg mudflap ncurses nls nptl nptlonly ogg opengl openmp oss pam pcre pdf perl png pppd python qt3support quicktime readline reflection samba sdl session spell spl ssl svg tcpd threads tiff truetype truetype-fonts type1-fonts unicode vorbis win32codecs x264 x86 xml xorg xv xvid zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1 emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" ELIBC="glibc" INPUT_DEVICES="keyboard mouse synaptics evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en_GB" USERLAND="GNU" VIDEO_CARDS="intel vesa vga i810"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY






Comment 4


Len Meakin





          2007-08-25 18:44:24 UTC
        

There are two data partitions on a single driver for this system,

/dev/sda1 = /boot
/dev/sda2 = /

No complex mounting is performed on the system. This box was built about 2 weeks ago using the 2007.0 Livecd, and has since been changed to ~x86 and had a full world recompile to gcc-4.2.0. 






Comment 5


Roy Marples (RETIRED)






          2007-08-28 08:45:50 UTC
        

(In reply to comment #2)
> Perhaps the problem was triggered by a mount shadowing the .keep file? When is
> this mount point mounted and unmounted, and what filesystem is mounted there?
> Portage is oblivious to mounts, so it's up to caller to manage mounts.

Right. When upgrading from baselayout-1.x, the /lib/rcscripts/init.d directory should not exist or be mounted.
If baselayout-2 is already running, then it has mounted it as tmpfs.




Comment 6


Marius Mauch (RETIRED)






          2007-10-06 16:47:12 UTC
        

I don't see anything here that deal with portage unless someone can show that portage didn't install/removed that directory.




Comment 7


Len Meakin





          2007-10-06 17:46:18 UTC
        

I have since performed  the same upgrade using another system and it did not suffer from this bug, the bug must have been related to the system installation.
 




Comment 8


Roy Marples (RETIRED)






          2007-10-29 15:27:03 UTC
        

As such we'll close this.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

