Title: 466652 – media-libs/sk1libs-0.9.1-r2 and media-fonts/ttf-bitstream-vera-1.10-r3 conflict
URL: https://bugs.gentoo.org/show_bug.cgi?id=466652

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 466652
media-libs/sk1libs-0.9.1-r2 and media-fonts/ttf-bitstream-vera-1.10-r3 conflict
Last modified: 2013-04-29 08:13:31 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 466652 
      - media-libs/sk1libs-0.9.1-r2 and media-fonts/ttf-bitstream-vera-1.10-r3 conflict


Summary:
media-libs/sk1libs-0.9.1-r2 and media-fonts/ttf-bitstream-vera-1.10-r3 conflict
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Graphics Project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2013-04-21 11:07 UTC by Amadeusz Żołnowski (RETIRED)





      Modified:
    
2013-04-29 08:13 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



gnome
jlec









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build.log

              (build.log,140.10 KB,
                text/plain)

            
2013-04-21 11:11 UTC,

            Amadeusz Żołnowski (RETIRED)




Details





emerge --info

              (emerge.info,5.38 KB,
                text/plain)

            
2013-04-21 11:12 UTC,

            Amadeusz Żołnowski (RETIRED)




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Amadeusz Żołnowski (RETIRED)






          2013-04-21 11:07:48 UTC
        

media-libs/sk1libs requires media-fonts/ttf-bitstream-vera and if sk1libs is going to be installed after ttf-bitstream-vera, it fails as follows:

 * package media-libs/sk1libs-0.9.1-r2 NOT merged
 * 
 * Detected file collision(s):
 * 
 *      /usr/lib64/python2.7/site-packages/sk1libs/ft2engine/fallback_fonts/VeraBI.ttf
 *      /usr/lib64/python2.7/site-packages/sk1libs/ft2engine/fallback_fonts/VeraBd.ttf
 *      /usr/lib64/python2.7/site-packages/sk1libs/ft2engine/fallback_fonts/VeraIt.ttf
 *      /usr/lib64/python2.7/site-packages/sk1libs/ft2engine/fallback_fonts/Vera.ttf
 * 
 * Searching all installed packages for file collisions...
 * 
 * Press Ctrl-C to Stop
 * 
 * media-fonts/ttf-bitstream-vera-1.10-r3:0::gentoo
 *      /usr/lib64/python2.7/site-packages/sk1libs/ft2engine/fallback_fonts/Vera.ttf
 *      /usr/lib64/python2.7/site-packages/sk1libs/ft2engine/fallback_fonts/VeraBI.ttf
 *      /usr/lib64/python2.7/site-packages/sk1libs/ft2engine/fallback_fonts/VeraBd.ttf
 *      /usr/lib64/python2.7/site-packages/sk1libs/ft2engine/fallback_fonts/VeraIt.ttf

Reproducible: Always




Comment 1


Amadeusz Żołnowski (RETIRED)






          2013-04-21 11:11:12 UTC
        

[U] media-libs/sk1libs
     Available versions:  0.9.1 (~)0.9.1-r1 (~)0.9.1-r2 {PYTHON_TARGETS="pypy1_9 python2_5 python2_6 python2_7"}
     Installed versions:  0.9.1-r1(10:06:51 07/27/12)
     Homepage:            http://sk1project.org
     Description:         sk1 vector graphics lib

[I] media-fonts/ttf-bitstream-vera
     Available versions:  1.10-r3 {X}
     Installed versions:  1.10-r3(12:59:56 04/21/13)(X)
     Homepage:            http://www.gnome.org/fonts/
     Description:         Bitstream Vera font family




Comment 2


Amadeusz Żołnowski (RETIRED)






          2013-04-21 11:11:44 UTC
        

Created attachment 346178 [details]
build.log




Comment 3


Amadeusz Żołnowski (RETIRED)






          2013-04-21 11:12:01 UTC
        

Created attachment 346180 [details]
emerge --info




Comment 4


Justin Lecher (RETIRED)






          2013-04-21 12:39:55 UTC
        

Can't reproduce it here.

Why does your 

media-fonts/ttf-bitstream-vera

install something into pythons sitedir? Could you please reemerge media-fonts/ttf-bitstream-vera and try again?




Comment 5


Amadeusz Żołnowski (RETIRED)






          2013-04-21 13:34:56 UTC
        

(In reply to comment #4)
> Can't reproduce it here.
> 
> Why does your 
> 
> media-fonts/ttf-bitstream-vera
> 
> install something into pythons sitedir?

Good question. I am not sure now if it really does or just "Searching all installed packages for file collisions..." returns wrong paths. Might it be a bug in Portage?

> Could you please reemerge media-fonts/ttf-bitstream-vera and try again?

I have unmerged it, removed colliding files and reemerged both sk1libs and ttf-bitstream-vera. Now it's fine, thanks.




Comment 6


Guy





          2013-04-29 08:13:31 UTC
        

I've encountered the same problem on several PCs now.

You may want to consider the following:


pyrotekk src # equery d ttf-bitstream-vera
 * These packages depend on ttf-bitstream-vera:
dev-python/reportlab-2.6 (media-fonts/ttf-bitstream-vera)
media-libs/sk1libs-0.9.1-r1 (media-fonts/ttf-bitstream-vera)
virtual/ttf-fonts-1 (media-fonts/ttf-bitstream-vera)
pyrotekk src # equery d reportlab
 * These packages depend on reportlab:
media-gfx/skencil-1.0_alpha784 (dev-python/reportlab)
pyrotekk src # equery d skencil
 * These packages depend on skencil:
pyrotekk src # emerge -C =reportlab-2.6 =sk1libs-0.9.1-r1 =virtual/ttf-fonts-1 =skencil-1.0_alpha784
 * This action can remove important packages! In order to be safer, use
 * `emerge -pv --depclean <atom>` to check for reverse dependencies before
 * removing packages.

 dev-python/reportlab
    selected: 2.6 
   protected: none 
     omitted: none 

 media-libs/sk1libs
    selected: 0.9.1-r1 
   protected: none 
     omitted: none 

 virtual/ttf-fonts
    selected: 1 
   protected: none 
     omitted: none 

 media-gfx/skencil
    selected: 1.0_alpha784 
   protected: none 
     omitted: none 

All selected packages: media-gfx/skencil-1.0_alpha784 virtual/ttf-fonts-1 media-libs/sk1libs-0.9.1-r1 dev-python/reportlab-2.6

>>> 'Selected' packages are slated for removal.
>>> 'Protected' and 'omitted' packages will not be removed.

>>> Waiting 5 seconds before starting...
>>> (Control-C to abort)...
>>> Unmerging in:  5 4 3 2 1 
>>> Unmerging (1 of 4) dev-python/reportlab-2.6...
>>> Unmerging (2 of 4) media-libs/sk1libs-0.9.1-r1...
>>> Unmerging (3 of 4) virtual/ttf-fonts-1...
>>> Unmerging (4 of 4) media-gfx/skencil-1.0_alpha784...

 * Messages for package media-libs/sk1libs-0.9.1-r1:

 * 
 * Directory symlink(s) may need protection:
 * 
 *      /usr/lib64/python2.7/site-packages/sk1libs/ft2engine/fallback_fonts
 * 
 * Searching all installed packages for files installed via above symlink(s)...
 * 
 * The above directory symlink(s) are all safe to remove. Removing them now...
 * 

 * GNU info directory index is up-to-date.

pyrotekk src # emerge -C ttf-bitstream-vera
 * This action can remove important packages! In order to be safer, use
 * `emerge -pv --depclean <atom>` to check for reverse dependencies before
 * removing packages.

 media-fonts/ttf-bitstream-vera
    selected: 1.10-r3 
   protected: none 
     omitted: none 

All selected packages: media-fonts/ttf-bitstream-vera-1.10-r3

>>> 'Selected' packages are slated for removal.
>>> 'Protected' and 'omitted' packages will not be removed.

>>> Waiting 5 seconds before starting...
>>> (Control-C to abort)...
>>> Unmerging in:  5 4 3 2 1 
>>> Unmerging (1 of 1) media-fonts/ttf-bitstream-vera-1.10-r3...

 * GNU info directory index is up-to-date.


pyrotekk src # emerge -1 =sk1libs-0.9.1-r2
Calculating dependencies... done!
>>> Verifying ebuild manifests
>>> Emerging (1 of 2) media-fonts/ttf-bitstream-vera-1.10-r3
>>> Installing (1 of 2) media-fonts/ttf-bitstream-vera-1.10-r3
>>> Emerging (2 of 2) media-libs/sk1libs-0.9.1-r2
>>> Installing (2 of 2) media-libs/sk1libs-0.9.1-r2
>>> Jobs: 2 of 2 complete                           Load avg: 0.93, 0.69, 0.42

 * Messages for package media-fonts/ttf-bitstream-vera-1.10-r3:

 * This package will overwrite one or more files that may belong to other
 * packages (see list below). You can use a command such as `portageq
 * owners / <filename>` to identify the installed package that owns a
 * file. If portageq reports that only one package owns a file then do
 * NOT file a bug report. A bug report is only useful if it identifies at
 * least two or more packages that are known to install the same file(s).
 * If a collision occurs and you can not explain where the file came from
 * then you should simply ignore the collision since there is not enough
 * information to determine if a real problem exists. Please do NOT file
 * a bug report at http://bugs.gentoo.org unless you report exactly which
 * two packages install the same file(s). Once again, please do NOT file
 * a bug report unless you have completely understood the above message.
 * 
 * Detected file collision(s):
 * 
 *      /usr/share/doc/ttf-bitstream-vera-1.10-r3/RELEASENOTES.TXT.bz2
 *      /usr/share/doc/ttf-bitstream-vera-1.10-r3/README.TXT.bz2
 *      /usr/share/doc/ttf-bitstream-vera-1.10-r3/COPYRIGHT.TXT.bz2
 *      /usr/share/fonts/ttf-bitstream-vera/encodings.dir
 *      /usr/share/fonts/ttf-bitstream-vera/VeraMoIt.ttf
 *      /usr/share/fonts/ttf-bitstream-vera/VeraSeBd.ttf
 *      /usr/share/fonts/ttf-bitstream-vera/VeraIt.ttf
 *      /usr/share/fonts/ttf-bitstream-vera/fonts.dir
 *      /usr/share/fonts/ttf-bitstream-vera/VeraMoBd.ttf
 *      /usr/share/fonts/ttf-bitstream-vera/VeraBd.ttf
 *      /usr/share/fonts/ttf-bitstream-vera/VeraMono.ttf
 *      /usr/share/fonts/ttf-bitstream-vera/Vera.ttf
 *      /usr/share/fonts/ttf-bitstream-vera/VeraSe.ttf
 *      /usr/share/fonts/ttf-bitstream-vera/VeraBI.ttf
 *      /usr/share/fonts/ttf-bitstream-vera/VeraMoBI.ttf
 *      /usr/share/fonts/ttf-bitstream-vera/fonts.scale
 * 
 * Searching all installed packages for file collisions...
 * 
 * Press Ctrl-C to Stop
 * 
 * None of the installed packages claim the file(s).
 * 
 * Package 'media-fonts/ttf-bitstream-vera-1.10-r3' merged despite file
 * collisions. If necessary, refer to your elog messages for the whole
 * content of the above message.
>>> Auto-cleaning packages...

>>> No outdated packages were found on your system.

 * GNU info directory index is up-to-date.

In other words, if you're _upgrading_ from =sk1libs-0.9.1-r1 to =sk1libs-0.9.1-r2, then the upgrade fails. If you remove =sk1libs-0.9.1-r1 and =ttf-bitstream-vera-1.10-r3 first then emerge =sk1libs-0.9.1-r2, then everything emerges properly.

The _upgrade_ should not fail.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

