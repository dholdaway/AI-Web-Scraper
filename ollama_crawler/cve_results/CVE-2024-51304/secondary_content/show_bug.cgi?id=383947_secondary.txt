Title: 383947 – net-analyzer/rrdtool-1.4.5-r1 fails to build
URL: https://bugs.gentoo.org/show_bug.cgi?id=383947

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 383947
net-analyzer/rrdtool-1.4.5-r1 fails to build
Last modified: 2011-09-27 12:46:26 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 383947 
      - net-analyzer/rrdtool-1.4.5-r1 fails to build


Summary:
net-analyzer/rrdtool-1.4.5-r1 fails to build
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Netmon project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2011-09-21 13:36 UTC by Todd Goodman





      Modified:
    
2011-09-27 12:46 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build log

              (build.log,36.16 KB,
                text/plain)

            
2011-09-21 13:38 UTC,

            Todd Goodman




Details





emerge --info

              (ebuild.info,6.09 KB,
                text/plain)

            
2011-09-21 13:38 UTC,

            Todd Goodman




Details





emerge -pqv

              (ebuild.pqv,93 bytes,
                text/plain)

            
2011-09-21 13:38 UTC,

            Todd Goodman




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Todd Goodman





          2011-09-21 13:36:32 UTC
        

When emerging net-analyzer/rrdtool-1.4.5-r1 it fails trying to build the bindings:

creating build/lib.linux-i686-2.7
i686-pc-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,--as-needed -O2 -march=i686 -pipe -D_GNU_SOURCE -fno-strict-aliasing -Wall -std=gnu99 -pedantic -Wundef -Wshadow -Wpointer-arith -Wcast-align -Wmissing-prototypes -Wmissing-declarations -Wnested-externs -Winline -Wold-style-definition -W -pthread -I/usr/include/cairo -I/usr/include/libpng15 -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include -I/usr/include/pixman-1 -I/usr/include/freetype2 -I/usr/include/libdrm -pthread -I/usr/include/pango-1.0 -I/usr/include/cairo -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include -I/usr/include/pixman-1 -I/usr/include/freetype2 -I/usr/include/libpng15 -I/usr/include/libdrm -I/usr/include/libxml2 build/temp.linux-i686-2.7/rrdtoolmodule.o -L../../src/.libs -L/usr/lib -Wl,-R/usr/lib -lrrd -lpython2.7 -o build/lib.linux-i686-2.7/rrdtoolmodule.so
i686-pc-linux-gnu-gcc -c  -I../../src -fno-strict-aliasing -pipe -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -O2 -march=i686 -pipe   -DVERSION=\"1.4004\" -DXS_VERSION=\"1.4004\" -fPIC "-I/usr/lib/perl5/5.12.4/i686-linux/CORE"  -DPERLPATCHLEVEL=12 RRDs.c
i686-pc-linux-gnu-gcc -shared -o RRD.so main.o -L. -L/lib -Wl,-R/lib -L../../src/.libs -L. -Wl,-O1 -Wl,--as-needed -rdynamic -Wl,-export-dynamic -Wl,--no-undefined -Wl,--rpath -Wl,/usr/lib    -Wl,-R -Wl,/lib -L/lib -lruby18  -lpthread -lrt -ldl -lcrypt -lm   -lc
Manifying blib/man3/RRDp.3pm
make[4]: Leaving directory `/var/tmp/portage/net-analyzer/rrdtool-1.4.5-r1/work/rrdtool-1.4.5/bindings/perl-piped'
main.o: In function `rb_rrd_xport':
main.c:(.text+0x268): undefined reference to `rrd_xport'
main.c:(.text+0x279): undefined reference to `rrd_test_error'
main.c:(.text+0x286): undefined reference to `rrd_clear_error'
main.c:(.text+0x442): undefined reference to `rrd_get_error'
main.o: In function `reset_rrd_state':
main.c:(.text+0x48b): undefined reference to `rrd_clear_error'
main.o: In function `rb_rrd_last':
main.c:(.text+0x4e2): undefined reference to `rrd_last'
main.c:(.text+0x4f6): undefined reference to `rrd_test_error'
main.c:(.text+0x501): undefined reference to `rrd_clear_error'
main.c:(.text+0x54e): undefined reference to `rrd_get_error'
main.o: In function `rb_rrd_graph':
main.c:(.text+0x5d7): undefined reference to `rrd_graph'
main.c:(.text+0x5e8): undefined reference to `rrd_test_error'
main.c:(.text+0x5f5): undefined reference to `rrd_clear_error'
main.c:(.text+0x640): undefined reference to `rrd_freemem'
main.c:(.text+0x650): undefined reference to `rrd_freemem'
main.c:(.text+0x6b5): undefined reference to `rrd_get_error'
main.o: In function `rb_rrd_fetch':
main.c:(.text+0x736): undefined reference to `rrd_fetch'
main.c:(.text+0x747): undefined reference to `rrd_test_error'
main.c:(.text+0x754): undefined reference to `rrd_clear_error'
main.c:(.text+0x797): undefined reference to `rrd_freemem'
main.c:(.text+0x7a7): undefined reference to `rrd_freemem'
main.c:(.text+0x84f): undefined reference to `rrd_freemem'
main.c:(.text+0x8f4): undefined reference to `rrd_get_error'
main.o: In function `rrd_call':
main.c:(.text+0x961): undefined reference to `rrd_test_error'
main.c:(.text+0x96a): undefined reference to `rrd_clear_error'
main.c:(.text+0x981): undefined reference to `rrd_get_error'
main.o: In function `rb_rrd_flushcached':
main.c:(.text+0x9bb): undefined reference to `rrd_flushcached'
main.o: In function `rb_rrd_update':
main.c:(.text+0x9eb): undefined reference to `rrd_update'
main.o: In function `rb_rrd_tune':
main.c:(.text+0xa1b): undefined reference to `rrd_tune'
main.o: In function `rb_rrd_restore':
main.c:(.text+0xa4b): undefined reference to `rrd_restore'
main.o: In function `rb_rrd_resize':
main.c:(.text+0xa7b): undefined reference to `rrd_resize'
main.o: In function `rb_rrd_dump':
main.c:(.text+0xaab): undefined reference to `rrd_dump'
main.o: In function `rb_rrd_create':
main.c:(.text+0xadb): undefined reference to `rrd_create'
main.o: In function `rb_rrd_infocall':
main.c:(.text+0xb3e): undefined reference to `rrd_test_error'
main.c:(.text+0xb51): undefined reference to `rrd_clear_error'
main.o: In function `.L78':
main.c:(.text+0xbb1): undefined reference to `rrd_info_free'
main.o: In function `.L77':
main.c:(.text+0xc26): undefined reference to `rrd_get_error'
main.o: In function `rb_rrd_graphv':
main.c:(.text+0xc5b): undefined reference to `rrd_graph_v'
main.o: In function `rb_rrd_updatev':
main.c:(.text+0xc8b): undefined reference to `rrd_update_v'
main.o: In function `rb_rrd_info':
main.c:(.text+0xcbb): undefined reference to `rrd_info'
collect2: ld returned 1 exit status
make[4]: *** [RRD.so] Error 1
make[4]: Leaving directory `/var/tmp/portage/net-analyzer/rrdtool-1.4.5-r1/work/rrdtool-1.4.5/bindings/ruby'
make[3]: *** [ruby] Error 2
make[3]: *** Waiting for unfinished jobs....


Reproducible: Always

Steps to Reproduce:
1.emerge rrdtool
2.
3.
Actual Results:  
Build fails

Expected Results:  
Builds successfully




Comment 1


Todd Goodman





          2011-09-21 13:38:13 UTC
        

Created attachment 287279 [details]
build log




Comment 2


Todd Goodman





          2011-09-21 13:38:29 UTC
        

Created attachment 287281 [details]
emerge --info




Comment 3


Todd Goodman





          2011-09-21 13:38:55 UTC
        

Created attachment 287283 [details]
emerge -pqv




Comment 4


Ian Abbott





          2011-09-26 20:03:13 UTC
        

Unmerging the old one first seemed to work for me.




Comment 5


Samuli Suominen (RETIRED)






          2011-09-26 20:20:10 UTC
        

(In reply to comment #4)
> Unmerging the old one first seemed to work for me.

Try this.




Comment 6


Todd Goodman





          2011-09-27 12:40:09 UTC
        

(In reply to comment #5)
> (In reply to comment #4)
> > Unmerging the old one first seemed to work for me.
> 
> Try this.

Yes, it works to unmerge the old one first









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

