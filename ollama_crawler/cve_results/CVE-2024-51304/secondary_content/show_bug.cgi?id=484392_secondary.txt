Title: 484392 – Re-add a paragraph how to extract portage snapshot
URL: https://bugs.gentoo.org/show_bug.cgi?id=484392

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 484392
Re-add a paragraph how to extract portage snapshot
Last modified: 2013-12-20 18:25:46 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 484392 
      - Re-add a paragraph how to extract portage snapshot


Summary:
Re-add a paragraph how to extract portage snapshot
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

[OLD] Docs on www.gentoo.org




Classification:

Unclassified




Component:

Installation Handbook

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
    (vote)
  



Assignee:

Docs Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2013-09-09 20:43 UTC by Martin Mokrejš





      Modified:
    
2013-12-20 18:25 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Martin Mokrejš





          2013-09-09 20:43:57 UTC
        

There used to be a section merely showing the tar(1) command extyracting the pre-downloaded portage snapshot into the new filesystem. Today, the handbook says it is preferred to run emerge --sync and teh section is gone!

No, ran out of my bandwitch already by that time because I already downloaded the stage3* and portage-snapshot* files from an ftp server. So, I was definitely not going to do "emerge --sync". Please bring the section back. The files are being placed daily on all mirrors, I believe they are still included on installation media, and for a good reason.

Hint: bug #123678 ?




Comment 1


Sven Vermeulen (RETIRED)






          2013-12-17 09:39:57 UTC
        

The portage snapshot is installed through emerge-webrsync. There is no reference to the portage-snapshot tarballs anymore in the handbook, so you shouldn't really have needed to download it yourself.

The --sync is clearly marked optional, so you don't have to run it.




Comment 2


Martin Mokrejš





          2013-12-20 17:36:40 UTC
        

I am installing some VPS and got back to this issue. emerge-webrsync is weird and give useless messages. Why does it download many times the cumulative snapshots? Actually, did it fetch any? I ahev working IPv4 connection, maybe and issue is that I did not defined DNS IP's yet.

# emerge-webrsync
Fetching most recent snapshot ...
Trying to retrieve 20131219 snapshot from rsync://ftp.fi.muni.cz/pub/linux/gentoo ...
Fetching file portage-20131219.tar.xz.md5sum ...
Fetching file portage-20131219.tar.bz2.md5sum ...
Fetching file portage-20131219.tar.gz.md5sum ...
Trying to retrieve 20131219 snapshot from rsync://gentoo.mirror.dkm.cz/gentoo ...
Fetching file portage-20131219.tar.xz.md5sum ...
Fetching file portage-20131219.tar.bz2.md5sum ...
Fetching file portage-20131219.tar.gz.md5sum ...
Trying to retrieve 20131219 snapshot from ftp://gentoo.mirror.web4u.cz ...
Fetching file portage-20131219.tar.xz.md5sum ...
Fetching file portage-20131219.tar.bz2.md5sum ...
Fetching file portage-20131219.tar.gz.md5sum ...
20131219 snapshot was not found
Trying to retrieve 20131218 snapshot from rsync://ftp.fi.muni.cz/pub/linux/gentoo ...
Fetching file portage-20131218.tar.xz.md5sum ...
Fetching file portage-20131218.tar.bz2.md5sum ...
Fetching file portage-20131218.tar.gz.md5sum ...
Trying to retrieve 20131218 snapshot from rsync://gentoo.mirror.dkm.cz/gentoo ...
Fetching file portage-20131218.tar.xz.md5sum ...
Fetching file portage-20131218.tar.bz2.md5sum ...
Fetching file portage-20131218.tar.gz.md5sum ...
Trying to retrieve 20131218 snapshot from ftp://gentoo.mirror.web4u.cz ...
Fetching file portage-20131218.tar.xz.md5sum ...
Fetching file portage-20131218.tar.bz2.md5sum ...
Fetching file portage-20131218.tar.gz.md5sum ...
20131218 snapshot was not found
Trying to retrieve 20131217 snapshot from rsync://ftp.fi.muni.cz/pub/linux/gentoo ...
Fetching file portage-20131217.tar.xz.md5sum ...
Fetching file portage-20131217.tar.bz2.md5sum ...
Fetching file portage-20131217.tar.gz.md5sum ...
Trying to retrieve 20131217 snapshot from rsync://gentoo.mirror.dkm.cz/gentoo ...
Fetching file portage-20131217.tar.xz.md5sum ...
Fetching file portage-20131217.tar.bz2.md5sum ...
Fetching file portage-20131217.tar.gz.md5sum ...


Again, am going to extract the protage snapshot myself, it is just faster and clearer. Please reopen.




Comment 3


Sven Vermeulen (RETIRED)






          2013-12-20 18:25:46 UTC
        

It looks like emerge-webrsync cannot find snapshots for your mirrors. If that is the case, it should be a bugreport for emerge-webrsync. I did two installations today (one ARM one x86_64) both worked well.

The move away from the extraction was discussed on the development mailinglists and was all agreed to move to emerge-webrsync. So I'd rather not reopen. I will document the approach in the FAQ, is that ok?









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

