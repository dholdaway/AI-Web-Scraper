Title: 180248 – dev-java/javacup-0.10k-r1 fails to compile
URL: https://bugs.gentoo.org/show_bug.cgi?id=180248

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 180248
dev-java/javacup-0.10k-r1 fails to compile
Last modified: 2007-05-31 14:54:54 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 180248 
      - dev-java/javacup-0.10k-r1 fails to compile


Summary:
dev-java/javacup-0.10k-r1 fails to compile
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Java team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-05-29 17:53 UTC by Petric Frank





      Modified:
    
2007-05-31 14:54 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build.log from /var/tmp/portage/...

              (build.log,3.55 KB,
                text/plain)

            
2007-05-29 17:54 UTC,

            Petric Frank




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Petric Frank





          2007-05-29 17:53:17 UTC
        

dev-java/javacup aborts the compile process during the compile step. See attached file build.log

It seems there is a problem when Sun JDK 1.5 is active (only a wild guess).

Due javacup is (in my environment) a prerequisite of openoffice, ooo will also not built.


Reproducible: Always

Steps to Reproduce:
1.emerge javacup
2.
3.

Actual Results:  
Does not build

Expected Results:  
Should build

emerge --info:

Portage 2.1.2.7 (default-linux/x86/2007.0, gcc-4.1.2, glibc-2.5-r2, 2.6.20-gentoo-r8 i686)
=================================================================
System uname: 2.6.20-gentoo-r8 i686 Intel(R) Pentium(R) M processor 1400MHz
Gentoo Base System release 1.12.9
Timestamp of tree: Tue, 29 May 2007 14:50:01 +0000
dev-java/java-config: 1.3.7, 2.0.32
dev-lang/python:     2.4.4-r4
dev-python/pycrypto: 2.0.1-r5
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.61
sys-devel/automake:  1.7.9-r1, 1.9.6-r2, 1.10
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.16
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.17-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=pentium-m -O2 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/revdep-rebuild /etc/terminfo"
CXXFLAGS="-march=pentium-m -O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo"
LANG="de_DE@euro"
LINGUAS="de en"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="X aac alsa arts berkdb bitmap-fonts bluetooth cdparanoia cli cracklib crypt cups dbus dga dri dv dvb exif ffmpeg flac foomaticdb ftp gdbm gphoto2 graphviz gtk2 hal iconv ieee1394 imagemagick imap isdnlog java javascript jpeg kdehiddenvisibility libnotify lm_sensors midi mmx mng mp3 mplayer mudflap ncurses nls nptl nptlonly ogg opengl openmp pam pcmcia perl png ppds pppd python qt3 rdesktop readline reflection samba slp smartcard ssl tcpd theora tiff truetype-fonts type1-fonts unicode usb v4l vcd vorbis wifi wmf x86 xinetd xorg xpm xvid zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1 emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" DVB_CARDS="usb-dtt200u usb-wt220u" ELIBC="glibc" INPUT_DEVICES="evdev keyboard mouse synaptics" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="de en" USERLAND="GNU" VIDEO_CARDS="fbdev i810 v4l vesa vga"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LC_ALL, LDFLAGS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Petric Frank





          2007-05-29 17:54:29 UTC
        

Created attachment 120630 [details]
build.log from /var/tmp/portage/...




Comment 2


Petteri Räty (RETIRED)






          2007-05-29 20:45:20 UTC
        

(In reply to comment #1)
> Created an attachment (id=120630) [edit]
> build.log from /var/tmp/portage/...
> 

It's very hard for us to do anything about internal failures in closed source programs. Please try re-emerging sun-jdk (maybe you run out of disk space or something).




Comment 3


Petric Frank





          2007-05-29 22:46:43 UTC
        

After a restart of the PC i re-emerged sun-jdk. Then i did emerge openoffice. Here i built java-core before trying the build javacup. Now it ran w/o problems.

So it seems that either the rebuilt of sun-jdk or the missing java-core package cured the problem.

I think the latter was the reason for this bug. So i suggest (if you agree) to add java-core as prerequisite for javacup into the ebuild.





Comment 4


Petteri Räty (RETIRED)






          2007-05-30 06:29:39 UTC
        

(In reply to comment #3)
> 
> So it seems that either the rebuilt of sun-jdk or the missing java-core package
> cured the problem.
> 

java-core?

betelgeuse@pena /mnt/checkouts/java/junkyard/dev-java $ eix java-core
No matches found.





Comment 5


Petric Frank





          2007-05-31 06:52:43 UTC
        

Sorry, my mistake.

I meant, after restarting the emerge using "emerge openoffice" the process decides that it have to build the package ant-core (not java-core).

I don't know why it does not build ant-core before javacup in the first run.





Comment 6


Petteri Räty (RETIRED)






          2007-05-31 14:54:54 UTC
        

(In reply to comment #5)
> 
> I don't know why it does not build ant-core before javacup in the first run.
> 

Because javacup-0.10k-r1 is not build using ant. I am betting this was fixed by your reinstallation of sun-jdk. Something went bad the first time (for example we have had people reporting problems when they have had faulty hard drives corrupting their installations.)










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

