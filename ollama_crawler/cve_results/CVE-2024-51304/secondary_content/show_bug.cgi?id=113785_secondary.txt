Title: 113785 – dev-embedded/gpsim-0.21.2 fails under gcc3.4
URL: https://bugs.gentoo.org/show_bug.cgi?id=113785

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 113785
dev-embedded/gpsim-0.21.2 fails under gcc3.4
Last modified: 2005-12-06 22:57:03 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 113785 
      - dev-embedded/gpsim-0.21.2 fails under gcc3.4


Summary:
dev-embedded/gpsim-0.21.2 fails under gcc3.4
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Embedded Team (OBSOLETE)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:




113711



 

        Show dependency tree





 





      Reported:
    
2005-11-28 06:04 UTC by Lares Moreau





      Modified:
    
2005-12-06 22:57 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



x86









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Lares Moreau





          2005-11-28 06:04:11 UTC
        

mv -f .libs/icd.lo icd.lo
/bin/sh ../libtool --mode=link c++  -g -O2  -o libgpsim.la -rpath /usr/lib
-L/usr/lib -lgtk -lgdk -rdynamic -lgmodule -lglib -lXi -lXext -lX11 -lm 
12bit-hexdecode.lo 12bit-processors.lo 14bit-instructions.lo 14bit-processors.lo
14bit-registers.lo 14bit-tmrs.lo 14bit-hexdecode.lo 16bit-instructions.lo
16bit-processors.lo 16bit-registers.lo 16bit-hexdecode.lo 16bit-tmrs.lo
attribute.lo breakpoints.lo cod.lo eeprom.lo fopen-path.lo gpsim_time.lo
hexutils.lo init.lo intcon.lo interface.lo ioports.lo lxt_write.lo modules.lo
p12x.lo p16f62x.lo p16x8x.lo p16f87x.lo p16x7x.lo p16x5x.lo p16x6x.lo p17c75x.lo
p18x.lo packages.lo pic-processor.lo pic-registers.lo pic-instructions.lo pie.lo
pir.lo processor.lo registers.lo stimuli.lo symbol.lo tmr0.lo trace.lo uart.lo
xref.lo icd.lo  
rm -fr .libs/libgpsim.la .libs/libgpsim.* .libs/libgpsim.*
gcc -shared  12bit-hexdecode.lo 12bit-processors.lo 14bit-instructions.lo
14bit-processors.lo 14bit-registers.lo 14bit-tmrs.lo 14bit-hexdecode.lo
16bit-instructions.lo 16bit-processors.lo 16bit-registers.lo 16bit-hexdecode.lo
16bit-tmrs.lo attribute.lo breakpoints.lo cod.lo eeprom.lo fopen-path.lo
gpsim_time.lo hexutils.lo init.lo intcon.lo interface.lo ioports.lo lxt_write.lo
modules.lo p12x.lo p16f62x.lo p16x8x.lo p16f87x.lo p16x7x.lo p16x5x.lo p16x6x.lo
p17c75x.lo p18x.lo packages.lo pic-processor.lo pic-registers.lo
pic-instructions.lo pie.lo pir.lo processor.lo registers.lo stimuli.lo symbol.lo
tmr0.lo trace.lo uart.lo xref.lo icd.lo  -L/usr/lib /usr/lib/libgtk.so
/usr/lib/libgdk.so /usr/lib/libgmodule.so /usr/lib/libglib.so -lXi -lXext -lX11
-lm  -Wl,-soname -Wl,libgpsim.so.0 -o .libs/libgpsim.so.0.0.0
(cd .libs && rm -f libgpsim.so.0 && ln -s libgpsim.so.0.0.0 libgpsim.so.0)
(cd .libs && rm -f libgpsim.so && ln -s libgpsim.so.0.0.0 libgpsim.so)
ar cru .libs/libgpsim.a  12bit-hexdecode.o 12bit-processors.o
14bit-instructions.o 14bit-processors.o 14bit-registers.o 14bit-tmrs.o
14bit-hexdecode.o 16bit-instructions.o 16bit-processors.o 16bit-registers.o
16bit-hexdecode.o 16bit-tmrs.o attribute.o breakpoints.o cod.o eeprom.o
fopen-path.o gpsim_time.o hexutils.o init.o intcon.o interface.o ioports.o
lxt_write.o modules.o p12x.o p16f62x.o p16x8x.o p16f87x.o p16x7x.o p16x5x.o
p16x6x.o p17c75x.o p18x.o packages.o pic-processor.o pic-registers.o
pic-instructions.o pie.o pir.o processor.o registers.o stimuli.o symbol.o tmr0.o
trace.o uart.o xref.o icd.o 
ranlib .libs/libgpsim.a
creating libgpsim.la
(cd .libs && rm -f libgpsim.la && ln -s ../libgpsim.la libgpsim.la)
make[2]: Leaving directory `/var/tmp/portage/gpsim-0.21.2/work/gpsim-0.21.2/src'
Making all in gpsim
make[2]: Entering directory `/var/tmp/portage/gpsim-0.21.2/work/gpsim-0.21.2/gpsim'
c++ -DHAVE_CONFIG_H -I. -I. -I.. -I/usr/include/gtk-1.2 -I/usr/include/glib-1.2
-I/usr/lib/glib/include     -g -O2 -c main.cc
/bin/sh ../libtool --mode=link c++  -g -O2  -o gpsim -I/usr/include/gtk-1.2
-I/usr/include/glib-1.2 -I/usr/lib/glib/include main.o ../src/libgpsim.la
../cli/libgpsimcli.la ../gui/libgpsimgui.la ../eXdbm/libgpsim_eXdbm.la   
-lstdc++ -lpopt -L/usr/lib -lgtk -lgdk -rdynamic -lgmodule -lglib -lXi -lXext
-lX11 -lm -L/usr/lib -lgtk -lgdk -lgtkextra -lglib -lm -lreadline 
mkdir .libs
libtool: link: warning: library `/usr/lib/libstdc++.la' was moved.
libtool: link: warning: library `/usr/lib/libstdc++.la' was moved.
c++ -g -O2 -o .libs/gpsim -I/usr/include/gtk-1.2 -I/usr/include/glib-1.2
-I/usr/lib/glib/include main.o -rdynamic  ../src/.libs/libgpsim.so -L/usr/lib
-lm ../cli/.libs/libgpsimcli.so -lm ../gui/.libs/libgpsimgui.so -lm -lm -lm -lm
-lm -lm -lm ../eXdbm/.libs/libgpsim_eXdbm.so -lm /usr/lib/libstdc++.so -lm
-L/usr/i686-pc-linux-gnu/bin -L/usr/i686-pc-linux-gnu/lib
-L/usr/lib/gcc-lib/../../i686-pc-linux-gnu/lib -lgcc_s -lc /usr/lib/libpopt.so
-lm -lm -lm -lm -lm /usr/lib/libgtkextra.so /usr/lib/libgtk.so
/usr/lib/libgdk.so /usr/lib/libgmodule.so -lXi -lXext -lX11 -lm
/usr/lib/libglib.so -ldl -lm -lreadline
../src/.libs/libgpsim.so: undefined reference to
`__gnu_cxx::__exchange_and_add(int volatile*, int)'
../src/.libs/libgpsim.so: undefined reference to `std::_List_node_base::unhook()'
../src/.libs/libgpsim.so: undefined reference to
`std::_List_node_base::hook(std::_List_node_base*)'
../src/.libs/libgpsim.so: undefined reference to `std::basic_string<char,
std::char_traits<char>, std::allocator<char> >::_Rep::_S_empty_rep_storage'
collect2: ld returned 1 exit status
make[2]: *** [gpsim] Error 1
make[2]: Leaving directory `/var/tmp/portage/gpsim-0.21.2/work/gpsim-0.21.2/gpsim'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/gpsim-0.21.2/work/gpsim-0.21.2'
make: *** [all-recursive-am] Error 2


Portage 2.0.51.22-r3 (default-linux/x86/2005.1, gcc-3.4.4, glibc-2.3.5-r2,
2.6.13-gentoo-r5 i686)
=================================================================
System uname: 2.6.13-gentoo-r5 i686 Pentium III (Coppermine)
Gentoo Base System version 1.6.13
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
ccache version 2.3 [disabled]
dev-lang/python:     2.3.5-r2, 2.4.2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.20
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium3 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env
/usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config
/usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/
/usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/
/usr/share/texmf/xdvi/ /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=pentium3 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig collision-protect distlocks sandbox sfperms
strict stricter verify-rdepend"
GENTOO_MIRRORS="http://distfiles.gentoo.org
http://distro.ibiblio.org/pub/Linux/distributions/gentoo"
MAKEOPTS="-j1"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://hermia/gentoo-portage"
USE="x86 X aalib acpi alsa arts audiofile avi berkdb bindist bitmap-fonts bzip2
cdb cdr crypt cups curl dga dlloader doc dvd dvdread eds emboss encode exif
expat fam ffmpeg flac font-server foomaticdb fortran gd gdbm gif glut gpm
gstreamer gtk gtk2 guile gzip hdf5 idn imagemagick imap imlib info ipv6 java
jpeg lcms libg++ libwww mad mbox mikmod mmx mng motif mozilla moznomail mp3 mpeg
mysql ncurses nls nntp nptl ogg oggvorbis opengl oss pam pcre pdflib perl
plotutils png python qt quicktime readline real rtc sdk sdl spell sse ssl svga
tcltk tcpd tetex tiff truetype truetype-fonts type1-fonts udev vorbis
win32codecs xml2 xmms xv xvid zlib video_cards_radeon userland_GNU kernel_linux
elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS




Comment 1


Mark Loeser (RETIRED)






          2005-12-03 22:51:25 UTC
        

This looks like a random build issue, possibly with gcc.  Have you tried:

emerge binutils glibc gcc




Comment 2


Mark Loeser (RETIRED)






          2005-12-06 22:57:03 UTC
        

This works for me.  Recompile your toolchain and try again please









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

