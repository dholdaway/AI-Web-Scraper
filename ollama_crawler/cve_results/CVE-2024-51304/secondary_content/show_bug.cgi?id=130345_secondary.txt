Title: 130345 – equery depends --all-packages runs forever
URL: https://bugs.gentoo.org/show_bug.cgi?id=130345

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 130345
equery depends --all-packages runs forever
Last modified: 2007-07-03 16:51:08 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 130345 
      - equery depends --all-packages runs forever


Summary:
equery depends --all-packages runs forever
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Portage Development




Classification:

Unclassified




Component:

Tools

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Portage Tools Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:




170220



 

        Show dependency tree





 





      Reported:
    
2006-04-18 03:57 UTC by Alexandru Toma





      Modified:
    
2007-07-03 16:51 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Alexandru Toma





          2006-04-18 03:57:16 UTC
        

equery d -a gawk doess't finish

griever@cloud ~ $ top
Tasks: 163 total,   7 running, 155 sleeping,   0 stopped,   1 zombie
Cpu(s): 57.9% us,  2.0% sy,  0.0% ni, 36.7% id,  1.0% wa,  1.8% hi,  0.7% si
Mem:    905648k total,   895496k used,    10152k free,    36388k buffers
Swap:   546204k total,      308k used,   545896k free,   624584k cached

  PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND           
11950 root      25   0 14140  10m 2476 R 96.4  1.2 105:16.57 equery             
    1 root      16   0  1468  504  440 S  0.0  0.1   0:00.35 init               
    2 root      34  19     0    0    0 S  0.0  0.0   0:00.00 ksoftirqd/0        
    3 root      10  -5     0    0    0 S  0.0  0.0   0:00.05 events/0           
    4 root      11  -5     0    0    0 S  0.0  0.0   0:00.01 khelper            
    5 root      10  -5     0    0    0 S  0.0  0.0   0:00.00 kthread            
    7 root      20  -5     0    0    0 S  0.0  0.0   0:00.00 kacpid             
  114 root      10  -5     0    0    0 S  0.0  0.0   0:00.01 kblockd/0          
  117 root      10  -5     0    0    0 S  0.0  0.0   0:00.00 khubd              
  169 root      20   0     0    0    0 S  0.0  0.0   0:00.00 pdflush            
  170 root      15   0     0    0    0 S  0.0  0.0   0:00.27 pdflush            
  172 root      12  -5     0    0    0 S  0.0  0.0   0:00.00 aio/0              
  171 root      15   0     0    0    0 S  0.0  0.0   0:00.33 kswapd0            
  264 root      11  -5     0    0    0 S  0.0  0.0   0:00.00 kseriod            
  349 root      11  -5     0    0    0 S  0.0  0.0   0:00.00 ata/0              
 1339 root      10  -5     0    0    0 S  0.0  0.0   0:00.00 reiserfs/0         
 1950 root      12  -4  1696  752  576 S  0.0  0.1   0:00.05 udevd

As far as I can tell, there is no hdd activity after a while but equery still uses a lot of idle CPU power.


* app-portage/gentoolkit 
     Available versions:  0.2.0 0.2.0-r3 0.2.1 ~0.2.2_pre3 ~0.2.2_pre4
     Installed:           0.2.1
     Homepage:            http://www.gentoo.org/proj/en/portage/tools/index.xml
     Description:         Collection of administration scripts for Gentoo


Portage 2.0.54 (default-linux/x86/2005.0, gcc-3.4.4, glibc-2.3.5-r2, 2.6.13-gentoo-r3 i686)
=================================================================
System uname: 2.6.13-gentoo-r3 i686 AMD Athlon(tm) XP 1800+
Gentoo Base System version 1.6.14
dev-lang/python:     2.4.2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=athlon-xp -O2 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config /usr/lib/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/eselect/compiler /etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-march=athlon-xp -O2 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig collision-protect distlocks sandbox sfperms strict"
GENTOO_MIRRORS="ftp://ftp.roedu.net/pub/mirrors/gentoo.org http://gentoo.osuosl.org"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync1.ro.gentoo.org/gentoo-portage"
USE="x86 3dnow 3dnowext X aalib alsa apm audiofile avi bitmap-fonts bzip2 cairo cdr crypt cups curl dri dts eds emboss encode exif expat fam ffmpeg flac foomaticdb fortran gd geoip gif glut gpm gstreamer gtk2 guile idn imagemagick imlib imlib2 isdnlog jikes jpeg junit lcms libcaca libwww lua lzo mad matroska mhash mikmod mmx mmxext mng modplug motif mp3 mpeg ncurses network nls no_wxgtk1 ogg oggvorbis openal opengl pam pcre pdflib png pppd python quicktime readline rtc ruby sdl slang spell sse ssl tcpd tga theora tiff truetype truetype-fonts type1-fonts udev unicode vorbis xchatdccserver xml2 xprint xv xvid zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGUAS, MAKEOPTS




Comment 1


Jakub Moc (RETIRED)






          2007-07-01 02:17:40 UTC
        

app-portage/gentoolkit-0.2.4_pre5




Comment 2


Paul Varner (RETIRED)






          2007-07-03 16:51:08 UTC
        

This bug was fixed in app-portage/gentoolkit-0.2.4_pre1 as part of bug 169929









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

