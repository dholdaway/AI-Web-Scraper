Title: 107711 – net-im/licq-1.2.7 compile error and strange behaviour of configure
URL: https://bugs.gentoo.org/show_bug.cgi?id=107711

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 107711
net-im/licq-1.2.7 compile error and strange behaviour of configure
Last modified: 2005-09-30 08:39:19 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 107711 
      - net-im/licq-1.2.7 compile error and strange behaviour of configure


Summary:
net-im/licq-1.2.7 compile error and strange behaviour of configure
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-09-30 07:53 UTC by Martin Walch





      Modified:
    
2005-09-30 08:39 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




/var/tmp/portage/licq-1.2.7/work/licq-1.2.7/config.log

              (config.log,60.52 KB,
                text/plain)

            
2005-09-30 07:56 UTC,

            Martin Walch




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Martin Walch





          2005-09-30 07:53:28 UTC
        

In emerge -e world, compiling licq results in this output:

make  all-recursive
make[1]: Entering directory `/var/tmp/portage/licq-1.2.7/work/licq-1.2.7'
Making all in share
make[2]: Entering directory `/var/tmp/portage/licq-1.2.7/work/licq-1.2.7/share'
cd .. && \
  /bin/sh /var/tmp/portage/licq-1.2.7/work/licq-1.2.7/admin/missing --run
automake --gnu  share/Makefile
cd .. && \
  CONFIG_HEADERS= CONFIG_LINKS= \
  CONFIG_FILES=share/Makefile /bin/sh ./config.status
config.status: creating share/Makefile
config.status: executing default-1 commands
make[2]: Leaving directory `/var/tmp/portage/licq-1.2.7/work/licq-1.2.7/share'
make[2]: Entering directory `/var/tmp/portage/licq-1.2.7/work/licq-1.2.7/share'
make[2]: Nothing to be done for `all'.
make[2]: Leaving directory `/var/tmp/portage/licq-1.2.7/work/licq-1.2.7/share'
Making all in src
make[2]: Entering directory `/var/tmp/portage/licq-1.2.7/work/licq-1.2.7/src'
cd .. && \
  /bin/sh /var/tmp/portage/licq-1.2.7/work/licq-1.2.7/admin/missing --run
automake --gnu  src/Makefile
cd .. && \
  CONFIG_HEADERS= CONFIG_LINKS= \
  CONFIG_FILES=src/Makefile /bin/sh ./config.status
config.status: creating src/Makefile
config.status: executing default-1 commands
make[2]: Leaving directory `/var/tmp/portage/licq-1.2.7/work/licq-1.2.7/src'
make[2]: Entering directory `/var/tmp/portage/licq-1.2.7/work/licq-1.2.7/src'
source='licq.cpp' object='licq.o' libtool=no \
depfile='.deps/licq.Po' tmpdepfile='.deps/licq.TPo' \
depmode=gcc3 /bin/sh ../admin/depcomp \
i686-pc-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I. -I.. -Wall -I../include
-DINSTALL_PREFIX=\"/usr\"   -fPIC -DPIC -D_REENTRANT  -march=pentium4 -O2
-fomit-frame-pointer -pipe -fno-exceptions -fno-check-new -c -o licq.o `test -f
licq.cpp || echo './'`licq.cpp
source='main.cpp' object='main.o' libtool=no \
depfile='.deps/main.Po' tmpdepfile='.deps/main.TPo' \
depmode=gcc3 /bin/sh ../admin/depcomp \
i686-pc-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I. -I.. -Wall -I../include
-DINSTALL_PREFIX=\"/usr\"   -fPIC -DPIC -D_REENTRANT  -march=pentium4 -O2
-fomit-frame-pointer -pipe -fno-exceptions -fno-check-new -c -o main.o `test -f
main.cpp || echo './'`main.cpp
source='icqpacket.cpp' object='icqpacket.o' libtool=no \
depfile='.deps/icqpacket.Po' tmpdepfile='.deps/icqpacket.TPo' \
depmode=gcc3 /bin/sh ../admin/depcomp \
i686-pc-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I. -I.. -Wall -I../include
-DINSTALL_PREFIX=\"/usr\"   -fPIC -DPIC -D_REENTRANT  -march=pentium4 -O2
-fomit-frame-pointer -pipe -fno-exceptions -fno-check-new -c -o icqpacket.o
`test -f icqpacket.cpp || echo './'`icqpacket.cpp
source='proxy.cpp' object='proxy.o' libtool=no \
depfile='.deps/proxy.Po' tmpdepfile='.deps/proxy.TPo' \
depmode=gcc3 /bin/sh ../admin/depcomp \
i686-pc-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I. -I.. -Wall -I../include
-DINSTALL_PREFIX=\"/usr\"   -fPIC -DPIC -D_REENTRANT  -march=pentium4 -O2
-fomit-frame-pointer -pipe -fno-exceptions -fno-check-new -c -o proxy.o `test -f
proxy.cpp || echo './'`proxy.cpp
source='socket.cpp' object='socket.o' libtool=no \
depfile='.deps/socket.Po' tmpdepfile='.deps/socket.TPo' \
depmode=gcc3 /bin/sh ../admin/depcomp \
i686-pc-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I. -I.. -Wall -I../include
-DINSTALL_PREFIX=\"/usr\"   -fPIC -DPIC -D_REENTRANT  -march=pentium4 -O2
-fomit-frame-pointer -pipe -fno-exceptions -fno-check-new -c -o socket.o `test
-f socket.cpp || echo './'`socket.cpp
source='icqd.cpp' object='icqd.o' libtool=no \
depfile='.deps/icqd.Po' tmpdepfile='.deps/icqd.TPo' \
depmode=gcc3 /bin/sh ../admin/depcomp \
i686-pc-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I. -I.. -Wall -I../include
-DINSTALL_PREFIX=\"/usr\"   -fPIC -DPIC -D_REENTRANT  -march=pentium4 -O2
-fomit-frame-pointer -pipe -fno-exceptions -fno-check-new -c -o icqd.o `test -f
icqd.cpp || echo './'`icqd.cpp
socket.cpp: In member function `bool TCPSocket::SecureConnect()':
socket.cpp:1081: error: ISO C++ forbids cast to non-reference type used as lvalue
socket.cpp: In member function `bool TCPSocket::SecureListen()':
socket.cpp:1114: error: ISO C++ forbids cast to non-reference type used as lvalue
make[2]: *** [socket.o] Error 1
make[2]: *** Waiting for unfinished jobs....
make[2]: Leaving directory `/var/tmp/portage/licq-1.2.7/work/licq-1.2.7/src'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/licq-1.2.7/work/licq-1.2.7'
make: *** [all] Error 2



And configure is executed a second time after a warning:
 /bin/sh /var/tmp/portage/licq-1.2.7/work/licq-1.2.7/admin/missing --run
automake --foreign  Makefile
cd . && /bin/sh /var/tmp/portage/licq-1.2.7/work/licq-1.2.7/admin/missing --run
autoconf
configure.in:11: warning: do not use m4_patsubst: use patsubst or m4_bpatsubst
aclocal.m4:6302: AM_CONFIG_HEADER is expanded from...
configure.in:11: the top level
configure.in:182: warning: do not use m4_regexp: use regexp or m4_bregexp
aclocal.m4:6315: _AM_DIRNAME is expanded from...
configure.in:182: the top level
/bin/sh ./config.status --recheck
running /bin/sh ./configure  --prefix=/usr --host=i686-pc-linux-gnu
--mandir=/usr/share/man --infodir=/usr/share/info --datadir=/usr/share
--sysconfdir=/etc --localstatedir=/var/lib --build=i686-pc-linux-gnu
CFLAGS=-march=pentium4 -O2 -fomit-frame-pointer -pipe CXXFLAGS=-march=pentium4
-O2 -fomit-frame-pointer -pipe LDFLAGS=-Wl,-O1 -Wl,-z,now
build_alias=i686-pc-linux-gnu host_alias=i686-pc-linux-gnu  --no-create
--no-recursion

I am not sure if this is a bug. I will attach the config.log.

Reproducible: Always
Steps to Reproduce:
1. emerg licq



emerge --info

Portage 2.0.51.22-r2 (default-linux/x86/2005.0, gcc-3.4.4, glibc-2.3.5-r1,
2.6.12-gentoo-r10 i686)
=================================================================
System uname: 2.6.12-gentoo-r10 i686 Intel(R) Celeron(R) CPU 2.00GHz
Gentoo Base System version 1.6.13
ccache version 2.3 [enabled]
dev-lang/python:     2.3.5-r2, 2.4.2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.15.92.0.2-r10
sys-devel/libtool:   1.5.18-r1
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=pentium4 -O2 -fomit-frame-pointer -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env
/usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3.5/env
/usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/share/config /usr/share/texmf/dvipdfm/config/
/usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/
/usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/ /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-march=pentium4 -O2 -fomit-frame-pointer -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://gentoo.inode.at/
http://gd.tuwien.ac.at/opsys/linux/gentoo/
ftp://gd.tuwien.ac.at/opsys/linux/gentoo/"
LDFLAGS="-Wl,-O1 -Wl,-z,now"
LINGUAS="de"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 16bit X accessibility alsa apm arts avi berkdb bitmap-fonts blas
cdparanoia cdr cjk crypt cups curl divx4linux dvd dvdr dvdread eds emboss encode
esd fam firefox flac flash foomaticdb gcj gd gdbm gif gimpprint gnokii gpm
gstreamer gtk gtk2 hal icq imagemagick imlib jack java jikes jpeg junit kde
kdeenablefinal kig-scripting libg++ libwww logitech-mouse mad mikmod mmx mng
motif mozsvg mp3 mpeg mule mysql ncurses nls nocd nodrm nptl nptlonly offensive
ogg oggvorbis openal opengl oss pam pdflib perl pic plotutils png portaudio
povray ppds pyste python qt quicktime readline rrdtool sdl sms softmmu speex
spell sse ssl svg svga tcltk tcpd tetex theora threads tidy tiff truetype
truetype-fonts type1-fonts unicode userlocales vorbis win32codecs wmf xine xml
xml2 xscreensaver xv zlib linguas_de userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL




Comment 1


Martin Walch





          2005-09-30 07:56:15 UTC
        

Created attachment 69561 [details]
/var/tmp/portage/licq-1.2.7/work/licq-1.2.7/config.log




Comment 2


Jakub Moc (RETIRED)






          2005-09-30 08:08:09 UTC
        

So use 1.3.0...




Comment 3


Martin Walch





          2005-09-30 08:39:19 UTC
        

(In reply to comment #2)
> So use 1.3.0...

So this is the solution? Don't use the stable tree, use the testing tree? :(









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

