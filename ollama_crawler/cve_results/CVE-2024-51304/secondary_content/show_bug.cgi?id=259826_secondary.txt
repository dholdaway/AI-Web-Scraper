Title: 259826 – app-office/akonadi-server-1.1.1 fails to build
URL: https://bugs.gentoo.org/show_bug.cgi?id=259826

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 259826
app-office/akonadi-server-1.1.1 fails to build
Last modified: 2009-11-09 17:52:20 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 259826 
      - app-office/akonadi-server-1.1.1 fails to build


Summary:
app-office/akonadi-server-1.1.1 fails to build
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        All
      







Importance:
      
High
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-02-21 16:50 UTC by Matti Kariluoma





      Modified:
    
2009-11-09 17:52 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



christian.kotz









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




akonadi-server-1.1.1 build log

              (build.log,21.27 KB,
                text/plain)

            
2009-02-21 16:51 UTC,

            Matti Kariluoma




Details





akonadi-server-1.1.1 environment

              (environ,119.86 KB,
                text/plain)

            
2009-02-21 16:51 UTC,

            Matti Kariluoma




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Matti Kariluoma





          2009-02-21 16:50:30 UTC
        

This is a very frustrating bug, I've been scouring the bug reports and the internet as a whole since yesterday (~14 hours ago).

Akonadi-server fails to build on my system, and I am at a loss as to what is wrong. The errors seem top point to a mysql file not being included, and a (separate?) error complains about a file "entities.h" :

" /var/tmp/portage/app-office/akonadi-server-1.1.1/work/akonadi-server_build/server/entities.h:1: error: 'fuck' does not name a type "

browsing to that file, it turns out to be "fuck you gnome". no code, just that single line.

Reproducible: Always

Steps to Reproduce:
1. emerge --sync
2. emerge cmake mysql
3. emerge =akonadi-server-1.1.1


Actual Results:  
fails to compile

Expected Results:  
compile

build.log and environment attached.

emerge --info:

Portage 2.1.6.7 (arch/amd64, gcc-4.2.3, glibc-2.7-r2, 2.6.29-rc2-atarkri-65582-g9665b45 x86_64)
=================================================================
System uname: Linux-2.6.29-rc2-atarkri-65582-g9665b45-x86_64-AMD_Athlon-tm-_64_X2_Dual_Core_Processor_3800+-with-glibc2.2.5
Timestamp of tree: Sat, 21 Feb 2009 14:30:01 +0000
app-shells/bash:     3.2_p33
dev-java/java-config: 1.3.7, 2.1.6-r1
dev-lang/python:     2.4.3-r4, 2.5.1-r5
dev-python/pycrypto: 2.0.1-r5
dev-util/cmake:      2.6.2-r1
sys-apps/baselayout: 1.12.12
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.61-r1
sys-devel/automake:  1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.1
sys-devel/binutils:  2.18-r1
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.24
ACCEPT_KEYWORDS="amd64 ~amd64"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O3 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/svn/env /usr/kde/svn/share/config /usr/kde/svn/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-O3 -pipe"
DISTDIR="/usr/distfiles"
FEATURES="distlocks fixpackages metadata-transfer parallel-fetch protect-owned sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LANG="C"
LDFLAGS=""
PKGDIR="/usr/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="3dnow 3dnowext X a52 aac aalib acpi alsa amd64 amrnb apm archive audiofile avi bidi binddist bitmap-fonts bl bzip2 cairo captury cddb cdio cdparanoia cpudetection crypt cups cviewer daap dbus dga directfb disk-partition dmx dri dts dv dvb dvd dvdr dvdread dxr3 emovix enca encode esd exif extrafilters fame fbcon ffmpeg firefox flac foomaticdb gdbm geoip ggi gif gpm gtk hal id3tag ifp imagemagick imlib ipod jack java javascript jpeg jpeg2k kde kerberos kernel_linux ladspa lame ldap libcaca libg++ libsamplerate libwww lm_sensors logitech_mouse lzo mad md5sum messenger mikmod mjpeg mmap mmx mmxext mng modplug motif mp2 mp3 mp4 mpeg msn mtp multilib musepack musicbrainz mysql nas ncurses nemesi nepomuk nfs njb nls nptl nsplugin ogg oggvorbis openal openexr opengl pam pdf pdflib png pnm ppds python qt qt3 qt4 quicktime rar rdesktop readline real rtc samba sdl slp sndfile solver soundtouch speex spell sqlite srt sse sse2 ssl ssse3 svg taglib tcpd teletext tga theora tiff truetype twolame usb v4l v4l2 vamp vcd visualization vnc vorbis wavpack wifi win32codecs x264 xanim xcb xcd xcomposite xinerama xml xml2 xosd xprint xscreensaver xv xvid xvmc zip zlib zoran ~amd64"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LC_ALL, LINGUAS, MAKEOPTS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY




Comment 1


Matti Kariluoma





          2009-02-21 16:51:07 UTC
        

Created attachment 182744 [details]
akonadi-server-1.1.1 build log




Comment 2


Matti Kariluoma





          2009-02-21 16:51:36 UTC
        

Created attachment 182746 [details]
akonadi-server-1.1.1 environment




Comment 3


Christian Kotz





          2009-03-01 21:26:13 UTC
        

did you install >boost-1.35? If yes try to build with boost-1.35 using eselect boost. This worked for me




Comment 4


Matti Kariluoma





          2009-03-02 00:50:38 UTC
        

(In reply to comment #3)
> did you install >boost-1.35? If yes try to build with boost-1.35 using eselect
> boost. This worked for me
> 

Here were my steps:
emerge --sync
emerge akonadi-server -> failed
USE="mpi expat icu tools" emerge boost -> succeeded, version 1.35.0-r2
eselect boost -> nos such module
emerge eselect -> suceeded, version 1.0.11-r1
emerge eselect-boost -> hard-masked
unmasked eselect-boost
emerge eselect-boost -> succeeded, version 0.2
eselect boost update -> complains about /usr/include/boost not being a symlink

but once I change /usr/include/boost to /usr/include/boost-1.35.0-r2 and then symlink it to /usr/include/boost, eselect complains about /usr/bin/bcj or similar (sorry, I forget the exact filename) also not being a symlink. At this point I just tried to emerge akonadi-server, but it failed in configuration saying it couldn't find the boost libraries. I then back-pedaled, removed the symlink and put /usr/include/boost-1.35.10-r2 back as /usr/include/boost. emerge akonadi-server now gets to the point it has before, as described in the original report, and still fails at that point.

In short, upgrading boost had no effect on this "bug".




Comment 5


Patrick Lauer






          2009-04-30 20:47:57 UTC
        

Does that still happen with 1.1.2 ?




Comment 6


Matti Kariluoma





          2009-04-30 21:46:47 UTC
        

Yes, 1.1.2 fails to compile due to that entities.h file only containing the one-liner "fuck you gnome"

This bug doesn't seem to be bothering many; perhaps I should just throw up a flag and reinstall my entire system...




Comment 7


Samuli Suominen (RETIRED)






          2009-11-09 17:52:20 UTC
        

(In reply to comment #6)
> Yes, 1.1.2 fails to compile due to that entities.h file only containing the
> one-liner "fuck you gnome"
> 
> This bug doesn't seem to be bothering many; perhaps I should just throw up a
> flag and reinstall my entire system...
> 

I don't know where you got that "fuck you gnome" file, but...

akonadi-1.1.2/server/src/storage $ ./doxygen-preprocess-entities.sh create
akonadi-1.1.2/server/src/storage $ head -n 10 entities.h

/*
 * This is an auto-generated file.
 * Do not edit! All changes made to it will be lost.
 */


#ifndef AKONADI_ENTITIES_H
#define AKONADI_ENTITIES_H
#include <storage/entity.h>

$ grep -r -i fuck *
$
$ grep -r -i fuck /usr/include*
$

Nothing. Did I miss a joke here, or what?









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

