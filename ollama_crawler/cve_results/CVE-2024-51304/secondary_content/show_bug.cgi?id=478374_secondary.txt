Title: 478374 – sys-fs/udisks-2.1.0: USE cryptsetup is automagic
URL: https://bugs.gentoo.org/show_bug.cgi?id=478374

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 478374
sys-fs/udisks-2.1.0: USE cryptsetup is automagic
Last modified: 2013-07-28 15:37:29 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 478374 
      - sys-fs/udisks-2.1.0: USE cryptsetup is automagic


Summary:
sys-fs/udisks-2.1.0: USE cryptsetup is automagic
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Freedesktop bugs








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2013-07-27 17:22 UTC by Nikoli





      Modified:
    
2013-07-28 15:37 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Nikoli





          2013-07-27 17:22:46 UTC
        

USE crypsetup does not change installed files anyhow, udisks uses cryptsetup even when built with USE="-crypsetup", no option related to it is in configure.ac, in Makefile* building src/udiskslinuxencrypted.c and src/udiskslinuxblock.c is not optional.




Comment 1


Samuli Suominen (RETIRED)






          2013-07-28 09:46:09 UTC
        

It's not automagic because the package doesn't link against to cryptsetup libraries which is why it's only in RDEPEND instead of both, DEPEND and RDEPEND.
AFAIK the functionality is used only for cryptsetup managed disks/partitions
Or provide a way to reproduce a real problem with the way the dependency is handled in the ebuild




Comment 2


Nikoli





          2013-07-28 15:37:29 UTC
        

Now metadata.xml has:
<flag name='cryptsetup'>Enable <pkg>sys-fs/cryptsetup</pkg> support</flag>

So with USE="-crypsetup" user expects support for cryptsetup be disabled, but it is not. More correct description would be something like "Depend on <pkg>sys-fs/cryptsetup</pkg> for supporting encrypted devices".









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

