Title: 911821 – media-libs/imlib2-1.9.1-r1: compilation with Clang-16.0.6 fails: call to undeclared function 'D'
URL: https://bugs.gentoo.org/show_bug.cgi?id=911821

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 911821
media-libs/imlib2-1.9.1-r1: compilation with Clang-16.0.6 fails: call to undeclared function 'D'
Last modified: 2024-05-12 02:30:09 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 911821 
      - media-libs/imlib2-1.9.1-r1: compilation with Clang-16.0.6 fails: call to undeclared function 'D'


Summary:
media-libs/imlib2-1.9.1-r1: compilation with Clang-16.0.6 fails: call to unde...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

NRK








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:




c99-porting



 

        Show dependency tree





 





      Reported:
    
2023-08-06 21:14 UTC by Acid Bong





      Modified:
    
2024-05-12 02:30 UTC
      (History)
    




          CC List:
        

4 
          users
          
            (show)
          



dlan
gabifalk
nrk
proxy-maint









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build.log for imlib2

              (build.log,181.41 KB,
                text/plain)

            
2023-08-06 21:16 UTC,

            Acid Bong




Details





Build log with 1.11.0

              (build.log,103.36 KB,
                text/plain)

            
2023-08-16 10:23 UTC,

            Brahmajit Das




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Acid Bong





          2023-08-06 21:14:25 UTC
        

imlib2 fails to compile with clang — -Wimplicit-function-declaration is causing an error. No USE changes made to the toolchain nor imlib2.

Reproducible: Always




Comment 1


Acid Bong





          2023-08-06 21:16:46 UTC
        

Created attachment 867251 [details]
build.log for imlib2




Comment 2


Brahmajit Das





          2023-08-16 09:53:06 UTC
        

Is it still the same with imlib2-1.11.0, I can't seem to reproduce it with imlib2-1.11.0.




Comment 3


Brahmajit Das





          2023-08-16 10:23:51 UTC
        

Created attachment 867980 [details]
Build log with 1.11.0




Comment 4


Gabi Falk





          2024-05-11 17:20:01 UTC
        

I tried to reproduce this issue, but no luck.
From the code I don't see how this could happen: src/modules/loaders/loader_svg.c includes "loader_common.h", src/modules/loaders/loader_common.h includes "debug.h", src/lib/debug.h always defines some definition of D(fmt...) preprocessor macro.




Comment 5


NRK





          2024-05-12 02:30:09 UTC
        

> I tried to reproduce this issue, but no luck.

I cannot reproduce it either. Tried both debug and non-debug build.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

