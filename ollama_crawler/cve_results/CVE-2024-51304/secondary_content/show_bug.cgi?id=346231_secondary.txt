Title: 346231 – * ERROR: dev-php5/pecl-mcve-7.0.3-r1 failed: Unable to configure code to compile
URL: https://bugs.gentoo.org/show_bug.cgi?id=346231

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 346231
* ERROR: dev-php5/pecl-mcve-7.0.3-r1 failed: Unable to configure code to compile
Last modified: 2010-12-27 22:12:27 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 346231 
      - * ERROR: dev-php5/pecl-mcve-7.0.3-r1 failed: Unable to configure code to compile


Summary:
* ERROR: dev-php5/pecl-mcve-7.0.3-r1 failed: Unable to configure code to compile
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

PHP Bugs








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2010-11-20 22:37 UTC by muhsin





      Modified:
    
2010-12-27 22:12 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build.log

              (build.log,5.90 KB,
                text/plain)

            
2010-11-20 22:39 UTC,

            muhsin




Details





emerge -pqv =dev-php5/pecl-mcve-7.0.3-r1 >> pqv.txt

              (pqv.txt,77 bytes,
                text/plain)

            
2010-11-20 22:41 UTC,

            muhsin




Details





emerge --info =dev-php5/pecl-mcve-7.0.3-r1 >> info.txt

              (info.txt,5.04 KB,
                text/plain)

            
2010-11-20 22:41 UTC,

            muhsin




Details





php -i

              (phpinfo.txt,31.41 KB,
                text/plain)

            
2010-11-20 22:49 UTC,

            muhsin




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


muhsin





          2010-11-20 22:37:52 UTC
        

* ERROR: dev-php5/pecl-mcve-7.0.3-r1 failed:
 *   Unable to configure code to compile
 * 
 * Call stack:
 *     ebuild.sh, line   56:  Called src_configure
 *   environment, line 3420:  Called php-ext-source-r2_src_configure
 *   environment, line 3130:  Called die
 * The specific snippet of code:
 *           ./configure --with-php-config=${PHPCONFIG} ${my_conf} || die "Unable to configure code to compile";
 * 
 * If you need support, post the output of 'emerge --info =dev-php5/pecl-mcve-7.0.3-r1',
 * the complete build log and the output of 'emerge -pqv =dev-php5/pecl-mcve-7.0.3-r1'.
 * The complete build log is located at '/var/tmp/portage/dev-php5/pecl-mcve-7.0.3-r1/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/dev-php5/pecl-mcve-7.0.3-r1/temp/environment'.
 * S: '/var/tmp/portage/dev-php5/pecl-mcve-7.0.3-r1/work/php5.2'




Comment 1


muhsin





          2010-11-20 22:39:37 UTC
        

Created attachment 254947 [details]
build.log




Comment 2


muhsin





          2010-11-20 22:41:20 UTC
        

Created attachment 254949 [details]
emerge -pqv =dev-php5/pecl-mcve-7.0.3-r1 >> pqv.txt




Comment 3


muhsin





          2010-11-20 22:41:33 UTC
        

Created attachment 254951 [details]
emerge --info =dev-php5/pecl-mcve-7.0.3-r1 >> info.txt




Comment 4


muhsin





          2010-11-20 22:49:51 UTC
        

Created attachment 254953 [details]
php -i




Comment 5


muhsin





          2010-11-20 22:53:25 UTC
        

(In reply to comment #4)
> Created an attachment (id=254953) [details]
> php -i
> 

The package still tries to use PHP 5.2 where the system is upgraded to PHP 5.3.




Comment 6


Jeremy Olexa (darkside) (RETIRED)








          2010-12-25 07:11:04 UTC
        

I'm guessing you either didn't set PHP_TARGETS properly or didn't "eselect php set" properly




Comment 7


Ole Markus With (RETIRED)






          2010-12-25 09:01:02 UTC
        

(In reply to comment #3)
> Created an attachment (id=254951) [details]
> emerge --info =dev-php5/pecl-mcve-7.0.3-r1 >> info.txt
> 


You have the following in your emerge --info, so you are trying to build the extension with support for php5-2 only:

dev-php5/pecl-mcve-7.0.3-r1 was built with the following:
USE="" PHP_TARGETS="php5-2 -php5-3"

If you do not have PHP_TARGETS set, you may want to run an emerge --sync to get the latest profile changes.




Comment 8


muhsin





          2010-12-25 14:50:55 UTC
        

(In reply to comment #7)
> (In reply to comment #3)
> > Created an attachment (id=254951) [details] [details]
> > emerge --info =dev-php5/pecl-mcve-7.0.3-r1 >> info.txt
> > 
> 
> 
> You have the following in your emerge --info, so you are trying to build the
> extension with support for php5-2 only:
> 
> dev-php5/pecl-mcve-7.0.3-r1 was built with the following:
> USE="" PHP_TARGETS="php5-2 -php5-3"
> 
> If you do not have PHP_TARGETS set, you may want to run an emerge --sync to get
> the latest profile changes.
> 

After modification it turns out that now on my system PHP_TARGETS is set to 5.3 and when I try to emerge php the package pecl-mcve doesnt pull in as a dependency.No idea if I have specifically done this, or somewhere else.

But still I cant compile the package in this bug.Now it fails on a different package.


emerge -pv dev-php5/pecl-mcve:
[ebuild  N    ] net-libs/libmonetra-5.2  0 kB
[ebuild  N    ] dev-php5/pecl-mcve-7.0.3-r1  PHP_TARGETS="php5-3 -php5-2" 0 kB

Fails on 1st package:

checking for correct ltmain.sh version... grep: character class syntax is [[:space:]], not [:space:]
no

*** Gentoo sanity check failed! ***
*** libtool.m4 and ltmain.sh have a version mismatch! ***
*** (libtool.m4 = 1.5.20, ltmain.sh = ) ***

Please run:

  libtoolize --copy --force

if appropriate, please contact the maintainer of this
package (or your distribution) for help.


!!! Please attach the following file when seeking support:
!!! /var/tmp/portage/net-libs/libmonetra-5.2/work/libmonetra-5.2/config.log
 * ERROR: net-libs/libmonetra-5.2 failed:
 *   econf failed
 * 
 * Call stack:
 *     ebuild.sh, line  56:  Called src_compile
 *   environment, line 169:  Called _eapi0_src_compile
 *     ebuild.sh, line 621:  Called econf
 *     ebuild.sh, line 555:  Called die
 * The specific snippet of code:
 *                      die "econf failed"
 * 
 * If you need support, post the output of 'emerge --info =net-libs/libmonetra-5.2',
 * the complete build log and the output of 'emerge -pqv =net-libs/libmonetra-5.2'.
 * The complete build log is located at '/var/tmp/portage/net-libs/libmonetra-5.2/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/net-libs/libmonetra-5.2/temp/environment'.
 * S: '/var/tmp/portage/net-libs/libmonetra-5.2/work/libmonetra-5.2'





Comment 9


Ole Markus With (RETIRED)






          2010-12-25 14:57:01 UTC
        

You should file a separate bug about this. It is not related to pecl-mvce.




Comment 10


muhsin





          2010-12-25 16:00:24 UTC
        

(In reply to comment #9)
> You should file a separate bug about this. It is not related to pecl-mvce.
> 

Never mind, its probably difficult to continue.If you think as a Developer the bug can not be re-produce then close the report.

I am saying this as I have changed gcc recently, so technically I cant re-produce most of the effects of this bug.But I am just a normal user, not a real dev to make decisions on the report.

Many thanks for the support.

Cheers




Comment 11


Jeremy Olexa (darkside) (RETIRED)








          2010-12-27 22:12:27 UTC
        

(In reply to comment #10)

> Many thanks for the support.

No, thank you. Please continue to open reports if you think there are problems. Cheers.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

