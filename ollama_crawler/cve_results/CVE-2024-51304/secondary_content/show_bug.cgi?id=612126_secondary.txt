Title: 612126 – dev-haskell/gtk3-0.14.6 : Structs.hsc:648:22: error: ‘Window’ undeclared (first use in this function)
URL: https://bugs.gentoo.org/show_bug.cgi?id=612126

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 612126
dev-haskell/gtk3-0.14.6 : Structs.hsc:648:22: error: ‘Window’ undeclared (first use in this function)
Last modified: 2017-04-12 19:40:52 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 612126 
      - dev-haskell/gtk3-0.14.6 : Structs.hsc:648:22: error: ‘Window’ undeclared (first use in this function)


Summary:
dev-haskell/gtk3-0.14.6 : Structs.hsc:648:22: error: ‘Window’ undeclared (fir...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo's Haskell Language team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2017-03-09 17:07 UTC by Toralf Förster





      Modified:
    
2017-04-12 19:40 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge-info.txt

              (emerge-info.txt,5.70 KB,
                text/plain)

            
2017-03-09 17:07 UTC,

            Toralf Förster




Details





dev-haskell:gtk3-0.14.6:20170308-220221.log

              (dev-haskell:gtk3-0.14.6:20170308-220221.log,17.62 KB,
                text/plain)

            
2017-03-09 17:07 UTC,

            Toralf Förster




Details





emerge-history.txt

              (emerge-history.txt,502.92 KB,
                text/plain)

            
2017-03-09 17:07 UTC,

            Toralf Förster




Details





environment

              (environment,111.83 KB,
                text/plain)

            
2017-03-09 17:07 UTC,

            Toralf Förster




Details





etc.portage.tbz2

              (etc.portage.tbz2,38.97 KB,
                application/x-bzip)

            
2017-03-09 17:07 UTC,

            Toralf Förster




Details





temp.tbz2

              (temp.tbz2,30.34 KB,
                application/x-bzip)

            
2017-03-09 17:07 UTC,

            Toralf Förster




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Toralf Förster






          2017-03-09 17:07:03 UTC
        

In file included from Structs.hsc:8:0:
Structs.hsc: In function ‘main’:
Structs.hsc:648:22: error: ‘Window’ undeclared (first use in this function)
./template-hsc-gtk2hs.h:7:8: note: in definition of macro ‘hsc_gtk2hs_type’
   if ((t)(int)(t)1.4 == (t)1.4)                   \
        ^

  -----------------------------------------------------------------

  This is an unstable amd64 chroot image (named 13.0_20170224-122708) at a hardened host acting as a tinderbox.

  -----------------------------------------------------------------

gcc-config -l:
 [1] x86_64-pc-linux-gnu-5.4.0 *
llvm-config:
3.9.1
Available Python interpreters, in order of preference:
  [1]   python3.4
  [2]   python2.7 (fallback)
  [3]   pypy3 (fallback)
  [4]   pypy (fallback)
Available Ruby profiles:
  [1]   ruby21 (with Rubygems) *
java-config:
The following VMs are available for generation-2:




Comment 1


Toralf Förster






          2017-03-09 17:07:06 UTC
        

Created attachment 466398 [details]
emerge-info.txt




Comment 2


Toralf Förster






          2017-03-09 17:07:09 UTC
        

Created attachment 466400 [details]
dev-haskell:gtk3-0.14.6:20170308-220221.log




Comment 3


Toralf Förster






          2017-03-09 17:07:13 UTC
        

Created attachment 466402 [details]
emerge-history.txt




Comment 4


Toralf Förster






          2017-03-09 17:07:16 UTC
        

Created attachment 466404 [details]
environment




Comment 5


Toralf Förster






          2017-03-09 17:07:19 UTC
        

Created attachment 466406 [details]
etc.portage.tbz2




Comment 6


Toralf Förster






          2017-03-09 17:07:22 UTC
        

Created attachment 466408 [details]
temp.tbz2




Comment 7


Sergei Trofimovich (RETIRED)






          2017-04-11 21:31:19 UTC
        

I tried to reproduce it locally but failed. My guess is it's
caused by incomplete headers in x11-libs/gtk+-3.22.9 (not in tree anymore):

> Dependency gtk+-3.0 -any: using version 3.22.9

Is build failure still reproducible on current ~arch?




Comment 8


Toralf Förster






          2017-04-12 17:56:51 UTC
        

(In reply to Sergei Trofimovich from comment #7)
nope, eg. this combination works fine :

Mon Apr 10 06:09:56 2017 >>> x11-libs/gtk+-2.24.31-r1
Mon Apr 10 06:31:14 2017 >>> x11-libs/gtk+-3.22.12
Wed Apr 12 19:32:27 2017 >>> dev-haskell/gtk3-0.14.6









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

