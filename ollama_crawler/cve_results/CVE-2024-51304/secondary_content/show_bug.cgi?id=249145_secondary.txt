Title: 249145 – emerging dev-scheme/plt-scheme-4.1* hangs
URL: https://bugs.gentoo.org/show_bug.cgi?id=249145

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 249145
emerging dev-scheme/plt-scheme-4.1* hangs
Last modified: 2009-02-02 18:06:33 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 249145 
      - emerging dev-scheme/plt-scheme-4.1* hangs


Summary:
emerging dev-scheme/plt-scheme-4.1* hangs
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Development

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Scheme Project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-11-28 09:08 UTC by Tim Northover





      Modified:
    
2009-02-02 18:06 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge --info output

              (emerge.info,3.59 KB,
                text/plain)

            
2008-11-28 09:44 UTC,

            Tim Northover




Details





build log. No errors of course.

              (build.log,415.44 KB,
                text/plain)

            
2008-11-28 09:45 UTC,

            Tim Northover




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Tim Northover





          2008-11-28 09:08:58 UTC
        

Emerging any 4.1 version of plt-scheme seems to hang on the line:

setup-plt: running: scribblings/guide/guide.scrbl

Executing the ebuild manually, it seems to be the "install" stage that causes the problem. The hang uses 100% cpu, but doesn't seem to consume memory. Manually compiling and installing does not hang. I left it for 15 hours or so, so I'm fairly confident it wasn't going anywhere.

Not sure what other information would be useful; I couldn't see what was going wrong.

Reproducible: Always




Comment 1


Panagiotis Christopoulos (RETIRED)






          2008-11-28 09:27:24 UTC
        

Please paste your "emerge --info" output, and the exact ebuild that fails. I will try to reproduce myself later today.Also, if you have kept the build.log, attach it in this bug.

Panagiotis(pchrist)




Comment 2


Tim Northover





          2008-11-28 09:44:28 UTC
        

Created attachment 173630 [details]
emerge --info output




Comment 3


Tim Northover





          2008-11-28 09:45:10 UTC
        

Created attachment 173632 [details]
build log. No errors of course.




Comment 4


Tim Northover





          2008-11-28 09:53:16 UTC
        

(In reply to comment #1)
> Please paste your "emerge --info" output, and the exact ebuild that fails. I
> will try to reproduce myself later today.Also, if you have kept the build.log, attach it in this bug.

Of course, sorry. /usr/portage/dev-scheme/plt-scheme/plt-scheme-4.1.3.ebuild fails (as do 4.1.2 and 4.1, with no difference).





Comment 5


Marijn Schouten (RETIRED)






          2008-11-28 14:20:20 UTC
        

This is probably caused by your CFLAGS including "-fweb -ftree-vectorize". Could you test without those?




Comment 6


Tim Northover





          2008-11-28 14:56:01 UTC
        

(In reply to comment #5)
> This is probably caused by your CFLAGS including "-fweb -ftree-vectorize".
> Could you test without those?

Oops. Yes, it was. So sorry to have bothered people.




Comment 7


Marijn Schouten (RETIRED)






          2008-11-28 16:59:12 UTC
        

don't worry about it.

Could you please find out if it is just one of those flags that's the culprit or both. We already filter -ftree-vectorize for guile, so we might as well do the same for plt-scheme.




Comment 8


Tim Northover





          2008-12-01 11:09:51 UTC
        

(In reply to comment #7)
> don't worry about it.
> 
> Could you please find out if it is just one of those flags that's the culprit
> or both. We already filter -ftree-vectorize for guile, so we might as well do
> the same for plt-scheme.

Sorry for the delay, been away for the weekend. It's just -ftree-vectorize that causes the problem.






Comment 9


Marijn Schouten (RETIRED)






          2009-02-02 18:06:33 UTC
        

I was able to install plt-scheme-4.1.4 succesfully using:

CFLAGS="-ftree-vectorize" emerge plt-scheme

4.1.4(19:04:54 02-02-09)(X cairo cgc opengl -backtrace -llvm -profile









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

