Title: 872614 – www-client/firefox-105.0.1 failed to emerge
URL: https://bugs.gentoo.org/show_bug.cgi?id=872614

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 872614
www-client/firefox-105.0.1 failed to emerge
Last modified: 2022-09-24 09:12:03 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 872614 
      - www-client/firefox-105.0.1 failed to emerge


Summary:
www-client/firefox-105.0.1 failed to emerge
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

ARM64
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Mozilla Gentoo Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2022-09-24 06:35 UTC by Leonid Kopylov





      Modified:
    
2022-09-24 09:12 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build.log.xz

              (build.log.xz,307.74 KB,
                application/xz)

            
2022-09-24 06:36 UTC,

            Leonid Kopylov




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Leonid Kopylov





          2022-09-24 06:35:08 UTC
        

# emerge -pqv '=www-client/firefox-105.0.1::gentoo'
[ebuild     U ] www-client/firefox-105.0.1 [105.0] USE="X clang dbus geckodriver gmp-autoupdate jack openh264 pulseaudio screencast sndio system-av1 system-harfbuzz system-icu system-jpeg system-libevent system-libvpx system-webp wayland -debug (-eme-free) (-hardened) -hwaccel -libproxy -lto -pgo (-selinux) -system-png (-system-python-libs) -wifi" CPU_FLAGS_ARM="(-neon)" L10N="he ru -ach -af -an -ar -ast -az -be -bg -bn -br -bs -ca -ca-valencia -cak -cs -cy -da -de -dsb -el -en-CA -en-GB -eo -es-AR -es-CL -es-ES -es-MX -et -eu -fa -ff -fi -fr -fy -ga -gd -gl -gn -gu -hi -hr -hsb -hu -hy -ia -id -is -it -ja -ka -kab -kk -km -kn -ko -lij -lt -lv -mk -mr -ms -my -nb -ne -nl -nn -oc -pa -pl -pt-BR -pt-PT -rm -ro -sco -si -sk -sl -son -sq -sr -sv -szl -ta -te -th -tl -tr -trs -uk -ur -uz -vi -xh -zh-CN -zh-TW"

# emerge --info '=www-client/firefox-105.0.1::gentoo'
Portage 3.0.37 (python 3.10.7-final-0, default/linux/arm64/17.0/desktop/gnome/systemd, gcc-12.2.0, glibc-2.36-r3, 5.19.10-gentoo-arm64 aarch64)
=================================================================
                         System Settings
=================================================================
System uname: Linux-5.19.10-gentoo-arm64-aarch64-with-glibc2.36
KiB Mem:    16345296 total,   2998892 free
KiB Swap:    8388604 total,    282668 free
Timestamp of repository gentoo: Sat, 24 Sep 2022 03:30:01 +0000
Head commit of repository gentoo: 54c2a8c1297b97707b0024bad8191e8fffa82c4c
sh bash 5.1_p16-r2
ld GNU ld (Gentoo 2.39 p4) 2.39.0
ccache version 4.6.3 [enabled]
app-misc/pax-utils:        1.3.5::gentoo
app-shells/bash:           5.1_p16-r2::gentoo
dev-java/java-config:      2.3.1::gentoo
dev-lang/perl:             5.36.0::gentoo
dev-lang/python:           3.10.7::gentoo, 3.11.0_rc2::gentoo
dev-lang/rust:             1.64.0::gentoo
dev-util/ccache:           4.6.3::gentoo
dev-util/cmake:            3.24.2::gentoo
dev-util/meson:            0.63.2-r1::gentoo
sys-apps/baselayout:       2.9::gentoo
sys-apps/sandbox:          2.29::gentoo
sys-apps/systemd:          251.4::gentoo
sys-devel/autoconf:        2.13-r3::gentoo, 2.71-r4::gentoo
sys-devel/automake:        1.16.5::gentoo
sys-devel/binutils:        2.39-r2::gentoo
sys-devel/binutils-config: 5.4.1::gentoo
sys-devel/clang:           14.0.6-r1::gentoo, 15.0.1::gentoo
sys-devel/gcc:             12.2.0::gentoo
sys-devel/gcc-config:      2.6::gentoo
sys-devel/libtool:         2.4.7::gentoo
sys-devel/lld:             14.0.6::gentoo
sys-devel/llvm:            13.0.1::gentoo, 14.0.6-r2::gentoo, 15.0.1::gentoo
sys-devel/make:            4.3::gentoo
sys-kernel/linux-headers:  5.19::gentoo (virtual/os-headers)
sys-libs/glibc:            2.36-r3::gentoo
Repositories:

gentoo
    location: /var/db/repos/gentoo
    sync-type: rsync
    sync-uri: rsync://rsync.gentoo.org/gentoo-portage
    priority: -1000
    sync-rsync-verify-jobs: 1
    sync-rsync-extra-opts:
    sync-rsync-verify-metamanifest: yes
    sync-rsync-verify-max-age: 24

HomeAssistantRepository
    location: /var/lib/layman/HomeAssistantRepository
    sync-type: laymansync
    sync-uri: https://git.edevau.net/onkelbeh/HomeAssistantRepository.git
    masters: gentoo
    priority: 50

guru
    location: /var/lib/layman/guru
    sync-type: laymansync
    sync-uri: https://anongit.gentoo.org/git/repo/proj/guru.git
    masters: gentoo
    priority: 50

haskell
    location: /var/lib/layman/haskell
    sync-type: laymansync
    sync-uri: https://github.com/gentoo-haskell/gentoo-haskell.git
    masters: gentoo
    priority: 50

ACCEPT_KEYWORDS="arm64 ~arm64"
ACCEPT_LICENSE="* -@EULA android AnyDesk-TOS geekbench Microsoft-vscode TeamViewer Vivaldi"
CBUILD="aarch64-unknown-linux-gnu"
CFLAGS="-march=native -O2 -pipe -fomit-frame-pointer"
CHOST="aarch64-unknown-linux-gnu"
CONFIG_PROTECT=""/var/lib/mythtv" /etc /opt/zookeeper-bin/conf /usr/lib64/libreoffice/program/sofficerc /usr/share/config /usr/share/gnupg/qualified.txt"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/dconf /etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php7.4/ext-active/ /etc/php/apache2-php8.0/ext-active/ /etc/php/apache2-php8.1/ext-active/ /etc/php/cgi-php7.4/ext-active/ /etc/php/cgi-php8.0/ext-active/ /etc/php/cgi-php8.1/ext-active/ /etc/php/cli-php7.4/ext-active/ /etc/php/cli-php8.0/ext-active/ /etc/php/cli-php8.1/ext-active/ /etc/php/fpm-php7.4/ext-active/ /etc/php/fpm-php8.0/ext-active/ /etc/php/fpm-php8.1/ext-active/ /etc/php/phpdbg-php7.4/ext-active/ /etc/php/phpdbg-php8.0/ext-active/ /etc/php/phpdbg-php8.1/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c"
CXXFLAGS="-march=native -O2 -pipe -fomit-frame-pointer"
DISTDIR="/var/cache/distfiles"
ENV_UNSET="CARGO_HOME DBUS_SESSION_BUS_ADDRESS DISPLAY GOBIN GOPATH PERL5LIB PERL5OPT PERLPREFIX PERL_CORE PERL_MB_OPT PERL_MM_OPT XAUTHORITY XDG_CACHE_HOME XDG_CONFIG_HOME XDG_DATA_HOME XDG_RUNTIME_DIR"
FCFLAGS="-march=native -O2 -pipe -fomit-frame-pointer"
FEATURES="assume-digests binpkg-docompress binpkg-dostrip binpkg-logs binpkg-multi-instance buildpkg-live ccache config-protect-if-modified distlocks ebuild-locks fixlafiles ipc-sandbox merge-sync multilib-strict network-sandbox news parallel-fetch pid-sandbox preserve-libs protect-owned qa-unresolved-soname-deps sandbox sfperms strict strict-keepdir unknown-features-warn unmerge-logs unmerge-orphans userfetch userpriv usersandbox usersync xattr"
FFLAGS="-march=native -O2 -pipe -fomit-frame-pointer"
GENTOO_MIRRORS="https://mirror.isoc.org.il/pub/gentoo/"
LANG="en_US.utf8"
LC_ALL="en_US.UTF-8"
LDFLAGS="-Wl,-O1 -Wl,--as-needed"
MAKEOPTS="-j6"
PKGDIR="/var/cache/binpkgs"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --omit-dir-times --compress --force --whole-file --delete --stats --human-readable --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --exclude=/.git"
PORTAGE_TMPDIR="/var/tmp"
SHELL="/bin/bash"
USE="X a52 aac aalib accessibility acl acpi alsa ao appindicator archive arm64 aspell audit bash-completion berkdb bidi bluetooth bluray boost bpf branding brotli btrfs bzip2 cairo cdda cddb cdio cdr cgi cli colord contrib cron crypt cryptsetup cups curl dbi dbus designer device-mapper djvu doc dri dts dvb dvdr eds emacs enchant encode evo examples executable exif experimental extra extras fam fastcgi fbcon fdk ffmpeg fftw flac fluidsynth fontconfig fontforge fortran ftp fuse gamepad games gcrypt gd gdbm gdk-pixbuf geoip geolocation gif git glade gme gmp gnome gnome-keyring gnome-online-accounts gnutls go gpg gphoto2 gpm graphite graphviz gsm gssapi gstreamer gtk gtk-doc gtk3 gui guile harfbuzz hdf5 heif help highlight hscolour html http http2 ibus iconv icu idn imagemagick imap imlib introspection iodbc ipv6 iso jack java javascript jbig jemalloc joystick jpeg jpeg2k json kerberos ladspa lame latex lcms ldap libass libcaca libevent libglvnd libnotify libsamplerate libsecret libtirpc libxml2 lmdb lua lv2 lvm lz4 lzma lzo mad magic maildir man mbedtls mbox memcached midi mng modplug mp3 mp4 mpeg mtp multimedia musepack mysql nas nautilus ncurses netlink nettle network networkmanager nfs nls nptl nss ntlm odbc offensive ogg openal openexr opengl openmp openssl opus pam pango pcap pcre pdf perl phonon pkcs11 plugins png policykit portaudio postgres postscript ppds pulseaudio python qdbm qml qrcode qt5 raw rdma readline redis rss samba sasl screencast sctp sdl seccomp semantic-desktop skey smtp snappy sndfile sndio snmp sockets sound source sox speech speex spell split-usr sql sqlite ssh ssl startup-notification svg symlink syslog systemd taglib tbb tcl theora threads tiff tk tools tracker tremor truetype twolame udev udisks unicode unwind upnp upnp-av upower usb utils uuid v4l vala vcd vim-syntax vnc vorbis vpx wavpack wayland webengine webkit webp websockets widgets wmf wxwidgets x264 x265 xattr xcb xface xft xine xinerama xml xmp xpm xscreensaver xv xvid yaml zeroconf zeromq zip zlib zsh-completion zstd" ADA_TARGET="gnat_2020" APACHE2_MODULES="authn_core authz_core socache_shmcb unixd actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cgi cgid dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CALLIGRA_FEATURES="karbon sheets words stage" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" CPU_FLAGS_ARM="edsp thumb vfp vfpv3 vfpv4 vfp-d32 aes sha1 sha2 crc32 v4 v5 v6 v7 v8 thumb2" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock greis isync itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf skytraq superstar2 timing tsip tripmate tnt ublox ubx" GRUB_PLATFORMS="efi-64" INPUT_DEVICES="evdev libinput" KERNEL="linux" L10N="en en-US he ru" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LIBREOFFICE_EXTENSIONS="nlpsolver" LUA_SINGLE_TARGET="lua5-1" LUA_TARGETS="lua5-1" OFFICE_IMPLEMENTATION="libreoffice" PHP_TARGETS="php7-4 php8-0" POSTGRES_TARGETS="postgres12 postgres13" PYTHON_SINGLE_TARGET="python3_10" PYTHON_TARGETS="python3_10" RUBY_TARGETS="ruby27 ruby30 ruby31" USERLAND="GNU" VIDEO_CARDS="virgl" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq proto steal rawnat logmark ipmark dhcpmac delude chaos account"
Unset:  ADDR2LINE, AR, ARFLAGS, AS, ASFLAGS, CC, CCLD, CONFIG_SHELL, CPP, CPPFLAGS, CTARGET, CXX, CXXFILT, ELFEDIT, EMERGE_DEFAULT_OPTS, EXTRA_ECONF, F77FLAGS, FC, GCOV, GPROF, INSTALL_MASK, LD, LEX, LFLAGS, LIBTOOL, LINGUAS, MAKE, MAKEFLAGS, NM, OBJCOPY, OBJDUMP, PORTAGE_BINHOST, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, RANLIB, READELF, RUSTFLAGS, SIZE, STRINGS, STRIP, YACC, YFLAGS




Comment 1


Leonid Kopylov





          2022-09-24 06:36:09 UTC
        

Created attachment 813931 [details]
build.log.xz




Comment 2


Joonas Niilola






          2022-09-24 06:53:22 UTC
        

Try without ccache/sccache first, post build log when they're NOT being used. Sometimes using ccache can cause weird errors that can't be fixed from our side.

Reopen if it still fails. What's weird you seem to have 105.0 installed just fine, there are rather no updates between 105.0 and 105.0.1.




Comment 3


Sam James









          2022-09-24 06:58:26 UTC
        

2:54.44 sccache: Compiler killed by signal 9
 2:54.45 error: could not compile `style`
 2:54.45 Caused by:
 2:54.45   process didn't exit successfully:

[...]
(long line)
[...]ease/deps/libvoid-be59035c9642f1db.rmeta --cap-lints warn -C codegen-units=1` (exit status: 254)
 2:54.45 warning: build failed, waiting for other jobs to finish...

Apparently exit code 9 is usually SIGKIL which usually means out of memory. All of this is in addition to what juippis said, ofc




Comment 4


Leonid Kopylov





          2022-09-24 07:21:57 UTC
        

weird, but yes, after disabling ccache + sccache it built without any issue, thanks!









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

