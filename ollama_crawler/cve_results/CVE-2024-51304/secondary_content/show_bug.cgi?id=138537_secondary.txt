Title: 138537 – media-video/vlc-0.8.4a-r1: Autoconf fails to detect media-video/ffmpeg-0.4.9_p20060302
URL: https://bugs.gentoo.org/show_bug.cgi?id=138537

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 138537
media-video/vlc-0.8.4a-r1: Autoconf fails to detect media-video/ffmpeg-0.4.9_p20060302
Last modified: 2006-06-30 00:16:50 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 138537 
      - media-video/vlc-0.8.4a-r1: Autoconf fails to detect media-video/ffmpeg-0.4.9_p20060302


Summary:
media-video/vlc-0.8.4a-r1: Autoconf fails to detect media-video/ffmpeg-0.4.9_...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Unspecified

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-06-29 17:37 UTC by Richard Graham





      Modified:
    
2006-06-30 00:16 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




econf told me to attach this log

              (config.log,322.43 KB,
                text/plain)

            
2006-06-29 17:38 UTC,

            Richard Graham




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Richard Graham





          2006-06-29 17:37:05 UTC
        

When I attempt to install media-video/vlc-0.8.4a-r1 with USE=ffmpeg, the installation fails because Autoconf fails to detect an installation of ffmpeg, even though media-video/ffmpeg-0.4.9_p20060302 is installed.

----- The output of emerge and its child processes -----

configure: error: Could not find ffmpeg on your system: you may get it from http://ffmpeg.sf.net/ (cvs version is recommended). Alternatively you can use --disable-ffmpeg to disable the ffmpeg plugins.

!!! Please attach the following file when filing a report to bugs.gentoo.org:
!!! /var/tmp/portage/vlc-0.8.4a-r1/work/vlc-0.8.4a/config.log
!!! ERROR: media-video/vlc-0.8.4a-r1 failed.
Call stack:
basename ${BASH_SOURCE[${n}]}
  ebuild.sh, line 1539:   Called dyn_compile
basename ${BASH_SOURCE[${n}]}
  ebuild.sh, line 939:   Called src_compile
basename ${BASH_SOURCE[${n}]}
  vlc-0.8.4a-r1.ebuild, line 157:   Called econf '--disable-altivec' '--enable-sout' '--disable-httpd' '--enable-gnutls' '--disable-v4l' '--disable-cdda' '--disable-cddax' '--disable-libcddb' '--disable-vcd' '--disable-vcdx' '--disable-dvb' '--disable-pvr' '--enable-ogg' '--enable-mkv' '--enable-flac' '--enable-vorbis' '--enable-theora' '--enable-x11' '--enable-xvideo' '--disable-xinerama' '--enable-glx' '--enable-opengl' '--enable-freetype' '--disable-fribidi' '--enable-dvdread' '--enable-dvdplay' '--enable-dvdnav' '--disable-fb' '--disable-svgalib' '--disable-glide' '--disable-aa' '--disable-caca' '--disable-oss' '--enable-esd' '--disable-arts' '--enable-alsa' '--enable-wxwidgets' '--enable-ncurses' '--disable-xosd' '--disable-lirc' '--enable-joystick' '--disable-livedotcom' '--without-livedotcom-tree' '--enable-mad' '--enable-faad' '--enable-a52' '--enable-dts' '--enable-libmpeg2' '--disable-ggi' '--disable-glide' '--enable-sdl' '--enable-png' '--enable-libxml2' '--enable-smb' '--enable-daap' '--disable-corba' '--disable-mod' '--disable-speex' '--enable-shout' '--disable-rtsp' '--disable-realrtsp' '--enable-loader' '--disable-skins2' '--enable-hal' '--disable-bonjour' '--disable-mozilla' '--disable-pth' '--disable-portaudio' '--disable-slp' '--disable-x264' '--enable-utf8' '--with-wx-config=gtk2-unicode-release-2.6' '--with-wx-config-path=/usr/lib/wx/config' '--enable-ffmpeg' '--with-ffmpeg-aac' '--with-ffmpeg-dts' '--with-ffmpeg-zlib' '--with-ffmpeg-mp3lame' '--disable-vlm'
basename "${BASH_SOURCE[1]}"
  ebuild.sh, line 541:   Called die

!!! econf failed
!!! If you need support, post the topmost build error, and the call stack if relevant.

----- The output of "emerge --info" -----

Portage 2.1-r1 (default-linux/x86/2006.0, gcc-3.4.6, glibc-2.3.6-r4, 2.6.16-gentoo-r9 i686)
=================================================================
System uname: 2.6.16-gentoo-r9 i686 Intel(R) Pentium(R) M processor 1.73GHz
Gentoo Base System version 1.6.15
dev-lang/python:     2.4.3-r1
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r2
sys-devel/gcc-config: 1.3.13-r2
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium-m -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/"
CONFIG_PROTECT_MASK="/etc/env.d /etc/gconf /etc/revdep-rebuild /etc/splash /etc/terminfo"
CXXFLAGS="-O2 -march=pentium-m -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig confcache distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://www.mirrorservice.org/sites/www.ibiblio.org/gentoo/ ftp://ftp.mirrorservice.org/sites/www.ibiblio.org/gentoo/ http://ftp.heanet.ie/pub/gentoo/ ftp://ftp.heanet.ie/pub/gentoo/"
LC_ALL="en_GB.UTF-8"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="x86 X a52 aac acpi alsa apache2 avi bash-completion berkdb bitmap-fonts bzip2 cairo cdr cjk cli crypt cups dbus dri dts dvd dvdr eds emboss encode esd exif ffmpeg flac fontconfig foomaticdb fortran gdbm gif glitz gnome gnutls gpm gstreamer gtk gtk2 gtkhtml hal howl ieee1394 imlib ipv6 isdnlog jabber javascript jikes joystick jpeg lcms libg++ libwww logrotate mad matroska mikmod mmx mng mp3 mpeg ncurses nfs nls nptl ogg opengl pam pcmcia pcre pdf pdflib perl png pppd python quicktime readline reflection samba scanner sdl session sharedmem spell spl sse sse2 ssl startup-notification svg tcpd tetex theora threads tiff truetype truetype-fonts type1-fonts udev unicode usb vorbis wifi win32codecs x264 xml xml2 xorg xv xvid zlib elibc_glibc kernel_linux userland_GNU"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LDFLAGS, LINGUAS, MAKEOPTS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY




Comment 1


Richard Graham





          2006-06-29 17:38:17 UTC
        

Created attachment 90494 [details]
econf told me to attach this log




Comment 2


Jakub Moc (RETIRED)






          2006-06-30 00:16:50 UTC
        

> /usr/lib/gcc/i686-pc-linux-gnu/3.4.6/../../../libavcodec.so: undefined reference to `x264_encoder_close'
> /usr/lib/gcc/i686-pc-linux-gnu/3.4.6/../../../libavcodec.so: undefined reference to `x264_param_default'
> /usr/lib/gcc/i686-pc-linux-gnu/3.4.6/../../../libavcodec.so: undefined reference to `x264_encoder_headers'
> /usr/lib/gcc/i686-pc-linux-gnu/3.4.6/../../../libavcodec.so: undefined reference to `x264_nal_encode'
> /usr/lib/gcc/i686-pc-linux-gnu/3.4.6/../../../libavcodec.so: undefined reference to `x264_encoder_open'
> /usr/lib/gcc/i686-pc-linux-gnu/3.4.6/../../../libavcodec.so: undefined reference to `x264_encoder_encode'

Your linking is messed up, you need to run revdep-rebuild. 

(And always include emerge --info in your bug reports next time).










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

