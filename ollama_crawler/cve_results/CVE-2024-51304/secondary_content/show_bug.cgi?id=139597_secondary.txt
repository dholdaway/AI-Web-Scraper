Title: 139597 – Skype 1.3.0.30-rc1 issue (exec stacks?)
URL: https://bugs.gentoo.org/show_bug.cgi?id=139597

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 139597
Skype 1.3.0.30-rc1 issue (exec stacks?)
Last modified: 2006-10-03 03:44:11 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 139597 
      - Skype 1.3.0.30-rc1 issue (exec stacks?)


Summary:
Skype 1.3.0.30-rc1 issue (exec stacks?)
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Net-im project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-07-07 13:30 UTC by Jacopo





      Modified:
    
2006-10-03 03:44 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



jakub









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Jacopo





          2006-07-07 13:30:13 UTC
        

Seems like the new version of skype runs only under root account;
if used under normal user account it freezes trying to make a call.
Googling around and on skype forum seems like this is a common gentoo issue, while other distro are ok. I noticed this warning while emerging it:


QA Notice: the following files contain executable stacks
 Files with executable stacks will not work properly (or at all!)
 on some architectures/operating systems.  A bug should be filed
 at http://bugs.gentoo.org/ to make sure the file is fixed.
 For more information, see http://hardened.gentoo.org/gnu-stack.xml
 Please include this file in your report:
 /var/tmp/portage/skype-1.3.0.30-r1/temp/scanelf-execstack.log
"--- --- RWX opt/skype/skype"

I think this may be the case, anyway I already noticed this to skype people to see what they think about it.


------------
Portage 2.1-r1 (default-linux/amd64/2005.0, gcc-3.4.4, glibc-2.3.5-r2, 2.6.12-gentoo-r10 x86_64)
=================================================================
System uname: 2.6.12-gentoo-r10 x86_64 AMD Athlon(tm) 64 Processor 3400+
Gentoo Base System version 1.12.0_pre12
ccache version 2.3 [disabled]
dev-lang/python:     2.3.5, 2.4.2
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     2.3
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/gcc-config: 1.3.12-r4
sys-devel/libtool:   1.5.20
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=athlon64 -O3 -pipe -ffast-math -funroll-all-loops -funit-at-a-time -fpeel-loops -ftracer -funswitch-loops"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.3/env /usr/kde/3.3/share/config /usr/kde/3.3/shutdown /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/lib/X11/xkb /usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/"
CONFIG_PROTECT_MASK="/etc/env.d /etc/gconf /etc/splash /etc/terminfo"
CXXFLAGS="-march=athlon64 -O3 -pipe -ffast-math -funroll-all-loops -funit-at-a-time -fpeel-loops -ftracer -funswitch-loops"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="amd64 X alsa apm auctex avi berkdb bitmap-fonts cli crypt cups divx4linux dlloader doc dri dvd dvdr dvdread eds emacs emboss encode fbcon foomaticdb fortran gif gpm gstreamer gtk2 imlib ipv6 isdnlog jpeg kde lzw lzw-tiff mp3 mpeg ncurses nls opengl pam pam_console pcre pdflib perl pic png pppd python qt qt3 qt4 quicktime readline reflection sdl session spell spl ssl tcpd tiff truetype-fonts type1-fonts usb v4l videos xinerama xorg xpm xv zlib elibc_glibc input_devices_keyboard input_devices_mouse input_devices_evdev kernel_linux userland_GNU"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGUAS, MAKEOPTS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Jakub Moc (RETIRED)






          2006-07-07 16:14:32 UTC
        

We definitely can't fix the executable stacks, go ask upstream to do it. I really doubt it has anything to do w/ that, but rather could be caused by broken sound device permissions on your system.





Comment 2


Gustavo Felisberto (RETIRED)






          2006-07-07 17:41:49 UTC
        

Can you please give more details? And links to those places (attention that skype 1.2 and 1.3 are very diferent in sound access).

Also you configured skype to use alsa or oss?




Comment 3


gfdsa





          2006-07-23 07:32:57 UTC
        

configured to use alsa
did a lot of stracing, fixed all EACCs
checked limits
compared all I can find with a functional ubuntu installation
have no clue where to dig
#groups
tty wheel audio cdrom video games users portage vmware
crw-rw----  1 root audio 116,  0 Jul 21 20:08 /dev/snd/controlC0
crw-rw----  1 root audio 116, 32 Jul 21 20:08 /dev/snd/controlC1
crw-rw----  1 root audio 116, 24 Jul 21 20:08 /dev/snd/pcmC0D0c
crw-rw----  1 root audio 116, 16 Jul 21 20:08 /dev/snd/pcmC0D0p
crw-rw----  1 root audio 116, 25 Jul 21 20:08 /dev/snd/pcmC0D1c
crw-rw----  1 root audio 116, 18 Jul 21 20:08 /dev/snd/pcmC0D2p
crw-rw----  1 root audio 116, 56 Jul 21 20:08 /dev/snd/pcmC1D0c
crw-rw----  1 root audio 116, 48 Jul 21 20:08 /dev/snd/pcmC1D0p
crw-rw----  1 root audio 116,  1 Jul 21 20:08 /dev/snd/seq
crw-rw----  1 root audio 116, 33 Jul 21 20:08 /dev/snd/timer
grep dev/snd trace|grep -v E
9504  open("/dev/snd/controlC0", O_RDONLY) = 26
9504  open("/dev/snd/controlC0", O_RDWR) = 26
9504  open("/dev/snd/controlC0", O_RDONLY) = 26
9504  open("/dev/snd/controlC0", O_RDWR) = 26
9504  open("/dev/snd/controlC0", O_RDONLY) = 26
9504  open("/dev/snd/controlC0", O_RDWR) = 26
9504  open("/dev/snd/controlC0", O_RDONLY) = 27
9504  open("/dev/snd/controlC0", O_RDONLY) = 27
9504  open("/dev/snd/controlC0", O_RDWR) = 27
9504  open("/dev/snd/controlC1", O_RDONLY) = 27
9504  open("/dev/snd/controlC1", O_RDONLY) = 27
9504  open("/dev/snd/controlC1", O_RDWR) = 27
9504  open("/dev/snd/controlC27", O_RDONLY <unfinished ...>
9504  open("/dev/snd/controlC0", O_RDONLY) = 25
9504  open("/dev/snd/controlC0", O_RDONLY) = 25
9504  open("/dev/snd/controlC0", O_RDWR) = 25
9504  open("/dev/snd/controlC0", O_RDWR) = 25
9504  open("/dev/snd/pcmC0D0p", O_RDWR|O_NONBLOCK) = 27
9504  open("/dev/snd/controlC0", O_RDONLY) = 25
9504  open("/dev/snd/controlC0", O_RDWR) = 25

doesn't really seem to be sound related, or more specific "alsa related"




Comment 4


Gustavo Felisberto (RETIRED)






          2006-10-03 03:44:11 UTC
        

Cant duplicate this.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

