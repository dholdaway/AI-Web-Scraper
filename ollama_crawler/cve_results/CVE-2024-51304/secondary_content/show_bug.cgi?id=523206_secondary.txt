Title: 523206 – x11-libs/fox-1.7.47 - file collisions with x11-misc/shutterbug sci-calculators/calculator x11-misc/pathfinder dev-util/reswrap
URL: https://bugs.gentoo.org/show_bug.cgi?id=523206

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 523206
x11-libs/fox-1.7.47 - file collisions with x11-misc/shutterbug sci-calculators/calculator x11-misc/pathfinder dev-util/reswrap
Last modified: 2014-11-26 08:52:21 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 523206 
      - x11-libs/fox-1.7.47 - file collisions with x11-misc/shutterbug sci-calculators/calculator x11-misc/pathfinder dev-util/reswrap


Summary:
x11-libs/fox-1.7.47 - file collisions with x11-misc/shutterbug sci-calculator...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Library

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Matti Bickel (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2014-09-19 09:26 UTC by Jeroen Roovers (RETIRED)





      Modified:
    
2014-11-26 08:52 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




x11-libs:fox-1.7.47:20140918-121534.log.xz

              (x11-libs:fox-1.7.47:20140918-121534.log.xz,23.84 KB,
                application/x-xz)

            
2014-11-12 10:06 UTC,

            Jeroen Roovers (RETIRED)




Details





x11-libs:fox-1.7.47:20140919-091243.log.xz

              (x11-libs:fox-1.7.47:20140919-091243.log.xz,4.03 KB,
                application/x-xz)

            
2014-11-12 10:09 UTC,

            Jeroen Roovers (RETIRED)




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Jeroen Roovers (RETIRED)






          2014-09-19 09:26:14 UTC
        

* Messages for package x11-libs/fox-1.7.47:
        
 * This package will overwrite one or more files that may belong to other
 * packages (see list below). You can use a command such as `portageq
 * owners / <filename>` to identify the installed package that owns a
 * file. If portageq reports that only one package owns a file then do
 * NOT file a bug report. A bug report is only useful if it identifies at
 * least two or more packages that are known to install the same file(s).
 * If a collision occurs and you can not explain where the file came from
 * then you should simply ignore the collision since there is not enough
 * information to determine if a real problem exists. Please do NOT file
 * a bug report at http://bugs.gentoo.org unless you report exactly which
 * two packages install the same file(s). See
 * http://wiki.gentoo.org/wiki/Knowledge_Base:Blockers for tips on how to
 * solve the problem. And once again, please do NOT file a bug report
 * unless you have completely understood the above message.
 *      
 * Detected file collision(s):
 *      
 *      /usr/share/man/man1/PathFinder.1.bz2
 *      /usr/share/man/man1/reswrap.1.bz2
 *      /usr/share/man/man1/calculator.1.bz2
 *      /usr/share/man/man1/shutterbug.1.bz2
 *      /usr/bin/PathFinder
 *      /usr/bin/reswrap
 *      /usr/bin/shutterbug
 *      /usr/bin/calculator
 * 
 * Searching all installed packages for file collisions...
 * 
 * Press Ctrl-C to Stop
 * 
 * x11-misc/shutterbug-1.7.33:0::gentoo
 *      /usr/bin/shutterbug
 *      /usr/share/man/man1/shutterbug.1.bz2
 * 
 * sci-calculators/calculator-1.7.47:0::gentoo
 *      /usr/bin/calculator
 *      /usr/share/man/man1/calculator.1.bz2
 * 
 * x11-misc/pathfinder-1.7.33:0::gentoo
 *      /usr/bin/PathFinder
 *      /usr/share/man/man1/PathFinder.1.bz2
 * 
 * dev-util/reswrap-4.0.0:0::gentoo
 *      /usr/bin/reswrap
 *      /usr/share/man/man1/reswrap.1.bz2




Comment 1


Matti Bickel (RETIRED)






          2014-11-10 21:52:17 UTC
        

Firstly, sorry for the late response. I've been trying to reinstall fox-1.7.47 here but it never tries to add the binaries for the example programs to the image? What happens when you clean out the outdated versions of shutterbug and pathfinder and try to merge fox-1.7.47?




Comment 2


Matti Bickel (RETIRED)






          2014-11-10 22:34:42 UTC
        

Scratch that, I've got a build with this problem, hoping that I'll have the version bump with the fix by tomorrow.




Comment 3


Matti Bickel (RETIRED)






          2014-11-11 20:48:25 UTC
        

Turns out *my* file collision was due to me overriding src_prepare while not calling fox_src_prepare. You wouldn't happen to have done that, too?

The eclass is actually very explicit about filtering out the applications from the build process and I double-checked this has not changed in the latest version.

Can you please try a vanilla fox-1.7.49 I just committed?




Comment 4


Jeroen Roovers (RETIRED)






          2014-11-12 10:06:25 UTC
        

Created attachment 389158 [details]
x11-libs:fox-1.7.47:20140918-121534.log.xz

This was part of a normal upgrade on a fairly stable system with unstable x11-libs/fox.




Comment 5


Jeroen Roovers (RETIRED)






          2014-11-12 10:09:37 UTC
        

Created attachment 389160 [details]
x11-libs:fox-1.7.47:20140919-091243.log.xz

I then unmerged dev-util/reswrap-4.0.0 and merged the binpkg I had just created. The log shows that it does install /usr/bin/reswrap.


(In reply to Matti Bickel from comment #3)
> Turns out *my* file collision was due to me overriding src_prepare while not
> calling fox_src_prepare. You wouldn't happen to have done that, too?

I wasn't doing anything, honest.




Comment 6


Matti Bickel (RETIRED)






          2014-11-13 20:55:59 UTC
        

It's interesting that your 20140918 log file shows application of user patches. Do you have a bashrc hook for that? I'll happily support epatch_user in fox.eclass (nobody has asked for that, yet), but it probably does funny things to the existing fox_src_prepare.




Comment 7


Jeroen Roovers (RETIRED)






          2014-11-14 14:37:53 UTC
        

(In reply to Matti Bickel from comment #6)
> It's interesting that your 20140918 log file shows application of user
> patches. Do you have a bashrc hook for that? I'll happily support
> epatch_user in fox.eclass (nobody has asked for that, yet), but it probably
> does funny things to the existing fox_src_prepare.

I was testing for bug #520674 I guess so it's likely that I set PORTDIR to the gentoo-x86 overlay. That overlay has the name "gentoo" here so as to not confuse emerge too much.

I can't find now how I applied that patch as the build logs don't say. Maybe I overrode the eclass src_prepare() which would then quite clearly fail to sed out the reswrap directory from */Makefile.am.

I'll do some more testing now.




Comment 8


Jeroen Roovers (RETIRED)






          2014-11-26 08:52:21 UTC
        

I can't reproduce that now.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

