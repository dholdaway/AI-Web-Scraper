Title: 830599 – perl-core/CPAN-2.290.0-r1: Fatal: can't create directory '/root/.gnupg': Permission denied
URL: https://bugs.gentoo.org/show_bug.cgi?id=830599

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 830599
perl-core/CPAN-2.290.0-r1: Fatal: can't create directory '/root/.gnupg': Permission denied
Last modified: 2023-02-05 23:56:43 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 830599 
      - perl-core/CPAN-2.290.0-r1: Fatal: can't create directory '/root/.gnupg': Permission denied


Summary:
perl-core/CPAN-2.290.0-r1: Fatal: can't create directory '/root/.gnupg': Perm...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Perl team








URL:







Whiteboard:




Keywords:

PATCH







Depends on:







Blocks:









 





      Reported:
    
2022-01-04 14:30 UTC by Samuel Bernardo





      Modified:
    
2023-02-05 23:56 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



sam









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build log

              (build.log,1.44 KB,
                text/plain)

            
2022-01-04 14:30 UTC,

            Samuel Bernardo




Details





build.log/emerge --info

              (file_830599.txt,10.56 KB,
                text/plain)

            
2022-01-04 14:34 UTC,

            Sam James




Details





emerge --info -v

              (emerge.info,20.52 KB,
                text/plain)

            
2022-01-04 19:48 UTC,

            Samuel Bernardo




Details





Patch to skip import of PAUSE public keys into users GnuPG keychain

              (skip-pubkey-import.patch,949 bytes,
                patch)

            
2022-01-05 12:02 UTC,

            kamal




Details
            | Diff





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Samuel Bernardo





          2022-01-04 14:30:43 UTC
        

Created attachment 761297 [details]
build log

http://dpaste.com/DNUDAE659

Not expected the load of a gpg key in /root...




Comment 1


Sam James









          2022-01-04 14:34:04 UTC
        

Please always upload things to Bugzilla, don't link to pastes as they may expire.




Comment 2


Sam James









          2022-01-04 14:34:15 UTC
        

Created attachment 761298 [details]
build.log/emerge --info




Comment 3


Andreas K. Hüttel







          2022-01-04 15:18:49 UTC
        

Please add also the output of "emerge --info -v" as attachment...




Comment 4


Samuel Bernardo





          2022-01-04 19:48:32 UTC
        

Created attachment 761320 [details]
emerge --info -v




Comment 5


Samuel Bernardo





          2022-01-04 19:48:46 UTC
        

(In reply to Andreas K. Hüttel from comment #3)
> Please add also the output of "emerge --info -v" as attachment...

Done




Comment 6


kamal





          2022-01-05 12:01:35 UTC
        

I had the same problem. CPAN tries to import the PAUSE public keys into the user's keychain for some reason.

A related bug has been around for a while:
rt.cpan.org/Public/Bug/Display.html?id=28952

I could get it to emerge by just skipping the import (see attached patch below). However, I do not know wether this will break something later.




Comment 7


kamal





          2022-01-05 12:02:33 UTC
        

Created attachment 761360 [details, diff]
Patch to skip import of PAUSE public keys into users GnuPG keychain




Comment 8


Samuel Bernardo





          2022-01-06 00:54:26 UTC
        

(In reply to kamal from comment #7)
> Created attachment 761360 [details, diff] [details, diff]
> Patch to skip import of PAUSE public keys into users GnuPG keychain

Thank you for sharing the patch.
Applied it to current version and worked as expected.
Everything seems to be working as expected.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

