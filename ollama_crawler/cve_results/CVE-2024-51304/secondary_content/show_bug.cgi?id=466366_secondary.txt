Title: 466366 – KDE 4.10.2 - all fonts are broken
URL: https://bugs.gentoo.org/show_bug.cgi?id=466366

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 466366
KDE 4.10.2 - all fonts are broken
Last modified: 2013-05-03 13:04:18 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 466366 
      - KDE 4.10.2 - all fonts are broken


Summary:
KDE 4.10.2 - all fonts are broken
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo KDE team








URL:



https://bugs.kde.org/show_bug.cgi?id=...
        




Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2013-04-18 13:17 UTC by Alexandre





      Modified:
    
2013-05-03 13:04 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Sample image.

              (snapshot1.png,43.86 KB,
                image/png)

            
2013-04-18 13:31 UTC,

            Alexandre




Details





Terminal Sample Image.

              (snapshot4.png,16.95 KB,
                image/png)

            
2013-04-18 20:45 UTC,

            Alexandre




Details





LibreOffice sample image.

              (snapshot5.png,87.25 KB,
                image/png)

            
2013-04-18 21:03 UTC,

            Alexandre




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Alexandre





          2013-04-18 13:17:53 UTC
        

I restarted my Gentoo Box yesterday and I got all fonts broken (just the standard one is working), except on Libreoffice. On LO the fonts are working for documents edition, but the interface fonts are also broken. GTK apps, like Gummi and Easytag etc, are with broken fonts too. Konsole/Yakuake: broken fonts...

I tried *several* times:

fc-cache -srv
revdep-rebuild
everal Qt/KDE reinstalls

I did:

eix --installed -# X11-*/* | xargs emerge -1
emerge -e system
eix --installed -# kde-*/* | xargs emerge -1

Everthing compiled without errors, but fonts still broken. So, I can only imagine there are some sort of bug but I don't know where (or I'm missing something?.

Image:http://db.tt/tYkvwIWw

Thank you!

Reproducible: Always




Portage 2.1.11.62 (default/linux/amd64/13.0/desktop/kde, gcc-4.7.2, glibc-2.17, 3.8.7-gentoo x86_64)
=================================================================
System uname: Linux-3.8.7-gentoo-x86_64-Intel-R-_Pentium-R-_Dual_CPU_T3400_@_2.16GHz-with-gentoo-2.2
KiB Mem:     2820720 total,    466756 free
KiB Swap:    1048572 total,   1048572 free
Timestamp of tree: Wed, 17 Apr 2013 13:45:01 +0000
ld GNU ld (GNU Binutils) 2.23.1
ccache version 3.1.9 [enabled]
app-shells/bash:          4.2_p45
dev-java/java-config:     2.2.0
dev-lang/python:          2.7.3-r3, 3.2.3-r2
dev-util/ccache:          3.1.9
dev-util/cmake:           2.8.10.2-r2
dev-util/pkgconfig:       0.28
sys-apps/baselayout:      2.2
sys-apps/openrc:          0.11.8
sys-apps/sandbox:         2.6-r1
sys-devel/autoconf:       2.13, 2.69
sys-devel/automake:       1.11.6, 1.12.6, 1.13.1
sys-devel/binutils:       2.23.1
sys-devel/gcc:            4.7.2-r1
sys-devel/gcc-config:     1.8
sys-devel/libtool:        2.4.2
sys-devel/make:           3.82-r4
sys-kernel/linux-headers: 3.8 (virtual/os-headers)
sys-libs/glibc:           2.17
Repositories: gentoo privacychain
ACCEPT_KEYWORDS="amd64 ~amd64"
ACCEPT_LICENSE="*"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -march=native -pipe -fomit-frame-pointer -g0"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/config /usr/share/gnupg/qualified.txt /usr/share/polkit-1/actions /usr/share/themes/oxygen-gtk/gtk-2.0"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c"
CXXFLAGS="-O2 -march=native -pipe -fomit-frame-pointer -g0"
DISTDIR="/usr/portage/distfiles"
FCFLAGS="-O2 -pipe"
FEATURES="assume-digests binpkg-logs candy ccache config-protect-if-modified distlocks ebuild-locks fail-clean fixlafiles merge-sync news parallel-fetch protect-owned sandbox sfperms strict unknown-features-warn unmerge-logs unmerge-orphans userfetch usersandbox xattr"
FFLAGS="-O2 -pipe"
GENTOO_MIRRORS=" ftp://gentoo.c3sl.ufpr.br/gentoo/ http://gentoo.c3sl.ufpr.br/ ftp://ftp.las.ic.unicamp.br/pub/gentoo/ http://www.las.ic.unicamp.br/pub/gentoo/ ftp://ftp.free.fr/mirrors/ftp.gentoo.org/ http://ftp.ucsb.edu/pub/mirrors/linux/gentoo/ "
LANG="en_US.utf8"
LDFLAGS="-Wl,-O1 -Wl,--as-needed"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --human-readable --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.namerica.gentoo.org/gentoo-portage/"
USE="X a52 aac acl acpi alsa amd64 berkdb branding bzip2 c++0x cairo caps cdda cdr cli consolekit cracklib crypt css cups custom-cflags custom-optimization cxx dbus declarative dga dri dts dvd dvdr emboss encode exif fam ffmpeg firefox flac gdbm gif gnutls gpm gstreamer gtk iconv infinality jpeg kde kipi lame lcms libnotify lzma lzo mad minimal mmx mng modules mp3 mp4 mpeg mudflap multilib ncurses networkmanager nls nptl nvidia offensive ogg opengl openmp pam pango pcre pdf phonon plasma png policykit ppds pulseaudio qt3support qt4 quicktime readline samba sdl session spell sse sse2 ssl ssse3 startup-notification svg syslog tcpd theora threads tiff truetype udev udisks unicode upower usb v4l vaapi vdpau vim-syntax vorbis vpx wavpack wxwidgets x264 xcb xcomposite xml xscreensaver xv xvid zlib" ABI_X86="64" ALSA_CARDS="hda-intel loopback" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="authn_core authz_core socache_shmcb unixd actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cgi cgid dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CALLIGRA_FEATURES="kexi words flow plan sheets stage tables krita karbon braindump" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf superstar2 timing tsip tripmate tnt ubx" INPUT_DEVICES="evdev synaptics" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LIBREOFFICE_EXTENSIONS="presenter-console presenter-minimizer" LINGUAS="en" OFFICE_IMPLEMENTATION="libreoffice" PHP_TARGETS="php5-3" PYTHON_SINGLE_TARGET="python2_7" PYTHON_TARGETS="python2_7" RUBY_TARGETS="ruby18 ruby19" USERLAND="GNU" VIDEO_CARDS="nvidia" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account"
USE_PYTHON="2.7"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LC_ALL, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Jeroen Roovers (RETIRED)






          2013-04-18 13:21:31 UTC
        

(In reply to comment #0)
> Image:http://db.tt/tYkvwIWw

Please attach that file to this bug report.




Comment 2


Alexandre





          2013-04-18 13:31:15 UTC
        

Created attachment 345894 [details]
Sample image.




Comment 3


Michael Palimaka (kensington)






          2013-04-18 18:16:54 UTC
        

What do you mean by all fonts are broken? Are you missing some from the list in the attached image?




Comment 4


Alexandre





          2013-04-18 20:45:18 UTC
        

Yes, I have many fonts installed but only one Droid Sans (media-fonts/droid), not that amount on the list.
If you take a look on the first attachment 'Sans Serif' is a serif font there. 'Sans Serif', 'Serif', 'Monospace' and 'Droid Sans [Adobe]' are showed as the same serif font. 'Droid Sans [Microsoft]' seems to be Comic Sans etc.

Terminals has a space issue, as you can see at the second attachement. There are no actual space between '--ins' and 'talled'.

Thank you!
Sorry about my bad english.




Comment 5


Alexandre





          2013-04-18 20:45:54 UTC
        

Created attachment 345944 [details]
Terminal Sample Image.




Comment 6


Alexandre





          2013-04-18 20:49:28 UTC
        

Create a new user was useless. Indeed, this issue is already present on KDM.




Comment 7


Alexandre





          2013-04-18 21:03:09 UTC
        

Created attachment 345946 [details]
LibreOffice sample image.

I believe thats generic serif font is indeed Garamond.




Comment 8


Johannes Huber (RETIRED)






          2013-05-01 10:58:47 UTC
        

@kde-stable:
Could you reproduce this?




Comment 9


Enrico Tagliavini





          2013-05-01 11:05:23 UTC
        

(In reply to comment #8)
> @kde-stable:
> Could you reproduce this?

It doesn't really say how to reproduce, so I guess it should just happen. For me it is working fine, I have no issue with fonts at all. Note: I'm on stable system with some keyword here and there, I'm not on ~amd64




Comment 10


Agostino Sarubbo






          2013-05-01 11:09:57 UTC
        

(In reply to comment #8)
> @kde-stable:
> Could you reproduce this?

Not me on 4 machines.




Comment 11


Johannes Huber (RETIRED)






          2013-05-01 11:34:36 UTC
        

@kde-stable Thanks for the fast feedback.

@Alexandre This bug is not reproducable. So please file a bug upstream if you have further issues with this.




Comment 12


Alexandre





          2013-05-03 00:39:23 UTC
        

I removed fontconfig, freetype and deleted everything in /etc/fonts, then I installed everything again (plus fonts) and now I have my fonts back. :D 

I've assumed as kde bug due to the fonts was working on libreoffice before. 

Please this is a *invalid* bug, but I don't know exactly what was wrong before.
Thank you!!!




Comment 13


Michael Palimaka (kensington)






          2013-05-03 13:04:18 UTC
        

(In reply to comment #12)
> I removed fontconfig, freetype and deleted everything in /etc/fonts, then I
> installed everything again (plus fonts) and now I have my fonts back. :D 

I am glad it is working for you again. Thanks for following up with feedback, it is always much appreciated.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

