Title: 828487 – sys-apps/fwupd-efi: bump fwupd-efi soft-block
URL: https://bugs.gentoo.org/show_bug.cgi?id=828487

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 828487
sys-apps/fwupd-efi: bump fwupd-efi soft-block
Last modified: 2021-12-07 21:01:19 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 828487 
      - sys-apps/fwupd-efi: bump fwupd-efi soft-block


Summary:
sys-apps/fwupd-efi: bump fwupd-efi soft-block
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2021-12-07 02:40 UTC by Alexey Zapparov





      Modified:
    
2021-12-07 21:01 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



sam









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Alexey Zapparov





          2021-12-07 02:40:15 UTC
        

fwupd with +uefi depends on fwupd-efi, which does not allow to install fwupd 1.7.0+:

[ebuild     UD ] sys-apps/fwupd-1.5.9-r1::gentoo [1.7.2::gentoo] USE="bluetooth dell elogind gnutls gusb introspection man nvme policykit synaptics thunderbolt tpm uefi -agent% -amt -archive -flashrom -gtk-doc -minimal -systemd -test (-bash-completion%) (-fastboot%) (-logitech%*) (-lzma%) (-modemmanager%) (-spi%)" PYTHON_SINGLE_TARGET="python3_9 -python3_8 (-python3_10%)" 0 KiB
[uninstall     ] sys-apps/fwupd-efi-1.1::gentoo 
[blocks b      ] <sys-apps/fwupd-1.6.0 ("<sys-apps/fwupd-1.6.0" is soft blocking sys-apps/fwupd-efi-1.1)




Comment 1


Sam James









          2021-12-07 02:47:42 UTC
        

This doesn't make sense to me?

The ebuild for fwupd-efi has: RDEPEND="!<sys-apps/fwupd-1.6.0".

I think I'm more interested in why it's looking to downgrade / why it's chosen to downgrade to 1.5.x instead of upgrading to 1.7.x.

The full output may be more revealing, but what happens when you mask <1.7.0? It may tell us why it's not considering 1.7.x at all. It's likely there's some other reason it can't choose it and then it chooses the older version, hence misleading blocker output.




Comment 2


Alexey Zapparov





          2021-12-07 21:01:19 UTC
        

Damn. I'm sorry, it's my bad. I have these accept_keywords:

=sys-apps/fwupd-1.7.2 ~amd64
=sys-apps/fwupd-efi-1.1 ~amd64

And sys-apps/fwupd-1.7.2 as recently replaced with sys-apps/fwupd-1.7.2-r1









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

