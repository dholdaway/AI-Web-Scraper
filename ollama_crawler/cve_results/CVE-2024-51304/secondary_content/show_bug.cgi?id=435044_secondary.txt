Title: 435044 – bootstrap-prefix.txt fails on comilation of portage/app-editors/nano-2.3.1-r2
URL: https://bugs.gentoo.org/show_bug.cgi?id=435044

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 435044
bootstrap-prefix.txt fails on comilation of portage/app-editors/nano-2.3.1-r2
Last modified: 2013-07-28 09:21:23 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 435044 
      - bootstrap-prefix.txt fails on comilation of portage/app-editors/nano-2.3.1-r2


Summary:
bootstrap-prefix.txt fails on comilation of portage/app-editors/nano-2.3.1-r2
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo/Alt




Classification:

Unclassified




Component:

Prefix Support

  (show other bugs)



Hardware:

AMD64
        OS X
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Prefix








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2012-09-14 16:38 UTC by Jake





      Modified:
    
2013-07-28 09:21 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



jstevenson131









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




log file

              (build.log,14.33 KB,
                text/plain)

            
2012-09-14 16:38 UTC,

            Jake




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Jake





          2012-09-14 16:38:19 UTC
        

Created attachment 323784 [details]
log file

bootstrap-prefix.txt fails with error 

color.c:31:19: error: magic.h: No such file or directory

The fix should be easy, the include and link directories just need to be updated.

The makefile doesn't specify the includes correctly because magic.h is in $prefix/usr/include/ 

if I fix this by hand it further wants to link to the magic library, so the linking must be corrected as well with -L$prefix/usr/lib

If i fix both of those correctly I can compile nano-2.3.1 by hand, but  bootstrap-prefix.txt still tries to recompile it using the original (broken) makefiles




Comment 1


Fabian Groffen






          2012-09-29 12:49:57 UTC
        

It seems your flags are missing.  Did you run the interactive installer?




Comment 2


Jake





          2012-10-01 14:08:25 UTC
        

I eventually got it to work by setting environment variables CFLAGS and LDFLAGS and running the bootstrapper in manual mode.

I originally had done bootstrapping in automatic (interactive?) mode.  I don't think the directions specify setting any flags or environment variables.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

