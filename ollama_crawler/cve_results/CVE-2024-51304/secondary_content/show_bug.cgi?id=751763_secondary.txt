Title: 751763 – dev-python/PyQt5-5.15.1 - sipQtQmlQJSEngine.cpp:746:45: error: 'const class QJSEngine' has no member named 'uiLanguage'
URL: https://bugs.gentoo.org/show_bug.cgi?id=751763

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 751763
dev-python/PyQt5-5.15.1 - sipQtQmlQJSEngine.cpp:746:45: error: 'const class QJSEngine' has no member named 'uiLanguage'
Last modified: 2021-08-02 01:56:38 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 751763 
      - dev-python/PyQt5-5.15.1 - sipQtQmlQJSEngine.cpp:746:45: error: 'const class QJSEngine' has no member named 'uiLanguage'


Summary:
dev-python/PyQt5-5.15.1 - sipQtQmlQJSEngine.cpp:746:45: error: 'const class Q...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Qt Bug Alias








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2020-10-29 16:44 UTC by Silvio





      Modified:
    
2021-08-02 01:56 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



silvio.gerli
trigggl









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build.log

              (build.log,665.87 KB,
                text/x-log)

            
2020-10-29 16:45 UTC,

            Silvio




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Silvio





          2020-10-29 16:44:54 UTC
        

It exits in this way

In file included from /usr/include/qt5/QtCore/qconfig.h:1,
                 from /usr/include/qt5/QtCore/qglobal.h:66,
                 from /usr/include/qt5/QtCore/qmetatype.h:45,
                 from /usr/include/qt5/QtCore/QMetaType:1,
                 from sipAPIQtQml.h:33,
                 from sipQtQmlQJSValueIterator.cpp:24:
/usr/include/qt5/Gentoo/gentoo-qconfig.h:7: note: this is the location of the previous definition
    7 | #define QT_LINKED_OPENSSL
      | 
/var/tmp/portage/dev-python/PyQt5-5.15.1/work/PyQt5-5.15.1-python3_6/QtQml/sipQtQmlQJSEngine.cpp: In function ‘PyObject* meth_QJSEngine_installTranslatorFunctions(PyObject*, PyObject*, PyObject*)’:
/var/tmp/portage/dev-python/PyQt5-5.15.1/work/PyQt5-5.15.1-python3_6/QtQml/sipQtQmlQJSEngine.cpp:486:51: warning: ‘void QJSEngine::installTranslatorFunctions(const QJSValue&)’ is deprecated [-Wdeprecated-declarations]
  486 |             sipCpp->installTranslatorFunctions(*a0);
      |                                                   ^
In file included from /var/tmp/portage/dev-python/PyQt5-5.15.1/work/PyQt5-5.15.1/sip/QtQml/qjsengine.sip:30:
/usr/include/qt5/QtQml/qjsengine.h:103:24: note: declared here
  103 |     QT_DEPRECATED void installTranslatorFunctions(const QJSValue &object = QJSValue());
      |                        ^~~~~~~~~~~~~~~~~~~~~~~~~~
/var/tmp/portage/dev-python/PyQt5-5.15.1/work/PyQt5-5.15.1-python3_6/QtQml/sipQtQmlQJSEngine.cpp: In function ‘PyObject* meth_QJSEngine_uiLanguage(PyObject*, PyObject*)’:
/var/tmp/portage/dev-python/PyQt5-5.15.1/work/PyQt5-5.15.1-python3_6/QtQml/sipQtQmlQJSEngine.cpp:746:45: error: ‘const class QJSEngine’ has no member named ‘uiLanguage’
  746 |             sipRes = new  ::QString(sipCpp->uiLanguage());
      |                                             ^~~~~~~~~~
/var/tmp/portage/dev-python/PyQt5-5.15.1/work/PyQt5-5.15.1-python3_6/QtQml/sipQtQmlQJSEngine.cpp: In function ‘PyObject* meth_QJSEngine_setUiLanguage(PyObject*, PyObject*)’:
/var/tmp/portage/dev-python/PyQt5-5.15.1/work/PyQt5-5.15.1-python3_6/QtQml/sipQtQmlQJSEngine.cpp:772:21: error: ‘class QJSEngine’ has no member named ‘setUiLanguage’
  772 |             sipCpp->setUiLanguage(*a0);
      |                     ^~~~~~~~~~~~~
make[1]: *** [Makefile:1155: sipQtQmlQJSEngine.o] Error 1
make[1]: *** Waiting for unfinished jobs....
make[1]: Leaving directory '/var/tmp/portage/dev-python/PyQt5-5.15.1/work/PyQt5-5.15.1-python3_6/QtQml'
make: *** [Makefile:243: sub-QtQml-make_first-ordered] Error 2


Reproducible: Always




Comment 1


Silvio





          2020-10-29 16:44:58 UTC
        

emerge --info '=dev-python/PyQt5-5.15.1::gentoo'
Portage 3.0.8 (python 3.7.8-final-0, default/linux/amd64/17.1/desktop/plasma, gcc-10.2.0, glibc-2.32-r2, 5.9.1-gentoo x86_64)
=================================================================
                         System Settings
=================================================================
System uname: Linux-5.9.1-gentoo-x86_64-Intel-R-_Core-TM-_i7-7500U_CPU_@_2.70GHz-with-gentoo-2.7
KiB Mem:    16277604 total,  14835608 free
KiB Swap:          0 total,         0 free
Timestamp of repository gentoo: Wed, 28 Oct 2020 14:00:02 +0000
Head commit of repository gentoo: 22e8d8de65ccbd3b917376569b72380670a1bee1
sh bash 5.0_p18
ld ld di GNU (Gentoo 2.34 p4) 2.34.0
app-shells/bash:          5.0_p18::gentoo
dev-java/java-config:     2.3.1::gentoo
dev-lang/perl:            5.30.3-r1::gentoo
dev-lang/python:          2.7.18::gentoo, 3.6.10-r2::gentoo, 3.7.8::gentoo, 3.8.3::gentoo, 3.9.0::gentoo
dev-util/cmake:           3.17.3::gentoo
dev-util/pkgconfig:       0.29.2::gentoo
sys-apps/baselayout:      2.7::gentoo
sys-apps/openrc:          0.42.1::gentoo
sys-apps/sandbox:         2.20::gentoo
sys-devel/autoconf:       2.13-r1::gentoo, 2.69-r5::gentoo
sys-devel/automake:       1.13.4-r2::gentoo, 1.16.2::gentoo
sys-devel/binutils:       2.34-r1::gentoo, 2.35.1::gentoo
sys-devel/gcc:            9.2.0-r4::gentoo, 9.3.0::gentoo, 10.2.0-r2::gentoo
sys-devel/gcc-config:     2.3.2::gentoo
sys-devel/libtool:        2.4.6-r6::gentoo
sys-devel/make:           4.3::gentoo
sys-kernel/linux-headers: 5.9::gentoo (virtual/os-headers)
sys-libs/glibc:           2.32-r2::gentoo
Repositories:

gentoo
    location: /usr/portage
    sync-type: rsync
    sync-uri: rsync://rsync.gentoo.org/gentoo-portage
    priority: -1000
    sync-rsync-extra-opts: 
    sync-rsync-verify-jobs: 1
    sync-rsync-verify-metamanifest: yes
    sync-rsync-verify-max-age: 24

betagarden
    location: /var/lib/layman/betagarden
    masters: gentoo
    priority: 50

flow
    location: /var/lib/layman/flow
    sync-type: laymansync
    sync-uri: https://gitlab.com/Flow/flow-s-ebuilds.git
    masters: gentoo
    priority: 50

rion
    location: /var/lib/layman/rion
    sync-type: laymansync
    sync-uri: https://github.com/rion-overlay/rion-overlay.git
    masters: gentoo
    priority: 50

salfter
    location: /var/lib/layman/salfter
    sync-type: laymansync
    sync-uri: https://gitlab.com/salfter/portage.git
    masters: gentoo
    priority: 50

steam-overlay
    location: /var/lib/layman/steam-overlay
    sync-type: laymansync
    sync-uri: https://github.com/anyc/steam-overlay.git
    masters: gentoo
    priority: 50

vortex
    location: /var/lib/layman/vortex
    masters: gentoo
    priority: 50

ACCEPT_KEYWORDS="amd64 ~amd64"
ACCEPT_LICENSE="*"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=native -O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/lib64/libreoffice/program/sofficerc /usr/share/config /usr/share/gnupg/qualified.txt /usr/share/themes/oxygen-gtk/gtk-2.0"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/dconf /etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo"
CXXFLAGS="-march=native -O2 -pipe"
DISTDIR="/usr/portage/distfiles"
ENV_UNSET="CARGO_HOME DBUS_SESSION_BUS_ADDRESS DISPLAY GOBIN GOPATH PERL5LIB PERL5OPT PERLPREFIX PERL_CORE PERL_MB_OPT PERL_MM_OPT XAUTHORITY XDG_CACHE_HOME XDG_CONFIG_HOME XDG_DATA_HOME XDG_RUNTIME_DIR"
FCFLAGS="-O2 -pipe"
FEATURES="assume-digests binpkg-docompress binpkg-dostrip binpkg-logs config-protect-if-modified distlocks ebuild-locks fixlafiles ipc-sandbox merge-sync multilib-strict network-sandbox news parallel-fetch pid-sandbox preserve-libs protect-owned qa-unresolved-soname-deps sandbox sfperms strict unknown-features-warn unmerge-logs unmerge-orphans userfetch userpriv usersandbox usersync xattr"
FFLAGS="-O2 -pipe"
GENTOO_MIRRORS="http://distfiles.gentoo.org"
LANG="en"
LDFLAGS="-Wl,-O1 -Wl,--as-needed"
LINGUAS="it en it_IT en_US"
MAKEOPTS="-j5"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --omit-dir-times --compress --force --whole-file --delete --stats --human-readable --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --exclude=/.git"
PORTAGE_TMPDIR="/var/tmp"
USE="X a52 aac acl acpi activities alsa amd64 berkdb bluetooth branding bzip2 cairo cdda cdr cli crypt cups dbus declarative dell dri dri3 dts dvd dvdr egl elogind emboss encode exif ffmpeg fftw flac fortran gdbm gif gpm gtk gui hidpi iconv icu id3tag ipv6 javafx jpeg kde kdesu kipi kwallet lcms libglvnd libinput libnotify libtirpc mad mng mp3 mp4 mpeg mtp multilib ncurses networkmanager nls nptl ntfs objc ogg opengl openmp opus pam pango pcre pcsc-lite pdf phonon plasma png policykit ppds pulseaudio python qml qt5 readline s3tc sdl seccomp semantic-desktop spell split-usr ssl startup-notification svg tcpd theora tiff touchpad truetype udev udisks unicode upower usb uxa v4l vaapi vdpau vorbis vpx widgets wxwidgets x264 xattr xcb xml xv xvid xvmc zlib" ABI_X86="64 32" ADA_TARGET="gnat_2018" ALSA_CARDS="snd_hda_intel" APACHE2_MODULES="authn_core authz_core socache_shmcb unixd actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cgi cgid dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CALLIGRA_FEATURES="karbon sheets words" CAMERAS="*" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" CPU_FLAGS_X86="aes avx avx2 fma3 mmx mmxext popcnt sse sse2 sse3 ssse3 sse4_1 sse4_2 glamor" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock greis isync itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf skytraq superstar2 timing tsip tripmate tnt ublox ubx" INPUT_DEVICES="joystick wacom synaptics evdev libinput" KERNEL="linux" L10N="it en" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LIBREOFFICE_EXTENSIONS="presenter-console presenter-minimizer" LUA_SINGLE_TARGET="lua5-1" LUA_TARGETS="lua5-1" OFFICE_IMPLEMENTATION="libreoffice" PHP_TARGETS="php7-2 php7-3 php7-4" POSTGRES_TARGETS="postgres10 postgres11" PYTHON_SINGLE_TARGET="python3_7" PYTHON_TARGETS="python2_7 python3_7 python3_6" RUBY_TARGETS="ruby25 ruby26 ruby27" SANE_BACKENDS="*" USERLAND="GNU" VIDEO_CARDS="intel i965 i915 vesa v4l v4l2 modesetting fbdev" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account"
Unset:  CC, CPPFLAGS, CTARGET, CXX, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LC_ALL, PORTAGE_BINHOST, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 2


Silvio





          2020-10-29 16:45:38 UTC
        

Created attachment 669191 [details]
build.log




Comment 3


Robby Klehm





          2020-12-06 18:38:41 UTC
        

After upgrade from 2018-12 I faced the same issue and solved it with:

> emerge -av1 =dev-python/PyQt5-sip-4.19.22-r1 # UD 4.19.24:0/12::gentoo
> emerge -av1 =dev-python/sip-4.19.22-r1 # UD 4.19.24:0/12::gentoo




Comment 4


Greg Trigg





          2020-12-07 17:16:46 UTC
        

I also ran into this same error.  The last suggestion (using current versions) didn't help.




Comment 5


Greg Trigg





          2020-12-09 20:02:37 UTC
        

I used emerge --resume --skipfirst to merge as many packages as possible that didn't have PyQt5 as a dependency.

After that, I did get a successful merge of dev-python/PyQt5-5.15.1 

So, it appears that there is a dependency somewhere that isn't being caught.




Comment 6


Davide Pesavento (RETIRED)






          2021-08-02 01:56:38 UTC
        

I'm guessing this was caused by an incomplete upgrade of Qt5, i.e., your system had some dev-qt/ packages at version 5.14 and some others at 5.15, or something like that.

Anyway, since PyQt5-5.15.2, the requirement is qt >= 5.15, so this specific issue should not happen anymore. Moreover, 5.15 is the last minor version of qt5, so it's unlikely that a similar issue will ever happen again.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

