Title: 84630 – 2.4.28-grsec-2.1.0-pax-mmap-pgtables.patch failed when emerging hardened-sources-2.4.28-r5
URL: https://bugs.gentoo.org/show_bug.cgi?id=84630

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 84630
2.4.28-grsec-2.1.0-pax-mmap-pgtables.patch failed when emerging hardened-sources-2.4.28-r5
Last modified: 2005-03-15 07:19:09 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 84630 
      - 2.4.28-grsec-2.1.0-pax-mmap-pgtables.patch failed when emerging hardened-sources-2.4.28-r5


Summary:
2.4.28-grsec-2.1.0-pax-mmap-pgtables.patch failed when emerging hardened-sour...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Core system

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Andrea Luzzardi








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-03-09 06:35 UTC by Horst Prote





      Modified:
    
2005-03-15 07:19 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



converter42
tocharian









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




The error file of the failed patch.

              (2.4.28-grsec-2.1.0-pax-mmap-pgtables.err,2.81 KB,
                text/plain)

            
2005-03-09 06:46 UTC,

            Horst Prote




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Horst Prote





          2005-03-09 06:35:47 UTC
        

emerging hardened-sources-2.4.28-r5 failed

Reproducible: Always
Steps to Reproduce:
1. emerge =hardened-sources-2.4.28-r5
Actual Results:  

Calculating dependencies ...done!
>>> emerge (1 of 1) sys-kernel/hardened-sources-2.4.28-r5 to /
>>> md5 src_uri ;-) linux-2.4.28.tar.bz2
>>> md5 src_uri ;-) hardened-patches-2.4-28.5.tar.bz2
>>> Preparing to unpack ...
>>> Unpacking source...
>>> Unpacking linux-2.4.28.tar.bz2 to
/var/tmp/portage/hardened-sources-2.4.28-r5/work
 * hardened-patches-2.4-28.5.tar.bz2 unpacked
 * Excluding Patch #32...                                                      
          [ ok ]
 * Applying 2.4.28-grsec-2.1.0-pax-mmap-pgtables.patch (-p0+)...               
          [ !! ]

 * Please attach
/var/tmp/portage/hardened-sources-2.4.28-r5/temp/2.4.28-grsec-2.1.0-pax-mmap-pgtables.err
to any bug you may post.



Portage 2.0.51.19 (default-linux/x86/2004.0, gcc-3.3.5, glibc-2.3.4.20040808-r1,
2.4.28-hardened-r4 i686)
=================================================================
System uname: 2.4.28-hardened-r4 i686 Intel(R) Xeon(TM) CPU 3.06GHz
Gentoo Base System version 1.4.16
Python:              dev-lang/python-2.2.3-r5,dev-lang/python-2.3.4-r1 [2.3.4
(#1, Feb  7 2005,10:52:33)]
ccache version 2.3 [enabled]
dev-lang/python:     2.2.3-r5, 2.3.4-r1
sys-devel/autoconf:  2.59-r6, 2.13
sys-devel/automake:  1.7.9-r1, 1.8.5-r3, 1.5, 1.4_p6, 1.6.3, 1.9.4
sys-devel/binutils:  2.15.92.0.2-r1
sys-devel/libtool:   1.5.10-r4
virtual/os-headers:  2.4.19-r1, 2.4.22-r1
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CFLAGS="-O3 -march=pentium4 -funroll-loops -fprefetch-loop-arrays -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.2/share/config
/usr/kde/3.3/env /usr/kde/3.3/share/config /usr/kde/3.3/shutdown
/usr/kde/3/share/config /usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref
/usr/share/config /usr/share/ghostscript/7.07/lib/gs_init.ps
/usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/
/usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/
/usr/share/texmf/web2c/texmf.cnf /usr/share/texmf/xdvi/ /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O3 -march=pentium4 -funroll-loops -fprefetch-loop-arrays -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig ccache distlocks sandbox sfperms"
GENTOO_MIRRORS="http://hanf.informatik.uni-stuttgart.de/gentoo
http://mirrors.sec.informatik.tu-darmstadt.de/gentoo
http://ftp.uni-erlangen.de/pub/mirrors/gentoo
http://sunsite.cnlab-switch.ch/ftp/mirror/gentoo/
http://www.mirror.ac.uk/sites/www.ibiblio.org/gentoo/"
LANG="en_US"
MAKEOPTS="-j6"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="x86 X aalib apache2 apm arts avi berkdb bitmap-fonts crypt cups curl emboss
encode esd famflac font-server foomaticdb gcj gdbm gif gimpprint gnome gpm
gstreamer gtk gtk2 imagemagick imap imlib java jpeg junit kde ldap libg++ libwww
mad mbox mikmod mng motif mozilla mp3 mpeg mysql ncurses nls oggvorbis opengl
oss pam pdflib perl png ppds python qt quicktime readline samba sdlslang spell
ssl svga tcltk tcpd tetex tiff truetype truetype-fonts type1-fonts userlocales
wmf xml2 xmms xv zlib linguas_en-US linguas_de linguas_fr linguas_ru"
Unset:  ASFLAGS, CBUILD, CTARGET, LC_ALL, LDFLAGS




Comment 1


Horst Prote





          2005-03-09 06:46:19 UTC
        

Created attachment 53011 [details]
The error file of the failed patch.

Maybe it's a matter of order of patches because I found the context lines of
the
last chunck of 2.4.28-grsec-2.1.0-pax-mmap-pgtables.patch in
3100_grsecurity-2.1.0-200501051112.patch




Comment 2


Horst Prote





          2005-03-15 07:19:09 UTC
        

I don't know what has changed but during my "emerge sync; emerge -u world" yesterday hardened-sources-2.4.28-r5 installed without problem. This time the 2.4.28-grsec-2.1.0-pax-mmap-pgtables.patch was applied after all the other patches (unlike the last time; see my initial bug report):
>>> Preparing to unpack ...
>>> Unpacking source...
>>> Unpacking linux-2.4.28.tar.bz2 to /var/tmp/portage/hardened-sources-2.4.28-r5/work
 * hardened-patches-2.4-28.5.tar.bz2 unpacked
 * Excluding Patch #32...                                                 [ ok ]
 * Applying 1000_patch-o-matic-ng.patch (-p0+)...                         [ ok ]
 * Applying 1001_device-mapper.patch (-p0+)...                            [ ok ]
 * Applying 1002_evms.patch (-p0+)...                                     [ ok ]
 * Applying 1003_xattr.patch (-p0+)...                                    [ ok ]
 * Applying 1004_proconfig.patch (-p0+)...                                [ ok ]
 * Applying 1005_cryptoloop.patch (-p0+)...                               [ ok ]
 * Applying 1006_squashfs2.1.patch (-p0+)...                              [ ok ]
 * Applying 1007_wdt-fix.patch (-p0+)...                                  [ ok ]
 * Applying 1008_ebtables.patch (-p0+)...                                 [ ok ]
 * Applying 1009_fix-net-neighbor-backport.patch (-p0+)...                [ ok ]
 * Applying 2000_netdev-random-core.patch (-p0+)...                       [ ok ]
 * Applying 2001_netdev-random-drviers.patch (-p0+)...                    [ ok ]
 * Applying 3100_grsecurity-2.1.0-200501051112.patch (-p0+)...            [ ok ]
 * Applying 3101_grsecurity-secure-io.patch (-p0+)...                     [ ok ]
 * Applying 3102_grsecurity-secure-kmem.patch (-p0+)...                   [ ok ]
 * Applying 4000_CAN-2004-1137.patch (-p0+)...                            [ ok ]
 * Applying 4001_CAN-2004-1056.patch (-p0+)...                            [ ok ]
 * Applying 4002_CAN-2004-0814.patch (-p0+)...                            [ ok ]
 * Applying 4003_CAN-2004-1074.patch (-p0+)...                            [ ok ]
 * Applying 4004_CAN-2004-1058.patch (-p0+)...                            [ ok ]
 * Applying 4005_CAN-2004-1016.patch (-p0+)...                            [ ok ]
 * Applying 4006_CAN-2004-1235.patch (-p0+)...                            [ ok ]
 * Applying 4007_random-poolsize.patch (-p0+)...                          [ ok ]
 * Applying 4008_smp-page-fault-handler.patch (-p0+)...                   [ ok ]
 * Applying 4009_CAN-2004-1333.patch (-p0+)...                            [ ok ]
 * Applying 4010_CAN-2004-1335.patch (-p0+)...                            [ ok ]
 * Applying 2.4.28-grsec-2.1.0-pax-mmap-pgtables.patch (-p0+)...          [ ok ]
...

So for me the bug is fixed.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

