Title: 797319 – sys-cluster/lmod-8.5.3 - /.../lua5.1: cannot open /.../spiderCacheSupport: No such file or directory
URL: https://bugs.gentoo.org/show_bug.cgi?id=797319

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 797319
sys-cluster/lmod-8.5.3 - /.../lua5.1: cannot open /.../spiderCacheSupport: No such file or directory
Last modified: 2023-04-03 15:38:26 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 797319 
      - sys-cluster/lmod-8.5.3 - /.../lua5.1: cannot open /.../spiderCacheSupport: No such file or directory


Summary:
sys-cluster/lmod-8.5.3 - /.../lua5.1: cannot open /.../spiderCacheSupport: No...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Guilherme Amadio








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2021-06-21 09:42 UTC by Toralf Förster





      Modified:
    
2023-04-03 15:38 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



sci
zlogene









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge-info.txt

              (emerge-info.txt,17.99 KB,
                text/plain)

            
2021-06-21 09:42 UTC,

            Toralf Förster




Details





emerge-history.txt

              (emerge-history.txt,386.62 KB,
                text/plain)

            
2021-06-21 09:42 UTC,

            Toralf Förster




Details





environment

              (environment,87.65 KB,
                text/plain)

            
2021-06-21 09:42 UTC,

            Toralf Förster




Details





etc.portage.tar.bz2

              (etc.portage.tar.bz2,28.25 KB,
                application/x-bzip)

            
2021-06-21 09:42 UTC,

            Toralf Förster




Details





logs.tar.bz2

              (logs.tar.bz2,6.10 KB,
                application/x-bzip)

            
2021-06-21 09:42 UTC,

            Toralf Förster




Details





sys-cluster:lmod-8.5.3:20210621-092058.log

              (sys-cluster:lmod-8.5.3:20210621-092058.log,84.11 KB,
                text/plain)

            
2021-06-21 09:42 UTC,

            Toralf Förster




Details





temp.tar.bz2

              (temp.tar.bz2,144.01 KB,
                application/x-bzip)

            
2021-06-21 09:42 UTC,

            Toralf Förster




Details





emerge-info.txt

              (emerge-info.txt,19.78 KB,
                text/plain)

            
2022-09-13 07:16 UTC,

            Toralf Förster




Details





emerge-history.txt.bz2

              (emerge-history.txt.bz2,99.46 KB,
                application/x-bzip)

            
2022-09-13 07:16 UTC,

            Toralf Förster




Details





environment

              (environment,93.71 KB,
                text/plain)

            
2022-09-13 07:16 UTC,

            Toralf Förster




Details





etc.portage.tar.bz2

              (etc.portage.tar.bz2,40.14 KB,
                application/x-bzip)

            
2022-09-13 07:16 UTC,

            Toralf Förster




Details





logs.tar.bz2

              (logs.tar.bz2,5.74 KB,
                application/x-bzip)

            
2022-09-13 07:16 UTC,

            Toralf Förster




Details





sys-cluster:lmod-8.6.14:20220912-211256.log

              (sys-cluster:lmod-8.6.14:20220912-211256.log,93.26 KB,
                text/plain)

            
2022-09-13 07:16 UTC,

            Toralf Förster




Details





temp.tar.bz2

              (temp.tar.bz2,40.20 KB,
                application/x-bzip)

            
2022-09-13 07:16 UTC,

            Toralf Förster




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Toralf Förster






          2021-06-21 09:42:47 UTC
        

                                 --descriptFn ""  \
                                 >> /var/tmp/portage/sys-cluster/lmod-8.5.3/image/usr/share/Lmod/init/lmodrc.lua;
/usr/bin/lua5.1: cannot open /var/tmp/portage/sys-cluster/lmod-8.5.3/image/usr/share/Lmod/libexec/spiderCacheSupport: No such file or directory
make: *** [makefile:337: spiderCacheSupport] Error 1
make: *** Waiting for unfinished jobs....
for i in tools/i18n/init.lua tools/i18n/interpolate.lua tools/i18n/plural.lua tools/i18n/variants.lua tools/i18n/version.lua; do                                                 \
   bareN=${i##*/};                                                       \

  -------------------------------------------------------------------

  This is an unstable amd64 chroot image at a tinderbox (==build bot)
  name: 17.1_desktop-j3_debug-20210615-091208

  -------------------------------------------------------------------

gcc-config -l:
 [1] x86_64-pc-linux-gnu-11.1.0 *
clang version 12.0.0
Target: x86_64-pc-linux-gnu
Thread model: posix
InstalledDir: /usr/lib/llvm/12/bin
/usr/lib/llvm/12
12.0.0
Python 3.9.5
Available Ruby profiles:
  [1]   ruby26 (with Rubygems)
  [2]   ruby30 (with Rubygems) *
Available Rust versions:
  [1]   rust-bin-1.53.0
  [2]   rust-1.53.0 *
The following VMs are available for generation-2:
1)	IcedTea JDK 3.16.0 [icedtea-bin-8]
2)	JamVM JDK 2.0.0 [jamvm]
*)	AdoptOpenJDK 8.292_p10 [openjdk-bin-8]
Available Java Virtual Machines:
  [1]   icedtea-bin-8 
  [2]   jamvm 
  [3]   openjdk-bin-8  system-vm

The Glorious Glasgow Haskell Compilation System, version 8.10.4
  [1]   php7.3
  [2]   php7.4
  [3]   php8.0 *
  HEAD of ::gentoo
commit 14dbd3671c7abe3c41d9c4d6cb0604628e0aa5da
Author: Repository mirror & CI <repomirrorci@gentoo.org>
Date:   Mon Jun 21 09:09:56 2021 +0000

    2021-06-21 09:09:54 UTC

emerge -qpvO sys-cluster/lmod
[ebuild  N    ] sys-cluster/lmod-8.5.3  USE="auto-swap cache -duplicate-paths -test" LUA_SINGLE_TARGET="lua5-1 -lua5-2 -lua5-3"




Comment 1


Toralf Förster






          2021-06-21 09:42:48 UTC
        

Created attachment 717351 [details]
emerge-info.txt




Comment 2


Toralf Förster






          2021-06-21 09:42:50 UTC
        

Created attachment 717354 [details]
emerge-history.txt




Comment 3


Toralf Förster






          2021-06-21 09:42:51 UTC
        

Created attachment 717357 [details]
environment




Comment 4


Toralf Förster






          2021-06-21 09:42:53 UTC
        

Created attachment 717360 [details]
etc.portage.tar.bz2




Comment 5


Toralf Förster






          2021-06-21 09:42:54 UTC
        

Created attachment 717363 [details]
logs.tar.bz2




Comment 6


Toralf Förster






          2021-06-21 09:42:55 UTC
        

Created attachment 717366 [details]
sys-cluster:lmod-8.5.3:20210621-092058.log




Comment 7


Toralf Förster






          2021-06-21 09:42:57 UTC
        

Created attachment 717369 [details]
temp.tar.bz2




Comment 8


Guilherme Amadio






          2021-06-21 13:04:24 UTC
        

FWIW, it works for me both with the same USE flags, and with/without FEATURES=test.




Comment 9


Guilherme Amadio






          2021-06-21 13:10:38 UTC
        

Also, I do have /usr/share/Lmod/libexec/spiderCacheSupport installed in the end:

# qlist lmod | grep -i spider
/usr/share/Lmod/libexec/spider
/usr/share/Lmod/libexec/spiderCacheSupport
/usr/share/Lmod/libexec/MC_Spider.lua
/usr/share/Lmod/libexec/Spider.lua

Downgrading to unconfirmed, as I cannot reproduce this.




Comment 10


Toralf Förster






          2021-06-21 14:39:08 UTC
        

fair enough, even at that tinderbox image it now emerges fine - will close this til it can be reproduced




Comment 11


Toralf Förster






          2022-09-13 07:16:26 UTC
        

appeared recently at the tinderbox image 17.1_no_multilib_systemd-j4-20220908-070011




Comment 12


Toralf Förster






          2022-09-13 07:16:27 UTC
        

Created attachment 804922 [details]
emerge-info.txt




Comment 13


Toralf Förster






          2022-09-13 07:16:29 UTC
        

Created attachment 804925 [details]
emerge-history.txt.bz2




Comment 14


Toralf Förster






          2022-09-13 07:16:30 UTC
        

Created attachment 804928 [details]
environment




Comment 15


Toralf Förster






          2022-09-13 07:16:32 UTC
        

Created attachment 804931 [details]
etc.portage.tar.bz2




Comment 16


Toralf Förster






          2022-09-13 07:16:33 UTC
        

Created attachment 804934 [details]
logs.tar.bz2




Comment 17


Toralf Förster






          2022-09-13 07:16:34 UTC
        

Created attachment 804937 [details]
sys-cluster:lmod-8.6.14:20220912-211256.log




Comment 18


Toralf Förster






          2022-09-13 07:16:36 UTC
        

Created attachment 804940 [details]
temp.tar.bz2




Comment 19


Guilherme Amadio






          2022-09-19 12:36:49 UTC
        

I tried this again with 8.6.14 and cannot reproduce again. As before, the files are installed:

$ qlist lmod | grep -i spider
/usr/share/Lmod/libexec/spider
/usr/share/Lmod/libexec/spiderCacheSupport
/usr/share/Lmod/libexec/MC_Spider.lua
/usr/share/Lmod/libexec/Spider.lua




Comment 20


Guilherme Amadio






          2023-04-03 15:38:26 UTC
        

Works also with 8.7.23, which I just added.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

