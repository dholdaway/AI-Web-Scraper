Title: 278460 – media-gfx/gqview fails to find gtk+
URL: https://bugs.gentoo.org/show_bug.cgi?id=278460

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 278460
media-gfx/gqview fails to find gtk+
Last modified: 2009-10-20 16:17:37 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 278460 
      - media-gfx/gqview fails to find gtk+


Summary:
media-gfx/gqview fails to find gtk+
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       minor
      


Assignee:

Mr. Bones. (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-07-20 12:53 UTC by Fabian Holler





      Modified:
    
2009-10-20 16:17 UTC
      (History)
    




          CC List:
        

4 
          users
          
            (show)
          



dabbott
graphics+disabled
jcallen
mail









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Fabian Holler





          2009-07-20 12:53:02 UTC
        

Wen emerging gqview with an installed gtk+(without +X flag), emerge fails without correct error message


Reproducible: Always

Steps to Reproduce:
1. USE=-X emerge gtk+
2. emerge gqview

Actual Results:  

checking for GTK+ - version >= 2.4.0... no
*** Could not run GTK+ test program, checking why...
*** The test program failed to compile or link. See the file config.log for the
*** exact error that occured. This usually means GTK+ is incorrectly installed.
configure: error: GTK+ >= 2.4.0 not installed.

!!! Please attach the following file when seeking support:
!!! /var/tmp/portage/media-gfx/gqview-2.1.5/work/gqview-2.1.5/config.log
 *
 * ERROR: media-gfx/gqview-2.1.5 failed.
 * Call stack:
 *               ebuild.sh, line   49:  Called src_compile
 *             environment, line 2238:  Called econf '--disable-dependency-tracking' '--without-lcms'
 *               ebuild.sh, line  534:  Called die
 * The specific snippet of code:
 *                      die "econf failed"
 *  The die message:
 *   econf failed
 *
 * If you need support, post the topmost build error, and the call stack if relevant.
 * A complete build log is located at '/var/tmp/portage/media-gfx/gqview-2.1.5/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/media-gfx/gqview-2.1.5/temp/environment'.
 *


Expected Results:  
error message, gqview needs gtk+ with X USE-Flag




Comment 1


Markus Meier






          2009-07-30 21:13:31 UTC
        

fixed in cvs, thanks for the report and solution.

  30 Jul 2009; Markus Meier <maekke@gentoo.org> gqview-2.1.5.ebuild:
  x11-libs/gtk+ needs to be built with USE=X by Fabian Holler in bug #278460




Comment 2


Patrick





          2009-07-31 02:40:30 UTC
        

I had gqview running for a long time (flawlessly, as far as I can tell), so gtk+[X] cannot really be a runtime dependency. I had it on a headless server that has nxserver-freeedition on it. With gtk+[-X] there are much less "real X server" dependencies that I actually don't need (and don't want)...




Comment 3


Jonathan Callen (RETIRED)






          2009-10-20 00:59:34 UTC
        

USE=X on gtk+ only ever added extra deps for testing; so this resolution was incorrect.  I'm not sure what the original issue was, but it wasn't this.




Comment 4


Mr. Bones. (RETIRED)






          2009-10-20 16:17:37 UTC
        

reopen if it's still and issue.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

