Title: 579480 – dev-python/pytest-xdist-1.14: installation reliably consumes 100% CPU and RAM
URL: https://bugs.gentoo.org/show_bug.cgi?id=579480

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 579480
dev-python/pytest-xdist-1.14: installation reliably consumes 100% CPU and RAM
Last modified: 2019-06-02 13:40:46 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 579480 
      - dev-python/pytest-xdist-1.14: installation reliably consumes 100% CPU and RAM


Summary:
dev-python/pytest-xdist-1.14: installation reliably consumes 100% CPU and RAM
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Library

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Python Gentoo Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2016-04-10 05:40 UTC by B.W.Curry





      Modified:
    
2019-06-02 13:40 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




"emerge --info" output

              (emerge.info,19.22 KB,
                application/x-info)

            
2016-04-10 05:46 UTC,

            B.W.Curry




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


B.W.Curry





          2016-04-10 05:40:35 UTC
        

The most recent release of "dev-python/pytest-xdist" reliably consumes 100% of all processors and both RAM and swap during installation. The src_compile() emerge phase fails to halt on attempting to run "/usr/bin/python3.4 setup.py build", as demonstrated by the following output:

    $ emerge --ask pytest-xdist
    
    These are the packages that would be merged:
    
    Calculating dependencies            ... done!  
    [ebuild  N    ~] dev-python/pytest-xdist-1.14::gentoo  PYTHON_TARGETS="python3_4 -pypy -pypy3 -python2_7 -python3_3 -python3_5" 0 KiB
    
    Total: 1 package (1 new), Size of downloads: 0 KiB
    
    Would you like to merge these packages? [Yes/No] Yes
    
    >>> Verifying ebuild manifests
    
    >>> Emerging (1 of 1) dev-python/pytest-xdist-1.14::gentoo
     * pytest-xdist-1.14.zip SHA256 SHA512 WHIRLPOOL size ;-) ...                [ ok ]
    >>> Unpacking source...
    >>> Unpacking pytest-xdist-1.14.zip to /var/tmp/portage/dev-python/pytest-xdist-1.14/work
    >>> Source unpacked in /var/tmp/portage/dev-python/pytest-xdist-1.14/work
    >>> Preparing source in /var/tmp/portage/dev-python/pytest-xdist-1.14/work/pytest-xdist-1.14 ...
    >>> Source prepared.
    >>> Configuring source in /var/tmp/portage/dev-python/pytest-xdist-1.14/work/pytest-xdist-1.14 ...
    >>> Source configured.
    >>> Compiling source in /var/tmp/portage/dev-python/pytest-xdist-1.14/work/pytest-xdist-1.14 ...
     * python3_4: running distutils-r1_run_phase distutils-r1_python_compile
    /usr/bin/python3.4 setup.py build

Installation spins here, soon grinding the entire machine to a standstill. I'm unhappy to confirm this failure is independent of Python version, as installation fails in the same insane manner when attempting to install "pytest-xdist" under both Python 2.7 and Python 3.4. While the above output is specific to Python 3.4 installation, the output from Python 2.7 installation is identical.

Oddly, this library *IS* trivially installable on this machine via pip:

* Under Python 3 by running "pip3 install pytest-xdist".
* Under Python 2 by running "pip install pytest-xdist".

Hence, it's neither this library nor this machine. It's the ebuild installing this library.




Comment 1


B.W.Curry





          2016-04-10 05:46:50 UTC
        

Created attachment 430036 [details]
"emerge --info" output




Comment 2


Virgil Dupras (RETIRED)






          2018-10-08 20:47:26 UTC
        

I don't get the same behavior on stable (1.15) or unstable (1.22.2) versions on python 3.6. Do you still get this?









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

