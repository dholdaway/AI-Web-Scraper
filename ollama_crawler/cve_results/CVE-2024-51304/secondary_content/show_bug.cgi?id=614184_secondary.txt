Title: 614184 – dev-util/cmake: UV_TTY_MODE_NORMAL was not declared
URL: https://bugs.gentoo.org/show_bug.cgi?id=614184

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 614184
dev-util/cmake: UV_TTY_MODE_NORMAL was not declared
Last modified: 2017-03-30 09:06:58 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 614184 
      - dev-util/cmake: UV_TTY_MODE_NORMAL was not declared


Summary:
dev-util/cmake: UV_TTY_MODE_NORMAL was not declared
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2017-03-29 07:47 UTC by Liriel





      Modified:
    
2017-03-30 09:06 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



lassi
polynomial-c









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build.log from 3.7.2

              (build.log,339.25 KB,
                text/plain)

            
2017-03-29 07:51 UTC,

            Liriel




Details





emerge info

              (emerge_info.txt,5.65 KB,
                text/plain)

            
2017-03-29 07:52 UTC,

            Liriel




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Liriel





          2017-03-29 07:47:11 UTC
        

tried to update cmake from version 2.6.x to the latest version 3.7.2 an got this error:
/var/tmp/portage/dev-util/cmake-3.7.2-r1/work/cmake-3.7.2/Source/cmServerConnection.cxx:261:38: error: 'UV_TTY_MODE_NORMAL' was not declared in this scope uv_tty_set_mode(this->Input.tty, UV_TTY_MODE_NORMAL);

tried to manually build cmake from 3.8.0-rc3 from upstream - worked like a charm so I unmasked the 3.8 version of the package but the results did not change




Comment 1


Liriel





          2017-03-29 07:51:13 UTC
        

Created attachment 468562 [details]
build.log from 3.7.2




Comment 2


Liriel





          2017-03-29 07:52:54 UTC
        

Created attachment 468564 [details]
emerge info




Comment 3


Michael Palimaka (kensington)






          2017-03-30 07:58:37 UTC
        

> -- Found LibUV: /usr/local/lib64/libuv.so (found suitable version "1.0.1", minimum required is "1.0.0") 

Could you please try without this local copy (don't forget about headers)?

(In reply to Liriel from comment #0)
> tried to manually build cmake from 3.8.0-rc3 from upstream - worked like a
> charm so I unmasked the 3.8 version of the package but the results did not
> change

By default cmake uses some bundled libraries, we enable an option to use system libraries in the ebuild.




Comment 4


Liriel





          2017-03-30 09:06:58 UTC
        

removing the local version of libuv 1.0.1 did the trick!
(now version 1.11.0 installed by portage was used to build cmake)

since libuv version 1.0.1 is no longer available in portage I will mark this issue resolved

thank you very much for your support!









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

