Title: 99025 – php-5.0.4 has broken pear installation
URL: https://bugs.gentoo.org/show_bug.cgi?id=99025

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 99025
php-5.0.4 has broken pear installation
Last modified: 2005-07-14 22:39:47 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 99025 
      - php-5.0.4 has broken pear installation


Summary:
php-5.0.4 has broken pear installation
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       major
      


Assignee:

PHP Bugs








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-07-14 10:06 UTC by Kirk





      Modified:
    
2005-07-14 22:39 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Kirk





          2005-07-14 10:06:31 UTC
        

The current ebuild for php-5.0.4 installs pear files into /usr/share/php/php, (which seems a little broken with the redundant php path).  However, pear's configuration is still looking in /usr/lib/php for them.  Consequently, pear is broken.




Comment 1


Jakub Moc (RETIRED)






          2005-07-14 10:23:28 UTC
        

Sigh... I have no idea if this is actually a dupe or not, or what's wrong in
this case, I no longer have the strength to search for duplicates in this mess,
There are lots of bugs marked as WORKSFORME or LATER or whatever, many of them
are duplicates of each other, I almost think that filing any new bugs about
broken pear implementation is pointless right now.

Two suggestions:

1/ Drop php/mod_php-5.0.x from portage and focus on getting 5.1 stable.

2/ Please with cream on top, put at least the current PEAR-PEAR back into php;
the separate ebuild gives nothing but headaches and is broken in most obscure
ways possible. It just complicates things and it's not necessary to separate it
right now. Simplify the things as much as possible.

P.S. And yes, I did read Stuart's blogpost on the Planet [1], nevertheless
something should be done as soon as possible... 

[1]
http://stu.gnqs.org/diary/gentoo.php?title=consolidated_php_package_aamp_pear_suppo





Comment 2


Sebastian Bergmann (RETIRED)






          2005-07-14 10:28:40 UTC
        

The PHP 5 eclasses set the include_path to .:/usr/share/php in the installed
php.ini.

I am with you, Jakub, with regard to removing PHP 5.0 from portage and
concentrating on PHP 5.1.

But nothing has to be done about this "ASAP" as only PHP packages that are in
package.mask no longer install PEAR and rely on PEAR-PEAR-1.3.5-r1.




Comment 3


Jakub Moc (RETIRED)






          2005-07-14 10:37:15 UTC
        

(In reply to comment #2)
> But nothing has to be done about this "ASAP" as only PHP packages that are in
> package.mask no longer install PEAR and rely on PEAR-PEAR-1.3.5-r1.

I disagree. You are spending a lot of time on these bugs, at least some of them
would not exist if pear would be installed as a part of php-5 again. The whole
separation thing could be postponed, there would be less versions/eclass mess,
etc. etc. IMHO this just delays stabilizing php-5 and is draining time of
already really busy php herd members. 




Comment 4


Kirk





          2005-07-14 10:51:28 UTC
        

I understand that everyone here is probably grossly over burdened, and
that these things are generally more complicated than they seem.
However, I wanted to make the point, that this is the only non-beta php5
build in the portage tree right now.  If someone needs to install php5,
this is the only option they have in portage.  The previous ebuilds, that
people have been using, have been removed.  With this broken, they 
have to get the source themselves and deal with rolling their own, or 
with ignoring portage completely.  If it can be fixed, it probably should be.




Comment 5


Sebastian Bergmann (RETIRED)






          2005-07-14 22:39:47 UTC
        

I committed a fix for this to php5-sapi-r2.eclass. I did not spot the additional
"/php" in "/usr/share/php/php" and am sorry for that.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

