Title: 158902 – dev-java/commons-collections-3.2 fails w/ blackdown-jdk-1.4.2.03
URL: https://bugs.gentoo.org/show_bug.cgi?id=158902

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 158902
dev-java/commons-collections-3.2 fails w/ blackdown-jdk-1.4.2.03
Last modified: 2007-01-10 16:28:38 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 158902 
      - dev-java/commons-collections-3.2 fails w/ blackdown-jdk-1.4.2.03


Summary:
dev-java/commons-collections-3.2 fails w/ blackdown-jdk-1.4.2.03
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Java team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:




157984



 

        Show dependency tree





 





      Reported:
    
2006-12-23 04:20 UTC by Vinz





      Modified:
    
2007-01-10 16:28 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




The compile Errors

              (compileerrors,4.53 KB,
                text/plain)

            
2006-12-23 04:23 UTC,

            Vinz




Details





Output of emerge --info

              (emerge.info,3.32 KB,
                text/plain)

            
2006-12-23 04:24 UTC,

            Vinz




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Vinz





          2006-12-23 04:20:50 UTC
        

When I compile commons-collections-3.2 with Sun JDK 1.5.0.08 everything works fine, but when I emerge(compile) commons-collections-3.2 with Blackdown JDK 1.4.2.03 I get the errors (see attachments).
I don't have more JDK for testing, and I don't want to run emerge with Java 1.5, so it would be nice to know what is going wrong. I assume it compiles perfectly with Sun 1.4, but I havent tried it. But for so long I guess its a Bug.
On the net I just found "add xml-apis.jar to your CLASSPATH", but I didnt got that to work neither.




Comment 1


Vinz





          2006-12-23 04:23:51 UTC
        

Created attachment 104630 [details]
The compile Errors




Comment 2


Vinz





          2006-12-23 04:24:36 UTC
        

Created attachment 104631 [details]
Output of emerge --info




Comment 3


Vlastimil Babka (Caster) (RETIRED)






          2006-12-23 04:45:13 UTC
        

(In reply to comment #0)
> I don't have more JDK for testing, and I don't want to run emerge with Java
> 1.5

why? It's fully supported in gen-2 ebuilds

> On the net I just found "add xml-apis.jar to your CLASSPATH", but I didnt got
> that to work neither.

Yep, it's apparently missing a commons-external dep. sun-jdk-1.4 bundles it, blackdown not.






Comment 4


Vlastimil Babka (Caster) (RETIRED)






          2006-12-23 04:49:21 UTC
        

Oh it looks like it's not a problem with compiling but rather ant runtime classes. ant-core was fixed long ago to load xml-commons-external, what ant-core version do you have? how bout java-check-environment and java-1.5-fixer does it want to rebuild anything?




Comment 5


Vinz





          2006-12-23 11:14:39 UTC
        

Thanks for your help.
java-check-environment and java-1.5-fixer say everything is fine(java-check-enviroment just wanted me to add sun-jdk 1.4.2-12) and my ant-core version is 1.6.5-r14, I think that is the most current version on x86.

If thats the simplest solution, I will just change to the sun-jdk.




Comment 6


Vlastimil Babka (Caster) (RETIRED)






          2007-01-10 16:28:38 UTC
        

I was unable to reproduce this only with xerces (SLOT=2) installed but xml-commons-external-1.3* not. I don't see how this can happen, because xerces deps contain xml-commons-external. Perhaps you had some very old version that's no longer in tree and that had deps broken?

If you want to investigate this more, post what versions of xerces and xml-commons-external are(were) installed. For now I'm marking it WORKSFORME.

In any case it's problem with ant itself and should happen with any other package, not just commons-collections (it fails to parse the build.xml file itself).









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

