Title: 248871 – dev-libs/libxml2-2.7.2-r1 - SAX.c:43: internal compiler error: Illegal instruction
URL: https://bugs.gentoo.org/show_bug.cgi?id=248871

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 248871
dev-libs/libxml2-2.7.2-r1 - SAX.c:43: internal compiler error: Illegal instruction
Last modified: 2008-12-16 10:02:52 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 248871 
      - dev-libs/libxml2-2.7.2-r1 - SAX.c:43: internal compiler error: Illegal instruction


Summary:
dev-libs/libxml2-2.7.2-r1 - SAX.c:43: internal compiler error: Illegal instru...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Library

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux Gnome Desktop Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-11-26 11:31 UTC by kavol





      Modified:
    
2008-12-16 10:02 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build.log

              (build.log,19.28 KB,
                text/plain)

            
2008-11-26 11:34 UTC,

            kavol




Details





preprocessed source files

              (out.tbz,120.39 KB,
                application/x-bzip2)

            
2008-11-26 11:35 UTC,

            kavol




Details





system info

              (environment.bz2,22.78 KB,
                application/x-bzip2)

            
2008-11-26 11:39 UTC,

            kavol




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


kavol





          2008-11-26 11:31:09 UTC
        

Hi,

when trying to do regular update, libxml2 does not compile on my system:

--snip--
SAX.c: In function 'initxmlDefaultSAXHandler':                                                                                                                                                                    
SAX.c:43: internal compiler error: Illegal instruction                                                                                                                                                            
Please submit a full bug report,                                                                                                                                                                                  
with preprocessed source if appropriate.                                                                                                                                                                          
See <URL:http://bugs.gentoo.org/> for instructions.                                                                                                                                                               
 x86_64-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I./include -I./include -D_REENTRANT -march=nocona -Os -pipe -ggdb -pedantic -W -Wformat -Wunused -Wimplicit -Wreturn-type -Wswitch -Wcomment -Wtrigraphs -Wformat -Wchar-subscripts -Wuninitialized -Wparentheses -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Waggregate-return -Wstrict-prototypes -Wmissing-prototypes -Wnested-externs -Winline -Wredundant-decls -MT encoding.lo -MD -MP -MF .deps/encoding.Tpo -c encoding.c  -fPIC -DPIC -o .libs/encoding.o
entities.c: In function 'xmlDumpEntityContent':
entities.c:879: internal compiler error: Illegal instruction
Please submit a full bug report,
with preprocessed source if appropriate.
See <URL:http://bugs.gentoo.org/> for instructions.
encoding.c: In function 'asciiToUTF8':
encoding.c:122: internal compiler error: Illegal instruction
Please submit a full bug report,
with preprocessed source if appropriate.
See <URL:http://bugs.gentoo.org/> for instructions.
Preprocessed source stored into /var/tmp/portage/dev-libs/libxml2-2.7.2-r1/temp/ccmitQz4.out file, please attach this to your bugreport.
make[2]: *** [SAX.lo] Error 1
make[2]: *** Waiting for unfinished jobs....
Preprocessed source stored into /var/tmp/portage/dev-libs/libxml2-2.7.2-r1/temp/cc5cGyb1.out file, please attach this to your bugreport.
make[2]: *** [entities.lo] Error 1
Preprocessed source stored into /var/tmp/portage/dev-libs/libxml2-2.7.2-r1/temp/cc9Sssho.out file, please attach this to your bugreport.
make[2]: *** [encoding.lo] Error 1
make[2]: Leaving directory `/var/tmp/portage/dev-libs/libxml2-2.7.2-r1/work/libxml2-2.7.2'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/dev-libs/libxml2-2.7.2-r1/work/libxml2-2.7.2'
make: *** [all] Error 2


Reproducible: Always

Steps to Reproduce:




Comment 1


kavol





          2008-11-26 11:34:53 UTC
        

Created attachment 173425 [details]
build.log




Comment 2


kavol





          2008-11-26 11:35:36 UTC
        

Created attachment 173427 [details]
preprocessed source files




Comment 3


kavol





          2008-11-26 11:39:20 UTC
        

Created attachment 173428 [details]
system info

kika ~ # emerge --info
WARNING: repository at /usr/local/portage is missing a repo_name entry
Portage 2.2_rc14 (default/linux/amd64/2008.0/desktop, gcc-4.1.2, glibc-2.6.1-r0, 2.6.25-gentoo-r7 x86_64)
=================================================================
System uname: Linux-2.6.25-gentoo-r7-x86_64-Intel-R-_Core-TM-2_CPU_T5500_@_1.66GHz-with-glibc2.2.5
Timestamp of tree: Wed, 26 Nov 2008 10:31:01 +0000
distcc 2.18.3 x86_64-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
app-shells/bash:     3.2_p33
dev-java/java-config: 1.3.7, 2.1.6
dev-lang/python:     2.4.4-r13, 2.5.2-r7
dev-util/cmake:      2.4.8
sys-apps/baselayout: 1.12.11.1
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.61-r2
sys-devel/automake:  1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.1-r1
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.23-r3
ACCEPT_KEYWORDS="amd64"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=nocona -Os -pipe -ggdb"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/kde/svn/env /usr/kde/svn/share/config /usr/kde/svn/shutdown /usr/share/config /var/lib/hsqldb"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/revdep-rebuild /etc/terminfo /etc/udev/rules.d"
CXXFLAGS="-march=nocona -Os -pipe -ggdb"
DISTDIR="/usr/portage/distfiles"
FEATURES="collision-protect distlocks parallel-fetch preserve-libs protect-owned sandbox sfperms splitdebug strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LANG="sk_SK.UTF-8"
LC_ALL="sk_SK.UTF-8"
LDFLAGS="-Wl,-O1"
LINGUAS="cs en sk"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portage/local/layman/sunrise /usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X a52 aac accessibility acpi alsa amd64 amr amrnb amrwb bash-completion berkdb bluetooth branding bzip2 cairo cddb cdr cli cracklib crypt css cups dbus dga dmi dri dv dvd dvdnav dvdr dvdread emboss encodeevo fam ffmpeg flac fortran ftp gdbm gif hal iconv imlib ipv6 isdnlog java javascript jingle jpeg jpeg2k kde kdehiddenvisibility lcms libnotify lm_sensors logrotate mad midi mikmod mmap mmx moznocompose moznoirc moznomail moznopango moznoroaming mp2 mp3 mpeg mplayer mudflap multilib ncurses nls no-old-linux nptl nptlonly nsplugin offensive ogg opengl openmp pam pch pcre pda pdf perl pmu png ppds pppd python qt3 qt3support qt4 quicktime readline reflection rtc sdl seamonkey session smp sound spell spl srt sse sse2 ssl ssse3 startup-notification svg symlink sysfs tcpd theora tiff timidity truetype unicode usb vcd vorbis wifi x264 xcomposite xine xml xorg xscreensaver xv xvid xvmc zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_iduserdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="evdev keyboard mouse synaptics" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="cs en sk"USERLAND="GNU" VIDEO_CARDS="intel"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 4


Gilles Dartiguelongue (RETIRED)






          2008-12-11 20:02:38 UTC
        

@herd, can't see anything outright wrong here, any idea ?

@kavol, could you try to build it with -O2 in place of -Os and tell us if it changes anything ? I guess if it would, we should ask toolchain guys what they think about it.




Comment 5


Daniel Gryniewicz (RETIRED)






          2008-12-15 19:59:31 UTC
        

Doesn't an ICE have to be, by definition, a compiler bug?  Sure, the app can work around it by changing the code that triggers it (if you can), but...

I guess it could be bad RAM, broken ccache or distcc, or failing/corrupted disk... Not that he's using ccache/distcc.




Comment 6


kavol





          2008-12-16 10:02:52 UTC
        

(In reply to comment #5)
> I guess it could be bad RAM,

overnight memtest86+ did not reveal anything ...

> broken ccache or distcc, or failing/corrupted
> disk...

oh well, it sounds "optimistic" :-(


I've retried to rebuild it today, and magically it works now, so closing

guys, thankyou for the attention and sorry for wasting your time on something which may be a hardware issue









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

