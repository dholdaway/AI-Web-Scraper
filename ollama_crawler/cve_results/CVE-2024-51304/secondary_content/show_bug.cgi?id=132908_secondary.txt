Title: 132908 – Dependency problem in gst-plugins-0.8.11
URL: https://bugs.gentoo.org/show_bug.cgi?id=132908

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 132908
Dependency problem in gst-plugins-0.8.11
Last modified: 2006-05-10 11:30:07 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 132908 
      - Dependency problem in gst-plugins-0.8.11


Summary:
Dependency problem in gst-plugins-0.8.11
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       minor
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-05-10 08:50 UTC by Bruno Lustosa





      Modified:
    
2006-05-10 11:30 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Bruno Lustosa





          2006-05-10 08:50:38 UTC
        

Hello, there seems to be a dependency missing somewhere in the various gstreamer packages. When I try 'emerge --depclean -p', I get this:

# emerge --depclean -p

>>> These are the packages that would be unmerged:

 media-libs/gst-plugins
    selected: 0.8.11
   protected: none
     omitted: none

So, it seems this package isn't needed by any other package, so I go and unmerge it. Then, I do the usual 'revdep-rebuild -p', and get this list:

  broken /usr/lib/gstreamer-0.8/libgstalsa.so (requires  libgstinterfaces-0.8.so.0)
  broken /usr/lib/gstreamer-0.8/libgstossaudio.so (requires  libgstinterfaces-0.8.so.0)
  broken /usr/lib/gstreamer-0.8/libgstalsa.la (requires /usr/lib/libgstinterfaces-0.8.la)
  broken /usr/lib/gstreamer-0.8/libgstossaudio.la (requires /usr/lib/libgstinterfaces-0.8.la)

These libraries are in media-plugins/gst-plugins-alsa and media-plugins/gst-plugins-oss.
However, they do require media-libs/gst-plugins:

emerge --oneshot -p =media-plugins/gst-plugins-alsa-0.8.11 =media-plugins/gst-plugins-oss-0.8.11

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild  N    ] media-libs/gst-plugins-0.8.11  USE="alsa esd oss -debug"
[ebuild   R   ] media-plugins/gst-plugins-alsa-0.8.11
[ebuild   R   ] media-plugins/gst-plugins-oss-0.8.11

I don't know exactly where the bug lies, but the only problem I see is it appearing incorrectly in --depclean. If it is needed by some package, it shouldn't be listed there, should it?

Portage 2.1_pre10-r5 (default-linux/x86/2006.0, gcc-3.4.5, glibc-2.3.6-r3, 2.6.16-gentoo-r3 i686)
=================================================================
System uname: 2.6.16-gentoo-r3 i686 AMD Sempron(tm)  2400+
Gentoo Base System version 1.12.0_pre19
ccache version 2.4 [enabled]
dev-lang/python:     2.4.3-r1
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     2.4-r1
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r5
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=athlon-xp -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config /usr/lib/mozilla/defaults/pref /usr/share/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/eselect/compiler /etc/gconf /etc/revdep-rebuild /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=athlon-xp -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LANG="en_US.UTF-8"
LINGUAS="pt_BR"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 alsa apache2 apm avi bash-completion berkdb bitmap-fonts bluetooth cli crypt cups dri eds emboss encode esd foomaticdb fortran gdbm gif gpm gstreamer gtk2 imlib isdnlog jpeg libg++ libwww mad maildir mikmod motif mp3 mpeg ncurses nls nptl nsplugin offensive ogg opengl oss pam pcre pdflib perl png pppd python qt quicktime readline reflection sdl session spell spl ssl tcpd truetype truetype-fonts type1-fonts udev unicode vorbis xml xmms xorg xv zlib elibc_glibc input_devices_keyboard input_devices_mouse kernel_linux linguas_pt_BR userland_GNU video_cards_nvidia video_cards_nv"
Unset:  ASFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LC_ALL, LDFLAGS, MAKEOPTS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Bruno Lustosa





          2006-05-10 09:17:22 UTC
        

Just to add more info, after the recommended merge by revdep-rebuild, I got once again in depclean:

# emerge --depclean -p

>>> These are the packages that would be unmerged:

 media-libs/gst-plugins
    selected: 0.8.11
   protected: none
     omitted: none




Comment 2


Jakub Moc (RETIRED)






          2006-05-10 11:30:07 UTC
        

emerge --depclean is known to be broken... Reopen if revdep-rebuild doesn't fix the problem for you.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

