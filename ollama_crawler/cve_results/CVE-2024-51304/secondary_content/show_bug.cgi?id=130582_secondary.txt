Title: 130582 – AMD64 + NVIDIA + GLX
URL: https://bugs.gentoo.org/show_bug.cgi?id=130582

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 130582
AMD64 + NVIDIA + GLX
Last modified: 2006-07-20 08:50:34 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 130582 
      - AMD64 + NVIDIA + GLX


Summary:
AMD64 + NVIDIA + GLX
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Core system

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
Highest
       critical
      


Assignee:

X11 External Driver Maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-04-20 03:46 UTC by degski





      Modified:
    
2006-07-20 08:50 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



amd64









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


degski





          2006-04-20 03:46:40 UTC
        

I'm typing this on my Windows/Pentium, because Gentoo doesn't work and Im still in the stage of setting up, so I cannot give you emerge --info, but it should be easy to reproduce (since others seem to have the same problem). 

I'm having an AMD Athlon64 with nVidia Chipset. I've got a working console system with Internet, no apparent problems at boot. I've emerged xorg/gnome and checked with revdep-rebuild for broken links, no problems signalled. I've emerged nvidia-kernel, checked again for broken links, no problem (I know that glx depends on the kernel, but I wanted to see what caused the problem). After this I've emerged nvidia-glx, checking for broken dependencies reveals:

broken //usr/lib32/opengl/nvidia/lib/libGL.so.1.0.8756 (requires libX11.so.6 libXext.so.6)
broken /usr/lib32/opengl/nvidia/lib/libGL.so.1.0.8756 (requires libX11.so.6 libXext.so.6)

Then revdep-rebuils goes on the reemerge nvidia-glx, but the situation stays the same, rebooting doesn't make a difference either.

There are a few threads on the forum lately, discussing, what seems to be the same problem (in the multimedia section). I'm a newbie, but it seems that the change in the location of the xorg libs, as signaled at the end of the install of xorg, causes the problem. It sais to run etc-update to rectify this, but doing this does not bring up any files to update and I don't know where to look! So obviously it gets broken.




Comment 1


Mike Doty (RETIRED)






          2006-04-20 06:33:17 UTC
        

/usr/lib32/opengl/nvidia/lib/libGL.so.1.0.8756 is a 32 bit library, and has nothing to do with your regular running system.  There is a known problem if you use the 1.0.99 xorg stuff(it's in package.mask) and the nvidia drivers.  You'll need to provide more information before we can do anything.  emerge --info and emerge -pv xorg-server at a minimum.




Comment 2


degski





          2006-04-20 08:51:16 UTC
        

Allright, I succeeded, mounted the cf card, did the thing, went to
windows, burned a cd-rw and here it is


emerge --info

Gentoo Base System version 1.6.14
Portage 2.0.54 (default-linux/amd64/2006.0, gcc-3.4.5, glibc-2.3.5-r2,
2.6.15-gentoo-r5 x86_64)
=================================================================
System uname: 2.6.15-gentoo-r5 x86_64 AMD Athlon(tm) 64 Processor 3400+
dev-lang/python:     2.4.2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -march=athlon64 -fomit-frame-pointer -funroll-all-loops -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/lib64/mozilla/defaults/pref /usr/share/config
/var/qmail/control"
CONFIG_PROTECT_MASK="/etc/eselect/compiler /etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=athlon64 -fomit-frame-pointer -funroll-all-loops -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org
http://distro.ibiblio.org/pub/linux/distributions/gentoo"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="amd64 X alsa audiofile avi berkdb bitmap-fonts bzip2 cli crypt
cups dri eds emboss encode esd exif expat fam foomaticdb fortran gif
glut gnome gpm gstreamer gtk gtk2 hal howl imlib ipv6 isdnlog jpeg
lcms lzw lzw-tiff mng mozilla mp3 mpeg ncurses nls nptl nvidia opengl
pam pcre pdflib perl png pppd python quicktime readline reflection sdl
session spell spl ssl tcpd tiff truetype truetype-fonts type1-fonts
udev usb xml2 xpm xv zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, INSTALL_MASK, LANG, LC_ALL, LDFLAGS,
LINGUAS, PORTDIR_OVERLAY


end emerge -pv xorg-server

These are the packages that I would merge, in order:

Calculating dependencies
!!! All ebuilds that could satisfy "xorg-server" have been masked.
!!! One of the following masked packages is required to complete your request:
- x11-base/xorg-server-1.0.2-r3 (masked by: ~amd64 keyword)
- x11-base/xorg-server-1.0.99.901 (masked by: package.mask, ~amd64 keyword)
# Joshua Baergen <joshuabaergen@gentoo.org> (14 Apr 2006)
# Mask for X7.1 RC


For more information, see MASKED PACKAGES section in the emerge man page or
refer to the Gentoo Handbook.

That's it, hope this is sufficient to sort me out,

Thanks a million in advance

Jimbo




Comment 3


Simon Stelling (RETIRED)






          2006-07-20 08:50:34 UTC
        

this bug is two months old. did you get it fixed? it really looks like one of the xorg 7.1-bugs to me which you can't use with the binary drivers. Downgrading X to 7.0 should do the trick.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

