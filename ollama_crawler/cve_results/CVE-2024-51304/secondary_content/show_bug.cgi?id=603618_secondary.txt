Title: 603618 – net-misc/youtube-dl-99999999 missing man page
URL: https://bugs.gentoo.org/show_bug.cgi?id=603618

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 603618
net-misc/youtube-dl-99999999 missing man page
Last modified: 2016-12-27 21:17:46 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 603618 
      - net-misc/youtube-dl-99999999 missing man page


Summary:
net-misc/youtube-dl-99999999 missing man page
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Jeroen Roovers (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2016-12-23 21:57 UTC by Niklas Haas





      Modified:
    
2016-12-27 21:17 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



fturco
jstein









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Example fix

              (0001-net-misc-youtube-dl-99999999-add-support-for-buildin.patch,1.68 KB,
                patch)

            
2016-12-23 21:57 UTC,

            Niklas Haas




Details
            | Diff





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Niklas Haas





          2016-12-23 21:57:13 UTC
        

Created attachment 457294 [details, diff]
Example fix

The man page can be generated at runtime by running `make youtube-dl.1`.

I've verified that adding `emake ${PN}.1` to src_compile() and `dodoc ${PN}.1` to python_install_all() produces a correct man page, but note that this requires `pandoc` as a build dependency.

I've attached an example patch to fix this issue.




Comment 1


Jonas Stein






          2016-12-27 19:02:37 UTC
        

please add the version in the title.  
net-misc/youtube-dl-2016.09.19 works fine.




Comment 2


Jeroen Roovers (RETIRED)






          2016-12-27 21:00:27 UTC
        

The only version that does not install the man page is the old stable 2016.01.01. The newly stabilised 2016.09.19 does install the man page.




Comment 3


Niklas Haas





          2016-12-27 21:17:27 UTC
        

I noticed that some of the older ebuilds have ‘dodoc youtube-dl.1’ in them as well, but I'm not sure how this is supposed to work, seeing as the man page never actually gets built (‘emake youtube-dl.1’).

At any rate, the -9999999.ebuild doesn't seem to contain this line to begin with one way or the other, so some sort of fix is definitely needed, at least for the ‘live’ ebuild.

Perhaps the youtube-dl ‘releases’, used by the normal (versioned) ebuilds, include the generated man page already? If so, that would explain why it doesn't work for the live ebuild.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

