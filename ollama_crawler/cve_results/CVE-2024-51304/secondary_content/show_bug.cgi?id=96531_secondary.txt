Title: 96531 – k3b fails to emerge "/usr/lib/gcc/i686-pc-linux-gnu/3.4.4/../../../../i686-pc-linux-gnu/bin/ld: BFD 2.16.1 assertion fail"
URL: https://bugs.gentoo.org/show_bug.cgi?id=96531

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 96531
k3b fails to emerge "/usr/lib/gcc/i686-pc-linux-gnu/3.4.4/../../../../i686-pc-linux-gnu/bin/ld: BFD 2.16.1 assertion fail"
Last modified: 2006-03-11 15:49:29 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 96531 
      - k3b fails to emerge "/usr/lib/gcc/i686-pc-linux-gnu/3.4.4/../../../../i686-pc-linux-gnu/bin/ld: BFD 2.16.1 assertion fail"


Summary:
k3b fails to emerge "/usr/lib/gcc/i686-pc-linux-gnu/3.4.4/../../../../i686-pc...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Toolchain Maintainers








URL:



http://www.hansmaulwurf.net/k3bfail




Whiteboard:




Keywords:









Duplicates (1):
    

96755

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2005-06-19 08:09 UTC by Jens Pranaitis





      Modified:
    
2006-03-11 15:49 UTC
      (History)
    




          CC List:
        

4 
          users
          
            (show)
          



bugs-gentoo
guillaume.ramelet
raymond
viric









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Jens Pranaitis





          2005-06-19 08:09:12 UTC
        

When emerging k3b-0.12.1 the build fails with _a lot_ of the following errors:

/usr/lib/gcc/i686-pc-linux-gnu/3.4.4/../../../../i686-pc-linux-gnu/bin/ld: BFD 2
.16.1 assertion fail /var/tmp/portage/binutils-2.16.1/work/binutils-2.16.1/bfd/e
lflink.c:2324
/usr/lib/gcc/i686-pc-linux-gnu/3.4.4/../../../../i686-pc-linux-gnu/bin/ld: BFD 2
.16.1 assertion fail /var/tmp/portage/binutils-2.16.1/work/binutils-2.16.1/bfd/e
lflink.c:2325
/usr/lib/gcc/i686-pc-linux-gnu/3.4.4/../../../../i686-pc-linux-gnu/bin/ld: BFD 2
.16.1 assertion fail /var/tmp/portage/binutils-2.16.1/work/binutils-2.16.1/bfd/e
lflink.c:2324
/usr/lib/gcc/i686-pc-linux-gnu/3.4.4/../../../../i686-pc-linux-gnu/bin/ld: BFD 2
.16.1 assertion fail /var/tmp/portage/binutils-2.16.1/work/binutils-2.16.1/bfd/e
lflink.c:2325
/usr/lib/gcc/i686-pc-linux-gnu/3.4.4/../../../../i686-pc-linux-gnu/bin/ld: BFD 2
.16.1 assertion fail /var/tmp/portage/binutils-2.16.1/work/binutils-2.16.1/bfd/e
lflink.c:2324
/usr/lib/gcc/i686-pc-linux-gnu/3.4.4/../../../../i686-pc-linux-gnu/bin/ld: BFD 2
.16.1 assertion fail /var/tmp/portage/binutils-2.16.1/work/binutils-2.16.1/bfd/e
                                                                         
lflink.c:2325

The last messages are:

/usr/lib/gcc/i686-pc-linux-gnu/3.4.4/../../../../i686-pc-linux-gnu/bin/ld: BFD 2
                                                                          .16.1
internal error, aborting at /var/tmp/portage/binutils-2.16.1/work/binutils     
                                                                    
-2.16.1/bfd/elflink.c line 6437 in elf_link_output_extsym

/usr/lib/gcc/i686-pc-linux-gnu/3.4.4/../../../../i686-pc-linux-gnu/bin/ld: Pleas
                                                                          e
report this bug.

collect2: ld returned 1 exit status
make[3]: *** [libk3b.la] Error 1
make[3]: Leaving directory `/var/tmp/portage/k3b-0.12.1/work/k3b-0.12.1/libk3b'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/var/tmp/portage/k3b-0.12.1/work/k3b-0.12.1/libk3b'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/k3b-0.12.1/work/k3b-0.12.1'
make: *** [all] Error 2

the complete output of emerge can be found at the URL. 

Reproducible: Always
Steps to Reproduce:
1.emerge k3b
2.
3.

Actual Results:  
emerge failed with the errors mentioned above

Expected Results:  
k3b should have emerged succesfully

Portage 2.0.51.22-r1 (default-linux/x86/2005.0, gcc-3.4.4, glibc-2.3.5-r0,
2.6.11-gentoo-r11 i686)
=================================================================
System uname: 2.6.11-gentoo-r11 i686 AMD Athlon(tm) XP 2800+
Gentoo Base System version 1.6.12
ccache version 2.4 [enabled]
dev-lang/python:     2.3.5, 2.4.1-r1
sys-apps/sandbox:    1.2.9
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.5
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.18
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=athlon-xp -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env
/usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/splash /etc/terminfo /etc/texmf/web2c
/etc/env.d"
CXXFLAGS="-O2 -march=athlon-xp -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig candy ccache distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://mirrors.sec.informatik.tu-darmstadt.de/gentoo/
http://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/
ftp://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/
ftp://mirrors.sec.informatik.tu-darmstadt.de/gentoo/"
LANG="de_DE@euro"
LC_ALL="de_DE@euro"
LINGUAS="de"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="x86 3dnow X aac alsa apache2 apm arts avi bash-completion berkdb
bigger-fonts bitmap-fonts bzip2 cddb cdr crypt cups curl directfb divx4linux dvd
dvdr dvdread emboss encode escreen ethereal fam ffmpeg firefox flac foomaticdb
fortran gd gd-external gdbm geoip gif gpm gps gtk gtk2 hal howl ieee1394
imagemagick imlib imlib2 jabber java jpeg jpg junit kde ldap libg++ libwww
logitech-mouse mad mbox mikmod mmx motif mp3 mpeg msn mysql ncurses nls nptl
nptlonly offensive ogg oggvorbis opengl openssl oscar oss pam pdflib perl php
pic png ppds python qt quicktime rdesktop readline real remote ruby samba sasl
sdl server session shaper spell sse ssl stream svga tcpd tetex tiff truetype
truetype-fonts type1-fonts vcd vorbis wifi win32codecs xine xml xml2 xprint xv
xvid zlib linguas_de userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LDFLAGS




Comment 1


Caleb Tennis (RETIRED)






          2005-06-19 11:54:22 UTC
        

I don't think this has anything to do with k3b, looks like a binutils / linker bug to me.




Comment 2


Jens Pranaitis





          2005-06-20 03:24:02 UTC
        

Well I downgraded to binutils-2.16-r1 but I still get the same error, any other
ideas? And what package includes the linker (is it called ld?)?
I guess I'll just have to remerge system on the weekend then...




Comment 3


Andre Kloth





          2005-06-20 06:50:09 UTC
        

I had the same error. Seems to be an issue with gcc 3.4.4 as I switched to 3.3.4
and compiled k3b cleanly.




Comment 4


Jory A. Pratt





          2005-06-21 12:49:45 UTC
        

this is not a gcc issue .... gcc-3.4.4 compiles it fine and latest version of
binutils works fine ... something else is hosed on  your system.




Comment 5


Gregorio Guidi (RETIRED)






          2005-06-22 02:13:32 UTC
        

*** Bug 96755 has been marked as a duplicate of this bug. ***




Comment 6


Martijn Koster





          2005-06-24 07:09:27 UTC
        

Same error here. gcc version 3.4.4, GNU ld version 2.16.1 
 
tried an explicit binutils-config 1, didn't work. 
tried masking sys-devel/binutils-2.16.1 and downgrading to 2.16-r1; didn't 
work. 
tried dropping CFLAGS to only -march=i686, didn't work. 
tried masking sys-devel/binutils-2.16.1 and downgrading to 2.15.92.0.2-r10 
 (with CFLAGS="-O -march=i686"); that worked. 
tried with 2.15.92.0.2-r10 and CFLAGS="-O2 -march=i686"; that worked too. 
 
 
My emerge info: 
Portage 2.0.51.22-r1 (default-linux/x86/2005.0, gcc-3.4.4, glibc-2.3.5-r0, 
2.6.11-gentoo-r8 i686) 
================================================================= 
System uname: 2.6.11-gentoo-r8 i686 AMD Athlon(tm) 64 Processor 3500+ 
Gentoo Base System version 1.6.12 
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) 
[disabled] 
ccache version 2.4 [enabled] 
dev-lang/python:     2.3.5, 2.4.1-r1 
sys-apps/sandbox:    1.2.8 
sys-devel/autoconf:  2.13, 2.59-r7 
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.5 
sys-devel/binutils:  2.15.92.0.2-r4, 2.15.92.0.2-r10 
sys-devel/libtool:   1.5.18 
virtual/os-headers:  2.6.11-r2 
ACCEPT_KEYWORDS="x86 ~x86" 
AUTOCLEAN="yes" 
CBUILD="i686-pc-linux-gnu" 
CFLAGS="-O2 -march=i686" 
CHOST="i686-pc-linux-gnu" 
CONFIG_PROTECT="/etc /opt/jetty/etc /usr/kde/2/share/config /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/share/config /var/qmail/control" 
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/texmf/web2c /etc/env.d" 
CXXFLAGS="-O2 -march=i686" 
DISTDIR="/usr/portage/distfiles" 
FEATURES="autoconfig ccache distlocks fixpackages nostrip sandbox sfperms 
strict" 
GENTOO_MIRRORS="http://ftp6.uni-erlangen.de/pub/mirrors/gentoo 
http://ftp6.uni-erlangen.de/pub/mirrors/gentoo 
ftp://ftp.uni-erlangen.de/pub/mirrors/gentoo 
ftp://vlaai.snt.ipv6.utwente.nl/pub/os/linux/gentoo/ 
http://vlaai.snt.ipv6.utwente.nl/pub/os/linux/gentoo/" 
PKGDIR="/usr/portage/packages" 
PORTAGE_TMPDIR="/var/tmp" 
PORTDIR="/usr/portage" 
PORTDIR_OVERLAY="/usr/local/portage" 
SYNC="rsync://trumpetti.ip6.atm.tut.fi/gentoo-portage/" 
USE="x86 X aim alsa apache2 apm avi berkdb bitmap-fonts cdr crypt cups curl doc 
eds emacs emboss encode esd fam firebird flac foomaticdb fortran gd gdbm gif 
gnome gphoto2 gpm gstreamer gtk gtk2 imagemagick imap imlib ipv6 java jpeg 
junit kde ldap libg++ libwww mikmod motif mp3 mpeg ncurses nls nptl nptlonly 
ogg oggvorbis opengl oss pam pcap pdflib perl png postgres pthreads python qt 
quicktime readline ruby samba sasl sdl slang snmp spell sqlite ssl svga tcltk 
tcpd tetex tiff truetype truetype-fonts type1-fonts unicode vorbis xine xml 
xml2 xmms xv zlib userland_GNU kernel_linux elibc_glibc" 
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS, MAKEOPTS 
 




Comment 7


Ben Achtenberg





          2005-06-24 09:30:32 UTC
        

I also had this issue, and for the amount of us that have it, in all due 
respect to #4 i doubt all of us have hosed systems. 

Portage 2.0.51.22-r1 (default-linux/x86/2005.0, gcc-3.4.4, glibc-2.3.5-r0, 
2.6.1
1-gentoo-r9 i686)
=================================================================
System uname: 2.6.11-gentoo-r9 i686 AMD Athlon(tm) Processor
Gentoo Base System version 1.6.12
dev-lang/python:     2.3.5, 2.4.1-r1
sys-apps/sandbox:    1.2.9
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.5
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.18
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O3 -march=athlon-tbird -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.3/env /usr/kde/3.3/shar
e
/config /usr/kde/3.3/shutdown /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/k
d
e/3.4/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/share/config /var/
q
mail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O3 -march=athlon-tbird -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://gentoo.chem.wisc.edu/gentoo/ http://gentoo.osuosl.org/"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.us.gentoo.org/gentoo-portage"
USE="x86 3dnow X alsa apache2 apm arts avi berkdb bitmap-fonts cdr crypt cups 
cu
rl emboss encode esd fam foomaticdb fortran gd gdbm gif gnome gpm gtk gtk2 
image
magick imap imlib ipv6 jpeg kde libg++ libwww mad mikmod motif mp3 mpeg mysql 
nc
urses nls ogg oggvorbis opengl oss pam pdflib perl php png python qt quicktime 
r
eadline samba sdl spell ssl tcpd tiff truetype truetype-fonts type1-fonts usb 
vo
rbis xml2 xmms xv zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTDIR_OVERLAY





Comment 8


Jens Pranaitis





          2005-06-25 05:17:52 UTC
        

Well at least my system actually was hosed, after emerge -e world everything is
fine.




Comment 9


Santiago Staviski





          2005-06-27 19:37:58 UTC
        

(In reply to comment #8)
> Well at least my system actually was hosed, after emerge -e world everything is
> fine.

I also had this problem, and I solve it with emerge
/usr/portage/sys-devel/binutils/binutils-2.15.92.0.2-r10.ebuild, anda re-emerge
k3b with binutils 2.15




Comment 10


Maciej Zieba





          2005-07-04 13:29:13 UTC
        

emerge -e world didn't help me, but upgrading to k3b-0.12.2 did :-]




Comment 11


Paulo Fidalgo





          2005-10-10 12:55:28 UTC
        

well since nobody is experiencing this, and this version is already on x86, 
this can be closed (just to keep bugzilla clean) 
 
Thanks! 




Comment 12


SpanKY






          2005-10-10 13:25:11 UTC
        

sounds good ;)




Comment 13


Lluís Batlle i Rossell





          2006-03-11 15:49:29 UTC
        

This still happens to me, trying to compile "taskjuggler-2.2". I still think the problem is in binutils, as the assertion is there. I have the problems with gcc-3.3.6, and also with 3.4.4. Recompiling binutils 2.16.1 didn't help. I had to came back to 2.15.92.0.2-r10, and everything worked.

I'll reopen... I hope I'm not obviously wrong, and bother ...









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

