Title: 229673 – libcdio 0.80 fails to build libcdio_cdda.pc
URL: https://bugs.gentoo.org/show_bug.cgi?id=229673

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 229673
libcdio 0.80 fails to build libcdio_cdda.pc
Last modified: 2008-10-02 20:48:08 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 229673 
      - libcdio 0.80 fails to build libcdio_cdda.pc


Summary:
libcdio 0.80 fails to build libcdio_cdda.pc
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Library

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Diego Elio Pettenò (RETIRED)








URL:



http://www.nabble.com/libcdio-0.80-re...
        




Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-06-27 05:38 UTC by Stephen Bosch





      Modified:
    
2008-10-02 20:48 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



media-video









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Stephen Bosch





          2008-06-27 05:38:12 UTC
        

Applications like Audacious use libcdio_cdda.pc to build CD audio support. When you build audacious-plugins 1.5.1, it fails to build CD audio support, giving an error during the configuration phase but continuing to build.

Reproducible: Always

Steps to Reproduce:
1.emerge libcdio
2.emerge audacious-plugins -- watch carefully during the configuration. You will see errors saying libcdio_cdda cannot be found in the pkg-config search path. Despite this, the ebuild claims that CD audio support will be included.
3.start audacious, open the preferences, and look at the plugins -- no CD audio plugin present.
Actual Results:  
checking for CDIO... yes
checking for CDIO... yes
Package libcdio_cdda was not found in the pkg-config search path.
Perhaps you should add the directory containing `libcdio_cdda.pc'
to the PKG_CONFIG_PATH environment variable
No package 'libcdio_cdda' found
Package libcdio_cdda was not found in the pkg-config search path.
Perhaps you should add the directory containing `libcdio_cdda.pc'
to the PKG_CONFIG_PATH environment variable
No package 'libcdio_cdda' found

Then, in the summary:

  Input Plugins
  -------------
  MPEG 1/2/3 (madplug):                   yes
  MPEG 4 Audio (AAC):                     yes
  Windows Media Audio (wma):              yes
  Monkey's Audio (ape):                   yes
  Module decoder (modplug):               yes
  MIDI modular plugin (amidi-plug):       no
    -> ALSA backend:                      auto
    -> FluidSynth backend:                auto
    -> dummy backend:                     auto
  MIDI to WAVE converter (timidity):      no
  CD Digital Audio (cdaudio_ng):          yes
  sndfile extensions:                     no
  Tone Generator:                         yes
  Ogg Vorbis (vorbis):                    yes
  Free Lossless Audio Codec (flacng):     yes
  Commodore 64 audio (sid):               no
  Game music (spc, nsf & gbs):            yes
  PlayStation audio (sexypsf):            yes
  AdLib synthesizer (adplug):             no
  Apple Lossless Audio Codec (alac):      yes
  WavPack 4.31+ (wavpack):                yes
  Musepack support (musepack):            no
  TrueAudio (tta):                        no
  Metronom:                               yes

but the required plugin is nowhere to be found.

Expected Results:  
I expected to be able to find libcdio_cdda.pc somewhere after building libcdio, but it was nowhere to be found :)

The problem appears to be in the sources.




Comment 1


Stephen Bosch





          2008-06-27 05:40:24 UTC
        

Portage 2.1.4.4 (default-linux/x86/2007.0, gcc-4.1.2, glibc-2.6.1-r0, 2.6.24-gentoo-r8 i686)
=================================================================
System uname: 2.6.24-gentoo-r8 i686 Intel(R) Core(TM)2 Quad CPU Q6600 @ 2.40GHz
Timestamp of tree: Tue, 17 Jun 2008 04:00:01 +0000
app-shells/bash:     3.2_p33
dev-java/java-config: 1.3.7, 2.1.6
dev-lang/python:     2.4.4-r13
dev-python/pycrypto: 2.0.1-r6
sys-apps/baselayout: 2.0.0
sys-apps/openrc:     0.2.5
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.61-r1
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.1
sys-devel/binutils:  2.18-r1
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.4.3-r1, 1.5.26
virtual/os-headers:  2.6.23-r3
ACCEPT_KEYWORDS="x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=i686 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/config"
CONFIG_PROTECT_MASK="/etc/afs/C /etc/afs/afsws /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/revdep-rebuild /etc/terminfo /etc/udev/rules.d"
CXXFLAGS="-O2 -march=i686 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="distlocks metadata-transfer sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="ftp://gentoo.mirrors.tds.net/gentoo http://gentoo.mirrors.tds.net/gentoo ftp://gentoo.chem.wisc.edu/gentoo/ http://gentoo.chem.wisc.edu/gentoo/ ftp://mirror.datapipe.net/gentoo"
LANG="en_US"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portage/local/layman/berkano /usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="3dnow X aac aalib acl acpi afs alsa avi berkdb bidi cli cracklib crypt cups curl dri dvb dvd dvdr firefox flac fortran gdbm gpm gtk gtk2 iconv imagemagick imap imlib ipv6 isdnlog java jpeg kde ldap lib midi mmx mozilla mp3 mudflap nas ncurses nls nptl nptlonly nsplugin oggvorbis opengl openmp oss pam pcre pda pdflib perl png ppds pppd python qt qt3 quicktime readline real reflection samba sdl session spl ssl svga theora tiff truetype unicode usb videos win32codecs wmf www x86 xinerama xml xml2 xorg xv xvid zlib" ALSA_CARDS="emu10k1 hda-intel" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="keyboard mouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" USERLAND="GNU" VIDEO_CARDS="i810 fglrx vesa"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LC_ALL, LDFLAGS, LINGUAS, MAKEOPTS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS






Comment 2


Stephen Bosch





          2008-06-27 05:51:38 UTC
        

A workaround is to downgrade to dev-libs/libcdio-0.78.2-r4.

Add:

=dev-libs/libcdio-0.80

to /etc/portage/package.mask

audacious-plugins-1.5.1 will complain. Override that with --nodeps:

emerge --nodeps audacious-plugins




Comment 3


Diego Elio Pettenò (RETIRED)






          2008-09-29 05:10:52 UTC
        

Do you have the minimal USE flag enabled? If so this is not a bug in libcdio but a bug in audacious not to check for that to be disabled before building; with EAPI=2 this should be easy to fix.





Comment 4


Stephen Bosch





          2008-10-01 19:53:37 UTC
        

(In reply to comment #3)
> Do you have the minimal USE flag enabled? If so this is not a bug in libcdio
> but a bug in audacious not to check for that to be disabled before building;
> with EAPI=2 this should be easy to fix.

No, I did not and do not have the minimal USE flag enabled. I finally gave up on Audacious as it is a buggy mess -- I have discovered Amarok :) 






Comment 5


Diego Elio Pettenò (RETIRED)






          2008-10-02 20:48:08 UTC
        

So I have no idea what the problem is but here it works, until someone reproduces this I can't do much more.










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

