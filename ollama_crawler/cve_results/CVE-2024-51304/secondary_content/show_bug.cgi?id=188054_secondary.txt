Title: 188054 – digest verifications failed with multiple kde-base/ ebuilds
URL: https://bugs.gentoo.org/show_bug.cgi?id=188054

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 188054
digest verifications failed with multiple kde-base/ ebuilds
Last modified: 2007-08-27 11:52:01 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 188054 
      - digest verifications failed with multiple kde-base/ ebuilds


Summary:
digest verifications failed with multiple kde-base/ ebuilds
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Mirrors




Classification:

Unclassified




Component:

Server Problem

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Mirror Admins








URL:







Whiteboard:




Keywords:









Duplicates (3):
    

188065 188072 188083

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2007-08-07 21:32 UTC by FieldySnuts





      Modified:
    
2007-08-27 11:52 UTC
      (History)
    




          CC List:
        

5 
          users
          
            (show)
          



armin76
askwar
jer
roberto.castagnola
shellsage









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


FieldySnuts





          2007-08-07 21:32:26 UTC
        

These are the packages that would be merged, in order:

!!! Digest verification failed:
!!! /usr/portage/kde-base/kdf/kdf-3.5.7.ebuild
!!! Reason: Filesize does not match recorded size
!!! Got: 428
!!! Expected: 431


!!! Problem resolving dependencies for kde-base/kde-meta
Calculating world dependencies  ..... ..... ..... ..... ...
!!! All ebuilds that could satisfy "~kde-base/kdf-3.5.7" have been masked.
!!! One of the following masked packages is required to complete your request:
- kde-base/kdf-3.5.7 (masked by: corruption)


Portage 2.1.3.3 (default-linux/x86/2007.0, gcc-4.1.2, glibc-2.5-r4, 2.6.21.5 i686)
=================================================================
System uname: 2.6.21.5 i686 Intel(R) Pentium(R) M processor 1.86GHz
Gentoo Base System release 1.12.9
Timestamp of tree: Tue, 07 Aug 2007 20:50:01 +0000
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
ccache version 2.4 [enabled]
dev-java/java-config: 1.3.7, 2.0.33-r1
dev-lang/python:     2.4.4-r4
dev-python/pycrypto: 2.0.1-r6
dev-util/ccache:     2.4-r7
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.61-r1
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.17-r1
sys-devel/gcc-config: 1.3.16
sys-devel/libtool:   1.5.23b
virtual/os-headers:  2.6.22-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-Os -march=pentium-m -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/revdep-rebuild /etc/terminfo"
CXXFLAGS="-Os -march=pentium-m -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="ccache distlocks metadata-transfer sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://gentoo.cites.uiuc.edu/pub/gentoo/ http://gentoo.mirrors.easynews.com/linux/gentoo/ http://194.117.143.69/ http://194.117.143.70/ http://85.25.128.62"
LINGUAS="en"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.namerica.gentoo.org/gentoo-portage"
USE="3dnow X a52 acl alsa berkdb bitmap-fonts bzip2 cdr chroot cli cracklib crypt cups dri dv dvd dvdr dvdread encode ffmpeg flac fortran gdbm gif gnome gpm gtk gtk2 hal iconv isdnlog jpeg kde libg++ midi mmx mp3 mudflap ncurses network nls nptl nptlonly ogg opengl openmp oss pam pcre pdflib perl png pppd pwdb python qt3 qt4 readline reflection sdl session spell spl sse ssl svg theora tiff truetype truetype-fonts type1-fonts unicode usb vorbis x86 xml2 xorg xvid zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1 emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" ELIBC="glibc" INPUT_DEVICES="keyboard mouse synaptics" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en" USERLAND="GNU" VIDEO_CARDS="radeon fglrx"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


FieldySnuts





          2007-08-07 21:39:27 UTC
        

Attempting to fix the Summary...




Comment 2


Jeroen Roovers (RETIRED)






          2007-08-08 04:23:34 UTC
        

I can't find any fault in the CVS gentoo-x86 tree so I blame the mirrors. :)

Please test for this same error after the next emerge --sync and reopen if the problem persists, in which case you should also post your emerge --info.




Comment 3


Jeroen Roovers (RETIRED)






          2007-08-08 04:33:46 UTC
        

*** Bug 188065 has been marked as a duplicate of this bug. ***




Comment 4


FieldySnuts





          2007-08-08 05:01:35 UTC
        

Btw i'm seeing this over and over with 3.5.7 ebuilds of kde stuff. i digest one, then another fails, then digest that, then another fails... Not sure what's going on but it seems confined to kde 3.5.7 stuff.




Comment 5


Vic Fryzel (shellsage) (RETIRED)






          2007-08-08 06:04:40 UTC
        

This is still a problem.  Since the one I filed for the kde-base/libkdenetwork-3.5.7 was marked as a duplicate of this, here is the test of it failing after a fresh sync:

localhost vic # emerge --update --deep --newuse world -p

These are the packages that would be merged, in order:

Calculating world dependencies \!!! Digest verification failed:
!!! /usr/portage/kde-base/libkdenetwork/libkdenetwork-3.5.7.ebuild
!!! Reason: Filesize does not match recorded size
!!! Got: 493
!!! Expected: 496

!!! All ebuilds that could satisfy "~kde-base/libkdenetwork-3.5.7" have been masked.
!!! One of the following masked packages is required to complete your request:
- kde-base/libkdenetwork-3.5.7 (masked by: corruption)

For more information, see MASKED PACKAGES section in the emerge man page or
refer to the Gentoo Handbook.
(dependency required by "kde-base/certmanager-3.5.7-r1" [ebuild])



!!! Problem resolving dependencies for kde-base/kontact
!!! Depgraph creation failed.





Comment 6


Vic Fryzel (shellsage) (RETIRED)






          2007-08-08 06:07:49 UTC
        

(In reply to comment #2)
> I can't find any fault in the CVS gentoo-x86 tree so I blame the mirrors. :)
> 
> Please test for this same error after the next emerge --sync and reopen if the
> problem persists, in which case you should also post your emerge --info.
> 

I should also point out that I'm on AMD64.  Here's my emerge --info from my other bug:

localhost vic # emerge --info
Portage 2.1.3.3 (default-linux/amd64/2007.0/desktop, gcc-4.1.2, glibc-2.5-r0, 2.6.17-gentoo-r4 x86_64)
=================================================================
System uname: 2.6.17-gentoo-r4 x86_64 AMD Opteron(tm) Processor 242
Gentoo Base System release 1.12.9
Timestamp of tree: Wed, 08 Aug 2007 05:30:10 +0000
dev-java/java-config: 1.3.7, 2.0.31-r4
dev-lang/python:     2.4.4-r4
dev-python/pycrypto: 2.0.1-r6
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.61
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.17
sys-devel/gcc-config: 1.3.14
sys-devel/libtool:   1.5.23b
virtual/os-headers:  2.6.20-r2
ACCEPT_KEYWORDS="amd64 ~amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=k8 -O3 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/splash /etc/terminfo"
CXXFLAGS="-march=k8 -O3 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="distlocks metadata-transfer sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://gentoo.osuosl.org"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portage/local/layman/sunrise /usr/portage/local/layman/arcon-portage /usr/local/portage /usr/local/xgl-coffee"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X aac acl acpi alsa amd64 apache2 apm asf avi bash-completion bitmap-fonts browserplugin bzip2 cairo cdr cgi cli cracklib crypt cups cvs dba dbus dri dts dvd dvdr dvdread dxr3 eds emboss encode esd evo exscalibar fam firefox flac foomaticdb fortran ftp gcj gd gdbm gif glitz gnome gpm gstreamer gtk gtk2 hal iconv imagemagick imlib ipod ipv6 isdnlog java jpeg kde kerberos ldap libg++ libwww mad midi mikmod mmx mod_php motif mozilla mozsvg mp3 mpeg mudflap musicbrainz mysql ncurses nls nptl nptlonly nsplugin nvidia ogg oggvorbis opengl openmp oss pam pcre pdf pdflib perl php png postgres pppd python qt qt3 qt3support qt4 quicktime rdesktop readline reflection ruby sdl session slang socket sockets spell spl sql sse sse2 ssl subversion svg tcpd tiff truetype truetype-fonts type1-fonts unicode utf8 vcd visualization vorbis wxgtk xcomposite xinerama xml xml2 xorg xscreensaver xv xvid zlib" ALSA_CARDS="intel8x0" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" CAMERAS="canon" ELIBC="glibc" INPUT_DEVICES="evdev keyboard mouse joystick" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" USERLAND="GNU" VIDEO_CARDS="nvidia nv vesa"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS






Comment 7


Jakub Moc (RETIRED)






          2007-08-08 07:28:39 UTC
        

*** Bug 188072 has been marked as a duplicate of this bug. ***




Comment 8


Jakub Moc (RETIRED)






          2007-08-08 07:30:20 UTC
        

Cannot reproduce this; set yourself a different mirror.




Comment 9


Jakub Moc (RETIRED)






          2007-08-08 08:44:02 UTC
        

*** Bug 188083 has been marked as a duplicate of this bug. ***




Comment 10


Roberto Castagnola





          2007-08-08 09:09:53 UTC
        

(In reply to comment #8)
> Cannot reproduce this; set yourself a different mirror.
> 
Not working portage-20070807.tar.bz2 from ftp://mirror.switch.ch/mirror/gentoo/snapshots and http://gentoo.osuosl.org/snapshots
Missing from http://www.ibiblio.org/pub/Linux/distributions/gentoo/snapshots






Comment 11


Vic Fryzel (shellsage) (RETIRED)






          2007-08-08 12:14:44 UTC
        

(In reply to comment #8)
> Cannot reproduce this; set yourself a different mirror.
> 

I have tried three different mirrors now, and all give the same issue.




Comment 12


Vic Fryzel (shellsage) (RETIRED)






          2007-08-08 12:18:27 UTC
        

(In reply to comment #11)
> (In reply to comment #8)
> > Cannot reproduce this; set yourself a different mirror.
> > 
> 
> I have tried three different mirrors now, and all give the same issue.
> 

This finally worked on the gatech.edu mirror, but has failed on a bunch of others.





Comment 13


Raúl Porcel (RETIRED)






          2007-08-09 10:58:06 UTC
        

What about right now?




Comment 14


Roberto Castagnola





          2007-08-09 16:41:22 UTC
        

(In reply to comment #13)
> What about right now?
> 
No more digest verifications failure for me with portage-20070808.tar.bz2 (updated with emerge-delta-webrsync)




Comment 15


Raúl Porcel (RETIRED)






          2007-08-24 17:47:09 UTC
        

What about now?




Comment 16


Jeroen Roovers (RETIRED)






          2007-08-25 05:08:51 UTC
        

(In reply to comment #15)
> What about now?
> 

You might want to call it fixed.




Comment 17


Raúl Porcel (RETIRED)






          2007-08-27 11:52:01 UTC
        

Closing, reopen if it still happens









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

