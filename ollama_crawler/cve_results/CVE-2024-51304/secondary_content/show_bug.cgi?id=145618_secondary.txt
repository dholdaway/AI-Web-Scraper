Title: 145618 – vmware-player-1.0.1.19317-r4: "invalid pointer" (glibc detected)
URL: https://bugs.gentoo.org/show_bug.cgi?id=145618

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 145618
vmware-player-1.0.1.19317-r4: "invalid pointer" (glibc detected)
Last modified: 2006-12-15 07:00:26 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 145618 
      - vmware-player-1.0.1.19317-r4: "invalid pointer" (glibc detected)


Summary:
vmware-player-1.0.1.19317-r4: "invalid pointer" (glibc detected)
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo VMWare Bug Squashers [disabled]








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-08-30 09:21 UTC by Boris Dusek





      Modified:
    
2006-12-15 07:00 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Useful einfo messages for users.

              (diff,495 bytes,
                patch)

            
2006-08-30 11:20 UTC,

            Boris Dusek




Details
            | Diff





Useful einfo messages for users.

              (diff,495 bytes,
                patch)

            
2006-08-30 11:21 UTC,

            Boris Dusek




Details
            | Diff





Show
              Obsolete (1)
            View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Boris Dusek





          2006-08-30 09:21:54 UTC
        

Subject says it all, this I see every time when I run vmware-player:

boris@prague ~ $ vmplayer
/opt/vmware/player/lib/bin/vmplayer: /opt/vmware/player/lib/lib/libpng12.so.0/libpng12.so.0: no version information available (required by /usr/lib/libcairo.so.2)
*** glibc detected *** /opt/vmware/player/lib/bin/vmplayer: munmap_chunk(): invalid pointer: 0x085a4768 ***

Every time I do this, the window with gtk file open dialog (along with the main window in background) appears for a fraction of a second and disappears immediately, as if it was frightened of real-world sunshine :)

When I select an image on command-line, then a very similar, though different message appears, again every time I do it:

boris@prague ~ $ vmplayer /mnt/win/vmware/theOS/theOS.vmx
/opt/vmware/player/lib/bin/vmplayer: /opt/vmware/player/lib/lib/libpng12.so.0/libpng12.so.0: no version information available (required by /usr/lib/libcairo.so.2)
*** glibc detected *** /opt/vmware/player/lib/bin/vmplayer: free(): invalid pointer: 0x08d4e340 ***

This time, the window with appropriate title appears (name of the image), with message "to grab input, press CTRL+G" in status bar, with player button in the menu bar, but does not disappear, it is just useless, does not react to any clicking and input.

lsmod gives the following:
boris@prague ~ $ lsmod
Module                  Size  Used by
vmnet                  24172  13
vmmon                 169484  0
via                    37120  2
drm                    63192  3 via
iptable_filter          2304  0
ip_tables               9944  1 iptable_filter
x_tables                9796  1 ip_tables
acerhk                 26748  0

See the 13 references for vmnet - is that correct?

Kernel 2.6.17, glibc 2.4-r3, gcc 3.4.6-r1, vmware 1.0.1.19317-r4.

emerge info:

boris@prague ~ $ emerge --info
Portage 2.1-r2 (default-linux/x86/2006.0, gcc-3.4.6, glibc-2.4-r3, 2.6.17-gentoo i686)
=================================================================
System uname: 2.6.17-gentoo i686 Mobile AMD Athlon(tm) XP 2400+
Gentoo Base System version 1.12.4
ccache version 2.3 [enabled]
app-admin/eselect-compiler: [Not Present]
dev-lang/python:     2.3.5-r2, 2.4.3-r1
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     2.3
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.13-r3
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O1 -march=athlon-xp -ggdb -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/ /var/qmail/alias /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/terminfo"
CXXFLAGS="-O1 -march=athlon-xp -ggdb -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache distlocks metadata-transfer parallel-fetch sandbox sfperms splitdebug strict"
GENTOO_MIRRORS="ftp://ftp.ucsb.edu/pub/mirrors/linux/gentoo"
LC_ALL="en_US.UTF-8"
LDFLAGS="-Wl,-O1"
LINGUAS="en cs sk ru he hi ar zh_TW zh_CN"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_EXTRA_OPTS="--timeout=500"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/home/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage/mine"
SYNC="rsync://rsync.namerica.gentoo.org/gentoo-portage"
USE="x86 3dnow X a52 aac acl acpi alsa apache2 arts atlas audiofile avi bash-completion berkdb bitmap-fonts bonobo bzip2 cairo cdparanoia cdr cjk cli crypt cups curl dlloader dri dv dvd eds emacs emboss encode exif expat fam fbcon ffmpeg flac foomaticdb fortran gcj gdbm gif ginac glut gphoto2 gpm gstreamer gtk gtk2 guile icq idn ieee1394 imagemagick imlib immqt-bc ipv6 irc isdnlog jack jpeg kde kdeenablefinal kdexdeltas lcms libcaca libg++ libwww lua mad maildir mikmod mmx mng mp3 mpeg ncurses nls nptl nsplugin ogg opengl oss pam pcre pdflib perl pic png pppd python qt3 qt4 readline reflection ruby samba scanner sdl session speex spl sqlite sse ssl subversion symlink tcpd tetex threads tiff truetype truetype-fonts type1-fonts udev unicode usb vorbis win32codecs wmf xinerama xml xml2 xorg xv xvid zlib elibc_glibc input_devices_keyboard input_devices_mouse input_devices_synaptics kernel_linux linguas_en linguas_cs linguas_sk linguas_ru linguas_he linguas_hi linguas_ar linguas_zh_TW linguas_zh_CN userland_GNU video_cards_via"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG




Comment 1


Boris Dusek





          2006-08-30 11:17:38 UTC
        

(In reply to comment #0)
> Subject says it all, this I see every time when I run vmware-player:
> 
> boris@prague ~ $ vmplayer
> /opt/vmware/player/lib/bin/vmplayer:
> /opt/vmware/player/lib/lib/libpng12.so.0/libpng12.so.0: no version information
> available (required by /usr/lib/libcairo.so.2)
> *** glibc detected *** /opt/vmware/player/lib/bin/vmplayer: munmap_chunk():
> invalid pointer: 0x085a4768 ***

I solved the problem: you have to disable scim, then it works perfectly as supposed to.

So remove the variables for scim (in my case I put them in /etc/env.d/45kdepaths), run env-update, restart the X server from a new shell and you should be fine.

Would be good if there was a description at the end of ebuild. I am attaching a diff to vmware-player ebuild with a proposal of such a description.




Comment 2


Boris Dusek





          2006-08-30 11:20:52 UTC
        

Created attachment 95500 [details, diff]
Useful einfo messages for users.

As described in my previous comment.




Comment 3


Boris Dusek





          2006-08-30 11:21:56 UTC
        

Created attachment 95501 [details, diff]
Useful einfo messages for users.

As described in my previous comment.




Comment 4


jason zheng





          2006-09-12 12:41:43 UTC
        

This is actually a larger problem than just compatibility with scim. Another reported vmplayer not working with xemacs running, and he attributed the problem to vmplayer's kernel module corrupting memory. Can someone please look into this issue? VMware runs fine on RHEL, SUSE, and other distros.




Comment 5


Chris Gianelloni (RETIRED)






          2006-09-28 12:27:01 UTC
        

Reported where, exactly?

Also, can you try this with VMware Player 1.0.2 (currently masked) and see if it exhibits the same behavior?




Comment 6


Chris Gianelloni (RETIRED)






          2006-12-15 07:00:26 UTC
        

Well, 1.0.2 has been unmasked for quite some time, and is even marked stable.  There is also a 1.0.3 in portage.  I'm marking this as WORKSFORME, since I've gotten no response in close to 3 months.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

