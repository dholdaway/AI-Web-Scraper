Title: 94576 – media-video/mplayer-1.0_pre6-r4 segfaults when playing theora videos
URL: https://bugs.gentoo.org/show_bug.cgi?id=94576

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 94576
media-video/mplayer-1.0_pre6-r4 segfaults when playing theora videos
Last modified: 2005-08-04 11:34:37 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 94576 
      - media-video/mplayer-1.0_pre6-r4 segfaults when playing theora videos


Summary:
media-video/mplayer-1.0_pre6-r4 segfaults when playing theora videos
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       critical
      


Assignee:

Gentoo Media-video project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-05-30 21:29 UTC by postmodern





      Modified:
    
2005-08-04 11:34 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



ford_prefect









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


postmodern





          2005-05-30 21:29:31 UTC
        

The new GUADEC oggs are up currently, so I decided to watch some. Sadly mplayer
and media-libs/libtheora-1.0_alpha4 segfaulteg. I doubt these files are corrupted.

Reproducible: Always
Steps to Reproduce:
1. mplayer http://stream.fluendo.com/archive/6uadec/Ralph_Giles_-_Xiph_org.ogg
2.
3.

Actual Results:  
Opening video decoder: [ffmpeg] FFmpeg's libavcodec codec family
Could not open codec.
VDecoder init failed :(
Opening video decoder: [theora] Theora/VP3


MPlayer interrupted by signal 11 in module: init_video_codec
- MPlayer crashed by bad usage of CPU/FPU/RAM.
  Recompile MPlayer with --enable-debug and make a 'gdb' backtrace and
  disassembly. Details in DOCS/HTML/en/bugreports_what.html#bugreports_crash.
- MPlayer crashed. This shouldn't happen.
  It can be a bug in the MPlayer code _or_ in your drivers _or_ in your
  gcc version. If you think it's MPlayer's fault, please read
  DOCS/HTML/en/bugreports.html and follow the instructions there. We can't and
  won't help unless you provide this information when reporting a possible bug.


Expected Results:  
working

Gentoo Base System version 1.4.16
Portage 2.0.51.19 (default-linux/amd64/2004.3, gcc-3.4.3,
glibc-2.3.4.20041102-r1, 2.6.11-gentoo-r7 x86_64)
=================================================================
System uname: 2.6.11-gentoo-r7 x86_64 AMD Athlon(tm) 64 Processor 3400+
Python:              dev-lang/python-2.3.5 [2.3.5 (#1, May 18 2005, 00:57:53)]
dev-lang/python:     2.3.5
sys-apps/sandbox:    [Not Present]
sys-devel/autoconf:  2.59-r6, 2.13
sys-devel/automake:  1.7.9-r1, 1.8.5-r3, 1.5, 1.4_p6, 1.6.3, 1.9.5
sys-devel/binutils:  2.15.92.0.2-r10
sys-devel/libtool:   1.5.16
virtual/os-headers:  2.6.8.1-r4
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CFLAGS="-pipe -O3 -march=k8"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-pipe -O3 -march=k8"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig ccache distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org
http://distro.ibiblio.org/pub/Linux/distributions/gentoo"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="amd64 X aac acpi alsa berkdb bitmap-fonts cdr crypt curl dvd encode esd fam
flac font-server fortran gif gpm gstreamer gtk gtk2 imlib ipv6 java jp2 jpeg
libvisual lzw lzw-tiff mad motif mp3 multilib ncurses network nls ogg oggvorbis
opengl pam perl png python quicktime readline samba sdl softmmu speex spell
sqlite ssl tcltk tcpd theora tiff truetype truetype-fonts type1-fonts usb
userlocales vorbis xine xml xml2 xmms xpm xrandr xv zlib userland_GNU
kernel_linux elibc_glibc"
Unset:  ASFLAGS, CBUILD, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS




Comment 1


Arun Raghavan (RETIRED)






          2005-05-30 21:45:01 UTC
        

Sorry if this is a stupid question, but is there video in this stream. Works for
me (audio only, mplayer 1.0_pre6-r5, I'm on an x86 arch.)....

blaah@foo> mplayer
http://stream.fluendo.com/archive/6uadec/Ralph_Giles_-_Xiph_org.ogg
MPlayer 1.0pre6-3.4.3-20050110 (C) 2000-2004 MPlayer Team
CPU: Intel Celeron 2/Pentium III Coppermine,Geyserville (Family: 6, Stepping:
1)Detected cache-line size is 32 bytes
MMX2 supported but disabled
CPUflags:  MMX: 1 MMX2: 0 3DNow: 0 3DNow2: 0 SSE: 1 SSE2: 0
Compiled for x86 CPU with extensions: MMX SSE


Warning unknown option cache_min at line 144
Warning unknown option cache_prefill at line 147

77 audio & 189 video codecs
Playing http://stream.fluendo.com/archive/6uadec/Ralph_Giles_-_Xiph_org.ogg.
Resolving stream.fluendo.com for AF_INET...
Connecting to server stream.fluendo.com[195.10.6.11]:80 ...
Cache size set to 8192 KBytes
Connected to server: stream.fluendo.com
Cache fill: 19.82% (1662976 bytes)    Ogg stream 1 is of an unknown type
Ogg file format detected.
==========================================================================
Opening audio decoder: [libvorbis] Ogg/Vorbis audio decoder
AUDIO: 40000 Hz, 2 ch, 16 bit (0x10), ratio: 5120->160000 (41.0 kbit)
Selected audio codec: [vorbis] afm:libvorbis (OggVorbis Audio Decoder)
==========================================================================
Checking audio filter chain for 40000Hz/2ch/16bit -> 40000Hz/2ch/16bit...
AF_pre: af format: 2 bps, 2 ch, 40000 hz, little endian signed int
AF_pre: 40000Hz 2ch Signed 16-bit (Little-Endian)
AO: [oss] 40000Hz 2ch Signed 16-bit (Little-Endian) (2 bps)
Building audio filter chain for 40000Hz/2ch/16bit -> 40000Hz/2ch/16bit...
Video: no video
Starting playback...
Ogg : bad packet in stream 1
Ogg : bad packet in stream 0
A:  39.0 (39.0)  2.9% 21%
Exiting... (Quit)




Comment 2


postmodern





          2005-05-30 21:47:17 UTC
        

http://theora.org/ top news story would indicate so.

"Fluendo is again streaming all the talks from the Guadec conference this year
in Ogg Theora format."




Comment 3


Arun Raghavan (RETIRED)






          2005-05-30 22:25:15 UTC
        

My bad - ran without theora here. Apologies.




Comment 4


postmodern





          2005-05-30 22:27:08 UTC
        

np, was good to clear it up. I dream of a day when theora will "just work" on
all my archs.




Comment 5


Arun Raghavan (RETIRED)






          2005-05-31 09:11:32 UTC
        

Just for completeness - works for me on mplayer-1.0_pre7 x86 (comment #4 
suggests that it's an AMD64-only issue).




Comment 6


Reimar Döffinger





          2005-06-01 13:15:13 UTC
        

FYI: Works for me on AMD64 using latest MPlayer CVS (didn't try any other versions)




Comment 7


Brandon Potts





          2005-07-13 17:13:28 UTC
        

I am using mplayer 1.0_pre6-r4, and I just streamed the video just fine.  Here's
my emerge info so you can compare.

emerge info
Portage 2.0.51.22-r1 (default-linux/amd64/2005.0, gcc-3.4.3, glibc-2.3.5-r0,
2.6.12-gentoo-r4 x86_64)
=================================================================
System uname: 2.6.12-gentoo-r4 x86_64 AMD Athlon(tm) 64 Processor 3500+
Gentoo Base System version 1.6.12
ccache version 2.3 [enabled]
dev-lang/python:     2.3.5
sys-apps/sandbox:    1.2.9
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.5
sys-devel/binutils:  2.15.92.0.2-r10
sys-devel/libtool:   1.5.18-r1
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O3 -march=athlon64 -fforce-addr -momit-leaf-frame-pointer
-fomit-frame-pointer -ftracer -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env
/usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O3 -march=athlon64 -fforce-addr -momit-leaf-frame-pointer
-fomit-frame-pointer -ftracer -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache distlocks sandbox sfperms strict userpriv usersandbox"
GENTOO_MIRRORS="http://www.ibiblio.org/pub/Linux/distributions/gentoo"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X a52 aac aalib acl acpi aim alsa amd64 apache2 apm arts audiofile avi
bash-completion bcmath berkdb bitmap-fonts bluetooth bmp bzip2 caps cdr crypt
cups curl db2 dba dbase dbm dio doc dv dvd dvdr dvdread emacs emul-linux-x86
encode esd ethereal examples fam fastcgi ffmpeg flash font-server fortran ftp gd
gdbm gif gmp gpm gps gstreamer gtk gtk2 ieee1394 imagemagick imlib ipv6 java jp2
jpeg kde libwww lzw lzw-tiff mad mine mozilla mp3 mpeg msql mysqlli ncurses nls
nptl nptlonly ogg oggvorbis opengl oracle oscar oss pam perl png python qt
quicktime readline ruby samba sdl sockets spell spl ssl tcltk tcpd theora
threads tiff tokenizer truetype truetype-fonts type1-fonts unicode usb
userlocales verbose vorbis wifi win43codecs xine xinerama xml xml2 xmms xpm
xrandr xv xvid zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS




Comment 8


Luca Barbato






          2005-08-04 11:34:37 UTC
        

Cannot reproduce the issue, reopen if you can tell me how and/or you are
experiencing it again









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

