Title: 138219 – dev-libs/gmp-4.2.1 wont compile
URL: https://bugs.gentoo.org/show_bug.cgi?id=138219

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 138219
dev-libs/gmp-4.2.1 wont compile
Last modified: 2006-06-27 11:30:08 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 138219 
      - dev-libs/gmp-4.2.1 wont compile


Summary:
dev-libs/gmp-4.2.1 wont compile
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Library

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:









Duplicates (1):
    

138217

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2006-06-27 09:04 UTC by Darren Dale





      Modified:
    
2006-06-27 11:30 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



eva









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Darren Dale





          2006-06-27 09:04:51 UTC
        

I'm getting an error when I try to compile gmp-4.2.1:

/usr/lib/gcc/x86_64-pc-linux-gnu/4.1.1/../../../../x86_64-pc-linux-gnu/bin/ld: .libs/assert.o: relocation R_X86_64_32 against `a local symbol' can not be used when making a shared object; recompile with -fPIC
.libs/assert.o: could not read symbols: Bad value
collect2: ld returned 1 exit status
make[2]: *** [libgmp.la] Error 1
make[2]: Leaving directory `/var/tmp/portage/gmp-4.2.1/work/gmp-4.2.1'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/gmp-4.2.1/work/gmp-4.2.1'
make: *** [all] Error 2



here's my emerge info:

Portage 2.1.1_pre1-r4 (default-linux/amd64/2006.0, gcc-4.1.1/amd64-vanilla, glibc-2.4-r3, 2.6.16-gentoo-r9 x86_64)
=================================================================
System uname: 2.6.16-gentoo-r9 x86_64 AMD Athlon(tm) 64 Processor 3000+
Gentoo Base System version 1.12.1
dev-lang/python:     2.4.3-r1
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.60
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r2, 2.17
sys-devel/gcc-config: 2.0.0_rc1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.16
ACCEPT_KEYWORDS="amd64 ~amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -march=k8 -mtune=k8 -pipe -fomit-frame-pointer -fpermissive"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/eselect/compiler /etc/gconf /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c"
CXXFLAGS="-O2 -march=k8 -mtune=k8 -pipe -fomit-frame-pointer -fpermissive"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.namerica.gentoo.org/gentoo-portage"
USE="amd64 X aac acl alsa atlas avi bash-completion berkdb bitmap-fonts blas bzip2 cairo cblas cdr cli crypt ctype cups doc dri dvd dvdr eds emboss encode examples f77 fftw firefox foomaticdb foomativdb fortran gif gimpprint gpm gstreamer gtk gtk2 hal imagemagick imap imlib isdnlog java jpeg jpeg2k kde lapack ldap lzw lzw-tiff mime mmap mozilla mozsvg mp3 mpeg multislot ncurses nptl nptlonly nsplugin opengl oss pam pcre pdf pdflib perl pic png ppds pppd python qt qt3 qt4 quicktime readline reflection rss sdl session spell spl ssl subversion svg symlink tcltk tcpd tetex threads tiff truetype truetype-fonts type1-fonts unicode usb winbind wxwindows xfs xinerama xorg xpm xv zlib elibc_glibc input_devices_keyboard input_devices_mouse kernel_linux userland_GNU video_cards_ati video_cards_vga"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Ahmed Ammar (RETIRED)






          2006-06-27 09:17:51 UTC
        

try;
CFLAGS="-O2 -march=k8 -pipe" CXXFLAGS="-O2 -march=k8 -pipe" emerge -v gmp

I had issues with gmp and db with none standard cflags.




Comment 2


Gilles Dartiguelongue (RETIRED)






          2006-06-27 09:41:31 UTC
        

*** Bug 138217 has been marked as a duplicate of this bug. ***




Comment 3


Darren Dale





          2006-06-27 10:11:30 UTC
        

(In reply to comment #1)
> try;
> CFLAGS="-O2 -march=k8 -pipe" CXXFLAGS="-O2 -march=k8 -pipe" emerge -v gmp
> 
> I had issues with gmp and db with none standard cflags.
> 

Thank you, that worked.




Comment 4


Jakub Moc (RETIRED)






          2006-06-27 11:30:08 UTC
        

Closing then.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

