Title: 142150 – amarok 1.3.8 and amarok 1.4.0a-r1 fail to emerge
URL: https://bugs.gentoo.org/show_bug.cgi?id=142150

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 142150
amarok 1.3.8 and amarok 1.4.0a-r1 fail to emerge
Last modified: 2006-07-30 15:05:15 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 142150 
      - amarok 1.3.8 and amarok 1.4.0a-r1 fail to emerge


Summary:
amarok 1.3.8 and amarok 1.4.0a-r1 fail to emerge
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-07-29 23:11 UTC by Rafal Andrzejczak





      Modified:
    
2006-07-30 15:05 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Rafal Andrzejczak





          2006-07-29 23:11:21 UTC
        

gehirn amarok # emerge --info
Portage 2.1-r1 (default-linux/amd64/2006.0, gcc-3.4.6, glibc-2.3.6-r4, 2.6.17-gentoo-r4 x86_64)
=================================================================
System uname: 2.6.17-gentoo-r4 x86_64 AMD Athlon(tm) 64 Processor 3000+
Gentoo Base System version 1.6.15
app-admin/eselect-compiler: [Not Present]
dev-lang/python:     2.4.3-r1
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.13-r3
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=athlon64 -msse3 -Os -pipe -fomit-frame-pointer"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/gconf /etc/revdep-rebuild /etc/terminfo"
CXXFLAGS="-march=athlon64 -msse3 -Os -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://mirror.switch.ch/ftp/mirror/gentoo/ http://gentoo.po.opole.pl http://gentoo.ITDNet.net/gentoo http://pandemonium.tiscali.de/pub/gentoo/"
LANG="pl_PL"
LDFLAGS="-Wl,-O1"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X alsa amd64 apache2 apm asf avi berkdb bitmap-fonts cdr cli crypt custom-cflags divx4linux dlloader dri dvb dvd dvdr emboss encode exif flac fortran ft gcj gdbm gif glx gnutls gphoto2 gpm gstreamer gtk gtk2 imlib ipv6 isdnlog jabber java jpeg libwww lzw lzw-tiff mad motif mp3 mpeg ncurses nls nptl objc ogg opengl oss pam pcre pdflib perl png pppd python qt qt3 qt4 quicktime readline reflection scanner sdl session spell spl ssl tcpd theora tiff truetype truetype-fonts type1-fonts unicode usb vorbis xml2 xmms xorg xpm xv xvid zlib elibc_glibc input_devices_keyboard input_devices_mouse input_devices_evdev kernel_linux userland_GNU"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LC_ALL, LINGUAS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY

Error looks like the one in Krusader ([Bug 139073] kde-misc/krusader-1.70.0 fails to emerge with moc file error), but the workaround used for it doesn't work here (in version 1.3.8, I'll try it with 1.4.0a-r1 too in a moment...):

x86_64-pc-linux-gnu-g++: /usr/lib64/libGL.so: No such file or directory
make[4]: *** [libamarok.la] B&#322;&#261;d 1
make[4]: Leaving directory `/var/tmp/portage/amarok-1.4.0a-r1/work/amarok-1.4.0/amarok/src'
make[3]: *** [all-recursive] B&#322;&#261;d 1
make[3]: Leaving directory `/var/tmp/portage/amarok-1.4.0a-r1/work/amarok-1.4.0/amarok/src'
make[2]: *** [all-recursive] B&#322;&#261;d 1
make[2]: Leaving directory `/var/tmp/portage/amarok-1.4.0a-r1/work/amarok-1.4.0/amarok'
make[1]: *** [all-recursive] B&#322;&#261;d 1
make[1]: Leaving directory `/var/tmp/portage/amarok-1.4.0a-r1/work/amarok-1.4.0'
make: *** [all] B&#322;&#261;d 2

!!! ERROR: media-sound/amarok-1.4.0a-r1 failed.
Call stack:
  ebuild.sh, line 1539:   Called dyn_compile
  ebuild.sh, line 939:   Called src_compile
  amarok-1.4.0a-r1.ebuild, line 81:   Called kde_src_compile
  kde.eclass, line 164:   Called kde_src_compile 'all'
  kde.eclass, line 323:   Called kde_src_compile 'myconf' 'configure' 'make'
  kde.eclass, line 319:   Called die

!!! died running emake, kde_src_compile:make
!!! If you need support, post the topmost build error, and the call stack if relevant.

I don't know where this libGL.so belongs, but opengl is here...
*  virtual/opengl
      Latest version available: 7.0
      Latest version installed: 7.0




Comment 1


Rafal Andrzejczak





          2006-07-30 00:28:09 UTC
        

The very same error occurs in version 1.4.1-r3, regardless of using or not using Krusader workaround.




Comment 2


Jakub Moc (RETIRED)






          2006-07-30 03:52:08 UTC
        

Your opengl is broken, has nothing to do w/ amarok. Run eselect opengl set xorg-x11 (or nvidia or whatever else you are using).





Comment 3


Rafal Andrzejczak





          2006-07-30 15:05:15 UTC
        

Not broken, and it really isn't amarok's thing. It occured to be wrong naming of those files. Amarok wanted /usr/lib64/libGL.so but it was named /usr/lib64/libGL.so.1.0, so symlink made it work. Not Amarok's bug, yet may happen, so check this.
Of course eselect would do the same as far as i know.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

