Title: 135815 – xen-3.0.2 builds fails with gcc-4.0.1-r1
URL: https://bugs.gentoo.org/show_bug.cgi?id=135815

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 135815
xen-3.0.2 builds fails with gcc-4.0.1-r1
Last modified: 2006-06-07 03:01:25 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 135815 
      - xen-3.0.2 builds fails with gcc-4.0.1-r1


Summary:
xen-3.0.2 builds fails with gcc-4.0.1-r1
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Chris Bainbridge (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-06-06 13:02 UTC by petergun





      Modified:
    
2006-06-07 03:01 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Build breakage information

              (xen-3.0.2-gcc4.1.0-r1-build.txt,4.99 KB,
                text/plain)

            
2006-06-06 13:03 UTC,

            petergun




Details





Basic C(XX) , same result

              (plane-jane.txt,4.98 KB,
                text/plain)

            
2006-06-06 18:16 UTC,

            petergun




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


petergun





          2006-06-06 13:02:29 UTC
        

localhost / # gcc -v
Using built-in specs.
Target: i686-pc-linux-gnu
Configured with: /var/tmp/portage/gcc-4.1.0-r1/work/gcc-4.1.0/configure --prefix=/usr --bindir=/usr/i686-pc-linux-gnu/gcc-bin/4.1.0 --includedir=/usr/lib/gcc/i686-pc-linux-gnu/4.1.0/include --datadir=/usr/share/gcc-data/i686-pc-linux-gnu/4.1.0 --mandir=/usr/share/gcc-data/i686-pc-linux-gnu/4.1.0/man --infodir=/usr/share/gcc-data/i686-pc-linux-gnu/4.1.0/info --with-gxx-include-dir=/usr/lib/gcc/i686-pc-linux-gnu/4.1.0/include/g++-v4 --host=i686-pc-linux-gnu --build=i686-pc-linux-gnu --disable-altivec --enable-nls --without-included-gettext --with-system-zlib --disable-checking --disable-werror --disable-libunwind-exceptions --disable-multilib --disable-libmudflap --disable-libssp --disable-libgcj --enable-languages=c,c++,fortran --enable-shared --enable-threads=posix --enable-__cxa_atexit --enable-clocale=gnu
Thread model: posix
gcc version 4.1.0 (Gentoo 4.1.0-r1)

localhost / # emerge --info
Portage 2.1_rc3-r5 (default-linux/x86/2006.0, gcc-4.1.0, glibc-2.4-r3, 2.6.16-reiser4-r9 i686)
=================================================================
System uname: 2.6.16-reiser4-r9 i686 Pentium III (Coppermine)
Gentoo Base System version 1.6.14
ccache version 2.3 [disabled]
dev-lang/python:     2.4.2
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     2.3
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1-r2
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=i686 -O2 -fomit-frame-pointer -pipe -mno-tls-direct-seg-refs"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc"
CONFIG_PROTECT_MASK="/etc/gconf /etc/splash /etc/terminfo /etc/env.d"
CXXFLAGS="-march=i686 -O2 -fomit-frame-pointer -pipe -mno-tls-direct-seg-refs -fvisibility-inlines-hidden"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict userpriv usersandbox"
GENTOO_MIRRORS="http://adelie.polymtl.ca/"
LDFLAGS="-Wl,-O1 -Wl,--sort-common -s"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X alsa apache2 apm arts avi berkdb bitmap-fonts cli crypt cups dri eds emboss encode esd foomaticdb fortran gdbm gif gnome gpm gstreamer gtk gtk2 imlib ipv6 isdnlog jpeg kde libg++ libwww mad mikmod motif mp3 mpeg ncurses nls nptl nptlonly ogg opengl oss pcre pdflib perl png pppd python qt quicktime readline reflection sdl session spell spl ssl tcpd truetype truetype-fonts type1-fonts udev vorbis xml xmms xorg xv zlib elibc_glibc kernel_linux userland_GNU"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LINGUAS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


petergun





          2006-06-06 13:03:36 UTC
        

Created attachment 88555 [details]
Build breakage information




Comment 2


Jakub Moc (RETIRED)






          2006-06-06 14:38:31 UTC
        

-fvisibility-inlines-hidden is not supported, reopen if you can reproduce with sane C[XX]FLAGS.




Comment 3


petergun





          2006-06-06 18:16:58 UTC
        

Created attachment 88567 [details]
Basic C(XX) , same result




Comment 4


petergun





          2006-06-06 18:18:27 UTC
        

I have made these mods to make.conf, same prob.

CHOST="i686-pc-linux-gnu"
#
CFLAGS="-march=i686"
#
#CFLAGS="${CFLAGS} -O2"
#CFLAGS="${CFLAGS} -fomit-frame-pointer"
CFLAGS="${CFLAGS} -pipe"
CFLAGS="${CFLAGS} -mno-tls-direct-seg-refs"
#
CXXFLAGS="${CFLAGS}"
#CXXFLAGS="${CFLAGS} -fvisibility-inlines-hidden"





Comment 5


Chris Bainbridge (RETIRED)






          2006-06-07 03:01:25 UTC
        

Works for me with gcc-4.1.1.

It looks like either a bug with your gcc, or some problem with your system setup.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

