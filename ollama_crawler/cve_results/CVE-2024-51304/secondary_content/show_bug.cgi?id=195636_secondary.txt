Title: 195636 – sys-kernel/mm-sources-2.6.23-r1 missing Makefile
URL: https://bugs.gentoo.org/show_bug.cgi?id=195636

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 195636
sys-kernel/mm-sources-2.6.23-r1 missing Makefile
Last modified: 2008-02-24 21:39:41 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 195636 
      - sys-kernel/mm-sources-2.6.23-r1 missing Makefile


Summary:
sys-kernel/mm-sources-2.6.23-r1 missing Makefile
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Core system

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       major
      


Assignee:

Charlie Shepherd (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-10-12 16:48 UTC by GNUtoo





      Modified:
    
2008-02-24 21:39 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



kernel









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


GNUtoo





          2007-10-12 16:48:26 UTC
        

it seems that the kernel has no Makefile because make xconfig doesn't work

Reproducible: Always

Steps to Reproduce:
1.cd /usr/src/linux-2.6.23-mm1/
2.make xconfig
3.make menuconfig
4.make config

Actual Results:  
# make xconfig
Makefile:456: /usr/src/linux-2.6.23-mm1/arch//Makefile: No such file or directory
make: *** No rule to make target `/usr/src/linux-2.6.23-mm1/arch//Makefile'.  Stop.
# make menuconfig
Makefile:456: /usr/src/linux-2.6.23-mm1/arch//Makefile: No such file or directory
make: *** No rule to make target `/usr/src/linux-2.6.23-mm1/arch//Makefile'.  Stop.
# make config
Makefile:456: /usr/src/linux-2.6.23-mm1/arch//Makefile: No such file or directory
make: *** No rule to make target `/usr/src/linux-2.6.23-mm1/arch//Makefile'.  Stop.




Comment 1


Ingmar Vanhassel (RETIRED)






          2007-10-13 07:41:59 UTC
        

(In reply to comment #0)
> Makefile:456: /usr/src/linux-2.6.23-mm1/arch//Makefile: No such file or
> directory
> make: *** No rule to make target `/usr/src/linux-2.6.23-mm1/arch//Makefile'. 
> Stop.

This is happening because $ARCH is unset and not detected. I'm seeing the same problem  on =sys-kernel.vanilla-sources-2.6.23. Calling make from the topdir fails:
root@indigo:/usr/src/linux-2.6.23# make menuconfig
make: *** No rule to make target `menuconfig'.  Stop.

Ofcourse, all kernel modules from portage are barfing on it too :-)





Comment 2


GNUtoo





          2007-10-13 14:30:50 UTC
        

(In reply to comment #1)
> (In reply to comment #0)
> > Makefile:456: /usr/src/linux-2.6.23-mm1/arch//Makefile: No such file or
> > directory
> > make: *** No rule to make target `/usr/src/linux-2.6.23-mm1/arch//Makefile'. 
> > Stop.
> 
> This is happening because $ARCH is unset and not detected. I'm seeing the same
> problem  on =sys-kernel.vanilla-sources-2.6.23. Calling make from the topdir
> fails:
> root@indigo:/usr/src/linux-2.6.23# make menuconfig
> make: *** No rule to make target `menuconfig'.  Stop.
> 
> Ofcourse, all kernel modules from portage are barfing on it too :-)
> 

yes ARCH is not set:
# echo $ARCH

but make xconfig in others kernel work fine...what should i do




Comment 3


GNUtoo





          2007-10-13 14:33:42 UTC
        

ARCH="i386" make xconfig works...
but i wonder how to push the per-arch variable in /etc/env.d...
(mabe an eclass...i realy don't know)




Comment 4


Daniel Drake (RETIRED)






          2008-02-24 21:39:41 UTC
        

the kernel attempts to autodetect the arch, it doesn't read from the environment unless it has to

we don't support mm-sources so bugs like this should go to LKML or similar









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

