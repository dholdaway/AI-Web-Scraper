Title: 243144 – [texlive] =dev-texlive/texlive-formatsextra-2007 emerge fails
URL: https://bugs.gentoo.org/show_bug.cgi?id=243144

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 243144
[texlive] =dev-texlive/texlive-formatsextra-2007 emerge fails
Last modified: 2008-10-27 15:15:35 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 243144 
      - [texlive] =dev-texlive/texlive-formatsextra-2007 emerge fails


Summary:
[texlive] =dev-texlive/texlive-formatsextra-2007 emerge fails
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       major
      


Assignee:

Alexis Ballier








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-10-21 20:56 UTC by Kobboi





      Modified:
    
2008-10-27 15:15 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



tex









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




texconfig output

              (texconfig.txt,3.41 KB,
                text/plain)

            
2008-10-25 08:57 UTC,

            Kobboi




Details





texmf directory listing

              (texmf.txt,802 bytes,
                text/plain)

            
2008-10-25 08:57 UTC,

            Kobboi




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Kobboi





          2008-10-21 20:56:49 UTC
        

The emerge of texlive 

[ebuild  N    ] dev-texlive/texlive-formatsextra-2007  USE="-doc" 0 kB
[ebuild  N    ] dev-texlive/texlive-science-2007  USE="-doc" 0 kB
[ebuild  N    ] dev-texlive/texlive-latexextra-2007  USE="-doc" 0 kB
[ebuild  N    ] dev-texlive/texlive-mathextra-2007  USE="-doc" 0 kB
[ebuild  N    ] dev-texlive/texlive-bibtexextra-2007  USE="-doc" 0 kB
[ebuild  N    ] dev-tex/chktex-1.6.4  USE="-debug -doc" 0 kB
[ebuild   R   ] app-text/texlive-2007-r3  USE="X extra* png pstricks* science* xml -cjk -context -cyrillic -doc -games -graphics -humanities -jadetex -music -omega -publishers -tex4ht -xetex" LINGUAS="en nl -af -ar -bg -bn -bo -cs -cy -da -de -el -en_GB -eo -es -et -fi -fr -he -hi -hr -hsb -hu -hy -id -is -it -ja -ko -la -ml -mn -no -pl -pt -ro -ru -sk -sl -sr -sv -ta -th -tr -uk -vi -zh" 0 kB

fails at the dev-texlive/texlive-formatsextra-2007, with:

(/var/tmp/portage/dev-texlive/texlive-formatsextra-2007/work/texmf-dist/tex/epl
ain/eplain.ini (/usr/share/texmf-dist/tex/generic/babel/bplain.tex
(/usr/share/texmf-dist/tex/plain/base/plain.tex
Preloading the plain format: codes, registers, parameters, fonts, more fonts,
macros, math definitions, output routines, hyphenation
(/usr/share/texmf-dist/tex/generic/babel/hyphen.cfg
(/usr/share/texmf-dist/tex/generic/babel/plain.def)
I couldn't find the file language.dat, I will try the file hyphen.tex
! I can't find file `hyphen.tex'.
<to be read again> 
                   \relax 
l.343   \input hyphen.tex\relax
                               
Please type another input file name: 
! Emergency stop.
<to be read again> 
                   \relax 
l.343   \input hyphen.tex\relax
                               
No pages of output.
Transcript written on eplain.log.
Error: `pdftex -ini  -jobname=eplain -progname=eplain -translate-file=cp227.tcx *eplain.ini' failed



Reproducible: Always




Comment 1


Wormo (RETIRED)






          2008-10-22 18:20:42 UTC
        

Please post your 'emerge --info' output, and also the output of 'qlist -IUv texlive' (that second command requires you have app-portage/portage-utils installed)




Comment 2


Kobboi





          2008-10-22 23:43:03 UTC
        

Thanks for your reply.

$ emerge --info

Portage 2.2_rc12 (default/linux/x86/2008.0/desktop, gcc-4.2.4, glibc-2.6.1-r0, 2.6.26-gentoo-r1 i686)
=================================================================
System uname: Linux-2.6.26-gentoo-r1-i686-Intel-R-_Pentium-R-_4_CPU_3.00GHz-with-glibc2.0
Timestamp of tree: Wed, 22 Oct 2008 23:05:01 +0000
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
ccache version 2.4 [enabled]
app-shells/bash:     3.2_p33
dev-java/java-config: 1.3.7, 2.1.6
dev-lang/python:     2.4.4-r14, 2.5.2-r7
dev-python/pycrypto: 2.0.1-r6
dev-util/ccache:     2.4-r7
dev-util/cmake:      2.4.8
sys-apps/baselayout: 2.0.0
sys-apps/openrc:     0.2.5
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.61-r2
sys-devel/automake:  1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.1-r1
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.23-r3
ACCEPT_KEYWORDS="x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium4 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/config /var/bind /var/lib/hsqldb"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/splash /etc/terminfo /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-O2 -march=pentium4 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="buildpkg ccache distlocks parallel-fetch preserve-libs protect-owned sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://gentoo.tiscali.nl/ http://ftp.snt.utwente.nl/pub/os/linux/gentoo http://mirror.ovh.net/gentoo-distfiles/"
LANG="C"
LDFLAGS="-Wl,-O1"
LINGUAS="en nl"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portage/local/layman/sunrise /usr/portage/local/layman/desktop-effects /usr/portage/local/layman/berkano /usr/portage/local/layman/gnome /usr/portage/local/layman/gentopia /usr/portage/local/layman/nouveau /home/christophe/Linux/Gentoo/Overlays/kobboi"
SYNC="rsync://10.0.0.4/gentoo-portage/"
USE="X acl acpi alsa avahi berkdb bluetooth branding bzip2 cairo cdr cli cracklib crypt cups dbus directfb dri dvd dvdr dvdread eds emboss encode esd evo fam fbcon fortran gdbm gif gnome gpm gstreamer gtk hal iconv ipv6 isdnlog jpeg kde kerberos ldap libnotify mad midi mikmod mmx mp3 mpeg mudflap ncurses nls nptl nptlonly ogg opengl openmp pam pcre pdf perl png ppds pppd python qt3 qt3support qt4 quicktime readline reflection sdl session spell spl sse sse2 ssl startup-notification svg sysfs tcpd tiff truetype unicode usb vorbis win32codecs x86 xml xorg xulrunner xv zlib" ALSA_CARDS="emu10k1" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="keyboard evdev mouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en nl" LIRC_DEVICES="hauppauge" USERLAND="GNU" VIDEO_CARDS="nv nvidia"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LC_ALL, MAKEOPTS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS

$ qlist -IUv texlive

app-text/texlive-2007-r3 (X linguas_en linguas_nl png xml)
app-text/texlive-core-2007-r13 (X)
dev-texlive/texlive-basic-2007
dev-texlive/texlive-documentation-base-2007
dev-texlive/texlive-fontsextra-2007-r1
dev-texlive/texlive-fontsrecommended-2007
dev-texlive/texlive-genericextra-2007
dev-texlive/texlive-genericrecommended-2007
dev-texlive/texlive-htmlxml-2007-r2
dev-texlive/texlive-langdutch-2007
dev-texlive/texlive-latex-2007
dev-texlive/texlive-latex3-2007
dev-texlive/texlive-latexrecommended-2007
dev-texlive/texlive-metapost-2007-r1
dev-texlive/texlive-plainextra-2007
dev-texlive/texlive-pstricks-2007
dev-texlive/texlive-psutils-2007
dev-texlive/texlive-texinfo-2007





Comment 3


Wormo (RETIRED)






          2008-10-24 20:47:52 UTC
        

Ok, this should be enough info for tex maintainers to start troubleshooting... 




Comment 4


Alexis Ballier






          2008-10-25 00:24:23 UTC
        

(In reply to comment #0)
> I couldn't find the file language.dat, I will try the file hyphen.tex
> ! I can't find file `hyphen.tex'.
(In reply to comment #2)
> dev-texlive/texlive-basic-2007


you should really have these files...

what's the output of each of these commands:
kpsewhich language.dat
texmf-update (run as root)
mktexlsr (run as root)
ls -R /etc/texmf
texconfig conf




Comment 5


Kobboi





          2008-10-25 08:57:22 UTC
        

Created attachment 169786 [details]
texconfig output




Comment 6


Kobboi





          2008-10-25 08:57:42 UTC
        

Created attachment 169788 [details]
texmf directory listing




Comment 7


Kobboi





          2008-10-25 08:58:20 UTC
        

(In reply to comment #4)

christophe@saive ~ $ kpsewhich language.dat
christophe@saive ~ $ sudo texmf-update
Configuring TeXLive ...
Generating /etc/texmf/web2c/texmf.cnf from /etc/texmf/texmf.d ...
Generating /etc/texmf/web2c/fmtutil.cnf from /etc/texmf/fmtutil.d ...
Generating /etc/texmf/web2c/updmap.cfg from /etc/texmf/updmap.d ...
Generating /etc/texmf/dvips/config/config.ps from /etc/texmf/dvips.d ...
Generating ls-R files
Generating format files ...
Generating font maps...

Use 'texconfig font ro' to disable font generation for users

christophe@saive ~ $ sudo mktexlsr
mktexlsr: Updating //etc/texmf/ls-R... 
mktexlsr: Updating //var/cache/fonts/ls-R... 
mktexlsr: Updating //var/lib/texmf/ls-R... 
mktexlsr: Updating /usr/share/texmf/ls-R... 
mktexlsr: Updating /usr/share/texmf-dist/ls-R... 
mktexlsr: Updating /usr/share/texmf-site/ls-R... 
mktexlsr: Done.
christophe@saive ~ $ ls -R /etc/texmf/
dvipdfm/   dvips.d/   ls-R       updmap.d/  web2c.d/   
dvips/     fmtutil.d/ texmf.d/   web2c/     xdvi/      
christophe@saive ~ $ ls -R /etc/texmf/ > texmf.txt
christophe@saive ~ $ texconfig conf > texconfig.txt






Comment 8


Alexis Ballier






          2008-10-25 09:07:38 UTC
        

(In reply to comment #7)
> (In reply to comment #4)
> 
> christophe@saive ~ $ kpsewhich language.dat

if this doesn't return anything, this is probably the root of the problem...
it should return:
/usr/share/texmf/tex/generic/config/language.dat

and this should have been installed by texlive-basic

does this file exist for you ? what has texlive-basic installed ?




Comment 9


Kobboi





          2008-10-25 09:45:23 UTC
        

The files in that directory are:

language.ne.dat   language.us       pdftex-dvi.tex    pdftexconfig.tex

although an equery shows me that at installation the following files were merged

/usr/share/texmf/tex/generic/config
/usr/share/texmf/tex/generic/config/language.dat
/usr/share/texmf/tex/generic/config/language.us




Comment 10


Alexis Ballier






          2008-10-25 09:47:52 UTC
        

(In reply to comment #9)
> The files in that directory are:
> 
> language.ne.dat   language.us       pdftex-dvi.tex    pdftexconfig.tex
> 
> although an equery shows me that at installation the following files were
> merged
> 
> /usr/share/texmf/tex/generic/config
> /usr/share/texmf/tex/generic/config/language.dat
> /usr/share/texmf/tex/generic/config/language.us
> 

may it be a problem with your filesystem ? does re-emerging texlive-basic fixes the issue ?





Comment 11


Kobboi





          2008-10-27 15:02:58 UTC
        

Re-emerging fixed the problem. I have not been messing around with the files, so I'm a bit at a loss about how this came to be. Maybe some other texlive related ebuild changed some stuff? Or maybe, as you suggested, it was just a filesystem inconsistency that caused the file to be dropped?




Comment 12


Alexis Ballier






          2008-10-27 15:15:35 UTC
        

(In reply to comment #11)
> Re-emerging fixed the problem. I have not been messing around with the files,
> so I'm a bit at a loss about how this came to be. Maybe some other texlive
> related ebuild changed some stuff? 

I don't think so; they can't overwrite other packages' files :)

> Or maybe, as you suggested, it was just a
> filesystem inconsistency that caused the file to be dropped?

I don't know... maybe you had a power outage while installing tl-basic and the files were in the vdb but not on the disk, the filesystem has a problem, etc. I really have no clue there, but if equery tells you the file is here and it's not, I doubt this is a texlive problem

maybe try a fsck or your disk just in case

setting as worksforme











Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

