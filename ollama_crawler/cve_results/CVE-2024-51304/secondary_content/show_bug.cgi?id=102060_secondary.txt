Title: 102060 – emerge xalan-c fails.  Missing linker option -lxerces-depdom?
URL: https://bugs.gentoo.org/show_bug.cgi?id=102060

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 102060
emerge xalan-c fails.  Missing linker option -lxerces-depdom?
Last modified: 2006-10-21 15:38:54 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 102060 
      - emerge xalan-c fails.  Missing linker option -lxerces-depdom?


Summary:
emerge xalan-c fails.  Missing linker option -lxerces-depdom?
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Library

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

SpanKY








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-08-10 15:02 UTC by Klaus Buchholzer





      Modified:
    
2006-10-21 15:38 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Klaus Buchholzer





          2005-08-10 15:02:55 UTC
        

This is the second time (second box) where the emerge xalan-c does not work as
expected.

bash$ emerge xalan-c
...
...
ln -fs libxalan-c.so.17.0 ../../lib/libxalan-c.so
ln -fs libxalan-c.so.17.0 ../../lib/libxalan-c.so.17
i686-pc-linux-gnu-g++ -O2 -DNDEBUG      -Wall -fPIC -DLINUX -D_REENTRANT
-DXALAN_INMEM_MSG_LOADER -c
-I/var/tmp/portage/xalan-c-1.7.0/work/xml-xalan/c/src
-I/var/tmp/portage/xalan-c-1.7.0/work/xml-xalan/c/include -I../../nls/include
-I/usr/include/xercesc/src
/ -I/usr/include/xercesc/include/xercesc -I/usr/include/xercesc/include/  -o
../../obj/process.o
/var/tmp/portage/xalan-c-1.7.0/work/xml-xalan/c/src/xalanc/TestXSLT/process.cpp
i686-pc-linux-gnu-g++ -DLINUX -fPIC -DXALAN_INMEM_MSG_LOADER   \
 -L../../lib -L/var/tmp/portage/xalan-c-1.7.0/work/xml-xalan/c/lib -lxalan-c -lm
 -lpthread  -L/usr/include/xercesc/lib -lxerces-c -L../../lib -lxalanMsg
../../obj/process.o -o ../../bin/testXSLT
../../lib/libxalan-c.so: undefined reference to
`xercesc_2_6::DOM_Element::~DOM_Element [in-charge]()'
../../lib/libxalan-c.so: undefined reference to
`xercesc_2_6::DOM_Entity::hasChildNodes() const'
../../lib/libxalan-c.so: undefined reference to
`xercesc_2_6::DOM_Element::setAttributeNodeNS(xercesc_2_6::DOM_Attr)'
../../lib/libxalan-c.so: undefined reference to
`xercesc_2_6::DOM_CharacterData::insertData(unsigned, xercesc_2_6::DOMString
const&)'
../../lib/libxalan-c.so: undefined reference to
`xercesc_2_6::DOM_CDATASection::~DOM_CDATASection [in-charge]()'
...
TONS OF MISSING SYMBOLS
...
collect2: ld returned 1 exit status
make[1]: *** [../../bin/testXSLT] Error 1
make[1]: Leaving directory
`/var/tmp/portage/xalan-c-1.7.0/work/xml-xalan/c/src/xalanc'
make: *** [all] Error 2

!!! ERROR: dev-libs/xalan-c-1.7.0 failed.
!!! Function src_compile, Line 28, Exitcode 2
!!! (no error message)
!!! If you need support, post the topmost build error, NOT this status message.

I modified file:
/usr/portage/dev-libs/xalan-c/xalan-c-1.7.0.ebuild

and changed from:
./runConfigure -p linux -c "$(tc-getCC)" -x "$(tc-getCXX)" -P /usr || die
to:
./runConfigure -p linux -c "$(tc-getCC)" -x "$(tc-getCXX)" -P /usr -l
"-lxerces-depdom" || die

Regenerated the digests for this ebuild.  And the emerge xalan-c works.

Now i don't know if i have a polluted environment or does the ebuild (or even
the configure.in, ...) need this additional linker option?

Many thanks.  No need to hurry from my side.  I have now a working xalan-c.

klaus/germany

Reproducible: Always
Steps to Reproduce:
1. emerge xalan-c
2. vi /usr/portage/dev-libs/xalan-c/xalan-c-1.7.0.ebuild
and change the line to:
./runConfigure -p linux -c "$(tc-getCC)" -x "$(tc-getCXX)" -P /usr -l
"-lxerces-depdom" || die
3. emerge xalan-c works now!




Comment 1


SpanKY






          2006-10-21 15:38:54 UTC
        

1.10.0 should work fine









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

