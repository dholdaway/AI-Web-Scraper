Title: 271268 – dev-java/sun-java3d-bin : impossible to build
URL: https://bugs.gentoo.org/show_bug.cgi?id=271268

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 271268
dev-java/sun-java3d-bin : impossible to build
Last modified: 2009-07-11 21:37:45 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 271268 
      - dev-java/sun-java3d-bin : impossible to build


Summary:
dev-java/sun-java3d-bin : impossible to build
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Java

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Java team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-05-26 06:52 UTC by Michal Špondr





      Modified:
    
2009-07-11 21:37 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Patch for missing archive bug

              (sun-java3d-bin-1.3.2-r1.ebuild.patch,660 bytes,
                patch)

            
2009-07-11 21:37 UTC,

            Jerry McDonald




Details
            | Diff





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Michal Špondr





          2009-05-26 06:52:45 UTC
        

If I try to install this package, it ends up with a mistake. I've already download the java3d-1_3_2-linux-amd64.zip as recommended by emerge, but it seems to need another package.
Perhaps it's an ebuild bug, not a Java bug, but I decided to put it here.

Reproducible: Always

Steps to Reproduce:
1. Download java3d-1_3_2-linux-amd64.zip according to emerge:
 * Please download java3d-1_3_2-linux-amd64.zip from
 * https://j3d-core.dev.java.net/ and place it in /usr/portage/distfiles
2. emerge sun-java3d-bin

Actual Results:  
>>> Emerging (1 of 1) dev-java/sun-java3d-bin-1.3.2-r1
 * java3d-1_3_2-linux-amd64.zip RMD160 SHA1 SHA256 size ;-) ...                                                                                        [ ok ]
 * checking ebuild checksums ;-) ...                                                                                                                   [ ok ]
 * checking auxfile checksums ;-) ...                                                                                                                  [ ok ]
 * checking miscfile checksums ;-) ...                                                                                                                 [ ok ]
>>> Unpacking source...
>>> Unpacking java3d-1_3_2-linux-amd64.zip to /home/m1c4a1/portage/portage/dev-java/sun-java3d-bin-1.3.2-r1/work
unzip:  cannot find or open j3d-132-linux-amd64.zip, j3d-132-linux-amd64.zip.zip or j3d-132-linux-amd64.zip.ZIP.
 * 
 * ERROR: dev-java/sun-java3d-bin-1.3.2-r1 failed.
 * Call stack:
 *               ebuild.sh, line   48:  Called src_unpack
 *             environment, line 3979:  Called die
 * The specific snippet of code:
 *       unzip -q j3d-132-linux-${ARCH}.zip || die
 *  The die message:
 *   (no error message)

Expected Results:  
Installed sun-java3d-bin

GENTOO_VM=  CLASSPATH="" JAVA_HOME=""
JAVACFLAGS="" COMPILER=""

# emerge --info
Portage 2.1.6.11 (default/linux/amd64/2008.0/desktop, gcc-4.3.2, glibc-2.8_p20080602-r1, 2.6.28-gentoo-r5 x86_64)
=================================================================
System uname: Linux-2.6.28-gentoo-r5-x86_64-Intel-R-_Core-TM-2_Duo_CPU_T7250_@_2.00GHz-with-glibc2.2.5
Timestamp of tree: Mon, 25 May 2009 17:45:02 +0000
app-shells/bash:     3.2_p39
dev-java/java-config: 2.1.7
dev-lang/python:     2.5.4-r2
dev-python/pycrypto: 2.0.1-r8
dev-util/cmake:      2.6.2-r1
sys-apps/baselayout: 1.12.11.1
sys-apps/sandbox:    1.6-r2
sys-devel/autoconf:  2.13, 2.63
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.9.6-r2, 1.10.2
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.27-r2
ACCEPT_KEYWORDS="amd64"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -pipe -march=core2"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-O2 -pipe -march=core2"
DISTDIR="/usr/portage/distfiles"
FEATURES="distlocks fixpackages parallel-fetch protect-owned sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LANG="cs_CZ.UTF8"
LC_ALL="cs_CZ.UTF8"
LDFLAGS="-Wl,-O1"
LINGUAS="cs"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/home/m1c4a1/portage"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="X acpi alsa amd64 ao audiofile bindist bluetooth branding bzip2 cairo cddb cdr cli cracklib crypt cups dbus dri dvd dvdr encode flac gdbm geoip gif glut gnome gnutls gpm gstreamer gtk gtk2 hal iconv imagemagick isdnlog jpeg jpeg2k libnotify lm_sensors mad midi mikmod mmap mmx mp3 mpeg mplayer mudflap multilib ncurses nls nptl nptlonly ogg openal opengl openmp pam pcre pdf plotutils png pppd qt3 qt3support qt4 quicktime readline reflection sdl session sharedmem smartcard spl sqlite sse sse2 ssl ssse3 svg sysfs tcpd threads trayicon truetype type1 unicode usb vim-syntax vorbis wifi xinerama xml xorg xulrunner xv zlib" ALSA_CARDS="hda-intel" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="evdev keyboard mouse synaptics" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="cs" USERLAND="GNU" VIDEO_CARDS="nvidia"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY




Comment 1


Michal Špondr





          2009-05-26 06:55:23 UTC
        

As you can see on https://java3d.dev.java.net/binary-builds-old.html , there is no "j3d-132-linux-amd64.zip, j3d-132-linux-amd64.zip.zip or j3d-132-linux-amd64.zip.ZIP" needed by ebuild.




Comment 2


Justin Lecher (RETIRED)






          2009-05-26 07:02:34 UTC
        

Make sure that you donwnloaded the right version.




Comment 3


Michal Špondr





          2009-05-26 10:04:19 UTC
        

I've downloaded the "java3d-1_3_2-linux-amd64.zip" as needed by emerge ( http://download.java.net/media/java3d/builds/release/1.3.2/java3d-1_3_2-linux-amd64.zip ). I think if I haven't download the correct version, it would end with a checksum error.




Comment 4


Jerry McDonald





          2009-07-11 21:37:45 UTC
        

Created attachment 197587 [details, diff]
Patch for missing archive bug

The bug reported by the original poster is valid and is caused by a broken ebuild.  Compare the ebuild for this version to newer ebuilds.  Please find attached a patch which fixes this issue.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

