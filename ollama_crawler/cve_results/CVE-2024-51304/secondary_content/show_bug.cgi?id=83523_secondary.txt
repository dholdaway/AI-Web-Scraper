Title: 83523 – Asterisk regular ebuild stops with need newer version of libpri
URL: https://bugs.gentoo.org/show_bug.cgi?id=83523

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 83523
Asterisk regular ebuild stops with need newer version of libpri
Last modified: 2005-11-25 03:52:48 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 83523 
      - Asterisk regular ebuild stops with need newer version of libpri


Summary:
Asterisk regular ebuild stops with need newer version of libpri
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

voip herd (OBSOLETE)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-02-27 23:37 UTC by Florian Manschwetus





      Modified:
    
2005-11-25 03:52 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Florian Manschwetus





          2005-02-27 23:37:46 UTC
        

exact ebuild is: net-misc/asterisk-1.0.5-r1

I checked my system for the history of libpri, I found a downgrade:
root@AnubisMobile /home/florian 08:30:09 Mo Feb 28 # genlop libpri
 * net-libs/libpri

     Tue Nov 16 09:27:42 2004 >>> net-libs/libpri-0.4.0
     Tue Nov 16 11:10:30 2004 >>> net-libs/libpri-1.0.2
     Mon Jan 17 01:12:42 2005 >>> net-libs/libpri-0.4.0

but why it was downgradet without modifying the asterisk ebuild?

here the asterisk build history:
root@AnubisMobile /home/florian 08:34:11 Mo Feb 28 # genlop asterisk
 * net-misc/asterisk

     Tue Nov 16 11:44:55 2004 >>> net-misc/asterisk-1.0.2
     Sun Jan 16 16:47:47 2005 >>> net-misc/asterisk-1.0.3



Reproducible: Always
Steps to Reproduce:
1.emerge sync
2.emerge -vauD asterisk (I have done it first time in an emerge -vauD world)
3.

Actual Results:  
asterisk ebuild stops with need of newer version of libpri

Expected Results:  
completed install or warning of no unmasked package to satisfy the deps




Comment 1


Stefan Knoblich (RETIRED)






          2005-02-28 04:23:20 UTC
        

error messages?

emerge info output?




Comment 2


Florian Manschwetus





          2005-02-28 04:43:21 UTC
        

[ebuild     U ] net-misc/asterisk-1.0.5-r1 [1.0.3] +alsa -debug -doc +gtk +mmx +mysql -postgres -pri -resperl (-uclibc) -vmdbmysql -vmdbpostgres -zaptel 0 kB

.
.
.
gcc -shared -Xlinker -x -o chan_alsa.so chan_alsa.o -lasound -lm -ldl
gcc -c -pipe  -Wall -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations  -Iinclude -I../include -D_REENTRANT -D_GNU_SOURCE  -O2 -mcpu=i686 -pipe   -DZAPTEL_OPTIMIZATIONS  -DASTERISK_VERSION=\"1.0.5\" -DINSTALL_PREFIX=\"\" -DASTETCDIR=\"/etc/asterisk\" -DASTLIBDIR=\"/usr/lib/asterisk\" -DASTVARLIBDIR=\"/var/lib/asterisk\" -DASTVARRUNDIR=\"/var/run\" -DASTSPOOLDIR=\"/var/spool/asterisk\" -DASTLOGDIR=\"/var/log/asterisk\" -DASTCONFPATH=\"/etc/asterisk/asterisk.conf\" -DASTMODDIR=\"/usr/lib/asterisk/modules\" -DASTAGIDIR=\"/var/lib/asterisk/agi-bin\"     -DBUSYDETECT_MARTIN      -Wno-missing-prototypes -Wno-missing-declarations   -DZAPATA_PRI   -DIAX_TRUNKING   -DCRYPTO -fPIC  -o chan_zap.o chan_zap.c
chan_zap.c:59:2: #error "You need newer libpri"
distcc[16088] ERROR: compile chan_zap.c on 127.0.0.1 failed
make[1]: *** [chan_zap.o] Error 1
make[1]: Leaving directory `/var/tmp/portage/asterisk-1.0.5-r1/work/asterisk-1.0.5/channels'
make: *** [subdirs] Error 1

!!! ERROR: net-misc/asterisk-1.0.5-r1 failed.
!!! Function src_compile, Line 171, Exitcode 2
!!! Make failed
!!! If you need support, post the topmost build error, NOT this status message.

Bitte wenn du mir net glaubst das ich lesen kann




Comment 3


Florian Manschwetus





          2005-02-28 04:45:34 UTC
        

The genral question is why was libpri downgradet/remasked, so is it safe to emerge  a masked version to resolv the problem?




Comment 4


Stefan Knoblich (RETIRED)






          2005-02-28 06:19:40 UTC
        

you're not using pri (-pri), please unmerge libpri and try again.

everything >libpri-0.4.0 is unstable, it looks like you don't have
an entry in /etc/portage/package.keywords for libpri >0.4.0, w/o that entry
(or the discouraged use of ACCEPT_KEYWORDS="..") emerge will downgrade it




Comment 5


Daniel Black (RETIRED)






          2005-11-25 03:52:48 UTC
        

instructions above. 









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

