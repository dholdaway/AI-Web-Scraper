Title: 290728 – media-video/cinelerra-20090210: linking failed after ungrading media-libs/x264 to 0.0.20091021
URL: https://bugs.gentoo.org/show_bug.cgi?id=290728

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 290728
media-video/cinelerra-20090210: linking failed after ungrading media-libs/x264 to 0.0.20091021
Last modified: 2009-10-27 11:36:17 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 290728 
      - media-video/cinelerra-20090210: linking failed after ungrading media-libs/x264 to 0.0.20091021


Summary:
media-video/cinelerra-20090210: linking failed after ungrading media-libs/x26...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-10-27 11:32 UTC by DaggyStyle





      Modified:
    
2009-10-27 11:36 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


DaggyStyle





          2009-10-27 11:32:24 UTC
        

here is the snip:
/bin/sh ../libtool --tag=CXX   --mode=link x86_64-pc-linux-gnu-g++ -D_LARGEFILE_SOURCE -D_LARGEFILE64_SOURCE -D_FILE_OFFSET_BITS=64 -DHAVE_FIREWIRE     -DHAVE_ESOUND  -DHAVE_ALSA -DHAVE_OSS   -I/usr/include/mjpegtools -I/usr/include/mjpegtools/mpeg2enc -I/usr/include/mjpegtools/mplex   -pthread -I/usr/include/OpenEXR    -I/usr/include/libavcodec -I/usr/include/libswscale -DHAVE_SWSCALER -DPLUGIN_DIR=\"/usr/lib64/cinelerra\" -march=core2 -O2 -pipe -msse4.1 -export-dynamic -Wl,-O1 -o cinelerra aattachmentpoint.o aautomation.o aboutprefs.o adeviceprefs.o aedit.o aedits.o amodule.o apatchgui.o apluginarray.o aplugin.o apluginset.o arender.o asset.o assetedit.o assetpopup.o assetremove.o assets.o atrack.o attachmentpoint.o audioalsa.o audiocine.o audiodevice.o audiodvb.o audioesound.o audioidevice.o audioodevice.o audiooss.o auto.o autoconf.o automation.o autos.o awindow.o awindowgui.o awindowmenu.o batch.o batchrender.o bitspopup.o brender.o browsebutton.o byteorderpopup.o cache.o cachebase.o canvas.o canvastools.o channel.o channeldb.o channeledit.o channelpicker.o chantables.o clipedit.o commonrender.o confirmquit.o confirmsave.o cpanel.o cplayback.o ctimebar.o ctracking.o cursor.o cwindow.o cwindowgui.o cwindowtool.o dcoffset.o dcraw.o deleteallindexes.o devicedvbinput.o drivesync.o dvbtune.o edit.o edithandles.o editpanel.o editpopup.o edits.o edl.o edlsession.o exportedl.o fadeengine.o ffmpeg.o fileac3.o fileavi.o filebaseaudio.o filebase.o filebaseima4.o filebaseulaw.o file.o filecr2.o filedv.o fileogg.o fileexr.o fileformat.o filejpeg.o filelist.o filemov.o filempeg.o filepng.o filesndfile.o filetga.o filethread.o filetiff.o filevorbis.o filexml.o fileyuv.o floatauto.o floatautos.o formatcheck.o formatpopup.o formatpresets.o formattools.o framecache.o garbage.o gwindow.o gwindowgui.o indexfile.o indexthread.o intauto.o intautos.o interfaceprefs.o keyframe.o keyframehandles.o keyframepopup.o keyframes.o labeledit.o labelnavigate.o labels.o levelwindow.o levelwindowgui.o loadbalance.o loadfile.o loadmode.o localsession.o main.o mainclock.o maincursor.o mainerror.o mainindexes.o mainmenu.o mainprogress.o mainsession.o mainundo.o manualgoto.o maskauto.o maskautos.o maskengine.o mbuttons.o menuaeffects.o menueffects.o menuveffects.o meterpanel.o module.o mtimebar.o mwindow.o mwindowedit.o mwindowgui.o mwindowmove.o new.o newfolder.o overlayframe.o packagedispatcher.o packagerenderer.o packagingengine.o panauto.o panautos.o patchbay.o patchgui.o performanceprefs.o picture.o pipe.o playabletracks.o playback3d.o playbackconfig.o playbackengine.o playbackprefs.o playtransport.o pluginaclient.o pluginaclientlad.o pluginarray.o pluginautos.o plugin.o pluginclient.o plugindialog.o pluginpopup.o pluginserver.o pluginset.o plugintclient.o plugintoggles.o pluginvclient.o preferences.o preferencesthread.o question.o quit.o recconfirmdelete.o recordableatracks.o recordablevtracks.o recordaudio.o record.o recordconfig.o recordgui.o recordlabel.o recordmonitor.o recordprefs.o recordthread.o recordtransport.o recordvideo.o recordwindow.o removethread.o render.o renderengine.o renderfarm.o renderfarmclient.o renderprofiles.o resample.o resizetrackthread.o resourcepixmap.o resourcethread.o samplescroll.o savefile.o setformat.o sharedlocation.o shmemory.o sighandler.o splashgui.o statusbar.o theme.o threadexec.o threadfork.o threadindexer.o threadloader.o timebar.o timeentry.o tipwindow.o track.o trackcanvas.o tracking.o tracks.o trackscroll.o tracksedit.o transition.o transitionhandles.o transitionpopup.o transportque.o tunerserver.o undostackitem.o vattachmentpoint.o vautomation.o vdevicebase.o vdevicebuz.o vdevicedvb.o vdeviceprefs.o vdevicev4l.o vdevicev4l2.o vdevicev4l2jpeg.o vdevicex11.o vedit.o vedits.o videodevice.o viewmenu.o virtualaconsole.o virtualanode.o virtualconsole.o virtualnode.o virtualvconsole.o virtualvnode.o vmodule.o vpatchgui.o vplayback.o vpluginarray.o vplugin.o vpluginset.o vrender.o vtimebar.o vtrack.o vtracking.o vwindow.o vwindowgui.o wavecache.o yuvstream.o zoombar.o zoompanel.o audio1394.o avc1394control.o avc1394transport.o device1394input.o device1394output.o iec61883input.o iec61883output.o vdevice1394.o data/libimagedata.a ../mpeg2enc/libmpeg2enc.la ../toolame-02l/libtoolame.la ../quicktime/libquicktimehv.la ../guicast/libguicast.la ../libmpeg3/libmpeg3hv.la -logg   -lvorbis -lm -logg   -lvorbisenc -lvorbis -lm -logg   -lvorbisfile -lvorbis -lm -logg   -ltheora -logg    -pthread -lIlmImf -lz -lImath -lHalf -lIex -lIlmThread   -lsndfile -lpng -ljpeg -ltiff -lz -lesd    -lasound -lm -ldl -lpthread  -lavc1394 -lrom1394 -liec61883 -lraw1394   -lraw1394   -ldv -lm   -luuid -lmjpegutils   -lm -ldl -lpthread
libtool: link: x86_64-pc-linux-gnu-g++ -D_LARGEFILE_SOURCE -D_LARGEFILE64_SOURCE -D_FILE_OFFSET_BITS=64 -DHAVE_FIREWIRE -DHAVE_ESOUND -DHAVE_ALSA -DHAVE_OSS -I/usr/include/mjpegtools -I/usr/include/mjpegtools/mpeg2enc -I/usr/include/mjpegtools/mplex -pthread -I/usr/include/OpenEXR -I/usr/include/libavcodec -I/usr/include/libswscale -DHAVE_SWSCALER -DPLUGIN_DIR=\"/usr/lib64/cinelerra\" -march=core2 -O2 -pipe -msse4.1 -Wl,-O1 -o .libs/cinelerra aattachmentpoint.o aautomation.o aboutprefs.o adeviceprefs.o aedit.o aedits.o amodule.o apatchgui.o apluginarray.o aplugin.o apluginset.o arender.o asset.o assetedit.o assetpopup.o assetremove.o assets.o atrack.o attachmentpoint.o audioalsa.o audiocine.o audiodevice.o audiodvb.o audioesound.o audioidevice.o audioodevice.o audiooss.o auto.o autoconf.o automation.o autos.o awindow.o awindowgui.o awindowmenu.o batch.o batchrender.o bitspopup.o brender.o browsebutton.o byteorderpopup.o cache.o cachebase.o canvas.o canvastools.o channel.o channeldb.o channeledit.o channelpicker.o chantables.o clipedit.o commonrender.o confirmquit.o confirmsave.o cpanel.o cplayback.o ctimebar.o ctracking.o cursor.o cwindow.o cwindowgui.o cwindowtool.o dcoffset.o dcraw.o deleteallindexes.o devicedvbinput.o drivesync.o dvbtune.o edit.o edithandles.o editpanel.o editpopup.o edits.o edl.o edlsession.o exportedl.o fadeengine.o ffmpeg.o fileac3.o fileavi.o filebaseaudio.o filebase.o filebaseima4.o filebaseulaw.o file.o filecr2.o filedv.o fileogg.o fileexr.o fileformat.o filejpeg.o filelist.o filemov.o filempeg.o filepng.o filesndfile.o filetga.o filethread.o filetiff.o filevorbis.o filexml.o fileyuv.o floatauto.o floatautos.o formatcheck.o formatpopup.o formatpresets.o formattools.o framecache.o garbage.o gwindow.o gwindowgui.o indexfile.o indexthread.o intauto.o intautos.o interfaceprefs.o keyframe.o keyframehandles.o keyframepopup.o keyframes.o labeledit.o labelnavigate.o labels.o levelwindow.o levelwindowgui.o loadbalance.o loadfile.o loadmode.o localsession.o main.o mainclock.o maincursor.o mainerror.o mainindexes.o mainmenu.o mainprogress.o mainsession.o mainundo.o manualgoto.o maskauto.o maskautos.o maskengine.o mbuttons.o menuaeffects.o menueffects.o menuveffects.o meterpanel.o module.o mtimebar.o mwindow.o mwindowedit.o mwindowgui.o mwindowmove.o new.o newfolder.o overlayframe.o packagedispatcher.o packagerenderer.o packagingengine.o panauto.o panautos.o patchbay.o patchgui.o performanceprefs.o picture.o pipe.o playabletracks.o playback3d.o playbackconfig.o playbackengine.o playbackprefs.o playtransport.o pluginaclient.o pluginaclientlad.o pluginarray.o pluginautos.o plugin.o pluginclient.o plugindialog.o pluginpopup.o pluginserver.o pluginset.o plugintclient.o plugintoggles.o pluginvclient.o preferences.o preferencesthread.o question.o quit.o recconfirmdelete.o recordableatracks.o recordablevtracks.o recordaudio.o record.o recordconfig.o recordgui.o recordlabel.o recordmonitor.o recordprefs.o recordthread.o recordtransport.o recordvideo.o recordwindow.o removethread.o render.o renderengine.o renderfarm.o renderfarmclient.o renderprofiles.o resample.o resizetrackthread.o resourcepixmap.o resourcethread.o samplescroll.o savefile.o setformat.o sharedlocation.o shmemory.o sighandler.o splashgui.o statusbar.o theme.o threadexec.o threadfork.o threadindexer.o threadloader.o timebar.o timeentry.o tipwindow.o track.o trackcanvas.o tracking.o tracks.o trackscroll.o tracksedit.o transition.o transitionhandles.o transitionpopup.o transportque.o tunerserver.o undostackitem.o vattachmentpoint.o vautomation.o vdevicebase.o vdevicebuz.o vdevicedvb.o vdeviceprefs.o vdevicev4l.o vdevicev4l2.o vdevicev4l2jpeg.o vdevicex11.o vedit.o vedits.o videodevice.o viewmenu.o virtualaconsole.o virtualanode.o virtualconsole.o virtualnode.o virtualvconsole.o virtualvnode.o vmodule.o vpatchgui.o vplayback.o vpluginarray.o vplugin.o vpluginset.o vrender.o vtimebar.o vtrack.o vtracking.o vwindow.o vwindowgui.o wavecache.o yuvstream.o zoombar.o zoompanel.o audio1394.o avc1394control.o avc1394transport.o device1394input.o device1394output.o iec61883input.o iec61883output.o vdevice1394.o -pthread -Wl,--export-dynamic  data/libimagedata.a ../mpeg2enc/.libs/libmpeg2enc.a ../toolame-02l/.libs/libtoolame.a ../quicktime/.libs/libquicktimehv.so -lavcodec -lpostproc -lswscale /usr/lib64/libmp3lame.so /usr/lib64/libfaad.so /usr/lib64/libfaac.so /var/tmp/portage/media-video/cinelerra-20090210/work/cinelerra-20090210/libmpeg3/.libs/libmpeg3hv.so -lx264 ../guicast/.libs/libguicast.so -lGLU -lGL /usr/lib64/libXxf86vm.so /usr/lib64/libXv.so /usr/lib64/libXext.so /usr/lib64/libX11.so /usr/lib64/libxcb.so /usr/lib64/libXau.so /usr/lib64/libXdmcp.so ../libmpeg3/.libs/libmpeg3hv.so /usr/lib64/liba52.so /usr/lib64/libvorbisfile.so /usr/lib64/libtheora.so /usr/lib64/libIlmImf.so /usr/lib64/libImath.so /usr/lib64/libHalf.so /usr/lib64/libIlmThread.so /usr/lib64/libIex.so /usr/lib64/libsndfile.so -L/usr/lib /usr/lib64/libFLAC.so /usr/lib64/libvorbisenc.so /usr/lib64/libvorbis.so -logg /usr/lib64/libpng12.so /usr/lib64/libtiff.so /usr/lib64/libjpeg.so -lc -lz /usr/lib64/libesd.so /usr/lib64/libaudiofile.so /usr/lib64/libasound.so -lrt /usr/lib64/libavc1394.so /usr/lib64/librom1394.so /usr/lib64/libiec61883.so /usr/lib64/libraw1394.so /usr/lib64/libdv.so -luuid /usr/lib64/libmjpegutils.so -lm -ldl -lpthread -pthread
/usr/lib/gcc/x86_64-pc-linux-gnu/4.4.2/../../../../x86_64-pc-linux-gnu/bin/ld: warning: libx264.so.76, needed by /usr/lib/libavcodec.so, not found (try using -rpath or -rpath-link)            
/usr/lib/libavcodec.so: undefined reference to `x264_encoder_open_76'                           
collect2: ld returned 1 exit status                                                             
make[3]: *** [cinelerra] Error 1                                                                
make[3]: Leaving directory `/var/tmp/portage/media-video/cinelerra-20090210/work/cinelerra-20090210/cinelerra'                                                                                  
make[2]: *** [all-recursive] Error 1                                                            
make[2]: Leaving directory `/var/tmp/portage/media-video/cinelerra-20090210/work/cinelerra-20090210/cinelerra'                                                                                  
make[1]: *** [all-recursive] Error 1                                                            
make[1]: Leaving directory `/var/tmp/portage/media-video/cinelerra-20090210/work/cinelerra-20090210'                                                                                            
make: *** [all] Error 2

it seems that the x264 upgrade replaced libx264.so.76 with libx264.so.78

Reproducible: Always




Comment 1


Samuli Suominen (RETIRED)






          2009-10-27 11:36:17 UTC
        

You need to build ffmpeg first against the new x264. 
And then cinelerra.

# emerge -1 ffmpeg
# emerge cinelerra









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

