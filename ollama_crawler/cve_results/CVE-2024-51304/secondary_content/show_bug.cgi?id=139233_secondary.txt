Title: 139233 – app-emulation/wine-0.9.16 fails to emerge (errors on oleview)
URL: https://bugs.gentoo.org/show_bug.cgi?id=139233

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 139233
app-emulation/wine-0.9.16 fails to emerge (errors on oleview)
Last modified: 2006-07-05 18:21:28 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 139233 
      - app-emulation/wine-0.9.16 fails to emerge (errors on oleview)


Summary:
app-emulation/wine-0.9.16 fails to emerge (errors on oleview)
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-07-04 13:05 UTC by Da Fox





      Modified:
    
2006-07-05 18:21 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Output of `emerge wine'

              (emergeoutput,4.12 KB,
                text/plain)

            
2006-07-04 13:06 UTC,

            Da Fox




Details





Output of `emerge --info'

              (emergeinfo,3.31 KB,
                text/plain)

            
2006-07-04 13:07 UTC,

            Da Fox




Details





wine-0.9.16.ebuild.patch

              (wine-0.9.16.ebuild.patch,470 bytes,
                patch)

            
2006-07-05 18:21 UTC,

            Da Fox




Details
            | Diff





wine-0.9.16-oleview-libunicode.patch

              (wine-0.9.16-oleview-libunicode.patch,387 bytes,
                patch)

            
2006-07-05 18:21 UTC,

            Da Fox




Details
            | Diff





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Da Fox





          2006-07-04 13:05:28 UTC
        

Emerging wine-0.9.16 fails on 'oleview' (./wine-0.9.16/programs/oleview/)
I'm not entirely sure but I think this is a different bug then this one: http://bugs.gentoo.org/show_bug.cgi?id=138296 (wine-0.9.16 fails to emerge with eselect-compiler/gcc-config-1.x), in either case I don't have eselect-compiler at all, but do have gcc-config-1.x:

shogoki ~ # eix gcc-config\|eselect-compiler
* app-admin/eselect-compiler
     Available versions:  ~2.0.0_rc1-r6 ~2.0.0_rc2 ~2.0.0_rc2-r1
     Installed:           none
     Homepage:            http://www.gentoo.org/
     Description:         Utility to configure the active toolchain compiler

* sys-devel/gcc-config
     Available versions:  1.3.13-r3 ~2.0.0_rc1
     Installed:           1.3.13-r3
     Homepage:            http://www.gentoo.org/
     Description:         Utility to configure the active toolchain compiler




Comment 1


Da Fox





          2006-07-04 13:06:31 UTC
        

Created attachment 90899 [details]
Output of `emerge wine'




Comment 2


Da Fox





          2006-07-04 13:07:17 UTC
        

Created attachment 90900 [details]
Output of `emerge --info'




Comment 3


Jakub Moc (RETIRED)






          2006-07-04 14:55:35 UTC
        

Try with *sane* C[XX]FLAGS (like -march=pentium-m -O2 -pipe -fomit-frame-pointer)




Comment 4


Da Fox





          2006-07-05 18:20:34 UTC
        

well thank you for your very constructive input Jacub, I very much appreciate it!
You know, instead of looking /just/ at CFLAGS, you /might/ actually take a look at a bug first, before shouting nonsense.
The only reason that it 'WORKSFORYOU' is because of your pussy CFLAGS. Don't get me wrong, I agree that solving bugs as a /result/ of CFLAGS is wrong, but not every bug is neccesarily CFLAGS related (even if you may think it is). This is a simple case where the linker can't find some symbols or whatever. Most (at least in my experience) CFLAGS bugs will either occur when compiling (-frename-registers sometimes breaks inline assembly for example) or when running a program (This, I have yet to observe however). I'm not saying it's not possible, I just find it highly unlikely since I've been compiling wine with these CFLAGS for a _long_ time, and never before has the emerge failed (so there :p).

But enough of that, let's get back to the topic at hand.
This appears to be a KNOWN BUG: check http://www.mail-archive.com/wine-devel@winehq.org/msg28499.html for details.
I've included a patch for both the ebuild and Makefile in question.
It's probably not the best way to solve it since it just adds $(LIBUNICODE) to Makefile.in rather then via the configure script, but it 'WORKSFORME'.
If anyone has a better alternative I'd be glad to hear it :)




Comment 5


Da Fox





          2006-07-05 18:21:06 UTC
        

Created attachment 91016 [details, diff]
wine-0.9.16.ebuild.patch




Comment 6


Da Fox





          2006-07-05 18:21:28 UTC
        

Created attachment 91017 [details, diff]
wine-0.9.16-oleview-libunicode.patch









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

