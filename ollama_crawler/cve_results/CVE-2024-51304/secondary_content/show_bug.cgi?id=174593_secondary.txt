Title: 174593 – kernel needs to know raid multi divice layout to boot. Add to the guide
URL: https://bugs.gentoo.org/show_bug.cgi?id=174593

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 174593
kernel needs to know raid multi divice layout to boot. Add to the guide
Last modified: 2009-10-29 03:32:25 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 174593 
      - kernel needs to know raid multi divice layout to boot. Add to the guide


Summary:
kernel needs to know raid multi divice layout to boot. Add to the guide
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

[OLD] Docs on www.gentoo.org




Classification:

Unclassified




Component:

Other documents

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
    (vote)
  



Assignee:

Docs Team








URL:



http://www.gentoo.org/doc/en/gentoo-x...
        




Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-04-14 14:38 UTC by Mark R. de Rooij





      Modified:
    
2009-10-29 03:32 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



iba
koliaee









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Mark R. de Rooij





          2007-04-14 14:38:18 UTC
        

I have used the above Guide, but in the end it doesn't work. Like
others I had the problem " cannot open root device md3". The solution
is on your forums: Let the kernel know your md3 layout in grub

kernel /boot/kernel root=/dev/md3 md=3,/dev/sda3,/dev/sdb3

Maybe it is worth putting it in the guide

Reproducible: Always

Steps to Reproduce:
1. Follow the guide with liveCD 2006.1 and AMD64 proccessor
2. Don't use ssh, but use the LiveCD and stay behind your box
3. reboot

Actual Results:  
Kernel Panic " cannot open root device md3 "

Expected Results:  
complete to boot




Comment 1


nm (RETIRED)






          2007-04-14 15:43:37 UTC
        

I've had no such troubles following this guide to install Gentoo on my AMD64 (RAID1), nor do I need that extra weird line in grub.conf.

All that's needed is  root=/dev/md3

The guide does work ('ve tested it twice); it sounds more like you might have made a mistake in setting up mdadm.




Comment 2


SpanKY






          2007-04-14 17:18:01 UTC
        

mdadm is a userspace process; kernel unable to find root is a kernel issue

my guess would be you didnt create your raid devices with raid autodetect so the kernel on booting up doesnt automatically detect your raid setup




Comment 3


IBA





          2009-10-29 03:23:48 UTC
        

the gentoo short install guide advises to use kernel parameter
root=/dev/md3

however, this requires particular changes to the kernel during make menuconfig in  /usr/src/linux  . Otherwise the above problem will be reproduced.

suggestion: provide working kernel configuration that supports non-RAID systems.

the boot problem is not a bug, it is merely a user unfiendly configuration.




Comment 4


IBA





          2009-10-29 03:32:25 UTC
        

during make menuconfig, ensure that your SATA drivers and automount capability is enabled. The preconfigured kernel config has most drivers not enabled.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

