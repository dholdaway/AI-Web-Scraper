Title: 500276 – dev-games/physfs-2.0.3-r1 fails with USE=doc: dohtml: docs/html/* does not exist
URL: https://bugs.gentoo.org/show_bug.cgi?id=500276

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 500276
dev-games/physfs-2.0.3-r1 fails with USE=doc: dohtml: docs/html/* does not exist
Last modified: 2014-12-16 20:10:30 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 500276 
      - dev-games/physfs-2.0.3-r1 fails with USE=doc: dohtml: docs/html/* does not exist


Summary:
dev-games/physfs-2.0.3-r1 fails with USE=doc: dohtml: docs/html/* does not exist
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Games

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Ian Stakenvicius (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:




526060



 

        Show dependency tree





 





      Reported:
    
2014-02-04 13:53 UTC by Andrew Savchenko





      Modified:
    
2014-12-16 20:10 UTC
      (History)
    




          CC List:
        

3 
          users
          
            (show)
          



bircoph
games
multilib+disabled









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build.log

              (build.log,24.57 KB,
                text/x-log)

            
2014-02-04 13:54 UTC,

            Andrew Savchenko




Details





environment

              (environment,113.37 KB,
                text/plain)

            
2014-02-04 13:55 UTC,

            Andrew Savchenko




Details





emerge --info

              (emerge.info,8.97 KB,
                text/plain)

            
2014-02-04 13:55 UTC,

            Andrew Savchenko




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Andrew Savchenko






          2014-02-04 13:53:54 UTC
        

Hello,

physfs-2.0.3-r1[doc] fails during install phase:

>>> Source compiled.
>>> Test phase [not enabled]: dev-games/physfs-2.0.3-r1

>>> Install physfs-2.0.3-r1 into /var/tmp/portage/dev-games/physfs-2.0.3-r1/image/ category dev-games
 ^[[32;01m*^[[0m default: running cmake-multilib_secure_install
>>> Working in BUILD_DIR: "/var/tmp/portage/dev-games/physfs-2.0.3-r1/work/physfs-2.0.3-default"
make -j10 -l5 install
[100%] Built target physfs
Install the project...
-- Install configuration: "Gentoo"
-- Installing: /var/tmp/portage/dev-games/physfs-2.0.3-r1/image/usr/lib/libphysfs.so.2.0.3
-- Installing: /var/tmp/portage/dev-games/physfs-2.0.3-r1/image/usr/lib/libphysfs.so.1
-- Installing: /var/tmp/portage/dev-games/physfs-2.0.3-r1/image/usr/lib/libphysfs.so
-- Installing: /var/tmp/portage/dev-games/physfs-2.0.3-r1/image/usr/include/physfs.h
!!! dohtml: docs/html/* does not exist

The problem is that doxygen is never ran thus docs directory is absent.
Ebuild contains the following snippet:

    if multilib_is_native_abi && use doc ; then
        doxygen || die "doxygen failed"

    fi

If multilib_is_native_abi check is removed, ebuild builds fine. So either multilib_is_native_abi function is misused here or it doesn't behave properly on ~x86 with no multilib at all.




Comment 1


Andrew Savchenko






          2014-02-04 13:54:52 UTC
        

Created attachment 369530 [details]
build.log




Comment 2


Andrew Savchenko






          2014-02-04 13:55:08 UTC
        

Created attachment 369532 [details]
environment




Comment 3


Andrew Savchenko






          2014-02-04 13:55:22 UTC
        

Created attachment 369534 [details]
emerge --info




Comment 4


Pacho Ramos






          2014-12-16 12:23:08 UTC
        

I cannot reproduce this anymore... are you still getting this?




Comment 5


Andrew Savchenko






          2014-12-16 20:10:30 UTC
        

I can't reproduce it either (on both ~x86 and ~amd64).
Looks like problem was in cmake-multilib (or multilib) eclass and it is fixed now.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

