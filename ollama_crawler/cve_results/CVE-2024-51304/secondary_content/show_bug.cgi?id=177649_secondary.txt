Title: 177649 – media-gfx/gphoto2-2.2.0 build fails: undefined reference to `GP_DEBUG'
URL: https://bugs.gentoo.org/show_bug.cgi?id=177649

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 177649
media-gfx/gphoto2-2.2.0 build fails: undefined reference to `GP_DEBUG'
Last modified: 2007-09-27 13:10:19 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 177649 
      - media-gfx/gphoto2-2.2.0 build fails: undefined reference to `GP_DEBUG'


Summary:
media-gfx/gphoto2-2.2.0 build fails: undefined reference to `GP_DEBUG'
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Graphics Project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-05-08 15:06 UTC by Steve Arnold





      Modified:
    
2007-09-27 13:10 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



cweiske
liquidx









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Steve Arnold







          2007-05-08 15:06:40 UTC
        

x86_64-pc-linux-gnu-gcc -march=k8 -O2 -pipe -Wl,-O1 -Wall -g -Wl,-O1 -o gphoto2 gphoto2-gphoto2-cmd-capture.o gphoto2-gphoto2-cmd-config.o gphoto2-actions.o gphoto2-foreach.o gphoto2-gp-params.o gphoto2-main.o gphoto2-version.o gphoto2-range.o gphoto2-shell.o -Wl,-rpath -Wl,/usr/lib  -L/usr/local/lib /usr/lib64/libcdk.so -L/usr/lib64 /usr/lib64/libaa.so /usr/lib64/libX11.so -lgpm -lncurses /usr/lib64/libjpeg.so -lpthread -lreadline /usr/lib64/libgphoto2.so /usr/lib64/libgphoto2_port.so /usr/lib64/libexif.so -lm /usr/lib64/libusb.so /usr/lib64/libpopt.so
gphoto2-foreach.o: In function `get_path_for_id_rec':
/var/tmp/portage/media-gfx/gphoto2-2.2.0/work/gphoto2-2.2.0/gphoto2/foreach.c:213: undefined reference to `GP_DEBUG'
/var/tmp/portage/media-gfx/gphoto2-2.2.0/work/gphoto2-2.2.0/gphoto2/foreach.c:206: undefined reference to `GP_DEBUG'
gphoto2-foreach.o: In function `get_path_for_id':
/var/tmp/portage/media-gfx/gphoto2-2.2.0/work/gphoto2-2.2.0/gphoto2/foreach.c:268: undefined reference to `GP_DEBUG'
gphoto2-foreach.o: In function `for_each_file_in_range':
/var/tmp/portage/media-gfx/gphoto2-2.2.0/work/gphoto2-2.2.0/gphoto2/foreach.c:340: undefined reference to `GP_DEBUG'
collect2: ld returned 1 exit status
make[2]: *** [gphoto2] Error 1
make[2]: Leaving directory `/var/tmp/portage/media-gfx/gphoto2-2.2.0/work/gphoto2-2.2.0/gphoto2'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/media-gfx/gphoto2-2.2.0/work/gphoto2-2.2.0'
make: *** [all] Error 2

!!! ERROR: media-gfx/gphoto2-2.2.0 failed.
Call stack:
  ebuild.sh, line 1614:   Called dyn_compile
  ebuild.sh, line 971:   Called qa_call 'src_compile'
  ebuild.sh, line 44:   Called src_compile
  gphoto2-2.2.0.ebuild, line 35:   Called die

!!! (no error message)
!!! If you need support, post the topmost build error, and the call stack if relevant.


Portage 2.1.2.6 (default-linux/amd64/2006.1/desktop, gcc-4.1.2, glibc-2.5-r2, 2.6.20.7 x86_64)
=================================================================
System uname: 2.6.20.7 x86_64 AMD Athlon(tm) 64 Processor 3000+
Gentoo Base System release 1.12.10
Timestamp of tree: Sat, 05 May 2007 09:50:02 +0000
ccache version 2.4 [enabled]
dev-java/java-config: 1.3.7, 2.0.32
dev-lang/python:     2.4.3-r4
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     2.4-r7
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.61
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.17
sys-devel/gcc-config: 1.3.16
sys-devel/libtool:   1.5.23b
virtual/os-headers:  2.6.20-r2
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=k8 -O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c"
CXXFLAGS="-march=k8 -O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs buildpkg ccache cvs digest distlocks metadata-transfer multilib-strict sandbox sfperms strict userpriv usersandbox"
GENTOO_MIRRORS="http://kuroshin.arnolds.bogus/gentoo/"
LDFLAGS="-Wl,-O1"
LINGUAS="en"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://kuroshin.arnolds.bogus/gentoo-portage"
USE="X Xaw3d a52 aac aalib accessibility acl acpi alsa amd64 ansi artworkextra avahi avi bitmap-fonts bonobo browserplugin bzip2 cairo cddb cdparanoia cdr clamav cli cracklib crypt cups dbus dga directfb divx4linux dri dts dv dvd dvdr dvdread dynagraph eds emacs emboss encode esd evo fame fbcon ffmpeg fits flac fontconfig fortran freetype freetype2 gb gcj gd gdbm geos gif gimp gmp gnome gphoto2 gpm gps graphviz grass gs gstreamer gtk gtk2 gtkhtml guile hal howl iconv icq ieee1394 imagemagick imap imlib ipv6 isdnlog jabber jasper java jbig jikes jpeg jpg junit lame lapack lcms ldap lesstif libg++ lirc lm_sensors logrotate mad midi mikmod motif mp3 mpeg mplayer mysql nas nautilus ncurses netcdf nfs nls nolvmstatic nptl nptlonly nsplugin numeric ogdi ogg oggvorbis opengl oss pam pcre pda pdf perl plotutils png postgres ppds pppd python qt qt3 quicktime readline reflection rtc ruby samba sasl sdl seamonkey session slp snmp spamassassin spell spl ssl subtitles svg tcl tcpd tetex threads tiff timidity tk truetype truetype-fonts type1-fonts unicode usb v4l v4l2 vcd vorbis wifi xanim xattr xext xine xml xml2 xorg xpm xv xvid xvmc zeo zlib zvbi" ALSA_CARDS="emu10k1" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" ELIBC="glibc" INPUT_DEVICES="keyboard mouse joystick evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en" USERLAND="GNU" VIDEO_CARDS="radeon vesa v4l"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Matthias Schwarzott






          2007-05-18 19:36:37 UTC
        

I cannot reproduce that error. Is that reproducable after re-emerging libgphoto2 and gphoto2?





Comment 2


Steve Arnold







          2007-05-20 00:25:44 UTC
        

Apparently not at this time, although I still had the error a few days ago, when I tried it after a kernel bump and minor system update.  The original error happened during a world update, when both libgphoto2 and gphoto2 were both updated.  It works now, go figure...





Comment 3


Jim Dory





          2007-05-28 23:40:03 UTC
        

I'm getting this error now after emerging libexif and a few others (world update). As that update breaks several packages I needed to do a revdep-rebuild. It fails on the noted errors after successfully rebuilding libgphoto2-2.3.1-r4.




Comment 4


Christian Weiske





          2007-06-14 15:14:18 UTC
        

It also fails for me trying a revdep-rebuild




Comment 5


Steve Arnold







          2007-06-19 00:53:21 UTC
        

I think I just unmerged libgphoto2 and then re-emerged both of them.  If you haven't tried that yet, give it a go...




Comment 6


Christian Weiske





          2007-06-19 05:08:33 UTC
        

(In reply to comment #5)
> I think I just unmerged libgphoto2 and then re-emerged both of them.  If you
> haven't tried that yet, give it a go...
Does not help.





Comment 7


Christian Weiske





          2007-06-19 05:28:14 UTC
        

It works for me now. My problem was that I mixed unstable libgphoto2 and stable gphoto2.




Comment 8


Gilles Dartiguelongue (RETIRED)






          2007-09-27 13:10:19 UTC
        

per comment #2 and comment #7









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

