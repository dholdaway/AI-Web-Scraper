Title: 586568 – x11-misc/lightdm-1.19.0: fails to start: cannot access '/usr/lib64/dri/i965_dri.so*': No such file or directory
URL: https://bugs.gentoo.org/show_bug.cgi?id=586568

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 586568
x11-misc/lightdm-1.19.0: fails to start: cannot access '/usr/lib64/dri/i965_dri.so*': No such file or directory
Last modified: 2016-07-05 01:17:41 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 586568 
      - x11-misc/lightdm-1.19.0: fails to start: cannot access '/usr/lib64/dri/i965_dri.so*': No such file or directory


Summary:
x11-misc/lightdm-1.19.0: fails to start: cannot access '/usr/lib64/dri/i965_d...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Markos Chandras (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2016-06-21 13:17 UTC by Juergen Rose





      Modified:
    
2016-07-05 01:17 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



x11









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Juergen Rose





          2016-06-21 13:17:35 UTC
        

Since today 'systemctl start lightdm' fails with:

root@lynx:/root(1)# systemctl start lightdm
Failed to start lightdm.service: Launch helper exited with unknown return code 1
See system logs and 'systemctl status lightdm.service' for details.

'systemctl status lightdm.service' gives:
Failed to get properties: Launch helper exited with unknown return code 1

root@lynx:/root(4)# /usr/sbin/lightdm

** (lightdm:12879): WARNING **: Failed to get list of logind seats: GDBus.Error:org.freedesktop.DBus.Error.Spawn.ChildExited: Launch helper exited with unknown return code 1

Reemerging dbus, gdbus-codegen, dbus-glib and lightdm did not help.




Comment 1


Juergen Rose





          2016-06-21 13:19:06 UTC
        

In /var/log/lightdm/lightdm.log I find:

root@lynx:/root(5)# cat /var/log/lightdm/lightdm.log
[+0.00s] DEBUG: Logging to /var/log/lightdm/lightdm.log
[+0.00s] DEBUG: Starting Light Display Manager 1.19.0, UID=0 PID=12879
[+0.00s] DEBUG: Loading configuration dirs from /usr/share/gdm/lightdm/lightdm.conf.d
[+0.00s] DEBUG: Loading configuration dirs from /usr/share/lightdm/lightdm.conf.d
[+0.00s] DEBUG: Loading configuration dirs from /usr/local/share/lightdm/lightdm.conf.d
[+0.00s] DEBUG: Loading configuration dirs from /etc/xdg/lightdm/lightdm.conf.d
[+0.00s] DEBUG: Loading configuration from /etc/lightdm/lightdm.conf
[+0.00s] DEBUG: Using D-Bus name org.freedesktop.DisplayManager
[+0.00s] DEBUG: Using Xephyr for X servers
[+0.00s] DEBUG: Registered seat module xlocal
[+0.00s] DEBUG: Registered seat module xremote
[+0.00s] DEBUG: Registered seat module unity
[+0.01s] WARNING: Failed to get list of logind seats: GDBus.Error:org.freedesktop.DBus.Error.Spawn.ChildExited: Launch helper exited with unknown return code 1
[+0.01s] DEBUG: Adding default seat
[+0.01s] DEBUG: Seat seat0: Loading properties from config section Seat:*
[+0.01s] DEBUG: Seat seat0: Starting
[+0.01s] DEBUG: Seat seat0: Creating greeter session
[+0.01s] DEBUG: Seat seat0: Creating display server of type x
[+0.01s] DEBUG: Could not run plymouth --ping: Failed to execute child process "plymouth" (No such file or directory)
[+0.01s] DEBUG: Using VT 7
[+0.01s] DEBUG: Seat seat0: Starting local X display on VT 7
[+0.01s] DEBUG: DisplayServer x-0: Logging to /var/log/lightdm/x-0.log
[+0.01s] DEBUG: DisplayServer x-0: Can't launch X server Xephyr, not found in path
[+0.01s] DEBUG: DisplayServer x-0: X server stopped
[+0.01s] DEBUG: Releasing VT 7
[+0.01s] DEBUG: Seat seat0: Display server stopped
[+0.01s] DEBUG: Seat seat0: Can't create display server for greeter
[+0.01s] DEBUG: Seat seat0: Session stopped
[+0.01s] DEBUG: Seat seat0: Stopping display server, no sessions require it
[+0.01s] DEBUG: Seat seat0: Stopping
[+0.01s] DEBUG: Seat seat0: Stopped




Comment 2


Juergen Rose





          2016-06-21 13:32:41 UTC
        

In /var/log/lightdm/x-0.log I find:

X.Org X Server 1.18.3
Release Date: 2016-04-04
X Protocol Version 11, Revision 0
Build Operating System: Linux 4.5.0-gentoo-r1 x86_64 Gentoo
Current Operating System: Linux lynx 4.6.2-gentoo #1 SMP Thu Jun 9 15:37:35 CEST 2016 x86_64
Kernel command line: BOOT_IMAGE=/kernel-genkernel-x86_64-4.6.2-gentoo root=UUID=745535db-908e-446b-a6bb-a898813da29c ro dolvm real_init=/usr/lib/systemd/systemd rootfstype=ext4
Build Date: 05 April 2016  09:36:11AM
 
Current version of pixman: 0.34.0
        Before reporting problems, check http://wiki.x.org
        to make sure that you have the latest version.
Markers: (--) probed, (**) from config file, (==) default setting,
        (++) from command line, (!!) notice, (II) informational,
        (WW) warning, (EE) error, (NI) not implemented, (??) unknown.
(==) Log file: "/var/log/Xorg.0.log", Time: Thu Jun 16 11:57:14 2016
(==) Using config directory: "/etc/X11/xorg.conf.d"
(==) Using system config directory "/usr/share/X11/xorg.conf.d"
gbm: failed to open any driver (search paths /usr/lib64/dri)
gbm: Last dlopen error: /usr/lib64/dri/i965_dri.so: cannot open shared object file: No such file or directory
failed to load driver: i965
EGL_MESA_drm_image required.
root@lynx:/root(7)# ll  /usr/lib64/dri/i965_dri.so*
/bin/ls: cannot access '/usr/lib64/dri/i965_dri.so*': No such file or directory



I do not have /usr/lib64/dri/i965_dri.so . I have a Intel/NVIDIA hybrid graphic:
00:02.0 VGA compatible controller: Intel Corporation 3rd Gen Core processor Graphics Controller (rev 09)
01:00.0 VGA compatible controller: NVIDIA Corporation GF108M [NVS 5400M] (rev a1)


startx and xdm (both with twm) works. 


'/var/log/lightdm/x-0-greeter.log' complains about failing upstart. Strange! I thought upstart is running on Ubuntu.


root@lynx:/root(11)# cat /var/log/lightdm/x-0-greeter.log
** Message: Starting lightdm-gtk-greeter 2.0.1 (Dec 10 2015, 16:46:47)
** Message: [Configuration] Reading file: /etc/lightdm/lightdm-gtk-greeter.conf

** (lightdm-gtk-greeter:3019): WARNING **: [PIDs] Failed to execute command: /usr/lib/at-spi2-core/at-spi-bus-launcher

** (lightdm-gtk-greeter:3019): WARNING **: [PIDs] Failed to execute command: upstart


And I do not have any /usr/lib/at-spi2-core/at-spi* files.




Comment 3


Adam Feldman






          2016-07-03 07:57:38 UTC
        

Please add emerge --info lightdm mesa.

Additionally, please take the time to read https://wiki.gentoo.org/wiki/Bugzilla/Bug_report_guide. I know you are a frequent bug reporter.  emerge --info and bug summary really shouldn't be things you are missing in your reports at this point...




Comment 4


Juergen Rose





          2016-07-03 13:23:02 UTC
        

(In reply to NP-Hardass from comment #3)
> Please add emerge --info lightdm mesa.
> 
> Additionally, please take the time to read
> https://wiki.gentoo.org/wiki/Bugzilla/Bug_report_guide. I know you are a
> frequent bug reporter.  emerge --info and bug summary really shouldn't be
> things you are missing in your reports at this point...

Sorry that I did not provide more detailed information. 
Some 'emerge --sync;  emerge -uvDN world' and reboots later everything is again fine. I can start lightdm without any issues.

Regards, Juergen









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

