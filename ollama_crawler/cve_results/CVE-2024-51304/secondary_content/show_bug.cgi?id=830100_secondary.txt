Title: 830100 – games-board/pychess-1.0.3 - (process:<snip>:WARNING : 07:13:20.979: Failed to load shared library libgtk-4.so.1 referenced by the
URL: https://bugs.gentoo.org/show_bug.cgi?id=830100

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 830100
games-board/pychess-1.0.3 - (process:<snip>:WARNING : 07:13:20.979: Failed to load shared library libgtk-4.so.1 referenced by the
Last modified: 2022-02-11 20:35:12 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 830100 
      - games-board/pychess-1.0.3 - (process:<snip>:WARNING : 07:13:20.979: Failed to load shared library libgtk-4.so.1 referenced by the


Summary:
games-board/pychess-1.0.3 - (process:<snip>:WARNING : 07:13:20.979: Failed to...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Games








URL:







Whiteboard:




Keywords:









Duplicates (1):
    

830684

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2021-12-27 10:46 UTC by Toralf Förster





      Modified:
    
2022-02-11 20:35 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



ionen









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge-info.txt

              (emerge-info.txt,18.01 KB,
                text/plain)

            
2021-12-27 10:46 UTC,

            Toralf Förster




Details





emerge-history.txt

              (emerge-history.txt,391.34 KB,
                text/plain)

            
2021-12-27 10:47 UTC,

            Toralf Förster




Details





environment

              (environment,116.62 KB,
                text/plain)

            
2021-12-27 10:47 UTC,

            Toralf Förster




Details





etc.portage.tar.bz2

              (etc.portage.tar.bz2,43.58 KB,
                application/x-bzip)

            
2021-12-27 10:47 UTC,

            Toralf Förster




Details





games-board:pychess-1.0.3:20211227-061317.log

              (games-board:pychess-1.0.3:20211227-061317.log,4.27 KB,
                text/plain)

            
2021-12-27 10:47 UTC,

            Toralf Förster




Details





temp.tar.bz2

              (temp.tar.bz2,26.80 KB,
                application/x-bzip)

            
2021-12-27 10:47 UTC,

            Toralf Förster




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Toralf Förster






          2021-12-27 10:46:58 UTC
        

python3.9 setup.py build -j 4
/var/tmp/portage/games-board/pychess-1.0.3/work/PyChess-1.0.3/setup.py:43: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses
  from imp import load_module, find_module

** (process:52): WARNING **: 07:13:20.979: Failed to load shared library 'libgtk-4.so.1' referenced by the typelib: /usr/lib64/libgtk-4.so.1: undefined symbol: pango_text_transform_get_type
Traceback (most recent call last):
  File "/var/tmp/portage/games-board/pychess-1.0.3/work/PyChess-1.0.3/setup.py", line 125, in <module>

  -------------------------------------------------------------------

  This is an unstable amd64 chroot image at a tinderbox (==build bot)
  name: 17.1_no_multilib_systemd-j4-20211221-210106

  -------------------------------------------------------------------

gcc-config -l:
 [1] x86_64-pc-linux-gnu-9.3.1
 [2] x86_64-pc-linux-gnu-10.3.1
 [3] x86_64-pc-linux-gnu-11.2.1 *
clang version 13.0.0
Target: x86_64-pc-linux-gnu
Thread model: posix
InstalledDir: /usr/lib/llvm/13/bin
/usr/lib/llvm/13
13.0.0
Python 3.9.9
Available Ruby profiles:
  [1]   ruby26 (with Rubygems)
  [2]   ruby27 (with Rubygems)
  [3]   ruby30 (with Rubygems) *
Available Rust versions:
  [1]   rust-bin-1.57.0
  [2]   rust-1.57.0 *
The following VMs are available for generation-2:
*)	AdoptOpenJDK 8.312_p07 [openjdk-bin-8]
Available Java Virtual Machines:
  [1]   openjdk-bin-8  system-vm

The Glorious Glasgow Haskell Compilation System, version 8.10.4
php cli:
  [1]   php7.3
  [2]   php7.4
  [3]   php8.1 *

  HEAD of ::gentoo
commit a91244e0b998ca1aeb36750ba1465417c7cf5208
Author: Repository mirror & CI <repomirrorci@gentoo.org>
Date:   Mon Dec 27 05:21:51 2021 +0000

    2021-12-27 05:21:49 UTC

emerge -qpvO games-board/pychess
[ebuild  N    ] games-board/pychess-1.0.3  USE="-gstreamer" PYTHON_SINGLE_TARGET="python3_9 -python3_8"




Comment 1


Toralf Förster






          2021-12-27 10:46:59 UTC
        

Created attachment 760563 [details]
emerge-info.txt




Comment 2


Toralf Förster






          2021-12-27 10:47:01 UTC
        

Created attachment 760564 [details]
emerge-history.txt




Comment 3


Toralf Förster






          2021-12-27 10:47:02 UTC
        

Created attachment 760565 [details]
environment




Comment 4


Toralf Förster






          2021-12-27 10:47:03 UTC
        

Created attachment 760566 [details]
etc.portage.tar.bz2




Comment 5


Toralf Förster






          2021-12-27 10:47:04 UTC
        

Created attachment 760567 [details]
games-board:pychess-1.0.3:20211227-061317.log




Comment 6


Toralf Förster






          2021-12-27 10:47:05 UTC
        

Created attachment 760568 [details]
temp.tar.bz2




Comment 7


James Le Cuirot






          2021-12-27 11:32:29 UTC
        

I don't have any experience with GTK 4, but that just sounds like your copy of it is broken.




Comment 8


Toralf Förster






          2021-12-27 12:40:17 UTC
        

Ok, I stopped this image.

Maybe completely unrelated but the process table for this image shows:

30570 /usr/bin/python3.9 -b /usr/lib/python-exec/python3.9/emerge --update app-misc/reptyr
32212 /usr/bin/coreutils --coreutils-prog-shebang=timeout /usr/bin/timeout --signal=15 --kill-after=5m 8h bash -c eval emerge --update media-fonts/mix-mplus-ipa


whereas usually I see

905 timeout --signal=15 --kill-after=5m 8h bash -c eval emerge --update dev-ada/gtkada




Comment 9


Ionen Wolkens






          2022-02-11 20:31:49 UTC
        

*** Bug 830684 has been marked as a duplicate of this bug. ***




Comment 10


Ionen Wolkens






          2022-02-11 20:35:12 UTC
        

Can't reproduce so I'd like to think whatever happened with gtk4 is gone, albeit fwiw pychess shouldn't be trying to check GTK4:

<string>:6: PyGIWarning: Gtk was imported without specifying a version first. Use gi.require_version('Gtk', '3.0') before import to ensure that the right version gets loaded.

Not quite sure how that's happening given it does have a gi.require_version, but it only triggers at build-time (right version is used at runtime, maybe something to do with how the setup.py loads it), so is harmless as far as I can see (assuming gtk4 isn't broken anyway).

Will see if this comes back again.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

