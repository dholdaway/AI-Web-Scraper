Title: 532656 – dev-qt/qtcore-4.8.5-r2 ignores MAKEOPTS="-j8 -l4"
URL: https://bugs.gentoo.org/show_bug.cgi?id=532656

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 532656
dev-qt/qtcore-4.8.5-r2 ignores MAKEOPTS="-j8 -l4"
Last modified: 2014-12-25 14:20:30 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 532656 
      - dev-qt/qtcore-4.8.5-r2 ignores MAKEOPTS="-j8 -l4"


Summary:
dev-qt/qtcore-4.8.5-r2 ignores MAKEOPTS="-j8 -l4"
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Library

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Qt Bug Alias








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2014-12-15 18:59 UTC by codifies





      Modified:
    
2014-12-25 14:20 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



alexander









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


codifies





          2014-12-15 18:59:19 UTC
        

when emerging it only uses 1 core

Reproducible: Always

Steps to Reproduce:
1. emerge dev-qt/qtcore
2. note long compile time
3. wish it was using all cores and over in much less time
Actual Results:  
compiles only on one core

Expected Results:  
should compile on multiple cores

possibly not a bug as it does compile however it would significantly enhance install / update experience if fixed




Comment 1


Jeroen Roovers (RETIRED)






          2014-12-15 19:29:27 UTC
        

Another side effect of the multibuild-*.eclass changes?




Comment 2


Jeroen Roovers (RETIRED)






          2014-12-15 19:30:47 UTC
        

1) Please post your `emerge --info' output in a comment.
2) Please attach the entire build log to this bug report.




Comment 3


codifies





          2014-12-15 20:02:31 UTC
        

emerge --info
Portage 2.2.14 (python 2.7.7-final-0, default/linux/amd64/13.0/desktop, gcc-4.8.3, glibc-2.19-r1, 3.16.5-gentoo x86_64)
=================================================================
System uname: Linux-3.16.5-gentoo-x86_64-Intel-R-_Core-TM-_i5-3210M_CPU_@_2.50GHz-with-gentoo-2.2
KiB Mem:     8037448 total,   5976936 free
KiB Swap:          0 total,         0 free
Timestamp of tree: Fri, 12 Dec 2014 16:00:01 +0000
ld GNU ld (Gentoo 2.24 p1.4) 2.24
app-shells/bash:          4.2_p53
dev-java/java-config:     2.2.0
dev-lang/perl:            5.18.2-r2
dev-lang/python:          2.7.7, 3.3.5-r1, 3.4.1
dev-util/cmake:           2.8.12.2-r1
dev-util/pkgconfig:       0.28-r1
sys-apps/baselayout:      2.2
sys-apps/openrc:          0.12.4
sys-apps/sandbox:         2.6-r1
sys-devel/autoconf:       2.69
sys-devel/automake:       1.11.6-r1, 1.13.4
sys-devel/binutils:       2.24-r3
sys-devel/gcc:            4.8.3
sys-devel/gcc-config:     1.7.3
sys-devel/libtool:        2.4.2-r1
sys-devel/make:           4.0-r1
sys-kernel/linux-headers: 3.16 (virtual/os-headers)
sys-libs/glibc:           2.19-r1
Repositories: gentoo
ACCEPT_KEYWORDS="amd64"
ACCEPT_LICENSE="* -@EULA"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/gnupg/qualified.txt /var/lib/hsqldb"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo"
CXXFLAGS="-O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FCFLAGS="-O2 -pipe"
FEATURES="assume-digests binpkg-logs config-protect-if-modified distlocks ebuild-locks fixlafiles merge-sync news parallel-fetch preserve-libs protect-owned sandbox sfperms strict unknown-features-warn unmerge-logs unmerge-orphans userfetch userpriv usersandbox usersync"
FFLAGS="-O2 -pipe"
GENTOO_MIRRORS="http://distfiles.gentoo.org"
LANG="C"
LDFLAGS="-Wl,-O1 -Wl,--as-needed"
MAKEOPTS="-j8 -l4"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --omit-dir-times --compress --force --whole-file --delete --stats --human-readable --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY=""
USE="X a52 aac acl acpi alsa amd64 berkdb bindist bluetooth branding bzip2 cairo cdda cdr cli consolekit cracklib crypt cups cxx dbus dri dts dvd dvdr emboss encode exif fam firefox flac fortran gbm gdbm gif glamor gpm gtk iconv ipv6 jit jpeg lcms ldap libdrm libkms libnotify mad minimal mmx mng modules mp3 mp4 mpeg multilib ncurses nls nptl ogg opengl openmp pam pango pcre pdf png policykit ppds qt3support qt4 readline sdl session spell sqlite sse sse2 ssl startup-notification svg tcpd tiff truetype udev udisks unicode upower usb vorbis wxwidgets x264 xa xcb xml xv xvid zlib" ABI_X86="64" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" APACHE2_MODULES="authn_core authz_core socache_shmcb unixd actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cgi cgid dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CALLIGRA_FEATURES="kexi words flow plan sheets stage tables krita karbon braindump author" CAMERAS="ptp2" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf superstar2 timing tsip tripmate tnt ublox ubx" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LIBREOFFICE_EXTENSIONS="presenter-console presenter-minimizer" LINGUAS="en_GB" OFFICE_IMPLEMENTATION="libreoffice" PHP_TARGETS="php5-5" PYTHON_SINGLE_TARGET="python2_7" PYTHON_TARGETS="python2_7 python3_3" RUBY_TARGETS="ruby19 ruby20" USERLAND="GNU" VIDEO_CARDS="intel" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LC_ALL, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, SYNC, USE_PYTHON




Comment 4


codifies





          2014-12-15 20:02:57 UTC
        

"2) Please attach the entire build log to this bug report."

don't know where it is...




Comment 5


Davide Pesavento (RETIRED)






          2014-12-15 20:18:27 UTC
        

(In reply to codifies from comment #4)
> "2) Please attach the entire build log to this bug report."
> 
> don't know where it is...

Read the error message that emerge spits out, the full path is written there...




Comment 6


Davide Pesavento (RETIRED)






          2014-12-18 14:51:38 UTC
        

Parallel building works for me (I always use -j8 on my dev machine so I'd have noticed if it was broken). The reporter didn't provide a build log so it's impossible to know what might be going on. Closing.




Comment 7


codifies





          2014-12-18 14:56:54 UTC
        

please see

https://bugs.gentoo.org/show_bug.cgi?id=532656#c4




Comment 8


codifies





          2014-12-18 14:57:43 UTC
        

There was no error message an no path to read




Comment 9


Davide Pesavento (RETIRED)






          2014-12-18 15:13:35 UTC
        

Set PORT_LOGDIR=/var/log/portage (or whatever you want) in your make.conf, and the build log will be created there once you re-emerge qtcore. You might also be interested in FEATURES="clean-logs compress-build-logs split-log", see make.conf(5) man page.




Comment 10


Davide Pesavento (RETIRED)






          2014-12-25 14:20:30 UTC
        

(In reply to Davide Pesavento from comment #6)
> Parallel building works for me (I always use -j8 on my dev machine so I'd
> have noticed if it was broken). The reporter didn't provide a build log so
> it's impossible to know what might be going on. Closing.

^









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

