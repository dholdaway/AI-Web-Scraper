Title: 125658 – media-sound/cowbell-0.2.6.1 fails with infinite loop in makefile
URL: https://bugs.gentoo.org/show_bug.cgi?id=125658

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 125658
media-sound/cowbell-0.2.6.1 fails with infinite loop in makefile
Last modified: 2006-03-10 09:37:37 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 125658 
      - media-sound/cowbell-0.2.6.1 fails with infinite loop in makefile


Summary:
media-sound/cowbell-0.2.6.1 fails with infinite loop in makefile
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Luis Medinas (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-03-09 18:22 UTC by Jacob Smullyan





      Modified:
    
2006-03-10 09:37 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



tcort









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Jacob Smullyan





          2006-03-09 18:22:33 UTC
        

Attempting to emerge cowbell gives rise to the following infinite loop:
--
cd .. \
  && CONFIG_FILES=po/Makefile.in CONFIG_HEADERS= CONFIG_LINKS= \
       /bin/sh ./config.status
config.status: creating po/Makefile.in
config.status: executing intltool commands
config.status: executing depfiles commands
config.status: executing default-1 commands
make[1]: Leaving directory `/var/tmp/portage/cowbell-0.2.6.1/work/cowbell-0.2.6.1/po'
make[1]: Entering directory `/var/tmp/portage/cowbell-0.2.6.1/work/cowbell-0.2.6.1/po'
Makefile:294: warning: overriding commands for target `POTFILES'
Makefile:283: warning: ignoring old commands for target `POTFILES'
---
emerge info follows:

Portage 2.0.54 (default-linux/x86/2005.0, gcc-3.3.6, glibc-2.3.5-r2, 2.6.14-gent                                                                                                   oo-r5 i686)
=================================================================
System uname: 2.6.14-gentoo-r5 i686 Pentium III (Coppermine)
Gentoo Base System version 1.6.14
ccache version 2.3 [disabled]
dev-lang/python:     2.2.3-r5, 2.3.5, 2.4.2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.8.1-r1, 2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.1/share/config /usr/kde/                                                                                                   3.2/share/config /usr/kde/3.3/env /usr/kde/3.3/share/config /usr/kde/3.3/shutdow                                                                                                   n /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/sh                                                                                                   are/config /usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config /us                                                                                                   r/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/te                                                                                                   x/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/ /va                                                                                                   r/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/                                                                                                   distributions/gentoo"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X aalib acl adns alsa apache2 apm arts audiofile avi bash-completion be                                                                                                   rkdb bitmap-fonts bzip2 cairo cdb cdr crypt cups curl dbus doc dri dv dvd eds em                                                                                                   acs emboss encode escreen esd ethereal exif expat fam ffmpeg firefox flac foomat                                                                                                   icdb fortran gcj gd gdbm geoip ggi gif gimp glade glut gmp gnome gphoto2 gpm gst                                                                                                   reamer gtk gtk2 gtkhtml guile hal howl idn ieee1394 imagemagick imap imlib ipv6                                                                                                    jabber jack javascript jpeg junit kde lcms ldap libg++ libwww lua mad maildir mh                                                                                                   ash mikmod mmx mng motif mozilla mozxmlterm mp3 mpeg mysql nautilus ncurses nls                                                                                                    ogg oggvorbis openal opengl oss pam pcre pdflib perl plotutils png postgres pyth                                                                                                   on qt quicktime readline ruby samba scanner sdl slang sox speex spell sqlite ssl                                                                                                    svga tcltk tcpd tetex tiff truetype truetype-fonts type1-fonts udev usb vhosts                                                                                                    vorbis wmf wxwindows xchattext xine xml xml2 xmms xv xvid zlib userland_GNU kern                                                                                                   el_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS, MAKEOPTS




Comment 1


Thomas Cort (RETIRED)






          2006-03-10 08:29:42 UTC
        

It works for me. Could you run "cd /usr/portage/media-sound/cowbell && ebuild cowbell-0.2.6.1.ebuild unpack compile" to unpack and compile the package. After it goes into an infinite loop, just kill it with Ctrl+c. Then get the config.log from /var/tmp/portage/cowbell-0.2.6.1/work/cowbell-0.2.6.1/config.log and attach it to this bug. Also, please attach /var/tmp/portage/cowbell-0.2.6.1/work/cowbell-0.2.6.1/po/Makefile Thanks! You can run "cd /usr/portage/media-sound/cowbell && ebuild cowbell-0.2.6.1.ebuild clean" after to clean up /var/tmp/portage/cowbell-0.2.6.1



Here is the expected output (from my emerge cowbell)...

/** SNIP **/
Now type "make" followed by "sudo make install".
Making all in po
make[1]: Entering directory `/tmp/portage/cowbell-0.2.6.1/work/cowbell-0.2.6.1/p o'
Makefile:294: warning: overriding commands for target `POTFILES'
Makefile:283: warning: ignoring old commands for target `POTFILES'
file=`echo de | sed 's,.*/,,'`.gmo \
  && rm -f $file && /usr/bin/gmsgfmt -o $file de.po
file=`echo en_CA | sed 's,.*/,,'`.gmo \
  && rm -f $file && /usr/bin/gmsgfmt -o $file en_CA.po
file=`echo es | sed 's,.*/,,'`.gmo \
  && rm -f $file && /usr/bin/gmsgfmt -o $file es.po
file=`echo fi | sed 's,.*/,,'`.gmo \
  && rm -f $file && /usr/bin/gmsgfmt -o $file fi.po
file=`echo fr | sed 's,.*/,,'`.gmo \
  && rm -f $file && /usr/bin/gmsgfmt -o $file fr.po
file=`echo hu | sed 's,.*/,,'`.gmo \
  && rm -f $file && /usr/bin/gmsgfmt -o $file hu.po
file=`echo nb | sed 's,.*/,,'`.gmo \
  && rm -f $file && /usr/bin/gmsgfmt -o $file nb.po
file=`echo no | sed 's,.*/,,'`.gmo \
  && rm -f $file && /usr/bin/gmsgfmt -o $file no.po
file=`echo pt_BR | sed 's,.*/,,'`.gmo \
  && rm -f $file && /usr/bin/gmsgfmt -o $file pt_BR.po
file=`echo sv | sed 's,.*/,,'`.gmo \
  && rm -f $file && /usr/bin/gmsgfmt -o $file sv.po
file=`echo tr | sed 's,.*/,,'`.gmo \
  && rm -f $file && /usr/bin/gmsgfmt -o $file tr.po
file=`echo ja | sed 's,.*/,,'`.gmo \
  && rm -f $file && /usr/bin/gmsgfmt -o $file ja.po
make[1]: Leaving directory `/tmp/portage/cowbell-0.2.6.1/work/cowbell-0.2.6.1/po '
Making all in resources
/** SNIP **/

# emerge --info

Portage 2.1_pre5-r4 (default-linux/x86/2006.0, gcc-3.4.5, glibc-2.3.6-r3, 2.6.15-gentoo-r1 i686)
=================================================================
System uname: 2.6.15-gentoo-r1 i686 Pentium III (Coppermine)
Gentoo Base System version 1.12.0_pre16
dev-lang/python:     2.3.5-r2, 2.4.2-r1
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1-r1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r3
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-Os -march=i686 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/texmf/web2c /etc/env.d"
CXXFLAGS="-Os -march=i686 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="ftp://cs.ubishops.ca:2121/pub/gentoo http://adelie.polymtl.ca/ ftp://gentoo.arcticnetwork.ca/pub/gentoo/ http://gentoo.mirrored.ca/ http://distfiles.gentoo.org"
LDFLAGS="-Wl,-O1"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/diskless /usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X a52 aac aalib aim alsa apache2 arts audacious audiofile avi bash-completion berkdb bitmap-fonts bzip2 cairo calendar cdinstall cdparanoia cdr crypt cscope ctype cups curl curlwrappers dbus dri dvd dvdr dvdread eds emacs emboss encode esd ethereal ffmpeg firefox flac flash foomaticdb fortran ftp gcj gdbm gif glut gmp gnome gnutls gphoto2 gpm gstreamer gtk gtk2 hal icq imagemagick imlib ipv6 jabber java javascript jpeg jpeg2k kde libg++ libwww lua mad mikmod mono motif mozilla mp3 mpeg msn ncurses nis nls nocd nptl nptlonly ogg oggvorbis opengl oscar oss pam pam_console pcre pda pdf pdflib perl php png posix python qt quicktime readline ruby sdl shorten sndfile sockets spell ssl szip tcltk tcpd threads tiff truetype truetype-fonts type1-fonts udev vcd videos vorbis win32codecs wma wmf wxwindows xface xine xml xml2 xmlrpc xmms xpm xsl xv yahoo zlib elibc_glibc kernel_linux userland_GNU"
Unset:  ASFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, LANG, LC_ALL, LINGUAS




Comment 2


Jacob Smullyan





          2006-03-10 08:49:01 UTC
        

Fortunately for me and unfortunately for the bug report, I upgraded last night to mono-1.1.13.2 (from 1.1.12.something), and now the ebuild doesn't get caught in the loop and installs!  So I can't reproduce the bug any longer.  I don't know why:(.






Comment 3


Luis Medinas (RETIRED)






          2006-03-10 09:37:37 UTC
        

it's indeed a bug in the makefile the upstream is aware of that... using eautoreconf on the ebuild fixed my problem (and currently the ebuild use it).









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

