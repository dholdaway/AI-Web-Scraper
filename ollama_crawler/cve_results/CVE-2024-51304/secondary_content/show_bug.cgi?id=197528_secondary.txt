Title: 197528 – texlive-latex-2007 fails to build: .../web2c does not exist
URL: https://bugs.gentoo.org/show_bug.cgi?id=197528

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 197528
texlive-latex-2007 fails to build: .../web2c does not exist
Last modified: 2007-12-02 20:26:42 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 197528 
      - texlive-latex-2007 fails to build: .../web2c does not exist


Summary:
texlive-latex-2007 fails to build: .../web2c does not exist
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

TeX project








URL:







Whiteboard:




Keywords:









Duplicates (1):
    

197762

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2007-10-30 15:27 UTC by R Stephan





      Modified:
    
2007-12-02 20:26 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



dsdale24
zeekec









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




texlive-latex-2007 emerge log

              (dev-texlive:texlive-latex-2007:20071031-012110.log,3.97 KB,
                text/plain)

            
2007-10-31 01:23 UTC,

            Erik Zeek




Details





emerge --info

              (emerge_info.txt,7.75 KB,
                text/plain)

            
2007-10-31 01:32 UTC,

            Erik Zeek




Details





/etc/texmf/web2c/texmf.cnf

              (texmf.cnf,43.35 KB,
                text/plain)

            
2007-10-31 10:50 UTC,

            R Stephan




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


R Stephan





          2007-10-30 15:27:23 UTC
        

Building texlive-latex-2007 fails with the output

  Building format texmf/fmtutil/format.latex.cnf
fmtutil: format directory /var/tmp/.../work/texmf-var/web2c does not exist




Comment 1


Alexis Ballier






          2007-10-30 20:46:26 UTC
        

then I'll need:
the full log of the failure
emerge --info
the output of: texconfig conf
the output of: kpsewhich --var-value=TEXMFMAIN
(should be /usr/share/texmf)
then a ls of the directory: /usr/share/texmf/web2c
there should be a file there: mktexdir




Comment 2


Erik Zeek





          2007-10-31 01:23:24 UTC
        

Created attachment 134766 [details]
texlive-latex-2007 emerge log




Comment 3


Erik Zeek





          2007-10-31 01:27:14 UTC
        

Requested information:

# texconfig conf
=========================== version information ==========================
teTeX-src release:   (info not available)
teTeX-texmf release: (info not available)

==================== binaries found by searching $PATH ===================
PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/bin:/usr/lib/colorgcc/bin:/usr/i686-pc-linux-gnu/gcc-bin/4.2.2:/opt/intel/cc/10.0.026/bin:/opt/intel/fc/10.0.026/bin:/opt/sun-jdk-1.4.2.16/bin:/opt/sun-jdk-1.4.2.16/jre/bin:/opt/sun-jdk-1.4.2.16/jre/javaws:/usr/kde/3.5/sbin:/usr/kde/3.5/bin:/usr/qt/3/bin
kpsewhich: /usr/bin/kpsewhich
updmap: /usr/bin/updmap
fmtutil: /usr/bin/fmtutil
texconfig: /usr/bin/texconfig
tex: /usr/bin/tex
pdftex: /usr/bin/pdftex
mktexpk: /usr/bin/mktexpk
dvips: /usr/bin/dvips
dvipdfm: /usr/bin/dvipdfm

=========================== active config files ==========================
/usr/bin/texconfig: line 298: /var/lib/texmf/texconfig/tcfmgr: No such file or directory
/usr/bin/texconfig: line 298: /var/lib/texmf/texconfig/tcfmgr: No such file or directory
/usr/bin/texconfig: line 298: /var/lib/texmf/texconfig/tcfmgr: No such file or directory
/usr/bin/texconfig: line 298: /var/lib/texmf/texconfig/tcfmgr: No such file or directory
/usr/bin/texconfig: line 298: /var/lib/texmf/texconfig/tcfmgr: No such file or directory
/usr/bin/texconfig: line 298: /var/lib/texmf/texconfig/tcfmgr: No such file or directory
/usr/bin/texconfig: line 298: /var/lib/texmf/texconfig/tcfmgr: No such file or directory
/usr/share/texmf/web2c/texmf.cnf
config: not found
config.ps: not found
fmtutil.cnf: not found
mktex.cnf: not found
pdftexconfig.tex: not found
updmap.cfg: not found
XDvi: not found

============================= font map files =============================
psfonts.map: /var/lib/texmf/fonts/map/dvips/updmap/psfonts.map
pdftex.map: /var/lib/texmf/fonts/map/pdftex/updmap/pdftex.map
ps2pk.map: /var/lib/texmf/fonts/map/dvips/updmap/ps2pk.map
dvipdfm.map: /var/lib/texmf/fonts/map/dvipdfm/updmap/dvipdfm.map

=========================== kpathsea variables ===========================
TEXMFMAIN=/var/lib/texmf
TEXMFDIST=/usr/share/texmf
TEXMFLOCAL=/usr/local/share/texmf
TEXMFSYSVAR=/var/lib/texmf
TEXMFSYSCONFIG=/var/lib/texmf
TEXMFVAR=/root/.texmf-var
TEXMFCONFIG=/root/.texmf-config
TEXMFHOME=/root/texmf
VARTEXFONTS=/var/cache/fonts
TEXMF={!!/root/.texmf-config,!!/root/.texmf-var,/root/texmf,!!/var/lib/texmf,!!/var/lib/texmf,!!/var/lib/texmf,!!/usr/local/share/texmf,!!/usr/share/texmf-site,!!/usr/share/texmf}
SYSTEXMF=/usr/local/share/texmf:/var/lib/texmf:/usr/share/texmf:/usr/share/texmf-site
TEXMFDBS={!!/root/.texmf-config,!!/root/.texmf-var,/root/texmf,!!/var/lib/texmf,!!/var/lib/texmf,!!/var/lib/texmf,!!/usr/local/share/texmf,!!/usr/share/texmf-site,!!/usr/share/texmf}:/var/cache/fonts
WEB2C={!!/root/.texmf-config,!!/root/.texmf-var,/root/texmf,!!/var/lib/texmf,!!/var/lib/texmf,!!/var/lib/texmf,!!/usr/local/share/texmf,!!/usr/share/texmf-site,!!/usr/share/texmf}/web2c
TEXPSHEADERS=.:{!!/root/.texmf-config,!!/root/.texmf-var,/root/texmf,!!/var/lib/texmf,!!/var/lib/texmf,!!/var/lib/texmf,!!/usr/local/share/texmf,!!/usr/share/texmf-site,!!/usr/share/texmf}/{dvips,fonts/{enc,type1,type3}}//
TEXCONFIG={!!/root/.texmf-config,!!/root/.texmf-var,/root/texmf,!!/var/lib/texmf,!!/var/lib/texmf,!!/var/lib/texmf,!!/usr/local/share/texmf,!!/usr/share/texmf-site,!!/usr/share/texmf}/dvips//
ENCFONTS=.:{!!/root/.texmf-config,!!/root/.texmf-var,/root/texmf,!!/var/lib/texmf,!!/var/lib/texmf,!!/var/lib/texmf,!!/usr/local/share/texmf,!!/usr/share/texmf-site,!!/usr/share/texmf}/fonts/enc//
TEXFONTMAPS=.:{!!/root/.texmf-config,!!/root/.texmf-var,/root/texmf,!!/var/lib/texmf,!!/var/lib/texmf,!!/var/lib/texmf,!!/usr/local/share/texmf,!!/usr/share/texmf-site,!!/usr/share/texmf}/fonts/map//

==== kpathsea variables (from environment only; ok if no output here) ====
TEXINPUTS=/usr/lib/ocaml/ocamldoc:

# kpsewhich --var-value=TEXMFMAIN
/var/lib/texmf

# ll /usr/share/texmf/web2c
total 372K
-rw-r--r-- 1 root root  31K 2007-10-30 13:50 aleph.pool
-rw-r--r-- 1 root root 5.2K 2007-10-30 13:49 amiga-pl.tcx
lrwxrwxrwx 1 root root   30 2007-10-30 13:51 context.cnf -> /etc/texmf/web2c.d/context.cnf
-rw-r--r-- 1 root root 1.0K 2007-10-30 13:49 cp1250cs.tcx
-rw-r--r-- 1 root root 5.5K 2007-10-30 13:49 cp1250pl.tcx
-rw-r--r-- 1 root root 5.0K 2007-10-30 13:49 cp1250t1.tcx
-rw-r--r-- 1 root root 3.5K 2007-10-30 13:49 cp227.tcx
-rw-r--r-- 1 root root  985 2007-10-30 13:49 cp852-cs.tcx
-rw-r--r-- 1 root root 5.7K 2007-10-30 13:49 cp852-pl.tcx
-rw-r--r-- 1 root root 3.0K 2007-10-30 13:49 cp8bit.tcx
-rw-r--r-- 1 root root  603 2007-10-30 13:49 empty.tcx
lrwxrwxrwx 1 root root   28 2007-10-30 13:51 fmtutil.cnf -> /etc/texmf/web2c/fmtutil.cnf
-rw-r--r-- 1 root root 5.3K 2007-10-30 13:49 il1-t1.tcx
-rw-r--r-- 1 root root  986 2007-10-30 13:49 il2-cs.tcx
-rw-r--r-- 1 root root 5.5K 2007-10-30 13:49 il2-pl.tcx
-rw-r--r-- 1 root root 5.0K 2007-10-30 13:49 il2-t1.tcx
-rw-r--r-- 1 root root  920 2007-10-30 13:49 kam-cs.tcx
-rw-r--r-- 1 root root  895 2007-10-30 13:49 kam-t1.tcx
-rw-r--r-- 1 root root 5.8K 2007-10-30 13:49 macce-pl.tcx
-rw-r--r-- 1 root root 5.7K 2007-10-30 13:49 macce-t1.tcx
-rw-r--r-- 1 root root 5.9K 2007-10-30 13:49 maz-pl.tcx
-rw-r--r-- 1 root root  22K 2007-10-30 13:50 mf.pool
lrwxrwxrwx 1 root root   28 2007-10-30 13:51 mktex.cnf -> /etc/texmf/web2c.d/mktex.cnf
-rwxr-xr-x 1 root root 1.4K 2007-10-30 13:50 mktexdir
-rw-r--r-- 1 root root  328 2007-10-30 13:50 mktexdir.opt
-rwxr-xr-x 1 root root 7.7K 2007-10-30 13:50 mktexnam
-rw-r--r-- 1 root root 3.8K 2007-10-30 13:50 mktexnam.opt
-rw-r--r-- 1 root root 4.7K 2007-10-30 13:50 mktex.opt
-rwxr-xr-x 1 root root 1.8K 2007-10-30 13:50 mktexupd
-rw-r--r-- 1 root root 2.3K 2007-10-30 13:49 natural.tcx
-rw-r--r-- 1 root root  30K 2007-10-30 13:50 omega.pool
-rw-r--r-- 1 root root  39K 2007-10-30 13:50 pdftex.pool
-rw-r--r-- 1 root root 3.4K 2007-10-30 13:49 tcvn-t5.tcx
lrwxrwxrwx 1 root root   26 2007-10-30 13:51 texmf.cnf -> /etc/texmf/web2c/texmf.cnf
-rw-r--r-- 1 root root  28K 2007-10-30 13:49 texmf.cnf-4WIN
-rw-r--r-- 1 root root  27K 2007-10-30 13:50 tex.pool
lrwxrwxrwx 1 root root   27 2007-10-30 13:51 updmap.cfg -> /etc/texmf/web2c/updmap.cfg
-rw-r--r-- 1 root root 3.4K 2007-10-30 13:49 viscii-t5.tcx
-rw-r--r-- 1 root root  31K 2007-10-30 13:50 xetex.pool





Comment 4


Erik Zeek





          2007-10-31 01:32:23 UTC
        

Created attachment 134768 [details]
emerge --info

(Sorry I should have spit the last message better.)

Here's my emerge --info as well.

I was able to get more of the packages install using emerge --resume --skipfirst.  Most of the failures were exactly the same.  (I think that one may have been different.)  I still have the following left:

# emerge -pv app-text/texlive

These are the packages that would be merged, in order:

Calculating dependencies                                    ... done!
[ebuild  N    ] dev-texlive/texlive-latex-2007  USE="-doc" 0 kB
[ebuild  N    ] dev-texlive/texlive-metapost-2007  USE="-doc" 0 kB
[ebuild  N    ] dev-texlive/texlive-formatsextra-2007  USE="-doc" 0 kB
[ebuild  N    ] dev-tex/chktex-1.6.3-r1  USE="-debug -doc" 0 kB
[ebuild  N    ] dev-texlive/texlive-mathextra-2007  USE="-doc" 0 kB
[ebuild  N    ] dev-texlive/texlive-htmlxml-2007-r2  USE="-doc" 0 kB
[ebuild  N    ] dev-texlive/texlive-context-2007  USE="-doc" 0 kB
[ebuild   R   ] app-text/texlive-2007  USE="X context extra games graphics humanities music omega png pstricks publishers science xetex xml -cjk -cyrillic -doc" LINGUAS="en -af -ar -bg -bn -cs -cy -da -de -el -en_GB -eo -es -et -fi -fr -he -hi -hr -hsb -hy -id -is -it -ja -ko -la -ml -mn -nl -no -pl -pt -ro -ru -sk -sl -sr -sv -ta -th -tr -uk -vi -zh" 0 kB




Comment 5


R Stephan





          2007-10-31 08:01:11 UTC
        

My emerge output adds nothimng but this

(In reply to comment #1)
> the output of: kpsewhich --var-value=TEXMFMAIN
> (should be /usr/share/texmf)

is /var/lib/texmf on my system, too




Comment 6


Alexis Ballier






          2007-10-31 10:05:55 UTC
        

(In reply to comment #3)

> # kpsewhich --var-value=TEXMFMAIN
> /var/lib/texmf

ouch, this looks wrong, fmtutil will not find mktexdir, thus the directories will not be created.

could you give me the contents of the directory: /etc/texmf/texmf.d
and attach the file: /etc/texmf/web2c/texmf.cnf




Comment 7


R Stephan





          2007-10-31 10:50:01 UTC
        

Created attachment 134784 [details]
/etc/texmf/web2c/texmf.cnf

> could you give me the contents of the directory: /etc/texmf/texmf.d
> and attach the file: /etc/texmf/web2c/texmf.cnf

texmf.d is
" ============================================================================
" Netrw Directory Listing                                        (netrw v109)
"   /etc/texmf/texmf.d
"   Sorted by      name
"   Sort sequence: [\/]$,\.h$,\.c$,\.cpp$,\.[a-np-z]$,*,\.info$,\.swp$,\.o$\.obj$,\.bak$
"   Quick Help: <F1>:help  -:go up dir  D:delete  R:rename  s:sort-by  x:exec
" ============================================================================
../
./
00header.cnf
00texmf.cnf
05searchpaths.cnf
10standardpaths.cnf
15options.cnf
20sizes.cnf




Comment 8


Alexis Ballier






          2007-10-31 11:17:41 UTC
        

(In reply to comment #7)

> 00texmf.cnf
 ^^^^^^^^^^^^

isnt it a stray file from tetex ?
try 'equery belongs' on it.
I think you can delete it, as stated on http://dev.gentoo.org/~aballier/migrationhowto.xml

it gets in the way of texmf-update and sets wrong paths.

imho you should remove all the texlive stuff you have installed and follow the above guide.




Comment 9


R Stephan





          2007-10-31 19:36:08 UTC
        

> it gets in the way of texmf-update and sets wrong paths.

I confirm the full installation works now. Thanks!





Comment 10


Darren Dale





          2007-11-01 12:46:38 UTC
        

*** Bug 197762 has been marked as a duplicate of this bug. ***




Comment 11


Martin von Gagern





          2007-12-02 20:26:42 UTC
        

(In reply to comment #8)
> it gets in the way of texmf-update and sets wrong paths.

I hadn't realized I had to run texmf-update myself. After running that, this error here went away for me as well. Thanks!









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

