Title: 149371 – media-video/gpac-0.4.1_pre20060122 fails mutlilib-strict test
URL: https://bugs.gentoo.org/show_bug.cgi?id=149371

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 149371
media-video/gpac-0.4.1_pre20060122 fails mutlilib-strict test
Last modified: 2006-10-08 07:54:00 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 149371 
      - media-video/gpac-0.4.1_pre20060122 fails mutlilib-strict test


Summary:
media-video/gpac-0.4.1_pre20060122 fails mutlilib-strict test
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

AMD64 Project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-09-27 22:03 UTC by Stuart Stegall





      Modified:
    
2006-10-08 07:54 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



media-video









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




multilib fixed ebuild

              (gpac-0.4.1_pre20060122.ebuild,61 bytes,
                text/plain)

            
2006-09-27 23:42 UTC,

            Stuart Stegall




Details





multilib fixed ebuild

              (gpac-0.4.1_pre20060122.ebuild,3.94 KB,
                text/plain)

            
2006-09-28 06:05 UTC,

            Stuart Stegall




Details





Show
              Obsolete (1)
            View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Stuart Stegall





          2006-09-27 22:03:52 UTC
        

This ebuild fails the multilib-strict test.  Couldn't find anything about it and it's marked stable on AMD64.

Check failing:
   usr/lib/gpac/gm_rtp_in.so
   usr/lib/gpac/gm_render2d.so
   usr/lib/gpac/gm_render3d.so
   usr/lib/gpac/gm_ogg_xiph.so
   usr/lib/gpac/gm_isom_in.so
   usr/lib/gpac/gm_soft_raster.so
   usr/lib/gpac/gm_raw_out.so
   usr/lib/gpac/gm_img_in.so
   usr/lib/gpac/gm_svg_loader.so
   usr/lib/gpac/gm_dummy_in.so
   usr/lib/gpac/gm_svg_in.so
   usr/lib/gpac/gm_sdl_out.so
   usr/lib/gpac/gm_ft_font.so
   usr/lib/gpac/gm_laser_dec.so
   usr/lib/gpac/gm_ffmpeg_in.so
   usr/lib/gpac/gm_ctx_load.so
   usr/lib/gpac/gm_odf_dec.so
   usr/lib/gpac/gm_mp3_in.so
   usr/lib/gpac/gm_timedtext.so
   usr/lib/gpac/gm_bifs_dec.so
   usr/lib/gpac/gm_xvid_dec.so
   usr/lib/gpac/gm_aac_in.so
   usr/lib/gpac/gm_x11_out.so
   usr/lib/libgpac_static.a

QA Notice: the following shared libraries lack a SONAME
 /var/tmp/portage/gpac-0.4.1_pre20060122/image/usr/lib/libgpac-0.4.1-DEV.so

Files matching a file type that is not allowed:
   usr/lib/gpac/gm_rtp_in.so
   usr/lib/gpac/gm_render2d.so
   usr/lib/gpac/gm_render3d.so
   usr/lib/gpac/gm_ogg_xiph.so
   usr/lib/gpac/gm_isom_in.so
   usr/lib/gpac/gm_soft_raster.so
   usr/lib/gpac/gm_raw_out.so
   usr/lib/gpac/gm_img_in.so
   usr/lib/gpac/gm_svg_loader.so
   usr/lib/gpac/gm_dummy_in.so
   usr/lib/gpac/gm_svg_in.so
   usr/lib/gpac/gm_sdl_out.so
   usr/lib/gpac/gm_ft_font.so
   usr/lib/gpac/gm_laser_dec.so
   usr/lib/gpac/gm_ffmpeg_in.so
   usr/lib/gpac/gm_ctx_load.so
   usr/lib/gpac/gm_odf_dec.so
   usr/lib/gpac/gm_mp3_in.so
   usr/lib/gpac/gm_timedtext.so
   usr/lib/gpac/gm_bifs_dec.so
   usr/lib/gpac/gm_xvid_dec.so
   usr/lib/gpac/gm_aac_in.so
   usr/lib/gpac/gm_x11_out.so
   usr/lib/libgpac-0.4.1-DEV.so

!!! ERROR: media-video/gpac-0.4.1_pre20060122 failed.
Call stack:
  misc-functions.sh, line 417:   Called install_qa_check
  misc-functions.sh, line 217:   Called die

!!! multilib-strict check failed!
!!! If you need support, post the topmost build error, and the call stack if relevant.

!!! install_qa_check failed; exiting.


Here's emerge --info:

Portage 2.1.1-r1 (default-linux/amd64/2006.1/desktop, gcc-4.1.1, glibc-2.4-r3, 2.6.17-beyond4 x86_64)
=================================================================
System uname: 2.6.17-beyond4 x86_64 AMD Athlon(tm) 64 Processor 3200+
Gentoo Base System version 1.12.5
Last Sync: Wed, 27 Sep 2006 23:00:01 +0000
ccache version 2.3 [enabled]
app-admin/eselect-compiler: [Not Present]
dev-java/java-config: 1.3.7, 2.0.30
dev-lang/python:     2.4.3-r4
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     2.3
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.13-r3
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -msse3 -march=k8 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/terminfo"
CXXFLAGS="-O2 -msse3 -march=k8 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache collision-protect distlocks metadata-transfer multilib-strict sandbox sfperms strict test"
GENTOO_MIRRORS="http://mirror.datapipe.net/gentoo http://gentoo.cites.uiuc.edu/pub/gentoo/ http://mirrors.acm.cs.rpi.edu/gentoo/"
LINGUAS="en en_US"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/overlays"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="amd64 X a52 aac acl acpi akobe alsa apache2 audiofile avi bash-completion bcp berkdb bitmap-fonts bjam bogofilter boost branding bzip2 cairo cdr cli crypt
cscope cups curl dbus djbfft dlloader dri dssi dts dvd dvdr dvdread eds elibc_glibc emboss encode exif expat exscalibar fam ffmpeg firefox flac fortran fpx ftp
gd gdbm gif glitz glut gmp gnokii gnome gnutls gphoto2 gpm graphviz gs gsl gstreamer gtk gtk2 guile hal hash ieee1394 imlib input_devices_keyboard input_devices_mouse insecure-savers ipv6 isdnlog jack jack-tmpfs jackmidi java jbig jpeg jpeg2k kernel_linux lapack lash lcms ldap libg++ linguas_en linguas_en_US logitech-mouse mad mikmod mono mp3 mp4 mpeg musicbrainz mysql ncurses network nls nptl nptlonly nsplugin numeric offensive ogg openal openexr opengl pam pam_console pcre
pda pdf pdflib perl physfs png ppds pppd pwdb pyste python quicktime readline reflection ruby samba sdl session speex spell spl sqlite ssl svg tcl tcpd theora threads tidy tiff truetype truetype-fonts type1-fonts udev unicode userland_GNU video_cards_nvidia visualization vorbis vst wmf xcomposite xine xml xmms xorg xscreensaver xv xvid xvmc yahoo zlib"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Stuart Stegall





          2006-09-27 23:42:45 UTC
        

Created attachment 98279 [details]
multilib fixed ebuild

I've taken the multilib-strict fix from the -r1 ebuild and applied it to the -r0 ebuild.  Also, had to add a third sed fix of config.mk.

I tested the ebuild and installed it and mplayer and played about 30different movies w/o a problem.
It now passes multilib-strict and collision-protect w/o a problem.

My emerge --info is the same as before.




Comment 2


Stuart Stegall





          2006-09-28 06:05:07 UTC
        

Created attachment 98312 [details]
multilib fixed ebuild

Somehow the ebuild didn't attach.




Comment 3


Simon Stelling (RETIRED)






          2006-10-08 07:54:00 UTC
        

0.4.2 works out of the box. We usually don't backport multilib-strict fixes from testing to stable, so I'll close this one.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

