Title: 85099 – wine-20050310 fails with USE="doc"
URL: https://bugs.gentoo.org/show_bug.cgi?id=85099

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 85099
wine-20050310 fails with USE="doc"
Last modified: 2005-09-01 17:05:53 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 85099 
      - wine-20050310 fails with USE="doc"


Summary:
wine-20050310 fails with USE="doc"
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       major
      


Assignee:

Wine Maintainers








URL:







Whiteboard:




Keywords:









Duplicates (1):
    

102713

      (view as bug list)
    


Depends on:




104515



Blocks:







 

        Show dependency tree





 





      Reported:
    
2005-03-13 08:47 UTC by Ivan Yosifov





      Modified:
    
2005-09-01 17:05 UTC
      (History)
    




          CC List:
        

3 
          users
          
            (show)
          



bent
matteo-ml
sine









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Ivan Yosifov





          2005-03-13 08:47:25 UTC
        

emerge wine

Done.
docbook2ps winelib-user.sgml
Using catalogs: /etc/sgml/sgml-docbook-3.1.cat
Using stylesheet: /usr/share/sgml/docbook/utils-0.6.14/docbook-utils.dsl#print
Working on: /var/tmp/portage/wine-20050310/work/wine-20050310/documentation/winelib-user.sgml
Done.
docbook2txt wine-devel.sgml
Using catalogs: /etc/sgml/sgml-docbook-3.1.cat
Using stylesheet: /usr/share/sgml/docbook/utils-0.6.14/docbook-utils.dsl#html
Working on: /var/tmp/portage/wine-20050310/work/wine-20050310/documentation/wine-devel.sgml
No way to convert HTML to text found.
make: *** [wine-devel.txt] Error 8
make: Leaving directory `/var/tmp/portage/wine-20050310/work/wine-20050310/documentation'

!!! ERROR: app-emulation/wine-20050310 failed.
!!! Function src_compile, Line 93, Exitcode 2
!!! docs
!!! If you need support, post the topmost build error, NOT this status message.


Reproducible: Always
Steps to Reproduce:
1.emerge =wine-20050310




Portage 2.0.51.19 (default-linux/x86/2004.2, gcc-3.4.3, glibc-2.3.4.20050125-r0,
2.6.11-gentoo-r3 i686)
=================================================================
System uname: 2.6.11-gentoo-r3 i686 Intel(R) Pentium(R) 4 CPU 3.20GHz
Gentoo Base System version 1.6.10
Python:              dev-lang/python-2.3.5 [2.3.5 (#1, Feb 18 2005, 10:59:12)]
dev-lang/python:     2.3.5
sys-devel/autoconf:  2.59-r6, 2.13
sys-devel/automake:  1.7.9-r1, 1.8.5-r3, 1.5, 1.4_p6, 1.6.3, 1.9.5
sys-devel/binutils:  2.15.92.0.2-r6
sys-devel/libtool:   1.5.14
virtual/os-headers:  2.6.8.1-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CFLAGS="-O3 -march=pentium4 -fomit-frame-pointer -pipe -fprefetch-loop-arrays
-fforce-addr -falign-functions=4 -funit-at-a-time "
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.3/env
/usr/kde/3.3/share/config /usr/kde/3.3/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config
/usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/
/usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/
/usr/share/texmf/xdvi/ /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O3 -march=pentium4 -fomit-frame-pointer -pipe -fprefetch-loop-arrays
-fforce-addr -falign-functions=4 -funit-at-a-time "
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig ccache distlocks sandbox sfperms"
GENTOO_MIRRORS="http://gentoo.ITDNet.net/gentoo"
LANG="en_US.utf8"
LC_ALL="en_US.utf8"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X aac aalib acl acpi alsa apache2 arts avi bash-completion berkdb
bitmap-fonts cdr crypt cups curl dba doc dvd dvdr emboss encode esd flac
font-server foomaticdb fortran gd gdbm gif gnome gpm gstreamer gtk gtk2 guile
hal howl imagemagick imlib ipv6 ithreads java jpeg junit kde ldap libg++ libwww
mad mikmod mmap mmx motif mozilla mp3 mpeg mysql ncurses nls nptl nvidia
oggvorbis opengl pam pdflib perl pic plotutils png postgres pthreads python qt
quicktime readline sdl session sharedmem slang spell sse ssl svga tcltk tcpd
tetex threads tiff truetype truetype-fonts type1-fonts unicode usb vhosts xml
xml2 xv zlib linguas_en"
Unset:  ASFLAGS, CBUILD, CTARGET, LDFLAGS




Comment 1


Ivan Yosifov





          2005-03-13 08:53:10 UTC
        

Looks like something is permanently wrong with wine docs... :(




Comment 2


David Guembel (RETIRED)






          2005-03-13 09:39:23 UTC
        

The message "No way to convert HTML to text found." sounds more like a general error - are you able to convert other (non-wine) documents that way?

I don't have the error you reported, using docbook-sgml-utils-0.6.12, while you seem to use the ~arch'd docbook-sgml-utils-0.6.14. Could you please retry with that version, in case conversion works with other docs?




Comment 3


Ivan Yosifov





          2005-03-13 10:30:48 UTC
        

I tried converting some non-wine sgmls manually and failed, same error.




Comment 4


Ivan Yosifov





          2005-03-13 10:55:28 UTC
        

Yes, I was using docbook-sgml-utils-0.6.14. My system is ~x86. I downgraded to docbook-sgml-utils-0.6.12 , and this time I got:

docbook2ps wine-user.sgml
Using catalogs: /etc/sgml/sgml-docbook-3.1.cat
Using stylesheet: /usr/share/sgml/docbook/utils-0.6.12/docbook-utils.dsl#print
Working on: /var/tmp/portage/wine-20050310/work/wine-20050310/documentation/wine-user.sgmlDone.
docbook2ps winelib-user.sgml
Using catalogs: /etc/sgml/sgml-docbook-3.1.cat
Using stylesheet: /usr/share/sgml/docbook/utils-0.6.12/docbook-utils.dsl#print
Working on: /var/tmp/portage/wine-20050310/work/wine-20050310/documentation/winelib-user.sgml
Done.
docbook2txt wine-devel.sgml
Using catalogs: /etc/sgml/sgml-docbook-3.1.cat
Using stylesheet: /usr/share/sgml/docbook/utils-0.6.12/docbook-utils.dsl#html
Working on: /var/tmp/portage/wine-20050310/work/wine-20050310/documentation/wine-devel.sgml
Unknown option -dump
make: *** [wine-devel.txt] Error 9
make: Leaving directory `/var/tmp/portage/wine-20050310/work/wine-20050310/documentation'

!!! ERROR: app-emulation/wine-20050310 failed.
!!! Function src_compile, Line 93, Exitcode 2
!!! docs
!!! If you need support, post the topmost build error, NOT this status message.





Comment 5


rob miller





          2005-03-21 11:13:33 UTC
        

what's libosp ?  I have a mostly x86 system (not ~x86) and I get:

docbook2html -u wine-devel.sgml
head: `-1' option is obsolete; use `-n 1' since this will be removed in the future
Using catalogs: /etc/sgml/sgml-docbook-3.1.cat
Using stylesheet: /usr/share/sgml/docbook/utils-0.6.12/docbook-utils.dsl#html
Working on: /var/tmp/portage/wine-20050310/work/wine-20050310/documentation/wine-devel.sgml
jade: error while loading shared libraries: libosp.so.3: cannot open shared object file: No such file or directory
make: *** [wine-devel.html] Error 8
make: Leaving directory `/var/tmp/portage/wine-20050310/work/wine-20050310/documentation'

with:

rob@vista:~ $ emerge info
Portage 2.0.51.19 (default-linux/x86/2004.0, gcc-3.3.5, glibc-2.3.4.20041102-r1, 2.6.11-rc4 i686)
=================================================================
System uname: 2.6.11-rc4 i686 Intel(R) Pentium(R) 4 Mobile CPU 1.70GHz
Gentoo Base System version 1.4.16
Python:              dev-lang/python-2.3.4-r1,dev-lang/python-2.2.3-r5 [2.3.4 (#1, Feb 17 2005, 10:56:24)]
dev-lang/python:     2.3.4-r1, 2.2.3-r5
sys-devel/autoconf:  2.59-r6, 2.13
sys-devel/automake:  1.7.9-r1, 1.6.3, 1.8.5-r3, 1.4_p6, 1.5, 1.9.5
sys-devel/binutils:  2.15.92.0.2-r1
sys-devel/libtool:   1.5.14
virtual/os-headers:  2.4.19-r1, 2.4.22-r1
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CFLAGS="-Wall -O3 -mcpu=pentium4 -funroll-loops -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.1/share/config /usr/kde/3.2/share/config /usr/kde/3.3/env /usr/kde/3.3/share/config /usr/kde/3.3/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/ /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-Wall -O3 -mcpu=pentium4 -funroll-loops -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig ccache distlocks sandbox sfperms"
GENTOO_MIRRORS="ftp://mirrors.tds.net/gentoo http://mirrors.tds.net/gentoo ftp://mir.zyrianes.net/gentoo/"
LANG="en_GB"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X Xaw3d acpi alsa apache2 apm arts avi berkdb bitmap-fonts bonobo cdr crypt cups curl doc dvd emacs emboss encode esd f77 fam fbcon flac font-server foomaticdb fortran gcj gdbm gif gimp gnome gphoto2 gpm gps gstreamer gtk gtk2 gtkhtml guile imagemagick imlib ipv6 java jikes jpeg kde kerberos lcms ldap libg++ libwww lzw-tiff mad mbox mikmod mmx mmx2 motif mozilla mp3 mpeg ncurses nls oggvorbis opengl oss pam pcmcia pda pdflib perl perlsuid plotutils png ppds python qt quicktime readline samba scanner sdl slang snmp softmmu speex spell sse sse2 ssl svg svga tcltk tcpd tetex tiff truetype truetype-fonts trusted type1-fonts usb wmf xml xml2 xmms xv zlib"
Unset:  ASFLAGS, CBUILD, CTARGET, LC_ALL, LDFLAGS

rob.




Comment 6


Ivan Yosifov





          2005-03-21 11:42:48 UTC
        

app-text/opensp-1.5.1
libosp.so.4




Comment 7


Andre Schieleit





          2005-03-27 22:09:41 UTC
        

I also have problems emerge'ing this package:

----8<----
Wine build complete.
make: Entering directory `/var/tmp/portage/wine-20050111-r1/work/wine-20050111/documentation'
docbook2html -u wine-devel.sgml
Using catalogs: /etc/sgml/sgml-docbook-3.1.cat
Using stylesheet: /usr/share/sgml/docbook/utils-0.6.12/docbook-utils.dsl#html
Working on: /var/tmp/portage/wine-20050111-r1/work/wine-20050111/documentation/wine-devel.sgml
---->8----

and then there goes nothing for hours, the output of top:

----8<----
  PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND
20550 root      25   0 18652  14m 4052 R 99.8  3.0 248:53.23 jade  
---->8----

I'm using docbook-sgml-utils-0.6.12




Comment 8


Andre Schieleit





          2005-03-28 13:02:18 UTC
        

I let it run hoping it will come to an end.. still no result, aborting emerge.
----8<----
  PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND                                   
20550 root      25   0 18652  14m 4052 R 99.4  3.0   1148:08 jade
---->8----




Comment 9


mike daugird





          2005-04-15 11:26:12 UTC
        

I have the bug where I get Error 9 not Error 8.
is there a work around for this?
-docs ???




Comment 10


Jakub Moc (RETIRED)






          2005-08-16 07:30:36 UTC
        

*** Bug 102713 has been marked as a duplicate of this bug. ***




Comment 11


SpanKY






          2005-09-01 17:05:53 UTC
        

newer ebuilds dont build doc anymore









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

