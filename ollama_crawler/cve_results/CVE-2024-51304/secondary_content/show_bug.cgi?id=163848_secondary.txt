Title: 163848 – media-libs/gst-plugins-good-0.10.5 build failure missing header
URL: https://bugs.gentoo.org/show_bug.cgi?id=163848

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 163848
media-libs/gst-plugins-good-0.10.5 build failure missing header
Last modified: 2008-02-07 15:37:52 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 163848 
      - media-libs/gst-plugins-good-0.10.5 build failure missing header


Summary:
media-libs/gst-plugins-good-0.10.5 build failure missing header
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

GStreamer package maintainers








URL:







Whiteboard:




Keywords:









Duplicates (4):
    

166162 188933 207691 209247

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2007-01-26 00:43 UTC by Jose daLuz





      Modified:
    
2008-02-07 15:37 UTC
      (History)
    




          CC List:
        

4 
          users
          
            (show)
          



dliana
GNUtoo
howard_b_golden
siegerstein









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Jose daLuz





          2007-01-26 00:43:29 UTC
        

Updating gst-plugins-good from 0.10.4 to 0.10.5 I get this build failure:

Making all in tests
make[2]: Entering directory `/var/tmp/portage/media-libs/gst-plugins-good-0.10.5/work/gst-plugins-good-0.10.5/tests'
Making all in check
make[3]: Entering directory `/var/tmp/portage/media-libs/gst-plugins-good-0.10.5/work/gst-plugins-good-0.10.5/tests/check'
if x86_64-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I. -I../..       -march=k8 -O2 -pipe -ggdb -fPIC -MT autodetect.o -MD -MP -MF ".deps/autodetect.Tpo" -c -o autodetect.o `test -f 'elements/autodetect.c' || echo './'`elements/autodetect.c; \
        then mv -f ".deps/autodetect.Tpo" ".deps/autodetect.Po"; else rm -f ".deps/autodetect.Tpo"; exit 1; fi
elements/autodetect.c:25:32: error: gst/check/gstcheck.h: No such file or directory
elements/autodetect.c: In function ‘GST_START_TEST’:
elements/autodetect.c:29: error: ‘GstStateChangeReturn’ undeclared (first use in this function)
elements/autodetect.c:29: error: (Each undeclared identifier is reported only once
elements/autodetect.c:29: error: for each function it appears in.)
elements/autodetect.c:29: error: expected ‘;’ before ‘state_ret’
elements/autodetect.c:30: error: ‘GstElement’ undeclared (first use in this function)
elements/autodetect.c:30: error: ‘pipeline’ undeclared (first use in this function)
elements/autodetect.c:30: error: ‘src’ undeclared (first use in this function)
elements/autodetect.c:30: error: ‘filter’ undeclared (first use in this function)
elements/autodetect.c:30: error: ‘sink’ undeclared (first use in this function)
elements/autodetect.c:31: error: ‘GstCaps’ undeclared (first use in this function)
elements/autodetect.c:31: error: ‘caps’ undeclared (first use in this function)
elements/autodetect.c:34: error: ‘NULL’ undeclared (first use in this function)
elements/autodetect.c:35: error: ‘state_ret’ undeclared (first use in this function)
elements/autodetect.c:35: error: ‘GST_STATE_READY’ undeclared (first use in this function)
elements/autodetect.c:39: error: ‘GST_STATE_NULL’ undeclared (first use in this function)
elements/autodetect.c:41: error: ‘GST_STATE_CHANGE_SUCCESS’ undeclared (first use in this function)
elements/autodetect.c:51: error: ‘GST_TYPE_FOURCC’ undeclared (first use in this function)
elements/autodetect.c:63: error: ‘GST_STATE_PAUSED’ undeclared (first use in this function)
elements/autodetect.c:64: error: ‘GST_STATE_CHANGE_FAILURE’ undeclared (first use in this function)
elements/autodetect.c: At top level:
elements/autodetect.c:77: warning: data definition has no type or storage class
elements/autodetect.c:133: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘*’ token
elements/autodetect.c:155: warning: data definition has no type or storage class
elements/autodetect.c:155: warning: parameter names (without types) in function declaration
make[3]: *** [autodetect.o] Error 1
make[3]: Leaving directory `/var/tmp/portage/media-libs/gst-plugins-good-0.10.5/work/gst-plugins-good-0.10.5/tests/check'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/var/tmp/portage/media-libs/gst-plugins-good-0.10.5/work/gst-plugins-good-0.10.5/tests'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/media-libs/gst-plugins-good-0.10.5/work/gst-plugins-good-0.10.5'
make: *** [all] Error 2

I tried rebuilding with USE=-debug but that made no difference.

Portage 2.1.2-r4 (default-linux/amd64/2006.1/desktop, gcc-4.1.1, glibc-2.5-r0, 2.6.19-gentoo-r4 x86_64)
=================================================================
System uname: 2.6.19-gentoo-r4 x86_64 AMD Athlon(tm) 64 Processor 3000+
Gentoo Base System version 1.13.0_alpha12
Timestamp of tree: Thu, 25 Jan 2007 23:50:01 +0000
ccache version 2.4 [enabled]
dev-java/java-config: 1.3.7, 2.0.31-r3
dev-lang/python:     2.4.4
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     2.4-r6
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.61
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.17
sys-devel/gcc-config: 1.3.14
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.19.2-r1
ACCEPT_KEYWORDS="amd64 ~amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=k8 -O2 -pipe -ggdb"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c"
CXXFLAGS="-march=k8 -O2 -pipe -ggdb -ffriend-injection"
DISTDIR="/usr/portage/distfiles"
EMERGE_DEFAULT_OPTS=""
FEATURES="autoconfig ccache distlocks fixpackages parallel-fetch sandbox sfperms splitdebug strict"
GENTOO_MIRRORS="http://distro.ibiblio.org/pub/linux/distributions/gentoo/ http://gentoo.osuosl.org/ "
LANG="en_US.UTF-8"
LC_ALL="en_US.UTF-8"
LINGUAS="en"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_EXTRA_OPTS="--timeout=120"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portage/local/layman/sunrise /usr/portage/local/layman/wrobel /usr/portage/local/layman/gentopia /usr/portage/local/layman/gnome-experimental /usr/portage/local/layman/break-my-gentoo-main /usr/local/overlays/myoverlay /usr/local/overlays/bmg-main"
SYNC="rsync://rsync.ca.gentoo.org/gentoo-portage"
USE="X a52 aac alsa amd64 amr bash-completion berkdb bitmap-fonts bzip2 cairo cdda cdr cli cracklib crypt css cups dbus debug dlloader dri dts dvd dvdr eds emboss encode esd fam ffmpeg firefox flac fortran gdbm gif glitz gnome gpm gstreamer gtk gtk2 hal iconv ipv6 isdnlog java jpeg kde kdehiddenvisibility ldap libg++ libnotify mad mikmod mono mp3 mpeg ncurses nls nptl nptlonly ogg opengl pam pcre perl pic png ppds pppd python qt3 qt4 quicktime readline reflection ruby samba sdl session spell spl sqlite ssl tcpd theora tiff truetype truetype-fonts type1-fonts udev unicode usb userlocales vcd vorbis x264 xcb xml xorg xv xvid zlib" ALSA_CARDS="emu10k1" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" ELIBC="glibc" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en" USERLAND="GNU" VIDEO_CARDS="vesa nvidia"
Unset:  CTARGET, INSTALL_MASK, LDFLAGS




Comment 1


Roel Brook





          2007-02-02 02:33:40 UTC
        

Confirmed, also on amd64

roel@Medusa ~ $ locate gstcheck.h
roel@Medusa ~ $ 

Portage 2.1.2-r5 (default-linux/amd64/2006.1/desktop, gcc-4.1.1, glibc-2.5-r0, 2.6.20-rc6-mm1 x86_64)
=================================================================
System uname: 2.6.20-rc6-mm1 x86_64 Intel(R) Pentium(R) D CPU 3.40GHz
Gentoo Base System version 1.12.9
Timestamp of tree: Fri, 02 Feb 2007 01:50:01 +0000
dev-java/java-config: 1.3.7, 2.0.31-r3
dev-lang/python:     2.4.4
dev-python/pycrypto: 2.0.1-r5
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.61
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.17
sys-devel/gcc-config: 1.3.14
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.19.2-r2
ACCEPT_KEYWORDS="amd64 ~amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=nocona -O2 -pipe -fomit-frame-pointer -funroll-loops -fweb -ftree-vectorize"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/kde/svn/env /usr/kde/svn/share/config /usr/kde/svn/shutdown /usr/share/X11/xkb /usr/share/config /var/qmail/alias /var/qmail/control /var/vpopmail/domains /var/vpopmail/etc"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/terminfo"
CXXFLAGS="-march=nocona -O2 -pipe -fomit-frame-pointer -funroll-loops -fweb -ftree-vectorize"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://ftp.belnet.be/mirror/rsync.gentoo.org/gentoo/ ftp://ftp.belnet.be/mirror/rsync.gentoo.org/gentoo/ ftp://ftp.linux.ee/pub/gentoo/distfiles/ ftp://ftp.tu-clausthal.de/pub/linux/gentoo/"
LANG="nl_NL"
LC_ALL="nl_NL"
LINGUAS="nl"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portage/local/layman/portage-xgl /usr/portage/local/layman/xeffects /usr/portage/local/layman/sunrise /usr/portage/local/layman/mozilla /usr/portage/local/layman/voip /usr/portage/local/layman/kde /usr/portage/local/layman/pok3d /usr/local/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="X aac acl acpi alsa amd64 bash-completion berkdb bitmap-fonts bri bzip2 cairo cdr cli cracklib crypt cups curl dbus directfb dlloader dvd dvdr eds emboss encode esd evo fam ffmpeg firefox flac fortran fuse gcc64 gdbm gif glitz gnome gpm gstreamer gtk gtk2 hal iconv imagemagick insecure-savers ipod isdnlog java javascript jpeg kde latex ldap libg++ live lzo mad mbox midi mikmod mjpeg mono mozbranding mp3 mpeg musepack musicbrainz mysql ncurses new-login nls nptl nptlonly nsplugin offensive ogg opengl oss pam pcre pda pdf perl png pop3d postgres ppds pppd python qt3 qt3support qt4 quicktime readline reflection samba sdl session spell spl ssl stroke svg tcl tcltk tcpd theora threads thunderbird tiff tk truetype truetype-fonts type1-fonts udev unicode vcd visualization vorbis vpopmail xcomposite xml xorg xv xvid zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" ELIBC="glibc" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="nl" USERLAND="GNU" VIDEO_CARDS="nvidia"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LDFLAGS, PORTAGE_RSYNC_EXTRA_OPTS






Comment 2


Nick Fortune





          2007-02-02 09:20:55 UTC
        

Confirmed for Intel X86 also:

creeper# !sloc
slocate gstcheck.h
creeper# 

Portage 2.1.2-r6 (default-linux/x86/2006.1, gcc-4.1.1, glibc-2.5-r0, 2.6.19-gentoo-r4 i686)
=================================================================
System uname: 2.6.19-gentoo-r4 i686 Genuine Intel(R) CPU           T2400  @ 1.83GHz
Gentoo Base System version 1.12.9
Timestamp of tree: Fri, 02 Feb 2007 07:50:01 +0000
dev-java/java-config: 1.3.7, 2.0.31-r3
dev-lang/python:     2.4.4
dev-python/pycrypto: 2.0.1-r5
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.61
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.17
sys-devel/gcc-config: 1.3.14
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.19.2-r2
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium-m -pipe -mno-tls-direct-seg-refs"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/lib/mozilla/defaults/pref /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/splash /etc/terminfo /etc/texmf/web2c"
CXXFLAGS="-O2 -march=pentium-m -pipe -mno-tls-direct-seg-refs"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="ftp://212.219.56.135/sites/www.ibiblio.org/gentoo/ ftp://212.219.56.134/sites/www.ibiblio.org/gentoo/ ftp://194.117.143.69/mirrors/gentoo http://212.219.56.135/sites/www.ibiblio.org/gentoo/ http://194.117.143.71"
LINGUAS="en_GB en ja"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="X acpi alsa amuled apache2 automount berkdb bitmap-fonts bluetooth cjk cli cracklib crypt cups dbus directfb dlloader dri dvdr dvi evo fbcon ffmpeg firefox foomaticdb fortran gdbm gif gpm gtk hal iconv imap imlib ipod ipv6 irda isdnlog java javascript jpeg ldap libg++ mbox midi mikmod mime mimencode mmx mono mozbranding mp3 mpeg mpeg2 mplayer mppe-mppc msn ncurses nls nptl nptlonly nsplugin oci8-instant-client offensive opengl oracle oss pam pcre pda pdf perl plugin png pop posix postgres ppds pppd procmail python qt3 quicktime rdesktop readline real reflection rfkill scanner screen sdl session spl sse sse2 ssl stroke svg sysfs tcpd tk truetype truetype-fonts type1-fonts udev unicode v4l v4l2 vorbis widescreen wifi win32codecs wmf wmp x86 xorg zlib" ALSA_CARDS="hda-intel intel8x0 intel8x0m" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" ELIBC="glibc" INPUT_DEVICES="keyboard mouse evdev synaptics" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en_GB en ja" USERLAND="GNU" VIDEO_CARDS="vmware vesa nv nvidia"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, PORTAGE_RSYNC_EXTRA_OPTS





Comment 3


Jakub Moc (RETIRED)






          2007-02-10 07:47:55 UTC
        

*** Bug 166162 has been marked as a duplicate of this bug. ***




Comment 4


Roel Brook





          2007-02-11 17:47:35 UTC
        

I have fixed this by re-emerging gstreamer.

Maybe something to do with the sunrise overlay? 

Although Nick doesn't have it in his overlay list...




Comment 5


Jose daLuz





          2007-02-11 19:08:02 UTC
        

(In reply to comment #4)
> I have fixed this by re-emerging gstreamer.
>
Thanks, that works for me as well. I don't see anything in the gstreamer Changelog other than pruning old versions and stablizing on different arches since I emerged 0.10.11 on Dec 7. Was there a silent change to the ebuild in the meantime?





Comment 6


Jakub Moc (RETIRED)






          2007-06-28 08:05:33 UTC
        

(In reply to comment #5)
> (In reply to comment #4)
> > I have fixed this by re-emerging gstreamer.
> >
> Thanks, that works for me as well.

Well, closing then.




Comment 7


Jakub Moc (RETIRED)






          2007-08-15 05:36:25 UTC
        

*** Bug 188933 has been marked as a duplicate of this bug. ***




Comment 8


Jakub Moc (RETIRED)






          2008-01-27 15:25:40 UTC
        

*** Bug 207691 has been marked as a duplicate of this bug. ***




Comment 9


Jakub Moc (RETIRED)






          2008-02-07 15:37:52 UTC
        

*** Bug 209247 has been marked as a duplicate of this bug. ***









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

