Title: 803356 – net-misc/curl-7.78.0 fails tests: - sh:line <snip>: /.../test1196-library.pl: No such file or directory
URL: https://bugs.gentoo.org/show_bug.cgi?id=803356

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 803356
net-misc/curl-7.78.0 fails tests: - sh:line <snip>: /.../test1196-library.pl: No such file or directory
Last modified: 2023-03-07 10:39:46 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 803356 
      - net-misc/curl-7.78.0 fails tests: - sh:line <snip>: /.../test1196-library.pl: No such file or directory


Summary:
net-misc/curl-7.78.0 fails tests: - sh:line <snip>: /.../test1196-library.pl:...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Matt Jolly








URL:







Whiteboard:




Keywords:

TESTFAILURE







Depends on:







Blocks:









 





      Reported:
    
2021-07-22 08:51 UTC by Toralf Förster





      Modified:
    
2023-03-07 10:39 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



base-system
sam









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge-info.txt

              (emerge-info.txt,18.42 KB,
                text/plain)

            
2021-07-22 08:51 UTC,

            Toralf Förster




Details





emerge-history.txt

              (emerge-history.txt,286.35 KB,
                text/plain)

            
2021-07-22 08:51 UTC,

            Toralf Förster




Details





environment

              (environment,99.15 KB,
                text/plain)

            
2021-07-22 08:51 UTC,

            Toralf Förster




Details





etc.portage.tar.bz2

              (etc.portage.tar.bz2,25.62 KB,
                application/x-bzip)

            
2021-07-22 08:51 UTC,

            Toralf Förster




Details





logs.tar.bz2

              (logs.tar.bz2,36.09 KB,
                application/x-bzip)

            
2021-07-22 08:51 UTC,

            Toralf Förster




Details





net-misc:curl-7.78.0:20210722-042930.log

              (net-misc:curl-7.78.0:20210722-042930.log,872.19 KB,
                text/plain)

            
2021-07-22 08:51 UTC,

            Toralf Förster




Details





temp.tar.bz2

              (temp.tar.bz2,88.19 KB,
                application/x-bzip)

            
2021-07-22 08:51 UTC,

            Toralf Förster




Details





tests.tar.bz2

              (tests.tar.bz2,461.23 KB,
                application/x-bzip)

            
2021-07-22 08:51 UTC,

            Toralf Förster




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Toralf Förster






          2021-07-22 08:51:10 UTC
        

 There was no content at all in the file log/server.input.
 Server glitch? Total curl failure? Returned: 1
sh: line 1: /var/tmp/portage/net-misc/curl-7.78.0/work/curl-7.78.0/tests/log/test1196-library.pl: No such file or directory
test 1170...
 1170: protocol FAILED!
 There was no content at all in the file log/server.input.
 Server glitch? Total curl failure? Returned: 1

  -------------------------------------------------------------------

  This is an unstable amd64 chroot image at a tinderbox (==build bot)
  name: 17.1_desktop_plasma_systemd-j3_test-20210715-115044

  -------------------------------------------------------------------

gcc-config -l:
 [1] x86_64-pc-linux-gnu-11.1.0 *
clang version 12.0.1
Target: x86_64-pc-linux-gnu
Thread model: posix
InstalledDir: /usr/lib/llvm/12/bin
/usr/lib/llvm/12
12.0.1
Python 3.9.6
Available Rust versions:
  [1]   rust-bin-1.53.0 *
The following VMs are available for generation-2:
*)	AdoptOpenJDK 8.292_p10 [openjdk-bin-8]
Available Java Virtual Machines:
  [1]   openjdk-bin-8  system-vm

The Glorious Glasgow Haskell Compilation System, version 8.10.4
  HEAD of ::gentoo
commit cb059b9883729f52ebaff4e139b96def7b2986a8
Author: Repository mirror & CI <repomirrorci@gentoo.org>
Date:   Thu Jul 22 04:06:46 2021 +0000

    2021-07-22 04:06:45 UTC

emerge -qpvO net-misc/curl
[ebuild     U ] net-misc/curl-7.78.0 [7.77.0-r1] USE="ftp http2 imap ipv6 openssl pop3 progress-meter smtp ssl test tftp -adns -alt-svc -brotli -gnutls -gopher -hsts -idn -kerberos -ldap -mbedtls (-nghttp3) -nss -quiche -rtmp -samba -ssh -sslv3 -static-libs -telnet -threads (-winssl) -zstd (-metalink%)" ABI_X86="(64) -32 (-x32)" CURL_SSL="openssl -gnutls -mbedtls -nss (-winssl)"




Comment 1


Toralf Förster






          2021-07-22 08:51:12 UTC
        

Created attachment 725710 [details]
emerge-info.txt




Comment 2


Toralf Förster






          2021-07-22 08:51:13 UTC
        

Created attachment 725713 [details]
emerge-history.txt




Comment 3


Toralf Förster






          2021-07-22 08:51:15 UTC
        

Created attachment 725716 [details]
environment




Comment 4


Toralf Förster






          2021-07-22 08:51:16 UTC
        

Created attachment 725719 [details]
etc.portage.tar.bz2




Comment 5


Toralf Förster






          2021-07-22 08:51:17 UTC
        

Created attachment 725722 [details]
logs.tar.bz2




Comment 6


Toralf Förster






          2021-07-22 08:51:19 UTC
        

Created attachment 725725 [details]
net-misc:curl-7.78.0:20210722-042930.log




Comment 7


Toralf Förster






          2021-07-22 08:51:21 UTC
        

Created attachment 725728 [details]
temp.tar.bz2




Comment 8


Toralf Förster






          2021-07-22 08:51:23 UTC
        

Created attachment 725731 [details]
tests.tar.bz2




Comment 9


Agostino Sarubbo






          2022-02-13 10:05:26 UTC
        

Update summary. [something] is used when something refers to an overlay




Comment 10


Matt Jolly






          2023-03-07 10:36:10 UTC
        

Something seems to have gone seriously awry here. Every sets has failed; it looks like none of the supporting test files exist. I can't see a problem with any upstream binaries and I can run tests on both the currently in-tree and 7.78.0 ebuilds with no issues.

Can't repro, and I don't suspect we'll be able to.




Comment 11


Matt Jolly






          2023-03-07 10:39:46 UTC
        

s/binaries/sources/









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

