Title: 264374 – dev-lang/php dependency on mail-mta/sendmail
URL: https://bugs.gentoo.org/show_bug.cgi?id=264374

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 264374
dev-lang/php dependency on mail-mta/sendmail
Last modified: 2009-08-26 22:48:36 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 264374 
      - dev-lang/php dependency on mail-mta/sendmail


Summary:
dev-lang/php dependency on mail-mta/sendmail
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       minor
      


Assignee:

PHP Bugs








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-03-31 11:02 UTC by Mathieu Z





      Modified:
    
2009-08-26 22:48 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



gentoo-bugs









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Mathieu Z





          2009-03-31 11:02:32 UTC
        

Currently dev-lang/php depends on virtual/mta, which by default pulls in mail-mta/ssmtp. The /usr/sbin/sendmail command is a symlink to /usr/sbin/ssmtp.

However, php does not seem to work with ssmtp at all as it doesn't take the -t -i options. In order for php's mailing system to work, one must pull in mail-mta/sendmail.

This is particular important for those php program such as gallery2, phpbb etc which depends on email for many features.

Reproducible: Always

Steps to Reproduce:
1. ask gallery2 to send a test email
2.
3.




Comment 1


Rafał Mużyło





          2009-03-31 14:16:14 UTC
        

Not that I know much about php, but in 'php --info' output
I see following line:
sendmail_path => /usr/sbin/sendmail -t -i  => /usr/sbin/sendmail -t -i

so, perhaps, this may just be configurable.

So, while ssmtp may simply ignore '-t', it looks like i.e. msmtp should work.
And from what I just gooogled, there's probably a way 
to make it work with msmtp too.




Comment 2


Mathieu Z





          2009-03-31 20:33:11 UTC
        

(In reply to comment #1)
> Not that I know much about php, but in 'php --info' output
> I see following line:
> sendmail_path => /usr/sbin/sendmail -t -i  => /usr/sbin/sendmail -t -i
> 
> so, perhaps, this may just be configurable.
> 
> So, while ssmtp may simply ignore '-t', it looks like i.e. msmtp should work.
> And from what I just gooogled, there's probably a way 
> to make it work with msmtp too.
> 

Indeed, you can emerge sendmail to replace ssmpt (they block each other), or edit your "/etc/php/{cli|apache}/php.ini". Simple work arounds. I just think that the default installation/configs should work.




Comment 3


Lars Wendler (Polynomial-C) (RETIRED)






          2009-03-31 22:33:42 UTC
        

Let's wait for php-herd's opinion...




Comment 4


Christian Hoffmann (RETIRED)






          2009-06-21 23:35:33 UTC
        

I'd prefer to just change the default ini setting. Any ideas what value would work for both?
I'd rather like to avoid changing the ini file on installation depending on the installed mta.




Comment 5


Mathieu Z





          2009-08-26 22:48:36 UTC
        

Not sure what has changed, but I am able to send email using ssmtp in gallery2 now.

Closing. Reopen if someone else have this problem.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

