Title: 353584 – net-analyzer/rrdtool-1.4.4 fails to build on missing cairo dependencies
URL: https://bugs.gentoo.org/show_bug.cgi?id=353584

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 353584
net-analyzer/rrdtool-1.4.4 fails to build on missing cairo dependencies
Last modified: 2011-04-19 15:40:44 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 353584 
      - net-analyzer/rrdtool-1.4.4 fails to build on missing cairo dependencies


Summary:
net-analyzer/rrdtool-1.4.4 fails to build on missing cairo dependencies
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Netmon project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2011-02-03 05:01 UTC by Adam Nielsen





      Modified:
    
2011-04-19 15:40 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Adam Nielsen





          2011-02-03 05:01:52 UTC
        

Looks like a bunch of dependencies are missing for rrdtool:

Find 3rd-Party Libraries
checking for libdbi... no
checking for cairo_font_options_create in -lcairo... yes
checking cairo.h usability... no
checking cairo.h presence... no
checking for cairo.h... no
checking for pkg-config... pkg-config
configure: WARNING:
----------------------------------------------------------------------------
* I found a copy of pkgconfig, but there is no cairo-png.pc file around.
  You may want to set the PKG_CONFIG_PATH variable to point to its
  location.
----------------------------------------------------------------------------

configure: WARNING:
----------------------------------------------------------------------------
* I could not find a working copy of cairo-png. Check config.log for hints on why
  this is the case. Maybe you need to set LDFLAGS and CPPFLAGS appropriately
  so that compiler and the linker can find libcairo and its header files.

...

checking for pkg-config... (cached) pkg-config
configure: WARNING:
----------------------------------------------------------------------------
* I found a copy of pkgconfig, but there is no cairo-svg.pc file around.
  You may want to set the PKG_CONFIG_PATH variable to point to its
  location.

...

checking for pkg-config... (cached) pkg-config
configure: WARNING:              
----------------------------------------------------------------------------
* I found a copy of pkgconfig, but there is no cairo-pdf.pc file around.
  You may want to set the PKG_CONFIG_PATH variable to point to its
  location.


Portage 2.1.9.35 (default/linux/amd64/10.0/desktop, gcc-4.3.1, glibc-2.11-r0, 2.6.31.6 x86_64)
=================================================================
                        System Settings
=================================================================
System uname: Linux-2.6.31.6-x86_64-Intel-R-_Core-TM-2_Quad_CPU_Q6600_@_2.40GHz-with-gentoo-2.0.1
Timestamp of tree: Thu, 03 Feb 2011 04:15:01 +0000
app-shells/bash:     4.0_p35
dev-java/java-config: 1.3.7, 2.1.11
dev-lang/python:     2.4.3-r4::<unknown repository>, 2.5.2-r5, 2.6.4, 3.1.1-r1
dev-util/cmake:      2.8.0
sys-apps/baselayout: 2.0.1
sys-apps/openrc:     0.5.2-r2
sys-apps/sandbox:    2.2
sys-devel/autoconf:  2.13, 2.64
sys-devel/automake:  1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.2, 1.11
sys-devel/binutils:  2.20
sys-devel/gcc:       4.1.1-r3::<unknown repository>, 4.3.1-r1, 4.4.2
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   2.2.6b
sys-devel/make:      3.81
virtual/os-headers:  2.6.30-r1 (sys-kernel/linux-headers)
ACCEPT_KEYWORDS="amd64 ~amd64"
ACCEPT_LICENSE="* -@EULA dlj-1.1"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -march=nocona -pipe -ggdb"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-O2 -march=nocona -pipe -ggdb"
DISTDIR="/usr/portage/distfiles"
FEATURES="assume-digests binpkg-logs distlocks fixlafiles fixpackages news nostrip parallel-fetch protect-owned sandbox sfperms strict unknown-features-warn unmerge-logs unmerge-orphans userfetch"
FFLAGS=""
LANG="en_AU.UTF-8"
LC_ALL="en_AU.UTF-8"
LDFLAGS="-Wl,-O1 -Wl,--as-needed"
LINGUAS="en_AU en_GB"
MAKEOPTS="-j4"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage/layman/desktop-effects"
USE="X a52 aac aalib acl acpi alsa amd64 berkdb bluetooth branding bzip2 cairo cdr cli consolekit cracklib crypt cups cxx dbus dri dts dv dvd dvdr emboss encode exif fam ffmpeg firefox flac gdbm gdu gif gnome gpm gtk hal iconv ieee1394 iproute2 ipv6 jack java jpeg jpeg2k kerberos ladcca ladspa lcms ldap libnotify libsamplerate mad mikmod mmx mng modules mp3 mp4 mpeg mplayer mudflap multilib mysql ncurses nls nonfsv4 nptl nptlonly ogg opengl openmp pam pango pcre pdf perl php png policykit ppds pppd python qt3support qt4 readline samba sdl session slang smp speex spell sse sse2 ssl startup-notification svg sysfs syslog tcpd theora threads tiff truetype udev unicode usb vorbis wmf x264 xcb xcomposite xinerama xml xorg xscreensaver xulrunner xv xvid xvmc zlib" ALSA_CARDS="emu10k1" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cgi cgid dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf superstar2 timing tsip tripmate tnt ubx" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en_AU en_GB" PHP_TARGETS="php5-3" RUBY_TARGETS="ruby18" USERLAND="GNU" VIDEO_CARDS="nvidia vesa vga nv none" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account" 
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Jeroen Roovers (RETIRED)






          2011-02-03 19:36:36 UTC
        

Please paste the output of `emerge -vpq x11-libs/cairo' in a comment.




Comment 2


Adam Nielsen





          2011-02-04 00:02:00 UTC
        

[ebuild     U ] x11-libs/cairo-1.10.2-r1 [1.8.8] USE="X opengl qt4%* svg xcb (-aqua) -debug -directfb -doc (-drm) (-gallium) (-openvg) -static-libs% (-cleartype%) (-glitz%*)" 





Comment 3


Jeroen Roovers (RETIRED)






          2011-02-04 01:20:15 UTC
        

Please update the entire world target, run the usual revdep-rebuild and so on and then try again. Also, switch to the latest gcc while you're at it. x11-libs/cairo-1.8.8 was removed from the tree a couple of weeks ago, and went stable for amd64 more than half a year ago, so I guess a lot more is out of date/broken on your system.




Comment 4


Adam Nielsen





          2011-02-04 12:51:24 UTC
        

Damn.  I was trying to update the world target when this broke :-(  Why didn't it pull in the new version of cairo automatically?  I thought that was the point of Portage.  Unfortunately this is my work PC and I have real work to do on it, so it looks like it'll end up being faster to just install another more stable distro instead.  I guess Gentoo is more aimed at other Gentoo devs rather than real users :-P j/k





Comment 5


Judson





          2011-04-19 15:40:44 UTC
        

Running perl-cleaner, on an amd64 platform, rrdtool failed with similar errors for me.  Cairo is marked as needing to be updated, so I'm updating that, and I'll let you know how it goes.

Poor grace or not, AN has a point: shouldn't the rrdtool ebuild pull in it's deps?









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

