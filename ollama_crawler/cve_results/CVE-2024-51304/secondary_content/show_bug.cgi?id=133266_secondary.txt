Title: 133266 – amarok-1.4_beta3 doesn't compile
URL: https://bugs.gentoo.org/show_bug.cgi?id=133266

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 133266
amarok-1.4_beta3 doesn't compile
Last modified: 2006-05-28 10:05:54 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 133266 
      - amarok-1.4_beta3 doesn't compile


Summary:
amarok-1.4_beta3 doesn't compile
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Diego Elio Pettenò (RETIRED)








URL:







Whiteboard:




Keywords:









Duplicates (1):
    

133347

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2006-05-13 23:27 UTC by Aaron Peterson





      Modified:
    
2006-05-28 10:05 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



kde
sound









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Aaron Peterson





          2006-05-13 23:27:44 UTC
        

==========================
 ===  amaroK - PLUGINS  ========================================================
 ==========================
 =
 = The following extra functionality will NOT be included:
 =   - NMM-engine
 =   - libvisual Support
 =   - MySql Support
 =   - Postgresql Support
 =   - MusicBrainz Support
 =   - Moodbar Support
 =   - iRiver iFP Support
 =
 = The following extra functionality will be included:
 =   + GStreamer0.10-engine
 =   + xine-engine
 =   + Helix-engine
 =   + XMMS Visualization Wrapper
 =   + Konqueror Sidebar
 =   + MP4/AAC Tag Write Support
 =   + iPod Support (with Artwork)
 =
 ===============================================================================

Good - your configure finished. Start make now

make  all-recursive
make[1]: Entering directory `/mnt/sata2/portage_tempdir/portage/amarok-1.4_beta3-r2/work/amarok-1.4-beta3c'
Making all in amarok
make[2]: Entering directory `/mnt/sata2/portage_tempdir/portage/amarok-1.4_beta3-r2/work/amarok-1.4-beta3c/amarok'
Making all in src
make[3]: Entering directory `/mnt/sata2/portage_tempdir/portage/amarok-1.4_beta3-r2/work/amarok-1.4-beta3c/amarok/src'
Making all in amarokcore
make[4]: Entering directory `/mnt/sata2/portage_tempdir/portage/amarok-1.4_beta3-r2/work/amarok-1.4-beta3c/amarok/src/amarokcore'
/bin/sh ../../../libtool --silent --mode=compile i686-pc-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I. -I../../.. -I../../../amarok/src -I../../../amarok/src/amarokcore -I../../../amarok/src -I../../../amarok/src/engine -I../../../amarok/src/plugin -I../../../amarok/src/statusbar -I../../../amarok/src/mediadevice -I/usr/kde/3.5/include -I/usr/qt/3/include -I.  -I/usr/kde/3.5/include  -DQT_THREAD_SUPPORT  -D_REENTRANT  -Wno-long-long -Wundef -ansi -D_XOPEN_SOURCE=500 -D_BSD_SOURCE -Wcast-align -Wconversion -Wchar-subscripts -Wall -W -Wpointer-arith -DNDEBUG -DNO_DEBUG -O2 -march=athlon-xp -O2 -pipe -fomit-frame-pointer -Wall -fno-unit-at-a-time -fno-inline -Wformat-security -Wmissing-format-attribute -Wno-non-virtual-dtor -fno-exceptions -fno-check-new -fno-common -DQT_CLEAN_NAMESPACE -DQT_NO_ASCII_CAST -DQT_NO_STL -DQT_NO_COMPAT -DQT_NO_TRANSLATION -c -o amarokdcophandler.lo `test -f 'amarokdcophandler.cpp' || echo './'`amarokdcophandler.cpp
/bin/sh ../../../libtool --silent --mode=compile i686-pc-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I. -I../../.. -I../../../amarok/src -I../../../amarok/src/amarokcore -I../../../amarok/src -I../../../amarok/src/engine -I../../../amarok/src/plugin -I../../../amarok/src/statusbar -I../../../amarok/src/mediadevice -I/usr/kde/3.5/include -I/usr/qt/3/include -I.  -I/usr/kde/3.5/include  -DQT_THREAD_SUPPORT  -D_REENTRANT  -Wno-long-long -Wundef -ansi -D_XOPEN_SOURCE=500 -D_BSD_SOURCE -Wcast-align -Wconversion -Wchar-subscripts -Wall -W -Wpointer-arith -DNDEBUG -DNO_DEBUG -O2 -march=athlon-xp -O2 -pipe -fomit-frame-pointer -Wall -fno-unit-at-a-time -fno-inline -Wformat-security -Wmissing-format-attribute -Wno-non-virtual-dtor -fno-exceptions -fno-check-new -fno-common -DQT_CLEAN_NAMESPACE -DQT_NO_ASCII_CAST -DQT_NO_STL -DQT_NO_COMPAT -DQT_NO_TRANSLATION -c -o crashhandler.lo `test -f 'crashhandler.cpp' || echo './'`crashhandler.cpp
make[4]: *** No rule to make target `amarokconfig.h', needed by `all-am'.  Stop.
make[4]: *** Waiting for unfinished jobs....
amarokdcophandler.cpp:22:26: amarokconfig.h: No such file or directory
crashhandler.cpp:12:26: amarokconfig.h: No such file or directory
crashhandler.cpp: In static member function `static void amaroK::Crash::crashHandler(int)':
crashhandler.cpp:96: error: `AmarokConfig' has not been declared
crashhandler.cpp:96: error: `soundSystem' was not declared in this scope
crashhandler.cpp:175: error: `AmarokConfig' has not been declared
make[4]: *** [crashhandler.lo] Error 1
In file included from amarokdcophandler.cpp:35:
../../../amarok/src/playlist.h:22:26: amarokconfig.h: No such file or directory
In file included from amarokdcophandler.cpp:35:
../../../amarok/src/playlist.h:117: error: incomplete type `AmarokConfig' used in nested name specifier
In file included from amarokdcophandler.cpp:36:
../../../amarok/src/playlistbrowser.h:198: error: ISO C++ forbids declaration of `QDict' with no type
../../../amarok/src/playlistbrowser.h:198: error: expected `;' before '<' token
../../../amarok/src/playlistbrowser.h:74: error: incomplete type `AmarokConfig' used in nested name specifier
amarokdcophandler.cpp: In member function `virtual bool amaroK::DcopPlayerHandler::equalizerEnabled()':
amarokdcophandler.cpp:74: error: incomplete type `AmarokConfig' used in nested name specifier
amarokdcophandler.cpp: In member function `virtual bool amaroK::DcopPlayerHandler::osdEnabled()':
amarokdcophandler.cpp:81: error: incomplete type `AmarokConfig' used in nested name specifier
amarokdcophandler.cpp: In member function `virtual bool amaroK::DcopPlayerHandler::randomModeStatus()':
amarokdcophandler.cpp:91: error: incomplete type `AmarokConfig' used in nested name specifier
amarokdcophandler.cpp: In member function `virtual QString amaroK::DcopPlayerHandler::engine()':
amarokdcophandler.cpp:200: error: incomplete type `AmarokConfig' used in nested name specifier
amarokdcophandler.cpp: In member function `virtual QString amaroK::DcopPlayerHandler::setContextStyle(const QString&)':
amarokdcophandler.cpp:230: error: incomplete type `AmarokConfig' used in nested name specifier
amarokdcophandler.cpp: In member function `virtual void amaroK::DcopPlayerHandler::enableOSD(bool)':
amarokdcophandler.cpp:277: error: incomplete type `AmarokConfig' used in nested name specifier
amarokdcophandler.cpp: In member function `virtual void amaroK::DcopPlayerHandler::setEqualizerEnabled(bool)':
amarokdcophandler.cpp:372: error: incomplete type `AmarokConfig' used in nested name specifier
amarokdcophandler.cpp: In member function `virtual QString amaroK::DcopScriptHandler::readConfig(const QString&)':
amarokdcophandler.cpp:788: error: `KConfigSkeletonItem' was not declared in this scope
amarokdcophandler.cpp:788: error: `configItem' was not declared in this scope
amarokdcophandler.cpp:788: error: incomplete type `AmarokConfig' used in nested name specifier
amarokdcophandler.cpp:788: warning: unused variable 'KConfigSkeletonItem'
amarokdcophandler.cpp: In member function `virtual QStringList amaroK::DcopScriptHandler::readListConfig(const QString&)':
amarokdcophandler.cpp:798: error: `KConfigSkeletonItem' was not declared in this scope
amarokdcophandler.cpp:798: error: `configItem' was not declared in this scope
amarokdcophandler.cpp:798: error: incomplete type `AmarokConfig' used in nested name specifier
amarokdcophandler.cpp:798: warning: unused variable 'KConfigSkeletonItem'
amarokdcophandler.cpp:894:33: amarokdcophandler.moc: No such file or directory
make[4]: *** [amarokdcophandler.lo] Error 1
make[4]: Leaving directory `/mnt/sata2/portage_tempdir/portage/amarok-1.4_beta3-r2/work/amarok-1.4-beta3c/amarok/src/amarokcore'
make[3]: *** [all-recursive] Error 1
make[3]: Leaving directory `/mnt/sata2/portage_tempdir/portage/amarok-1.4_beta3-r2/work/amarok-1.4-beta3c/amarok/src'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/mnt/sata2/portage_tempdir/portage/amarok-1.4_beta3-r2/work/amarok-1.4-beta3c/amarok'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/mnt/sata2/portage_tempdir/portage/amarok-1.4_beta3-r2/work/amarok-1.4-beta3c'
make: *** [all] Error 2

!!! ERROR: media-sound/amarok-1.4_beta3-r2 failed.
Call stack:
  ebuild.sh, line 1527:   Called dyn_compile
  ebuild.sh, line 931:   Called src_compile
  amarok-1.4_beta3-r2.ebuild, line 82:   Called kde_src_compile
  kde.eclass, line 120:   Called kde_src_compile 'all'
  kde.eclass, line 238:   Called kde_src_compile 'myconf' 'configure' 'make'
  kde.eclass, line 234:   Called die

!!! died running emake, kde_src_compile:make
!!! If you need support, post the topmost build error, and the call stack if relevant.

emerge --info
Portage 2.1_rc1 (default-linux/x86/2005.1, gcc-3.4.6, glibc-2.4-r3, 2.6.16-gentoo i686)
=================================================================
System uname: 2.6.16-gentoo i686 AMD Athlon(tm) XP 1700+
Gentoo Base System version 1.12.0_pre19
dev-lang/python:     2.4.3-r1
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r2
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r5
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=athlon-xp -O2 -pipe -fomit-frame-pointer -Wall -fno-unit-at-a-time"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/kde/3/share/config /usr/lib/mozilla/defaults/pref /usr/share/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/eselect/compiler /etc/gconf /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c /etc/env.d"
CXXFLAGS="-march=athlon-xp -O2 -pipe -fomit-frame-pointer -Wall -fno-unit-at-a-time"
DISTDIR="/mnt/sata2/distfiles"
FEATURES="autoconfig ccache distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LINGUAS="en_US en zh_TW zh_CN ru es en_US"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/mnt/sata2/portage_tempdir"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.namerica.gentoo.org/gentoo-portage"
USE="x86 16bit 3dnow 3dnowext X a52 aac accessibility acl acpi alsa amd amr apache2 apm arts artswrappersuid asf avi berkdb bidi bitmap-fonts cap caps cjk cjkcrypt cli cpudetection crypt css cups dba dbus dga divx4linux djbfft dmx dnd doc dpms dri dv dvb dvd dvdr dvdread edl eds emboss encode fam fat fbcon ffmpeg firefox flac flash flatfile fmod font-server foomaticdb fortran freewnn gdbm gif gimp gimpprint gnome gphoto2 gpm grammar gstreamer gtk gtk2 hal hardenedphp icq ieee1394 imap imlib immqt-bc intl ipod ipv6 isdnlog jabber java javascript jbig jce joystick jp2 jpeg jpeg2k kde kdepim kerberos krb4 ldap libg++ libwww live lm_sensors logitech-mouse ltsp lzo lzw m17n-lib mad madwifi maildir math md5sum mdb mikmod ming mjpeg mmx mmxext mng mono motif mozdevelop mozsvg mozxmlterm mp3 mp4 mp4live mpeg mpeg2 mpi mplayer msn mssql mule music nas ncurses net network nforce2 nls nptl nptlonly nsplugin ntlm nv nvidia offensive ogg oggvorbis oldworld openexr opengl oss pam pcre pdf pdflib perl physfs pic png posix pppd python qt quicktime readline real reflection reiserfs rtc samba sasl sdl session smime spell spl sql sse sse-filters ssl subtitles tcpd tga theora threads tiff timidity transcode truetype truetype-fonts type1 type1-fonts uim unicode v4l v4l2 vcd vhosts vidix vim-with-x virus-scan vnc vorbis wifi win32codecs winbind wma x264 xanim xcomposite xine xinerama xml2 xmms xorg xpm xprint xscreensaver xv xvid xvmc yahoo yv12 zeo zeroconf zlib elibc_glibc input_devices_keyboard input_devices_mouse input_devices_kbd kernel_linux linguas_en_US linguas_en linguas_zh_TW linguas_zh_CN linguas_ru linguas_es userland_GNU video_cards_nv video_cards_nvidia video_cards_fbdev video_cards_vesa"
Unset:  ASFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Diego Elio Pettenò (RETIRED)






          2006-05-14 03:26:30 UTC
        

Sounds like parallel make issue, are you able to build it with -j1 ?

Please also try the 1.4.0_rc3 ebuild from my overlay at http://dev.gentoo.org/~flameeyes/bzr/overlay/ as that is the newest release candidate for final 1.4.0 release (and upstream want probably to know if they have to fix some build issue).





Comment 2


Diego Elio Pettenò (RETIRED)






          2006-05-15 05:26:53 UTC
        

*** Bug 133347 has been marked as a duplicate of this bug. ***




Comment 3


Diego Elio Pettenò (RETIRED)






          2006-05-28 10:05:54 UTC
        

Unable to reproduce, reopen if it's still an issue.










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

