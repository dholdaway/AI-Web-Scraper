Title: 877879 – dev-python/gpep517-9 fails with USE=python_targets_pypy3
URL: https://bugs.gentoo.org/show_bug.cgi?id=877879

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 877879
dev-python/gpep517-9 fails with USE=python_targets_pypy3
Last modified: 2022-10-24 21:35:08 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 877879 
      - dev-python/gpep517-9 fails with USE=python_targets_pypy3


Summary:
dev-python/gpep517-9 fails with USE=python_targets_pypy3
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Michał Górny








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2022-10-22 07:17 UTC by Alessandro Di Federico





      Modified:
    
2022-10-24 21:35 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge -v dev-python/gpep517

              (log.log,8.86 KB,
                text/x-log)

            
2022-10-22 07:17 UTC,

            Alessandro Di Federico




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Alessandro Di Federico





          2022-10-22 07:17:55 UTC
        

Created attachment 824981 [details]
emerge -v dev-python/gpep517

Building dev-python/gpep517 with python_targets_pypy3 fails with a sandbox violation.

After building it once with FEATURES="-sandbox -usersandbox", it now builds fine, even with the sandbox enabled.

The attached log might not be perfect, since I copy/pasted from the terminal (can't reproduce again).




Comment 1


Sam James









          2022-10-24 14:42:01 UTC
        

I think you probably need to fix the timestamps in /usr/lib/pypy*:

/usr/lib/pypy3.9 $ pypy3 -m compileall .




Comment 2


Michał Górny









          2022-10-24 15:04:24 UTC
        

Or reinstall dev-python/pypy3.  No clue why it happened to you though.




Comment 3


Alessandro Di Federico





          2022-10-24 15:11:27 UTC
        

Given that I can't reproduce, I guess we can close this?




Comment 4


Michał Górny









          2022-10-24 16:12:59 UTC
        

Sure.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

