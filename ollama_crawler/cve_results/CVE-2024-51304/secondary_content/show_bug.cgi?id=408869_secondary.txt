Title: 408869 – app-emulation/virt-manager takes 10 minutes to open
URL: https://bugs.gentoo.org/show_bug.cgi?id=408869

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 408869
app-emulation/virt-manager takes 10 minutes to open
Last modified: 2012-04-15 16:49:16 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 408869 
      - app-emulation/virt-manager takes 10 minutes to open


Summary:
app-emulation/virt-manager takes 10 minutes to open
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Virtualization Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2012-03-19 14:30 UTC by Enne Eziarc





      Modified:
    
2012-04-15 16:49 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



lists
praetor.zero









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




~/.virt-manager/virt-manager.log

              (virt-manager.log,5.44 KB,
                text/plain)

            
2012-03-19 14:30 UTC,

            Enne Eziarc




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Enne Eziarc





          2012-03-19 14:30:09 UTC
        

Created attachment 305883 [details]
~/.virt-manager/virt-manager.log

Not sure how to describe this... when I run virt-manager as normal, it forks to background with what looks like a harmless deprecation message:

~ $ virt-manager 
/usr/share/virt-manager/virt-manager.py:306: DeprecationWarning: Importing dbus.glib to use the GLib main loop with dbus-python is deprecated.
Instead, use this sequence:

    from dbus.mainloop.glib import DBusGMainLoop

    DBusGMainLoop(set_as_default=True)

  import dbus.glib
~ $

Then nothing happens for a few minutes, I assume it's crashed, forget about it, and later on the window pops up and stays frozen for another minute or two. I've tried running it in `strace -ff` and it seems blocked on input from some fd #8 that I can't find a corresponding open() for.

If I run it with --no-fork (or --debug, same thing) it opens instantly and works fine.

I've tried all versions currently in tree (0.8.7-0.9.1) and they all have this problem. Running python-updater didn't fix it.

Attached is a log of one full startup.




Comment 1


Enne Eziarc





          2012-04-15 16:49:16 UTC
        

I've deleted all the *.py[co] files in /usr/share/virt-manager then reinstalled it, and that seems to have fixed the hang.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

