Title: 95908 – xine-ui fails to build due to undefined references to clock_gettime and clock_getres
URL: https://bugs.gentoo.org/show_bug.cgi?id=95908

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 95908
xine-ui fails to build due to undefined references to clock_gettime and clock_getres
Last modified: 2006-05-23 13:47:55 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 95908 
      - xine-ui fails to build due to undefined references to clock_gettime and clock_getres


Summary:
xine-ui fails to build due to undefined references to clock_gettime and clock...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Media-video project








URL:



http://forums.gentoo.org/viewtopic-t-...
        




Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-06-12 15:59 UTC by Rogier Eggers





      Modified:
    
2006-05-23 13:47 UTC
      (History)
    




          CC List:
        

4 
          users
          
            (show)
          



Dessa
ferringb
maciek
nightmorph









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




wget config.log

              (config.log,42.88 KB,
                text/plain)

            
2006-03-01 12:19 UTC,

            nm (RETIRED)




Details





Show
              Obsolete (1)
            View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Rogier Eggers





          2005-06-12 15:59:40 UTC
        

Xine-lib builds ok. But xine-ui won't build on it. The final output of the build is:

 /usr/lib/libfontconfig.so /usr/lib/libexpat.so -lSM -lICE -lXinerama -lXxf86vm
-lpng /usr/lib/libxine.so /usr/lib/libfreetype.so -lnsl /usr/lib/librt
/usr/lib/libbn /usr/lib/libbu -lpthread /usr/lib/libtcl8.4
/usr/lib/liblirc_client.a -lXext -lXtst /usr/lib/libcurl.so /usr/lib/libidn.so
-lssl -lcrypto -ldl -lz -lX11 -lm
/usr/lib/libxine.so: undefined reference to `clock_gettime'
/usr/lib/libxine.so: undefined reference to `clock_getres'
collect2: ld returned 1 exit status
distcc[19915] ERROR: compile (null) on localhost failed
make[4]: *** [xine] Error 1
make[4]: Leaving directory
`/var/tmp/portage/xine-ui-0.99.3/work/xine-ui-0.99.3/src/xitk'
make[3]: *** [all-recursive] Error 1
make[3]: Leaving directory
`/var/tmp/portage/xine-ui-0.99.3/work/xine-ui-0.99.3/src/xitk'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/var/tmp/portage/xine-ui-0.99.3/work/xine-ui-0.99.3/src'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory
`/var/tmp/portage/xine-ui-0.99.3/work/xine-ui-0.99.3'make: *** [all] Error 2

!!! ERROR: media-video/xine-ui-0.99.3 failed.
!!! Function src_compile, Line 48, Exitcode 2
!!! Make failed!
!!! If you need support, post the topmost build error, NOT this status message.



Reproducible: Always
Steps to Reproduce:
1. emerge -va xine-ui
2.
3.


Actual Results:  
xine-ui stops building after mentioned error messages

Expected Results:  
xine-ui should finish building

emerge --info here:

Portage 2.0.51.19 (default-linux/x86/2005.0, gcc-3.3.5-20050130, glibc-2.3.5-r0,
2.6.11-gentoo-r9 i686)
=================================================================
System uname: 2.6.11-gentoo-r9 i686 AMD Athlon(tm)  1900+
Gentoo Base System version 1.6.12
Python:              dev-lang/python-2.3.5,dev-lang/python-2.4.1 [2.4.1 (#1, Jun
10 2005, 12:39:27)]
distcc 2.16 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [enabled]
dev-lang/python:     2.3.5, 2.4.1
sys-apps/sandbox:    [Not Present]
sys-devel/autoconf:  2.59-r6, 2.13
sys-devel/automake:  1.7.9-r1, 1.8.5-r3, 1.5, 1.4_p6, 1.6.3, 1.9.5
sys-devel/binutils:  2.15.92.0.2-r10
sys-devel/libtool:   1.5.16
virtual/os-headers:  2.6.11-r1
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CFLAGS="-mcpu=athlon-xp -O3 -pipe -fomit-frame-pointer -funroll-loops -mmmx
-msse -ffast-math -frerun-cse-after-loop"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/X11R6/lib/X11/xkb /usr/kde/2/share/config
/usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown
/usr/kde/3/share/config /usr/lib/X11/xkb /usr/share/config
/usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/
/usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/
/usr/share/texmf/xdvi/ /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-mcpu=athlon-xp -O3 -pipe -fomit-frame-pointer -funroll-loops -mmmx
-msse -ffast-math -frerun-cse-after-loop"
DISTDIR="/mnt/server/gentoo_distfiles"
FEATURES="autoaddcvs autoconfig ccache distcc distlocks prelink sandbox sfperms
strict userpriv usersandbox"
GENTOO_MIRRORS="ftp://ftp.snt.utwente.nl/pub/os/linux/gentoo
ftp://mirror.switch.ch/mirror/gentoo/
http://linux.rz.ruhr-uni-bochum.de/download/gentoo-mirror/
http://212.219.56.152/sites/www.ibiblio.org/gentoo/"
MAKEOPTS="-j2"
PKGDIR="/mnt/server/gentoo_packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage /usr/local/bmg-main /usr/local/zugaina-portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 3dnow X aac aalib acl afs aim alsa apm autofs avi bash_completion
berkdb bitmap-fonts blas blender-game bluetooth bonobo bootsplash bzip2 c cddb
cdr cgi composite crypt cups curl dedicated dga directfb divx4linux dmx dnd
dnsdb doc dvd dvdr eds emboss encode escreen evms2 evo f77 fam fbcon fbdev flac
flash fmod foomaticdb fortran freetype gatos gd gdbm geoip gif gimpprint gnome
gnutls gpm gstreamer gtk gtk2 gtkhtml guile hal hbci hdf hdf5 howl icc icq ifc
imagemagick imap imlib imlib2 irmc jabber java javascript jikes jpeg kde ldap
libg++ libwww lirc live ltsp mad maildir mailwrapper messages mikmod milter mime
ming mmx motif mozsvg mp3 mpeg mpi mplayer msn music mysql nas ncurses net
network nls nntp nocd nptl odbc ofx ogg oggvorbis openal opengl openmosix oscar
oss pam pdflib perl php physfs plotutils png python qhull qt quicktime quotes
readline real rtc ruby samba sdk sdl sftplogging sharedmem slang sndfile spell
sqlite sse ssl svg svga tcltk tcpd tetex tidy tiff truetype truetype-fonts
type1-fonts unicode usb v4l v4l2 vhosts videos vim-with-x virus-scan vnc vorbis
win32codecs wma123 wmf xine xinerama xml xml2 xmms xpm xv xvid yahoo zlib zvbi
video_cards_radeon userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CBUILD, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS




Comment 1


Rogier Eggers





          2005-06-13 07:32:02 UTC
        

(In reply to comment #0)

I've tried to rebuild xine-ui and xine-lib with all combinations (enables or
disabled) of the USE flags "directfb" and "aalib". I've also tried to disable
the "sdl' flag and building sdl with "-direcftb and -aalib". None of these
experiments changed the behaviour. The build of xine-ui still fails with the
same message.




Comment 2


Diego Elio Pettenò (RETIRED)






          2005-08-04 10:27:05 UTC
        

Seems like a broken glibc, can't reproduce here in any way. 
 




Comment 3


Jakub Moc (RETIRED)






          2005-09-15 11:28:07 UTC
        

*** Bug 106087 has been marked as a duplicate of this bug. ***




Comment 4


Seemant Kulleen (RETIRED)






          2006-03-01 12:07:34 UTC
        

*** Bug 124536 has been marked as a duplicate of this bug. ***




Comment 5


nm (RETIRED)






          2006-03-01 12:19:44 UTC
        

Created attachment 81059 [details]
wget config.log




Comment 6


nm (RETIRED)






          2006-03-01 12:20:51 UTC
        

Reopening for 124536. i'm not the only one with the wget problems with the same error message; see attached config.log.




Comment 7


nm (RETIRED)






          2006-03-01 12:50:45 UTC
        

Closing again. The issue is with confcache; wget-1.10.2 emerges fine with features="-confcache". See bug 124536 for confcache/portage version/emerge --info.




Comment 8


Mark Loeser (RETIRED)






          2006-03-08 10:20:15 UTC
        

*** Bug 125431 has been marked as a duplicate of this bug. ***




Comment 9


Brian Harring (RETIRED)






          2006-05-23 13:47:55 UTC
        

wipe /var/tmp/confcache/* , and rebuild wget twice- reason for the 'twice' is to see if it's wget eating itself, or if something else peed in the cache.










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

