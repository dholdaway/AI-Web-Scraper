Title: 108076 – artsd crashes when pressing Test Sound in KDE's Sound & Multimedia (in the control panel)
URL: https://bugs.gentoo.org/show_bug.cgi?id=108076

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 108076
artsd crashes when pressing Test Sound in KDE's Sound & Multimedia (in the control panel)
Last modified: 2006-08-17 14:43:21 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 108076 
      - artsd crashes when pressing Test Sound in KDE's Sound & Multimedia (in the control panel)


Summary:
artsd crashes when pressing Test Sound in KDE's Sound & Multimedia (in the co...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-10-04 07:43 UTC by Martijn Baay





      Modified:
    
2006-08-17 14:43 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



peter









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Martijn Baay





          2005-10-04 07:43:55 UTC
        

When i press 'test sound' in KDE's Control Panel in the Sound & Multimedia tab,
I get KDE's error window telling me that the soundserver crashed.

Its short description is as follows:
"The application Soundserver (artsd) crashed and caused the signal 11 (SIGSEGV)."

Reproducible: Always
Steps to Reproduce:
1. install ALSA
2. emerge KDE arts
3. emerge kdemultimedia

I'm on an AMD64 in 64bit mode. I have an AC'97 soundcard
Actual Results:  
Error window appears.
Its short description is as follows:
"The application Soundserver (artsd) crashed and caused the signal 11 (SIGSEGV)."

Expected Results:  
Play the KDE loading sound.

XMMS works fine, ALSA works fine too. KDE arts obviously doesn't.

I have a AC'97 soundcard. Running on an AMD64 3000+ in 64 bit mode.




Comment 1


Diego Elio Pettenò (RETIRED)






          2005-10-04 07:51:11 UTC
        

emerge info please. 
Also the version of arts crashing would be useful. 
 




Comment 2


Martijn Baay





          2005-10-04 07:57:28 UTC
        

Portage 2.0.51.22-r2 (default-linux/amd64/2005.1, gcc-3.4.3, glibc-2.3.5-r0,
2.6.12.5 x86_64)
=================================================================
System uname: 2.6.12.5 x86_64 AMD Athlon(tm) 64 Processor 3000+
Gentoo Base System version 1.6.13
dev-lang/python:     2.3.5
sys-apps/sandbox:    1.2.11
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.5
sys-devel/binutils:  2.15.92.0.2-r10
sys-devel/libtool:   1.5.18-r1
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=k8 -pipe -O2 -m3dnow -mmmx -msse -msse2 -m64"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env
/usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-march=k8 -pipe -O2 -m3dnow -mmmx -msse -msse2 -m64"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="ftp://ftp.snt.utwente.nl/pub/os/linux/gentoo"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.namerica.gentoo.org/gentoo-portage"
USE="amd64 X alsa arts avi berkdb bitmap-fonts crypt cups eds emboss encode fam
foomaticdb fortran gif gnome gpm gstreamer gtk gtk2 imagemagick imlib ipv6 java
jpeg kde lzw lzw-tiff mad mp3 mpeg ncurses nls opengl pam pdflib perl png python
qt quicktime readline sdl spell ssl tcltk tcpd tiff truetype-fonts type1-fonts
usb userlocales xml2 xmms xpm xv zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTDIR_OVERLAY




Comment 3


Martijn Baay





          2005-10-04 08:00:13 UTC
        

Oh, and artsd is version 1.4.1

(sorry, new to bugzilla :))




Comment 4


Carsten Lohrke (RETIRED)






          2005-10-19 11:23:31 UTC
        

Do you have realtime priority enabled and/or a very small sound buffer
configured? If so change it please and retry. That said: aRts sucks, you'll live
better without it.




Comment 5


Sergio Polini





          2006-03-07 07:35:19 UTC
        

(In reply to comment #4)
> aRts sucks, you'll live better without it.

I had emerged kdelibs/base/multimedia without arts and could not get any system sounds.
Then I emerged arts and got KDE's error window telling me that the soundserver crashed (signal 11).
So I have re-emerged arts, kdelibs, kdebase and kdemultimedia, in this order, and all looks working fine now.
Please, how could I do without arts?
Thanks.





Comment 6


Carsten Lohrke (RETIRED)






          2006-04-29 10:37:06 UTC
        

(In reply to comment #5)
> Please, how could I do without arts?

You can build KDE with aRts, but disable it in Controlcenter -> Soundsystem and configure an external player instead.


Martijn: Is this still an issue for you?




Comment 7


Peter Humphrey





          2006-05-22 15:47:16 UTC
        

I have a similar problem, I think. I have a brand-new KDE 3.5.2 system on ~amd64, and whenever I log in I get one CPU at 100% until an error box appears saying
"Error-artsmessage
Sound server fatal error:
cpu overload, aborting"

I hit OK and all is quiet for a few seconds, then gkrellm shows CPU use going to 100% again and the process repeats. I try "killall -9 artsd" every time CPU=100% with the same result - peace for a few seconds, then repetition of the problem ad nauseam (which doesn't take very long ;-)

$ emerge --info
Portage 2.1_rc1-r3 (default-linux/amd64/2006.0, gcc-3.4.6, glibc-2.4-r3, 2.6.16-gentoo-r7 x86_64)
=================================================================
System uname: 2.6.16-gentoo-r7 x86_64 AMD Opteron(tm) Processor 246
Gentoo Base System version 1.12.0_pre19
dev-lang/python:     2.4.3-r1
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r2
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r3
ACCEPT_KEYWORDS="amd64 ~amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -march=opteron -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/kde/3/share/config /usr/share/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/X11/xdm/Xservers /etc/eselect/compiler /etc/fonts /etc/gconf /etc/init.d /etc/rc.d /etc/revdep-rebuild /etc/rsync /etc/terminfo /etc/wget /etc/env.d"
CXXFLAGS="-O2 -march=opteron -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://gentoo.blueyonder.co.uk                 http://ftp.easynet.nl/mirror/gentoo                 http://trumpetti.atm.tut.fi/gentoo/                 ftp://sunsite.informatik.rwth-aachen.de/pub/Linux/gentoo                 http://distfiles.gentoo.org                 http://www.ibiblio.org/pub/Linux/distributions/gentoo"
LANG="en_GB.ISO-8859-15"
LC_ALL="en_GB.ISO-8859-15"
LINGUAS="en_GB"
MAKEOPTS="-j5"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage /usr/local/overlays/vmware"
SYNC="rsync://gate.prhnet/gentoo-portage"
USE="amd64 X alsa avi bash-completion berkdb bitmap-fonts bzip2 cdr cli crypt cups dri dvd eds emboss encode foomaticdb fortran gif gpm gstreamer gtk gtk2 imlib ipv6 isdnlog ithreads javascript jpeg kde kdeenablefinal lm_sensors logitech-mouse logrotate lzw lzw-tiff mp3 mpeg ncurses nls nptl nptlonly nvidia ogg opengl pam pcre pdflib perl png ppds pppd python qt quicktime readline reflection sample scanner session spell spl ssl symlink tcpd tiff truetype truetype-fonts type1-fonts unicode usb userlocales vorbis wmf xml xorg xpm xv zlib elibc_glibc input_devices_keyboard input_devices_mouse kernel_linux linguas_en_GB userland_GNU video_cards_nv video_cards_nvidia"
Unset:  ASFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LDFLAGS, PORTAGE_RSYNC_EXTRA_OPTS





Comment 8


Charles C. Van Tilburg





          2006-06-13 05:10:12 UTC
        

Confirm on athlon xp system; cpu overload; doesn't happen with a Sound Blaster
128, but does happen with VIA on-motherboard audio chipset.  

When I reported this last time, it was marked a dup, and the usual flippant lip
service was given.  Also said was that this was fixed upstream in KDE.  Now that 
KDE has been updated, and if this was true, why is it still happening?




Comment 9


Charles C. Van Tilburg





          2006-06-13 05:13:45 UTC
        

also... the athlon xp situation is a little bit different; the 
system pops up a dialog box, and then all is quiet, and CPU goes
to 0%.  Artsd is dead.

It is worth noting that Ubuntu 6.06 TLS running on this same 
athlon-xp system, and yes, it is KDE 3.5, does NOT exhibit this
problem.




Comment 10


Carsten Lohrke (RETIRED)






          2006-08-17 14:43:21 UTC
        

For reference: I remember having experienced something like Martijn a long while ago. Reason was selection of the full duplex box in control center -> soundserver -> hardware tab, while the crappy sound ard didn't support that.

Resolving as worksforme as we didn't got feedback.

(In reply to comment #9)
> It is worth noting that Ubuntu 6.06 TLS running on this same 
> athlon-xp system, and yes, it is KDE 3.5, does NOT exhibit this
> problem.

Because they provide you with some specific well tested Alsa/aRts combination, while on a Gentoo box you're responsible to a degree. :) 

Different problem - everyone 100% cpu usage/overload see bug 131456.










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

