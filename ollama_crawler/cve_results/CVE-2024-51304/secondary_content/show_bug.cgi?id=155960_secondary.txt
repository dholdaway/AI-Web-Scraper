Title: 155960 – [cross/i686-linux-gnu] gcc stage2 fails to build
URL: https://bugs.gentoo.org/show_bug.cgi?id=155960

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 155960
[cross/i686-linux-gnu] gcc stage2 fails to build
Last modified: 2008-10-27 05:11:47 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 155960 
      - [cross/i686-linux-gnu] gcc stage2 fails to build


Summary:
[cross/i686-linux-gnu] gcc stage2 fails to build
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Core system

  (show other bugs)



Hardware:

PPC
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Toolchain Maintainers








URL:







Whiteboard:




Keywords:









Duplicates (1):
    

155959

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2006-11-22 10:11 UTC by Eugene





      Modified:
    
2008-10-27 05:11 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




full log file

              (cross-i686-pc-linux-gnu-gcc-stage2.log,643.70 KB,
                text/plain)

            
2006-11-22 10:12 UTC,

            Eugene




Details





emerge -v --info

              (emerge_info.log,7.43 KB,
                text/plain)

            
2006-11-27 09:33 UTC,

            Eugene




Details





ld.so.conf

              (ld.so.conf,192 bytes,
                text/plain)

            
2006-11-27 09:33 UTC,

            Eugene




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Eugene





          2006-11-22 10:11:17 UTC
        

here is my emerge --info

Portage 2.1.1-r2 (default-linux/ppc/ppc32/2006.1/G4, gcc-4.1.1, glibc-2.4-r3, 2.6.17-gentoo-r7 ppc)
=================================================================
System uname: 2.6.17-gentoo-r7 ppc 7447A, altivec supported
Gentoo Base System version 1.12.6
Last Sync: Wed, 22 Nov 2006 06:50:01 +0000
distcc 2.18.3 powerpc-unknown-linux-gnu (protocols 1 and 2) (default port 3632) [enabled]
ccache version 2.3 [enabled]
app-admin/eselect-compiler: [Not Present]
dev-java/java-config: 1.2.11-r1
dev-lang/python:     2.4.3-r4
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     2.3
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.60
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.17
sys-devel/gcc-config: 1.3.13-r4
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.16
ACCEPT_KEYWORDS="ppc"
AUTOCLEAN="yes"
CBUILD="powerpc-unknown-linux-gnu"
CFLAGS="-O2 -mtune=G4 -mcpu=G4 -mabi=altivec -pipe -maltivec"
CHOST="powerpc-unknown-linux-gnu"
CONFIG_PROTECT="/etc"
CONFIG_PROTECT_MASK="/etc/env.d /etc/gconf /etc/revdep-rebuild /etc/terminfo"
CXXFLAGS="-O2 -mtune=G4 -mcpu=G4 -mabi=altivec -pipe -maltivec"
DISTDIR="/home/ftp/pub/distfiles"
FEATURES="autoaddcvs autoconfig buildpkg candy ccache distcc distlocks metadata-transfer parallel-fetch prelink sandbox sfperms strict"
GENTOO_MIRRORS="http://gentoo.oregonstate.edu http://www.ibiblio.org/pub/Linux/distributions/gentoo"
LANG="C"
LINGUAS="en ru"
MAKEOPTS="-j5"
PKGDIR="/home/ftp/pub/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/lportage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="ppc 7zip acl alsa altivec apache2 bash-completion berkdb bitmap-fonts bonobo bzip2 cdr cli cracklib crypt cups dlloader dri dvd eds elibc_glibc emboss encode erandom esd firefox flac fortran gif gpm gstreamer gtkhtml iconv input_devices_keyboard input_devices_mouse input_devices_synaptics ipv6 isdnlog jpeg kde kernel_linux libg++ libwww linguas_en linguas_ru mad maildir mikmod mozilla mp3 mpeg mysql ncurses nls nptl nptlonly ogg oss pam pcre perl png posix pppd python quicktime readline reflection samba sdl session slang spell spl ssl tcpd truetype-fonts type1-fonts udev userland_GNU userlocales video_cards_radeon vorbis xorg xv zlib"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LC_ALL, LDFLAGS, PORTAGE_RSYNC_EXTRA_OPTS


and here is crossdev -t i686-pc-linux-gnu -v (final part)


checking whether we are using the GNU C compiler... ls: error while loading shared libraries: /var/tmp/cross/i686-pc-linux-gnu/portage/gcc-4.1.1-r1/work/build/./gcc/libgcc_s.so.1: ELF file data encoding not big-endian
configure: error: ls -t appears to fail.  Make sure there is not a broken
alias in your environment
configure: error: newly created file is older than distributed files!
Check your system clock
no
checking whether /var/tmp/cross/i686-pc-linux-gnu/portage/gcc-4.1.1-r1/work/build/./gcc/xgcc -B/var/tmp/cross/i686-pc-linux-gnu/portage/gcc-4.1.1-r1/work/build/./gcc/ -B/usr/i686-pc-linux-gnu/bin/ -B/usr/i686-pc-linux-gnu/lib/ -isystem /usr/i686-pc-linux-gnu/include -isystem /usr/i686-pc-linux-gnu/sys-include accepts -g... ls: error while loading shared libraries: /var/tmp/cross/i686-pc-linux-gnu/portage/gcc-4.1.1-r1/work/build/./gcc/libgcc_s.so.1: ELF file data encoding not big-endian
configure: error: ls -t appears to fail.  Make sure there is not a broken
alias in your environment
configure: error: newly created file is older than distributed files!
Check your system clock
no
checking for /var/tmp/cross/i686-pc-linux-gnu/portage/gcc-4.1.1-r1/work/build/./gcc/xgcc -B/var/tmp/cross/i686-pc-linux-gnu/portage/gcc-4.1.1-r1/work/build/./gcc/ -B/usr/i686-pc-linux-gnu/bin/ -B/usr/i686-pc-linux-gnu/lib/ -isystem /usr/i686-pc-linux-gnu/include -isystem /usr/i686-pc-linux-gnu/sys-include option to accept ANSI C... make[1]: *** [configure-target-libgfortran] Error 1
make[1]: *** Waiting for unfinished jobs....
make[1]: *** [configure-target-libstdc++-v3] Error 1
none needed
checking how to run the C preprocessor... /var/tmp/cross/i686-pc-linux-gnu/portage/gcc-4.1.1-r1/work/build/./gcc/xgcc -B/var/tmp/cross/i686-pc-linux-gnu/portage/gcc-4.1.1-r1/work/build/./gcc/ -B/usr/i686-pc-linux-gnu/bin/ -B/usr/i686-pc-linux-gnu/lib/ -isystem /usr/i686-pc-linux-gnu/include -isystem /usr/i686-pc-linux-gnu/sys-include -E
checking whether /var/tmp/cross/i686-pc-linux-gnu/portage/gcc-4.1.1-r1/work/build/./gcc/xgcc -B/var/tmp/cross/i686-pc-linux-gnu/portage/gcc-4.1.1-r1/work/build/./gcc/ -B/usr/i686-pc-linux-gnu/bin/ -B/usr/i686-pc-linux-gnu/lib/ -isystem /usr/i686-pc-linux-gnu/include -isystem /usr/i686-pc-linux-gnu/sys-include and cc understand -c and -o together... yes
checking for an ANSI C-conforming const... no
checking for inline... no
checking whether byte ordering is bigendian... unknown
configure: error: unknown endianness
presetting ac_cv_c_bigendian=no (or yes) will help
make[1]: *** [configure-target-libiberty] Error 1
make[1]: Leaving directory `/var/tmp/cross/i686-pc-linux-gnu/portage/gcc-4.1.1-r1/work/build'
make: *** [all] Error 2

!!! ERROR: cross-i686-pc-linux-gnu/gcc-4.1.1-r1 failed.
Call stack:
  ebuild.sh, line 1546:   Called dyn_compile
  ebuild.sh, line 937:   Called src_compile
  ebuild.sh, line 1255:   Called toolchain_src_compile
  toolchain.eclass, line 24:   Called gcc_src_compile
  toolchain.eclass, line 1536:   Called gcc_do_make
  toolchain.eclass, line 1410:   Called die




Comment 1


Eugene





          2006-11-22 10:12:38 UTC
        

Created attachment 102559 [details]
full log file




Comment 2


Jakub Moc (RETIRED)






          2006-11-22 10:14:34 UTC
        

*** Bug 155959 has been marked as a duplicate of this bug. ***




Comment 3


Jakub Moc (RETIRED)






          2006-11-22 10:15:41 UTC
        

> configure: error: newly created file is older than distributed files!
> Check your system clock

Fix your system clock.




Comment 4


Eugene





          2006-11-22 10:53:55 UTC
        

system clock works fine. this error apears only in crossdev -t i686-pc-linux-gnu. all other apps build fine.




Comment 5


Eugene





          2006-11-22 11:11:15 UTC
        

even native gcc




Comment 6


SpanKY






          2006-11-26 07:53:27 UTC
        

it isnt a clock bug, the configure spits out that error because `ls` fails and it makes no sense that `ls` would fail

please post `emerge -v --info` and your /etc/ld.so.conf file




Comment 7


Eugene





          2006-11-27 09:33:02 UTC
        

Created attachment 102850 [details]
emerge -v --info




Comment 8


Eugene





          2006-11-27 09:33:59 UTC
        

Created attachment 102851 [details]
ld.so.conf




Comment 9


Eugene





          2006-11-27 09:49:05 UTC
        

`emerge -v --info` and /etc/ld.so.conf attached




Comment 10


SpanKY






          2008-10-27 05:11:47 UTC
        

latest ebuild versions should work fine ... i just built a full i686 target on my ppc system ...









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

