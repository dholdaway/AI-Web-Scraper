Title: 136433 – media-video/spca5xx-20060501  does not play well with others
URL: https://bugs.gentoo.org/show_bug.cgi?id=136433

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 136433
media-video/spca5xx-20060501  does not play well with others
Last modified: 2006-10-22 13:59:59 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 136433 
      - media-video/spca5xx-20060501  does not play well with others


Summary:
media-video/spca5xx-20060501  does not play well with others
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Mike Doty (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-06-11 09:35 UTC by Justus Ranvier





      Modified:
    
2006-10-22 13:59 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



paulo









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Justus Ranvier





          2006-06-11 09:35:25 UTC
        

The spca5xx webcam driver only works on my system if it is the _only_ USB device connected. If it is connected first with no other devices installed, any other devices I plug in will not function. If other devices are plugged in first and then the camera is plugged in, the driver will appear to load normally but will give the following error every time you try to use it:
/var/tmp/portage/spca5xx-20060501/work/spca5xx-20060501/drivers/usb/spca5xx.c: USB SPCA5XX camera found. Logitech QC Communicate STX
/var/tmp/portage/spca5xx-20060501/work/spca5xx-20060501/drivers/usb/spca5xx.c: [spca5xx_probe:5480] Camera type JPEG
/var/tmp/portage/spca5xx-20060501/work/spca5xx-20060501/drivers/usb/zc3xx.h: [zc3xx_config:558] Find Sensor HV7131R(c)
/var/tmp/portage/spca5xx-20060501/work/spca5xx-20060501/drivers/usb/spca5xx.c: [spca5xx_getcapability:1765] maxw 640 maxh 480 minw 176 minh 144
/var/tmp/portage/spca5xx-20060501/work/spca5xx-20060501/drivers/usb/spca5xx.c: init isoc: usb_submit_urb(0) ret -28
/var/tmp/portage/spca5xx-20060501/work/spca5xx-20060501/drivers/usb/spca5xx.c: [spca5xx_open:2437]  DEALLOC error on init_Isoc




Comment 1


Jakub Moc (RETIRED)






          2006-06-11 09:56:40 UTC
        

Version? emerge --info?




Comment 2


Justus Ranvier





          2006-06-11 10:24:10 UTC
        

Portage 2.1 (!/home/portage/local/profiles/fuckthenavy.net/desktop/kde, gcc-3.4.5, glibc-2.3.6-r3, 2.6.16.20 x86_64)
=================================================================
System uname: 2.6.16.20 x86_64 AMD Athlon(tm) 64 X2 Dual Core Processor 4200+
Gentoo Base System version 1.12.1
ccache version 2.3 [enabled]
dev-lang/python:     2.4.2
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     2.3
dev-util/confcache:  0.4.2-r1
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1-r2
sys-devel/gcc-config: 1.3.13-r2
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.16
ABI="amd64"
ACCEPT_KEYWORDS="amd64"
ACCEPT_LICENSE=""
ARCH="amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CCACHE_SIZE="3G"
CDEFINE_amd64="__x86_64__"
CDEFINE_x86="__i386__"
CFLAGS="-march=opteron -O2 -pipe"
CFLAGS_x86="-m32 -L/emul/linux/x86/lib -L/emul/linux/x86/usr/lib"
CHOST="x86_64-pc-linux-gnu"
CHOST_amd64="x86_64-pc-linux-gnu"
CHOST_x86="i686-pc-linux-gnu"
CLASSPATH="/usr/lib/freenet/freenet.jar:/usr/lib/freenet/freenet-ext.jar:/usr/local/lib/spider.jar:."
CLEAN_DELAY="5"
COLORTERM=""
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/lib/X11/app-defaults /usr/lib/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/gconf /etc/revdep-rebuild /etc/terminfo"
CVS_RSH="ssh"
CXXFLAGS="-march=opteron -O2 -pipe"
DCCC_PATH="/usr/lib/distcc/bin"
DEFAULT_ABI="amd64"
DESKTOP_SESSION="default"
DISPLAY=":0"
DISTCC_LOG=""
DISTCC_VERBOSE="0"
DISTDIR="/home/portage/distfiles"
DM_CONTROL="/var/run/xdmctl"
EDITOR="/bin/nano -w"
ELIBC="glibc"
EMERGE_DEFAULT_OPTS="--alphabetical --ask --columns --deep --verbose"
EMERGE_WARNING_DELAY="10"
FEATURES="autoconfig ccache confcache distlocks metadata-transfer parallel-fetch sandbox sfperms strict"
FETCHCOMMAND="/usr/bin/wget -t 5 -T 60 --passive-ftp -P ${DISTDIR} ${URI}"
GCC_SPECS=""
GDK_USE_XFT="1"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
GPG_AGENT_INFO="/tmp/gpg-ZpHPUd/S.gpg-agent:8529:1"
GS_LIB="/home/jack/.fonts"
GTK2_RC_FILES="/etc/gtk-2.0/gtkrc:/home/jack/.gtkrc-2.0:/home/jack/.kde3.5/share/config/gtkrc-2.0"
GTK_RC_FILES="/etc/gtk/gtkrc:/home/jack/.gtkrc:/home/jack/.kde3.5/share/config/gtkrc"
G_BROKEN_FILENAMES="1"
HOME="/root"
INFOPATH="/usr/share/info:/usr/share/binutils-data/x86_64-pc-linux-gnu/2.16.1/info:/usr/share/gcc-data/x86_64-pc-linux-gnu/3.4.5/info"
I_PROMISE_TO_SUPPLY_PATCHES_WITH_BUGS="1"
JAVAC="/opt/sun-jdk-1.5.0.06/bin/javac"
JAVA_HOME="/opt/sun-jdk-1.5.0.06"
JDK_HOME="/opt/sun-jdk-1.5.0.06"
KDEDIRS="/usr"
KDE_FULL_SESSION="true"
KDE_MULTIHEAD="false"
KERNEL="linux"
KONSOLE_DCOP="DCOPRef(konsole-8597,konsole)"
KONSOLE_DCOP_SESSION="DCOPRef(konsole-8597,session-2)"
LDFLAGS_x86="-m elf_i386 -L/emul/linux/x86/lib -L/emul/linux/x86/usr/lib"
LESS="-R -M --shift 5"
LESSOPEN="|lesspipe.sh %s"
LIBDIR_amd64="lib64"
LIBDIR_x86="lib32"
LOGNAME="root"
LS_COLORS="no=00:fi=00:di=01;34:ln=01;36:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=01;05;37;41:mi=01;05;37;41:su=37;41:sg=30;43:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arj=01;31:*.taz=01;31:*.lzh=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.gz=01;31:*.bz2=01;31:*.bz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.rar=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.jpg=01;35:*.jpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.qt=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.pdf=00;32:*.ps=00;32:*.txt=00;32:*.patch=00;32:*.diff=00;32:*.log=00;32:*.tex=00;32:*.doc=00;32:*.flac=01;35:*.mp3=01;35:*.mpc=00;36:*.ogg=00;36:*.wav=00;36:*.mid=00;36:*.midi=00;36:*.au=00;36:*.flac=00;36:*.aac=00;36:"
MANPATH="/usr/local/share/man:/usr/share/man:/usr/share/binutils-data/x86_64-pc-linux-gnu/2.16.1/man:/usr/share/gcc-data/x86_64-pc-linux-gnu/3.4.5/man::/opt/sun-jdk-1.5.0.06/man:/usr/qt/3/doc/man"
MULTILIB_ABIS="amd64 x86"
MULTILIB_STRICT_DENY="64-bit.*shared object"
MULTILIB_STRICT_DIRS="/lib /usr/lib /usr/kde/*/lib /usr/qt/*/lib /usr/X11R6/lib"
MULTILIB_STRICT_EXEMPT="(perl5|gcc|gcc-lib|binutils|eclipse-3|debug|portage)"
OLDPWD="/usr/local/src"
OPENGL_PROFILE="nvidia"
PAGER="/usr/bin/less"
PATH="/sbin:/bin:/usr/sbin:/usr/bin"
PKGDIR="/home/portage/tree/packages"
PORTAGE_ARCHLIST="ppc s390 amd64 ppc64 x86-fbsd m68k arm sparc sh mips ia64 alpha ppc-macos hppa x86"
PORTAGE_BINHOST_CHUNKSIZE="3000"
PORTAGE_BIN_PATH="/usr/lib/portage/bin"
PORTAGE_CALLER="emerge"
PORTAGE_CONFIGROOT="/"
PORTAGE_ELOG_CLASSES="log warn error"
PORTAGE_ELOG_MAILFROM="portage"
PORTAGE_ELOG_MAILSUBJECT="[portage] ebuild log for ${PACKAGE} on ${HOST}"
PORTAGE_ELOG_MAILURI="root"
PORTAGE_GID="250"
PORTAGE_INST_GID="0"
PORTAGE_INST_UID="0"
PORTAGE_PYM_PATH="/usr/lib/portage/pym"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_RSYNC_RETRIES="3"
PORTAGE_TMPDIR="/var/tmp"
PORTAGE_WORKDIR_MODE="0700"
PORTDIR="/home/portage/tree"
PORTDIR_OVERLAY="/home/portage/local"
PRELINK_PATH=""
PRELINK_PATH_MASK=""
PWD="/usr/local/src/mythtv-0.19"
PYTHONPATH="/usr/lib/portage/pym"
QMAKESPEC="linux-g++"
QTDIR="/usr/qt/3"
RESUMECOMMAND="/usr/bin/wget -c -t 5 -T 60 --passive-ftp -P ${DISTDIR} ${URI}"
ROOT="/"
RPMDIR="/usr/portage/rpm"
SESSION_MANAGER="local/boron:/tmp/.ICE-unix/8568"
SHELL="/bin/bash"
SHLVL="3"
SSH_AGENT_PID="8532"
SSH_AUTH_SOCK="/tmp/ssh-tgulQR8531/agent.8531"
SYMLINK_LIB="yes"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
TERM="xterm"
USE="amd64 3dnox X a52 aac acpi alsa arts asf avi berkdb bitmap-fonts browserplugin bzip2 cddb cdparanoia cli crypt cups dga djbfft dri dts dvd dvdread encode fam ffmpeg firefox flac foomaticdb gd gif gpm gtk2 hal imlib ipv6 isdnlog java jpeg jpeg2k kde lzo lzw lzw-tiff mad maildir matroska mikmod mng mozilla mozsvg mp3 mp4 mpeg ncurses network nls nptl nptlonly nsplugin nvidia offensive ogg oggvorbis openal openaxr opengl pam pcre perl png pppd python qt quicktime readline reflection rle rtc samba sdl session speex spell spl ssl symlink syslog tcltk tga theora threads tiff truetype truetype-fonts type1-fonts unicode usb userlocales utf8 v4l v4l2 vcd vorbis x264 xinerama xml2 xorg xpm xv xvid xvmc zlib elibc_glibc kernel_linux userland_GNU video_cards_nvidia"
USER="root"
USERLAND="GNU"
USE_EXPAND="DVB_CARDS ELIBC FCDSL_CARDS FRITZCAPI_CARDS INPUT_DEVICES KERNEL LINGUAS LIRC_DEVICES USERLAND VIDEO_CARDS"
USE_EXPAND_HIDDEN="ELIBC KERNEL USERLAND"
USE_ORDER="env:pkg:conf:defaults"
VIDEO_CARDS="nvidia"
WINDOWID="27262981"
XARGS="xargs -r"
XAUTHORITY="/root/.xauthLu6VWg"
XCURSOR_THEME="default"
XDG_CONFIG_DIRS="/usr/kde/3.5/etc/xdg"
XDG_DATA_DIRS="/usr/kde/3.5/share:/usr/share"
XDM_MANAGED="/var/run/xdmctl/xdmctl-:0,maysd,mayfn,sched,rsvd,method=classic"
XINITRC="/etc/X11/xinit/xinitrc"
_="/usr/bin/emerge"




Comment 3


Jakub Moc (RETIRED)






          2006-06-11 10:25:32 UTC
        

You still didn't tell us which spca5xx version are you using.




Comment 4


Justus Ranvier





          2006-06-11 10:28:48 UTC
        

(In reply to comment #3)
> You still didn't tell us which spca5xx version are you using.
> 

>>/var/tmp/portage/spca5xx-20060501/work/spca5xx-20060501/drivers/usb/spca5xx.c:

Probably spca5xx-20060501

[ebuild   R   ] media-video/spca5xx  [20060501]    0 kB






Comment 5


Justus Ranvier





          2006-09-24 11:06:15 UTC
        

I've tested further and it seems that I only see this problem with I try to use a USB mouse with spca5xx. A USB cdrom works fine with the webcam.

Also, I've reproduced this with two different computers.




Comment 6


Paulo J. Matos





          2006-09-24 15:24:42 UTC
        

I'm sure the guys at spca50x-devs@lists.sourceforge.net would love to hear from you! I don't think the Gentoo guys will be able to do much about that, except not marking this version as stable. By the way, does that happen with the stable version? That would also be nice to hear!




Comment 7


Justus Ranvier





          2006-09-24 15:50:56 UTC
        

(In reply to comment #6)
> I'm sure the guys at spca50x-devs@lists.sourceforge.net would love to hear from
> you! I don't think the Gentoo guys will be able to do much about that, except
> not marking this version as stable. By the way, does that happen with the
> stable version? That would also be nice to hear!
> 

The stable version doesn't work with my camera (last time I tried). From looking at the webpage, it seems that this project is depreciated anyway. I guess I just have to wait until the release the successor project.




Comment 8


Mike Doty (RETIRED)






          2006-10-22 08:28:11 UTC
        

gspcav1 is in the tree, try that.




Comment 9


Justus Ranvier





          2006-10-22 13:59:59 UTC
        

(In reply to comment #8)
> gspcav1 is in the tree, try that.
> 

It works now, mostly.

If I plug in the USB mouse before loading gspca, it works, but not the other way around. I get this message when gspca loads:

/var/tmp/portage/gspcav1-20060925/work/gspcav1-20060925/gspca_core.c: [gspca_reduce_packet_size:970] You probably have another device sharing the same USB Host Controller Bus as your camera. Try using another USB port, on a different host controller bus !
/var/tmp/portage/gspcav1-20060925/work/gspcav1-20060925/gspca_core.c: Lowering the bandwidth requirements - New packet size (896)
ohci_hcd 0000:00:02.0: leak ed ffff81007fa962d0 (#81) state 2









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

