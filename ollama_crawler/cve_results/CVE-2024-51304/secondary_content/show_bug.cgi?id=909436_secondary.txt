Title: 909436 – dev-java/jna-5.13.0-r1: The type "com.sun.jna.TypeMapperTest$Enumeration" is not supported: Native size for type "com.sun.jna.TypeMapperTest$Enumeration" is unknown
URL: https://bugs.gentoo.org/show_bug.cgi?id=909436

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 909436
dev-java/jna-5.13.0-r1: The type "com.sun.jna.TypeMapperTest$Enumeration" is not supported: Native size for type "com.sun.jna.TypeMapperTest$Enumeration" is unknown
Last modified: 2023-07-18 10:35:28 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 909436 
      - dev-java/jna-5.13.0-r1: The type "com.sun.jna.TypeMapperTest$Enumeration" is not supported: Native size for type "com.sun.jna.TypeMapperTest$Enumeration" is unknown


Summary:
dev-java/jna-5.13.0-r1: The type "com.sun.jna.TypeMapperTest$Enumeration" is ...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Java team








URL:







Whiteboard:




Keywords:

PullRequest, TESTFAILURE







Depends on:







Blocks:









 





      Reported:
    
2023-07-01 11:04 UTC by Volkmar W. Pogatzki





      Modified:
    
2023-07-18 10:35 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



arthurzam
fordfrog









See Also:


https://github.com/gentoo/gentoo/pull/30966





Package list:







Runtime testing required:

---























      Attachments
    




build log provided by arthurzam

              (test_failure_x86.txt,19.75 KB,
                text/plain)

            
2023-07-01 11:04 UTC,

            Volkmar W. Pogatzki




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Volkmar W. Pogatzki





          2023-07-01 11:04:40 UTC
        

Created attachment 864947 [details]
build log provided by arthurzam

There was 1 failure:
1) testEnumConversion(com.sun.jna.TypeMapperTest)
java.lang.IllegalArgumentException: Invalid Structure field in class com.sun.jna.TypeMapperTest$EnumerationTestLibrary$MinTestStructure, field name 'field' (class com.sun.jna.TypeMapperTest$Enumeration): The type "com.sun.jna.TypeMapperTest$Enumeration" is not supported: Native size for type "com.sun.jna.TypeMapperTest$Enumeration" is unknown
	at com.sun.jna.Structure.validateField(Structure.java:1246)
	at com.sun.jna.Structure.validateFields(Structure.java:1255)
	at com.sun.jna.Structure.<init>(Structure.java:211)
	at com.sun.jna.Structure.<init>(Structure.java:204)
	at com.sun.jna.Structure.<init>(Structure.java:191)
	at com.sun.jna.Structure.<init>(Structure.java:183)
	at com.sun.jna.TypeMapperTest$EnumerationTestLibrary$MinTestStructure.<init>(TypeMapperTest.java:243)
	at com.sun.jna.TypeMapperTest.testEnumConversion(TypeMapperTest.java:276)
	... 25 trimmed
Caused by: java.lang.IllegalArgumentException: The type "com.sun.jna.TypeMapperTest$Enumeration" is not supported: Native size for type "com.sun.jna.TypeMapperTest$Enumeration" is unknown
	at com.sun.jna.Native.getNativeSize(Native.java:1412)
	at com.sun.jna.Structure.getNativeSize(Structure.java:2310)
	at com.sun.jna.Structure.getNativeSize(Structure.java:2300)
	at com.sun.jna.Structure.validateField(Structure.java:1242)
	... 33 more

FAILURES!!!
Tests run: 519,  Failures: 1




Comment 1


Volkmar W. Pogatzki





          2023-07-18 10:35:28 UTC
        

This failure was not reproduced on x86 stabilization https://gitweb.gentoo.org/repo/gentoo.git/commit/dev-java/jna?id=1ec7361a89dbca50539405e375556db557da0c03. Closing









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

