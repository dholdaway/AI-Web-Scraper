Title: 179373 – app-cdr/kcdlabel-2.12-r1 fails to compile
URL: https://bugs.gentoo.org/show_bug.cgi?id=179373

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 179373
app-cdr/kcdlabel-2.12-r1 fails to compile
Last modified: 2007-06-07 19:31:08 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 179373 
      - app-cdr/kcdlabel-2.12-r1 fails to compile


Summary:
app-cdr/kcdlabel-2.12-r1 fails to compile
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       major
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-05-21 22:43 UTC by Neil Stone





      Modified:
    
2007-06-07 19:31 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Neil Stone





          2007-05-21 22:43:55 UTC
        

Trying to compile fails.

Reproducible: Always

Steps to Reproduce:
[ebuild  N    ] app-cdr/kcdlabel-2.12-r1  USE="arts xinerama -debug" 0 kB

1. emerge app-cdr/kcdlabel
2. fail..
Actual Results:  
.
.
/usr/include/linux/byteorder/little_endian.h:71: error: expected ',' or '...' before '*' token
/usr/include/linux/byteorder/little_endian.h: In function '__u64 __be64_to_cpup(int)':
/usr/include/linux/byteorder/little_endian.h:73: error: 'p' was not declared in this scope
make[3]: *** [cddbaccessdialog.o] Error 1
make[3]: *** Waiting for unfinished jobs....
make[3]: *** [cddbaccessdialogdata.o] Error 1
make[3]: Leaving directory `/var/tmp/portage/app-cdr/kcdlabel-2.12-r1/work/kcdlabel-2.12-KDE3/kcdlabel'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/var/tmp/portage/app-cdr/kcdlabel-2.12-r1/work/kcdlabel-2.12-KDE3/kcdlabel'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/app-cdr/kcdlabel-2.12-r1/work/kcdlabel-2.12-KDE3'
make: *** [all] Error 2

!!! ERROR: app-cdr/kcdlabel-2.12-r1 failed.
Call stack:
  ebuild.sh, line 1615:   Called dyn_compile
  ebuild.sh, line 972:   Called qa_call 'src_compile'
  ebuild.sh, line 44:   Called src_compile
  kcdlabel-2.12-r1.ebuild, line 23:   Called kde_src_compile 'all'
  kde.eclass, line 340:   Called kde_src_compile 'myconf' 'configure' 'make'
  kde.eclass, line 336:   Called die

!!! died running emake, kde_src_compile:make
!!! If you need support, post the topmost build error, and the call stack if relevant.
!!! A complete build log is located at '/var/tmp/portage/app-cdr/kcdlabel-2.12-r1/temp/build.log'.


Expected Results:  
Compiled...

# emerge info
*** Deprecated use of action 'info', use '--info' instead
Portage 2.1.2.7 (default-linux/amd64/2006.0, gcc-4.1.2/amd64-vanilla, glibc-2.5-r2, 2.6.21-gentoo x86_64)
=================================================================
System uname: 2.6.21-gentoo x86_64 AMD Athlon(tm) 64 Processor 3700+
Gentoo Base System release 1.12.10
Timestamp of tree: Sun, 20 May 2007 22:20:01 +0000
app-admin/eselect-compiler: 2.0.0_rc2-r1
dev-java/java-config: 1.3.7, 2.0.32
dev-lang/python:     2.3.6, 2.4.4-r4
dev-python/pycrypto: 2.0.1-r5
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.61
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.17
sys-devel/libtool:   1.5.23b
virtual/os-headers:  2.6.21
ACCEPT_KEYWORDS="amd64 ~amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-Os -mtune=athlon64 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/lib/fax /usr/lib64/mozilla/defaults/pref /usr/share/X11/xkb /usr/share/config /var/spool/fax/etc"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/eselect/compiler /etc/gconf /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c"
CXXFLAGS="-Os -mtune=athlon64 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://gentoo.virginmedia.com           ftp://mirrors.blueyonder.co.uk/mirrors/gentoo           http://www.mirrorservice.org/sites/www.ibiblio.org/gentoo/          ftp://ftp.mirrorservice.org/sites/www.ibiblio.org/gentoo/"
LINGUAS="en en_GB"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.uk.gentoo.org/gentoo-portage"
USE="7zip X Xaw3d a52 aac aalib acpi aim alsa amd64 apm ares arts audiofile avahi avi bash-completion berkdb bidi bitmap-fonts blender-game bluetooth bzip2 bzlib calendar cdda cddb cdparanoia cdr cli corba cpudetection cracklib crypt css cups curl daap dbus dga divx4linux dri dts dv dvb dvd dvdr dvdread eds emboss emerald encode esd ethereal exif expat fam fbcon ffmpeg firefox flac flash font-server foomaticdb fortran ftp gcj gdbm ggi gif gimpprint glitz gnome gnutls gpm gps gstreamer gtk gtk2 hal httpd iconv icq iee1394 ieee1394 imagemagick imlib ipv6 isdnlog jabber java javascript joystick jpeg kde kdeenablefinal kdehiddenvisibility libcaca live lm_sensors logitech-mouse lzw lzw-tiff matroska mcve mgetty midi mikmod mime mng mod mozilla mozsvg mp3 mpeg mplayer msn mudflap musepack musicbrainz mysql nas ncurses network nls nodrm nptl nptlonly nsplugin nvidia odk offensive ogg oggvorbis opengl openmp optimisememory osc oscar oss pam pcre pda pdf pdflib perl png ppds pppd python qt3 qt4 quicktime rar rdesktop readline recode reflection rtsp sasl scanner sdl sensord session shout skins sndfile sound sox speex spell spl ssl stream subtitles svg symlink tcltk tcpd theora threads tidy tiff truetype truetype-fonts type1-fonts unicode usb utf8 v4l v4l2 vcd videos vlm vorbis wmf wxwindows xcomposite xine xinerama xorg xosd xpm xprint xscreensaver xv xvid yahoo yv12 zeroconf zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" ELIBC="glibc" INPUT_DEVICES="mouse keyboard joystick" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en en_GB" USERLAND="GNU" VIDEO_CARDS="nvidia v4l nv"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY




Comment 1


Matteo Azzali (RETIRED)






          2007-05-22 08:44:21 UTC
        

Obsolete....
This software seems unmaintained since 2003,
probably we should remove from portage,
actually Koverartist does it better and with 
up-to-date CDDB controls.....




Comment 2


Jorge Manuel B. S. Vicetto (RETIRED)






          2007-05-22 18:03:17 UTC
        

Neil,

you should update your profile. You seem to have an up to date system, with the exception of the profile.
Haven't you received a warning from Portage telling you that the 2006.0 profile has been marked obsolete and will be removed very shortly? Depending on the system, you might want the 2007.0, 2007.0/desktop or 2007.0/server profile.




Comment 3


Neil Stone





          2007-05-22 22:54:27 UTC
        

Profile updated.... just need to find another decent app that lets me design CD labels and insert images as the background.. like that Avery label software on 'doze




Comment 4


Wulf Krueger (RETIRED)






          2007-05-28 22:09:12 UTC
        

Neil, it compiles just fine for me. I have a very similar machine and the only obvious differences between our systems are the gcc version you're using (what's gcc-4.1.2/amd64-vanilla? I have gcc-4.1.2) and that you still have app-admin/eselect-compiler which you should remove.

Then use gcc-config to set the preferred compiler.




Comment 5


Neil Stone





          2007-05-29 06:39:55 UTC
        

OK... did that.. (updated profile, user cgg-config after removing eselect-compiler etc)


same result..




Comment 6


Wulf Krueger (RETIRED)






          2007-06-07 19:31:08 UTC
        

I'm sorry but I can't reproduce this however hard I try. It just works for me.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

