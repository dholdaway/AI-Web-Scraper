Title: 775167 – media-gfx/blender-2.91.2 emerge failed
URL: https://bugs.gentoo.org/show_bug.cgi?id=775167

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 775167
media-gfx/blender-2.91.2 emerge failed
Last modified: 2021-03-27 01:00:21 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 775167 
      - media-gfx/blender-2.91.2 emerge failed


Summary:
media-gfx/blender-2.91.2 emerge failed
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Adrian








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2021-03-09 23:37 UTC by Austin Kilgore





      Modified:
    
2021-03-27 01:00 UTC
      (History)
    




          CC List:
        

3 
          users
          
            (show)
          



jstein
proxy-maint
sam









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




archive of build log and emerge info

              (build-log-and-emerge-info.tar.gz,262.23 KB,
                application/gzip)

            
2021-03-10 00:43 UTC,

            Austin Kilgore




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Austin Kilgore





          2021-03-09 23:37:19 UTC
        

EMERGE:

ERROR: media-gfx/blender-2.91.2::gentoo failed (compile phase):
 *   ninja -v -j13 -l8 failed
 * 
 * Call stack:
 *     ebuild.sh, line  125:  Called src_compile
 *   environment, line 3461:  Called cmake_src_compile
 *   environment, line 1448:  Called cmake_build
 *   environment, line 1417:  Called eninja
 *   environment, line 1869:  Called die
 * The specific snippet of code:
 *       "$@" || die "${nonfatal_args[@]}" "${*} failed"
 * 
 * If you need support, post the output of `emerge --info '=media-gfx/blender-2.91.2::gentoo'`,
 * the complete build log and the output of `emerge -pqv '=media-gfx/blender-2.91.2::gentoo'`.
 * The complete build log is located at '/var/tmp/portage/media-gfx/blender-2.91.2/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/media-gfx/blender-2.91.2/temp/environment'.
 * Working directory: '/var/tmp/portage/media-gfx/blender-2.91.2/work/blender-2.91.2_build'
 * S: '/var/tmp/portage/media-gfx/blender-2.91.2/work/blender-2.91.2'

BUILD LOG:

 * Package:    media-gfx/blender-2.91.2
 * Repository: gentoo
 * Maintainer: agrigo2001@yahoo.com.au proxy-maint@gentoo.org
 * USE:        abi7-compat abi_x86_64 alembic amd64 bullet collada color-management cycles dds elbeem elibc_glibc ffmpeg fftw jemalloc jpeg2k kernel_linux llvm man ndof nls openal opencl openexr openimageio openmp opensubdiv osl python_single_target_python3_8 sdl sndfile tbb tiff userland_GNU
 * FEATURES:   distcc network-sandbox preserve-libs sandbox userpriv usersandbox
 * Using python3.8 to build
>>> Unpacking source...
>>> Unpacking blender-2.91.2.tar.xz to /var/tmp/portage/media-gfx/blender-2.91.2/work
>>> Source unpacked in /var/tmp/portage/media-gfx/blender-2.91.2/work
>>> Preparing source in /var/tmp/portage/media-gfx/blender-2.91.2/work/blender-2.91.2 ...
 * Working in BUILD_DIR: "/var/tmp/portage/media-gfx/blender-2.91.2/work/blender-2.91.2_build"
 * Hardcoded definition(s) removed in CMakeLists.txt:
 *      set(CMAKE_INSTALL_PREFIX ${EXECUTABLE_OUTPUT_PATH}/\${BUILD_TYPE} CACHE P
 *      set(CMAKE_INSTALL_PREFIX ${EXECUTABLE_OUTPUT_PATH}/\${BUILD_TYPE} CACHE P
 *        set(CMAKE_INSTALL_PREFIX ${EXECUTABLE_OUTPUT_PATH} CACHE PATH "default
 * Hardcoded definition(s) removed in extern/quadriflow/3rd/lemon-1.3.1/CMakeLists.txt:
 *    SET(CMAKE_BUILD_TYPE "Release")
>>> Source prepared.
>>> Configuring source in /var/tmp/portage/media-gfx/blender-2.91.2/work/blender-2.91.2 ...
 * Working in BUILD_DIR: "/var/tmp/portage/media-gfx/blender-2.91.2/work/blender-2.91.2_build"




Comment 1


Sam James









          2021-03-09 23:38:38 UTC
        

Please include the full build.log and emerge --info.




Comment 2


Austin Kilgore





          2021-03-10 00:10:15 UTC
        

(In reply to Sam James from comment #1)
> Please include the full build.log and emerge --info.

My apologies, here's the full build.log: https://drive.google.com/file/d/13IaJwqaAW-HeRDLwlB882J6HOIcooreB/view?usp=sharing

Output of emerge --info: https://dpaste.org/sTBw




Comment 3


Sam James









          2021-03-10 00:12:12 UTC
        

(In reply to Austin Kilgore from comment #2)
> (In reply to Sam James from comment #1)
> > Please include the full build.log and emerge --info.
> 
> My apologies, here's the full build.log:
> https://drive.google.com/file/d/13IaJwqaAW-HeRDLwlB882J6HOIcooreB/
> view?usp=sharing
> 
> Output of emerge --info: https://dpaste.org/sTBw

Could you compress it and attach it heee for posterity please? Thanks!




Comment 4


Austin Kilgore





          2021-03-10 00:43:23 UTC
        

Created attachment 690414 [details]
archive of build log and emerge info




Comment 5


Austin Kilgore





          2021-03-26 23:14:37 UTC
        

I'm not exactly sure what I did that fixed it but it emerges now.




Comment 6


Sam James









          2021-03-27 01:00:21 UTC
        

(In reply to Austin Kilgore from comment #5)
> I'm not exactly sure what I did that fixed it but it emerges now.

distcc is fragile, but also, you probably rebuilt X stuff:

/usr/lib/gcc/x86_64-pc-linux-gnu/9.3.0/../../../../x86_64-pc-linux-gnu/bin/ld: lib/libbf_intern_ghost.a(GHOST_SystemX11.cpp.o): undefined reference to symbol 'XPending'
/usr/lib/gcc/x86_64-pc-linux-gnu/9.3.0/../../../../x86_64-pc-linux-gnu/bin/ld: /usr/lib64/libX11.so: error adding symbols: DSO missing from command line
collect2: error: ld returned 1 exit status









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

