Title: 263307 – Gnome does not work
URL: https://bugs.gentoo.org/show_bug.cgi?id=263307

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 263307
Gnome does not work
Last modified: 2009-12-21 22:37:33 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 263307 
      - Gnome does not work


Summary:
Gnome does not work
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Highest
       major
      


Assignee:

Freedesktop bugs








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-03-21 22:18 UTC by Albert Zeyer





      Modified:
    
2009-12-21 22:37 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Albert Zeyer





          2009-03-21 22:18:09 UTC
        

acompneu ~ # console-kit-daemon --no-daemon --debug
console-kit-daemon[614]: DEBUG: Debugging enabled
process 614: arguments to dbus_connection_ref() were incorrect, assertion "connection != NULL" failed in file dbus-connection.c line 2509.
This is normally a bug in some application using the D-Bus library.
  D-Bus not built with -rdynamic so unable to print a backtrace
Aborted (core dumped)




Comment 1


Albert Zeyer





          2009-03-21 22:19:04 UTC
        

Core was generated by `console-kit-daemon --no-daemon --debug'.
Program terminated with signal 6, Aborted.
[New process 617]
#0  0xffffe424 in __kernel_vsyscall ()
(gdb) bt full
#0  0xffffe424 in __kernel_vsyscall ()
No symbol table info available.
#1  0xb7d00670 in *__GI_raise (sig=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:64
	resultvar = <value optimized out>
	pid = -1209982988
	selftid = 617
#2  0xb7d01eb8 in *__GI_abort () at abort.c:88
	act = {__sigaction_handler = {sa_handler = 0xb7ff27b4, sa_sigaction = 0xb7ff27b4}, sa_mask = {__val = {
      9, 3085892336, 1, 0, 1, 3216971016, 3216971080, 3086952372, 3216971088, 3086681408, 3086267813, 0, 
      3216971060, 3216971048, 3216970988, 64, 3216971120, 3086681408, 3086267561, 3084111839, 0, 0, 64, 
      3084985696, 64, 3216971028, 3084111011, 3084985696, 3086458108, 64, 0, 3086458108}}, 
  sa_flags = -1209982988, sa_restorer = 0x40}
	sigs = {__val = {32, 0 <repeats 31 times>}}
#3  0xb7f70ab5 in _dbus_abort () at dbus-sysdeps.c:86
	s = 0x0
#4  0xb7f6cd11 in _dbus_warn_check_failed (
    format=0xb7f790a0 "arguments to %s() were incorrect, assertion \"%s\" failed in file %s line %d.\nThis is normally a bug in some application using the D-Bus library.\n") at dbus-internals.c:283
No locals.
#5  0xb7f53d5d in dbus_connection_ref (connection=0x0) at dbus-connection.c:2509
	__FUNCTION__ = "dbus_connection_ref"
#6  0xb7fa5283 in dbus_g_proxy_set_property (object=0x8dd24a8, prop_id=4, value=0xbfbf1708, pspec=0x8dcaaf0)
    at dbus-gproxy.c:208
	priv = (DBusGProxyPrivate *) 0x8dd24b8
#7  0xb7f1ca89 in g_object_constructor (type=148699024, n_construct_properties=0, construct_params=0x8dd2fd0)
    at gobject.c:938
	value = (GValue *) 0x8dd2e14
	pspec = (GParamSpec *) 0x8dcaaf0
	nqueue = (GObjectNotifyQueue *) 0x8dcf9d0
	object = (GObject *) 0x8dd24a8
#8  0xb7fa3bff in dbus_g_proxy_constructor (type=148699024, n_construct_properties=4, 
    construct_properties=0x8dd2fb0) at dbus-gproxy.c:1360
	proxy = <value optimized out>
	priv = <value optimized out>
	__PRETTY_FUNCTION__ = "dbus_g_proxy_constructor"
#9  0xb7f1d19d in IA__g_object_newv (object_type=148699024, n_parameters=4, parameters=0x8dd2dc8)
    at gobject.c:1211
---Type <return> to continue, or q <return> to quit---
	nqueue = <value optimized out>
	object = <value optimized out>
	class = (GObjectClass *) 0x8dd1688
	unref_class = (GObjectClass *) 0x0
	slist = <value optimized out>
	n_total_cparams = 4
	n_cparams = 4
	n_oparams = 0
	n_cvalues = 0
	clist = (GList *) 0x0
	newly_constructed = <value optimized out>
	i = 4
	__PRETTY_FUNCTION__ = "IA__g_object_newv"
#10 0xb7f1dd67 in IA__g_object_new_valist (object_type=148699024, first_property_name=0xb7faba0d "name", 
    var_args=0xbfbf1974 "") at gobject.c:1315
	params = (GParameter *) 0x8dd2dc8
	name = (const gchar *) 0x0
	object = <value optimized out>
	n_params = 4
	n_alloced_params = 16
	__PRETTY_FUNCTION__ = "IA__g_object_new_valist"
#11 0xb7f1dea2 in IA__g_object_new (object_type=148699024, first_property_name=0xb7faba0d "name")
    at gobject.c:1056
	__PRETTY_FUNCTION__ = "IA__g_object_new"
#12 0xb7fa2438 in dbus_g_proxy_new (connection=0x8dd0324, name=0x805b6f7 "org.freedesktop.DBus", 
    path_name=0x805b70c "/org/freedesktop/DBus", interface_name=0x805b6f7 "org.freedesktop.DBus")
    at dbus-gproxy.c:1886
	__PRETTY_FUNCTION__ = "dbus_g_proxy_new"
#13 0x0804d60a in main (argc=134533467, argv=0x0) at main.c:62
	loop = <value optimized out>
	manager = <value optimized out>
	context = (GOptionContext *) 0x8dcf318
	bus_proxy = <value optimized out>
	connection = (DBusGConnection *) 0x0
	error = (GError *) 0x0
	ret = <value optimized out>
	res = <value optimized out>
---Type <return> to continue, or q <return> to quit---
	debug = 1
	no_daemon = 1
	do_timed_exit = 0
	entries = {{long_name = 0x805b7a5 "debug", short_name = 0 '\0', flags = 0, arg = G_OPTION_ARG_NONE, 
    arg_data = 0x806157c, description = 0x805b7ab "Enable debugging code", arg_description = 0x0}, {
    long_name = 0x805b7c1 "no-daemon", short_name = 0 '\0', flags = 0, arg = G_OPTION_ARG_NONE, 
    arg_data = 0x8061578, description = 0x805b7cb "Don't become a daemon", arg_description = 0x0}, {
    long_name = 0x805b7e1 "timed-exit", short_name = 0 '\0', flags = 0, arg = G_OPTION_ARG_NONE, 
    arg_data = 0x8061574, description = 0x805b998 "Exit after a time - for debugging", arg_description = 0x0}, {
    long_name = 0x0, short_name = 0 '\0', flags = 0, arg = G_OPTION_ARG_NONE, arg_data = 0x0, 
    description = 0x0, arg_description = 0x0}}
(gdb) q
acompneu ~ # 





Comment 2


Albert Zeyer





          2009-03-21 22:20:18 UTC
        

Dbus is running. I already reemerged it multiple times (same with consolekit) just to be sure that it is not broken.





Comment 3


Albert Zeyer





          2009-03-21 22:22:49 UTC
        

Because of this bug, I am not able to login anymore in X. I have that bug since the last system update.

When I try to login in GDM, I get this error:

az@acompneu ~ $ cat .xsession-errors 
/etc/X11/gdm/Xsession: Beginning session setup...
/etc/X11/gdm/Xsession: Setup done, will execute: /usr/bin/ssh-agent -- /usr/bin/seahorse-agent --execute gnome-session
SESSION_MANAGER=local/acompneu:/tmp/.ICE-unix/7794
** Message: another SSH agent is running at: /tmp/ssh-qdxPlf7794/agent.7794
process 7794: arguments to dbus_connection_ref() were incorrect, assertion "connection != NULL" failed in file dbus-connection.c line 2509.
This is normally a bug in some application using the D-Bus library.
  D-Bus not built with -rdynamic so unable to print a backtrace


I wonder a bit also that in the GDM login and also with "su", I have to enter a "SSH passphrase:" now (it was "Password:" before). How can that be? Why has it changed? How can I have "Password:" back? And could this be related to the consolekit problem?





Comment 4


Albert Zeyer





          2009-03-21 22:23:30 UTC
        

acompneu ~ # emerge --info
Portage 2.2_rc25 (default/linux/x86/2008.0/desktop, gcc-4.3.2, glibc-2.8_p20080602-r1, 2.6.27-gentoo-r8 i686)
=================================================================
System uname: Linux-2.6.27-gentoo-r8-i686-Intel-R-_Core-TM-2_CPU_E8500_@_3.16GHz-with-glibc2.0
Timestamp of tree: Sat, 21 Mar 2009 20:00:01 +0000
distcc 3.0 i686-pc-linux-gnu [disabled]
app-shells/bash:     3.2_p39
dev-java/java-config: 1.3.7-r1, 2.1.7
dev-lang/python:     2.5.2-r7
dev-python/pycrypto: 2.0.1-r8
dev-util/cmake:      2.6.3
sys-apps/baselayout: 1.12.11.1
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.63
sys-devel/automake:  1.4_p6, 1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.2
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.27-r2
ACCEPT_KEYWORDS="x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=nocona -ggdb -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/config"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-O2 -march=nocona -ggdb -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="candy distlocks fixpackages parallel-fetch preserve-libs protect-owned sandbox sfperms splitdebug unmerge-orphans userfetch"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LANG="en_US.UTF-8"
LC_ALL="en_US.UTF-8"
LDFLAGS="-Wl,-O1"
LINGUAS="de"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portage/local/layman/mpd /usr/portage/local/private"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="7zip GAPING_SECURITY_HOLE X X509 a52 aac aalib acl acpi acpi4linux adns agg aiglx aim alsa amarok amd amr amuled ao applet aqua_theme archive ares asf asm async asyncns atm auctex audioscrobbler automount avahi bash-completion berkdb bidi binary binary-drivers bindist bittorrent bl bonjour bookmarks bootsplash branding bzip2 bzlib cairo captury cdda cddb cdio cdparanoia cdr cdrom cgi cli clisp clucene cmake codecs corba cracklib crypt cups curl custreloc d daap dbus dedicated dga dhcp dirac disk-partition divx4linux dlopen dmi dnd dri dts dv dvd dvdnav dvdr dvdread eds emboss encode esd evo exif faad fam fame ffmpeg firefox flac flash font-server foomaticdb fortran fpx freetype ftp fuse galago gcj gcl gd gdbm gedit ggi gif gimp gl glib glitz glslideshow glut gnome gnutls gphoto2 gpm gprof graphviz gs gsm gstreamer gtk gtk2 gzip h323 hal haskell howl howl-compat html httpd hyperestraier icc iconv icq id3 id3tag imagemagick imap imlib imlib2 inotify insecure-drivers ipv6 isdnlog ithreads jack java jbig jikes jit jpeg jpeg2k kde kde4 kerberos kqemu lame latex lcms ldap libcaca libffi libnotify libssh2 libwww linuxthreads-tls live lzma lzo mad matroska mbox mdnsresponder-compat midi mikmod mjpeg mmx mmxext mng mod modplug mozbranding mozcalendar mozilla mp2 mp3 mp4 mp4live mpeg mpeg2 mpeg4 mplayer mppe-mppc mudflap multislot musepack musicbrainz mysql nautilus ncurses nemesi nepomuk net network njb nls nntp nptl nptlonly nsplugin ntfs objc offensive ogg oggvorbis openal opengl openmp oss pam pascal pch pcre pdf perl php plasma png pop posix ppds pppd prebuilt-system pthreads pulseaudio python qt qt3 qt3support qt4 quicktime rar rdesktop readline realmedia reflection rogue rplay rtc rtsp ruby samba sasl schroedinger screen sdl semantic-desktop server session shorten shout silvercity silverxp skins slp sndfile sockets socks5 solver speedo speex spell spl sqlite srt sse sse2 ssh ssl ssse3 startup-notification stream subversion svg sysfs tagwriting tcltk tcpd teamarena teletext tetex tga themes theora threads threadsafe thumbnail tiff transcode truetype type1 unicode unzip urandom usb v4l v4l2 vcd vdr vidix visualization vlm vorbis win32codecs wma wmf wxwindows x264 x86 xanim xatrix xattr xcb xcomposite xext xface xforms xine xml xorg xosd xpm xprint xrandr xrender xscreensaver xsettings xterm xulrunner xv xvid xvmc zeroconf zip zlib zvbi" ALSA_CARDS="emu10k1" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="keyboard mouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="de" USERLAND="GNU" VIDEO_CARDS="nvidia nv apm"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS





Comment 5


Albert Zeyer





          2009-03-22 14:53:34 UTC
        

After reemerging dbus-glib, I am getting this now:

az@acompneu ~ $ cat .xsession-errors 
/etc/X11/gdm/Xsession: Beginning session setup...
/etc/X11/gdm/Xsession: Setup done, will execute: /usr/bin/ssh-agent -- /usr/bin/seahorse-agent --execute gnome-session
SESSION_MANAGER=local/acompneu:/tmp/.ICE-unix/24181
** Message: another SSH agent is running at: /tmp/ssh-yRIKC24181/agent.24181
1237733103.451939 Session manager: disconnected...
1237733105.679184 Session manager: gsm-remote-desktop.c:135: activation of OAFIID:GNOME_RemoteDesktopServer failed: Unknown Error
1237733106.339616 Session manager: disconnected...
**
ERROR:dbus-gproxy.c:661:unassociate_proxies: assertion failed: (priv->associated)






Comment 6


Albert Zeyer





          2009-03-22 14:59:27 UTC
        

After reemerging also gnome-session, I get again a bit further. Now I got the message that gnome-settings-daemon is restarting too often. And I don't get further anymore. Reemerging gnome-settings-daemon also didn't helped here.

(Btw., I already tried revdep-rebuild; and it doesn't report any related packages.)





Comment 7


Albert Zeyer





          2009-03-22 15:02:11 UTC
        

When I start gnome-settings-daemon on console, I get this:

az@acompneu ~ $ DISPLAY=:0 /usr/libexec/gnome-settings-daemon --no-daemon
The program 'gnome-settings-daemon' received an X Window System error.
This probably reflects a bug in the program.
The error was 'BadClass, invalid event class'.
  (Details: serial 159 error_code 181 request_code 149 minor_code 6)
  (Note to programmers: normally, X errors are reported asynchronously;
   that is, you will receive the error a while after causing it.
   To debug your program, run it with the --sync command line
   option to change this behavior. You can then get a meaningful
   backtrace from your debugger if you break on the gdk_x_error() function.)
[1237734094,000,xklavier.c:xkl_engine_start_listen/] 	The backend does not require manual layout management - but it is provided by the application






Comment 8


Albert Zeyer





          2009-03-22 15:09:38 UTC
        

The hint in bug #256016 to downgrade libxklavier to 3.6 helped for the gnome-settings-daemon. Now I am again a bit further. I see now my wallpaper background but that's it. gnome-panel and nautilus is started but doesn't appear on the desktop. Still pretty much unusable...





Comment 9


Albert Zeyer





          2009-03-22 15:23:44 UTC
        

Reemerging nautilus and gnome-panel also did not make any difference.





Comment 10


Albert Zeyer





          2009-03-22 15:25:47 UTC
        

Starting nautilus manually from console also doesn't help. I get this:

az@acompneu ~ $ DISPLAY=:0 nautilus
Initializing nautilus-open-terminal extension
seahorse nautilus module initialized

And nothing more and also nothing appears on the desktop.





Comment 11


Albert Zeyer





          2009-03-22 15:26:41 UTC
        

az@acompneu ~ $ DISPLAY=:0 nautilus -c
running nautilus_self_check_file_utilities
running nautilus_self_check_file_operations
running nautilus_self_check_directory
running nautilus_self_check_file
running nautilus_self_check_icon_container
running nautilus_self_check_file_utilities
running nautilus_self_check_file_operations
running nautilus_self_check_directory
running nautilus_self_check_file
running nautilus_self_check_icon_container





Comment 12


Albert Zeyer





          2009-03-22 15:27:07 UTC
        

az@acompneu ~ $ DISPLAY=:0 nautilus -n --browser /

Just no output and also does not work.





Comment 13


Albert Zeyer





          2009-03-22 15:28:35 UTC
        

Even gnome-terminal does not work. Just no output on console and also no reaction on the desktop.





Comment 14


Albert Zeyer





          2009-03-22 15:28:46 UTC
        

xterm works though.





Comment 15


Albert Zeyer





          2009-03-22 15:34:48 UTC
        

Some strace output for gnome-terminal:

az@acompneu ~ $ DISPLAY=:0 strace  gnome-terminal
execve("/usr/bin/gnome-terminal", ["gnome-terminal"], [/* 55 vars */]) = 0
brk(0)                                  = 0x9a95000
access("/etc/ld.so.preload", R_OK)      = -1 ENOENT (No such file or directory)
open("/etc/ld.so.cache", O_RDONLY)      = 3
fstat64(3, {st_mode=S_IFREG|0644, st_size=151434, ...}) = 0
mmap2(NULL, 151434, PROT_READ, MAP_PRIVATE, 3, 0) = 0xb7ef6000
close(3)                                = 0
open("/usr/lib/libgnomeui-2.so.0", O_RDONLY) = 3
read(3, "\177ELF\1\1\1\0\0\0\0\0\0\0\0\0\3\0\3\0\1\0\0\0000\267\1\0004\0\0\0\330"..., 512) = 512
fstat64(3, {st_mode=S_IFREG|0755, st_size=551400, ...}) = 0
mmap2(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0xb7ef5000
mmap2(NULL, 550944, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0xb7e6e000
mmap2(0xb7ef1000, 16384, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x83) = 0xb7ef1000
close(3)                                = 0
...
getpid()                                = 28006
getpid()                                = 28006
futex(0xb72fae50, FUTEX_WAKE_PRIVATE, 2147483647) = 0
gettimeofday({1237735787, 111672}, NULL) = 0
open("/proc/self/status", O_RDONLY)     = 3
fstat64(3, {st_mode=S_IFREG|0444, st_size=0, ...}) = 0
mmap2(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0xb7f18000
read(3, "Name:\tgnome-terminal\nState:\tR (ru"..., 1024) = 795
read(3, ""..., 1024)                    = 0
close(3)                                = 0
munmap(0xb7f18000, 4096)                = 0
open("/proc/self/status", O_RDONLY)     = 3
fstat64(3, {st_mode=S_IFREG|0444, st_size=0, ...}) = 0
mmap2(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0xb7f18000
read(3, "Name:\tgnome-terminal\nState:\tR (ru"..., 1024) = 795
read(3, ""..., 1024)                    = 0
close(3)                                = 0
munmap(0xb7f18000, 4096)                = 0
open("/proc/self/status", O_RDONLY)     = 3
fstat64(3, {st_mode=S_IFREG|0444, st_size=0, ...}) = 0
mmap2(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0xb7f18000
read(3, "Name:\tgnome-terminal\nState:\tR (ru"..., 1024) = 795
read(3, ""..., 1024)                    = 0
close(3)                                = 0
munmap(0xb7f18000, 4096)                = 0
rt_sigprocmask(SIG_BLOCK, ~[RTMIN RT_1], [], 8) = 0
open("gnome-terminal", O_RDONLY)        = -1 ENOENT (No such file or directory)
rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
gettimeofday({1237735787, 112803}, NULL) = 0
sched_getparam(28006, { 0 })            = 0
sched_getscheduler(28006)               = 0 (SCHED_OTHER)
clock_getres(CLOCK_MONOTONIC, {0, 1})   = 0
sched_get_priority_min(SCHED_OTHER)     = 0
sched_get_priority_max(SCHED_OTHER)     = 0
sched_get_priority_max(SCHED_OTHER)     = 0
open("/usr/lib/charset.alias", O_RDONLY|O_LARGEFILE) = -1 ENOENT (No such file or directory)
open("/usr/share/locale/locale.alias", O_RDONLY|O_LARGEFILE) = 3
fstat64(3, {st_mode=S_IFREG|0644, st_size=2570, ...}) = 0
mmap2(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0xb7f18000
read(3, "# Locale name alias data base.\n# "..., 4096) = 2570
read(3, ""..., 4096)                    = 0
close(3)                                = 0
munmap(0xb7f18000, 4096)                = 0
geteuid32()                             = 1000
getuid32()                              = 1000
getegid32()                             = 100
getgid32()                              = 100
brk(0x9ad7000)                          = 0x9ad7000
socket(PF_FILE, SOCK_STREAM, 0)         = 3
fcntl64(3, F_SETFL, O_RDWR|O_NONBLOCK)  = 0
connect(3, {sa_family=AF_FILE, path="/var/run/nscd/socket"...}, 110) = -1 ENOENT (No such file or directory)
close(3)                                = 0
...
open("/usr/share/locale/en_US/LC_MESSAGES/GConf2.mo", O_RDONLY) = -1 ENOENT (No such file or directory)
open("/usr/share/locale/en.UTF-8/LC_MESSAGES/GConf2.mo", O_RDONLY) = -1 ENOENT (No such file or directory)
open("/usr/share/locale/en.utf8/LC_MESSAGES/GConf2.mo", O_RDONLY) = -1 ENOENT (No such file or directory)
open("/usr/share/locale/en/LC_MESSAGES/GConf2.mo", O_RDONLY) = -1 ENOENT (No such file or directory)
open("/var/lib/dbus/machine-id", O_RDONLY) = 10
fstat64(10, {st_mode=S_IFREG|0644, st_size=33, ...}) = 0
read(10, "e61c0fec98625ce14454220045c91c53\n"..., 33) = 33
close(10)                               = 0
pipe([10, 11])                          = 0
pipe([12, 13])                          = 0
clone(child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0xb5c88738) = 28007
close(11)                               = 0
close(13)                               = 0
read(10, "unix:abstract=/tmp/dbus-YmWuekZG2"..., 1024) = 81
read(10, ""..., 1024)                   = 0
waitpid(28007, [{WIFEXITED(s) && WEXITSTATUS(s) == 0}], 0) = 28007
--- SIGCHLD (Child exited) @ 0 (0) ---
close(10)                               = 0
close(12)                               = 0
socket(PF_FILE, SOCK_STREAM, 0)         = 10
connect(10, {sa_family=AF_FILE, path=@"/tmp/dbus-YmWuekZG2q"...}, 23) = 0
fcntl64(10, F_GETFL)                    = 0x2 (flags O_RDWR)
fcntl64(10, F_SETFL, O_RDWR|O_NONBLOCK) = 0
fcntl64(10, F_GETFD)                    = 0
fcntl64(10, F_SETFD, FD_CLOEXEC)        = 0
geteuid32()                             = 1000
rt_sigaction(SIGPIPE, {0x1, [PIPE], SA_RESTART}, {0x1, [PIPE], SA_RESTART}, 8) = 0
poll([{fd=10, events=POLLOUT}], 1, 0)   = 1 ([{fd=10, revents=POLLOUT}])
write(10, "\0"..., 1)                   = 1
write(10, "AUTH EXTERNAL 31303030\r\n"..., 24) = 24
poll([{fd=10, events=POLLIN}], 1, -1)   = 1 ([{fd=10, revents=POLLIN}])
read(10, "OK 87ef68b2697181f3eb9a15c549c657"..., 2048) = 37
poll([{fd=10, events=POLLOUT}], 1, -1)  = 1 ([{fd=10, revents=POLLOUT}])
write(10, "BEGIN\r\n"..., 7)            = 7
poll([{fd=10, events=POLLIN|POLLOUT}], 1, -1) = 1 ([{fd=10, revents=POLLOUT}])
writev(10, [{"l\1\0\1\0\0\0\0\1\0\0\0n\0\0\0\1\1o\0\25\0\0\0/org/free"..., 128}, {""..., 0}], 2) = 128
gettimeofday({1237735787, 151198}, NULL) = 0
poll([{fd=10, events=POLLIN}], 1, 25000) = 1 ([{fd=10, revents=POLLIN}])
read(10, "l\2\1\1\n\0\0\0\1\0\0\0=\0\0\0\6\1s\0\5\0\0\0:1.34\0\0\0\5"..., 2048) = 260
read(10, 0x9b04158, 2048)               = -1 EAGAIN (Resource temporarily unavailable)
writev(10, [{"l\1\0\1\0\0\0\0\2\0\0\0_\0\0\0\1\1o\0\20\0\0\0/org/gnom"..., 112}, {""..., 0}], 2) = 112
gettimeofday({1237735787, 151848}, NULL) = 0
poll([{fd=10, events=POLLIN}], 1, 25000) = 1 ([{fd=10, revents=POLLIN}])
read(10, "l\2\1\1Y\2\0\0\30\0\0\0-\0\0\0\6\1s\0\5\0\0\0:1.34\0\0\0\5"..., 2048) = 665
read(10, 0x9b04158, 2048)               = -1 EAGAIN (Resource temporarily unavailable)
socket(PF_FILE, SOCK_STREAM, 0)         = 11
fcntl64(11, F_SETFL, O_RDONLY|O_NONBLOCK) = 0
fcntl64(11, F_SETFD, FD_CLOEXEC)        = 0
getuid32()                              = 1000
connect(11, {sa_family=AF_FILE, path="/tmp/orbit-az/linc-472c-0-7ea9ee9bab97f"...}, 42) = 0
writev(11, [{"GIOP\1\2\1\0T\0\0\0"..., 12}, {"\240@\363\277\3\0\0\0\0\0\0\0\34\0\0\0\0\0\0\0\301\370\210h\204o((\300+((("..., 84}], 2) = 96
...
read(11, "GIOP\1\2\1\1(\0\0\0"..., 12)  = 12
read(11, "\300A\363\277\0\0\0\0\1\0\0\0\1\0\0\0\f\0\0\0\1\1\1\1\1\0\1\5\t\1\1\0\3"..., 40) = 40
writev(11, [{"GIOP\1\2\1\0\230\0\0\0"..., 12}, {"@A\363\277\3\0\0\0\0\0\0\0\34\0\0\0\0\0\0\0\301\370\210h\204o((\300+((("..., 44}, {"\35\0\0\0all_entries_with_schema_name\0"..., 36}, {"\1\0\0\0\1\0\0\0\f\0\0\0\1\1\1\1\1\0\1\5\t\1\1\0\0\0\0\0\25\0\0\0/"..., 72}], 4) = 164
poll([{fd=6, events=POLLIN}, {fd=11, events=POLLIN|POLLPRI}, {fd=12, events=POLLIN|POLLPRI}, {fd=13, events=POLLIN|POLLPRI}], 4, -1) = 1 ([{fd=11, revents=POLLIN}])
read(11, "GIOP\1\2\1\1N\2\0\0"..., 12)  = 12
read(11, "@A\363\277\0\0\0\0\1\0\0\0\1\0\0\0\f\0\0\0\1\1\1\1\1\0\1\5\t\1\1\0\3"..., 590) = 590
writev(11, [{"GIOP\1\2\1\0`\0\0\0"..., 12}, {"0A\363\277\3\0\0\0\0\0\0\0\34\0\0\0\0\0\0\0\301\370\210h\204o((\300+((("..., 96}], 2) = 108
poll([{fd=6, events=POLLIN}, {fd=11, events=POLLIN|POLLPRI}, {fd=12, events=POLLIN|POLLPRI}, {fd=13, events=POLLIN|POLLPRI}], 4, -1) = 1 ([{fd=11, revents=POLLIN}])
read(11, "GIOP\1\2\1\1$\0\0\0"..., 12)  = 12
read(11, "0A\363\277\0\0\0\0\1\0\0\0\1\0\0\0\f\0\0\0\1\1\1\1\1\0\1\5\t\1\1\0\3"..., 36) = 36
writev(11, [{"GIOP\1\2\1\0\307\1\0\0"..., 12}, {"pA\363\277\3\0\0\0\0\0\0\0\34\0\0\0\0\0\0\0\301\370\210h\204o((\300+((("..., 44}, {"\35\0\0\0add_listener_with_properties\0"..., 36}, {"\1\0\0\0\1\0\0\0\f\0\0\0\1\1\1\1\1\0\1\5\t\1\1\0\1\0\0\0\17\0\0\0/"..., 375}], 4) = 467
poll([{fd=6, events=POLLIN}, {fd=11, events=POLLIN|POLLPRI}, {fd=12, events=POLLIN|POLLPRI}, {fd=13, events=POLLIN|POLLPRI}], 4, -1) = 1 ([{fd=11, revents=POLLIN}])
read(11, "GIOP\1\2\1\1(\0\0\0"..., 12)  = 12
read(11, "pA\363\277\0\0\0\0\1\0\0\0\1\0\0\0\f\0\0\0\1\1\1\1\1\0\1\5\t\1\1\0\3"..., 40) = 40
writev(11, [{"GIOP\1\2\1\0\333\1\0\0"..., 12}, {"pA\363\277\3\0\0\0\0\0\0\0\34\0\0\0\0\0\0\0\301\370\210h\204o((\300+((("..., 44}, {"\35\0\0\0add_listener_with_properties\0"..., 36}, {"\1\0\0\0\1\0\0\0\f\0\0\0\1\1\1\1\1\0\1\5\t\1\1\0\1\0\0\0$\0\0\0/"..., 395}], 4) = 487
poll([{fd=6, events=POLLIN}, {fd=11, events=POLLIN|POLLPRI}, {fd=12, events=POLLIN|POLLPRI}, {fd=13, events=POLLIN|POLLPRI}], 4, -1) = 1 ([{fd=11, revents=POLLIN}])
read(11, "GIOP\1\2\1\1(\0\0\0"..., 12)  = 12
read(11, "pA\363\277\0\0\0\0\1\0\0\0\1\0\0\0\f\0\0\0\1\1\1\1\1\0\1\5\t\1\1\0\3"..., 40) = 40
access("/sound/events/gtk-events-2.soundlist", F_OK) = -1 ENOENT (No such file or directory)
access("/etc//sound/events/gtk-events-2.soundlist", F_OK) = 0
stat64("/etc//sound/events/gtk-events-2.soundlist", {st_mode=S_IFREG|0644, st_size=436, ...}) = 0
open("/etc//sound/events/gtk-events-2.soundlist", O_RDONLY) = 14
fstat64(14, {st_mode=S_IFREG|0644, st_size=436, ...}) = 0
mmap2(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0xb58f7000
read(14, "[__section_info__]\ndescription=Us"..., 4096) = 436
read(14, ""..., 4096)                   = 0
close(14)                               = 0
munmap(0xb58f7000, 4096)                = 0
time(NULL)                              = 1237735787
writev(11, [{"GIOP\1\2\1\0\241\0\0\0"..., 12}, {" A\363\277\3\0\0\0\0\0\0\0\34\0\0\0\0\0\0\0\301\370\210h\204o((\300+((("..., 161}], 2) = 173
poll([{fd=6, events=POLLIN}, {fd=11, events=POLLIN|POLLPRI}, {fd=12, events=POLLIN|POLLPRI}, {fd=13, events=POLLIN|POLLPRI}], 4, -1) = 1 ([{fd=11, revents=POLLIN}])
read(11, "GIOP\1\2\1\1a\0\0\0"..., 12)  = 12
read(11, " A\363\277\0\0\0\0\1\0\0\0\1\0\0\0\f\0\0\0\1\1\1\1\1\0\1\5\t\1\1\0\3"..., 97) = 97
select(4, [3], [3], NULL, NULL)         = 1 (out [3])
writev(3, [{"\1\0\n\0\3\0\0\1:\1\0\0\234\377\234\377\1\0\1\0\0\0\0\0\0\0\0\0\0\n\0\0\1"..., 56}], 1) = 56
select(4, [3], [], NULL, NULL)          = 1 (in [3])
read(3, "\1\264m\0\0\0\0\0'\0\0\0\0\0B\0\0\0\0\0\0\0\0\0\0\0\0\0\270\324\371\277"..., 4096) = 32
read(3, 0x9ac192c, 4096)                = -1 EAGAIN (Resource temporarily unavailable)
select(4, [3], [3], NULL, NULL)         = 1 (out [3])
writev(3, [{"\20\1\4\0\6\0\0\1STRINGE\377"..., 16}], 1) = 16
select(4, [3], [], NULL, NULL)          = 1 (in [3])
read(3, "\1\264n\0\0\0\0\0\37\0\0\0\0\20\0\0\0\0\0\0\0\0\0\0\0\0\0\0\270\324\371\277"..., 4096) = 32
read(3, 0x9ac192c, 4096)                = -1 EAGAIN (Resource temporarily unavailable)
select(4, [3], [3], NULL, NULL)         = 1 (out [3])
writev(3, [{"\22\0\t\0\3\0\0\1'\0\0\0\37\0\0\0\10\0\1\0\v\0\0\0Fake Wind"..., 36}], 1) = 36
select(4, [3], [], NULL, NULL)          = 1 (in [3])
read(3, "\34_o\0\3\0\0\1'\0\0\0\224J\315.\0\0\0\0\0\0\0\0\3\0\0\1t\324\371\277"..., 4096) = 32
read(3, 0x9ac192c, 4096)                = -1 EAGAIN (Resource temporarily unavailable)
open("/usr/share/locale/en_US.UTF-8/LC_MESSAGES/gnome-terminal.mo", O_RDONLY) = -1 ENOENT (No such file or directory)
open("/usr/share/locale/en_US.utf8/LC_MESSAGES/gnome-terminal.mo", O_RDONLY) = -1 ENOENT (No such file or directory)
open("/usr/share/locale/en_US/LC_MESSAGES/gnome-terminal.mo", O_RDONLY) = -1 ENOENT (No such file or directory)
open("/usr/share/locale/en.UTF-8/LC_MESSAGES/gnome-terminal.mo", O_RDONLY) = -1 ENOENT (No such file or directory)
open("/usr/share/locale/en.utf8/LC_MESSAGES/gnome-terminal.mo", O_RDONLY) = -1 ENOENT (No such file or directory)
open("/usr/share/locale/en/LC_MESSAGES/gnome-terminal.mo", O_RDONLY) = -1 ENOENT (No such file or directory)
getcwd("/home/az"..., 4096)             = 9
gettimeofday({1237735787, 156540}, NULL) = 0
open("/tmp/orbit-az/bonobo-activation-register.lock", O_RDWR|O_CREAT, 0700) = 14
fcntl64(14, F_SETFD, FD_CLOEXEC)        = 0
fcntl64(14, F_SETLKW, {type=F_WRLCK, whence=SEEK_SET, start=0, len=1}) = 0
open("/tmp/orbit-az/bonobo-activation-server-ior", O_RDONLY) = 15
fstat64(15, {st_mode=S_IFREG|0644, st_size=621, ...}) = 0
mmap2(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0xb58f7000
read(15, "IOR:018cb6bf2100000049444c3a426f6"..., 4096) = 621
close(15)                               = 0
munmap(0xb58f7000, 4096)                = 0
socket(PF_FILE, SOCK_STREAM, 0)         = 15
fcntl64(15, F_SETFL, O_RDONLY|O_NONBLOCK) = 0
fcntl64(15, F_SETFD, FD_CLOEXEC)        = 0
getuid32()                              = 1000
connect(15, {sa_family=AF_FILE, path="/tmp/orbit-az/linc-6d34-0-5d3a532561544"...}, 42) = 0
fcntl64(14, F_SETLKW, {type=F_UNLCK, whence=SEEK_SET, start=0, len=1}) = 0
close(14)                               = 0
gettimeofday({1237735787, 157038}, NULL) = 0
writev(15, [{"GIOP\1\2\1\0\244\1\0\0"..., 12}, {"@@\363\277\0\0\0\0\0\0\0\0\34\0\0\0\1\0\0\0R\207'g\323\212\347\347\17\344\347\347\347"..., 420}], 2) = 432
writev(15, [{"GIOP\1\2\1\0\\\0\0\0"..., 12}, {"\360?\363\277\3\0\0\0\0\0\0\0\34\0\0\0\1\0\0\0R\207'g\323\212\347\347\17\344\347\347\347"..., 92}], 2) = 104
poll([{fd=6, events=POLLIN}, {fd=11, events=POLLIN|POLLPRI}, {fd=12, events=POLLIN|POLLPRI}, {fd=13, events=POLLIN|POLLPRI}, {fd=15, events=POLLIN|POLLPRI}], 5, -1



^C <unfinished ...>
az@acompneu ~ $ 





Comment 16


Albert Zeyer





          2009-04-01 17:19:11 UTC
        

Note also this behaviour: I can start another window manager like WMaker just fine. I can also run a gnome-terminal in there, but only for the first time. All further times will not work.





Comment 17


Albert Zeyer





          2009-04-01 17:20:24 UTC
        

acompneu ~ # gdb /usr/bin/gnome-terminal /var/tmp/core_gnome-terminal_8451_1000_1238201460
GNU gdb 6.8
Copyright (C) 2008 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
...
done.
Loaded symbols for /lib/libnss_nis.so.2
Reading symbols from /lib/libnss_files.so.2...Reading symbols from /usr/lib/debug/lib/libnss_files-2.8.so.debug...done.
done.
Loaded symbols for /lib/libnss_files.so.2
Core was generated by `gnome-terminal'.
Program terminated with signal 6, Aborted.
[New process 8451]
#0  0xffffe424 in __kernel_vsyscall ()
(gdb) t apply all bt full

Thread 1 (process 8451):
#0  0xffffe424 in __kernel_vsyscall ()
No symbol table info available.
#1  0xb6c5f670 in *__GI_raise (sig=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:64
	resultvar = <value optimized out>
	pid = -1227419660
	selftid = 8451
#2  0xb6c60eb8 in *__GI_abort () at abort.c:88
	act = {__sigaction_handler = {sa_handler = 0xb7fc27b4, sa_sigaction = 0xb7fc27b4}, sa_mask = {
    __val = {80, 3050403488, 1, 0, 1, 0, 155040928, 51, 3070482432, 3067547636, 3067552064, 1, 3215726116, 
      3215726104, 3067552064, 155324976, 3215726176, 3070900216, 3069684191, 155320896, 0, 0, 155324976, 
      155320896, 4, 3070480372, 3066697028, 155324976, 3215726216, 3070005711, 155324976, 0}}, 
  sa_flags = -1079241100, sa_restorer = 0x4}
	sigs = {__val = {32, 0 <repeats 31 times>}}
#3  0xb6fc966e in IA__g_assertion_message (domain=0xb7021c3e "", file=0x8072e08 "terminal-app.c", line=1525, 
    func=0x8073698 "terminal_app_init", 
    message=0x940e290 "assertion failed: (app->default_profile_id != NULL)") at gtestutils.c:1301
	lstr = "1525\000?@\t\023\r\000?\001\000\000\000\000\000\000\000\030?\004\b\004\027??\b\027??"
#4  0xb6fc9af3 in IA__g_assertion_message_expr (domain=0x0, file=0x8072e08 "terminal-app.c", line=1525, 
    func=0x8073698 "terminal_app_init", expr=0x8073380 "app->default_profile_id != NULL")
    at gtestutils.c:1312
No locals.
#5  0x0805d061 in terminal_app_init (app=0x93e4dc0) at terminal-app.c:1525
	sm_client = <value optimized out>
	__PRETTY_FUNCTION__ = "terminal_app_init"
#6  0xb706cb70 in IA__g_type_create_instance (type=155312736) at gtype.c:1674
	node = (TypeNode *) 0x941e260
	instance = (GTypeInstance *) 0x93e4dc0
	class = (GTypeClass *) 0x941f740
	i = 0
	total_size = <value optimized out>
#7  0xb705299f in g_object_constructor (type=155312736, n_construct_properties=0, construct_params=0x0)
    at gobject.c:1334
---Type <return> to continue, or q <return> to quit---
	object = (GObject *) 0xbfac18e4
#8  0xb705319d in IA__g_object_newv (object_type=155312736, n_parameters=0, parameters=0x0) at gobject.c:1211
	nqueue = <value optimized out>
	object = <value optimized out>
	class = (GObjectClass *) 0x941f740
	unref_class = (GObjectClass *) 0x941f740
	slist = <value optimized out>
	n_total_cparams = 0
	n_cparams = 0
	n_oparams = 0
	n_cvalues = 0
	clist = (GList *) 0x0
	newly_constructed = <value optimized out>
	i = 3086755856
	__PRETTY_FUNCTION__ = "IA__g_object_newv"
#9  0xb7053d3c in IA__g_object_new_valist (object_type=155312736, first_property_name=0x0, 
    var_args=0xbfac1ab8 "") at gobject.c:1274
	params = <value optimized out>
	name = <value optimized out>
	object = <value optimized out>
	n_params = <value optimized out>
	n_alloced_params = <value optimized out>
	__PRETTY_FUNCTION__ = "IA__g_object_new_valist"
#10 0xb7053ea2 in IA__g_object_new (object_type=155312736, first_property_name=0x0) at gobject.c:1056
	__PRETTY_FUNCTION__ = "IA__g_object_new"
#11 0x0805c767 in terminal_app_initialize (use_factory=1) at terminal-app.c:1708
	__PRETTY_FUNCTION__ = "terminal_app_initialize"
#12 0x0805a9d3 in main (argc=Cannot access memory at address 0x27
) at terminal.c:1242
	context = (GOptionContext *) 0x940ee60
	i = <value optimized out>
	argc_copy = 7
	startup_id = <value optimized out>
	display_name = <value optimized out>
	display = <value optimized out>
---Type <return> to continue, or q <return> to quit---
	program = (GnomeProgram *) 0x93e4c00
	parsing_results = (OptionParsingResults *) 0x93dc400
	__PRETTY_FUNCTION__ = "main"
(gdb) 





Comment 18


Albert Zeyer





          2009-04-01 17:23:02 UTC
        

acompneu ~ # gdb /usr/bin/gnome-terminal /var/tmp/core_gnome-terminal_7168_1000_1238024122 
GNU gdb 6.8
Copyright (C) 2008 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type "show copying"
and "show warranty" for details.
This GDB was configured as "i686-pc-linux-gnu"...
...
Core was generated by `gnome-terminal'.
Program terminated with signal 11, Segmentation fault.
[New process 7168]
[New process 7177]
#0  0xb6c8ed18 in strcmp () from /lib/libc.so.6
(gdb) t apply all bt full

Thread 2 (process 7177):
#0  0xffffe424 in __kernel_vsyscall ()
No symbol table info available.
#1  0xb729dafb in read () from /lib/libpthread.so.0
No locals.
#2  0xb6f8ddad in child_watch_helper_thread (data=0x0) at gmain.c:4000
	b = "B?B?\000\000\000\000\001\000\000\000?\036?\b\026???"
	list = (GSList *) 0xb7299fc0
#3  0xb6fb4864 in g_thread_create_proxy (data=0x8d71ea0) at gthread.c:635
	__PRETTY_FUNCTION__ = "g_thread_create_proxy"
#4  0xb7297160 in start_thread (arg=0xb342fb90) at pthread_create.c:297
	__res = <value optimized out>
	__ignore1 = <value optimized out>
	__ignore2 = <value optimized out>
	pd = (struct pthread *) 0xb342fb90
	now = <value optimized out>
	unwind_buf = {cancel_jmp_buf = {{jmp_buf = {-1221959692, 0, 4001536, -1287457656, 1979340239, 
        -1560324665}, mask_was_saved = 0}}, priv = {pad = {0x0, 0x0, 0x0, 0xb72970ab}, data = {prev = 0x0, 
      cleanup = 0x0, canceltype = 0}}}
	not_first_call = <value optimized out>
	robust = <value optimized out>
#5  0xb6ce8e2e in clone () from /lib/libc.so.6
	fstab_state = {fs_fp = 0x0, fs_buffer = 0x0, fs_mntres = {mnt_fsname = 0x0, mnt_dir = 0x0, 
    mnt_type = 0x0, mnt_opts = 0x0, mnt_freq = 0, mnt_passno = 0}, fs_ret = {fs_spec = 0x0, fs_file = 0x0, 
    fs_vfstype = 0x0, fs_mntops = 0x0, fs_type = 0x0, fs_freq = 0, fs_passno = 0}}
	__elf_set___libc_subfreeres_element_fstab_free__ = (const void *) 0xb6d272e0

Thread 1 (process 7168):
#0  0xb6c8ed18 in strcmp () from /lib/libc.so.6
No symbol table info available.
#1  0xb7a665dc in bonobo_activation_unregister_active_server (iid=0x807116b "OAFIID:GNOME_Terminal_Factory", 
    obj=0x8cdb2c0) at bonobo-activation-register.c:443
	od = <value optimized out>
---Type <return> to continue, or q <return> to quit---
	ev = {_id = 0xbfaaba34 "\a", _major = 3215637088, _any = {_type = 0xbfaab938, _value = 0xb7fa5860, 
    _release = 1 '\001'}}
	actid = 0x1 <Address 0x1 out of bounds>
#2  0xb7a66679 in bonobo_activation_active_server_unregister (iid=0x807116b "OAFIID:GNOME_Terminal_Factory", 
    obj=0x8cdb2c0) at bonobo-activation-register.c:464
No locals.
#3  0x0805aa73 in main (argc=1, argv=Cannot access memory at address 0x5
) at terminal.c:1257
	context = (GOptionContext *) 0x8ccbe98
	i = <value optimized out>
	argc_copy = 7
	startup_id = <value optimized out>
	display_name = <value optimized out>
	display = <value optimized out>
	program = (GnomeProgram *) 0x8ca1c00
	parsing_results = (OptionParsingResults *) 0x8c99400
	__PRETTY_FUNCTION__ = "main"
(gdb) 





Comment 19


Nirbheek Chauhan (RETIRED)






          2009-04-29 08:39:48 UTC
        

This is possibly related to pambase being built with the "ssh" USE-flag, and/or the "consolekit" USE-flag. Could someone verify this?




Comment 20


Albert Zeyer





          2009-05-08 12:08:08 UTC
        

Increasing the priority as a non working system is a serious issue. (And btw., it's still not working, 6 weeks later.)





Comment 21


Albert Zeyer





          2009-05-08 13:47:45 UTC
        

I have now enabled the consolekit USE flag and made a world-update (with --newuse) and it seems to work again so far.





Comment 22


Gilles Dartiguelongue (RETIRED)






          2009-05-10 09:16:31 UTC
        

strange, gnome should work just fine with USE="-consolekit" or USE="consolekit" as long as it's consistent across the desktop. Your straces suggest it could be an orbit/bonobo problem but I really don't see why. If you can reproduce this problem by removing USE="consolekit" and rebuilding everything that depends on it (make sure to binpkg packages that would be rebuilt for faster tests), then there is something really wrong.




Comment 23


Gilles Dartiguelongue (RETIRED)






          2009-06-07 22:27:39 UTC
        

closing worksforme. Please open new bug reports if you ever get back to your previous setup and things are still broken.




Comment 24


Chr0nos





          2009-12-21 16:41:29 UTC
        

i have the same problem:
#
EE) RADEONHD(0): Unusupported PowerPlayInfo Revision
#
(EE) RADEONHD(0): Power Management: Cannot get known good chip configurations
#
None
#
record: RECORD extension enabled at configure time.
#
record: This extension is known to be broken, disabling extension now..
#
record: http://bugs.freedesktop.org/show_bug.cgi?id=20500
#
process 11280: arguments to dbus_connection_ref() were incorrect, assertion "connection != NULL" failed in file /var/tmp/portage/sys-apps/dbus-1.3.0-r1/work/dbus-1.3.0/dbus/dbus-connection.c line 2557.
#
This is normally a bug in some application using the D-Bus library.
#
  D-Bus not built with -rdynamic so unable to print a backtrace
#
gnome-session[11280]: ******************* START ********************************
#
gnome-session[11280]: Frame 0: /usr/bin/gnome-session() [0x805f5e5]
#
gnome-session[11280]: Frame 1: /usr/bin/gnome-session() [0x805f794]
#
gnome-session[11280]: Frame 2: [0xffffe400]
#
gnome-session[11280]: Frame 3: /lib/libc.so.6(abort+0x183) [0xb6acb003]
#
gnome-session[11280]: Frame 4: /usr/lib/libdbus-1.so.3(+0x2e0b5) [0xb6ec20b5]
#
gnome-session[11280]: Frame 5: /usr/lib/libdbus-1.so.3(+0x29dd6) [0xb6ebddd6]
#
gnome-session[11280]: Frame 6: /usr/lib/libdbus-1.so.3(dbus_connection_ref+0xdc) [0xb6e9ffbc]
#
gnome-session[11280]: Frame 7: /usr/lib/libdbus-glib-1.so.2(+0x1217b) [0xb6ee217b]
#
gnome-session[11280]: Frame 8: /usr/lib/libgobject-2.0.so.0(+0x10721) [0xb6e45721]
#
gnome-session[11280]: Frame 9: /usr/lib/libdbus-glib-1.so.2(+0x10a2e) [0xb6ee0a2e]
#
gnome-session[11280]: Frame 10: /usr/lib/libgobject-2.0.so.0(g_object_newv+0x7dc) [0xb6e46cac]
#
gnome-session[11280]: Frame 11: /usr/lib/libgobject-2.0.so.0(g_object_new_valist+0x2ef) [0xb6e474af]
#
gnome-session[11280]: Frame 12: /usr/lib/libgobject-2.0.so.0(g_object_new+0x6e) [0xb6e475fe]
#
gnome-session[11280]: Frame 13: /usr/lib/libdbus-glib-1.so.2(+0xff95) [0xb6edff95]
#
gnome-session[11280]: Frame 14: /usr/lib/libdbus-glib-1.so.2(dbus_g_proxy_new_for_name_owner+0x1a1) [0xb6ee0201]
#
gnome-session[11280]: Frame 15: /usr/bin/gnome-session() [0x806a99c]
#
gnome-session[11280]: Frame 16: /usr/bin/gnome-session() [0x8060d87]
#
gnome-session[11280]: Frame 17: /lib/libc.so.6(__libc_start_main+0xe5) [0xb6ab5ba5]
#
gnome-session[11280]: Frame 18: /usr/bin/gnome-session() [0x8050e61]
#
gnome-session[11280]: ******************* END **********************************

i tried to downgrade dbus from 1.3.0-r1 to 1.2.3-r1 => dosent work
i put the "consolekit" flag in /etc/make.conf > dosent work


help please :$





Comment 25


Gilles Dartiguelongue (RETIRED)






          2009-12-21 21:24:17 UTC
        

(In reply to comment #24)

please have a look at bug #297483




Comment 26


Chr0nos





          2009-12-21 22:37:33 UTC
        

thanks so much, rebuild the package "dbus-glib" worked fine \o/









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

