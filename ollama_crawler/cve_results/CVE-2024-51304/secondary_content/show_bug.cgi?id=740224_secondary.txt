Title: 740224 – net-misc/curl-7.72.0 : /.../openssl.c: error: implicit declaration of function SSL_CTX_set_srp_username
URL: https://bugs.gentoo.org/show_bug.cgi?id=740224

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 740224
net-misc/curl-7.72.0 : /.../openssl.c: error: implicit declaration of function SSL_CTX_set_srp_username
Last modified: 2024-10-25 20:06:49 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 740224 
      - net-misc/curl-7.72.0 : /.../openssl.c: error: implicit declaration of function SSL_CTX_set_srp_username


Summary:
net-misc/curl-7.72.0 : /.../openssl.c: error: implicit declaration of functio...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Matt Jolly








URL:







Whiteboard:
fixed in 7.87.0-r2 at least  
  


Keywords:








Depends on:







Blocks:




c99-porting



 

        Show dependency tree





 





      Reported:
    
2020-09-03 16:34 UTC by Toralf Förster





      Modified:
    
2024-10-25 20:06 UTC
      (History)
    




          CC List:
        

3 
          users
          
            (show)
          



base-system
plevine457
sandino









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge-info.txt

              (emerge-info.txt,15.91 KB,
                text/plain)

            
2020-09-03 16:34 UTC,

            Toralf Förster




Details





emerge-history.txt

              (emerge-history.txt,2.31 KB,
                text/plain)

            
2020-09-03 16:34 UTC,

            Toralf Förster




Details





environment

              (environment,98.41 KB,
                text/plain)

            
2020-09-03 16:34 UTC,

            Toralf Förster




Details





etc.portage.tbz2

              (etc.portage.tbz2,17.57 KB,
                application/x-bzip)

            
2020-09-03 16:34 UTC,

            Toralf Förster




Details





logs.tbz2

              (logs.tbz2,36.46 KB,
                application/x-bzip)

            
2020-09-03 16:34 UTC,

            Toralf Förster




Details





net-misc:curl-7.72.0:20200902-221003.log

              (net-misc:curl-7.72.0:20200902-221003.log,175.30 KB,
                text/plain)

            
2020-09-03 16:34 UTC,

            Toralf Förster




Details





temp.tbz2

              (temp.tbz2,36.22 KB,
                application/x-bzip)

            
2020-09-03 16:34 UTC,

            Toralf Förster




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Toralf Förster






          2020-09-03 16:34:39 UTC
        

libtool: compile:  x86_64-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I/var/tmp/portage/net-misc/curl-7.72.0/work/curl-7.72.0/include -I../lib -I/var/tmp/portage/net-misc/curl-7.72.0/work/curl-7.72.0/lib -DBUILDING_LIBCURL -DCURL_HIDDEN_SYMBOLS -fvisibility=hidden -O2 -pipe -march=native -fno-diagnostics-color -falign-functions=32:25:16 -Werror-implicit-function-declaration -c /var/tmp/portage/net-misc/curl-7.72.0/work/curl-7.72.0/lib/vtls/openssl.c  -fPIC -DPIC -o vtls/.libs/libcurl_la-openssl.o
/var/tmp/portage/net-misc/curl-7.72.0/work/curl-7.72.0/lib/vtls/openssl.c: In function ‘ossl_connect_step1’:
/var/tmp/portage/net-misc/curl-7.72.0/work/curl-7.72.0/lib/vtls/openssl.c:2802:9: error: implicit declaration of function ‘SSL_CTX_set_srp_username’; did you mean ‘SSL_CTX_set_ssl_version’? [-Werror=implicit-function-declaration]
 2802 |     if(!SSL_CTX_set_srp_username(backend->ctx, ssl_username)) {
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
      |         SSL_CTX_set_ssl_version

  -------------------------------------------------------------------

  This is an unstable amd64 chroot image at a tinderbox (==build bot)
  name: 17.1_desktop_plasma-libressl-20200902-180737

  -------------------------------------------------------------------

gcc-config -l:
 [1] x86_64-pc-linux-gnu-10.2.0 *
Available Python interpreters, in order of preference:
  [1]   python3.7
  [2]   python3.8 (fallback)
  [3]   python2.7 (fallback)

  timestamp(s) of HEAD at this tinderbox image:
/var/db/repos/gentoo	Wed Sep  2 09:05:32 PM UTC 2020
/var/db/repos/libressl	Tue Sep  1 07:07:28 PM UTC 2020

emerge -qpvO net-misc/curl
[ebuild     U ] net-misc/curl-7.72.0 [7.71.1] USE="gnutls%* http2 imap ipv6 ldap* libressl%* metalink* openssl%* progress-meter rtmp* ssl tftp -adns -alt-svc -brotli -ftp* -gopher -idn -kerberos -mbedtls% (-nghttp3) -nss% -pop3* -quiche -samba -smtp* -ssh -static-libs -telnet -test -threads (-winssl)" ABI_X86="(64) -32 (-x32)" CURL_SSL="libressl* -gnutls -mbedtls -nss -openssl* (-winssl)"




Comment 1


Toralf Förster






          2020-09-03 16:34:40 UTC
        

Created attachment 658114 [details]
emerge-info.txt




Comment 2


Toralf Förster






          2020-09-03 16:34:41 UTC
        

Created attachment 658116 [details]
emerge-history.txt




Comment 3


Toralf Förster






          2020-09-03 16:34:43 UTC
        

Created attachment 658118 [details]
environment




Comment 4


Toralf Förster






          2020-09-03 16:34:45 UTC
        

Created attachment 658120 [details]
etc.portage.tbz2




Comment 5


Toralf Förster






          2020-09-03 16:34:47 UTC
        

Created attachment 658122 [details]
logs.tbz2




Comment 6


Toralf Förster






          2020-09-03 16:34:49 UTC
        

Created attachment 658124 [details]
net-misc:curl-7.72.0:20200902-221003.log




Comment 7


Toralf Förster






          2020-09-03 16:34:50 UTC
        

Created attachment 658126 [details]
temp.tbz2




Comment 8


Peter Levine





          2023-02-13 22:50:51 UTC
        

net-misc/curl-7.72.0 is no longer in Gentoo and net-misc/curl-7.87.0-r2 appears to build fine with clang-16 and gcc-12.




Comment 9


Matt Jolly






          2023-02-20 07:26:55 UTC
        

(In reply to Peter Levine from comment #8)
> net-misc/curl-7.72.0 is no longer in Gentoo and net-misc/curl-7.87.0-r2
> appears to build fine with clang-16 and gcc-12.

Can't repro on modern cURL and OpenSSL. Suspect this has been fixed upstream. Closing.

If it's broken when built against LibreSSL, well... it's no longer supported in ::gentoo and users should migrate to OpenSSL. Feel to raise a bug upstream if you're impacted!









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

