Title: 116507 – linuxdoc-tools sandbox issues with tetex-3
URL: https://bugs.gentoo.org/show_bug.cgi?id=116507

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 116507
linuxdoc-tools sandbox issues with tetex-3
Last modified: 2007-03-21 22:06:38 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 116507 
      - linuxdoc-tools sandbox issues with tetex-3


Summary:
linuxdoc-tools sandbox issues with tetex-3
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo SGML project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-12-23 09:27 UTC by Donnie Berkholz (RETIRED)





      Modified:
    
2007-03-21 22:06 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



joshuabaergen
pva









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




linuxdoc-tools-0.9.21.0.1.ebuild

              (linuxdoc-tools-0.9.21.0.1.ebuild,1.20 KB,
                text/plain)

            
2006-01-13 10:29 UTC,

            Donnie Berkholz (RETIRED)




Details





8480-linuxdoc-tools-0.9.21.0.2.log

              (8480-linuxdoc-tools-0.9.21.0.2.log,45.99 KB,
                text/plain)

            
2006-01-13 16:00 UTC,

            Donnie Berkholz (RETIRED)




Details





move to linuxdoc-tools-0.9.21-r1 to include debian patches.

              (linuxdoc-tools-0.9.21.ebuild.patch,776 bytes,
                patch)

            
2006-03-05 08:03 UTC,

            Peter Volkov (RETIRED)




Details
            | Diff





And this is tarball with some debian fixes.

              (linuxdoc-tools-0.9.21-patches.tar.bz2,3.05 KB,
                application/octet-stream)

            
2006-03-05 08:06 UTC,

            Peter Volkov (RETIRED)




Details





7926-linuxdoc-tools-0.9.21.log

              (7926-linuxdoc-tools-0.9.21.log,218.23 KB,
                text/plain)

            
2006-03-12 13:33 UTC,

            Joshua Baergen (RETIRED)




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Donnie Berkholz (RETIRED)






          2005-12-23 09:27:31 UTC
        

I tried the update but got sandbox failures, so I figured you guys could get that working.

ACCESS DENIED  open_wr:   /var/cache/fonts/source/jknappen/ec/mf10184.tmp
/usr/bin/mktexmf: line 92: mf10184.tmp: Permission denied
chmod: cannot access `mf10184.tmp': No such file or directory
ACCESS DENIED  unlink:    /var/cache/fonts/source/jknappen/ec/ecbx1000.mf
rm: cannot remove `ecbx1000.mf': Permission denied
mv: cannot stat `mf10184.tmp': No such file or directory

etc..




Comment 1


Leonardo Boshell (RETIRED)






          2006-01-13 01:53:26 UTC
        

From the description you provide, I think the opposite is actually happening; linuxdoc-tools causes sandbox violations with tetex-2, but not with tetex-3. This should work correctly due to the new restrictions in the dependencies brought by bug #105905.

Could you verify if this is still failing (and that you have tetex-3 installed)? Thanks.




Comment 2


Donnie Berkholz (RETIRED)






          2006-01-13 10:29:15 UTC
        

Created attachment 77013 [details]
linuxdoc-tools-0.9.21.0.1.ebuild

I've attached the ebuild I'm using.

donnie@supernova coot-0.0.33 $ equery list tetex
[ Searching for package 'tetex' in all categories among: ]
 * installed packages
[I--] [  ] app-text/tetex-3.0-r4 (0)

donnie@supernova coot-0.0.33 $ emva linuxdoc-tools

These are the packages that I would merge, in order:

Calculating dependencies ...done!
[ebuild  N    ] app-text/linuxdoc-tools-0.9.21.0.1  USE="tetex" 0 kB [3]

...

This is METAFONT, Version 2.71828 (Web2C 7.5.4)
kpathsea: Running mktexmf ecbx1000
ACCESS DENIED  open_wr:   /var/cache/fonts/source/jknappen/ec/mf860.tmp
/usr/bin/mktexmf: line 92: mf860.tmp: Permission denied
chmod: cannot access `mf860.tmp': No such file or directory
ACCESS DENIED  unlink:    /var/cache/fonts/source/jknappen/ec/ecbx1000.mf
rm: cannot remove `ecbx1000.mf': Permission denied
mv: cannot stat `mf860.tmp': No such file or directory
mktexmf: /var/cache/fonts/source/jknappen/ec/ecbx1000.mf: successfully generated.




Comment 3


Leonardo Boshell (RETIRED)






          2006-01-13 14:21:07 UTC
        

I have just tried it, after renaming the ebuild to linuxdoc-tools-0.9.21.0.2.ebuild since version -0.1 seems to have disappeared from the debian servers, and I still can't reproduce the problem. Could you try also with -0.2 and attach the full output from emerge?




Comment 4


Donnie Berkholz (RETIRED)






          2006-01-13 16:00:07 UTC
        

Created attachment 77037 [details]
8480-linuxdoc-tools-0.9.21.0.2.log

(In reply to comment #3)
> I have just tried it, after renaming the ebuild to
> linuxdoc-tools-0.9.21.0.2.ebuild since version -0.1 seems to have disappeared
> from the debian servers, and I still can't reproduce the problem. Could you try
> also with -0.2 and attach the full output from emerge?

With 0.2 I couldn't get far enough to hit the sandbox problem. I ran into a memory leak during the build, which used up my whole gig of memory and then oom killer came in. Here's the log from that.




Comment 5


Peter Volkov (RETIRED)






          2006-03-05 08:03:51 UTC
        

Created attachment 81403 [details, diff]
move to linuxdoc-tools-0.9.21-r1 to include debian patches.

May be it's worth to try to include some patches comming from debian bugzilla. In the current state linux-tools does not allow to build iproute2 documentation.

So this attachment adds patch for ebuild to include patching of sources.




Comment 6


Peter Volkov (RETIRED)






          2006-03-05 08:06:06 UTC
        

Created attachment 81404 [details]
And this is tarball with some debian fixes.




Comment 7


Peter Volkov (RETIRED)






          2006-03-05 08:25:47 UTC
        

Donnie. Can you try that patches? You need to copy tarball with fixes into $DISTDIR and create new ebuild (linuxdoc-tools-0.9.21-r1). That should fix tetex3 problems. BTW. I cann't reproduce your bug.




Comment 8


Joshua Baergen (RETIRED)






          2006-03-12 13:33:25 UTC
        

Created attachment 81994 [details]
7926-linuxdoc-tools-0.9.21.log

With the patches it appears to get a bit farther (or rather, it shows more error messages before getting caught in an infinite loop).




Comment 9


Leonardo Boshell (RETIRED)






          2007-03-14 07:38:06 UTC
        

Sorry for the lack of support here.

What's the status of this problem with the versions of linuxdoc-tools/tetex currently in the tree?




Comment 10


Donnie Berkholz (RETIRED)






          2007-03-21 17:21:35 UTC
        

Personally I don't care anymore because Xorg docs no longer use linuxdoc, they switched to docbook.




Comment 11


Leonardo Boshell (RETIRED)






          2007-03-21 22:06:38 UTC
        

Great, closing as WFM then.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

