Title: 115317 – SimGear 0.3.9 fails on compilation of  (x86)
URL: https://bugs.gentoo.org/show_bug.cgi?id=115317

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 115317
SimGear 0.3.9 fails on compilation of  (x86)
Last modified: 2006-08-25 10:42:56 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 115317 
      - SimGear 0.3.9 fails on compilation of  (x86)


Summary:
SimGear 0.3.9 fails on compilation of  (x86)
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Games

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Seemant Kulleen (RETIRED)








URL:







Whiteboard:




Keywords:









Duplicates (2):
    

115318 115319

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2005-12-12 08:49 UTC by Antony C. Freeman





      Modified:
    
2006-08-25 10:42 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



games
vcover









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Antony C. Freeman





          2005-12-12 08:49:45 UTC
        

When I'm trying to install simgear (os flightgear actually) it gives an error  
message about "undefined references" on compilation stage misc. 
 
However I use distcc, but I also tried without it. 

Reproducible: Always
Steps to Reproduce:
1. emerge simgear 
Actual Results:  
laptop tony # emerge simgear 
Calculating dependencies ...done! 
>>> emerge (1 of 1) dev-games/simgear-0.3.9 to / 
>>> md5 files   ;-) simgear-0.3.9.ebuild 
>>> md5 files   ;-) simgear-0.3.6.ebuild 
>>> md5 files   ;-) simgear-0.3.8.ebuild 
>>> md5 files   ;-) files/digest-simgear-0.3.6 
>>> md5 files   ;-) files/digest-simgear-0.3.8 
>>> md5 files   ;-) files/digest-simgear-0.3.9 
>>> md5 src_uri ;-) SimGear-0.3.9.tar.gz 
>>> Unpacking source... 
>>> Unpacking SimGear-0.3.9.tar.gz to /var/tmp/portage/simgear-0.3.9/work 
>>> Source unpacked. 
 * econf: updating SimGear-0.3.9/config.guess 
with /usr/share/gnuconfig/config.guess 
 * econf: updating SimGear-0.3.9/config.sub 
with /usr/share/gnuconfig/config.sub 
./configure --prefix=/usr --host=i686-pc-linux-gnu --mandir=/usr/share/man 
--infodir=/usr/share/info --datadir=/usr/share --sysconfdir=/etc 
--localstatedir=/var/lib --build=i686-pc-linux-gnu 
checking for a BSD-compatible install... /bin/install -c 
checking whether build environment is sane... yes 
checking for gawk... gawk 
checking whether make sets $(MAKE)... yes 
CXX = 
CC = 
checking whether make sets $(MAKE)... (cached) yes 
checking for i686-pc-linux-gnu-gcc... i686-pc-linux-gnu-gcc 
checking for C compiler default output file name... a.out 
checking whether the C compiler works... yes 
checking whether we are cross compiling... no 
checking for suffix of executables... 
checking for suffix of object files... o 
checking whether we are using the GNU C compiler... yes 
checking whether i686-pc-linux-gnu-gcc accepts -g... yes 
checking for i686-pc-linux-gnu-gcc option to accept ANSI C... none needed 
checking for style of include used by make... GNU 
checking dependency style of i686-pc-linux-gnu-gcc... gcc3 
checking how to run the C preprocessor... i686-pc-linux-gnu-gcc -E 
checking for i686-pc-linux-gnu-g++... i686-pc-linux-gnu-g++ 
checking whether we are using the GNU C++ compiler... yes 
checking whether i686-pc-linux-gnu-g++ accepts -g... yes 
checking dependency style of i686-pc-linux-gnu-g++... gcc3 
checking for i686-pc-linux-gnu-ranlib... i686-pc-linux-gnu-ranlib 
checking for a BSD-compatible install... /bin/install -c 
checking whether ln -s works... yes 
checking build system type... i686-pc-linux-gnu 
checking host system type... i686-pc-linux-gnu 
includedir changed to ${prefix}/include/simgear libdir is ${exec_prefix}/lib 
Building without Norman's jpeg image server support 
checking for extra include and lib directories... 
   + found /usr/X11R6/include 
   + found /usr/X11R6/lib 
   + found /usr/X11R6/bin 
checking for X... libraries , headers 
checking for gethostbyname... yes 
checking for connect... yes 
checking for remove... yes 
checking for shmat... yes 
checking for IceConnectionNumber in -lICE... yes 
checking for egrep... grep -E 
checking for ANSI C header files... yes 
checking for sys/types.h... yes 
checking for sys/stat.h... yes 
checking for stdlib.h... yes 
checking for string.h... yes 
checking for memory.h... yes 
checking for strings.h... yes 
checking for inttypes.h... yes 
checking for stdint.h... yes 
checking for unistd.h... yes 
checking pthread.h usability... yes 
checking pthread.h presence... yes 
checking for pthread.h... yes 
checking for library containing pthread_exit... none required 
checking for library containing inet_addr... none required 
checking for library containing socket... none required 
checking for library containing cos... -lm 
checking for library containing XCreateWindow... -lX11 
checking for library containing XShmCreateImage... -lXext 
checking for library containing XGetExtensionVersion... -lXi 
checking for library containing IceOpenConnection... -lICE 
checking for library containing SmcOpenConnection... -lSM 
checking for library containing XtMalloc... -lXt 
checking for library containing XmuLookupStandardColormap... -lXmu 
checking for library containing glNewList... -lGL 
checking for library containing gluLookAt... -lGLU 
checking for library containing alGenBuffers... -lopenal 
checking for library containing alutInit... none required 
checking windows.h usability... no 
checking windows.h presence... no 
checking for windows.h... no 
checking how to run the C++ preprocessor... i686-pc-linux-gnu-g++ -E 
checking plib/ul.h usability... yes 
checking plib/ul.h presence... yes 
checking for plib/ul.h... yes 
checking for plib 1.8.4 or newer... yes 
checking zlib.h usability... yes 
checking zlib.h presence... yes 
checking for zlib.h... yes 
checking for ANSI C header files... (cached) yes 
checking fcntl.h usability... yes 
checking fcntl.h presence... yes 
checking for fcntl.h... yes 
checking getopt.h usability... yes 
checking getopt.h presence... yes 
checking for getopt.h... yes 
checking malloc.h usability... yes 
checking malloc.h presence... yes 
checking for malloc.h... yes 
checking for memory.h... (cached) yes 
checking for stdint.h... (cached) yes 
checking for stdlib.h... (cached) yes 
checking sys/param.h usability... yes 
checking sys/param.h presence... yes 
checking for sys/param.h... yes 
checking for sys/stat.h... (cached) yes 
checking sys/time.h usability... yes 
checking sys/time.h presence... yes 
checking for sys/time.h... yes 
checking sys/timeb.h usability... yes 
checking sys/timeb.h presence... yes 
checking for sys/timeb.h... yes 
checking for unistd.h... (cached) yes 
checking values.h usability... yes 
checking values.h presence... yes 
checking for values.h... yes 
checking for an ANSI C-conforming const... yes 
checking for size_t... yes 
checking whether time.h and sys/time.h may both be included... yes 
checking whether struct tm is in sys/time.h or time.h... time.h 
checking return type of signal handlers... void 
checking for vprintf... yes 
checking for _doprnt... no 
checking for ftime... yes 
checking for gettimeofday... yes 
checking for timegm... yes 
checking for memcpy... yes 
checking for bcopy... yes 
checking for mktime... yes 
checking for strstr... yes 
checking for rand... yes 
checking for random... yes 
checking for drand48... yes 
checking for setitimer... yes 
checking for getitimer... yes 
checking for signal... yes 
checking for GetLocalTime... no 
checking for rint... yes 
checking for getrusage... yes 
configure: creating ./config.status 
config.status: creating Makefile 
config.status: creating SimGear.spec 
config.status: creating src-libs/Makefile 
config.status: creating simgear/Makefile 
config.status: creating simgear/version.h 
config.status: creating simgear/compatibility/Makefile 
config.status: creating simgear/compatibility/MIPSpro721/Makefile 
config.status: creating simgear/compatibility/MIPSpro740/Makefile 
config.status: creating simgear/bucket/Makefile 
config.status: creating simgear/debug/Makefile 
config.status: creating simgear/ephemeris/Makefile 
config.status: creating simgear/io/Makefile 
config.status: creating simgear/magvar/Makefile 
config.status: creating simgear/math/Makefile 
config.status: creating simgear/environment/Makefile 
config.status: creating simgear/misc/Makefile 
config.status: creating simgear/nasal/Makefile 
config.status: creating simgear/props/Makefile 
config.status: creating simgear/route/Makefile 
config.status: creating simgear/scene/Makefile 
config.status: creating simgear/scene/material/Makefile 
config.status: creating simgear/scene/model/Makefile 
config.status: creating simgear/scene/sky/Makefile 
config.status: creating simgear/scene/tgdb/Makefile 
config.status: creating simgear/screen/Makefile 
config.status: creating simgear/serial/Makefile 
config.status: creating simgear/sound/Makefile 
config.status: creating simgear/structure/Makefile 
config.status: creating simgear/threads/Makefile 
config.status: creating simgear/timing/Makefile 
config.status: creating simgear/xml/Makefile 
config.status: creating simgear/simgear_config.h 
config.status: executing depfiles commands 
 
Configure Summary 
================= 
Prefix: /usr 
Debug messages: yes 
Automake version: head: `-1' option is obsolete; use `-n 1' since this will be 
removed in the future 
automake (GNU automake) 1.9.6 
Without JPEG Factory support 
Threads: pthread lib found. 
Making all in src-libs 
Making all in simgear 
Making all in xml 
Making all in debug 
Making all in misc 
tabbed_values_test.o: In function `main': 
tabbed_values_test.cxx:(.text+0x42): undefined reference to 
`std::basic_string<char, std::char_traits<char>, std::allocator<char> 
>::_Rep::_S_empty_rep_storage' 
tabbed_values_test.cxx:(.text+0x53): undefined reference to 
`__gnu_cxx::__exchange_and_add(int volatile*, int)' 
tabbed_values_test.cxx:(.text+0x78): undefined reference to 
`std::basic_string<char, std::char_traits<char>, std::allocator<char> 
>::_Rep::_S_empty_rep_storage' 
tabbed_values_test.cxx:(.text+0x85): undefined reference to 
`__gnu_cxx::__exchange_and_add(int volatile*, int)' 
tabbed_values_test.cxx:(.text+0xdc): undefined reference to 
`std::basic_string<char, std::char_traits<char>, std::allocator<char> 
>::_Rep::_S_empty_rep_storage' 
tabbed_values_test.cxx:(.text+0xed): undefined reference to 
`__gnu_cxx::__exchange_and_add(int volatile*, int)' 
tabbed_values_test.cxx:(.text+0x112): undefined reference to 
`std::basic_string<char, std::char_traits<char>, std::allocator<char> 
>::_Rep::_S_empty_rep_storage' 
tabbed_values_test.cxx:(.text+0x11f): undefined reference to 
`__gnu_cxx::__exchange_and_add(int volatile*, int)' 
tabbed_values_test.cxx:(.text+0x176): undefined reference to 
`std::basic_string<char, std::char_traits<char>, std::allocator<char> 
>::_Rep::_S_empty_rep_storage' 
tabbed_values_test.cxx:(.text+0x187): undefined reference to 
`__gnu_cxx::__exchange_and_add(int volatile*, int)' 
tabbed_values_test.cxx:(.text+0x1ac): undefined reference to 
`std::basic_string<char, std::char_traits<char>, std::allocator<char> 
>::_Rep::_S_empty_rep_storage' 
tabbed_values_test.cxx:(.text+0x1b9): undefined reference to 
`__gnu_cxx::__exchange_and_add(int volatile*, int)' 
tabbed_values_test.cxx:(.text+0x2f0): undefined reference to 
`std::basic_string<char, std::char_traits<char>, std::allocator<char> 
>::_Rep::_S_empty_rep_storage' 
tabbed_values_test.cxx:(.text+0x301): undefined reference to 
`__gnu_cxx::__exchange_and_add(int volatile*, int)' 
tabbed_values_test.cxx:(.text+0x326): undefined reference to 
`std::basic_string<char, std::char_traits<char>, std::allocator<char> 
>::_Rep::_S_empty_rep_storage' 
tabbed_values_test.cxx:(.text+0x333): undefined reference to 
`__gnu_cxx::__exchange_and_add(int volatile*, int)' 
tabbed_values_test.cxx:(.text+0x3a3): undefined reference to 
`std::basic_string<char, std::char_traits<char>, std::allocator<char> 
>::_Rep::_S_empty_rep_storage' 
tabbed_values_test.cxx:(.text+0x3b4): undefined reference to 
`__gnu_cxx::__exchange_and_add(int volatile*, int)' 
tabbed_values_test.cxx:(.text+0x3dc): undefined reference to 
`std::basic_string<char, std::char_traits<char>, std::allocator<char> 
>::_Rep::_S_empty_rep_storage' 
tabbed_values_test.cxx:(.text+0x3e9): undefined reference to 
`__gnu_cxx::__exchange_and_add(int volatile*, int)' 
collect2: ld returned 1 exit status 
distcc[30146] ERROR: compile (null) on localhost failed 
make[3]: *** [tabbed_value_test] Error 1 
make[2]: *** [all-recursive] Error 1 
make[1]: *** [all] Error 2 
make: *** [all-recursive] Error 1 
 
!!! ERROR: dev-games/simgear-0.3.9 failed. 
!!! Function src_compile, Line 22, Exitcode 2 
!!! emake failed 
!!! If you need support, post the topmost build error, NOT this status message. 
 
 

Expected Results:  
Installation 

laptop tony # emerge info 
Portage 2.0.51.22-r3 (default-linux/x86/2005.1, gcc-3.4.4, glibc-2.3.5-r2, 
2.6.13-gentoo-r5 i686) 
================================================================= 
System uname: 2.6.13-gentoo-r5 i686 Intel(R) Pentium(R) 4 CPU 2.00GHz 
Gentoo Base System version 1.6.13 
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) 
[enabled] 
dev-lang/python:     2.3.5-r2, 2.4.2 
sys-apps/sandbox:    1.2.12 
sys-devel/autoconf:  2.13, 2.59-r6 
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1 
sys-devel/binutils:  2.16.1 
sys-devel/libtool:   1.5.20 
virtual/os-headers:  2.6.11-r2 
ACCEPT_KEYWORDS="x86" 
AUTOCLEAN="yes" 
CBUILD="i686-pc-linux-gnu" 
CFLAGS="-march=pentium4 -Os -pipe -fomit-frame-pointer" 
CHOST="i686-pc-linux-gnu" 
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config /usr/share/X11/xkb /usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/ /var/qmail/control" 
CONFIG_PROTECT_MASK="/etc/gconf /etc/splash /etc/terminfo /etc/env.d" 
CXXFLAGS="-march=pentium4 -Os -pipe -fomit-frame-pointer" 
DISTDIR="/usr/portage/distfiles" 
FEATURES="autoconfig distcc distlocks sandbox sfperms strict" 
GENTOO_MIRRORS="http://mir.zyrianes.net/gentoo/ http://194.117.143.70 
http://194.117.143.71 ftp://194.117.143.70/mirrors/gentoo" 
LINGUAS="gb" 
MAKEOPTS="-j5 -s" 
PKGDIR="/usr/portage/packages" 
PORTAGE_TMPDIR="/var/tmp" 
PORTDIR="/usr/portage" 
SYNC="rsync://portage.samsonium.org/gentoo-portage" 
USE="X a52 accessibility alsa apm arts artswrappersuid asterisk audiofile avi 
bash-completion berkdb bitmap-fonts bluetooth bzip2 cdr chroot crypt cups curl 
custom-cflags directfb divx4linux dlloader doc dri dvd dvdread eds emboss 
encode exif expat fam fbcon ffmpeg flac flash fluidsynth font-server foomaticdb 
fortran freetype gd gdbm gif glut gpm gtk gtk2 hal idn ieee1394 imagemagick 
imlib irda java javascript jpeg jpeg2k kde kqemu lcms ldap libg++ libwww mad 
mhash mikmod mjpeg mmx mng motif mp3 mpeg mplayer ncurses network nfs nls 
nojoystick odbc ogg oggvorbis openal openexr opengl pam pascal pcmcia pcre 
pdflib perl png python qt quicktime rdesktop readline real rtc scanner sdk sdl 
sms softmmu spell sql sqlite sse sse2 ssl subversion svg symlink tcpd tetex tga 
theora threads tidy tiff truetype truetype-fonts type1-fonts udev unicode usb 
vcd video_cards_radeon vorbis win32codecs wmf x86 xanim xml xml2 xmms xprint xv 
xvid yv12 zlib linguas_gb linguas_hu userland_GNU kernel_linux elibc_glibc" 
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, PORTDIR_OVERLAY




Comment 1


Jakub Moc (RETIRED)






          2005-12-12 08:54:13 UTC
        

*** Bug 115318 has been marked as a duplicate of this bug. ***




Comment 2


Jakub Moc (RETIRED)






          2005-12-12 08:54:21 UTC
        

*** Bug 115319 has been marked as a duplicate of this bug. ***




Comment 3


SpanKY






          2006-01-18 06:32:41 UTC
        

remove the -s from your makeopts and post the log as an attachment

emerge simgear >& log




Comment 4


Tupone Alfredo






          2006-04-16 16:29:14 UTC
        

simgear has now been patched for compiling on gcc-4.1

You seems to have gcc-3.4.4. Actually I don't remember if simgear was gcc-3.4 safe. Would you mind re-testing it ?




Comment 5


Michael Vogt





          2006-07-13 23:49:50 UTC
        

Compiles fine on x86, gcc 3.4.6




Comment 6


Tupone Alfredo






          2006-08-25 10:42:56 UTC
        

No answer from the reporter. simgear seems to compile fine on x86









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

