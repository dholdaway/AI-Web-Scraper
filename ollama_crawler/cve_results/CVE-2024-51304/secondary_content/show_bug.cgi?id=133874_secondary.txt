Title: 133874 – nx-x11-1.5.0-r8 forgets .so symlinks
URL: https://bugs.gentoo.org/show_bug.cgi?id=133874

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 133874
nx-x11-1.5.0-r8 forgets .so symlinks
Last modified: 2006-11-13 12:36:55 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 133874 
      - nx-x11-1.5.0-r8 forgets .so symlinks


Summary:
nx-x11-1.5.0-r8 forgets .so symlinks
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       major
      


Assignee:

Gentoo NX Server project








URL:







Whiteboard:




Keywords:









Duplicates (2):
    

133878 134122

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2006-05-20 06:58 UTC by Nico Baggus





      Modified:
    
2006-11-13 12:36 UTC
      (History)
    




          CC List:
        

4 
          users
          
            (show)
          



fcoiffie
martin.adler
scruggsj
si









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Nico Baggus





          2006-05-20 06:58:40 UTC
        

After installing nx-x11-1.5.0-r8 the server part fails to allow a connection because nxagent dies.

Further investigation learns that indeed in /usr/NX/lib
the symbolic links ( libX11.so, libX11.so.6 )for libX11.so.6.2,
(libXcompext.so, libXcompext.so.1) for libXcompext.so.1.5.0,
(libXext.so, libXext.so.6) for libXext.so.6.4 and 
(libXrender.so, libXrender.so.1) for libXrender.so.1.2

are missing, after manualy creating them everything works...

(The libXcomp from nxcomp package does make them correctly).

I don't have the build log anymore but it probably has linking errors.




Comment 1


Nico Baggus





          2006-05-20 07:13:54 UTC
        

From a build on another system...

>>> Install nx-x11-1.5.0-r8 into /var/tmp/portage/nx-x11-1.5.0-r8/image/ category net-misc
ln: creating symbolic link `/var/tmp/portage/nx-x11-1.5.0-r8/image/usr/NX/lib/lib/X11/libX11.so' to `libX11.so.6.2': No such file or directory
ln: creating symbolic link `/var/tmp/portage/nx-x11-1.5.0-r8/image/usr/NX/lib/lib/X11/libX11.so.6' to `libX11.so.6.2': No such file or directory
ln: creating symbolic link `/var/tmp/portage/nx-x11-1.5.0-r8/image/usr/NX/lib/lib/Xext/libXext.so' to `libXext.so.6.4': No such file or directory
ln: creating symbolic link `/var/tmp/portage/nx-x11-1.5.0-r8/image/usr/NX/lib/lib/Xext/libXext.so.6' to `libXext.so.6.4': No such file or directory
ln: creating symbolic link `/var/tmp/portage/nx-x11-1.5.0-r8/image/usr/NX/lib/lib/Xrender/libXrender.so' to `libXrender.so.1.2': No such file or directory
ln: creating symbolic link `/var/tmp/portage/nx-x11-1.5.0-r8/image/usr/NX/lib/lib/Xrender/libXrender.so.1' to `libXrender.so.1.2': No such file or directory
ln: creating symbolic link `/var/tmp/portage/nx-x11-1.5.0-r8/image/usr/NX/lib/../nxcompext/libXcompext.so' to `libXcompext.so.1.5.0': No such file or directory
ln: creating symbolic link `/var/tmp/portage/nx-x11-1.5.0-r8/image/usr/NX/lib/../nxcompext/libXcompext.so.1' to `libXcompext.so.1.5.0': No such file or directory




Comment 2


Nico Baggus





          2006-05-20 07:15:41 UTC
        

Merging also has no mentioning of them.

>>> Merging net-misc/nx-x11-1.5.0-r8 to /
--- /usr/
--- /usr/NX/
--- /usr/NX/bin/
>>> /usr/NX/bin/nxagent
>>> /usr/NX/bin/nxauth
>>> /usr/NX/bin/nxviewer
>>> /usr/NX/bin/nxpasswd
>>> /usr/NX/bin/nxdesktop
--- /usr/NX/lib/
>>> /usr/NX/lib/libX11.so.6.2
>>> /usr/NX/lib/libXext.so.6.4
>>> /usr/NX/lib/libXrender.so.1.2
>>> /usr/NX/lib/libXcompext.so.1.5.0





Comment 3


Jakub Moc (RETIRED)






          2006-05-20 07:22:12 UTC
        

*** Bug 133878 has been marked as a duplicate of this bug. ***




Comment 4


Martin Adler





          2006-05-23 02:50:14 UTC
        

Can confirm this. Same senario here.




Comment 5


SI Reasoning





          2006-05-23 23:34:13 UTC
        

*** Bug 134122 has been marked as a duplicate of this bug. ***




Comment 6


Jon





          2006-06-23 04:53:54 UTC
        

Thanks for reporting this. I will take a look at the ebuilds and see if I can add those symlinks back in. :) Right now I am busy working on the NX 2.0.0 ebuilds. Then I will fully look at all this issue for both 1.5.0 and 2.0.0 ebuilds to make sure that the same mistake is not repeated. I will do at manual install of everything and compare the output of the ebuild install and the manual install. This will take some time though -- a few days at the least. Maybe this should be a high priority because it seems like this is a major bug.

Cheers.




Comment 7


Kevin Carlson





          2006-06-29 15:00:24 UTC
        

I installed this yesterday and the symlinks are there.

grundle lib # equery files nx-x11
[ Searching for packages matching nx-x11... ]
* Contents of net-misc/nx-x11-1.5.0-r8:
/usr
/usr/NX
/usr/NX/bin
/usr/NX/bin/nxagent
/usr/NX/bin/nxauth
/usr/NX/bin/nxdesktop
/usr/NX/bin/nxpasswd
/usr/NX/bin/nxviewer
/usr/NX/lib
/usr/NX/lib/libX11.so -> libX11.so.6.2
/usr/NX/lib/libX11.so.6 -> libX11.so.6.2
/usr/NX/lib/libX11.so.6.2
/usr/NX/lib/libXcompext.so -> libXcompext.so.1.5.0
/usr/NX/lib/libXcompext.so.1 -> libXcompext.so.1.5.0
/usr/NX/lib/libXcompext.so.1.5.0
/usr/NX/lib/libXext.so -> libXext.so.6.4
/usr/NX/lib/libXext.so.6 -> libXext.so.6.4
/usr/NX/lib/libXext.so.6.4
/usr/NX/lib/libXrender.so -> libXrender.so.1.2
/usr/NX/lib/libXrender.so.1 -> libXrender.so.1.2
/usr/NX/lib/libXrender.so.1.2






Comment 8


Jon





          2006-07-08 16:57:12 UTC
        

The only instance I know if is where the symlinks fail like that is on amd64 machines. For those having this issue, are you using amd64 processors? If so, can you try nx-x11-bin?

The new ebuilds for nx 2.0.0 will hopefully have better amd64 and xorg7 support which I intend on putting in nx 1.5.0. :D

Cheers.




Comment 9


SI Reasoning





          2006-07-08 17:07:27 UTC
        

I am using x86 and had this problem when coverting from 1.4 to 1.5 series. I have run updates on the 1.5 series since then without issue.




Comment 10


Nico Baggus





          2006-07-09 00:11:15 UTC
        

For me this happened on x86 environments. when upgrading freenx from ancient to 1.5




Comment 11


Stuart Herbert (RETIRED)






          2006-11-13 00:07:16 UTC
        

Hi,

I wonder if Portage is removing the symlinks when the older version is uninstalled?  Re-emerging freenx should fix this problem.

Best regards,
Stu




Comment 12


Nico Baggus





          2006-11-13 12:36:55 UTC
        

Not just remerging will work,
first emerge --unmerge followed by an emerge 
will solve this... And yes it might have been a problem 
with portage. I can't verify anymore becaus installing the current 
nx version gave problems, so I unmerged the whole lot and 
am remerging now...









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

