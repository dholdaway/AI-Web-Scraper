Title: 150476 – www-apps/lxr-0.9.5 emerge failed
URL: https://bugs.gentoo.org/show_bug.cgi?id=150476

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 150476
www-apps/lxr-0.9.5 emerge failed
Last modified: 2007-06-04 07:26:40 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 150476 
      - www-apps/lxr-0.9.5 emerge failed


Summary:
www-apps/lxr-0.9.5 emerge failed
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Web Application Packages Maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-10-08 08:46 UTC by Samuele Kaplun





      Modified:
    
2007-06-04 07:26 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




webapp-config

              (webapp-config,7.67 KB,
                text/x-c++hdr)

            
2006-10-11 05:12 UTC,

            Samuele Kaplun




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Samuele Kaplun





          2006-10-08 08:46:29 UTC
        

Portage 2.1.2_pre2-r6 (default-linux/amd64/2006.1, gcc-4.1.1, glibc-2.4-r4, 2.6.18-ck1 x86_64)
=================================================================
System uname: 2.6.18-ck1 x86_64 AMD Athlon(tm) 64 Processor 3500+
Gentoo Base System version 1.12.5
Last Sync: Sun, 08 Oct 2006 07:20:01 +0000
app-admin/eselect-compiler: [Not Present]
dev-java/java-config: 1.3.7, 2.0.30
dev-lang/python:     2.4.3-r4, 2.5-r1
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  0.4.2-r1
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.60
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.17.50.0.5
sys-devel/gcc-config: [Not Present]
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.17-r1
ACCEPT_KEYWORDS="amd64 ~amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -march=k8 -pipe -fomit-frame-pointer -msse -msse2 -m3dnow -mfpmath=sse"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="${SVCVARDIR} /etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config /usr/spool/PBS /var/bind /var/service"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/eselect/compiler /etc/gconf /etc/initng/daemon /etc/initng/net /etc/initng/system /etc/java-config/vms/ /etc/revdep-rebuild /etc/splash /etc/terminfo /etc/texmf/web2c"
CXXFLAGS="-O2 -march=k8 -pipe -fomit-frame-pointer -msse -msse2 -m3dnow -mfpmath=sse"
DISTDIR="/usr/portage/tree/distfiles"
FEATURES="autoconfig candy distlocks metadata-transfer parallel-fetch sandbox sfperms strict"
GENTOO_MIRRORS="http://mirror.switch.ch/ftp/mirror/gentoo/ ftp://mirror.switch.ch/mirror/gentoo/ http://ibiblio.org/pub/Linux/MIRRORS.html "
LANG="it_IT"
LC_ALL="it_IT"
LDFLAGS="-Wl,--hash-style=both"
LINGUAS="it"
PKGDIR="/usr/portage/tree/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/usr/portage/tmp"
PORTDIR="/usr/portage/tree"
PORTDIR_OVERLAY="/usr/local/portage /usr/portage/local/layman/toolchain_overlay /usr/portage/local/layman/nxsty /usr/portage/local/layman/initng"
SYNC="rsync://rsync.de.gentoo.org/gentoo-portage"
USE="amd64 3dnow 3dnowext X X509 a52 aac aalib acl acpi alsa apache2 arts audiofile avi bash-completion bcmath berkdb bitmap-fonts bluetooth bonobo browserplugin bzip2 bzlib cairo caps cdparanoia cdr cli cpudetection crypt css ctype cups curl dbm dbus dbx dga divx4linux dlloader dri dts dv dvb dvd dvdr dvdread elibc_glibc emul-linux-x86 encode examples exif expat fame fbcon ffmpeg fftw flac flash foo2zjs_devices_hp1000 foo2zjs_devices_hp1005 foo2zjs_devices_hp1018 foo2zjs_devices_hp1020 foo2zjs_devices_hp1600 foo2zjs_devices_hp2600n foo2zjs_devices_km2200 foo2zjs_devices_km2300 foo2zjs_devices_km2430 foo2zjs_devices_kmcpwl foomaticdb fortran freetype ftp gb gd gdbm gif gimpprint glitz glut gmp gnome gphoto2 gpm gstreamer gtk gtk2 gtkhtml guile hal hashstyle howl iconv idn ieee1394 imagemagick imap imlib initng_plugins_also initng_plugins_bash_launcher initng_plugins_chdir initng_plugins_chroot initng_plugins_conflict initng_plugins_cpout initng_plugins_critical initng_plugins_ctrlaltdel initng_plugins_daemon_clean initng_plugins_debug_commands initng_plugins_envparser initng_plugins_find initng_plugins_fmon initng_plugins_fstat initng_plugins_history initng_plugins_idleprobe initng_plugins_initctl initng_plugins_interactive initng_plugins_iparser initng_plugins_last initng_plugins_limit initng_plugins_lockfile initng_plugins_logfile initng_plugins_netdev initng_plugins_netprobe initng_plugins_ngc4 initng_plugins_ngcs initng_plugins_nge initng_plugins_pause initng_plugins_provide initng_plugins_reload initng_plugins_renice initng_plugins_rlparser initng_plugins_simple_launcher initng_plugins_stcmd initng_plugins_stdout initng_plugins_suid initng_plugins_syncron initng_plugins_syslog initng_plugins_sysreq initng_plugins_unneeded initng_plugins_usplash innodb input_devices_evdev input_devices_keyboard input_devices_mouse ipv6 isdnlog jack jasper java javascript jpeg jpeg2k kde kdeenablefinal kernel_linux lcms ldap lesstif libcaca libedit libg++ libgda libwww linguas_it live lm_sensors logitech logitech-mouse lzo mad mailwrapper matroska mbox mhash mikmod mime mmap mmx mmx2 mmxext mng mozilla mp3 mpeg mplayer msn musepack musicbrainz mysql mysqli ncurses nls nptl nptlonly nsplugin ogg oggvorbis openal opengl oss pcmcia pcre pdf pdflib perl php plotutils png posix postgres ppds pppd python qt qt3 qt4 quicktime readline real reflection rtc samba sasl scanner sdl session sharedext sharedmem simplexml slang sndfile snmp soap sockets sox spell spl sqlite sse sse2 ssl sumlink svg sysvipc szip taglib tcltk tcpd tetex theora threads tidy tiff tokenizer truetype truetype-fonts type1-fonts udev unicode usb userland_GNU v4l v4l2 vcd video_cards_ati video_cards_radeon videos vidix visualization vorbis wifi win32codecs wmf wxwindows x264 xanim xcomposite xface xine xinerama xml xml2 xmlrpc xorg xosd xpm xscreensaver xsl xv xvid xvmc zeroconf zlib"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, MAKEOPTS, PORTAGE_RSYNC_EXTRA_OPTS

When emerging lxr I obtain:
>>> Emerging (1 of 1) www-apps/lxr-0.9.5 to /
 * lxr-0.9.5.tgz MD5 ;-) ...                                                                                    [ ok ]
 * lxr-0.9.5.tgz RMD160 ;-) ...                                                                                 [ ok ]
 * lxr-0.9.5.tgz SHA1 ;-) ...                                                                                   [ ok ]
 * lxr-0.9.5.tgz SHA256 ;-) ...                                                                                 [ ok ]
 * lxr-0.9.5.tgz size ;-) ...                                                                                   [ ok ]
 * checking ebuild checksums ;-) ...                                                                            [ ok ]
 * checking auxfile checksums ;-) ...                                                                           [ ok ]
 * checking miscfile checksums ;-) ...                                                                          [ ok ]
 * checking lxr-0.9.5.tgz ;-) ...                                                                               [ ok ]
* Fatal error:
* Fatal error: There is a problem with your configuration file.
* Fatal error: webapp-config tried to read the variable "config_protect"
* Fatal error: and received the following error:
* Fatal error:
* Fatal error: Bad value substitution:
* Fatal error:  section: [USER]
* Fatal error:  option : config_protect
* Fatal error:  key    : svcvardir
* Fatal error:  rawval :  /etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config /usr/spool/PBS /var/bind /var/service
* Fatal error:
* Fatal error: Please note that webapp-config is not written in bash anymore
* Fatal error: and that you cannot use the bash scripting features.
* Fatal error(s) - aborting

!!! ERROR: www-apps/lxr-0.9.5 failed.
Call stack:
  ebuild.sh, line 1562:   Called dyn_setup
  ebuild.sh, line 665:   Called pkg_setup
  ebuild.sh, line 1255:   Called webapp_pkg_setup
  webapp.eclass, line 363:   Called webapp_read_config
  webapp.eclass, line 53:   Called die

!!! Could not read settings from webapp-config!
!!! If you need support, post the topmost build error, and the call stack if relevant.

I recently switched to python-2.5 because I need it, anyway I tryed to emerge back and forth webapp-config with python-2.4 and 2.5 but the problem is the same.




Comment 1


Gunnar Wrobel (RETIRED)






          2006-10-08 22:57:05 UTC
        

I am not really certain that this problem is caused by python-2.5. It rather looks like a problem with importing environment variables.

Can you attach you /etc/vhosts/webapp-config configuration file, paste the command line you use in order to emerge lxr and paste the output of the "export" command? That should help in localizing the problem. Thanks!




Comment 2


Samuele Kaplun





          2006-10-11 05:12:04 UTC
        

Created attachment 99355 [details]
webapp-config

This is the original webapp-config installed in my system. I've never touched it.




Comment 3


Samuele Kaplun





          2006-10-11 05:14:25 UTC
        

the command line I used is simply "emerge lxr" (in my package.use I also defined cvs, freetext, mysql, postgresql but not vhosts).

My export output:
declare -x ANT_HOME="/usr/share/ant-core"
declare -x CLASSPATH="."
declare -x COLORTERM=""
declare -x CONFIG_PROTECT="/var/bind /usr/share/X11/xkb /usr/spool/PBS /usr/kde/3.5/share/config /usr/kde/3.5/env /usr/kde/3.5/shutdown /usr/share/config \${SVCVARDIR}"
declare -x CONFIG_PROTECT_MASK="/etc/java-config/vms/ /etc/env.d/java/ /etc/gconf /etc/terminfo /etc/texmf/web2c /etc/revdep-rebuild /etc/splash"
declare -x CVSROOT=":ext;CVS_RSH=/usr/bin/ssh:skaplun@lxplus/afs/cern.ch/user/s/skaplun/cvsroot"
declare -x CVS_RSH="ssh"
declare -x DBUS_SESSION_BUS_ADDRESS="unix:abstract=/tmp/dbus-o8cn8nwinx,guid=46a22c452ce99405a15463a75dfb3400"
declare -x DCOP_YAKUAKE_SESSION="0"
declare -x DESKTOP_SESSION="kde-3.5"
declare -x DISPLAY=":0.0"
declare -x DM_CONTROL="/var/run/xdmctl"
declare -x EDITOR="/bin/joe"
declare -x GCC_SPECS=""
declare -x GDK_USE_XFT="1"
declare -x GENERATION="2"
declare -x GPG_AGENT_INFO="/tmp/gpg-YTKBQ4/S.gpg-agent:9789:1"
declare -x GS_LIB="/home/sam/.fonts"
declare -x GTK2_RC_FILES="/root/.gtkrc-2.0"
declare -x GTK_RC_FILES="/etc/gtk/gtkrc:/home/sam/.gtkrc:/home/sam/.kde/share/config/gtkrc"
declare -x GUILE_LOAD_PATH="/usr/share/guile/1.6"
declare -x G_BROKEN_FILENAMES="1"
declare -x G_FILENAME_ENCODING="UTF-8"
declare -x HOME="/root"
declare -x INFOPATH="/usr/share/info:/usr/share/binutils-data/x86_64-pc-linux-gnu/2.17.50.0.5/info:/usr/share/gcc-data/x86_64-pc-linux-gnu/4.1.1/info:/usr/share/gcc-data/x86_64-pc-linux-gnu/4.1.1/info:/usr/share/gcc-data/x86_64-pc-linux-gnu/4.1.1/info:/usr/share/info/emacs-21"
declare -x JAVAC="/home/sam/.gentoo/java-config-2/current-user-vm/bin/javac"
declare -x JAVA_HOME="/home/sam/.gentoo/java-config-2/current-user-vm"
declare -x JDK_HOME="/home/sam/.gentoo/java-config-2/current-user-vm"
declare -x KDEDIRS="/usr/kde/3.5:/usr:/usr/local"
declare -x KDE_FULL_SESSION="true"
declare -x KDE_IS_PRELINKED="1"
declare -x KDE_MULTIHEAD="false"
declare -x KONSOLE_DCOP="DCOPRef(yakuake,konsole)"
declare -x KONSOLE_DCOP_SESSION="DCOPRef(yakuake,session-1)"
declare -x LANG="it_IT@euro"
declare -x LESS="-R -M --shift 5"
declare -x LESSOPEN="|lesspipe.sh %s"
declare -x LIBGL_DRIVERS_PATH="\$LIBGL_DRIVERS_PATH:/usr/lib/dri:/usr/lib64/dri:/usr/lib32/xorg/modules/dri/:/usr/lib64/xorg/modules/dri"
declare -x LOGNAME="root"
declare -x LS_COLORS="no=00:fi=00:di=01;34:ln=01;36:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=01;05;37;41:mi=01;05;37;41:su=37;41:sg=30;43:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arj=01;31:*.taz=01;31:*.lzh=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.gz=01;31:*.bz2=01;31:*.bz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.rar=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.jpg=01;35:*.jpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.mng=01;35:*.pcx=01;35:*.yuv=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.pdf=00;32:*.ps=00;32:*.txt=00;32:*.patch=00;32:*.diff=00;32:*.log=00;32:*.tex=00;32:*.doc=00;32:*.flac=01;35:*.mp3=01;35:*.mpc=00;36:*.ogg=00;36:*.wav=00;36:*.mid=00;36:*.midi=00;36:*.au=00;36:*.flac=00;36:*.aac=00;36:*.ra=01;36:*.mka=01;36:"
declare -x MANPATH="/usr/local/share/man:/usr/share/man:/usr/share/binutils-data/x86_64-pc-linux-gnu/2.17.50.0.5/man:/usr/share/gcc-data/x86_64-pc-linux-gnu/4.1.1/man:/usr/share/gcc-data/x86_64-pc-linux-gnu/4.1.1/man:/usr/share/gcc-data/x86_64-pc-linux-gnu/4.1.1/man:/opt/ati/man:/opt/blackdown-jdk-1.4.2.03/man:/etc/java-config/system-vm/man/:/opt/root/share/man/man1:/usr/qt/3/doc/man"
declare -x OLDPWD
declare -x OPENGL_PROFILE="xorg-x11"
declare -x PAGER="/usr/bin/less"
declare -x PATH="/sbin:/bin:/usr/sbin:/usr/bin"
declare -x PKG_CONFIG_PATH="/usr/qt/3/lib64/pkgconfig"
declare -x PRELINK_PATH=""
declare -x PRELINK_PATH_MASK="/usr/lib/gstreamer-0.10:/usr/lib/gstreamer-0.8:/lib/modules:/usr/lib64/locale:/usr/lib64/wine:/usr/lib64/valgrind:*.la:*.png:*.py:*.pl:*.pm:*.sh:*.xml:*.xslt:*.a:*.js:/usr/lib/klibc"
declare -x PWD="/home/sam/Desktop/lslogs"
declare -x PYTHONDOCS="/usr/share/doc/python-docs-2.5/html"
declare -x PYTHONPATH="/usr/lib/portage/pym:/usr/share/dia/python"
declare -x QMAKESPEC="linux-g++"
declare -x QTDIR="/usr/qt/3"
declare -x RUBYOPT="-rauto_gem"
declare -x SANE_CONFIG_DIR="/etc/sane.d"
declare -x SESSION_MANAGER="local/billgates:/tmp/.ICE-unix/10519"
declare -x SGML_CATALOG_FILES="/etc/sgml/sgml-docbook-3.1.cat:/etc/sgml/sgml-docbook-4.2.cat:/etc/sgml/sgml-docbook.cat:/etc/sgml/dsssl-docbook-stylesheets.cat:/etc/sgml/sgml-docbook-4.0.cat:/etc/sgml/xml-docbook-4.2.cat:/etc/sgml/sgml-docbook-4.1.cat:/etc/sgml/sgml-docbook-3.0.cat:/etc/sgml/sgml-ent.cat:/etc/sgml/sgml-docbook-4.4.cat:/etc/sgml/openjade-1.3.2.cat:/etc/sgml/sgml-lite.cat:/etc/sgml/xml-docbook-4.1.2.cat:/etc/sgml/xml-docbook-4.4.cat"
declare -x SHELL="/bin/bash"
declare -x SHLVL="3"
declare -x SSH_AGENT_PID="9816"
declare -x SSH_AUTH_SOCK="/tmp/ssh-eoyxTV9791/agent.9791"
declare -x SVCDIR="/service"
declare -x SVCTIMEOUT="15"
declare -x SVCVARDIR="/var/service"
declare -x TERM="xterm"
declare -x TMAKEPATH="/usr/lib/tmake/linux-g++"
declare -x USB_DEVFS_PATH="/dev/bus/usb"
declare -x USER="root"
declare -x VMHANDLE="blackdown-jdk-1.4.2"
declare -x WINDOWID="58720476"
declare -x XCURSOR_THEME="none"
declare -x XDG_CONFIG_DIRS="/usr/kde/3.5/etc/xdg"
declare -x XDG_DATA_DIRS="/usr/kde/3.5/share:/usr/share"
declare -x XDM_MANAGED="/var/run/xdmctl/xdmctl-:0,maysd,mayfn,sched,rsvd,method=classic,auto"




Comment 4


Renat Lumpau (RETIRED)






          2007-01-03 07:55:37 UTC
        

wrobel: any thoughts?




Comment 5


Renat Lumpau (RETIRED)






          2007-03-01 01:36:54 UTC
        

is this still a problem? i can't reproduce, even with your webapp-config 




Comment 6


Renat Lumpau (RETIRED)






          2007-06-03 19:53:12 UTC
        

please reopen with more information if necessary




Comment 7


Samuele Kaplun





          2007-06-04 07:26:40 UTC
        

Sorry, by meanwhile my laptop was stolen. On the new one, with fresh installation, everything nowaday works perfectly.
Thanks a lot!









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

