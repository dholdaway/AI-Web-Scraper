Title: 129217 – PHP5 missing gettext
URL: https://bugs.gentoo.org/show_bug.cgi?id=129217

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 129217
PHP5 missing gettext
Last modified: 2006-04-18 03:44:00 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 129217 
      - PHP5 missing gettext


Summary:
PHP5 missing gettext
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Server

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

PHP Bugs








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-04-08 03:01 UTC by Michael Andersson





      Modified:
    
2006-04-18 03:44 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Michael Andersson





          2006-04-08 03:01:20 UTC
        

According to "equery u dev-lang/php" enabling nls should enable gettext, however when i look at phpinfo() it compiles without gettext.

equery u dev-lang/php:
[ Found these USE variables for dev-lang/php-5.1.2 ]
 U I
 - - adabas              : Adds support for the Adabas database engine
 - - apache              : Chooses Apache1 support when a package optionally supports Apache1
 + + apache2             : Chooses Apache2 support when a package supports both Apache1 and Apache2
 - - bcmath              : Adds support for libbcmath
 + + berkdb              : Adds support for sys-libs/db (Berkeley DB for MySQL)
 - - birdstep            : Adds support for the Birdstep Database Server
 + + bzip2               : Use the bzlib compression library
 - - calendar            : Adds support for calendars (not using mcal!)
 + + cdb                 : Adds support for the CDB database engine from the author of qmail
 + + cgi                 : Enable CGI SAPI
 - - cjk                 : Adds support for Multi-byte character languages (Chinese, Japanese, Korean)
 + + cli                 : Enable CLI SAPI
 + + crypt               : Add support for encryption -- using mcrypt or gpg where applicable
 + + ctype               : Enables ctype functions
 + + curl                : Adds support for client-side URL transfer library
 - - curlwrappers        : Adds support for using curl in streams
 - - db2                 : Enables support for IBM DB2 database server
 - - dbase               : Adds support for dbase file format
 - - dbmaker             : Adds support for dbmaker database server
 - - debug               : Tells configure and the makefiles to build for debugging. Effects vary across packages, but generally it will at least add -g to CFLAGS. Remember to set FEATURES=nostrip too
 - - discard-path        : Switch on common security setting for CGI SAPI
 + + doc                 : Adds extra documentation (API, Javadoc, etc)
 - - empress             : Adds support for the Empress database server
 - - empress-bcs         : Adds local access support for the Empress database server
 - - esoob               : Adds support for Easysoft OOD database
 + + exif                : Adds support for reading EXIF headers from JPEG and TIFF images
 + + fastbuild           : Build PHP quicker (experimental)
 - - fdftk               : Add supports for Adobe's FDF toolkit.
 - - filepro             : Adds support for filePro databases
 - - firebird            : Adds support for the Firebird relational database
 - - flatfile            : Adds dbm support for flat files
 + + force-cgi-redirect  : Switch on common security setting for CGI SAPI
 - - frontbase           : Adds support for the frontbase sql server
 + + ftp                 : Adds FTP (File Transfer Protocol) support
 + + gd                  : Adds support for media-libs/gd (to generate graphics on the fly)
 - - gd-external         : Use the external version of gd rather than the bundled one (possibly dangerous)
 + + gdbm                : Adds support for sys-libs/gdbm (GNU database libraries)
 + + gmp                 : Adds support for dev-libs/gmp (GNU MP library)
 - - hardenedphp         : include the hardened php security patch for the php group of ebuilds
 - - hash                : Enable the hash extension
 - - hyperwave-api       : Adds support for Hyperwave document storage system
 - - iconv               : Enable support for the iconv character set conversion library
 + + imap                : Adds support for IMAP (Internet Mail Application Protocol)
 - - informix            : Adds support for Informix database
 - - inifile             : Adds dbm support for .ini files
 - - interbase           : Adds support for Interbase database
 - - iodbc               : Adds support for iODBC library
 - - ipv6                : Adds support for IP version 6
 - - java-external       : Use the external java extension rather than the bundled one
 - - kerberos            : Adds kerberos support
 - - ldap                : Adds LDAP support (Lightweight Directory Access Protocol)
 - - libedit             : Use the libedit library (replacement for readline)
 - - mcve                : Support for the MCVE credit card payment system
 + + memlimit            : Adds memory usage limiting in supporting programs
 + + mhash               : Adds support for the mhash library
 - - ming                : Adds support for ming library for creating flash format files
 - - msql                : Adds support for the MSQL database server
 - - mssql               : Adds support for Microsoft SQL Server database
 + + mysql               : Adds mySQL Database support
 + + mysqli              : Adds support for the improved mySQL libraries
 + + ncurses             : Adds ncurses support (console display library)
 + + nls                 : Adds Native Language Support (using gettext - GNU locale utilities)
 - - oci8                : Adds Oracle 8 Database Support
 - - oci8-instant-client : Use dev-db/oracle-instantclient-basic as Oracle provider instead of requiring a full Oracle server install
 - - odbc                : Adds ODBC Support (Open DataBase Connectivity)
 - - pcntl               : Adds support for process creation functions
 + + pcre                : Adds support for Perl Compatible Regular Expressions
 - - pdo                 : Enable the bundled PDO extensions
 - - pdo-external        : Use the external pecl-pdo extension rather than the bundled one
 - - pic                 : Build Position Independent Code.  Do not utilize this flag unless you know what you're doing.
 + + posix               : Adds support for POSIX-compatible functions
 - - postgres            : Adds support for the postgresql database
 - - qdbm                : Adds support for the qdbm (Quick Database Manager) library
 + + readline            : Enables support for libreadline, a GNU line-editing library that almost everyone wants
 - - recode              : Enables support for the GNU recode library
 - - reflection          : Enable the reflection extension (Reflection API)
 - - sapdb               : Adds support for SAP DB
 - - sasl                : Adds support for the Simple Authentication and Security Layer
 + + session             : Adds persistent session support
 - - sharedext           : Adds support for building shared extensions in php
 - - sharedmem           : Adds support for shared memory use
 + + simplexml           : support for simplexml
 - - snmp                : Adds support for the Simple Network Management Protocol if available
 + + soap                : Adds support for SOAP (Simple Object Access Protocol)
 + + sockets             : Adds support for tcp/ip sockets
 - - solid               : Adds support for the Solid database engine
 + + spell               : Adds dictionary support
 + + spl                 : Adds support for the Standard PHP Library
 - - sqlite              : Adds support for sqlite - embedded sql database
 + + ssl                 : Adds support for Secure Socket Layer connections
 - - sybase              : Adds support for the Sybase SQL Database Server
 - - sybase-ct           : Adds support for Sybase-CT
 - - sysvipc             : Support for System V-compatible inter-process communication
 - - threads             : Adds threads support for various packages. Usually pthreads
 - - tidy                : Adds support for HTML Tidy
 + + tokenizer           : Adds support for the PHP file parser
 - - truetype            : Adds support for FreeType and/or FreeType2 fonts
 - - vm-goto             : Use the GOTO Zend-VM
 - - vm-switch           : Use the SWITCH Zend-VM
 - - wddx                : Adds support for Web Distributed Data eXchange
 + + xml                 : Add support for XML files
 - - xmlreader           : Enable XMLReader support
 - - xmlrpc              : Support for xml-rpc library
 - - xmlwriter           : Enable XMLWriter support
 - - xpm                 : Adds support for XPM graphics format
 + + xsl                 : Check/Support flag for XSL library (version 1)
 - - yaz                 : Adds in optional support for the Z39.50 Protocol for Information Retrieval (YAZ)
 + + zip                 : Enable ZIP file support
 + + zlib                : Adds support for zlib (de)compression


emerge --info:
Portage 2.0.54 (default-linux/x86/2006.0, gcc-3.4.5, glibc-2.3.5-r3, 2.6.15-gentoo-r1 i686)
=================================================================
System uname: 2.6.15-gentoo-r1 i686 AMD Athlon(tm) processor
Gentoo Base System version 1.6.14
ccache version 2.3 [enabled]
dev-lang/python:     2.4.2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=athlon -O2 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config /usr/share/config /var/qmail/alias /var/qmail/control /var/vpopmail/domains /var/vpopmail/etc"
CONFIG_PROTECT_MASK="/etc/eselect/compiler /etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-march=athlon -O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/overlays/qmr-portage /usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 7zip acpi adsl ansi apache2 apm async auth authdeamond avi backendonly bash-completion berkdb bootsplash bzip2 c++ ccache cdb cgi cli crosscompile crypt ctype cups curl customlog dba doc dri eds elibc_glibc emboss encode esd ethereal exif expat extensions fam fastbuild fastcgi finger foomaticdb force-cgi-redirect fortran ftp gd gdbm gif gmail gmailtimestamps gmp gnome gpm gstreamer gtk2 guile idn imap imlib imlib2 ipalias iproute2 isdnlog jp2 jpeg jpeg2k kernel_linux lcms libg++ libgd libwww logrotate lzo lzw mad maildir memlimit mhash mikmod mmx mng mode-force mode-owner motif mp3 mpeg mysql mysqli ncurses nls nptl ogg oss pam pcre pdflib perl php png pnp posix pppd python quicktime rar readline rrdtool samba session simplexml slang soap sockets spell spl ssl swat syslog tcpd tcsim tiff tokenizer udev unicode usb userland_GNU utf8 valias vhosts vorbis xml xml2 xmms xsl zip zlib"
Unset:  ASFLAGS, CTARGET, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGUAS

phpinfo() compile flags:
'./configure' '--prefix=/usr/lib/php5' '--sysconfdir=/etc' '--cache-file=./config.cache' '--enable-cli' '--enable-cgi' '--enable-fastcgi' '--disable-discard-path' '--enable-force-cgi-redirect' '--with-apxs2=/usr/sbin/apxs2' '--with-config-file-path=/etc/php/-php5' '--with-config-file-scan-dir=/etc/php/-php5/ext-active' '--without-pear' '--disable-bcmath' '--with-bz2' '--disable-calendar' '--with-curl' '--without-curlwrappers' '--disable-dbase' '--enable-exif' '--without-fbsql' '--without-fdftk' '--disable-filepro' '--enable-ftp' '--without-gettext' '--without-gmp' '--disable-hash' '--without-hwapi' '--without-iconv' '--without-informix' '--disable-ipv6' '--without-kerberos' '--disable-mbstring' '--with-mcrypt' '--enable-memory-limit' '--with-mhash' '--without-ming' '--without-msql' '--without-mssql' '--with-ncurses' '--with-openssl' '--with-openssl-dir=/usr' '--disable-pcntl' '--disable-pdo' '--without-pgsql' '--with-pspell' '--without-recode' '--disable-reflection' '--disable-shmop' '--without-snmp' '--enable-soap' '--enable-sockets' '--without-sybase' '--without-sybase-ct' '--disable-sysvmsg' '--disable-sysvsem' '--disable-sysvshm' '--without-tidy' '--disable-wddx' '--disable-xmlreader' '--disable-xmlwriter' '--without-xmlrpc' '--with-xsl' '--with-zlib' '--disable-debug' '--enable-dba' '--without-cdb' '--with-db4' '--without-flatfile' '--with-gdbm' '--without-inifile' '--without-qdbm' '--without-freetype-dir' '--without-t1lib' '--disable-gd-jis-conv' '--disable-gd-native-ttf' '--with-jpeg-dir=/usr' '--with-png-dir=/usr' '--without-xpm-dir' '--with-gd' '--with-mysql=/usr/lib/mysql' '--with-mysql-sock=/var/run/mysqld/mysqld.sock' '--with-mysqli=/usr/bin/mysql_config' '--with-readline' '--without-libedit' '--without-mm' '--without-sqlite'




Comment 1


Luca Longinotti (RETIRED)






          2006-04-18 03:44:00 UTC
        

--without-gettext in phpinfo() means the "nls" USE flag was disabled when compiling PHP, this works here and on all other systems, the ebuilds/eclasses are all correct, in your case it somehow didn't pass the "nls" USE flag as active to the ebuild/configure stage. Try reemerging again...
Best regards, CHTEKK.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

