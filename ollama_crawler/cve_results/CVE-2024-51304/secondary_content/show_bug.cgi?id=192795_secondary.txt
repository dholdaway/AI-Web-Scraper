Title: 192795 – app-emulation/vmware-modules-1.0.0.16-r1 failed to build
URL: https://bugs.gentoo.org/show_bug.cgi?id=192795

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 192795
app-emulation/vmware-modules-1.0.0.16-r1 failed to build
Last modified: 2007-09-17 20:56:13 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 192795 
      - app-emulation/vmware-modules-1.0.0.16-r1 failed to build


Summary:
app-emulation/vmware-modules-1.0.0.16-r1 failed to build
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo VMWare Bug Squashers [disabled]








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-09-17 10:52 UTC by Peter Ruskin





      Modified:
    
2007-09-17 20:56 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Peter Ruskin





          2007-09-17 10:52:29 UTC
        

>>> Source unpacked.
>>> Compiling source in /var/tmp/portage/app-emulation/vmware-modules-1.0.0.16-r1/work ...
 [32;01m*[0m Preparing vmmon module
Using 2.6.x kernel build system.
make -C /usr/src/linux/include/.. M=$PWD SRCROOT=$PWD/. modules
make[1]: Entering directory `/usr/src/linux-2.6.22-gentoo-r1'
make[1]: warning: jobserver unavailable: using -j1.  Add `+' to parent make rule.
  CC [M]  /var/tmp/portage/app-emulation/vmware-modules-1.0.0.16-r1/work/vmmon-only/linux/driver.o
/var/tmp/portage/app-emulation/vmware-modules-1.0.0.16-r1/work/vmmon-only/linux/driver.c:107: error: 'VME_V6' undeclared here (not in a function)
make[3]: *** [/var/tmp/portage/app-emulation/vmware-modules-1.0.0.16-r1/work/vmmon-only/linux/driver.o] Error 1
make[2]: *** [_module_/var/tmp/portage/app-emulation/vmware-modules-1.0.0.16-r1/work/vmmon-only] Error 2
make[1]: *** [modules] Error 2
make[1]: Leaving directory `/usr/src/linux-2.6.22-gentoo-r1'
make: *** [vmmon.ko] Error 2

# emerge --info
Portage 2.1.3.9 (default-linux/x86/2006.1, gcc-4.1.2, glibc-2.5-r4, 2.6.22-gentoo-r1 i686)
=================================================================
System uname: 2.6.22-gentoo-r1 i686 AMD Athlon(tm) 64 X2 Dual Core Processor 4200+
Timestamp of tree: Sun, 16 Sep 2007 23:00:01 +0000
app-shells/bash:     3.2_p17
dev-java/java-config: 1.3.7, 2.0.33-r1
dev-lang/python:     2.4.4-r4
dev-python/pycrypto: 2.0.1-r6
sys-apps/baselayout: 1.12.9-r2
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.61-r1
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.18
sys-devel/gcc-config: 1.3.16
sys-devel/libtool:   1.5.24
virtual/os-headers:  2.6.22-r2
ACCEPT_KEYWORDS="x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=athlon64 -msse3 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/init.d /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c /usr/X11R6/lib/X11/xkb"
CXXFLAGS="-O2 -march=athlon64 -msse3 -pipe"
DISTDIR="/usr/portage/distfiles"
EMERGE_DEFAULT_OPTS="--with-bdeps y"
FEATURES="distlocks fixpackages metadata-transfer nostrip notitles sandbox sfperms unmerge-orphans userpriv usersandbox"
GENTOO_MIRRORS="http://gentoo.blueyonder.co.uk ftp://mirrors.blueyonder.co.uk/mirrors/gentoo http://www.mirrorservice.org/sites/www.ibiblio.org/gentoo/ ftp://ftp.mirrorservice.org/sites/www.ibiblio.org/gentoo/ "
LANG="en_GB.utf8"
LINGUAS="en_GB en de"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages/x86"
PORTAGE_RSYNC_EXTRA_OPTS="-h"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portage/local/layman/vmware /usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="3dnow 3dnowext 3ds S3TC X a52 aac aalib acpi aiglx akode alsa amuled ao aotuv arts artswrappersuid asf audiofile bash-completion berkdb binary-drivers bitmap-fonts bittorrent bzip2 calendar cddb cdparanoia chardet chroot clamav clamd cli cpudetection css cups curl curlwrappers dbase dga divx doc dri dv dvd dvdread escreen examples exif extrafilters fame fat fbcon ffmpeg flac foomaticdb ftp fuse gdbm ggi gif gimp gimpprint glut gnokii gphoto2 gpm graphviz gs gtk html iconv imagemagick imlib innodb interbase iodbc isdnlog java javascript jbig joystick jpeg jpeg2k kdexdeltas lcms live lm_sensors maildir mbox midi mime mjpeg mmx mng modplug mono motif moznocompose moznoirc mudflap mysql mysqli ncurses network nls nptl nptlonly nsplugin odbc ogg openmp oss pcre pdf perl png posix postgres ppds pppd python readline real reflection rtc samba scanner sdl sensord session slang slp sms sox spl sqlite sqlite3 sse ssl svg tcpd tetex tga theora timidity tk truetype truetype-fonts type1-fonts unicode utempter vcd vdr videos vim-with-x vorbis win32codecs wma wmf wxwindows x86 xbase xine xorg xscreensaver xvid yv12 zlib" ALSA_CARDS="emu10k1" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" CAMERAS="konica minolta" ELIBC="glibc" INPUT_DEVICES="aiptek evdev keyboard joystick mouse vmmouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en_GB en de" USERLAND="GNU" VIDEO_CARDS="nvidia nv vesa fbdev"
Unset:  CTARGET, INSTALL_MASK, LC_ALL, LDFLAGS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS




Comment 1


Mike Auty (RETIRED)






          2007-09-17 18:20:12 UTC
        

Hi, I'm afraid I'm having difficulty replicating this problem, can you please try building the modules directly from the tree (i.e. removing the vmware overlay from your overlay list)?  Please also verify that you don't have any vmware or vmware-mod eclasses in your /usr/local/portage overlay.  Finally, if you could check that you're downloading vmware-any-any-update113.tar.gz (you should be able to find it in /usr/portage/distfiles after you've attempted to emerge vmware-modules)?

Hopefully that'll help us determine what's going on a little better.  Thanks...  5:)




Comment 2


Peter Ruskin





          2007-09-17 20:00:20 UTC
        

Good tips.
I removed vmware from my overlay and then tried to emerge -uDNvat world:

... done!
[nomerge      ] app-emulation/vmware-player-2.0.0.45731  [?]
[ebuild     U ]  app-emulation/vmware-modules-1.0.0.16-r1 [1.0.0.16] 459 kB

Total: 1 package (1 upgrade), Size of downloads: 459 kB
Portage tree and overlays:
 [0] /usr/portage
 [?] indicates that the source repository could not be determined

I thought the "?" was strange, so I did emerge vmware-player vmware-modules -1 and was successful.




Comment 3


Mike Auty (RETIRED)






          2007-09-17 20:56:13 UTC
        

Ok, glad you managed to get it sorted.  5:)  I'm going to mark this as WORKSFORME, simply to mean that it wasn't a direct issue with the ebuild (and hence wasn't really FIXED).  Please do report any more bugs you may find whilst using the modules.  Thanks... 









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

