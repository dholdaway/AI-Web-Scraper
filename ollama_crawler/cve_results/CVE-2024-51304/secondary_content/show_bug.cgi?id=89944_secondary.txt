Title: 89944 – dev-util/ddd error on startup - won't load source
URL: https://bugs.gentoo.org/show_bug.cgi?id=89944

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 89944
dev-util/ddd error on startup - won't load source
Last modified: 2006-12-29 23:33:19 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 89944 
      - dev-util/ddd error on startup - won't load source


Summary:
dev-util/ddd error on startup - won't load source
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Development

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       major
      


Assignee:

Alec Warner (RETIRED)








URL:







Whiteboard:




Keywords:









Duplicates (1):
    

107913

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2005-04-21 09:49 UTC by Dick Repasky





      Modified:
    
2006-12-29 23:33 UTC
      (History)
    




          CC List:
        

4 
          users
          
            (show)
          



James
mholzer
togge.gentoo
vapier









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Dick Repasky





          2005-04-21 09:49:32 UTC
        

When ddd starts up an error dialog starts up with the message "/var/tmp/portage/glibc-2.3.4.20040808-r1/work/build/csu/csu/cti.S: No such file or directory".  



Reproducible: Always
Steps to Reproduce:
1.ddd ./someprogram-binary


Actual Results:  
I got the dialog box mentioned above.

Expected Results:  
I don't expect to get the error dialog when ddd starts up.  And, I don't expect
an error about files in /var/tmp/portage from running applications.  I expect
ddd to start up and display the source from the binary listed.

Note that there isn't a file named crti.S anywhere on my system (result from
slocate).

Portage 2.0.51.19 (default-linux/x86/2005.0/2.4, gcc-3.3.5-20050130,
glibc-2.3.4.20041102-r1, 2.4.28-gentoo-r5 i686)
=================================================================
System uname: 2.4.28-gentoo-r5 i686 Intel(R) Pentium(R) 4 CPU 3.06GHz
Gentoo Base System version 1.4.16
Python:              dev-lang/python-2.3.4-r1,dev-lang/python-2.2.3-r5 [2.3.4
(#1, Feb  7 2005, 09:19:58)]
dev-lang/python:     2.3.4-r1, 2.2.3-r5
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.5, 1.7.9-r1, 1.6.3, 1.4_p6, 1.9.4, 1.8.5-r3
sys-devel/binutils:  2.15.92.0.2-r7
sys-devel/libtool:   1.5.14
virtual/os-headers:  2.4.19-r1, 2.4.22-r1
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CFLAGS="-march=pentium3 -O3 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.1/share/config
/usr/kde/3.2/share/config /usr/kde/3.3/env /usr/kde/3.3/share/config
/usr/kde/3.3/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb
/usr/lib/mozilla/defaults/pref /usr/share/config
/usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/
/usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/
/usr/share/texmf/xdvi/ /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-march=pentium3 -O3 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig ccache distlocks sandbox sfperms strict"
GENTOO_MIRRORS=" ftp://ftp.ussg.iu.edu/pub/linux/gentoo/
ftp://csociety-ftp.ecn.purdue.edu/pub/gentoo/ http://distfiles.gento.org/
http://gentoo.oregonstate.edu/
http://www.ibiblio.org/pub/Linux/distributions/gentoo"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://ftp.ussg.indiana.edu/gentoo-portage/"
USE="x86 X alsa apm arts avi berkdb bitmap-fonts cdr crypt cscope cups curl dga
dvd emboss encode esd f77 fam flac foomaticdb fortran gcj gdbm gif gtk gtk2
imagemagick imlib ipv6 java jpeg junit kde ldap libg++ libwww mad mbox mikmod
motif mozilla mp3 mpeg mysql ncurses nls ogg oggvorbis opengl oss pam pdflib
perl plotutils png python qt quicktime readline sdl slang spell ssl svga tcltk
tcpd tetex tiff truetype truetype-fonts type1-fonts vorbis xml xml2 xmms xv zlib"
Unset:  ASFLAGS, CBUILD, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS




Comment 1


Justace Clutter





          2005-07-14 10:12:27 UTC
        

I have upgraded to the new 3.3.11 and now see that the problem is gone!  how
exciting.  




Comment 2


Tristan RENAUD





          2005-08-29 14:41:31 UTC
        

Hi, 
I got similar error with DDD version 3.3.11 : 
 
When opening a program with DDD, this error message displays : 
"/var/tmp/portage/glibc-2.3.5-r1/work/build-amd64-x86_64-pc-linux-gnu-linuxthreads/csu/crti.S: 
Aucun fichier ou r




Comment 3


Tristan RENAUD





          2005-08-29 14:41:31 UTC
        

Hi, 
I got similar error with DDD version 3.3.11 : 
 
When opening a program with DDD, this error message displays : 
"/var/tmp/portage/glibc-2.3.5-r1/work/build-amd64-x86_64-pc-linux-gnu-linuxthreads/csu/crti.S: 
Aucun fichier ou répertoire de ce type" 
 
In English : 
"/var/tmp/portage/glibc-2.3.5-r1/work/build-amd64-x86_64-pc-linux-gnu-linuxthreads/csu/crti.S: 
No such file or directory". 
 
This is my emerge --info : 
Portage 2.0.51.22-r2 (default-linux/amd64/2005.0, gcc-3.4.4, glibc-2.3.5-r1, 
2.6.12-gentoo-r5 x86_64) 
================================================================= 
System uname: 2.6.12-gentoo-r5 x86_64 AMD Athlon(tm) 64 Processor 3200+ 
Gentoo Base System version 1.12.0_pre6 
distcc 2.18.3 x86_64-pc-linux-gnu (protocols 1 and 2) (default port 3632) 
[disabled] 
dev-lang/python:     2.3.5, 2.4.1-r1 
sys-apps/sandbox:    1.2.12 
sys-devel/autoconf:  2.13, 2.59-r7 
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6 
sys-devel/binutils:  2.16.1 
sys-devel/libtool:   1.5.18-r1 
virtual/os-headers:  2.6.11-r2 
ACCEPT_KEYWORDS="amd64 ~amd64" 
AUTOCLEAN="yes" 
CBUILD="x86_64-pc-linux-gnu" 
CFLAGS="-march=k8 -O3 -pipe -m64" 
CHOST="x86_64-pc-linux-gnu" 
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/lib64/mozilla/defaults/pref /usr/share/config /var/qmail/control" 
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/texmf/web2c /etc/env.d" 
CXXFLAGS="-march=k8 -O3 -pipe -m64" 
DISTDIR="/usr/portage/distfiles" 
FEATURES="autoconfig distlocks sandbox sfperms strict" 
GENTOO_MIRRORS="ftp://pandemonium.tiscali.de/pub/gentoo/ 
ftp://mirrors.blueyonder.co.uk/mirrors/gentoo ftp://mir.zyrianes.net/gentoo/ 
ftp://mir.zyrianes.net/gentoo/ http://gentoo.osuosl.org 
http://www.ibiblio.org/pub/Linux/distributions/gentoo" 
LANG="fr_FR.UTF-8" 
LC_ALL="fr_FR.UTF-8" 
LINGUAS="fr" 
MAKEOPTS="-j2" 
PKGDIR="/usr/portage/packages" 
PORTAGE_TMPDIR="/var/tmp" 
PORTDIR="/usr/portage" 
PORTDIR_OVERLAY="/usr/local/portage" 
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage" 
USE="amd64 X a52 aac alsa apache2 apm arts audiofile avi bash-completion 
berkdb bindist bitmap-fonts bmp bonobo bzlib cdb cdr cpudetection crypt cups 
curl dga dts dv dvb dvd dvdr dvdread eds encode esd exif fam fbcon flac 
foomaticdb fortran ftp gb gd gif gnome gphoto2 gpm gstreamer gtk gtk2 gtkhtml 
guile gveejay hal icq ieee1394 imagemagick imlib ipv6 jabber jack java jpeg 
kde libwww lzw lzw-tiff mad mikmod mime mjpeg motif mozilla mp3 mpeg mplayer 
nas ncurses nls nvidia ofx ogg oggvorbis openal opengl oss pam pdflib perl png 
ppds print python qt quicktime rar readline real sdl speex spell ssl subtitles 
svg tcpd tetex theora tiff truetype truetype-fonts type1-fonts unicode usb 
userlocales v4l v4l2 videos visualization vorbis wmf xface xine xml xml2 xmms 
xosd xpm xprint xsl xv xvid yahoo zlib linguas_fr userland_GNU kernel_linux 
elibc_glibc" 
Unset:  ASFLAGS, CTARGET, LDFLAGS 
 
Tristan. 




Comment 4


Jakub Moc (RETIRED)






          2005-10-02 10:14:20 UTC
        

*** Bug 107913 has been marked as a duplicate of this bug. ***




Comment 5


Togge





          2006-01-25 01:02:36 UTC
        

Any progress on this?
I just got the same with ddd-3.3.11 and glibc-2.3.6-r2.




Comment 6


Lukasz Strzygowski (RETIRED)






          2006-05-17 11:25:16 UTC
        

Same here with ddd-3.3.11.

Portage 2.1_rc1-r2 (default-linux/amd64/2006.0, gcc-4.1.0, glibc-2.4-r3, 2.6.16.16 x86_64)
=================================================================
System uname: 2.6.16.16 x86_64 AMD Unknown Processor
Gentoo Base System version 1.12.0_pre19
dev-lang/python:     2.4.3-r1
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r2
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r3
ACCEPT_KEYWORDS="amd64 ~amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=k8 -O2 -pipe -fomit-frame-pointer"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/kde/3/share/config /usr/share/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/eselect/compiler /etc/gconf /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c /etc/env.d"
CXXFLAGS="-march=k8 -O2 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig candy cvs distlocks metadata-transfer sandbox sfperms sign"
GENTOO_MIRRORS="http://gentoo.osuosl.org/"
LANG="en_US.UTF-8"
LC_ALL="en_US.UTF-8"
MAKEOPTS="-j1"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/home/lucass/ports /usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="amd64 X acl alsa avi berkdb bitmap-fonts bzip2 cairo cdr cli crypt cups dbus debugger dvd dvdr emboss encode examples foomaticdb gif gnutls gpm gtk gtk2 haskell iproute ipv6 isdnlog jabber javascript jpeg lzo lzw lzw-tiff mad moznocompose moznoirc moznomail mp3 mpeg ncurses nls no_wxgtk1 nptl nptlonly nvidia objc ogg oggvorbis pam pcre pdflib perl png postgres pppd python qemu-fast qt quicktime readline reflection ruby sdl session spl ssl subversion svg tcltk tcpd tiff truetype truetype-fonts type1-fonts unicode usb v4l xorg xpm xv xvid zlib elibc_glibc input_devices_keyboard input_devices_mouse kernel_linux userland_GNU video_cards_nv"
Unset:  ASFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LDFLAGS, LINGUAS, PORTAGE_RSYNC_EXTRA_OPTS





Comment 7


rob miller





          2006-09-03 12:53:00 UTC
        

I have tracked this down in my case to not having -g set on the compile.  in particular, in some places I was setting CFLAGS as an env variable without the -g, and/or anjuta needed to rebuild the entire project including configure and autogen.  look closely at the build output and find the -g, otherwise the debuggers won't work. 




Comment 8


Fred Krogh





          2006-10-05 15:36:45 UTC
        

I'm not clear on the last comment (#6) as ddd has been working just fine for me, aside from that damn message which I've been living with for at least a year.
Is the suggestion that we compile ddd with the -g option even though it works just fine without it (aside from the message).  My message now reads

/var/tmp/portage/glibc-2.4-r4/work/build-amd64-x86_64-pc-linux-gnu-npti/csu/crti.S:
No such file or directory.

Which is a minor variation on that of the original poster.

I'm using glibc-2.4-r4 and gcc 4.1.1 (Gentoo 4.1.1-r1)

There are some other clues (at least in my case):

1. The title on the message box says: DDD: No Source
2. It doesn't open the source file automatically, but has no problem finding
   it when I click on the View and then Source Window
3  The problem occurs with Fortran.  C works as desired.




Comment 9


Fred Krogh





          2006-10-06 11:32:21 UTC
        

Correction on my last comment. The source window sometimes starts automatically  when the despised message comes up.




Comment 10


Alec Warner (RETIRED)








          2006-12-28 17:17:22 UTC
        

ok finally reproduced here ;)




Comment 11


Alec Warner (RETIRED)








          2006-12-28 17:18:53 UTC
        

(In reply to comment #7)
> I'm not clear on the last comment (#6) as ddd has been working just fine for
> me, aside from that damn message which I've been living with for at least a
> year.

On my system if a given application is compiled without -g then DDD will fail trying to load this bogus file.  If -g is provided it gives no error.

I tested only with C; if you have a fortran file I can test please attach it.




Comment 12


SpanKY






          2006-12-29 14:26:43 UTC
        

it isnt a bogus file, it's a feature

the C runtime files are installed un-stripped:
$ qlist sys-libs/glibc | grep '\.o$'
/usr/lib64/Scrt1.o
/usr/lib64/Mcrt1.o
/usr/lib64/crt1.o
/usr/lib64/crti.o
/usr/lib64/crtn.o
/usr/lib64/gcrt1.o
$ readelf -W -s /usr/lib64/crti.o | grep FILE
     1: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS initfini.c
     2: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS /var/tmp/portage/sys-libs/glibc-2.5/work/build-amd64-x86_64-pc-linux-gnu-nptl/csu/crti.S

in other words, i dont see this as being a bug at all, but the expected behavior




Comment 13


Alec Warner (RETIRED)








          2006-12-29 23:33:19 UTC
        

Ok so after getting an explanation from Mike.

Run ddd on an app with no debugging symbols.
ddd looks for the source for the first thing it can find.
ddd looks for _start (the C runtime start function) and finds it in /usr/lib(64)/crti.o
ddd looks for the source for this function by looking at the ELF headers to locate the file.

The location in the ELF header is from when you build glibc, and probably doesn't exist anymore, so it fails to load the 'source'.

Solution:
Compile your app with debug info.











Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

