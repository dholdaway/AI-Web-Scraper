Title: 341039 – app-admin/eselect can't be happy with busybox, sed and coreutils required
URL: https://bugs.gentoo.org/show_bug.cgi?id=341039

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 341039
app-admin/eselect can't be happy with busybox, sed and coreutils required
Last modified: 2010-10-14 22:07:12 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 341039 
      - app-admin/eselect can't be happy with busybox, sed and coreutils required


Summary:
app-admin/eselect can't be happy with busybox, sed and coreutils required
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2010-10-14 20:31 UTC by Maksim 'max_posedon' Melnikau





      Modified:
    
2010-10-14 22:07 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



embedded









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Maksim 'max_posedon' Melnikau





          2010-10-14 20:31:46 UTC
        

eselect requires sed and coreutils (on Gentoo Linux), 
but busybox should be enough to, plz add busybox as option to sed and coreutils

Reproducible: Always

Steps to Reproduce:




I think fix should be smth like (just idea, to explain what I want):

--- eselect-1.2.11.ebuild.old   2010-10-14 23:28:19.000000000 +0300
+++ eselect-1.2.11.ebuild       2010-10-14 23:28:55.000000000 +0300
@@ -13,9 +13,14 @@
 KEYWORDS="~alpha ~amd64 ~arm ~hppa ~ia64 ~m68k ~mips ~ppc ~ppc64 ~s390 ~sh ~sparc ~x86 ~ppc-aix ~sparc-fbsd ~x86-fbsd ~x86-freebsd ~hppa-hpux ~ia64-hpux ~x86-interix ~amd64-linux ~ia64-linux ~x86-linux ~ppc-macos ~x64-macos ~x86-macos ~m68k-mint ~sparc-solaris ~sparc64-solaris ~x64-solaris ~x86-solaris"
 IUSE="doc"
 
-RDEPEND="sys-apps/sed
+RDEPEND="
+       || (
+               sys-apps/sed
+               sys-apps/busybox
+          )
        || (
                sys-apps/coreutils
+               sys-apps/busybox
                sys-freebsd/freebsd-bin
                app-misc/realpath
        )"




Comment 1


SpanKY






          2010-10-14 21:26:17 UTC
        

the solution in these cases has always been to create a package.provided in your own profile and take care of the busybox replacements yourself




Comment 2


Maksim 'max_posedon' Melnikau





          2010-10-14 21:52:01 UTC
        

(In reply to comment #1)
> the solution in these cases has always been to create a package.provided in
> your own profile and take care of the busybox replacements yourself
Does it means, that Gentoo doesn't officially supports coreutils-less profiles?

e.g. if some uclibc profile designed to be used without coreutils - this is a bug which nice to have fixed, else I'll take care about busybox system myself and won't open any similar bug.

I just think, that its nice to have gentoo little bit more ready for embedded than it is now.







Comment 3


SpanKY






          2010-10-14 22:02:02 UTC
        

no one said using busybox as a replacement for packages wasnt supported.  create a profile.provided as i said to do it.  what you propose (adding busybox to random ebuild depends) does not scale, nor does it make sense.  just because you've configured your busybox such that it has a feature set that includes replacements for packages X, Y, and Z doesnt mean that other people have.

plus, you'd pretty much break the depend tree for all Linux users considering busybox is configured & installed on everyone's system by default as the static rescue shell.




Comment 4


Maksim 'max_posedon' Melnikau





          2010-10-14 22:07:12 UTC
        

(In reply to comment #3)
Thank you for explanation, I understand now.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

