Title: 279080 – kdelibs-4.2.4-r3 elevation to superuser never works
URL: https://bugs.gentoo.org/show_bug.cgi?id=279080

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 279080
kdelibs-4.2.4-r3 elevation to superuser never works
Last modified: 2009-11-24 22:07:16 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 279080 
      - kdelibs-4.2.4-r3 elevation to superuser never works


Summary:
kdelibs-4.2.4-r3 elevation to superuser never works
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       major
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-07-25 18:16 UTC by aidar





      Modified:
    
2009-11-24 22:07 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



the.aidar









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


aidar





          2009-07-25 18:16:54 UTC
        

Seems like the elevation to superuser stopped working for me. Can not add any font systemwide, can't change the gamma in kde systemsettings for my screen and so on and so forth.

it says : "Conversation with su failed."

the modal window sometimes asks for user password sometimes for root password depending on the application/setting I would like to change. However it fails miserably same way.

Reproducible: Always

Steps to Reproduce:
1.try add fonts to system in KDE SYSTEMSETTINGS
2.enter your root password
3.fail

Actual Results:  
if I am asked to enter USER password, here is what gets in messages :

Jul 25 13:10:50 pussy sudo:       ak : TTY=pts/4 ; PWD=/home/ak/Documents ; USER=root ; COMMAND=/usr/lib64/kde4/libexec/kdesu_stub -
Jul 25 13:10:50 pussy sudo: pam_unix(sudo:session): session opened for user root by (uid=0)
Jul 25 13:10:50 pussy sudo: pam_unix(sudo:session): session closed for user root
Jul 25 13:10:50 pussy sudo: pam_unix(sudo:session): session closed for user root


if I am asked to enter ROOT password here is what it bangs into messages:

Jul 25 13:15:52 pussy su[5106]: Successful su for root by ak
Jul 25 13:15:52 pussy su[5106]: + pts/3 ak:root
Jul 25 13:15:52 pussy su[5106]: pam_unix(su:session): session opened for user root by (uid=1000)
Jul 25 13:15:52 pussy su[5106]: pam_unix(su:session): session closed for user root

however it still says : Conversation with su failed.


emerge --info :

**********************************************************************************
Portage 2.1.6.13 (default/linux/amd64/2008.0/desktop, gcc-4.3.2, glibc-2.9_p20081201-r2, 2.6.31-rc2-26129-g2a2430f x86_64)                                                                                                
=================================================================                                            
System uname: Linux-2.6.31-rc2-26129-g2a2430f-x86_64-Intel-R-_Core-TM-2_Duo_CPU_T9400_@_2.53GHz-with-glibc2.2.5                                                                                                           
Timestamp of tree: Sat, 25 Jul 2009 17:30:02 +0000                                                           
app-shells/bash:     3.2_p39                                                                                 
dev-java/java-config: 2.1.8-r1                                                                               
dev-lang/python:     2.5.4-r3                                                                                
dev-util/cmake:      2.6.4                                                                                   
sys-apps/baselayout: 1.12.11.1                                                                               
sys-apps/sandbox:    1.6-r2                                                                                  
sys-devel/autoconf:  2.13, 2.63                                                                              
sys-devel/automake:  1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.2                                                    
sys-devel/binutils:  2.18-r3                                                                                 
sys-devel/gcc-config: 1.4.1                                                                                  
sys-devel/libtool:   2.2.6a                                                                                  
virtual/os-headers:  2.6.27-r2                                                                               
ACCEPT_KEYWORDS="amd64"                                                                                      
CBUILD="x86_64-pc-linux-gnu"                                                                                 
CFLAGS="-O2 -pipe -march=native -fomit-frame-pointer"                                                        
CHOST="x86_64-pc-linux-gnu"                                                                                  
CONFIG_PROTECT="/etc /usr/share/config /var/lib/hsqldb"                                                      
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/udev/rules.d"                                                          
CXXFLAGS="-O2 -pipe -march=native -fomit-frame-pointer"                                                      
DISTDIR="/usr/portage/distfiles"                                                                             
FEATURES="distlocks fixpackages parallel-fetch protect-owned sandbox sfperms strict unmerge-orphans userfetch"                                                                                                            
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"        
LDFLAGS="-Wl,-O1"                                                                                            
LINGUAS="en en_US ru ru_RU"                                                                                  
MAKEOPTS="-j3"                                                                                               
PKGDIR="/usr/portage/packages"                                                                               
PORTAGE_CONFIGROOT="/"                                                                                       
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"                            
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage/layman/desktop-effects /usr/local/portage/layman/jokey /usr/local/portage/layman/x11 /usr/local/portage/layman/devnull /usr/local/portage/layman/kde-testing"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X X509 a52 aac acl acpi alsa amd64 apache2 archive atmo audiofile automount bash-completion berkdb bluetooth bluez branding bzip2 cairo calendar cdda cddax cddb cdio cdparanoia cdr cgi cleartype cli consolekit cracklib crypt css cups cxx dbus dhclient dirac directfb disk-partition dqa dri dso dts dvb dvd dvdr dvdread eds emboss emerald encode equalizer esd eselect evo example examples exif fam fat fbcon ffmpeg firefox flac fontconfig fpx ftp fuse gdbm gif gimp git glitz gnutls gpm gstreamer gtk hal hdaps hdapslaptop hddtemp iconv icq id3tag imap ipod ipv6 irda isdnlog jabber java java6 javascript jpeg jpeg2k kate kde4 kerberos krb4 lame ldap libass libcaca libmms libnotify libsysfs libv4l2 live lm_sensors lzma mad matroska midi mikmod mime mms mmx mmxext mng mozilla mp2 mp3 mp4 mp4live mpeg mplayer msn mudflap multilib musepack musepak mysql nas ncurses networkmanager nfs nls nocd nptl nptlonly nsplugin ntfs ntfs3g nvtv ogg ogm openexr opengl openmp optimisememory oracle oscar oss pam pcre pda pdf perl plasma png policykit ppds pppd ps3 pvr python qt3support qt4 quicktime raw rdesktop readline reflection resolvconf rss samba scim scsi sdl seamonkey session skins smapi smp sndfile sockets socks5 sound source spell spl sqlite sse sse2 sse3 sse4 ssl ssse3 startup-notification stream subversion svg symlink sysfs tcpd templates theora threads tiff tk toolbar truetype twolame unicode upnp usb v4l v4l2 vcd vcdinfo vcdx vlm vnc vorbis wavpack webkit wifi wma wmf x264 xcb xcomposite xinerama xml xorg xosd xrandr xulrunner xv xvid zeroconf zlib zvbi" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="keyboard mouse synaptics" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en en_US ru ru_RU" NETBEANS_MODULES="*" USERLAND="GNU" VIDEO_CARDS="intel"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LANG, LC_ALL, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS

*******************************************************************************




Comment 1


aidar





          2009-07-25 18:18:16 UTC
        

this is with the latest kdelibs-4.2.4-r3 in portage




Comment 2


Tomáš Chvátal (RETIRED)






          2009-11-24 22:07:16 UTC
        

Since there is 0 activity on the bug and the problem is not existant for my setup i am closing.
Reopen or fill new bug if you still happen to have problems with it.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

