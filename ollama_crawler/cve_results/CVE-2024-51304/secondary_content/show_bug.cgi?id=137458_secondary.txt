Title: 137458 – www-apache/mod_perl-2.0.1-r2 cannot load perl modules due to an incorrect @INC
URL: https://bugs.gentoo.org/show_bug.cgi?id=137458

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 137458
www-apache/mod_perl-2.0.1-r2 cannot load perl modules due to an incorrect @INC
Last modified: 2006-06-21 16:15:01 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 137458 
      - www-apache/mod_perl-2.0.1-r2 cannot load perl modules due to an incorrect @INC


Summary:
www-apache/mod_perl-2.0.1-r2 cannot load perl modules due to an incorrect @INC
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Perl team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-06-20 22:53 UTC by falcon





      Modified:
    
2006-06-21 16:15 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



jakub









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




A patch which updates the @INC in the aforementioned perl script

              (apache2-mod_perl-startup.patch,323 bytes,
                patch)

            
2006-06-20 22:55 UTC,

            falcon




Details
            | Diff





The signature to the patch I proposed.

              (apache2-mod_perl-startup.patch.sig,65 bytes,
                application/octet-stream)

            
2006-06-20 22:55 UTC,

            falcon




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


falcon





          2006-06-20 22:53:42 UTC
        

Apache with mod_perl 2.0.1-r2 is prevented from loading after perl-cleaner is run, because the required ModPerl/Util.pm has moved, or something has changed the apache2-mod_perl-startup.pl @INC variable to exclude its search path.  Therefore, I have added an include statement for it, and am posting a patch.




Comment 1


falcon





          2006-06-20 22:55:07 UTC
        

Created attachment 89685 [details, diff]
A patch which updates the @INC in the aforementioned perl script

A GPG signature is attached.




Comment 2


falcon





          2006-06-20 22:55:47 UTC
        

Created attachment 89686 [details]
The signature to the patch I proposed.




Comment 3


Jakub Moc (RETIRED)






          2006-06-21 01:07:56 UTC
        

Well no, this fix is wrong, you cannot hardcode versions there, and you cannot hardcode threaded/non-threaded there... Wouldn't work on my system, e.g. 

Also, mod_perl works just fine here, I' say your problem is somewhere else.





Comment 4


Christian Hartmann (RETIRED)






          2006-06-21 03:35:26 UTC
        

Tried reemerging mod_perl?




Comment 5


Michael Cummings (RETIRED)






          2006-06-21 15:31:56 UTC
        

If you upgrade perl, you have to rebuild mod_perl. It links and builds based on the system libperl, so if that changes you need to reinstall. FWIW, you also must rebuild if you change from using ithreads to not (or vice versa).




Comment 6


falcon





          2006-06-21 16:15:01 UTC
        

After remerging mod_perl, everything works again.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

