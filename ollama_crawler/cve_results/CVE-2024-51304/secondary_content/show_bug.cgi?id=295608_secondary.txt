Title: 295608 – emerge --regen *always* fails reproducibly (but invisibly)
URL: https://bugs.gentoo.org/show_bug.cgi?id=295608

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 295608
emerge --regen *always* fails reproducibly (but invisibly)
Last modified: 2009-12-28 22:03:05 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 295608 
      - emerge --regen *always* fails reproducibly (but invisibly)


Summary:
emerge --regen *always* fails reproducibly (but invisibly)
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-12-04 02:47 UTC by Navid Zamani





      Modified:
    
2009-12-28 22:03 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Navid Zamani





          2009-12-04 02:47:49 UTC
        

Hello, I noticed a strange thing. Compare the two following lines:

layman -S && emerge --sync && egencache --repo=local --update && emerge --regen && eix-remote update && eix-update

layman -S && emerge --sync && egencache --repo=local --update && ( emerge --regen || echo "“emerge --regen” returned the error status $?." ) && eix-remote update && eix-update

The second one goes trough to the end.
The first one stops after “emerge --regen”.

This is a problem, since (those lines are usually, what a complete eix-sync does [trough the .conf], and) eix-sync depends on a non-error return status.

This is reproducible. If you have trouble reproducing it, just ask, and we will find the relevant difference in the systems.

Reproducible: Always

Steps to Reproduce:




Comment 1


Patrick Lauer






          2009-12-28 21:45:03 UTC
        

Does emerge --regen spew out any errors?
I would suspect that you have some badness in one of your overlays, and if any single ebuild fails to have its metadata regenerated the return code of course becomes nonzero ...




Comment 2


Navid Zamani





          2009-12-28 22:03:05 UTC
        

Aaah, allright. That might be it. Quality on some overlays is a bit shoddy.
I have to toggle quiet mode, and then we’ll see.

Let’s close this bug, and let it stand here for anyone who will have the same problem. :) What is the “WORKSASINTENDED” resolution? ^^

Thank you for your time.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

