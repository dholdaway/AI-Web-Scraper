Title: 340283 – gnome-base/gnome-keyring-2.32.0: tests failed
URL: https://bugs.gentoo.org/show_bug.cgi?id=340283

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 340283
gnome-base/gnome-keyring-2.32.0: tests failed
Last modified: 2011-01-01 18:22:59 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 340283 
      - gnome-base/gnome-keyring-2.32.0: tests failed


Summary:
gnome-base/gnome-keyring-2.32.0: tests failed
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] GNOME

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux Gnome Desktop Team








URL:



https://bugzilla.gnome.org/show_bug.c...
        




Whiteboard:




Keywords:








Depends on:







Blocks:




gnome2.32



 

        Show dependency tree





 





      Reported:
    
2010-10-09 19:51 UTC by Pacho Ramos





      Modified:
    
2011-01-01 18:22 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build.log

              (gnome-keyring-2.32.0:20101009-194756.log,107.45 KB,
                text/plain)

            
2010-10-09 19:51 UTC,

            Pacho Ramos




Details





build.log

              (gnome-keyring-2.32.0:20101018-181050.log,112.78 KB,
                text/plain)

            
2010-10-18 18:15 UTC,

            Pacho Ramos




Details





Show
              Obsolete (1)
            View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Pacho Ramos






          2010-10-09 19:51:35 UTC
        

build.log attached


  /gp11_crypto/wrap_key:                                               OK
  /gp11_crypto/unwrap_key:                                             **
ERROR:gp11-test-module.c:97:test_C_Initialize: assertion failed: (initialized == FALSE && "Initialized same module twice, maybe module was not finalized, out
standing refs?")
OK
  /gp11_crypto/derive_key:                                             FAIL
GTester: last random seed: R02S54c045c9cb46d9b1c699c321ca11d6f1
(pid=2807)
Xlib:  extension "RANDR" missing on display ":1.0".
FAIL: ./run-tests
make[4]: *** [test] Error 1
make[4]: Leaving directory `/var/tmp/portage/gnome-base/gnome-keyring-2.32.0/work/gnome-keyring-2.32.0/gp11/tests'
make[3]: *** [check] Error 2
make[3]: Leaving directory `/var/tmp/portage/gnome-base/gnome-keyring-2.32.0/work/gnome-keyring-2.32.0/gp11/tests'
make[2]: *** [check-recursive] Error 1
make[2]: Leaving directory `/var/tmp/portage/gnome-base/gnome-keyring-2.32.0/work/gnome-keyring-2.32.0/gp11'
make[1]: *** [check] Error 2
make[1]: Leaving directory `/var/tmp/portage/gnome-base/gnome-keyring-2.32.0/work/gnome-keyring-2.32.0/gp11'
make: *** [check-recursive] Error 1
emake failed


Portage 2.1.9.14 (default/linux/amd64/10.0/desktop/gnome, gcc-4.4.3, glibc-2.11.2-r0, 2.6.35-ck-r3 x86_64)
=================================================================
System uname: Linux-2.6.35-ck-r3-x86_64-AMD_Athlon-tm-_64_Processor_3200+-with-gentoo-1.12.13
Timestamp of tree: Fri, 08 Oct 2010 17:30:01 +0000
ccache version 2.4 [enabled]
app-shells/bash:     4.0_p37
dev-java/java-config: 2.1.11
dev-lang/python:     2.6.5-r3, 3.1.2-r4
dev-util/ccache:     2.4-r7
dev-util/cmake:      2.8.1-r2
sys-apps/baselayout: 1.12.13
sys-apps/sandbox:    2.3-r1
sys-devel/autoconf:  2.13, 2.65-r1
sys-devel/automake:  1.9.6-r3, 1.10.3, 1.11.1
sys-devel/binutils:  2.20.1-r1
sys-devel/gcc:       4.4.3-r2
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   2.2.10
sys-devel/make:      3.81-r2
virtual/os-headers:  2.6.30-r1 (sys-kernel/linux-headers)
ACCEPT_KEYWORDS="amd64"
ACCEPT_LICENSE="*"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=native -O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/X11/xkb /usr/share/config /var/lib/hsqldb"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c"
CXXFLAGS="-march=native -O2 -pipe"
DISTDIR="/usr/distfiles"
FEATURES="assume-digests binpkg-logs ccache distlocks fixlafiles fixpackages multilib-strict news parallel-fetch protect-owned sandbox sfperms sign split-log strict test test-fail-continue unknown-features-warn unmerge-logs unmerge-orphans userfetch"
GENTOO_MIRRORS="ftp://ftp.free.fr/mirrors/ftp.gentoo.org"
LANG="es_ES.UTF-8"
LDFLAGS="-Wl,-O1 -Wl,--as-needed"
LINGUAS="es es_ES en_US"
MAKEOPTS="-j2"
PKGDIR="/usr/local/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portage/local/layman/sunrise /usr/portage/local/layman/gnome /usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="3dnow 3dnowext X a52 aac acl acpi alsa amd64 applet avahi bash-completion berkdb branding bzip2 cairo cdda cddb cdinstall cdr cdrom cleartype cli consolekit cracklib crypt css cups cxx daap dbus djvu dri dts dvd dvdr dvi eds emboss encode evo exif fam fat ffmpeg firefox flac fortran fuse gdbm gdu gif git gnome gnome-keyring gpm gstreamer gtk hal hddtemp iconv java jpeg kpathsea latex lcdfilter lcms libnotify lm_sensors lyx lzma mad mikmod mmx mmxext mng modules mono mp3 mp4 mpeg mudflap multilib musicbrainz nautilus ncurses network network-cron nls nptl nptlonly ntfs nvidia ogg opengl openmp pam pango pch pcre pdf perl png policykit ppds pppd python qt3support qt4 readline reflection reiserfs scanner sdl session spell sse sse2 sse3 ssl startup-notification subversion svg sysfs t1lib tcpd test threads tiff truetype unicode usb v4l2 vcd vorbis webkit x264 xattr xcb xml xmp xorg xpm xulrunner xv xvid zeroconf zlib" ALSA_CARDS="via82xx" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cgi cgid dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf superstar2 timing tsip tripmate tnt ubx" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="es es_ES en_US" RUBY_TARGETS="ruby18" USERLAND="GNU" VIDEO_CARDS="nvidia nv vesa" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account" 
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LC_ALL, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS


Reproducible: Always




Comment 1


Pacho Ramos






          2010-10-09 19:51:48 UTC
        

Created attachment 250047 [details]
build.log




Comment 2


Pacho Ramos






          2010-10-18 18:15:53 UTC
        

Created attachment 251155 [details]
build.log

Updated build.log with relevant error:

  /spawn/test_spawn_sync:                                              OK
  /spawn/test_spawn_sync_error:                                        OK
  /spawn/test_spawn_async:                                             **
ERROR:unit-test-spawn.c:229:test_test_spawn_async: assertion failed: (data.finalized)
Gtk-Message: Failed to load module "gail-gnome": libgail-gnome.so: no se puede abrir el fichero del objeto compartido: No existe el fichero o el directorio
Gtk-Message: Failed to load module "gnomebreakpad": libgnomebreakpad.so: no se puede abrir el fichero del objeto compartido: No existe el fichero o el direct
orio

warning: Can not parse XML syscalls information; XML support was disabled at compile time.




Comment 3


Pacho Ramos






          2010-12-19 11:35:53 UTC
        

Upstream fixed it but only on master, and looks it's not so easy to backport. Maybe we should restrict tests for this cycle? :-/




Comment 4


Pacho Ramos






          2011-01-01 18:22:59 UTC
        

+  01 Jan 2011; Pacho Ramos <pacho@gentoo.org> gnome-keyring-2.32.1.ebuild:
+  Restrict tests as they won't be fixed for this cycle but should be fixed in
+  the next major version (bug #340283).










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

