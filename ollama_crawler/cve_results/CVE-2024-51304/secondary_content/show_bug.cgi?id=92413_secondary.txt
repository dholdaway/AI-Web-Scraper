Title: 92413 – app-emulation/basiliskII-jit fails to compile: /usr/include/libintl.h:40: error
URL: https://bugs.gentoo.org/show_bug.cgi?id=92413

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 92413
app-emulation/basiliskII-jit fails to compile: /usr/include/libintl.h:40: error
Last modified: 2006-10-13 03:42:46 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 92413 
      - app-emulation/basiliskII-jit fails to compile: /usr/include/libintl.h:40: error


Summary:
app-emulation/basiliskII-jit fails to compile: /usr/include/libintl.h:40: error
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

No maintainer - Look at https://wiki.gentoo.org/wiki/Project:Proxy_Maintainers if you want to take care of it








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-05-12 12:26 UTC by Kimmo Sundqvist





      Modified:
    
2006-10-13 03:42 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



dragonheart









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




app-emulation/basilisk-jit-r2.ebuild

              (basiliskII-jit-1.0.0-r2.ebuild,2.85 KB,
                text/plain)

            
2005-10-14 23:36 UTC,

            Bel Zébute




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Kimmo Sundqvist





          2005-05-12 12:26:30 UTC
        

[ebuild  N    ] app-emulation/basiliskII-jit-1.0.0-r1  +X -debug -dga -esd +gtk +xv 0 kB


Reproducible: Always
Steps to Reproduce:
1. Try to compile basiliskII-jit
2.
3.

Actual Results:  
Configuration done. Now type "make" (or "gmake").
In file included from
/usr/lib/gcc-lib/i686-pc-linux-gnu/3.3.5-20050130/include/g++-v3/i686-pc-linux-gnu/bits/c++locale.h:44,
                 from
/usr/lib/gcc-lib/i686-pc-linux-gnu/3.3.5-20050130/include/g++-v3/iosfwd:46,
                 from
/usr/lib/gcc-lib/i686-pc-linux-gnu/3.3.5-20050130/include/g++-v3/bits/stl_algobase.h:70,
                 from
/usr/lib/gcc-lib/i686-pc-linux-gnu/3.3.5-20050130/include/g++-v3/vector:67,
                 from ../include/video.h:24,
                 from main_unix.cpp:69:
/usr/include/libintl.h:40: error: parse error before `__const'
/usr/include/libintl.h:44: error: parse error before `__const'
/usr/include/libintl.h:51: error: parse error before `__const'
/usr/include/libintl.h:81: error: parse error before `__const'
/usr/include/libintl.h:85: error: parse error before `__const'
make: *** [obj/main_unix.o] Error 1


Portage 2.0.51.19 (default-linux/x86/2005.0, gcc-3.3.5-20050130,
glibc-2.3.4.20041102-r1, 2.6.10-gentoo-r2 i686)
=================================================================
System uname: 2.6.10-gentoo-r2 i686 Pentium III (Coppermine)
Gentoo Base System version 1.4.16
Python:              dev-lang/python-2.3.5 [2.3.5 (#1, Apr 30 2005, 09:41:13)]
distcc 2.16 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
dev-lang/python:     2.3.5
sys-apps/sandbox:    [Not Present]
sys-devel/autoconf:  2.59-r6, 2.13
sys-devel/automake:  1.8.5-r3, 1.5, 1.4_p6, 1.6.3, 1.7.9, 1.9.4
sys-devel/binutils:  2.15.92.0.2-r7
sys-devel/libtool:   1.5.16
virtual/os-headers:  2.6.8.1-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CFLAGS="-Os -mcpu=pentium3 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.3/env
/usr/kde/3.3/share/config /usr/kde/3.3/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-Os -mcpu=pentium3 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://trumpetti.atm.tut.fi/gentoo/
ftp://trumpetti.atm.tut.fi/gentoo/"
LANG="C"
MAKEOPTS="-j2 -s"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="X acl alsa apm arts avi berkdb bitmap-fonts bonobo cdr crypt cups curl dga
eds emboss encode f77 fam fbcon flac foomaticdb fortran gd gdbm gif glut gnome
gphoto2 gpm gstreamer gtk gtk2 gtkhtml guile imagemagick imlib ipv6 jack java
jikes jpeg jpg junit kde ladcca libg++ libwww mad mikmod mmx motif mp3 mpeg mpi
nas ncurses nls nptl objc ogg oggvorbis opengl pam pdflib perl png ppds python
qt quicktime readline rtc samba sdl slang speex sqlite sse ssl svga tcltk tcpd
tiff truetype truetype-fonts type1-fonts unicode vorbis wmf x86 xine xml xml2
xmms xv xvid zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CBUILD, CTARGET, LC_ALL, LDFLAGS, LINGUAS




Comment 1


Kimmo Sundqvist





          2005-05-12 12:31:03 UTC
        

The command (during compile) that produces the error:

c++ -I../include -I. -I../uae_cpu -DHAVE_CONFIG_H  -DOS_linux -DCPU_i386 -DDIRECT_ADDRESSING -fno-strength-reduce -DSAHF_SETO_PROFITABLE -DUNALIGNED_PROFITABLE -DREGPARAM="__attribute__((regparm(3)))" -DX86_ASSEMBLY -DOPTIMIZED_FLAGS -DUSE_JIT -DUSE_JIT_FPU -DFPU_IEEE -D_REENTRANT -DDATADIR=\"/usr/share/BasiliskII\"  -Os -mcpu=pentium3 -pipe -I/usr/include/gtk-1.2 -I/usr/include/glib-1.2 -I/usr/lib/glib/include -I/usr/X11R6/include -I/usr/include/gnome-1.0 -DNEED_GNOMESUPPORT_H -I/usr/lib/gnome-libs/include -I/usr/include/gtk-1.2 -I/usr/include/glib-1.2 -I/usr/lib/glib/include -I/usr/X11R6/include -fno-exceptions -fno-merge-constants -c main_unix.cpp -o obj/main_unix.o
In file included from /usr/lib/gcc-lib/i686-pc-linux-gnu/3.3.5-20050130/include/g++-v3/i686-pc-linux-gnu/bits/c++locale.h:44,




Comment 2


Kimmo Sundqvist





          2005-05-12 12:37:41 UTC
        

Removing gtk from USE flags solved the problem.  The flag is there for the GUI that is used to configure the emulator.  Thus: no gtk, no GUI.




Comment 3


Bel Zébute





          2005-10-14 23:36:20 UTC
        

Created attachment 70713 [details]
app-emulation/basilisk-jit-r2.ebuild

This updated version of the ebuild downloads the latest basiliskII-jit
packages.  The gcc034 patch is no longer necessary and it builds completely,
solving the libintl.h error.

Now, to find out if it's actually usable...




Comment 4


Bel Zébute





          2005-10-14 23:38:49 UTC
        

It works!




Comment 5


Kimmo Sundqvist





          2005-10-23 08:05:02 UTC
        

It works for me too.




Comment 6


Stuart Shelton





          2006-09-20 13:53:17 UTC
        

Can this -r2 ebuild please be committed - the current portage version still doesn't compile due to this error...




Comment 7


Jakub Moc (RETIRED)






          2006-10-13 03:42:46 UTC
        

# emerge -pv =gtk+-1* basiliskII-jit

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild   R   ] x11-libs/gtk+-1.2.10-r12  USE="-debug nls" LINGUAS="-az -ca cs -da -de -el -es -et -eu -fi -fr -ga -gl -hr -hu -it -ja -ko -lt -nl -nn -no -pl -pt -pt_BR -ro -ru -sk -sl -sr -sv -tr -uk -vi" 0 kB 
[ebuild  N    ] app-emulation/basiliskII-jit-1.0.0-r1  USE="X dga -esd gtk xv" 0 kB 

The above works fine for me.

Portage 2.1.2_pre2-r9 (default-linux/x86/2006.1/desktop, gcc-4.1.1, glibc-2.5-r0, 2.6.18-gentoo i686)
=================================================================
System uname: 2.6.18-gentoo i686 AMD Athlon(tm) XP 1600+
Gentoo Base System version 1.12.5
Last Sync: Fri, 13 Oct 2006 08:30:01 +0000
ccache version 2.4 [enabled]
app-admin/eselect-compiler: [Not Present]
dev-java/java-config: 2.0.30
dev-lang/python:     2.4.3-r4
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     2.4-r6
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.60
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.17, 2.17.50.0.3, 2.17.50.0.5
sys-devel/gcc-config: 1.3.13-r4
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.17-r1
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=athlon-xp -O2 -pipe -fomit-frame-pointer -fforce-addr -ftree-vectorize"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/splash /etc/terminfo"
CXXFLAGS="-march=athlon-xp -O2 -pipe -fomit-frame-pointer -fforce-addr -ftree-vectorize"
DISTDIR="/usr/portage/distfiles"
EMERGE_DEFAULT_OPTS="--alphabetical"
FEATURES="autoconfig ccache collision-protect distlocks metadata-transfer parallel-fetch sandbox sfperms splitdebug strict userfetch userpriv usersandbox"
GENTOO_MIRRORS="ftp://ftp.sh.cvut.cz/MIRRORS/gentoo/gentoo ftp://ftp.fi.muni.cz/pub/linux/gentoo/"
LANG="en_US.UTF-8"
LDFLAGS="-Wl,-O1 -Wl,--sort-common"
LINGUAS="cs en"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_EXTRA_OPTS="--progress"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage /usr/local/overlays/beryl"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 3dnow 3dnowext 7zip X X509 a52 aac acl acpi alsa amr asf audiofile bash-completion berkdb bluetooth bzip2 cairo caps cddb cdparanoia cdr chroot cli crypt cscope css cups curl curlwrappers dbus dbx dga dlloader dri dts dv dvd dvdr dvdread elibc_glibc encode ethereal exif expat fam fbcon ffmpeg fftw firefox flac flash flatfile foomaticdb gd gdbm gif glibc-omitfp glitz glut gmp gpm gstreamer gtk iconv icq idn imagemagick imap imlib inifile input_devices_joystick input_devices_keyboard input_devices_mouse input_devices_vmmouse ipv6 irda jack javascript jbig joystick jpeg jpeg2k kdeenablefinal kdehiddenvisibility kernel_linux lcms libcaca libg++ libsamplerate linguas_cs linguas_en lirc lirc_devices_cph06x lm_sensors logrotate mad maildir matroska mikmod mime mmap mmx mng mp3 mpeg musepack musicbrainz ncurses nls nodrm nptl nptlonly nsplugin nvidia offensive ogg openal opengl pam pcre pdf perl png ppds python qt3 quicktime readline real reflection samba sdl session sftplogging skey sndfile speex spell spl sse ssl startup-notification svg symlink tcpd theora threads tiff truetype udev unicode urandom usb userland_GNU v4l v4l2 vcd video_cards_fbdev video_cards_nv video_cards_nvidia video_cards_v4l video_cards_vesa video_cards_vmware vorbis win32codecs wmf x264 xcomposite xine xinerama xinetd xml xml2 xmlrpc xorg xosd xpm xv xvid xvmc zlib"
Unset:  CTARGET, INSTALL_MASK, LC_ALL

We really don't support gcc-3.3.5-20050130 any more, closing.











Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

