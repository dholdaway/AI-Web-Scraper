Title: 606526 – [RAP] =dev-lang/perl-5.24.1_rc4 can't locate Getopt/Long.pm in @INC when startprefix.sh used
URL: https://bugs.gentoo.org/show_bug.cgi?id=606526

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 606526
[RAP] =dev-lang/perl-5.24.1_rc4 can't locate Getopt/Long.pm in @INC when startprefix.sh used
Last modified: 2017-02-07 04:34:12 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 606526 
      - [RAP] =dev-lang/perl-5.24.1_rc4 can't locate Getopt/Long.pm in @INC when startprefix.sh used


Summary:
[RAP] =dev-lang/perl-5.24.1_rc4 can't locate Getopt/Long.pm in @INC when star...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo/Alt




Classification:

Unclassified




Component:

Prefix Support

  (show other bugs)



Hardware:

ARM64
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Prefix








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2017-01-19 17:29 UTC by troysung





      Modified:
    
2017-02-07 04:34 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




the complete build log for this bug

              (build.log,74.77 KB,
                text/x-log)

            
2017-01-20 08:51 UTC,

            troysung




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


troysung





          2017-01-19 17:29:29 UTC
        

cp scripts/pod2text blib/script/pod2text
/data/gentoo/var/tmp/portage/dev-lang/perl-5.24.1_rc4/work/perl-5.24.1-RC4/cpan/podlators/../../miniperl "-I../../lib" "-I../../lib" -MExtUtils::MY -e 'MY->fixin(shift)' -- blib/script/pod2text
Can't locate Getopt/Long.pm in @INC (you may need to install the Getopt::Long module) (@INC contains: /data/gentoo/var/tmp/portage/dev-lang/perl-5.24.1_rc4/work/perl-5.24.1-RC4/cpan/AutoLoader/lib /data/gentoo/var/tmp/portage/dev-lang/perl-5.24.1_rc4/work/perl-5.24.1-RC4/dist/Carp/lib /data/gentoo/var/tmp/portage/dev-lang/perl-5.24.1_rc4/work/perl-5.24.1-RC4/dist/PathTools /data/gentoo/var/tmp/portage/dev-lang/perl-5.24.1_rc4/work/perl-5.24.1-RC4/dist/PathTools/lib /data/gentoo/var/tmp/portage/dev-lang/perl-5.24.1_rc4/work/perl-5.24.1-RC4/cpan/ExtUtils-Install/lib /data/gentoo/var/tmp/portage/dev-lang/perl-5.24.1_rc4/work/perl-5.24.1-RC4/cpan/ExtUtils-MakeMaker/lib /data/gentoo/var/tmp/portage/dev-lang/perl-5.24.1_rc4/work/perl-5.24.1-RC4/cpan/ExtUtils-Manifest/lib /data/gentoo/var/tmp/portage/dev-lang/perl-5.24.1_rc4/work/perl-5.24.1-RC4/cpan/File-Path/lib /data/gentoo/var/tmp/portage/dev-lang/perl-5.24.1_rc4/work/perl-5.24.1-RC4/ext/re /data/gentoo/var/tmp/portage/dev-lang/perl-5.24.1_rc4/work/perl-5.24.1-RC4/dist/Term-ReadLine/lib /data/gentoo/var/tmp/portage/dev-lang/perl-5.24.1_rc4/work/perl-5.24.1-RC4/dist/Exporter/lib /data/gentoo/var/tmp/portage/dev-lang/perl-5.24.1_rc4/work/perl-5.24.1-RC4/ext/File-Find/lib /data/gentoo/var/tmp/portage/dev-lang/perl-5.24.1_rc4/work/perl-5.24.1-RC4/cpan/Text-Tabs/lib /data/gentoo/var/tmp/portage/dev-lang/perl-5.24.1_rc4/work/perl-5.24.1-RC4/dist/constant/lib /data/gentoo/var/tmp/portage/dev-lang/perl-5.24.1_rc4/work/perl-5.24.1-RC4/cpan/version/lib /data/gentoo/var/tmp/portage/dev-lang/perl-5.24.1_rc4/work/perl-5.24.1-RC4/lib ../../lib .) at /data/gentoo/var/tmp/portage/dev-lang/perl-5.24.1_rc4/work/perl-5.24.1-RC4/cpan/ExtUtils-MakeMaker/lib/ExtUtils/Command/MM.pm line 109.
make[1]: *** [Makefile:446: manifypods] Error 2
make[1]: Leaving directory '/data/gentoo/var/tmp/portage/dev-lang/perl-5.24.1_rc4/work/perl-5.24.1-RC4/cpan/podlators'
make[1]: Entering directory '/data/gentoo/var/tmp/portage/dev-lang/perl-5.24.1_rc4/work/perl-5.24.1-RC4/cpan/podlators'
Can't locate Getopt/Long.pm in @INC (you may need to install the Getopt::Long module) (@INC contains: /data/gentoo/var/tmp/portage/dev-lang/perl-5.24.1_rc4/work/perl-5.24.1-RC4/cpan/AutoLoader/lib /data/gentoo/var/tmp/portage/dev-lang/perl-5.24.1_rc4/work/perl-5.24.1-RC4/dist/Carp/lib /data/gentoo/var/tmp/portage/dev-lang/perl-5.24.1_rc4/work/perl-5.24.1-RC4/dist/PathTools /data/gentoo/var/tmp/portage/dev-lang/perl-5.24.1_rc4/work/perl-5.24.1-RC4/dist/PathTools/lib /data/gentoo/var/tmp/portage/dev-lang/perl-5.24.1_rc4/work/perl-5.24.1-RC4/cpan/ExtUtils-Install/lib /data/gentoo/var/tmp/portage/dev-lang/perl-5.24.1_rc4/work/perl-5.24.1-RC4/cpan/ExtUtils-MakeMaker/lib /data/gentoo/var/tmp/portage/dev-lang/perl-5.24.1_rc4/work/perl-5.24.1-RC4/cpan/ExtUtils-Manifest/lib /data/gentoo/var/tmp/portage/dev-lang/perl-5.24.1_rc4/work/perl-5.24.1-RC4/cpan/File-Path/lib /data/gentoo/var/tmp/portage/dev-lang/perl-5.24.1_rc4/work/perl-5.24.1-RC4/ext/re /data/gentoo/var/tmp/portage/dev-lang/perl-5.24.1_rc4/work/perl-5.24.1-RC4/dist/Term-ReadLine/lib /data/gentoo/var/tmp/portage/dev-lang/perl-5.24.1_rc4/work/perl-5.24.1-RC4/dist/Exporter/lib /data/gentoo/var/tmp/portage/dev-lang/perl-5.24.1_rc4/work/perl-5.24.1-RC4/ext/File-Find/lib /data/gentoo/var/tmp/portage/dev-lang/perl-5.24.1_rc4/work/perl-5.24.1-RC4/cpan/Text-Tabs/lib /data/gentoo/var/tmp/portage/dev-lang/perl-5.24.1_rc4/work/perl-5.24.1-RC4/dist/constant/lib /data/gentoo/var/tmp/portage/dev-lang/perl-5.24.1_rc4/work/perl-5.24.1-RC4/cpan/version/lib /data/gentoo/var/tmp/portage/dev-lang/perl-5.24.1_rc4/work/perl-5.24.1-RC4/lib ../../lib .) at /data/gentoo/var/tmp/portage/dev-lang/perl-5.24.1_rc4/work/perl-5.24.1-RC4/cpan/ExtUtils-MakeMaker/lib/ExtUtils/Command/MM.pm line 109.
make[1]: *** [Makefile:446: manifypods] Error 2
make[1]: Leaving directory '/data/gentoo/var/tmp/portage/dev-lang/perl-5.24.1_rc4/work/perl-5.24.1-RC4/cpan/podlators'
Unsuccessful make(cpan/podlators): code=512 at make_ext.pl line 569.
make: *** [makefile:605: cpan/podlators/pm_to_blib] Error 25
 * ERROR: dev-lang/perl-5.24.1_rc4::gentoo failed (compile phase):
 *   emake failed



Portage 2.3.3 (python 2.7.12-final-0, prefix/linux-standalone/arm/armv7a, gcc-5.4.0, glibc-2.23-r3, 3.10.72+ aarch64)
=================================================================
                         System Settings
=================================================================
System uname: Linux-3.10.72+-aarch64-with-glibc2.4
KiB Mem:     1730724 total,     40716 free
KiB Swap:    1048572 total,    469304 free
Timestamp of repository gentoo: Thu, 19 Jan 2017 10:15:01 +0000
sh bash 4.4_p5-r1
ld GNU ld (Gentoo 2.26.1 p1.0) 2.26.1
distcc 3.2rc1 armv7a-hardfloat-linux-gnueabi [disabled]
app-shells/bash:          4.4_p5-r1::gentoo
dev-lang/perl:            5.24.0-r2::gentoo
dev-lang/python:          2.7.12::gentoo
sys-apps/baselayout:      2.3::gentoo
sys-apps/openrc:          0.23.1::gentoo
sys-apps/sandbox:         2.10-r3::gentoo
sys-devel/autoconf:       2.69-r2::gentoo
sys-devel/automake:       1.14.1-r1::gentoo, 1.15-r2::gentoo
sys-devel/binutils:       2.26.1::gentoo, 2.27::gentoo
sys-devel/gcc:            5.4.0::gentoo
sys-devel/gcc-config:     1.8_p20160608::rap
sys-devel/libtool:        2.4.6-r2::gentoo
sys-devel/make:           4.2.1::gentoo
sys-kernel/linux-headers: 4.9::gentoo (virtual/os-headers)
sys-libs/glibc:           2.23-r3::gentoo
Repositories:

gentoo
    location: /data/gentoo/usr/portage
    sync-type: rsync
    sync-uri: rsync://rsync.kr.gentoo.org/gentoo-portage
    priority: -1000
    eclass-overrides: rap

rap
    location: /data/gentoo/usr/portage-stage
    sync-type: git
    sync-uri: https://anongit.gentoo.org/git/proj/android.git
    masters: gentoo
    eclass-overrides: rap

ACCEPT_KEYWORDS="arm ~arm"
ACCEPT_LICENSE="* -@EULA"
CBUILD="armv7a-hardfloat-linux-gnueabi"
CFLAGS="-O2 -march=armv7-a -mcpu=cortex-a9 -mfpu=neon -funsafe-math-optimizations"
CHOST="armv7a-hardfloat-linux-gnueabi"
CONFIG_PROTECT="/etc"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo"
CXXFLAGS="-O2 -march=armv7-a -mcpu=cortex-a9 -mfpu=neon -funsafe-math-optimizations"
DISTDIR="/data/gentoo/usr/portage/distfiles"
FCFLAGS="-O2 -pipe -march=armv7-a"
FEATURES="assume-digests binpkg-logs config-protect-if-modified distlocks ebuild-locks fixlafiles force-prefix merge-sync news parallel-fetch preserve-libs protect-owned sfperms strict unknown-features-warn unmerge-logs unmerge-orphans"
FFLAGS="-O2 -pipe -march=armv7-a"
GENTOO_MIRRORS="http://mirrors.163.com/gentoo-portage/ http://mirrors.xmu.edu.cn/gentoo/"
LANG="en_US.utf8"
LDFLAGS="-Wl,-O1 -Wl,--as-needed -Wl,--no-keep-memory"
MAKEOPTS="-j48 -l4"
PKGDIR="/data/gentoo/usr/portage/packages"
PORTAGE_CONFIGROOT="/data/gentoo/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --omit-dir-times --compress --force --whole-file --delete --stats --human-readable --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --exclude=/.git"
PORTAGE_TMPDIR="/data/gentoo/var/tmp"
USE="acl arm armv5te armv6 armv6t2 berkdb bzip2 cli cracklib crypt cxx dri fortran gdbm iconv ipv6 modules ncurses nls nptl openmp pcre prefix readline seccomp session ssl tcpd threads unicode zlib" APACHE2_MODULES="authn_core authz_core socache_shmcb unixd actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cgi cgid dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CALLIGRA_FEATURES="kexi words flow plan sheets stage tables krita karbon braindump author" CAMERAS="ptp2" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf superstar2 timing tsip tripmate tnt ublox ubx" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LIBREOFFICE_EXTENSIONS="presenter-console presenter-minimizer" OFFICE_IMPLEMENTATION="libreoffice" PHP_TARGETS="php5-6" PYTHON_SINGLE_TARGET="python2_7" PYTHON_TARGETS="python2_7" RUBY_TARGETS="ruby21" USERLAND="GNU" VIDEO_CARDS="exynos fbdev omap omapfb dummy v4l" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account"
USE_PYTHON="2.7"
Unset:  CC, CPPFLAGS, CTARGET, CXX, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LC_ALL, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Benda Xu






          2017-01-20 02:14:13 UTC
        

Does it happen in bootstrap stage2?

If so, could you please also upload the compressed stage2.log?




Comment 2


troysung





          2017-01-20 03:16:33 UTC
        

(In reply to Benda Xu from comment #1)
> Does it happen in bootstrap stage2?
> 
> If so, could you please also upload the compressed stage2.log?

just the gentoo in android, the startprefix.sh used. 
i`m not sure which stage it is in.




Comment 3


troysung





          2017-01-20 08:51:46 UTC
        

Created attachment 460706 [details]
the complete build log for this bug




Comment 4


troysung





          2017-02-06 13:16:36 UTC
        

I don`t know why,but the bug seems resolved, as follow.what should I do?

============
localhost portage # perl -v

This is perl 5, version 24, subversion 1 (v5.24.1) built for armv7a-linux
(with 30 registered patches, see perl -V for more detail)

Copyright 1987-2016, Larry Wall

Perl may be copied only under the terms of either the Artistic License or the
GNU General Public License, which may be found in the Perl 5 source kit.

Complete documentation for Perl, including FAQ lists, should be found on
this system using "man perl" or "perldoc perl".  If you have access to the
Internet, point your browser at http://www.perl.org/, the Perl Home Page.




Comment 5


troysung





          2017-02-06 13:20:56 UTC
        

localhost portage # emerge --info
Portage 2.3.3 (python 2.7.12-final-0, prefix/linux-standalone/arm/armv7a, gcc-5.4.0, glibc-2.23-r3, 3.10.72+ aarch64)
=================================================================
System uname: Linux-3.10.72+-aarch64-with-glibc2.4
KiB Mem:     1730724 total,    118732 free
KiB Swap:    1048572 total,    769980 free
Timestamp of repository gentoo: Sat, 04 Feb 2017 22:45:01 +0000
sh bash 4.4_p11
ld GNU ld (Gentoo 2.27 p1.0) 2.27
distcc 3.2rc1 armv7a-hardfloat-linux-gnueabi [disabled]
app-shells/bash:          4.4_p11::gentoo
dev-lang/perl:            5.24.1_rc4::gentoo
dev-lang/python:          2.7.12::gentoo
sys-apps/baselayout:      2.3::gentoo
sys-apps/openrc:          0.23.2::gentoo
sys-apps/sandbox:         2.10-r3::gentoo
sys-devel/autoconf:       2.69-r2::gentoo
sys-devel/automake:       1.14.1-r1::gentoo, 1.15-r2::gentoo
sys-devel/binutils:       2.27::gentoo
sys-devel/gcc:            5.4.0::gentoo
sys-devel/gcc-config:     1.8_p20160608::rap
sys-devel/libtool:        2.4.6-r2::gentoo
sys-devel/make:           4.2.1::gentoo
sys-kernel/linux-headers: 4.9::gentoo (virtual/os-headers)
sys-libs/glibc:           2.23-r3::gentoo
Repositories:

gentoo
    location: /data/gentoo/usr/portage
    sync-type: rsync
    sync-uri: rsync://192.168.1.110/gentoo-portage
    priority: -1000
    eclass-overrides: rap

rap
    location: /data/gentoo/usr/portage-stage
    sync-type: git
    sync-uri: https://anongit.gentoo.org/git/proj/android.git
    masters: gentoo
    eclass-overrides: rap

ACCEPT_KEYWORDS="arm ~arm"
ACCEPT_LICENSE="* -@EULA"
CBUILD="armv7a-hardfloat-linux-gnueabi"
CFLAGS="-O2 -march=armv7-a -mcpu=cortex-a9 -mfpu=neon -funsafe-math-optimizations"
CHOST="armv7a-hardfloat-linux-gnueabi"
CONFIG_PROTECT="/etc /usr/share/gnupg/qualified.txt"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo"
CXXFLAGS="-O2 -march=armv7-a -mcpu=cortex-a9 -mfpu=neon -funsafe-math-optimizations"
DISTDIR="/data/gentoo/usr/portage/distfiles"
FCFLAGS="-O2 -pipe -march=armv7-a"
FEATURES="assume-digests binpkg-logs config-protect-if-modified distlocks ebuild-locks fixlafiles force-prefix merge-sync news parallel-fetch preserve-libs protect-owned sfperms strict unknown-features-warn unmerge-logs unmerge-orphans"
FFLAGS="-O2 -pipe -march=armv7-a"
GENTOO_MIRRORS="http://mirrors.163.com/gentoo/ http://mirrors.xmu.edu.cn/gentoo/"
LANG="en_US.utf8"
LDFLAGS="-Wl,-O1 -Wl,--as-needed -Wl,--no-keep-memory"
MAKEOPTS="-j8 -l4"
PKGDIR="/data/gentoo/usr/portage/packages"
PORTAGE_CONFIGROOT="/data/gentoo/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --omit-dir-times --compress --force --whole-file --delete --stats --human-readable --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --exclude=/.git"
PORTAGE_TMPDIR="/data/gentoo/var/tmp"
USE="acl arm armv5te armv6 armv6t2 berkdb bzip2 cli cracklib crypt cxx dri fortran gdbm iconv ipv6 modules ncurses nls nptl openmp pcre prefix readline seccomp session ssl tcpd threads unicode zlib" APACHE2_MODULES="authn_core authz_core socache_shmcb unixd actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cgi cgid dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CALLIGRA_FEATURES="kexi words flow plan sheets stage tables krita karbon braindump author" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock isync itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf skytraq superstar2 timing tsip tripmate tnt ublox ubx" INPUT_DEVICES="libinput keyboard mouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LIBREOFFICE_EXTENSIONS="presenter-console presenter-minimizer" OFFICE_IMPLEMENTATION="libreoffice" PHP_TARGETS="php5-6" PYTHON_SINGLE_TARGET="python2_7" PYTHON_TARGETS="python2_7 python3_3" RUBY_TARGETS="ruby21" USERLAND="GNU" VIDEO_CARDS="exynos fbdev omap dummy v4l" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account"
USE_PYTHON="2.7"
Unset:  CC, CPPFLAGS, CTARGET, CXX, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LC_ALL, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 6


Benda Xu






          2017-02-07 02:07:00 UTC
        

(In reply to troysung from comment #4)
> I don`t know why,but the bug seems resolved, as follow.what should I do?
> 
> ============
> localhost portage # perl -v
> 
> This is perl 5, version 24, subversion 1 (v5.24.1) built for armv7a-linux
> (with 30 registered patches, see perl -V for more detail)
> 
> Copyright 1987-2016, Larry Wall
> 
> Perl may be copied only under the terms of either the Artistic License or the
> GNU General Public License, which may be found in the Perl 5 source kit.
> 
> Complete documentation for Perl, including FAQ lists, should be found on
> this system using "man perl" or "perldoc perl".  If you have access to the
> Internet, point your browser at http://www.perl.org/, the Perl Home Page.

It is likely that some of the dependencies of perl were not correctly built.  `emerge --emptytree dev-lang/perl` helps generally for these breakages.

Thank for the report.  Looking forward to have more contributions from you.




Comment 7


troysung





          2017-02-07 04:34:12 UTC
        

cool









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

