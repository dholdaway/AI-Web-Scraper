Title: 129482 – unable to link to gmodule, dlopen has no reference
URL: https://bugs.gentoo.org/show_bug.cgi?id=129482

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 129482
unable to link to gmodule, dlopen has no reference
Last modified: 2006-04-10 09:32:31 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 129482 
      - unable to link to gmodule, dlopen has no reference


Summary:
unable to link to gmodule, dlopen has no reference
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-04-10 08:03 UTC by Stefan de Konink





      Modified:
    
2006-04-10 09:32 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Stefan de Konink





          2006-04-10 08:03:13 UTC
        

After trying to solve the expat stupidness, I have one system left which decided to stop linking at all. Since pango is on top of the emerge list, pango results in the same error. So I started to update them all manually. revdep-rebuild can't find a 'working' update path aswel.

I installed the latest versions of glib(c).

make[5]: Entering directory `/var/tmp/portage/pkgconfig-0.20/work/pkg-config-0.20/glib-1.2.8/gmodule'
/bin/sh ../libtool --mode=link i686-pc-linux-gnu-gcc  -O3 -march=athlon-tbird -pipe -fomit-frame-pointer -Wall  -D_REENTRANT   -o testgmodule -rdynamic testgmodule.o libgmodule.la ../libglib.la   
i686-pc-linux-gnu-gcc -O3 -march=athlon-tbird -pipe -fomit-frame-pointer -Wall -D_REENTRANT -o testgmodule -rdynamic testgmodule.o  ./.libs/libgmodule.a ../.libs/libglib.a
./.libs/libgmodule.a(gmodule.o): In function `g_module_symbol':
gmodule.c:(.text+0x189): undefined reference to `dlsym'
./.libs/libgmodule.a(gmodule.o): In function `g_module_close':
gmodule.c:(.text+0x3d7): undefined reference to `dlclose'
./.libs/libgmodule.a(gmodule.o): In function `g_module_open':
gmodule.c:(.text+0x708): undefined reference to `dlopen'
gmodule.c:(.text+0x7ae): undefined reference to `dlclose'
gmodule.c:(.text+0x845): undefined reference to `dlopen'
collect2: ld returned 1 exit status
make[5]: *** [testgmodule] Error 1
make[5]: Leaving directory `/var/tmp/portage/pkgconfig-0.20/work/pkg-config-0.20/glib-1.2.8/gmodule'
make[4]: *** [all] Error 2
make[4]: Leaving directory `/var/tmp/portage/pkgconfig-0.20/work/pkg-config-0.20/glib-1.2.8/gmodule'
make[3]: *** [all-recursive] Error 1
make[3]: Leaving directory `/var/tmp/portage/pkgconfig-0.20/work/pkg-config-0.20/glib-1.2.8'
make[2]: *** [all] Error 2
make[2]: Leaving directory `/var/tmp/portage/pkgconfig-0.20/work/pkg-config-0.20/glib-1.2.8'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/pkgconfig-0.20/work/pkg-config-0.20'
make: *** [all] Error 2


Portage 2.1_pre7-r5 (default-linux/x86/2005.0, gcc-3.4.6, glibc-2.4-r1, 2.6.15-gentoo i686)
=================================================================
System uname: 2.6.15-gentoo i686 AMD Athlon(tm) processor
Gentoo Base System version 1.12.0_pre17
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
dev-lang/python:     2.3.5, 2.4.2-r1
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r2
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r3
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O3 -march=athlon-tbird -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config /usr/share/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/eselect/compiler /etc/gconf /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c /etc/env.d"
CXXFLAGS="-O3 -march=athlon-tbird -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache confcache distlocks metadata-transfer sfperms strict"
GENTOO_MIRRORS="http://10.0.0.205/gentoo ftp://ftp.snt.utwente.nl/pub/os/linux/gentoo ftp://sunsite.informatik.rwth-aachen.de/pub/Linux/gentoo ftp://ftp.wh2.tu-dresden.de/pub/mirrors/gentoo"
MAKEOPTS="-j1"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/overlays/ebuildexchange /usr/local/portage"
SYNC="rsync://10.0.0.205/gentoo-portage"
USE="x86 3dnow 3dnowext X a52 aac alsa apm avi bitmap-fonts bpm bzip2 crypt cups divx4linux dri dv dvd emboss encode f77 ffmpeg flac foomaticdb fortran gif glitz gnutls gstreamer gtk gtk2 hash-dri imagemagick ipv6 isdnlog jack joystick jpeg lcms libg++ libsamplerate libwww lirc mad mikmod mmx mmxext mng motif mp3 mpeg ncurses nls nptl nptlonly nsplugin nvidia ogg oggvorbis openal opengl oss pam pic png pppd quicktime readline scanner sdl softmmu speex spell ssl svg tcpd theora threads tiff truetype truetype-fonts type1-fonts userlocales vorbis win32codecs wmf xml2 xprint xv xvid zlib elibc_glibc input_devices_mouse input_devices_keyboard input_devices_hyperpen kernel_linux userland_GNU video_cards_nvidia"
Unset:  ASFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGUAS




Comment 1


Stefan de Konink





          2006-04-10 09:32:31 UTC
        

Seems I have solved it by emerging the glib-1 again. And because of pkgconfig works again, pango compiles :) 

For the record: did glib break because of a glibc-2.4 upgrade?









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

