Title: 125046 – bash-3.1_p11  failed patch
URL: https://bugs.gentoo.org/show_bug.cgi?id=125046

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 125046
bash-3.1_p11  failed patch
Last modified: 2006-05-18 16:39:22 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 125046 
      - bash-3.1_p11  failed patch


Summary:
bash-3.1_p11  failed patch
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo's Team for Core System packages








URL:







Whiteboard:




Keywords:









Duplicates (8):
    

125087 125216 125303 125812 126242 127248 129698 133737

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2006-03-04 23:51 UTC by Steven





      Modified:
    
2006-05-18 16:39 UTC
      (History)
    




          CC List:
        

7 
          users
          
            (show)
          



admin
btoovey
daemon
leo
m
rkeever
Stephen.Lecheler









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




bash31-010-5932.out - Included as requested by emerge.

              (bash31-010-5932.out,10.27 KB,
                text/plain)

            
2006-03-04 23:55 UTC,

            Steven




Details





bash31-010-4246.out

              (bash31-010-4246.out,10.27 KB,
                text/plain)

            
2006-03-05 06:55 UTC,

            Jose daLuz




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Steven





          2006-03-04 23:51:33 UTC
        

>>> checksums src_uri ;-) bash31-008
>>> checksums src_uri ;-) bash31-009
>>> checksums src_uri ;-) bash31-010
>>> checksums src_uri ;-) bash31-011
>>> checksums src_uri ;-) readline51-001
>>> Unpacking source...
>>> Unpacking bash-3.1.tar.gz to /zzz/tmp/portage/bash-3.1_p11/work
 * Applying bash-3.1-gentoo.patch ...                                     [ ok ]
 * Applying bash31-001 ...                                                [ ok ]
 * Applying bash31-002 ...                                                [ ok ]
 * Applying bash31-003 ...                                                [ ok ]
 * Applying bash31-004 ...                                                [ ok ]
 * Applying bash31-005 ...                                                [ ok ]
 * Applying bash31-006 ...                                                [ ok ]
 * Applying bash31-007 ...                                                [ ok ]
 * Applying bash31-008 ...                                                [ ok ]
 * Applying bash31-009 ...                                                [ ok ]
 * Applying bash31-010 ...

 * Failed Patch: bash31-010 !
 *  ( /zzz/tmp/portage/bash-3.1_p11/distdir/bash31-010 )
 *
 * Include in your bugreport the contents of:
 *
 *   /zzz/tmp/portage/bash-3.1_p11/temp/bash31-010-5932.out


!!! ERROR: app-shells/bash-3.1_p11 failed.
Call stack:
  ebuild.sh, line 1933:   Called dyn_unpack
  ebuild.sh, line 719:   Called src_unpack
  bash-3.1_p11.ebuild, line 50:   Called epatch 'unpack'



Portage 2.1_pre5-r3 (default-linux/x86/2006.0, gcc-3.4.5, glibc-2.3.6-r3, 2.6.15-gentoo-r6 i686)
=================================================================
System uname: 2.6.15-gentoo-r6 i686 AMD Athlon(tm) XP 2600+
Gentoo Base System version 1.12.0_pre16
ccache version 2.4 [enabled]
dev-lang/python:     2.4.2-r1
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1-r2
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r3
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=athlon-xp -O2 -pipe -fomit-frame-pointer -falign-functions=64 -ffast-math -fprefetch-loop-arrays -ftracer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/kde/3/share/config /usr/share/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/splash /etc/terminfo /etc/env.d"
CXXFLAGS="-march=athlon-xp -O2 -pipe -fomit-frame-pointer -falign-functions=64 -ffast-math -fprefetch-loop-arrays -ftracer -fvisibility-inlines-hidden"
DISTDIR="/zzz/portage/distfiles"
FEATURES="autoconfig ccache distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://ftp.roedu.net/pub/mirrors/gentoo.org http://ftp.lug.ro/gentoo"
LANG="en_US.UTF-8"
LC_ALL="en_US.UTF-8"
LDFLAGS="-Wl,-O1"
MAKEOPTS="-j2"
PKGDIR="/zzz/portage/packages"
PORTAGE_TMPDIR="/zzz/tmp"
PORTDIR="/zzz/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.ro.gentoo.org/gentoo-portage"
USE="x86 X alsa apache2 apm avi bitmap-fonts cdr crypt dvd dvdr encode gdbm gif gpm gstreamer gtk2 hal imlib ipv6 jpeg kde libg++ libwww mad mikmod mp3 mpeg ncurses nls nptl nptlonly nvidia ogg opengl pam pdflib perl png python qt readline sdl ssl tcpd truetype truetype-fonts type1-fonts udev unicode vorbis xml xv zlib elibc_glibc input_devices_keyboard input_devices_mouse kernel_linux userland_GNU video_cards_nv video_cards_nvidia video_cards_vesa"
Unset:  ASFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, LINGUAS




Comment 1


Steven





          2006-03-04 23:55:02 UTC
        

Created attachment 81368 [details]
bash31-010-5932.out - Included as requested by emerge.




Comment 2


Jose daLuz





          2006-03-05 06:54:22 UTC
        

I get the same problem, but only after a digest verification failure (which I reported in bug 125086), followed by an ebuild digest.




Comment 3


Jose daLuz





          2006-03-05 06:55:14 UTC
        

Created attachment 81400 [details]
bash31-010-4246.out




Comment 4


Jose daLuz





          2006-03-05 06:55:51 UTC
        

Sorry, should have included this:

emerge --info
Portage 2.1_pre5-r4 (default-linux/amd64/2006.0, gcc-3.4.5, glibc-2.3.5-r3, 2.6.15-ck3-r1 x86_64)
=================================================================
System uname: 2.6.15-ck3-r1 x86_64 AMD Athlon(tm) 64 Processor 3000+
Gentoo Base System version 1.12.0_pre16
ccache version 2.4 [enabled]
dev-lang/python:     2.3.5-r2, 2.4.2-r1
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1-r1, 2.16.91.0.3, 2.16.91.0.5, 2.16.91.0.6
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r4
ACCEPT_KEYWORDS="amd64 ~amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=athlon64 -O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/kde/3/share/config /usr/lib64/mozilla/defaults/pref /usr/share/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/texmf/web2c /etc/env.d"
CXXFLAGS="-march=athlon64 -O2 -pipe"
DISTDIR="/usr/portage/distfiles"
EMERGE_DEFAULT_OPTS=""
FEATURES="autoconfig ccache confcache distlocks nostrip sandbox sfperms strict"
GENTOO_MIRRORS="http://gentoo.osuosl.org/"
LC_ALL="en_US"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/bmg-main /usr/local/portage"
SYNC="rsync://rsync.us.gentoo.org/gentoo-portage"
USE="amd64 X aac alsa avi bash-completion berkdb bitmap-fonts bzip2 cairo cdr crypt cups dbus debug dvd dvdr eds emboss encode esd firefox flac foomaticdb fortran gdbm gif gnome gpm gstreamer gtk gtk2 hal imlib ipv6 java jpeg kde ldap lzw lzw-tiff mad mono mozilla mp3 mpeg ncurses nls nptl ogg opengl pam pdflib perl pic png python qt quicktime readline ruby samba sdl spell sqlite ssl tcpd theora tiff truetype truetype-fonts type1-fonts usb userlocales vorbis xml2 xpm xv zlib elibc_glibc input_devices_keyboard input_devices_mouse input_devices_evdev kernel_linux userland_GNU video_cards_vga video_cards_vesa video_cards_nv"
Unset:  ASFLAGS, CTARGET, LANG, LDFLAGS, LINGUAS, MAKEOPTS





Comment 5


Jakub Moc (RETIRED)






          2006-03-05 07:21:47 UTC
        

*** Bug 125087 has been marked as a duplicate of this bug. ***




Comment 6


SpanKY






          2006-03-05 08:50:10 UTC
        

sync up and then delete /usr/portage/distfiles/bash31-010




Comment 7


Jakub Moc (RETIRED)






          2006-03-06 04:25:46 UTC
        

*** Bug 125216 has been marked as a duplicate of this bug. ***




Comment 8


Chuck Wegrzyn





          2006-03-06 04:42:25 UTC
        

When I did an emerge --sync and then deleted bash31-010 I got the following:

>>> Emerging (1 of 1) app-shells/bash-3.1_p11 to /
>>> Downloading http://distfiles.gentoo.org/distfiles/bash31-010
--07:39:32--  http://distfiles.gentoo.org/distfiles/bash31-010
           => `/usr/portage/distfiles/bash31-010'
Resolving distfiles.gentoo.org... 64.50.236.52, 64.50.238.52, 216.165.129.135, ...
Connecting to distfiles.gentoo.org|64.50.236.52|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 5,218 (5.1K) [text/plain]

100%[====================================>] 5,218         --.--K/s

07:39:32 (130.96 KB/s) - `/usr/portage/distfiles/bash31-010' saved [5218/5218]

>>> checksums files   ;-) bash-3.1_p10.ebuild
>>> checksums files   ;-) bash-3.0-r12.ebuild
>>> checksums files   ;-) bash-3.0-r14.ebuild
>>> checksums files   ;-) bash-2.05b-r11.ebuild
>>> checksums files   ;-) bash-3.0-r11.ebuild
>>> checksums files   ;-) bash-3.1_p11.ebuild
>>> checksums files   ;-) bash-3.1_p8.ebuild
>>> checksums files   ;-) bash-3.0-r13.ebuild
>>> checksums files   ;-) files/digest-bash-3.0-r11
>>> checksums files   ;-) files/digest-bash-3.0-r12
>>> checksums files   ;-) files/digest-bash-3.0-r13
>>> checksums files   ;-) files/digest-bash-3.0-r14
>>> checksums files   ;-) files/digest-bash-3.1_p10
>>> checksums files   ;-) files/digest-bash-3.1_p11
>>> checksums files   ;-) files/bash-3.0-histtimeformat.patch
>>> checksums files   ;-) files/bash-3.0-darwin-conn.patch
>>> checksums files   ;-) files/bash-2.05b-setlocale.patch
>>> checksums files   ;-) files/bash-3.0-trap-fg-signals.patch
>>> checksums files   ;-) files/bash-3.0-read-memleak.patch
>>> checksums files   ;-) files/bash-3.1-fix-dash-login-shell.patch
>>> checksums files   ;-) files/dot-bash_profile
>>> checksums files   ;-) files/bash-3.0-force-static-linking.patch
>>> checksums files   ;-) files/bash-3.0-etc-inputrc.patch
>>> checksums files   ;-) files/bash-3.0-gentoo.patch
>>> checksums files   ;-) files/bash_logout
>>> checksums files   ;-) files/bash-3.1-bash-logger.patch
>>> checksums files   ;-) files/bash-3.0-ulimit.patch
>>> checksums files   ;-) files/bash-2.05b-rbash.patch
>>> checksums files   ;-) files/bash-3.0-read-builtin-pipe.patch
>>> checksums files   ;-) files/bash-3.0-volatile-command.patch
>>> checksums files   ;-) files/bash-3.0-locale.patch
>>> checksums files   ;-) files/bash-3.0-read-e-segfault.patch
>>> checksums files   ;-) files/bash-3.0-manpage.patch
>>> checksums files   ;-) files/bash-3.0-posixtrap.patch
>>> checksums files   ;-) files/bash-3.0-configs.patch
>>> checksums files   ;-) files/bashrc
>>> checksums files   ;-) files/bash-3.0-multibyteifs.patch
>>> checksums files   ;-) files/bash-3.0-pgrp-pipe-fix.patch
>>> checksums files   ;-) files/bash-3.0-pwd.patch
>>> checksums files   ;-) files/bash-2.05b-parallel-build.patch
>>> checksums files   ;-) files/bash-3.0-crash.patch
>>> checksums files   ;-) files/bash-3.0-utf8.patch
>>> checksums files   ;-) files/bash-3.0-array-stripping.patch
>>> checksums files   ;-) files/bash-3.0-cross-signals.patch
>>> checksums files   ;-) files/bash-3.0-rl-display.patch
>>> checksums files   ;-) files/bash-3.0-rl-self-insert.patch
>>> checksums files   ;-) files/bash-3.0-parallel.patch
>>> checksums files   ;-) files/bash-3.0-local-array.patch
>>> checksums files   ;-) files/bash-3.0-prompt.patch
>>> checksums files   ;-) files/bash-3.0-bash-logger.patch
>>> checksums files   ;-) files/digest-bash-3.1_p8
>>> checksums files   ;-) files/bash-3.0-invisible.patch
>>> checksums files   ;-) files/bash-3.0-afs.patch
>>> checksums files   ;-) files/digest-bash-2.05b-r11
>>> checksums files   ;-) files/bash-3.0-strnlen.patch
>>> checksums files   ;-) files/bash-3.0-subshell.patch
>>> checksums files   ;-) files/bash-2.05b-empty-herestring.patch
>>> checksums files   ;-) files/bash-2.05b-jobs.patch
>>> checksums files   ;-) files/bash-2.05b-multibyte-locale.patch
>>> checksums files   ;-) files/bash-3.1-gentoo.patch
>>> checksums files   ;-) files/bash-3.1-ulimit.patch
>>> checksums files   ;-) files/dot-bashrc
>>> checksums files   ;-) files/dot-bash_logout
>>> checksums files   ;-) files/bash-3.0-jobs.patch
>>> checksums src_uri ;-) bash-3.1.tar.gz
>>> checksums src_uri ;-) bash31-001
>>> checksums src_uri ;-) bash31-002
>>> checksums src_uri ;-) bash31-003
>>> checksums src_uri ;-) bash31-004
>>> checksums src_uri ;-) bash31-005
>>> checksums src_uri ;-) bash31-006
>>> checksums src_uri ;-) bash31-007
>>> checksums src_uri ;-) bash31-008
>>> checksums src_uri ;-) bash31-009

!!! Digest verification Failed:
!!!    /usr/portage/distfiles/bash31-010
!!! Reason: Failed on RMD160 verification
!!! Got:      9228d25e84180f576892ee6c9c3da8262e201269
!!! Expected: 39a2f836a7f11eba12c50ee0adaade80b81c5e16






Comment 9


Jakub Moc (RETIRED)






          2006-03-06 23:56:12 UTC
        

*** Bug 125303 has been marked as a duplicate of this bug. ***




Comment 10


Sheldon Hearn





          2006-03-07 00:08:41 UTC
        

There's a truncated patch on some mirrors.  It looks like the patch
was rerolled upstream.  The upstream version is signed with Chet's PGP
signature.

To work around the problem, remove /usr/portage/distfiles/bash31-010, emerge
sync to blow away your manually generated digest, and emerge again with
GENTOO_MIRRORS unset, i.e.

    emerge sync
    GENTOO_MIRRORS="" emerge bash




Comment 11


Jakub Moc (RETIRED)






          2006-03-11 03:54:26 UTC
        

*** Bug 125812 has been marked as a duplicate of this bug. ***




Comment 12


Jakub Moc (RETIRED)






          2006-03-14 18:10:56 UTC
        

*** Bug 126242 has been marked as a duplicate of this bug. ***




Comment 13


Jakub Moc (RETIRED)






          2006-03-22 23:09:30 UTC
        

*** Bug 127248 has been marked as a duplicate of this bug. ***




Comment 14


Jakub Moc (RETIRED)






          2006-04-12 07:50:20 UTC
        

*** Bug 129698 has been marked as a duplicate of this bug. ***




Comment 15


Jakub Moc (RETIRED)






          2006-05-18 16:39:22 UTC
        

*** Bug 133737 has been marked as a duplicate of this bug. ***









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

