Title: 412129 – sys-fs/ntfs3g-2012.1.15-r1: mount: unknown filesystem type 'ntfs-3g'
URL: https://bugs.gentoo.org/show_bug.cgi?id=412129

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 412129
sys-fs/ntfs3g-2012.1.15-r1: mount: unknown filesystem type 'ntfs-3g'
Last modified: 2012-04-16 15:40:11 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 412129 
      - sys-fs/ntfs3g-2012.1.15-r1: mount: unknown filesystem type 'ntfs-3g'


Summary:
sys-fs/ntfs3g-2012.1.15-r1: mount: unknown filesystem type 'ntfs-3g'
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Core system

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Patrick McLean








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2012-04-15 17:51 UTC by Jacek Trubłajewicz





      Modified:
    
2012-04-16 15:40 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



base-system
ssuominen









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge --info

              (emerge-info.txt,4.61 KB,
                text/plain)

            
2012-04-16 14:20 UTC,

            Jacek Trubłajewicz




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Jacek Trubłajewicz





          2012-04-15 17:51:06 UTC
        

Since I upgraded to the ntfs3g-2012.1.15-r1, mounting volume via /etc/fstab at startup stopped working.
When I try to mount volume manually I receive following error:

# mount /mnt/win_c
mount: unknown filesystem type 'ntfs-3g'

but when I use ntfs-3g directly:

# ntfs-3g /dev/sda2 /mnt/win_c/

everything works fine.


Reproducible: Always




Here's my /etc/fstab:
/dev/sda1		/boot		ext2		defaults,noatime	1 1
/dev/sda6		/		ext3		defaults,noatime	0 0
/dev/sda5		none		swap		sw 0 0

/dev/sda2 		/mnt/win_c      ntfs-3g		umask=0,locale=pl_PL.UTF-8,noatime 0 0
/dev/sda3		/mnt/win_d	ntfs-3g         umask=0,locale=pl_PL.UTF-8,noatime 0 0

# NOTE: The next line is critical for boot!
none			/proc		proc		defaults		0 0
none			/dev/shm	tmpfs		defaults		0 0
devpts			/dev/pts	devpts		gid=5,mode=620		0 0


$ emerge --info ntfs3g:
sys-fs/ntfs3g-2012.1.15-r1 was built with the following:
USE="acl crypt external-fuse ntfsprogs udev -debug -extras -static-libs -suid -xattr"


$ uname -a:
Linux komp1 2.6.39-gentoo-r3 #1 Wed Nov 30 14:29:49 CET 2011 i686 AMD Athlon(tm) 64 Processor 3700+ AuthenticAMD GNU/Linux


$ cat /proc/filesystems:
nodev	sysfs
nodev	rootfs
nodev	bdev
nodev	proc
nodev	tmpfs
nodev	debugfs
nodev	sockfs
nodev	pipefs
nodev	anon_inodefs
nodev	devpts
	reiserfs
	ext3
	ext2
nodev	ramfs
	vfat
	iso9660
nodev	fuse
	fuseblk
nodev	fusectl
	udf
	xfs
nodev	mqueue
nodev	usbfs
nodev	cifs




Comment 1


Samuli Suominen (RETIRED)






          2012-04-16 13:08:01 UTC
        

Reopen with `emerge --info` attached (in particular I'm intrested in util-linux version)




Comment 2


Jacek Trubłajewicz





          2012-04-16 14:20:39 UTC
        

Created attachment 309147 [details]
emerge --info




Comment 3


Jacek Trubłajewicz





          2012-04-16 14:24:22 UTC
        

util-linux version:

sys-apps/util-linux-2.17.2 was built with the following:
USE="crypt nls perl unicode -loop-aes -old-linux (-selinux) -slang (-uclibc)"




Comment 4


Samuli Suominen (RETIRED)






          2012-04-16 14:38:21 UTC
        

(In reply to comment #3)
> util-linux version:
> 
> sys-apps/util-linux-2.17.2 was built with the following:
> USE="crypt nls perl unicode -loop-aes -old-linux (-selinux) -slang (-uclibc)"

Well, considering that umount (not mount) got support for finding umount.* helpers from /usr only in version >= 2.20.1-r2 I'm taking an educated guess your util-linux version is just too old for this.

The current stable util-linux is 2.20.1-r1 so upgrade to *at least* that. Anything below that is not supported anymore.




Comment 5


Jacek Trubłajewicz





          2012-04-16 15:00:54 UTC
        

Upgrade to util-linux is 2.20.1-r1 resolved this problem. Big thanks for your assistance.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

