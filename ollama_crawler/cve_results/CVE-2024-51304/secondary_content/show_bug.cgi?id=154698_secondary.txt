Title: 154698 – Add a feature to Portage to allow the user to be warned when USE flags are changed/removed/added to an installed package.
URL: https://bugs.gentoo.org/show_bug.cgi?id=154698

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 154698
Add a feature to Portage to allow the user to be warned when USE flags are changed/removed/added to an installed package.
Last modified: 2006-11-11 03:40:52 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 154698 
      - Add a feature to Portage to allow the user to be warned when USE flags are changed/removed/added to an installed package.


Summary:
Add a feature to Portage to allow the user to be warned when USE flags are ch...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Portage Development




Classification:

Unclassified




Component:

Core - Interface (emerge)

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       enhancement
      


Assignee:

Portage team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-11-10 10:04 UTC by R





      Modified:
    
2006-11-11 03:40 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


R





          2006-11-10 10:04:25 UTC
        

I have been caught out twice by packages suddenly failing to do what I want after an emerge. e.g. Amarok stopped playing mp3s because some mp3 flag had been added to xine-lib since it had been updated, that had to be enabled in order to play mp3s.
Solution: warn the user when USE flags have been added or changed since the last previously installed version of that package (if any) on the computer. This warning would obviously have to appear when the package was emerge for the first time or when it was updated.
Thanks.




Comment 1


Marius Mauch (RETIRED)






          2006-11-10 10:08:13 UTC
        

emerge -pv already highlights added/removed flags.




Comment 2


R





          2006-11-10 13:38:26 UTC
        

That doesn't help. A typical Gentoo user will not be willing to do emerge -pv before EVERY time they emerge packages.

This information about new USE flags should be collected and automatically displayed to the user every time emerge has finished emerging new packages, perhaps using the yellow warning text.




Comment 3


Jason Stubbs (RETIRED)






          2006-11-10 15:24:35 UTC
        

EMERGE_DEFAULT_OPTS="--ask" without using --verbose will pretty much give you what you want. Even when not using --verbose, changed and new USE flags will still be shown so scanning the package list for interesting changes becomes very quick. If you want _only_ new flags listed, create a small (2-line) script that greps for 'USE=.*%' before running the actual emerge command.




Comment 4


R





          2006-11-11 03:40:52 UTC
        

Fair enough. Doesn't look like there's an easy way around this. I'll try your method anyway.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

