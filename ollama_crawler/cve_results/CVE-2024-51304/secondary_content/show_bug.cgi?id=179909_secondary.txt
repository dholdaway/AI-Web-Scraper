Title: 179909 – dev-python/matplotlib:-0.90.0 segfault w/ python2.5
URL: https://bugs.gentoo.org/show_bug.cgi?id=179909

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 179909
dev-python/matplotlib:-0.90.0 segfault w/ python2.5
Last modified: 2007-05-28 16:04:58 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 179909 
      - dev-python/matplotlib:-0.90.0 segfault w/ python2.5


Summary:
dev-python/matplotlib:-0.90.0 segfault w/ python2.5
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Python Gentoo Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-05-26 18:13 UTC by mephinet





      Modified:
    
2007-05-28 16:04 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


mephinet





          2007-05-26 18:13:10 UTC
        

After having emerged matplotlib-0.90.0, executing the provided examples/histogram_demo.py results in a segmentation violation.

Rebuilt with debugging symbols, heres the backtrace:

 gdb python
(gdb) r examples/histogram_demo.py 
Starting program: /usr/bin/python examples/histogram_demo.py
[Thread debugging using libthread_db enabled]
[New Thread -1211558224 (LWP 10034)]

Program received signal SIGSEGV, Segmentation fault.
[Switching to Thread -1211558224 (LWP 10034)]
0xb6ba1754 in Bbox::ll_api (this=0x7ffffffb) at src/_transforms.h:362
362       Point* ll_api() {return _ll;}
#0  0xb6ba1754 in Bbox::ll_api (this=0x7ffffffb) at src/_transforms.h:362
#1  0xb6ba0f6f in PyAggImagePhoto (clientdata=0x0, interp=0x88607d0, argc=5, argv=0xbf84c320) at src/_tkagg.cpp:86
#2  0xb6ccb316 in TclInvokeStringCommand () from /usr/lib/libtcl8.4.so
#3  0x00000000 in ?? ()

System is revdep-rebuilt.
Also reproducible with other example scripts.

Reproducible: Always

Steps to Reproduce:
python /usr/share/doc/matplotlib-0.90.0/examples/histogram_demo.py
Actual Results:  
Segmentation fault


Expected Results:  
Some histogram showing up

Portage 2.1.2.7 (default-linux/x86/2006.1/desktop, gcc-3.4.6, glibc-2.5-r2, 2.6.20-gentoo-r8 i686)
=================================================================
                        System Settings
=================================================================
System uname: 2.6.20-gentoo-r8 i686 AMD Athlon(TM) XP 2400+
Gentoo Base System release 1.12.9
Timestamp of tree: Sat, 26 May 2007 01:50:01 +0000
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
dev-java/java-config: 1.3.7, 2.0.31-r5
dev-lang/python:     2.3.6-r2, 2.4.4-r4, 2.5.1-r2
dev-python/pycrypto: 2.0.1-r5
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.61
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.16
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.17-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=athlon-xp -fomit-frame-pointer -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/X11/xkb"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c"
CXXFLAGS="-O2 -march=athlon-xp -fomit-frame-pointer -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="distlocks fixpackages metadata-transfer parallel-fetch sandbox sfperms strict userfetch usersandbox"
GENTOO_MIRRORS="http://gentoo.inode.at/ http://gd.tuwien.ac.at/opsys/linux/gentoo/"
LINGUAS="en de"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage /usr/portage/local/layman/oomadness"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="3dnow 3dnowext SVGA X aac aalib acpi aio alsa apache2 artworkextra asf bash-completion berkdb bitmap-fonts branding bzip2 cairo cdparanoia cdr chroot cli cpudetection cracklib crypt cups curl dbus directfb divx divx4linux djvu dmx dri dvd dvdread dvi effects emacs emboss encode escreen exif fam fbcon ffmpeg figlet firefox flac font-server gcj gd gdbm gif gimp gimpprint glade glibc-omitfp glitz glut gmedia gmp gnome gnutls gphoto2 gpm graphviz gs gtk gtk2 hal iconv imagemagick imap innodb ipod isdnlog java javascript jpeg justify latex latin1 ldap libcaca libedit libg++ libnotify libsexy logrotate lzo mad matrox midi mmx mmxext mng motif mozbranding mozdevelop mozdom mozsvg mp3 mpeg mudflap multiuser musepack mysql ncurses new-login nfs nls no-old-linux nptl nptlonly objc objc-gc ocaml offensive ogg openal opengl openmp pam pcre pdf perl pic plugin png postgres postscript ppds pppd python qt3 qt4 quicktime readline real realmedia reflection rtc ruby scanner sdl session shout slang speex spell spl sqlite sse ssl startup-notification stream svg svga symlink sysfs t1lib tcl tcltk tcpd tetex theora tiff tk truetype truetype-fonts type1-fonts usb vidix vim visualization vorbis vorbis-psy win32codecs wma wmp wv x86 xanim xcomposite xforms xine xinerama xml xml2 xorg xprint xrandr xscreensaver xv xvid xvmc zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1 emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" ELIBC="glibc" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en de" USERLAND="GNU" VIDEO_CARDS="ati vesa fbdev radeon"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Sébastien Fabbro (RETIRED)






          2007-05-28 10:01:20 UTC
        

Hi,

Thanks for reporting.
It seems it is something related to the Tk python binding. Please test the examples with modifying the /etc/matplotlibrc file: change TkAgg to GtkAgg, since I see you have the gtk flag enabled.

Sébastien




Comment 2


mephinet





          2007-05-28 16:04:58 UTC
        

Yes, with GtkAgg things work fine. 
So for me, the issue is resolved.
Thank you!









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

