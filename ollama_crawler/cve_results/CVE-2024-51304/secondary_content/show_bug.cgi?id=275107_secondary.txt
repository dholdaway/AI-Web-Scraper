Title: 275107 – media-video/vlc-0.9.8a: snapshot feature dosn't work
URL: https://bugs.gentoo.org/show_bug.cgi?id=275107

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 275107
media-video/vlc-0.9.8a: snapshot feature dosn't work
Last modified: 2010-04-09 10:10:46 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 275107 
      - media-video/vlc-0.9.8a: snapshot feature dosn't work


Summary:
media-video/vlc-0.9.8a: snapshot feature dosn't work
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Alexis Ballier








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-06-22 20:28 UTC by Tanja Milo





      Modified:
    
2010-04-09 10:10 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



media-video
tanja.milo









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Tanja Milo





          2009-06-22 20:28:15 UTC
        

When I try to create a snapshot of a video frame vlc creates an empty .png file. Same with .jpg.

vlc output:
[00000467] main encoder error: no suitable encoder module for fourcc `jpeg'.
VLC probably does not support this image format.

or

[00000467] main encoder error: no suitable encoder module for fourcc `png '.
VLC probably does not support this image format.



Reproducible: Always

Steps to Reproduce:
1. fire up vlc
2. watch some footage
3. take a snapshot

Actual Results:  
vlc creates a 0 B .png

Expected Results:  
a snapshot from the current video frame




Comment 1


Tanja Milo





          2009-06-22 20:31:27 UTC
        

Portage 2.1.6.13 (default/linux/x86/2008.0, gcc-4.3.2, glibc-2.8_p20080602-r1, 2.6.28-gentoo-r5 i686)
=================================================================
System uname: Linux-2.6.28-gentoo-r5-i686-Intel-R-_Pentium-R-_M_processor_2.00GHz-with-glibc2.0
Timestamp of tree: Mon, 22 Jun 2009 14:15:01 +0000
app-shells/bash:     3.2_p39
dev-java/java-config: 2.1.7
dev-lang/python:     2.5.4-r2
dev-util/cmake:      2.6.4
sys-apps/baselayout: 1.12.11.1
sys-apps/sandbox:    1.6-r2
sys-devel/autoconf:  2.13, 2.63
sys-devel/automake:  1.5, 1.7.9-r1, 1.9.6-r2, 1.10.2
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.27-r2
ACCEPT_KEYWORDS="x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=pentium-m -O2 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/config"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-march=pentium-m -O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="distlocks fixpackages parallel-fetch protect-owned sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="ftp://ftp.tu-clausthal.de/pub/linux/gentoo/ http://linux.rz.ruhr-uni-bochum.de/download/gentoo-mirror/ ftp://linux.rz.ruhr-uni-bochum.de/gentoo-mirror/ http://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/ ftp://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/ http://ftp.spline.inf.fu-berlin.de/mirrors/gentoo/ ftp://ftp.spline.inf.fu-berlin.de/mirrors/gentoo/ "
LANG="en_US.utf8"
LDFLAGS="-Wl,-O1"
LINGUAS="en"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="7zip X a52 aac acl acpi alsa apm bash-completion berkdb bluetooth bzip2 cdparanoia cdr cjk cli cracklib crypt css cups dbus dri dts dv dvd dvdr dvdread exif fbcon ffmpeg firefox flac fontconfig fortran ftp gdbm gif gimp gpm gtk hal hddtemp iconv idn ieee1394 imagemagic imlib ipv6 isdnlog jbig jpeg jpeg2k kpathsea lame latex lcms ldap libnotify lm_sensors logrotate mad matroska midi mikmod mime mmap mmx mng motif mp3 mpeg mudflap ncurses nls nptl nptlonly ogg opengl openmp pam pcmcia pcre pda pdf perl png pppd python raw readline reflection scanner sdl session speex spl sse sse2 ssl startup-notification suid svg svga symlink sysfs syslog tcpd tetex theora tiff truetype type1 unicode vcd vidix vorbis wavpack wifi win32codecs wma x264 x86 xine xml xorg xpm xscreensaver xv xvid xvmc zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1 emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="keyboard mouse synaptics joystick evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en" USERLAND="GNU" VIDEO_CARDS="radeon"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LC_ALL, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 2


Daniel Pielmeier






          2009-06-27 13:27:31 UTC
        

Works fine here. Probably you are missing some use flags. Can you post the output of "emerge -pv vlc ffmpeg" 




Comment 3


Lars Wendler (Polynomial-C) (RETIRED)






          2009-07-04 12:30:24 UTC
        

I have the same problem. Here's the output of the requested emerge command:

# emerge -pqv vlc ffmpeg
[ebuild   R   ] media-video/ffmpeg-0.5-r1  USE="3dnow 3dnowext X alsa (-altivec) -amr -bindist -custom-cflags -debug -dirac -doc encode -faac -faad -gsm hardcoded-tables -ieee1394 -ipv6 jpeg2k mmx mmxext mp3 -network -oss -schroedinger sdl -speex ssse3 -test theora threads -v4l -v4l2 -vhook vorbis x264 xvid zlib"
[ebuild   R   ] media-video/vlc-0.9.9a-r1  USE="X a52 aac -aalib alsa (-altivec) -arts -atmo -avahi -bidi cdda -cddax -cddb -cdio dbus -dc1394 -debug dirac -directfb -dts -dvb dvd -esd -fbcon ffmpeg flac -fluidsynth -fontconfig gcrypt%* -ggi -gnome gnutls (-hal) -httpd -id3tag -jack -kate -libass -libcaca (-libgcrypt%*) libnotify -libsysfs -libv4l2 -lirc -live -lua -matroska mmx -modplug mp3 mpeg -musepack ncurses nsplugin ogg opengl -optimisememory -oss -pda png -pulseaudio -pvr qt4 -remoteosd -rtsp -run-as-root -samba -schroedinger sdl -sdl-image -seamonkey -shout -skins -speex sse -stream svg (-svga) -taglib theora truetype -twolame -upnp -v4l -v4l2 -vcdinfo -vcdx -vlm vorbis (-win32codecs) x264 -xinerama xml -xosd xv -zvbi"




Comment 4


Daniel Pielmeier






          2009-07-04 14:03:09 UTC
        

Here are my use flags. At the first glance I see nothing that could cause this, but you can try with this configuration if you want.

emerge -qpv ffmpeg
[ebuild   R   ] media-video/ffmpeg-0.5-r1  USE="3dnow 3dnowext X alsa (-altivec) amr -bindist -custom-cflags -debug dirac -doc encode faac faad gsm hardcoded-tables ieee1394 ipv6 jpeg2k mmx mmxext mp3 network oss schroedinger sdl speex ssse3 -test theora threads v4l v4l2 vhook vorbis x264 xvid zlib" 

emerge -qpv vlc
[ebuild   R   ] media-video/vlc-0.9.9a-r1  USE="X a52 aac aalib alsa (-altivec) -arts atmo -avahi bidi cdda cddax cddb cdio dbus dc1394 -debug dirac directfb dts dvb dvd -esd fbcon ffmpeg flac fluidsynth fontconfig gcrypt ggi -gnome gnutls hal -httpd id3tag jack kate libass libcaca libnotify -libsysfs libv4l2 -lirc live -lua matroska mmx modplug mp3 mpeg musepack ncurses nsplugin ogg opengl -optimisememory oss -pda png pulseaudio pvr qt4 remoteosd rtsp -run-as-root -samba schroedinger sdl sdl-image -seamonkey shout skins speex sse stream svg -svga taglib theora truetype twolame -upnp v4l v4l2 vcdinfo vcdx vlm vorbis win32codecs x264 -xinerama xml xosd xv zvbi" 

There are two configure switches that might affect this issue but "--enable-screen" is tied to the X use flag which we both have enabled and "--enable-snapshot" is disabled in the ebuild.

What about making a backup of all config files regarding vlc and trying with an empty configuration. A quick search gave me the following paths in my homedir: $HOME/.local/share/vlc, $HOME/.cache/vlc and $HOME/.config/vlc.

From the encoder error it does not look like a configuration issue but who knows. If this does not help I think it is time to assign the bug to the maintainers :)




Comment 5


Alexis Ballier






          2009-07-05 15:01:58 UTC
        

weird, it works fine here. it uses ffmpeg.
Can you try this:

ffmpeg -formats | grep png

to see if your ffmpeg supports png first.

Here I get:
 DEV D  png             PNG image




Comment 6


Alexis Ballier






          2010-04-09 10:10:46 UTC
        

(In reply to comment #5)
> weird, it works fine here. it uses ffmpeg.
> Can you try this:
> 
> ffmpeg -formats | grep png
> 
> to see if your ffmpeg supports png first.
> 
> Here I get:
>  DEV D  png             PNG image
> 











Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

