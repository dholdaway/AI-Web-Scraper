Title: 159945 – dev-util/elfkickers-2.0a-r1 fails
URL: https://bugs.gentoo.org/show_bug.cgi?id=159945

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 159945
dev-util/elfkickers-2.0a-r1 fails
Last modified: 2007-01-05 02:55:21 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 159945 
      - dev-util/elfkickers-2.0a-r1 fails


Summary:
dev-util/elfkickers-2.0a-r1 fails
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

solar (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-01-04 04:15 UTC by Patrizio Bassi





      Modified:
    
2007-01-05 02:55 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



hardened









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Patrizio Bassi





          2007-01-04 04:15:27 UTC
        

cc -O2 -pipe -W -o rebind rebind.c
In file included from /usr/include/asm/processor.h:8,
                 from /usr/include/asm-x86_64/elf.h:10,
                 from /usr/include/asm/elf.h:8,
                 from /usr/include/linux/elf.h:6,
                 from rebind.c:11:
/usr/include/asm-x86_64/processor.h:70: error: expected specifier-qualifier-list before &#8216;cpumask_t&#8217;
make[1]: *** [rebind] Error 1
make[1]: Leaving directory `/var/tmp/portage/dev-util/elfkickers-2.0a-r1/work/ELFkickers/rebind'
/var/tmp/portage/dev-util/elfkickers-2.0a-r1/work/ELFkickers
make[1]: Entering directory `/var/tmp/portage/dev-util/elfkickers-2.0a-r1/work/ELFkickers/sstrip'
cc -O2 -pipe -W -o sstrip sstrip.c
sstrip.c: In function &#8216;getmemorysize32&#8217;:
sstrip.c:381: warning: comparison between signed and unsigned



Portage 2.1.2_rc4 (default-linux/amd64/2006.1, gcc-4.1.1, glibc-2.5-r0, 2.6.19.1 x86_64)
=================================================================
System uname: 2.6.19.1 x86_64 Intel(R) Core(TM)2 CPU          6300  @ 1.86GHz
Gentoo Base System version 1.12.8
Last Sync: Thu, 04 Jan 2007 11:30:01 +0000
distcc 2.18.3 x86_64-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
ccache version 2.4 [disabled]
dev-java/java-config: 1.3.7, 2.0.31
dev-lang/python:     2.4.4
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     2.4-r6
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.61
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.17
sys-devel/gcc-config: 1.3.13-r3
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.17-r2
ACCEPT_KEYWORDS="amd64 ~amd64 ~x86"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /etc/mail/dspam /opt/openjms/config /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/lib/mozilla/defaults/pref /usr/share/X11/xkb /usr/share/config /var/bind /var/run/dspam"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/eselect/compiler /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/splash /etc/terminfo /etc/texmf/web2c"
CXXFLAGS="-O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks fixpackages metadata-transfer parallel-fetch sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LANG="39"
LC_ALL="it_IT.utf8"
LINGUAS="it"
MAKEOPTS="-j4"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="amd64 X X509 Xaw3d a52 aac aalib accessibility acl acpi activefilter adns aiglx alsa alsa_cards_ali5451 alsa_cards_als4000 alsa_cards_atiixp alsa_cards_atiixp-modem alsa_cards_bt87x alsa_cards_ca0106 alsa_cards_cmipci alsa_cards_emu10k1x alsa_cards_ens1370 alsa_cards_ens1371 alsa_cards_es1938 alsa_cards_es1968 alsa_cards_fm801 alsa_cards_hda-intel alsa_cards_intel8x0 alsa_cards_intel8x0m alsa_cards_maestro3 alsa_cards_trident alsa_cards_usb-audio alsa_cards_via82xx alsa_cards_via82xx-modem alsa_cards_ymfpci alsa_pcm_plugins_adpcm alsa_pcm_plugins_alaw alsa_pcm_plugins_asym alsa_pcm_plugins_copy alsa_pcm_plugins_dmix alsa_pcm_plugins_dshare alsa_pcm_plugins_dsnoop alsa_pcm_plugins_empty alsa_pcm_plugins_extplug alsa_pcm_plugins_file alsa_pcm_plugins_hooks alsa_pcm_plugins_iec958 alsa_pcm_plugins_ioplug alsa_pcm_plugins_ladspa alsa_pcm_plugins_lfloat alsa_pcm_plugins_linear alsa_pcm_plugins_meter alsa_pcm_plugins_mulaw alsa_pcm_plugins_multi alsa_pcm_plugins_null alsa_pcm_plugins_plug alsa_pcm_plugins_rate alsa_pcm_plugins_route alsa_pcm_plugins_share alsa_pcm_plugins_shm alsa_pcm_plugins_softvol amuled apache2 apm asf audiofile bash-completion berkdb bidi bitmap-fonts bootsplash browserplugin bzip2 cairo caps cdda cddb cdio cdparanoia cdr cgi chroot clamav cli client codecs cracklib crypt css cups curl dba dbus dga dhcp directfb djbfft dri dvdr edl elibc_glibc encode ethereal exif expat extraengine faac faad fam fastbuild fbcon ffmpeg fftw firefox flac flash foreign-package fortran ftp gcc64 gcj gd gdbm geometry ggi gif gimp gimpprint glibc-omitfp glut glx gnokii gnome gnutls gphoto2 gpm graphviz gs gtk gtk2 gtkhtml guile h264 hal iconv idea idn imagemagick imap innodb input_devices_evdev input_devices_keyboard input_devices_mouse ipod irda irmc isdnlog jack java java5 javamail javascript jikes jit joystick jpeg jpeg2k junit justify kde kdeenablefinal kdehiddenvisibility kerberos kernel_linux kqemu lame lcd lcms ldap libcaca libclamav libg++ libgda libusb linguas_it lirc live lm_sensors lua lzo mailwrapper matroska md5sum mdb mhash mikmod mime mmx2 mng mono mozcalendar mozdevelop mozilla mozsvg mozxmlterm mp3 mp4 mp4live mpeg mpeg2 mpeg4 mplayer mpm-prefork msn msnextras musepack mysql mysqli mythtv nagios-dns nagios-ntp nagios-ping nagios-ssh ncurses neXt network ngui nls nntp no_wxgtk1 nobsh nopie nossp noxalan nptl nptlonly nsplugin nv nvidia oav odbc ogg openal opengl openssl operanom2 pam pcre pda pdf pdo pear perl php pmu png pnp postgres ppds pppd pthreads python qemu-fast qhull qt3 qt4 quotas readline reflection rrdtool rtc ruby samba scanner sdl server session sftplogging sguil slang slp smp snortsam soap sockets socks5 softmmu softquota spamassassin speex spl sqlite3 sse3 ssl ssse3 subject-rewrite svg tcltk tcpd tetex tga theora tiff tokenizer truetype truetype-fonts trusted type1-fonts udev unicode usb userland_GNU userlocales video_cards_fbdev video_cards_nv video_cards_nvidia video_cards_vesa video_cards_vga vorbis wma wmf wmv wsconvert wxwindows x264 xanim xchatdccserver xchattext xcomposite xine xinerama xml xml2 xmlrpc xorg xosd xpm xprint xsl xv xvid xvm xvmc zlib"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LDFLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY




Comment 1


solar (RETIRED)






          2007-01-04 09:49:05 UTC
        

Works fine here using 2.6.18.

Make sure you headers are current.


mirrors ~ # emerge elfkickers    
Calculating dependencies... done!

>>> Emerging (1 of 1) dev-util/elfkickers-2.0a to /
>>> Downloading 'http://distfiles.gentoo.org/distfiles/ELFkickers-2.0a.tar.gz'
--09:46:54--  http://distfiles.gentoo.org/distfiles/ELFkickers-2.0a.tar.gz
           => `/usr/portage/distfiles/ELFkickers-2.0a.tar.gz'
Resolving distfiles.gentoo.org... 216.165.129.135, 64.50.236.52, 64.50.238.52, ...
Connecting to distfiles.gentoo.org|216.165.129.135|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 119,659 (117K) [application/x-gzip]

100%[=======================================================================================================================================>] 119,659      429.03K/s             

09:46:54 (428.28 KB/s) - `/usr/portage/distfiles/ELFkickers-2.0a.tar.gz' saved [119659/119659]

 * checking ebuild checksums ;-) ...                                                                                                                                         [ ok ] * checking auxfile checksums ;-) ...                                                                                                                                        [ ok ] * checking miscfile checksums ;-) ...                                                                                                                                       [ ok ] * checking ELFkickers-2.0a.tar.gz ;-) ...                                                                                                                                   [ ok ]>>> root -sandbox(setup)
>>> root +sandbox(unpack)
>>> Unpacking source...
>>> Unpacking ELFkickers-2.0a.tar.gz to /var/tmp/portage/elfkickers-2.0a/work
 * Applying elfkickers-2.0a.diff ...                                                                                                                                         [ ok ]>>> Source unpacked.
>>> root +sandbox(compile)
>>> Compiling source in /var/tmp/portage/elfkickers-2.0a/work/ELFkickers ...
for d in elfls  elftoc  rebind  sstrip  ; do cd $d ; CFLAGS="-march=k8 -fomit-frame-pointer -O2 -pipe" CC=cc make ; cd - ; done
make[1]: Entering directory `/var/tmp/portage/elfkickers-2.0a/work/ELFkickers/elfls'
cc -march=k8 -fomit-frame-pointer -O2 -pipe -W -o elfls elfls.c
make[1]: Leaving directory `/var/tmp/portage/elfkickers-2.0a/work/ELFkickers/elfls'
/var/tmp/portage/elfkickers-2.0a/work/ELFkickers
make[1]: Entering directory `/var/tmp/portage/elfkickers-2.0a/work/ELFkickers/elftoc'
cc -march=k8 -fomit-frame-pointer -O2 -pipe   -c -o elftoc.o elftoc.c
cc -march=k8 -fomit-frame-pointer -O2 -pipe   -c -o pieces.o pieces.c
cc -march=k8 -fomit-frame-pointer -O2 -pipe   -c -o addr.o addr.c
cc -march=k8 -fomit-frame-pointer -O2 -pipe   -c -o shdrtab.o shdrtab.c
cc -march=k8 -fomit-frame-pointer -O2 -pipe   -c -o dynamic.o dynamic.c
cc -march=k8 -fomit-frame-pointer -O2 -pipe   -c -o outbasic.o outbasic.c
cc -march=k8 -fomit-frame-pointer -O2 -pipe   -c -o outtools.o outtools.c
cc -march=k8 -fomit-frame-pointer -O2 -pipe   -c -o out.o out.c
cc -Wl,-O1 -Wl,-z,now -Wl,-z,relro  elftoc.o pieces.o addr.o shdrtab.o dynamic.o outbasic.o outtools.o out.o   -o elftoc
make[1]: Leaving directory `/var/tmp/portage/elfkickers-2.0a/work/ELFkickers/elftoc'
/var/tmp/portage/elfkickers-2.0a/work/ELFkickers
make[1]: Entering directory `/var/tmp/portage/elfkickers-2.0a/work/ELFkickers/rebind'
cc -march=k8 -fomit-frame-pointer -O2 -pipe -W -o rebind rebind.c
make[1]: Leaving directory `/var/tmp/portage/elfkickers-2.0a/work/ELFkickers/rebind'
/var/tmp/portage/elfkickers-2.0a/work/ELFkickers
make[1]: Entering directory `/var/tmp/portage/elfkickers-2.0a/work/ELFkickers/sstrip'
cc -march=k8 -fomit-frame-pointer -O2 -pipe -W -o sstrip sstrip.c
sstrip.c: In function 'getmemorysize':
sstrip.c:138: warning: assignment from incompatible pointer type
sstrip.c: In function 'modifyheaders':
sstrip.c:205: warning: assignment from incompatible pointer type
sstrip.c: In function 'main':
sstrip.c:271: warning: 'phdrs' may be used uninitialized in this function
make[1]: Leaving directory `/var/tmp/portage/elfkickers-2.0a/work/ELFkickers/sstrip'
/var/tmp/portage/elfkickers-2.0a/work/ELFkickers
>>> Source compiled.
>>> Test phase [not enabled]: dev-util/elfkickers-2.0a

>>> Install elfkickers-2.0a into /var/tmp/portage/elfkickers-2.0a/image/ category dev-util
>>> Completed installing elfkickers-2.0a into /var/tmp/portage/elfkickers-2.0a/image/

man:
gzipping man page: ebfc.1
gzipping man page: elfls.1
strip: x86_64-pc-linux-gnu-strip --strip-unneeded
   usr/bin/elfls
   usr/bin/elftoc
   usr/bin/rebind
   usr/bin/sstrip
>>> Merging dev-util/elfkickers-2.0a to /
--- /usr/
--- /usr/share/
--- /usr/share/doc/
>>> /usr/share/doc/elfkickers-2.0a/
>>> /usr/share/doc/elfkickers-2.0a/README.elfls.gz
>>> /usr/share/doc/elfkickers-2.0a/Changelog.gz
>>> /usr/share/doc/elfkickers-2.0a/README.elftoc.gz
>>> /usr/share/doc/elfkickers-2.0a/README.rebind.gz
>>> /usr/share/doc/elfkickers-2.0a/README.sstrip.gz
>>> /usr/share/doc/elfkickers-2.0a/README.gz
>>> /usr/share/doc/elfkickers-2.0a/elfparts.txt.gz
--- /usr/share/man/
--- /usr/share/man/man1/
>>> /usr/share/man/man1/ebfc.1.gz
>>> /usr/share/man/man1/elfls.1.gz
--- /usr/bin/
>>> /usr/bin/elfls
>>> /usr/bin/elftoc
>>> /usr/bin/rebind
>>> /usr/bin/sstrip
>>> root +sandbox(postinst)
>>> Regenerating /etc/ld.so.cache...
>>> dev-util/elfkickers-2.0a merged.
>>> Recording dev-util/elfkickers in "world" favorites file...

>>> No packages selected for removal by clean.

>>> Auto-cleaning packages...

>>> No outdated packages were found on your system.


 * GNU info directory index is up-to-date.






Comment 2


Patrizio Bassi





          2007-01-05 02:55:21 UTC
        

you're right now it works.

i close the bug









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

