Title: 101185 – sandbox violation when emerging php, tries to access /var/lib/net-snmp/snmpapp.conf
URL: https://bugs.gentoo.org/show_bug.cgi?id=101185

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 101185
sandbox violation when emerging php, tries to access /var/lib/net-snmp/snmpapp.conf
Last modified: 2005-08-25 09:42:49 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 101185 
      - sandbox violation when emerging php, tries to access /var/lib/net-snmp/snmpapp.conf


Summary:
sandbox violation when emerging php, tries to access /var/lib/net-snmp/snmpap...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       blocker
      


Assignee:

PHP Bugs








URL:







Whiteboard:




Keywords:









Duplicates (1):
    

101859

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2005-08-03 04:12 UTC by Rune Schjellerup





      Modified:
    
2005-08-25 09:42 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



riklaunim
tamrix









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Rune Schjellerup





          2005-08-03 04:12:42 UTC
        

When the compilation is all finished and the install phase of the ebuild starts  
Installing PEAR environment: 
... 
ACCESS DENIED  open_wr:   /var/lib/net-snmp/snmpapp.conf 
read_config_store open failure on //var/lib/net-snmp/snmpapp.conf 

Reproducible: Always
Steps to Reproduce:
1. emerge php 
2. 
3. 
 
Actual Results:  
>>> Install php-5.0.4-r1 into /var/tmp/portage/php-5.0.4-r1/image/ category 
dev-php 
Installing PHP CLI binary:        /var/tmp/portage/php-5.0.4-r1/image//usr/bin/ 
Installing PHP CLI man 
page:      /var/tmp/portage/php-5.0.4-r1/image//usr/share/man/man1/ 
Installing PEAR 
environment:      /var/tmp/portage/php-5.0.4-r1/image//usr/share/php/ 
[PEAR] Archive_Tar    - installed: 1.1 
[PEAR] Console_Getopt - installed: 1.2 
[PEAR] PEAR           - installed: 1.3.5 
Wrote PEAR system config file 
at: /var/tmp/portage/php-5.0.4-r1/image///etc/pear.conf 
You may want to add: /usr/share/php to your php.ini include_path 
ACCESS DENIED  open_wr:   /var/lib/net-snmp/snmpapp.conf 
No log handling enabled - turning on stderr logging 
read_config_store open failure on //var/lib/net-snmp/snmpapp.conf 
ACCESS DENIED  open_wr:   /var/lib/net-snmp/snmpapp.conf 
read_config_store open failure on //var/lib/net-snmp/snmpapp.conf 
ACCESS DENIED  open_wr:   /var/lib/net-snmp/snmpapp.conf 
read_config_store open failure on //var/lib/net-snmp/snmpapp.conf 
[PEAR] HTML_Template_IT- installed: 1.1 
[PEAR] Net_UserAgent_Detect- installed: 2.0.1 
[PEAR] XML_RPC        - installed: 1.2.2 
ACCESS DENIED  open_wr:   /var/lib/net-snmp/snmpapp.conf 
No log handling enabled - turning on stderr logging 
read_config_store open failure on //var/lib/net-snmp/snmpapp.conf 
ACCESS DENIED  open_wr:   /var/lib/net-snmp/snmpapp.conf 
read_config_store open failure on //var/lib/net-snmp/snmpapp.conf 
ACCESS DENIED  open_wr:   /var/lib/net-snmp/snmpapp.conf 
read_config_store open failure on //var/lib/net-snmp/snmpapp.conf 
Installing build 
environment:     /var/tmp/portage/php-5.0.4-r1/image//usr/lib/php/build/ 
Installing header 
files:          /var/tmp/portage/php-5.0.4-r1/image//usr/include/php/ 
Installing helper programs:       /var/tmp/portage/php-5.0.4-r1/image//usr/bin/ 
  program: phpize 
  program: php-config 
  program: phpextdist 
make: `install-cli' is up to date. 
make: Nothing to be done for `install'. 
make: `install-cli' is up to date. 
make: Nothing to be done for `install'. 
make: `install-cli' is up to date. 
make: Nothing to be done for `install'. 
make: `install-cli' is up to date. 
make: Nothing to be done for `install'. 
make: `install-cli' is up to date. 
 * Setting extension_dir in php.ini 
 * Setting correct include_path 
man: 
gzipping man page: php.1 
prepallstrip: 
strip: i686-pc-linux-gnu-strip --strip-unneeded 
strip: i686-pc-linux-gnu-strip --strip-unneeded 
   usr/bin/php 
>>> Completed installing php-5.0.4-r1 into /var/tmp/portage/php-5.0.4-r1/image/ 
 
--------------------------- ACCESS VIOLATION SUMMARY 
--------------------------- 
LOG FILE = "/var/log/sandbox/sandbox-dev-php_-_php-5.0.4-r1-32573.log" 
 
open_wr:   /var/lib/net-snmp/snmpapp.conf 
open_wr:   /var/lib/net-snmp/snmpapp.conf 
open_wr:   /var/lib/net-snmp/snmpapp.conf 
open_wr:   /var/lib/net-snmp/snmpapp.conf 
open_wr:   /var/lib/net-snmp/snmpapp.conf 
open_wr:   /var/lib/net-snmp/snmpapp.conf 
-------------------------------------------------------------------------------- 
rs ~ # 
 


Portage 2.0.51.22-r2 (default-linux/x86/2005.0, gcc-3.3.5-20050130, 
glibc-2.3.5-r0, 2.6.12-gentoo-r6 i686) 
================================================================= 
System uname: 2.6.12-gentoo-r6 i686 Intel(R) Pentium(R) 4 CPU 2.40GHz 
Gentoo Base System version 1.6.13 
distcc 2.16 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) 
[disabled] 
dev-lang/python:     2.3.5 
sys-apps/sandbox:    1.2.11 
sys-devel/autoconf:  2.13, 2.59-r6 
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.5 
sys-devel/binutils:  2.15.92.0.2-r10 
sys-devel/libtool:   1.5.18-r1 
virtual/os-headers:  2.6.11-r2 
ACCEPT_KEYWORDS="x86" 
AUTOCLEAN="yes" 
CBUILD="i686-pc-linux-gnu" 
CFLAGS="-O2 -march=pentium4 -pipe -fomit-frame-pointer" 
CHOST="i686-pc-linux-gnu" 
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.3/env /usr/kde/3.3/share/config /usr/kde/3.3/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/share/config /var/qmail/control" 
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d" 
CXXFLAGS="-O2 -march=pentium4 -pipe -fomit-frame-pointer" 
DISTDIR="/usr/portage/distfiles" 
FEATURES="autoconfig distlocks fixpackages parallel-fetch sandbox sfperms 
strict" 
GENTOO_MIRRORS="http://mirror.esoft.dk/gentoo 
http://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/ 
ftp://mirrors.sec.informatik.tu-darmstadt.de/gentoo/ 
ftp://sunsite.informatik.rwth-aachen.de/pub/Linux/gentoo 
http://ftp.snt.utwente.nl/pub/os/linux/gentoo" 
LINGUAS="da" 
MAKEOPTS="-j2" 
PKGDIR="/usr/portage/packages" 
PORTAGE_TMPDIR="/var/tmp" 
PORTDIR="/usr/portage" 
PORTDIR_OVERLAY="/usr/local/esoft-portage" 
SYNC="rsync://mirror.esoft.dk/gentoo-portage" 
USE="x86 X alsa apache2 apm arts avi bash-completion bcmath berkdb bitmap-fonts 
bzlib calendar crypt ctype cups curl dba emboss encode exif fam flac flash 
foomaticdb fortran ftp gd gdbm gif gpm graphviz gtk2 iconv imagemagick imap 
imlib ipv6 jabber java jbig jpeg junit kde lcms libg++ libwww mad mhash mikmod 
mime ming mmxmotif mozilla mozsvg mp3 mpeg msn mysql ncurses nls odbc ogg 
oggvorbis opengl oss pam pcntl pcre pdflib perl php png posix postgres python 
qt quicktime readline samba sdl session slang snmp soap sockets spell spl sse 
sse2 ssl svga tcpd tidy tiff truetype truetype-fonts type1-fonts unicode usb 
vorbis wmf xine xml xml2 xmmsxsl xv zlib linguas_da userland_GNU kernel_linux 
elibc_glibc" 
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS




Comment 1


Andy Wang





          2005-08-05 07:35:13 UTC
        

While you're at it, please fix bug 98694.  It still doesn't work because the
addpredict for krb5.conf needs to be in both install() and compile() functions.




Comment 2


Jakub Moc (RETIRED)






          2005-08-09 06:58:46 UTC
        

*** Bug 101859 has been marked as a duplicate of this bug. ***




Comment 3


Vlad Berditchevskiy





          2005-08-19 11:43:06 UTC
        

I've got the same problem. I deleted snmpapp.conf, but it didn't help.




Comment 4


Jakub Moc (RETIRED)






          2005-08-25 06:06:56 UTC
        

The patch from Bug 88843 should work here.




Comment 5


Luca Longinotti (RETIRED)






          2005-08-25 09:41:38 UTC
        

Works with sandbox 1.2.12. Not reproducible in the new overlay (link:
http://svn.gnqs.org/projects/gentoo-php-overlay/ ), there it works.




Comment 6


Jakub Moc (RETIRED)






          2005-08-25 09:42:49 UTC
        

Closing.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

