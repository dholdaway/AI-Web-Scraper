Title: 81063 – emerging e2fsprogs-1.36 check failed
URL: https://bugs.gentoo.org/show_bug.cgi?id=81063

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 81063
emerging e2fsprogs-1.36 check failed
Last modified: 2005-02-06 20:37:03 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 81063 
      - emerging e2fsprogs-1.36 check failed


Summary:
emerging e2fsprogs-1.36 check failed
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo's Team for Core System packages








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-02-06 20:01 UTC by Chris





      Modified:
    
2005-02-06 20:37 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



hardened









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




config.log

              (config.log,170.15 KB,
                text/plain)

            
2005-02-06 20:11 UTC,

            Chris




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Chris





          2005-02-06 20:01:03 UTC
        

I tried emerging 1.35r-1 but I get error like in bug#80567
so I tried to merge 1.36

Not sure if I need this because I don't have a ext2 filesystem...

checking whether llseek is declared... yes
checking whether lseek64 is declared... yes
checking for short... yes
checking size of short... configure: error: cannot compute sizeof (short), 77
See `config.log' for more details.

!!! Please attach the config.log to your bug report:
!!! /var/tmp/portage/e2fsprogs-1.36/work/e2fsprogs-1.36/config.log

!!! ERROR: sys-fs/e2fsprogs-1.36 failed.
!!! Function econf, Line 485, Exitcode 0

Reproducible: Always
Steps to Reproduce:
1. emerge sync
2. ACCEPT_KEYWORDS="~x86" emerge -p =e2fsprogs-1.36
[ebuild     U ] sys-fs/e2fsprogs-1.36 [1.35-r1]
3. ACCEPT_KEYWORDS="~x86" emerge =e2fsprogs-1.36
Calculating dependencies ...done!
>>> emerge (1 of 1) sys-fs/e2fsprogs-1.36 to /
Actual Results:  
check failed

Expected Results:  
program merged

redbarn ~ # emerge info
Portage 2.0.51-r15 (default-linux/x86/2004.3, gcc-3.4.3,
glibc-2.3.4.20041102-r0, 2.6.10-gentoo-r6 i686)
=================================================================
System uname: 2.6.10-gentoo-r6 i686 Intel(R) Celeron(R) CPU 2.00GHz
Gentoo Base System version 1.6.9
Python:              dev-lang/python-2.3.4 [2.3.4 (#1, Feb  6 2005, 12:23:12)]
dev-lang/python:     2.3.4
sys-devel/autoconf:  2.59-r6, 2.13
sys-devel/automake:  1.7.9-r1, 1.8.5-r3, 1.5, 1.4_p6, 1.6.3, 1.9.4
sys-devel/binutils:  2.15.92.0.2-r2
sys-devel/libtool:   1.5.10-r4
virtual/os-headers:  2.6.8.1-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CFLAGS="-march=pentium2 -O2 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config
/usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-march=pentium2 -O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig buildpkg ccache distlocks fixpackages notitles
sandbox sfperms userpriv"
GENTOO_MIRRORS="ftp:///ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/
http://gentoo.mirrors.pair.com/ http://adelie.polymtl.ca/"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X aalib acpi alsa apache2 apm bash-completion bcmath berkdb bitmap-fonts
bzlib caps cdr cpdflib crypt ctype curl curlwrappers dba dbase dbm dbx debug
dedicated diet dio exif f77 fbcon flatfile font-server fortran ftp gdbm geoip
gif glut gnome gnustep gnutls gpm gtk gtk2 guile hal hardened hardenedphp
imagemagick imlib innodb java javascript jikes jpeg junit kerberos krb4 lcms
libcaca libg++ libgda libwww mikmod mmx motif mysql mysqli ncurses nls nptl odbc
opengl pam pcre pdflib perl php pic pie png python qt readline sasl sdl see
session snmp soap sockets spell spl ssl svg svga tcltk tcpd test tiff tokenizer
truetype truetype-fonts type1-fonts unicode usb x86 xml xml2 xmlrpc xsl xv zlib"
Unset:  ASFLAGS, CBUILD, CTARGET, LANG, LC_ALL, LDFLAGS, PORTDIR_OVERLAY

redbarn ~ # gcc-config -l
[1] i386-pc-linux-gnu-3.3.4
[2] i686-pc-linux-gnu-3.4.3 *
[3] i686-pc-linux-gnu-3.4.3-hardenednopie
[4] i686-pc-linux-gnu-3.4.3-hardenednossp
[5] i686-pc-linux-gnu-3.4.3-vanilla




Comment 1


Chris





          2005-02-06 20:11:00 UTC
        

Created attachment 50596 [details]
config.log




Comment 2


solar (RETIRED)






          2005-02-06 20:31:48 UTC
        

based on the error in your config.log you need to remove the USE=diet flag from 
your make.conf and or rebuild dietlibc with the hardened use flag and maybe ~arch it.

Also I notice you have USE=hardened set but your using a 2.6.10-gentoo-r6 kernel. 
I'm not sure if this kernel supports PaX ASLR or not. If it does not 
then outside of getting SSP in an obscure mannor then there is not really much 
point in using the hardened use flag. 

If you want to go the gentoo hardened route then I'd suggest you build with 
USE="-diet" emerge binutils glibc e2fsprogs 
Be sure that gcc passes all checks and you have no  __guard@GCC symbols on your system.




Comment 3


solar (RETIRED)






          2005-02-06 20:34:53 UTC
        

And use hardened-dev-sources for your 2.6.x desires. 
hardened-dev-sources will become hardened-sources-2.6.x post 2005.0 




Comment 4


Chris





          2005-02-06 20:35:42 UTC
        

added -diet use flags 




Comment 5


Chris





          2005-02-06 20:37:03 UTC
        

Thanks!









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

