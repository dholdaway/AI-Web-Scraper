Title: 123566 – xf86-video-vesa 1.0.1.3 fails to compile
URL: https://bugs.gentoo.org/show_bug.cgi?id=123566

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 123566
xf86-video-vesa 1.0.1.3 fails to compile
Last modified: 2006-02-21 11:07:14 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 123566 
      - xf86-video-vesa 1.0.1.3 fails to compile


Summary:
xf86-video-vesa 1.0.1.3 fails to compile
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo X packagers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-02-20 18:37 UTC by Devon Warren





      Modified:
    
2006-02-21 11:07 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Devon Warren





          2006-02-20 18:37:57 UTC
        

emerge --info
Portage 2.1_pre4-r1 (default-linux/amd64/2005.1, gcc-3.4.5, glibc-2.3.6-r3, 2.6.14-gentoo-r5 x86_64)
=================================================================
System uname: 2.6.14-gentoo-r5 x86_64 AMD Athlon(tm) 64 Processor 3700+
Gentoo Base System version 1.12.0_pre15
distcc 2.18.3 x86_64-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
ccache version 2.4 [disabled]
dev-lang/python:     2.3.5-r2, 2.4.2-r1
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1-r1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r3
ACCEPT_KEYWORDS="amd64 ~amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=k8 -O3 -pipe -msse3"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/kde/3/share/config /usr/lib64/mozilla/defaults/pref /usr/share/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/splash /etc/terminfo /etc/texmf/web2c /etc/env.d"
CXXFLAGS="-march=k8 -O3 -pipe -msse3"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://mirrors.acm.cs.rpi.edu/gentoo/ http://www.gtlib.gatech.edu/pub/gentoo http://gentoo.mirrors.pair.com/ http://mirror.datapipe.net/gentoo"
MAKEOPTS="-j2"
PKGDIR="/usr/local/portage/bin"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage /usr/local/xgl-overlay"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="amd64 3ds 7zip X X509 a52 aac aalib accessibility acpi aim aimextras aio akode allegro alsa amarok amd ao apache2 applet arts artswrappersuid artworkextra asf async atk atlas audiofile automount avi bash-completion bcmath bdf berkdb bitmap-fonts bittorrent bl blender-game bootsplash bzip2 c++ cairo calendar canvas cdda cdinstall cdio cdparanoia cdr cdrom cegui cg chroot clamav clamd clanJavaScript cli courier cpudetection cracklib crypt cscope css csv ctype cups curl curlwrappers custom-cflags cvsgraph daap dar64 dbus dedicated devil dga dhcp diet dio dnd doc dri dvb dvd dvdr dvdread editor eds effects emboss emoticon emul-linux-x86 encode enscript esd ethereal examples exif ext-png ext-zlib extensions extraicons extramodules extras fame fat festival ffmpeg figlet firefox flac flash flood fluidsynth fmod font-server foomaticdb fortran fpx freetts freetype ftp gcj gif gimp gimpprint gimpshop glep glibc glitz glut glx gmail gmailtimestamps gmp gnome gnome-print gnomedb gnuplot gnutls gpgme gphoto2 gpm gps graphviz gs gstreamer gtalk gtk gtk2 gtkhtml gzip h323 hal hddtemp hlapi hpn html http httpd icq id3 image imagemagick imlib imlib2 inifile inkjar input_devices_keyboard input_devices_mouse input_devices_penmount ipod j2ee jabber jack-tmpfs java javascript jcs jikes john jp2 jpeg jpeg2k justify jython kcal kde kdeenablefinal kdepim kig-scripting kipi ladcca ladspa lame libcaca libclamav libsamplerate libtommath libvisual libwww lids lirc lite live lm_sensors logitech-mouse lzo lzw lzw-tiff mad mapeditor maps math mbrola mcal md5sum mem-cache menubar mew mikmod mime mimencode ming mixer mjpeg mng mod mod_python motif mozdevelop mozilla mozsha1 mozsvg mp3 mp4live mpeg mpeg2 mpeg4 mpi mplayer msession musepack music musicbrainz mysql mythtv nas ncurses net network new-login nforce2 nls nntp nsplugin nspr ntfs ntlm numarray numeric nvidia oav ode offensive ogg oggvorbis ogre on-the-fly-crypt openal openexr opengl openntpd openssh openssl osc oscache oscar oss pam pango password pcapnav pci pda pdf pdfkit pdflib perl php physfs pic player plib plotutils plugin png portaudio posix povray ppds prelude priority pyste python qt quicktime rar rdesktop readline real realms recode reiserfs remix rplay rrdtool rsh rss rtc ruby sample scanner sdk sdl sendfile sensord server session sftp shared shorten silvercity silverxp simplexml skins slp smime sms sndfile sounds speech speedo speex spell spreadsheet sql sqlite sqlite3 ssl stats stencil-buffer stream subp subtitles subversion svg svgz syslog szip tcltk tcpd theora thesaurus thumbnail tidy tiff timidity tokenizer tomsfastmath toolbar tools transcode truetype truetype-fonts type1 type1-fonts udev uml unicode usb userlocales v4l v4l2 vcd vcdimager vchroot vfat vhosts video_cards_i810 video_cards_nv video_cards_nvidia video_cards_v4l video_cards_vesa videos virus-scan visualization vnc voice vorbis wifi wma123 wordperfect wv wxgtk1 wxwindows x11vnc x264 xanim xcomposite xface xine xml2 xmms xpm xprint xrandr xscreensaver xsl xslt xv xvid xvmc yahoo zip zlib elibc_glibc kernel_linux userland_GNU"
Unset:  ASFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, LANG, LC_ALL, LDFLAGS, LINGUAS


emerge -pv xf86-video-vesa:
[ebuild  N    ] x11-drivers/xf86-video-vesa-1.0.1.3  USE="-debug" 0 kB


Heres the last couple of lines of the emerge:
vesa.c:1760: error: invalid type argument of `->'
vesa.c:1762: error: invalid type argument of `->'
vesa.c: At top level:
vesa.c:1767: error: syntax error before "VESADGAInit"
vesa.c:1767: error: syntax error before "pScrn"
vesa.c: In function `VESADGAInit':
vesa.c:1769: error: syntax error before "pVesa"
vesa.c:1771: error: invalid type argument of `->'
vesa.c:1774: error: invalid type argument of `->'
vesa.c:1777: error: `pScreen' undeclared (first use in this function)
vesa.c:1778: error: invalid type argument of `->'
vesa.c:1778: error: invalid type argument of `->'
make[2]: *** [vesa.lo] Error 1
make[2]: Leaving directory `/var/tmp/portage/xf86-video-vesa-1.0.1.3/work/xf86-video-vesa-1.0.1.3/src'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/xf86-video-vesa-1.0.1.3/work/xf86-video-vesa-1.0.1.3'
make: *** [all] Error 2

!!! ERROR: x11-drivers/xf86-video-vesa-1.0.1.3 failed.
Call stack:
  ebuild.sh, line 1894:   Called dyn_compile
  ebuild.sh, line 941:   Called src_compile
  ebuild.sh, line 1609:   Called x-modular_src_compile
  x-modular.eclass, line 302:   Called x-modular_src_make

!!! emake failed
!!! If you need support, post the topmost build error, and the call stack if relevant.




Comment 1


Donnie Berkholz (RETIRED)






          2006-02-21 08:40:51 UTC
        

Can you paste the log all the way up to the last call of gcc?




Comment 2


Devon Warren





          2006-02-21 10:56:13 UTC
        

(In reply to comment #1)
> Can you paste the log all the way up to the last call of gcc?
> 

Well thats very odd. Now it emerges fine. I was having trouble setting my video card in Xorg to be nvidia (or nv) when I realized the video_cards_i810 and video_cards_vesa use flags had been set which forced me to install this emerge. But I fixed it so it only uses nvidia so I don't know if thats what caused it. So I can't reproduce it.




Comment 3


Donnie Berkholz (RETIRED)






          2006-02-21 11:07:14 UTC
        

OK, reopen if it comes up again.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

