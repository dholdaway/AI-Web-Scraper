Title: 670872 – dev-python/ipykernel-4.8.2 with dev-python/prompt_toolkit-2.0.6 - src_compile(): ImportError: cannot import name create_prompt_application
URL: https://bugs.gentoo.org/show_bug.cgi?id=670872

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 670872
dev-python/ipykernel-4.8.2 with dev-python/prompt_toolkit-2.0.6 - src_compile(): ImportError: cannot import name create_prompt_application
Last modified: 2019-12-23 08:03:34 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 670872 
      - dev-python/ipykernel-4.8.2 with dev-python/prompt_toolkit-2.0.6 - src_compile(): ImportError: cannot import name create_prompt_application


Summary:
dev-python/ipykernel-4.8.2 with dev-python/prompt_toolkit-2.0.6 - src_compile...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Science Related Packages








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2018-11-10 23:25 UTC by Dblmok





      Modified:
    
2019-12-23 08:03 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



harrisl









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge info

              (emerge--info.txt,16.69 KB,
                text/plain)

            
2018-11-10 23:25 UTC,

            Dblmok




Details





build.log

              (build.log,3.59 KB,
                text/plain)

            
2018-11-10 23:29 UTC,

            Dblmok




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Dblmok





          2018-11-10 23:25:11 UTC
        

Created attachment 554800 [details]
emerge info

can't emerge jupyter after dev-python/prompt_toolkit-2.0.6 update

emerge fail on 
dev-python/ipykernel-4.8.2
(dev-python/ipykernel-5.1.0 demonstrate same behaviour)

with phrase:
ImportError: cannot import name create_prompt_application




Comment 1


Dblmok





          2018-11-10 23:29:53 UTC
        

Created attachment 554802 [details]
build.log




Comment 2


younky.yang





          2019-02-16 13:43:08 UTC
        

Same error with the update version of prompt_toolkit-2.0.7 for ipykernel-5.1.0. 

>>> Emerging (1 of 1) dev-python/ipykernel-5.1.0::gentoo
 * ipykernel-5.1.0.tar.gz BLAKE2B SHA512 size ;-) ...                                                        [ ok ]
>>> Unpacking source...
>>> Unpacking ipykernel-5.1.0.tar.gz to /home/portage/portage/dev-python/ipykernel-5.1.0/work
>>> Source unpacked in /home/portage/portage/dev-python/ipykernel-5.1.0/work
>>> Preparing source in /home/portage/portage/dev-python/ipykernel-5.1.0/work/ipykernel-5.1.0 ...
>>> Source prepared.
>>> Configuring source in /home/portage/portage/dev-python/ipykernel-5.1.0/work/ipykernel-5.1.0 ...
>>> Source configured.
>>> Compiling source in /home/portage/portage/dev-python/ipykernel-5.1.0/work/ipykernel-5.1.0 ...
 * python3_6: running distutils-r1_run_phase distutils-r1_python_compile
python3.6 setup.py build
Traceback (most recent call last):
  File "setup.py", line 115, in <module>
    from ipykernel.kernelspec import write_kernel_spec, make_ipkernel_cmd, KERNEL_NAME
  File "/home/portage/portage/dev-python/ipykernel-5.1.0/work/ipykernel-5.1.0/ipykernel/__init__.py", line 2, in <module>
    from .connect import *
  File "/home/portage/portage/dev-python/ipykernel-5.1.0/work/ipykernel-5.1.0/ipykernel/connect.py", line 13, in <module>
    from IPython.core.profiledir import ProfileDir
  File "/usr/lib64/python3.6/site-packages/IPython/__init__.py", line 55, in <module>
    from .terminal.embed import embed
  File "/usr/lib64/python3.6/site-packages/IPython/terminal/embed.py", line 16, in <module>
    from IPython.terminal.interactiveshell import TerminalInteractiveShell
  File "/usr/lib64/python3.6/site-packages/IPython/terminal/interactiveshell.py", line 22, in <module>
    from prompt_toolkit.shortcuts import create_prompt_application, create_eventloop, create_prompt_layout, create_output
ImportError: cannot import name 'create_prompt_application'
 * ERROR: dev-python/ipykernel-5.1.0::gentoo failed (compile phase):
 *   (no error message)
 * 
 * Call stack:
 *     ebuild.sh, line  124:  Called src_compile
 *   environment, line 2648:  Called distutils-r1_src_compile
 *   environment, line  850:  Called _distutils-r1_run_foreach_impl 'distutils-r1_python_compile'
 *   environment, line  369:  Called python_foreach_impl 'distutils-r1_run_phase' 'distutils-r1_python_compile'
 *   environment, line 2192:  Called multibuild_foreach_variant '_python_multibuild_wrapper' 'distutils-r1_run_phase' 'distutils-r1_python_compile'
 *   environment, line 1564:  Called _multibuild_run '_python_multibuild_wrapper' 'distutils-r1_run_phase' 'distutils-r1_python_compile'
 *   environment, line 1562:  Called _python_multibuild_wrapper 'distutils-r1_run_phase' 'distutils-r1_python_compile'
 *   environment, line  572:  Called distutils-r1_run_phase 'distutils-r1_python_compile'
 *   environment, line  841:  Called distutils-r1_python_compile
 *   environment, line  715:  Called esetup.py 'build'
 *   environment, line 1109:  Called die
 * The specific snippet of code:
 *       "${@}" || die "${die_args[@]}";
 * 
 * If you need support, post the output of `emerge --info '=dev-python/ipykernel-5.1.0::gentoo'`,
 * the complete build log and the output of `emerge -pqv '=dev-python/ipykernel-5.1.0::gentoo'`.
 * The complete build log is located at '/home/portage/portage/dev-python/ipykernel-5.1.0/temp/build.log'.
 * The ebuild environment file is located at '/home/portage/portage/dev-python/ipykernel-5.1.0/temp/environment'.
 * Working directory: '/home/portage/portage/dev-python/ipykernel-5.1.0/work/ipykernel-5.1.0'
 * S: '/home/portage/portage/dev-python/ipykernel-5.1.0/work/ipykernel-5.1.0'




Comment 3


Benda Xu






          2019-07-09 11:20:18 UTC
        

This is strange as I could not reproduce this bug with dev-python/prompt_toolkit-2.0.7 and dev-python/ipykernel-5.1.0.

Benda









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

