Title: 403765 – www-client/firefox - make virtual/freedesktop-icon-theme dependency optional
URL: https://bugs.gentoo.org/show_bug.cgi?id=403765

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 403765
www-client/firefox - make virtual/freedesktop-icon-theme dependency optional
Last modified: 2012-02-26 04:29:59 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 403765 
      - www-client/firefox - make virtual/freedesktop-icon-theme dependency optional


Summary:
www-client/firefox - make virtual/freedesktop-icon-theme dependency optional
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Unspecified

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Mozilla Gentoo Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2012-02-15 04:03 UTC by Sa Wu





      Modified:
    
2012-02-26 04:29 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



Murphy.Gebert









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Sa Wu





          2012-02-15 04:03:02 UTC
        

Around 1 month ago firefox started depending on virtual/freedesktop-icon-theme, which pulls in some icon themes and miscellaneous stuff i will never use and never want to use.

Is there any possibility to remove this via USE flag or manually removing it from some ebuild? Grepping through the firefox ebuilds brought me nowhere near to finding out where the dependency comes from. Since I use a tiling window manager without the need for icon themes and occasionally try to keep my system clean of any useless packages I would like to get rid of this dependency without having to forego updates for firefox or switch to another browser entirely.

For now i have removed firefox from my world file to be able to update the rest of the system, erm world.

Thanks a lot
Sa




Comment 1


Martin Gebert





          2012-02-19 09:40:08 UTC
        

One vote up for this request; the Mozilla apps work fine without, and the dependency would install a lot of Perl stuff I don't need or want.




Comment 2


Martin Gebert





          2012-02-19 10:01:01 UTC
        

BTW, this affects thunderbird and xulrunner, too.




Comment 3


Martin Gebert





          2012-02-24 22:30:36 UTC
        

For the record: I took a look into the ebuilds and didn't find any direct dependencies from freedesktop-icon-theme; there seems to be a trick to this...
The -bin packages don't seem to have this dependency, so emerging them could be the better solution for the time being.




Comment 4


Cyprien Nicolas (fulax)





          2012-02-24 22:56:29 UTC
        

(In reply to comment #0)
> Around 1 month ago firefox started depending on virtual/freedesktop-icon-theme,
> which pulls in some icon themes and miscellaneous stuff i will never use and
> never want to use.

The dependency was required w.r.t bug 341697 (and bug 342957).


> Grepping through the firefox ebuilds brought me nowhere near
> to finding out where the dependency comes from.
(In reply to comment #3)
> For the record: I took a look into the ebuilds and didn't find any direct
> dependencies from freedesktop-icon-theme; there seems to be a trick to this...


The dependency is specified in the mozconfig-3.eclass, see the bug mentioned above.


To your specific question, there are more than one ebuild that satisfy virtual/freedesktop-icon-theme, see the virtual's ebuild RDEPEND for a list of satisfying packages.
For instance, kde-base/oxygen-icons does not pull any gnome's hicolor-icon-theme related dependencies (neither kde-specific dependencies).




Comment 5


Martin Gebert





          2012-02-25 08:11:10 UTC
        

fulax, thank you for this hint. I was already looking for a use flag to select an icon theme, but didn't find one. The oxygen icons had been masked here because I'm still using KDE3; unmasking does the job. This is a solution I can live with.

--8><--
# emerge -p oxygen-icons firefox thunderbird

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild  N     ] kde-base/oxygen-icons-4.7.4  USE="(-aqua) -bindist"
[ebuild  N     ] virtual/freedesktop-icon-theme-0
[ebuild     U  ] www-client/firefox-10.0.1 [9.0] USE="minimal%* (-selinux)" LINGUAS="-as% -csb%"
[ebuild     U  ] mail-client/thunderbird-10.0.1 [9.0] USE="minimal%*" LINGUAS="-ast% -sr%"
--><8--




Comment 6


Martin Gebert





          2012-02-25 08:47:58 UTC
        

Submitted a suggestion concerning freedesktop-icon-theme per bug 405711.




Comment 7


Jory A. Pratt






          2012-02-26 04:29:59 UTC
        

Sorry for the confusion here, it should have been documented in the ebuild, the dep on -bin is still very relevant and bug has been reopened as the dep is needed to ensure icons are provided as the end user expects.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

