Title: 585492 – dev-python/backports-shutil_get_terminal_size - compile failed: ValueError: Entry points must be listed in groups
URL: https://bugs.gentoo.org/show_bug.cgi?id=585492

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 585492
dev-python/backports-shutil_get_terminal_size - compile failed: ValueError: Entry points must be listed in groups
Last modified: 2016-10-10 23:27:32 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 585492 
      - dev-python/backports-shutil_get_terminal_size - compile failed: ValueError: Entry points must be listed in groups


Summary:
dev-python/backports-shutil_get_terminal_size - compile failed: ValueError: E...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Development

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Python Gentoo Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2016-06-09 19:28 UTC by S. Gilles





      Modified:
    
2016-10-10 23:27 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



sgilles









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge --info

              (emerge_--info.log,15.68 KB,
                text/plain)

            
2016-06-09 19:28 UTC,

            S. Gilles




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


S. Gilles





          2016-06-09 19:28:01 UTC
        

Created attachment 437020 [details]
emerge --info

=dev-python/backports-shutil_get_terminal_size-1.0.0-r1 fails to build.

# emerge -pvq dev-python/backports-shutil_get_terminal_size
[ebuild  N    ] dev-python/backports-shutil_get_terminal_size-1.0.0-r1  PYTHON_TARGETS="python2_7"
# eix -I dev-lang/python
[U] dev-lang/python
     Available versions:
     (2.7)  2.7.10-r1 (~)2.7.11-r2
     (3.3)  3.3.5-r3 (~)3.3.5-r8(3.3/3.3m)
     (3.4)  3.4.3-r1 (~)3.4.3-r7(3.4/3.4m)
     (3.5)  (~)3.5.0-r2 (~)3.5.1-r2(3.5/3.5m)
       {-berkdb build doc examples gdbm hardened ipv6 libressl +ncurses +readline sqlite +ssl +threads tk +wide-unicode wininst +xml ELIBC="uclibc"}
     Installed versions:  2.7.11-r2(2.7)(01:06:41 PM 06/04/2016)(gdbm ipv6 libressl ncurses readline sqlite ssl threads tk wide-unicode xml -berkdb -build -doc -examples -hardened -wininst ELIBC="-uclibc") 3.4.3-r7(3.4)(01:11:28 PM 06/04/2016)(gdbm ipv6 libressl ncurses readline sqlite ssl threads tk xml -build -examples -hardened -wininst ELIBC="-uclibc")
     Homepage:            http://www.python.org/
     Description:         An interpreted, interactive, object-oriented programming language




Comment 1


S. Gilles





          2016-06-09 19:30:36 UTC
        

I apologize for the comment-spam, but I don't seem to be able to upload another attachment, so here is the build.log.


 * Package:    dev-python/backports-shutil_get_terminal_size-1.0.0-r1
 * Repository: gentoo
 * Maintainer: python@gentoo.org
 * USE:        abi_x86_64 amd64 elibc_glibc kernel_linux python_targets_python2_7 userland_GNU
 * FEATURES:   preserve-libs sandbox splitdebug userpriv usersandbox
>>> Unpacking source...
>>> Unpacking backports.shutil_get_terminal_size-1.0.0.tar.gz to /var/tmp/portage/dev-python/backports-shutil_get_terminal_size-1.0.0-r1/work
>>> Source unpacked in /var/tmp/portage/dev-python/backports-shutil_get_terminal_size-1.0.0-r1/work
>>> Preparing source in /var/tmp/portage/dev-python/backports-shutil_get_terminal_size-1.0.0-r1/work/backports.shutil_get_terminal_size-1.0.0 ...
>>> Source prepared.
>>> Configuring source in /var/tmp/portage/dev-python/backports-shutil_get_terminal_size-1.0.0-r1/work/backports.shutil_get_terminal_size-1.0.0 ...
>>> Source configured.
>>> Compiling source in /var/tmp/portage/dev-python/backports-shutil_get_terminal_size-1.0.0-r1/work/backports.shutil_get_terminal_size-1.0.0 ...
 * python2_7: running distutils-r1_run_phase distutils-r1_python_compile
/usr/bin/python2.7 setup.py build
Traceback (most recent call last):
  File "setup.py", line 25, in <module>
    "Programming Language :: Python :: 3.2",
  File "/usr/lib64/python2.7/distutils/core.py", line 111, in setup
    _setup_distribution = dist = klass(attrs)
  File "/usr/lib64/python2.7/site-packages/setuptools/dist.py", line 270, in __init__
    for ep in pkg_resources.iter_entry_points('distutils.setup_keywords'):
  File "/usr/lib64/python2.7/site-packages/pkg_resources/__init__.py", line 706, in iter_entry_points
    entries = dist.get_entry_map(group)
  File "/usr/lib64/python2.7/site-packages/pkg_resources/__init__.py", line 2550, in get_entry_map
    self._get_metadata('entry_points.txt'), self
  File "/usr/lib64/python2.7/site-packages/pkg_resources/__init__.py", line 2284, in parse_map
    raise ValueError("Entry points must be listed in groups")
ValueError: Entry points must be listed in groups
 * ERROR: dev-python/backports-shutil_get_terminal_size-1.0.0-r1::gentoo failed (compile phase):
 *   (no error message)
 *
 * Call stack:
 *     ebuild.sh, line  133:  Called src_compile
 *   environment, line 3594:  Called distutils-r1_src_compile
 *   environment, line  900:  Called _distutils-r1_run_foreach_impl 'distutils-r1_python_compile'
 *   environment, line  319:  Called python_foreach_impl 'distutils-r1_run_phase' 'distutils-r1_python_compile'
 *   environment, line 3133:  Called multibuild_foreach_variant '_python_multibuild_wrapper' 'distutils-r1_run_phase' 'distutils-r1_python_compile'
 *   environment, line 2242:  Called _multibuild_run '_python_multibuild_wrapper' 'distutils-r1_run_phase' 'distutils-r1_python_compile'
 *   environment, line 2240:  Called _python_multibuild_wrapper 'distutils-r1_run_phase' 'distutils-r1_python_compile'
 *   environment, line  581:  Called distutils-r1_run_phase 'distutils-r1_python_compile'
 *   environment, line  891:  Called distutils-r1_python_compile
 *   environment, line  761:  Called esetup.py 'build'
 *   environment, line 1391:  Called die
 * The specific snippet of code:
 *       "${@}" || die "${die_args[@]}" || return ${?}
 *
 * If you need support, post the output of `emerge --info '=dev-python/backports-shutil_get_terminal_size-1.0.0-r1::gentoo'`,
 * the complete build log and the output of `emerge -pqv '=dev-python/backports-shutil_get_terminal_size-1.0.0-r1::gentoo'`.
 * The complete build log is located at '/var/tmp/portage/dev-python/backports-shutil_get_terminal_size-1.0.0-r1/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/dev-python/backports-shutil_get_terminal_size-1.0.0-r1/temp/environment'.
 * Working directory: '/var/tmp/portage/dev-python/backports-shutil_get_terminal_size-1.0.0-r1/work/backports.shutil_get_terminal_size-1.0.0'
 * S: '/var/tmp/portage/dev-python/backports-shutil_get_terminal_size-1.0.0-r1/work/backports.shutil_get_terminal_size-1.0.0'




Comment 2


Mathy Vanvoorden





          2016-10-10 21:44:32 UTC
        

Is this still valid? Compiles fine for me atm.




Comment 3


S. Gilles





          2016-10-10 23:27:32 UTC
        

I can't reproduce any more either.  My major version(s) of python have changed, which might have something to do with it, or it could have been some other transient issue with my setup.  I'll close as RESOLVED WORKSFORME.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

