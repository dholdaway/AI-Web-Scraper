Title: 911922 – dev-libs/xapian-1.4.22 fails test - FAIL: apitest
URL: https://bugs.gentoo.org/show_bug.cgi?id=911922

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 911922
dev-libs/xapian-1.4.22 fails test - FAIL: apitest
Last modified: 2023-09-23 22:45:04 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 911922 
      - dev-libs/xapian-1.4.22 fails test - FAIL: apitest


Summary:
dev-libs/xapian-1.4.22 fails test - FAIL: apitest
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

No maintainer - Look at https://wiki.gentoo.org/wiki/Project:Proxy_Maintainers if you want to take care of it








URL:







Whiteboard:




Keywords:

TESTFAILURE







Depends on:







Blocks:









 





      Reported:
    
2023-08-08 13:47 UTC by Toralf Förster





      Modified:
    
2023-09-23 22:45 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge-info.txt

              (emerge-info.txt,17.77 KB,
                text/plain)

            
2023-08-08 13:47 UTC,

            Toralf Förster




Details





dev-libs:xapian-1.4.22:20230808-134249.log.xz

              (dev-libs:xapian-1.4.22:20230808-134249.log.xz,12.47 KB,
                application/x-xz)

            
2023-08-08 13:47 UTC,

            Toralf Förster




Details





emerge-history.txt

              (emerge-history.txt,46.14 KB,
                text/plain)

            
2023-08-08 13:47 UTC,

            Toralf Förster




Details





environment

              (environment,24.88 KB,
                text/plain)

            
2023-08-08 13:47 UTC,

            Toralf Förster




Details





etc.clang.tar.xz

              (etc.clang.tar.xz,784 bytes,
                application/x-xz)

            
2023-08-08 13:47 UTC,

            Toralf Förster




Details





etc.portage.tar.xz

              (etc.portage.tar.xz,16.42 KB,
                application/x-xz)

            
2023-08-08 13:47 UTC,

            Toralf Förster




Details





logs.tar.xz

              (logs.tar.xz,13.79 KB,
                application/x-xz)

            
2023-08-08 13:47 UTC,

            Toralf Förster




Details





temp.tar.xz

              (temp.tar.xz,19.46 KB,
                application/x-xz)

            
2023-08-08 13:47 UTC,

            Toralf Förster




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Toralf Förster






          2023-08-08 13:47:19 UTC
        

Term length 245
Key too long: length was 254 bytes, maximum length of a key is 252 bytes

Running test: qpmemoryleak1... SKIPPED                                         
./apitest backend multi_chert: 304 tests passed, 1 failed, 1 expected failures, 4 skipped.
./apitest total: 2238 tests passed, 5 failed, 2 expected failures, 21 skipped.
FAIL: apitest
PASS: internaltest                                                             
The random seed is 42

  -------------------------------------------------------------------

  This is an unstable amd64 chroot image at a tinderbox (==build bot)
  name: 17.1_desktop_gnome_test-20230807-075536

  -------------------------------------------------------------------

gcc-config -l:
 [1] x86_64-pc-linux-gnu-13 *
clang/llvm (if any):
clang version 16.0.6
Target: x86_64-pc-linux-gnu
Thread model: posix
InstalledDir: /usr/lib/llvm/16/bin
Configuration file: /etc/clang/clang.cfg
/usr/lib/llvm/16
16.0.6
Python 3.11.4
Available Ruby profiles:
  [1]   ruby31 (with Rubygems) *
Available Rust versions:
  [1]   rust-bin-1.71.1 *
php cli (if any):
go version go1.20.7 linux/amd64

  HEAD of ::gentoo
commit d41e888bf1750d528a440d325038144eb5c98a6e
Author: Repository mirror & CI <repomirrorci@gentoo.org>
Date:   Tue Aug 8 09:31:37 2023 +0000

    2023-08-08 09:31:37 UTC

emerge -qpvO dev-libs/xapian
[ebuild  N    ] dev-libs/xapian-1.4.22  USE="inmemory -doc -remote -static-libs" CPU_FLAGS_X86="sse sse2"




Comment 1


Toralf Förster






          2023-08-08 13:47:20 UTC
        

Created attachment 867401 [details]
emerge-info.txt




Comment 2


Toralf Förster






          2023-08-08 13:47:21 UTC
        

Created attachment 867402 [details]
dev-libs:xapian-1.4.22:20230808-134249.log.xz




Comment 3


Toralf Förster






          2023-08-08 13:47:22 UTC
        

Created attachment 867403 [details]
emerge-history.txt




Comment 4


Toralf Förster






          2023-08-08 13:47:23 UTC
        

Created attachment 867404 [details]
environment




Comment 5


Toralf Förster






          2023-08-08 13:47:24 UTC
        

Created attachment 867405 [details]
etc.clang.tar.xz




Comment 6


Toralf Förster






          2023-08-08 13:47:25 UTC
        

Created attachment 867406 [details]
etc.portage.tar.xz




Comment 7


Toralf Förster






          2023-08-08 13:47:26 UTC
        

Created attachment 867407 [details]
logs.tar.xz




Comment 8


Toralf Förster






          2023-08-08 13:47:27 UTC
        

Created attachment 867408 [details]
temp.tar.xz




Comment 9


Toralf Förster






          2023-08-08 13:47:27 UTC
        

The file size of ./files/tests.tar.xz is too big (3.4M) for an upload. For few weeks the link http://tinderbox.zwiebeltoralf.de:31560/17.1_desktop_gnome_test-20230807-075536/var/tmp/tb/issues/20230808-134606-dev-libs_xapian-1.4.22/files/tests.tar.xz is valid.




Comment 10


Robin Johnson









          2023-09-23 22:45:04 UTC
        

Cannot reproduce on 1.4.22 or 1.4.23.

===
Running test: termtoolong1... XFAIL (Chert fails to clear pending changes after InvalidArgumentError - fix too invasive): InvalidArgumentError: REMOTE:Key too long: length was 254 bytes, maximum length of a key is 252 bytes (context: remote:tcp(127.0.0.1:1239))
Term length 245
REMOTE:Key too long: length was 254 bytes, maximum length of a key is 252 bytes

Running test: qpmemoryleak1... SKIPPED                                         
Running test: valueweightsource5... SKIPPED                                    
./apitest backend remotetcp_chert: All 300 tests passed, 1 expected failures, 4 skipped.
./apitest total: All 4056 tests passed, 9 expected failures, 47 skipped.
PASS: apitest
PASS: internaltest                                                             
The random seed is 42
Please report the seed when reporting a test failure.
Running tests with arabic stemmer...
Running test: stemdict... SKIPPED           
===









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

