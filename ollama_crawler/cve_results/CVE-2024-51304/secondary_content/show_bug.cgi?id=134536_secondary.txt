Title: 134536 – kde icons missing
URL: https://bugs.gentoo.org/show_bug.cgi?id=134536

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 134536
kde icons missing
Last modified: 2006-08-27 09:40:57 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 134536 
      - kde icons missing


Summary:
kde icons missing
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-05-27 08:12 UTC by numerodix





      Modified:
    
2006-08-27 09:40 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


numerodix





          2006-05-27 08:12:21 UTC
        

kde-3.5.2 was just marked stable on x86, I upgraded it on my system from 3.4.3. After the upgrade, I removed all the 3.4.x packages and I notice that some of the icons in KDE are missing. Notably the icons for klipper, kopete, amarok in the System Tray. The application icons don't show up, instead I'm seeing some kind of default icon for every KDE application. When I start amarok, it's missing icons everywhere within the application.. in the Collection tree of genres, in the OSD box, everywhere. (Again displaying the default icon.)

I haven't set any custom icon themes, I've always just used the default one. When I try to track down the icons, I notice that each package (I'm using the split ebuilds) supplies icons for itself. For instance:

# locate klipper.png
gives the same output as
# equery f klipper | grep klipper.png
/usr/kde/3.5/share/icons/hicolor/128x128/apps/klipper.png
/usr/kde/3.5/share/icons/hicolor/16x16/apps/klipper.png
/usr/kde/3.5/share/icons/hicolor/22x22/apps/klipper.png
/usr/kde/3.5/share/icons/hicolor/32x32/apps/klipper.png
/usr/kde/3.5/share/icons/hicolor/48x48/apps/klipper.png
/usr/kde/3.5/share/icons/hicolor/64x64/apps/klipper.png

So the icons are there, KDE just can't seem to find them.

Now, in kcontrol, the icon theme is set to crystalsvg. I noticed that in 3.4.x, the string crystalsvg was in the path to the icon itself, now it's called hicolor. I imagine this has something to do with the problem.


# emerge --info
Portage 2.0.54-r2 (default-linux/x86/2006.0, gcc-3.4.5, glibc-2.3.6-r3, 2.6.16-gentoo-r8 i686)
=================================================================
System uname: 2.6.16-gentoo-r8 i686 Intel(R) Pentium(R) M processor 1600MHz
Gentoo Base System version 1.6.14
ccache version 2.3 [enabled]
dev-lang/python:     2.4.2
dev-python/pycrypto: [Not Present]
dev-util/ccache:     2.3
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -mtune=pentium3 -fomit-frame-pointer -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/"
CONFIG_PROTECT_MASK="/etc/gconf /etc/splash /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -mtune=pentium3 -fomit-frame-pointer -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LANG="en_US.utf8"
LINGUAS="en fr nl"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/overlay"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X aac acl alsa apm asf audiofile avi berkdb bitmap-fonts boo bzip2 cdr cli crypt cups curl divx4linux dri dts dvd dvdr dvdread eds emboss encode esd ethereal exif expat fam ffmpeg flac gd gdbm ggi gif glut gmp gnome gnutls gphoto2 gpm gstreamer gtk gtk2 gtkhtml hal idn imagemagick imlib ipv6 isdnlog jpeg junit kde kdeenablefinal kdexdeltas lcms libg++ libwww live mad matroska mmx mmx2 mng moznocompose moznoirc moznomail moznoxft mp3 mpeg nas ncurses network nls nptl nptlonly nsplugin ogg oggvorbis opengl oss pam pcre pdflib plotutils png pppd qt quicktime readline real reflection rtc rtsp samba sdl session shout slang spell spl sqlite sse sse2 ssl svga tcltk tcpd tetex theora tiff truetype truetype-fonts type1-fonts udev unicode usb vorbis win32codecs x86 xine xml xml2 xorg xv xvid zlib video_cards_radeon linguas_en linguas_fr linguas_nl userland_GNU kernel_linux elibc_glibc"
Unset:  CTARGET, INSTALL_MASK, LC_ALL, LDFLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTAGE_RSYNC_OPTS




Comment 1


numerodix





          2006-05-27 08:13:38 UTC
        

Oh, to make sure that it isn't my .kde profile causing this problem, I created a new user with an empty profile and there too the icons are missing.




Comment 2


numerodix





          2006-05-27 10:09:23 UTC
        

Aha, so I suspect this may be a duplicate of 122200, but I'm not sure about it. Setting $KDEDIR in the terminal and then launching amarok or klipper (as suggested in the other bug) does not solve the problem.




Comment 3


Georg Müller





          2006-06-03 10:02:37 UTC
        

Same here with konsole, klipper, akregator.

These icons are missing, only hicolor icons are installed

(I installed kde-meta, maybe there are no problems with kde ebuild)




Comment 4


numerodix





          2006-06-13 14:28:08 UTC
        

I can confirm that the problem persists with kde-3.5.3




Comment 5


numerodix





          2006-06-25 16:44:43 UTC
        

While I never solved the problem, I recently reinstalled my whole system and with a fresh install (my user settings in ~/.kde of course remain), the problem is gone.




Comment 6


Carsten Lohrke (RETIRED)






          2006-08-27 09:40:57 UTC
        

Can't imagine what went wrong there. If this should still be an issue for anyone or the problem shows up again, reopen please.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

