Title: 135336 – pcmcia-cs-3.2.8-r2 kernel symlink missing
URL: https://bugs.gentoo.org/show_bug.cgi?id=135336

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 135336
pcmcia-cs-3.2.8-r2 kernel symlink missing
Last modified: 2006-06-03 03:34:37 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 135336 
      - pcmcia-cs-3.2.8-r2 kernel symlink missing


Summary:
pcmcia-cs-3.2.8-r2 kernel symlink missing
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Core system

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Mobile Herd (OBSOLETE)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-06-02 18:06 UTC by Tobias Hahn





      Modified:
    
2006-06-03 03:34 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Tobias Hahn





          2006-06-02 18:06:21 UTC
        

Summary:
pcmcia-cs-3.2.8-r2 tries to access /usr/src/linux/include/asm during configure, which does not exist. 

Steps to reproduce:
Should this symlink exist on a standart install? I did the following
1. Install 2006.0 from minimal CD.
2. emerge gentoo-sources.
3. Use genkernel.
4. Wait some weeks.
5. emerge --deep --update world

Expected Results:
Just a regular update.

Actual Results:

/usr/src/linux/include/asm does not exist!
    To fix, do 'ln -s asm-i386 asm' in /usr/src/linux/include.

Configuration failed.


!!! ERROR: sys-apps/pcmcia-cs-3.2.8-r2 failed.
!!! Function pcmcia_cs_configure, Line 64, Exitcode 1
!!! Configure failed
!!! If you need support, post the topmost build error, NOT this status message.

--------------------------- ACCESS VIOLATION SUMMARY ---------------------------
LOG FILE = "/var/log/sandbox/sandbox-sys-apps_-_pcmcia-cs-3.2.8-r2-2229.log"

symlink:   /usr/src/linux-2.6.16-gentoo-r7/include/asm
--------------------------------------------------------------------------------

Notes:
WORKAROUND: ln -s asm-i386 asm

# emerge --info
Portage 2.0.54-r2 (default-linux/x86/2006.0, gcc-3.4.6, glibc-2.3.6-r3, 2.6.16-gentoo-r7 i686)
=================================================================
System uname: 2.6.16-gentoo-r7 i686 Intel(R) Celeron(R) M processor         1.50GHz
Gentoo Base System version 1.6.14
dev-lang/python:     2.4.2
dev-python/pycrypto: [Not Present]
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1-r2
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O3 -march=pentium-m -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/lib/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/gconf /etc/splash /etc/terminfo /etc/env.d"
CXXFLAGS="-O3 -march=pentium-m -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://mirrors.sec.informatik.tu-darmstadt.de/gentoo/ http://pandemonium.tiscali.de/pub/gentoo/ http://mirror.switch.ch/ftp/mirror/gentoo/ "
LANG="de_DE@euro"
LINGUAS="de en"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X a52 aac acpi alsa apache2 apm arts audiofile avi bash-completion berkdb bitmap-fonts bluetooth bzip2 cddb cdparanoia cdr clamav cli crypt cups curl curlwrappers directfb dlloader dmx dri dvb dvd dvdr dvdread eds emacs emboss encode esd exif expat fam fbcon ffmpeg flac flash foomaticdb fortran ftp gd gdbm gif gmp gnutls gphoto2 gpm gstreamer gtk gtk2 hal idn imap imlib ipv6 isdnlog java javascript jpeg jpeg2k kde lcms libg++ libwww lm_sensors mad madwifi mbox mikmod mime ming mmx mng motif mp3 mpeg musicbrainz mysql mysqli ncurses netboot nls nodrm nptl nsplugin offensive ogg openal opengl oss pam pcmcia pcre pda pdf pdflib perl png pppd profile python qt quicktime readline recode reflection samba scanner sdl sensord session sndfile sockets sox speex spell spl sse sse2 ssl svg symlink tcltk tcpd threads tiff toolbar truetype truetype-fonts type1-fonts udev unicode usb v4l vcd vorbis wifi win32codecs xine xinerama xml xml2 xmms xmvc xorg xosd xpm xprint xv xvid zlib linguas_de linguas_en userland_GNU kernel_linux elibc_glibc"
Unset:  CTARGET, INSTALL_MASK, LC_ALL, LDFLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTAGE_RSYNC_OPTS, PORTDIR_OVERLAY




Comment 1


Jakub Moc (RETIRED)






          2006-06-03 00:15:34 UTC
        

Don't mark trivial issues as blocker, please.




Comment 2


Stefan Schweizer (RETIRED)






          2006-06-03 00:48:34 UTC
        

it does exist for me, seems it only gets added while building the kernel.

Also you should be using pcmciautils now - pcmcia-cs is rather outdated.
Did pcmcia-cs get installed automatically?




Comment 3


Henrik Brix Andersen





          2006-06-03 03:34:37 UTC
        

(In reply to comment #2)
> it does exist for me, seems it only gets added while building the kernel.

Correct. You need to configure and compile your kernel before installing. Same goes for any other ebuilds that rely on having linux sources available.

Closing as WORKSFORME.

> Also you should be using pcmciautils now - pcmcia-cs is rather outdated.
> Did pcmcia-cs get installed automatically?

pcmcia-cs is still the default in Gentoo (it's not outdated yet), I am working on a pcmcia-cs-to-pcmciautils migration HOWTO. When that's done, I will switch the 2.6 virtual over to using pcmciautils by default.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

