Title: 131622 – gtkglext crash after closing window
URL: https://bugs.gentoo.org/show_bug.cgi?id=131622

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 131622
gtkglext crash after closing window
Last modified: 2008-02-24 12:12:33 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 131622 
      - gtkglext crash after closing window


Summary:
gtkglext crash after closing window
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux Gnome Desktop Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-04-28 16:06 UTC by David Brigada





      Modified:
    
2008-02-24 12:12 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



jean.brefort
robert









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


David Brigada





          2006-04-28 16:06:00 UTC
        

I have gtkglext-1.2 installed.  When I close the window to quit a program I wrote, and then restart the program, my display freezes.  This happens both with the radeon DRM driver (I have an ATI Mobility M9 chipset) and the mesa software rendering.  I also tried one of the gtkglext demos (gears) and the same thing happened.  When I use the "Quit" button on the demo, and then restart it, the display does not freeze.  The window delete_event and the button clicked signals are both connected to gtk_main_quit, so I don't know why one works and the other does not.  Perhaps, the window is closed before gtk_main_quit is called in the former case, so the OpenGL might be left in an inconsistent state.

emerge --info:
# emerge --info
Portage 2.1_pre9-r5 (default-linux/x86/2005.1, gcc-3.3.5-20050130, glibc-2.4-r1, 2.6.16-gentoo-r2 i686)
=================================================================
System uname: 2.6.16-gentoo-r2 i686 Intel(R) Pentium(R) M processor 1600MHz
Gentoo Base System version 1.12.0_pre18
ccache version 2.4 [disabled]
dev-lang/python:     2.3.5-r2, 2.4.2-r1
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r2
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r5
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=pentium-m -O3 -pipe -mfpmath=sse"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/kde/3/share/config /usr/share/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/eselect/compiler /etc/gconf /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c /etc/env.d"
CXXFLAGS="-march=pentium-m -O3 -pipe -mfpmath=sse"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://acm.cs.rpi.edu/gentoo-portage"
USE="x86 X aac alsa apm avi berkdb bitmap-fonts cairo canvas ccache cli crypt cups dga doc dri dvd dvi eds emboss encode firefox flac foomaticdb fortran gdbm gif glitz gnome gpm gstreamer gtk gtk2 imlib ipv6 isdnlog ithreads jce jpeg libg++ libwww mad madwifi mikmod mmx motif mozdevelop mozilla moznocompose moznoirc moznomail mozsvg mp3 mpeg ncurses nptl nptlonly nsplugin ogg oggvorbis opengl oss pam pcre pdflib perl png pppd python qt qt4 quicktime readline real reflection rtc sdl session snmp spell spl sse sse2 ssl tcpd tetex threads tiff truetype truetype-fonts type1-fonts vorbis win32codecs xml2 xorg xprint xv xvid zlib elibc_glibc input_devices_keyboard input_devices_mouse kernel_linux userland_GNU video_cards_radeon"
Unset:  ASFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGUAS

Note: my portage overlay doesn't contain anything related to X11 or OpenGL.




Comment 1


foser (RETIRED)






          2006-11-25 03:18:36 UTC
        

I cannot reproduce this with 1.2.0 .. a full crash has liekly todo with your driver/kernel setup . Try if the 'normal' glxgears crashes as well, it's in x11-apps/mesa-progs .





Comment 2


Jean Bréfort





          2007-02-25 13:59:38 UTC
        

It's worse for me, the whole session crashes (tested with both gnome and xfce).
glxgears does not present this issue.




Comment 3


Gilles Dartiguelongue (RETIRED)






          2007-08-14 21:29:07 UTC
        

beware that -O3 can cause serious problems in various libs and as such is not supported by gnome herd nor by upstream.




Comment 4


Jean Bréfort





          2007-08-15 05:52:57 UTC
        

In my case, it is -O2, and it still crashes my session (most probably the X server).




Comment 5


Gilles Dartiguelongue (RETIRED)






          2007-08-15 10:35:47 UTC
        

Jean, what's your graphic chipset ?

I have a radeon 9000 (r200) and it locks up the machine from time to time even with recent kernel/mesa/dri. Although, if you could release some minimal sources to reproduce the crash, that might help ?




Comment 6


Jean Bréfort





          2007-08-15 10:45:49 UTC
        

I have nvidia cards o both my laptop (x86) and desktop (amd64). Both are affected.
Any of the samples provided with gtkglext presents the crash, AFAIK. I spent some times trying to understand, but with no success, and as my session crashes each time it is really not trivial to debug.




Comment 7


Robert Bridge





          2007-09-06 10:53:47 UTC
        

I had this problem on an nVidia GeForce FX Go5200 using the nv driver on a xen kernel, since switching to the nvidia driver, and the nvidia opengl implementation, I have not been able to reproduce the problem.




Comment 8


Robert Bridge





          2007-09-06 11:06:36 UTC
        

I meant to add that I also changed kernel to gentoo-sources when I changes gfx driver.




Comment 9


Rémi Cardona (RETIRED)






          2008-01-20 10:10:06 UTC
        

Any updates on this? David? Jean?




Comment 10


Jean Bréfort





          2008-01-20 10:15:16 UTC
        

I can't reproduce anymore. My feeling is that bug report might be closed.




Comment 11


Gilles Dartiguelongue (RETIRED)






          2008-02-24 12:12:33 UTC
        

can't reproduce the crash, closing worksforme









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

