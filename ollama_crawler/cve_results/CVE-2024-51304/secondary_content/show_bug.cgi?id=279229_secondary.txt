Title: 279229 – LiveCD (install-x86-minimal-20090623.iso) doesn't boot
URL: https://bugs.gentoo.org/show_bug.cgi?id=279229

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 279229
LiveCD (install-x86-minimal-20090623.iso) doesn't boot
Last modified: 2009-07-28 01:01:31 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 279229 
      - LiveCD (install-x86-minimal-20090623.iso) doesn't boot


Summary:
LiveCD (install-x86-minimal-20090623.iso) doesn't boot
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Release Media




Classification:

Unclassified




Component:

InstallCD

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       critical
      


Assignee:

Gentoo Release Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-07-26 21:45 UTC by Ambrosio





      Modified:
    
2009-07-28 01:01 UTC
      (History)
    




          CC List:
        

5 
          users
          
            (show)
          



amontalban
bugs
d.offord
misha
mmokrejs









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Ambrosio





          2009-07-26 21:45:53 UTC
        

+++ This bug was initially created as a clone of Bug #272522 +++

Booting from the newest LiveCD (install-x86-minimal-20090623.iso) fails

Reproducible: Always

Steps to Reproduce:
1. download current Gentoo Minimal Install CD from http://www.gentoo.org/main/en/where.xml (I got redirected to http://mirrors.kernel.org/gentoo/releases/x86/ )
2. burn CD
3. boot

Actual Results:  
while booting:
>> Determining root device...
>> Determining looptype ...
>> Mounting squashfs filesystem
mount: mounting /dev/loop0 on /newroot/mnt/livecd failed: Invalid argument
!! Failed to $1; failing back to shell...


BusyBox v1.7.4 (2009-06-23 18:20:27 UTC) built-in shell (ash)
Enter 'help' for a list of build-in commands.

/bin/ash: can't access tty; job control turned off
#

'dmesg | tail' shows

SQUASHFS error: Major/Minor mismatch, older Squashfs 3.1 filesystems are unsupported.

---

It looks like squashfs version mismatch problems as in #272522 got back after fixing it.

It looks like




Comment 1


Andrew Gaffney (RETIRED)






          2009-07-27 12:58:41 UTC
        

This doesn't make sense. The version of sys-fs/squashfs-tools on poseidon (the machine used for x86 builds) was updated to 4.0 on 20090608 and hasn't been touched since then. Are you *sure* you booted the correct ISO?




Comment 2


Ambrosio





          2009-07-27 14:55:14 UTC
        

> This doesn't make sense. The version of sys-fs/squashfs-tools on poseidon (the
> machine used for x86 builds) was updated to 4.0 on 20090608 and hasn't been
> touched since then. Are you *sure* you booted the correct ISO?

I was trying to install Gentoo for the first time. So, I downloaded current Gentoo Minimal Install CD from gentoo.org (exact URL is http://mirrors.kernel.org/gentoo/releases/x86/current/install-x86-minimal-20090623.iso). And that was the only gentoo iso I had.

And line "BusyBox v1.7.4 (2009-06-23 18:20:27 UTC) built-in shell (ash)" confirms that it was 20090623 iso.

I'll try to doublecheck later - maybe some automagic happened on my computer :)





Comment 3


Ambrosio





          2009-07-27 19:01:03 UTC
        

> I'll try to doublecheck later - maybe some automagic happened on my computer :)

Aparently there was some automagic going on with my computer. I don't understand why I got that error last night. Maybe when I booted from LiveCD it found another kernel, which didn't understood squashfs version 4? I didn't get it. But I can confirm that squashfs is version 4 on install-x86-minimal-20090623.iso

Today I tried to boot from the same cd and got to the 'livecd root #' prompt successfully.






Comment 4


Ambrosio





          2009-07-27 19:43:43 UTC
        

I found out what exactly happened, which led to this error in my case. When I booted from Gentoo Installation LiveCD, I had USB flash disk plugged in also (I wanted install Gentoo on that stick). Accidentally that stick had file 'image.squashfs' on it, so boot process found USB flash device before CD-ROM and tried to mount 'image.squashfs' on USB Flash instead of 'image.squashfs' on CD-ROM. Mounting failed because image.squashfs on flash was in v3 format. 

I guess this kind of behaviour is the way to go, I was just expecting that booting from CD-ROM means that image.squashfs from CD-ROM will be used too.

Do I understand correctly, that in unlikely case, when user somehow has some incorrect 'image.squashfs' file in internal HDD (device which will be found before CD-ROM), then user doesn't have any chance to boot successfully from Gentoo LiveCD?





Comment 5


Andrew Gaffney (RETIRED)






          2009-07-28 01:01:31 UTC
        

It's a known "issue" with no real fix. There's been various proposed solutions, but they just introduce other issues.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

