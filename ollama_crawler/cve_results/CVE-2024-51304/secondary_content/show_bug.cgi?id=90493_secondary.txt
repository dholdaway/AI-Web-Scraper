Title: 90493 – emerge for glibc-2.3.4.20041102-r1 fails while applying patch glibc-2.3.4-branch-update-20041102.patch
URL: https://bugs.gentoo.org/show_bug.cgi?id=90493

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 90493
emerge for glibc-2.3.4.20041102-r1 fails while applying patch glibc-2.3.4-branch-update-20041102.patch
Last modified: 2005-05-02 21:54:48 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 90493 
      - emerge for glibc-2.3.4.20041102-r1 fails while applying patch glibc-2.3.4-branch-update-20041102.patch


Summary:
emerge for glibc-2.3.4.20041102-r1 fails while applying patch glibc-2.3.4-bra...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Core system

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Toolchain Maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-04-26 06:26 UTC by Amitabh Menon





      Modified:
    
2005-05-02 21:54 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




patch .out file generated by epatch

              (glibc-2.3.4-branch-update-20041102.patch.bz2-26546.out,1.89 MB,
                text/plain)

            
2005-04-26 06:30 UTC,

            Amitabh Menon




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Amitabh Menon





          2005-04-26 06:26:15 UTC
        

While emerging glibc-2.3.4.20041102, the patch application fails for the branch update patch. On looking at the log, the patch seems to be messed up (missing files referred to in it). I tried unzipping and applying the patch manually but it gave me similar errors. 



Reproducible: Always
Steps to Reproduce:
1. emerge sys-libs/glibc-2.3.4.20041102-r1
2.
3.

Actual Results:  
>>> emerge (1 of 4) sys-libs/glibc-2.3.4.20041102-r1 to /
>>> md5 files   ;-) glibc-2.3.4.20041102-r1.ebuild
>>> md5 files   ;-) glibc-2.3.5.ebuild
>>> md5 files   ;-) glibc-2.3.3.20040420-r2.ebuild
>>> md5 files   ;-) glibc-2.2.5-r10.ebuild
>>> md5 files   ;-) glibc-2.3.5.20050421.ebuild
>>> md5 files   ;-) glibc-2.3.4.20040619-r2.ebuild
>>> md5 files   ;-) glibc-2.3.4.20041102.ebuild
>>> md5 files   ;-) glibc-2.3.4.20040808-r1.ebuild
>>> md5 files   ;-) glibc-2.3.4.20050125.ebuild
>>> md5 files   ;-) ChangeLog
>>> md5 files   ;-) glibc-2.3.4.20050125-r1.ebuild
>>> md5 files   ;-) glibc-2.3.2-r12.ebuild
>>> md5 files   ;-) metadata.xml
>>> md5 files   ;-) glibc-2.2.5-r9.ebuild
>>> md5 files   ;-) files/nscd
>>> md5 files   ;-) files/digest-glibc-2.3.4.20041102-r1
>>> md5 files   ;-) files/glibc-2.2.4-string2.h.diff
>>> md5 files   ;-) files/glibc-xdr_security.patch
>>> md5 files   ;-) files/glibc-sec-hotfix-20040916.patch
>>> md5 files   ;-) files/digest-glibc-2.2.5-r9
>>> md5 files   ;-) files/nscd.conf
>>> md5 files   ;-) files/digest-glibc-2.3.4.20041102
>>> md5 files   ;-) files/digest-glibc-2.3.4.20050125
>>> md5 files   ;-) files/glibc-2.2.2-test-lfs-timeout.patch
>>> md5 files   ;-) files/digest-glibc-2.3.4.20050125-r1
>>> md5 files   ;-) files/digest-glibc-2.2.5-r10
>>> md5 files   ;-) files/digest-glibc-2.3.5.20050421
>>> md5 files   ;-) files/glibc-manpages-2.2.5.tar.bz2
>>> md5 files   ;-) files/digest-glibc-2.3.5
>>> md5 files   ;-) files/glibc-sec-hotfix-20040804.patch
>>> md5 files   ;-) files/glibc-manpages-2.3.2.tar.bz2
>>> md5 files   ;-) files/digest-glibc-2.3.3.20040420-r2
>>> md5 files   ;-) files/locales.build
>>> md5 files   ;-) files/test-sysctl_h.c
>>> md5 files   ;-) files/digest-glibc-2.3.2-r12
>>> md5 files   ;-) files/fix-sysctl_h.patch
>>> md5 files   ;-) files/test-__thread.c
>>> md5 files   ;-) files/digest-glibc-2.3.4.20040619-r2
>>> md5 files   ;-) files/digest-glibc-2.3.4.20040808-r1
>>> md5 files   ;-) files/2.2.5/glibc-2.2.5-divdi3.diff
>>> md5 files   ;-) files/2.2.5/glibc-2.2.5-gcc311.patch
>>> md5 files   ;-) files/2.2.5/glibc-2.2.5-sunrpc-overflow.diff
>>> md5 files   ;-) files/2.2.5/glibc-2.2.5.restrict_arr.patch
>>> md5 files   ;-) files/2.2.5/glibc-2.2.5-sparc-mathinline.patch
>>> md5 files   ;-) files/2.2.5/glibc-2.2.5-ppc-semctl.diff
>>> md5 files   ;-) files/2.2.5/glibc-2.2.5-getgrouplist.patch
>>> md5 files   ;-) files/2.2.5/glibc-2.2.5-arm-sysdeps-fix.diff
>>> md5 files   ;-) files/2.2.5/glibc-2.2.5-alpha-pcdyn-fix.diff
>>> md5 files   ;-) files/2.2.5/glibc-2.2.5-arm-errlist-fix.diff
>>> md5 files   ;-) files/2.2.5/glibc-2.2.5-threadsig.diff
>>> md5 files   ;-) files/2.2.5/glibc-2.2.5.divbyzero.patch
>>> md5 files   ;-) files/2.2.5/glibc-2.2.5-dns-network-overflow.diff
>>> md5 files   ;-) files/2.2.5/glibc-2.2.5-ppc-sqrtl.diff
>>> md5 files   ;-) files/2.2.5/glibc-2.2.5-sandbox.diff
>>> md5 files   ;-) files/2.2.5/glibc-2.2.5-sparc-misc.diff
>>> md5 files   ;-) files/2.2.5/glibc-2.2.5-alpha-gcc3-fix.diff
>>> md5 files   ;-) files/2.2.5/glibc-2.2.5-sparc64-fixups.diff
>>> md5 files   ;-) files/2.2.5/glibc-2.2.5-sparc32-semctl.patch
>>> md5 files   ;-) files/2.3.1/glibc-2.3.1-exit-syscall-mips.patch
>>> md5 files   ;-) files/2.3.1/glibc-2.3.1-elf-machine-rela-mips.patch
>>> md5 files   ;-) files/2.3.1/glibc-2.3.1-ctype-compat-v3.patch
>>> md5 files   ;-) files/2.3.1/glibc-2.3.1-libc_wait-compat.patch
>>> md5 files   ;-) files/2.3.1/glibc-2.3.1-fpu-cw-mips.patch
>>> md5 files   ;-) files/2.3.1/glibc-2.3.1-librt-mips.patch
>>> md5 files   ;-) files/2.3.1/glibc-2.3.1-stack_end-compat.patch
>>> md5 files   ;-) files/2.3.1/glibc-2.3.1-inline-syscall-mips.patch
>>> md5 files   ;-) files/2.3.1/glibc23-07-hppa-atomicity.dpatch
>>> md5 files   ;-) files/2.3.1/glibc-2.3.1-libgcc-compat-mips.patch
>>> md5 files   ;-) files/2.3.2/glibc-2.3.2-gcc33-sscanf.patch
>>> md5 files   ;-) files/2.3.2/glibc-2.3.2-redhat-nptl-fixes.patch
>>> md5 files   ;-) files/2.3.2/glibc-2.3.2-alpha-crti.patch
>>> md5 files   ;-) files/2.3.2/glibc-2.3.2-alpha-sysdeps.patch
>>> md5 files   ;-) files/2.3.2/glibc-2.3.2-dl-reloc-calc-fix.patch
>>> md5 files   ;-) files/2.3.2/glibc-2.3.2-propolice-guard-functions-v2.patch
>>> md5 files   ;-) files/2.3.2/ssp.c
>>> md5 files   ;-) files/2.3.2/glibc-2.3.2-rtld-assert-fix.patch
>>> md5 files   ;-) files/2.3.2/glibc-2.3.2-got-fix.diff
>>> md5 files   ;-) files/2.3.2/glibc-2.3.2-mips-add-n32-n64-sysdep-cancel.patch
>>> md5 files   ;-) files/2.3.2/glibc-2.3.2-assert.patch
>>> md5 files   ;-) files/2.3.2/glibc-2.3.2-mips-pread-linux2.5.patch
>>> md5 files   ;-) files/2.3.2/glibc-2.3.2-amd64-nomultilib.patch
>>> md5 files   ;-) files/2.3.2/glibc-2.3.2-propolice-guard-functions-v3.patch
>>> md5 files   ;-) files/2.3.2/glibc-2.3.2-alpha-pwrite.patch
>>> md5 files   ;-) files/2.3.2/glibc-2.3.2-owl-malloc-unlink-sanity-check.diff
>>> md5 files   ;-) files/2.3.2/glibc-2.3.2-nptl-fix-include.patch
>>> md5 files   ;-) files/2.3.2/glibc-2.3.2-decc-compaq.patch
>>> md5 files   ;-) files/2.3.2/glibc-2.3.2-armformat.patch
>>> md5 files   ;-) files/2.3.2/glibc-2.3.2-dl_execstack-PaX-support.patch
>>> md5 files   ;-) files/2.3.2/glibc-2.3.2-arm-bus-defines.patch
>>> md5 files   ;-) files/2.3.2/glibc-2.3.2-framestate-USING_SJLJ_EXCEPTIONS.patch
>>> md5 files   ;-) files/2.3.2/glibc-2.3.2-mips-fix-n32-n64-sysdep-headers.patch
>>> md5 files   ;-) files/2.3.2/glibc-2.3.2-ia64-LOAD_ARGS-fixup.patch
>>> md5 files   ;-) files/2.3.2/glibc-2.3.2-s390-deprecated-ustat-fixup.patch
>>> md5 files   ;-) files/2.3.2/glibc-2.3.2-redhat-linuxthreads-fixes.patch
>>> md5 files   ;-) files/2.3.2/glibc-2.3.2-iconvconfig-name_insert.patch
>>> md5 files   ;-) files/2.3.2/glibc-2.3.2-frandom-detect.patch
>>> md5 files   ;-) files/2.3.2/glibc-2.3.2-pt_pax.diff
>>> md5 files   ;-)
files/2.3.2/glibc-2.3.2-fix-omitted-operand-in-mathinline_h.patch>>> md5 files 
 ;-) files/2.3.2/glibc-2.3.2-mips-configure-for-n64-symver.patch
>>> md5 files   ;-) files/2.3.2/glibc-2.3.2-cispeed-cospeed-fix.patch
>>> md5 files   ;-) files/2.3.2/glibc-2.3.2-mips-fix-nested-entend-pairs.patch
>>> md5 files   ;-) files/2.3.2/sysmacros.h
>>> md5 files   ;-) files/2.3.2/glibc-2.3.2-ipv6-bytestring-fix.patch
>>> md5 files   ;-) files/2.3.2/glibc-2.3.2-signal-ssp.diff
>>> md5 files   ;-) files/2.3.2/glibc-2.3.2-propolice-guard-functions.patch
>>> md5 files   ;-) files/2.3.3/glibc-2.3.3-owl-malloc-unlink-sanity-check.diff
>>> md5 files   ;-) files/2.3.3/glibc-2.3.3-frandom-detect.patch
>>> md5 files   ;-) files/2.3.3/ssp.c
>>> md5 files   ;-) files/2.3.3/glibc-2.3.3-mips-nolib3264.diff
>>> md5 files   ;-) files/2.3.3/glibc-2.3.3-mips-semtimedop.diff
>>> md5 files   ;-) files/2.3.3/glibc-2.3.3-tempfile.patch
>>> md5 files   ;-) files/2.3.3/glibc-2.3.3-mips-addabi.diff
>>> md5 files   ;-) files/2.3.3/glibc-2.3.3_pre20040117-signal-ssp.diff
>>> md5 files   ;-) files/2.3.3/glibc-2.3.2-propolice-guard-functions-v3.patch
>>> md5 files   ;-) files/2.3.3/glibc-2.3.3_pre20040117-pt_pax.diff
>>> md5 files   ;-) files/2.3.3/glibc-2.3.3_pre20040420-mips-dl-machine-calls.diff
>>> md5 files   ;-) files/2.3.3/glibc-2.3.3-mips-syscall.h.diff
>>> md5 files   ;-) files/2.3.3/glibc-2.3.3_pre20040117-got-fix.diff
>>> md5 files   ;-) files/2.3.3/glibc-2.3.3-localedef-fix-trampoline.patch
>>> md5 files   ;-) files/2.3.3/glibc-2.3.3_pre20040420-mips-incl-sgidefs.diff
>>> md5 files   ;-) files/2.3.3/glibc-2.3.3-mips-sysify.diff
>>> md5 files   ;-) files/2.3.3/glibc-2.3.3-dl_execstack-PaX-support.patch
>>> md5 files   ;-) files/2.3.4/glibc-sec-hotfix-20040916.patch
>>> md5 files   ;-) files/2.3.4/glibc-2.3.4-mips-sysdep-cancel.diff
>>> md5 files   ;-) files/2.3.4/glibc-2.3.4-mips-rtld_deepbind-undefined.patch
>>> md5 files   ;-) files/2.3.4/glibc-2.3.4-mips-update-__throw.patch
>>> md5 files   ;-) files/2.3.4/glibc-2.3.4-nptl-altivec.patch
>>> md5 files   ;-) files/2.3.4/glibc-2.3.4-mips-prot_grows-undefined.patch
>>> md5 files   ;-) files/2.3.4/glibc-2.3.4-mdns-resolver-20041102.diff
>>> md5 files   ;-) files/2.3.4/glibc-2.3.4-hppa-hardened-disable__init_arrays.patch
>>> md5 files   ;-) files/2.3.4/glibc-2.3.4.20040808-i386-got-fix.diff
>>> md5 files   ;-) files/2.3.4/glibc-2.3.4-res_init.patch
>>> md5 files   ;-) files/2.3.4/glibc-2.3.4-dl_execstack-PaX-support.patch
>>> md5 files   ;-) files/2.3.4/glibc-2.3.4-features-header-fix.patch
>>> md5 files   ;-) files/2.3.4/glibc-2.3.4-fedora-branch-nomalloccheck.patch
>>> md5 files   ;-) files/2.3.4/glibc-2.3.4-nptl-pthread.h-g++-fix.patch
>>> md5 files   ;-) files/2.3.4/glibc-2.3.4-arm-ioperm.patch
>>> md5 files   ;-) files/2.3.4/glibc-2.3.4-mips-add-missing-sgidefs_h.patch
>>> md5 files   ;-) files/2.3.4/glibc-2.3.4-hardened-sysdep-shared.patch
>>> md5 files   ;-) files/2.3.4/glibc-2.3.4-getcontext.patch
>>> md5 files   ;-) files/2.3.4/glibc-2.3.4-mips-generate-syscall_h.patch
>>> md5 files   ;-) files/2.3.4/glibc-2.3.4-fix-_dl_next_tls_modid-assert.patch
>>> md5 files   ;-) files/2.3.4/host.conf
>>> md5 files   ;-) files/2.3.4/glibc-2.3.3-mdns-resolver2.diff
>>> md5 files   ;-) files/2.3.4/glibc-gentoo-libdir.patch
>>> md5 files   ;-) files/2.3.4/glibc-2.3.4-fedora-branch-no-force-nontls.patch
>>> md5 files   ;-) files/2.3.4/glibc-2.3.4-fedora-branch-no-libnoversion.patch
>>> md5 files   ;-) files/2.3.4/glibc-2.3.4-ld.so-brk-fix.patch
>>> md5 src_uri ;-) glibc-2.3.3.tar.bz2
>>> md5 src_uri ;-) glibc-manpages-2.3.4.tar.bz2
>>> md5 src_uri ;-) glibc-infopages-2.3.4.tar.bz2
>>> md5 src_uri ;-) glibc-2.3.4-branch-update-20041102.patch.bz2
>>> Unpacking source...
>>> Unpacking glibc-2.3.3.tar.bz2 to /var/tmp/portage/glibc-2.3.4.20041102-r1/work
>>> Unpacking glibc-manpages-2.3.4.tar.bz2 to
/var/tmp/portage/glibc-2.3.4.20041102-r1/work/glibc-2.3.3/man
 * Applying glibc-2.3.4-branch-update-20041102.patch.bz2 ...

 * A dry-run of patch command succeeded, but actually
 * applying the patch failed!

 * Failed Patch: glibc-2.3.4-branch-update-20041102.patch.bz2 !
 *  ( /var/tmp/portage/glibc-2.3.4.20041102-r1/temp/26546.patch )
 *
 * Include in your bugreport the contents of:
 *
 *  
/var/tmp/portage/glibc-2.3.4.20041102-r1/temp/glibc-2.3.4-branch-update-20041102.patch.bz2-26546.out


!!! ERROR: sys-libs/glibc-2.3.4.20041102-r1 failed.
!!! Function epatch, Line 358, Exitcode 0
!!! Failed Patch: glibc-2.3.4-branch-update-20041102.patch.bz2!
!!! If you need support, post the topmost build error, NOT this status message.



Expected Results:  
emerge should have completed or at least got to the compile stage. 

emerge info
Portage 2.0.51.19 (default-linux/x86/2005.0, gcc-3.3.5-20050130,
glibc-2.3.4.20040808-r1, 2.6.10-gentoo-r6 i686)
=================================================================
System uname: 2.6.10-gentoo-r6 i686 AMD Athlon(tm) Processor
Gentoo Base System version 1.4.16
Python:              dev-lang/python-2.3.4-r1 [2.3.4 (#1, Apr 26 2005, 00:37:52)]
ccache version 2.3 [enabled]
dev-lang/python:     2.3.4-r1
sys-devel/autoconf:  2.59-r6, 2.13
sys-devel/automake:  1.8.5-r3, 1.5, 1.4_p6, 1.6.3, 1.7.9, 1.9.4
sys-devel/binutils:  2.15.92.0.2-r7
sys-devel/libtool:   1.4.3-r4, 1.5.14
virtual/os-headers:  2.4.21-r1
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CFLAGS="-O2 -march=i686 -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/X11R6/lib/X11/xkb /usr/kde/2/share/config
/usr/kde/3.2/share/config /usr/kde/3.3/env /usr/kde/3.3/share/config
/usr/kde/3.3/shutdown /usr/kde/3/share/config /usr/lib/mozilla/defaults/pref
/usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=i686 -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig ccache distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org
http://distro.ibiblio.org/pub/Linux/distributions/gentoo"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 3dnow X alsa apm arts avi berkdb bitmap-fonts bonobo cdr crypt cups
curl dvd emboss encode esd fam flac foomaticdb fortran gdbm gif gnome gphoto2
gpm gstreamer gtk gtk2 gtkhtml guile imagemagick imlib ipv6 java jpeg junit kde
ldap libg++ libwww mad mikmod mmx mmxext motif mozilla mp3 mpeg mysql ncurses
network nls nvidia ogg oggvorbis opengl oss pam pdflib perl png ppds python qt
quicktime readline real scanner sdl slang spell ssl svga tcltk tcpd theora tiff
truetype truetype-fonts type1-fonts usb vorbis xml xml2 xmms xv zlib"
Unset:  ASFLAGS, CBUILD, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTDIR_OVERLAY




Comment 1


Amitabh Menon





          2005-04-26 06:30:57 UTC
        

Created attachment 57284 [details]
patch .out file generated by epatch




Comment 2


SpanKY






          2005-04-26 21:41:18 UTC
        

weird, patch output looks fine ...

if you re-emerge patch, does it work ?




Comment 3


Amitabh Menon





          2005-05-02 21:54:48 UTC
        

Tried re-emerging then and got the same results. But the next day, I emerged some other packages and since then I am not able to reproduce this - glibc emerges cleanly. Closing this bug as I am not able to provide any more useful info. 









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

