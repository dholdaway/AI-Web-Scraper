Title: 249373 – dev-perl/gtk2-perl-1.202 - blib/arch/auto/Gtk2/Gtk2.so: undefined symbol: boot_Gtk2__Layout at /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi/DynaLoader.pm line 230.
URL: https://bugs.gentoo.org/show_bug.cgi?id=249373

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 249373
dev-perl/gtk2-perl-1.202 - blib/arch/auto/Gtk2/Gtk2.so: undefined symbol: boot_Gtk2__Layout at /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi/DynaLoader.pm line 230.
Last modified: 2008-12-11 07:08:58 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 249373 
      - dev-perl/gtk2-perl-1.202 - blib/arch/auto/Gtk2/Gtk2.so: undefined symbol: boot_Gtk2__Layout at /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi/DynaLoader.pm line 230.


Summary:
dev-perl/gtk2-perl-1.202 - blib/arch/auto/Gtk2/Gtk2.so: undefined symbol: boo...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Perl team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-11-30 13:12 UTC by ernsteiswuerfel





      Modified:
    
2008-12-11 07:08 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


ernsteiswuerfel






          2008-11-30 13:12:53 UTC
        

got this failure during an upgrade world. emerging glib-perl-1.200 went fine, but gtk2-perl failed

Reproducible: Always

Steps to Reproduce:
1. emerge dev-perl/gtk2-perl

Actual Results:  
[ XS build/constants.xs ]
[ CC build/constants.c ]
Running Mkbootstrap for Gtk2 ()
chmod 644 Gtk2.bs
rm -f blib/arch/auto/Gtk2/Gtk2.so
[ LD blib/arch/auto/Gtk2/Gtk2.so ]
chmod 755 blib/arch/auto/Gtk2/Gtk2.so
cp Gtk2.bs blib/arch/auto/Gtk2/Gtk2.bs
chmod 644 blib/arch/auto/Gtk2/Gtk2.bs
Parsing XS files...
Creating stock items POD...
Can't load 'blib/arch/auto/Gtk2/Gtk2.so' for module Gtk2: blib/arch/auto/Gtk2/Gtk2.so: undefined symbol: boot_Gtk2__Layout at /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi/DynaLoader.pm line 230.
 at tools/podifystockitems.pl line 0
Compilation failed in require.
BEGIN failed--compilation aborted.
make: *** [build/stock_items.podi] Fehler 2
 * 
 * ERROR: dev-perl/gtk2-perl-1.202 failed.
 * Call stack:
 *               ebuild.sh, line   49:  Called src_compile
 *             environment, line 2429:  Called perl-module_src_compile
 *             environment, line 2156:  Called die
 * The specific snippet of code:
 *           make ${mymake} || die "compilation failed";
 *  The die message:
 *   compilation failed
 * 
 * If you need support, post the topmost build error, and the call stack if relevant.
 * A complete build log is located at '/var/tmp/portage/dev-perl/gtk2-perl-1.202/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/dev-perl/gtk2-perl-1.202/temp/environment'.
 * 

 * Messages for package dev-perl/gtk2-perl-1.202:

 * 
 * ERROR: dev-perl/gtk2-perl-1.202 failed.
 * Call stack:
 *               ebuild.sh, line   49:  Called src_compile
 *             environment, line 2429:  Called perl-module_src_compile
 *             environment, line 2156:  Called die
 * The specific snippet of code:
 *           make ${mymake} || die "compilation failed";
 *  The die message:
 *   compilation failed
 * 
 * If you need support, post the topmost build error, and the call stack if relevant.
 * A complete build log is located at '/var/tmp/portage/dev-perl/gtk2-perl-1.202/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/dev-perl/gtk2-perl-1.202/temp/environment'.



Portage 2.1.4.5 (default/linux/amd64/2008.0/desktop, gcc-4.3.2, glibc-2.7-r2, 2.6.27-gentoo-r4 x86_64)
=================================================================
System uname: 2.6.27-gentoo-r4 x86_64 AMD Phenom(tm) 9500 Quad-Core Processor
Timestamp of tree: Sat, 29 Nov 2008 21:02:01 +0000
ccache version 2.4 [enabled]
app-shells/bash:     3.2_p33
dev-java/java-config: 1.3.7, 2.1.6
dev-lang/python:     2.5.2-r7
dev-python/pycrypto: 2.0.1-r6
dev-util/ccache:     2.4-r7
dev-util/cmake:      2.4.6-r1
sys-apps/baselayout: 1.12.11.1
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.61-r2
sys-devel/automake:  1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.1-r1
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.23-r3
ACCEPT_KEYWORDS="amd64"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-pipe -Os -mtune=amdfam10 -march=amdfam10 -fomit-frame-pointer -fivopts -ftree-loop-im -ftree-loop-linear -minline-stringops-dynamically"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-pipe -Os -mtune=amdfam10 -march=amdfam10 -fomit-frame-pointer -fivopts -ftree-loop-im -ftree-loop-linear -minline-stringops-dynamically"
DISTDIR="/usr/portage/distfiles"
FEATURES="ccache distlocks fixpackages metadata-transfer parallel-fetch sandbox sfperms strict unmerge-orphans userfetch userpriv"
GENTOO_MIRRORS="ftp://mirror.switch.ch/mirror/gentoo/ http://mirror.switch.ch/ftp/mirror/gentoo/ "
LANG="de_DE.UTF-8"
LDFLAGS="-Wl,-O1 -Wl,-z,now -Wl,--sort-common -Wl,--as-needed -Wl,-S"
LINGUAS="de en"
MAKEOPTS="-j5"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage/layman/java-overlay"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="3dnow 3dnowext X a52 aac acpi alsa amd64 amr audacious bash-completion berkdb bluetooth branding bzip2 cairo caps cdr cli cracklib crypt cups custom-cflags dbus djvu dri dts dvd dvdr dvdread dvi emboss enca encode evo exif fam firefox flac foomaticdb fortran gdbm gif gnome gnutls gstreamer gtk hal iconv ipv6 isdnlog ithreads java6 jbig joystick jpeg jpeg2k kerberos libnotify libsamplerate live lm_sensors mad matroska midi mikmod mmap mmx mmxext mng mozsvg mp3 mp4 mpeg mudflap multilib musepack nas ncurses nls no-old-linux nptl nptlonly nsplugin ntfs ogg ogm opengl openmp pam pcre pdf perl png ppds pppd pulseaudio python qt3support quicktime readline reflection rle rtc schroedinger sdl session speex spell spl sse sse2 sse3 ssl startup-notification svg sysfs tcpd theora threads tiff tivo truetype unicode usb vorbis wavpack wmf x264 xml xorg xulrunner xv xvid xvmc zlib zoran" ALSA_CARDS="snd-hda-intel" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="keyboard mouse joystick" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="de en" USERLAND="GNU" VIDEO_CARDS="fbdev radeon radeonhd"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LC_ALL, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Sergiy Borodych





          2008-12-03 11:45:24 UTC
        


You can try reemerging gtk+
# emerge -1 x11-libs/gtk+
# revdep-rebuild

if not help when
please provide some more info
# pkg-config --cflags --libs gtk+-2.0
# emerge -pv x11-libs/gtk+




Comment 2


ernsteiswuerfel






          2008-12-03 17:30:51 UTC
        

thanks for your suggestions! but it didn't work. Here's the output you requested:

# pkg-config --cflags --libs gtk+-2.0
-I/usr/include/gtk-2.0 -I/usr/lib64/gtk-2.0/include -I/usr/include/atk-1.0 -I/usr/include/cairo -I/usr/include/pango-1.0 -I/usr/include/glib-2.0 -I/usr/lib64/glib-2.0/include -I/usr/include/freetype2 -I/usr/include/libpng12 -I/usr/include/pixman-1  -lgtk-x11-2.0 -lgdk-x11-2.0 -latk-1.0 -lgdk_pixbuf-2.0 -lpangocairo-1.0 -lpango-1.0 -lcairo -lgobject-2.0 -lgmodule-2.0 -ldl -lglib-2.0 

# emerge -pv x11-libs/gtk+

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild   R   ] x11-libs/gtk+-2.12.11  USE="X cups jpeg tiff -debug -doc -vim-syntax -xinerama" 0 kB 





Comment 3


ernsteiswuerfel






          2008-12-09 17:01:08 UTC
        

during my last # emerge -uD world the upgrade to "dev-perl/gtk2-perl-1.202"... the only significant changes I did in the mean time was upgradung to portage-2.1.6 and some # fixpackages




Comment 4


Sergiy Borodych





          2008-12-10 13:35:48 UTC
        

another mystical bug ?! :)

so I think you may close bug




Comment 5


Torsten Veller (RETIRED)






          2008-12-10 17:55:49 UTC
        

(In reply to comment #3)
> during my last # emerge -uD world the upgrade to "dev-perl/gtk2-perl-1.202"...
> the only significant changes I did in the mean time was upgradung to
> portage-2.1.6 and some # fixpackages

Closing.
Maybe you want to revise your C(XX)FLAGS.




Comment 6


ernsteiswuerfel






          2008-12-11 07:08:58 UTC
        

@ Sergiy Borodych:

Well, as the bug occurred on my machine it was 100% reproducible. Altering the CFLAGS, LDFLAGS, clearing portage-tmp, revdep-rebuilding or rebuilding gtk+ didn't change anything. But now, since my last # emerge -uD world (though it failed on some # emerge -uD world before) it disappeared. Somehow that's rather mystical, you are right... ;)

@ Torsten Veller:

As the bug appeared on my machine I did a few compiles with my safe CFLAGS-setting:
CFLAGS="-pipe -Os -mtune=k8-sse3 -march=k8-sse3"
CXXFLAGS="${CFLAGS}"
LDFLAGS="-Wl,-O1 -Wl,--sort-common -Wl,-S"

which didn't make a difference in the compile-error output in bash.


Thanks for your help and suggestions!









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

