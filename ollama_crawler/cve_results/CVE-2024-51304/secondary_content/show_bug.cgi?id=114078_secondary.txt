Title: 114078 – kde-base/ktalkd-3.5.0: failure to merge, various errors
URL: https://bugs.gentoo.org/show_bug.cgi?id=114078

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 114078
kde-base/ktalkd-3.5.0: failure to merge, various errors
Last modified: 2005-12-21 15:48:12 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 114078 
      - kde-base/ktalkd-3.5.0: failure to merge, various errors


Summary:
kde-base/ktalkd-3.5.0: failure to merge, various errors
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Portage team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-11-30 16:33 UTC by FieldySnuts





      Modified:
    
2005-12-21 15:48 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




ktalkd-3.5.0 portage log

              (5997-ktalkd-3.5.0.log,47.26 KB,
                text/plain)

            
2005-12-01 06:09 UTC,

            FieldySnuts




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


FieldySnuts





          2005-11-30 16:33:18 UTC
        

I am trying to merge kde-base/ktalkd-3.5.0 , however over the past three merge
attempts, I have gotten different errors.

1:

"!!! CATEGORY info missing from info chunk, aborting..."

2:

ln: accessing `/usr/portage/packages/kde-base/ktalkd-3.5.0.tbz2': Not a directory

!!! ERROR: kde-base/ktalkd-3.5.0 failed.
!!! Function dyn_package, Line 966, Exitcode 1
!!! Failed to create symlink in /usr/portage/packages/kde-base


3:

./usr/share/doc/ktalkd-3.5.0/AUTHORS.gz
ln: fire-eyes ~ # 


The third one is the strangest, i just got dropped back to the prompt.

Portage 2.0.53_rc7 (default-linux/x86/2005.0, gcc-3.4.4, glibc-2.3.5-r2,
2.6.14.2-grsec-20051115 i686)
=================================================================
System uname: 2.6.14.2-grsec-20051115 i686 AMD Athlon(TM) XP 1800+
Gentoo Base System version 1.12.0_pre8
ccache version 2.4 [enabled]
dev-lang/python:     2.3.5, 2.4.1-r1
sys-apps/sandbox:    1.2.13
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.20-r1
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=athlon-xp -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env
/usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config
/usr/lib/mozilla/defaults/pref /usr/share/X11/xkb /usr/share/config
/var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=athlon-xp -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig buildpkg ccache distlocks notitles sandbox sfperms strict"
GENTOO_MIRRORS="http://distro.ibiblio.org/pub/linux/distributions/gentoo/"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.namerica.gentoo.org/gentoo-portage"
USE="x86 3dnow X aalib alsa apm audiofile avi berkdb bitmap-fonts bzip2 cdr
chroot crypt curl dv dvd dvdr eds emboss encode ethereal exif expat fam ffmpeg
flac foomaticdb fortran gdbm gif glut gmp gnome gpm gstreamer gtk gtk2 guile hal
idn imagemagick imlib java jpeg kde lcms ldap libg++ libwww lua mad mikmod mmx
mng motif mozilla mp3 mpeg ncurses nls nptl ogg oggvorbis openal opengl oss pam
pcre pdflib perl png pwdb python qt quicktime readline recode samba sdl slang
snmp spell sqlite sse ssl svga tcltk tiff truetype truetype-fonts type1-fonts
udev usb vorbis xine xml2 xmms xv xvid zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS




Comment 1


Diego Elio Pettenò (RETIRED)






          2005-12-01 04:56:11 UTC
        

Please attach a complete log of the final part of the build and reopen. 




Comment 2


FieldySnuts





          2005-12-01 06:09:11 UTC
        

I did not keep my merge logs for each of the above 3 isntances, so I have done
it one more time. I will attach the full merge log.

This fourth time, the error was:

ln: accessing `/usr/portage/packages/kde-base/ktalkd-3.5.0.tbz2': Not a directory

!!! ERROR: kde-base/ktalkd-3.5.0 failed.
!!! Function dyn_package, Line 966, Exitcode 1
!!! Failed to create symlink in /usr/portage/packages/kde-base




Comment 3


FieldySnuts





          2005-12-01 06:09:38 UTC
        

Created attachment 73885 [details]
ktalkd-3.5.0 portage log

Thanks!




Comment 4


Gregorio Guidi (RETIRED)






          2005-12-01 06:22:08 UTC
        

This not related to KDE, portage itself fails to link the package it created 
in /usr/portage/packages/All/ into /usr/portage/packages/kde-base/... 
 
Maybe you just need to remove /usr/portage/packages/kde-base/ktalkd-3.5.0.tbz2 
and try again? 
 




Comment 5


FieldySnuts





          2005-12-01 06:25:56 UTC
        

I have removed /usr/portage/distfiles/* and /usr/portage/packages/* and
/var/tmp/portage/* multiple times, I always get one of those errors unfortuantely.

Since you say this is a portage problem, should I resubmit this against portage?




Comment 6


FieldySnuts





          2005-12-01 06:30:09 UTC
        

Additionally, I just saw the failed chunk error, on a different system, trying
to merge ksplashml-3.5.0. I have emailed the details from myself at work to
home, so I can post it here, however it still hasn't arrived yet.

So it certainly seems to be with portage so far.




Comment 7


Jason Stubbs (RETIRED)






          2005-12-21 08:21:44 UTC
        

"!!! CATEGORY info missing from info chunk, aborting..."

This is almost always due to broken binaries. Error #3 looks like a segfault. Error #2 is strange. Can you use ln to create links successfully?





Comment 8


FieldySnuts





          2005-12-21 09:37:17 UTC
        

Yes, I can link fine. At some point I got ktalkd 3.5.0 merged successfully, I don't remember when that was.

I suppose this can be closed. Thanks for the replies, I'm sorry I can't be of any further help.




Comment 9


Jason Stubbs (RETIRED)






          2005-12-21 15:48:12 UTC
        

Ok.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

