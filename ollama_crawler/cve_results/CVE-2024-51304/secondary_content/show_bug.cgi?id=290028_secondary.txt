Title: 290028 – media-libs/libemf-1.0.4 fails to compile (gcc-4.4.2 problem?)
URL: https://bugs.gentoo.org/show_bug.cgi?id=290028

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 290028
media-libs/libemf-1.0.4 fails to compile (gcc-4.4.2 problem?)
Last modified: 2009-10-24 11:46:21 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 290028 
      - media-libs/libemf-1.0.4 fails to compile (gcc-4.4.2 problem?)


Summary:
media-libs/libemf-1.0.4 fails to compile (gcc-4.4.2 problem?)
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Patrick Kursawe (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-10-21 16:12 UTC by Rebecca Menessec





      Modified:
    
2009-10-24 11:46 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Build log

              (build.log,23.51 KB,
                text/plain)

            
2009-10-21 16:16 UTC,

            Rebecca Menessec




Details





Emerge info

              (emerge-info.txt,5.83 KB,
                text/plain)

            
2009-10-21 16:17 UTC,

            Rebecca Menessec




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Rebecca Menessec





          2009-10-21 16:12:32 UTC
        

Attaching build log and emerge --info output.

Reproducible: Always

Steps to Reproduce:




Comment 1


Rebecca Menessec





          2009-10-21 16:16:46 UTC
        

Created attachment 207838 [details]
Build log




Comment 2


Rebecca Menessec





          2009-10-21 16:17:11 UTC
        

Created attachment 207840 [details]
Emerge info




Comment 3


Rafał Mużyło





          2009-10-21 16:35:48 UTC
        

First, just to make sure:
was emerge started from a shell started after
you've selected 4.4.2 (just making sure it's not
simply stale environment) ?

If so, then perhaps fixing libtool files has failed
and you need to manually run that.




Comment 4


Rebecca Menessec





          2009-10-21 19:05:19 UTC
        

(In reply to comment #3)
> First, just to make sure:
> was emerge started from a shell started after
> you've selected 4.4.2 (just making sure it's not
> simply stale environment) ?
> 
> If so, then perhaps fixing libtool files has failed
> and you need to manually run that.

Nope and nope.  Been using gcc 4.4.2 since the ebuild hit main tree.





Comment 5


Rafał Mużyło





          2009-10-21 19:26:39 UTC
        

Does reemering libtool help ?
See 'gcc --version' and content of /etc/ld.so.conf to make sure.
Also there were problems with '-O3' and gcc 4.4.1,
perhaps problem lies there ?




Comment 6


Rebecca Menessec





          2009-10-21 21:18:01 UTC
        

Interestingly, something left behind /usr/lib/gcc/i686-pc-linux-gnu/4.1.1/include/g++-v4/gnu/awt/j2d/(In reply to comment #5)
> Does reemering libtool help ?
> See 'gcc --version' and content of /etc/ld.so.conf to make sure.
> Also there were problems with '-O3' and gcc 4.4.1,
> perhaps problem lies there ?

No problems there.  Re-emerging libtool did the trick.  The question is: why?  Does something need to be changed in the gcc ebuild to diddle libtool to alert it to the new version? Also, when is libemf's code going to be cleaned up to remove the raft of warnings? :D

And, unrelatedly, why was /etc/env.d/20java still chock-full of references to Sun JDK 1.4.2.19, a couple years after I upgraded to 1.6.0.x and months and months after I completely removed 1.4.2.19? :D




Comment 7


Patrick Kursawe (RETIRED)






          2009-10-24 11:46:21 UTC
        

So, this is no libemf problem - closing.
Your other questions would be something for IRC or separate bugs, then.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

