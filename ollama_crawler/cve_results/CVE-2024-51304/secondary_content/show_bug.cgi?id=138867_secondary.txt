Title: 138867 – k3b-0.12.14 failed to compile
URL: https://bugs.gentoo.org/show_bug.cgi?id=138867

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 138867
k3b-0.12.14 failed to compile
Last modified: 2006-07-08 07:28:23 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 138867 
      - k3b-0.12.14 failed to compile


Summary:
k3b-0.12.14 failed to compile
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-07-02 08:01 UTC by Matthias F. Brandstetter (RETIRED)





      Modified:
    
2006-07-08 07:28 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



media-optical
william









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Matthias F. Brandstetter (RETIRED)






          2006-07-02 08:01:24 UTC
        

Hello all, I get this error during compilation of k3b-0.12.14:

k3blameencoder.cpp: In member function `virtual bool K3bLameEncoder::initEncoderInternal(const QString&, const K3b::Msf&)':
k3blameencoder.cpp:176: error: `V9' undeclared (first use this function)
k3blameencoder.cpp:176: error: (Each undeclared identifier is reported only once for each function it appears in.)
k3blameencoder.cpp:177: error: `V8' undeclared (first use this function)
k3blameencoder.cpp:178: error: `V7' undeclared (first use this function)
k3blameencoder.cpp:179: error: `V6' undeclared (first use this function)
k3blameencoder.cpp:180: error: `V5' undeclared (first use this function)
k3blameencoder.cpp:181: error: `V4' undeclared (first use this function)
k3blameencoder.cpp:182: error: `V3' undeclared (first use this function)
k3blameencoder.cpp:183: error: `V2' undeclared (first use this function)
k3blameencoder.cpp:184: error: `V1' undeclared (first use this function)
k3blameencoder.cpp:186: error: `V0' undeclared (first use this function)
make[4]: *** [k3blameencoder.lo] Error 1
make[4]: *** Waiting for unfinished jobs....
make[4]: Leaving directory `/var/tmp/portage/k3b-0.12.14/work/k3b-0.12.14/plugins/encoder/lame'
make[3]: *** [all-recursive] Error 1
make[3]: Leaving directory `/var/tmp/portage/k3b-0.12.14/work/k3b-0.12.14/plugins/encoder'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/var/tmp/portage/k3b-0.12.14/work/k3b-0.12.14/plugins'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/k3b-0.12.14/work/k3b-0.12.14'
make: *** [all] Error 2

!!! ERROR: app-cdr/k3b-0.12.14 failed.
Call stack:
  ebuild.sh, line 1539:   Called dyn_compile
  ebuild.sh, line 939:   Called src_compile
  k3b-0.12.14.ebuild, line 96:   Called kde_src_compile
  kde.eclass, line 164:   Called kde_src_compile 'all'
  kde.eclass, line 306:   Called kde_src_compile 'myconf' 'configure' 'make'
  kde.eclass, line 302:   Called die




Comment 1


Matthias F. Brandstetter (RETIRED)






          2006-07-02 08:01:56 UTC
        

[ 16:52 haim@itchy ~ ] emerge --info
Portage 2.1-r1 (default-linux/x86/2006.0, gcc-3.4.4, glibc-2.3.5-r2, 2.6.11-gentoo-r5 i686)
=================================================================
System uname: 2.6.11-gentoo-r5 i686 Intel(R) Pentium(R) 4 CPU 3.00GHz
Gentoo Base System version 1.4.16
dev-lang/python:     2.2.2, 2.3.4, 2.4.1-r1
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6
sys-devel/binutils:  2.15.92.0.2-r10
sys-devel/gcc-config: 1.3.11-r4
sys-devel/libtool:   1.4.1-r10, 1.5.10-r4
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
ACCEPT_LICENSE=""
ANT_HOME="/usr/share/ant-core"
ARCH="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium4 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CLASSPATH="."
CLEAN_DELAY="5"
COLORTERM=""
CONFIG_PROTECT="/etc /usr/kde/3.3/share/config:/usr/kde/3.3/env:/usr/kde/3.3/shutdown /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/gconf /etc/revdep-rebuild"
CRYSTAL="/opt/crystal"
CVSROOT=":pserver:haim@firewall.ebox.at:/usr/local/cvsroot"
CVS_RSH="ssh"
CXXFLAGS="-O2 -march=pentium4 -pipe -fomit-frame-pointer"
DISPLAY=":0.0"
DISTDIR="/usr/portage/distfiles"
EDITOR="/usr/bin/vim"
ELIBC="glibc"
EMERGE_WARNING_DELAY="10"
FEATURES="autoconfig candy distlocks metadata-transfer moo parallel-fetch sandbox sfperms strict userpriv usersandbox"
FETCHCOMMAND="/usr/bin/wget -t 5 -T 60 --passive-ftp -P ${DISTDIR} ${URI}"
GDK_USE_XFT="1"
GENTOO_MIRRORS="http://gentoo.inode.at/ http://linux.rz.ruhr-uni-bochum.de/download/gentoo-mirror/ http://mirrors.sec.informatik.tu-darmstadt.de/gentoo http://ftp.uni-erlangen.de/pub/mirrors/gentoo"
GPG_AGENT_INFO="/tmp/gpg-wAaOYC/S.gpg-agent:8223:1"
GS_LIB="/home/haim/.fonts"
GTK2_RC_FILES="/etc/gtk-2.0/gtkrc:/home/haim/.gtkrc-2.0:/home/haim/.kde3.5/share/config/gtkrc-2.0"
GTK_RC_FILES="/etc/gtk/gtkrc:/home/haim/.gtkrc:/home/haim/.kde3.5/share/config/gtkrc"
GUILE_LOAD_PATH="/usr/share/guile/1.6"
G_BROKEN_FILENAMES="1"
HOME="/home/haim"
HOSTNAME="itchy"
INFODIR="/usr/share/info"
INFOPATH="/usr/share/info:/usr/share/binutils-data/i686-pc-linux-gnu/2.15.92.0.2/info"
INPUTRC="/etc/inputrc"
INPUT_DEVICES="keyboard mouse evdev"
JAVAC="/opt/blackdown-jdk-1.4.2.02/bin/javac"
JAVA_HOME="/opt/sun-jre-bin-1.4.2.08"
JDK_HOME="/opt/blackdown-jdk-1.4.2.02"
KDEDIR="/usr/kde/3.3"
KDEDIRS="/usr"
KDE_FULL_SESSION="true"
KDE_MULTIHEAD="true"
KERNEL="linux"
KONSOLE_DCOP="DCOPRef(konsole-8760,konsole)"
KONSOLE_DCOP_SESSION="DCOPRef(konsole-8760,session-1)"
LESS="-r"
LESSOPEN="|lesspipe.sh %s"
LOGNAME="haim"
LS_COLORS="no=00:fi=00:di=01;34:ln=01;36:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arj=01;31:*.taz=01;31:*.lzh=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.gz=01;31:*.bz2=01;31:*.deb=01;31:*.rpm=01;31:*.jpg=01;35:*.gif=01;35:*.bmp=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.png=01;35:*.mpg=01;35:*.avi=01;35:*.fli=01;35:*.gl=01;35:*.dl=01;35:"
MAIL="/var/mail/haim"
MAKEOPTS="-j3"
MANPATH="/usr/share/man:/usr/local/share/man:/usr/share/binutils-data/i686-pc-linux-gnu/2.15.92.0.2/man:/usr/share/man:/usr/local/share/man:/usr/share/binutils-data/i686-pc-linux-gnu/2.15.92.0.2/man::/opt/blackdown-jdk-1.4.2.02/man:/usr/qt/3/man:/usr/qt/3/doc/man:/opt/vmware/man:/opt/blackdown-jdk-1.4.2.02/man:/usr/qt/3/man:/usr/qt/3/doc/man:/opt/vmware/man:/opt/sun-jre-bin-1.4.2.08/man"
MOZILLA_FIVE_HOME="/usr/lib/mozilla"
OPENGL_PROFILE="nvidia"
PAGER="/usr/bin/most"
PATH="/opt/sun-jre-bin-1.4.2.08/bin:/opt/sun-jre-bin-1.4.2.08/javaws:/bin:/usr/bin:/sbin:/usr/sbin:/usr/X11R6/bin:/usr/qt/3/bin:/usr/kde/3.5/bin:/usr/games/bin:/home/haim/scripts:/usr/bin/wrappers"
PKGDIR="/usr/portage/packages"
PORTAGE_ARCHLIST="ppc s390 amd64 ppc64 x86-fbsd m68k arm sparc sh mips ia64 alpha ppc-macos hppa x86"
PORTAGE_BINHOST_CHUNKSIZE="3000"
PORTAGE_BIN_PATH="/usr/lib/portage/bin"
PORTAGE_CALLER="emerge"
PORTAGE_CONFIGROOT="/"
PORTAGE_ELOG_CLASSES="warn error log"
PORTAGE_ELOG_MAILFROM="portage"
PORTAGE_ELOG_MAILSUBJECT="[portage] ebuild log for ${PACKAGE} on ${HOST}"
PORTAGE_ELOG_MAILURI="haimat@lame.at localhost"
PORTAGE_ELOG_SYSTEM="save mail"
PORTAGE_GID="250"
PORTAGE_INST_GID="0"
PORTAGE_INST_UID="0"
PORTAGE_NICENESS="10"
PORTAGE_PYM_PATH="/usr/lib/portage/pym"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_RSYNC_RETRIES="3"
PORTAGE_TMPDIR="/var/tmp"
PORTAGE_TMPFS="/dev/shm"
PORTAGE_WORKDIR_MODE="0700"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
PRELINK_PATH=""
PRELINK_PATH_MASK="/usr/lib/gstreamer-0.8"
PS1="\[\033[00m\][ \[\033[01;37m\]$(/bin/date +%H:%M) \[\033[01;32m\]\u@\h \[\033[01;34m\]$(ps1dir $PWD) \[\033[00m\]] "
PWD="/home/haim"
PYTHONDOCS="/usr/share/doc/python-docs-2.4.1/html"
PYTHONPATH="/usr/lib/portage/pym"
QMAKESPEC="linux-g++"
QTDIR="/usr/qt/3"
RESUMECOMMAND="/usr/bin/wget -c -t 5 -T 60 --passive-ftp -P ${DISTDIR} ${URI}"
ROOT="/"
RPMDIR="/usr/portage/rpm"
SESSION_MANAGER="local/itchy:/tmp/.ICE-unix/8325"
SGML_CATALOG_FILES="/etc/sgml/sgml-ent.cat:/etc/sgml/sgml-docbook.cat:/etc/sgml/openjade-1.3.1.cat:/etc/sgml/sgml-docbook-3.1.cat:/etc/sgml/sgml-lite.cat:/etc/sgml/dsssl-docbook-stylesheets.cat:/etc/sgml/sgml-docbook-3.0.cat"
SHELL="/bin/bash"
SHLVL="5"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
TERM="xterm"
TMAKEPATH="/usr/lib/tmake/linux-g++"
USE="x86 3dnow X aac aalib alsa apache2 arts avi bitmap-fonts browserplugin cli crypt cups dga divx4linux dlloader doc dri dvd dvdr dvdread eds emboss encode esd fastcgi foomaticdb fortran gd gdbm gif gstreamer gtk gtk2 hbci ipv6 isdnlog jpeg kde kdeenablefinal kerberos libg++ libwww mad maildir md5sum mmx mmx2 motif mp3 mpeg mplayer mysql ncurses nptl nvidia offensive ogg opengl pam pcre pdflib perl php png pppd python qt qt3 qt4 quicktime readline real reflection samba sdl session spl sqlite sse sse2 ssl tcpd truetype truetype-fonts type1-fonts udev unicode usb videos visualization vorbis win32codecs xine xml xmms xorg xv xvid zlib elibc_glibc input_devices_keyboard input_devices_mouse input_devices_evdev kernel_linux userland_GNU"
USER="haim"
USERLAND="GNU"
USE_EXPAND="DVB_CARDS ELIBC FCDSL_CARDS FRITZCAPI_CARDS INPUT_DEVICES KERNEL LINGUAS LIRC_DEVICES USERLAND VIDEO_CARDS"
USE_EXPAND_HIDDEN="ELIBC KERNEL USERLAND"
USE_ORDER="env:pkg:conf:defaults"
WINDOWID="58720265"
XARGS="xargs -r"
XAUTHORITY="/home/haim/.Xauthority"
XCURSOR_THEME="PolarCursorTheme"
XDG_CONFIG_DIRS="/usr/kde/3.5/etc/xdg"
XDG_DATA_DIRS="/usr/kde/3.5/share:/usr/share"
XINITRC="/etc/X11/xinit/xinitrc"
_="/usr/bin/emerge"





Comment 2


Bill Skellenger





          2006-07-06 12:22:36 UTC
        

Same issue here.  I unmerged everything to do with KDE 3.3 (latest version I have is 3.4), still had same problem.  Currently emerging a new(er) version of lame to see if that has any impact.




Comment 3


Bill Skellenger





          2006-07-06 13:59:18 UTC
        

Looks like it's missing a dependency --

I emerged media-sound/lame-3.96.1, and was then able to compile k3b successfully:

--------------------------

 * Make sure you have proper read/write permissions on the cdrom device(s).
 * Usually, it is sufficient to be in the cdrom group.

>>> Regenerating /etc/ld.so.cache...
>>> app-cdr/k3b-0.12.14 merged.

 app-cdr/k3b
    selected: 0.12.8
   protected: 0.12.14
     omitted: none





Comment 4


Matthias F. Brandstetter (RETIRED)






          2006-07-07 02:03:45 UTC
        

Thanks, that did the trick! After installing media-sound/lame-3.96.1 I had no problems merging k3b any longer.

Best regards,
Matthias




Comment 5


Bill Skellenger





          2006-07-08 07:28:23 UTC
        

I think this bug should remain open -- portage should know (and automatically install) the missing dependency.  This is a problem in the ebuild:

DEPEND="kde? ( || ( kde-base/kdesu kde-base/kdebase ) )
    hal? ( sys-apps/dbus sys-apps/hal )
    media-libs/libsamplerate
    media-libs/taglib
    >=media-sound/cdparanoia-3.9.8
    sndfile? ( media-libs/libsndfile )
    ffmpeg? ( media-video/ffmpeg )
    flac? ( media-libs/flac )
    mp3? ( media-libs/libmad )
    musepack? ( media-libs/libmpcdec )
    vorbis? ( media-libs/libvorbis )
    musicbrainz? ( media-libs/musicbrainz )
    encode? ( media-sound/lame )      <---  Should require at least 3.96.1
    alsa? ( media-libs/alsa-lib )"










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

