Title: 164864 – www-servers/lighttpd-1.4.11 fails to emerge with USE=lua due to use of lua-config instead of pkg-config
URL: https://bugs.gentoo.org/show_bug.cgi?id=164864

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 164864
www-servers/lighttpd-1.4.11 fails to emerge with USE=lua due to use of lua-config instead of pkg-config
Last modified: 2007-08-26 16:18:40 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 164864 
      - www-servers/lighttpd-1.4.11 fails to emerge with USE=lua due to use of lua-config instead of pkg-config


Summary:
www-servers/lighttpd-1.4.11 fails to emerge with USE=lua due to use of lua-co...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

www-servers Herd (OBSOLETE)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-02-01 15:58 UTC by Natanael Copa





      Modified:
    
2007-08-26 16:18 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Natanael Copa





          2007-02-01 15:58:16 UTC
        

Looks like it tries tom compile the output of lua-config.

 i386-gentoo-linux-uclibc-gcc -DHAVE_CONFIG_H -DLIBRARY_DIR=\"/usr/lib/lighttpd\" -I. -I.. -D_REENTRANT -D__EXTENSIONS__ -DOPENSSL_NO_KRB5 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE -D_LARGE_FILES Please set the WANT_LUA enviroment variable to the lua version you wish to use, eg: WANT_LUA=5.1 -march=i386 -Os -pipe -fomit-frame-pointer -Wall -W -Wshadow -pedantic -MT mod_cml_la-mod_cml.lo -MD -MP -MF .deps/mod_cml_la-mod_cml.Tpo -c mod_cml.c  -fPIC -DPIC -o .libs/mod_cml_la-mod_cml.o
i386-gentoo-linux-uclibc-gcc: Please: No such file or directory
i386-gentoo-linux-uclibc-gcc: set: No such file or directory
i386-gentoo-linux-uclibc-gcc: the: No such file or directory
i386-gentoo-linux-uclibc-gcc: WANT_LUA: No such file or directory
i386-gentoo-linux-uclibc-gcc: enviroment: No such file or directory
i386-gentoo-linux-uclibc-gcc: variable: No such file or directory
i386-gentoo-linux-uclibc-gcc: to: No such file or directory
i386-gentoo-linux-uclibc-gcc: the: No such file or directory
i386-gentoo-linux-uclibc-gcc: lua: No such file or directory
i386-gentoo-linux-uclibc-gcc: version: No such file or directory
i386-gentoo-linux-uclibc-gcc: you: No such file or directory
i386-gentoo-linux-uclibc-gcc: wish: No such file or directory
i386-gentoo-linux-uclibc-gcc: to: No such file or directory
i386-gentoo-linux-uclibc-gcc: use,: No such file or directory
i386-gentoo-linux-uclibc-gcc: eg:: No such file or directory
i386-gentoo-linux-uclibc-gcc: WANT_LUA=5.1: No such file or directory
i386-gentoo-linux-uclibc-gcc: Please: No such file or directory
i386-gentoo-linux-uclibc-gcc: set: No such file or directory
i386-gentoo-linux-uclibc-gcc: the: No such file or directory
i386-gentoo-linux-uclibc-gcc: WANT_LUA: No such file or directory
i386-gentoo-linux-uclibc-gcc: enviroment: No such file or directory
i386-gentoo-linux-uclibc-gcc: variable: No such file or directory
i386-gentoo-linux-uclibc-gcc: to: No such file or directory
i386-gentoo-linux-uclibc-gcc: the: No such file or directory
i386-gentoo-linux-uclibc-gcc: lua: No such file or directory
i386-gentoo-linux-uclibc-gcc: version: No such file or directory
i386-gentoo-linux-uclibc-gcc: you: No such file or directory
i386-gentoo-linux-uclibc-gcc: wish: No such file or directory
i386-gentoo-linux-uclibc-gcc: to: No such file or directory
i386-gentoo-linux-uclibc-gcc: use,: No such file or directory
i386-gentoo-linux-uclibc-gcc: eg:: No such file or directory
i386-gentoo-linux-uclibc-gcc: WANT_LUA=5.1: No such file or directory

configure.in should be patched to use pkg-config instead of lua-config.

btw... lua-config should probably set the exit code properly instead of returning 0 (success) and error text should go to stderr. I think the config script would have catched it instead of foolishly try to compile the error message, but i guess that belongs to another bug #




Comment 1


Thilo Bangert (RETIRED) (RETIRED)






          2007-08-26 16:18:40 UTC
        

please try lighttpd-1.4.16 and reopen (with emerge --info) if problem persists.
thanks for the report!









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

