Title: 722156 – net-wireless/soapyhackrf-0.3.3-r1 : HackRF_Streaming.cpp:(.text+<snip>): undefined reference to pthread_cond_clockwait
URL: https://bugs.gentoo.org/show_bug.cgi?id=722156

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 722156
net-wireless/soapyhackrf-0.3.3-r1 : HackRF_Streaming.cpp:(.text+<snip>): undefined reference to pthread_cond_clockwait
Last modified: 2022-09-29 14:15:15 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 722156 
      - net-wireless/soapyhackrf-0.3.3-r1 : HackRF_Streaming.cpp:(.text+<snip>): undefined reference to pthread_cond_clockwait


Summary:
net-wireless/soapyhackrf-0.3.3-r1 : HackRF_Streaming.cpp:(.text+<snip>): unde...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Rick Farina (Zero_Chaos)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2020-05-10 15:49 UTC by Toralf Förster





      Modified:
    
2022-09-29 14:15 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



radio









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge-info.txt

              (emerge-info.txt,18.00 KB,
                text/plain)

            
2020-05-10 15:50 UTC,

            Toralf Förster




Details





emerge-history.txt

              (emerge-history.txt,378.68 KB,
                text/plain)

            
2020-05-10 15:50 UTC,

            Toralf Förster




Details





environment

              (environment,112.67 KB,
                text/plain)

            
2020-05-10 15:50 UTC,

            Toralf Förster




Details





etc.portage.tbz2

              (etc.portage.tbz2,43.39 KB,
                application/x-bzip)

            
2020-05-10 15:50 UTC,

            Toralf Förster




Details





logs.tbz2

              (logs.tbz2,4.24 KB,
                application/x-bzip)

            
2020-05-10 15:50 UTC,

            Toralf Förster




Details





net-wireless:soapyhackrf-0.3.3-r1:20200510-152400.log

              (net-wireless:soapyhackrf-0.3.3-r1:20200510-152400.log,10.85 KB,
                text/plain)

            
2020-05-10 15:50 UTC,

            Toralf Förster




Details





temp.tbz2

              (temp.tbz2,27.68 KB,
                application/x-bzip)

            
2020-05-10 15:50 UTC,

            Toralf Förster




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Toralf Förster






          2020-05-10 15:49:57 UTC
        

/usr/lib/gcc/x86_64-pc-linux-gnu/10.1.0/../../../../x86_64-pc-linux-gnu/bin/ld: CMakeFiles/HackRFSupport.dir/HackRF_Streaming.cpp.o: in function SoapyHackRF::acquireWriteBuffer(SoapySDR::Stream*, unsigned long&, void**, long):
HackRF_Streaming.cpp:(.text+0x1977): undefined reference to pthread_cond_clockwait
/usr/lib/gcc/x86_64-pc-linux-gnu/10.1.0/../../../../x86_64-pc-linux-gnu/bin/ld: CMakeFiles/HackRFSupport.dir/HackRF_Streaming.cpp.o: in function SoapyHackRF::acquireReadBuffer(SoapySDR::Stream*, unsigned long&, void const**, int&, long long&, long):
HackRF_Streaming.cpp:(.text+0x1bab): undefined reference to pthread_cond_clockwait
/usr/lib/gcc/x86_64-pc-linux-gnu/10.1.0/../../../../x86_64-pc-linux-gnu/bin/ld: HackRF_Streaming.cpp:(.text+0x1c8c): undefined reference to pthread_cond_clockwait

  -------------------------------------------------------------------

  This is an unstable amd64 chroot image at a tinderbox (==build bot)
  name: 17.1_developer-20200426-201443

  -------------------------------------------------------------------

gcc-config -l:
 [1] x86_64-pc-linux-gnu-8.3.1
 [2] x86_64-pc-linux-gnu-10.1.0 *
clang version 10.0.0 
Target: x86_64-pc-linux-gnu
Thread model: posix
InstalledDir: /usr/lib/llvm/10/bin
/usr/lib/llvm/10
10.0.0
Available Python interpreters, in order of preference:
  [1]   python3.6
  [2]   python3.8
  [3]   python3.7
  [4]   python2.7 (fallback)
  [5]   pypy3 (fallback)
Available Ruby profiles:
  [1]   ruby24 (with Rubygems)
  [2]   ruby25 (with Rubygems) *
Available Rust versions:
  [1]   rust-bin-1.43.0
  [2]   rust-1.43.0 *
The following VMs are available for generation-2:
*)	IcedTea JDK 3.15.0 [icedtea-bin-8]
Available Java Virtual Machines:
  [1]   icedtea-bin-8  system-vm

The Glorious Glasgow Haskell Compilation System, version 8.0.2

  timestamp(s) of HEAD at this tinderbox image:
/var/db/repos/gentoo	Sun 10 May 2020 03:07:16 PM UTC

emerge -qpvO net-wireless/soapyhackrf
[ebuild  N    ] net-wireless/soapyhackrf-0.3.3-r1




Comment 1


Toralf Förster






          2020-05-10 15:50:00 UTC
        

Created attachment 637632 [details]
emerge-info.txt




Comment 2


Toralf Förster






          2020-05-10 15:50:03 UTC
        

Created attachment 637634 [details]
emerge-history.txt




Comment 3


Toralf Förster






          2020-05-10 15:50:06 UTC
        

Created attachment 637636 [details]
environment




Comment 4


Toralf Förster






          2020-05-10 15:50:09 UTC
        

Created attachment 637638 [details]
etc.portage.tbz2




Comment 5


Toralf Förster






          2020-05-10 15:50:12 UTC
        

Created attachment 637640 [details]
logs.tbz2




Comment 6


Toralf Förster






          2020-05-10 15:50:14 UTC
        

Created attachment 637642 [details]
net-wireless:soapyhackrf-0.3.3-r1:20200510-152400.log




Comment 7


Toralf Förster






          2020-05-10 15:50:17 UTC
        

Created attachment 637644 [details]
temp.tbz2




Comment 8


Stefan de Konink





          2020-08-08 15:12:26 UTC
        

The actual "fix" is just adding -lpthread when linking. It works in -9999.




Comment 9


Rick Farina (Zero_Chaos)






          2022-09-29 14:15:15 UTC
        

unable to replicate, discussion on irc suggested this may be an issue with an older version of clang.  Current 0.3.4 builds with clang fine for me, if this was closed in error please reopen.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

