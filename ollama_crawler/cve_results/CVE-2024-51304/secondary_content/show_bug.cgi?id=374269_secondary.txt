Title: 374269 – cross-i686-pc-linux-gnu/gcc-4.4.5: java build fails when target is missing libXtst package
URL: https://bugs.gentoo.org/show_bug.cgi?id=374269

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 374269
cross-i686-pc-linux-gnu/gcc-4.4.5: java build fails when target is missing libXtst package
Last modified: 2011-07-09 19:19:02 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 374269 
      - cross-i686-pc-linux-gnu/gcc-4.4.5: java build fails when target is missing libXtst package


Summary:
cross-i686-pc-linux-gnu/gcc-4.4.5: java build fails when target is missing li...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
Low
       normal
      


Assignee:

Gentoo Toolchain Maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2011-07-06 19:29 UTC by David W Noon





      Modified:
    
2011-07-09 19:19 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge --info details

              (emerge_info.txt.gz,2.68 KB,
                application/x-gzip)

            
2011-07-06 19:32 UTC,

            David W Noon




Details





crossdev ebuild log for GCC extras

              (cross-i686-pc-linux-gnu-gcc-extra.log.gz,6.03 KB,
                application/x-gzip)

            
2011-07-06 19:33 UTC,

            David W Noon




Details





crossdev info details

              (cross-i686-pc-linux-gnu-info.log.gz,6.03 KB,
                application/octet-stream)

            
2011-07-06 19:35 UTC,

            David W Noon




Details





crossdev build log for GCC extras

              (cross-i686-pc-linux-gnu-gcc-extra.log.gz,144.90 KB,
                application/x-gzip)

            
2011-07-08 20:53 UTC,

            David W Noon




Details





tarball of config.log files

              (crossdev_config_log.tgz,218.80 KB,
                application/x-compressed-tar)

            
2011-07-08 21:22 UTC,

            David W Noon




Details





Show
              Obsolete (1)
            View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


David W Noon





          2011-07-06 19:29:42 UTC
        

When running:
   crossdev -S --ex-only --ex-gcc --ex-gdb -t i686-pc-linux-gnu
the configure script fails with:

checking for XTestQueryExtension in -lXtst... no
configure: error: libXtst not found, required by java.awt.Robot
make[1]: *** [configure-target-libjava] Error 1
make[1]: Leaving directory `/var/lib/portage/tmp/portage/cross-i686-pc-linux-gnu/gcc-4.4.5/work/build'
make: *** [all] Error 2

However, the library exists in both 32-bit and 64-bit forms on this system:

dwn@memphis log % locate libXtst.so
/usr/lib32/libXtst.so
/usr/lib32/libXtst.so.6
/usr/lib32/libXtst.so.6.1.0
/usr/lib64/libXtst.so
/usr/lib64/libXtst.so.6
/usr/lib64/libXtst.so.6.1.0

My emerge --info, and crossdev logs will follow as attachments.




Comment 1


David W Noon





          2011-07-06 19:32:17 UTC
        

Created attachment 279261 [details]
emerge --info details




Comment 2


David W Noon





          2011-07-06 19:33:36 UTC
        

Created attachment 279263 [details]
crossdev ebuild log for GCC extras




Comment 3


David W Noon





          2011-07-06 19:35:02 UTC
        

Created attachment 279265 [details]
crossdev info details




Comment 4


SpanKY






          2011-07-08 20:18:55 UTC
        

Comment on attachment 279263 [details]
crossdev ebuild log for GCC extras

this is the info, not the full build log




Comment 5


SpanKY






          2011-07-08 20:20:10 UTC
        

post the full build log as an attachment as well as all the config.log's from the build dir




Comment 6


David W Noon





          2011-07-08 20:53:06 UTC
        

Created attachment 279473 [details]
crossdev build log for GCC extras

Sorry about the earlier mix up of files.




Comment 7


David W Noon





          2011-07-08 21:22:36 UTC
        

Created attachment 279477 [details]
tarball of config.log files

All the config.log files I could find for the crossdev ebuild, all inside a gzipped tarball.




Comment 8


SpanKY






          2011-07-09 19:19:02 UTC
        

you're hitting a pkg-config problem.  you need to have $CTARGET-pkg-config, and install the relevant packages to your SYSROOT.  the multilib files in /usr/lib32/ may not be used.

this is a bigger problem than just what you're seeing here, and there are bugs open to track it.  so for now, cross-emerge the relevant packages by hand.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

