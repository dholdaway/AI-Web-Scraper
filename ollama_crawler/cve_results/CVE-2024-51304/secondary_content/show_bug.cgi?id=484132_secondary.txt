Title: 484132 – app-admin/sudo make secure-path optional
URL: https://bugs.gentoo.org/show_bug.cgi?id=484132

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 484132
app-admin/sudo make secure-path optional
Last modified: 2013-09-13 00:09:57 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 484132 
      - app-admin/sudo make secure-path optional


Summary:
app-admin/sudo make secure-path optional
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo's Team for Core System packages








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2013-09-07 20:53 UTC by Mike Gilbert





      Modified:
    
2013-09-13 00:09 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Add secure-path use flag

              (use-secure-path.patch,1.51 KB,
                patch)

            
2013-09-07 20:53 UTC,

            Mike Gilbert




Details
            | Diff





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Mike Gilbert






          2013-09-07 20:53:41 UTC
        

Created attachment 358212 [details, diff]
Add secure-path use flag

We currently force the secure_path option to the value of ROOTPATH at build time.

Attached patch allows this feature to be disabled for those of us that find it annoying. When this is diabled, sudo inherits the PATH setting from the calling environment.




Comment 1


Michał Górny









          2013-09-07 21:34:25 UTC
        

By the way, is it possible to drop in new value for PATH in sudoers? If it is, I think we should be rather doing that than hardcoding the value at build-time.




Comment 2


SpanKY






          2013-09-12 20:39:51 UTC
        

i'm not sure we should bother.  you're going to see this behavior on every system out there that uses sudo.  if you really want to override PATH, the portable solution is to use `env`.

$ sudo env PATH='...your custom PATH...' whatever-program




Comment 3


Mike Gilbert






          2013-09-13 00:09:57 UTC
        

I somehow missed that this actually can be switched off in the sudoers file. I thought it was a hard-coded value.

Anyway, here's how to disable it, in case someone finds this in a search a few years from now.

Defaults !secure_path









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

