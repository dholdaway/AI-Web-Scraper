Title: 181225 – (mobidyc) emerge(1) man page is missing additional information
URL: https://bugs.gentoo.org/show_bug.cgi?id=181225

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 181225
emerge(1) man page is missing additional information
Last modified: 2007-09-02 17:46:34 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 181225 
        (mobidyc)
      - emerge(1) man page is missing additional information


Summary:
emerge(1) man page is missing additional information
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:

mobidyc
    





Product:

Documentation




Classification:

Unclassified




Component:

[OLD] Portage Documentation

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       enhancement
      


Assignee:

Portage team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-06-07 18:26 UTC by mobidyc





      Modified:
    
2007-09-02 17:46 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



mobidyc









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


mobidyc





          2007-06-07 18:26:09 UTC
        

the "MASKED PACKAGES" section is not complete.

it's indicated than there is two methods for unmasking/masking a package, the file:
/usr/portage/profiles/package.mask
and the KEYWORDS.

i actually try to unmask a package but, according to the man page, there is no solution.

#> grep emerald /usr/portage/profiles/package.mask
#> grep KEYWORD /usr/portage/local/layman/xeffects/x11-wm/emerald/emerald-9999.ebuild 
KEYWORDS=""
#> grep emerald /etc/portage/package.*
/etc/portage/package.keywords:x11-wm/emerald
/etc/portage/package.unmask:x11-wm/emerald
#> emerge -p =x11-wm/emerald-9999

These are the packages that would be merged, in order:

Calculating dependencies \
!!! All ebuilds that could satisfy "=x11-wm/emerald-9999" have been masked.
!!! One of the following masked packages is required to complete your request:
- x11-wm/emerald-9999 (masked by: missing keyword)

For more information, see MASKED PACKAGES section in the emerge man page or 
refer to the Gentoo Handbook.

as you can see, either the man page is incorrect(there is no only two solution for unmasking a package) or the files indicated are wrong.

Regards




Comment 1


Doug Goldstein (RETIRED)






          2007-06-07 18:36:21 UTC
        

I have that info here... what version are you on?

MASKED PACKAGES
       NOTE:  Please  use  caution  when using development packages.  Problems and bugs resulting from misusing masked packages drains Gentoo
       developer time.  Please be sure you are capable of handling any problems that may ensue.

       Masks in portage provide three primary functions: they allow a testing period where the packages can be used in  live  machines;  they
       prevent  the use of a package when it will fail; and they mask existing packages that are broken or could pose a security risk.  Mask-
       ing can be done by two methods: package.mask and KEYWORDS.  Read below to find out how to unmask in either case.  Also  note  that  if
       you give emerge an ebuild, then all forms of masking will be ignored and emerge will attempt to emerge the package.

       package.mask
              The  package.mask  file  primarily blocks the use of packages that cause problems or are known to have issues on different sys-
              tems.  It resides in /usr/portage/profiles.

       KEYWORDS
              The KEYWORDS variable in an ebuild file is also used for masking a package still in testing.  There  are  architecture-specific
              keywords  for  each  package that let portage know which systems are compatible with the package.  Packages which compile on an
              architecture, but have not been proven to be "stable", are masked with a tilde (~) in front of the architecture  name.   emerge
              examines the ACCEPT_KEYWORDS environment variable to allow or disallow the emerging of a package masked by KEYWORDS.  To inform
              emerge that it should build these 'testing' versions of packages, you should update your /etc/portage/package.keywords file  to
              list the packages you want the 'testing' version.  See portage(5) for more information.





Comment 2


Arfrever Frehtes Taifersar Arahesis (RETIRED)






          2007-07-27 18:15:04 UTC
        

The most important is this sentence:
See portage(5) for more information.

portage(5) contains this information:
 /etc/portage/
    package.keywords
       Note:
       In addition to the normal values from ACCEPT_KEYWORDS package.keywords
       supports three special tokens:

       *  package is visible if it is stable on any architecture
       ~* package is visible if it is in testing on any architecture
       ** package is always visible (KEYWORDS are ignored completely)

So you need to place the following line in /etc/portage/package.keywords:
x11-wm/emerald **

This bug should be marked as WORKSFORME.




Comment 3


mobidyc





          2007-07-27 18:39:36 UTC
        

Hello,

this enhancement request was ported on the following error message:
For more information, see MASKED PACKAGES section in the emerge man page or 
refer to the Gentoo Handbook.

my request is to either:
- change the error message in portage to indicate the portage man page or
- change the emerge man page to indicate in the MASKED PACKAGES section the special tokens or
- change the emerge man page to indicate in the MASKED PACKAGES a message "for more information please refer to the 'package.keywords' secction in the portage man page".

since i've posted this enhancement request i've found the solution, this request is now for other gentoo users, for find the information more quickly.

Regards.




Comment 4


Arfrever Frehtes Taifersar Arahesis (RETIRED)






          2007-07-27 19:04:29 UTC
        

(In reply to comment #3)
> - change the error message in portage to indicate the portage man

I prefer this one. What do you think about:
"For more information, see MASKED PACKAGES section in the emerge man page or refer to the Gentoo Handbook. Configuration in detail is described in the portage man page."?

(In reply to comment #3)
> - change the emerge man page to indicate in the MASKED PACKAGES a
> message "for more information please refer to the 'package.keywords'
> secction in the portage man page".

At the bottom of emerge (1) there is:
 SEE ALSO
   emerge --help, ebuild(1), ebuild(5), make.conf(5), color.map(5), portage(5)

It means that you should recursively read mentioned man pages.




Comment 5


Zac Medico






          2007-07-27 22:19:48 UTC
        

(In reply to comment #3)
> - change the emerge man page to indicate in the MASKED PACKAGES a message "for
> more information please refer to the 'package.keywords' secction in the portage
> man page".

Well, it already has this:

To inform emerge that it should build these 'testing' versions of packages, you should update your /etc/portage/package.keywords file to list the packages you want the 'testing' version. See portage(5) for more information.




Comment 6


SpanKY






          2007-09-02 17:46:34 UTC
        

the relevant sections already refer the reader to where to find documentation

emerge -p output -> emerge(1) overview -> portage(5) specific file syntax









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

