Title: 88860 – httping segfaults randomly on amd64
URL: https://bugs.gentoo.org/show_bug.cgi?id=88860

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 88860
httping segfaults randomly on amd64
Last modified: 2005-06-21 13:33:25 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 88860 
      - httping segfaults randomly on amd64


Summary:
httping segfaults randomly on amd64
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

AMD64 Project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-04-12 07:46 UTC by Chris Chance





      Modified:
    
2005-06-21 13:33 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Chk Script

              (metro-chkcache,1.62 KB,
                text/plain)

            
2005-04-12 07:47 UTC,

            Chris Chance




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Chris Chance





          2005-04-12 07:46:10 UTC
        

I have an httping running in a script to check if my proxy server is up and if not i do some scripting to bypass the proxy server... for some reason it works but at random times httping reports a segfault to dmesg.

Reproducible: Always
Steps to Reproduce:
1.Emerge httping
2.Set script to run httping and do our little thang
3.Add script to crontab for every 1 minute.

Actual Results:  
httping[1155]: segfault at 0000000000000000 rip 00002aaaaafdb450 rsp
00007ffffffff988 error 4

Expected Results:  
Proper response no segfault

Portage 2.0.51.19 (default-linux/amd64/2004.3, gcc-3.4.3,
glibc-2.3.4.20041102-r1, 2.6.11-gentoo-r6 x86_64)
=================================================================
System uname: 2.6.11-gentoo-r6 x86_64 Intel(R) Xeon(TM) CPU 3.20GHz
Gentoo Base System version 1.6.10
Python:              dev-lang/python-2.3.4-r1 [2.3.4 (#1, Feb 26 2005, 06:35:19)]
ccache version 2.3 [enabled]
dev-lang/python:     2.3.4-r1
sys-devel/autoconf:  2.59-r6, 2.13
sys-devel/automake:  1.7.9-r1, 1.8.5-r3, 1.5, 1.4_p6, 1.6.3, 1.9.4
sys-devel/binutils:  2.15.92.0.2-r7
sys-devel/libtool:   1.5.14
virtual/os-headers:  2.6.8.1-r4
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CFLAGS="-O3 -march=nocona -pipe -ffast-math -mfpmath=sse,387"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config
/usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O3 -march=nocona -pipe -ffast-math -mfpmath=sse,387"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig ccache distlocks sandbox"
GENTOO_MIRRORS="http://open-systems.ufl.edu/mirrors/gentoo
ftp://ftp.ussg.iu.edu/pub/linux/gentoo http://gentoo.mirrors.tds.net/gentoo
ftp://gentoo.mirrors.tds.net/gentoo http://gentoo.seren.com/gentoo"
MAKEOPTS="-j5"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="amd64 apache2 bsh chroot extensions gd hardened hardenedphp ipv6 jpeg
memlimit multilib ncurses nptl pam pax php pie readline ssl tcpd userlocales
xmlxml2xmlrpc xsl zlib"
Unset:  ASFLAGS, CBUILD, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTDIR_OVERLAY




Comment 1


Chris Chance





          2005-04-12 07:47:51 UTC
        

Created attachment 56086 [details]
Chk Script

This script is whats executing httping ... this is in crontab to run every
minute




Comment 2


Daniel Gryniewicz (RETIRED)






          2005-04-12 11:54:08 UTC
        

Which version are you using (both 0.0.95 and 1.0.1 are ~amd64)?  I've tried to replicate this with 1.0.1, and I cannot do so.  I don't, however, have a proxy to test through.




Comment 3


Chris Chance





          2005-04-12 14:02:09 UTC
        

not sure if it does it without proxy... im using 1.01 with ssl enabled nothing special use my script remove the -x proxy and crontab it to run every minute and see if it happens i guess happened 4 times over the course of the day for some reason.




Comment 4


Daniel Gryniewicz (RETIRED)






          2005-04-12 15:39:16 UTC
        

Okay, I've been using 1.0.1 all day on a tight loop to several hosts, but without proxy, and no cores so far.  I'll keep trying, but the proxy thing seems the most likely candidate.  FWIW, the build is completely free of warnings, even with -Wall.




Comment 5


Mike Doty (RETIRED)






          2005-05-03 17:57:16 UTC
        

fixing severity.  whats the status of this?




Comment 6


Mike Doty (RETIRED)






          2005-05-03 18:09:09 UTC
        

is this still an issue, noone can seem to reproduce it.




Comment 7


Chris Chance





          2005-05-03 19:38:19 UTC
        

This problem still exists i have tried changing cflags and still it bombs the same way as long as im using proxy




Comment 8


Daniel Gryniewicz (RETIRED)






          2005-05-03 20:27:15 UTC
        

I've now tested this here, with a proxy, and it works fine.  I'm running through squid.




Comment 9


Danny van Dyk (RETIRED)






          2005-06-21 13:33:25 UTC
        

WORKSFORME too with and without proxies...









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

