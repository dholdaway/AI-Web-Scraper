Title: 497468 – The grub legacy example config has the wrong values for (hd) entries
URL: https://bugs.gentoo.org/show_bug.cgi?id=497468

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 497468
The grub legacy example config has the wrong values for (hd) entries
Last modified: 2014-11-11 09:17:03 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 497468 
      - The grub legacy example config has the wrong values for (hd) entries


Summary:
The grub legacy example config has the wrong values for (hd) entries
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

[OLD] Docs on www.gentoo.org




Classification:

Unclassified




Component:

Installation Handbook

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
    (vote)
  



Assignee:

Sven Vermeulen (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2014-01-08 00:36 UTC by Axel





      Modified:
    
2014-11-11 09:17 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



docs-team
klondike









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Patch clarifying the partiotion mapping done by grub.

              (improve_grub_path_doc.patch,2.09 KB,
                patch)

            
2014-01-08 01:16 UTC,

            Francisco Blas Izquierdo Riera (RETIRED)




Details
            | Diff





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Axel





          2014-01-08 00:36:17 UTC
        

The example config at http://www.gentoo.org/doc/en/handbook/handbook-amd64.xml?part=1&chap=10#doc_chap4 use the grub2 way of calling the first patition on the first hdd not the real grub1 way

(hd0,1) is the first hdd first partition in grub2 but hd0,0 first hdd first partition in grub and most users have /boot as the first partition so the config should reflect that.

I would also be nice if "please note that the partition numbers and hdd numbers are counted from zero, not from one" would be usefull in the install guide"




Comment 1


Axel





          2014-01-08 00:53:59 UTC
        

might also be good to add a line pointing out that "root (hd0,0)" should point att /boot not at /




Comment 2


Francisco Blas Izquierdo Riera (RETIRED)






          2014-01-08 01:16:21 UTC
        

Created attachment 367342 [details, diff]
Patch clarifying the partiotion mapping done by grub.

Reading this I think the main problem is that the document refers to (hd0 ,1) in a very confusing manner (as it refers to "your Linux partition").

Probably a good solution is documenting the matches between the proposed partitioning scheme and the grub names to help the user understand.

This patch tries to do both things.




Comment 3


Sven Vermeulen (RETIRED)






          2014-01-10 19:00:18 UTC
        

Ok, perhaps I'm too tired again, but what is wrong with the text?

It refers to (hd0,1) for /dev/sda2, which is correct for GRUB Legacy. The handbook uses the following partition layout:

/dev/sda1: BIOS
/dev/sda2: /boot
/dev/sda3: swap
/dev/sda4: / (root)

You might be confused as in the past, there was no BIOS partition, and as such the numbering was different.




Comment 4


Axel





          2014-01-11 12:43:59 UTC
        

Yeah. I noticed that the partition table in the guide include a bios partition after Francisco pointed it out to me but after that I reported the bug.

I reported this bug after 2 friends of mine asked me to help them get a computer to boot correctly and they had set the hd to (hd0,1) but did not have an bios partition so correct hd was (hd0,0). I recogniced this to be wrong becuse I have had problems with that in grub when I did my first gentoo install.


In the end the problem is that people with previous Linux experience often know how to set up a partition table and have their own preference for how they want the partition table to look like so they often skip the partition table part of the guide so when they come to the grub part of the set up they encounter this errors becoce they don't have a partition that the guide assume that they have.


In the my opinion is that it should be made really clear that the guide refer  the second partition not the first partition.




Comment 5


Sven Vermeulen (RETIRED)






          2014-11-11 09:17:03 UTC
        

As there has not been a similar request for some time, and #gentoo (the general support channel) seems to not have any issues with the new partitioning anymore, I will be marking this as WORKSFORME.

However, do know that I appreciate all feedback that you gave (and give) so don't let this hold you back from reporting new stuff!









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

