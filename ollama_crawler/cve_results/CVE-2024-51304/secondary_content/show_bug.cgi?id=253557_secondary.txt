Title: 253557 – app-emulation/vmware-workstation-6.5.1.126130 - ImportError: No module named vmis
URL: https://bugs.gentoo.org/show_bug.cgi?id=253557

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 253557
app-emulation/vmware-workstation-6.5.1.126130 - ImportError: No module named vmis
Last modified: 2009-01-03 23:05:56 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 253557 
      - app-emulation/vmware-workstation-6.5.1.126130 - ImportError: No module named vmis


Summary:
app-emulation/vmware-workstation-6.5.1.126130 - ImportError: No module named ...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
Highest
       normal
      


Assignee:

Gentoo VMWare Bug Squashers [disabled]








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-01-03 14:23 UTC by renato gallo





      Modified:
    
2009-01-03 23:05 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



jer
renatogallo









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


renato gallo





          2009-01-03 14:23:41 UTC
        

Traceback (most recent call last):
  File "/opt/vmware/workstation/lib/vmware/installer/vmware-installer.py", line 277, in <module>
    main(options)
  File "/opt/vmware/workstation/lib/vmware/installer/vmware-installer.py", line 92, in main
    Load(_isLockRequired(options))
  File "/var/tmp/portage/app-emulation/vmware-workstation-6.5.1.126130/image//opt/vmware/workstation/lib/vmware/installer/vmis/db.py", line 589, in Load
  File "/var/tmp/portage/app-emulation/vmware-workstation-6.5.1.126130/image//opt/vmware/workstation/lib/vmware/installer/vmis/db.py", line 222, in __init__
AssertionError: The database file does not exist and locking wasn't requested
TOOLBOX ~ # python /opt/vmware/workstation/lib/vmware/installer/vmis/db.py
Traceback (most recent call last):
  File "/opt/vmware/workstation/lib/vmware/installer/vmis/db.py", line 15, in <module>
    from vmis import DATABASE_PATH, MAJOR_VERSION, CONFDIR
ImportError: No module named vmis

locate vmis
/opt/vmware/workstation/lib/vmware/installer/vmis
/opt/vmware/workstation/lib/vmware/installer/vmis/ui
/opt/vmware/workstation/lib/vmware/installer/vmis/ui/console.py
/opt/vmware/workstation/lib/vmware/installer/vmis/ui/console.pyc
/opt/vmware/workstation/lib/vmware/installer/vmis/ui/gui.py
/opt/vmware/workstation/lib/vmware/installer/vmis/ui/__init__.pyc
/opt/vmware/workstation/lib/vmware/installer/vmis/ui/gui.pyc
/opt/vmware/workstation/lib/vmware/installer/vmis/ui/null.py
/opt/vmware/workstation/lib/vmware/installer/vmis/ui/__init__.py
/opt/vmware/workstation/lib/vmware/installer/vmis/ui/null.pyc
/opt/vmware/workstation/lib/vmware/installer/vmis/core
/opt/vmware/workstation/lib/vmware/installer/vmis/core/products.py
/opt/vmware/workstation/lib/vmware/installer/vmis/core/topsort.py
/opt/vmware/workstation/lib/vmware/installer/vmis/core/files.pyc
/opt/vmware/workstation/lib/vmware/installer/vmis/core/rad_util.py
/opt/vmware/workstation/lib/vmware/installer/vmis/core/products.pyc
/opt/vmware/workstation/lib/vmware/installer/vmis/core/install.pyc
/opt/vmware/workstation/lib/vmware/installer/vmis/core/topsort.pyc
/opt/vmware/workstation/lib/vmware/installer/vmis/core/common.py
/opt/vmware/workstation/lib/vmware/installer/vmis/core/component.py
/opt/vmware/workstation/lib/vmware/installer/vmis/core/transaction.py
/opt/vmware/workstation/lib/vmware/installer/vmis/core/questions.pyc
/opt/vmware/workstation/lib/vmware/installer/vmis/core/bundle.py
/opt/vmware/workstation/lib/vmware/installer/vmis/core/env.pyc
/opt/vmware/workstation/lib/vmware/installer/vmis/core/repository.py
/opt/vmware/workstation/lib/vmware/installer/vmis/core/dependencies.py
/opt/vmware/workstation/lib/vmware/installer/vmis/core/files.py
/opt/vmware/workstation/lib/vmware/installer/vmis/core/install.py
/opt/vmware/workstation/lib/vmware/installer/vmis/core/installers
/opt/vmware/workstation/lib/vmware/installer/vmis/core/installers/__init__.pyc
/opt/vmware/workstation/lib/vmware/installer/vmis/core/installers/__init__.py
/opt/vmware/workstation/lib/vmware/installer/vmis/core/perms.pyc
/opt/vmware/workstation/lib/vmware/installer/vmis/core/bundle.pyc
/opt/vmware/workstation/lib/vmware/installer/vmis/core/installer.py
/opt/vmware/workstation/lib/vmware/installer/vmis/core/env.py
/opt/vmware/workstation/lib/vmware/installer/vmis/core/component.pyc
/opt/vmware/workstation/lib/vmware/installer/vmis/core/rad_util.pyc
/opt/vmware/workstation/lib/vmware/installer/vmis/core/__init__.pyc
/opt/vmware/workstation/lib/vmware/installer/vmis/core/errors.pyc
/opt/vmware/workstation/lib/vmware/installer/vmis/core/repository.pyc
/opt/vmware/workstation/lib/vmware/installer/vmis/core/questions.py
/opt/vmware/workstation/lib/vmware/installer/vmis/core/transaction.pyc
/opt/vmware/workstation/lib/vmware/installer/vmis/core/dependencies.pyc
/opt/vmware/workstation/lib/vmware/installer/vmis/core/__init__.py
/opt/vmware/workstation/lib/vmware/installer/vmis/core/installer.pyc
/opt/vmware/workstation/lib/vmware/installer/vmis/core/common.pyc
/opt/vmware/workstation/lib/vmware/installer/vmis/core/perms.py
/opt/vmware/workstation/lib/vmware/installer/vmis/core/errors.py
/opt/vmware/workstation/lib/vmware/installer/vmis/util
/opt/vmware/workstation/lib/vmware/installer/vmis/util/log.pyc
/opt/vmware/workstation/lib/vmware/installer/vmis/util/path.pyc
/opt/vmware/workstation/lib/vmware/installer/vmis/util/desktop.pyc
/opt/vmware/workstation/lib/vmware/installer/vmis/util/log.py
/opt/vmware/workstation/lib/vmware/installer/vmis/util/__init__.pyc
/opt/vmware/workstation/lib/vmware/installer/vmis/util/path.py
/opt/vmware/workstation/lib/vmware/installer/vmis/util/__init__.py
/opt/vmware/workstation/lib/vmware/installer/vmis/util/desktop.py
/opt/vmware/workstation/lib/vmware/installer/vmis/util/shell.pyc
/opt/vmware/workstation/lib/vmware/installer/vmis/util/shell.py
/opt/vmware/workstation/lib/vmware/installer/vmis/db.py
/opt/vmware/workstation/lib/vmware/installer/vmis/db.pyc
/opt/vmware/workstation/lib/vmware/installer/vmis/__init__.pyc
/opt/vmware/workstation/lib/vmware/installer/vmis/__init__.py




Comment 1


renato gallo





          2009-01-03 14:28:34 UTC
        

emerge --info
Portage 2.1.6.4 (default/linux/amd64/2008.0, gcc-4.3.2, glibc-2.9_p20081201-r1, 2.6.28 x86_64)
=================================================================
System uname: Linux-2.6.28-x86_64-Intel-R-_Core-TM-2_Quad_CPU_Q6600_@_2.40GHz-with-glibc2.2.5
Timestamp of tree: Fri, 02 Jan 2009 19:15:01 +0000
app-shells/bash:     3.2_p48
dev-java/java-config: 1.3.7-r1, 2.1.6-r1
dev-lang/python:     2.4.4-r13, 2.5.2-r8
dev-python/pycrypto: 2.0.1-r6
dev-util/cmake:      2.6.2
sys-apps/baselayout: 2.0.0
sys-apps/openrc:     0.4.1-r1
sys-apps/sandbox:    1.3.2
sys-devel/autoconf:  2.13, 2.63
sys-devel/automake:  1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.2
sys-devel/binutils:  2.19
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   2.2.6a
virtual/os-headers:  2.6.28-r1
ACCEPT_KEYWORDS="amd64 ~amd64"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=nocona -O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/config"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/eselect/postgresql /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/splash /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-march=nocona -O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="distlocks fixpackages parallel-fetch protect-owned sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LANG="C"
LDFLAGS="-Wl,-O1"
LINGUAS="it en"
MAKEOPTS="-j5"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="2dnow 3dnowext 7zip X Xaw3d a52 aac aalib accessibility acl acpi ada addbookmarks akode alias alsa amd64 amr amrb applet aqua_theme ares arts artswrappersuid artworkextra athena autoipd automount autoreplace avahi bash-completion beagle belagle berkdb bidi bl bluetooth bookmarks branding bzip2 cairo carbone_theme cdda cddb cdio cdparanoia cdr cisco cjk clamavfontconfig cli connectionstatus contactnotes cpudetection cracklib crypt cscope cups cupsddk curl dbus debug device-mapper dga directfb disk-partition diskio djvu dmx dnd doc dri dts dv dvb dvd dvdr dvi dxr3 eds elf emacs emacx enca encode eolconv epiphany esd exif expat extensible fam fasttrack fax fbcon fbcondecor ffmpeg filepicker firefox flac fltk foomaticdb fortran freetts freewnn ftp gadu galago gd gdbm gedit ggi gif gimp glib glitz gnokii gnome gnome-keyring gnomecd gnutella gnutls gphoto2 gpm graphwiz groupwise gsf gstreamer gtk gtkhtml guile gz gzip-el hal hdri hesiod hfs highlight history hotplug howl-compat hybrid-auth iceweasel iconv ieee1394 imagemagick imlib iproute2 ipv6 irc irda irmc isdnlog jack jadetex jai java java5 javamail javascript jbig jce jingle jmf jms jmx joystick jpeg jpeg2k kde kdrive kerberos ladspa lame laptop latex lcms ldap legacyssl libcaca libnotify libsamplerate lirc live lm_sensors logitech-mouse lua lzma lzo mad mbrola md5sum mdnsresponder-compat mfd-rewrites midi mmap mmx mng mono motif mozdevelop mp2 mp3 mpeg mudflap mule multilib musepack mysql mythtv nas nautilus ncurses neXt nemesi netmeeting network networking networkmanager new-login nls nntp nowlistening npp nptl nptlonly nsplugin odbc odk offensive ogg openal openexr openft opengl openmp opensslcrypt oracle pam passwordsave pch pcre pda pdf perl php pkcs11 png pnm pop povray ppds pppd pulseaudio python q32 q8 qt3 qt4 quicktime radio rar rdesktop readline reflection remote resolvconf rpm rtc ruby samba sametime sasl savedconfig scanner schedule script sdl seamonkey sendmail session slang slp smp sms smux snmp socks5 sound speex spell spl srt sse sse2 ssl ssse3 startup-notification statistics suid svg swat sysfs syslog t1lib tcl tcpd teletext test tetex texteffect tga theora tiff tk toolkit-scroll-bars tools tracker translator truetype tseng unicode usb v4l v4l2 vcd vim-pager vim-syntax vim-with-x vorbis wavpack webpresence wifi winpopup wmf x264 xanim xattr xcb xcomposite xemacs xext xface xforms xft xim xine xinerama xinetd xml xorg xprint xscreensaver xulrunner xv xvid xvmc yahoo zeroconf zlib zoran zvbi" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CAMERAS="adc65 agfa_cl20 aox barbie canon casio_qv clicksmart310 digigr8 digita dimagev dimera3500 directory enigma13 fuji gsmart300 hp215 iclick jamcam jd11 kodak_dc120 kodak_dc210 kodak_dc240 kodak_dc3200 kodak_ez200 konica konica_qm150 largan lg_gsm mars mustek panasonic_coolshot panasonic_dc1000 panasonic_dc1580 panasonic_l859 pccam300 pccam600 polaroid_pdc320 polaroid_pdc640 polaroid_pdc700 ptp2 ricoh ricoh_g3 samsung sierra sipix_blink sipix_blink2 sipix_web2 smal sonix sony_dscf1 sony_dscf55 soundvision spca50x sq905 stv0674 stv0680 sx330z template toshiba_pdrm11" DVB_CARDS="tda1004x" ELIBC="glibc" INPUT_DEVICES="evdev keyboard mouse acecad aiptek digitaledge elographics fpit hyperpen jamstudio joystick magellan mutouch palmax spaceorb summa synaptics tek4957 ur98 vmmouse void wacom" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="it en" LIRC_DEVICES="mceusb2 mceusb devinput" USERLAND="GNU" VIDEO_CARDS="nvidia"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LC_ALL, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY





Comment 2


renato gallo





          2009-01-03 14:30:00 UTC
        

after emerging the workstation, it tries to build the modules and it seems there are some issues with the python modules discovery




Comment 3


Jeroen Roovers (RETIRED)






          2009-01-03 17:25:54 UTC
        

Did you run python-updater after dev-lang/python-2.5* was emerged?




Comment 4


renato gallo





          2009-01-03 18:14:26 UTC
        

(In reply to comment #3)
> Did you run python-updater after dev-lang/python-2.5* was emerged?
> 

yes and I run it again after vmware was emerged with same result 




Comment 5


Jeroen Roovers (RETIRED)






          2009-01-03 20:34:37 UTC
        

Please stop fiddling with the form fields... It's not a blocker[1], it's nothing to do with bugs.g.o and certainly not with bugstest.g.o.

If I see more of this I will CLOSE this bug forthwith.


[1] https://bugs.gentoo.org/page.cgi?id=fields.html#bug_severity




Comment 6


Mike Auty (RETIRED)






          2009-01-03 20:47:10 UTC
        

Hi,

It looks like you're trying to use the installer after the package has been installed.  Rather than just posting the error, could you please explain what you were trying to do?  There should be no reason to run the installer after installation.

If you're having difficulty with the modules, please re-emerge vmware-modules-1.0.0.23 and then try whatever it was you were doing again.

I'm going to mark this as NEEDINFO, so please reopen this bug when you post a reply.  Thanks...  5:)




Comment 7


renato gallo





          2009-01-03 22:34:19 UTC
        

I have  just emerged vmware and after the emerge I have written vmware.
it launched the modules installer . It happens when you upgrade the kernel too.
 
(In reply to comment #6)
> Hi,
> 
> It looks like you're trying to use the installer after the package has been
> installed.  Rather than just posting the error, could you please explain what
> you were trying to do?  There should be no reason to run the installer after
> installation.
> 
> If you're having difficulty with the modules, please re-emerge
> vmware-modules-1.0.0.23 and then try whatever it was you were doing again.
> 
> I'm going to mark this as NEEDINFO, so please reopen this bug when you post a
> reply.  Thanks...  5:)
> 






Comment 8


Mike Auty (RETIRED)






          2009-01-03 22:47:14 UTC
        

Is the user you're running vmware as in the vmware group?  Also, after installing vmware-workstation did you run "emerge --config vmware-workstation"?  If the answer is yes to both of these, please run vmware from the console and paste the complete output it produces.

Also note, that when you upgrade your kernel, you must re-emerge vmware-modules to rebuild the kernel modules.




Comment 9


Mike Auty (RETIRED)






          2009-01-03 22:51:29 UTC
        

Renato!!!

What did Jer say?

* Do NOT set the severity to blocker.  
* Do NOT set the product to Bugzilla.
* Do NOT change the component to general bugs.
* If you're using an automated program to file replies, STOP using it.

You've been asked nicely, but we will close this bug if you keep making those changes.  We're trying to help you, please be considerate in return...




Comment 10


renato gallo





          2009-01-03 22:57:29 UTC
        

(In reply to comment #8)
> Is the user you're running vmware as in the vmware group?  Also, after
> installing vmware-workstation did you run "emerge --config vmware-workstation"?
>  If the answer is yes to both of these, please run vmware from the console and
> paste the complete output it produces.
> 
> Also note, that when you upgrade your kernel, you must re-emerge vmware-modules
> to rebuild the kernel modules.
> 

reemerging vmware-modules fixed the problem. I did not knew that it was necessary to merge another package to make it work. I would ask to consider to make it possible to use the vmware tool to upgrade (it is kind of more straight forward). I ask for forgiveness about the mistakes I did in managing this bug. 




Comment 11


Mike Auty (RETIRED)






          2009-01-03 23:05:56 UTC
        

Hi Renato,

I'm glad you got it working.  The vmware-installer is a pain to use, and package management should be done by the system's package manager (in this case, portage).  As such, we won't be fixing the vmware installer tool, it's not supposed to be used on Gentoo systems.

The kernel modules were split off into their own package, so that after kernel upgrades, just the modules are rebuilt, and the whole of vmware doesn't need to be unpacked and needlessly uninstalled.  When ever you have a new kernel, you'll need to rebuild all the modules from the previous kernel.  There is a separate tool to help you do this called module-rebuild, or in the latest versions of portage you can just recompile the set @module-rebuild, by running "emerge @module-rebuild".

As to bug management, if you find someone reverting changes you made to a bug more than once, don't keep trying to make the same changes.  I'm going to mark this as WORKSFORME, since it's all working as it should.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

