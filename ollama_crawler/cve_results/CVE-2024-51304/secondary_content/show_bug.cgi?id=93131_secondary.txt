Title: 93131 – ipw2200-1.0.4 fails to load firmware
URL: https://bugs.gentoo.org/show_bug.cgi?id=93131

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 93131
ipw2200-1.0.4 fails to load firmware
Last modified: 2005-05-21 14:11:56 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 93131 
      - ipw2200-1.0.4 fails to load firmware


Summary:
ipw2200-1.0.4 fails to load firmware
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       major
      


Assignee:

Mobile Herd (OBSOLETE)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-05-18 20:12 UTC by Harris Landgarten





      Modified:
    
2005-05-21 14:11 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



jslootbeek









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Harris Landgarten





          2005-05-18 20:12:17 UTC
        

After update to ipw2200-1.0.4 on IBM T40 ipw2200 reports failed to load firmware
0xFFFFFFFE  and wireless does not work. Downgrade to ipw2200-1.0.3 fixes the
problem. Both ipw22000-firmware-2.2 and ipw2200-firmware-2.3 are installed.

Reproducible: Always
Steps to Reproduce:
1.emerge ipw2200
2.modprobe ipw2200
3.

Actual Results:  
failed to load firmware 0xFFFFFFFE


Portage 2.0.51.22-r1 (default-linux/x86/2005.0, gcc-3.4.3-20050110,
glibc-2.3.5-r0, 2.6.11-gentoo-r6 i686)
=================================================================
System uname: 2.6.11-gentoo-r6 i686 Intel(R) Pentium(R) M processor 1600MHz
Gentoo Base System version 1.6.12
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
ccache version 2.3 [enabled]
dev-lang/python:     2.2.2, 2.3.5
sys-apps/sandbox:    1.2.8
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.5
sys-devel/binutils:  2.15.92.0.2-r9
sys-devel/libtool:   1.5.18
virtual/os-headers:  2.6.11
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O3 -march=pentium4 -fomit-frame-pointer -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.2/share/config
/usr/kde/3.3/env /usr/kde/3.3/share/config /usr/kde/3.3/shutdown
/usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown
/usr/kde/3/share/config /usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref
/usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O3 -march=pentium4 -fomit-frame-pointer -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org
http://distro.ibiblio.org/pub/Linux/distributions/gentoo"
MAKEOPTS="-j12"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/home/harrisl/overlay"
SYNC="rsync://custom2/gentoo-portage"
USE="x86 X acl acpi alsa apm arts avi berkdb bitmap-fonts cdr crypt cups curl
dvd eds emboss encode esd fam flac foomaticdb fortran gdbm gif gnome gpm
gstreamer gtk gtk2 hal imlib ipv6 java jpeg libg++ libwww mad mikmod mmx motif
mozilla mp3 mpeg ncurses nls nptl ogg oggvorbis opengl oss pam pdflib perl png
python quicktime readline samba sdl slang spell sse ssl svga tcltk tcpd tiff
truetype truetype-fonts type1-fonts userlocales vorbis xine xml xml2 xmms xv
zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS




Comment 1


Henrik Brix Andersen





          2005-05-19 01:10:27 UTC
        

Please attach the relevent part og your 'dmesg'. Which version of
sys-apps/baselayout, sys-apps/udev and sys-apps/hotplug are you using?




Comment 2


Harris Landgarten





          2005-05-19 05:09:42 UTC
        

baselayout-1.11.12-r1
udev-056
hotplug-20040923




May 18 22:32:24 IBM-T40 ipw2200: Intel(R) PRO/Wireless 2200/2915 Network Driver,
1.0.4
May 18 22:32:24 IBM-T40 ipw2200: Copyright(c) 2003-2004 Intel Corporation
May 18 22:32:24 IBM-T40 ACPI: PCI interrupt 0000:02:02.0[A] -> GSI 11 (level,
low) -> IRQ 11
May 18 22:32:24 IBM-T40 ipw2200: Detected Intel PRO/Wireless 2200BG Network
Connection
May 18 22:32:24 IBM-T40 ipw2200: ipw-2.3-boot.fw load failed: Reason -2
May 18 22:32:24 IBM-T40 ipw2200: Unable to load firmware: 0xFFFFFFFE
May 18 22:32:24 IBM-T40 ipw2200: failed to register network device
May 18 22:32:24 IBM-T40 ipw2200: probe of 0000:02:02.0 failed with error -5
May 18 22:32:24 IBM-T40 ieee80211_crypt: registered algorithm 'WEP'
May 18 22:32:24 IBM-T40 ieee80211_crypt: registered algorithm 'CCMP'
May 18 22:32:24 IBM-T40 ieee80211_crypt: registered algorithm 'TKIP'








Comment 3


Jule Slootbeek





          2005-05-20 19:33:14 UTC
        

I'm having the same problem with the same versions of baselayout and hotplug but
udev 058.




Comment 4


Henrik Brix Andersen





          2005-05-21 07:30:53 UTC
        

Please see if the notes at http://ipw2200.sourceforge.net/#issues helps you
solve this (firmware timeout value).

Also, please make sure that 'grep ^FIRMWARE_DIR /etc/hotplug/firmware.agent'
yields "FIRMWARE_DIR=/lib/firmware".




Comment 5


Jule Slootbeek





          2005-05-21 07:40:12 UTC
        

It was the last fix, thanks a lot! the FIRMWARE_DIR changed from
/usr/lib/hotplug/firmware to /lib/firmware I guess, so must have been overlooked
when I ran etc-update. Thank you.




Comment 6


Henrik Brix Andersen





          2005-05-21 08:13:56 UTC
        

Harris, does this apply to you as well?





Comment 7


Harris Landgarten





          2005-05-21 14:08:34 UTC
        

The problem was the FIRMWARE_DIR value is /etc/hotplug/firmware_agent which was
set to /usr/lib/hotplug/firmware. I changed it to /lib/firmware and all works now.  





Comment 8


Henrik Brix Andersen





          2005-05-21 14:11:56 UTC
        

Thank you for verifying. Closing as WORKSFORME.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

