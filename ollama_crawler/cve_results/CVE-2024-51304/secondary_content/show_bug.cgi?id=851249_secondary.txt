Title: 851249 – dev-qt/qtdbus-5.15.4: `include/QtCore/../../src/corelib/kernel/qobjectdefs.h:41: error: unterminated #ifndef`
URL: https://bugs.gentoo.org/show_bug.cgi?id=851249

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 851249
dev-qt/qtdbus-5.15.4: `include/QtCore/../../src/corelib/kernel/qobjectdefs.h:41: error: unterminated #ifndef`
Last modified: 2022-06-12 09:40:32 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 851249 
      - dev-qt/qtdbus-5.15.4: `include/QtCore/../../src/corelib/kernel/qobjectdefs.h:41: error: unterminated #ifndef`


Summary:
dev-qt/qtdbus-5.15.4: `include/QtCore/../../src/corelib/kernel/qobjectdefs.h:...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Qt Bug Alias








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2022-06-11 19:07 UTC by marius





      Modified:
    
2022-06-12 09:40 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



asturm









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge output

              (qt.log,376.02 KB,
                text/x-log)

            
2022-06-11 19:07 UTC,

            marius




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


marius





          2022-06-11 19:07:15 UTC
        

Created attachment 784103 [details]
emerge output

> * Messages for package dev-qt/qtdbus-5.15.4:
>
> * ERROR: dev-qt/qtdbus-5.15.4::gentoo failed (compile phase):
> *   emake failed
> *
> * If you need support, post the output of `emerge --info '=dev-qt/qtdbus-5.15.4::gentoo'`,
> * the complete build log and the output of `emerge -pqv '=dev-qt/qtdbus-5.15.4::gentoo'`.
> * The complete build log is located at '/var/tmp/portage/dev-qt/qtdbus-5.15.4/temp/build.log'.
> * The ebuild environment file is located at '/var/tmp/portage/dev-qt/qtdbus-5.15.4/temp/environment'.
> * Working directory: '/var/tmp/portage/dev-qt/qtdbus-5.15.4/work/qtbase-everywhere-src-5.15.4_build/src/dbus'
> * S: '/var/tmp/portage/dev-qt/qtdbus-5.15.4/work/qtbase-everywhere-src-5.15.4'
> * One or more packages are either masked or have missing dependencies:
> *
> *   =dev-qt/qtcore-5.15.3*:5= pulled in by:
> *     (dev-qt/qtwidgets-5.15.3:5/5.15::gentoo, installed)
> *
> *   =dev-qt/qtcore-5.15.3*:5= pulled in by:
> *     (dev-qt/qtdbus-5.15.3:5/5.15::gentoo, installed)
> *
> *   =dev-qt/qtcore-5.15.3*:5= pulled in by:
> *     (dev-qt/qtgui-5.15.3:5/5.15.3::gentoo, installed)
> *
> *   =dev-qt/qtcore-5.15.3*:5= pulled in by:
> *     (dev-qt/qtwayland-5.15.3-r1:5/5.15.3::gentoo, installed)
> *
> *   =dev-qt/qtcore-5.15.3* pulled in by:
> *     (dev-qt/qtdeclarative-5.15.3-r1:5/5.15::gentoo, installed)
> *
> *   =dev-qt/qtcore-5.15.3* pulled in by:
> *     (dev-qt/qtx11extras-5.15.3:5/5.15::gentoo, installed)
> *
> *   =dev-qt/qtcore-5.15.3* pulled in by:
> *     (dev-qt/qtsvg-5.15.3:5/5.15::gentoo, installed)
> *
> *   =dev-qt/qtcore-5.15.3* pulled in by:
> *     (dev-qt/qtmultimedia-5.15.3:5/5.15::gentoo, installed)
> *
> *   =dev-qt/qtcore-5.15.3*:5= pulled in by:
> *     (dev-qt/qtopengl-5.15.3:5/5.15::gentoo, installed)
> *
> *   =dev-qt/qtcore-5.15.3*:5= pulled in by:
> *     (dev-qt/qtprintsupport-5.15.3:5/5.15::gentoo, installed)
> *
> * The resume list contains packages that are either masked or have
> * unsatisfied dependencies. Please restart/continue the operation
> * manually, or use --skipfirst to skip the first package in the list and
> * any other packages that may be masked or have missing dependencies.
> *
> * The following package has failed to build, install, or execute postinst:
> *
> *  (dev-qt/qtdbus-5.15.4:5/5.15::gentoo, ebuild scheduled for merge), Log file:
> *   '/var/tmp/portage/dev-qt/qtdbus-5.15.4/temp/build.log'
> *




Comment 1


Andreas Sturmlechner






          2022-06-11 19:14:33 UTC
        

Cleanup your /etc/portage directories.

Seek help elsewhere, like IRC or Forums, this is not a bug.




Comment 2


marius





          2022-06-11 19:23:01 UTC
        

Thank you for getting back.

(In reply to Andreas Sturmlechner from comment #1)
> Cleanup your /etc/portage directories.

Would you mind specifying what exactly I shall clean up in /etc/portage?

(In reply to Andreas Sturmlechner from comment #1)
> Seek help elsewhere, like IRC or Forums, this is not a bug.

That is exactly what I did previously to posting it here.

> 13:50        mrus| trouble with Qt upgrades: https://pastebin.com/P3m36fSi
> ...
> 13:51        mrus| something something dbus
> 13:51        mrus| not quite sure
> ...
> 13:54        mrus| `/var/tmp/portage/dev-qt/qtdbus-5.15.4/work/qtbase-everywhere-src-5.15.4/include/QtCore/../../src/corelib/kernel/qobjectdefs.h:41: error: unterminated #ifndef`
> 13:54        mrus| this doesn't sound right
> ...
> 14:01        mrus| anyone else experiencing this issue with the Qt upgrade to 5.15.4?
> ...




Comment 3


Andreas Sturmlechner






          2022-06-11 20:44:53 UTC
        

But that's an entirely different error. Where is your build.log?




Comment 4


Andreas Sturmlechner






          2022-06-11 20:47:10 UTC
        

I've fixed summary for you. Now please *attach* build.log here and paste your emerge --info.




Comment 5


marius





          2022-06-12 02:03:45 UTC
        

(In reply to Andreas Sturmlechner from comment #1)
> Cleanup your /etc/portage directories.

I spent an hour going through the files in /etc/portage but eventually gave up and simply re-ran the very same command. Without changing a thing this issue disappeared.




Comment 6


Andreas Sturmlechner






          2022-06-12 09:40:32 UTC
        

I'm sorry if I was unclear about that:

- /etc/portage was irrelevant as soon as I had seen the real error hidden in your IRC output
- whenever such an error happens, please *save* the build.log in order to be able to file a meaningful bug report

Any knowledge that we could have gained from that is lost due to us not having information about your environment, build flags and build.log, so technically this is not resolved but simply 'worksforme'. No one else had filed such a bug anyway, but in the event such a corner case exists that only very few people will encounter, we will have to wait for the next one.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

