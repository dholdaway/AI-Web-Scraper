Title: 932837 – gui-libs/wlroots-0.17.2-r1: drm flag masked by profile on default/linux/arm64/23.0
URL: https://bugs.gentoo.org/show_bug.cgi?id=932837

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 932837
gui-libs/wlroots-0.17.2-r1: drm flag masked by profile on default/linux/arm64/23.0
Last modified: 2024-06-02 15:53:15 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 932837 
      - gui-libs/wlroots-0.17.2-r1: drm flag masked by profile on default/linux/arm64/23.0


Summary:
gui-libs/wlroots-0.17.2-r1: drm flag masked by profile on default/linux/arm64...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Profiles

  (show other bugs)



Hardware:

ARM64
        Linux
      







Importance:
      
Normal
       minor
      


Assignee:

Arthur Zamarin








URL:



https://forums.gentoo.org/viewtopic-t...
        




Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2024-05-27 07:33 UTC by spacok





      Modified:
    
2024-06-02 15:53 UTC
      (History)
    




          CC List:
        

3 
          users
          
            (show)
          



leohdz172
prometheanfire
spacok









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


spacok





          2024-05-27 07:33:55 UTC
        

gui-libs/wlroots has masked drm flag on arm64 by profile default/linux/arm64/23.0
I'm not sure if this is intentional because comment in  /var/db/repos/gentoo/profiles/arch/arm64/package.use.mask is mentioning something else:

# Mart Raudsepp <leio@gentoo.org> (2024-03-03)
# media-libs/libdisplay-info (drm) and dev-libs/libliftoff (liftoff)
# are only available for amd64, arm64 and riscv
>=gui-libs/wlroots-0.17.0 -drm -liftoff


Reproducible: Always

Steps to Reproduce:
1.emerge -v wlroots
2.
3.
Actual Results:  
[ebuild  N     ] gui-libs/wlroots-0.17.2-r1  USE="libinput session -X (-drm) (-liftoff) -tinywl -vulkan -x11-backend -xcb-errors""

Expected Results:  
[ebuild  N     ] gui-libs/wlroots-0.17.2-r1  USE="libinput session -X -drm -liftoff -tinywl -vulkan -x11-backend -xcb-errors""

It's simple to fix it by editing /etc/portage/profile/package.use.mask and adding >=gui-libs/wlroots-0.17.0 -drm there. If this mask of drm flag is intentional, comment in /var/db/repos/gentoo/profiles/arch/arm64/package.use.mask should be removed. If it is not intentional, something is wrong in profile. I'm not sure.
DRM on wlroots is required for ARM boards with panfrost or lima drivers




Comment 1


spacok





          2024-06-02 09:38:27 UTC
        

OK I understand now. If you enable testing flag on wlroots, drm is allowed. I think we can close it. Not and issue at all. Just misunderstanding.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

