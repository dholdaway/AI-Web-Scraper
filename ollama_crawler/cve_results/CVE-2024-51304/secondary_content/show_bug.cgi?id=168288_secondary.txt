Title: 168288 – app-office/krita-1.6.1 compile fails
URL: https://bugs.gentoo.org/show_bug.cgi?id=168288

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 168288
app-office/krita-1.6.1 compile fails
Last modified: 2007-06-17 00:02:24 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 168288 
      - app-office/krita-1.6.1 compile fails


Summary:
app-office/krita-1.6.1 compile fails
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-02-25 04:12 UTC by Dan J.





      Modified:
    
2007-06-17 00:02 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Dan J.





          2007-02-25 04:12:15 UTC
        

Compilation of Krita-1.6.1 fails with the error message:  No rule to make target `../../../krita/libkritacommon.la', needed by `libkrita_openexr_import.la'.

Reproducible: Always

Steps to Reproduce:
Emerge app-office/krita
Actual Results:  
make[4]: Entering directory `/var/tmp/portage/app-office/krita-1.6.1/work/krita-1.6.1/filters/krita/openexr'
/usr/qt/3/bin/moc ./kis_openexr_import.h -o kis_openexr_import.moc
/bin/sh ../../../libtool --silent --tag=CXX --mode=compile i686-pc-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I. -I../../..  -I. -I../../../krita -I../../../krita/core -I../../../krita/sdk -I../../../krita/core/tiles -I../../../krita/kritacolor -I../../../krita/ui -I../../../krita/colorspaces/rgb_f32 -I../../../krita/colorspaces/rgb_f16half -I../../../lib/kofficeui -I../../../lib/kofficeui -I../../../lib/kofficecore -I../../../lib/kofficecore -I../../../lib/store -I../../../lib/store -I../../../lib/kwmf -I../../../lib/kwmf -I../../../lib/kopalette -I../../../lib/kopalette -I../../../lib/interfaces -I/usr/include/OpenEXR   -I/usr/kde/3.5/include -I/usr/qt/3/include -I.  -I/usr/kde/3.5/include  -DQT_THREAD_SUPPORT  -D_REENTRANT  -Wno-long-long -Wundef -ansi -D_XOPEN_SOURCE=500 -D_BSD_SOURCE -Wcast-align -Wconversion -Wchar-subscripts -Wall -W -Wpointer-arith -DNDEBUG -DNO_DEBUG -O2 -O2 -march=athlon-xp -fomit-frame-pointer -Wformat-security -Wmissing-format-attribute -Wno-non-virtual-dtor -fno-exceptions -fno-check-new -fno-common -DQT_CLEAN_NAMESPACE -DQT_NO_ASCII_CAST -DQT_NO_STL -DQT_NO_COMPAT -DQT_NO_TRANSLATION -fexceptions -c -o kis_openexr_import.lo kis_openexr_import.cpp
make[4]: *** No rule to make target `../../../krita/libkritacommon.la', needed by `libkrita_openexr_import.la'.  Stop.
make[4]: Leaving directory `/var/tmp/portage/app-office/krita-1.6.1/work/krita-1.6.1/filters/krita/openexr'
make[3]: *** [all-recursive] Error 1
make[3]: Leaving directory `/var/tmp/portage/app-office/krita-1.6.1/work/krita-1.6.1/filters/krita'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/var/tmp/portage/app-office/krita-1.6.1/work/krita-1.6.1/filters'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/app-office/krita-1.6.1/work/krita-1.6.1'
make: *** [all] Error 2

!!! ERROR: app-office/krita-1.6.1 failed.
Call stack:
  ebuild.sh, line 1614:   Called dyn_compile
  ebuild.sh, line 971:   Called qa_call 'src_compile'
  environment, line 4931:   Called src_compile
  krita-1.6.1.ebuild, line 72:   Called kde-meta_src_compile
  kde-meta.eclass, line 379:   Called kde_src_compile
  kde.eclass, line 170:   Called kde_src_compile 'all'
  kde.eclass, line 340:   Called kde_src_compile 'myconf' 'configure' 'make'
  kde.eclass, line 336:   Called die

!!! died running emake, kde_src_compile:make
!!! If you need support, post the topmost build error, and the call stack if relevant.
!!! A complete build log is located at '/var/tmp/portage/app-office/krita-1.6.1/temp/build.log'.


Expected Results:  
Succesful compile.




Comment 1


Carsten Lohrke (RETIRED)






          2007-03-18 21:40:55 UTC
        

Did you use Gnu make or something else? Makefile.am includes 

COMPILE_LAST = filters

so there /shouldn't/ go anything wrong. As no one else seems to have the problem, I'm inclined to resolve as worksforme.




Comment 2


Dan J.





          2007-03-21 22:10:54 UTC
        

(In reply to comment #1)
> Did you use Gnu make or something else? Makefile.am includes 
> 
> COMPILE_LAST = filters
> 
> so there /shouldn't/ go anything wrong. As no one else seems to have the
> problem, I'm inclined to resolve as worksforme.
> 

make -v
GNU Make 3.81
Copyright (C) 2006  Free Software Foundation, Inc.
This is free software; see the source for copying conditions.
There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A
PARTICULAR PURPOSE.

This program built for i686-pc-linux-gnu



I understand that there actually IS a target for making the library, and that not everyone has the issue.

All I know is that I get that error, I've been getting it for well over a month now, and I keep getting it no matter what I try.  I've completely uninstalled and reinstalled koffice-meta.  I've deleted the packages for krita and forced the machine to redownload them.  I haven't installed any other version of make or any other programs that would impact this in any way that occurs to me.  I'm far from a proficient programmer but I've been an amateur piddler for close to two decades now and I'm at a complete loss as to what's going on here or how to proceed.




Comment 3


Wulf Krueger (RETIRED)






          2007-05-07 20:40:57 UTC
        

Please post both your emerge --info and the output of "emerge -pv 
=app-office/krita-1.6.1".




Comment 4


Dan J.





          2007-05-09 00:00:46 UTC
        

root@Merlin:/etc # emerge -info
usage: emerge [options]

emerge: error: no such option: -i
root@Merlin:/etc # emerge --info
Portage 2.1.2.2 (default-linux/x86/2007.0/desktop, gcc-3.4.6, glibc-2.5-r2, 2.6.19-gentoo-r5 i686)
=================================================================
System uname: 2.6.19-gentoo-r5 i686 AMD Athlon(tm) XP 2400+
Gentoo Base System release 1.12.9
Timestamp of tree: Tue, 08 May 2007 05:30:10 +0000
dev-java/java-config: 1.3.7, 2.0.31-r5
dev-lang/python:     2.3.5-r3, 2.4.4
dev-python/pycrypto: 2.0.1-r5
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.61
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.16
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.17-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=athlon-xp -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/terminfo"
CXXFLAGS="-O2 -march=athlon-xp -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X acl acpi alsa arts berkdb bitmap-fonts cairo cdr cli cracklib crypt cups dbus doc dri dvd dvdr dvdread eds emboss encode esd evo fam firefox fortran gdbm gif gpm gstreamer gtk hal iconv ipv6 isdnlog jpeg kde kerberos ldap libg++ mad midi mikmod mozdevelop mp3 mpeg ncurses nls nptl nptlonly offensive ogg opengl oss pam pcre pdf perl png pppd python qt3 qt3support qt4 quicktime readline reflection sdl session slang spell spl ssl svg tcpd tiff truetype truetype-fonts type1-fonts unicode vorbis win32codecs x86 xinerama xml xorg xv zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1 emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" ELIBC="glibc" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" USERLAND="GNU" VIDEO_CARDS="radeon vesa"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGUAS, MAKEOPTS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY





Comment 5


Dan J.





          2007-05-09 00:01:59 UTC
        

root@Merlin:/etc # emerge -pv =app-office/krita-1.6.1

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild  N    ] app-office/krita-1.6.1  USE="arts xinerama -debug" 0 kB

Total: 1 package (1 new), Size of downloads: 0 kB





Comment 6


Jorge Manuel B. S. Vicetto (RETIRED)






          2007-05-09 00:45:51 UTC
        

Dan,

you have an old gcc and kernel. However, your tree is up to date and you have most recent packages for x86. Are you blocking newer gcc versions?
Can you please try to upgrade to the latest stable versions of gcc and kernel?

(In reply to comment #4)
> Portage 2.1.2.2 (default-linux/x86/2007.0/desktop, gcc-3.4.6, glibc-2.5-r2,
> 2.6.19-gentoo-r5 i686)
> =================================================================
> Timestamp of tree: Tue, 08 May 2007 05:30:10 +0000
> sys-devel/autoconf:  2.13, 2.61
> sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
> sys-devel/binutils:  2.16.1-r3
> sys-devel/gcc-config: 1.3.16
> sys-devel/libtool:   1.5.22
> virtual/os-headers:  2.6.17-r2
> ACCEPT_KEYWORDS="x86"




Comment 7


Wulf Krueger (RETIRED)






          2007-06-17 00:02:24 UTC
        

No response and works for me. Feel free to re-open after updating as asked for in comment 6.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

