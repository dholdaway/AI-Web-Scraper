Title: 517618 – app-emulation/virtualbox-4.3.14 fails to create hostonly interface
URL: https://bugs.gentoo.org/show_bug.cgi?id=517618

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 517618
app-emulation/virtualbox-4.3.14 fails to create hostonly interface
Last modified: 2014-07-23 13:30:08 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 517618 
      - app-emulation/virtualbox-4.3.14 fails to create hostonly interface


Summary:
app-emulation/virtualbox-4.3.14 fails to create hostonly interface
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Lars Wendler (Polynomial-C) (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2014-07-20 20:19 UTC by Sandu Adrian





      Modified:
    
2014-07-23 13:30 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



adrian.sandu









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Sandu Adrian





          2014-07-20 20:19:29 UTC
        

Hello,

Just upgraded to 4.3.14 and it fails to create the vboxnet0 interface with "check 
permissions", status -10 error message... with a kernel oops..

I filled a bug at virtualbox and attached a strace log... but maybe it's related to my setup .. so filled a bug here too...
https://www.virtualbox.org/ticket/13213

Maybe others got this issue ( altough googling it didn't get me to any workarounds )...




Comment 1


Sandu Adrian





          2014-07-22 08:30:14 UTC
        

same happens for 4.3.12 :|




Comment 2


Sandu Adrian





          2014-07-22 21:14:26 UTC
        

More debug

Log created: 2014-07-22T21:16:42.697418000Z
Executable: /usr/lib64/virtualbox/VBoxManage
Arg[0]: /usr/lib64/virtualbox/VBoxManage
Arg[1]: hostonlyif
Arg[2]: create
RTThreadCreate: Created thread 0000000000816810 (00007f2471ba2700) nspr-1
rtThreadMain: Starting: pThread=0000000000816810 NativeThread=00007f2471ba2700 Name=nspr-1 pfnThread=00007f2470d29a15 pvUser=0000000000818bd0
RTThreadCreate: Created thread 0000000000817330 (00007f2471b68700) nspr-2
rtThreadMain: Starting: pThread=0000000000817330 NativeThread=00007f2471b68700 Name=nspr-2 pfnThread=00007f2470d29a15 pvUser=00000000008171c0
ERROR: Failed to execute 'VBoxNetAdpCtl add' (exit status: -10). Check permissions!
Details: code NS_ERROR_FAILURE (0x80004005), component HostNetworkInterface, interface IHostNetworkInterface
Context: "int handleCreate(HandlerArg*, int, int*)" at line 66 of file VBoxManageHostonly.cpp
ERROR [COM]: aRC=NS_ERROR_UNEXPECTED (0x8000ffff) aIID={12f4dcdb-12b2-4ec1-b7cd-ddd9f6c5bf4d} aComponent={Session} aText={The session is not locked (session state: Unlocked)}, preserve=false
rtThreadMain: Terminating: rc=0 pThread=0000000000817330 NativeThread=00007f2471b68700 Name=nspr-2 pfnThread=00007f2470d29a15 pvUser=00000000008171c0
rtThreadMain: Terminating: rc=0 pThread=0000000000816810 NativeThread=00007f2471ba2700 Name=nspr-1 pfnThread=00007f2470d29a15 pvUser=0000000000818bd0


Log created: 2014-07-22T21:16:42.708420000Z
Executable: /usr/lib64/virtualbox/VBoxXPCOMIPCD
Arg[0]: /usr/lib64/virtualbox/VBoxXPCOMIPCD


Log created: 2014-07-22T21:16:42.715169000Z
Executable: /usr/lib64/virtualbox/VBoxSVC
Arg[0]: /usr/lib64/virtualbox/VBoxSVC
Arg[1]: --auto-shutdown
rtPathRename('/root/.config/VirtualBox/VBoxSVC.log.9', '/root/.config/VirtualBox/VBoxSVC.log.10', 0x1 ,00008000): source type check failed rc=VERR_FILE_NOT_FOUND errno=2
rtPathRename('/root/.config/VirtualBox/VBoxSVC.log.8', '/root/.config/VirtualBox/VBoxSVC.log.9', 0x1 ,00008000): source type check failed rc=VERR_FILE_NOT_FOUND errno=2
rtPathRename('/root/.config/VirtualBox/VBoxSVC.log.7', '/root/.config/VirtualBox/VBoxSVC.log.8', 0x1 ,00008000): source type check failed rc=VERR_FILE_NOT_FOUND errno=2
rtPathRename('/root/.config/VirtualBox/VBoxSVC.log.6', '/root/.config/VirtualBox/VBoxSVC.log.7', 0x1 ,00008000): source type check failed rc=VERR_FILE_NOT_FOUND errno=2
rtPathRename('/root/.config/VirtualBox/VBoxSVC.log.5', '/root/.config/VirtualBox/VBoxSVC.log.6', 0x1 ,00008000): source type check failed rc=VERR_FILE_NOT_FOUND errno=2
rtPathRename('/root/.config/VirtualBox/VBoxSVC.log.4', '/root/.config/VirtualBox/VBoxSVC.log.5', 0x1 ,00008000): source type check failed rc=VERR_FILE_NOT_FOUND errno=2
rtPathRename('/root/.config/VirtualBox/VBoxSVC.log.3', '/root/.config/VirtualBox/VBoxSVC.log.4', 0x1 ,00008000): source type check failed rc=VERR_FILE_NOT_FOUND errno=2
rtPathRename('/root/.config/VirtualBox/VBoxSVC.log.2', '/root/.config/VirtualBox/VBoxSVC.log.3', 0x1 ,00008000): source type check failed rc=VERR_FILE_NOT_FOUND errno=2
rtPathRename('/root/.config/VirtualBox/VBoxSVC.log.1', '/root/.config/VirtualBox/VBoxSVC.log.2', 0x1 ,00008000): source type check failed rc=VERR_FILE_NOT_FOUND errno=2
rtPathRename('/root/.config/VirtualBox/VBoxSVC.log', '/root/.config/VirtualBox/VBoxSVC.log.1', 0x1 ,00008000): source type check failed rc=VERR_FILE_NOT_FOUND errno=2
RTThreadCreate: Created thread 00000000028bd680 (00007f85af632700) nspr-1
rtThreadMain: Starting: pThread=00000000028bd680 NativeThread=00007f85af632700 Name=nspr-1 pfnThread=00007f85ae5b5a15 pvUser=00000000028bd570
RTThreadCreate: Created thread 00000000028bf2b0 (00007f85af5f7700) nspr-2
rtThreadMain: Starting: pThread=00000000028bf2b0 NativeThread=00007f85af5f7700 Name=nspr-2 pfnThread=00007f85ae5b5a15 pvUser=00000000028bf140
RTThreadCreate: Created thread 00000000028cb3c0 (00007f85af5d6700) TimerLR
rtThreadMain: Starting: pThread=00000000028cb3c0 NativeThread=00007f85af5d6700 Name=TimerLR pfnThread=00007f85aec0b360 pvUser=00000000028bf090
RTThreadCreate: Created thread 00007f859c00d120 (00007f85af555700) CGMgr
rtThreadMain: Starting: pThread=00007f859c00d120 NativeThread=00007f85af555700 Name=CGMgr pfnThread=0000000000636590 pvUser=00007f859c00bdb0
RTThreadCreate: Created thread 00007f859c00da20 (00007f85af4d4700) TimerLR
rtThreadMain: Starting: pThread=00007f859c00da20 NativeThread=00007f85af4d4700 Name=TimerLR pfnThread=00007f85aec0b360 pvUser=00007f859c000e00
USBProxyService::processChanges: attached 00007f859c00f3a0 {Creative Technology Ltd SB X-Fi Surround 5.1 Pro} Capturable / 00007f859c010c80:{.idVendor=0x041e, .idProduct=0x30df, .pszProduct="SB X-Fi Surround 5.1 Pro", .pszManufacturer="Creative Technology Ltd"}
USBProxyService::processChanges: attached 00007f859c011900 {APC Back-UPS ES 550G FW:870.O2 .I USB FW:O2 } Capturable / 00007f859c0171f0:{.idVendor=0x051d, .idProduct=0x0002, .pszProduct="Back-UPS ES 550G FW:870.O2 .I USB FW:O2 ", .pszManufacturer="APC"}
USBProxyService::processChanges: attached 00007f859c011dd0 {Western Digital My Book 1140} Capturable / 00007f859c010ee0:{.idVendor=0x1058, .idProduct=0x1140, .pszProduct="My Book 1140", .pszManufacturer="Western Digital"}
USBProxyService::processChanges: attached 00007f859c012320 {Western Digital My Book 1140} Capturable / 00007f859c011140:{.idVendor=0x1058, .idProduct=0x1140, .pszProduct="My Book 1140", .pszManufacturer="Western Digital"}
USBProxyService::processChanges: attached 00007f859c0128c0 {Western Digital My Book 1170} Capturable / 00007f859c011010:{.idVendor=0x1058, .idProduct=0x1170, .pszProduct="My Book 1170", .pszManufacturer="Western Digital"}
USBProxyService::processChanges: attached 00007f859c012e60 {Western Digital My Book 1230} Capturable / 00007f859c010db0:{.idVendor=0x1058, .idProduct=0x1230, .pszProduct="My Book 1230", .pszManufacturer="Western Digital"}
USBProxyService::processChanges: attached 00007f859c013400 {Western Digital My Book 1230} Capturable / 00007f859c0114d0:{.idVendor=0x1058, .idProduct=0x1230, .pszProduct="My Book 1230", .pszManufacturer="Western Digital"}
USBProxyService::processChanges: attached 00007f859c0139a0 {Western Digital My Book 1230} Capturable / 00007f859c0113a0:{.idVendor=0x1058, .idProduct=0x1230, .pszProduct="My Book 1230", .pszManufacturer="Western Digital"}
USBProxyService::processChanges: attached 00007f859c014060 {Western Digital My Book 1230} Capturable / 00007f859c011600:{.idVendor=0x1058, .idProduct=0x1230, .pszProduct="My Book 1230", .pszManufacturer="Western Digital"}
USBProxyService::processChanges: attached 00007f859c014720 {Western Digital My Book 1230} Capturable / 00007f859c011270:{.idVendor=0x1058, .idProduct=0x1230, .pszProduct="My Book 1230", .pszManufacturer="Western Digital"}
USBProxyService::processChanges: attached 00007f859c014de0 {ÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿ HUAWEI Mobile} Unused / 00007f859c010b70:{.idVendor=0x12d1, .idProduct=0x1001, .pszProduct="HUAWEI Mobile", .pszManufacturer="ÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿ"}
USBProxyService::processChanges: attached 00007f859c015470 {<unknown>} Capturable / 00007f859c017130:{.idVendor=0x8087, .idProduct=0x07dc, .pszProduct="<NULL>", .pszManufacturer="<NULL>"}
RTThreadCreate: Created thread 00007f859c015aa0 (00007f85a90c1700) USBPROXY
Successfully initialised host USB using sysfs
rtThreadMain: Starting: pThread=00007f859c015aa0 NativeThread=00007f85a90c1700 Name=USBPROXY pfnThread=00000000006243f0 pvUser=00007f859c00e780
RTThreadCreate: Created thread 00007f859c01d050 (00007f85a9040700) dns-monitor
rtThreadMain: Starting: pThread=00007f859c01d050 NativeThread=00007f85a9040700 Name=dns-monitor pfnThread=0000000000497990 pvUser=00007f859c01b100
HostDnsMonitorProxy: Host's DNS information updated:
DNS server 1: 127.0.0.1
VDInit finished
RTThreadCreate: Created thread 00007f859c03d470 (00007f85a8f17700) Watcher
rtThreadMain: Starting: pThread=00007f859c03d470 NativeThread=00007f85a8f17700 Name=Watcher pfnThread=0000000000482790 pvUser=00007f859c040e30
RTThreadCreate: Created thread 00007f859c03e5a0 (00007f85a8e96700) EventHandler
rtThreadMain: Starting: pThread=00007f859c03e5a0 NativeThread=00007f85a8e96700 Name=EventHandler pfnThread=000000000059aa30 pvUser=00007f859c001610
rtThreadMain: Terminating: rc=-39 pThread=00007f859c015aa0 NativeThread=00007f85a90c1700 Name=USBPROXY pfnThread=00000000006243f0 pvUser=00007f859c00e780
rtThreadMain: Terminating: rc=0 pThread=00007f859c00da20 NativeThread=00007f85af4d4700 Name=TimerLR pfnThread=00007f85aec0b360 pvUser=00007f859c000e00
rtThreadMain: Terminating: rc=0 pThread=00007f859c00d120 NativeThread=00007f85af555700 Name=CGMgr pfnThread=0000000000636590 pvUser=00007f859c00bdb0
rtThreadMain: Terminating: rc=0 pThread=00007f859c03e5a0 NativeThread=00007f85a8e96700 Name=EventHandler pfnThread=000000000059aa30 pvUser=00007f859c001610
ERROR [COM]: aRC=E_ACCESSDENIED (0x80070005) aIID={fafa4e17-1ee2-4905-a10e-fe7c18bf5554} aComponent={VirtualBox} aText={The object is not ready}, preserve=false
rtThreadMain: Terminating: rc=0 pThread=00007f859c03d470 NativeThread=00007f85a8f17700 Name=Watcher pfnThread=0000000000482790 pvUser=00007f859c040e30
rtThreadMain: Terminating: rc=0 pThread=00000000028cb3c0 NativeThread=00007f85af5d6700 Name=TimerLR pfnThread=00007f85aec0b360 pvUser=00000000028bf090
rtThreadMain: Terminating: rc=0 pThread=00000000028bf2b0 NativeThread=00007f85af5f7700 Name=nspr-2 pfnThread=00007f85ae5b5a15 pvUser=00000000028bf140
rtThreadMain: Terminating: rc=0 pThread=00000000028bd680 NativeThread=00007f85af632700 Name=nspr-1 pfnThread=00007f85ae5b5a15 pvUser=00000000028bd570


Type Manifest File: /root/.config/VirtualBox/xpti.dat
nsNativeComponentLoader: autoregistering begins.
*** Registering VirtualBox_Server_Module components (all right -- a generic module!)
*** Registering ipcdclient components (all right -- a generic module!)
*** Registering VirtualBox_Client_Module components (all right -- a generic module!)
nsNativeComponentLoader: autoregistering succeeded
nNCL: registering deferred (0)
nsNativeComponentLoader: autoregistering begins.
nsNativeComponentLoader: autoregistering succeeded
nNCL: registering deferred (0)
0%...
Progress state: NS_ERROR_FAILURE
VBoxManage: error: Failed to create the host-only adapter
VBoxManage: error: Failed to execute 'VBoxNetAdpCtl add' (exit status: -10). Check permissions!
VBoxManage: error: Details: code NS_ERROR_FAILURE (0x80004005), component HostNetworkInterface, interface IHostNetworkInterface
VBoxManage: error: Context: "int handleCreate(HandlerArg*, int, int*)" at line 66 of file VBoxManageHostonly.cpp
ipcDConnectService Stats
 => number of worker threads: 1
No Persistent Registry Found.


VirtualBox XPCOM Server 4.3.14_Gentoo r95030 linux.amd64 (Jul 22 2014 23:42:02) release log
00:00:00.000887 main     Log opened 2014-07-22T21:16:42.716020000Z
00:00:00.000889 main     Build Type: debug
00:00:00.000893 main     OS Product: Linux
00:00:00.000894 main     OS Release: 3.13.6-aufs
00:00:00.000895 main     OS Version: #8 SMP Tue Jul 1 09:06:14 EEST 2014
00:00:00.000915 main     DMI Product Name:         
00:00:00.000920 main     DMI Product Version:         
00:00:00.000996 main     Host RAM: 15980MB total, 14325MB available
00:00:00.001001 main     Executable: /usr/lib64/virtualbox/VBoxSVC
00:00:00.001001 main     Process ID: 18681
00:00:00.001002 main     Package type: LINUX_64BITS_GENERIC (OSE)
00:00:00.118706 nspr-2   Successfully initialised host USB using sysfs
00:00:00.121956 nspr-2   HostDnsMonitorProxy: Host's DNS information updated:
00:00:00.121966 nspr-2   DNS server 1: 127.0.0.1
00:00:00.122146 nspr-2   VDInit finished
00:00:05.174881 Watcher  ERROR [COM]: aRC=E_ACCESSDENIED (0x80070005) aIID={fafa4e17-1ee2-4905-a10e-fe7c18bf5554} aComponent={VirtualBox} aText={The object is not ready}, preserve=false




Comment 3


Sandu Adrian





          2014-07-23 13:30:08 UTC
        

A reboot fixed the issue ( it auto-created vboxnet0 )... too bad I couldn't figure out the problem... I'll re-open if it happens again.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

