Title: 444022 – net-analyzer/nagios-plugins-1.4.16-r{2,3}: check_ping CRITICAL - You need more args!!!
URL: https://bugs.gentoo.org/show_bug.cgi?id=444022

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 444022
net-analyzer/nagios-plugins-1.4.16-r{2,3}: check_ping CRITICAL - You need more args!!!
Last modified: 2017-02-27 17:03:39 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 444022 
      - net-analyzer/nagios-plugins-1.4.16-r{2,3}: check_ping CRITICAL - You need more args!!!


Summary:
net-analyzer/nagios-plugins-1.4.16-r{2,3}: check_ping CRITICAL - You need mor...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Michael Orlitzky








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2012-11-20 11:44 UTC by Alexandr Tiurin





      Modified:
    
2017-02-27 17:03 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



gentoo.bugs
sysadmin









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge --info nagios-plugins

              (new file,17.53 KB,
                text/plain)

            
2012-11-20 11:50 UTC,

            Alexandr Tiurin




Details





emerge --info nagios-plugins  (from chroot)

              (chroot,17.79 KB,
                text/plain)

            
2012-11-20 18:29 UTC,

            Alexandr Tiurin




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Alexandr Tiurin





          2012-11-20 11:44:49 UTC
        

check_ping don't work after update from 1.4.14-r2 to 1.4.16-r{2,3}.

Reproducible: Always

Steps to Reproduce:
1. /usr/lib/nagios/plugins/check_ping -H 127.0.0.1 -w 3000.0,80% -c 5000.0,100% -p5

Actual Results:  
CRITICAL - You need more args!!!
Could not open pipe: 

Expected Results:  
PING OK - Packet loss = 0%, RTA = 0.10 ms|rta=0.103000ms;3000.000000;5000.000000;0.000000 pl=0%;80;100;0




Comment 1


Alexandr Tiurin





          2012-11-20 11:50:31 UTC
        

Created attachment 330058 [details]
emerge --info nagios-plugins




Comment 2


Matthew Thode ( prometheanfire )









          2012-11-20 14:45:42 UTC
        

working for me :|

net-analyzer/nagios-plugins-1.4.16-r3

ls -lZ /usr/lib/nagios/plugins/check_ping
-rwxr-x---. 1 root nagios system_u:object_r:nagios_services_plugin_exec_t 55632 Nov 20 09:43 /usr/lib/nagios/plugins/check_ping


/usr/lib/nagios/plugins/check_ping -H 127.0.0.1 -w 3000.0,80% -c 5000.0,100% -p5
PING OK - Packet loss = 0%, RTA = 0.09 ms|rta=0.092000ms;3000.000000;5000.000000;0.000000 pl=0%;80;100;0




Comment 3


Alexandr Tiurin





          2012-11-20 18:28:13 UTC
        

I found that the problem occurs when building nagios-plugins in  chroot. Chroot is PORTAGE_BINHOST for target host (comment 1: it is from target host).
If rebuld nagios-plugins on target host, check_ping work fine.




Comment 4


Alexandr Tiurin





          2012-11-20 18:29:30 UTC
        

Created attachment 330088 [details]
emerge --info nagios-plugins  (from chroot)




Comment 5


Matthew Thode ( prometheanfire )









          2012-11-21 05:35:33 UTC
        

I noticed the chroot one doesn't have user=root (probably a good idea for a chroot).  can you do an md5 of both binaries (chroot built and not) and show both permissions (ls -l)?




Comment 6


Alexandr Tiurin





          2012-11-21 09:27:19 UTC
        

not chroot
70876e8d4b7dada1a4df063b9c0cd9df  /usr/lib/nagios/plugins/check_ping
-rwxr-x--- 1 root nagios 59736 Nov 20 22:04 /usr/lib/nagios/plugins/check_ping

chroot
5fb4a73bf818a75fb54aa25cb8711d92  /usr/lib/nagios/plugins/check_ping
-rwxr-x--- 1 root nagios 59736 Nov 20 22:15 /usr/lib/nagios/plugins/check_ping




Comment 7


Michael Orlitzky






          2015-08-31 23:37:11 UTC
        

Maybe a bit late, but.. can you check to see if this is still a problem with nagios-plugins-2.1.1?




Comment 8


Michael Orlitzky






          2017-02-26 22:35:48 UTC
        

Ping... we need to know if it's still a problem with the latest nagios-plugins.




Comment 9


Alexandr Tiurin





          2017-02-27 17:03:39 UTC
        

Works for me. Thanks!









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

