Title: 233539 – dev-libs/glib-2.16.5: Emerge fails
URL: https://bugs.gentoo.org/show_bug.cgi?id=233539

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 233539
dev-libs/glib-2.16.5: Emerge fails
Last modified: 2008-08-04 14:35:58 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 233539 
      - dev-libs/glib-2.16.5: Emerge fails


Summary:
dev-libs/glib-2.16.5: Emerge fails
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo/Alt




Classification:

Unclassified




Component:

Prefix Support

  (show other bugs)



Hardware:

x86
        OS X
      







Importance:
      
High
       normal
      


Assignee:

Gentoo non-Linux Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-07-31 23:22 UTC by Dan Levin





      Modified:
    
2008-08-04 14:35 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




lib-2.16.5/config.log

              (error,30.55 KB,
                text/plain)

            
2008-07-31 23:23 UTC,

            Dan Levin




Details





call stack trace and error message from terminal

              (command,10.05 KB,
                text/plain)

            
2008-07-31 23:25 UTC,

            Dan Levin




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Dan Levin





          2008-07-31 23:22:20 UTC
        

when attempting to emerge "dia", one of the dependencies "glib" fails to build. An error is given during configuration:

*** You must have either have gettext support in your C library, or use the
*** GNU gettext library. (http://www.gnu.org/software/gettext/gettext.html


Reproducible: Always

Steps to Reproduce:
1.emerge glib
2.???
3.Profit!!




vonnegut ~>>emerge --info
Portage 2.2.00.11287-prefix (default-prefix/darwin/macos/10.5/x86, gcc-4.0.1, unavailable, 9.4.0 i386)
=================================================================
                        System Settings
=================================================================
System uname: Darwin-9.4.0-i386-32bit
Timestamp of tree: Thu, 31 Jul 2008 22:21:30 +0000
distcc 2.18.5-Apple.1 powerpc-apple-darwin9.0 (protocols 1 and 2) (default port 3632) [disabled]
app-shells/bash:     3.2_p33
dev-lang/python:     2.5.2-r5
sys-devel/autoconf:  2.13, 2.61-r2
sys-devel/automake:  1.5, 1.7.9-r1, 1.10.1-r1
sys-devel/gcc-config: 1.4.0-r04.5
sys-devel/libtool:   1.5.26
ACCEPT_KEYWORDS="~x86-macos"
CBUILD="i686-apple-darwin9"
CFLAGS="-O2 -pipe -march=nocona"
CHOST="i686-apple-darwin9"
CONFIG_PROTECT="/etc"
CONFIG_PROTECT_MASK="/etc/env.d /etc/gconf /etc/terminfo"
CXXFLAGS="-O2 -pipe -march=nocona"
DISTDIR="/Users/dlevin/Library/Gentoo/usr/portage/distfiles"
EPREFIX="/Users/dlevin/Library/Gentoo"
FEATURES="collision-protect distlocks nostrip parallel-fetch preserve-libs sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LANG="en_US.US-ASCII"
LDFLAGS=""
PKGDIR="/Users/dlevin/Library/Gentoo/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/Users/dlevin/Library/Gentoo/var/tmp"
PORTDIR="/Users/dlevin/Library/Gentoo/usr/portage"
SYNC="rsync://rsync.prefix.freens.org/gentoo-portage-prefix"
USE="aqua coreaudio cracklib midi mmx mmxext ncurses nls objc objc++ prefix readline sse sse2 ssl unicode x86-macos zlib" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="Darwin" INPUT_DEVICES="keyboard mouse" KERNEL="Darwin" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" USERLAND="GNU"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LC_ALL, LINGUAS, MAKEOPTS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY




Comment 1


Dan Levin





          2008-07-31 23:23:58 UTC
        

Created attachment 161888 [details]
lib-2.16.5/config.log




Comment 2


Dan Levin





          2008-07-31 23:25:27 UTC
        

Created attachment 161889 [details]
call stack trace and error message from terminal




Comment 3


Jeremy Olexa (darkside) (RETIRED)








          2008-07-31 23:33:08 UTC
        

(In reply to comment #0)
> when attempting to emerge "dia", one of the dependencies "glib" fails to build.
> An error is given during configuration:
> 
> *** You must have either have gettext support in your C library, or use the
> *** GNU gettext library. (http://www.gnu.org/software/gettext/gettext.html

Hmm, that is odd. Is sys-devel/gettext installed? It should be because it is a dep of glib.




Comment 4


Dan Levin





          2008-07-31 23:58:09 UTC
        

I did specifically emerge sys-devel/gettext-0.16.1-r1

Still, I have the same error when emerging glib




Comment 5


Fabian Groffen






          2008-08-01 08:23:56 UTC
        

I need to try this on my MacTel.




Comment 6


Dan Levin





          2008-08-03 16:56:00 UTC
        

(In reply to comment #5)
> I need to try this on my MacTel.
> 

any luck in reproducing the bug?




Comment 7


Fabian Groffen






          2008-08-03 17:08:29 UTC
        

works fine here, cannot reproduce :/




Comment 8


Fabian Groffen






          2008-08-03 19:12:14 UTC
        

hey, just for the fun of it... when you post emerge --info you get some output, I don't get (because noone coded it)...  Care to explain?




Comment 9


Dan Levin





          2008-08-04 14:35:58 UTC
        

(In reply to comment #8)
> hey, just for the fun of it... when you post emerge --info you get some output,
> I don't get (because noone coded it)...  Care to explain?
> 
Re: Grobian, I'm not quite sure what more there is to explain. I just called emerge with --info and you can see the result I got.

Rather than investigate too much further, I went and rebuilt my prefix environment from scratch and the glib problem went away. However, NOW there is a problem with the USE="aqua" flag in cairo...  which I am about to file as a separate bug.










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

