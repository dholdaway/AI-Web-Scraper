Title: 97161 – app-i18n/uim-0.4.7 build fails with segmentation fault
URL: https://bugs.gentoo.org/show_bug.cgi?id=97161

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 97161
app-i18n/uim-0.4.7 build fails with segmentation fault
Last modified: 2005-10-15 04:41:10 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 97161 
      - app-i18n/uim-0.4.7 build fails with segmentation fault


Summary:
app-i18n/uim-0.4.7 build fails with segmentation fault
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

CJK Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-06-26 20:17 UTC by gentoo





      Modified:
    
2005-10-15 04:41 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


gentoo





          2005-06-26 20:17:48 UTC
        

Here is the topmost build error:

make[1]: Entering directory `/var/tmp/portage/uim-0.4.7/work/uim-0.4.7/scm'
make -C ../uim uim-sh && \
echo "(define installed-im-module-list '(" '"pyload" "anthy"   "skk" "tcode"
"tutcode" "hangul" "viqr" "ipa-x-sampa" "latin"  ' ")) \
         (require \"manage-modules.scm\") \
         (generate-installed-modules-scm)" \
| LIBUIM_VERBOSE=1 LIBUIM_VANILLA=1 LIBUIM_SCM_FILES=`(cd .. && pwd)`/scm
LIBUIM_PLUGIN_LIB_DIR=../uim/.libs \
  ../uim/uim-sh -B >installed-modules.scm
make[2]: Entering directory `/var/tmp/portage/uim-0.4.7/work/uim-0.4.7/uim'
make[2]: Leaving directory `/var/tmp/portage/uim-0.4.7/work/uim-0.4.7/uim'
/bin/sh: line 1: 29269 Done                    echo "(define
installed-im-module-list '(" '"pyload" "anthy"   "skk" "tcode" "tutcode"
"hangul" "viqr" "ipa-x-sampa" "latin"  ' "))  (require \"manage-modules.scm\") 
(generate-installed-modules-scm)"
     29270 Segmentation fault      | LIBUIM_VERBOSE=1 LIBUIM_VANILLA=1
LIBUIM_SCM_FILES=`(cd .. && pwd)`/scm LIBUIM_PLUGIN_LIB_DIR=../uim/.libs
../uim/uim-sh -B >installed-modules.scm


Reproducible: Always
Steps to Reproduce:
1.enable ~amd64 keyword
2.emerge uim
3.

Actual Results:  
build failed

Expected Results:  
emerged successfully

Portage 2.0.51.22-r1 (default-linux/amd64/2005.0, gcc-3.4.4, glibc-2.3.5-r0,
2.6.12-gentoo x86_64)
=================================================================
System uname: 2.6.12-gentoo x86_64 AMD Athlon(tm) 64 Processor 3500+
Gentoo Base System version 1.6.12
distcc 2.18.3 x86_64-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
dev-lang/python:     2.4.1-r1
sys-apps/sandbox:    1.2.9
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.5
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.18
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="amd64 ~amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=k8 -O3 -pipe -ftracer"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env
/usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-march=k8 -O3 -pipe -ftracer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks fixpackages sandbox sfperms strict userpriv"
GENTOO_MIRRORS="ftp://ftp.ecc.u-tokyo.ac.jp/GENTOO http://mirror.gentoo.gr.jp
http://gentoo.oregonstate.edu http://www.ibiblio.org/pub/Linux/distributions/gentoo"
LANG="en_US.UTF-8"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/overlays/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="amd64 X X509 a52 aac aalib acl acpi adns aliaschain alsa anthy antlr
audiofile berkdb bitmap-fonts bonobo caps cddb cdr chasen cjk cnamefix crypt
cups curl dga directfb djbfft dnd dv dvb dvd dvdr eds encode erandom expat faac
faad fam fbcon ffmpeg flac flash fltk font-server foomaticdb freetype freewnn fs
fwdzone gd gdbm gif gimpprint gnome gnomedb gnutls gpm gstreamer gtk gtk2
gtkhtml hbci idea ieee1394 imagemagick imap imlib imlib2 immqt-bc ipv6 jack
jack-tmpfs java javamail javascript jbig jce jdepend jikes jp2 jpeg jsch junit
kakasi ladcca lcd lcms ldap libgda libsamplerate log4j ltsp lua lzw lzw-tiff mad
md5sum mikmod mjpeg mmap motif mp3 mpeg mpeg2 multipleip nas ncurses nls nntp
nobsh nocd nonfsv4 noplugin nopri nptl nptlonly nvidia ogg oggvorbis opengl
openssh optional-tasks oro pam pdflib perl pg-intdatetime plotutils png
portaudio postgres ppds python qt quicktime readline real regexp rhino rtc ruby
samba sdl semanticfix slang sndfile spell sqlite ssl svg tcltk tcpd theora
threads tiff transcode truetype truetype-fonts type1 type1-fonts unicode usb
userlocales v4l2 vorbis wmf wxgtk1 wxwindows xalan xerces xface xine xml xml2
xmms xpm xprint xrandr xv xvid xvmc zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LC_ALL, LDFLAGS, LINGUAS




Comment 1


Mamoru KOMACHI (RETIRED)






          2005-06-29 20:59:13 UTC
        

Does this still happen even when you build uim with CFLAGS="-O -pipe"?




Comment 2


gentoo





          2005-06-30 00:33:38 UTC
        

(In reply to comment #1)
> Does this still happen even when you build uim with CFLAGS="-O -pipe"?

Yes it does.

I tried building it as follows:
CFLAGS="-O -pipe" emerge -v uim

I got the same segmentation fault.




Comment 3


Mamoru KOMACHI (RETIRED)






          2005-07-01 23:45:35 UTC
        

matsuu and nigoro: can you check this bug, please?
(I don't have any amd64 box around)




Comment 4


MATSUU Takuto (RETIRED)






          2005-10-15 04:41:10 UTC
        

it does not happen on my amd64.

if you have same problem with uim-0.5.0.1, please reopen this bug.










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

