Title: 339602 – Insufficient warning for "newbies" when updating key packages (GLEP 42 needs to be used more)
URL: https://bugs.gentoo.org/show_bug.cgi?id=339602

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 339602
Insufficient warning for "newbies" when updating key packages (GLEP 42 needs to be used more)
Last modified: 2012-09-09 00:59:47 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 339602 
      - Insufficient warning for "newbies" when updating key packages (GLEP 42 needs to be used more)


Summary:
Insufficient warning for "newbies" when updating key packages (GLEP 42 needs ...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Portage Development




Classification:

Unclassified




Component:

Enhancement/Feature Requests

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       enhancement
      


Assignee:

Portage team








URL:



http://www.gentoo.org/proj/en/glep/gl...
        




Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2010-10-03 15:15 UTC by stonefish





      Modified:
    
2012-09-09 00:59 UTC
      (History)
    




          CC List:
        

3 
          users
          
            (show)
          



myckel
stonefish
titanofold









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


stonefish





          2010-10-03 15:15:21 UTC
        

Hi all,

I've been using Gentoo for a few years now, and every few months I get into a situation that completely breaks my system and I need external help getting out.  Invariably, this is caused by key packages getting updated by "emerge -uDN world" and requiring additional steps to complete the upgrade process, without clearly letting me know that this is the case.

The obvious answer everyone rushes towards is "RTFM", but I had something like 90 packages to update, and I'll be damned if I'm going to research each and every one of them every time to find out A) Which ones provide absolutely critical functionality and B) If there are any particular issues that might come up between my current and target versions that I haven't encountered before.

I'm not quite sure how such a thing would be implemented, but there should be some kind of warning that appears BEFORE an emerge gets started, to the tune of "You have chosen to upgrade GCC 5.6.7 to 5.6.7a.  This is a core package, and can require additional configuration to prevent nasty things happening.  Please consult the upgrading GCC guide at http://whatever.website.org/GCCIdiotGuide.html, then press Enter to continue"

A warning that obnoxious with a keystroke requirement would be rather detrimental to "Everyone else" who already knows what they're doing, so perhaps it would only occur for people who have USE="newbie" set in their make.conf or thereabouts.

This is Linux.  People will tell you to consult 200 pages of documention before you run "beep".  It starts to sound a lot like someone "crying wolf" before long, and there's simply more documentation out there than a sane person can handle without some kind of guide as to which is actually necessary.
Presenting the information when it's needed the most, not just having it on a site somewhere if you know to look for a specific issue.  That's what this is about.

Thanks for your consideration.

Reproducible: Always




<Stonefish> You know when you upgrade some packages, and at the END of the emerge, gentoo tells you that you should run etc-update or similar to fix up your config files?  THAT is the kind of thing that needs to happen for these dealbreaking packages, but beforehand.
<TitanOfOld> Stonefish: Actually, that's not such a bad idea.
<TitanOfOld> Stonefish: We'd have to make a few changes to how Portage works to make that happen.
<TitanOfOld> Stonefish: You should open a bug on b.g.o describing the behaviour you'd like to see.
<Mousee> Stonefish: Gentoo isn't designed to hold your hand for you.
<Mousee> but I agree with TitanOfOld, it's not a bad suggestion




Comment 1


Aaron W. Swenson






          2010-10-03 15:38:08 UTC
        

+1, minus the USE flag.

My idea here is that much like we have post-install messages, we should have pre-install messages for those packages that need something done to prepare for its emerge or, like Stonefish pointed out, those packages that are absolutely critical to a fully functional Gentoo installation and have special steps that need to be done.

The pre-install message should appear during the package listing with "emerge -{a,p} foo". It would require either an additional variable like DESCRIPTION named PREINSTMSG, or an additional function in the ebuilds that need to use it so that the message is produced conditionally in the case that the message is only important if a previous installation of that package is present. For example, there's no need to direct people to the dump their databases before emerge if there's no previous installation of the database server.




Comment 2


Myckel Habets





          2010-10-03 22:12:07 UTC
        

We do have a nice eselect news system... should be used more often.

And if you have 90 packages to update... you should update more often. Once a week is a good target.




Comment 3


stonefish





          2010-10-04 08:22:56 UTC
        

(In reply to comment #2)
> We do have a nice eselect news system... should be used more often.
> 
> And if you have 90 packages to update... you should update more often. Once a
> week is a good target.
> 

I'm looking at eselect news right now, since it prompted me to read it at the end of the emerge.  There are two articles, dated five months apart, and neither of them deal with any dealbreaking issues I've encountered.  It also doesn't present this information beforehand - you'd still have to go researching.

Maybe once a week is a nice idea, but for a headless box that hides in the corner and provides a service so reliably that you forget that it exists?  It's a little optimistic.
I'm all for retaining the fragility of Gentoo as a tradeoff for it's versionless flexibility, it just needs a little work on the UI.  A few little quick pointers as to what you're about to do wrong, that sort of thing.




Comment 4


Myckel Habets





          2010-10-04 21:51:40 UTC
        

If eselect news has unread messages it notifies the user after the syncing (at least it should do that) and that is before the upgrade. But like I said before devs should use it more often.












Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

