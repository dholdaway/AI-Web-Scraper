Title: 307325 – dev-util/biew-6.1.0 fails to compile without mmx/sse extensions enabled
URL: https://bugs.gentoo.org/show_bug.cgi?id=307325

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 307325
dev-util/biew-6.1.0 fails to compile without mmx/sse extensions enabled
Last modified: 2011-02-24 14:26:18 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 307325 
      - dev-util/biew-6.1.0 fails to compile without mmx/sse extensions enabled


Summary:
dev-util/biew-6.1.0 fails to compile without mmx/sse extensions enabled
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

No maintainer - Look at https://wiki.gentoo.org/wiki/Project:Proxy_Maintainers if you want to take care of it








URL:



http://sourceforge.net/tracker/?func=...
        




Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2010-03-01 15:50 UTC by Mike Auty (RETIRED)





      Modified:
    
2011-02-24 14:26 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



patrick









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Mike Auty (RETIRED)






          2010-03-01 15:50:16 UTC
        

Just ran into a known problem (see [1]) when attempting to compile the recently bumped biew.

[1] http://sourceforge.net/tracker/?func=detail&aid=2886399&group_id=1475&atid=101475

It looks as though the ebuild needs to force these on (although I would've expected mtune to turn them on appropriately), which feels a little nasty, but I can't see a better solution (upstream have closed the bug as fixed).  If you need more information just ask...

In file included from biewlib/sysdep/ia32/cpu_info.c:711:
./biewlib/sysdep/ia16/cmn_ix86.c: In function '__FillCPUInfo':
./biewlib/sysdep/ia16/cmn_ix86.c:1069: warning: format '%d' expects type 'int', but argument 3 has type 'long unsigned int'
./biewlib/sysdep/ia16/cmn_ix86.c:1069: warning: format '%d' expects type 'int', but argument 4 has type 'long unsigned int'
./biewlib/sysdep/ia16/cmn_ix86.c:1079: warning: format '%02X' expects type 'unsigned int', but argument 3 has type 'long unsigned int'
biewlib/sysdep/ia32/cpu_info.c: In function '__MOPS_std':
biewlib/sysdep/ia32/cpu_info.c:541: error: unknown register name 'mm7' in 'asm'
biewlib/sysdep/ia32/cpu_info.c:541: error: unknown register name 'mm6' in 'asm'
biewlib/sysdep/ia32/cpu_info.c:541: error: unknown register name 'mm5' in 'asm'
biewlib/sysdep/ia32/cpu_info.c:541: error: unknown register name 'mm4' in 'asm'
biewlib/sysdep/ia32/cpu_info.c:541: error: unknown register name 'mm3' in 'asm'
biewlib/sysdep/ia32/cpu_info.c:541: error: unknown register name 'mm2' in 'asm'
biewlib/sysdep/ia32/cpu_info.c:541: error: unknown register name 'mm1' in 'asm'
biewlib/sysdep/ia32/cpu_info.c:541: error: unknown register name 'mm0' in 'asm'
biewlib/sysdep/ia32/cpu_info.c: In function '__SSEOPS_std':
biewlib/sysdep/ia32/cpu_info.c:641: error: unknown register name 'xmm7' in 'asm'
biewlib/sysdep/ia32/cpu_info.c:641: error: unknown register name 'xmm6' in 'asm'
biewlib/sysdep/ia32/cpu_info.c:641: error: unknown register name 'xmm5' in 'asm'
biewlib/sysdep/ia32/cpu_info.c:641: error: unknown register name 'xmm4' in 'asm'
biewlib/sysdep/ia32/cpu_info.c:641: error: unknown register name 'xmm3' in 'asm'
biewlib/sysdep/ia32/cpu_info.c:641: error: unknown register name 'xmm2' in 'asm'
biewlib/sysdep/ia32/cpu_info.c:641: error: unknown register name 'xmm1' in 'asm'
biewlib/sysdep/ia32/cpu_info.c:641: error: unknown register name 'xmm0' in 'asm'
make: *** [biewlib/sysdep/ia32/cpu_info.o] Error 1
make: *** Waiting for unfinished jobs....
 * ERROR: dev-util/biew-6.1.0 failed:
 *   make failed
 * 
 * Call stack:
 *     ebuild.sh, line  48:  Called src_compile
 *   environment, line 2595:  Called die
 * The specific snippet of code:
 *       emake HOST_CFLAGS="${CFLAGS}" HOST_LDFLAGS="${LDFLAGS}" || die "make failed";
 * 
 * If you need support, post the output of 'emerge --info =dev-util/biew-6.1.0',
 * the complete build log and the output of 'emerge -pqv =dev-util/biew-6.1.0'.
 * The complete build log is located at '/var/tmp/portage/dev-util/biew-6.1.0/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/dev-util/biew-6.1.0/temp/environment'.
 * S: '/var/tmp/portage/dev-util/biew-6.1.0/work/biew-610'


Portage 2.2_rc63 (default/linux/x86/10.0, gcc-4.4.3, glibc-2.11-r1, 2.6.33 i686)
=================================================================
                        System Settings
=================================================================
System uname: Linux-2.6.33-i686-Intel-R-_Core-TM-2_Duo_CPU_T7700_@_2.40GHz-with-gentoo-2.0.1
Timestamp of tree: Mon, 01 Mar 2010 15:00:01 +0000
ccache version 2.4 [enabled]
app-shells/bash:     4.1_p2
dev-java/java-config: 2.1.10
dev-lang/python:     2.6.4-r1, 3.1.1-r1
dev-python/pycrypto: 2.1.0
dev-util/ccache:     2.4-r8
dev-util/cmake:      2.8.0-r2
sys-apps/baselayout: 2.0.1
sys-apps/openrc:     0.6.0-r1
sys-apps/sandbox:    2.2
sys-devel/autoconf:  2.13, 2.65
sys-devel/automake:  1.7.9-r2, 1.8.5-r4, 1.9.6-r3, 1.10.3, 1.11.1
sys-devel/binutils:  2.20
sys-devel/gcc:       4.3.4, 4.4.3
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   2.2.6b
virtual/os-headers:  2.6.32
ACCEPT_KEYWORDS="x86 ~x86"
ACCEPT_LICENSE="*"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -mtune=core2 -pipe -ggdb"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/X11/xkb /var/lib/hsqldb"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/eselect/postgresql /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c"
CXXFLAGS="-O2 -mtune=core2 -pipe -ggdb"
DISTDIR="/usr/portage/distfiles"
FEATURES="assume-digests ccache collision-protect cvs distlocks fixpackages news parallel-fetch sandbox sfperms splitdebug strict unmerge-logs unmerge-orphans userfetch userpriv usersandbox"
GENTOO_MIRRORS="http://distfiles.gentoo.org"
LANG="en_GB.UTF-8"
LC_ALL="en_GB"
LDFLAGS="-Wl,--as-needed"
LINGUAS="en en_GB"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/overlays/embedded /usr/local/overlays/mozilla /usr/local/overlays/uncon /usr/local/overlays/ikelos /usr/local/overlays/personal"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X a52 aac acl acpi additions alsa apache2 applet archive autoipd avahi bash-completion berkdb bluetooth boundschecking bzip2 cairo ccache cdda cdr cdrkit cli consolekit cracklib crypt cups curl cxx dbus dell deskbar device-mapper devil dhcpcd divx dri dv dvb dvd dvdr dvi encode exif faac fam ffmpeg fftw ftp fts3 fuse gd gedit gif git glade gmedia gnome gnome-keyring gnuplot gps graphviz gsm gstreamer gtk gtkhtml h323 hal hdaps hpijs hpn httpd hybrid-auth iconv ilbc imap injection iplayer iproute2 ipv6 java java5 java6 javascript jingle john jpeg jpeg2k kdrive kpathsea ladspa lame laptop libffi libnotify libsexy libsoup lightning mad maildir mdnsresponder-compat mikmod mmx mmxext mng modules mono moonlight mozdevelop mozdom moznopango mp3 mpeg mscash mssql mudflap multitarget music mysql nautilus ncurses netboot network networkmanager nls nntp nptl nptlonly ntlm obex ogg old-daemons opencore-amr opengl openmp openssl pam pango parted password patch pcmcia pcre pcsc-lite pdf perl pic pipechan png policykit postgres ppds pppd pulseaudio python qemu qt3support quicktime rdesktop readline realmedia reflection resolvconf rtsp samba sasl sdl server session sip skins slp smp sms smux snmp sox spell spl sqlite sqlite3 sse sse2 ssl stream subversion svg svn-mirror sysfs syslog system-wide tcpd theora tiff tokenizer tracker truetype udev unicode usb usrp v4l2 vlm vnc vorbis wav webdav wifi win32codecs winbind wmf wmp wpe x264 x86 x86emu xcb xcomposite xklavier xml xorg xulrunner xv xvid zlib" ALSA_CARDS="hda-intel" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" DVB_CARDS="usb-dib0700" ELIBC="glibc" INPUT_DEVICES="evdev keyboard mouse synaptics" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en en_GB" RUBY_TARGETS="ruby18" USERLAND="GNU" VIDEO_CARDS="intel vesa" 
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS

=================================================================
                        Package Settings
=================================================================

dev-util/biew-5.7.0 was built with the following:
USE="-gpm" 
CFLAGS="-O2 -mtune=core2 -pipe -ggdb -D_GNU_SOURCE"
CXXFLAGS="-O2 -mtune=core2 -pipe -ggdb -D_GNU_SOURCE"




Comment 1


Kevin McCarthy (RETIRED)






          2011-02-24 14:26:18 UTC
        

Sorry for the long delay in responding, but this package had no maintainer until yesterday. This bug has been marked as "fixed" upstream, and I can not duplicate it on the current biew-6.1.0-r1.ebuild, so I am closing this bug. If you still experience the issue with the latest version in portage, feel free to re-open it and I will investigate further.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

