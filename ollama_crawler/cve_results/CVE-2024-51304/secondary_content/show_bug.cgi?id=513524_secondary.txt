Title: 513524 – app-emacs/emacs-daemon-0.21 - emacs ignores C-M-p in GUI
URL: https://bugs.gentoo.org/show_bug.cgi?id=513524

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 513524
app-emacs/emacs-daemon-0.21 - emacs ignores C-M-p in GUI
Last modified: 2015-07-25 11:50:57 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 513524 
      - app-emacs/emacs-daemon-0.21 - emacs ignores C-M-p in GUI


Summary:
app-emacs/emacs-daemon-0.21 - emacs ignores C-M-p in GUI
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Emacs project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2014-06-17 04:27 UTC by Javran Cheng





      Modified:
    
2015-07-25 11:50 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Javran Cheng





          2014-06-17 04:27:45 UTC
        

I can't use keybinding C-M-p in the GUI version of emacsclient.
I tried removing all customization files and typing "C-h c C-M-p", but emacs responsed as if only "C-h c" was typed and still waiting for the next key. (but "C-h c C-M-n" worked fine)

However, both emacs itself and emacsclient without window system works fine.

Here are the versions and USE flags:

app-editors/emacs-24.3-r6:24  USE="X Xaw3d alsa dbus gif gpm gtk3 jpeg motif png svg tiff xft xpm (-aqua) -athena -games -gconf -gnutls -gsettings -gtk -gzip-el -hesiod -imagemagick -kerberos -libxml2 -livecd -m17n-lib -pax_kernel (-selinux) -sound -source -toolkit-scroll-bars -wide-int"
app-emacs/emacs-daemon-0.21

The issue can be reproduced in both app-emacs/emacs-daemon-0.20 and app-emacs/emacs-daemon-0.21.

I've tried using either USE="motif -athena -gtk -Xaw3d" or USE="athena Xaw3d -gtk -motif" to compile emacs but it didn't help.


Reproducible: Always

Steps to Reproduce:
1. use emacsclient ("emacsclient -c -a "") to open any elisp or scheme source code
2. try C-M-p and C-M-n to navigate around

Actual Results:  
emacs only responses to C-M-n but not C-M-p

Expected Results:  
C-M-p should work.

Not sure if this is actually related to emacs-daemon. If it is not, please point me to some related links, thanks.




Comment 1


Ulrich Müller






          2014-06-17 14:16:12 UTC
        

What window manager are you using?




Comment 2


Javran Cheng





          2014-06-17 14:18:56 UTC
        

(In reply to Ulrich Müller from comment #1)
> What window manager are you using?

xmonad with some utils from xfce.




Comment 3


Ulrich Müller






          2014-06-17 14:34:02 UTC
        

I cannot reproduce this here (with xfwm4). My suspicion is that some other application is eating Ctrl-Alt-P.

Can you reproduce the problem with another window manager, or in an X rescue session?




Comment 4


Javran Cheng





          2014-07-01 11:34:52 UTC
        

I thought this problem was solved with packages updated but I was wrong.

I'm using xmonad as my window manager, and use only "xfsettingsd" to help me with keyboard bindings and some font settings (not using xfwm4).

Not sure why but it is likely to happen after updating emacs packages.

And when it happens, killing xfsettingsd and restarting emacs daemon usually does the trick.
The workaround works even after rebooting the system, as long as I don't update any emacs packages...




Comment 5


Javran Cheng





          2014-10-02 15:01:20 UTC
        

I think I've figured out what the real problem is:

If I bring up emacsclient before xfsettingsd, then everything will be fine.
But as long as xfsettingsd gets brought up first, C-M-p won't work.

Maybe it's more related to a problem of xfsettingsd than emacsclient,
any idea?




Comment 6


Ulrich Müller






          2015-07-25 11:50:57 UTC
        

Seems unlikely that this is a problem in app-emacs/emacs-daemon, therefore closing.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

