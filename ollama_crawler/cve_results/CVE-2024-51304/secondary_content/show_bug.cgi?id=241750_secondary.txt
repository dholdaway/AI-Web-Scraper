Title: 241750 – media-libs/libid3tag-0.15.1b-r2 + gcc-4.3.2 - undefined symbol: id3_compat_fixup (/usr/lib/libid3tag.so)
URL: https://bugs.gentoo.org/show_bug.cgi?id=241750

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 241750
media-libs/libid3tag-0.15.1b-r2 + gcc-4.3.2 - undefined symbol: id3_compat_fixup (/usr/lib/libid3tag.so)
Last modified: 2008-11-15 23:08:20 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 241750 
      - media-libs/libid3tag-0.15.1b-r2 + gcc-4.3.2 - undefined symbol: id3_compat_fixup (/usr/lib/libid3tag.so)


Summary:
media-libs/libid3tag-0.15.1b-r2 + gcc-4.3.2 - undefined symbol: id3_compat_fi...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Library

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Sound Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-10-13 11:35 UTC by Simeon Maryasin





      Modified:
    
2008-11-15 23:08 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge --info

              (emerge --info,3.76 KB,
                text/plain)

            
2008-10-13 11:36 UTC,

            Simeon Maryasin




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Simeon Maryasin





          2008-10-13 11:35:07 UTC
        

When I build libid3tag using gcc-4.3.2, it seems to build incorrectly:
$ ldd -v -r /usr/lib/libid3tag.so                                                                                                                            
undefined symbol: id3_compat_fixup      (/usr/lib/libid3tag.so)
undefined symbol: id3_compat_lookup     (/usr/lib/libid3tag.so)
        linux-gate.so.1 =>  (0xffffe000)
        libz.so.1 => /lib/libz.so.1 (0xb7f26000)
        libc.so.6 => /lib/libc.so.6 (0xb7dec000)
        /lib/ld-linux.so.2 (0xb7f54000)

        Version information:
        /usr/lib/libid3tag.so:
                libc.so.6 (GLIBC_2.1.3) => /lib/libc.so.6
                libc.so.6 (GLIBC_2.1) => /lib/libc.so.6
                libc.so.6 (GLIBC_2.2) => /lib/libc.so.6
                libc.so.6 (GLIBC_2.0) => /lib/libc.so.6
        /lib/libz.so.1:
                libc.so.6 (GLIBC_2.1.3) => /lib/libc.so.6
                libc.so.6 (GLIBC_2.1) => /lib/libc.so.6
                libc.so.6 (GLIBC_2.0) => /lib/libc.so.6
        /lib/libc.so.6:
                ld-linux.so.2 (GLIBC_PRIVATE) => /lib/ld-linux.so.2
                ld-linux.so.2 (GLIBC_2.3) => /lib/ld-linux.so.2
                ld-linux.so.2 (GLIBC_2.1) => /lib/ld-linux.so.2


Reproducible: Always




Comment 1


Simeon Maryasin





          2008-10-13 11:36:07 UTC
        

Created attachment 168284 [details]
emerge --info




Comment 2


Simeon Maryasin





          2008-10-13 11:38:04 UTC
        

libid3tag-0.15.1b compiles fine.




Comment 3


Alexis Ballier






          2008-10-28 06:37:56 UTC
        

seems fine here:
$ nm -D  /usr/lib/libid3tag.so| grep id3_compat
0000000000009dd0 T id3_compat_fixup
000000000000a0c0 T id3_compat_lookup

$ ldd -v -r /usr/lib/libid3tag.so	linux-vdso.so.1 =>  (0x00007fff719fe000)
	libz.so.1 => /lib/libz.so.1 (0x00007f4a69579000)
	libc.so.6 => /lib/libc.so.6 (0x00007f4a69224000)
	/lib64/ld-linux-x86-64.so.2 (0x00007f4a699d5000)

	Version information:
	/usr/lib/libid3tag.so:
		libc.so.6 (GLIBC_2.2.5) => /lib/libc.so.6
	/lib/libz.so.1:
		libc.so.6 (GLIBC_2.2.5) => /lib/libc.so.6
	/lib/libc.so.6:
		ld-linux-x86-64.so.2 (GLIBC_PRIVATE) => /lib64/ld-linux-x86-64.so.2
		ld-linux-x86-64.so.2 (GLIBC_2.3) => /lib64/ld-linux-x86-64.so.2


what happens if you remove the -s from your cflags ?




Comment 4


Simeon Maryasin





          2008-11-15 23:08:20 UTC
        

It's strange... Now all works fine.

# ldd -v -r /usr/lib/libid3tag.so
        linux-gate.so.1 =>  (0xffffe000)
        libz.so.1 => /lib/libz.so.1 (0xb7f9b000)
        libc.so.6 => /lib/libc.so.6 (0xb7e61000)
        /lib/ld-linux.so.2 (0xb7fcc000)

        Version information:
        /usr/lib/libid3tag.so:
                libc.so.6 (GLIBC_2.1.3) => /lib/libc.so.6
                libc.so.6 (GLIBC_2.1) => /lib/libc.so.6
                libc.so.6 (GLIBC_2.2) => /lib/libc.so.6
                libc.so.6 (GLIBC_2.0) => /lib/libc.so.6
        /lib/libz.so.1:
                libc.so.6 (GLIBC_2.1.3) => /lib/libc.so.6
                libc.so.6 (GLIBC_2.1) => /lib/libc.so.6
                libc.so.6 (GLIBC_2.0) => /lib/libc.so.6
        /lib/libc.so.6:
                ld-linux.so.2 (GLIBC_PRIVATE) => /lib/ld-linux.so.2
                ld-linux.so.2 (GLIBC_2.3) => /lib/ld-linux.so.2
                ld-linux.so.2 (GLIBC_2.1) => /lib/ld-linux.so.2

# nm -D /usr/lib/libid3tag.so | grep id3_compat
00007040 T id3_compat_fixup
0000735b T id3_compat_lookup










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

