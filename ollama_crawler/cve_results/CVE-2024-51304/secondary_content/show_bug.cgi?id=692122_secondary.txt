Title: 692122 – www-client/chromium-78.0.3876.0 with clang - ../../third_party/glslang/src/glslang/Public/../Include/PoolAlloc.h:307:54: error: 'operator=' is a private member of 'glslang::TPoolAllocator'
URL: https://bugs.gentoo.org/show_bug.cgi?id=692122

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 692122
www-client/chromium-78.0.3876.0 with clang - ../../third_party/glslang/src/glslang/Public/../Include/PoolAlloc.h:307:54: error: 'operator=' is a private member of 'glslang::TPoolAllocator'
Last modified: 2019-08-16 17:18:10 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 692122 
      - www-client/chromium-78.0.3876.0 with clang - ../../third_party/glslang/src/glslang/Public/../Include/PoolAlloc.h:307:54: error: 'operator=' is a private member of 'glslang::TPoolAllocator'


Summary:
www-client/chromium-78.0.3876.0 with clang - ../../third_party/glslang/src/gl...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Chromium Project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2019-08-14 09:06 UTC by Mike Lothian





      Modified:
    
2019-08-16 17:18 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



nickAristocrates









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Mike Lothian





          2019-08-14 09:06:47 UTC
        

FAILED: obj/third_party/angle/libANGLE_base/GlslangWrapper.o 
clang++ -MMD -MF obj/third_party/angle/libANGLE_base/GlslangWrapper.o.d -DUSE_UDEV -DUSE_AURA=1 -DUSE_GLIB=1 -DUSE_NSS_CERTS=1 -DUSE_X11=1 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE -D_LARGEFILE64_SOURCE -D_GNU_SOURCE -D__STDC_CONSTANT_MACROS -D__STDC_FORMAT_MACROS -DNDEBUG -DNVALGRIND -DDYNAMIC_ANNOTATIONS_ENABLED=0 -DANGLE_IS_64_BIT_CPU -DLIBANGLE_IMPLEMENTATION -DANGLE_ENABLE_OPENGL -DANGLE_USE_X11 -DANGLE_ENABLE_OPENGL_NULL -DANGLE_ENABLE_VULKAN -DANGLE_USE_CUSTOM_VULKAN_CMD_BUFFERS=1 -DANGLE_ENABLE_NULL -DVK_USE_PLATFORM_XCB_KHR -DANGLE_VK_DATA_DIR=\"angledata\" -DANGLE_VK_ICD_JSON=\"angledata/VkICD_mock_icd.json\" -DAPI_NAME=\"Vulkan\" -DHAVE_SECURE_GETENV -I../../third_party/angle/src/third_party/khronos -I../../third_party/angle/include -I../../third_party/angle/src -I../../third_party/angle/src/common/third_party/base -Igen/angle -I../../third_party/angle/include -I../../third_party/angle/include -I../../third_party/angle/src -I../../third_party/angle/include -I../../third_party/angle/third_party/vulkan-headers/src/include -I../../third_party/angle/include -I../../third_party/angle/src -Igen/third_party/angle/third_party/vulkan-loader/angle/vulkan -I../../third_party/angle/third_party/vulkan-headers/src/include -I../../third_party/angle/third_party/vulkan-loader/src/loader -I../../third_party/glslang/src -I../../third_party/SPIRV-Tools/src/include -fno-strict-aliasing --param=ssp-buffer-size=4 -fstack-protector -funwind-tables -fPIC -pthread -fcolor-diagnostics -fmerge-all-constants -Wno-builtin-macro-redefined -D__DATE__= -D__TIME__= -D__TIMESTAMP__= -no-canonical-prefixes -Wimplicit-fallthrough -Wthread-safety -Wextra-semi -Wno-missing-field-initializers -Wno-unused-parameter -Wno-c++11-narrowing -Wno-unneeded-internal-declaration -Wno-undefined-var-template -Wno-ignored-pragma-optimize -fno-omit-frame-pointer -fvisibility=hidden -Wheader-hygiene -Wstring-conversion -Wtautological-overlap-compare -Wfloat-conversion -Wnon-virtual-dtor -Wunneeded-internal-declaration -std=c++14 -fno-exceptions -fno-rtti -fvisibility-inlines-hidden -O3 -pipe -flto=thin -march=native -c ../../third_party/angle/src/libANGLE/renderer/vulkan/GlslangWrapper.cpp -o obj/third_party/angle/libANGLE_base/GlslangWrapper.o
In file included from ../../third_party/angle/src/libANGLE/renderer/vulkan/GlslangWrapper.cpp:18:
In file included from ../../third_party/glslang/src/SPIRV/GlslangToSpv.h:42:
In file included from ../../third_party/glslang/src/SPIRV/SpvTools.h:47:
In file included from ../../third_party/glslang/src/SPIRV/../glslang/MachineIndependent/localintermediate.h:42:
In file included from ../../third_party/glslang/src/glslang/Public/../MachineIndependent/../Include/intermediate.h:55:
In file included from ../../third_party/glslang/src/glslang/Public/../Include/../Include/Common.h:108:
../../third_party/glslang/src/glslang/Public/../Include/PoolAlloc.h:307:54: error: 'operator=' is a private member of 'glslang::TPoolAllocator'
    void setAllocator(TPoolAllocator* a) { allocator = *a; }
                                           ~~~~~~~~~ ^ ~~
../../third_party/glslang/src/glslang/Public/../Include/PoolAlloc.h:244:21: note: declared private here
    TPoolAllocator& operator=(const TPoolAllocator&);  // don't allow assignment operator




Comment 1


Agostino Sarubbo






          2019-08-14 09:50:44 UTC
        

Please add the full build log and emerge --info




Comment 2


Nick





          2019-08-15 12:51:04 UTC
        

The build succeeds for me, perhaps your failure is due to a use flag or a version of a dependency that isn't constrained enough in the ebuild?


emerge -pv1 www-client/chromium
!!! FEATURES=webrsync-gpg is deprecated, see the make.conf(5) man page.

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild   R   #] www-client/chromium-78.0.3876.0::gentoo  USE="closure-compile cups gnome-keyring hangouts (pic) proprietary-codecs pulseaudio tcmalloc -component-build -custom-cflags -jumbo-build -kerberos (-selinux) -suid (-system-ffmpeg) -system-icu (-system-libvpx) -widevine" L10N="am ar bg bn ca cs da de el en-GB es es-419 et fa fi fil fr gu he hi hr hu id it ja kn ko lt lv ml mr ms nb nl pl pt-BR pt-PT ro ru sk sl sr sv sw ta te th tr uk vi zh-CN zh-TW" 0 KiB

Total: 1 package (1 reinstall), Size of downloads: 0 KiB




Comment 3


Mike Gilbert






          2019-08-16 17:16:41 UTC
        

Please provide more information about your toolchain (clang version), and try building with less extreme compiler flags.




Comment 4


Mike Lothian





          2019-08-16 17:18:10 UTC
        

Got it working thanks









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

