Title: 413915 – Stable glibc bump to sys-libs/glibc-2.14.1, after update pam needs to be rebuild or system will not work.
URL: https://bugs.gentoo.org/show_bug.cgi?id=413915

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 413915
Stable glibc bump to sys-libs/glibc-2.14.1, after update pam needs to be rebuild or system will not work.
Last modified: 2012-04-29 00:16:48 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 413915 
      - Stable glibc bump to sys-libs/glibc-2.14.1, after update pam needs to be rebuild or system will not work.


Summary:
Stable glibc bump to sys-libs/glibc-2.14.1, after update pam needs to be rebu...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Core system

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       critical
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2012-04-28 22:57 UTC by Piotr Karbowski (RETIRED)





      Modified:
    
2012-04-29 00:16 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Piotr Karbowski (RETIRED)






          2012-04-28 22:57:54 UTC
        

After update to new glibc some apps stops working like cron for example:

Apr 29 00:40:01 [cron] PAM unable to dlopen(/lib64/security/pam_unix.so): /lib64/libc.so.6: version `GLIBC_2.14' not found (required by /lib64/libcrypt.so.1)

Looks like solution is to rebuild PAM after glibc update, but that never was a case, I dont remeber such need. I found the solution here: http://archives.gentoo.org/gentoo-user/msg_208faa222c64e107dd272c8504035a07.xml

The glibc comes from arch-stable gentoo, I think someone should take care of it, such things shoudn't really happen in stable gentoo. There is no even single einfo about possible issues. Not cool.

Reproducible: Always




Comment 1


Diego Elio Pettenò (RETIRED)






          2012-04-29 00:16:48 UTC
        

Just restart cron, it should work just fine (given that I've not rebuilt pam myself).

The problem is that you can't mix libc and libcrypt from different versions, and due to the way PAM works, this is what happens.

It's not really different than the fact that you need to restart cron after updating PAM because the symbols between libpam and the pam modules can't be mixed.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

