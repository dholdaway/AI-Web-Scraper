Title: 82160 – Metalog emerge failed to produce log directories - logging was not working
URL: https://bugs.gentoo.org/show_bug.cgi?id=82160

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 82160
Metalog emerge failed to produce log directories - logging was not working
Last modified: 2005-03-14 19:09:11 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 82160 
      - Metalog emerge failed to produce log directories - logging was not working


Summary:
Metalog emerge failed to produce log directories - logging was not working
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

HPPA
        Linux
      







Importance:
      
High
       normal
      


Assignee:

SpanKY








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-02-15 13:30 UTC by Cliff Gordon





      Modified:
    
2005-03-14 19:09 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



ka0ttic









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Cliff Gordon





          2005-02-15 13:30:56 UTC
        

I followed the steps in the handbook to do an install on my HPPA 715 recently, and I emerged metalog and had it added to default runlevel.  I noticed recently though, that the log messages were on the main terminal, and apparently not going to the log files.  After inspecting /var/log, I noticed there was almost nothing there.  I manually made the directories listed in /etc/metalog/metalog.conf (/var/log/everything, /var/log/sshd, etc) and restarted metalog.  This seemed to fix the problem.  I believe this has happened to me on previous HPPA installs, and therefore think this is localilized to metalog on the HPPA architecture, but I am not certain.

Reproducible: Didn't try
Steps to Reproduce:
1.  Install Gentoo on a HPPA 715 (possibly others)
2.  Emerge metalog and start metalog

Actual Results:  
Almost no directories under /var/log (except news for some reason), and the 
emerge.log file.

Expected Results:  
Created all necessary directories so I wouldn't have to do it manually in order 
for it to work.

I used a hppa 2004.3 stage3 tarball, then emerge vixie-cron metalog and dhcpcd 
as in the handbook.  It's a fresh install, no other software had been installed 
yet.




Comment 1


Aaron Walker (RETIRED)






          2005-02-16 04:59:23 UTC
        

hmm.. I cannot reproduce this on any of my boxes nor hake, the hppa dev box.

As far as /var/log/news goes, looks like it already exists in a stage 3 tarball (at least on hppa).




Comment 2


SpanKY






          2005-02-16 20:41:52 UTC
        

baselayout creates /var/log/news/ ...

metalog on my box though automatically creates subdirectories, i dont need to
create them ...

for example i shutdown metalog, deleted /var/log/everything/, started up metalog, 
and then logged into the console ... once i did, metalog created the everything
directory with the current file in it

i tested 0.8_rc1 here




Comment 3


SpanKY






          2005-03-14 19:09:11 UTC
        

unable to reproduce ... re-open if 0.8_rc1 fails for you too









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

