Title: 236400 – sci-geosciences/googleearth digest verification failure
URL: https://bugs.gentoo.org/show_bug.cgi?id=236400

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 236400
sci-geosciences/googleearth digest verification failure
Last modified: 2010-05-22 21:31:07 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 236400 
      - sci-geosciences/googleearth digest verification failure


Summary:
sci-geosciences/googleearth digest verification failure
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Vlastimil Babka (Caster) (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-09-01 23:01 UTC by Brad





      Modified:
    
2010-05-22 21:31 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



hwoarang









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Brad





          2008-09-01 23:01:18 UTC
        

x11-misc/googleearth-4.2.205.5730 emerge has failed multiple times from 8/29 until 9/1 (at least) due to a digest verfication failure. I've run emerg --sync (twice) and still have the problem. I can emerge other packages fine.

The Gentoo Handbooks says that these problems are usually temporary. This has lasted a long time, making me think there's a bug. 

Reproducible: Always

Steps to Reproduce:
1.emerge googlearth
2.
3.

Actual Results:  
!!! Digest verification failed:
!!! /usr/portage/distfiles/GoogleEarthLinux.bin
!!! Reason: Filesize does not match recorded size
!!! Got: 23048189
!!! Expected: 20554977


Expected Results:  
successful emerging




Comment 1


Wormo (RETIRED)






          2008-09-02 00:32:18 UTC
        

Google has a history of making new versions of googleearth and saving them over the old one instead of creating a new filename, and that leads us to this problem where both googleearth-4.2.205.5730 and googleearth-4.3.7284.3916 downloaded the same file called GoogleEarthLinux.bin -- and the later version of GoogleEarthLinux.bin is the one that ended up in the Manifest.

Sadly, we can't even mirror the files with properly versioned names because the googleearth license does not allow it to be mirrored.

A nofetch hack may be the only solution for now: making the user download the file and manually move it to a versioned filename, so that both googleearth versions can appear as distinct entries in the Manifest.

Meanwhile, you can temporarily switch the digest on your own system to get version 4.2.205.5730 installed right now (it's ok to recalculate the digest in this instance, now that you know the mismatch is due to lack of upstream versioning rather than indicating a file was corrupted...)

cd /usr/portage/x11-misc
ebuild googleearth-4.2.205.5730.ebuild digest





Comment 2


Brad





          2008-09-03 05:38:07 UTC
        

Thanks for the fix, worked fine. Should I close this bug or leave it open?




Comment 3


Markos Chandras (RETIRED)






          2008-09-30 23:00:47 UTC
        

Additionally to this i d like to say that there is again an issue with googleearth-4.3.7284.3916

The fetch process doesnt seem to work that well


>>> Emerging (1 of 1) x11-misc/googleearth-4.3.7284.3916
>>> Downloading 'http://dl.google.com/earth/client/GE4/release_4_3/GoogleEarthLinux.bin'
--2008-10-01 01:58:26--  http://dl.google.com/earth/client/GE4/release_4_3/GoogleEarthLinux.bin
Resolving dl.google.com... 66.249.93.93, 66.249.93.136, 66.249.93.91
Connecting to dl.google.com|66.249.93.93|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 20554977 (20M) [application/octet-stream]
Saving to: `/usr/portage/distfiles/GoogleEarthLinux.bin.1'

100%[===================================================================================>] 20554977     653K/s   in 34s

2008-10-01 01:59:01 (585 KB/s) - `/usr/portage/distfiles/GoogleEarthLinux.bin' saved [20554977/20554977]

!!! Couldn't download 'GoogleEarthLinux-4.3.7284.3916.bin'. Aborting.

>>> Failed to emerge x11-misc/googleearth-4.3.7284.3916, Log file:

>>>  '/var/log/emerge-fetch.log'


emerge-fetch.log doesnt say anything usefull. There is no record for googleearth. 




Comment 4


Theofilos Intzoglou





          2008-10-12 10:48:08 UTC
        

The problem with the latest ebuild is that it doesn't rename the file to GoogleEarthLinux-4.3.7284.3916.bin as it should. If you rename the file manually it works just fine. Unfortunately I don't know how to fix the ebuild :-(




Comment 5


Vlastimil Babka (Caster) (RETIRED)






          2010-05-22 21:31:07 UTC
        

Looks like this bug was forgotten due to package name not being correct in summary.
Anyway, all versions are fetchable and verifiable now.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

