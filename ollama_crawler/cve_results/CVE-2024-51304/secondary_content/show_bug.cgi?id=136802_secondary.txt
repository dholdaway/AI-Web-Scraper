Title: 136802 – dev-libs/pwlib-1.10.1 fails to build with USE="ssl"
URL: https://bugs.gentoo.org/show_bug.cgi?id=136802

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 136802
dev-libs/pwlib-1.10.1 fails to build with USE="ssl"
Last modified: 2007-04-14 08:31:54 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 136802 
      - dev-libs/pwlib-1.10.1 fails to build with USE="ssl"


Summary:
dev-libs/pwlib-1.10.1 fails to build with USE="ssl"
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Other
      







Importance:
      
High
       normal
      


Assignee:

voip herd (OBSOLETE)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-06-14 10:32 UTC by John Ross Hunt





      Modified:
    
2007-04-14 08:31 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



gnome
shados









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




pwlib build log

              (5575-pwlib-1.10.1.log,12.86 KB,
                text/plain)

            
2006-06-14 10:34 UTC,

            John Ross Hunt




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


John Ross Hunt





          2006-06-14 10:32:16 UTC
        

Portage 2.1 (default-linux/x86/2006.0, gcc-4.1.1/vanilla, glibc-2.4-r3, 2.6.16-gentoo-r9 i686)
=================================================================
System uname: 2.6.16-gentoo-r9 i686 Intel(R) Pentium(R) 4 CPU 3.00GHz
Gentoo Base System version 1.12.1
dev-lang/python:     2.4.3-r1
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r2
sys-devel/gcc-config: 2.0.0_rc1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r5
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=pentium4 -O2 -pipe -fomit-frame-pointer -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/lib/mozilla/defaults/pref /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/eselect/compiler /etc/gconf /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c"
CXXFLAGS="-march=pentium4 -O2 -pipe -fomit-frame-pointer -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -fpermissive"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://gentoo.chem.wisc.edu/gentoo http://gentoo.cites.uiuc.edu/pub/gentoo http://mirror.mcs.anl.gov/pub/gentoo http://prometheus.cs.wmich.edu/gentoo http://ftp.oregonstate.edu/pub/gentoo"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.us.gentoo.org/gentoo-portage"
USE="x86 7zip S3TC X a52 aac aalib accessibility acl acpi aim alsa amr ao aotuv apache2 applet artworkextra asf asm async audiofile authdaemond authlib automount avahi avi bash-completion beagle berkdb big-tables bitmap-fonts blender-game branding bzip2 cairo calendar cdda cddb cdio cdparanoia cdr cgi chm cli cpudetection crypt css cups curl curlwrappers daap dbus dga directfb discard-path djvu dmi dri dts dv dvd dvdr dvdread dvi edl eds emboss encode enscript epiphany esd evo evolution exif extraengine extrafilters fame fat fbcon ffmpeg fftw firefox flac flatfile foomaticdb fortran fpx gaim ggi gif gimp gimpprint gkrellm glade glut glx gmail gmailtimestamps gnokii gnome gnome-print gnomecanvas gnomedb gnuplot gnutls gpgme gphoto2 gpm grammar gs gstreamer gstreamer010 gtalk gtk gtk2 gtkhtml gtkspell guile h323 hal hfs httpd iconv icq idea imagemagick imap imlib imlib2 inifile innodb input_devices_joystick input_devices_keyboard input_devices_mouse input_devices_vmmouse input_devices_wacom iodbc ipv6 isdnlog jabber jack java javamail javascript jbig jce jfs jit joystick jp2 jpeg jpeg2k kde kqemu lame lcd lcms libcaca libg++ libwww live lm_sensors logitech-mouse lua lzo lzw mad matroska max-idx-128 md5sum mdnsresponder-compat mikmod mime mixer mjpeg mmx mmxext mng modplug mono motif mozcalendar mozdevelop mozilla mozsvg mp3 mp4 mp4live mpeg mpeg2 mplayer msn musepack musicbrainz mysql mysqlfriends mysqli mythtv nautilus ncurses network nfs nls nntp nptl nptlonly nsplugin ntfs ntlm ntlm_unsupported_patch oav objc objc++ ocaml odbc offensive ogg openal opengl openssl oscar osp oss pam pango pcre pda pdflib pdo perl png ppds pppd pri python qemu-fast qt quicktime readline real reflection reiser4 reiserfs resperl roe rogue rss rtc ruby samba sametime sasl scanner sdl session sharedmem sheep skins slang slp smime sndfile snmp softmmu sox speex spell spl sqlite sqlite3 srp sse sse-filters sse2 ssl startup-notification stream svg swat syslog t1lib tcltk tcpd teamarena tetex themes theora thesaurus tidy tiff transcode truetype truetype-fonts type1-fonts udev unicode unzip urandom usb v4l v4l2 vcd vdr video_cards_ati video_cards_fglrx video_cards_v4l video_cards_vesa video_cards_vmware videos vidix vim-pager vim-with-x vlm vmdbmysql vnc vorbis wddx webdav win32codecs wmf wv wxwindows x264 xanim xatrix xext xfs xine xml xmlreader xmlrpc xmlwriter xmms xorg xpm xv xvid xvmc yaepg yahoo zaptel zip zlib elibc_glibc kernel_linux userland_GNU video_cards_radeon"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


John Ross Hunt





          2006-06-14 10:34:38 UTC
        

Created attachment 89175 [details]
pwlib build log

dev-libs/openssl-0.9.7j is the version I was building against.




Comment 2


John Ross Hunt





          2006-06-14 10:45:31 UTC
        

Just to clarify, here are my USE flags:

dev-libs/pwlib-1.10.1  USE="alsa ieee1394 ipv6 ldap oss sasl sdl ssl v4l v4l2 xml -debug"

USE="ssl" breaks.
USE="-ssl" builds.




Comment 3


Stefan Schweizer (RETIRED)






          2006-06-14 10:50:25 UTC
        

I am using the exact same version and it does build for me with USE=ssl, must be something else.
USE="alsa ipv6 ldap sasl sdl ssl xml -debug -ieee1394 -oss -v4l -v4l2"

try lowering your use flags to see what else it could be. See if my config is working.




Comment 4


John Ross Hunt





          2006-06-16 05:54:19 UTC
        

I found the problem.  It's the "-fpermissive" option in my CXXFLAGS.

From the gcc man page:

-fpermissive
Downgrade some diagnostics about nonconformant code from errors to warnings.  Thus, using -fpermissive will allow some nonconforming code to compile.

This was leftover from when I was working on some Mac OSX stuff.  Perhaps this option should be filtered out in the ebuild?

All the USE options work for me now.




Comment 5


Eugeniy Khabarov aka ShadOS





          2006-07-03 05:26:49 UTC
        

I resolved problem. I  changed my march="-pentium2" to pentium.




Comment 6


Philippe Chaintreuil





          2006-08-02 08:40:57 UTC
        

SSL was acceptable to for me, but I also had to change my -march=pentium3 down to -march=pentium in /etc/make.conf.

Does anyone know how to change the CFLAGS/CXXFLAGS in the ebuild to reduce -march down to classic pentium?  (And remove -fpermissive per John Ross Hunt if someone can verify it.)




Comment 7


Stefan Schweizer (RETIRED)






          2007-04-14 08:31:54 UTC
        

works for me with the latest version and your g++ command.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

