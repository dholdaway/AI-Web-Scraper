Title: 106077 – kdeaddons-3.4.2 fails to configure with +berkdb
URL: https://bugs.gentoo.org/show_bug.cgi?id=106077

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 106077
kdeaddons-3.4.2 fails to configure with +berkdb
Last modified: 2005-11-06 05:14:02 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 106077 
      - kdeaddons-3.4.2 fails to configure with +berkdb


Summary:
kdeaddons-3.4.2 fails to configure with +berkdb
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       blocker
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-09-15 08:37 UTC by Maciek Gajewski





      Modified:
    
2005-11-06 05:14 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Maciek Gajewski





          2005-09-15 08:37:04 UTC
        

kdeaddons fails to configure, when updating from 3.4.1 to 3.4.2.


Reproducible: Always
Steps to Reproduce:
1.emerge --update kdeaddons
2.
3.

Actual Results:  
>>> emerge (31 of 33) kde-base/kdeaddons-3.4.2 to /
>>> Downloading http://gentoo.prz.rzeszow.pl/distfiles/kdeaddons-3.4.2.tar.bz2
--00:41:39--  http://gentoo.prz.rzeszow.pl/distfiles/kdeaddons-3.4.2.tar.bz2
           => `/usr/portage/distfiles/kdeaddons-3.4.2.tar.bz2'
Translacja gentoo.prz.rzeszow.pl... 62.93.34.55
&#321;&#261;czenie si&#281; z gentoo.prz.rzeszow.pl[62.93.34.55]:80... po&#322;&#261;czono.
&#379;&#261;danie HTTP wys&#322;ano, oczekiwanie na odpowied&#378;... 200 OK
D&#322;ugo&#347;&#263;: 1,591,335 [application/x-tar]

100%[=============================================================================================>]
1,591,335     95.97K/s    ETA 00:00

00:42:02 (105.60 KB/s) - zapisano
`/usr/portage/distfiles/kdeaddons-3.4.2.tar.bz2' [1591335/1591335]

>>> md5 files   ;-) kdeaddons-3.3.2.ebuild
>>> md5 files   ;-) kdeaddons-3.2.3.ebuild
>>> md5 files   ;-) kdeaddons-3.5_alpha1.ebuild
>>> md5 files   ;-) kdeaddons-3.4.1.ebuild
>>> md5 files   ;-) kdeaddons-3.4.2.ebuild
>>> md5 files   ;-) files/kdeaddons-3.2.0-kvim.diff
>>> md5 files   ;-) files/noatun-oblique-db-location-3.4.0.diff
>>> md5 files   ;-) files/digest-kdeaddons-3.2.3
>>> md5 files   ;-) files/digest-kdeaddons-3.3.2
>>> md5 files   ;-) files/kdeaddons-3.2.3-gcc34.patch
>>> md5 files   ;-) files/kdeaddons-3.4-configure.patch
>>> md5 files   ;-) files/digest-kdeaddons-3.4.1
>>> md5 files   ;-) files/digest-kdeaddons-3.4.2
>>> md5 files   ;-) files/digest-kdeaddons-3.5_alpha1
>>> md5 src_uri ;-) kdeaddons-3.4.2.tar.bz2
>>> Unpacking source...
>>> Unpacking kdeaddons-3.4.2.tar.bz2 to /var/tmp/portage/kdeaddons-3.4.2/work
 * Applying kdeaddons-3.2.0-kvim.diff ...                                      
                                                   [ ok ]
 * Applying kdeaddons-3.4-configure.patch ...                                  
                                                   [ ok ]
*** automake (GNU automake) 1.7.9 found.
*** Creating acinclude.m4
*** Creating list of subdirectories
*** Creating Makefile.am
*** Creating configure.files
*** Creating configure.in
*** Creating aclocal.m4
*** Creating configure
*** Creating config.h template
*** Creating Makefile templates
*** Postprocessing Makefile templates
unknown icon type livemark in konq-plugins/sidebar/newsticker/pics/Makefile.in
(livemark-item.png)
*** Creating date/time stamp
*** Finished
    Don't forget to run ./configure
    If you haven't done so in a while, run ./configure --help
>>> Source unpacked.
configure: WARNING: If you wanted to set the --build type, don't use --host.
    If a cross compiler is detected then cross compile mode will be used.
checking build system type... i686-pc-linux-gnu
checking host system type... i686-pc-linux-gnu
checking target system type... i686-pc-linux-gnu
checking for a BSD-compatible install... /bin/install -c
checking for -p flag to install... yes
checking whether build environment is sane... yes
checking for gawk... gawk
checking whether make sets $(MAKE)... yes
checking for i686-pc-linux-gnu-strip... i686-pc-linux-gnu-strip
checking for kde-config... /usr/kde/3.4/bin/kde-config
checking where to install... /usr/kde/3.4 (as requested)
checking for style of include used by make... GNU
checking for i686-pc-linux-gnu-gcc... i686-pc-linux-gnu-gcc
checking for C compiler default output file name... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... no
checking for suffix of executables...
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether i686-pc-linux-gnu-gcc accepts -g... yes
checking for i686-pc-linux-gnu-gcc option to accept ANSI C... none needed
checking dependency style of i686-pc-linux-gnu-gcc... none
checking how to run the C preprocessor... i686-pc-linux-gnu-gcc -E
checking for i686-pc-linux-gnu-g++... i686-pc-linux-gnu-g++
checking whether we are using the GNU C++ compiler... yes
checking whether i686-pc-linux-gnu-g++ accepts -g... yes
checking dependency style of i686-pc-linux-gnu-g++... none
checking whether i686-pc-linux-gnu-gcc is blacklisted... no
checking whether i686-pc-linux-gnu-g++ supports -Wmissing-format-attribute... yes
checking whether i686-pc-linux-gnu-gcc supports -Wmissing-format-attribute... yes
checking whether i686-pc-linux-gnu-g++ supports -Wundef... yes
checking whether i686-pc-linux-gnu-g++ supports -Wno-long-long... yes
checking whether i686-pc-linux-gnu-g++ supports -Wnon-virtual-dtor... yes
checking whether i686-pc-linux-gnu-g++ supports -fno-exceptions... yes
checking whether i686-pc-linux-gnu-g++ supports -fno-check-new... yes
checking whether i686-pc-linux-gnu-g++ supports -fno-common... yes
checking whether i686-pc-linux-gnu-g++ supports -fexceptions... yes
checking how to run the C++ preprocessor... i686-pc-linux-gnu-g++ -E
checking whether i686-pc-linux-gnu-g++ supports -O0... yes
checking whether i686-pc-linux-gnu-g++ supports -Wl,--no-undefined... yes
checking whether i686-pc-linux-gnu-g++ supports -Wl,--allow-shlib-undefined... yes
not using lib directory suffix
checking for a sed that does not truncate output... /bin/sed
checking for egrep... grep -E
checking for ld used by i686-pc-linux-gnu-gcc... /usr/i686-pc-linux-gnu/bin/ld
checking if the linker (/usr/i686-pc-linux-gnu/bin/ld) is GNU ld... yes
checking for /usr/i686-pc-linux-gnu/bin/ld option to reload object files... -r
checking for BSD-compatible nm... /usr/bin/i686-pc-linux-gnu-nm -B
checking whether ln -s works... yes
checking how to recognise dependent libraries... pass_all
checking for ANSI C header files... yes
checking for sys/types.h... yes
checking for sys/stat.h... yes
checking for stdlib.h... yes
checking for string.h... yes
checking for memory.h... yes
checking for strings.h... yes
checking for inttypes.h... yes
checking for stdint.h... yes
checking for unistd.h... yes
checking dlfcn.h usability... yes
checking dlfcn.h presence... yes
checking for dlfcn.h... yes
checking for i686-pc-linux-gnu-g77... i686-pc-linux-gnu-g77
checking whether we are using the GNU Fortran 77 compiler... yes
checking whether i686-pc-linux-gnu-g77 accepts -g... yes
checking the maximum length of command line arguments... 32768
checking command to parse /usr/bin/i686-pc-linux-gnu-nm -B output from
i686-pc-linux-gnu-gcc object... ok
checking for objdir... .libs
checking for i686-pc-linux-gnu-ar... i686-pc-linux-gnu-ar
checking for i686-pc-linux-gnu-ranlib... i686-pc-linux-gnu-ranlib
checking for i686-pc-linux-gnu-strip... (cached) i686-pc-linux-gnu-strip
checking if i686-pc-linux-gnu-gcc static flag  works... yes
checking if i686-pc-linux-gnu-gcc supports -fno-rtti -fno-exceptions... no
checking for i686-pc-linux-gnu-gcc option to produce PIC... -fPIC
checking if i686-pc-linux-gnu-gcc PIC flag -fPIC works... yes
checking if i686-pc-linux-gnu-gcc supports -c -o file.o... yes
checking whether the i686-pc-linux-gnu-gcc linker
(/usr/i686-pc-linux-gnu/bin/ld) supports shared libraries... yes
checking whether -lc should be explicitly linked in... no
checking dynamic linker characteristics... GNU/Linux ld.so
checking how to hardcode library paths into programs... immediate
checking whether stripping libraries is possible... yes
checking for shl_load... no
checking for shl_load in -ldld... no
checking for dlopen... no
checking for dlopen in -ldl... yes
checking whether a program can dlopen itself... yes
checking whether a statically linked program can dlopen itself... yes
checking if libtool supports shared libraries... yes
checking whether to build shared libraries... yes
checking whether to build static libraries... no
configure: creating libtool
appending configuration tag "CXX" to libtool
checking for ld used by i686-pc-linux-gnu-g++... /usr/i686-pc-linux-gnu/bin/ld
checking if the linker (/usr/i686-pc-linux-gnu/bin/ld) is GNU ld... yes
checking whether the i686-pc-linux-gnu-g++ linker
(/usr/i686-pc-linux-gnu/bin/ld) supports shared libraries... yes
checking for i686-pc-linux-gnu-g++ option to produce PIC... -fPIC
checking if i686-pc-linux-gnu-g++ PIC flag -fPIC works... yes
checking if i686-pc-linux-gnu-g++ supports -c -o file.o... yes
checking whether the i686-pc-linux-gnu-g++ linker
(/usr/i686-pc-linux-gnu/bin/ld) supports shared libraries... yes
checking dynamic linker characteristics... GNU/Linux ld.so
checking how to hardcode library paths into programs... immediate
checking whether stripping libraries is possible... yes
checking for shl_load... (cached) no
checking for shl_load in -ldld... (cached) no
checking for dlopen... (cached) no
checking for dlopen in -ldl... (cached) yes
checking whether a program can dlopen itself... (cached) yes
checking whether a statically linked program can dlopen itself... (cached) yes
appending configuration tag "F77" to libtool
checking if libtool supports shared libraries... yes
checking whether to build shared libraries... yes
checking whether to build static libraries... no
checking for i686-pc-linux-gnu-g77 option to produce PIC... -fPIC
checking if i686-pc-linux-gnu-g77 PIC flag -fPIC works... yes
checking if i686-pc-linux-gnu-g77 supports -c -o file.o... yes
checking whether the i686-pc-linux-gnu-g77 linker
(/usr/i686-pc-linux-gnu/bin/ld) supports shared libraries... yes
checking dynamic linker characteristics... GNU/Linux ld.so
checking how to hardcode library paths into programs... immediate
checking whether stripping libraries is possible... yes
checking for msgfmt... /usr/bin/msgfmt
checking for gmsgfmt... /usr/bin/gmsgfmt
checking for xgettext... /usr/bin/xgettext
checking if C++ programs can be compiled... yes
checking for strlcat... no
checking if strlcat needs custom prototype... yes - in libkdefakes
checking for strlcpy... no
checking if strlcpy needs custom prototype... yes - in libkdefakes
checking for main in -lutil... yes
checking for main in -lcompat... no
checking for crypt in -lcrypt... yes
checking for socklen_t... yes
checking for dnet_ntoa in -ldnet... no
checking for dnet_ntoa in -ldnet_stub... no
checking for inet_ntoa... yes
checking for connect... yes
checking for remove... yes
checking for shmat... yes
checking for sys/types.h... (cached) yes
checking for stdint.h... (cached) yes
checking sys/bitypes.h usability... yes
checking sys/bitypes.h presence... yes
checking for sys/bitypes.h... yes
checking for poll in -lpoll... no
checking Carbon/Carbon.h usability... no
checking Carbon/Carbon.h presence... no
checking for Carbon/Carbon.h... no
checking CoreAudio/CoreAudio.h usability... no
checking CoreAudio/CoreAudio.h presence... no
checking for CoreAudio/CoreAudio.h... no
checking if res_init needs -lresolv... yes
checking for res_init... yes
checking if res_init needs custom prototype... no
checking for killpg in -lucb... no
checking for int... yes
checking size of int... 4
checking for short... yes
checking size of short... 2
checking for long... yes
checking size of long... 4
checking for char *... yes
checking size of char *... 4
checking for dlopen in -ldl... (cached) yes
checking for shl_unload in -ldld... no
checking for size_t... yes
checking size of size_t... 4
checking for unsigned long... yes
checking size of unsigned long... 4
checking sizeof size_t == sizeof unsigned long... yes
checking crt_externs.h usability... no
checking crt_externs.h presence... no
checking for crt_externs.h... no
checking for _NSGetEnviron... no
checking for vsnprintf... yes
checking for snprintf... yes
checking for X... libraries /usr/lib, headers .
checking for IceConnectionNumber in -lICE... yes
checking for libXext... yes
checking for pthread_create in -lpthread... yes
checking for extra includes... added
checking for extra libs... no
checking for libz... -lz
checking for libpng... -lpng -lz -lm
checking for libjpeg6b... no
checking for libjpeg... -ljpeg
checking for perl... /usr/bin/perl
checking for Qt... libraries /usr/qt/3/lib, headers /usr/qt/3/include using -mt
checking for moc... /usr/qt/3/bin/moc
checking for uic... /usr/qt/3/bin/uic
checking whether uic supports -L ... yes
checking whether uic supports -nounload ... yes
checking if Qt needs -ljpeg... no
checking for rpath... yes
checking for KDE... libraries /usr/kde/3.4/lib, headers /usr/kde/3.4/include
checking if UIC has KDE plugins available... yes
checking for KDE paths... defaults
checking for dcopidl... /usr/kde/3.4/bin/dcopidl
checking for dcopidl2cpp... /usr/kde/3.4/bin/dcopidl2cpp
checking for mcopidl... /usr/kde/3.4/bin/mcopidl
checking for artsc-config... /usr/kde/3.4/bin/artsc-config
checking for meinproc... /usr/kde/3.4/bin/meinproc
checking for kconfig_compiler... /usr/kde/3.4/bin/kconfig_compiler
checking for dcopidlng... /usr/kde/3.4/bin/dcopidlng
checking for makekdewidgets... /usr/kde/3.4/bin/makekdewidgets
checking for xmllint... /usr/bin/xmllint
checking for setenv... yes
checking if setenv needs custom prototype... no
checking atlantik/ui/board.h usability... yes
checking atlantik/ui/board.h presence... yes
checking for atlantik/ui/board.h... yes
checking kaddressbook/xxport.h usability... yes
checking kaddressbook/xxport.h presence... yes
checking for kaddressbook/xxport.h... yes
checking for OpenSSL... libraries /usr/lib, headers /usr/include
checking whether OpenSSL uses rsaref... no
checking for easter eggs... none found
checking for OpenSSL version... ok
checking fcntl.h usability... yes
checking fcntl.h presence... yes
checking for fcntl.h... yes
checking for kstat_open in -lkstat... no
checking for libxmms... yes
checking for sdl-config... /usr/bin/sdl-config
checking for SDL - version >= 1.2.0... yes
checking endian.h usability... yes
checking endian.h presence... yes
checking for endian.h... yes
checking noatun/app.h usability... yes
checking noatun/app.h presence... yes
checking for noatun/app.h... yes
checking db_cxx.h usability... yes
checking db_cxx.h presence... yes
checking for db_cxx.h... yes
checking for main in -ldb_cxx-4.2... no
configure: error: --with-berkeley-db was given, but test for Berkeley DB++ failed

!!! ERROR: kde-base/kdeaddons-3.4.2 failed.
!!! Function kde_src_compile, Line 158, Exitcode 1
!!! died running ./configure, kde_src_compile:configure
!!! If you need support, post the topmost build error, NOT this status message.



Portage 2.0.51.22-r2 (default-linux/x86/2005.0, gcc-3.4.4, glibc-2.3.5-r1,
2.6.11-gentoo-r9 i686)
=================================================================
System uname: 2.6.11-gentoo-r9 i686 AMD Athlon(tm) 64 Processor 2800+
Gentoo Base System version 1.12.0_pre8
dev-lang/python:     2.3.5, 2.4.1-r1
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.20
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=athlon-xp -fomit-frame-pointer -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.3/env
/usr/kde/3.3/share/config /usr/kde/3.3/shutdown /usr/kde/3.4/env
/usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/texmf/web2c /etc/env.d"
CXXFLAGS="-O2 -march=athlon-xp -fomit-frame-pointer -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://gentoo.prz.rzeszow.pl/"
LC_ALL="pl_PL.UTF-8"
LINGUAS="pl en"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="3dnow X acl acpi alsa apm arts audiofile avi bash-completion berkdb
bitmap-fonts bluetooth bzlib cdr crypt cups curl divx4linux dvd dvdr eds emboss
encode fam ffmpeg flac foomaticdb fortran gd gdbm gif glut gpm gstreamer gtk2
hal iconv imagemagick imlib ipv6 java joystick jpeg junit kde libg++ libwww mad
mikmod motif mozilla mp3 mpeg mysql ncurses nls odbc ogg oggvorbis opengl oss
pam pdflib perl plugin png python qt quicktime readline samba sdl slang spell
ssl svg svga tcpd tetex tiff truetype truetype-fonts type1-fonts usb videos
vorbis win32codecs wmf x86 xine xml xml2 xmms xv zeroconf zlib linguas_pl
linguas_en userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LDFLAGS, MAKEOPTS, PORTDIR_OVERLAY




Comment 1


Maciek Gajewski





          2005-09-15 08:42:14 UTC
        

Workaround: 
USE="-berkdb" emerge --update kdeaddons




Comment 2


Gregorio Guidi (RETIRED)






          2005-09-26 04:06:47 UTC
        

Can you attach the 
file /var/tmp/portage/kdeaddons-3.4.2/work/kdeaddons-3.4.2/config.log after it 
fails? 
Thanks. 
 




Comment 3


Gregorio Guidi (RETIRED)






          2005-11-06 05:14:02 UTC
        

No reply from reporter. 









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

