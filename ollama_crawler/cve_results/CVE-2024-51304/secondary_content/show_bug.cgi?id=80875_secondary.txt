Title: 80875 – media-plugins/gst-plugins-vorbis-0.8.7 fails to compile (can't find gst/audio/multichannel-enumtypes.h)
URL: https://bugs.gentoo.org/show_bug.cgi?id=80875

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 80875
media-plugins/gst-plugins-vorbis-0.8.7 fails to compile (can't find gst/audio/multichannel-enumtypes.h)
Last modified: 2005-02-13 13:43:29 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 80875 
      - media-plugins/gst-plugins-vorbis-0.8.7 fails to compile (can't find gst/audio/multichannel-enumtypes.h)


Summary:
media-plugins/gst-plugins-vorbis-0.8.7 fails to compile (can't find gst/audio...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

GStreamer package maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-02-05 08:41 UTC by Elfyn McBratney (beu) (RETIRED)





      Modified:
    
2005-02-13 13:43 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Elfyn McBratney (beu) (RETIRED)






          2005-02-05 08:41:32 UTC
        

* Building external plugin ...
if /bin/sh ../../libtool --mode=compile --tag=CC i686-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I. -I../..    -I../../gst-libs -I../../gst-libs -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -pthread -I/usr/include/gstreamer-0.8 -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include -I/usr/include/libxml2   -DGST_DISABLE_DEPRECATED  -Wall   -O2 -march=pentium4 -funroll-loops -pipe -MT libgstvorbis_la-vorbis.lo -MD -MP -MF ".deps/libgstvorbis_la-vorbis.Tpo" -c -o libgstvorbis_la-vorbis.lo `test -f 'vorbis.c' || echo './'`vorbis.c; \
then mv -f ".deps/libgstvorbis_la-vorbis.Tpo" ".deps/libgstvorbis_la-vorbis.Plo"; else rm -f ".deps/libgstvorbis_la-vorbis.Tpo"; exit 1; fi
if /bin/sh ../../libtool --mode=compile --tag=CC i686-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I. -I../..    -I../../gst-libs -I../../gst-libs -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -pthread -I/usr/include/gstreamer-0.8 -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include -I/usr/include/libxml2   -DGST_DISABLE_DEPRECATED  -Wall   -O2 -march=pentium4 -funroll-loops -pipe -MT libgstvorbis_la-vorbisdec.lo -MD -MP -MF ".deps/libgstvorbis_la-vorbisdec.Tpo" -c -o libgstvorbis_la-vorbisdec.lo `test -f 'vorbisdec.c' || echo './'`vorbisdec.c; \
then mv -f ".deps/libgstvorbis_la-vorbisdec.Tpo" ".deps/libgstvorbis_la-vorbisdec.Plo"; else rm -f ".deps/libgstvorbis_la-vorbisdec.Tpo"; exit 1; fi
mkdir .libs
 i686-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I. -I../.. -I../../gst-libs -I../../gst-libs -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -pthread -I/usr/include/gstreamer-0.8 -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include -I/usr/include/libxml2 -DGST_DISABLE_DEPRECATED -Wall -O2 -march=pentium4 -funroll-loops -pipe -MT libgstvorbis_la-vorbisdec.lo -MD -MP -MF .deps/libgstvorbis_la-vorbisdec.Tpo -c vorbisdec.c  -fPIC -DPIC -o .libs/libgstvorbis_la-vorbisdec.o
 i686-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I. -I../.. -I../../gst-libs -I../../gst-libs -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -pthread -I/usr/include/gstreamer-0.8 -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include -I/usr/include/libxml2 -DGST_DISABLE_DEPRECATED -Wall -O2 -march=pentium4 -funroll-loops -pipe -MT libgstvorbis_la-vorbis.lo -MD -MP -MF .deps/libgstvorbis_la-vorbis.Tpo -c vorbis.c  -fPIC -DPIC -o .libs/libgstvorbis_la-vorbis.o
if /bin/sh ../../libtool --mode=compile --tag=CC i686-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I. -I../..    -I../../gst-libs -I../../gst-libs -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -pthread -I/usr/include/gstreamer-0.8 -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include -I/usr/include/libxml2   -DGST_DISABLE_DEPRECATED  -Wall   -O2 -march=pentium4 -funroll-loops -pipe -MT libgstvorbis_la-vorbisenc.lo -MD -MP -MF ".deps/libgstvorbis_la-vorbisenc.Tpo" -c -o libgstvorbis_la-vorbisenc.lo `test -f 'vorbisenc.c' || echo './'`vorbisenc.c; \
then mv -f ".deps/libgstvorbis_la-vorbisenc.Tpo" ".deps/libgstvorbis_la-vorbisenc.Plo"; else rm -f ".deps/libgstvorbis_la-vorbisenc.Tpo"; exit 1; fi
In file included from vorbisdec.c:27:
../../gst-libs/gst/audio/multichannel.h:24:46: gst/audio/multichannel-enumtypes.h: No such file or directory
make: *** [libgstvorbis_la-vorbisdec.lo] Error 1
make: *** Waiting for unfinished jobs....
 i686-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I. -I../.. -I../../gst-libs -I../../gst-libs -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -pthread -I/usr/include/gstreamer-0.8 -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include -I/usr/include/libxml2 -DGST_DISABLE_DEPRECATED -Wall -O2 -march=pentium4 -funroll-loops -pipe -MT libgstvorbis_la-vorbisenc.lo -MD -MP -MF .deps/libgstvorbis_la-vorbisenc.Tpo -c vorbisenc.c  -fPIC -DPIC -o .libs/libgstvorbis_la-vorbisenc.o

Reproducible: Always
Steps to Reproduce:
1. emerge =media-plugins/gst-plugins-vorbis-0.8.7




Portage 2.0.51-r15 (default-linux/x86/2004.3, gcc-3.4.3,
glibc-2.3.4.20041102-r0, 2.6.10-gentoo-r6 i686)
=================================================================
System uname: 2.6.10-gentoo-r6 i686 Intel(R) Pentium(R) 4 CPU 2.40GHz
Gentoo Base System version 1.4.16
Python:              dev-lang/python-2.3.4 [2.3.4 (#1, Oct 26 2004, 05:39:41)]
ccache version 2.3 [enabled]
dev-lang/python:     2.3.4
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.8.5-r2, 1.5, 1.7.9, 1.9.4, 1.6.3, 1.4_p6
sys-devel/binutils:  2.15.92.0.2-r2
sys-devel/libtool:   1.5.10-r4
virtual/os-headers:  2.6.8.1-r2
ACCEPT_KEYWORDS="x86"
ACCEPT_LICENSE=""
ANT_HOME="/usr/share/ant-core"
ARCH="x86"
AUTOCLEAN="yes"
AUTO_SYMLINK="no"
BASH_ENV="/etc/spork/is/not/valid/profile.env"
CCACHE_SIZE="4G"
CFLAGS="-O2 -march=pentium4 -funroll-loops -pipe"
CHOST="i686-pc-linux-gnu"
CLASSPATH="."
CLEAN_DELAY="5"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.3/env
/usr/kde/3.3/share/config /usr/kde/3.3/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/share/config /usr/share/texmf/dvipdfm/config/
/usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/
/usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/ /var/bind
/var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CVS_RSH="ssh"
CXXFLAGS="-O2 -march=pentium4 -funroll-loops -pipe"
DISPLAY=":0.0"
DISTDIR="/com/portage/distfiles"
EDITOR="/usr/bin/vim"
FEATURES="autoaddcvs autoconfig buildpkg candy ccache digest distlocks
fixpackages nostrip sandbox sfperms sign strict"
FETCHCOMMAND="/usr/bin/wget -t 5 --passive-ftp -P ${DISTDIR} ${URI}"
GCC_SPECS=""
GDK_USE_XFT="1"
GENTOO_MIRRORS=" http://mirror.switch.ch/mirror/gentoo/
http://ftp.snt.utwente.nl/pub/os/linux/gentoo/ http://gentoo.mirror.solnet.ch
http://ftp.easynet.nl/mirror/gentoo/ http://ftp.du.se/pub/os/gentoo
http://mirror.ac.uk/mirror/distro.ibiblio.org/pub/linux/distributions/gentoo/
http://gentoo.osuosl.org/ "
GRP_STAGE23_USE="ipv6 pam tcpd readline nls ssl gpm perl python berkdb ncurses"
GUILE_LOAD_PATH="/usr/share/guile/1.6"
G_BROKEN_FILENAMES="1"
HOME="/root"
HOSTNAME="zippy"
INFODIR="/usr/share/info"
INFOPATH="/usr/share/info:/usr/share/binutils-data/i686-pc-linux-gnu/2.15.92.0.2/info:/usr/share/gcc-data/i686-pc-linux-gnu/3.4.3/info"
INPUTRC="/etc/inputrc"
JAVAC="/opt/blackdown-jdk-1.4.2.01/bin/javac"
JAVA_HOME="/opt/blackdown-jdk-1.4.2.01"
JDK_HOME="/opt/blackdown-jdk-1.4.2.01"
KBUILD_OUTPUT_PREFIX=""
KDEDIR="/usr/kde/3.3"
KDEDIRS="/usr"
KDE_MALLOC="1"
LANG="en_GB.UTF-8"
LESS="-R"
LESSOPEN="|lesspipe.sh %s"
LIBGL_DRIVERS_PATH="/usr/lib/modules/dri"
LINUX_PORTAGE_WRITABLE="no"
LOGNAME="root"
LS_COLORS="no=00:fi=00:di=01;34:ln=01;36:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=01;05;37;41:mi=01;05;37;41:ex=01;32:*.cmd=01;32:*.exe=01;32:*.com=01;32:*.btm=01;32:*.bat=01;32:*.sh=01;32:*.csh=01;32:*.tar=01;31:*.tgz=01;31:*.arj=01;31:*.taz=01;31:*.lzh=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.gz=01;31:*.bz2=01;31:*.bz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.rar=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.jpg=01;35:*.jpeg=01;35:*.gif=01;35:*.bmp=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.mng=01;35:*.xcf=01;35:*.pcx=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.avi=01;35:*.mkv=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.mov=01;35:*.qt=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.fli=01;35:*.gl=01;35:*.dl=01;35:*.pdf=00;32:*.ps=00;32:*.txt=00;32:*.patch=00;32:*.diff=00;32:*.log=00;32:*.tex=00;32:*.doc=00;32:*.mp3=00;36:*.wav=00;36:*.mid=00;36:*.midi=00;36:*.au=00;36:*.ogg=00;36:*.flac=00;36:*.aac=00;36:"
MAIL="/root/.mbox"
MAKEOPTS="-j2"
MANPATH="/usr/share/man:/usr/local/share/man:/usr/share/binutils-data/i686-pc-linux-gnu/2.15.92.0.2/man:/usr/share/gcc-data/i686-pc-linux-gnu/3.4.3/man:/usr/share/man:/usr/local/share/man:/usr/share/binutils-data/i686-pc-linux-gnu/2.15.92.0.2/man:/usr/share/gcc-data/i686-pc-linux-gnu/3.4.3/man::/opt/blackdown-jdk-1.4.2.01/man:/usr/qt/3/doc/man:/opt/blackdown-jdk-1.4.2.01/man:/usr/qt/3/doc/man"
NOCOLOR="false"
OLDPWD="/root"
PAGER="/usr/bin/less"
PATH="/com/bin:/usr/lib/ccache/bin:/com/sbin:/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/opt/bin:/usr/i686-pc-linux-gnu/gcc-bin/3.4.3:/usr/X11R6/bin:/opt/blackdown-jdk-1.4.2.01/bin:/opt/blackdown-jdk-1.4.2.01/jre/bin:/usr/qt/3/bin:/usr/kde/3.3/sbin:/usr/kde/3.3/bin:/root/bin"
PKGDIR="/com/portage/packages"
PORTAGE_ARCHLIST="alpha amd64 arm hppa ia64 m68k mips ppc ppc64 ppc-macos ppc-od
s390 sh sparc x86 x86-fbsd x86-obsd x86-od"
PORTAGE_BINHOST_CHUNKSIZE="3000"
PORTAGE_CALLER="emerge"
PORTAGE_GID="250"
PORTAGE_MASTER_PID="27788"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/com/portage/overlays/testing
/com/portage/overlays/apache-refresh-fixups"
PORT_LOGDIR="/var/log/portage"
PRELINK_PATH=""
PRELINK_PATH_MASK="/usr/lib/wine:/usr/lib/valgrind"
PS1="\[\033[01;34m\][\A] \[\033[01;32m\]\u@\h
\[\033[01;34m\]\w\[\033[00m\]\n\[\033[01;34m\]\$ \[\033[00m\]"
PWD="/root"
PYTHONDOCS="/usr/share/doc/python-docs-2.3.4/html"
QMAKESPEC="linux-g++"
QTDIR="/usr/qt/3"
RESUMECOMMAND="/usr/bin/wget -c -t 5 --passive-ftp -P ${DISTDIR} ${URI}"
RPMDIR="/usr/portage/rpm"
RSYNC_RETRIES="3"
RSYNC_TIMEOUT="180"
SANE_CONFIG_DIR="/etc/sane.d"
SHELL="/bin/bash"
SHLVL="1"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
TERM="xterm"
USE="x86 X aalib acl acpi alsa apache2 apm arts atm avi bash-completion berkdb
bitmap-fonts bonobo bzlib cdr crypt cups curl directfb doc dvd encode exif f77
fam flac font-server foomaticdb fortran ftp gdbm gif gphoto2 gpm gstreamer gtk
gtk2 gtkhtml guile hardened imagemagick imap imlib ipv6 java jpeg junit kde ldap
libg++ libwww mad mbox mikmod mime mmap mmx motif mozilla mpeg msn mysql nas
ncurses nis nls nptl offensive oggvorbis opengl oss pam pcre pdflib perl php pic
png postgres python qt quicktime readline scanner sdl shared slang spell sqlite
sse ssl svga tcltk tcpd tetex tiff truetype truetype-fonts type1-fonts unicode
usb xml xml2 xmlrpc xmms xsl xv zeo zlib"
USER="root"
USERLAND="GNU"
USE_EXPAND="VIDEO_CARDS INPUT_DEVICES LINGUAS"
XARGS="xargs -r"
XAUTHORITY="/root/.xauthHUwTum"
XINITRC="/etc/X11/xinit/xinitrc"
_="/usr/bin/emerge"




Comment 1


foser (RETIRED)






          2005-02-05 09:11:22 UTC
        

what does `qpkg -l gst-plugins-0.8 | grep multich` give ? (requires gentoolkit)




Comment 2


Elfyn McBratney (beu) (RETIRED)






          2005-02-05 09:18:09 UTC
        

I just emerged media-libs/gst-plugins-0.8.7, and now I get:

[16:51] root@zippy /var/tmp/portage/gst-plugins-vorbis-0.8.7/work/gst-plugins-0.8.7
# qpkg -l gst-plugins-0.8 | grep multich
/usr/include/gstreamer-0.8/gst/audio/multichannel.h
/usr/include/gstreamer-0.8/gst/audio/multichannel-enumtypes.h

Is this a missing dep in gst.eclass/gst-plugins-vorbis?  Seems media-libs/gst-plugins-0.8.5-r1 (which was installed at the time of merging gst-plugins-vorbis) didn't have that header.




Comment 3


foser (RETIRED)






          2005-02-05 09:25:45 UTC
        

yeah well see, that should be impossible. gst-plugins-vorbis-0.8.7 strictly depends on gst-plugins-0.8.7, so you shouldn't need to update it by hand. I don't see how this could occur.




Comment 4


Elfyn McBratney (beu) (RETIRED)






          2005-02-13 13:41:41 UTC
        

Should being the operative word. :)

Anyhow, I can no longer reproduce this after re-emerging pretty much everything on my box that depended on gstreamer/it's plugins.  Apologies for the noise ;)




Comment 5


foser (RETIRED)






          2005-02-13 13:43:29 UTC
        

ok np









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

