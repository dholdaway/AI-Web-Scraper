Title: 103704 – qmail-remote: crashes when sending email to remote recipient no reason given
URL: https://bugs.gentoo.org/show_bug.cgi?id=103704

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 103704
qmail-remote: crashes when sending email to remote recipient no reason given
Last modified: 2005-10-15 14:35:30 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 103704 
      - qmail-remote: crashes when sending email to remote recipient no reason given


Summary:
qmail-remote: crashes when sending email to remote recipient no reason given
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       critical
      


Assignee:

Qmail Team (OBSOLETE)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:




40486



 

        Show dependency tree





 





      Reported:
    
2005-08-25 06:50 UTC by Arnvid L. Karstad





      Modified:
    
2005-10-15 14:35 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Arnvid L. Karstad





          2005-08-25 06:50:13 UTC
        

After upgrading to -r15 (and -r16) from my custom patched -r13 it seems several
emails are now in limbo land. The mails do not get sent, and the users do not
get any not-sent warnings.  After around a week the mail bounces back to the
original sender and that's it.. When looking at the qmail-send/current log I
find alot of the following:

@40000000430dd76926c331e4 starting delivery 16: msg 1902 to remote jonasfjeld@xxx.xx
@40000000430dd78013f5fa4c delivery 16: deferral: qmail-remote_crashed./

No reasons given what so ever.

Reproducible: Always
Steps to Reproduce:
1.
2.
3.




Comment 1


Michael Hanselmann (hansmi) (RETIRED)






          2005-08-25 08:20:09 UTC
        

Please provide:
- Configuration changes you made
- a traceback, like described in bug 99497 and bug 101532
- *Uneditted* output of
  - emerge --info
  - uname -a
  - qmail-showctl




Comment 2


Michael Hanselmann (hansmi) (RETIRED)






          2005-09-05 13:16:12 UTC
        

Can you provide the mentioned information, please?




Comment 3


Arnvid L. Karstad





          2005-09-16 02:48:36 UTC
        

emerge --info

Portage 2.0.51.22-r2 (default-linux/x86/2005.0, gcc-3.3.6, glibc-2.3.5-r1,
2.6.12-gentoo-r9 i686)
=================================================================
System uname: 2.6.12-gentoo-r9 i686 Intel(R) Xeon(TM) CPU 2.00GHz
Gentoo Base System version 1.6.13
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
dev-lang/python:     2.3.5-r2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6
sys-devel/binutils:  2.15.92.0.2-r10
sys-devel/libtool:   1.5.18-r1
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=pentium4 -msse2 -O3 -mmmx -mfpmath=sse -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config
/usr/share/config /var/bind /var/qmail/alias /var/qmail/control
/var/vpopmail/domains /var/vpopmail/etc"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-march=pentium4 -msse2 -O3 -mmmx -mfpmath=sse -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://mirror.gentoo.no/ ftp://ftp.easynet.nl/mirror/gentoo/
ftp://sunsite.cnlab-switch.ch/mirror/gentoo/"
MAKEOPTS="-j5"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 aalib apache2 bzlib cap caps chroot clamav clearpasswd crypt devfs26
devmap dio evms2 fwdzone gd gdbm gmp gpm hardened idea imap ipalias ipv6
ipv6arpa javamail javascript jp2 jpeg lzw lzw-tiff maildir md5sum mhash mime
mmap mmx mmx2 mng mysql nagios-dns nagios-ntp nagios-ping nagios-ssh ncurses
no-htdocs nptl openssh pam_timestamp pcap pcre php pic pie png pnp pthreads
qmail roundrobin sftplogging shaper smime snmp softquota spamassassin sse sse2
ssl subject-rewrite symlink syslog threads tokenizer unicode utf8 vhosts
virus-scan vpopmail xml xml2 yp zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS





Comment 4


Arnvid L. Karstad





          2005-09-16 02:49:29 UTC
        

Linux SERVER1 2.6.12-gentoo-r9 #1 SMP Thu Aug 25 14:26:05 CEST 2005 i686
Intel(R) Xeon(TM) CPU 2.00GHz GenuineIntel GNU/Linux





Comment 5


Arnvid L. Karstad





          2005-09-16 02:51:57 UTC
        

qmail home directory: /var/qmail.
user-ext delimiter: -.
paternalism (in decimal): 2.
silent concurrency limit: 500.
subdirectory split: 23.
user ids: 200, 201, 202, 0, 203, 204, 205, 206.
group ids: 200, 201.

badmailfrom: (Default.) Any MAIL FROM is allowed.

badrcptto: (Default.) Any RCPT TO is allowed.

morebadrcptto: (Default.) No badrcptto; morebadrcpto is irrelevant.

morebadrcptto.cdb: (Default.) No effect.

bouncefrom: (Default.) Bounce user name is MAILER-DAEMON.

bouncehost: (Default.) Bounce host name is mail.domain.no.

concurrencylocal: (Default.) Local concurrency is 10.

concurrencyremote: (Default.) Remote concurrency is 20.

databytes: (Default.) SMTP DATA limit is 0 bytes.

defaultdomain: Default domain name is domain.no.

defaulthost: (Default.) Default host name is mail.domain.no.

doublebouncehost: (Default.) 2B recipient host: mail.domain.no.

doublebounceto: (Default.) 2B recipient user: postmaster.

envnoathost: (Default.) Presumed domain name is mail.domain.no.

helohost: SMTP client HELO host name is mail.domain.no.

idhost: (Default.) Message-ID host name is mail.domain.no.

localiphost: (Default.) Local IP address becomes mail.domain.no.

locals:
Messages for mail.domain.no are delivered locally.

me: My name is mail.domain.no.

moreipme: (Default.) No additional IP addresses are me.

notipme: (Default.) All of my IP addresses are me.

percenthack: (Default.) The percent hack is not allowed.

plusdomain: Plus domain name is domain.no.

qmqpservers: (Default.) No QMQP servers.

queuelifetime: (Default.) Message lifetime in the queue is 604800 seconds.

rcpthosts:
SMTP clients may send messages to recipients at 
SMTP clients may send messages to recipients at 
SMTP clients may send messages to recipients at 
SMTP clients may send messages to recipients at 
SMTP clients may send messages to recipients at 
SMTP clients may send messages to recipients at 
SMTP clients may send messages to recipients at 
SMTP clients may send messages to recipients at 
SMTP clients may send messages to recipients at 
SMTP clients may send messages to recipients at 
SMTP clients may send messages to recipients at 
SMTP clients may send messages to recipients at 
SMTP clients may send messages to recipients at 
SMTP clients may send messages to recipients at 
SMTP clients may send messages to recipients at 
SMTP clients may send messages to recipients at 
SMTP clients may send messages to recipients at 

morercpthosts: (Default.) No effect.

morercpthosts.cdb: (Default.) No effect.

smtpgreeting: (Default.) SMTP greeting: 220 mail.domain.no.

smtproutes: (Default.) No artificial SMTP routes.

timeoutconnect: (Default.) SMTP client connection timeout is 60 seconds.

timeoutremote: (Default.) SMTP client data timeout is 1200 seconds.

timeoutsmtpd: (Default.) SMTP server data timeout is 1200 seconds.

virtualdomains:
Virtual domain: 
Virtual domain: 
Virtual domain: 
Virtual domain: 
Virtual domain: 
Virtual domain: 
Virtual domain: 
Virtual domain: 
Virtual domain: 
Virtual domain: 
Virtual domain: 
Virtual domain: 
Virtual domain: 
Virtual domain: 
Virtual domain: 
Virtual domain: 

conf-send: I have no idea what this file does.

clientcert.pem: I have no idea what this file does.

rsa1024.pem: I have no idea what this file does.

dh1024.pem: I have no idea what this file does.

conf-smtpd-r16: I have no idea what this file does.

tlshosts: I have no idea what this file does.

mfcheck: I have no idea what this file does.

rcpthosts.lock: I have no idea what this file does.

smtpplugins: I have no idea what this file does.

defaultdelivery: I have no idea what this file does.

dh512.pem: I have no idea what this file does.

locals.lock: I have no idea what this file does.

conf-pop3d: I have no idea what this file does.

conf-qmqpd: I have no idea what this file does.

conf-qmtpd: I have no idea what this file does.

servercert.cnf: I have no idea what this file does.

servercert.pem: I have no idea what this file does.

conf-smtpd: I have no idea what this file does.

virtualdomains.lock: I have no idea what this file does.

outgoingip: I have no idea what this file does.

conf-common: I have no idea what this file does.

rsa512.pem: I have no idea what this file does.





Comment 6


Michael Hanselmann (hansmi) (RETIRED)






          2005-09-17 11:37:30 UTC
        

And where's the traceback?




Comment 7


Arnvid L. Karstad





          2005-09-17 18:03:37 UTC
        

Actually it has not produced any crashes after I enabled coredumps in
/etc/limits and /etc/security/limits.conf. Last crash was on the morning of the
16th. I'll wait and see.




Comment 8


Michael Hanselmann (hansmi) (RETIRED)






          2005-09-24 18:53:30 UTC
        

Did it crash again since?




Comment 9


Michael Hanselmann (hansmi) (RETIRED)






          2005-10-15 14:35:30 UTC
        

No reaction, WFM.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

