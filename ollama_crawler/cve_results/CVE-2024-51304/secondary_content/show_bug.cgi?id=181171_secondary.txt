Title: 181171 – ati-drivers libGLcore.so: undefined symbol: __glXActiveScreens
URL: https://bugs.gentoo.org/show_bug.cgi?id=181171

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 181171
ati-drivers libGLcore.so: undefined symbol: __glXActiveScreens
Last modified: 2007-06-07 10:08:47 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 181171 
      - ati-drivers libGLcore.so: undefined symbol: __glXActiveScreens


Summary:
ati-drivers libGLcore.so: undefined symbol: __glXActiveScreens
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Release Media




Classification:

Unclassified




Component:

LiveCD/DVD/USB

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       major
      


Assignee:

Gentoo Release Team








URL:



http://bugs.gentoo.org/show_bug.cgi?i...
        




Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-06-07 07:18 UTC by Naray Gabor





      Modified:
    
2007-06-07 10:08 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



lu_zero









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Naray Gabor





          2007-06-07 07:18:52 UTC
        

I experienced the same, with the one little difference, that it happened at booting from livedvd. So the suggested problem solving should be done by You.

My log:

At booting the log was:

 * Setting hostname to livecd ...              [ ok ]
 * Starting lo
 *   Bringing up lo
 *     127.0.0.1/8    [ ok ]
 *   Adding routes
 *     127.0.0.0/8 ...[ ok ]
 * Initializing random number generator ... [ ok ]
INIT: Entering runlevel: 3
 * Starting syslog-ng ...                      [ ok ]
 * Hardware detection started ...
 * Detected 2 AMD Turion(tm) 64 X2 Mobile Technology TL-50 CPU(s) @ 1596MHz                      [ ok ] 
 * Not Loading APM Bios support ...
 * Not Loading ACPI support ...
 * Running hdparm on /dev/hda ...              [ ok ]
 * Mouse is SynPS/2 Synaptics TouchPad at /dev/input/mice ...
 * Caching service dependencies ...            [ ok ]
 * Starting gpm ...   [ ok ] * Unpacking hotplug firmware ...          [ ok ]
 * Network device eth0 detected, DHCP broadcasting for IP ...
 * VideoCard:   ATI Technologies Inc RS485 [Radeon Xpress 1100 IGP]
 * Caching service dependencies ...            [ ok ] * Creating X Configuration ...
 Video is ATI Technologies Inc RS485 [Radeon Xpress 1100 IGP], using Xorg(ati)Server
 Monitor is Generic Monitor, H:28.0-96.0kHz, V:50.0-75.0Hz
 Using Modes "1024x768" "800x600" "640x480"    [ ok ]
 * Configuring OpenGL ...
 * ATI card detected.
Switching to xorg-x11 OpenGL interface...


And after that instead of loading some X surface:

ÚÄÄÄÄ(+)ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄż
ł Current Operating System: Linux livecd 2.6.19-gentoo-r5 #1 SMP Sat Apr 2 ł
ł Build Date: 19 April 2007                       ł
ł        Before reporting problems, check http://wiki.x.org                ł
ł        to make sure that you have the latest version.                    ł
ł Module Loader present  ł
ł Markers: (--) probed, (**) from config file, (==) default setting,       ł
ł        (++) from command line, (!!) notice, (II) informational,          ł
ł        (WW) warning, (EE) error, (NI) not implemented, (??) unknown.     ł
ł (==) Log file: "/var/log/Xorg.0.log", Time: Thu Jun  7 14:34:53 2007     ł
ł (==) Using config file: "/etc/X11/xorg.conf"    ł
ł dlopen: /usr/lib64/xorg/modules/extensions/libGLcore.so: undefined symbol: __glXActiveScreens (edited manually)
ł (EE) Failed to load /usr/lib64/xorg/modules/extensions/libGLcore.so      ł
ł (EE) Failed to load module "GLcore" (loader failed, 7)                   ł
ł (EE) Failed to load module "glx" (module does not exist, 0)              ł
ł (EE) Failed to load module "ati" (module does not exist, 0)              ł
ł (EE) No drivers available.                      ł
ł                        ł
ł Fatal server error:    ł
ĂÄÄÄÄ(+)ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ98%ÄÄÄÄÄ´
ł        < EXIT >        ł
ŔÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄŮ

// copy-paste of the error message from screen.

Let me mark, that this bug was known, nominated for staled,
and after that builded into the install cd...


                               
Original bug report comes here \/ \/ \/

+++ This bug was initially created as a clone of Bug #166321 +++

after emerging ati-drivers-8.33.6-r1, and switching to the ati opengl interface, I get the following in Xorg.0.log:

(II) LoadModule: "GLcore"
(II) Loading /usr/lib64/xorg/modules/extensions/libGLcore.so
dlopen: /usr/lib64/xorg/modules/extensions/libGLcore.so: undefined symbol: __glXActiveScreens
(EE) Failed to load /usr/lib64/xorg/modules/extensions/libGLcore.so
(II) UnloadModule: "GLcore"
(EE) Failed to load module "GLcore" (loader failed, 7)


Reproducible: Always

Steps to Reproduce:
1. emerge ati-drivers-8.33.6-r1
2. switch to the ati opengl interface
3. startx

Actual Results:  
libGLcore.so does not load, resuling in no OpenGL acceleration

Expected Results:  
libGLcore.so should load fine

# eselect opengl list
Available OpenGL implementations:
  [1]   ati *
  [2]   xorg-x11

# emerge --info
Portage 2.1.2-r9 (default-linux/amd64/2006.1, gcc-4.1.1, glibc-2.4-r4, 2.6.18-gentoo-r6 x86_64)
=================================================================
System uname: 2.6.18-gentoo-r6 x86_64 Intel(R) Core(TM)2 CPU         T7200  @ 2.00GHz
Gentoo Base System release 1.12.8
Timestamp of tree: Sun, 11 Feb 2007 11:30:01 +0000
ccache version 2.4 [enabled]
dev-java/java-config: 1.3.7, 2.0.31
dev-lang/python:     2.4.3-r4
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     2.4-r6
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.61
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.14
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.17-r1
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=nocona -O2 -pipe -fomit-frame-pointer"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/X11/xkb"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/terminfo"
CXXFLAGS="-march=nocona -O2 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LINGUAS="en hu ja"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X aac aalib acpi aiglx alsa amd amd64 avahi avi bash-completion bitmap-fonts bluetooth branding bzip2 cairo cdr cjk cli cpudetection cracklib crypt cups dbus dlloader dri dts dv dvd dvdr dvdread eds emboss encode esd fam fbsplash firefox flac gdbm gif gimpprint glitz gnome gpm gstreamer gtk gtk2 gtkhtml hal iconv ieee1394 ipv6 isdnlog java jpeg lcms ldap libcaca libg++ libnotify logrotate mad midi mikmod mp3 mpeg mysql ncurses nls nptl nptlonly nsplugin ogg opengl oracle oss pam pcre pdflib perl png postgres ppds pppd python qt3 qt4 quicktime readline reflection sdl session smp spell spl ssl svg tcpd theora tiff truetype truetype-fonts type1-fonts udev unicode vim vorbis wma xml xorg xv xvid zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" ELIBC="glibc" INPUT_DEVICES="evdev joystick keyboard mouse synaptics" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en hu ja" USERLAND="GNU" VIDEO_CARDS="dummy fglrx radeon v4l vesa vmware fbdev"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY




Comment 1


Luca Barbato






          2007-06-07 07:51:51 UTC
        

the configuration file is trying to use the opensource driver while the opengl implementation was switched to the ati closed one?




Comment 2


Naray Gabor





          2007-06-07 08:25:54 UTC
        

Good question. I really don't know. Where should I look? I just have put in installCD, started it, and got error message. Looked for bugzilla, and found same error reported already, and looked for soultion suggertion, but there was suggestion to rebuild something I don't remember already, 'cause I can't that on isntall CD.

I try to look for that now.
Should I copy here some of the files from install-cd's etc files?


(In reply to comment #1)
> the configuration file is trying to use the opensource driver while the opengl
> implementation was switched to the ati closed one?






Comment 3


Naray Gabor





          2007-06-07 10:08:47 UTC
        

Ok.

"Xorg -configure" solved the problem, which means it was truly some configuration settings. I think this problem still needs some management. Either way solve not to have this problem on boot cd, or write some words about this possibility and some advices and links in installation documentation.

Best regards.

Naray Gabor.










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

