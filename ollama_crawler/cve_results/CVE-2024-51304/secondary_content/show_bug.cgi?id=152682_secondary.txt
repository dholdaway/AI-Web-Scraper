Title: 152682 – kde-base/kig-3.5.5 fails to compile: undefined reference to `__powidf2'
URL: https://bugs.gentoo.org/show_bug.cgi?id=152682

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 152682
kde-base/kig-3.5.5 fails to compile: undefined reference to `__powidf2'
Last modified: 2007-03-16 01:38:31 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 152682 
      - kde-base/kig-3.5.5 fails to compile: undefined reference to `__powidf2'


Summary:
kde-base/kig-3.5.5 fails to compile: undefined reference to `__powidf2'
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-10-24 11:25 UTC by Jule Slootbeek





      Modified:
    
2007-03-16 01:38 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Jule Slootbeek





          2006-10-24 11:25:45 UTC
        

emerge kig-3.5.5 fails with:

make[3]: Entering directory `/var/tmp/portage/kde-base/kig-3.5.5/work/kig-3.5.5/kig'
touch dummy.cpp
/bin/sh ../libtool --silent --tag=CXX --mode=compile i686-pc-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I. -I..   -DQT_THREAD_SUPPORT  -D_REENTRANT  -Wno-long-long -Wundef -ansi -D_XOPEN_SOURCE=500 -D_BSD_SOURCE -Wcast-align -Wconversion -Wchar-subscripts -Wall -W -Wpointer-arith -DNDEBUG -DNO_DEBUG -O2 -O2 -march=pentium4 -pipe -fomit-frame-pointer -Wformat-security -Wmissing-format-attribute -Wno-non-virtual-dtor -fno-exceptions -fno-check-new -fno-common -DQT_CLEAN_NAMESPACE -DQT_NO_ASCII_CAST -DQT_NO_STL -DQT_NO_COMPAT -DQT_NO_TRANSLATION  -c -o dummy.lo dummy.cpp
/bin/sh ../libtool --silent --tag=CXX --mode=link i686-pc-linux-gnu-g++  -Wno-long-long -Wundef -ansi -D_XOPEN_SOURCE=500 -D_BSD_SOURCE -Wcast-align -Wconversion -Wchar-subscripts -Wall -W -Wpointer-arith -DNDEBUG -DNO_DEBUG -O2 -O2 -march=pentium4 -pipe -fomit-frame-pointer -Wformat-security -Wmissing-format-attribute -Wno-non-virtual-dtor -fno-exceptions -fno-check-new -fno-common -DQT_CLEAN_NAMESPACE -DQT_NO_ASCII_CAST -DQT_NO_STL -DQT_NO_COMPAT -DQT_NO_TRANSLATION    -o libkigpart.la -rpath /usr/kde/3.5/lib/kde3 -module -avoid-version -module -no-undefined -Wl,--no-undefined -Wl,--allow-shlib-undefined -R /usr/kde/3.5/lib -R /usr/kde/3.5/lib -R /usr/qt/3/lib -R /usr/lib  -L/usr/kde/3.5/lib -L/usr/qt/3/lib -L/usr/lib    dummy.lo -lkparts misc/libmisc.la objects/libobjects.la filters/libfilters.la modes/libmodes.la kig/libkigparttemp.la  
misc/.libs/libmisc.a(libmisc_la.all_cpp.o): In function `nicenum(double, bool)':
libmisc_la.all_cpp.cpp:(.text+0x2cf4): undefined reference to `__powidf2'
collect2: ld returned 1 exit status
make[3]: *** [libkigpart.la] Error 1
make[3]: Leaving directory `/var/tmp/portage/kde-base/kig-3.5.5/work/kig-3.5.5/kig'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/var/tmp/portage/kde-base/kig-3.5.5/work/kig-3.5.5/kig'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/kde-base/kig-3.5.5/work/kig-3.5.5'
make: *** [all] Error 2

!!! ERROR: kde-base/kig-3.5.5 failed.
Call stack:
  ebuild.sh, line 1568:   Called dyn_compile
  ebuild.sh, line 937:   Called src_compile
  kig-3.5.5.ebuild, line 17:   Called kde_src_compile
  kde.eclass, line 171:   Called kde_src_compile 'all'
  kde.eclass, line 341:   Called kde_src_compile 'myconf' 'configure' 'make'
  kde.eclass, line 337:   Called die

!!! died running emake, kde_src_compile:make
!!! If you need support, post the topmost build error, and the call stack if relevant.


emerge --info

Portage 2.1.2_pre3-r7 (default-linux/x86/2006.1, gcc-4.1.1, glibc-2.5-r0, 2.6.18-gentoo i686)
=================================================================
System uname: 2.6.18-gentoo i686 Intel(R) Pentium(R) 4 CPU 2.66GHz
Gentoo Base System version 1.12.5
Last Sync: Tue, 24 Oct 2006 12:30:01 +0000
ccache version 2.4 [enabled]
app-admin/eselect-compiler: [Not Present]
dev-java/java-config: 1.3.7, 2.0.30
dev-lang/python:     2.3.5-r3, 2.4.3-r4
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     2.4-r6
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.60
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.17
sys-devel/gcc-config: 1.3.14
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.17-r1
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium4 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/eselect/compiler /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c"
CXXFLAGS="-O2 -march=pentium4 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache distlocks metadata-transfer parallel-fetch sandbox sfperms strict"
GENTOO_MIRRORS="http://gentoo.osuosl.org/ ftp://gentoo.mirrored.ca http://adelie.polymtl.ca/"
LINGUAS="en nl"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/overlays/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X aac alsa apache2 arts bash-completion berkdb bitmap-fonts cairo cli cracklib crypt dbus dlloader dri elibc_glibc encode esd firefox flac gdbm gif gnome gpm graphviz gstreamer gtk imagemagick imlib input_devices_keyboard input_devices_mouse isdnlog jack java jpeg kde kdeenablefinal kerberos kernel_linux ldap libg++ linguas_en linguas_nl lm_sensors mad math mono mp3 mpeg mpm-peruser msn musicbrainz mysql ncurses nls no-seamonkey nptl nptlonly ogg opengl oss pam pcre pda pdf perl png ppds pppd python qt3 qt4 quicktime readline reflection samba sdl sensord session spell spl ssl startup-notification subversion tagwriting tcpd tiff truetype truetype-fonts type1-fonts udev unicode userland_GNU userlocales video_cards_i810 vorbis win32codecs xcomposite xml xorg xscreensaver xv zlib"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, PORTAGE_RSYNC_EXTRA_OPTS

when compiled from source after uncompressing the kdeedu-3.5.5 tarball this problem does not present itself.




Comment 1


Jule Slootbeek





          2006-10-26 06:08:20 UTC
        

This appears to be an issue with gcc-4.1.1. after switching to gcc-3.4.6 kig compiled fine. I'm leaving the status as NEW< since the problem will still need to be figured out for 4.1.1




Comment 2


Charlie Shepherd (RETIRED)






          2006-11-24 19:48:26 UTC
        

(In reply to comment #1)
> This appears to be an issue with gcc-4.1.1. after switching to gcc-3.4.6 kig
> compiled fine. I'm leaving the status as NEW< since the problem will still need
> to be figured out for 4.1.1

I can't reproduce this with gcc-4






Comment 3


Jakub Moc (RETIRED)






          2007-03-16 01:38:31 UTC
        

Can't reproduce either, make sure you've followed this guide when upgrading GCC.

http://www.gentoo.org/doc/en/gcc-upgrading.xml









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

