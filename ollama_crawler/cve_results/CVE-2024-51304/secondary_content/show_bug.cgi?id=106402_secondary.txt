Title: 106402 – (uic-qt-3.3.5) compilation failures because of stricter uic in Qt 3.3.5
URL: https://bugs.gentoo.org/show_bug.cgi?id=106402

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 106402
compilation failures because of stricter uic in Qt 3.3.5
Last modified: 2006-05-16 14:19:05 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 106402 
        (uic-qt-3.3.5)
      - compilation failures because of stricter uic in Qt 3.3.5


Summary:
compilation failures because of stricter uic in Qt 3.3.5
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:

uic-qt-3.3.5
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Qt Bug Alias








URL:







Whiteboard:




Keywords:









Duplicates (15):
    

106336 106382 106459 106470 106476 106478 106480 106547 106723 107797 107898 108353 109010 112078 112905

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2005-09-18 13:45 UTC by Jan Essert





      Modified:
    
2006-05-16 14:19 UTC
      (History)
    




          CC List:
        

11 
          users
          
            (show)
          



aaron123456789
chriswhite
genteric
jos.delbar
josh
langthang
patrizio.bassi
rev
s.egbert
shansan
volkerarmin









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Jan Essert





          2005-09-18 13:45:50 UTC
        

Running pure ~x86. Error msg: 
 
if test "$ret" = 0; then echo '#include "gwsearchwidget.moc"' >> 
gwsearchwidget.cpp; else rm -f gwsearchwidget.cpp ; exit $ret ; fi 
creating libkopetegroupwiseui_la.all_cpp.cpp ... 
/bin/sh ../../../../libtool --silent --mode=compile --tag=CXX 
i686-pc-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I. -I../../../.. 
-I../../../../protocols/groupwise/libgroupwise 
-I../../../../kopete/protocols/groupwise/libgroupwise 
-I../../../../kopete/protocols/groupwise/libgroupwise/qca/src 
-I../../../../kopete/libkopete -I../../../../kopete/libkopete/ui 
-I../../../../kopete/libkopete/ui -I./.. -I./../libgroupwise 
-I/usr/kde/3.4/include -I/usr/qt/3/include -I.  -DQT_THREAD_SUPPORT  
-D_REENTRANT -D_FILE_OFFSET_BITS=64  -Wnon-virtual-dtor -Wno-long-long -Wundef 
-ansi -D_XOPEN_SOURCE=500 -D_BSD_SOURCE -Wcast-align -Wconversion 
-Wchar-subscripts -Wall -W -Wpointer-arith -Wno-non-virtual-dtor -DNDEBUG 
-DNO_DEBUG -O2 -march=athlon-tbird -O2 -pipe -fomit-frame-pointer -m3dnow 
-mmmx -fvisibility-inlines-hidden -Wformat-security -Wmissing-format-attribute 
-fno-exceptions -fno-check-new -fno-common -DQT_CLEAN_NAMESPACE 
-DQT_NO_ASCII_CAST -DQT_NO_STL -DQT_NO_COMPAT -DQT_NO_TRANSLATION  -c -o 
libkopetegroupwiseui_la.all_cpp.lo `test -f 
'libkopetegroupwiseui_la.all_cpp.cpp' || echo 
'./'`libkopetegroupwiseui_la.all_cpp.cpp 
In file included from libkopetegroupwiseui_la.all_cpp.cpp:8: 
gwaccountpreferences.cpp:26:32: ui::passwordwidget.h: No such file or 
directory 
make[5]: *** [libkopetegroupwiseui_la.all_cpp.lo] Error 1 
make[5]: Leaving directory 
`/var/tmp/portage/kopete-3.4.2/work/kopete-3.4.2/kopete/protocols/groupwise/ui' 
make[4]: *** [all-recursive] Error 1 
make[4]: Leaving directory 
`/var/tmp/portage/kopete-3.4.2/work/kopete-3.4.2/kopete/protocols/groupwise' 
make[3]: *** [all-recursive] Error 1 
make[3]: Leaving directory 
`/var/tmp/portage/kopete-3.4.2/work/kopete-3.4.2/kopete/protocols' 
make[2]: *** [all-recursive] Error 1 
make[2]: Leaving directory 
`/var/tmp/portage/kopete-3.4.2/work/kopete-3.4.2/kopete' 
make[1]: *** [all-recursive] Error 1 
make[1]: Leaving directory `/var/tmp/portage/kopete-3.4.2/work/kopete-3.4.2' 
make: *** [all] Error 2 
 
!!! ERROR: kde-base/kopete-3.4.2 failed. 
!!! Function kde_src_compile, Line 170, Exitcode 2 
 

Reproducible: Always
Steps to Reproduce:
 



Portage 2.0.52-r1 (default-linux/x86/2005.1, gcc-3.4.4, glibc-2.3.5-r1, 
2.6.13-gentoo-r1 i686) 
================================================================= 
System uname: 2.6.13-gentoo-r1 i686 AMD Athlon(tm) processor 
Gentoo Base System version 1.12.0_pre8 
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) 
[disabled] 
ccache version 2.4 [enabled] 
dev-lang/python:     2.4.1-r1 
sys-apps/sandbox:    1.2.13 
sys-devel/autoconf:  2.13, 2.59-r7 
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6 
sys-devel/binutils:  2.16.1 
sys-devel/libtool:   1.5.20 
virtual/os-headers:  2.6.11-r2 
ACCEPT_KEYWORDS="x86 ~x86" 
AUTOCLEAN="yes" 
CBUILD="i686-pc-linux-gnu" 
CFLAGS="-march=athlon-tbird -O2 -pipe -fomit-frame-pointer -m3dnow -mmmx" 
CHOST="i686-pc-linux-gnu" 
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/share/config /var/qmail/control" 
CONFIG_PROTECT_MASK="/etc/gconf /etc/init.d /etc/initng /etc/terminfo /etc/texmf/web2c /etc/env.d" 
CXXFLAGS="-march=athlon-tbird -O2 -pipe -fomit-frame-pointer -m3dnow -mmmx 
-fvisibility-inlines-hidden" 
DISTDIR="/usr/portage/distfiles" 
FEATURES="autoconfig ccache distlocks sandbox sfperms strict userpriv 
usersandbox" 
GENTOO_MIRRORS="http://mirrors.sec.informatik.tu-darmstadt.de/gentoo/ 
ftp://mirror.nutsmaas.nl/gentoo/ http://mirror.isp.net.au/pub/gentoo/ 
http://ftp.easynet.nl/mirror/gentoo/" 
LANG="de_DE.utf8" 
LC_ALL="de_DE.utf8" 
LINGUAS="de" 
MAKEOPTS="-j2" 
PKGDIR="/usr/portage/packages" 
PORTAGE_TMPDIR="/var/tmp" 
PORTDIR="/usr/portage" 
PORTDIR_OVERLAY="/usr/local/portage" 
SYNC="rsync://mirrors.sec.informatik.tu-darmstadt.de/gentoo-x86-portage/" 
USE="x86 3dnow 3dnowext X aalib acpi alsa apache2 avi berkdb bitmap-fonts cdr 
crypt cups curl divx4linux dvd dvdr eds emboss encode fam flac foomaticdb 
fortran gdbm gif gstreamer gtk2 guile icq imagemagick jabber java jpeg kde 
kdeenablefinal kdexdeltas libg++ libwww mad maildir mbox mikmod mmx mmxext mp3 
mpeg musepack mysql ncurses nls nptl nvidia offensive ogg oggvorbis opengl 
oscar pam pda pdflib perl pic png python qt quicktime readline real sdl spell 
ssl svg tcpd tetex tiff truetype truetype-fonts type1-fonts unicode usb videos 
vorbis xine xml2 xv xvid xvmc zlib linguas_de userland_GNU kernel_linux 
elibc_glibc" 
Unset:  ASFLAGS, CTARGET, LDFLAGS




Comment 1


Gregorio Guidi (RETIRED)






          2005-09-19 02:46:30 UTC
        

See here for reference: 
http://lists.kde.org/?l=kde-core-devel&m=112689460715878&w=2 
It seems the aseigo's patch is not sufficient to avoid these failures. 
 




Comment 2


Gregorio Guidi (RETIRED)






          2005-09-19 02:47:06 UTC
        

*** Bug 106382 has been marked as a duplicate of this bug. ***




Comment 3


Gregorio Guidi (RETIRED)






          2005-09-19 02:47:50 UTC
        

*** Bug 106459 has been marked as a duplicate of this bug. ***




Comment 4


Gregorio Guidi (RETIRED)






          2005-09-19 02:48:06 UTC
        

*** Bug 106470 has been marked as a duplicate of this bug. ***




Comment 5


Gregorio Guidi (RETIRED)






          2005-09-19 02:48:21 UTC
        

*** Bug 106478 has been marked as a duplicate of this bug. ***




Comment 6


Gregorio Guidi (RETIRED)






          2005-09-19 02:48:35 UTC
        

*** Bug 106476 has been marked as a duplicate of this bug. ***




Comment 7


Gregorio Guidi (RETIRED)






          2005-09-19 02:48:58 UTC
        

*** Bug 106480 has been marked as a duplicate of this bug. ***




Comment 8


Diego Elio Pettenò (RETIRED)






          2005-09-19 02:55:47 UTC
        

Actually, the bug is not in UIC but in the programs themselves.  
amaroK is fixed by a trivial patch.  
  
  
I'm for masking qt 3.3.5, fix all the stuff, and then unmask it. 
 




Comment 9


Gregorio Guidi (RETIRED)






          2005-09-19 02:58:23 UTC
        

package.masked qt-3.3.5 until we decide what to do. 




Comment 10


Diego Elio Pettenò (RETIRED)






          2005-09-19 11:11:44 UTC
        

*** Bug 106547 has been marked as a duplicate of this bug. ***




Comment 11


Gregorio Guidi (RETIRED)






          2005-09-21 06:22:31 UTC
        

*** Bug 106723 has been marked as a duplicate of this bug. ***




Comment 12


Gregorio Guidi (RETIRED)






          2005-09-21 06:27:55 UTC
        

There are patches for the KDE 3.4 branch here: 
http://people.freebsd.org/~lofi/kde-patches/ 
 
I wonder if it makes sense to do something now though, we can as well wait for 
KDE 3.4.3. We cannot unmask Qt-3.3.5 anytime soon anyway, since there are 
other ~250 3rd party KDE packages that might fail with it... 
 




Comment 13


Caleb Tennis (RETIRED)






          2005-09-21 06:33:15 UTC
        

I'd rather wait. 
 
Or perhaps see if the Qt 3.3.6 snapshot addresses this issue. 




Comment 14


Diego Elio Pettenò (RETIRED)






          2005-09-22 02:40:11 UTC
        

kde 3.5_beta1 still suffer from this problem. 
I don't think qt 3.3.6 will regress, it's a fix, and the programs relying on 
includehints being ignored ARE broken. 
 




Comment 15


Gregorio Guidi (RETIRED)






          2005-09-22 05:38:03 UTC
        

*** Bug 106723 has been marked as a duplicate of this bug. ***




Comment 16


Gregorio Guidi (RETIRED)






          2005-09-22 05:40:07 UTC
        

Diego, do you really want to add all the patches to the split ebuilds for 
kde-3.5_beta1 and to kde 3.4.2? Why not waiting for 3.4.3 and 3.5_rc1? 
 




Comment 17


Diego Elio Pettenò (RETIRED)






          2005-09-22 05:47:45 UTC
        

Well, I'm building 3.5_beta1 right now, and I don't really want to go back to  
qt 3.3.4-r8 as I'd rather see the problems.. and while I'm adding them to kde 
3.5, it's just cut and paste to add them to 3.4.2.. 
 




Comment 18


Volker Hemmann





          2005-09-22 14:56:53 UTC
        

Hi, 
 
emm, from a pure users point of view, I think that it is more than okay to wait for 
KDE 3.4.3 or 3.5.0 final. Who needs qt-3.3.5 anyway? 
If you want to to do it, great, but I bet, that nobody is hurt sticking to qt-3.3.4-rX 




Comment 19


Gregorio Guidi (RETIRED)






          2005-10-01 11:42:20 UTC
        

*** Bug 107797 has been marked as a duplicate of this bug. ***




Comment 20


Gregorio Guidi (RETIRED)






          2005-10-02 08:21:00 UTC
        

*** Bug 107898 has been marked as a duplicate of this bug. ***




Comment 21


Gregorio Guidi (RETIRED)






          2005-10-07 05:53:12 UTC
        

*** Bug 108353 has been marked as a duplicate of this bug. ***




Comment 22


Diego Elio Pettenò (RETIRED)






          2005-10-11 02:51:56 UTC
        

Can someone tell me why this result in Security product? 




Comment 23


Diego Elio Pettenò (RETIRED)






          2005-10-11 02:52:17 UTC
        

*** Bug 106336 has been marked as a duplicate of this bug. ***




Comment 24


Tuan Van (RETIRED)






          2005-10-11 09:49:40 UTC
        

(In reply to comment #22)
> Can someone tell me why this result in Security product? 

Don't know. You did it ;)




Comment 25


Gregorio Guidi (RETIRED)






          2005-10-12 09:22:40 UTC
        

*** Bug 109010 has been marked as a duplicate of this bug. ***




Comment 26


Diego Elio Pettenò (RETIRED)






          2005-11-10 11:31:28 UTC
        

*** Bug 112078 has been marked as a duplicate of this bug. ***




Comment 27


Jakub Moc (RETIRED)






          2005-11-18 05:18:00 UTC
        

*** Bug 112905 has been marked as a duplicate of this bug. ***




Comment 28


Simon Strandman





          2006-02-17 08:01:49 UTC
        

How long will qt 3.3.5 stay in p.mask? I didn't have any problems compiling any kde 3.5 packages with it.




Comment 29


Patrizio Bassi





          2006-02-17 09:37:15 UTC
        

i rebuild whole world and it works.

i had problem only with kmymoney, fixed with lastest release.




Comment 30


Hal Engel





          2006-02-24 10:46:17 UTC
        

The problem is with 3.3.5 is how it handles custom widgets.  If you don't have any apps with custom widgets then 3.3.5 will be OK on your system.  See http://www.trolltech.com/developer/tasktracker.html?method=entry&id=85440 for details and a patch.  It appears that this will be fixed in 3.3.6 or at least that is the goal of the QT developers.  There is also a patch in the above traker entry and it might be worth while testing the patch.




Comment 31


Diego Elio Pettenò (RETIRED)






          2006-04-02 20:43:17 UTC
        

Let's close this, if there are still packages failing it's time to fix them, 3.3.6 is ~arch already.





Comment 32


Volker Hemmann





          2006-04-02 21:32:52 UTC
        

Hi,

I won't speak against closing it - but 3.3.6 should maybe stay a little longer in ~arch, because of this bug: https://bugs.gentoo.org/show_bug.cgi?id=127892

or at least should not 'escape' into stable without the patch?





Comment 33


Jakub Moc (RETIRED)






          2006-05-16 14:19:05 UTC
        

*** Bug 133537 has been marked as a duplicate of this bug. ***









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

