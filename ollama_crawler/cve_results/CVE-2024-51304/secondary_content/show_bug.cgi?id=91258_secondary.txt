Title: 91258 – x11-base/xorg-x11-6.8.2-r1 (No rule to make target `includes'.)
URL: https://bugs.gentoo.org/show_bug.cgi?id=91258

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 91258
x11-base/xorg-x11-6.8.2-r1 (No rule to make target `includes'.)
Last modified: 2005-12-22 14:37:19 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 91258 
      - x11-base/xorg-x11-6.8.2-r1 (No rule to make target `includes'.)


Summary:
x11-base/xorg-x11-6.8.2-r1 (No rule to make target `includes'.)
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        All
      







Importance:
      
High
       normal
      


Assignee:

Gentoo X packagers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-05-02 20:06 UTC by Bodo Thiesen





      Modified:
    
2005-12-22 14:37 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



dbaird









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Bodo Thiesen





          2005-05-02 20:06:01 UTC
        

make[2]: Leaving directory `/var/tmp/portage/xorg-x11-6.8.2-r1/work/xc/fonts'
including in ./doc...
make[2]: Entering directory `/var/tmp/portage/xorg-x11-6.8.2-r1/work/xc/doc'
make[2]: *** No rule to make target `includes'.  Stop.
make[2]: Leaving directory `/var/tmp/portage/xorg-x11-6.8.2-r1/work/xc/doc'
make[1]: *** [includes] Error 2

# emerge info
Portage 2.0.51.19 (default-linux/x86/2005.0/2.4, gcc-3.3.5-20050130, glibc-2.3.4.20041102-r1, 2.4.29+skas3-bs1+swsusp-2.1.5.7D i686)
=================================================================
System uname: 2.4.29+skas3-bs1+swsusp-2.1.5.7D i686 mobile AMD Athlon (tm) 2000+    
Gentoo Base System version 1.4.3.13
Python:              dev-lang/python-2.3.5,dev-lang/python-2.2.3-r1 [2.3.5 (#1, May  3 2005, 03:39:37)]
dev-lang/python:     2.3.5, 2.2.3-r1
sys-apps/sandbox:    [Not Present]
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.5, 1.7.9-r1, 1.4_p6, 1.6.3, 1.8.5-r3, 1.9.4
sys-devel/binutils:  2.15.92.0.2-r7
sys-devel/libtool:   1.4.3-r4, 1.5.16
virtual/os-headers:  2.4.19-r1, 2.4.22-r1
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CFLAGS="-O3 -march=athlon-tbird -funroll-loops -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.2/share/config /usr/kde/3/share/config /usr/share/config /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O3 -march=athlon-tbird -funroll-loops -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig ccache distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/Linux/distributions/gentoo"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/etc/portage-overlay"
SYNC="rsync://rsync.de.gentoo.org/gentoo-portage"
USE="x86 3dnow Xaw3d aalib acl acpi alsa apache2 apm avi berkdb bitmap-fonts bonobo cdr crypt cscope curl dba dga directfb doc dvd emacs-w3 emboss encode evo f77 fam fbcon flac fortran gb gd gdbm ggi gif gnome gpm gstreamer gtk gtkhtml guile imagemagick imlib innodb ipv6 jack java jikes jpeg kde lcms ldap leim libg++ libgda libwww mad maildir matrox mbox mcal memlimit mikmod mmx motif mp3 mpeg mpi mule mysql ncurses nls nocd ogg oggvorbis opengl oss pam pcmcia pdflib perl plotutils png pnp prelude python qt quicktime readline ruby samba sasl sdl slang spell ssl svga tcltk tcpd tetex tiff truetype truetype-fonts trusted type1-fonts usb videos vorbis wavelan wmf wxwindows xface xine xml xml2 xmms xv zlib userland_GNU kernel_linux libc_glibc"
Unset:  ASFLAGS, CBUILD, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS




Comment 1


Bodo Thiesen





          2005-05-02 20:10:58 UTC
        

# ls -l /var/tmp/portage/xorg-x11-6.8.2-r1/work/xc/doc/Makefile
-rw-r--r--    1 root     root            0 May  3 04:30 /var/tmp/portage/xorg-x11-6.8.2-r1/work/xc/doc/Makefile





Comment 2


Carsten Lohrke (RETIRED)






          2005-05-03 05:29:39 UTC
        

Please use "New -> Gentoo Linux -> Component: Ebuilds" in future. Infrastructure is not the correct addressee.




Comment 3


Donnie Berkholz (RETIRED)






          2005-05-03 12:16:10 UTC
        

Did you run out of disk space or have filesystem corruption recently? Can you reproduce this at the same place? Please tone down your CFLAGS a bit to e.g. CFLAGS="-O2 -march=athlon-tbird -pipe" and try again.




Comment 4


Bodo Thiesen





          2005-05-03 12:38:05 UTC
        

Tried

export CFLAGS='-O2 -march=athlon-tbird -pipe'
export CXXFLAGS='-O2 -march=athlon-tbird -pipe'
export CPPFLAGS='-O2 -march=athlon-tbird -pipe'

And reran emerge, but still same problem:

make[2]: Leaving directory `/var/tmp/portage/xorg-x11-6.8.2-r1/work/xc/fonts'
including in ./doc...
make[2]: Entering directory `/var/tmp/portage/xorg-x11-6.8.2-r1/work/xc/doc'
make[2]: *** No rule to make target `includes'.  Stop.
make[2]: Leaving directory `/var/tmp/portage/xorg-x11-6.8.2-r1/work/xc/doc'

!!! ERROR: x11-base/xorg-x11-6.8.2-r1 failed.

# df
Filesystem           1K-blocks      Used Available Use% Mounted on
/dev/hda1             57196418  35180662  22015756  62% /
none                    111144         0    111144   0% /dev/shm




Comment 5


Joshua Baergen (RETIRED)






          2005-05-12 15:48:42 UTC
        

Could you post your "emerge -pv xorg-x11"?  Please and thank you.




Comment 6


Bodo Thiesen





          2005-05-12 18:56:06 UTC
        

Ah, right, I wanted to close this bug.I don't know what it was, but while an emerge -euD world, xorg-x11 was merged happily. So I'd consider to blame my previously broken config for this problem in spite I suspect it not to be the cause of the trouble. But 1. as we can't reproduce it most probably anyways and 2. it works now, I'll close this bug.BTW: Just for the case you are still interested in emerge -pv xorg-x11, here it comes:[ebuild   R   ] x11-base/xorg-x11-6.8.2-r1  -3dfx +3dnow +bitmap-fonts -cjk -debug -dlloader -dmx +doc -font-server -hardened -insecure-drivers +ipv6 -minimal +mmx +nls +opengl +pam -sdk -sse -static +truetype-fonts +type1-fonts (-uclibc) -xprint +xv 0 kBRegards, Bodo




Comment 7


David Baird





          2005-10-19 00:32:52 UTC
        

I've had a similar problem in the past, but *right now* I just did a
fresh install from Gentoo 2005.1 stage3 and I am having the same problem:

make[2]: Entering directory `/var/tmp/portage/xorg-x11-6.8.2-r4/work/xc/doc'
make[2]: *** No rule to make target `includes'.  Stop.

emerge -pv xorg-x11
These are the packages that I would merge, in order:
Calculating dependencies ...done!
[ebuild  N    ] x11-base/xorg-x11-6.8.2-r4  -3dfx -3dnow +bitmap-fonts +cjk
-debug -dlloader -dmx -doc -font-server -insecure-drivers +ipv6 -minimal -mmx
+nls -nocxx +opengl +pam -sdk -sse -static +truetype-fonts +type1-fonts
(-uclibc) -xprint +xv 0 kB 
[ebuild  N    ] app-arch/rpm2targz-9.0-r3  2 kB 
[ebuild  N    ] sys-apps/utempter-0.5.5.6  20 kB 
[ebuild  N    ] x11-terms/xterm-204  -Xaw3d -toolbar +truetype -unicode 698 kB 
Total size of downloads: 721 kB

/etc/make.conf
CFLAGS="-O2 -march=athlon-xp -fomit-frame-pointer -pipe"
CHOST="i686-pc-linux-gnu"
CXXFLAGS="${CFLAGS}"
MAKEOPTS="-j2"
PORTAGE_NICENESS=10
USE="hardened hardenedphp cscope apache2 cjk postgres sqlite fastcgi tcltk"

/var/lib/portage/world
sys-devel/bin86
www-apps/moinmoin
www-client/lynx
sys-kernel/linux-headers
app-admin/sudo
app-editors/vim
net-mail/fetchmail
sys-auth/nss_ldap
app-admin/mbr
mail-mta/postfix
sys-boot/grub
net-nds/openldap
net-misc/keychain
net-www/apache
sys-auth/pam_ldap
sys-kernel/genkernel
mail-client/mutt
sys-libs/glibc
app-misc/devtodo
app-admin/syslog-ng
app-editors/nano
app-arch/gzip
net-fs/nfs-utils
sys-devel/gettext
net-firewall/iptables
sys-kernel/hardened-sources
mail-filter/procmail
app-misc/screen

portage info
Portage 2.0.51.22-r2 (default-linux/x86/2005.1, gcc-3.3.5-20050130,
glibc-2.3.4.20041102-r1, 2.6.11-hardened-r15 i686)
=================================================================
System uname: 2.6.11-hardened-r15 i686 AMD Athlon(tm) XP 1700+
Gentoo Base System version 1.6.12
dev-lang/python:     2.3.5
sys-apps/sandbox:    1.2.11
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.5
sys-devel/binutils:  2.15.92.0.2-r10
sys-devel/libtool:   1.5.18-r1
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=athlon-xp -fomit-frame-pointer -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config
/usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=athlon-xp -fomit-frame-pointer -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org
http://distro.ibiblio.org/pub/Linux/distributions/gentoo"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X alsa apache2 apm arts avi berkdb bitmap-fonts cjk crypt cscope cups
eds emboss encode fastcgi foomaticdb fortran gdbm gif gnome gpm gstreamer gtk
gtk2 hardened hardenedphp imlib ipv6 jpeg kde ldap libg++ libwww mad mikmod
motif mp3 mpeg ncurses nls ogg oggvorbis opengl oss pam pdflib perl png postgres
python qt quicktime readline sdl spell sqlite ssl tcltk tcpd truetype
truetype-fonts type1-fonts vorbis xml2 xmms xv zlib userland_GNU kernel_linux
elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTDIR_OVERLAY





Comment 8


Donnie Berkholz (RETIRED)






          2005-10-19 01:50:54 UTC
        

Can you reproduce it in the same exact place?




Comment 9


David Baird





          2005-10-19 05:19:16 UTC
        

Yes, I tried ~4 times, and it always fails on:

make[2]: Entering directory `/var/tmp/portage/xorg-x11-6.8.2-r4/work/xc/doc'
make[2]: *** No rule to make target `includes'.  Stop.

This last time, I disabled all the USE flags, but it still failed at the same point:

USE="-cjk -truetype-fonts -type1-fonts -xv -bitmap-fonts -ipv6 -nls -opengl
-pam" emerge -pv xorg-x11
These are the packages that I would merge, in order:
Calculating dependencies ...done!
[ebuild  N    ] x11-base/xorg-x11-6.8.2-r4  -3dfx -3dnow -bitmap-fonts -cjk
-debug -dlloader -dmx -doc -font-server -insecure-drivers -ipv6 -minimal -mmx
-nls -nocxx -opengl -pam -sdk -sse -static -truetype-fonts -type1-fonts
(-uclibc) -xprint -xv 0 kB 
[ebuild  N    ] app-arch/rpm2targz-9.0-r3  2 kB 
[ebuild  N    ] sys-apps/utempter-0.5.5.6  20 kB 
[ebuild  N    ] x11-terms/xterm-204  -Xaw3d -toolbar +truetype -unicode 698 kB 
Total size of downloads: 721 kB





Comment 10


Donnie Berkholz (RETIRED)






          2005-10-19 09:08:59 UTC
        

I didn't say with the same error, I said at the same place. It's not clear to me
that this is happening.




Comment 11


Bodo Thiesen





          2005-10-19 10:05:34 UTC
        

Please add the output of "set". And btw. check if you have a CPATH, that was one
of my problems initially. I had a CPATH=":<some-path-in-my-home>" the problem
was not my home path the problem was the first colon without text before, which
was interpreted as ".:<some-path-in-my-home>"

Regards, Bodo

PS: Maybe you wanna reopen the bug, as this bug is in state "RESOLVED WORKSFORME".




Comment 12


David Baird





          2005-12-20 22:01:58 UTC
        

(In reply to comment #11)

Resolution! (at the bottom of this message)

Sorry for dropping the ball on this!!  School was busy and I forgot to follow up.

I've now confirmed this problem with x11-base/xorg-x11-6.8.2-r6.

> Please add the output of "set".

CPATH=:/home/dbaird/local/include:/home/dbaird/local/include:/home/dbaird/local/include
DCCC_PATH=/usr/lib/distcc/bin
INFOPATH=/usr/share/info:/usr/share/binutils-data/i686-pc-linux-gnu/2.15.92.0.2/info:/usr/share/gcc-data/i686-pc-linux-gnu/3.3.5-20050130/info
LIBRARY_PATH=:/home/dbaird/local/lib:/home/dbaird/local/lib:/home/dbaird/local/lib
MANPATH=/usr/local/share/man:/usr/share/man:/usr/share/binutils-data/i686-pc-linux-gnu/2.15.92.0.2/man:/usr/share/gcc-data/i686-pc-linux-gnu/3.3.5-20050130/man
PATH=/sbin:/bin:/usr/sbin:/usr/bin
PYTHONPATH=/usr/lib/portage/pym:/home/dbaird/python/lib/python2.3/site-packages

> And btw. check if you have a CPATH, that was one
> of my problems initially. I had a CPATH=":<some-path-in-my-home>" the problem
> was not my home path the problem was the first colon without text before, which
> was interpreted as ".:<some-path-in-my-home>"

Taking your suggestion, I did:

unset CPATH
unset LIBRARY_PATH
export CPATH
export LIBRARY_PATH
emerge xorg-x11

...and voila, it works.

Is there a portage modification solution that could assist users with this?  e.g. if an ebuild fails, it could suggest to the user "unset CPATH..." and then writing a bug report about the result.  Methinks I've had this problem somewhere else before, but I can't remember where.




Comment 13


Bodo Thiesen





          2005-12-22 14:37:19 UTC
        

As I expected, the empty-directory-component:

CPATH=:<some-directories-here>

At any place in startup scripts or maybe in your .bashrc you have a line like

export CPATH="$CPATH:<some-directories-here>"

Any such construct MUST be modified like this:

if test -z "$CPATH"
then
        export CPATH="<some-directories-here>"
else
        export CPATH="$CPATH:<some-directories-here>"
fi

Same for LIBRARY_PATH in your case.

Of course, I consider threating an empty directory string as "." as an error, but this error seems to be such common, that I don't expect it to be fixed. But feel free to add a bug report on gnu.org.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

