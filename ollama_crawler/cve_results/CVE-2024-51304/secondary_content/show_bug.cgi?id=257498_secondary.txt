Title: 257498 – net-analyzer/nepenthes-0.2.2: Standard configuration file paths b0rked
URL: https://bugs.gentoo.org/show_bug.cgi?id=257498

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 257498
net-analyzer/nepenthes-0.2.2: Standard configuration file paths b0rked
Last modified: 2012-10-02 13:36:50 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 257498 
      - net-analyzer/nepenthes-0.2.2: Standard configuration file paths b0rked


Summary:
net-analyzer/nepenthes-0.2.2: Standard configuration file paths b0rked
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Netmon project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-02-03 15:37 UTC by Dustin Polke





      Modified:
    
2012-10-02 13:36 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



patrick
sparc









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Dustin Polke





          2009-02-03 15:37:55 UTC
        

nepenthes looks for the standard config file in "/etc --localstatedir=/var/lib/nepenthes --enable-capabilities".

Guess this is resulting from the myconf variable passed to econf in the ebuild. Probably changing order of arguments will change this:

local myconf="--localstatedir=/var/lib/nepenthes --enable-capabilities --sysconfdir=/etc"

I explicitely put now config file in /etc/conf.d/nepenthes and nepenthes starts succesfully.

Reproducible: Always

Steps to Reproduce:
1. Compile nepenthes
2. Execute nepenthes
3. Watch it not finding config file

Actual Results:  
nepenthes does not start:

Nepenthes Version 0.2.2 
Compiled on Linux/SPARC at Feb  3 2009 15:04:53 with g++ 4.1.2 (Gentoo 4.1.2 p1.1) 
Started on gandalf running Linux/sparc64 release 2.6.27-gentoo-r8

Unable to load configuration file "/etc --localstatedir=/var/lib/nepenthes --enable-capabilities/nepenthes/nepenthes.conf": No such file or directory
Quit
run is done -1

Expected Results:  
Starting successfully.

Portage 2.1.6.4 (default/linux/sparc/2008.0/server, gcc-4.1.2, glibc-2.6.1-r0, 2.6.27-gentoo-r8 sparc64)
=================================================================
System uname: Linux-2.6.27-gentoo-r8-sparc64-sun4u-with-glibc2.0
Timestamp of tree: Tue, 03 Feb 2009 07:45:02 +0000
ccache version 2.4 [enabled]
app-shells/bash:     3.2_p39
dev-lang/python:     2.5.2-r7
dev-util/ccache:     2.4-r7
sys-apps/baselayout: 1.12.11.1
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.63
sys-devel/automake:  1.7.9-r1, 1.10.2
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.27-r2
ACCEPT_KEYWORDS="sparc"
CBUILD="sparc-unknown-linux-gnu"
CFLAGS="-O2 -mcpu=ultrasparc -pipe"
CHOST="sparc-unknown-linux-gnu"
CONFIG_PROTECT="/etc"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/gconf /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/terminfo /etc/udev/rules.d"
CXXFLAGS="-O2 -mcpu=ultrasparc -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="ccache collision-protect distlocks fixpackages parallel-fetch protect-owned sandbox sfperms strict test unmerge-orphans userfetch userpriv usersandbox"
GENTOO_MIRRORS="ftp://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/             ftp://linux.rz.ruhr-uni-bochum.de/gentoo-mirror/                ftp://gd.tuwien.ac.at/opsys/linux/gentoo/               ftp://pandemonium.tiscali.de/pub/gentoo/                 ftp://gentoo.inode.at/source/"
LDFLAGS="-Wl,-O1 -Wl,--as-needed"
LINGUAS="en de"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_COMPRESS=""
PORTAGE_RSYNC_EXTRA_OPTS="--timeout=500"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portage/local/modified /usr/portage/local/own"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="acl admin apache2 berkdb bzip2 cli courier coverpage cracklib crypt cups dri fortran gcc64 gd gdbm gpm iconv iproute2 isdnlog javascript kerberos ldap logrotate midi mime mudflap ncurses nls nptl nptlonly openmp pam pcre perl php png posix pppd python readline reflection sasl session snmp sparc spl ssl suhosin sysfs syslog tcpd threads truetype unicode userlocales xml xorg zlib" ALSA_CARDS="cs4231" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias asis auth_digest authn_anon authn_dbm authz_host   autoindex cache cern_meta charset_lite dav dav_fs deflate dir disk_cache        env expires ext_filter file_cache filter headers include info log_config         logio mem_cache mime mime_magic negotiation proxy proxy_connect         proxy_ftp proxy_http rewrite setenvif speling status unique_id userdir  usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="keyboard mouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en de" USERLAND="GNU" VIDEO_CARDS="mach64"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LANG, LC_ALL, PORTAGE_COMPRESS_FLAGS




Comment 1


Patrick Lauer






          2009-03-02 07:14:27 UTC
        

Nepenthes Version 0.2.2
Compiled on Linux/x86_64 at Mar  2 2009 07:10:52 with g++ 4.3.3
Started on localhost running Linux/x86_64 release 2.6.28

[ info mgr ] Loaded Nepenthes Configuration from "/etc/nepenthes/nepenthes.conf".

I cannot reproduce your issue on ~amd64, so it seems to be platform- or configuration-specific.




Comment 2


Sergey Popov (RETIRED)






          2012-09-30 07:27:32 UTC
        

@spark team, could you test if this issue happens(or not)?




Comment 3


Raúl Porcel (RETIRED)






          2012-09-30 17:43:43 UTC
        

1. it isn't keyworded on sparc and never was
2. it fails to build, bug #426482
3. this bug is 3 years old




Comment 4


Sergey Popov (RETIRED)






          2012-10-02 13:36:50 UTC
        

(In reply to comment #3)
> 1. it isn't keyworded on sparc and never was
> 2. it fails to build, bug #426482
> 3. this bug is 3 years old

Thanks for comments, Raúl and sorry for disturbing sparc team without checking package keywords.

Let's summarize what we have now:

1. Bug #426482 is fixed;
2. This package is NOT keyworded on sparc, so it's correct build/work is NOT guaranteed in Gentoo. Dustin, if you want to change this situation, file a new bug with keywording request;
3. I can not reproduce this bug on my amd64 box, so i close this as WORKSFORME.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

