Title: 84130 – linux-mod ebuilds have unnecessary gentoo-sources depend
URL: https://bugs.gentoo.org/show_bug.cgi?id=84130

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 84130
linux-mod ebuilds have unnecessary gentoo-sources depend
Last modified: 2005-04-24 11:39:58 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 84130 
      - linux-mod ebuilds have unnecessary gentoo-sources depend


Summary:
linux-mod ebuilds have unnecessary gentoo-sources depend
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Unspecified

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Mobile Herd (OBSOLETE)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-03-04 14:19 UTC by Christopher Culver





      Modified:
    
2005-04-24 11:39 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Christopher Culver





          2005-03-04 14:19:49 UTC
        

The "omnibook" package compiles just fine with vanilla-sources, but the ebuild in Portage has an unnecessary gentoo-sources depend. Users are forced to use "emerge -u --nodeps"

Reproducible: Always
Steps to Reproduce:
1.
2.
3.




Comment 1


Stefan Schweizer (RETIRED)






          2005-03-04 21:37:58 UTC
        

http://gentoo-wiki.com/HOWTO_Install_kernel_sources_manually#How_do_I_tell_portage_that_I_installed_my_sources_manually.3F

Did you maybe install your kernel manually and portage does not know of it?

Usually portage shoudl take every kernel-source to satisfy the omnibook depend, can you please show the "emerge your-source -pv" output? and also the "emerge omnibook -pv" output .. uname -r would be also interesting for me :)




Comment 2


Christopher Culver





          2005-03-04 21:45:21 UTC
        

emerge development-sources -pv:

Calculating dependencies ...done!
[ebuild   R   ] sys-kernel/development-sources-2.6.11  -build +doc -symlink 36,206 kB

emerge omnibook -pv:

[ebuild  N    ] sys-kernel/gentoo-sources-2.4.28-r7  -build +doc -symlink 1,117
kB
[ebuild   R   ] app-laptop/omnibook-20050217  0 kB

So, as you can see, omnibook doesn't consider "development-sources" to fulfill the kernel dependency.

uname -r:
2.6.11




Comment 3


Stefan Schweizer (RETIRED)






          2005-03-05 05:50:50 UTC
        

Can you please post emerge info?

Also does this happen with other linux-mod ebuilds like acerhk?




Comment 4


John Mylchreest (RETIRED)






          2005-03-05 09:08:23 UTC
        

it might also be a possible issue with the portage cache.
Can you please emerge sync, then re-merge development-sources, and then try once more.




Comment 5


Christopher Culver





          2005-03-05 10:03:35 UTC
        

This happens with all builds that require a kernel. They always want to pull in gentoo-sources. It's been like this for months if not years.

For what it's worth, development-sources is injected, not directly emerged.




Comment 6


Stefan Schweizer (RETIRED)






          2005-04-23 03:49:14 UTC
        

is this issue still present?




Comment 7


Stefan Schweizer (RETIRED)






          2005-04-24 11:39:58 UTC
        

I think you messed a step in installing sources manually:

http://gentoo-wiki.com/HOWTO_Install_kernel_sources_manually#How_do_I_tell_portage_that_I_installed_my_sources_manually.3F

PLease reopne if it does not work with that.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

