Title: 254384 – gentoo-multilib/amd64/bits/resource.h: No such file or directory
URL: https://bugs.gentoo.org/show_bug.cgi?id=254384

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 254384
gentoo-multilib/amd64/bits/resource.h: No such file or directory
Last modified: 2009-01-14 05:50:07 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 254384 
      - gentoo-multilib/amd64/bits/resource.h: No such file or directory


Summary:
gentoo-multilib/amd64/bits/resource.h: No such file or directory
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Unspecified

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       major
      


Assignee:

Gentoo Toolchain Maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-01-10 07:22 UTC by Dave O'Connor





      Modified:
    
2009-01-14 05:50 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Dave O'Connor





          2009-01-10 07:22:19 UTC
        

When doing an emerge -Du world or make oldconfig for the kernel I get an error message (see actual results) about resource.h and multilib. This happens on any package I attempt to emerge which has to use make, even if i try emerge -Du --resume --skipfirst world numerous times.

Reproducible: Always

Actual Results:  
/var/tmp/portage/dev-lang/php-5.2.8-r1/work/php-5.2.8/ext/pgsql/pgsql.c:5791: warning: passing argument 3 of 'php_addslashes' from incompatible pointer type
/bin/sh /var/tmp/portage/dev-lang/php-5.2.8-r1/work/php-5.2.8/libtool --silent --preserve-dup-deps --mode=compile x86_64-pc-linux-gnu-gcc  -Iext/posix/ -I/var/tmp/portage/dev-lang/php-5.2.8-r1/work/php-5.2.8/ext/posix/ -DPHP_ATOM_INC -I/var/tmp/portage/dev-lang/php-5.2.8-r1/work/php-5.2.8/include -I/var/tmp/portage/dev-lang/php-5.2.8-r1/work/php-5.2.8/main -I/var/tmp/portage/dev-lang/php-5.2.8-r1/work/php-5.2.8 -I/usr/include/libxml2 -I/var/tmp/portage/dev-lang/php-5.2.8-r1/work/php-5.2.8/ext/date/lib -I/usr/include/freetype2 -I/usr/include/imap -I/var/tmp/portage/dev-lang/php-5.2.8-r1/work/php-5.2.8/ext/mbstring/oniguruma -I/var/tmp/portage/dev-lang/php-5.2.8-r1/work/php-5.2.8/ext/mbstring/libmbfl -I/var/tmp/portage/dev-lang/php-5.2.8-r1/work/php-5.2.8/ext/mbstring/libmbfl/mbfl -I/usr/include/mysql -I/usr/include/postgresql/libpq-4 -I/usr/include/pspell -I/var/tmp/portage/dev-lang/php-5.2.8-r1/work/php-5.2.8/TSRM -I/var/tmp/portage/dev-lang/php-5.2.8-r1/work/php-5.2.8/Zend    -I/usr/include -march=k8 -O2 -pipe -msse3 -D_GNU_SOURCE  -c /var/tmp/portage/dev-lang/php-5.2.8-r1/work/php-5.2.8/ext/posix/posix.c -o ext/posix/posix.lo 
In file included from /usr/include/gentoo-multilib/amd64/sys/resource.h:25,
                 from /usr/include/sys/resource.h:8,
                 from /var/tmp/portage/dev-lang/php-5.2.8-r1/work/php-5.2.8/ext/posix/posix.c:38:
/usr/include/bits/resource.h:8:50: error: gentoo-multilib/amd64/bits/resource.h: No such file or directory
/var/tmp/portage/dev-lang/php-5.2.8-r1/work/php-5.2.8/ext/posix/posix.c: In function 'posix_addlimit':
/var/tmp/portage/dev-lang/php-5.2.8-r1/work/php-5.2.8/ext/posix/posix.c:1046: error: storage size of 'rl' isn't known
/var/tmp/portage/dev-lang/php-5.2.8-r1/work/php-5.2.8/ext/posix/posix.c:1053: error: type of formal parameter 1 is incomplete
/var/tmp/portage/dev-lang/php-5.2.8-r1/work/php-5.2.8/ext/posix/posix.c:1059: error: 'RLIM_INFINITY' undeclared (first use in this function)
/var/tmp/portage/dev-lang/php-5.2.8-r1/work/php-5.2.8/ext/posix/posix.c:1059: error: (Each undeclared identifier is reported only once
/var/tmp/portage/dev-lang/php-5.2.8-r1/work/php-5.2.8/ext/posix/posix.c:1059: error: for each function it appears in.)
make: *** [ext/posix/posix.lo] Error 1
 * 
 * ERROR: dev-lang/php-5.2.8-r1 failed.
 * Call stack:
 *               ebuild.sh, line   49:  Called src_compile
 *             environment, line 4466:  Called src_compile_normal
 *             environment, line 4585:  Called php5_2-sapi_src_compile
 *             environment, line 3499:  Called die
 * The specific snippet of code:
 *       emake || die "make failed"
 *  The die message:
 *   make failed
 * 
 * If you need support, post the topmost build error, and the call stack if relevant.
 * A complete build log is located at '/var/tmp/portage/dev-lang/php-5.2.8-r1/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/dev-lang/php-5.2.8-r1/temp/environment'.
 * 


Expected Results:  
emerged the package

Portage 2.1.6.4 (default/linux/amd64/2008.0, gcc-4.1.2, glibc-2.6.1-r0, 2.6.25-gentoo-r7 x86_64)
=================================================================
System uname: Linux-2.6.25-gentoo-r7-x86_64-AMD_Athlon-tm-_64_X2_Dual_Core_Processor_4200+-with-glibc2.2.5
Timestamp of tree: Fri, 09 Jan 2009 17:15:01 +0000
app-shells/bash:     3.2_p39
dev-java/java-config: 1.3.7-r1, 2.1.6-r1
dev-lang/python:     2.4.4-r13, 2.5.2-r7
dev-python/pycrypto: 2.0.1-r6
dev-util/cmake:      2.4.6-r1
sys-apps/baselayout: 1.12.11.1
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.63
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.2
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.27-r2
ACCEPT_KEYWORDS="amd64"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=k8 -O2 -pipe -msse3"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/terminfo /etc/udev/rules.d"
CXXFLAGS="-march=k8 -O2 -pipe -msse3"
DISTDIR="/usr/portage/distfiles"
FEATURES="distlocks fixpackages parallel-fetch protect-owned sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://gentoo.blueyonder.co.uk ftp://mirrors.blueyonder.co.uk/mirrors/gentoo http://www.mirrorservice.org/sites/www.ibiblio.org/gentoo/ ftp://ftp.mirrorservice.org/sites/www.ibiblio.org/gentoo/ "
LDFLAGS="-Wl,-O1"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portage/local/layman/enlightenment /usr/portage/local/layman/spring-unofficial /usr/portage/local/layman/sunrise /usr/portage/local/layman/mpd /usr/local/portage"
SYNC="rsync://trumpetti.atm.tut.fi/gentoo-portage"
USE="X a52 aac acl acpi alsa amd64 apache2 audiofile bacula-clientonly bash-completion bzip2 cdparanoia cdr cli cracklib crypt ctype cups curl curlwrapper dbus dri dts dvb dvd dvdr dvdread eeprom encode exif fam ffmpeg flac flash foomaticdb fortran ftp gd gdbm gif gnome gphoto2 gpm gstreamer gtk gtk2 gtkhtml hal iconv icq imap imlib innodb ipv6 isdnlog ishout jabber java javascript jikes jpeg jpeg2k junit libnotify lirc lm_sensors mad mbox mcal midi mmie mmx mng motif mozilla mp3 mpeg mudflap multilib mysql ncurses netboot nls nptl nptlonly nsplugin offensive ogg openal opengl openmp pam pcre pdf perl php png posix postgres pppd python quicktime readline reflection rt61pci ruby samba session sharedmem shorten simplexml soap sockets speex spell spl sse sse2 ssl svg sysfs tcpd theora tiff truetype unicode usb vhosts videos vorbis wxwindows xine xml xml2 xmlrpc xorg xosd xsl xv xvid xvmc zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic auth_digest authn_anon authn_dbd authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock dbd deflate dir disk_cache env expires ext_filter file_cache filter headers ident imagemap include info log_config logio mem_cache mime mime_magic negotiation proxy proxy_ajp proxy_balancer proxy_connect proxy_http rewrite setenvif so speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="kbd mouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" USERLAND="GNU" VIDEO_CARDS="nvidia"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LANG, LC_ALL, LINGUAS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS

I've been away for a month and attempted to upgrade my system last night. When I did so I got the above errors. Also tried with makeopts="-j1" with no change.




Comment 1


SpanKY






          2009-01-13 20:17:19 UTC
        

try re-emerging glibc




Comment 2


Dave O'Connor





          2009-01-14 02:04:02 UTC
        

I was forced to reboot by a hang a day later and the occurrence of this bug went away. I believe it's still a bug that should be fixed (being forced to reboot and no warning of it being necessary seems like a bug to me) but I can't reproduce it any longer.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

