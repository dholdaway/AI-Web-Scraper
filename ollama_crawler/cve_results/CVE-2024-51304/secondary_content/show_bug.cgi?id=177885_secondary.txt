Title: 177885 – 2007.0 Live CD hangs when installing multiple times
URL: https://bugs.gentoo.org/show_bug.cgi?id=177885

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 177885
2007.0 Live CD hangs when installing multiple times
Last modified: 2007-05-13 12:34:52 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 177885 
      - 2007.0 Live CD hangs when installing multiple times


Summary:
2007.0 Live CD hangs when installing multiple times
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Release Media




Classification:

Unclassified




Component:

Installer

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux Installer








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-05-10 04:01 UTC by Josh Kerr





      Modified:
    
2007-05-13 12:34 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



reuben-gentoo-bugzilla









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Josh Kerr





          2007-05-10 04:01:48 UTC
        

Installer hangs when doing an installation (standard, networkless, and advanced).  Installer hung while doing the following:

- editing partition table
- installing portage (networkless and web based install)
- clicking Next on different windows during the installation
- setting up mount points.

Noticed that I can restart the installer if it hangs when editing the partition tables and the changes that I made when it hung are there.  Once portage has started I was unable to unmount and restart.

Unable to generate log report, it wasn't created in /temp like the installer said it would which is another issue.  Running an AMD 3200 on an NF3 Mobo, 1.5Gigs of PC3200, PCI Express Nvidia 6600GT SLI capable (but not enabled, just running 1), and a SATA hdd.

Reproducible: Always

Steps to Reproduce:
1.  Edit partition tables when installing
2.  Install portage when installing
3.  random hangs when installing

Actual Results:  
Install hangs and have to reboot to clear it up and try again.

Expected Results:  
Install should have worked :(




Comment 1


Josh Kerr





          2007-05-10 11:43:22 UTC
        

Was unable to get the log files copied over however, the command prompt installation failed when setting root password.  This was the farthest I've gotten and I'm just going to try the old fashion installer.




Comment 2


Andrew Gaffney (RETIRED)






          2007-05-10 14:23:25 UTC
        

What do you mean when you say that it "hangs"? Does the whole system hang? Does just the installer become unresponsive? Does 'top' show the installer doing anything?




Comment 3


Preston Cody (RETIRED)






          2007-05-10 14:47:08 UTC
        

How long are you waiting when you say it "hangs"?  Immediately when you make a
partitioning change it will go ahead and do the requested action.  This often
can take a few minutes depending on the drive.  The installer can appear to
hang while it is working on doing the partitioning and other steps.  Please try
to give it some more time before restarting it.
Also, always start an install from a clean boot.  If an install failed it
should clean up after itself, but not if you kill it.  Killing an install can
leave your system with mounted partitions and that will cause problems if you
try to run the installer again.  In that case it is best to reboot.
Hope that helps.  Let us know if you are still having issues and give more
detailed information such as the hardware you are using.
Thanks,
-Codeman




Comment 4


Josh Kerr





          2007-05-10 15:11:58 UTC
        

Andrew,
By "hangs" I mean that the install window was unresponsive.  The system, I assume you mean live CD UI, did not hang, just the installer.  The severity differed depending on how far I got in the installation process.  Anywhere before installing portage, the window was "frozen" and the only thing I could do was close it after waiting 15+ minutes for something to happen.  If I was installing portage or anywhere after that in the process the window would become non-responsive and I would eventually have to force-quit out of it (I would do it or Gnome would open the force-quit dialog box).  I didn't look at 'top' however I can when I try again tonight.

Codeman,
I did reboot each time when attempting to install with the Live CD except for a few when I tried to unmount.  It became obvious that unmounting wasn't going to work.  You are correct, the installer did appear to hang when editing the partition tables however when nothing happened after 15+ minutes.  The dialog box was "frozen" in it's current state.  E.G. the button was still depressed and wasn't changing state nor was the window responsive.  When I would close the window or fore-quit (only had to force-quit once) and restart the installer the changes had taken place.

I know you guys are looking for a dmesg and more info on my hardware, I'll try to get it when I try again tonight.




Comment 5


Preston Cody (RETIRED)






          2007-05-10 15:45:15 UTC
        

another thing that will help us debug this is to open up a terminal and type "installer" to run the graphical installer that way.   This may let us see some error messages being printed out to the terminal when something doesn't work properly in the installer.




Comment 6


Josh Kerr





          2007-05-11 04:18:51 UTC
        

Ran the installer as you asked, terminal > installer.  The installer hung when installing portage.  I re-burned the CD just to make sure that it wasn't the issue.

Terminal Output:
gentoo@livecd ~ $ installer
localhost being added to access control list
localhost being added to access control list

Portage seemed to have finished, at least according to the modal dialog box.  I left it alone for almost a hour in the off chance that it was taking longer than the UI showed.  Nothing happened.  Top  showed Installer and Installer+GTK running at around 5132 no KB/MB marker and was found after sorting.  Best I could tell, it wasn't doing anything.  Closed the modal dialog window which did inform me that it was going to cancel the installation.

/var/log/installer.log
GLI: May 10 2007 22:10:39 - Gentoo Linux Installer version 0.5.4
GLI: May 10 2007 22:12:34 - Mounted mountpoint: /
GLI: May 10 2007 22:12:35 - Created mountpoint /boot
GLI: May 10 2007 22:10:35 - Mounted mountpoint: /boot
GLI: May 10 2007 22:14:08 - Stage3 was generated successfully

I have the dmesg saved and can post it if need be.




Comment 7


Reuben Farrelly





          2007-05-12 11:30:38 UTC
        

Duplicated here too.

My box is an Intel P4-3.0, so I am also running the AMD64 images.

In my case I am doing a networkless install, advanced, and I can repeatably get as far as "Unpack stage tarball" at which point the installer just sits there, typically unpacking perl, and really doing nothing - even after 10 or so minutes there is no visible change, and the only option is to cancel out.

/var/log/installer.log also tells me that stage 3 has finished, and if I run the graphical installer from a shell, nothing is logged to the console apart from "localhost being added to access control list".

An md5sum of the CD shows the same sum as that which is published so my CD isn't corrupt.

I am trying to set this up as a RAID-1 array with multiple partitions of /boot, / /var, /home and /tmp (I'm a bit stuck, as the non graphical installer won't even let me select md devices for mountpoints even after creating the /dev/md devices, but that's a separate issue).





Comment 8


Josh Kerr





          2007-05-12 19:50:45 UTC
        

I gave up on the graphical installer.  The hangs were consistent and it became apparent that it wasn't going to work.  Minimal CD FTW.




Comment 9


Andrew Gaffney (RETIRED)






          2007-05-13 05:12:28 UTC
        

Basically, unless you can find a specific problem for us to fix, there isn't anything that we can do. It works fine for us.




Comment 10


Josh Kerr





          2007-05-13 12:34:52 UTC
        

"Basically, unless you can find a specific problem for us to fix, there isn't
anything that we can do. It works fine for us."

We'll the problem is two fold here.  

1)  It hangs.  The GUI is non responsive and just sits there for no reason.  I let it run over night (6.5 hours) when installing portage it was still "frozen".

2)  When we check the logs, run the installer from the command line, etc, nothing is produced to help debug the issue further.

Having said that, it's pretty hard to tell you what the problem is, besides it the fact that it hangs and seems to use no resources, when we can't give you more information.  I'm glad it works fine for you but it doesn't work fine for a lot of people (check the forums).  As I said, I gave up on the graphical installer and went with the minimal cd.  No problems doing it manually ;)









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

