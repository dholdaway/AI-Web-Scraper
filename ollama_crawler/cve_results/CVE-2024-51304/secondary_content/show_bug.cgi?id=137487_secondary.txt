Title: 137487 – net-misc/d4x-2.5.7.1-r1 fails to compile and requires dev-libs/boost-1.33
URL: https://bugs.gentoo.org/show_bug.cgi?id=137487

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 137487
net-misc/d4x-2.5.7.1-r1 fails to compile and requires dev-libs/boost-1.33
Last modified: 2007-03-10 23:45:51 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 137487 
      - net-misc/d4x-2.5.7.1-r1 fails to compile and requires dev-libs/boost-1.33


Summary:
net-misc/d4x-2.5.7.1-r1 fails to compile and requires dev-libs/boost-1.33
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Desktop Misc. Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-06-21 06:19 UTC by Gábor VIDA





      Modified:
    
2007-03-10 23:45 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Gábor VIDA





          2006-06-21 06:19:55 UTC
        

But unfortunately even with the correct boost version, it fails:
-----------------------------------------------------------------<Summary>---
      Configuration: release

   Host system type: i686-pc-linux-gnu
       C++ compiler: i686-pc-linux-gnu-g++ (GCC) 3.3.6 (Gentoo 3.3.6, 
                     ssp-3.3.6-1.0, pie-8.7.8)
       Install path: /usr

         ESD output: disabled
         OSS output: disabled
       libao output: disabled

        SSL enabled: yes

-----------------------------------------------------------------------------

.....

if i686-pc-linux-gnu-g++ -DHAVE_CONFIG_H -I..   -I/usr/include -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include -I/usr/include/gtk-2.0 -I/usr/lib/gtk-2.0/include -I/usr/include/atk-1.0 -I/usr/include/cairo -I/usr/include/pango-1.0 -include ../config.h  -march=athlon-xp -O2 -pipe -fomit-frame-pointer -D_FILE_OFFSET_BITS=64 -MT httpd.o -MD -MP -MF ".deps/httpd.Tpo" -c -o httpd.o httpd.cc; \
then mv -f ".deps/httpd.Tpo" ".deps/httpd.Po"; else rm -f ".deps/httpd.Tpo"; exit 1; fi
httpd.cc: In member function `virtual d4x::SocketPtr 
   tHttpDownload::export_ctrl_socket()':
httpd.cc:584: error: syntax error before `;' token
make[3]: *** [httpd.o] Error 1
make[3]: Leaving directory `/var/tmp/portage/d4x-2.5.7.1-r1/work/d4x-2.5.7.1/main'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/var/tmp/portage/d4x-2.5.7.1-r1/work/d4x-2.5.7.1/main'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/d4x-2.5.7.1-r1/work/d4x-2.5.7.1'
make: *** [all] Error 2

!!! ERROR: net-misc/d4x-2.5.7.1-r1 failed.
Call stack:
  ebuild.sh, line 1539:   Called dyn_compile
  ebuild.sh, line 939:   Called src_compile
  d4x-2.5.7.1-r1.ebuild, line 62:   Called die

!!! (no error message)
!!! If you need support, post the topmost build error, and the call stack if relevant.







Portage 2.1 (default-linux/x86/2006.0, gcc-3.3.6, glibc-2.3.5-r1, 2.6.15-gentoo-r1 i686)
=================================================================
System uname: 2.6.15-gentoo-r1 i686 AMD Athlon(tm) XP 2500+
Gentoo Base System version 1.6.14
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
ccache version 2.3 [enabled]
dev-lang/python:     2.3.5, 2.4.2
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     2.3
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.15.92.0.2-r10
sys-devel/gcc-config: 1.3.12-r2
sys-devel/libtool:   1.4.3-r4, 1.5.18-r1
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=athlon-xp -O2 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/lib/X11/xkb /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/"
CONFIG_PROTECT_MASK="/etc/env.d /etc/gconf /etc/splash /etc/terminfo"
CXXFLAGS="-march=athlon-xp -O2 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache distlocks metadata-transfer notitles sandbox sfperms strict"
GENTOO_MIRRORS="http://gentoo.ngi.it"
LANG="hu_HU"
LC_ALL="hu_HU"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="x86 3dnow 3dnowext X acl acpi alsa amd amuled apache2 bash-completion bcp berkdb bitmap-fonts bjam browserplugin bzip2 cairo caps crypt cups curl dbus dga div4linux divx4linux dlloader doc dts dv dvd dvdread emacs encode erandom escreen examples exif extensions fbcon firefox flac font-server foomaticdb fortran fuse gcj gdbm ggi gif gimp gimpprint glibc-omitfp gnutls gpgme gphoto2 gssapi gtk gtk2 gtkhtml idn ithreads java javascript jikes jpeg lcms leim libsamplerate lirc live mad matroska mbox mikmod mmap mmx mmxext mng motif mozdevelop mozilla moznocompose moznoirc moznomail mozp3p mozplaintext mozsvg mozxmlterm mp3 mpeg multi-tty ncurses nfs nls nntp nojoystick nptl nptlonly nsplugin objc odbc ogg oggvorbis opengl pam pcre perl plotutils png postgres ppds python qt quicktime readline real reiserfes reiserfs remote rtc sasl savedconfig scanner sdk sdl sftp smime sndfile soundtouch spell sse ssl stats svg symlink tcltk tcpd tetex tga theora threads tiff toolbar truetype truetype-fonts type1-fonts unicode usb userlocales v4l v4l2 vorbis win32codecs winbind wmf wxgtk1 xanim xml xml2 xmms xprint xrandr xv xvid xvmc zlib elibc_glibc kernel_linux userland_GNU"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LDFLAGS, LINGUAS, MAKEOPTS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Raúl Porcel (RETIRED)






          2006-11-21 08:18:38 UTC
        

Hmmm, works for me?




Comment 2


Gábor VIDA





          2006-11-21 11:51:35 UTC
        

Well, it seems that every problem is solved by time. It works for me now. Maybe the 4.1.1 gcc did it.




Comment 3


Mike





          2006-12-28 09:12:46 UTC
        

from Google cache of author's forum (actual page gone):
http://72.14.203.104/search?q=cache:jzXJ8cUEXQEJ:krasu.ru/soft/chuchelo/forum.php3%3Fforumaction%3Dprepost%26forumreply%3D2513+d4x+return(SocketPtr())%3B&hl=en&gl=us&ct=clnk&cd=4

---

Aaaaaaand fixed. :-) Simply replace the faulty line:

return(SocketPtr());

with these two lines:

SocketPtr dummy = SocketPtr();
return(dummy);

You'll need to do the same thing in ftpd.cc, line 666 (no kidding :-). After that, d4x compiles fine. HTH!




Comment 4


Przemyslaw Maciag (RETIRED)






          2007-02-11 12:55:55 UTC
        

(In reply to comment #2)
> Well, it seems that every problem is solved by time. It works for me now. Maybe
> the 4.1.1 gcc did it.

Can someone reproduce this bug or we may close it?

Cheers,
Przemek




Comment 5


Przemyslaw Maciag (RETIRED)






          2007-03-10 23:45:51 UTC
        

since nobody can reproduce it...

Cheers,
Przemek









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

