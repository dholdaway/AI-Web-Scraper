Title: 589718 – mate-extra/mate-sensors-applet installs old x11-drivers/nvidia-drivers
URL: https://bugs.gentoo.org/show_bug.cgi?id=589718

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 589718
mate-extra/mate-sensors-applet installs old x11-drivers/nvidia-drivers
Last modified: 2016-07-28 06:08:17 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 589718 
      - mate-extra/mate-sensors-applet installs old x11-drivers/nvidia-drivers


Summary:
mate-extra/mate-sensors-applet installs old x11-drivers/nvidia-drivers
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo MATE Desktop








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2016-07-26 04:37 UTC by Stephan Litterst





      Modified:
    
2016-07-28 06:08 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



jer









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




mate-sensors-applet-1.10.4-r2.ebuild

              (mate-sensors-applet-1.10.4-r1.ebuild,1.76 KB,
                text/plain)

            
2016-07-26 17:54 UTC,

            Adam Feldman




Details





build.log

              (build.log,273.94 KB,
                text/x-log)

            
2016-07-27 05:10 UTC,

            Stephan Litterst




Details





environment

              (environment,176.84 KB,
                text/plain)

            
2016-07-27 05:10 UTC,

            Stephan Litterst




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Stephan Litterst





          2016-07-26 04:37:55 UTC
        

Emerging of mate-extra/mate-sensors-applet results in emerging of old nvidia drivers:

emerge mate-sensors-applet
Calculating dependencies... done!
>>> Verifying ebuild manifests
>>> Running pre-merge checks for x11-drivers/nvidia-drivers-340.93-r1
...

Currently installed nvidia-drivers are newer:

x11-drivers/nvidia-drivers
      Latest version available: 361.28
      Latest version installed: 361.28




Comment 1


Adam Feldman






          2016-07-26 17:54:02 UTC
        

Created attachment 441652 [details]
mate-sensors-applet-1.10.4-r2.ebuild

Can you try this please?




Comment 2


Adam Feldman






          2016-07-26 17:58:22 UTC
        

emerge -tp mate-sensors-applet would also be helpful




Comment 3


Stephan Litterst





          2016-07-27 04:47:39 UTC
        

emerge -tp mate-sensors-applet

These are the packages that would be merged, in reverse order:

Calculating dependencies... done!
[ebuild  N     ] mate-extra/mate-sensors-applet-1.10.4-r1  USE="dbus libnotify lm_sensors -hddtemp" VIDEO_CARDS="nvidia -fglrx" 
[ebuild  N     ]  media-video/nvidia-settings-340.58  USE="examples" 
[ebuild     UD ]   x11-drivers/nvidia-drivers-340.93-r1 [361.28]




Comment 4


Stephan Litterst





          2016-07-27 05:05:01 UTC
        

 * Messages for package x11-drivers/nvidia-drivers-340.93-r1:

 * ERROR: x11-drivers/nvidia-drivers-340.93-r1::gentoo failed (compile phase):
 *   emake failed
 * 
 * If you need support, post the output of `emerge --info '=x11-drivers/nvidia-rivers-340.93-r1::gentoo'`,
 * the complete build log and the output of `emerge -pqv '=x11-drivers/nvidia-divers-340.93-r1::gentoo'`.
 * The complete build log is located at '/var/tmp/portage/x11-drivers/nvidia-drvers-340.93-r1/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/x11-drivers/nvida-drivers-340.93-r1/temp/environment'.
 * Working directory: '/var/tmp/portage/x11-drivers/nvidia-drivers-340.93-r1/wok/kernel'
 * S: '/var/tmp/portage/x11-drivers/nvidia-drivers-340.93-r1/work/'




Comment 5


Stephan Litterst





          2016-07-27 05:05:24 UTC
        

emerge --info '=x11-drivers/nvidia-rivers-340.93-r1::gentoo'

emerge: there are no ebuilds to satisfy "=x11-drivers/nvidia-rivers-340.93-r1::gentoo".

emerge: searching for similar names...
emerge: Maybe you meant any of these: x11-drivers/nvidia-drivers, x11-drivers/ati-drivers, x11-drivers/xf86-video-vesa?




Comment 6


Stephan Litterst





          2016-07-27 05:06:07 UTC
        

emerge -pqv '=x11-drivers/nvidia-divers-340.93-r1::gentoo'

emerge: there are no ebuilds to satisfy "=x11-drivers/nvidia-divers-340.93-r1::gentoo".

emerge: searching for similar names...
emerge: Maybe you meant any of these: x11-drivers/nvidia-drivers, x11-drivers/ati-drivers, x11-drivers/xf86-video-vesa?




Comment 7


Stephan Litterst





          2016-07-27 05:10:02 UTC
        

Created attachment 441672 [details]
build.log




Comment 8


Stephan Litterst





          2016-07-27 05:10:57 UTC
        

Created attachment 441674 [details]
environment




Comment 9


Jeroen Roovers (RETIRED)






          2016-07-27 07:25:07 UTC
        

You twice managed to spell x11-drivers/nvidia-drivers incorrectly. Other than that, you should probably enable USE="static-libs tools" for x11-drivers/nvidia-drivers and then you should be all right.




Comment 10


Stephan Litterst





          2016-07-28 05:36:10 UTC
        

Hi Jeroen,

Thanks for pointing to the wrong spelling.
I just copied the relevant part of the output of the messages for the nvidia-driver package. You might want to check comment 4 in this ticket.

Unfortunately I didn't realize those wrong spellings. Luckily you did :-)

I won't open a new bug on this old package as I don't use it and when I did it compiled fine and never jumped into this part of the code.
Possibly you might want to check the new package if those wrong spellings still exist.

Kind regards,

Stephan




Comment 11


Stephan Litterst





          2016-07-28 06:08:17 UTC
        

I put "x11-drivers/nvidia-drivers static-libs tools" (without the ") in /etc/portage/package.use and now everything is fine.

Thanks for your support!









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

