Title: 340719 – libgcrypt-1.4.4 fails to link with the gold linker
URL: https://bugs.gentoo.org/show_bug.cgi?id=340719

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 340719
libgcrypt-1.4.4 fails to link with the gold linker
Last modified: 2010-12-02 18:32:45 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 340719 
      - libgcrypt-1.4.4 fails to link with the gold linker


Summary:
libgcrypt-1.4.4 fails to link with the gold linker
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Crypto team [DISABLED]








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2010-10-12 16:53 UTC by Raymes Khoury





      Modified:
    
2010-12-02 18:32 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Patch to allow the package to be linked with gold.

              (libgcrypt-1.4.4-gold.patch,526 bytes,
                patch)

            
2010-10-12 16:56 UTC,

            Raymes Khoury




Details
            | Diff





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Raymes Khoury





          2010-10-12 16:53:24 UTC
        

libgcrypt-1.4.4 fails to link with the gold linker. The following error is reported:

/usr/libexec/gcc/i686-pc-linux-gnu/ld: register.o: in function check_run:register.c(.text+0x28c): error: undefined reference to 'gpg_strerror'
/usr/libexec/gcc/i686-pc-linux-gnu/ld: register.o: in function check_run:register.c(.text+0x424): error: undefined reference to 'gpg_strerror'
/usr/libexec/gcc/i686-pc-linux-gnu/ld: register.o: in function check_run:register.c(.text+0x444): error: undefined reference to 'gpg_strerror'

This is because -lgpg-error is not explicitly passed to the linker.


Reproducible: Always

Steps to Reproduce:
1. USE=gold emerge binutils
2. emerge =libgcrypt-1.4.4




Comment 1


Raymes Khoury





          2010-10-12 16:56:27 UTC
        

Created attachment 250373 [details, diff]
Patch to allow the package to be linked with gold.




Comment 2


Dane Smith (RETIRED)






          2010-12-02 18:22:05 UTC
        

1.4.4 is no longer in the tree. Is the problem still present in 1.4.6?




Comment 3


Diego Elio Pettenò (RETIRED)






          2010-12-02 18:32:45 UTC
        

Works fine with gold now.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

