Title: 124661 – x11-plugins/gkrellm-radio induces strange faults in gkrellm2
URL: https://bugs.gentoo.org/show_bug.cgi?id=124661

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 124661
x11-plugins/gkrellm-radio induces strange faults in gkrellm2
Last modified: 2007-02-24 15:09:08 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 124661 
      - x11-plugins/gkrellm-radio induces strange faults in gkrellm2


Summary:
x11-plugins/gkrellm-radio induces strange faults in gkrellm2
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Jim Ramsay (lack) (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:




gkrellm-tracker



 

        Show dependency tree





 





      Reported:
    
2006-03-02 10:01 UTC by DEMAINE Benoît-Pierre, aka DoubleHP





      Modified:
    
2007-02-24 15:09 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



mholzer









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


DEMAINE Benoît-Pierre, aka DoubleHP





          2006-03-02 10:01:19 UTC
        

hen starting gkrellm2, i get:

$ gkrellm2

(gkrellm2:32587): Pango-WARNING **: Invalid UTF-8 string passed to
pango_layout_set_text()

(gkrellm2:32587): Pango-WARNING **: Invalid UTF-8 string passed to
pango_layout_set_text()
Segmentation fault

********************************************

$ gkrellm2 -d 0xF0
--- GKrellM 2.2.7 ---
hddtemp_daemon_read (once a minute):
        |/dev/hda|ST3120026A|34|C|
rx_bytes=1 tx_bytes=9 rx_packets=2 tx_packets=10
mailbox-remote-use-ssl 1
mailbox-remote-use-ssl 1
mailbox-remote-use-ssl 1
mailbox-remote-use-ssl 0
mailbox-remote-use-ssl 1
mailbox-local mbox /var/mail/dhp
mailbox-remote-use-ssl 0
mailbox-remote-use-ssl 1
mailbox-remote-use-ssl 1
mailbox-remote-use-ssl 0
remote_check_timeout 1
local_check_timeout 2
fetch_check_is_local 0
msg_count_mode 0
animation_select_mode 0
fetch_check_only_mode 1
reset_remote_mode 0
unseen_is_new 0
enable 1 0 0 0
animation_continuous 1
show_tooltip 1
mh_seq_ignore 0
load_sensors_config: <sensor_config_version> <1>
load_sensors_config: <sensor_float_factor> <10000>
load_sensors_config: <gkrellm_float_factor> <1000>
load_sensors_config: <"hda"> <"hddtemp/hda" 10000 0 0 0>
load_sensors_config: <units_fahrenheit> <0>
load_sensors_config: <volt_display_mode> <0>

(gkrellm2:28675): Pango-WARNING **: Invalid UTF-8 string passed to
pango_layout_set_text()

(gkrellm2:28675): Pango-WARNING **: Invalid UTF-8 string passed to
pango_layout_set_text()
Segmentation fault

***********************************************

$ cat /var/lib/portage/world |grep gkrell
x11-plugins/gkrellweather
x11-plugins/gkrellm-reminder
app-admin/gkrellm
x11-plugins/gkrellaclock
x11-plugins/gkrellmwireless
x11-plugins/gkrellm-countdown
x11-plugins/gkrellm-sensors
x11-plugins/gkrelltop
x11-plugins/gkrellm-radio
x11-themes/gkrellm-themes
x11-plugins/gkrellmlaunch
x11-plugins/gkrellm-wifi
x11-plugins/gkrellmms
x11-plugins/gkrellm-hddtemp
x11-plugins/gkrellm-alltraxclock
x11-plugins/gkrellm-volume
x11-plugins/gkrellmouse
x11-plugins/gkrellm-gamma
x11-plugins/gkrellm-leds
x11-plugins/gkrellm-xkb

**********************************************************

$ emerge --info
Portage 2.1_pre4-r1 (default-linux/x86/2005.1, gcc-3.3.6, glibc-2.3.6-r2,
2.6.15-gentoo-r5-Gentoo-moon_04 i686)
=================================================================
System uname: 2.6.15-gentoo-r5-Gentoo-moon_04 i686 AMD Athlon(tm) 4 Processor
Gentoo Base System version 1.12.0_pre16
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632)
[disabled]
dev-lang/python:     2.3.5, 2.4.2-r1
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1-r1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r3
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium3 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env
/usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3.5/env
/usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config
/var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/texmf/web2c /etc/env.d"
CXXFLAGS="-O2 -march=pentium3 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks keeptemp keepwork noclean sandbox sfperms
strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org
http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LANG="en_GB"
LC_ALL="en_GB"
MAKEOPTS="-j2"
PKGDIR="/tmp"
PORTAGE_TMPDIR="/mnt/big"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="x86 X a52 aac aalib acpi aim alsa amuled apache2 apic apm arts audiofile
avi bash-completion berkdb bidi binfilter bitmap-fonts bl bonjour bootsplash
cdda cdparanoia cdr cjk cmov cpudetection crypt cups curl cx8 dbus de dga
directfb doc dts dv dvb dvd dvdread dynamic eds emboss encode esd ethereal
examples fbcon ffmpeg flac flash foomaticdb fortran fping fpu freetype fxsr
gdbm ggi gif gnome gnutls gpm gs gstreamer gtk gtk2 httpd i8x0 icq idea idn
ieee1394 imagemagick imlib ipv6 irc jabber jack java javascript jpeg kde lcms
libcaca libg++ libwww lirc listentcp live lj logrotate lzo mad mca mce mikmod
mmx mmxext mono motif mozcalendar mp3 mpeg mplayer msn msr mtrr mtyhtv ncurses
network nls no-htdocs nsplugin offensive ogg oggvorbis opengl oss pae pam pat
pdflib perl pge png pse pse36 python qt quicktime rar readline real rss rtc
samba screen sdl sensord sep silc skey skins sndfile speex spell sse ssl stream
subtitles svg svga swat symlink tcpd tga theora threads tiff truetype
truetype-fonts tsc type1-fonts unicode urandom usb v4l v4l2 vcd vim vlm vme
vorbis win32codecs wmf wxwindows xanim xinerama xml2 xmms xosd xscreensaver xv
xvid xvmc yahoo zeroconf zlib elibc_glibc kernel_linux userland_GNU"
Unset:  ASFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, LDFLAGS, LINGUAS

*******************************************************************

bits of strace:

stat64("/home/dhp/.gkrellm2/themes/dirtchamber/mail/decal_mail.png", 0xbfb44bdc) = -1 ENOENT (No such file or directory)
stat64("/home/dhp/.gkrellm2/themes/dirtchamber/mail/decal_mail.jpg", 0xbfb44bdc) = -1 ENOENT (No such file or directory)
stat64("/home/dhp/.gkrellm2/themes/dirtchamber/mail/decal_mail.xpm", 0xbfb44bdc) = -1 ENOENT (No such file or directory)
stat64("/home/dhp/.gkrellm2/themes/dirtchamber/mail/decal_mail.gif", 0xbfb44bdc) = -1 ENOENT (No such file or directory)
open("/dev/radio", O_RDONLY)            = 9
ioctl(9, SONYPI_IOCGBAT2CAP or VIDIOCGTUNER, 0xbfb44ce0) = 0
ioctl(9, VIDIOCGAUDIO, 0xbfb44cf0)      = 0
gettimeofday({1141322260, 42751}, NULL) = 0
ioctl(9, VIDIOCGAUDIO, 0xbfb44ce0)      = 0
ioctl(9, VIDIOCSAUDIO, 0xbfb44ce0)      = 0
ioctl(9, VIDIOCSFREQ <unfinished ...>
+++ killed by SIGSEGV +++
Process 4854 detached

****************************************************

This bug is a fork of http://bugs.gentoo.org/show_bug.cgi?id=124651




Comment 1


DEMAINE Benoît-Pierre, aka DoubleHP





          2006-03-02 10:02:45 UTC
        

bug fades away when I remove line

radio.so

from
~/.gkrellm2/plugin_enable

dhp@moon_gen:~$ ls -alh /dev/radio
lrwxrwxrwx 1 root root 11 2006-03-02 11:25 /dev/radio -> /dev/radio0
dhp@moon_gen:~$ ls -alh /dev/radio0
lrwxrwxrwx 1 root root 10 2006-03-02 11:25 /dev/radio0 -> v4l/radio0
dhp@moon_gen:~$ ls -alh /dev/v4l/radio0
crw-rw---- 1 root video 81, 64 2005-12-22 13:54 /dev/v4l/radio0
dhp@moon_gen:~$ cat /dev/v4l/radio0
cat: /dev/v4l/radio0: Invalid argument
dhp@moon_gen:~$ id
uid=1000(dhp) gid=1000(dhp)
groups=6(disk),10(wheel),18(audio),19(cdrom),26(tape),27(video),35(games),85(usb),100(users),250(portage),1000(dhp)




Comment 2


Jim Ramsay (lack) (RETIRED)






          2007-02-23 15:14:52 UTC
        

Unfortunately I have no radio card to replicate this problem.  gkrellm2 runs fine with the radio plugin installed and enabled, but of course anything I try to do says "Could not open /dev/radio".  I suspect that it would be an incompatibility between the gkrellm-radio plugin an the kernel's /dev/radio interface.

Could you please verify that this problem still exists with the latest kernel/gkrellm/gkrellm-radio versions available, and record the versions of kernel and gkrellm-radio you used for testing in this bug?




Comment 3


DEMAINE Benoît-Pierre, aka DoubleHP





          2007-02-24 15:09:08 UTC
        

reinstalled compleetely my gentoo (new hdd), pluged the radio again, can not replicate the problem either: gkrellm does not have anymore this strange behaviour.

=> WORKSFORME.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

