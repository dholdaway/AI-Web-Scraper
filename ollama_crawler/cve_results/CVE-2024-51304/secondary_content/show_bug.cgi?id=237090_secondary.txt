Title: 237090 – iwl4965 does not work with kernel 2.6.25-r7
URL: https://bugs.gentoo.org/show_bug.cgi?id=237090

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 237090
iwl4965 does not work with kernel 2.6.25-r7
Last modified: 2008-09-09 15:33:56 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 237090 
      - iwl4965 does not work with kernel 2.6.25-r7


Summary:
iwl4965 does not work with kernel 2.6.25-r7
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Unspecified

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       blocker
      


Assignee:

Gentoo Kernel Bug Wranglers and Kernel Maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-09-08 19:21 UTC by John





      Modified:
    
2008-09-09 15:33 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




/proc/config.gz

              (c,46.90 KB,
                text/plain)

            
2008-09-08 19:22 UTC,

            John




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


John





          2008-09-08 19:21:24 UTC
        

When upgrading to kernel 2.6.25-gentoo-r7 from 2.6.23-gentoo-r6 iwl4965 stopped working. I then tried compat-wireless-2.6-old, but the result was the same. I emerged net-wireless/iwl4965-ucode-228.57.1.21 which didn't help either. I searched bugzilla and found some similar bugs. According to them, I compiled all crypto modules into the kernel (also added many not checked before). The result is always the same:

iwl3945: Intel(R) PRO/Wireless 3945ABG/BG Network Connection driver for Linux, 1.2.26k
iwl3945: Copyright(c) 2003-2008 Intel Corporation
iwl4965: Intel(R) Wireless WiFi Link 4965AGN driver for Linux, 1.3.27ks
iwl4965: Copyright(c) 2003-2008 Intel Corporation
ACPI: PCI Interrupt 0000:06:00.0[A] -> GSI 18 (level, low) -> IRQ 18
PCI: Setting latency timer of device 0000:06:00.0 to 64
iwl4965: Detected Intel Wireless WiFi Link 4965AGN REV=0x4
iwl4965: Tunable channels: 13 802.11bg, 19 802.11a channels
phy0: Selected rate control algorithm 'iwl-4965-rs'
phy0: Failed to initialize wep
iwl4965: Failed to register hw (error -12)
iwl4965: probe of 0000:06:00.0 failed with error -12

emerge -info:
=============

Portage 2.1.4.4 (default-linux/x86/2007.0, gcc-4.1.2, glibc-2.6.1-r0, 2.6.25-gentoo-r7 i686)
=================================================================
System uname: 2.6.25-gentoo-r7 i686 Intel(R) Core(TM)2 Duo CPU T7300 @ 2.00GHz
Timestamp of tree: Thu, 04 Sep 2008 19:04:01 +0000
ccache version 2.4 [disabled]
app-shells/bash:     3.2_p33
dev-java/java-config: 1.3.7, 2.1.6
dev-lang/python:     2.4.4-r13, 2.5.2-r6
dev-python/pycrypto: 2.0.1-r6
dev-util/ccache:     2.4-r7
sys-apps/baselayout: 1.12.11.1
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.61-r2
sys-devel/automake:  1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.1
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.23-r3
ACCEPT_KEYWORDS="x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O3 -march=i686 -pipe -w"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/config"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/revdep-rebuild /etc/splash /etc/terminfo /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-O3 -march=i686 -pipe -w"
DISTDIR="/usr/portage/distfiles"
FEATURES="distlocks metadata-transfer sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://ftp.snt.utwente.nl/pub/os/linux/gentoo"
LANG="en_US"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="3dnow 7zip X Xaw3d a52 aac aalib acl acpi adabas addbookmarks administrator ads alsa amarok amavis amazon amd amr amrnb amrwb animgif ao apidocs archive arts artswrappersuid aspell async audacious audiofile automount avahi backtrace bash-completion bcp beagle berkdb binary binfilter bjam bluetooth boehm-gc boost cairo cdda cddb cdparanoia ch cli colordiff connectionstatus contactnotes cpudetection cracklib crypt css cups cupsddk curl curlwrappers cxx dbase dbm dbox2 dbus dbx de_tvtoday dga dia doc docbook dot dri dv dvb dvd dvdarchive dvdchapjump dvdr dvdread enca encode enscript expat fat festival firebird flac flash fltk fontconfig fontforge foomaticdb fortran freesound gcdmaster gcj gcrypt gdbm gif gimp gmedia gpg gpm gps graphviz grub gs hal hddtemp hdhomerun hifieq highlight html htmlhandbook icons iconv icq icu id3 id3tag idea imagemagick imaging imlib imlib2 inifile inkjar iodbc ipv6 isdnlog jabber jack javascript jpeg jpeg2k juju kde kdepim kdm kexi kig-scripting kino kipi kpathsea ktts laptop latex lcd lcms ldap ldap-sasl libcaca libnotify libssh2 liemikuutio lighttpd linux-smp-stats lirc lircsettings livebuffer lm_sensors login-watch logitech-mouse lua lyx lzo lzw m17n-lib mad mcal mdnsresponder-compat metric midi mixer mjpeg mmap mmkeys mmx mmxext mng monolithic-build motif mouse mp2 mp3 mp4 mp4live mpeg mpeg2 mpi mplayer msql mudflap multiprocess multitarget multiuser mysql mysqli mythtv nano-syntax nas ncurses network networkmanager nfs nids nls nntp nptl nptlonly nsplugin ntfs obex oci8-instant-client ocrad odbc ogg ogg123 opengl openmp pam paste64 pch pcre perl pgf pixmaps plotutils pmount pmu png postscript ppds pppd pvr python qdbm qt3 qt3support qt4 qtdesigner quicktime readline real realmedia recode reflection rss rtf ruby rubytests samba scanner session setup slang slp smp sms sndfile soap sound soundex soundtouch speech speex spell spl sql sqlite sqlite3 sse sse2 ssh ssl ssse3 statistics stream submenu subtitles subversion svg svga svk symlink sysfs syslog tcl tcpd tesseract test-programs tetex tex4ht texteffect threads threadsafe thunderbird tidy tiff timidity tivo tk tls tools totem tpctl tpctlir transcode translator transmitter transparent-proxy truetype tta tv tv_check tv_combiner unicode unzip upnp urlpicpreview usb utempter v4l v4l2 valgrind validinput vamp vcd vcdx vdr video visual visualization vnc vncviewer voice volctrl vorbis vorbis-psy webdav-neon webdav-serf webinstall webinterface wifi win32codecs winpopup wma wmf wmp workbench wxwindows x264 x86 xattr xbase xcf xetex xext xine xinetd xml xmlrpc xorg xplanet xpm xrender xscreensaver xsl xslt xterm xv xvid xvmc yahoo zeroconf zip zip-external zlib zvbi"
ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1 emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci"
ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" 
APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias"
ELIBC="glibc" 
INPUT_DEVICES="keyboard mouse evdev" 
KERNEL="linux" 
LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" 
USERLAND="GNU" VIDEO_CARDS="i810 i915 vesa vga"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LC_ALL, LDFLAGS, LINGUAS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY




Comment 1


John





          2008-09-08 19:22:12 UTC
        

Created attachment 164948 [details]
/proc/config.gz




Comment 2


Mike Pagano






          2008-09-09 15:08:18 UTC
        

Please test with gentoo-sources-2.6.26-r1. If you have the same problem, please test with a development kernel (latest git-sources)




Comment 3


John





          2008-09-09 15:33:56 UTC
        

Funny, now it works, but I can't say what I have changed. I remember only that I copied the config from 2.6.23, did an oldconfig, rechecked everything about iwl4965, cleared the ccache, deleted the updates module directory and rebuilt everything with genkernel.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

