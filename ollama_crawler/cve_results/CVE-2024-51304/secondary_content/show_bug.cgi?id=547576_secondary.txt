Title: 547576 – dev-tex/svninfo-0.7.4 : grep: cmr17.log: No such file or directory
URL: https://bugs.gentoo.org/show_bug.cgi?id=547576

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 547576
dev-tex/svninfo-0.7.4 : grep: cmr17.log: No such file or directory
Last modified: 2016-09-23 08:36:23 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 547576 
      - dev-tex/svninfo-0.7.4 : grep: cmr17.log: No such file or directory


Summary:
dev-tex/svninfo-0.7.4 : grep: cmr17.log: No such file or directory
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

TeX project








URL:







Whiteboard:




Keywords:









Duplicates (2):
    

547138 594788

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2015-04-24 12:08 UTC by Toralf Förster





      Modified:
    
2016-09-23 08:36 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



dev-portage









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge log

              (dev-tex-svninfo-0.7.4-20150423-233531.log,7.56 KB,
                text/plain)

            
2015-04-24 12:08 UTC,

            Toralf Förster




Details





emerge log of dev-tex/envlab

              (dev-tex-envlab-1.2-r1-20150718-152012.log,4.07 KB,
                text/plain)

            
2015-07-18 15:47 UTC,

            Toralf Förster




Details





package history of dev-tex/envlab

              (dev-tex-envlab-1.2-r1-20150718-152012.pks,359.62 KB,
                text/plain)

            
2015-07-18 15:47 UTC,

            Toralf Förster




Details





emerge log dev-scheme/slib-3.1.5-r1

              (dev-scheme-slib-3.1.5-r1-20150719-083456.log,10.79 KB,
                text/plain)

            
2015-07-19 08:48 UTC,

            Toralf Förster




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Toralf Förster






          2015-04-24 12:08:10 UTC
        

Created attachment 401914 [details]
emerge log

) ) )
No pages of output.
Transcript written on svninfo.log.
latex svninfo.dtx
This is pdfTeX, Version 3.14159265-2.6-1.40.15 (TeX Live 2014) (preloaded format=latex)
 restricted \write18 enabled.
entering extended mode
(./svninfo.dtx
LaTeX2e <2014/05/01>
Babel <3.9l> and hyphenation patterns for 2 languages loaded.
(/usr/share/texmf-dist/tex/latex/base/article.cls
Document Class: article 2007/10/19 v1.4h Standard LaTeX document class
(/usr/share/texmf-dist/tex/latex/base/size10.clo))
(/usr/share/texmf-dist/tex/latex/base/doc.sty
(/usr/share/texmf-dist/tex/latex/tools/multicol.sty)) (./svninfo.sty
(./svninfo.cfg) (/usr/share/texmf-dist/tex/latex/base/ifthen.sty))
Writing glossary file svninfo.glo 
Writing index file svninfo.idx
No file svninfo.aux.
(./svninfo.dtx
kpathsea: Running mktextfm cmr17
/usr/share/texmf-dist/web2c/mktexnam: Could not map source abbreviation  for cmr17.
/usr/share/texmf-dist/web2c/mktexnam: Need to update ?
mktextfm: Running mf-nowin -progname=mf \mode:=ljfour; mag:=1; nonstopmode; input cmr17
This is METAFONT, Version 2.7182818 (TeX Live 2014) (preloaded base=mf)

kpathsea: Running mktexfmt mf.base
I can't find the base file `mf.base'!
grep: cmr17.log: No such file or directory
mktextfm: `mf-nowin -progname=mf \mode:=ljfour; mag:=1; nonstopmode; input cmr17' failed to make cmr17.tfm.
kpathsea: Appending font creation commands to missfont.log.

! Font OT1/cmr/m/n/17.28=cmr17 at 17.28pt not loadable: Metric (TFM) file not f
ound.
<to be read again> 
                   relax 
l.111 % \maketitle
                  
? 
! Emergency stop.
<to be read again> 
                   relax 
l.111 % \maketitle
                  
No pages of output.
Transcript written on svninfo.log.
Makefile:50: recipe for target 'svninfo.dvi' failed
make: *** [svninfo.dvi] Error 1
emake failed
 * ERROR: dev-tex/svninfo-0.7.4::gentoo failed (compile phase):
 *   compilation failed
 * 
 * Call stack:
 *     ebuild.sh, line  93:  Called src_compile
 *   environment, line 2140:  Called die
 * The specific snippet of code:
 *       emake -j1 || die "compilation failed"
 * 
 * If you need support, post the output of `emerge --info '=dev-tex/svninfo-0.7.4::gentoo'`,
 * the complete build log and the output of `emerge -pqv '=dev-tex/svninfo-0.7.4::gentoo'`.
 * The complete build log is located at '/var/log/portage/dev-tex:svninfo-0.7.4:20150423-233531.log'.
 * For convenience, a symlink to the build log is located at '/var/tmp/portage/dev-tex/svninfo-0.7.4/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/dev-tex/svninfo-0.7.4/temp/environment'.
 * Working directory: '/var/tmp/portage/dev-tex/svninfo-0.7.4/work/svninfo-0.7.4'
 * S: '/var/tmp/portage/dev-tex/svninfo-0.7.4/work/svninfo-0.7.4'

The log is stored in /var/log/portage/_emerge_20150424-013533.log.
quick search: https://bugs.gentoo.org/buglist.cgi?quicksearch=dev-tex%2Fsvninfo
Maintainer :  tex@gentoo.org
maintainer : 
herd       : tex

This is an unstable amd64 chroot image (named amd64-unstable-libtool_20150422) at a hardened host acting as a tinderbox.

Portage 2.2.18 (python 2.7.9-final-0, default/linux/amd64/13.0/desktop/kde, gcc-4.9.2, glibc-2.20-r2, 3.19.5-hardened x86_64)
=================================================================
System uname: Linux-3.19.5-hardened-x86_64-Intel-R-_Core-TM-_i7-3770_CPU_@_3.40GHz-with-gentoo-2.2
KiB Mem:    16164756 total,   2075132 free
KiB Swap:          0 total,         0 free
Timestamp of repository gentoo: Thu, 23 Apr 2015 16:15:01 +0000
sh bash 4.3_p33-r2
ld GNU ld (Gentoo 2.25 p1.1) 2.25
app-shells/bash:          4.3_p33-r2::gentoo
dev-java/java-config:     2.2.0::gentoo
dev-lang/perl:            5.20.2::gentoo
dev-lang/python:          2.7.9-r2::gentoo, 3.3.5-r1::gentoo
dev-util/cmake:           3.2.1::gentoo
dev-util/pkgconfig:       0.28-r2::gentoo
sys-apps/baselayout:      2.2::gentoo
sys-apps/openrc:          0.13.11::gentoo
sys-apps/sandbox:         2.6-r1::gentoo
sys-devel/autoconf:       2.69-r1::gentoo
sys-devel/automake:       1.11.6-r1::gentoo, 1.12.6::gentoo, 1.13.4::gentoo, 1.14.1::gentoo, 1.15::gentoo
sys-devel/binutils:       2.25::gentoo
sys-devel/gcc:            4.8.4::gentoo, 4.9.2::gentoo
sys-devel/gcc-config:     1.8::gentoo
sys-devel/libtool:        2.4.6-r1::gentoo
sys-devel/make:           4.1-r1::gentoo
sys-kernel/linux-headers: 4.0::gentoo (virtual/os-headers)
sys-libs/glibc:           2.20-r2::gentoo
Repositories:

local
    location: /usr/local/portage
    masters: gentoo

gentoo
    location: /usr/portage
    sync-type: rsync
    sync-uri: rsync://rsync.de.gentoo.org/gentoo-portage
    priority: 9999

ACCEPT_KEYWORDS="amd64 ~amd64"
ACCEPT_LICENSE="*"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=native -O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/config /usr/share/gnupg/qualified.txt /var/lib/hsqldb"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/dconf /etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php5.6/ext-active/ /etc/php/cgi-php5.6/ext-active/ /etc/php/cli-php5.6/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c"
CXXFLAGS="-march=native -O2 -pipe"
DISTDIR="/var/tmp/distfiles"
EMERGE_DEFAULT_OPTS="--nospinner --tree --quiet-build --jobs 1"
FCFLAGS="-O2 -pipe"
FEATURES="assume-digests binpkg-logs config-protect-if-modified distlocks ebuild-locks fixlafiles merge-sync news parallel-fetch preserve-libs protect-owned sandbox sfperms strict unknown-features-warn unmerge-logs unmerge-orphans userfetch userpriv usersandbox usersync"
FFLAGS="-O2 -pipe"
GENTOO_MIRRORS="http://ftp.uni-erlangen.de/pub/mirrors/gentoo rsync://mirror.netcologne.de/gentoo/ ftp://sunsite.informatik.rwth-aachen.de/pub/Linux/gor.bytemark.co.uk/gentoo/ rsync://ftp.snt.utwente.nl/gentoo"
LANG="en_US.utf8"
LDFLAGS="-Wl,-O1 -Wl,--as-needed"
MAKEOPTS="-j1"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --omit-dir-times --compress --force --whole-file --delete --stats --human-readable --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
USE="X a52 aac acl acpi aes-ni alsa amd64 apache2 avx avx2 berkdb bluetooth branding bzip2 cairo cdda cdr cli consolekit corefonts cracklib crypt cups cxx dbus declarative designer dnssec dot dri drmkms dts dvd dvdr ecc emboss encode exif extraengine fam ffmpeg firefox flac fontconfig fortran fpm gd gdbm gif glamor gpm gtk gudev gui iconv icu isag jadetex jpeg kde kipi kvm lapack lcms libkms libnotify libvirtd logrotate mad mbox minizip mmx mmxext mng modules mp3 mp4 mpeg multilib mysql ncurses nls nptl ogg opengl openmp openssl pam pango pax_kernel pcre pcre16 pdf phonon plasma png policykit ppds pwquality python qemu qt3support qt4 readline scrpyt sdl session spell spice sqlite sse sse2 sse4 sse4_1 sse4_2 ssh-askpass ssl ssse3 startup-notification svg tcpd theora thinkpad threads tiff tk tls truetype udev udisks uml unicode upower usb usbredir uxa v4l v4l2 video vorbis wxwidgets x264 xa xcb xcomposite xinerama xkb xml xmp xscreensaver xslt xv xvfb xvid xvmc zenmap zlib" ABI_X86="64" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" APACHE2_MODULES="authn_core authz_core socache_shmcb unixd actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cgi cgid dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CALLIGRA_FEATURES="kexi words flow plan sheets stage tables krita karbon braindump author" CAMERAS="ptp2" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" CPU_FLAGS_X86="aes avx mmx mmxext popcnt sse sse2 sse3 sse4_1 sse4_2 ssse3" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock itrax mtk3301 nmea ntrip navcom  oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf superstar2 timing tsip tripmate tnt ublox ubx" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LIBREOFFICE_EXTENSIONS="presenter-console presenter-minimizer" LINGUAS="en en_GB" OFFICE_IMPLEMENTATION="libreoffice" PHP_TARGETS="php5-5" PYTHON_SINGLE_TARGET="python2_7" PYTHON_TARGETS="python2_7 python3_3" RUBY_TARGETS="ruby19 ruby20" USERLAND="GNU" VIDEO_CARDS="fbdev glint intel mach64 mga nouveau nv r128 radeon savage sis tdfx trident vesa via vmware dummy v4l" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account"
Unset:  CPPFLAGS, CTARGET, INSTALL_MASK, LC_ALL, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, USE_PYTHON




Comment 1


Alexis Ballier






          2015-07-16 13:51:24 UTC
        

$ portageq metadata / ebuild dev-tex/svninfo-0.7.4 DEPEND
virtual/latex-base >=sys-apps/texinfo-4.2-r5

$ portageq metadata / ebuild virtual/latex-base-1.0 RDEPEND
dev-texlive/texlive-latexrecommended dev-texlive/texlive-fontutils

$ portageq metadata / ebuild dev-texlive/texlive-latexrecommended-2015 RDEPEND
>=dev-texlive/texlive-latex-2015 !dev-tex/xkeyval !dev-tex/memoir !dev-tex/listings !<dev-texlive/texlive-latexextra-2011 !=app-text/texlive-core-2007* !<dev-texlive/texlive-xetex-2015 !dev-texlive/texlive-latex3 !<dev-texlive/texlive-humanities-2014 >=app-text/texlive-core-2015

$ portageq metadata / ebuild dev-texlive/texlive-latex-2015 RDEPEND
>=dev-texlive/texlive-basic-2015 !<dev-texlive/texlive-context-2010 !<dev-texlive/texlive-latexrecommended-2014 >=app-text/texlive-core-2015


$ equery belongs mf.base
 * Searching for mf.base ... 
dev-texlive/texlive-basic-2015 (/var/lib/texmf/web2c/metafont/mf.base)


and your log says:
kpathsea: Running mktexfmt mf.base
I can't find the base file `mf.base'!


so i guess there's a problem with your install




Comment 2


Alexis Ballier






          2015-07-16 13:56:36 UTC
        

*** Bug 547138 has been marked as a duplicate of this bug. ***




Comment 3


Toralf Förster






          2015-07-18 15:47:38 UTC
        

Created attachment 407084 [details]
emerge log of dev-tex/envlab

I do have a similar issue now at another chroot image of the tinderbox - I guess, this issue is repoducible, although not often


  -----------------------------------------------------------------

  This is an stable amd64 chroot image (named amd64-stable_20150713-232025) at a hardened host acting as a tinderbox.

Portage 2.2.20 (python 2.7.9-final-0, default/linux/amd64/13.0/desktop/kde, gcc-4.8.4, glibc-2.20-r2, 4.0.8-hardened x86_64)
=================================================================
System uname: Linux-4.0.8-hardened-x86_64-Intel-R-_Core-TM-_i7-3770_CPU_@_3.40GHz-with-gentoo-2.2
KiB Mem:    16164692 total,   1602776 free
KiB Swap:          0 total,         0 free
Timestamp of repository gentoo: Sat, 18 Jul 2015 13:45:01 +0000
sh bash 4.3_p33-r2
ld GNU ld (Gentoo 2.24 p1.4) 2.24
app-shells/bash:          4.3_p33-r2::gentoo
dev-java/java-config:     2.2.0::gentoo
dev-lang/perl:            5.20.2::gentoo
dev-lang/python:          2.7.9-r1::gentoo, 3.3.5-r1::gentoo
dev-util/cmake:           3.2.2::gentoo
dev-util/pkgconfig:       0.28-r2::gentoo
sys-apps/baselayout:      2.2::gentoo
sys-apps/openrc:          0.17::gentoo
sys-apps/sandbox:         2.6-r1::gentoo
sys-devel/autoconf:       2.13::gentoo, 2.69::gentoo
sys-devel/automake:       1.9.6-r4::gentoo, 1.10.3-r1::gentoo, 1.11.6-r1::gentoo, 1.12.6::gentoo, 1.13.4::gentoo, 1.14.1::gentoo, 1.15::gentoo
sys-devel/binutils:       2.24-r3::gentoo
sys-devel/gcc:            4.8.4::gentoo
sys-devel/gcc-config:     1.7.3::gentoo
sys-devel/libtool:        2.4.6::gentoo
sys-devel/make:           4.1-r1::gentoo
sys-kernel/linux-headers: 3.18::gentoo (virtual/os-headers)
sys-libs/glibc:           2.20-r2::gentoo
Repositories:

local
    location: /usr/local/portage
    masters: gentoo

gentoo
    location: /usr/portage
    sync-type: rsync
    sync-uri: rsync://rsync.gentoo.org/gentoo-portage
    priority: 9999

ACCEPT_KEYWORDS="amd64"
ACCEPT_LICENSE="*"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=native -O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /etc/stunnel/stunnel.conf /usr/lib64/fax /usr/share/config /usr/share/easy-rsa /usr/share/gnupg/qualified.txt /var/lib/hsqldb /var/spool/fax/etc /var/spool/torque /var/yp/Makefile"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c"
CXXFLAGS="-march=native -O2 -pipe"
DISTDIR="/var/tmp/distfiles"
EMERGE_DEFAULT_OPTS="--nospinner --tree --quiet-build"
FCFLAGS="-O2 -pipe"
FEATURES="assume-digests binpkg-logs config-protect-if-modified distlocks ebuild-locks fixlafiles ipc-sandbox merge-sync network-sandbox news parallel-fetch preserve-libs protect-owned sandbox sfperms strict unknown-features-warn unmerge-logs unmerge-orphans userfetch userpriv usersandbox usersync"
FFLAGS="-O2 -pipe"
GENTOO_MIRRORS="http://ftp.uni-erlangen.de/pub/mirrors/gentoo rsync://mirror.netcologne.de/gentoo/ ftp://sunsite.informatik.rwth-aachen.de/pub/Linux/gor.bytemark.co.uk/gentoo/ rsync://ftp.snt.utwente.nl/gentoo"
LANG="en_US.utf8"
LDFLAGS="-Wl,-O1 -Wl,--as-needed"
MAKEOPTS="-j1"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --omit-dir-times --compress --force --whole-file --delete --stats --human-readable --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
USE="X a52 aac acl acpi aes-ni amd64 apache2 avx avx2 berkdb bluetooth branding btrfs bzip2 cairo cdda cdr cgi cli consolekit corefonts cracklib crypt cups cxx dbus declarative designer dnssec dot dri drmkms dts dvd dvdr ecc emboss encode exif extraengine fam firefox flac fpm gdbm glamor gpm gtk gudev gui iconv icu imap inifile introspection jadetex kde kipi kvm lapack lcms libkms libnotify logrotate mad mbox minizip mmx mmxext mng modules mp3 mp4 mpeg multilib mysqli ncurses nls nptl ogg opencv opengl openmp pam pango pax_kernel pcre pcre16 pdf pdo phonon plasma policykit ppds pwquality python qml qt3support qt4 qt5 readline sdl session spell spice sqlite sqlite3 sse sse2 sse4 sse4_1 sse4_2 ssl ssse3 startup-notification svg tcpd theora threads tiff tk tls truetype udev udisks uml unicode upower usb usbredir v4l video wxwidgets x264 xa xcb xcomposite xinerama xkb xml xslt xv xvfb xvid xvmc zenmap zlib" ABI_X86="64" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" APACHE2_MODULES="authn_core authz_core socache_shmcb unixd actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cgi cgid dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CALLIGRA_FEATURES="kexi words flow plan sheets stage tables krita karbon braindump author" CAMERAS="ptp2" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" CPU_FLAGS_X86="aes avx mmx mmxext popcnt sse sse2 sse3 sse4_1 sse4_2 ssse3" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf superstar2 timin g tsip tripmate tnt ublox ubx" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LIBREOFFICE_EXTENSIONS="presenter-console presenter-minimizer" LINGUAS="en en_GB" OFFICE_IMPLEMENTATION="libreoffice" PHP_TARGETS="php5-5" PYTHON_SINGLE_TARGET="python2_7" PYTHON_TARGETS="python2_7 python3_3" RUBY_TARGETS="ruby19 ruby20" USERLAND="GNU" VIDEO_CARDS="fbdev glint intel mach64 mga nouveau nv r128 radeon savage sis tdfx trident vesa via vmware dummy v4l" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account"
Unset:  CPPFLAGS, CTARGET, INSTALL_MASK, LC_ALL, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, USE_PYTHON




Comment 4


Toralf Förster






          2015-07-18 15:47:57 UTC
        

Created attachment 407086 [details]
package history of dev-tex/envlab




Comment 5


Alexis Ballier






          2015-07-18 16:13:59 UTC
        

there is a problem with your scripts I think

with the current dependency chain, I think the following will happen, which should be handled by your scripts since it is normal portage behavior:

emerge latex-base
emerge -C texlive-basic
emerge envlab will not pull in texlive-basic since latex-base is satisfied even if its RDEPEND chain is broken.




Comment 6


Toralf Förster






          2015-07-18 16:51:33 UTC
        

(In reply to Alexis Ballier from comment #5)
> there is a problem with your scripts I think

same at the command line :
tor-relay / # emerge -1 latex-base

These are the packages that would be merged, in reverse order:

Calculating dependencies  . ... done!
[ebuild   R    ] virtual/latex-base-1.0 

>>> Verifying ebuild manifests
>>> Emerging (1 of 1) virtual/latex-base-1.0::gentoo
>>> Installing (1 of 1) virtual/latex-base-1.0::gentoo
>>> Jobs: 1 of 1 complete                           Load avg: 9.30, 6.89, 5.70
>>> Auto-cleaning packages...

>>> No outdated packages were found on your system.                                                                               
                                                                                                                                  
 * GNU info directory index is up-to-date.                                                                                        
tor-relay / # emerge -C texlive-basic                                                                                             
 * This action can remove important packages! In order to be safer, use                                                           
 * `emerge -pv --depclean <atom>` to check for reverse dependencies before                                                        
 * removing packages.                                                                                                             
                                                                                                                                  
--- Couldn't find 'texlive-basic' to unmerge.                                                                                     
                                                                                                                                  
>>> No packages selected for removal by unmerge                                                                                   
tor-relay / # emerge -1 envlab                                                                                                    
                                                                                                                                  
These are the packages that would be merged, in reverse order:                                                                    
                                                                                                                                  
Calculating dependencies  ... done!                                                                                               
[ebuild  N     ] dev-tex/envlab-1.2-r1                                                                                            
                                                                                                                                  
>>> Verifying ebuild manifests                                                                                                    
>>> Emerging (1 of 1) dev-tex/envlab-1.2-r1::gentoo
>>> Failed to emerge dev-tex/envlab-1.2-r1, Log file:
>>>  '/var/log/portage/dev-tex:envlab-1.2-r1:20150718-165112.log'
>>> Jobs: 0 of 1 complete, 1 failed                 Load avg: 5.80, 6.29, 5.55
 * Package:    dev-tex/envlab-1.2-r1                                                                                              
 * Repository: gentoo                                                                                                             
 * Maintainer: tex@gentoo.org                                                                                                     
 * USE:        abi_x86_64 amd64 elibc_glibc kernel_linux policykit userland_GNU
 * FEATURES:   preserve-libs sandbox userpriv usersandbox
>>> Unpacking source...
>>> Unpacking envlab-1.2.tar.gz to /var/tmp/portage/dev-tex/envlab-1.2-r1/work
>>> Source unpacked in /var/tmp/portage/dev-tex/envlab-1.2-r1/work
>>> Compiling source in /var/tmp/portage/dev-tex/envlab-1.2-r1/work/envlab ...
 * Compiling envlab ...
This is pdfTeX, Version 3.14159265-2.6-1.40.15 (TeX Live 2014) (preloaded format=latex)
 restricted \write18 enabled.
entering extended mode
(./envlab.ins
LaTeX2e <2014/05/01>
Babel <3.9l> and hyphenation patterns for 11 languages loaded.
(/usr/share/texmf-dist/tex/latex/base/docstrip.tex
Utility: `docstrip' 2.5d <2005/07/29>
English documentation    <2014/04/19>

**********************************************************
* This program converts documented macro-files into fast *
* loadable files by stripping off (nearly) all comments! *
**********************************************************

********************************************************
* No Configuration file found, using default settings. *
********************************************************

(./envlab.ins

Generating file(s) ./envlab.drv ./envlab.sty ./envlab.cfg 

Processing file envlab.dtx (driver) -> envlab.drv
                           (package) -> envlab.sty
                           (cfg) -> envlab.cfg
File envlab.dtx ended by \endinput.
Lines  processed: 1757
Comments removed: 1080
Comments  passed: 24
Codelines passed: 635

) ) )
No pages of output.
Transcript written on envlab.log.
This is pdfTeX, Version 3.14159265-2.6-1.40.15 (TeX Live 2014) (preloaded format=pdflatex)
 restricted \write18 enabled.
entering extended mode
(./elguide.tex
LaTeX2e <2014/05/01>
Babel <3.9l> and hyphenation patterns for 11 languages loaded.
(/usr/share/texmf-dist/tex/latex/base/ltxguide.cls
Document Class: ltxguide 2001/05/28 Standard LaTeX class
(/usr/share/texmf-dist/tex/latex/base/article.cls
Document Class: article 2007/10/19 v1.4h Standard LaTeX document class
(/usr/share/texmf-dist/tex/latex/base/size10.clo))
(/usr/share/texmf-dist/tex/latex/base/shortvrb.sty))
No file elguide.aux.

kpathsea: Running mktextfm cmr17
/usr/share/texmf-dist/web2c/mktexnam: Could not map source abbreviation  for cmr17.
/usr/share/texmf-dist/web2c/mktexnam: Need to update ?
mktextfm: Running mf-nowin -progname=mf \mode:=ljfour; mag:=1; nonstopmode; input cmr17
This is METAFONT, Version 2.7182818 (TeX Live 2014) (preloaded base=mf)

kpathsea: Running mktexfmt mf.base
I can't find the base file `mf.base'!
grep: cmr17.log: No such file or directory
mktextfm: `mf-nowin -progname=mf \mode:=ljfour; mag:=1; nonstopmode; input cmr17' failed to make cmr17.tfm.
kpathsea: Appending font creation commands to missfont.log.
! Font OT1/cmr/m/n/17.28=cmr17 at 17.28pt not loadable: Metric (TFM) file not f
ound.
<to be read again>
                   relax
l.36 \maketitle

?
! Emergency stop.
<to be read again>
                   relax
l.36 \maketitle

!  ==> Fatal error occurred, no output PDF file produced!
Transcript written on elguide.log.
 * ERROR: dev-tex/envlab-1.2-r1::gentoo failed (compile phase):
 *   (no error message)
 *
 * Call stack:
 *     ebuild.sh, line  93:  Called src_compile
 *   environment, line 2160:  Called die
 * The specific snippet of code:
 *       pdflatex elguide.tex || die;
 *
 * If you need support, post the output of `emerge --info '=dev-tex/envlab-1.2-r1::gentoo'`,
 * the complete build log and the output of `emerge -pqv '=dev-tex/envlab-1.2-r1::gentoo'`.
 * The complete build log is located at '/var/log/portage/dev-tex:envlab-1.2-r1:20150718-165112.log'.
 * For convenience, a symlink to the build log is located at '/var/tmp/portage/dev-tex/envlab-1.2-r1/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/dev-tex/envlab-1.2-r1/temp/environment'.
 * Working directory: '/var/tmp/portage/dev-tex/envlab-1.2-r1/work/envlab'
 * S: '/var/tmp/portage/dev-tex/envlab-1.2-r1/work/envlab'




Comment 7


Zac Medico






          2015-07-18 17:56:45 UTC
        

(In reply to Toralf Förster from comment #6)
> tor-relay / # emerge -C texlive-basic                                       
> 
>  * This action can remove important packages! In order to be safer, use     
> 
>  * `emerge -pv --depclean <atom>` to check for reverse dependencies before  
> 
>  * removing packages.                                                       
> 
>                                                                             
> 
> --- Couldn't find 'texlive-basic' to unmerge.                               
> 
>                                                                             
> 
> >>> No packages selected for removal by unmerge                                                                                   
> tor-relay / # emerge -1 envlab                                              

If you remove packages like texlive-basic, then commands that follow need to use --deep in order to ensure that deep dependencies are satisfied.




Comment 8


Toralf Förster






          2015-07-19 08:48:06 UTC
        

Created attachment 407130 [details]
emerge log dev-scheme/slib-3.1.5-r1

At the same system I got today :

slib.texi:11714: must be after `@defmac' to use `@defmacx'
slib.texi:11721: must be after `@defmac' to use `@defmacx'
./dirs.txi:31: must be after `@defun' to use `@defunx'
./dirs.txi:36: must be after `@defun' to use `@defunx'
Makefile:253: recipe for target 'slib3a5.info' failed
make: *** [slib3a5.info] Error 1
emake failed
 * ERROR: dev-scheme/slib-3.1.5-r1::gentoo failed (install phase):
 *   infoz failed

I have added --deep now, I'm unsure if this nevertheless just another instance of a previously incomplete installation or a ral bug ?




Comment 9


Alexis Ballier






          2016-09-23 08:36:23 UTC
        

*** Bug 594788 has been marked as a duplicate of this bug. ***









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

