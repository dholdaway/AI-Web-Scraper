Title: 134282 – gnome-2.14.2 and gnome 2.14.1: keyboard indicator errors when openning preferences and choosing dvorak
URL: https://bugs.gentoo.org/show_bug.cgi?id=134282

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 134282
gnome-2.14.2 and gnome 2.14.1: keyboard indicator errors when openning preferences and choosing dvorak
Last modified: 2006-11-11 13:52:25 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 134282 
      - gnome-2.14.2 and gnome 2.14.1: keyboard indicator errors when openning preferences and choosing dvorak


Summary:
gnome-2.14.2 and gnome 2.14.1: keyboard indicator errors when openning prefer...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] GNOME

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
Highest
       major
      


Assignee:

Gentoo Linux Gnome Desktop Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:




119872



 

        Show dependency tree





 





      Reported:
    
2006-05-24 19:06 UTC by Brian





      Modified:
    
2006-11-11 13:52 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



sniz









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Brian





          2006-05-24 19:06:11 UTC
        

This is with gnome 2.14.1

Expected results: no error dialogs and able to switch keymaps.

Actual results:
The first error dialog happens when I select 'open keyboard preferences' in the keyboard indicator menu.  The second error dialog happens after dismissing  the first error and adding dvorak keymap.  On subsequent attempts, I only receive error #1.  I checked and gnome-setting-daemon is running with the same process id before and after the error.  After this process I still have no option to switch to dvorak.


################ Error 1 #################################
Unable to start the settings manager 'gnome-settings-daemon'.
Without the GNOME settings manager running, some preferences
may not take effect. This could indicate a problem with Bonobo,
or a non-GNOME (e.g. KDE) settings manager may already be active
and conflicting with the GNOME settings manager.
###########################################################

##################### Error 2 ############################
Error activating XKB configuration.
It can happen under various circumstances:
- a bug in libxklavier library
- a bug in X server (xkbcomp, xmodmap utilities)
- X server with incompatible libxkbfile implementation

X server version data:
Gentoo Linux (The X.Org Foundation 6.8.0, revision r1-0.2.2.1)
60800000

If you report this situation as a bug, please include:
- The result of xprop -root | grep XKB
- The result of gconftool-2 -R /desktop/gnome/peripherals/keyboard/kbd
##############################################################



rcoons@x1000 ~ $ xprop -root | grep XKB
_XKB_RULES_NAMES_BACKUP(STRING) = "xorg", "pc105", "us", "", ""
_XKB_RULES_NAMES(STRING) = "xorg", "pc105", "us", "", ""


rcoons@x1000 ~ $ gconftool-2 -R /desktop/gnome/peripherals/keyboard/kbd
 layouts = [us,dvorak]
 model =
 options = [grp grp:alts_toggle]
 overrideSettings = true


############################## emerge --info ####################
x1000 lib # emerge --info
Portage 2.1_rc2-r2 (default-linux/x86/2006.0, gcc-3.4.2, glibc-2.3.4.20040808-r1, 2.6.16-gentoo-r2 i686)
=================================================================
System uname: 2.6.16-gentoo-r2 i686 Intel(R) Pentium(R) M processor 1300MHz
Gentoo Base System version 1.12.0_pre17
dev-lang/python:     2.3.4, 2.4.3-r1
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.15.92.0.2-r1
sys-devel/libtool:   1.5.2-r5
virtual/os-headers:  2.6.8.1-r1
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=pentium-m -pipe -O2 -fomit-frame-pointer -frename-registers -fprefetch-loop-arrays -falign-functions=64 -mmmx -msse2 -msse"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/X11R6/lib/X11/xkb /usr/kde/2/share/config /usr/kde/3/share/config /usr/lib/mozilla/defaults/pref /usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/ /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/eselect/compiler /etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-march=pentium-m -pipe -O2 -fomit-frame-pointer -frename-registers -fprefetch-loop-arrays -falign-functions=64 -mmmx -msse2 -msse"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer prelink sandbox sfperms strict"
GENTOO_MIRRORS="http://gentoo.cites.uiuc.edu/pub/gentoo"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.namerica.gentoo.org/gentoo-portage"
USE="X aalib acpi acpi4linux alsa apache2 avi berkdb bidi bitmap-fonts bluetooth bonobo cdparanoia cdr cli composite crypt cups curl dbus dga directfb divx4linux dri dv dvd dvdread eds emboss encode esd ethereal evo fbcon flash foomaticdb fortran gd gdbm ggi gif gimpprint gnome gphoto2 gpm gstreamer gtk gtk2 gtkhtml hal i8x0 imlib ipv6 irmc isdnlog jpeg libg++ libwww lirc live lzo mad mikmod mmx mmx2 mozdevelop mozilla moznocompose moznomail mozsvg mozxmlterm mp3 mpeg nas ncurses network nls no_wxgtk1 nojoystick nptl ogg oggvorbis opengl opie oss pam pcmcia pcre pda pdflib perl php png pnp postgres pppd python quicktime radoen readline reflection rtc samba sasl sdl session slang spell spl sse sse2 ssl svga tcpd tiff truetype truetype-fonts trusted type1-fonts udev unicode usb vorbis wavelan wmf wxwindows x86 xine xinerama xlib xml xml2 xmms xorg xosd xprint xv xvid xvmc yv12 zlib elibc_glibc input_devices_synaptics kernel_linux userland_GNU video_cards_radeon"
Unset:  ASFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTAGE_RSYNC_EXTRA_OPTS
################################################################

Let me know if I can add any info or clarify anything.  Thanks,
Brian




Comment 1


Brian





          2006-05-24 19:38:26 UTC
        

I should have added this before:
When logging into gnome I get this error (which I'll refer to as Error 0) dialog, which is probably relevant.  After I get this error the settings daemon is running though: 
rcoons   31830     1  0 21:24 ?        00:00:00 /usr/libexec/gnome-settings-daemon --oaf-activate-iid=OAFIID:GNOME_SettingsDaemon --oaf-ior-fd=25

################# Error 0 ############################################
There was an error starting the GNOME Settings Daemon.

Some things, such as themes, sounds, or background settings may not work correctly.

The Settings Daemon restarted too many times.

The last error message was:

System exception: IDL:Bonobo/GeneralError:1.0 : Child process did not give an error message, unknown failure occurred

GNOME will still try to restart the Settings Daemon next time you log in.
#########################################################################




Comment 2


Brian





          2006-05-25 13:02:54 UTC
        

Someone else got rid of 'Error 0' by doing the following:
set-language-env -E
set-language-env
set-language-env -r 
I'll try this when I get home this evening.




Comment 3


Brian





          2006-05-26 07:02:02 UTC
        

I don't even have set-language-env on my system, maybe it's for another gnome version.  I found that I can switch to dvorak with:
setxkbmap -model pc105 -layout dvorak
and back with:
setxkbmap -model pc105 -layout us
and these changes is reflected by the keyboard indicator, but I am still unable to switch the layout via the keyboard indicator itself.




Comment 4


Artem





          2006-07-12 08:43:04 UTC
        

i have to this bug
but i use x 7.0




Comment 5


Brian





          2006-08-30 18:11:22 UTC
        

Added 2.14.2 to summary since I still have it with this version of gnome.




Comment 6


Brian





          2006-09-04 18:02:17 UTC
        

Removing ~x86 from make.conf and emerge -e system; emerge -e xorg-x11; emerge -e gnome fixed my problem.  Not sure exactly which it was though.




Comment 7


Saleem Abdulrasool (RETIRED)






          2006-11-11 13:52:25 UTC
        

Marking as WORKSFORME as per comment 6









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

