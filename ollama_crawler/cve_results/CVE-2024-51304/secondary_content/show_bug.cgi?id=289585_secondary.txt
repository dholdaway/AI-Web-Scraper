Title: 289585 – gnome-extra/gnome-games-2.26.3-r1 compile failure
URL: https://bugs.gentoo.org/show_bug.cgi?id=289585

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 289585
gnome-extra/gnome-games-2.26.3-r1 compile failure
Last modified: 2009-12-31 20:13:09 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 289585 
      - gnome-extra/gnome-games-2.26.3-r1 compile failure


Summary:
gnome-extra/gnome-games-2.26.3-r1 compile failure
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] GNOME

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux Gnome Desktop Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:




gnome2.26



 

        Show dependency tree





 





      Reported:
    
2009-10-18 14:16 UTC by Kevin O'Gorman





      Modified:
    
2009-12-31 20:13 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




output of emerge --info

              (info,4.33 KB,
                text/plain)

            
2009-10-18 14:19 UTC,

            Kevin O'Gorman




Details





build log, as requested

              (build.log,295.79 KB,
                text/plain)

            
2009-10-21 13:07 UTC,

            Kevin O'Gorman




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Kevin O'Gorman





          2009-10-18 14:16:44 UTC
        

Package gnome-extra/gnome-games-2.26.3-r1 fails to emerge, citing a compile failure.  The actual problem appears to be in a link step, not compilation proper.  There are a great many symbols showing up as undefined.

Tail of the emerge output:

game.c:(.text+0x302a): undefined reference to `scm_get_output_string'
game.c:(.text+0x3032): undefined reference to `scm_i_deprecated_string_chars'
game.c:(.text+0x3065): undefined reference to `scm_the_last_stack_fluid_var'
game.c:(.text+0x3070): undefined reference to `scm_fluid_ref'
game.c:(.text+0x307a): undefined reference to `scm_is_false'
game.c:(.text+0x309e): undefined reference to `scm_display_backtrace'
game.c:(.text+0x30a6): undefined reference to `scm_get_output_string'
game.c:(.text+0x30ae): undefined reference to `scm_i_deprecated_string_chars'
sol-game.o: In function `aisleriot_game_discard_move':
game.c:(.text+0x567): undefined reference to `scm_call_0'
sol-game.o: In function `aisleriot_game_end_move':
game.c:(.text+0x582): undefined reference to `scm_call_0'
sol-game.o: In function `aisleriot_game_record_move':
game.c:(.text+0x9ee): undefined reference to `scm_gc_unprotect_object'
sol-game.o: In function `scm_add_to_score':
game.c:(.text+0x1155): undefined reference to `scm_i_makinum'
sol-game.o: In function `scm_myrandom':
game.c:(.text+0x267e): undefined reference to `scm_i_makinum'
sol-sol.o: In function `main':
sol.c:(.text+0x42): undefined reference to `scm_boot_guile'
collect2: ld returned 1 exit status
make[3]: *** [sol] Error 1
make[3]: Leaving directory `/var/tmp/portage/gnome-extra/gnome-games-2.26.3-r1/work/gnome-games-2.26.3/aisleriot'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/var/tmp/portage/gnome-extra/gnome-games-2.26.3-r1/work/gnome-games-2.26.3/aisleriot'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/gnome-extra/gnome-games-2.26.3-r1/work/gnome-games-2.26.3'
make: *** [all] Error 2
 *
 * ERROR: gnome-extra/gnome-games-2.26.3-r1 failed.
 * Call stack:
 *               ebuild.sh, line   49:  Called src_compile
 *             environment, line 4061:  Called gnome2_src_compile
 *             environment, line 2759:  Called die
 * The specific snippet of code:
 *       emake || die "compile failure"
 *  The die message:
 *   compile failure
 *
 * If you need support, post the topmost build error, and the call stack if relevant.
 * A complete build log is located at '/var/tmp/portage/gnome-extra/gnome-games-2.26.3-r1/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/gnome-extra/gnome-games-2.26.3-r1/temp/environment'.
 *

>>> Failed to emerge gnome-extra/gnome-games-2.26.3-r1, Log file:

>>>  '/var/tmp/portage/gnome-extra/gnome-games-2.26.3-r1/temp/build.log'




Comment 1


Kevin O'Gorman





          2009-10-18 14:19:32 UTC
        

Created attachment 207485 [details]
output of emerge --info




Comment 2


Justin Lecher (RETIRED)






          2009-10-20 19:13:46 UTC
        

Please attach the build.log




Comment 3


Romain Perier (RETIRED)






          2009-10-20 21:03:23 UTC
        

build.log please




Comment 4


Kevin O'Gorman





          2009-10-21 13:07:20 UTC
        

Created attachment 207817 [details]
build log, as requested




Comment 5


Gilles Dartiguelongue (RETIRED)






          2009-10-22 00:01:53 UTC
        

log provided




Comment 6


Nirbheek Chauhan (RETIRED)






          2009-12-29 23:40:59 UTC
        

Please give the output of:

emerge -pv gnome-games
emerge -pv dev-scheme/guile

and reopen the bug when you do so. Thanks




Comment 7


Kevin O'Gorman





          2009-12-31 19:47:14 UTC
        

emerge -pv, as requested.

treat portage # emerge -pv gnome-games

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild     U ] gnome-extra/gnome-games-2.26.3-r1 [2.24.3] USE="gstreamer%* guile opengl -artworkextra -test" 0 kB

Total: 1 package (1 upgrade), Size of downloads: 0 kB

treat portage # emerge -pv dev-scheme/guile

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild   R   ] dev-scheme/guile-1.8.5-r1  USE="deprecated networking nls regex threads -debug -debug-freelist -debug-malloc -discouraged -elisp -emacs" 0 kB

Total: 1 package (1 reinstall), Size of downloads: 0 kB
treat portage #




Comment 8


Kevin O'Gorman





          2009-12-31 20:13:09 UTC
        

The world moves on, and sometimes all you have to do is wait.

After generating and providing the requested information, I just tried to emerge, and everything worked without a hitch.  I don't know what got changed, but everything is now installed, and I'm marking this resolved, calling it WORKSFORME.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

