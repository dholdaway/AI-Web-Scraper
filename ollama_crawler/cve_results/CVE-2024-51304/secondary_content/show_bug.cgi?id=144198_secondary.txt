Title: 144198 – trouble after emerging baselayout 1.12.4
URL: https://bugs.gentoo.org/show_bug.cgi?id=144198

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 144198
trouble after emerging baselayout 1.12.4
Last modified: 2006-08-18 05:49:49 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 144198 
      - trouble after emerging baselayout 1.12.4


Summary:
trouble after emerging baselayout 1.12.4
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] baselayout

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       critical
      


Assignee:

Gentoo's Team for Core System packages








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-08-17 06:11 UTC by Karl Hable





      Modified:
    
2006-08-18 05:49 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



uberlord









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




this is the bootlog as shown by dmesg on the machine

              (bootlog.txt,8.26 KB,
                text/plain)

            
2006-08-18 05:36 UTC,

            Karl Hable




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Karl Hable





          2006-08-17 06:11:31 UTC
        

after emerging baselayout 1.12.4 on two of my servers they show the same wired behavour when booting:

the messages looks like this:
ERROR: can not start netmount as net.eth0 could not start

in fact - eth0 is up and has the configured settings after boot.
but the machine failed to mount her nfs-filesystems

the funny thing is that other services depending on eth0 start up properly:
ntp-client, ntpd, net-snmpd, sshd

when you login you cam then manually start /etc/init.d/netmount without problems

etc-update is done on this boxes. i set up /etc/conf.d/net hopefully in the right way

my /etc/conf.d/net from on of the servers (the other is similar, just with an other ip-adress):

config_eth0=( "192.168.200.200 broadcast 192.168.200.255 netmask 255.255.255.0" )
routes_eth0=( "default via 192.168.200.10" )
nis_domain_eth0="my-private-thing"
nis_servers_eth0="192.168.200.11"

the problem began with -r2, after a few days i emerged -r4 und yesterday also -r6.
the problem still exists
for server-guys this problem is really a nightmare




Comment 1


Roy Marples (RETIRED)






          2006-08-17 08:52:24 UTC
        

What runlevel are net.eth0 and netmount in? Is net.eth0 a symlink to net.lo? Are you running parallel startup?

Could you attach a bootlog to this bug?




Comment 2


Garrett Cooper





          2006-08-17 22:26:53 UTC
        

uberlord:

Ensure that your modules = ("[ifconfig|iproute2]") configuration line isn't commented out?

I have no idea how, but it appears that that particular line in my /etc/conf.d/net file was modified between when I rebooted last (2-3 days ago), upgraded baselayout, and now. I have no idea how it occurred, but when I uncommented that line and emerged iproute2 (ifconfig didn't work any more for some odd reason), it created the proper file in /lib/rcscripts/net for ifconfig and iproute2, and now stuff just works =\...




Comment 3


Roy Marples (RETIRED)






          2006-08-18 00:01:17 UTC
        

Until you can attach a non function config and bootlog I'm closing this as worksforme.




Comment 4


Garrett Cooper





          2006-08-18 00:36:07 UTC
        

Found the solution to my issue. Turns out that my issue was caused by uncommenting this line in the /etc/conf.d/net example file:

#set dhcp_ESSID="nodns




Comment 5


Karl Hable





          2006-08-18 05:36:26 UTC
        

Created attachment 94530 [details]
this is the bootlog as shown by dmesg on the machine

here also my /etc/conf.d/net :

config_eth0=( "192.168.200.200 broadcast 192.168.200.255 netmask 255.255.255.0" )
routes_eth0=( "default via 192.168.200.10" )
nis_domain_eth0="something-private"
nis_servers_eth0="192.168.200.11"




Comment 6


Karl Hable





          2006-08-18 05:49:49 UTC
        

i also tested a boot with the following additional line in my /etc/conf.d/net : 

modules=( "ifconfig" )

it doesn't change anything
the behavour when booting is still the same
reading the documentation in the example-file i think this line is optional and not mandatory neccesary

from my point of view there must be a problem in net.lo. it seens, that it does not propagate the startup of an interface correctly to all depending services.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

