Title: 115758 – Sequential explicit emerges and world file addition issues
URL: https://bugs.gentoo.org/show_bug.cgi?id=115758

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 115758
Sequential explicit emerges and world file addition issues
Last modified: 2005-12-17 06:24:36 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 115758 
      - Sequential explicit emerges and world file addition issues


Summary:
Sequential explicit emerges and world file addition issues
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Portage team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-12-16 04:19 UTC by Martin Braun





      Modified:
    
2005-12-17 06:24 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Martin Braun





          2005-12-16 04:19:12 UTC
        

if you emerge several packages at once like "emerge p1 p2 p3 p4" an you Ctrl-C,
after the some packages are already installed completely, those packages don't
appear in WORLD. This may also happen, if the ssh connection aborts (because of
bad WLAN...).


Reproducible: Always
Steps to Reproduce:
1.
2.
3.



Expected Results:  
the WORLD file should be updated after a package has been emerged, NOT at the
end of a long emerge procedure.

Portage 2.0.51.22-r3 (default-linux/x86/2005.1, gcc-3.4.4, glibc-2.3.5-r2, 2.6.1
4-gentoo-r2 i686)
=================================================================
System uname: 2.6.14-gentoo-r2 i686 Pentium III (Coppermine)
Gentoo Base System version 1.6.13
dev-lang/python:     2.3.5, 2.4.2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.20
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium3"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env /usr/kde/3.4/share
/config /usr/kde/3.4/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/shar
e/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=pentium3"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://mirrors.sec.informatik.tu-darmstadt.de/gentoo/"
LANG="de_DE@euro"
LC_ALL="de_DE@euro"
LINGUAS="de en"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.de.gentoo.org/gentoo-portage"
USE="X acpi alsa apache2 apm arts audiofile avi berkdb bitmap-fonts bzip2 crypt
cups divx4linux eds emboss encode esd exif expat fam ffmpeg firefox foomaticdb f
ortran gdbm gif glut gnome gpm gstreamer gtk gtk2 hal howl idn imap imlib ipv6 j
ava jpeg junit kde lcms libg++ libwww mad mhash mikmod mjpeg mng motif mp3 mpeg
ncurses nls nptl nptlonly ogg oggvorbis opengl oss pam pcre pda pdflib perl png
python qt quicktime readline real samba sdl spell ssl svg tcpd tiff truetype tru
etype-fonts type1-fonts udev vorbis win32codecs x86 xinerama xml xml2 xmms xv zl
ib linguas_de linguas_en userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LDFLAGS, PORTDIR_OVERLAY




Comment 1


Chris White (RETIRED)






          2005-12-16 04:24:34 UTC
        

I'd put some more information in on that.  Generally world files will only go 
for p1, p2, etc., not their dependancies (portage can feel free to correct me 
on this).  So that's why things might not be added to world when you CTRL+C.  
So basically, we need to know the point at which you are CTRL+C-ing. 




Comment 2


Jason Stubbs (RETIRED)






          2005-12-17 06:24:36 UTC
        

The world file is updated after each package that is specified on the command line is merged. That is, `emerge foo bar baz` results in:
* foo deps merged
* foo merged
* foo added to world
* bar deps merged
* bar merged
* bar added to world
* baz deps merged
* baz merged
* baz added to world

If you have reproducable case where that doesn't happen, please reopen and show how to reproduce it.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

