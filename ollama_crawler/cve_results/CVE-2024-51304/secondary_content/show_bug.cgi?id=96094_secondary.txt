Title: 96094 – kde control center disappeared after last upgrade
URL: https://bugs.gentoo.org/show_bug.cgi?id=96094

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 96094
kde control center disappeared after last upgrade
Last modified: 2005-11-06 05:21:23 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 96094 
      - kde control center disappeared after last upgrade


Summary:
kde control center disappeared after last upgrade
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       major
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-06-14 09:37 UTC by Timothy Miller





      Modified:
    
2005-11-06 05:21 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Timothy Miller





          2005-06-14 09:37:47 UTC
        

I just recently updated my whole system (to kde-3.3.2), and I just discovered 
that the KDE control center disappeared.  Digging around, I found 
kde-base/kcontrol, but when I try to emerge kcontrol, I get this: 
 
!!! All ebuilds that could satisfy "kcontrol" have been masked. 
!!! One of the following masked packages is required to complete your request: 
- kde-base/kcontrol-3.4.1-r1 (masked by: ~x86 keyword) 
- kde-base/kcontrol-3.4.0 (masked by: ~x86 keyword) 
- kde-base/kcontrol-3.4.1 (masked by: ~x86 keyword) 
 
It would appear that an x86 version of kcontrol compatible with 3.3.2 has been 
removed from portage, and the only thing in there is ~x86. 
 

Reproducible: Always
Steps to Reproduce:
1.
2.
3.




Emerge info: 
 
Portage 2.0.51.19 (default-linux/x86/2005.0, gcc-3.3.5-20050130, 
glibc-2.3.4.20041102-r1, 2.6.11-gentoo-r9 i686) 
================================================================= 
System uname: 2.6.11-gentoo-r9 i686 Intel(R) Pentium(R) 4 CPU 1.80GHz 
Gentoo Base System version 1.6.12 
Python:              dev-lang/python-2.3.5 [2.3.5 (#1, Jun  1 2005, 11:53:48)] 
distcc 2.16 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) 
[disabled] 
dev-lang/python:     2.3.5 
sys-apps/sandbox:    [Not Present] 
sys-devel/autoconf:  2.59-r6, 2.13 
sys-devel/automake:  1.7.9-r1, 1.8.5-r3, 1.5, 1.4_p6, 1.6.3, 1.9.5 
sys-devel/binutils:  2.15.92.0.2-r10 
sys-devel/libtool:   1.5.16 
virtual/os-headers:  2.6.8.1-r2 
ACCEPT_KEYWORDS="x86" 
AUTOCLEAN="yes" 
CFLAGS="-O3 -march=pentium4 -mmmx -msse -msse2 -mfpmath=sse 
-fprefetch-loop-arrays -fforce-addr -fomit-frame-pointer -pipe" 
CHOST="i686-pc-linux-gnu" 
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.3/env /usr/kde/3.3/share/config /usr/kde/3.3/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/ /var/qmail/control" 
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d" 
CXXFLAGS="-O3 -march=pentium4 -mmmx -msse -msse2 -mfpmath=sse 
-fprefetch-loop-arrays -fforce-addr -fomit-frame-pointer -pipe" 
DISTDIR="/usr/portage/distfiles" 
FEATURES="autoaddcvs autoconfig ccache distlocks sandbox sfperms strict" 
GENTOO_MIRRORS="http://gentoo.binarycompass.org http://gentoo.mirror.sdv.fr 
http://www.gigaload.org/gentoo.org/ http://ftp.easynet.nl/mirror/gentoo/" 
MAKEOPTS="-j4" 
PKGDIR="/usr/portage/packages" 
PORTAGE_TMPDIR="/var/tmp" 
PORTDIR="/usr/portage" 
SYNC="rsync://rsync.gentoo.org/gentoo-portage" 
USE="x86 X Xaw3d aalib acpi aim alsa apache2 apm arts audiofile avi 
bash-completion berkdb bitmap-fonts bmp bonobo bzlib calendar cdr crypt cups 
curl dga dio directfb divx4linux doc eds emacs emacs-w3 emboss encode esd evo 
f77 f90 fam fbcon foomaticdb fortran ftp gb gcj gd gdbm ggi gif gnome gpm 
gstreamer gtk gtk2 gtkhtml icq imagemagick imlib innodb ipv6 jabber java jpeg 
junit kde ldap lesstif libg++ libgda libwww mad mikmod mime mmap mmx motif 
mozilla mp3 mpeg mpi msn msqli mysql ncurses nls offensive ogg oggvorbis 
openal opengl oss pam pcre pdflib perl php pie png postgres ppds python qt 
quicktime readline ruby samba scanner sdlsession shared sharedmem slang 
sockets spell spl sse ssl svg svga tcltk tcpd tetex theora tiff truetype 
truetype-fonts type1-fonts unicode usb vorbis wxwindowsxml xml2 xmms xslt xv 
xvid yahoo zlib userland_GNU kernel_linux elibc_glibc" 
Unset:  ASFLAGS, CBUILD, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS, 
PORTDIR_OVERLAY




Comment 1


Jakub Moc (RETIRED)






          2005-06-14 09:59:39 UTC
        

kde-base/kcontrol-3.3.2 has never been in portage, split ebuilds are only
available for >=3.4.0




Comment 2


Timothy Miller





          2005-06-14 10:08:39 UTC
        

Understood.  But either way, something went wrong in the upgrade and the 
control center is gone.  That sounds bugzilla-worthy to me. 




Comment 3


Caleb Tennis (RETIRED)






          2005-06-14 10:10:41 UTC
        

Have you tried re-emerging kde-base/kdebase? 




Comment 4


Caleb Tennis (RETIRED)






          2005-06-14 10:11:12 UTC
        

oof. 




Comment 5


Timothy Miller





          2005-06-14 14:37:01 UTC
        

I just re-emerged kdebase and restarted KDE.  There is no Control Center in any 
of the menus.  I've also noticed that the Menu Editor has stopped working.  
Right-click on the K icon, select Menu Editor..... nothing. 
 




Comment 6


Rohan McGovern





          2005-06-14 23:27:44 UTC
        

It may not be the cause of your problem, but -mfpmath=sse is known to break 
some code.  Also, this might be a silly question, but have you tried simply 
running the 'kcontrol' command rather than clicking on its menu entry? 




Comment 7


Timothy Miller





          2005-06-15 06:20:28 UTC
        

For whatever reason, it's not in my path, but as root, I find it now  
at /usr/kde/3.3/bin/kcontrol.  
  
Also, I've never had problems with -mfpmath=sse, plus somehow I doubt much fp 
math is involved in setting up kde menus. 
 
How do I reemerge all of kde?  And will that fix the menu problem?  Obviously, 
emerging kdebase didn't help much.  What package installs the menu options? 
 




Comment 8


Timothy Miller





          2005-06-15 07:57:10 UTC
        

One of the things that people say is so great about building gentoo packages is 
that you can just let it go in the background.  However, I have a suspicion 
that building your GUI environment while at the same time running the previous 
version could be problematic.  Are there any ebuild log files that might report 
that a file was locked and couldn't be written to when installing? 
 
Also, when logging out of KDE, does it save the state of the K menu?  The 
reason I ask is because something may possibly have changed the menu 
(properly), but when I logged out, KDE clobbered it with something that was 
partially new and partially old. 
 




Comment 9


Dan Armak (RETIRED)






          2005-06-30 09:07:29 UTC
        

Building eg kde while running it is OK for the version you're building, but the  
one you're running might misbehave.  
Building a different version is completely OK.  
  
Anyway, your real problem is probably related to the broken PATH, and may not 
be related to KDE at all. Try to track the PATH issue down. 




Comment 10


Gregorio Guidi (RETIRED)






          2005-11-06 05:21:23 UTC
        

Probably there's nothing we can do for this problem. 









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

