Title: 504956 – games-engines/love-0.9.0 version bump
URL: https://bugs.gentoo.org/show_bug.cgi?id=504956

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 504956
games-engines/love-0.9.0 version bump
Last modified: 2014-07-06 20:47:15 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 504956 
      - games-engines/love-0.9.0 version bump


Summary:
games-engines/love-0.9.0 version bump
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Games

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       enhancement
      


Assignee:

Chí-Thanh Christopher Nguyễn








URL:



http://love2d.org/




Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2014-03-18 13:40 UTC by Julian Ospald





      Modified:
    
2014-07-06 20:47 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



games
jauhien









See Also:


504940





Package list:







Runtime testing required:

---























      Attachments
    




love-0.9.0.ebuild.diff

              (love-0.9.0.ebuild.diff,1.95 KB,
                patch)

            
2014-03-18 14:36 UTC,

            Julian Ospald




Details
            | Diff





love-0.9.0.ebuild.diff

              (love-0.9.0.ebuild.diff,1.57 KB,
                patch)

            
2014-03-18 14:51 UTC,

            Julian Ospald




Details
            | Diff





love-0.8.0.ebuild.diff (SLOT 0)

              (love-0.8.0.ebuild.diff,448 bytes,
                patch)

            
2014-06-21 17:31 UTC,

            Julian Ospald




Details
            | Diff





love-0.8.0-r1.ebuild.diff (SLOT 0.8)

              (love-0.8.0-r1.ebuild.diff,1.35 KB,
                patch)

            
2014-06-21 17:32 UTC,

            Julian Ospald




Details
            | Diff





love-0.9.0.ebuild.diff (SLOT 0)

              (love-0.9.0.ebuild.diff,1.89 KB,
                patch)

            
2014-06-21 17:33 UTC,

            Julian Ospald




Details
            | Diff





love-0.7.2-r1.ebuild.diff (SLOT 0.7)

              (love-0.7.2-r1.ebuild.diff,965 bytes,
                patch)

            
2014-06-21 17:34 UTC,

            Julian Ospald




Details
            | Diff





Show
              Obsolete (6)
            View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Julian Ospald





          2014-03-18 13:40:02 UTC
        

yo, aot nao




Comment 1


Julian Ospald





          2014-03-18 14:36:13 UTC
        

Created attachment 372944 [details, diff]
love-0.9.0.ebuild.diff




Comment 2


Julian Ospald





          2014-03-18 14:39:03 UTC
        

a few things to consider:
* slot 0 concept is broken and should be migrated to 0.7, 0.8 and 0.9, otherwise every consumer has to be fixed once slot 0 changes
* 0.9.0 now installs some more files, e.g. /usr/games/lib64/liblove.so.0.0.0 or /usr/share/icons/hicolor/scalable/mimetypes/application-x-love-game.svg
...I am not yet sure how to handle that... we could rename all non-library files, put the libraries in a /usr/games/lib64/love-0.9 subdir and add a wrapper script that adds that library path




Comment 3


Julian Ospald





          2014-03-18 14:44:16 UTC
        

if it wasn't clear from the previous comment: 0.8.0 and 0.9.0 are incompatible and we should expect that this will happen with almost any version bump

that also means that the live ebuild should be in a separate slot




Comment 4


Julian Ospald





          2014-03-18 14:51:15 UTC
        

Created attachment 372946 [details, diff]
love-0.9.0.ebuild.diff

unintentionally dropped some keywords and [deprecated]




Comment 5


Julian Ospald





          2014-03-18 14:56:23 UTC
        

a third thing to consider: it seems to bundle net-libs/enet, not yet sure which version or if it's modified




Comment 6


Julian Ospald





          2014-06-01 20:25:13 UTC
        

ping




Comment 7


Jauhien Piatlicki (RETIRED)






          2014-06-21 16:07:58 UTC
        

Chí-Thanh Christopher Nguyễn, are you available? If now, I'll proceed with version bump in two weeks.




Comment 8


Julian Ospald





          2014-06-21 16:14:07 UTC
        

(In reply to Jauhien Piatlicki from comment #7)
> Chí-Thanh Christopher Nguyễn, are you available? If now, I'll proceed with
> version bump in two weeks.

??

you did not discuss anything with us, nor do I see a solution to the problems I just mentioned.

This package is still maintained by the games team, so in case the primary maintainer does not respond, then we should contact the games team.




Comment 9


Jauhien Piatlicki (RETIRED)






          2014-06-21 17:07:07 UTC
        

ahhh, sorry, yes. (

Anyway I see now, I do not need this version bump, so sorry again for intervention.




Comment 10


Julian Ospald





          2014-06-21 17:31:38 UTC
        

Created attachment 379368 [details, diff]
love-0.8.0.ebuild.diff (SLOT 0)

just for fixing bug 504940




Comment 11


Julian Ospald





          2014-06-21 17:32:34 UTC
        

Created attachment 379370 [details, diff]
love-0.8.0-r1.ebuild.diff (SLOT 0.8)

a few additional cleanups, rm base inherit, will install "love-0.8"




Comment 12


Julian Ospald





          2014-06-21 17:33:16 UTC
        

Created attachment 379372 [details, diff]
love-0.9.0.ebuild.diff (SLOT 0)

will also work if we set SLOT to 0.9 without file collisions




Comment 13


Julian Ospald





          2014-06-21 17:34:57 UTC
        

Created attachment 379374 [details, diff]
love-0.7.2-r1.ebuild.diff (SLOT 0.7)

fixes bug 504940, a few additional cleanups to rm base inherit




Comment 14


Julian Ospald





          2014-06-21 17:35:42 UTC
        

the above ebuilds will work without file collisions

slot 0.9 will also work in case love-1.0.0 comes out by forcing static lib and disabling shared lib




Comment 15


Chí-Thanh Christopher Nguyễn






          2014-06-30 08:07:08 UTC
        

From attachment 379372 [details, diff]:
+	virtual/pkg-config"

That should probably be pkgconfig, not pkg-config




Comment 16


Julian Ospald





          2014-06-30 12:20:14 UTC
        

The problem with the above approach is: we have to fix reverse deps a lot.

However... removing slot 0 completely will give us different trouble with file collisions between the slots which have been introduced since 0.9.0, such as:
desktop file, icons, manpage, /usr/share/mime/packages/love.xml and possibly the library

If you want to remove slot 0 we could do this:
* compile statically always, however provide a games-dev/liblove package for the lib only
* make binary, desktop file, icon and manpage version-specific
* provide a games-engines/love-mime package for love.xml, because it does not make sense to make this version specific




Comment 17


Julian Ospald





          2014-07-04 19:23:56 UTC
        

I stopped caring.




Comment 18


Chí-Thanh Christopher Nguyễn






          2014-07-06 19:36:21 UTC
        

It's still a valid bug.




Comment 19


Julian Ospald





          2014-07-06 20:12:19 UTC
        

file your own bug, I don't want to get notifications about this crap anymore




Comment 20


Chí-Thanh Christopher Nguyễn






          2014-07-06 20:29:45 UTC
        

Request infra to apply https://bugzilla.mozilla.org/show_bug.cgi?id=148564 then you can choose to ignore specific bugs.




Comment 21


Julian Ospald





          2014-07-06 20:47:15 UTC
        

just stop bothering me









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

