Title: 563488 – app-portage/cfg-update-1.8.9 fails with sys-apps/portage-2.2.23
URL: https://bugs.gentoo.org/show_bug.cgi?id=563488

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 563488
app-portage/cfg-update-1.8.9 fails with sys-apps/portage-2.2.23
Last modified: 2015-10-23 22:46:03 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 563488 
      - app-portage/cfg-update-1.8.9 fails with sys-apps/portage-2.2.23


Summary:
app-portage/cfg-update-1.8.9 fails with sys-apps/portage-2.2.23
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Richard Freeman








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2015-10-19 12:02 UTC by Phil Stracchino (Unix Ronin)





      Modified:
    
2015-10-23 22:46 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



phils









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Phil Stracchino (Unix Ronin)





          2015-10-19 12:02:35 UTC
        

After allowing sys-apps/portage to update to 2.2.23, app-portage/cfg-update-1.8.9 fails with the following behavior:

minbar:root:~:3 # cfg-update -l
Searching for updates...
Use of uninitialized value $md5sum_file in regexp compilation at /usr/bin/cfg-update line 1000.
1    Unmodified File    /etc/jabber/._cfg0000_c2s.xml.dist
Use of uninitialized value $md5sum_file in regexp compilation at /usr/bin/cfg-update line 1000.
2    Unmodified File    /etc/jabber/._cfg0000_jabberd.cfg.dist
Use of uninitialized value $md5sum_file in regexp compilation at /usr/bin/cfg-update line 1000.
3    Unmodified File    /etc/jabber/._cfg0000_router-filter.xml.dist
...


This warning is issued for every .cfg* file found, both in -u and in -l mode.  I have not determined whether it is safe to use despite the warning, but I am inclined to assume not, since it seems to be confused about whether files have been modified or not:


minbar:root:~:4 # cfg-update -u
Searching for updates...

Use of uninitialized value $md5sum_file in regexp compilation at /usr/bin/cfg-update line 1000.
Use of uninitialized value $md5sum_file in regexp compilation at /usr/bin/cfg-update line 1000.
Use of uninitialized value $md5sum_file in regexp compilation at /usr/bin/cfg-update line 1000.
Use of uninitialized value $md5sum_file in regexp compilation at /usr/bin/cfg-update line 1000.
Use of uninitialized value $md5sum_file in regexp compilation at /usr/bin/cfg-update line 1000.
Use of uninitialized value $md5sum_file in regexp compilation at /usr/bin/cfg-update line 1000.
Use of uninitialized value $md5sum_file in regexp compilation at /usr/bin/cfg-update line 1000.
<< Stage1 >> 0 files in queue for automatic replacing, skipping...

<< Stage2 >> 0 files in queue for automatic 3-way merging, skipping...

Use of uninitialized value $md5sum_file in regexp compilation at /usr/bin/cfg-update line 1000.
Use of uninitialized value $md5sum_file in regexp compilation at /usr/bin/cfg-update line 1000.
Use of uninitialized value $md5sum_file in regexp compilation at /usr/bin/cfg-update line 1000.
Use of uninitialized value $md5sum_file in regexp compilation at /usr/bin/cfg-update line 1000.
Use of uninitialized value $md5sum_file in regexp compilation at /usr/bin/cfg-update line 1000.
Use of uninitialized value $md5sum_file in regexp compilation at /usr/bin/cfg-update line 1000.
Use of uninitialized value $md5sum_file in regexp compilation at /usr/bin/cfg-update line 1000.
<< Stage3 >> 0 files in queue for manual 3-way merging, skipping...

<< Stage4 >> 0 files in queue for manual 2-way merging, skipping...

<< Stage5 >> 7 files in queue for manual updating, starting...

Use of uninitialized value $md5sum_file in regexp compilation at /usr/bin/cfg-update line 1000.
(1/7)  /etc/jabber/c2s.xml.dist  *Unmodified File
* YOU CAN SAFELY REPLACE THIS UNMODIFIED FILE WITH THE NEW VERSION.
* WARNING: /etc/jabber/c2s.xml.dist not found...
  Press [1] - to use the ._cfg0000_* file (RECOMMENDED)
  Press [2] - to remove the ._cfg0000_* file too (BAD CHOICE)
  Press [s] - to skip this update (to investigate first, and try again later)
  Press [q] - to quit cfg-update immediately
  How do you want to finish this update? [1|2|s|q]




Comment 1


Richard Freeman






          2015-10-23 16:47:51 UTC
        

I don't see this behavior with portage 2.2.23.  

Try running it with the -d option to output debug information.  That may show something useful.




Comment 2


Phil Stracchino (Unix Ronin)





          2015-10-23 21:03:29 UTC
        

(In reply to Richard Freeman from comment #1)
> I don't see this behavior with portage 2.2.23.  
> 
> Try running it with the -d option to output debug information.  That may
> show something useful.

I can no longer reproduce it myself either.  Something transient must have happened that tripped it up, which has now resolved.

Probably better write this off as a can't-reproduce.




Comment 3


Richard Freeman






          2015-10-23 22:46:03 UTC
        

Feel free to reopen if it does...









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

