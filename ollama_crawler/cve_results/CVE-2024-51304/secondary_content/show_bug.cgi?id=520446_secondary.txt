Title: 520446 – dev-libs/leveldb-1.17 Fetched file: leveldb-1.17.tar.gz VERIFY FAILED! // Reason: Filesize does not match recorded size
URL: https://bugs.gentoo.org/show_bug.cgi?id=520446

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 520446
dev-libs/leveldb-1.17 Fetched file: leveldb-1.17.tar.gz VERIFY FAILED! // Reason: Filesize does not match recorded size
Last modified: 2014-11-26 09:15:14 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 520446 
      - dev-libs/leveldb-1.17 Fetched file: leveldb-1.17.tar.gz VERIFY FAILED! // Reason: Filesize does not match recorded size


Summary:
dev-libs/leveldb-1.17 Fetched file: leveldb-1.17.tar.gz VERIFY FAILED! // Rea...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Florian Schmaus








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2014-08-21 23:49 UTC by rodancap99





      Modified:
    
2014-11-26 09:15 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


rodancap99





          2014-08-21 23:49:43 UTC
        

Installation of net-p2p/armory [Overlay: bitcoin (layman)] fails because the downloaded filesize is different from recorded size, therefore a security verification failure aborts the installation.

Reproducible: Always

Steps to Reproduce:
1.add Overlay: bitcoin (layman)
2.sudo emerge net-p2p/armory
3.
Actual Results:  
unable to install net-p2p/armory, and possible malicious package

Expected Results:  
should have installed net-p2p/armory

rojaslee@sabayon ~ $ sudo emerge net-p2p/armory
Password: 

 * IMPORTANT: 9 news items need reading for repository 'gentoo'.
 * Use eselect news to read news items.

Calculating dependencies... done!

!!! The following installed packages are masked:
- app-emulation/virtualbox-bin-4.3.14.95030::gentoo (masked by: PUEL license(s))
A copy of the 'PUEL' license is located at '/usr/portage/licenses/PUEL'.

- net-im/skype-4.3.0.37::gentoo (masked by: skype-4.0.0.7-copyright license(s))
A copy of the 'skype-4.0.0.7-copyright' license is located at '/usr/portage/licenses/skype-4.0.0.7-copyright'.

- www-plugins/chrome-binary-plugins-36.0.1985.125_p1::gentoo (masked by: google-chrome license(s))
A copy of the 'google-chrome' license is located at '/usr/portage/licenses/google-chrome'.

- www-plugins/adobe-flash-11.2.202.394::gentoo (masked by: AdobeFlash-11.x license(s))
A copy of the 'AdobeFlash-11.x' license is located at '/usr/portage/licenses/AdobeFlash-11.x'.

For more information, see the MASKED PACKAGES section in the emerge
man page or refer to the Gentoo Handbook.


>>> Verifying ebuild manifests

>>> Emerging (1 of 7) dev-libs/leveldb-1.17
 * Fetching files in the background. To view fetch progress, run
 * `tail -f /var/log/emerge-fetch.log` in another terminal.
>>> Downloading 'ftp://ftp.spline.inf.fu-berlin.de/mirrors/gentoo/distfiles/leveldb-1.17.tar.gz'
pathconf: Permission denied
--2014-08-21 19:24:49--  ftp://ftp.spline.inf.fu-berlin.de/mirrors/gentoo/distfiles/leveldb-1.17.tar.gz
           => ‘/usr/portage/distfiles/leveldb-1.17.tar.gz’
Resolving ftp.spline.inf.fu-berlin.de... 130.133.110.66
Connecting to ftp.spline.inf.fu-berlin.de|130.133.110.66|:21... connected.
Logging in as anonymous ... Logged in!
==> SYST ... done.    ==> PWD ... done.
==> TYPE I ... done.  ==> CWD (1) /mirrors/gentoo/distfiles ... done.
==> SIZE leveldb-1.17.tar.gz ... done.
==> PASV ... done.    ==> RETR leveldb-1.17.tar.gz ... 
No such file ‘leveldb-1.17.tar.gz’.

>>> Downloading 'http://archive.mmu.edu.my/gentoo/distfiles/leveldb-1.17.tar.gz'
--2014-08-21 19:24:51--  http://archive.mmu.edu.my/gentoo/distfiles/leveldb-1.17.tar.gz
Resolving archive.mmu.edu.my... 203.106.62.88, 2001:e68:2000:6403:b248:7aff:fe86:e737
Connecting to archive.mmu.edu.my|203.106.62.88|:80... failed: Connection timed out.
Connecting to archive.mmu.edu.my|2001:e68:2000:6403:b248:7aff:fe86:e737|:80... failed: Network is unreachable.
>>> Downloading 'rsync://gentoo.bloodhost.ru/gentoo-distfiles/distfiles/leveldb-1.17.tar.gz'
This is gentoo.bloodhost.ru

Server Address  : 37.139.54.5
Contact Name    : Andrey Burov <burik666@gmail.com>
Location        : Russia, Saint-Petersburg
Sponsor         : BloodHost LLC (http://bloodhost.ru)
NSP             : Petersburg Internet Network Co. ltd (http://pinspb.ru)


receiving incremental file list
rsync: link_stat "/distfiles/leveldb-1.17.tar.gz" (in gentoo-distfiles) failed: No such file or directory (2)

sent 8 bytes  received 123 bytes  87.33 bytes/sec
total size is 0  speedup is 0.00
rsync error: some files/attrs were not transferred (see previous errors) (code 23) at main.c(1637) [Receiver=3.1.1]
>>> Downloading 'ftp://gentoo.mirrors.tds.net/gentoo/distfiles/leveldb-1.17.tar.gz'
pathconf: Permission denied
--2014-08-21 19:25:52--  ftp://gentoo.mirrors.tds.net/gentoo/distfiles/leveldb-1.17.tar.gz
           => ‘/usr/portage/distfiles/leveldb-1.17.tar.gz’
Resolving gentoo.mirrors.tds.net... 216.165.129.134
Connecting to gentoo.mirrors.tds.net|216.165.129.134|:21... connected.
Logging in as anonymous ... Logged in!
==> SYST ... done.    ==> PWD ... done.
==> TYPE I ... done.  ==> CWD (1) /gentoo/distfiles ... 
No such directory ‘gentoo/distfiles’.

>>> Downloading 'ftp://ftp.halifax.rwth-aachen.de/gentoo/distfiles/leveldb-1.17.tar.gz'
pathconf: Permission denied
--2014-08-21 19:25:53--  ftp://ftp.halifax.rwth-aachen.de/gentoo/distfiles/leveldb-1.17.tar.gz
           => ‘/usr/portage/distfiles/leveldb-1.17.tar.gz’
Resolving ftp.halifax.rwth-aachen.de... 137.226.34.42
Connecting to ftp.halifax.rwth-aachen.de|137.226.34.42|:21... connected.
Logging in as anonymous ... Logged in!
==> SYST ... done.    ==> PWD ... done.
==> TYPE I ... done.  ==> CWD (1) /gentoo/distfiles ... done.
==> SIZE leveldb-1.17.tar.gz ... done.
==> PASV ... done.    ==> RETR leveldb-1.17.tar.gz ... 
No such file ‘leveldb-1.17.tar.gz’.

>>> Downloading 'rsync://mirror.neolabs.kz/gentoo/distfiles/leveldb-1.17.tar.gz'
This is mirror.neolabs.kz.
Supported projects:
	ArchLinux (http://www.archlinux.org)
	CentOS (http://www.centos.org)
	CPAN (http://www.cpan.org)
	CRUX (http://www.crux.nu)
	Debian (http://www.debian.org)
	EPEL (http://fedoraproject.org/wiki/EPEL)
	Fedora (http://fedoraproject.org)
	FreeBSD (http://www.freebsd.org)
	Gentoo (http://www.gentoo.org)
	Kernel.org (http://www.kernel.org)
	Linux Mint (http://www.linuxmint.com)
	Opera (http://www.opera.com)
	RPM Fusion (http://rpmfusion.org)
	Scientific Linux (http://www.scientificlinux.org)
	Ubuntu (http://www.ubuntu.com)
Contact e-mail: support@neolabs.kz

receiving incremental file list
rsync: link_stat "/distfiles/leveldb-1.17.tar.gz" (in gentoo) failed: No such file or directory (2)

sent 8 bytes  received 113 bytes  48.40 bytes/sec
total size is 0  speedup is 0.00
rsync error: some files/attrs were not transferred (see previous errors) (code 23) at main.c(1637) [Receiver=3.1.1]
>>> Downloading 'http://ftp.gentoo.bg/distfiles/leveldb-1.17.tar.gz'
--2014-08-21 19:25:57--  http://ftp.gentoo.bg/distfiles/leveldb-1.17.tar.gz
Resolving ftp.gentoo.bg... 195.238.84.14
Connecting to ftp.gentoo.bg|195.238.84.14|:80... failed: Connection refused.
>>> Downloading 'http://ftp.cc.uoc.gr/mirrors/linux/gentoo/distfiles/leveldb-1.17.tar.gz'
--2014-08-21 19:25:57--  http://ftp.cc.uoc.gr/mirrors/linux/gentoo/distfiles/leveldb-1.17.tar.gz
Resolving ftp.cc.uoc.gr... 147.52.159.12
Connecting to ftp.cc.uoc.gr|147.52.159.12|:80... connected.
HTTP request sent, awaiting response... 404 Not Found
2014-08-21 19:25:57 ERROR 404: Not Found.

>>> Downloading 'ftp://ftp.cc.uoc.gr/mirrors/linux/gentoo/distfiles/leveldb-1.17.tar.gz'
pathconf: Permission denied
--2014-08-21 19:25:58--  ftp://ftp.cc.uoc.gr/mirrors/linux/gentoo/distfiles/leveldb-1.17.tar.gz
           => ‘/usr/portage/distfiles/leveldb-1.17.tar.gz’
Resolving ftp.cc.uoc.gr... 147.52.159.12
Connecting to ftp.cc.uoc.gr|147.52.159.12|:21... connected.
Logging in as anonymous ... Logged in!
==> SYST ... done.    ==> PWD ... done.
==> TYPE I ... done.  ==> CWD (1) /mirrors/linux/gentoo/distfiles ... done.
==> SIZE leveldb-1.17.tar.gz ... done.
==> PASV ... done.    ==> RETR leveldb-1.17.tar.gz ... 
No such file ‘leveldb-1.17.tar.gz’.

>>> Downloading 'ftp://mirrors.tera-byte.com/pub/gentoo/distfiles/leveldb-1.17.tar.gz'
pathconf: Permission denied
--2014-08-21 19:26:00--  ftp://mirrors.tera-byte.com/pub/gentoo/distfiles/leveldb-1.17.tar.gz
           => ‘/usr/portage/distfiles/leveldb-1.17.tar.gz’
Resolving mirrors.tera-byte.com... 216.194.64.133
Connecting to mirrors.tera-byte.com|216.194.64.133|:21... connected.
Logging in as anonymous ... Logged in!
==> SYST ... done.    ==> PWD ... done.
==> TYPE I ... done.  ==> CWD (1) /pub/gentoo/distfiles ... done.
==> SIZE leveldb-1.17.tar.gz ... done.
==> PASV ... done.    ==> RETR leveldb-1.17.tar.gz ... 
No such file ‘leveldb-1.17.tar.gz’.

>>> Downloading 'https://leveldb.googlecode.com/archive/1.17.tar.gz'
--2014-08-21 19:26:01--  https://leveldb.googlecode.com/archive/1.17.tar.gz
Resolving leveldb.googlecode.com... 64.233.183.82, 2607:f8b0:4001:c0b::52
Connecting to leveldb.googlecode.com|64.233.183.82|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: unspecified [application/x-compressed]
Saving to: ‘/usr/portage/distfiles/leveldb-1.17.tar.gz’

    [  <=>                                  ] 207,165      567KB/s   in 0.4s   

2014-08-21 19:26:01 (567 KB/s) - ‘/usr/portage/distfiles/leveldb-1.17.tar.gz’ saved [207165]

!!! Fetched file: leveldb-1.17.tar.gz VERIFY FAILED!
!!! Reason: Filesize does not match recorded size
!!! Got:      207165
!!! Expected: 207200
Refetching... File renamed to '/usr/portage/distfiles/leveldb-1.17.tar.gz._checksum_failure_.b2sbe5'

!!! Couldn't download 'leveldb-1.17.tar.gz'. Aborting.
 * Fetch failed for 'dev-libs/leveldb-1.17', Log file:
 *  '/var/tmp/portage/dev-libs/leveldb-1.17/temp/build.log'

>>> Failed to emerge dev-libs/leveldb-1.17, Log file:

>>>  '/var/tmp/portage/dev-libs/leveldb-1.17/temp/build.log'

 * Messages for package dev-libs/leveldb-1.17:

 * Fetch failed for 'dev-libs/leveldb-1.17', Log file:
 *  '/var/tmp/portage/dev-libs/leveldb-1.17/temp/build.log'




Comment 1


Zac Medico






          2014-10-18 20:19:22 UTC
        

The Manifest in the overlay is probably just outdated. Adding overlay maintainer to CC>




Comment 2


Jeroen Roovers (RETIRED)






          2014-10-21 17:03:15 UTC
        

https://api.gentoo.org/overlays/repositories.xml still lists <email>flo@freakempire.de</email> which appears to be outdated.




Comment 3


Florian Schmaus






          2014-11-26 09:15:14 UTC
        

Emerging dev-libs/leveldb-1.17 works for me:

 sudo ebuild leveldb-1.17.ebuild prepare                                                                >> /usr/portage/dev-libs/leveldb
Password: 
>>> Downloading 'http://distfiles.gentoo.org/distfiles/leveldb-1.17.tar.gz'
--2014-11-26 10:13:40--  http://distfiles.gentoo.org/distfiles/leveldb-1.17.tar.gz
Resolving distfiles.gentoo.org... 64.50.236.52, 64.50.233.100, 216.165.129.135, ...
Connecting to distfiles.gentoo.org|64.50.236.52|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 207037 (202K) [application/x-gzip]
Saving to: ‘/usr/portage/distfiles/leveldb-1.17.tar.gz’

/usr/portage/distfiles/leveldb-1.17.tar 100%[==============================================================================>] 202,18K   396KB/s   in 0,5s   

2014-11-26 10:13:41 (396 KB/s) - ‘/usr/portage/distfiles/leveldb-1.17.tar.gz’ saved [207037/207037]

 * leveldb-1.17.tar.gz SHA256 SHA512 WHIRLPOOL size ;-) ...                                                                                           [ ok ]
 * checking ebuild checksums ;-) ...                                                                                                                  [ ok ]
 * checking auxfile checksums ;-) ...                                                                                                                 [ ok ]
 * checking miscfile checksums ;-) ...                                                                                                                [ ok ]
>>> Unpacking source...
>>> Unpacking leveldb-1.17.tar.gz to /var/tmp/portage/dev-libs/leveldb-1.17/work
>>> Source unpacked in /var/tmp/portage/dev-libs/leveldb-1.17/work
>>> Preparing source in /var/tmp/portage/dev-libs/leveldb-1.17/work/leveldb-e353fbc7ea81 ...
 * Applying patch ...                                                                                                                                 [ ok ]
>>> Source prepared.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

