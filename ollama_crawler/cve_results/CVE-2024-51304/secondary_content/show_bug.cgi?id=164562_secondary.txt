Title: 164562 – dev-python/PyQt-3.14.1-r2 doesn't compile
URL: https://bugs.gentoo.org/show_bug.cgi?id=164562

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 164562
dev-python/PyQt-3.14.1-r2 doesn't compile
Last modified: 2007-02-11 12:51:36 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 164562 
      - dev-python/PyQt-3.14.1-r2 doesn't compile


Summary:
dev-python/PyQt-3.14.1-r2 doesn't compile
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Qt Bug Alias








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-01-30 16:13 UTC by Norberto Bensa





      Modified:
    
2007-02-11 12:51 UTC
      (History)
    




          CC List:
        

3 
          users
          
            (show)
          



jakub.januszkiewicz
pacho
python









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge --info

              (emerge-info.txt,4.78 KB,
                text/plain)

            
2007-01-30 16:14 UTC,

            Norberto Bensa




Details





emerge =dev-python/PyQt-3.14.1-r2

              (emerge-dev-python-qt.txt,3.89 KB,
                text/plain)

            
2007-01-30 16:15 UTC,

            Norberto Bensa




Details





emerge --info

              (att2.txt,3.29 KB,
                text/plain)

            
2007-01-31 13:57 UTC,

            Jakub Januszkiewicz




Details





emerge =dev-python/PyQt-3.14.1-r2

              (att1.txt,1.22 KB,
                text/plain)

            
2007-01-31 13:58 UTC,

            Jakub Januszkiewicz




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Norberto Bensa





          2007-01-30 16:13:43 UTC
        

See attaches for details

Reproducible: Always

Steps to Reproduce:
1. emerge =dev-python/PyQt-3.14.1-r2




Comment 1


Norberto Bensa





          2007-01-30 16:14:14 UTC
        

Created attachment 108633 [details]
emerge --info




Comment 2


Norberto Bensa





          2007-01-30 16:15:25 UTC
        

Created attachment 108636 [details]
emerge =dev-python/PyQt-3.14.1-r2




Comment 3


Jakub Januszkiewicz





          2007-01-31 13:53:13 UTC
        

I confirm that, although I don't have all of those errors (but the one I have is also present in the previous attachement). Details in attachments.

This one is particularly important for anything that depends on kde-base/pykde, which depends on this exact version of dev-python/PyQt (3.14.1-r2).




Comment 4


Jakub Januszkiewicz





          2007-01-31 13:57:07 UTC
        

Created attachment 108746 [details]
emerge --info




Comment 5


Jakub Januszkiewicz





          2007-01-31 13:58:50 UTC
        

Created attachment 108747 [details]
emerge =dev-python/PyQt-3.14.1-r2




Comment 6


Arne Flagge





          2007-02-06 11:33:51 UTC
        

Second error same here:

emerge --info
Portage 2.1.2-r8 (default-linux/x86/2006.1/desktop, gcc-4.1.1, glibc-2.5-r0, 2.6.20-plugz i686)
=================================================================
System uname: 2.6.20-plugz i686 Intel(R) Core(TM)2 CPU          6300  @ 1.86GHz
Gentoo Base System version 1.12.9
Timestamp of tree: Tue, 06 Feb 2007 07:20:01 +0000
dev-java/java-config: 1.3.7, 2.0.31-r3
dev-lang/python:     2.4.4
dev-python/pycrypto: 2.0.1-r5
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.61
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.17
sys-devel/gcc-config: 1.3.14
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.20
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=prescott -O2 -pipe -fomit-frame-pointer -mno-tls-direct-seg-refs"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/splash /etc/terminfo /etc/texmf/web2c"
CXXFLAGS="-march=prescott -O2 -pipe -fomit-frame-pointer -mno-tls-direct-seg-refs"
DISTDIR="/usr/portage/distfiles"
EMERGE_DEFAULT_OPTS="--with-bdeps y --nospinner"
FEATURES="autoconfig distlocks metadata-transfer parallel-fetch prelink sandbox sfperms strict"
GENTOO_MIRRORS="ftp://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/ http://distfiles.gentoo.org http://www.ibiblio.org/pub/Linux/distributions/gentoo"
LANG="de_DE.utf8"
LC_ALL="de_DE.utf8"
LINGUAS="de"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_EXTRA_OPTS="--exclude-from=/etc/portage/rsync_excludes"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portage/local/layman/vmware /usr/local/portage"
SYNC="rsync://rsync.de.gentoo.org/gentoo-portage"
USE="X a52 aac acpi alsa apache2 bash-completion berkdb bitmap-fonts bluetooth bzip2 cairo cdr cli cracklib crypt css curl dbus dlloader dri dvd dvdr dvdread dxr3 emboss fam ffmpeg firefox gdbm gif hal hbci iconv isdnlog jpeg kde kdeenablefinal kdehiddenvisibility libg++ lm_sensors mad mmx mmxext mp3 mpeg mplayer musicbrainz ncurses nls nptl nptlonly nsplugin nvidia ogg opengl pam pcre pdf perl pic png ppds pppd python qt3 quicktime readline real reflection samba session slang spell spl sse sse2 ssl svg tcpd tetex threads truetype truetype-fonts type1-fonts udev unicode vorbis win32codecs x264 x86 xcb xcomposite xml xorg xv xvid xvmc zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1 emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" ELIBC="glibc" INPUT_DEVICES="keyboard evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="de" USERLAND="GNU" VIDEO_CARDS="i810"
Unset:  CTARGET, INSTALL_MASK, LDFLAGS




Comment 7


Marco Napetti





          2007-02-07 09:45:24 UTC
        

Can't compile...

[...]
x86_64-pc-linux-gnu-g++ -c -pipe -march=athlon64 -pipe -O2 -fPIC -march=athlon64 -pipe -O2 -fno-strict-aliasing -Wall -W -D_REENTRANT -DQT_NO_DEBUG -DQT_THREAD_SUPPORT -I. -I/usr/include/python2.4 -I/usr/qt/3/include -I/usr/X11R6/include -o sipqtQChar.o sipqtQChar.cpp
sip/qt/qstringlist.sip: In function 'PyObject* slot_QStringList___getitem__(PyObject*, PyObject*)':
sip/qt/qstringlist.sip:189: error: cannot convert 'ssize_t*' to 'int*' for argument '3' to 'int PySlice_GetIndicesEx(PySliceObject*, int, int*, int*, int*, int*)'
sip/qt/qstringlist.sip: In function 'int slot_QStringList___delitem__(PyObject*, PyObject*)':
sip/qt/qstringlist.sip:161: error: cannot convert 'ssize_t*' to 'int*' for argument '3' to 'int PySlice_GetIndicesEx(PySliceObject*, int, int*, int*, int*, int*)'
sip/qt/qstringlist.sip: In function 'int slot_QStringList___setitem__(PyObject*, PyObject*)':
sip/qt/qstringlist.sip:118: error: cannot convert 'ssize_t*' to 'int*' for argument '3' to 'int PySlice_GetIndicesEx(PySliceObject*, int, int*, int*, int*, int*)'
make[1]: *** [sipqtQStringList.o] Error 1
make[1]: *** Waiting for unfinished jobs....
sip/qt/qstring.sip: In function 'PyObject* slot_QString___getitem__(PyObject*, PyObject*)':
sip/qt/qstring.sip:753: error: cannot convert 'ssize_t*' to 'int*' for argument '3' to 'int PySlice_GetIndicesEx(PySliceObject*, int, int*, int*, int*, int*)'
make[1]: *** [sipqtQString.o] Error 1
make[1]: Leaving directory `/var/tmp/portage/PyQt-3.14.1-r2/work/PyQt-x11-gpl-3.14.1/qt'
make: *** [all] Error 2

!!! ERROR: dev-python/PyQt-3.14.1-r2 failed.
Call stack:
  ebuild.sh, line 1546:   Called dyn_compile
  ebuild.sh, line 937:   Called src_compile
  PyQt-3.14.1-r2.ebuild, line 46:   Called die

Emerge --info follows:
Portage 2.1.1-r2 (default-linux/amd64/2006.0, gcc-4.1.1, glibc-2.4-r4, 2.6.18-gentoo-r6 x86_64)
=================================================================
System uname: 2.6.18-gentoo-r6 x86_64 AMD Turion(tm) 64 X2 Mobile Technology TL-50
Gentoo Base System release 1.12.6
Last Sync: Tue, 06 Feb 2007 11:30:01 +0000
app-admin/eselect-compiler: [Not Present]
dev-java/java-config: 1.3.7, 2.0.31
dev-lang/python:     2.4.3-r4
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.61
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.14
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.17-r1
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=athlon64 -pipe -O2"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config /var/bind"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c"
CXXFLAGS="-march=athlon64 -pipe -O2"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer parallel-fetch sandbox sfperms strict"
GENTOO_MIRRORS="ftp://pandemonium.tiscali.de/pub/gentoo/ http://pandemonium.tiscali.de/pub/gentoo/ http://gentoo.eliteitminds.com ftp://mirror.scarlet-internet.nl/pub/gentoo http://linux.rz.ruhr-uni-bochum.de/download/gentoo-mirror/"
LANG="it_IT"
LINGUAS="it"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY=" "
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="amd64 X a52 aac aalib alsa alsa_cards_ali5451 alsa_cards_als4000 alsa_cards_atiixp alsa_cards_atiixp-modem alsa_cards_bt87x alsa_cards_ca0106 alsa_cards_cmipci alsa_cards_emu10k1x alsa_cards_ens1370 alsa_cards_ens1371 alsa_cards_es1938 alsa_cards_es1968 alsa_cards_fm801 alsa_cards_hda-intel alsa_cards_intel8x0 alsa_cards_intel8x0m alsa_cards_maestro3 alsa_cards_trident alsa_cards_usb-audio alsa_cards_via82xx alsa_cards_via82xx-modem alsa_cards_ymfpci alsa_pcm_plugins_adpcm alsa_pcm_plugins_alaw alsa_pcm_plugins_asym alsa_pcm_plugins_copy alsa_pcm_plugins_dmix alsa_pcm_plugins_dshare alsa_pcm_plugins_dsnoop alsa_pcm_plugins_empty alsa_pcm_plugins_extplug alsa_pcm_plugins_file alsa_pcm_plugins_hooks alsa_pcm_plugins_iec958 alsa_pcm_plugins_ioplug alsa_pcm_plugins_ladspa alsa_pcm_plugins_lfloat alsa_pcm_plugins_linear alsa_pcm_plugins_meter alsa_pcm_plugins_mulaw alsa_pcm_plugins_multi alsa_pcm_plugins_null alsa_pcm_plugins_plug alsa_pcm_plugins_rate alsa_pcm_plugins_route alsa_pcm_plugins_share alsa_pcm_plugins_shm alsa_pcm_plugins_softvol amuled apache2 arts audiofile avi bash-completion berkdb bitmap-fonts bluetooth browserplugin bzip2 cdb cdda cddb cdinstall cdio cdparanoia cdr cli codecs cpudetection cracklib crypt css cups curl dbus dga divx4linux dlloader doc dri dts dv dvb dvd dvdr dvdread dxr3 edl eds elibc_glibc emboss emul-linux-x86 encode exif faad fame ffmpeg firefox flac foomaticdb fortran ftp gcj gd ggi gif gimp gimpprint gphoto2 gpm gstreamer gtk gtk2 hal history iconv ieee1394 imagemagick imap imlib input_devices_keyboard input_devices_mouse insecure-drivers ipv6 isdnlog ithreads jack java javascript jp2 jpeg kde kernel_linux latin1 lcd lcd_devices_bayrad lcd_devices_cfontz lcd_devices_cfontz633 lcd_devices_glk lcd_devices_hd44780 lcd_devices_lb216 lcd_devices_lcdm001 lcd_devices_mtxorb lcd_devices_ncurses lcd_devices_text ldap libcaca linguas_it live lm_sensors lzo lzw lzw-tiff mad matroska midi mikmod mime monkey mozdevelop mozilla mp3 mpeg mplayer mppe-mppc musepack musicbrainz mysql mysqli mythtv ncurses netmeeting nls nodrm nowin nptl nptlonly nsplugin nvidia objc objc++ objc-gc ogg oggvorbis opengl pam pcre pdf perl php png postgres ppds pppd python qt qt3 qt4 quicktime readline reflection remote samba scanner sdl sensord session smp sms sndfile speex spell spl ssl svg tcpd tga theora threads tidy tiff tokenizer truetype truetype-fonts type1-fonts usb userland_GNU v4l v4l2 vcd video_cards_nv video_cards_nvidia video_cards_vesa videos visualization vorbis wifi winpopup xanim xine xinerama xml xmlreader xmlwriter xorg xpm xv xvid xvmc zeroconf zlib"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LC_ALL, LDFLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 8


Norberto Bensa





          2007-02-07 11:19:16 UTC
        

Marco, yours is more like this one: http://bugs.gentoo.org/show_bug.cgi?id=155170




Comment 9


Norberto Bensa





          2007-02-10 16:46:52 UTC
        

I've just removed kde-base/pykde, emerged dev-python/pykde-3.16, which depends on dev-python/PyQt-3.17. Both emerged without problems. Everything is working fine.

I think I'll close this one as "WONTFIX" since no dev has looked at "<dev-python/PyQt-3.17" for a long time. Anyone disagrees?






Comment 10


Jakub Januszkiewicz





          2007-02-10 20:18:18 UTC
        

Well, I disagree, because:

# emerge -pv kelogviewer

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild     UD] dev-python/sip-4.2.1-r1 [4.5.2-r1] USE="-debug -doc%" 306 kB
[ebuild     UD] dev-python/PyQt-3.14.1-r2 [3.17] USE="-debug -doc -examples" 764 kB
[ebuild  N    ] kde-base/pykde-3.5.6  USE="arts kdeenablefinal -debug -doc -examples -xinerama" 5,295 kB
[ebuild  N    ] app-portage/kelogviewer-0.4.0.7  5 kB

I don't know if anything else depends on dev-python/PyQt-3.14.1-r2. If it's just kelogviewer then maybe it'll be easier to fix it instead of dev-python/PyQt-3.14.1-r2?




Comment 11


Jakub Januszkiewicz





          2007-02-10 20:22:22 UTC
        

Um, sorry, I meant to write:

"If it's just kde-base/pykde-3.5.6 then maybe it'll be easier to fix it instead of
dev-python/PyQt-3.14.1-r2?"

A solution would be to make kde-base/pykde-3.5.6 depend on newer version of PyQt or to make kelogviewer depend on dev-python/pykde instead of kde-base/pykde.




Comment 12


Norberto Bensa





          2007-02-11 02:48:38 UTC
        

or make a virtual/pykde ;)

Regards,
Norberto




Comment 13


Norberto Bensa





          2007-02-11 05:02:42 UTC
        

$ find /usr/portage -iname '*.ebuild' -exec grep -l "kde-base/pykde" {} \;
/usr/portage/app-portage/kelogviewer/kelogviewer-0.4.0.7.ebuild
/usr/portage/kde-base/pykde/pykde-3.5.5-r2.ebuild
/usr/portage/kde-base/pykde/pykde-3.5.5-r1.ebuild
/usr/portage/kde-base/pykde/pykde-3.5.6.ebuild
/usr/portage/dev-python/pykde/pykde-3.16.0.ebuild

BTW, kelogviewer seems to run OK with dev-python/pykde, so I'm closing this one. Do "emerge --nodeps kelogviewer" and open a new bug if you want to fix kelogviewer.

Best regards,
Norberto





Comment 14


Jakub Januszkiewicz





          2007-02-11 12:51:36 UTC
        

All right, I've tried and indeed kelogviewer seems to compile and run OK with dev-python/pykde.

I've filed a bug about this: bug #166328.

Thanks for your help.

So, if kelogviewer depends on dev-python/pykde instead of kde-base/pykde, will kde-base/pykde be needed at all? Maybe I should file another bug and request to remove it from the tree?









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

