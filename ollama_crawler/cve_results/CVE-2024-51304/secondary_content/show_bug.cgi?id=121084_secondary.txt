Title: 121084 – automatically started iptables does not restore rules
URL: https://bugs.gentoo.org/show_bug.cgi?id=121084

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 121084
automatically started iptables does not restore rules
Last modified: 2007-07-11 13:11:38 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 121084 
      - automatically started iptables does not restore rules


Summary:
automatically started iptables does not restore rules
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] baselayout

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo's Team for Core System packages








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-01-31 12:37 UTC by Toralf Goaltenner





      Modified:
    
2007-07-11 13:11 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Toralf Goaltenner





          2006-01-31 12:37:40 UTC
        

* made some iptable rules
* saved them via /etc/init.d/iptables save
* after /etc/init.d/iptables start everything is working
* /etc/init.d/iptables stop saves rules correct
* /etc/init.d/iptables start loads saved rules correct
---
* reboot
* iptables is started (automatically or manuell) but does not use saved(existing) ruleset




Comment 1


Jakub Moc (RETIRED)






          2006-01-31 12:50:37 UTC
        

I'm pretty sure it works on many machines I'm using every day... What about iptables version and emerge --info? 




Comment 2


Toralf Goaltenner





          2006-01-31 12:58:59 UTC
        

~ # emerge info
Portage 2.0.54 (default-linux/x86/2005.1, gcc-3.3.6, glibc-2.3.5-r2, 2.6.14-gentoo-r2 i686)
=================================================================
System uname: 2.6.14-gentoo-r2 i686 AMD Athlon(tm) XP 2500+
Gentoo Base System version 1.12.0_pre15
dev-lang/python:     2.3.5, 2.4.2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -pipe -march=athlon-xp -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/ /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -pipe -march=athlon-xp -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks fixpackages sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LINGUAS="de"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.de.gentoo.org/gentoo-portage"
USE="x86 X alsa apache2 apm audiofile avi bash-completion berkdb bitmap-fonts bzip2 cdparanoia cdr crypt cups curl dbus directfb doc dts dvd eds emboss encode esd ethereal exif expat fam ffmpeg flac foomaticdb fortran gd gd-external gdbm gif glut gmp gpm gstreamer gtk gtk2 hal idn imlib ipv6 java jpeg kde lcms libg++ libwww mad matroska mikmod mng motif mozilla mp3 mpeg mysql nas ncurses nls ogg oggvorbis opengl oss pam pcre pdflib perl png python qt quicktime readline ruby samba sdl spell ssl svga tcpd tetex tiff truetype truetype-fonts type1-fonts udev usb vorbis xine xml xml2 xmms xv xvid zlib linguas_de userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS
------------------------------------------------
iptables-version: iptables v1.3.4




Comment 3


Toralf Goaltenner





          2006-01-31 13:03:00 UTC
        

(In reply to comment #0)
nearly the same like in 
http://forums.gentoo.org//viewtopic-t-402517-start-0-postdays-0-postorder-asc-highlight-.html
, but I don't use any gui.
btw: solution may work, but doesn#t solve problem




Comment 4


Roy Marples (RETIRED)






          2007-07-11 13:11:38 UTC
        

I can't replicate this. Re-open if this is still a problem.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

