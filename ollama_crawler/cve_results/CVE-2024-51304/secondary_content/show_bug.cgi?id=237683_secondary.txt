Title: 237683 – dev-tex/mh-20080903 fails to emerge
URL: https://bugs.gentoo.org/show_bug.cgi?id=237683

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 237683
dev-tex/mh-20080903 fails to emerge
Last modified: 2010-12-21 21:35:49 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 237683 
      - dev-tex/mh-20080903 fails to emerge


Summary:
dev-tex/mh-20080903 fails to emerge
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

TeX project








URL:







Whiteboard:




Keywords:









Duplicates (12):
    

240346 247381 255255 262809 267893 267977 274961 280593 284651 298748 320529 348988

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2008-09-15 05:38 UTC by Markus Meier





      Modified:
    
2010-12-21 21:35 UTC
      (History)
    




          CC List:
        

10 
          users
          
            (show)
          



anna.janackova
dark
kogorman
mathwizard
mmokrejs
natxo.xaxo
order+gentoo
patrick
plaes
Tinitus1









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Markus Meier






          2008-09-15 05:38:43 UTC
        

not sure if dev-tex/mh is missing a dependency here...

# emerge @world @system -vuDNa

These are the packages that would be merged, in order:

Calculating dependencies  .... done!
[ebuild  N    ] dev-tex/mh-20080903  USE="-doc" 0 kB
[ebuild  N    ] dev-tex/glossaries-1.14  USE="-doc -examples" 0 kB
[ebuild     U ] app-text/texlive-2008 [2007-r3] USE="X extra graphics music png pstricks publishers science truetype%* xml -cjk -context -cyrillic -detex% -doc -dvi2tty% -games -humanities -jadetex -omega -tex4ht -xetex -xindy%" LINGUAS="de en en_GB -af -ar -bg -bn -bo -cs -cy -da -el -eo -es -et -fi -fr -ga% -he -hi -hr -hsb -hu -hy -id -is -it -ja -ko -la -ml -mn -nl -no -pl -pt -ro -ru -sk -sl -sr -sv -ta -th -tr -uk -vi -zh" 0 kB

Total: 3 packages (1 upgrade, 2 new), Size of downloads: 0 kB

Would you like to merge these packages? [Yes/No]

>>> Verifying ebuild manifests

>>> Starting parallel fetch

>>> Emerging (1 of 3) dev-tex/mh-20080903
 * mh-20080903.zip RMD160 SHA1 SHA256 size ;-) ...                                                                                                                                                      [ ok ]
>>> Creating Manifest for /home/maekke/cvs/gentoo-x86/dev-tex/mh
  digest.assumed                 1
   mh-20080407::mh-20080407.zip
 * checking ebuild checksums ;-) ...                                                                                                                                                                    [ ok ]
 * checking auxfile checksums ;-) ...                                                                                                                                                                   [ ok ]
 * checking miscfile checksums ;-) ...                                                                                                                                                                  [ ok ]
>>> Creating Manifest for /home/maekke/cvs/gentoo-x86/dev-tex/mh
  digest.assumed                 1
   mh-20080407::mh-20080407.zip
>>> Unpacking source...
>>> Unpacking mh-20080903.zip to /var/tmp/portage/dev-tex/mh-20080903/work
>>> Source unpacked.
>>> Creating Manifest for /home/maekke/cvs/gentoo-x86/dev-tex/mh
  digest.assumed                 1
   mh-20080407::mh-20080407.zip
>>> Compiling source in /var/tmp/portage/dev-tex/mh-20080903/work/mh ...
This is TeX, Version 3.1415926 (Web2C 7.5.7)
---! //var/lib/texmf/web2c/tex.fmt doesn't match tex.pool
(Fatal format file error; I'm stymied)
 *
 * ERROR: dev-tex/mh-20080903 failed.
 * Call stack:
 *               ebuild.sh, line   49:  Called src_compile
 *             environment, line 2255:  Called die
 * The specific snippet of code:
 *           tex ${i} || die "TeXing ${i} failed";
 *  The die message:
 *   TeXing breqn.dtx failed

# qlist -Iv texlive
app-text/texlive-2007-r3
app-text/texlive-core-2008
dev-texlive/texlive-basic-2008
dev-texlive/texlive-bibtexextra-2008
dev-texlive/texlive-documentation-base-2008
dev-texlive/texlive-fontsextra-2008
dev-texlive/texlive-fontsrecommended-2008
dev-texlive/texlive-formatsextra-2008
dev-texlive/texlive-genericextra-2008
dev-texlive/texlive-genericrecommended-2008
dev-texlive/texlive-htmlxml-2008
dev-texlive/texlive-langgerman-2008
dev-texlive/texlive-langukenglish-2008
dev-texlive/texlive-latex-2008
dev-texlive/texlive-latex3-2008
dev-texlive/texlive-latexextra-2008
dev-texlive/texlive-latexrecommended-2008-r1
dev-texlive/texlive-mathextra-2008
dev-texlive/texlive-metapost-2008
dev-texlive/texlive-music-2008
dev-texlive/texlive-pictures-2008
dev-texlive/texlive-plainextra-2008
dev-texlive/texlive-pstricks-2008
dev-texlive/texlive-psutils-2008
dev-texlive/texlive-publishers-2008
dev-texlive/texlive-science-2008
dev-texlive/texlive-texinfo-2008

Portage 2.2_rc8 (default/linux/x86/2008.0/desktop, gcc-4.3.1, glibc-2.8_p20080602-r0, 2.6.27-rc6 i686)
=================================================================
System uname: Linux-2.6.27-rc6-i686-Intel-R-_Pentium-R-_M_processor_1600MHz-with-glibc2.0
Timestamp of tree: Unknown
app-shells/bash:     3.2_p39
dev-lang/python:     2.5.2-r7
dev-python/pycrypto: 2.0.1-r6
sys-apps/baselayout: 2.0.0
sys-apps/openrc:     0.2.5
sys-apps/sandbox:    1.2.18.1-r3
sys-devel/autoconf:  2.13, 2.62-r1
sys-devel/automake:  1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.1-r1
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   2.2.4
virtual/os-headers:  2.6.26
ACCEPT_KEYWORDS="x86 ~x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium-m -fomit-frame-pointer -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/kde/4.0/env /usr/kde/4.0/share/config /usr/kde/4.0/shutdown /usr/share/config"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-O2 -march=pentium-m -fomit-frame-pointer -pipe"
DISTDIR="/usr/portage/distfiles"
EMERGE_DEFAULT_OPTS="--nospinner"
FEATURES="collision-protect cvs digest distlocks fixpackages parallel-fetch preserve-libs sandbox sfperms sign strict unmerge-orphans userfetch userpriv usersandbox"
GENTOO_MIRRORS="http://mirror.switch.ch/mirror/gentoo/"
LANG="en_GB.utf8"
LC_ALL="en_GB.utf8"
LDFLAGS="-Wl,-O1,--as-needed"
LINGUAS="en de en_GB"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/home/maekke/cvs/gentoo-x86"
PORTDIR_OVERLAY="/home/maekke/cvs/mozilla"
SYNC="rsync://minil/gentoo-portage"
USE="X a52 aac acpi alsa apache2 avahi berkdb bidi bluetooth branding bzip2 cairo cdr cli cracklib crypt cups curl dbus divx divx4linux dri dts dvd dvdr dvdread emboss encode evo exif fam ffmpeg flac fortran gdbm gif gpm graphviz gs gtk hal iconv ieee1394 ipod ipv6 isdnlog jpeg latex lcms libnotify live mad midi mikmod mmx mp3 mpeg mudflap ncurses nls nptl nptlonly nsplugin ntfs ogg oggvorbis openexr opengl pam pcre pdf png ppds pppd pulseaudio python qt qt3 qt3support qt4 quicktime raw readline real reflection samba screen sdl session spell spl sse sse2 ssl startup-notification stream svg sysfs tcpd tetex tex theora threads tiff truetype udev unicode usb vcd vorbis win32codecs wxwindows x86 xcomposite xine xinerama xml xorg xprint xulrunner xv xvid zeroconf zlib" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic auth_digest authn_anon authn_dbd authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock dbd deflate dir disk_cache env expires ext_filter file_cache filter headers ident imagemap include info log_config logio mem_cache mime mime_magic negotiation proxy proxy_ajp proxy_balancer proxy_connect proxy_http rewrite setenvif so speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="evdev synaptics mouse keyboard" KERNEL="linux" LINGUAS="en de en_GB" USERLAND="GNU" VIDEO_CARDS="radeon"
Unset:  CPPFLAGS, CTARGET, FFLAGS, INSTALL_MASK, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Alexis Ballier






          2008-09-15 07:04:24 UTC
        

(In reply to comment #0)

> >>> Compiling source in /var/tmp/portage/dev-tex/mh-20080903/work/mh ...
> This is TeX, Version 3.1415926 (Web2C 7.5.7)
> ---! //var/lib/texmf/web2c/tex.fmt doesn't match tex.pool
> (Fatal format file error; I'm stymied)

Most likely an upgrade that wasn't smooth. Please have a look at:
http://www.gentoo.org/proj/en/tex/texlive-migration-guide.xml#doc_chap4

Here I dont have /var/lib/texmf/web2c/tex.fmt, which is probably a remaining of tetex; However I have: /var/lib/texmf/web2c/tex/tex.fmt

Please reopen if it doesn't work after following the guide.




Comment 2


Markus Meier






          2008-09-15 16:42:21 UTC
        

thanks for the pointer, I removed the orphans in /var/lib/texmf/web2c helped to fix this "bug", and now everything emerges w/o problems.




Comment 3


Alexis Ballier






          2008-10-07 05:10:06 UTC
        

*** Bug 240346 has been marked as a duplicate of this bug. ***




Comment 4


Łukasz Sowiński





          2008-11-19 07:05:38 UTC
        

*** Bug 247381 has been marked as a duplicate of this bug. ***




Comment 5


Alexis Ballier






          2009-01-20 19:01:12 UTC
        

*** Bug 255255 has been marked as a duplicate of this bug. ***




Comment 6


Ulrich Müller






          2009-03-20 07:21:05 UTC
        

*** Bug 262809 has been marked as a duplicate of this bug. ***




Comment 7


Alexis Ballier






          2009-05-03 18:52:00 UTC
        

*** Bug 267893 has been marked as a duplicate of this bug. ***




Comment 8


Alexis Ballier






          2009-05-03 18:52:29 UTC
        

*** Bug 267977 has been marked as a duplicate of this bug. ***




Comment 9


Alexis Ballier






          2009-06-22 08:40:15 UTC
        

*** Bug 274961 has been marked as a duplicate of this bug. ***




Comment 10


SpanKY






          2009-07-09 16:54:10 UTC
        

if the tetex packages were the only thing to ever install into /var/lib/texmf/web2c, and there is no user who would touch that, then the ebuild should automatically delete the directory.  or issue a warning and rename it.




Comment 11


Justin Lecher (RETIRED)






          2009-08-06 21:30:20 UTC
        

*** Bug 280597 has been marked as a duplicate of this bug. ***




Comment 12


Justin Lecher (RETIRED)






          2009-08-06 21:31:13 UTC
        

*** Bug 280593 has been marked as a duplicate of this bug. ***




Comment 13


Alexis Ballier






          2009-09-12 11:53:05 UTC
        

*** Bug 284651 has been marked as a duplicate of this bug. ***




Comment 14


Alexis Ballier






          2009-12-30 21:02:11 UTC
        

*** Bug 298748 has been marked as a duplicate of this bug. ***




Comment 15


Alexis Ballier






          2010-05-19 21:17:05 UTC
        

*** Bug 320529 has been marked as a duplicate of this bug. ***




Comment 16


Andrew John Hughes





          2010-07-27 21:08:33 UTC
        

Just hit this myself and so many duplicate bug reports... the ebuild should be deleting that file if it exists, or the entire directory as Spanky suggests.




Comment 17


Andrew John Hughes





          2010-07-27 21:12:01 UTC
        

Others use the directory: 

# equery b /var/lib/texmf/web2c
* Searching for /var/lib/texmf/web2c ... 
app-text/jadetex-3.13-r3 (/var/lib/texmf/web2c)
dev-tex/xmltex-1.9-r2 (/var/lib/texmf/web2c)
dev-texlive/texlive-basic-2009 (/var/lib/texmf/web2c)
dev-texlive/texlive-formatsextra-2009 (/var/lib/texmf/web2c)
dev-texlive/texlive-latex-2009 (/var/lib/texmf/web2c)
dev-texlive/texlive-mathextra-2009 (/var/lib/texmf/web2c)
dev-texlive/texlive-metapost-2009 (/var/lib/texmf/web2c)





Comment 18


Alexis Ballier






          2010-12-21 21:35:49 UTC
        

*** Bug 348988 has been marked as a duplicate of this bug. ***









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

