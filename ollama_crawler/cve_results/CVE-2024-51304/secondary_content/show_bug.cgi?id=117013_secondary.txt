Title: 117013 – media-libs/gst-plugins-0.8.11 compile failed
URL: https://bugs.gentoo.org/show_bug.cgi?id=117013

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 117013
media-libs/gst-plugins-0.8.11 compile failed
Last modified: 2006-07-02 02:21:56 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 117013 
      - media-libs/gst-plugins-0.8.11 compile failed


Summary:
media-libs/gst-plugins-0.8.11 compile failed
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

GStreamer package maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-12-28 12:14 UTC by Ernestas Liubarskij





      Modified:
    
2006-07-02 02:21 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



gentoo-bugzilla
gnome









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Ernestas Liubarskij





          2005-12-28 12:14:45 UTC
        

media-libs/gst-plugins-0.8.11 emerge fails with the following message:

make[4]: Leaving directory `/var/tmp/portage/gst-plugins-0.8.11/work/gst-plugins-0.8.11/gst/modplug'
make[3]: Leaving directory `/var/tmp/portage/gst-plugins-0.8.11/work/gst-plugins-0.8.11/gst/modplug'
make[3]: Entering directory `/var/tmp/portage/gst-plugins-0.8.11/work/gst-plugins-0.8.11/gst'
make[3]: Nothing to be done for `all-am'.
make[3]: Leaving directory `/var/tmp/portage/gst-plugins-0.8.11/work/gst-plugins-0.8.11/gst'
make[2]: Leaving directory `/var/tmp/portage/gst-plugins-0.8.11/work/gst-plugins-0.8.11/gst'
Making all in sys
make[2]: Entering directory `/var/tmp/portage/gst-plugins-0.8.11/work/gst-plugins-0.8.11/sys'
Making all in ximage
make[3]: Entering directory `/var/tmp/portage/gst-plugins-0.8.11/work/gst-plugins-0.8.11/sys/ximage'
if /bin/sh ../../libtool --tag=CC --mode=compile i686-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I. -I../..    -I../../gst-libs -I../../gst-libs -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -pthread -I/usr/include/gstreamer-0.8 -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include -I/usr/include/libxml2   -DGST_DISABLE_DEPRECATED  -Wall  -DHAVE_XFIXES    -O2 -march=pentium4 -pipe -MT libgstximagesink_la-gstximageplugin.lo -MD -MP -MF ".deps/libgstximagesink_la-gstximageplugin.Tpo" -c -o libgstximagesink_la-gstximageplugin.lo `test -f 'gstximageplugin.c' || echo './'`gstximageplugin.c; \
then mv -f ".deps/libgstximagesink_la-gstximageplugin.Tpo" ".deps/libgstximagesink_la-gstximageplugin.Plo"; else rm -f ".deps/libgstximagesink_la-gstximageplugin.Tpo"; exit 1; fi
if /bin/sh ../../libtool --tag=CC --mode=compile i686-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I. -I../..    -I../../gst-libs -I../../gst-libs -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -pthread -I/usr/include/gstreamer-0.8 -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include -I/usr/include/libxml2   -DGST_DISABLE_DEPRECATED  -Wall  -DHAVE_XFIXES    -O2 -march=pentium4 -pipe -MT libgstximagesink_la-ximagesrc.lo -MD -MP -MF ".deps/libgstximagesink_la-ximagesrc.Tpo" -c -o libgstximagesink_la-ximagesrc.lo `test -f 'ximagesrc.c' || echo './'`ximagesrc.c; \
then mv -f ".deps/libgstximagesink_la-ximagesrc.Tpo" ".deps/libgstximagesink_la-ximagesrc.Plo"; else rm -f ".deps/libgstximagesink_la-ximagesrc.Tpo"; exit 1; fimkdir .libs
mkdir .libs
 i686-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I. -I../.. -I../../gst-libs -I../../gst-libs -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -pthread -I/usr/include/gstreamer-0.8 -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include -I/usr/include/libxml2 -DGST_DISABLE_DEPRECATED -Wall -DHAVE_XFIXES -O2 -march=pentium4 -pipe -MT libgstximagesink_la-ximagesrc.lo -MD -MP -MF .deps/libgstximagesink_la-ximagesrc.Tpo -c ximagesrc.c  -fPIC -DPIC -o .libs/libgstximagesink_la-ximagesrc.o
mkdir: cannot create directory `.libs': File exists
 i686-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I. -I../.. -I../../gst-libs -I../../gst-libs -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -pthread -I/usr/include/gstreamer-0.8 -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include -I/usr/include/libxml2 -DGST_DISABLE_DEPRECATED -Wall -DHAVE_XFIXES -O2 -march=pentium4 -pipe -MT libgstximagesink_la-gstximageplugin.lo -MD -MP -MF .deps/libgstximagesink_la-gstximageplugin.Tpo -c gstximageplugin.c  -fPIC -DPIC -o .libs/libgstximagesink_la-gstximageplugin.o
if /bin/sh ../../libtool --tag=CC --mode=compile i686-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I. -I../..    -I../../gst-libs -I../../gst-libs -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -pthread -I/usr/include/gstreamer-0.8 -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include -I/usr/include/libxml2   -DGST_DISABLE_DEPRECATED  -Wall  -DHAVE_XFIXES    -O2 -march=pentium4 -pipe -MT libgstximagesink_la-ximagesink.lo -MD -MP -MF ".deps/libgstximagesink_la-ximagesink.Tpo" -c -o libgstximagesink_la-ximagesink.lo `test -f 'ximagesink.c' || echo './'`ximagesink.c; \
then mv -f ".deps/libgstximagesink_la-ximagesink.Tpo" ".deps/libgstximagesink_la-ximagesink.Plo"; else rm -f ".deps/libgstximagesink_la-ximagesink.Tpo"; exit 1; fi
ximagesrc.c: In function `gst_ximagesrc_change_state':
ximagesrc.c:443: error: structure has no member named `damage_event_base'
make[3]: *** [libgstximagesink_la-ximagesrc.lo] Error 1
make[3]: *** Waiting for unfinished jobs....
 i686-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I. -I../.. -I../../gst-libs -I../../gst-libs -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -pthread -I/usr/include/gstreamer-0.8 -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include -I/usr/include/libxml2 -DGST_DISABLE_DEPRECATED -Wall -DHAVE_XFIXES -O2 -march=pentium4 -pipe -MT libgstximagesink_la-ximagesink.lo -MD -MP -MF .deps/libgstximagesink_la-ximagesink.Tpo -c ximagesink.c  -fPIC -DPIC -o .libs/libgstximagesink_la-ximagesink.o
make[3]: Leaving directory `/var/tmp/portage/gst-plugins-0.8.11/work/gst-plugins-0.8.11/sys/ximage'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/var/tmp/portage/gst-plugins-0.8.11/work/gst-plugins-0.8.11/sys'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/gst-plugins-0.8.11/work/gst-plugins-0.8.11'
make: *** [all] Error 2

!!! ERROR: media-libs/gst-plugins-0.8.11 failed.
!!! Function src_compile, Line 52, Exitcode 2
!!! (no error message)
!!! If you need support, post the topmost build error, NOT this status message.

emerge --info
Portage 2.1_pre2 (default-linux/x86/2005.1, gcc-3.4.4, glibc-2.3.5-r3, 2.6.14-gentoo-r5 i686)
=================================================================
System uname: 2.6.14-gentoo-r5 i686 Intel(R) Celeron(R) CPU 2.00GHz
Gentoo Base System version 1.12.0_pre12
ccache version 2.4 [enabled]
dev-lang/python:     2.3.5-r2, 2.4.2
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1-r1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r3
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O3 -march=pentium4 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config /usr/lib/mozilla/defaults/pref /usr/share/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O3 -march=pentium4 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://trumpetti.atm.tut.fi/gentoo/ ftp://ftp.dtiltas.lt/mirror/gentoo/ http://pandemonium.tiscali.de/pub/gentoo/"
LC_ALL="lt_LT.utf8"
LINGUAS="lt"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X a52 aac aalib acpi alsa apm artworkextra asf audiofile avi bash-completion berkdb bitmap-fonts browserplugin bzip2 cdb cdparanoia cdr chroot crypt curl dbus dri dv dvd dvdread eds emboss encode exif expat fam ffmpeg firefox flac foomaticdb fortran gd gdbm gif glut gnome gnutls gpm gstreamer gtk gtk2 hal howl idn imagemagick imlib irssi java javascript jpeg lame lcms libg++ libwww live logrotate mad matroska mikmod mjpeg mmx mmxext mng motif mozilla mp3 mpeg mplayer nautilus ncurses network nls nptl nsplugin numeric nvidia offensive ogg oggvorbis openal opengl oss pam pcre pdflib perl pic png python quicktime readline real sdl shorten spell sse sse2 ssl symlink tcpd tiff truetype truetype-fonts type1-fonts udev unicode usb vcd vidix vorbis win32codecs wxwindows xchat xine xml xml2 xv xvid zlib elibc_glibc kernel_linux linguas_lt userland_GNU"
Unset:  ASFLAGS, CTARGET, LANG, LDFLAGS, PORTDIR_OVERLAY




Comment 1


Ernestas Liubarskij





          2005-12-31 06:11:34 UTC
        

Not all modular X packages were installed, just installed everything and it recompiled. It should depend on some modular Xorg package, maybe on libXdamage as said in bug 117265. Actually, when I saw that bug, then I thinked that it may be a missing gst-plugins dependency, and I think it can be libXdamage too, because it wasn't installed when I got this error message.




Comment 2


Jens Weibler





          2006-07-02 02:21:56 UTC
        

I had that compile error too (clean compile of gentoo from stage3).

After a manual emerge of libXdamage I could emerge it - please consider to reopen this bug..



-----------------------
Portage 2.0.54 (default-linux/x86/2006.0, gcc-3.4.4, glibc-2.3.5-r2, 2.6.11 i686)
=================================================================
System uname: 2.6.11 i686 Intel(R) Pentium(R) M processor 1.86GHz
Gentoo Base System version 1.6.14
dev-lang/python:     2.4.2
dev-python/pycrypto: [Not Present]
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.12-r6
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium-m -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc"
CONFIG_PROTECT_MASK="/etc/gconf /etc/revdep-rebuild /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=pentium-m -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LANG="de_DE@euro"
LC_ALL="de_DE@euro"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X acl acpi alsa apache2 arts audiofile avi bash-completion berkdb bitmap-fonts bluetooth bzip2 cdr cli crypt cups curl dbus dedicated dri dvdr dvdread eds emboss encode esd exif expat fam fastcgi ffmpeg flash foomaticdb fortran ftp gd gdbm gif glut gnome gpm gps gstreamer gtk gtk2 hal icc icq idn ieee1394 imagemagick imap imlib ipv6 isdnlog jabber jack java javascript jpeg jpeg2k junit kde lcms libg++ libwww mad mhash mikmod mmx mng mono motif mp3 mpeg mpi msn ncurses nls nocd nptl offensive ogg opengl oss pam pcmcia pcntl pcre pdf pdflib perl php png pppd python qt qt3 qt4 quicktime readline recode reflection samba sdl session smartcard spell spl sse2 ssl symlink tcpd threads tidy tiff truetype truetype-fonts type1-fonts udev unicode usb vcd vhosts videos vorbis wifi win32codecs wmf xml xml2 xmlrpc xmms xorg xv zlib input_devices_keyboard input_devices_mouse input_devices_synaptics userland_GNU kernel_linux elibc_glibc"
Unset:  CTARGET, INSTALL_MASK, LDFLAGS, LINGUAS, MAKEOPTS, PORTAGE_RSYNC_EXTRA_OPTS, PORTAGE_RSYNC_OPTS, PORTDIR_OVERLAY(In reply to comment #0)









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

