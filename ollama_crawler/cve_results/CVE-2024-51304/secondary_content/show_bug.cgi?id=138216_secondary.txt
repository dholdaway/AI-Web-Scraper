Title: 138216 – tp_smapi-0.20 with USE="hdapd" doesn't compile with gentoo-sources-2.6.17
URL: https://bugs.gentoo.org/show_bug.cgi?id=138216

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 138216
tp_smapi-0.20 with USE="hdapd" doesn't compile with gentoo-sources-2.6.17
Last modified: 2006-06-27 16:51:16 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 138216 
      - tp_smapi-0.20 with USE="hdapd" doesn't compile with gentoo-sources-2.6.17


Summary:
tp_smapi-0.20 with USE="hdapd" doesn't compile with gentoo-sources-2.6.17
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Core system

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Henrik Brix Andersen








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:




137175



 

        Show dependency tree





 





      Reported:
    
2006-06-27 08:58 UTC by Gabriel Lavoie





      Modified:
    
2006-06-27 16:51 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



ahf
mobile+disabled









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Gabriel Lavoie





          2006-06-27 08:58:59 UTC
        

Calculating dependencies... done!
>>> Emerging (1 of 1) app-laptop/tp_smapi-0.20 to /
>>> checking ebuild checksums ;-)
>>> checking auxfile checksums ;-)
>>> checking miscfile checksums ;-)
>>> checking tp_smapi-0.20.tgz ;-)
 * Determining the location of the kernel source code
 * Found kernel source directory:
 *     /usr/src/linux
 * Found sources for kernel version:
 *     2.6.17-gentoo-MindLess
>>> Unpacking source...
>>> Unpacking tp_smapi-0.20.tgz to /var/tmp/portage/tp_smapi-0.20/work
>>> Source unpacked.
>>> Compiling source in /var/tmp/portage/tp_smapi-0.20/work/tp_smapi-0.20 ...
 * Preparing tp_base module
patch -d /usr/src/linux -i /var/tmp/portage/tp_smapi-0.20/work/tp_smapi-0.20/diff/hdaps.diff -p1 -o /var/tmp/portage/tp_smapi-0.20/work/tp_smapi-0.20/hdaps.c
patching file drivers/hwmon/hdaps.c
Hunk #11 FAILED at 500.
Hunk #12 succeeded at 538 (offset 12 lines).
Hunk #13 succeeded at 567 (offset 12 lines).
Hunk #14 succeeded at 579 (offset 12 lines).
Hunk #15 succeeded at 589 (offset 12 lines).
1 out of 15 hunks FAILED -- saving rejects to file /var/tmp/portage/tp_smapi-0.20/work/tp_smapi-0.20/hdaps.c.rej
make: *** [hdaps.c] Erreur 1

!!! ERROR: app-laptop/tp_smapi-0.20 failed.
Call stack:
  ebuild.sh, line 1539:   Called dyn_compile
  ebuild.sh, line 939:   Called src_compile
  ebuild.sh, line 1248:   Called linux-mod_src_compile
  linux-mod.eclass, line 515:   Called die

!!! Unable to make  KSRC=/usr/src/linux HDAPS=1 default.
!!! If you need support, post the topmost build error, and the call stack if relevant.


emerge --info:
--------------
Portage 2.1-r1 (default-linux/x86/2006.0, gcc-3.4.6, glibc-2.3.6-r4, 2.6.17-gentoo-MindLess i686)
=================================================================
System uname: 2.6.17-gentoo-MindLess i686 Intel(R) Pentium(R) M processor 1.80GHz
Gentoo Base System version 1.6.15
dev-lang/python:     2.3.5-r2, 2.4.2
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1-r2
sys-devel/gcc-config: 1.3.13-r2
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O3 -march=pentium-m -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/gconf /etc/revdep-rebuild /etc/splash /etc/terminfo /etc/texmf/web2c"
CXXFLAGS="-O3 -march=pentium-m -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LANG="fr_CA"
LC_ALL="fr_CA"
LINGUAS="fr"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X aalib acl acpi alsa apache2 apm arts audiofile avi bash-completion berkdb bitmap-fonts bonobo bzip2 cdparanoia cdr cli crypt ctype cups curl dbus directfb doc dri dvd dvdr dvdread eds emboss encode esd ethereal exif fam fbsplash firefox flac foomaticdb fortran ftp gd gdbm gif gnome gphoto2 gpm gstreamer gtk gtk2 gtkhtml hal iconv ieee1394 imagemagick imap imlib innodb ipv6 isdnlog jabber java javascript jpeg libcaca libg++ libwww lirc logrotate mad mikmod mime mmap mmx mng motif mp3 mpeg msn mysql ncurses nls nptl nptlonly nsplugin ogg opengl oss pam pcmcia pcre pdf pdflib perl php png posix postgres pppd python qt quicktime readline reflection samba sasl sdl session spell spl sqlite sse sse2 ssl svg svga tcpd threads truetype truetype-fonts type1-fonts udev unicode usb videos vorbis wifi win32codecs wxwindows xinerama xml xml2 xmlrpc xmms xorg xpm xprint xsl xv xvid zlib elibc_glibc input_devices_keyboard input_devices_mouse input_devices_synaptics kernel_linux linguas_fr lirc_devices_sir userland_GNU video_cards_radeon video_cards_vesa"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LDFLAGS, MAKEOPTS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY




Comment 1


Alexander Færøy





          2006-06-27 11:08:13 UTC
        

Hi there,

I had the same issue last night.

Version 0.21 of tp_smapi is the only version that compiles against the 2.6.17 kernel as far as I know.

Regards
Alex




Comment 2


Gabriel Lavoie





          2006-06-27 12:27:45 UTC
        

Here, version 0.19 compile against 2.6.17. I haven't tryed 0.21.

(In reply to comment #1)
> Hi there,
> 
> I had the same issue last night.
> 
> Version 0.21 of tp_smapi is the only version that compiles against the 2.6.17
> kernel as far as I know.
> 
> Regards
> Alex
> 




Comment 3


Henrik Brix Andersen





          2006-06-27 16:51:16 UTC
        

This is already fixed in tp_smapi-0.21, which will go stable before linux-2.6.17.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

