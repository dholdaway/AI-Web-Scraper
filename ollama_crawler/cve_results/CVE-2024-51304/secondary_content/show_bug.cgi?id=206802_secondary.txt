Title: 206802 – media-video/transcode-1.0.4-r2 build failure - cant find ffmpeg
URL: https://bugs.gentoo.org/show_bug.cgi?id=206802

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 206802
media-video/transcode-1.0.4-r2 build failure - cant find ffmpeg
Last modified: 2008-01-24 22:20:22 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 206802 
      - media-video/transcode-1.0.4-r2 build failure - cant find ffmpeg


Summary:
media-video/transcode-1.0.4-r2 build failure - cant find ffmpeg
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Media-video project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-01-20 19:58 UTC by Thilo Bangert (RETIRED) (RETIRED)





      Modified:
    
2008-01-24 22:20 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Thilo Bangert (RETIRED) (RETIRED)






          2008-01-20 19:58:13 UTC
        

config.status: executing depfiles commands

----------------------------------------
Summary for transcode 1.0.4:
----------------------------------------

core options
----------------------------------------
static AV-frame buffering      yes
network (sockets) streams      no
experimental xio               no
Default xvid export            xvid4
A52 default decoder            yes

libavcodec
----------------------------------------
headers                        -I/usr/include
libraries
build
version
statically linked              no

hardware support
----------------------------------------
v4l/v4l2                       yes
OSS                            no
bktr                           no
sunau                          no

optional package support
----------------------------------------
IBP                            no
X11                            yes
libmpeg2                       yes
libpostproc                    no
freetype2                      yes
avifile                        no
lame                           yes
ogg                            yes
vorbis                         yes
theora                         yes
libdvdread                     yes
pvm3                           no
libdv                          no
libquicktime                   yes
lzo                            no
a52                            yes
libmpeg3                       yes
libxml2                        yes
mjpegtools                     no
sdl                            yes
libfame                        no
imagemagick                    no
libjpeg                        yes
bsdav                          no
iconv                          yes

ERROR: requirement failed: cannot link against libavcodec
libavcodec can be found in the following packages:
  FFMpeg  http://www.ffmpeg.org/


Please see the INSTALL file in the top directory of the
transcode sources for more information about building
transcode with this configure script.


!!! Please attach the following file when filing a report to bugs.gentoo.org:
!!! /var/tmp/portage/media-video/transcode-1.0.4-r2/work/transcode-1.0.4/config.log
 *
 * ERROR: media-video/transcode-1.0.4-r2 failed.
 * Call stack:
 *                   ebuild.sh, line 1701:  Called dyn_compile
 *                   ebuild.sh, line 1039:  Called qa_call 'src_compile'
 *                   ebuild.sh, line   44:  Called src_compile
 *   transcode-1.0.4-r2.ebuild, line  107:  Called econf '--with-default-xvid=xvid4' '--enable-a52' '--enable-a52-default-decoder' '--enable-mmx' '--enable-sse' '--disable-sse2' '--disable-3dnow' '--disable-altivec' '--disable-netstream' '--enable-freetype2' '--enable-v4l' '--enable-lame' '--enable-ogg' '--disable-oss' '--enable-vorbis' '--enable-theora' '--enable-libdvdread' '--disable-libdv' '--enable-libquicktime' '--disable-lzo' '--enable-iconv' '--enable-libmpeg3' '--enable-libxml2' '--disable-mjpegtools' '--enable-sdl' '--disable-libfame' '--disable-imagemagick' '--enable-libjpeg' '--with-x' '--with-mod-path=/usr/lib/transcode' '--with-libpostproc-builddir=/usr/lib' '--disable-avifile' '--disable-xio'
 *                   ebuild.sh, line  638:  Called die



marsupilami ~ # emerge -pv ffmpeg

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild   R   ] media-video/ffmpeg-0.4.9_p20070616  USE="X a52 aac encode imlib mmx network ogg sdl theora threads truetype v4l vorbis x264 xvid zlib (-altivec) -amr -debug -doc -ieee1394 -oss -test" 0 kB

Total: 1 package (1 reinstall), Size of downloads: 0 kB




Comment 1


Thilo Bangert (RETIRED) (RETIRED)






          2008-01-20 19:58:56 UTC
        

marsupilami ~ # emerge --info
Portage 2.1.3.19 (default-linux/x86/2006.1/desktop, gcc-4.1.2, glibc-2.6.1-r0, 2.6.19-gentoo-r5 i686)
=================================================================
System uname: 2.6.19-gentoo-r5 i686 AMD Athlon(tm)
Timestamp of tree: Unknown
ccache version 2.4 [disabled]
app-shells/bash:     3.2_p17-r1
dev-java/java-config: 1.3.7, 2.0.33-r1
dev-lang/python:     2.4.4-r6
dev-python/pycrypto: 2.0.1-r6
dev-util/ccache:     2.4-r7
sys-apps/baselayout: 1.12.10-r5
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.61-r1
sys-devel/automake:  1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.18-r1
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.24
virtual/os-headers:  2.6.23-r3
ACCEPT_KEYWORDS="x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium3 -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /opt/red5/conf /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/config /var/lib/red5-webapps /var/qmail/alias /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-O2 -march=pentium3 -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="cvs distlocks metadata-transfer sandbox sfperms strict unmerge-orphans userfetch userpriv usersandbox"
GENTOO_MIRRORS="http://mirror.uni-c.dk/pub/gentoo/ "
LINGUAS="de da en_GB"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/home/bangert/gentoo/gentoo-x86"
PORTDIR_OVERLAY="/usr/portage/local/layman/kde /home/bangert/gentoo/overlay/ebuilds"
SYNC="cvs://bangert@cvs.gentoo.org:/var/cvsroot"
USE="X a52 aac acl acpi aim alsa audiofile bash-completion berkdb bitmap-fonts bluetooth browserplugin bzip2 bzlib cairo cdparanoia cdr cli cracklib crypt cups dbus divx4linux dri dvd dvdr dvdread eds emboss encode exif expat fam ffmpeg firefox flac font-server gdbm gif gpgme gpm gstreamer gtalk gtk hal iconv icq idn imap isdnlog jabber javascript jpeg jpeg2k kde lcms ldap libcaca mad maildir memlimit mhash midi mime mmx mng mozilla mp3 mpeg mpeg4 mplayer msn mudflap ncurses nls nodrm nptl nptlonly ogg opengl openmp oscar pam pcre perl pic png ppds pppd python qt3 qt4 quicktime rdesktop readline reflection ruby scanner sdl session slp sndfile speex spell spl sse ssl startup-notification subversion svg tga theora threads tiff truetype truetype-fonts type1-fonts unicode usb v4l v4l2 vhosts vnc vorbis wifi win32codecs wmf x86 xface xml xorg xosd xpm xprint xrandr xv xvid zeroconf zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1 emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CAMERAS="canon ptp2" ELIBC="glibc" INPUT_DEVICES="keyboard mouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="de da en_GB" USERLAND="GNU" VIDEO_CARDS="radeon vesa fbdev"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, MAKEOPTS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS






Comment 2


Steve Dibb (RETIRED)






          2008-01-21 18:58:55 UTC
        

bangert, can you try 1.0.{4,5} instead and see if either one works




Comment 3


Thilo Bangert (RETIRED) (RETIRED)






          2008-01-21 19:48:33 UTC
        

1.0.4 fails with the same error
1.0.5 looks fine from here!

thanks!





Comment 4


Steve Dibb (RETIRED)






          2008-01-21 20:33:26 UTC
        

Alright, I thought it was an issue with filtering flags on 1.0.4-r2, but if its working in 1.0.5 (and not in earlier 1.0.4) then I know it's not that.  Thanks man.




Comment 5


Thilo Bangert (RETIRED) (RETIRED)






          2008-01-24 22:20:22 UTC
        

i rebuilt ffmpeg and now 1.0.4-r2 of transcode also builds fine...
dont know excactly what went wrong here - but thanks for your help









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

