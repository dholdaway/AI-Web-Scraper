Title: 81951 – Portage automatically turns on certain USE flags when certain packages are emerged.
URL: https://bugs.gentoo.org/show_bug.cgi?id=81951

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 81951
Portage automatically turns on certain USE flags when certain packages are emerged.
Last modified: 2005-02-15 06:18:08 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 81951 
      - Portage automatically turns on certain USE flags when certain packages are emerged.


Summary:
Portage automatically turns on certain USE flags when certain packages are em...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Portage Development




Classification:

Unclassified




Component:

Core - Dependencies

  (show other bugs)



Hardware:

All
        All
      







Importance:
      
Lowest
       major
      


Assignee:

Portage team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-02-13 20:47 UTC by illuminata





      Modified:
    
2005-02-15 06:18 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


illuminata





          2005-02-13 20:47:02 UTC
        

Apparently, when you emerge a package of a certain type, portage automatically activates particular USE flags.

Here's some background information on how I happened to stumble upon this problem. I emerged sun-jre-bin and I notice that emerge --pretend --verbose --newuse world had java* listed as a USE flag. This, in turn, causes some unwanted behavior, such as db wanting blackdown-jdk emerged, etc. The more things I emerge, the fatter my package list is going to get with unwanted java apps.

Now, I don't have java listed as a USE flag anywhere in /etc/make.conf, /etc/make.globals, or /etc/make.profile/make.defaults. It is, however, listed as a USE flag when emerge info is issued.

I could just add -java in make.conf, but I don't particularly want to. If an ebuild wants certain java apps as dependencies, I don't mind. The more optional java dependencies I could do without, though.

So, unhappy with the situation, I go to #gentoo-portage and try to find out what's up. That's where ferringb informs me that portage will sometimes flip on certain USE flags when certain packages are emerged. Fit my problem to a T. I became even more unhappy; unhappy enough to fill out this very bug report.

Basically, I'm wanting this "feature" out of portage. I put what I wanted for USE flags in make.conf, so why does portage feel that it's necessary to override my wishes? Aren't I supposed to have final say over things like this? I certainly think I should. Right or wrong, portage shouldn't be imposing its choices on me. Hopefully, the portage crew can make the removal of auto-flipping happen. I also would love to hear the reasoning for this being here in the first place as well.




Comment 1


Jason Stubbs (RETIRED)






          2005-02-15 06:18:08 UTC
        

There are two alternatives do that which you want.
USE="-* ..." in make.conf
or
USE_ORDER="env:pkg:conf:defaults"

The second is not documented but does exactly what you want. The first one is the better option and could be created by doing "emerge info | grep USE >> /etc/make.conf" and then removing any specific flags, such as java, that you don't want.

Note, I'm all for getting rid of autouse but that's just because it's horrible to implement design-wise. ;)









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

