Title: 185721 – media-gfx/graphviz-2.12 fails to compile with GCC 4.2 and -Os
URL: https://bugs.gentoo.org/show_bug.cgi?id=185721

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 185721
media-gfx/graphviz-2.12 fails to compile with GCC 4.2 and -Os
Last modified: 2007-10-04 21:47:27 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 185721 
      - media-gfx/graphviz-2.12 fails to compile with GCC 4.2 and -Os


Summary:
media-gfx/graphviz-2.12 fails to compile with GCC 4.2 and -Os
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Graphics Project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:




gcc-4.2



 

        Show dependency tree





 





      Reported:
    
2007-07-18 02:26 UTC by Kenneth Prugh (RETIRED)





      Modified:
    
2007-10-04 21:47 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



esigra
rhill









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




patch to strip -Os with -02

              (graphviz-gcc42.patch,623 bytes,
                patch)

            
2007-07-18 02:29 UTC,

            Kenneth Prugh (RETIRED)




Details
            | Diff





Show
              Obsolete (1)
            View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Kenneth Prugh (RETIRED)






          2007-07-18 02:26:26 UTC
        

media-gfx/graphviz-2.12 doesn't compile with -Os in CFLAGS. It errors out with this: 

gv_python.cpp:2429:35: warning: missing terminating " character
gv_python.cpp:2429: error: missing terminating " character
gv_python.cpp:2429:39: warning: no newline at end of file
gv_python.cpp: In function 'void SWIG_Python_TypeError(const char*, PyObject*)':
gv_python.cpp:2429: error: expected primary-expression at end of input
gv_python.cpp:2429: error: expected `;' at end of input
gv_python.cpp:2429: error: expected `}' at end of input
gv_python.cpp:2429: error: expected `}' at end of input
gv_python.cpp: At global scope:
gv_python.cpp:2429: error: expected `}' at end of input
make[3]: *** [gv_python.lo] Error 1
make[3]: *** Waiting for unfinished jobs....
mv -f .deps/gv_perl.Tpo .deps/gv_perl.Plo
make[3]: Leaving directory `/var/tmp/portage/media-gfx/graphviz-2.12/work/graphviz-2.12/tclpkg/gv'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/var/tmp/portage/media-gfx/graphviz-2.12/work/graphviz-2.12/tclpkg'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/media-gfx/graphviz-2.12/work/graphviz-2.12'
make: *** [all] Error 2

Reproducible: Always

Steps to Reproduce:
1. Use GCC 4.2
2. Emerge graphviz with -Os in CFLAGS




Comment 1


Kenneth Prugh (RETIRED)






          2007-07-18 02:29:10 UTC
        

Created attachment 125222 [details, diff]
patch to strip -Os with -02




Comment 2


SpanKY






          2007-07-18 02:46:05 UTC
        

Comment on attachment 125222 [details, diff]
patch to strip -Os with -02

fix the code, dont ignore the problem




Comment 3


Ryan Hill (RETIRED)






          2007-08-06 17:14:10 UTC
        

works fine here.  please post emerge --info and emerge -pv graphviz.





Comment 4


Kenneth Prugh (RETIRED)






          2007-08-06 17:50:33 UTC
        

Hmm, It works for me here now too. I guess this bug can be marked invalid. 

Although I'd like to mention this: 
Listing /usr/lib/python24.zip ...
Can't list /usr/lib/python24.zip




Comment 5


Jakub Moc (RETIRED)






          2007-10-04 21:47:27 UTC
        

Closing.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

