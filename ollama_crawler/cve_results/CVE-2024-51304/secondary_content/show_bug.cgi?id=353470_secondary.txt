Title: 353470 – cannot install courier, circular deps?
URL: https://bugs.gentoo.org/show_bug.cgi?id=353470

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 353470
cannot install courier, circular deps?
Last modified: 2011-02-02 16:41:06 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 353470 
      - cannot install courier, circular deps?


Summary:
cannot install courier, circular deps?
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2011-02-02 01:19 UTC by Attila Jecs





      Modified:
    
2011-02-02 16:41 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Attila Jecs





          2011-02-02 01:19:42 UTC
        

sudo needs ssmtp which conficts courier...

Reproducible: Always

Steps to Reproduce:
1. USE="-crypt -berkdb -gdbm -pam -fam -nls -spell mailwrapper" emerge courier -pvt

Actual Results:  
These are the packages that would be merged, in reverse order:

Calculating dependencies... done!
[ebuild  N    ] mail-mta/courier-0.65.2-r1  USE="mailwrapper postgres -crypt -fam -fax -ipv6 -ldap -mysql -nls -norewrite -pam -spell -web -webmail" 6,986 kB
[ebuild  N    ]  net-libs/courier-authlib-0.63.0-r1  USE="postgres -berkdb -crypt -debug -gdbm -ldap -mysql -pam -vpopmail" 2,752 kB
[ebuild  N    ]  net-mail/mailwrapper-0.2.1  7 kB
[blocks B     ] net-mail/mailwrapper ("net-mail/mailwrapper" is blocking mail-mta/ssmtp-2.64-r1)
[blocks B     ] mail-mta/ssmtp ("virtual/mta" is blocking mail-mta/ssmtp-2.64-r1)

Total: 3 packages (3 new), Size of downloads: 9,743 kB
Conflict: 2 blocks (2 unsatisfied)

 * Error: The above package list contains packages which cannot be
 * installed at the same time on the same system.

  (mail-mta/courier-0.65.2-r1::gentoo, ebuild scheduled for merge) pulled in by
    courier

  (mail-mta/ssmtp-2.64-r1::gentoo, installed) pulled in by
    mail-mta/ssmtp required by (dev-lang/php-5.3.5-r1::gentoo, installed)
    mail-mta/ssmtp required by (app-crypt/gnupg-2.0.17::gentoo, installed)
    mail-mta/ssmtp required by (app-admin/sudo-1.7.4_p6::gentoo, installed)
    (and 1 more)


For more information about Blocked Packages, please refer to the following
section of the Gentoo Linux x86 Handbook (architecture is irrelevant):

http://www.gentoo.org/doc/en/handbook/handbook-x86.xml?full=1#blocked


Expected Results:  
something else

welder@dreamer ~ $ emerge --info
Portage 2.2.0_alpha19 (default/linux/amd64/10.0/no-multilib, gcc-4.5.2, glibc-2.12.2-r0, 2.6.37-gentoo x86_64)
=================================================================
System uname: Linux-2.6.37-gentoo-x86_64-AMD_Athlon-tm-_64_X2_Dual_Core_Processor_5200+-with-gentoo-2.0.1
Timestamp of tree: Tue, 01 Feb 2011 22:00:03 +0000
app-shells/bash:     4.1_p9
dev-java/java-config: 2.1.11-r3
dev-lang/python:     2.6.6-r1, 2.7.1, 3.1.3
dev-util/cmake:      2.8.3-r1
sys-apps/baselayout: 2.0.1-r1
sys-apps/openrc:     0.7.0
sys-apps/sandbox:    2.4
sys-devel/autoconf:  2.13, 2.68
sys-devel/automake:  1.9.6-r3, 1.10.3, 1.11.1
sys-devel/binutils:  2.21
sys-devel/gcc:       4.5.2
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   2.4-r1
sys-devel/make:      3.82
virtual/os-headers:  2.6.36.1 (sys-kernel/linux-headers)
Repositories: gentoo
ACCEPT_KEYWORDS="amd64 ~amd64"
ACCEPT_LICENSE="* -@EULA dlj-1.1 sun-bcla-java-vm AdobeFlash-10.1 AdobeFlash-10"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=athlon64-sse3 -O2 -pipe -fomit-frame-pointer -mfpmath=sse -msse3"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/config /usr/share/gnupg/qualified.txt /usr/share/themes/oxygen-gtk/gtk-2.0"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/eselect/postgresql /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php5.3/ext-active/ /etc/php/cgi-php5.3/ext-active/ /etc/php/cli-php5.3/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo"
CXXFLAGS="-march=athlon64-sse3 -O2 -pipe -fomit-frame-pointer -mfpmath=sse -msse3"
DISTDIR="/usr/portage/distfiles"
EMERGE_DEFAULT_OPTS="--with-bdeps y"
FEATURES="assume-digests binpkg-logs distlocks fixlafiles fixpackages news parallel-fetch preserve-libs protect-owned sandbox sfperms strict unknown-features-warn unmerge-logs unmerge-orphans userfetch"
FFLAGS=""
GENTOO_MIRRORS="http://distfiles.gentoo.org"
LANG="hu_HU.UTF-8"
LDFLAGS="-Wl,-O1 -Wl,--as-needed"
LINGUAS="en hu"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY=""
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="3dnow 3dnowext X a52 accessibility acl acpi alsa amd64 apache2 bash-completion berkdb bluetooth branding bzip2 cli consolekit cracklib crypt custom-cflags cxx dar32 dbus declarative device-mapper dlloader dri dvd dvdr dvdread dynamic enca encode exif expat fam ffmpeg flac fontconfig fuse gd gdbm gif glibc-omitfp glitz gpm hashstyle hddtemp iconv id3tag imagemagick inotify jce jpeg jpeg2k kde kipi libnotify lm_sensors lzma mad mmap mmx mmxext modules mp3 mpeg mplayer mudflap ncurses nls nptl nptlonly nsplugin nvidia ogg opengl openmp optimized-qmake pam pch pcre pdf perl phonon png policykit postgres ppds pppd private-headers python qt3support qt4 quicktime readline semantic-desktop session slang spell sse sse2 ssl ssse3 startup-notification svg symlink sysfs tcpd theora threads thumbnail tiff truetype udev unicode usb vdpau vlc vorbis windeco x264 xattr xcomposite xinerama xml xml2 xmp xorg xv xvid zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic auth_digest authn_anon authn_dbd authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dbd deflate dir disk_cache env expires ext_filter file_cache filter headers ident imagemap include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif so speling status unique_id userdir usertrack vhost_alias" APACHE2_MPMS="worker" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf superstar2 timing tsip tripmate tnt ubx" INPUT_DEVICES="evdev keyboard mouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en hu" PHP_TARGETS="php5-3" RUBY_TARGETS="ruby18" USERLAND="GNU" VIDEO_CARDS="nvidia nv nouveau vesa" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account" 
Unset:  CPPFLAGS, CTARGET, INSTALL_MASK, LC_ALL, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Rafał Mużyło





          2011-02-02 02:12:24 UTC
        

No, the problem is net-mail/mailwrapper, which was effectively dropped awhile ago.




Comment 2


Jeroen Roovers (RETIRED)






          2011-02-02 04:51:19 UTC
        

Uninstall mail-wrapper and ssmtp and you should be fine.




Comment 3


Attila Jecs





          2011-02-02 09:38:26 UTC
        

well, if u carefully inspecting the bugreport, after a while, you can find out, that mailwrapper is not even installed, never was.
i just put in the use flag 'cos it was suggested in the gentoo forums in a similar problem.
http://forums.gentoo.org/viewtopic-t-724676.html

so, without mailwrapper use flag:
welder@dreamer ~ $ USE="-crypt -berkdb -gdbm -pam -fam -nls -spell -mailwrapper" emerge courier -pvt

These are the packages that would be merged, in reverse order:

Calculating dependencies... done!
[ebuild  N    ] mail-mta/courier-0.65.2-r1  USE="postgres -crypt -fam -fax -ipv6 -ldap -mailwrapper -mysql -nls -norewrite -pam -spell -web -webmail" 6,986 kB
[ebuild  N    ]  net-libs/courier-authlib-0.63.0-r1  USE="postgres -berkdb -crypt -debug -gdbm -ldap -mysql -pam -vpopmail" 2,752 kB
[blocks B     ] mail-mta/ssmtp ("virtual/mta" is blocking mail-mta/courier-0.65.2-r1)
[blocks B     ] mail-mta/ssmtp ("virtual/mta" is blocking mail-mta/ssmtp-2.64-r1)

Total: 2 packages (2 new), Size of downloads: 9,737 kB
Conflict: 2 blocks (2 unsatisfied)

 * Error: The above package list contains packages which cannot be
 * installed at the same time on the same system.

  (mail-mta/courier-0.65.2-r1::gentoo, ebuild scheduled for merge) pulled in by
    courier

  (mail-mta/ssmtp-2.64-r1::gentoo, installed) pulled in by
    mail-mta/ssmtp required by (dev-lang/php-5.3.5-r1::gentoo, installed)
    mail-mta/ssmtp required by (app-crypt/gnupg-2.0.17::gentoo, installed)
    mail-mta/ssmtp required by (app-admin/sudo-1.7.4_p6::gentoo, installed)
    (and 1 more)


For more information about Blocked Packages, please refer to the following
section of the Gentoo Linux x86 Handbook (architecture is irrelevant):

http://www.gentoo.org/doc/en/handbook/handbook-x86.xml?full=1#blocked





Comment 4


Jeroen Roovers (RETIRED)






          2011-02-02 16:41:06 UTC
        

Right. ssmtp is installed by default and its files would collide with courier's so you need to first uninstall ssmtp and then you can install courier.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

