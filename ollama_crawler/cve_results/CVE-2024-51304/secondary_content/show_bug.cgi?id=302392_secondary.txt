Title: 302392 – dev-ruby/net-ssh-2.0.19: nn_TARGETS ignored
URL: https://bugs.gentoo.org/show_bug.cgi?id=302392

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 302392
dev-ruby/net-ssh-2.0.19: nn_TARGETS ignored
Last modified: 2010-02-18 16:26:11 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 302392 
      - dev-ruby/net-ssh-2.0.19: nn_TARGETS ignored


Summary:
dev-ruby/net-ssh-2.0.19: nn_TARGETS ignored
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Ruby Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2010-01-27 03:24 UTC by Robin Johnson





      Modified:
    
2010-02-18 16:26 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Robin Johnson









          2010-01-27 03:24:55 UTC
        

# grep RUBY_TARGETS /etc/make.* -ri ; emerge net-ssh
/etc/make.conf:RUBY_TARGETS=ruby18
Calculating dependencies... done!

>>> Verifying ebuild manifests

>>> Emerging (1 of 1) dev-ruby/net-ssh-2.0.19
 * net-ssh-2.0.19.gem RMD160 SHA1 SHA256 size ;-) ...                                                                                                                                                                                                                       [ ok ]
 * checking ebuild checksums ;-) ...                                                                                                                                                                                                                                        [ ok ]
 * checking auxfile checksums ;-) ...                                                                                                                                                                                                                                       [ ok ]
 * checking miscfile checksums ;-) ...                                                                                                                                                                                                                                      [ ok ]
 * CPV:  dev-ruby/net-ssh-2.0.19
 * REPO: gentoo
 * USE:  amd64 elibc_glibc kernel_linux multilib userland_GNU
 * ERROR: dev-ruby/net-ssh-2.0.19 failed:
 *   You need to select at least one Ruby implementation by setting RUBY_TARGETS in /etc/make.conf.
 * 
 * Call stack:
 *        ebuild.sh, line   48:  Called pkg_setup
 *        ebuild.sh, line 1341:  Called ruby-ng_pkg_setup
 *   ruby-ng.eclass, line  267:  Called _ruby_each_implementation
 *   ruby-ng.eclass, line  257:  Called die
 * The specific snippet of code:
 *      [[ ${invoked} == "no" ]] && die "You need to select at least one Ruby implementation by setting RUBY_TARGETS in /etc/make.conf."
 * 
 * If you need support, post the output of 'emerge --info =dev-ruby/net-ssh-2.0.19',
 * the complete build log and the output of 'emerge -pqv =dev-ruby/net-ssh-2.0.19'.
 * The complete build log is located at '/var/log/portage/dev-ruby:net-ssh-2.0.19:20100127-032131.log'.
 * The ebuild environment file is located at '/var/tmp/portage/dev-ruby/net-ssh-2.0.19/temp/die.env'.
 * S: '/var/tmp/portage/dev-ruby/net-ssh-2.0.19/work/net-ssh-2.0.19'

# emerge --info
Portage 2.2_rc61 (!/usr/portage/releng/profiles/default/linux/amd64/2008.0/developer, gcc-4.3.4, glibc-2.11-r1, 2.6.29-hardened x86_64)
=================================================================
System uname: Linux-2.6.29-hardened-x86_64-Intel-R-_Core-TM-2_Quad_CPU_Q6600_@_2.40GHz-with-gentoo-2.0.1
Timestamp of tree: Unknown
ccache version 2.4 [enabled]
app-shells/bash:     4.0_p37
dev-lang/python:     2.5.4-r2, 2.6.4, 3.1.1-r1
dev-python/pycrypto: 2.0.1-r8
dev-util/ccache:     2.4-r8
dev-util/cmake:      2.8.0-r1
sys-apps/baselayout: 2.0.1
sys-apps/openrc:     0.6.0-r1
sys-apps/sandbox:    2.2
sys-devel/autoconf:  2.13, 2.65
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.3, 1.11.1
sys-devel/binutils:  2.20
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   2.2.6b
virtual/os-headers:  2.6.30-r1
ACCEPT_KEYWORDS="amd64 ~amd64"
ACCEPT_LICENSE="* -@EULA"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=nocona -O2 -g -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/qpsmtpd/plugins /var/bind /var/qmail/alias /var/qmail/control /var/vpopmail/etc"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/eselect/postgresql /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c"
CXXFLAGS="-march=nocona -O2 -g -pipe"
DISTDIR="/home/gentoo/distfiles"
FEATURES="assume-digests buildpkg ccache collision-protect cvs distlocks fixpackages metadata-transfer multilib-strict news parallel-fetch preserve-libs protect-owned sandbox sfperms splitdebug strict unmerge-logs unmerge-orphans userfetch userpriv usersandbox"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LDFLAGS=""
LINGUAS="en en_CA en_US en_GB en_ZA"
MAKEOPTS="-j6 -l5"
PKGDIR="/home/gentoo/packages/"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage/cvs"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC=""
USE="3dnow aalib acl acpi adns aio alsa amd amd64 apache2 apm ares audit berkdb bitmap-fonts bluetooth bzip2 cairo cdr cgi clearpasswd cli cracklib crypt cscope curl divx4linux dri dvd dvdr dvdread encode f77 fam foomaticdb fortran frxp gcj gd gdbm geoip gif glitz gnutls gpgme hpn iconv idn imap innodb ipalias ipv6 isdnlog jikes jpeg junit latex libnotify libwww logrotate mad maildir mcal md5sum midi mikmod mmx mp3 mpeg mpm-prefork mudflap multicall multilib multitarget mysql ncurses nls nptl nptlonly objc offensive ogg openmp pam pcap pcre pdf pdflib perl pic plotutils png pnp postgres ppds pppd python qmail qt3support readline reflection samba scanner session slp smime sni snmp socks5 spell spl sse sse2 ssl startup-notification svg tetex tiff truetype truetype-fonts type1 type1-fonts udev ungif unicode urandom usb userlocales v4l v4l2 vhosts vim-syntax vorbis xattr xcb xinetd xml xml2 xorg xvid zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias asis auth_digest       imagemap log_forensic proxy proxy_ajp proxy_balancer proxy_connect proxy_ftp proxy_http" APACHE2_MPMS="prefork" ELIBC="glibc" FOO2ZJS_DEVICES="hp1020" INPUT_DEVICES="evdev keyboard mouse void" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en en_CA en_US en_GB en_ZA" USERLAND="GNU" VIDEO_CARDS="dummy fbdev vga vesa" 
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LANG, LC_ALL, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Robin Johnson









          2010-01-27 03:26:33 UTC
        

Seems to be profile specific. 10.0 profile removed the problem.




Comment 2


Alex Legler (RETIRED)








          2010-02-18 16:26:11 UTC
        

RUBY_TARGETS is defined in USE_EXPAND (and defaulted to ruby18) in the base profile since Nov 30, 2009.
I guess that was a sync issue with your CVS(?) tree. Imo, everything is configured properly from our side.










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

