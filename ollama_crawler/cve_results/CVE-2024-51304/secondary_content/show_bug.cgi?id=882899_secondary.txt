Title: 882899 – dev-libs/xalan-c-1.12-r1 fails tests (hang)
URL: https://bugs.gentoo.org/show_bug.cgi?id=882899

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 882899
dev-libs/xalan-c-1.12-r1 fails tests (hang)
Last modified: 2022-11-28 09:05:14 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 882899 
      - dev-libs/xalan-c-1.12-r1 fails tests (hang)


Summary:
dev-libs/xalan-c-1.12-r1 fails tests (hang)
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Viorel Munteanu








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2022-11-25 07:10 UTC by Agostino Sarubbo





      Modified:
    
2022-11-28 09:05 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build.log.xz

              (build.log.xz,61.58 KB,
                application/x-xz)

            
2022-11-25 07:10 UTC,

            Agostino Sarubbo




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Agostino Sarubbo






          2022-11-25 07:10:55 UTC
        

https://blogs.gentoo.org/ago/2020/07/04/gentoo-tinderbox/

Issue: dev-libs/xalan-c-1.12-r1 fails tests (hang).
Discovered on: amd64 (internal ref: ci)

NOTE:
I had to kill the process.




Comment 1


Agostino Sarubbo






          2022-11-25 07:10:58 UTC
        

Created attachment 836637 [details]
build.log.xz

build log and emerge --info (compressed because it exceeds attachment limit, use 'xzless' to read it)




Comment 2


Agostino Sarubbo






          2022-11-25 07:10:59 UTC
        

Error(s) that match a know pattern:


-- Could NOT find Doxygen (missing: DOXYGEN_EXECUTABLE)




Comment 3


Viorel Munteanu






          2022-11-26 09:18:28 UTC
        

I cannot reproduce this.  I tried in a chroot, ~amd64, same gcc, same glibc, -j48.  Can you try it again please?  The tests should last less than 1 second, it's easy to see if they hang again.  The only difference I see is icu 72.1 instead of 71.1, I doubt it's significant.

If it hangs again please attach /var/tmp/portage/dev-libs/xalan-c-1.12-r1/work/xalan_c-1.12_build/Testing/Temporary/LastTest.log, maybe I can figure out what went wrong.

Thank you!

>>> Test phase: dev-libs/xalan-c-1.12-r1
 * Source directory (CMAKE_USE_DIR): "/var/tmp/portage/dev-libs/xalan-c-1.12-r1/work/xalan_c-1.12"
 * Build directory  (BUILD_DIR):     "/var/tmp/portage/dev-libs/xalan-c-1.12-r1/work/xalan_c-1.12_build"
ctest -j 48 --test-load 999
Test project /var/tmp/portage/dev-libs/xalan-c-1.12-r1/work/xalan_c-1.12_build
      Start  1: CompileStylesheet
      Start  2: DocumentBuilder
      Start  3: EntityResolver
      Start  4: ExternalFunction
      Start  5: ParsedSourceWrappers
      Start  6: SimpleTransform
      Start  7: StreamTransform
      Start  8: ThreadSafe
      Start  9: SerializeNodeSet
      Start 10: SimpleXPathAPI-1
      Start 11: SimpleXPathAPI-2
      Start 12: TraceListen-1
      Start 13: TraceListen-2
      Start 14: TraceListen-3
      Start 15: TraceListen-4
      Start 16: TransformToXercesDOM
      Start 17: UseStylesheetParam
      Start 18: XalanTransform
      Start 19: XalanTransformerCallback
      Start 20: SimpleXPathCAPI
      Start 21: Threads
 1/21 Test  #1: CompileStylesheet ................   Passed    0.04 sec
 2/21 Test  #2: DocumentBuilder ..................   Passed    0.04 sec
 3/21 Test  #3: EntityResolver ...................   Passed    0.04 sec
 4/21 Test  #4: ExternalFunction .................   Passed    0.04 sec
 5/21 Test  #5: ParsedSourceWrappers .............   Passed    0.04 sec
 6/21 Test  #6: SimpleTransform ..................   Passed    0.03 sec
 7/21 Test  #7: StreamTransform ..................   Passed    0.03 sec
 8/21 Test  #8: ThreadSafe .......................   Passed    0.03 sec
 9/21 Test  #9: SerializeNodeSet .................   Passed    0.03 sec
10/21 Test #10: SimpleXPathAPI-1 .................   Passed    0.03 sec
11/21 Test #11: SimpleXPathAPI-2 .................   Passed    0.03 sec
12/21 Test #12: TraceListen-1 ....................   Passed    0.03 sec
13/21 Test #13: TraceListen-2 ....................   Passed    0.02 sec
14/21 Test #15: TraceListen-4 ....................   Passed    0.02 sec
15/21 Test #18: XalanTransform ...................   Passed    0.02 sec
16/21 Test #14: TraceListen-3 ....................   Passed    0.02 sec
17/21 Test #16: TransformToXercesDOM .............   Passed    0.02 sec
18/21 Test #19: XalanTransformerCallback .........   Passed    0.02 sec
19/21 Test #17: UseStylesheetParam ...............   Passed    0.02 sec
20/21 Test #20: SimpleXPathCAPI ..................   Passed    0.02 sec
21/21 Test #21: Threads ..........................   Passed    0.10 sec

100% tests passed, 0 tests failed out of 21

Total Test time (real) =   0.13 sec
 * Tests succeeded.
>>> Completed testing dev-libs/xalan-c-1.12-r1




Comment 4


Viorel Munteanu






          2022-11-28 09:05:14 UTC
        

Cannot reproduce the issue, and it seems it works on tinderbox too now.  Not sure why.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

