Title: 105770 – Can't compile media-sound/amarok-1.3.1-r2
URL: https://bugs.gentoo.org/show_bug.cgi?id=105770

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 105770
Can't compile media-sound/amarok-1.3.1-r2
Last modified: 2005-09-13 07:54:09 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 105770 
      - Can't compile media-sound/amarok-1.3.1-r2


Summary:
Can't compile media-sound/amarok-1.3.1-r2
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-09-13 00:34 UTC by Sergey Golivec





      Modified:
    
2005-09-13 07:54 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Sergey Golivec





          2005-09-13 00:34:19 UTC
        

I'm getting this while compiling amarok-1.3.1-r2:
/include/arts -I/usr/include/taglib -I../../amarok/src/sqlite
-I/usr/include/mysql  -I/usr/kde/3.4/include -I/usr/qt/3/include -I.  
-DQT_THREAD_SUPPORT  -D_REENTRANT  -Wno-long-long -Wundef -ansi
-D_XOPEN_SOURCE=500 -D_BSD_SOURCE -Wcast-align -Wconversion -Wchar-subscripts
-Wall -W -Wpointer-arith -DNDEBUG -DNO_DEBUG -O2 -march=k8 -pipe -O2
-Wformat-security -Wmissing-format-attribute -Wno-non-virtual-dtor
-fno-exceptions -fno-check-new -fno-common -DQT_CLEAN_NAMESPACE
-DQT_NO_ASCII_CAST -DQT_NO_STL -DQT_NO_COMPAT -DQT_NO_TRANSLATION  -c -o
trackpickerdialogbase.o trackpickerdialogbase.cpp
/bin/sh ../../libtool --silent --tag=CXX --mode=link x86_64-pc-linux-gnu-g++ 
-Wno-long-long -Wundef -ansi -D_XOPEN_SOURCE=500 -D_BSD_SOURCE -Wcast-align
-Wconversion -Wchar-subscripts -Wall -W -Wpointer-arith -DNDEBUG -DNO_DEBUG -O2
-march=k8 -pipe -O2 -Wformat-security -Wmissing-format-attribute
-Wno-non-virtual-dtor -fno-exceptions -fno-check-new -fno-common
-DQT_CLEAN_NAMESPACE -DQT_NO_ASCII_CAST -DQT_NO_STL -DQT_NO_COMPAT
-DQT_NO_TRANSLATION    -o amarokapp -L/usr/kde/3.4/lib64 -L/usr/qt/3/lib64
-L/usr/lib64    -R /usr/kde/3.4/lib64 -R /usr/kde/3.4/lib64 -R /usr/qt/3/lib64
-R /usr/lib64 actionclasses.o app.o browserbar.o clicklineedit.o
collectionbrowser.o collectiondb.o collectionreader.o configdialog.o
contextbrowser.o coverfetcher.o covermanager.o cuefile.o directorylist.o
effectwidget.o enginecontroller.o engineobserver.o equalizergraph.o
equalizerpresetmanager.o equalizersetup.o fht.o filebrowser.o k3bexporter.o
kbookmarkhandler.o ktrm.o mediabrowser.o metabundle.o multitabbar.o osd.o
party.o playerwindow.o playlist.o playlistbrowser.o playlistbrowseritem.o
playlistitem.o playlistloader.o playlistwindow.o pluginmanager.o
podcastsettings.o prettypopupmenu.o queuemanager.o refreshimages.o
scriptmanager.o scrobbler.o sliderwidget.o smartplaylisteditor.o socketserver.o
streamprovider.o systray.o tagdialog.o threadweaver.o tracktooltip.o
trackpickerdialog.o DbSetup.o Options1.o Options2.o Options4.o Options5.o
Options7.o Options8.o firstrunwizard.o partydialogbase.o partyinfobox.o
podcastsettingsbase.o scriptmanagerbase.o tagdialogbase.o
trackpickerdialogbase.o ../../amarok/src/amarokcore/libamarokcore.la
../../amarok/src/analyzers/libanalyzers.la ../../amarok/src/engine/libengine.la
../../amarok/src/plugin/libplugin.la ../../amarok/src/ipod/libipod.la
../../amarok/src/ipod/itunesdb/libitunesdb.la
../../amarok/src/statusbar/libstatusbar.la -lkutils -lkio -lkdeui -lkdecore
-lkhtml -lknewstuff -L/usr/lib64 -ltag -lGL 
../../amarok/src/sqlite/libsqlite.la  -L/usr/lib/mysql -lmysqlclient -L/usr/lib
-lz -lcrypt -lnsl -lm -L/usr/lib64 -lssl -lcrypto
/usr/lib/gcc/x86_64-pc-linux-gnu/3.4.4/../../../../x86_64-pc-linux-gnu/bin/ld:
cannot find -lGL
collect2: ld returned 1 exit status
make[4]: *** [amarokapp] &#1054;&#1096;&#1080;&#1073;&#1082;&#1072; 1
make[4]: Leaving directory
`/var/tmp/portage/amarok-1.3.1-r2/work/amarok-1.3.1/amarok/src'
make[3]: *** [all-recursive] &#1054;&#1096;&#1080;&#1073;&#1082;&#1072; 1
make[3]: Leaving directory
`/var/tmp/portage/amarok-1.3.1-r2/work/amarok-1.3.1/amarok/src'
make[2]: *** [all-recursive] &#1054;&#1096;&#1080;&#1073;&#1082;&#1072; 1
make[2]: Leaving directory
`/var/tmp/portage/amarok-1.3.1-r2/work/amarok-1.3.1/amarok'
make[1]: *** [all-recursive] &#1054;&#1096;&#1080;&#1073;&#1082;&#1072; 1
make[1]: Leaving directory `/var/tmp/portage/amarok-1.3.1-r2/work/amarok-1.3.1'
make: *** [all] &#1054;&#1096;&#1080;&#1073;&#1082;&#1072; 2

!!! ERROR: media-sound/amarok-1.3.1-r2 failed.
!!! Function kde_src_compile, Line 170, Exitcode 2
!!! died running emake, kde_src_compile:make
!!! If you need support, post the topmost build error, NOT this status message.


This is my emerge info:
emerge info
Portage 2.0.52-r1 (default-linux/amd64/2005.1, gcc-3.4.4, glibc-2.3.5-r1,
2.6.13-gentoo x86_64)
=================================================================
System uname: 2.6.13-gentoo x86_64 AMD Athlon(tm) 64 Processor 3000+
Gentoo Base System version 1.12.0_pre8
dev-lang/python:     2.3.5, 2.4.1-r1
sys-apps/sandbox:    1.2.13
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.20
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="amd64 ~amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=k8 -pipe -O2"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env
/usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-march=k8 -pipe -O2"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org
http://distro.ibiblio.org/pub/Linux/distributions/gentoo"
LANG="ru_RU.KOI8-R"
LINGUAS="ru"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="amd64 alsa avi berkdb bitmap-fonts cdr crypt cups curl dvd eds emboss
encode fam foomaticdb fortran gif gpm gstreamer gt gtk2 imagemagick imlib ipv6
jpeg kde lzw lzw-tiff mad mp3 mpeg mysql ncurses nls ogg opengl pam pdflib perl
png python qt quicktime readline sdl spell ssl tcpd tiff truetype-fonts
type1-fonts usb userlocales vorbis xine xml2 xpm xv zlib linguas_ru userland_GNU
kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LC_ALL, LDFLAGS, MAKEOPTS, PORTDIR_OVERLAY


Reproducible: Always
Steps to Reproduce:




emerge info
Portage 2.0.52-r1 (default-linux/amd64/2005.1, gcc-3.4.4, glibc-2.3.5-r1,
2.6.13-gentoo x86_64)
=================================================================
System uname: 2.6.13-gentoo x86_64 AMD Athlon(tm) 64 Processor 3000+
Gentoo Base System version 1.12.0_pre8
dev-lang/python:     2.3.5, 2.4.1-r1
sys-apps/sandbox:    1.2.13
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.20
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="amd64 ~amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=k8 -pipe -O2"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env
/usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-march=k8 -pipe -O2"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org
http://distro.ibiblio.org/pub/Linux/distributions/gentoo"
LANG="ru_RU.KOI8-R"
LINGUAS="ru"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="amd64 alsa avi berkdb bitmap-fonts cdr crypt cups curl dvd eds emboss
encode fam foomaticdb fortran gif gpm gstreamer gt gtk2 imagemagick imlib ipv6
jpeg kde lzw lzw-tiff mad mp3 mpeg mysql ncurses nls ogg opengl pam pdflib perl
png python qt quicktime readline sdl spell ssl tcpd tiff truetype-fonts
type1-fonts usb userlocales vorbis xine xml2 xpm xv zlib linguas_ru userland_GNU
kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LC_ALL, LDFLAGS, MAKEOPTS, PORTDIR_OVERLAY




Comment 1


Jakub Moc (RETIRED)






          2005-09-13 01:16:05 UTC
        

This is *not* a Bugzilla product bug. Please, read and follow the instructions
when filing a bug.

Your OpenGL setup is broken. Run opengl-update and check that the
/usr/lib/libGL* symlinks are pointing to the right locations.




Comment 2


Jakub Moc (RETIRED)






          2005-09-13 07:54:09 UTC
        

Reopen if your OpenGL setup is correct and you are still having issues. Thanks.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

