Title: 620298 – app-editors/vim-8.0.0386 PYTHON_SINGLE_TARGET Python 3.6 -> undefined reference to `PySlice_Unpack'
URL: https://bugs.gentoo.org/show_bug.cgi?id=620298

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 620298
app-editors/vim-8.0.0386 PYTHON_SINGLE_TARGET Python 3.6 -> undefined reference to `PySlice_Unpack'
Last modified: 2017-06-01 06:41:00 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 620298 
      - app-editors/vim-8.0.0386 PYTHON_SINGLE_TARGET Python 3.6 -> undefined reference to `PySlice_Unpack'


Summary:
app-editors/vim-8.0.0386 PYTHON_SINGLE_TARGET Python 3.6 -> undefined referen...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Vim Maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2017-05-31 20:42 UTC by dashmz





      Modified:
    
2017-06-01 06:41 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



jstein









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge --info

              (info.txt,5.42 KB,
                text/plain)

            
2017-05-31 20:42 UTC,

            dashmz




Details





build log

              (build.txt,34.69 KB,
                text/plain)

            
2017-05-31 20:43 UTC,

            dashmz




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


dashmz





          2017-05-31 20:42:49 UTC
        

Created attachment 474892 [details]
emerge --info

This happens when I try to emerge vim with Python 3.6 as PYTHON_SINGLE_TARGET:

objects/if_python3.o: In function `ListItem':
if_python3.c:(.text+0x7de9): undefined reference to `PySlice_Unpack'
if_python3.c:(.text+0x7e06): undefined reference to `PySlice_AdjustIndices'
objects/if_python3.o: In function `ListAssItem':
if_python3.c:(.text+0x7f28): undefined reference to `PySlice_Unpack'
if_python3.c:(.text+0x7f48): undefined reference to `PySlice_AdjustIndices'
objects/if_python3.o: In function `RangeSubscript':
if_python3.c:(.text+0x98e9): undefined reference to `PySlice_Unpack'
if_python3.c:(.text+0x990d): undefined reference to `PySlice_AdjustIndices'
objects/if_python3.o: In function `BufferSubscript':
if_python3.c:(.text+0x99c0): undefined reference to `PySlice_Unpack'
if_python3.c:(.text+0x99db): undefined reference to `PySlice_AdjustIndices'
objects/if_python3.o: In function `RangeAsSubscript':
if_python3.c:(.text+0xa655): undefined reference to `PySlice_Unpack'
if_python3.c:(.text+0xa67e): undefined reference to `PySlice_AdjustIndices'
objects/if_python3.o: In function `BufferAsSubscript':
if_python3.c:(.text+0xa791): undefined reference to `PySlice_Unpack'
if_python3.c:(.text+0xa7ac): undefined reference to `PySlice_AdjustIndices'
collect2: error: ld returned 1 exit status
link.sh: Linking failed
make[1]: *** [Makefile:1903: vim] Error 1
make[1]: Leaving directory '/var/tmp/portage/app-editors/vim-8.0.0386-r1/work/vim-8.0.0386/src'
make: *** [Makefile:29: first] Error 2




Comment 1


dashmz





          2017-05-31 20:43:08 UTC
        

Created attachment 474894 [details]
build log




Comment 2


Jonas Stein






          2017-05-31 22:09:45 UTC
        

Have you updated python recently? 
You may try python-updater and consult our support channel. https://www.gentoo.org/support/




Comment 3


dashmz





          2017-06-01 06:41:00 UTC
        

(In reply to Jonas Stein from comment #2)
> Have you updated python recently? 
> You may try python-updater and consult our support channel.
> https://www.gentoo.org/support/

I switched my PYTHON_SINGLE_TARGET from 3.5 to 3.6.
python-updater tells me:

 * No packages need to be reinstalled.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

