Title: 129594 – net-p2p/mldonkey does not build with GCC 4.1
URL: https://bugs.gentoo.org/show_bug.cgi?id=129594

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 129594
net-p2p/mldonkey does not build with GCC 4.1
Last modified: 2006-04-13 11:43:52 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 129594 
      - net-p2p/mldonkey does not build with GCC 4.1


Summary:
net-p2p/mldonkey does not build with GCC 4.1
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] GCC Porting

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo net-p2p team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:




117482



 

        Show dependency tree





 





      Reported:
    
2006-04-11 07:57 UTC by Craig Andrews





      Modified:
    
2006-04-13 11:43 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



gcc-porting









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Craig Andrews






          2006-04-11 07:57:17 UTC
        

first... emerge -pv net-p2p/mldonkey: [ebuild   R   ] net-p2p/mldonkey-2.7.3  USE="gd gtk mozilla threads -batch -doc -guionly" 0 kB

The relevant part of the emerge failure:
>>> Unpacking source...
>>> Unpacking mldonkey-2.7.3.tar.bz2 to /var/tmp/portage/mldonkey-2.7.3/work
>>> Unpacking mldonkey_protocol_handler-1.7.xpi to /var/tmp/portage/mldonkey-2.7.3/work
unpack mldonkey_protocol_handler-1.7.xpi: file format not recognized. Ignoring.
>>> Source unpacked.
>>> Compiling source in /var/tmp/portage/mldonkey-2.7.3/work/mldonkey-2.7.3 ...
 * econf: updating mldonkey-2.7.3/config/config.guess with /usr/share/gnuconfig/config.guess
 * econf: updating mldonkey-2.7.3/config/config.sub with /usr/share/gnuconfig/config.sub
 * econf: updating mldonkey-2.7.3/src/applets/kde/admin/config.guess with /usr/share/gnuconfig/config.guess
 * econf: updating mldonkey-2.7.3/src/applets/kde/admin/config.sub with /usr/share/gnuconfig/config.sub
/usr/bin/confcache --confcache-ignore /var/tmp/.ccache:/var/tmp/.distcc --confcache-dir /var/tmp/confcache ./configure --prefix=/usr --host=i686-pc-linux-gnu --mandir=/usr/share/man --infodir=/usr/share/info --datadir=/usr/share --sysconfdir=/etc --localstatedir=/var/lib --sysconfdir=/etc/mldonkey --sharedstatedir=/var/mldonkey --localstatedir=/var/mldonkey --enable-checks --enable-pthread --disable-batch --enable-gd --enable-gui=newgui2 --build=i686-pc-linux-gnu
exception caught executing ./configure: [Errno 8] Exec format error
!!! ERROR: net-p2p/mldonkey-2.7.3 failed.
Call stack:
  ebuild.sh, line 1532:   Called dyn_compile
  ebuild.sh, line 929:   Called src_compile
  mldonkey-2.7.3.ebuild, line 86:   Called econf '--sysconfdir=/etc/mldonkey' '--sharedstatedir=/var/mldonkey' '--localstatedir=/var/mldonkey' '--enable-checks' '--enable-pthread' '--disable-batch' '--enable-gd' '--enable-gui=newgui2'
  ebuild.sh, line 527:   Called die

!!! econf failed
!!! If you need support, post the topmost build error, and the call stack if relevant.


emerge --info:
Portage 2.1_pre7-r5 (default-linux/x86/2006.0, gcc-4.1.0, glibc-2.4-r1, 2.6.14-suspend2-r10 i686)
=================================================================
System uname: 2.6.14-suspend2-r10 i686 Intel(R) Celeron(R) CPU 3.06GHz
Gentoo Base System version 1.12.0_pre17
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
ccache version 2.4 [enabled]
dev-lang/python:     2.3.5, 2.4.2-r1
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r2
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r3
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -mcpu=i686 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/kde/3/share/config /usr/share/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/eselect/compiler /etc/gconf /etc/revdep-rebuild /etc/splash /etc/terminfo /etc/texmf/web2c /etc/env.d"
CXXFLAGS=""
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache confcache distlocks gpg metadata-transfer sandbox sfperms strict usersandbox"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LINGUAS="en_us"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.namerica.gentoo.org/gentoo-portage"
USE="x86 X a52 aac acpi alsa animation apache2 artworkextra asf avi bash-completion beagle berkdb bitmap-fonts bluetooth bzip2 cairo cdda cdparanoia cdr chm cli crypt ctype cups daap dba dbus dga divx4linux dlloader dpms dri dts dv dvd dvdr dvdread emboss encode exif expat fam fame fastbuild fat fbsplash ffmpeg fftw firefox flac foomaticdb force-cgi-redirect fortran freetype ftp gaim gd gdbm geoip gif gimpprint glibc-omitfp glitz glut gnome gnutls gphoto2 gpm gstreamer gstreamer10 gtk gtk2 hal hardened imagemagick imlib innodb ipv6 isdnlog java joystick jpeg jpeg2k junit lcms ldap libfame libg++ libnotify libusb libwww lirc live lm_sensors lzo mad memlimit mikmod mjpeg mmap mmx mmxext mng mono motif mozilla mozsvg mp3 mpeg mpeg2 mplayer mysql mythtv nautilus ncurses network nls nptl nptlonly ntfs nvidia offensive ogg oggvorbis openexr opengl pam pango pcre pdf pdflib perl pic pie png pnp posix ppd ppds pppd python quicktime rar readline real rtc samba scanner screensaver sdl session sharedmem shout simplexml soap sockets sox speex spell spl sse sse2 ssl suspend2 svg tcpd theora threads tiff tokenizer transcode truetype truetype-fonts type-fonts type1-fonts udev unicode usb v4l v4l2 vcd videos vorbis webservices wifi win32codecs wmf wv xine xinerama xml xml2 xpm xprint xrandr xscreensaver xsl xv xvid xvmc zeroconf zlib elibc_glibc input_devices_evdev input_devices_joystick input_devices_keyboard input_devices_mouse kernel_linux linguas_en_us userland_GNU video_cards_nv video_cards_nvidia"
Unset:  ASFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS




Comment 1


Mark Loeser (RETIRED)






          2006-04-13 11:25:02 UTC
        

Works for me.  Does this only happen with gcc-4.1 for you?  This looks completely unrelated to the compiler.  Reopen if you can reproduce it and post the config.log to show it is a problem with gcc-4.1.




Comment 2


Craig Andrews






          2006-04-13 11:43:52 UTC
        

(In reply to comment #1)
> Works for me.  Does this only happen with gcc-4.1 for you?  This looks
> completely unrelated to the compiler.  Reopen if you can reproduce it and post
> the config.log to show it is a problem with gcc-4.1.
> 

You were right... I sincerely appologize for wasting the QA team's time!

Confcache's cache was messed up. I disabled it and mldonkey built fine. Again, my apologies for the bad bug report.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

