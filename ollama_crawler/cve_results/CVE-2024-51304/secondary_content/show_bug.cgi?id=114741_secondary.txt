Title: 114741 – emerge kde-base/kmail-3.5.0-r1 wont compile
URL: https://bugs.gentoo.org/show_bug.cgi?id=114741

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 114741
emerge kde-base/kmail-3.5.0-r1 wont compile
Last modified: 2006-04-07 08:18:50 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 114741 
      - emerge kde-base/kmail-3.5.0-r1 wont compile


Summary:
emerge kde-base/kmail-3.5.0-r1 wont compile
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-12-07 05:40 UTC by Alcapond





      Modified:
    
2006-04-07 08:18 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



gentoo-bugs
tinaught









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




output from emerge info

              (emerge_info.txt,2.10 KB,
                text/plain)

            
2005-12-07 05:52 UTC,

            Alcapond




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Alcapond





          2005-12-07 05:40:03 UTC
        

When doing emerge kde-base/kmail-3.5.0-r1 the process terminates without 
installing 

Reproducible: Always
Steps to Reproduce:
1. emerge using kuroo 0.71.0  
 
   
Actual Results:  
/bin/sh ../libtool --silent --mode=link --tag=CXX i686-pc-linux-gnu-g++  
-Wno-long-long -Wundef -ansi -D_XOPEN_SOURCE=500 -D_BSD_SOURCE -Wcast-align 
-Wconversion -Wchar-subscripts -Wall -W -Wpointer-arith -DNDEBUG -DNO_DEBUG 
-O2 -march=pentium3 -O2 -pipe -fomit-frame-pointer -Wformat-security 
-Wmissing-format-attribute -Wno-non-virtual-dtor -fno-exceptions 
-fno-check-new -fno-common -DQT_CLEAN_NAMESPACE -DQT_NO_ASCII_CAST -DQT_NO_STL 
-DQT_NO_COMPAT -DQT_NO_TRANSLATION    -o libkmailprivate.la 
-rpath /usr/kde/3.5/lib -L/usr/kde/3.5/lib -L/usr/qt/3/lib -L/usr/lib    
-avoid-version -no-undefined -Wl,--no-undefined -Wl,--allow-shlib-undefined 
libkmailprivate_la.all_cpp.lo  -lkhtml -lkspell 
-lkabc ../libkmime/libkmime.la ../libkpgp/libkpgp.la ../libkdepim/libkdepim.la ../libkpimidentities/libkpimidentities.la ../mimelib/libmimelib.la ../libksieve/libksieve.la ../libemailfunctions/libemailfunctions.la ../certmanager/lib/libkleopatra.la  ../libkcal/libkcal.la  
: 
'' 
: 
'' 
'' 
: 
'' 
: 
'' 
: 
'' 
: 
'' 
: 
'' 
: 
'' 
: 
'' 
: 
'' 
: 
'' 
: 
'' 
: 
'' 
: 
'' 
: 
'' 
: 
'' 
: 
'' 
: 
'' 
ld returned 1 exit status 
make[3]: *** [libkmailprivate.la] Fehler 1 
make[3]: Leaving directory 
`/var/tmp/portage/kmail-3.5.0-r1/work/kmail-3.5.0/kmail'' 
make[2]: *** [all-recursive] Fehler 1 
make[2]: Leaving directory 
`/var/tmp/portage/kmail-3.5.0-r1/work/kmail-3.5.0/kmail'' 
make[1]: *** [all-recursive] Fehler 1 
make[1]: Leaving directory `/var/tmp/portage/kmail-3.5.0-r1/work/kmail-3.5.0'' 
make: *** [all] Fehler 2 
!!! ERROR: kde-base/kmail-3.5.0-r1 failed. 
!!! Function kde_src_compile, Line 173, Exitcode 2 
!!! died running emake, kde_src_compile:make 
!!! If you need support, post the topmost build error, NOT this status 
message. 

Expected Results:  
well - I suppose it should have compiled :) 

my CFLAGS: -march=pentium3 -O2 -pipe -fomit-frame-pointer  
 
my gcc: gcc-Version 3.4.4 (Gentoo 3.4.4-r1, ssp-3.4.4-1.0, pie-8.7.8)




Comment 1


Alcapond





          2005-12-07 05:52:09 UTC
        

Created attachment 74226 [details]
output from emerge info




Comment 2


Markus Wagner





          2005-12-08 10:21:34 UTC
        

same here with 3.5.0-r3 




Comment 3


Peter Jensen





          2005-12-18 07:52:19 UTC
        

I'm getting the same with all current versions of kmail.
This started happening sometime after upgrading to gcc-3.4.
Have followed the revdep-rebuild upgrade path, and done an 'emerge -e system' since then, and still no luck.

Emerge info:

Gentoo Base System version 1.6.13
Portage 2.0.51.22-r3 (default-linux/x86/2005.0, gcc-3.4.4, glibc-2.3.5-r2, 2.6.14.2 i686)
=================================================================
System uname: 2.6.14.2 i686 AMD Athlon(TM) XP1800+
ccache version 2.3 [enabled]
dev-lang/python:     2.3.5, 2.4.2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.20
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=athlon-xp -O2 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/sha
re/config /usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/texm
f/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/ /var/qmail/c
ontrol"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-march=athlon-xp -O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://mirror.gentoo.no/ http://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/ ftp://sunsite.informatik.rwth-
aachen.de/pub/Linux/gentoo"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage/overlay-flexlay /usr/local/portage/overlay-winex /usr/local/portage/overlay-crypt /usr/l
ocal/portage/overlay-misc"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="x86 X aalib acpi alsa apache2 arts audiofile avi bash-completion berkdb bitmap-fonts bzip2 cdr crypt cups curl dga dire
ctfb dvb dvd eds emboss encode exif expat fam fbcon fbdev ffmpeg flac flash foomaticdb fortran gd gdbm gif gimpprint glut gp
hoto2 gpm gstreamer gtk gtk2 idn imagemagick imap imlib ipv6 java javascript jikes jpeg junit kde kdeenablefinal lcms libcac
a libg++ libwww mad mbox mhash mikmod ming mng motif mozilla moznocompose moznoirc moznomail mp3 mpeg ncurses nls offensive
ogg oggvorbis opengl oss pam pcre pdflib perl png python qt quicktime readline recode ruby scanner sdl slang slp spell ssl s
vga tcltk tcpd tetex tiff truetype truetype-fonts type1-fonts udev usb userlocales v4l v4l2 vorbis win32codecs wmf xface xin
e xml2 xmms xv xvid zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS





Comment 4


Pietro Franchi





          2005-12-22 13:16:52 UTC
        

I've got the same here, I've stripped all the CFLAGS, recompiled with gcc 3.4 with and w/o kdeenablefinal...but always the same error.

Portage 2.0.51-r15 (default-linux/x86/2005.0, gcc-3.4.4, glibc-2.3.4.20040808-r1, 2.6.14-gentoo-r5 i686)
=================================================================
System uname: 2.6.14-gentoo-r5 i686 AMD Duron(tm) Processor
Gentoo Base System version 1.4.16
Python:              dev-lang/python-2.3.4-r1 [2.3.4 (#1, Feb 12 2005, 01:50:40)]
distcc 2.18.3 i386-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
dev-lang/python:     2.3.4-r1
sys-apps/sandbox:    [Not Present]
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.5, 1.8.5-r3, 1.7.9-r1, 1.6.3, 1.4_p6, 1.9.4
sys-devel/binutils:  2.15.92.0.2-r10
sys-devel/libtool:   1.5.10-r4
virtual/os-headers:  2.4.21-r1
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CFLAGS="-O2 -march=i686"
CHOST="i386-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.3/env /usr/kde/3.3/share/config /usr/kde/3.3/shutdown /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/ /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=i686"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig ccache distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://pandemonium.tiscali.de/pub/gentoo/ ftp://pandemonium.tiscali.de/pub/gentoo/ http://gentoo.eliteitminds.com"
MAKEOPTS="-j2"
PKGDIR="/mnt/cdrom"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X alsa apm audiofile avi berkdb bitmap-fonts bzip2 cdr crypt cups curl dhcp divx4linux eds emboss encode expat fam ffmpeg foomatic foomaticdb fortran gdbm gif glut gpm gstreamer gtk gtk2 idn imagemagick imlib java jpeg kde kdeenablefinal lcms ldap libg++ libwww mad matroska mikmod mime mmx mmx2 mng motif mp3 mpeg mysql ncurses nls ogg oggvorbis opengl oss pcre pdflib perl png ppds python qt quicktime readline real ruby sdl spell sse2 ssl svga tcltk tcpd tetex tiff truetype truetype-fonts type1-fonts udev vorbis xml2 xmms xscreensaver xv xvid zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CBUILD, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTDIR_OVERLAY





Comment 5


Pietro Franchi





          2005-12-28 01:39:19 UTC
        

running emerge -e world *twice* fixed for me. I have no idea of what's goin on. :-)




Comment 6


Peter Jensen





          2005-12-29 06:53:25 UTC
        

Hmm, I've run 'emerge -e system' twice and now compiling kmail without kdeenablefinal seems to work.
Haven't tried if it actually runs, though. I'm not near the machine at this time.




Comment 7


Alcapond





          2006-01-05 04:21:32 UTC
        

After recompiling my whole system with the updated gcc-3.4.4-r1 the problem disappeared. I was able to install kmail-3.5.0-r3 without any trouble.




Comment 8


Carsten Lohrke (RETIRED)






          2006-04-07 08:18:50 UTC
        

Seemed to be a local issue.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

