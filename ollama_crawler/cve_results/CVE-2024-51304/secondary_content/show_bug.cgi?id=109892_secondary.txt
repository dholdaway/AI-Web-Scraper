Title: 109892 – /dev/nvidiactl only accessible to root
URL: https://bugs.gentoo.org/show_bug.cgi?id=109892

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 109892
/dev/nvidiactl only accessible to root
Last modified: 2007-04-01 22:43:08 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 109892 
      - /dev/nvidiactl only accessible to root


Summary:
/dev/nvidiactl only accessible to root
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

X11 External Driver Maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-10-20 00:19 UTC by Rune Schjellerup





      Modified:
    
2007-04-01 22:43 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Rune Schjellerup





          2005-10-20 00:19:05 UTC
        

I'm trying to run dosbox with output set to opengl. 
But it fails because /dev/nvidiactl is only accessible to root. 
olberd@ip10 $ ls -l /dev/nvidia* 
crw-------  1 root root 195,   0  1 jan  1970 /dev/nvidia0 
crw-------  1 root root 195, 255  1 jan  1970 /dev/nvidiactl 
 
I have also run into this problem with a game, just can't remember which one. 

Reproducible: Always
Steps to Reproduce:
1. emerge dosbox 
2. run a game using dosbox, with output set to opengl 
3. 
 
Actual Results:  
CONFIG:Loading settings from config file dosbox.conf 
Error: Could not open /dev/nvidiactl because the permissions 
are too resticitive.  Please see the FREQUENTLY ASKED QUESTIONS 
section of /usr/share/doc/NVIDIA_GLX-1.0/README for steps 
to correct. 
Fatal signal: Segmentation Fault (SDL Parachute Deployed) 
 

Expected Results:  
Nice OpenGL graphics    

# emerge info 
PORTAGE_GPG_DIR is invalid. Removing gpg from FEATURES. 
Portage 2.0.51.22-r3 (default-linux/x86/2005.0, gcc-3.3.6, glibc-2.3.5-r2, 
2.6.12-gentoo-r10 i686) 
================================================================= 
System uname: 2.6.12-gentoo-r10 i686 AMD Athlon(tm) XP 2000+ 
Gentoo Base System version 1.6.13 
dev-lang/python:     2.3.5-r2, 2.4.1-r1 
sys-apps/sandbox:    1.2.12 
sys-devel/autoconf:  2.13, 2.59-r6 
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1 
sys-devel/binutils:  2.15.92.0.2-r10 
sys-devel/libtool:   1.5.18-r1 
virtual/os-headers:  2.6.11-r2 
ACCEPT_KEYWORDS="x86" 
AUTOCLEAN="yes" 
CBUILD="i686-pc-linux-gnu" 
CFLAGS="-O2 -march=athlon-xp -fomit-frame-pointer -mfpmath=sse -mmmx -m3dnow 
-msse -pipe" 
CHOST="i686-pc-linux-gnu" 
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.3/env /usr/kde/3.3/share/config /usr/kde/3.3/shutdown /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/ /var/qmail/control" 
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d" 
CXXFLAGS="-O2 -march=athlon-xp -fomit-frame-pointer -mfpmath=sse -mmmx -m3dnow 
-msse -pipe" 
DISTDIR="/usr/portage/distfiles" 
FEATURES="autoconfig distlocks fixpackages parallel-fetch sandbox sfperms 
strict" 
GENTOO_MIRRORS="http://ftp.du.se/pub/os/gentoo 
http://vlaai.snt.ipv6.utwente.nl/pub/os/linux/gentoo/" 
LC_ALL="da_DK" 
LINGUAS="dk da da_DK en en_US" 
MAKEOPTS="-j2" 
PKGDIR="/usr/portage/packages" 
PORTAGE_TMPDIR="/var/tmp" 
PORTDIR="/usr/portage" 
PORTDIR_OVERLAY="/usr/local/portage" 
SYNC="rsync://rsync.gentoo.org/gentoo-portage" 
USE="x86 3dnow 3dnowext X acpi alsa apache2 arts avi bash-completion berkdb 
bitmap-fonts bzlib cdparanoia cdr crypt cscope curl dvd dvdr eds emboss encode 
fam firefox foomaticdb fortran ftp gd gdbm ggi gif gpm gstreamer icq 
imagemagick imap imlib ipv6 jabber java jikes jpeg junit kde libedit libg++ 
libwww mad mikmod mmx mmx2 mmxext motif mp3 mpeg msn mysql mysqli nas ncurses 
nls nvidia ogg oggvorbis opengl oscar pam pcntl pdflib php png qt quicktime 
readline samba sdl spell sse ssl svga tcpd tetex tiff truetype truetype-fonts 
type1-fonts unicode usb vcd vorbis wmf xml xml2 xmms xv zlib linguas_dk 
linguas_da linguas_da_DK linguas_en linguas_en_US userland_GNU kernel_linux 
elibc_glibc" 
Unset:  ASFLAGS, CTARGET, LANG, LDFLAGS




Comment 1


Carsten Lohrke (RETIRED)






          2005-10-20 03:38:04 UTC
        

>I'm trying to run dosbox with output set to opengl. 
>But it fails because /dev/nvidiactl is only accessible to root.

It's up to you to create the appropriate devfsd or udev rules for the user(s)
you want to allow to access the device. It's not bad to be restrictive by default.

> /usr/share/doc/NVIDIA_GLX-1.0/README

Which ebuild version are you using? The documentation should be in
/usr/share/doc/${PF}/...




Comment 2


Rune Schjellerup





          2005-10-20 04:44:21 UTC
        

(In reply to comment #1) 
> It's up to you to create the appropriate devfsd or udev rules for the user(s) 
> you want to allow to access the device.  
 
Maybe the device by default should be accessible to group games or something 
like that. 
 
 
>It's not bad to be restrictive by default. 
 
Changing udev rules just sounds a bit difficult. Isn't games or some other 
group appropriate to give access to, per default? 




Comment 3


Jakub Moc (RETIRED)






          2007-04-01 22:43:08 UTC
        

Not here.

$ ls -la /dev/nvidiactl
crw-rw-rw- 1 root root 195, 255 2007-04-01 01:00 /dev/nvidiactl









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

