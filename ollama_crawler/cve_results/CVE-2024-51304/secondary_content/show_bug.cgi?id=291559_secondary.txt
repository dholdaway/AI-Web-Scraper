Title: 291559 – dev-java/swt-3.5 fails to compile
URL: https://bugs.gentoo.org/show_bug.cgi?id=291559

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 291559
dev-java/swt-3.5 fails to compile
Last modified: 2009-11-05 04:27:11 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 291559 
      - dev-java/swt-3.5 fails to compile


Summary:
dev-java/swt-3.5 fails to compile
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-11-02 11:20 UTC by Markus Giese





      Modified:
    
2009-11-05 04:27 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




whole error output

              (swt-3.5,1.66 KB,
                text/plain)

            
2009-11-02 11:21 UTC,

            Markus Giese




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Markus Giese





          2009-11-02 11:20:19 UTC
        

complains about missing files

Reproducible: Always

Steps to Reproduce:
1.emerge --sync
2.emerge swt
3.

Actual Results:  
error during compilation

Expected Results:  
should compile fine




Comment 1


Markus Giese





          2009-11-02 11:20:41 UTC
        

# emerge --info
Portage 2.1.6.13 (default/linux/x86/10.0/desktop, gcc-4.1.2, glibc-2.9_p20081201-r2, 2.6.24-gentoo-r3 i686)
=================================================================
System uname: Linux-2.6.24-gentoo-r3-i686-Intel-R-_Pentium-R-_4_CPU_2.00GHz-with-gentoo-1.12.11.1
Timestamp of tree: Thu, 29 Oct 2009 07:30:19 +0000
distcc 3.1 i686-pc-linux-gnu [disabled]
app-shells/bash:     4.0_p28
dev-java/java-config: 1.3.7-r1, 2.1.9-r1
dev-lang/python:     2.4.6, 2.5.2-r7, 2.6.2-r1
dev-python/pycrypto: 2.0.1-r8
dev-util/cmake:      2.6.4-r2
sys-apps/baselayout: 1.12.11.1
sys-apps/sandbox:    1.6-r2
sys-devel/autoconf:  2.13, 2.63-r1
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.2
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   2.2.6a
virtual/os-headers:  2.6.27-r2
ACCEPT_KEYWORDS="x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium4 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/config"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/php/apache2-php4/ext-active/ /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php4/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php4/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/udev/rules.d"
CXXFLAGS="-O2 -march=pentium4 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="distlocks fixpackages parallel-fetch protect-owned sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LANG="C"
LDFLAGS="-Wl,-O1"
MAKEOPTS="-j7"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portage/local/layman/sunrise /usr/portage/local/layman/sunrise /usr/local/portage /usr/local/portage /usr/local/portage/xeffects/trunk /usr/local/portage/xeffects/experimental"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="3dnow 3dnowext X a52 aac ace acl acpi alsa amr apache arts asf audiofile avi bash-completion berkdb bluetooth branding bzip2 cairo cdr cli consolekit cracklib crypt cups dbus divx4linux dri dts dvd dvdr dvdread eds emboss encode esd evo fam firefox flac foomaticdb fortran gdbm gif gnome gpm gstreamer gtk hal httpd iconv icq ipv6 isdnlog java jpeg kde ldap libnotify live mad mikmod mmx mmxext modules mp3 mp4 mpeg mpg mplayer mudflap mysql ncurses nls nmap nptl nptlonly nsplugin nvidia ogg opengl openmp pam pcre pdf perl php png ppds pppd python qt qt3support qt4 quicktime readline reflection scanner sdl session spell spl sse sse2 ssl startup-notification stream svcd svg sysfs tcpd thunar tiff truetype unicode usb userlocales vcd vorbis win32codecs x264 x86 xgl xine xml xmms xorg xulrunner xv xvid zeroconf zlib" ALSA_CARDS="cmi8738" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="authz_host mod_php access auth auth_dbm auth_anon auth_digest alias file-cache echo charset-lite cache disk-cache mem-cache ext-filter filter case_filter case-filter-in deflate mime-magic cern-meta expires headers proxy proxy-connect proxy-ftp proxy-http info include cgi cgid dav dav-fs vhost-alias speling rewrite log_config logio env setenvif mime status autoindex asis negotiation dir imap actions userdir so" ELIBC="glibc" INPUT_DEVICES="evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" USERLAND="GNU" VIDEO_CARDS="nvidia"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LC_ALL, LINGUAS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS





Comment 2


Markus Giese





          2009-11-02 11:21:03 UTC
        

Created attachment 209021 [details]
whole error output




Comment 3


Rafał Mużyło





          2009-11-02 15:28:37 UTC
        

Either you're mixing stable and unstable, or deps need to be fixed
- that header moved from (IIRC) xextproto to libXtst
on 1.7 server update.




Comment 4


Markus Giese





          2009-11-04 17:39:07 UTC
        

x11-proto/xextproto-7.1.1 and x11-libs/libXtst-1.0.3 are installed on my system, i tried to downgrade swt to 3.4-r4 but had an error. the same for the libs,recompiling xextproto went fine, but libXtst gives me this error :

on)
XTest.c:394: error: 'xXTestFakeInputReq' undeclared (first use in this function)
XTest.c:394: error: expected expression before ')' token
XTest.c:394: error: 'X_XTestFakeInput' undeclared (first use in this function)
XTest.c:402: warning: passing argument 4 of 'send_axes' makes integer from pointer without a cast
XTest.c:402: warning: passing argument 6 of 'send_axes' makes integer from pointer without a cast
XTest.c:402: error: too many arguments to function 'send_axes'
XTest.c: In function 'XTestFakeDeviceMotionEvent':
XTest.c:420: error: expected '=', ',', ';', 'asm' or '__attribute__' before '*' token
XTest.c:420: error: 'req' undeclared (first use in this function)
XTest.c:425: error: 'sz_xXTestFakeInputReq' undeclared (first use in this function)
XTest.c:425: error: 'xXTestFakeInputReq' undeclared (first use in this function)
XTest.c:425: error: expected expression before ')' token
XTest.c:425: error: 'X_XTestFakeInput' undeclared (first use in this function)
XTest.c:432: warning: passing argument 4 of 'send_axes' makes integer from pointer without a cast
XTest.c:432: warning: passing argument 5 of 'send_axes' makes pointer from integer without a cast
XTest.c:432: warning: passing argument 6 of 'send_axes' makes integer from pointer without a cast
XTest.c:432: error: too many arguments to function 'send_axes'
XTest.c: In function 'XTestGrabControl':
XTest.c:444: error: expected '=', ',', ';', 'asm' or '__attribute__' before '*' token
XTest.c:444: error: 'req' undeclared (first use in this function)
XTest.c:449: error: 'sz_xXTestGrabControlReq' undeclared (first use in this function)
XTest.c:449: error: 'xXTestGrabControlReq' undeclared (first use in this function)
XTest.c:449: error: expected expression before ')' token
XTest.c:449: error: 'X_XTestGrabControl' undeclared (first use in this function)
make[2]: *** [XTest.lo] Error 1
make[2]: *** Waiting for unfinished jobs....
 i686-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I.. -O2 -march=pentium4 -pipe -MT XRecord.lo -MD -MP -MF .deps/XRecord.Tpo -c XRecord.c -o XRecord.o >/dev/null 2>&1
mv -f .deps/XRecord.Tpo .deps/XRecord.Plo
make[2]: Leaving directory `/var/tmp/portage/x11-libs/libXtst-1.0.3/work/libXtst-1.0.3/src'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/x11-libs/libXtst-1.0.3/work/libXtst-1.0.3'


swt 3.4-r4 error :

In file included from os_structs.h:16,
                 from os_custom.c:17:
os.h:82:34: error: X11/extensions/XTest.h: No such file or directory
In file included from os_structs.h:16,
                 from os.c:17:
os.h:82:34: error: X11/extensions/XTest.h: No such file or directory
In file included from os_structs.h:16,
                 from os_structs.c:17:
os.h:82:34: error: X11/extensions/XTest.h: No such file or directory
make: *** [os_custom.o] Error 1
make: *** Waiting for unfinished jobs....
make: *** [os_structs.o] Error 1
make: *** [os.o] Error 1




Comment 5


Markus Giese





          2009-11-04 17:40:56 UTC
        

so it always seems to be the same error : XTest.h, which package does this file belong to ?




Comment 6


Markus Giese





          2009-11-05 00:37:41 UTC
        

so it always seems to be the same error : XTest.h, which package does this file belong to ?




Comment 7


Markus Giese





          2009-11-05 03:59:42 UTC
        

i have found out, that the file belongs to x11-libs/libX11. lets see if it helps ...





Comment 8


Markus Giese





          2009-11-05 04:27:11 UTC
        

i unmasked libXtst and now everything is back to normal
thanks for the hint









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

