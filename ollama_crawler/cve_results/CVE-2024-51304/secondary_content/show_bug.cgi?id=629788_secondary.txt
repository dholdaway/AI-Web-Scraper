Title: 629788 – sys-apps/openrc-0.28 build fixes for uclibc-ng
URL: https://bugs.gentoo.org/show_bug.cgi?id=629788

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 629788
sys-apps/openrc-0.28 build fixes for uclibc-ng
Last modified: 2017-09-04 15:38:05 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 629788 
      - sys-apps/openrc-0.28 build fixes for uclibc-ng


Summary:
sys-apps/openrc-0.28 build fixes for uclibc-ng
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Hosted Projects




Classification:

Unclassified




Component:

OpenRC

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

OpenRC Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2017-09-03 17:08 UTC by René Rhéaume





      Modified:
    
2017-09-04 15:38 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




openrc-0.28-uclibc-r1.patch

              (openrc-0.28-uclibc-r1.patch,5.86 KB,
                patch)

            
2017-09-03 17:13 UTC,

            René Rhéaume




Details
            | Diff





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


René Rhéaume





          2017-09-03 17:08:21 UTC
        

OpenRC 0.28 dos not build as is on uclibc-ng, I had to activate various BSD compatibility bits to get it building.

Reproducible: Always

Steps to Reproduce:
1. emerge -u1 openrc
2.
3.
Actual Results:  
emake failed (compile phase)

Expected Results:  
openrc updated on system




Comment 1


René Rhéaume





          2017-09-03 17:13:40 UTC
        

Created attachment 492150 [details, diff]
openrc-0.28-uclibc-r1.patch

For some reason I cannot explain, the build done by portage and the one I do from an interactive shell inside the portage-prepared source directory activate different defines event though I use the same command line in the shell as portage does.

To use it, append 
eapply "${FILESDIR}/${P}-uclibc-r1.patch"
to src_prepare in the ebuild.




Comment 2


Anthony Basile






          2017-09-04 15:38:05 UTC
        

I have no idea what's going on here because I've been building uclibc-ng-1.0.25 with openrc-0.28 on stage3 for all arches for a while now.

Can you make sure you're using uclibc-ng-1.0.25.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

