Title: 85906 – amaroK crashes when trying to write metadata with taglib
URL: https://bugs.gentoo.org/show_bug.cgi?id=85906

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 85906
amaroK crashes when trying to write metadata with taglib
Last modified: 2005-04-26 15:17:30 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 85906 
      - amaroK crashes when trying to write metadata with taglib


Summary:
amaroK crashes when trying to write metadata with taglib
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       critical
      


Assignee:

Gentoo Sound Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-03-19 07:51 UTC by Will Wilson





      Modified:
    
2005-04-26 15:17 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



kde









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Will Wilson





          2005-03-19 07:51:09 UTC
        

Upon attempting to write metadata (after using the fill-in-metadata with musicbrainz option) amaroK crashes. Only happens sometimes, but seems to occur more often when a song is playing (any song, not necessarily the song with metadata being written)

Also, amaroK crashes almost every time when the 'cancel' button is clicked after opening the 'Edit Metadata' window.

Backtrace:

#0  0xb74b7494 in free () from /usr/kde/3.4/lib/libkdecore.so.4
#1  0x00000000 in ?? ()
#2  0xb7512a00 in kde_malloc_is_used () from /usr/kde/3.4/lib/libkdecore.so.4
#3  0xbfffc620 in ?? ()
#4  0x087ceb48 in ?? ()
#5  0xb7512a34 in kde_malloc_is_used () from /usr/kde/3.4/lib/libkdecore.so.4
#6  0x0853e058 in ?? ()
#7  0xb7512a20 in kde_malloc_is_used () from /usr/kde/3.4/lib/libkdecore.so.4
#8  0xb7512a04 in kde_malloc_is_used () from /usr/kde/3.4/lib/libkdecore.so.4
#9  0xb7512a00 in kde_malloc_is_used () from /usr/kde/3.4/lib/libkdecore.so.4
#10 0xb7512a00 in kde_malloc_is_used () from /usr/kde/3.4/lib/libkdecore.so.4
#11 0xbfffc640 in ?? ()
#12 0x0857e978 in ?? ()
#13 0xb7505278 in ?? () from /usr/kde/3.4/lib/libkdecore.so.4
#14 0xb74b7310 in free () from /usr/kde/3.4/lib/libkdecore.so.4
#15 0x08515218 in ?? ()
#16 0x086f0000 in ?? ()
#17 0xbfffc668 in ?? ()
#18 0xb694d159 in operator delete ()
   from //usr/lib/gcc/i686-pc-linux-gnu/3.4.3-20050110/libstdc++.so.6
Previous frame inner to this frame (corrupt stack?)


Reproducible: Sometimes
Steps to Reproduce:
1.Start amaroK
2.Right-click on song, click 'Edit Metadata'
3.Make a change (or use the fill in with musicbrainz option
4. Save OR Cancel

Actual Results:  
Crash

Expected Results:  
Not Crash

Portage 2.0.51.19 (default-linux/x86/2004.3, gcc-3.4.3-20050110,
glibc-2.3.4.20050125-r0, 2.6.11-gentoo-r2 i686)
=================================================================
System uname: 2.6.11-gentoo-r2 i686 Intel(R) Pentium(R) 4 CPU 3.40GHz
Gentoo Base System version 1.6.10
Python:              dev-lang/python-2.3.5 [2.3.5 (#1, Feb 28 2005, 20:05:56)]
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
dev-lang/python:     2.3.5
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.8.5-r3, 1.5, 1.7.9-r1, 1.4_p6, 1.6.3, 1.9.5
sys-devel/binutils:  2.15.92.0.2-r6
sys-devel/libtool:   1.5.14
virtual/os-headers:  2.6.8.1-r2
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CFLAGS="-O2 -march=pentium4 -mtune=pentium4 -fomit-frame-pointer -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.3/env
/usr/kde/3.3/share/config /usr/kde/3.3/shutdown /usr/kde/3.4/env
/usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/share/config /usr/share/texmf/dvipdfm/config/
/usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/
/usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/ /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=pentium4 -mtune=pentium4 -fomit-frame-pointer -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig ccache distlocks sandbox sfperms"
GENTOO_MIRRORS="ftp://ftp.wh2.tu-dresden.de/pub/mirrors/gentoo/"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X alsa apache2 apm arts avi bitmap-fonts cdr crypt cups curl debug doc
dvd emboss encode esd fam flac font-server foomaticdb fortran gd gd-external gif
gpm gstreamer gtk gtk2 guile imagemagick imlib immqt-bc ipv6 java jpeg junit kde
libg++ libwww mad mikmod mmx motif mozilla mp3 mpeg mysql nas ncurses nls nocd
nptl offensive oggvorbis opengl openssl oss pam pcmcia pdflib perl png pnp
python qt quicktime readline sdl session slang spell ssl svga tcltk tcpd tetex
tiff truetype truetype-fonts type1-fonts vhosts xml xml2 xmms xscreensaver xv zlib"
Unset:  ASFLAGS, CBUILD, CTARGET, LANG, LC_ALL, LDFLAGS, PORTDIR_OVERLAY




Comment 1


Carsten Lohrke (RETIRED)






          2005-03-19 08:10:45 UTC
        

which version do you speak about?




Comment 2


Will Wilson





          2005-03-19 08:26:36 UTC
        

1.2.2




Comment 3


Gregorio Guidi (RETIRED)






          2005-03-19 09:25:09 UTC
        

Maybe some of the dependencies were compiled with gcc-3.3?

try doing
# revdep-rebuild -X --soname libstdc++.so.5 -p





Comment 4


Ivan Yosifov





          2005-03-20 05:32:49 UTC
        

I had an other problem with taglib today. When building my music collection, amarok crashed at about 50% ( the backtrace showed ) in taglib. I rebuilt taglib and all worked well. You may try this. gcc is 3.4.3 20050110




Comment 5


Will Wilson





          2005-03-21 06:01:23 UTC
        

Tried revdep-rebuild. It died a couple times, but I was eventually able to get it to finish. Oddly enough though, each time I restarted it (after cleaning out the temporary files) it picked fewer packages to remerge. Regardless, it didn't solve the problem.




Comment 6


Gregorio Guidi (RETIRED)






          2005-03-21 07:04:55 UTC
        

Did you recompile amarok after that?




Comment 7


Will Wilson





          2005-03-21 18:58:04 UTC
        

Yes.




Comment 8


Jan Brinkmann (RETIRED)






          2005-03-29 10:00:42 UTC
        

is this still a problem with amarok-1.2.3?




Comment 9


Will Wilson





          2005-03-29 16:49:27 UTC
        

Yes. This time the sucker crashed right after clicking the fill-in-metadata button.




Comment 10


Will Wilson





          2005-04-26 15:17:30 UTC
        

Problem has vanished on its own. Perhaps something which needed a recompile received a recompile.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

