Title: 349978 – kde-base/nepomuk-4.4.5, 4.5.5: nepomuk processes crash while indexing
URL: https://bugs.gentoo.org/show_bug.cgi?id=349978

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 349978
kde-base/nepomuk-4.4.5, 4.5.5: nepomuk processes crash while indexing
Last modified: 2011-05-09 20:22:18 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 349978 
      - kde-base/nepomuk-4.4.5, 4.5.5: nepomuk processes crash while indexing


Summary:
kde-base/nepomuk-4.4.5, 4.5.5: nepomuk processes crash while indexing
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo KDE team








URL:



https://bugs.kde.org/show_bug.cgi?id=...
        




Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2010-12-28 17:45 UTC by Dillon





      Modified:
    
2011-05-09 20:22 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




This is the output log of nepomukserver (It is still running after the strigi indexers fail)

              (nepomukserver.log,50.89 KB,
                text/plain)

            
2010-12-28 17:48 UTC,

            Dillon




Details





This is the output log of nepomukservices (It fails with SIGABRT)

              (nepomukservices.log,3.20 KB,
                text/plain)

            
2010-12-28 17:49 UTC,

            Dillon




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Dillon





          2010-12-28 17:45:09 UTC
        

I attached gdb both to the nepomukserver and to one of the individual file indexers to learn more about and obtained a back-trace from one of the indexers.

Reproducible: Always

Steps to Reproduce:
1.Start nepomuk
2.Wait
3.Crash

Actual Results:  
nepomuk fails with:
nepomukservicestub: gconv.c:75: __gconv: Assertion `outbuf != ((void *)0) && *outbuf != ((void *)0)' failed.

Expected Results:  
nepomuk should run correctly.

# emerge --info nepomuk
Portage 2.1.9.25 (hardened/linux/x86, gcc-4.4.4, glibc-2.11.2-r3, 2.6.36-hardened-r7 i686)
=================================================================
                        System Settings
=================================================================
System uname: Linux-2.6.36-hardened-r7-i686-Genuine_Intel-R-_CPU_T2250_@_1.73GHz-with-gentoo-1.12.14
Timestamp of tree: Mon, 27 Dec 2010 23:00:01 +0000
distcc 3.1 i686-pc-linux-gnu [disabled]
ccache version 2.4 [disabled]
app-shells/bash:     4.1_p7
dev-java/java-config: 2.1.11-r1
dev-lang/python:     2.6.6-r1, 3.1.2-r4
dev-util/ccache:     2.4-r9
dev-util/cmake:      2.8.1-r2
sys-apps/baselayout: 1.12.14-r1
sys-apps/sandbox:    2.4
sys-devel/autoconf:  2.13, 2.65-r1
sys-devel/automake:  1.9.6-r3, 1.10.3, 1.11.1
sys-devel/binutils:  2.20.1-r1
sys-devel/gcc:       4.4.4-r2
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   2.2.10
sys-devel/make:      3.81-r2
virtual/os-headers:  2.6.30-r1 (sys-kernel/linux-headers)
ACCEPT_KEYWORDS="x86"
ACCEPT_LICENSE="*"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=prescott -O2 -pipe -ggdb"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/eselect/postgresql /etc/fonts/fonts.conf /etc/gconf /etc/revdep-rebuild /etc/sandbox.d /etc/splash /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c"
CXXFLAGS="-march=prescott -O2 -pipe -ggdb"
DISTDIR="/usr/portage/distfiles"
FEATURES="assume-digests binpkg-logs distlocks fixlafiles fixpackages news parallel-fetch protect-owned sandbox sfperms splitdebug strict unknown-features-warn unmerge-logs unmerge-orphans userfetch"
GENTOO_MIRRORS="ftp://gentoo.arcticnetwork.ca/pub/gentoo/ ftp://distro.ibiblio.org/pub/linux/distributions/gentoo/ ftp://distro.ibiblio.org/pub/linux/distributions/gentoo/"
LANG="en_US.UTF-8"
LDFLAGS="-Wl,-O1 -Wl,--as-needed"
LINGUAS="en en_US"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/var/lib/layman/roslin /var/lib/layman/techwolf /usr/portage/local"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X aac acl acpi alsa ao avahi berkdb bzip2 cairo caps cdda cddb cdinstall clamav cli consolekit cracklib crypt css cups cvs cxx daap dbus dga direcftb directfb djvu dri dv dvd dvdr dvdread emovix encode exif faac faad fbcon fbcondecor ffmpeg flac fortran gcj gdbm geoip gif gnutls gphoto2 gpm graphviz gstreamer h323 hardened iconv id3tag ieee1394 imagemagick imlib iphone ipod ipv6 java jpeg jpeg2k kde kontact lame laptop lcms libnotify libsamplerate lm_sensors mad mikmod mmx mmxext modules mp3 mp4 mpeg mudflap multislot musicbrainz mysql ncurses nis nls nptl nptlonly nsplugin ogg openal opengl openmp oss otr pam pcmcia pcre pdf perl phonon pic png portaudio postgres pppd pulseaudio python qt3support qt4 quicktime rdesktop readline rtc ruby samba scanner sdl semantic-desktop session silc sip smp snmp socks5 speex spell sqlite sqlite3 sse sse2 ssl startup-notification subversion svg sysfs sysvipc taglib tcpd theora threads tiff truetype twolame udev unicode upnp urandom usb v4l v4l2 vcd videos vnc vorbis wav wifi win32codecs wmf wxwindows x264 x86 xcomposite xine xml xorg xv xvid xvmc yahoo zeroconf zlib" ALSA_CARDS="hda-intel" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cgi cgid dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf superstar2 timing tsip tripmate tnt ubx" INPUT_DEVICES="evdev mouse synaptics keyboard joystick" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en en_US" PHP_TARGETS="php5-3" RUBY_TARGETS="ruby18" USERLAND="GNU" VIDEO_CARDS="fbdev vesa intel" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account" 
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LC_ALL, MAKEOPTS, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS

=================================================================
                        Package Settings
=================================================================

kde-base/nepomuk-4.4.5 was built with the following:
USE="handbook (-aqua) -debug (-kdeenablefinal) (-kdeprefix)"




Comment 1


Dillon





          2010-12-28 17:48:41 UTC
        

Created attachment 258272 [details]
This is the output log of nepomukserver (It is still running after the strigi indexers fail)




Comment 2


Dillon





          2010-12-28 17:49:22 UTC
        

Created attachment 258273 [details]
This is the output log of nepomukservices (It fails with SIGABRT)




Comment 3


Dillon





          2010-12-28 19:36:00 UTC
        

Reported to upstream




Comment 4


Dillon





          2010-12-28 19:58:57 UTC
        

(In reply to comment #3)
> Reported to upstream
> 

https://bugs.kde.org/show_bug.cgi?id=230592




Comment 5


Andreas K. Hüttel







          2011-02-27 21:25:58 UTC
        

No duplicates with 4.6 upstream so far




Comment 6


Andreas K. Hüttel







          2011-05-09 20:22:18 UTC
        

kde-4.6 is going stable these minutes, we can resolve this...









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

