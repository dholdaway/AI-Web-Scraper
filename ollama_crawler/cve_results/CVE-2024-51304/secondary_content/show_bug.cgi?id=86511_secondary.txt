Title: 86511 – mplayer-1.0_pre6-r2 can't find realaudio codecs installed by realplayer-10.0.3
URL: https://bugs.gentoo.org/show_bug.cgi?id=86511

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 86511
mplayer-1.0_pre6-r2 can't find realaudio codecs installed by realplayer-10.0.3
Last modified: 2007-01-06 15:19:00 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 86511 
      - mplayer-1.0_pre6-r2 can't find realaudio codecs installed by realplayer-10.0.3


Summary:
mplayer-1.0_pre6-r2 can't find realaudio codecs installed by realplayer-10.0.3
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       minor
      


Assignee:

Gentoo Media-video project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-03-24 05:36 UTC by Marko Daniel





      Modified:
    
2007-01-06 15:19 UTC
      (History)
    




          CC List:
        

5 
          users
          
            (show)
          



flash3001
kalium
kallamej
mmokrejs
todor









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Fix for codecs.conf adding non-versioned atrc.so and sipr.so support.

              (realplayer10-codecs-fix.patch,728 bytes,
                patch)

            
2005-10-16 14:27 UTC,

            Anders Hellgren




Details
            | Diff





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Marko Daniel





          2005-03-24 05:36:25 UTC
        

$ mplayer -playlist http://www.bbc.co.uk/radio4/realplayer/media/fmg2.ram
MPlayer 1.0pre6-3.3.5 (C) 2000-2004 MPlayer Team
CPU: Intel Pentium 4/Xeon/Celeron Foster (Family: 8, Stepping: 4)
Detected cache-line size is 64 bytes
MMX supported but disabled
MMX2 supported but disabled
CPUflags:  MMX: 0 MMX2: 0 3DNow: 0 3DNow2: 0 SSE: 1 SSE2: 1
Compiled for x86 CPU with extensions: SSE SSE2



Resolving www.bbc.co.uk for AF_INET...
Connecting to server www.bbc.co.uk[212.58.224.124]:80 ...
Cache size set to 64 KBytes
Connected to server: www.bbc.co.uk
73 audio & 180 video codecs
Playing rtsp://rmlivev8.bbc.net.uk/farm/*/ev7/live24/radio4/live/r4_dsat_g2.ra.
Resolving rmlivev8.bbc.net.uk for AF_INET...
Connecting to server rmlivev8.bbc.net.uk[212.58.225.84]:554 ...
Cache size set to 64 KBytes
Connected to server: rmlivev8.bbc.net.uk
Cache fill: 12.50% (8192 bytes)    REAL file format detected.
======= WAVE Format =======
Format Tag: 28515 (0x6F63)
Channels: 2
Samplerate: 22050
avg byte/sec: 44100
Block align: 640
bits/sample: 16
cbSize: 18
Unknown extra header dump: [80] [0] [10] [0] [b] [0] [80] [2] [8] [0] [1] [0] [0] [2] [4] [0] [0] [18]
===========================
demux_real: invalid chunksize! (0)
Clip info:
 name: Radio 4
 author: BBC
 copyright: (C) British Broadcasting Corporation 2004
==========================================================================
Opening audio decoder: [realaud] RealAudio decoder
opening shared obj '/opt/RealPlayer/codecs/cook.so.6.0'
Error: /opt/RealPlayer/codecs/cook.so.6.0: cannot open shared object file: No such file or directory
opening win32 dll 'cook.so.6.0'
Win32 LoadLibrary failed to load: cook.so.6.0, /usr/lib/win32/cook.so.6.0, /usr/local/lib/win32/cook.so.6.0
Error loading dll
ERROR: Could not open required DirectShow codec cook.so.6.0.
Read the RealAudio section of the DOCS!
ADecoder preinit failed :(
ADecoder init failed :(
Opening audio decoder: [realaud] RealAudio decoder
opening win32 dll 'cook3260.dll'
Win32 LoadLibrary failed to load: cook3260.dll, /usr/lib/win32/cook3260.dll, /usr/local/lib/win32/cook3260.dll
Error loading dll
ERROR: Could not open required DirectShow codec cook3260.dll.
Read the RealAudio section of the DOCS!
ADecoder preinit failed :(
ADecoder init failed :(
Opening audio decoder: [realaud] RealAudio decoder
opening shared obj '/opt/RealPlayer/codecs/cook.shlb'
Error: /opt/RealPlayer/codecs/cook.shlb: cannot open shared object file: No such file or directory
opening win32 dll 'cook.shlb'
Win32 LoadLibrary failed to load: cook.shlb, /usr/lib/win32/cook.shlb, /usr/local/lib/win32/cook.shlb
Error loading dll
ERROR: Could not open required DirectShow codec cook.shlb.
Read the RealAudio section of the DOCS!
ADecoder preinit failed :(
ADecoder init failed :(
Cannot find codec for audio format 0x6B6F6F63.
Read DOCS/HTML/en/codecs.html!
==========================================================================
Audio: no sound
Video: no video


Exiting... (End of file)


Reproducible: Always
Steps to Reproduce:
1. Run mplayer -playlist http://www.bbc.co.uk/radio4/realplayer/media/fmg2.ram
2. Aborts.


Actual Results:  
Aborts. 

Expected Results:  
Plays RealAudio stream. 

This can be made to work as follows:   
   
# cd /opt/RealPlayer/codecs   
# ln -s cook.so cook.so.6.0   
  
(As for this: 
MMX supported but disabled 
MMX2 supported but disabled 
 
see output of "equery uses mplayer": 
[ Searching for packages matching mplayer... ] 
[ Colour Code : set unset ] 
[ Legend    : Left column  (U) - USE flags from make.conf              ] 
[           : Right column (I) - USE flags packages was installed with ] 
[ Found these USE variables for media-video/mplayer-1.0_pre6-r2 ] 
 U I 
 - - 3dfx       : Adds support for 3dfx video cards to XFree86. See: voodoo3 
 - - 3dnow      : Adds support for 3dnow multimedia processor instructions 
 - - 3dnowext   : Enables 3dnow extensions in mplayer 
 + + aalib      : Adds support for media-libs/aalib (ASCII-Graphics Library) 
 + + alsa       : Adds support for media-libs/alsa-lib (Advanced Linux Sound 
Architecture) 
 - - altivec    : Adds support for optimizations for G4 and G5/ppc970 
processors 
 + + arts       : Adds support for aRts: the KDE sound daemon 
 + + avi        : Adds Win32 AVI support and also adds avifile (Library for 
avi) support 
 - - bidi       : Enables bidirectional language support 
 - - debug      : Tells configure and the makefiles to build for debugging. 
Effects vary across packages, but generally it will at least add -g to CFLAGS. 
Remember to set FEATURES=nostrip too 
 + + dga        : Adds DGA Support (Xfree86) (DGA=Direct Graphic Access) 
 + + divx4linux : Adds support for divx.com's DivX(tm) mpeg4 libary 
 + + doc        : Adds extra documentation (API, Javadoc, etc) 
 - - dts        : <unknown> 
 - - dvb        : Adds support for DVB (Digital Video Broadcasting) 
 + + cdparanoia : Enables cdparanoia support 
 - - directfb   : Adds support for DirectFB layer (library for FB devices) 
 + + dvd        : Adds support for DVDs 
 + + dv         : Enables support for a codec used by many camcorders 
 - - dvdread    : Enables usage of Ogle's libdvdread for DVD playback 
 + + edl        : Enables usage of Edit Decision Lists 
 + + encode     : Adds support for MEncoder or LaME encoder, wherever 
applicable 
 - - esd        : Adds support for media-sound/esound (Enlightened Sound 
Daemon) 
 + + fbcon      : Adds framebuffer support for the console, via the kernel 
 + + gif        : Adds GIF image support 
 - - ggi        : Adds support for media-libs/libggi (non-X video api/drivers) 
 + - gtk        : Adds support for x11-libs/gtk+ (The GIMP Toolkit) 
 - - i8x0       : Enables support for the i8x0 xvmc video driver 
 - - ipv6       : Adds support for IP version 6 
 - - jack       : Adds support for the JACK Audio Connection Kit 
 - - joystick   : Add support for joysticks in all packages 
 + + jpeg       : Adds JPEG image support 
 + + libcaca    : Add support for colored ASCII-art graphics 
 - - lirc       : Adds support for lirc (Linux's Infra-Red Remote Control) 
 + + live       : Enables live.com streaming media support 
 - - lzo        : Enables support for lzo compression 
 + + mad        : Adds support for mad (high-quality mp3 decoder library and 
cli frontend) 
 - - matroska   : Adds support for the matroska container format 
 - - matrox     : Adds Matrox MGA support to mplayer 
 + + mpeg       : Adds libmpeg3 support to various packages. 
 + + mmx        : Adds support for optimizations for Pentium MMX and Athlon 
class processors 
 + + mmxext     : enables mmx2 support 
 - - mythtv     : Enables mythtv support in mplayer 
 + + nas        : Adds support for network audio sound 
 + + nls        : <unknown> 
 + + nvidia     : Enables support for the nvidia xvmc video driver 
 + + oggvorbis  : Adds support for the OggVorbis audio encoding 
 + + opengl     : Adds support for OpenGL 
 + + oss        : Adds support for OSS (Open Sound System) 
 + + png        : Adds support for libpng (PNG images) 
 + + real       : Adds real video support to real through win32codecs 
 + + rtc        : Enables usage of the linux real time clock.  The alternative 
is software emulation of rtc. 
 + + samba      : Adds support for SAMBA 
 + + sdl        : Adds support for Simple Direct Layer (media library) 
 + + sse        : fast floating point optimization for PentiumIII+ class chips 
 + + sse2       : Enables sse2 support 
 + + svga       : Adds support for SVGAlib (graphics library) 
 - - tga        : Enables tga output support 
 + + theora     : Adds support for the Theora Video Compression Codec 
 + + truetype   : Adds support for FreeType and/or FreeType2 fonts 
 + + v4l        : Enables video4linux support 
 + + v4l2       : Enables video4linux2 support 
 + + X          : Adds support for X11 
 - - xanim      : Enables support for xanim based codecs 
 - - xinerama   : Add support for the xinerama X11 extension, which allows you 
to stretch your display across multiple monitors 
 + + xmms       : Check/Support for XMMS (X MultiMedia System) player. 
 + + xv         : Adds in optional support for the Xvideo extension (an X API 
for video playback) 
 + + xvid       : Adds support for xvid.org's open-source mpeg-4 codec 
 + + xvmc       : Enables X-Video Motion Compensation support 
 - - debug      : Tells configure and the makefiles to build for debugging. 
Effects vary across packages, but generally it will at least add -g to CFLAGS. 
Remember to set FEATURES=nostrip too 
 
See also Bug #86318.




Comment 1


Anders Hellgren






          2005-10-16 14:24:53 UTC
        

The COOK codec is already fixed in pre7. The same problem still exists for the
ATRAC3 (atrc.so) and Sipro (sipr.so) codecs of RealPlayer 10, though. Relevant
entries can be added to /usr/share/mplayer/codecs.conf to fix the problem.




Comment 2


Anders Hellgren






          2005-10-16 14:27:16 UTC
        

Created attachment 70808 [details, diff]
Fix for codecs.conf adding non-versioned atrc.so and sipr.so support.




Comment 3


kalium





          2006-01-02 05:53:44 UTC
        

Just wanted to note that this issue hasn't been fixed since then. Please add that fix either to the mplayer ebuild or to the realplayer ebuild.




Comment 4


kalium





          2006-01-02 05:56:03 UTC
        

And I think this is not a minor issue: there are many realmedia videos out there and mplayer effectively fails at playing them. I'd rather call this a blocker for mplayer.





Comment 5


Todor Buyukliev





          2006-03-16 14:03:42 UTC
        

this is a nasty problem indeed. I ran into it today on 1.0_pre7 and was going to report it, but luckily someone has done it already.

it can also be solved by creating two more symlinks from the realplayer ebuild.




Comment 6


Steve Dibb (RETIRED)






          2007-01-06 15:19:00 UTC
        

This should be working now with newer versions of mplayer / realplayer.

Plus, the stream works for me.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

