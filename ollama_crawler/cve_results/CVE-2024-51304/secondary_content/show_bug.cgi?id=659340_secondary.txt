Title: 659340 – dev-lang/mono-5.12.0.226 fails to build
URL: https://bugs.gentoo.org/show_bug.cgi?id=659340

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 659340
dev-lang/mono-5.12.0.226 fails to build
Last modified: 2018-06-27 20:10:26 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 659340 
      - dev-lang/mono-5.12.0.226 fails to build


Summary:
dev-lang/mono-5.12.0.226 fails to build
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2018-06-27 09:45 UTC by Xavier Miller (RETIRED)





      Modified:
    
2018-06-27 20:10 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build log

              (build.log.bz2,51.97 KB,
                application/x-bzip)

            
2018-06-27 09:45 UTC,

            Xavier Miller (RETIRED)




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Xavier Miller (RETIRED)






          2018-06-27 09:45:25 UTC
        

Created attachment 537378 [details]
build log

Creating .dep_dirs-build...
Assembling '../../class/corlib/System.Runtime.CompilerServices/Unsafe.il' , no listing file, to dll --> '../../class/lib/build-linux/corlib.unsafe.dll.tmp'

../../class/corlib/System.Runtime.CompilerServices/Unsafe.il : Warning -- Reference to undeclared extern assembly 'mscorlib', adding.

Unhandled Exception:
System.IO.DirectoryNotFoundException: Could not find a part of the path "../../class/lib/build-linux/corlib.unsafe.dll.tmp".
  at System.IO.File.Delete (System.String path) [0x00058] in <65ddf09008e04386aafb485fb0b6645a>:0
  at Mono.ILASM.Driver+DriverMain.Run () [0x00113] in <30475768f0764d64a4cce0d9352ddc2d>:0
  at Mono.ILASM.Driver.Main (System.String[] args) [0x00015] in <30475768f0764d64a4cce0d9352ddc2d>:0
[ERROR] FATAL UNHANDLED EXCEPTION: System.IO.DirectoryNotFoundException: Could not find a part of the path "../../class/lib/build-linux/corlib.unsafe.dll.tmp".
  at System.IO.File.Delete (System.String path) [0x00058] in <65ddf09008e04386aafb485fb0b6645a>:0
  at Mono.ILASM.Driver+DriverMain.Run () [0x00113] in <30475768f0764d64a4cce0d9352ddc2d>:0
  at Mono.ILASM.Driver.Main (System.String[] args) [0x00015] in <30475768f0764d64a4cce0d9352ddc2d>:0
make[8]: *** [il/il.make:4: ../../class/lib/build-linux/corlib.unsafe.dll.tmp] Error 1
make[7]: *** [../../build/rules.make:211: do-all] Error 2
make[6]: *** [../build/rules.make:232: all-recursive] Error 1
make[5]: *** [build/rules.make:232: all-recursive] Error 1
make[4]: *** [Makefile:54: profile-do--build--all] Error 2
make[3]: *** [Makefile:50: profiles-do--all] Error 2
make[2]: *** [Makefile:645: all-local] Error 2
make[2]: Leaving directory '/var/tmp/portage-notmpfs/portage/dev-lang/mono-5.12.0.226/work/mono-5.12.0.226-abi_x86_64.amd64/runtime'
make[1]: *** [Makefile:556: all-recursive] Error 1
make[1]: Leaving directory '/var/tmp/portage-notmpfs/portage/dev-lang/mono-5.12.0.226/work/mono-5.12.0.226-abi_x86_64.amd64'
make: *** [Makefile:486: all] Error 2
 * ERROR: dev-lang/mono-5.12.0.226::gentoo failed (compile phase):
 *   emake failed
 *
 * If you need support, post the output of `emerge --info '=dev-lang/mono-5.12.0.226::gentoo'`,
 * the complete build log and the output of `emerge -pqv '=dev-lang/mono-5.12.0.226::gentoo'`.
 * The complete build log is located at '/var/tmp/portage-notmpfs/portage/dev-lang/mono-5.12.0.226/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage-notmpfs/portage/dev-lang/mono-5.12.0.226/temp/environment'.
 * Working directory: '/var/tmp/portage-notmpfs/portage/dev-lang/mono-5.12.0.226/work/mono-5.12.0.226-abi_x86_64.amd64'
 * S: '/var/tmp/portage-notmpfs/portage/dev-lang/mono-5.12.0.226/work/mono-5.12.0.226'




Comment 1


Xavier Miller (RETIRED)






          2018-06-27 09:46:34 UTC
        

 # emerge --info '=dev-lang/mono-5.12.0.226::gentoo'                                                                                                          [25/9159]
fatal: not a git repository (or any parent up to mount point /usr)
Stopping at filesystem boundary (GIT_DISCOVERY_ACROSS_FILESYSTEM not set).
Portage 2.3.41 (python 3.5.5-final-0, default/linux/amd64/17.1/no-multilib, gcc-8.1.0, glibc-2.27-r5, 4.17.2-gentoo x86_64)
=================================================================
                         System Settings
=================================================================
System uname: Linux-4.17.2-gentoo-x86_64-Intel-R-_Core-TM-2_Duo_CPU_P8700_@_2.53GHz-with-gentoo-2.6
KiB Mem:     3970116 total,    376132 free
KiB Swap:          0 total,         0 free
Timestamp of repository gentoo: Wed, 27 Jun 2018 06:00:01 +0000
sh bash 4.4_p23
ld GNU gold (Gentoo 2.30 p3 2.30.0) 1.15
distcc 3.2rc1 x86_64-pc-linux-gnu [disabled]
app-shells/bash:          4.4_p23::gentoo
dev-java/java-config:     2.2.0-r4::gentoo
dev-lang/perl:            5.26.2::gentoo
dev-lang/python:          2.7.15::gentoo, 3.5.5-r1::gentoo
dev-util/cmake:           3.11.4::gentoo
dev-util/pkgconfig:       0.29.2::gentoo
sys-apps/baselayout:      2.6::gentoo
sys-apps/openrc:          0.37::gentoo
sys-apps/sandbox:         2.13::gentoo
sys-devel/autoconf:       2.13::gentoo, 2.69-r4::gentoo
sys-devel/automake:       1.13.4-r2::gentoo, 1.16.1-r1::gentoo
sys-devel/binutils:       2.30-r3::gentoo
sys-devel/gcc:            8.1.0-r3::gentoo
sys-devel/gcc-config:     1.9.1::gentoo
sys-devel/libtool:        2.4.6-r5::gentoo
sys-devel/make:           4.2.1-r3::gentoo
sys-kernel/linux-headers: 4.17::gentoo (virtual/os-headers)
sys-libs/glibc:           2.27-r5::gentoo
Repositories:

gentoo
    location: /usr/portage
    sync-type: git
    sync-uri: git://anongit.gentoo.org/repo/gentoo.git
    priority: -1000

local
    location: /data/nas/xavier/portage/phoenix/usr/local/portage/overlay
    masters: gentoo
    priority: 0

proaudio
    location: /var/lib/layman/proaudio
    masters: gentoo
    priority: 50

xmw
    location: /var/lib/layman/xmw
    masters: gentoo
    priority: 50


ACCEPT_KEYWORDS="amd64 ~amd64"
ACCEPT_LICENSE="@FREE freedist as-is"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -pipe -fomit-frame-pointer -march=core2 -mmmx -msse -msse2 -msse3 -mssse3 -mcx16 -msahf -msse4.1 -mfxsr --param l1-cache-size=32 --param l1-cache-line-size=64 --param l2-cache-size=3072 -mtune=core2"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/lib64/libreoffice/program/sofficerc /usr/share/config /usr/share/gnupg/qualified.txt"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/dconf /etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c"
CXXFLAGS="-O2 -pipe -fomit-frame-pointer -march=core2 -mmmx -msse -msse2 -msse3 -mssse3 -mcx16 -msahf -msse4.1 -mfxsr --param l1-cache-size=32 --param l1-cache-line-size=64 --param l2-cache-size=3072 -mtune=core2"
DISTDIR="/var/portage/distfiles"
EMERGE_DEFAULT_OPTS="--with-bdeps y --quiet-build=n --buildpkg"
ENV_UNSET="DBUS_SESSION_BUS_ADDRESS DISPLAY PERL5LIB PERL5OPT PERLPREFIX PERL_CORE PERL_MB_OPT PERL_MM_OPT XAUTHORITY XDG_CACHE_HOME XDG_CONFIG_HOME XDG_DATA_HOME XDG_RUNTIME_DIR"
FCFLAGS="-O2 -pipe"
FEATURES="assume-digests binpkg-logs buildpkg candy config-protect-if-modified distlocks ebuild-locks fixlafiles merge-sync multilib-strict news parallel-fetch preserve-libs protect-owned sandbox sfperms strict unknown-features-warn unmerge-logs unmerge-orphans userfetch userpriv usersandbox usersync"
FFLAGS="-O2 -pipe"
GENTOO_MIRRORS="http://distfiles.gentoo.org"
LANG="fr_BE.utf8"
LDFLAGS="-Wl,-O1 -Wl,--sort-common -Wl,--hash-style=gnu -Wl,--as-needed"
LINGUAS="fr fr_FR fr_BE nl nl_BE nl_NL"
MAKEOPTS="-j5 -l3"
PKGDIR="/var/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --omit-dir-times --compress --force --whole-file --delete --stats --human-readable --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --exclude=/.git"
PORTAGE_TMPDIR="/var/tmp"
USE="3dnow 3dnowext X a52 aac acpi alsa amd64 apng branding bzip2 cairo cdda cli crossdev crypt css cups cxx dbus dlna dri dts dvd exif flac gif glamor gpm gtk gudev iconv imagemagick jpeg lcms libcanberra libinput libnotify libtirpc mad mmx mng modules mp3 mpeg ncurses nls nptl ogg opengl openmp opus pam pango pcre pdf png printsupport python3 qt5 readline sane scanner sdl seccomp sna sndfile snmp spell sqlite sse sse2 ssl startup-notification svg symlink tcpd tiff truetype udev unicode upnp usb vorbis wmf x264 xattr xcb xinerama xkb xml xosd xscreensaver xv xvid xvmc zlib" ABI_X86="64" ALSA_CARDS="hda-intel usb-audio virmidi" APACHE2_MODULES="authn_core authz_core socache_shmcb unixd actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cgi cgid dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CALLIGRA_FEATURES="karbon plan sheets stage words" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" CPU_FLAGS_X86="mmx mmxext sse sse2 sse3 sse4_1 ssse3" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock isync itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf skytraq superstar2 timing tsip tripmate tnt ublox ubx" INPUT_DEVICES="keyboard mouse libinput" KERNEL="linux" L10N="fr nl" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LIBREOFFICE_EXTENSIONS="presenter-console presenter-minimizer" LLVM_TARGETS="X86" OFFICE_IMPLEMENTATION="libreoffice" PHP_TARGETS="php5-6 php7-0" POSTGRES_TARGETS="postgres9_5 postgres10" PYTHON_SINGLE_TARGET="python3_5"
PYTHON_TARGETS="python2_7 python3_5" QEMU_SOFTMMU_TARGETS="arm i386" QEMU_USER_TARGETS="arm i386" RUBY_TARGETS="ruby25" SANE_BACKENDS="hp" USERLAND="GNU" VIDEO_CARDS="radeon r600" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account"
Unset:  CC, CPPFLAGS, CTARGET, CXX, INSTALL_MASK, LC_ALL, PORTAGE_BINHOST, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 2


Xavier Miller (RETIRED)






          2018-06-27 20:10:26 UTC
        

2nd try was OK...









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

