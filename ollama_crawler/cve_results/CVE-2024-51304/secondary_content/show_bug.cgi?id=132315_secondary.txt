Title: 132315 – glibc-2.4-r1 - undefined reference in /usr/lib/libdl.so.2
URL: https://bugs.gentoo.org/show_bug.cgi?id=132315

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 132315
glibc-2.4-r1 - undefined reference in /usr/lib/libdl.so.2
Last modified: 2006-05-07 14:17:46 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 132315 
      - glibc-2.4-r1 - undefined reference in /usr/lib/libdl.so.2


Summary:
glibc-2.4-r1 - undefined reference in /usr/lib/libdl.so.2
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       major
      


Assignee:

Gentoo Toolchain Maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-05-05 00:28 UTC by Maciej Piechotka





      Modified:
    
2006-05-07 14:17 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




/var/db/pkg/sys-libs/glibc-2.4-r2/CONTENTS

              (CONTENTS,97.44 KB,
                text/plain)

            
2006-05-05 23:41 UTC,

            Maciej Piechotka




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Maciej Piechotka





          2006-05-05 00:28:03 UTC
        

I'm during installing of Gentoo then I won't write about packages(I'll send it later).
Some packages needs -ldl in LDFLAGS (else it shows "undefined reference in /usr/lib/libdl.so.2 to _dl_open@GLIBC_PRIVATE").

Regards




Comment 1


Jakub Moc (RETIRED)






          2006-05-05 00:37:25 UTC
        

Reopen when you are ready to provide relevant information...




Comment 2


Maciej Piechotka





          2006-05-05 11:21:57 UTC
        

livecd linux # make menuconfig
  HOSTLD  scripts/kconfig/lxdialog/lxdialog
/usr/lib/libdl.so.2: undefined reference to `_dl_open@GLIBC_PRIVATE'
/usr/lib/libdl.so.2: undefined reference to `_dl_close@GLIBC_PRIVATE'
collect2: ld returned 1 exit status
make[2]: *** [scripts/kconfig/lxdialog/lxdialog] Error 1
make[1]: *** [menuconfig] Error 2
make: *** [menuconfig] Error 2
livecd linux # emerge --info
Portage 2.1_pre10-r2 (default-linux/x86/2006.0, gcc-3.4.6, glibc-2.4-r1, 2.6.15-gentoo-r5 i686)
=================================================================
System uname: 2.6.15-gentoo-r5 i686 Intel(R) Celeron(R) M processor         1.50GHz
Gentoo Base System version 1.12.0_pre19
dev-lang/python:     2.4.3-r1
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.18
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r2
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r5
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium-m -fomit-frame-pointer -mfpmath=sse -mmmx -msse -msse2 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/eselect/compiler /etc/gconf /etc/splash /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=pentium-m -fomit-frame-pointer -mfpmath=sse -mmmx -msse -msse2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X acc acl acpi alsa apache2 apm avi bash-completion berkdb bitmap-fonts bzip2 calendar cdparanoia cdr cli crypt cups dbus doc dri dvd dvdr eds emacs emboss encode esd exif expat flash foomaticdb fortran gdbm gif gnome gpm gstreamer gstreamer10 gstremer gtk gtk2 gtkhtml hal iconv imap imlib ipv6 isdnlog jpeg libg++ libwww mad maildir mhash mikmod ming mmx mono motif mozilla mp3 mpeg ncurses nls nosendmail nptl nptlonly ogg oggvorbis openal opengl pam pcre pda pdf pdflib perl png pppd python qt quicktime readline reflection samba sdl session spell spl sse sse2 ssl svg tcpd tetex theora truetype truetype-fonts type1-fonts udev unicode usb vorbis wifi xml xml2 xmms xorg xsl xv zlib elibc_glibc input_devices_mouse input_devices_keyboard kernel_linux userland_GNU video_cards_radeon"
Unset:  ASFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTDIR_OVERLAY

I'm during upgrading of glibc - it could be problem with it




Comment 3


Maciej Piechotka





          2006-05-05 13:33:30 UTC
        

Unfortunatly not. It still shows undefined reference.
I've try to comple glibc with different use flags(glibc-omitfp).

Regards.




Comment 4


SpanKY






          2006-05-05 16:56:13 UTC
        

uhh, you should shouldnt have libdl.so.2 in /usr/lib

post the /var/db/pkg/sys-libs/glibc-2.4-r1/CONTENTS file as an attachment




Comment 5


Maciej Piechotka





          2006-05-05 23:41:36 UTC
        

Created attachment 86234 [details]
/var/db/pkg/sys-libs/glibc-2.4-r2/CONTENTS

Here's my CONTENT file




Comment 6


SpanKY






          2006-05-05 23:49:20 UTC
        

glibc didnt install that file

i'd run:
qfile /usr/lib/libdl.so.2

and see who installed it

if the answer is no-one, i'd just delete it and go on your way




Comment 7


Maciej Piechotka





          2006-05-07 14:15:36 UTC
        

I'll explain later




Comment 8


Maciej Piechotka





          2006-05-07 14:17:46 UTC
        

Oh sorry - I'd like to mark it like not a bug - I remember now I've, by accident, unpack stage to /usr instead of portage and I've forgotten to clean it.











Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

