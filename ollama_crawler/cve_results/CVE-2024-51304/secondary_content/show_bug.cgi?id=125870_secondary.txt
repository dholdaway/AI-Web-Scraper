Title: 125870 – ktechlab fails to compile - ISO C++ forbids declaration of `ExternalModule' with no type
URL: https://bugs.gentoo.org/show_bug.cgi?id=125870

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 125870
ktechlab fails to compile - ISO C++ forbids declaration of `ExternalModule' with no type
Last modified: 2006-03-18 10:09:48 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 125870 
      - ktechlab fails to compile - ISO C++ forbids declaration of `ExternalModule' with no type


Summary:
ktechlab fails to compile - ISO C++ forbids declaration of `ExternalModule' w...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-03-11 13:21 UTC by Triffid Hunter





      Modified:
    
2006-03-18 10:09 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Triffid Hunter





          2006-03-11 13:21:56 UTC
        

In file included from module_manager.cpp:11:
interface.h:92: error: expected class-name before '{' token
interface.h:102: error: ISO C++ forbids declaration of `ExternalModule' with no type
interface.h:102: error: expected `;' before '*' token
interface.h:92: warning: `class GpsimModule' has virtual functions but non-virtual destructor
interface.h:131: error: expected class-name before '{' token
module_manager.cpp:25: error: `construct' is not a member of `GpsimModule'
module_manager.cpp:27: warning: missing braces around initializer
module_manager.cpp:27: warning: missing braces around initializer
make[2]: *** [module_manager.lo] Error 1
make[2]: *** Waiting for unfinished jobs....





~ # emerge info
Portage 2.1_pre4-r1 (default-linux/x86/2005.1, gcc-3.4.5, glibc-2.3.6-r2, 2.6.15-gentoo-lucienne i686)
=================================================================
System uname: 2.6.15-gentoo-lucienne i686 AMD Athlon(tm) XP 2700+
Gentoo Base System version 1.12.0_pre15
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
ccache version 2.4 [enabled]
dev-lang/python:     2.3.5, 2.4.2-r1
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1-r1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r3
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -pipe               -march=athlon-xp                -maccumulate-outgoing-args              -mfpmath=sse            -momit-leaf-frame-pointer               -mtune=athlon-xp                                -fexpensive-optimizations              -fmove-all-movables             -fomit-frame-pointer            -fprefetch-loop-arrays          -frerun-cse-after-loop          -frerun-loop-opt                "
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/init.d /etc/terminfo /etc/texmf/web2c /etc/env.d"
CXXFLAGS="-O2 -pipe             -march=athlon-xp                -maccumulate-outgoing-args              -mfpmath=sse            -momit-leaf-frame-pointer               -mtune=athlon-xp                                -fexpensive-optimizations              -fmove-all-movables             -fomit-frame-pointer            -fprefetch-loop-arrays          -frerun-cse-after-loop          -frerun-loop-opt                 -fvisibility-inlines-hidden"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache distlocks fixpackages sandbox sfperms strict"
GENTOO_MIRRORS="http://mirror.pacific.net.au/linux/Gentoo http://mirror.isp.net.au/ftp/pub/gentoo/ http://mirror.aarnet.edu.au/pub/gentoo/"
MAKEOPTS="-j12"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://mirror.wa.3fl.net/gentoo-portage"
USE="x86 3dnow 3dnowex 3dnowext S3TC X X509 Xaw3d a52 aac acpi adns alsa apm asf athena audiofile avi bash-completion berkdb big-tables bitmap-fonts bri browserplugin bzip2 bzlib cairo caps cdda cddb cdio cdparanoia cdr cdrom cli clock-screen cpudetection crypt cscope css cups curl custom-cflags dba dbx dga divx4linux dlloader dnd dri dts dv dvb dvd dvdr dvdread ecaggressive eckb1 ecmark ecmark2 ecmark3 ecmg2 ecsteve ecsteve2 emboss encode erandom exif expat extensions extrafilters faad fame fax fbcon ffmpeg flac foomaticdb fping ftp gd gdbm ggi gif gimp glibc-omitfp gmp gnutls gphoto2 gpm graphviz gs gstreamer gtk gtk2 guile h323 hpn id3 idn ieee1394 imlib inifile ipv6 ithreads jack-tmpfs java jbig jce jpeg jpeg2k kde kdeenablefinal kdexdeltas key-screen kqemu ladcca lame libg++ libvisual libwww linuxthreads-tls lirc live lm_sensors logitech-mouse logrotate lua lzo mailwrapper mapeditor matroska mbrola md5sum memlimit mhash mikmod mime mjpeg mmap mmx mmxext mng motif mouse mozdevelop mozsvg mozxmlterm mp3 mp4live mpeg mpeg2 mplayer music mysql mysqlfriends mysqli mythtv ncurses network nls nodrm nowin nptl nptlonly nsplugin nvidia offensive ogg oggvorbis on-the-fly-crypt openexr opengl pam pam_chroot pam_console pam_timestamp pcre pdflib perl perlsuid php physfs player plib png posix povray ppds pri pvm python qt quicktime rar raw-mode rdesktop readline real remix resperl rogue rtc ruby samba scanner screen sdl search-screen session sharedext sharedmem silc slang slp soap sockets socks5 speex sql sse ssl stream subtitles subversion svg sysfs syslog tcltk tcpd tetex theora threads tiff timidity tokenizer toolbar transparent-proxy truetype truetype-fonts type1-fonts ucs2 unicode urandom usb userlocales utf8 v4l v4l2 vcd vhosts vim-with-x visualization vlm vmdbmysql voice vorbis watchdog wifi win32codecs winbind wmf wozxmlterm wxgtk1 x264 xanim xatrix xcomposite xine xml xml2 xmlrpc xmms xosd xprint xrandr xsl xv xvid xvmc yv12 zaptel zeroconf zip zlib zvbi elibc_glibc kernel_linux userland_GNU video_cards_nvidia"
Unset:  ASFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, LANG, LC_ALL, LDFLAGS, LINGUAS




Comment 1


Diego Elio Pettenò (RETIRED)






          2006-03-11 13:42:35 UTC
        

Please try -j1, it might be a problem of using -j12 on a system that cannot actually build 12 files in parallel.





Comment 2


Triffid Hunter





          2006-03-11 21:20:16 UTC
        

MAKEOPTS=-j1 CFLAGS=CXXFLAGS="-O2 -pipe -march=athlon-xp -fomit-frame-pointer" gives the exact same result

btw, its deps (and hundreds of other packages) built fine with -j12, which I use as I've many distcc nodes. I know some packages force -j1




Comment 3


Diego Elio Pettenò (RETIRED)






          2006-03-18 10:09:48 UTC
        

Seems like some symbols are missing, you might need to rebuild gpsim without -fvisibility* flags.
Built fine here at every -j level.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

