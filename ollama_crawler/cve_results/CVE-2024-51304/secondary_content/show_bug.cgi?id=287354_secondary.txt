Title: 287354 – sys-libs/glibc-2.9_p20081201-r2 fail with "ar: libc_p.a: File in wrong format" due to USE=multitarget with sys-devel/binutils
URL: https://bugs.gentoo.org/show_bug.cgi?id=287354

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 287354
sys-libs/glibc-2.9_p20081201-r2 fail with "ar: libc_p.a: File in wrong format" due to USE=multitarget with sys-devel/binutils
Last modified: 2009-10-06 09:01:25 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 287354 
      - sys-libs/glibc-2.9_p20081201-r2 fail with "ar: libc_p.a: File in wrong format" due to USE=multitarget with sys-devel/binutils


Summary:
sys-libs/glibc-2.9_p20081201-r2 fail with "ar: libc_p.a: File in wrong format...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Core system

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Toolchain Maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-10-02 14:01 UTC by Alessandro Surace





      Modified:
    
2009-10-06 09:01 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge --info

              (emerge-info.txt,4.33 KB,
                text/plain)

            
2009-10-02 14:03 UTC,

            Alessandro Surace




Details





build.log

              (build.log,19.16 KB,
                text/plain)

            
2009-10-02 14:07 UTC,

            Alessandro Surace




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Alessandro Surace





          2009-10-02 14:01:59 UTC
        

When I try to rebuild glibc I get:
/usr/lib/gcc/x86_64-pc-linux-gnu/4.1.2/../../../../x86_64-pc-linux-gnu/bin/ar: libc_p.a: File in wrong format
make[1]: *** [/opt/tmp/portage/sys-libs/glibc-2.9_p20081201-r2/work/build-x86-x86_64-pc-linux-gnu-nptl/libc_p.a] Error 1
make[1]: Leaving directory `/opt/tmp/portage/sys-libs/glibc-2.9_p20081201-r2/work/glibc-2.9-20081201'
make: *** [all] Error 2


Reproducible: Always

Steps to Reproduce:
1.emerge -v =sys-libs/glibc-2.9_p20081201-r2
2.
3.




Comment 1


Alessandro Surace





          2009-10-02 14:03:11 UTC
        

Created attachment 205842 [details]
emerge --info




Comment 2


Alessandro Surace





          2009-10-02 14:07:41 UTC
        

Created attachment 205843 [details]
build.log




Comment 3


Alessandro Surace





          2009-10-02 15:15:15 UTC
        

without profile use the package is builded correctly.




Comment 4


SpanKY






          2009-10-04 00:42:51 UTC
        

upgrade to binutils-2.18-r4 or drop USE=multitarget and rebuild binutils




Comment 5


Alessandro Surace





          2009-10-05 09:01:59 UTC
        

(In reply to comment #4)
> upgrade to binutils-2.18-r4 or drop USE=multitarget and rebuild binutils
> 

Ok Thanks. 
I need multitarget and I prefer to keep the stable version of binutils.

But Why does this problems happen?




Comment 6


SpanKY






          2009-10-05 16:39:36 UTC
        

it logically follows that there is a bug in the current stable version which has been fixed in newer versions




Comment 7


Alessandro Surace





          2009-10-06 09:01:25 UTC
        

(In reply to comment #6)
> it logically follows that there is a bug in the current stable version which
> has been fixed in newer versions
> 

Thanks SpanKY this was clear.
My question was: which is the problem, if Do you know?











Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

