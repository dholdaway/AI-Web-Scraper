Title: 253981 – media-gfx/blender-2.48a-r3 not build with openal-1.5.304
URL: https://bugs.gentoo.org/show_bug.cgi?id=253981

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 253981
media-gfx/blender-2.48a-r3 not build with openal-1.5.304
Last modified: 2009-01-13 00:26:45 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 253981 
      - media-gfx/blender-2.48a-r3 not build with openal-1.5.304


Summary:
media-gfx/blender-2.48a-r3 not build with openal-1.5.304
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Luca Barbato








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-01-06 15:14 UTC by Fabio Bonfante





      Modified:
    
2009-01-13 00:26 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



graphics+disabled









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Fabio Bonfante





          2009-01-06 15:14:20 UTC
        

Linking program ==> 'blender'
/var/tmp/portage/media-gfx/blender-2.48a-r3/work/build/linux2/lib/libbf_soundsystem.a(SND_OpenALDevice.o): In function `SND_OpenALDevice::LoadSample(STR_String const&, void*, int)':
SND_OpenALDevice.cpp:(.text+0xd4c): undefined reference to `alutLoadWAVMemory'
SND_OpenALDevice.cpp:(.text+0xdc9): undefined reference to `alutUnloadWAV'
SND_OpenALDevice.cpp:(.text+0xdf1): undefined reference to `alutLoadWAVFile'
collect2: ld returned 1 exit status
scons: *** [/var/tmp/portage/media-gfx/blender-2.48a-r3/work/build/linux2/bin/blender] Error 1
scons: building terminated because of errors.

-------------
Portage 2.1.6.4 (default/linux/amd64/2008.0/desktop, gcc-4.1.2, glibc-2.6.1-r0, 2.6.26-gentoo-r4 x86_64)
=================================================================
System uname: Linux-2.6.26-gentoo-r4-x86_64-AMD_Athlon-tm-_64_Processor_3200+-with-glibc2.2.5
Timestamp of tree: Mon, 05 Jan 2009 07:00:01 +0000
distcc 3.0 x86_64-pc-linux-gnu [disabled]
app-shells/bash:     3.2_p39
dev-java/java-config: 1.3.7-r1, 2.1.6-r1
dev-lang/python:     2.4.4-r14, 2.5.2-r7
dev-python/pycrypto: 2.0.1-r6
dev-util/cmake:      2.4.6-r1
sys-apps/baselayout: 1.12.11.1
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.63
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.2
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.27-r2
ACCEPT_KEYWORDS="amd64"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=k8 -O2 -mmmx -msse -msse2 -m3dnow -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/config"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/splash /etc/terminfo /etc/udev/rules.d"
CXXFLAGS="-march=k8 -O2 -mmmx -msse -msse2 -m3dnow -pipe"
DISTDIR="/var/tmp/distfiles"
FEATURES="distlocks fixpackages parallel-fetch protect-owned sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LANG="it_IT.UTF-8"
LC_ALL="it_IT.UTF-8"
LDFLAGS="-Wl,-O1"
LINGUAS="it"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/overlays/sunrise /usr/local/overlays/gnome-experimental /usr/local/overlays/java-overlay /usr/local/overlays/fluendo-elisa /usr/local/overlays/zugaina /usr/local/overlays/armagetron /usr/local/overlays/desktop-effects /usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="3dnow 3dnowext 7zip X a52 aac acl acpi alsa amd64 amuled apache2 asf audacious avahi avi bash-completion berkdb bluetooth branding browserplugin bzip2 cairo cddb cdparanoia cdr chm cli cracklib crypt cups curl dbus directfb dri dts dv dvd dvdr dvdread eds emboss encode esd evo exif expat fam fbcon fbsplash ffmpeg flac gcj gd gdbm gif glut gnome gphoto2 gpm gstreamer gtk gtk2 gtkhtml hal iconv idn ieee1394 imagemagick innodb ipod ipv6 isdnlog jack java jpeg jpeg2k kerberos lcms ldap libnotify libvisual lirc lzo mad matroska midi mikmod mmx mng mod modplug mono mp3 mpd mpeg mtp mudflap multilib musepack mysql mythtv ncurses nfs nls nptl nptlonly nsplugin nvidia objc odbc ogg oggvorbis openal openexr opengl openmp pam pcre pdf perl png postgres ppds pppd python qt qt3 qt3support qt4 quicktime readline reflection samba scanner schroedinger sdl session skins sndfile speex spell spl sqlite srt sse sse2 sse3 ssl startup-notification stream streamout svg sysfs tagwriting tcpd tga theora threads tiff truetype tv unicode usb userlocales v4l vcd vhosts vorbis wacom wavpack webservices wmf wxwindows x264 xine xinerama xml xml2 xorg xosd xpm xulrunner xv xvid xvmc zlib" ALSA_CARDS="hda-intel" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic auth_digest authn_anon authn_dbd authn_dbm authn_default authn_file authz_dbm authz_default  authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock dbd deflate dir disk_cache env expires  ext_filter file_cache filter headers ident imagemap include info log_config logio mem_cache mime mime_magic negotiation  proxy proxy_ajp proxy_balancer proxy_connect proxy_http rewrite setenvif so speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="mouse keyboard wacom evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="it" USERLAND="GNU" VIDEO_CARDS="nvidia"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, MAKEOPTS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS

-----------------------
[ Found these USE variables for media-gfx/blender-2.48a-r3 ]
 U I
 + + blender-game : Adds game engine support to blender
 + - ffmpeg       : Enable ffmpeg-based audio/video codec support
 + + jpeg         : Adds JPEG image support
 + + nls          : Adds Native Language Support (using gettext - GNU locale utilities)
 + + openal       : Adds support for the Open Audio Library
 + + openexr      : Support for the OpenEXR graphics file format
 + + openmp       : Build support for the OpenMP (support parallel computing), requires >=sys-devel/gcc-4.2 built with USE="openmp"
 + - player       : Enable blender player
 + + png          : Adds support for libpng (PNG images)
 + + quicktime    : Adds support for OpenQuickTime
 + + verse        : Adds verse clustering features to blender




Comment 1


Samuli Suominen (RETIRED)






          2009-01-11 20:33:41 UTC
        

Heh. I had to explicitely install new openal to get blender installed on x86, also because of undefined references (different ones). Have you tried rebuilding
your freealut since upgrading openal? Also note bug 254583, so please use 
=media-libs/openal-1.6.372 for testing instead.




Comment 2


Fabio Bonfante





          2009-01-12 01:29:35 UTC
        

Thanks, after a freealut rebuild, blender compiles fine... (didn't test the functionality anyway).

This worked for me... sorry for the off topic... but IMHO those cases should be handled in some way by portage (it's not difficult to know the latest build of a package) so... anybody knows if there's something like "temporals dependencies" support in the portage roadmap?




Comment 3


Samuli Suominen (RETIRED)






          2009-01-12 21:36:03 UTC
        

(In reply to comment #2)
> Thanks, after a freealut rebuild, blender compiles fine... (didn't test the
> functionality anyway).
> 
> This worked for me... sorry for the off topic... but IMHO those cases should be
> handled in some way by portage (it's not difficult to know the latest build of
> a package) so... anybody knows if there's something like "temporals
> dependencies" support in the portage roadmap?
> 

I think we could add a -r1 of freealut with no changes after bug 254583 is done to ensure people have the "same version" of freealut installed, I was about to raise the dep. in freealut before but ~ia64 and ~arm keywords are still missing from new freealut and I didn't want to drop keywords..

Though.. It's kind of stupid to add -r1 just to ensure a recompile..

I don't know any plans for adding this kind of support into portage, may want to open a feature request instead. Since it works for you now, closing this..





Comment 4


Fabio Bonfante





          2009-01-13 00:26:45 UTC
        

For reference, I didn't try upgrading openal, it worked with 1.5.304.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

