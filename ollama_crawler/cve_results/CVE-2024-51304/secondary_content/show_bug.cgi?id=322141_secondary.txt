Title: 322141 – app-office/gnucash-2.3.12 fails to emerge with media-libs/libpng-1.4.2
URL: https://bugs.gentoo.org/show_bug.cgi?id=322141

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 322141
app-office/gnucash-2.3.12 fails to emerge with media-libs/libpng-1.4.2
Last modified: 2010-05-31 11:00:36 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 322141 
      - app-office/gnucash-2.3.12 fails to emerge with media-libs/libpng-1.4.2


Summary:
app-office/gnucash-2.3.12 fails to emerge with media-libs/libpng-1.4.2
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2010-05-30 20:40 UTC by Sönke N. Greimann





      Modified:
    
2010-05-31 11:00 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Sönke N. Greimann





          2010-05-30 20:40:33 UTC
        

app-office/gnucash-2.3.12 fails emerging after upgrading to media-libs/libpng-1.4.2 and unmerge of media-libs/libpng-1.2.43-r3.

All necessary update steps after the upgrading of libpng have been performed. (revdep-rebuild, lafilefixer --justfixit, /usr/sbin/libpng-1.4.x-update.sh)

Gnucash is the only one.

Reproducible: Always

Steps to Reproduce:
1. upgrade to libpng14 and remove libpng12
2. perform all necessary upgrade steps
3. try to emerge gnucash-2.3.12

Actual Results:  
...
/usr/lib/gcc/i686-pc-linux-gnu/4.4.3/../../../../i686-pc-linux-gnu/bin/ld: warning: libpng12.so.0, needed by /usr/lib/gnucash/libgncmod-ledger-core.so, not found (try using -rpath or -rpath-link)
/usr/lib/gcc/i686-pc-linux-gnu/4.4.3/../../../../i686-pc-linux-gnu/bin/ld: warning: libgoffice-0.6.so.6, needed by /usr/lib/gnucash/libgncmod-report-gnome.so, not found (try using -rpath or -rpath-link)
/usr/lib/gnucash/libgncmod-html.so: undefined reference to `go_marker_set_fill_color'
/usr/lib/gnucash/libgncmod-html.so: undefined reference to `go_marker_set_outline_color'
/usr/lib/gnucash/libgncmod-html.so: undefined reference to `go_pattern_set_solid'
/usr/lib/gnucash/libgncmod-html.so: undefined reference to `gog_dataset_get_type'
/usr/lib/gnucash/libgncmod-html.so: undefined reference to `go_data_scalar_str_new'
/usr/lib/gnucash/libgncmod-html.so: undefined reference to `gog_styled_object_get_style'
/usr/lib/gnucash/libgncmod-html.so: undefined reference to `gog_style_set_text_angle'
/usr/lib/gnucash/libgncmod-html.so: undefined reference to `go_marker_shape_from_str'
/usr/lib/gnucash/libgncmod-html.so: undefined reference to `gog_renderer_get_pixbuf'
/usr/lib/gnucash/libgncmod-html.so: undefined reference to `gog_object_find_role_by_name'
/usr/lib/gnucash/libgncmod-html.so: undefined reference to `go_data_vector_val_new'
/usr/lib/gnucash/libgncmod-html.so: undefined reference to `go_marker_get_outline_color'
/usr/lib/gnucash/libgncmod-html.so: undefined reference to `gog_dataset_set_dim'
/usr/lib/gnucash/libgncmod-html.so: undefined reference to `gog_object_get_type'
/usr/lib/gnucash/libgncmod-html.so: undefined reference to `go_plugin_loader_module_get_type'
/usr/lib/gnucash/libgncmod-html.so: undefined reference to `gog_object_update'
/usr/lib/gnucash/libgncmod-html.so: undefined reference to `gog_object_add_by_name'
/usr/lib/gnucash/libgncmod-html.so: undefined reference to `go_data_vector_str_new'
/usr/lib/gnucash/libgncmod-html.so: undefined reference to `gog_renderer_update'
/usr/lib/gnucash/libgncmod-html.so: undefined reference to `gog_styled_object_get_type'
/usr/lib/gnucash/libgncmod-html.so: undefined reference to `gog_renderer_render_to_cairo'
/usr/lib/gnucash/libgncmod-html.so: undefined reference to `go_data_get_type'
/usr/lib/gnucash/libgncmod-html.so: undefined reference to `gog_graph_get_type'
/usr/lib/gnucash/libgncmod-html.so: undefined reference to `go_marker_set_shape'
/usr/lib/gnucash/libgncmod-html.so: undefined reference to `gog_object_get_child_by_role'
/usr/lib/gnucash/libgncmod-html.so: undefined reference to `gog_plot_new_series'
/usr/lib/gnucash/libgncmod-html.so: undefined reference to `go_plugins_init'
/usr/lib/gnucash/libgncmod-html.so: undefined reference to `libgoffice_init'
/usr/lib/gnucash/libgncmod-html.so: undefined reference to `gog_renderer_get_type'
/usr/lib/gnucash/libgncmod-html.so: undefined reference to `gog_object_set_name'
/usr/lib/gnucash/libgncmod-html.so: undefined reference to `gog_plot_new_by_name'
/usr/lib/gnucash/libgncmod-html.so: undefined reference to `gog_series_set_dim'
/usr/lib/gnucash/libgncmod-html.so: undefined reference to `go_data_emit_changed'
collect2: ld returned 1 exit status
make[4]: *** [gnucash-bin] Fehler 1
make[4]: Leaving directory `/var/tmp/portage/app-office/gnucash-2.3.12/work/gnucash-2.3.12/src/bin'
make[3]: *** [all-recursive] Fehler 1
make[3]: Leaving directory `/var/tmp/portage/app-office/gnucash-2.3.12/work/gnucash-2.3.12/src/bin'
make[2]: *** [all-recursive] Fehler 1
make[2]: Leaving directory `/var/tmp/portage/app-office/gnucash-2.3.12/work/gnucash-2.3.12/src'
make[1]: *** [all-recursive] Fehler 1
make[1]: Leaving directory `/var/tmp/portage/app-office/gnucash-2.3.12/work/gnucash-2.3.12'
make: *** [all] Fehler 2
 * ERROR: app-office/gnucash-2.3.12 failed:
 *   compile failure
 * 
 * Call stack:
 *     ebuild.sh, line   48:  Called src_compile
 *   environment, line 2965:  Called gnome2_src_compile
 *   environment, line 2290:  Called die
 * The specific snippet of code:
 *       emake || die "compile failure"
 * 
 * If you need support, post the output of 'emerge --info =app-office/gnucash-2.3.12',
 * the complete build log and the output of 'emerge -pqv =app-office/gnucash-2.3.12'.
 * The complete build log is located at '/var/tmp/portage/app-office/gnucash-2.3.12/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/app-office/gnucash-2.3.12/temp/environment'.
 * S: '/var/tmp/portage/app-office/gnucash-2.3.12/work/gnucash-2.3.12'

Expected Results:  
successful emerge.

hostname ~ # emerge --info =gnucash-2.3.12
Portage 2.2_rc67 (default/linux/x86/10.0/desktop/gnome, gcc-4.4.3, glibc-2.11-r1, 2.6.34-gentoo i686)
=================================================================
                         System Settings
=================================================================
System uname: Linux-2.6.34-gentoo-i686-AMD_Athlon-tm-_XP_3000+-with-gentoo-2.0.1
Timestamp of tree: Sun, 30 May 2010 17:45:01 +0000
app-shells/bash:     4.1_p5
dev-java/java-config: 2.1.11
dev-lang/python:     2.6.5-r2, 3.1.2-r3
dev-util/cmake:      2.8.1-r2
sys-apps/baselayout: 2.0.1
sys-apps/openrc:     0.6.1-r1
sys-apps/sandbox:    2.2
sys-devel/autoconf:  2.13, 2.65
sys-devel/automake:  1.8.5-r4, 1.9.6-r3, 1.10.3, 1.11.1
sys-devel/binutils:  2.20.1-r1
sys-devel/gcc:       4.4.3-r2
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   2.2.6b
virtual/os-headers:  2.6.33
ACCEPT_KEYWORDS="x86"
ACCEPT_LICENSE="* -@EULA dlj-1.1"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=native -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/X11/xkb /var/lib/hsqldb"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo"
CXXFLAGS="-O2 -march=native -pipe"
DISTDIR="/usr/portage/distfiles"
EMERGE_DEFAULT_OPTS="--with-bdeps=y"
FEATURES="assume-digests distlocks fixpackages news parallel-fetch preserve-libs protect-owned sandbox sfperms strict unmerge-logs unmerge-orphans userfetch"
GENTOO_MIRRORS="ftp://linux.rz.ruhr-uni-bochum.de/gentoo-mirror ftp://ftp.uni-erlangen .de/pub/mirrors/gentoo ftp://ftp.join.uni-muenster.de/pub/linux/distributions/gentoo ftp://ftp.wh2.tu-dresden.de/pub/mirrors/gentoo ftp://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo ftp://ftp.gentoo.mesh-solutions.com/gentoo ftp://ftp.tu-clausthal.de/pub/linux/gentoo ftp://sunsite.informatik.rwth-aachen.de/pub/Linux/gentoo"
LANG="de_DE.utf8"
LC_ALL=""
LDFLAGS="-Wl,-O1"
LINGUAS="de"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage /var/lib/layman/enlightenment-niifaq"
SYNC="rsync://rsync.de.gentoo.org/gentoo-portage"
USE="3dnow 3dnowext X Xaw3d a52 aac acl acpi alsa berkdb bluetooth branding bzip2 cairo cdparanoia cdr cli consolekit cracklib crypt cups cxx dbus dmi dri dts dvd dvdr emboss encode evo exif fam ffmpeg firefox flac fortran gconf gdbm gdu gif gnome gnome-keyring gnutls gpm gstreamer gtk iconv ipv6 java jpeg lcms libnotify mad mikmod mmap mmx mmxext mng modules moznopango mp3 mp4 mpeg mudflap nautilus ncurses nforce2 nfs nls nptl nptlonly nsplugin nvidia odbc offensive ogg opengl openmp pam pango pcre pdf perl pidgin png policykit ppds pppd python python3 qt3support qt4 readline reflection reiserfs rtc samba sdl session spell spl sqlite sse ssl startup-notification svg sysfs tcpd threads thunderbird tiff truetype unicode usb v4l v4l2 vorbis x264 x86 xcb xml xorg xulrunner xv xvid xvmc zlib" ALSA_CARDS="intel8x0 intel8x0m mpu401 usb-audio virmidi" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CAMERAS="canon ptp2" ELIBC="glibc" INPUT_DEVICES="evdev joystick mouse wacom" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="de" RUBY_TARGETS="ruby18" USERLAND="GNU" VIDEO_CARDS="nouveau nvidia nv vesa v4l vga" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account" 
Unset:  CPPFLAGS, CTARGET, FFLAGS, INSTALL_MASK, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Sönke N. Greimann





          2010-05-30 20:42:10 UTC
        

added tracking bug.




Comment 2


Sönke N. Greimann





          2010-05-30 21:26:41 UTC
        

Workaround: gnucash-2.3.12 emerged fine after uninstalling old version (2.3.10).

Captain Obvious. *rolleyes*

Sorry for bothering...









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

