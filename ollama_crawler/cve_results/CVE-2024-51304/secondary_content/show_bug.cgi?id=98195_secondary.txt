Title: 98195 – fontconfig: fonts.conf changes make no effect whatsoever!
URL: https://bugs.gentoo.org/show_bug.cgi?id=98195

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 98195
fontconfig: fonts.conf changes make no effect whatsoever!
Last modified: 2006-04-15 06:33:17 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 98195 
      - fontconfig: fonts.conf changes make no effect whatsoever!


Summary:
fontconfig: fonts.conf changes make no effect whatsoever!
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Unspecified

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       minor
      


Assignee:

Gentoo Fonts Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-07-07 01:50 UTC by Eugene Pavlovsky





      Modified:
    
2006-04-15 06:33 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Eugene Pavlovsky





          2005-07-07 01:50:23 UTC
        

All my CJK fonts are not anti-aliased when their size is below 22 points (21 pt
is not anti-aliased, 22+ pt are anti-aliased). I'm talking specifically about
Sazanami Gothic or Kochi Gothic japanese fonts. I've tried changing my
/etc/fonts/local.conf, my ~/.fonts.conf and found out that no matter what
changes I do, nothing in my fonts display changes - at all! For example, I've
tried to enable/disable sub-pixel rendering (I've got a laptop), autohinting,
antialiasing (following many threads in forums), but no matter what changes I
make, the fonts display the same everywhere (I've tried looking at them with
magnification). strace shows that programs indeed read /etc/fonts/local.conf and
.fonts.conf but I see no changes from ANY modifications. I even moved /etc/fonts
to /etc/fonts~ and still - no changes. I don't know what's the problem here, but
I'd surely like to get my japanese fonts anti-aliased for ALL sizes, they look
better to me this way (everything works this way on my other PC running
slackware (xorg-x11, too)). I also would like to try out how the stuff would
look without sub-pixel rendering (judging by the looks of my fonts with
magnification - i see different colors, it's always enabled).

I've tried many different font configs, for example (as /etc/fonts/local.conf):
<fontconfig>
  <match target="font">
    <edit name="antialias" mode="assign"><bool>true</bool></edit>
  </match>
</fontconfig>
There are no entries in my current configs that disable anti-alias for any fonts.

my software versions
x11-base/xorg-x11-6.8.2-r2
media-libs/freetype-2.1.9-r1
media-libs/fontconfig-2.3.2

my emerge info
Portage 2.0.51.22-r1 (default-linux/x86/2005.0, gcc-3.4.4, glibc-2.3.5-r0,
2.6.12 i686)
=================================================================
System uname: 2.6.12 i686 Intel(R) Pentium(R) M processor 1.70GHz
Gentoo Base System version 1.6.12
dev-lang/python:     2.3.5, 2.4.1-r1
sys-apps/sandbox:    1.2.9
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.5
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.18-r1
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=pentium-m -O3 -mcpu=i686 -pipe -mmmx -msse -msse2 -mfpmath=sse"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config
/var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/texmf/web2c /etc/env.d"
CXXFLAGS="-march=pentium-m -O3 -mcpu=i686 -pipe -mmmx -msse -msse2 -mfpmath=sse"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="ftp://mirror.aiya.ru/pub/gentoo/
ftp://ftp.linux.ee/pub/gentoo/distfiles/ ftp://ftp.rhnet.is/pub/gentoo/"
LANG="en_US.UTF-8"
LC_ALL=""
LINGUAS="en ru"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="x86 X aac acpi alsa anthy apache2 avi berkdb bitmap-fonts bzip2 canna caps
cardbus cdr cjk crypt cups curl dba dts dvd dvdr emboss encode esd fam fbcon
flac font-server foomaticdb fortran gd gdbm gif gimpprint gnome gpm gtk gtk2
gtkhtml guile imagemagick ipv6 jack java javascript jpeg ladspa lcd libg++
libwww mad matroska mikmod mmx mmxext mng motif mozilla moznocompose moznoirc
mp3 mpeg mysql ncurses nls nptl offensive ogg oggvorbis opengl oscar oss pam
pcre perl php png ppds python qt quicktime readline rtc samba sdl spell sqlite
sse sse2 ssl svg svgz tcpd tiff truetype truetype-fonts type1-fonts unicode
userlocales utf8 vorbis wifi win32codecs xml2 xosd xprint xv yahoo zlib
linguas_en linguas_ru userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LDFLAGS

Reproducible: Always
Steps to Reproduce:
1.
2.
3.




Comment 1


Eugene Pavlovsky





          2005-07-12 09:03:31 UTC
        

Has anyone read this bug report?




Comment 2


Eugene Pavlovsky





          2005-07-12 09:05:15 UTC
        

I can't use my apps without anti-aliasing, complete eyestrain! My other linux
system running slackware anti-aliases these fonts just fine.




Comment 3


foser (RETIRED)






          2005-07-12 09:18:10 UTC
        

Screaming for attention only gets me annoyed and annoyance on my side gets your
bug on ignored.




Comment 4


Eugene Pavlovsky





          2005-07-13 04:15:42 UTC
        

Well, sorry about that, I just wanted to be sure that this bug is noticed at all
-  there were no replies/comments whatsoever.




Comment 5


nm (RETIRED)






          2005-10-25 11:40:08 UTC
        

You're not supposed to edit fonts.conf; the changes aren't permanent. fonts.conf
even tells you that within the file. If you want to make those kinds of changes,
you have to make them to /etc/fonts/local.conf .

Invalid bug!




Comment 6


Eugene Pavlovsky





          2005-10-26 06:06:52 UTC
        

Seems you didn't read my message attentively. Quotes:

I've tried changing my
/etc/fonts/local.conf, my ~/.fonts.conf and found out that no matter what
changes I do, nothing in my fonts display changes - at all! 

...

I've tried many different font configs, for example (as /etc/fonts/local.conf):
<fontconfig>
  <match target="font">
    <edit name="antialias" mode="assign"><bool>true</bool></edit>
  </match>
</fontconfig>




Comment 7


foser (RETIRED)






          2006-04-07 06:02:55 UTC
        

is this still a problem with recent fontconfigs ?




Comment 8


Eugene Pavlovsky





          2006-04-15 05:54:38 UTC
        

Installed latest software, including X.org 7.0 today. Everything is working ok now. Hurrah! I guess the bug should be resolved.




Comment 9


foser (RETIRED)






          2006-04-15 06:33:17 UTC
        

ok









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

