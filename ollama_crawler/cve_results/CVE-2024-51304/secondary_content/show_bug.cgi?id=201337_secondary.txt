Title: 201337 – net-misc/rsync-3.0.0_pre6 gives bogus errors about extended attributes not being supported on client (a GNU/Linux box)
URL: https://bugs.gentoo.org/show_bug.cgi?id=201337

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 201337
net-misc/rsync-3.0.0_pre6 gives bogus errors about extended attributes not being supported on client (a GNU/Linux box)
Last modified: 2007-12-10 00:31:06 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 201337 
      - net-misc/rsync-3.0.0_pre6 gives bogus errors about extended attributes not being supported on client (a GNU/Linux box)


Summary:
net-misc/rsync-3.0.0_pre6 gives bogus errors about extended attributes not be...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-12-05 10:07 UTC by Robert Miesen





      Modified:
    
2007-12-10 00:31 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Robert Miesen





          2007-12-05 10:07:10 UTC
        

I attempted to run rsync with the -X option specified and I got the following error messages:

rsync: extended attributes are not supported on this client
rsync error: syntax or usage error (code 1) at main.c(1448) [client=3.0.0pre6]



Reproducible: Always

Steps to Reproduce:
1. Run 'rsync -X <your_files_here> <your_destination_here>




Portage 2.1.4_rc7 (default-linux/x86/2007.0/desktop, gcc-4.2.2, glibc-2.7-r0, 2.6.23-gentoo-r3 i686)
=================================================================
System uname: 2.6.23-gentoo-r3 i686 Genuine Intel(R) CPU T2050 @ 1.60GHz
Timestamp of tree: Tue, 04 Dec 2007 18:46:01 +0000
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
ccache version 2.4 [enabled]
app-shells/bash:     3.2_p17-r1
dev-java/java-config: 1.3.7, 2.1.3
dev-lang/python:     2.4.4-r5, 2.5.1-r4
dev-python/pycrypto: 2.0.1-r6
dev-util/ccache:     2.4-r7
sys-apps/baselayout: 1.12.10-r5
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.61-r1
sys-devel/automake:  1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.18-r1
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.24
virtual/os-headers:  2.6.23-r2
ACCEPT_KEYWORDS="x86 ~x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -mtune=i686 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-O2 -mtune=i686 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="ccache distlocks metadata-transfer parallel-fetch sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://gentoo.osuosl.org/ ftp://distro.ibiblio.org/pub/linux/distributions/gentoo/"
LANG="en_US.ISO-8859-01"
LC_ALL="en_US.ISO-8859-01"
MAKEOPTS="-j5"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.namerica.gentoo.org/gentoo-portage"
USE="X a52 aac aalib acl acpi adns alsa apache2 arts bash-completion bcmath berkdb bindist bitmap-fonts bzip2 cairo caps cddp cdr cjk clamav cli cracklib crypt cscope ctype cups curl curlwrappers dbase dbm dbus dga directfb dri dts dvd dvdr dvdread eds emacs emboss encode evo examples exif expat fam fastcgi fbcron ffmpeg fftw firefox flac foomaticdb fortran freetds ftp gd gdbm geoip ggi gif glut gmp gnustep gnutls gpm graphviz gstreamer gtk gtkhtml hal howl icc iconv icq idn imagemagick imap imlib informix innodb ipod ipv6 isdnlog jabber jack java javascript jbig joystick jpeg jpeg2k junit kde kdexdeltas kerberos krb4 ladspa lapack lcms ldap leim lesstif libcaca libg++ libnotify libsamplerate libwww lirc lm_sensors mad maildir matroska matrox mbox mcal midi mikmod mime mmx mono mp3 mpeg mpi mplayer mpm-threadpool msn mudflap mule musepack musicbrainz mysql mysqli nas ncurses nls nntp nocd nptl nptlonly offensive ofx ogg openexr opengl openmp osc oscar oss pam pcntl pcre pdf perl php plotutils png postfix ppds pppd profile python qt3 qt3support qt4 quicktime rdesktop readline reflection sdl session sharedext shorten smp snmp soap sockets source speex spell spl sse sse2 ssl startup-notification svg svga symlink sysvipc tcpd tetex theora threads tidy tiff tokenizer truetype truetype-fonts type1-fonts unicode usb vcd vhosts videos vorbis win32codecs x86 xcomposite xface xine xml xorg xosd xpm xprint xscreensaver xsl xulrunner xv xvid yahoo zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1 emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" USERLAND="GNU" VIDEO_CARDS="apm ark chips cirrus cyrix dummy fbdev glint i128 i740 i810 imstt mach64 mga neomagic nsc nv r128 radeon rendition s3 s3virge savage siliconmotion sis sisusb tdfx tga trident tseng v4l vesa vga via vmware voodoo"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LDFLAGS, LINGUAS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Jakub Moc (RETIRED)






          2007-12-05 10:23:05 UTC
        

emerge -pv rsync output, please.




Comment 2


Robert Miesen





          2007-12-10 00:05:57 UTC
        

Recompiling this package with the xattr USE flag enabled fixes the bug. Please consider adding this to the set of default USE flags for this package. 

In case it is still needed, here is the output for emerge -pv rsync with the xattr USE flag enabled (for the original output, don't enable the xattr USE flag):


These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild   R   ] net-misc/rsync-3.0.0_pre6  USE="acl ipv6 xattr -static -xinetd" 0 kB

Total: 1 package (1 reinstall), Size of downloads: 0 kB





Comment 3


Jakub Moc (RETIRED)






          2007-12-10 00:31:06 UTC
        

Closing then; obviously not a bug. :) Thanks for reporting back.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

