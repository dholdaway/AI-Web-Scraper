Title: 257970 – kde-base/ksirk-4.2.0: unable to emerge, no make install rule
URL: https://bugs.gentoo.org/show_bug.cgi?id=257970

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 257970
kde-base/ksirk-4.2.0: unable to emerge, no make install rule
Last modified: 2009-05-05 18:55:03 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 257970 
      - kde-base/ksirk-4.2.0: unable to emerge, no make install rule


Summary:
kde-base/ksirk-4.2.0: unable to emerge, no make install rule
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-02-07 01:00 UTC by Michael Friedl





      Modified:
    
2009-05-05 18:55 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



anotherbearcatfan
mail









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Michael Friedl





          2009-02-07 01:00:10 UTC
        

..
-- Configuring done
-- Generating done
-- Build files have been written to: /var/tmp/portage/kde-base/ksirk-4.2.0/work/ksirk_build
>>> Source configured.
>>> Compiling source in /var/tmp/portage/kde-base/ksirk-4.2.0/work/ksirk-4.2.0 ...
make -j4 
>>> Source compiled.
>>> Test phase [not enabled]: kde-base/ksirk-4.2.0

>>> Install ksirk-4.2.0 into /var/tmp/portage/kde-base/ksirk-4.2.0/image/ category kde-base
make -j4 install DESTDIR=/var/tmp/portage/kde-base/ksirk-4.2.0/image/ 
make: *** Keine Regel, um »install« zu erstellen.  Schluss.
( no rule for "install" )

Reproducible: Always

Steps to Reproduce:
1. emerge kdegames-meta
2. or emerge ksirk

Actual Results:  
Calculating dependencies... done!
[ebuild  NS   ] kde-base/ksirk-4.2.0 [4.1.4] USE="-debug -htmlhandbook -kdeprefix" 0 kB
[ebuild  NS   ] kde-base/kdegames-meta-4.2.0 [4.1.4] USE="opengl" 0 kB
[uninstall    ] kde-base/ksirk-4.1.4  USE="-debug -htmlhandbook -kdeprefix" 
[blocks b     ] kde-base/ksirk:4.2[-kdeprefix] ("kde-base/ksirk:4.2[-kdeprefix]" is blocking kde-base/ksirk-4.1.4)
[blocks b     ] kde-base/ksirk:4.1[-kdeprefix] ("kde-base/ksirk:4.1[-kdeprefix]" is blocking kde-base/ksirk-4.2.0)

Total: 2 packages (2 in new slots, 1 uninstall), Size of downloads: 0 kB
Conflict: 2 blocks

>>> Verifying ebuild manifests
>>> Starting parallel fetch
>>> Emerging (1 of 2) kde-base/ksirk-4.2.0
>>> Failed to emerge kde-base/ksirk-4.2.0, Log file:
>>>  '/var/tmp/portage/kde-base/ksirk-4.2.0/temp/build.log'
>>> Jobs: 0 of 2 complete, 1 failed                 Load avg: 0.88, 1.05, 0.81
>>> Unpacking source...
 * Unpacking parts of kdegames-4.2.0.tar.bz2 to /var/tmp/portage/kde-bas  [ ok ]4.2.0/work ...
>>> Source unpacked in /var/tmp/portage/kde-base/ksirk-4.2.0/work
>>> Configuring source in /var/tmp/portage/kde-base/ksirk-4.2.0/work/ksirk-4.2.0 ...
loading initial cache file /var/tmp/portage/kde-base/ksirk-4.2.0/temp/gentoo_common_config.cmake
-- The C compiler identification is GNU
-- The CXX compiler identification is GNU
-- Check for working C compiler: /usr/lib/ccache/bin/x86_64-pc-linux-gnu-gcc
-- Check for working C compiler: /usr/lib/ccache/bin/x86_64-pc-linux-gnu-gcc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working CXX compiler: /usr/lib/ccache/bin/x86_64-pc-linux-gnu-g++
-- Check for working CXX compiler: /usr/lib/ccache/bin/x86_64-pc-linux-gnu-g++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Looking for Q_WS_X11
-- Looking for Q_WS_X11 - found
-- Looking for Q_WS_WIN
-- Looking for Q_WS_WIN - not found.
-- Looking for Q_WS_QWS
-- Looking for Q_WS_QWS - not found.
-- Looking for Q_WS_MAC
-- Looking for Q_WS_MAC - not found.
-- Found Qt-Version 4.4.2 (using /usr/bin/qmake)
-- Looking for XOpenDisplay in /usr/lib64/libX11.so;/usr/lib64/libXext.so;/usr/lib64/libXft.so;/usr/lib64/libXau.so;/usr/lib64/libXdmcp.so;/usr/lib64/libXpm.so
-- Looking for XOpenDisplay in /usr/lib64/libX11.so;/usr/lib64/libXext.so;/usr/lib64/libXft.so;/usr/lib64/libXau.so;/usr/lib64/libXdmcp.so;/usr/lib64/libXpm.so - found
-- Looking for gethostbyname
-- Looking for gethostbyname - found
-- Looking for connect
-- Looking for connect - found
-- Looking for remove
-- Looking for remove - found
-- Looking for shmat
-- Looking for shmat - found
-- Looking for IceConnectionNumber in ICE
-- Looking for IceConnectionNumber in ICE - found
-- Found X11: /usr/lib64/libX11.so
-- Looking for include files CMAKE_HAVE_PTHREAD_H
-- Looking for include files CMAKE_HAVE_PTHREAD_H - found
-- Looking for pthread_create in pthreads
-- Looking for pthread_create in pthreads - not found
-- Looking for pthread_create in pthread
-- Looking for pthread_create in pthread - found
-- Found Threads: TRUE
-- Found Automoc4: /usr/bin/automoc4
-- Found Perl: /usr/bin/perl
-- Performing Test _OFFT_IS_64BIT
-- Performing Test _OFFT_IS_64BIT - Success
-- Performing Test HAVE_FPIE_SUPPORT
-- Performing Test HAVE_FPIE_SUPPORT - Success
-- Performing Test __KDE_HAVE_W_OVERLOADED_VIRTUAL
-- Performing Test __KDE_HAVE_W_OVERLOADED_VIRTUAL - Success
-- Performing Test __KDE_HAVE_GCC_VISIBILITY
-- Performing Test __KDE_HAVE_GCC_VISIBILITY - Success
-- Phonon Version: 4.3.0
-- Found Phonon: /usr/lib64/libphonon.so
-- Found Phonon Includes: /usr/include/KDE;/usr/include
-- Found KDE 4.2 include dir: /usr/include
-- Found KDE 4.2 library dir: /usr/lib64
-- Found the KDE4 kconfig_compiler preprocessor: /usr/bin/kconfig_compiler
-- Found automoc4: /usr/bin/automoc4
-- GGZ: Success: ggz-config was found as /usr/bin/ggz-config.
-- GGZ: Registering game module information into /etc.
-- checking for module 'qca2'
--   package 'qca2' not found
-- Could NOT find QCA2  (missing:  QCA2_LIBRARIES QCA2_INCLUDE_DIR)
-- 
-----------------------------------------------------------------------------
-- The following external packages were located on your system.
-- This installation will have the extra features provided by these packages.
+ ggz-client-libs
+ OpenGL
+ QtOpenGL
-----------------------------------------------------------------------------
-- The following OPTIONAL packages could NOT be located on your system.
-- Consider installing them to enable more features from this software.
+ QCA2, 2.0.0 or higher: Qt Cryptographic Architecture <http://delta.affinix.com/qca>
Needed to build Ksirk Jabber support's GroupWise and Jabberprotocols.
-----------------------------------------------------------------------------

-- Configuring done
-- Generating done
-- Build files have been written to: /var/tmp/portage/kde-base/ksirk-4.2.0/work/ksirk_build
>>> Source configured.
>>> Compiling source in /var/tmp/portage/kde-base/ksirk-4.2.0/work/ksirk-4.2.0 ...
make -j4 
>>> Source compiled.
>>> Test phase [not enabled]: kde-base/ksirk-4.2.0

>>> Install ksirk-4.2.0 into /var/tmp/portage/kde-base/ksirk-4.2.0/image/ category kde-base
make -j4 install DESTDIR=/var/tmp/portage/kde-base/ksirk-4.2.0/image/ 
make: *** Keine Regel, um »install« zu erstellen.  Schluss.
 * 
 * ERROR: kde-base/ksirk-4.2.0 failed.
 * Call stack:
 *               ebuild.sh, line   49:  Called src_install
 *             environment, line 3791:  Called kde4-meta_src_install
 *             environment, line 2965:  Called cmake-utils_src_install
 *             environment, line  989:  Called die
 * The specific snippet of code:
 *       emake install DESTDIR="${D}" || die "Make install failed";
 *  The die message:
 *   Make install failed
 * 
 * If you need support, post the topmost build error, and the call stack if relevant.
 * A complete build log is located at '/var/tmp/portage/kde-base/ksirk-4.2.0/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/kde-base/ksirk-4.2.0/temp/environment'.
 * 


Expected Results:  
there has to be a "make install" to emerge normaly

emerge --info:

Portage 2.2_rc23 (default/linux/amd64/2008.0/desktop, gcc-4.3.3, glibc-2.9_p20081201-r1, 2.6.29-rc3 x86_64)
=================================================================
System uname: Linux-2.6.29-rc3-x86_64-Intel-R-_Core-TM-2_Duo_CPU_T7100_@_1.80GHz-with-glibc2.2.5
Timestamp of tree: Fri, 06 Feb 2009 23:45:02 +0000
ccache version 2.4 [enabled]
app-shells/bash:     3.2_p39
dev-java/java-config: 1.3.7-r1, 2.1.6-r1
dev-lang/python:     2.5.2-r7
dev-util/ccache:     2.4-r7
dev-util/cmake:      2.6.2-r1
sys-apps/baselayout: 2.0.0
sys-apps/openrc:     0.4.2
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.63
sys-devel/automake:  1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.2
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.28-r1
ABI="amd64"
ACCEPT_KEYWORDS="amd64"
ALSA_CARDS="hda-intel"
ARCH="amd64"
ASFLAGS_x86="--32"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=core2 -O2 -pipe"
CFLAGS_x86="-m32"
CHOST="x86_64-pc-linux-gnu"
CHOST_amd64="x86_64-pc-linux-gnu"
CHOST_x86="i686-pc-linux-gnu"
CXXFLAGS="-march=core2 -O2 -pipe"
DEFAULT_ABI="amd64"
FEATURES="ccache distlocks fixpackages parallel-fetch preserve-libs protect-owned sandbox sfperms strict unmerge-orphans userfetch"
LANG="de_DE.UTF-8"
LC_ALL="de_DE.UTF-8"
LDFLAGS="-Wl,-O1"
LDFLAGS_x86="-m elf_i386"
LIBDIR_amd64="lib64"
LINGUAS="de"
MAKEOPTS="-j4"
MULTILIB_ABIS="amd64 x86"
PATH="/sbin:/bin:/usr/sbin:/usr/bin"
USE="64bit 7zip X a52 aac accessibility acl acpi additions aim alsa amd64 ao aspell ass baselayout2 bash-completion battery berkdb bzip2 cairo ccache cdaudio cpufreq cracklib css ctype cups curl custom-optimization cxx dbus dbx dga directfb divx dmx dri dv dvb dvd dvdnav dvdr dvdread encode fbcon fbsplash ffmpeg file-icons firefox fontconfig foomaticdb ftp gdbm german gif gimp glib gstreamer gtk gzip hal hunspell ical iconv icq idn imagemagick ipw3945 java java6 javascript jpeg lame laptop libffi libg++ libnotify lm_sensors logrotate mad menu-plugin midi mime mixer mmx mp3 mp4 mpeg mpeg2 mplayer mudflap multilib ncurses nfs nls nntp nptl nptlonly nsplugin ntfs ntp nvidia nvtv ogg opengl openmp openntpd openssh openssl oss pam pcre pdf perl pmu png posix ppds python qt3support qt4 rar readline realmedia resolvconf rtsp scanner sdl session skins smp sms sockets spell sqlite srt sse sse2 ssl ssse3 subversion svg sysfs syslog tcp tcpd theora threads threadsafe trash-plugin trayicon truetype truetype-fonts type1-fonts unicode usb v4l v4l2 vim vim-syntax vim-with-x vorbis wav webdav-neon wifi wma wmp x264 xcb xfce xine xml xorg xosd xrandr xsl xslt xulrunner xv xvid xvmc zip zlib" ALSA_CARDS="hda-intel"




Comment 1


Marcus Becker





          2009-02-13 12:43:11 UTC
        

I have the same problem:

>>> Source configured.
>>> Compiling source in /var/tmp/portage/kde-base/ksirk-4.2.0/work/ksirk-4.2.0 ...
make -j3
>>> Source compiled.
>>> Test phase [not enabled]: kde-base/ksirk-4.2.0

>>> Install ksirk-4.2.0 into /var/tmp/portage/kde-base/ksirk-4.2.0/image/ category kde-base
make -j3 install DESTDIR=/var/tmp/portage/kde-base/ksirk-4.2.0/image/
make: *** No rule to make target `install'.  Stop.
 *
 * ERROR: kde-base/ksirk-4.2.0 failed.
 * Call stack:
 *               ebuild.sh, line   49:  Called src_install
 *             environment, line 3772:  Called kde4-meta_src_install
 *             environment, line 2946:  Called cmake-utils_src_install
 *             environment, line  967:  Called die
 * The specific snippet of code:
 *       emake install DESTDIR="${D}" || die "Make install failed";
 *  The die message:
 *   Make install failed
 *
 * If you need support, post the topmost build error, and the call stack if relevant.
 * A complete build log is located at '/var/tmp/portage/kde-base/ksirk-4.2.0/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/kde-base/ksirk-4.2.0/temp/environment'.
 *

emerge --info:
Portage 2.2_rc23 (default/linux/amd64/2008.0, gcc-4.3.3, glibc-2.9_p20081201-r1, 2.6.28-gentoo-r1 x86_64)
=================================================================
System uname: Linux-2.6.28-gentoo-r1-x86_64-AMD_Athlon-tm-_64_X2_Dual_Core_Processor_4600+-with-glibc2.2.5
Timestamp of tree: Thu, 12 Feb 2009 10:30:01 +0000
app-shells/bash:     3.2_p48-r1
dev-java/java-config: 2.1.7
dev-lang/python:     2.5.4-r2
dev-util/cmake:      2.6.2-r1
sys-apps/baselayout: 2.0.0
sys-apps/openrc:     0.4.3
sys-apps/sandbox:    1.3.6
sys-devel/autoconf:  2.13, 2.63
sys-devel/automake:  1.5, 1.7.9-r1, 1.9.6-r2, 1.10.2
sys-devel/binutils:  2.19.1
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   2.2.6a
virtual/os-headers:  2.6.28-r1
ACCEPT_KEYWORDS="amd64 ~amd64"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=athlon64 -O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/config"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/udev/rules.d"
CXXFLAGS="-march=athlon64 -O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="distlocks fixpackages parallel-fetch preserve-libs protect-owned sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://de-mirror.org/distro/gentoo/ http://mirror.netcologne.de/gentoo/ http://mirror.cambrium.nl/pub/os/linux/gentoo/ http://mirror.bytemark.co.uk/gentoo/ http://www.mirrorservice.org/sites/www.ibiblio.org/gentoo/ http://mirror.qubenet.net/mirror/gentoo/ http://gentoo.virginmedia.com/ "
LANG="en_GB.UTF-8"
LDFLAGS="-Wl,-O1"
LINGUAS="en_GB"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage/layman/kde-testing /usr/local/portage"
SYNC="rsync://192.168.1.253/gentoo-portage"
USE="3dnow X a52 aac acl alsa amd64 ao aspell atm audiofile berkdb branding bzip2 cdr chm clamav cli corefonts cpufreq cracklib crypt css curl custom-optimization cvs dbus dmx dri dts dv dvb dvd dvdr dvdread encode exif expat fam ffmpeg firefox flac fortran ftp gd gdbm gif glitz gmp gpm gtk hal iconv id3 imlib isdnlog jack java javascript jpeg jpeg2k kde lame logrotate lzo mad matroska midi mikmod mime mjpeg mmap mmx mng mp3 mp4 mpeg mpi mplayer mudflap multilib musepack musicbrainz mysql nas ncurses nls nptl nptlonly nsplugin nvidia offensive ogg openal openexr opengl openmp osc pam pcre pda pdf perl png portaudio posix pppd profile python qt4 quicktime rar readline realmedia reflection rss ruby sdl session slang smp sndfile snmp speex spell spl sse sse2 ssl subversion svg sysfs syslog szip tcpd theora threads tiff truetype unicode usb vcd vorbis wavpack webkit wmf x264 xcb xcomposite xfce4 xinetd xml xorg xpm xv xvid zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="evdev keyboard mouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en_GB" USERLAND="GNU" VIDEO_CARDS="nvidia"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LC_ALL, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS





Comment 2


Marcus Becker





          2009-02-13 13:49:02 UTC
        

In my case I installed @kdegames
everything went fine but this ksirk ebuild

as a work around I went emerge --skipfirst --resume until the ebuild is fixed...




Comment 3


Michael Friedl





          2009-02-15 22:35:59 UTC
        

I used kde-testing overlay and tried kde-9999 packages, which worked without problems for me. Tried to go back to 4.2.0 with all kde packages and Im now unable to reproduce the problem. (also removed all kde related source packages from distfiles before downgrade)




Comment 4


Steve Kutnar





          2009-05-03 20:32:30 UTC
        

Why is this listed as "resolved"?  I just ran across this error, too.  No fix for this bug is listed in the latest ebuild.




Comment 5


Steve Kutnar





          2009-05-03 20:33:32 UTC
        

Sorry, that should have said "Changelog", not "ebuild"




Comment 6


Jorge Manuel B. S. Vicetto (RETIRED)






          2009-05-03 21:46:49 UTC
        

(In reply to comment #4)
> Why is this listed as "resolved"?  I just ran across this error, too.  No fix
> for this bug is listed in the latest ebuild.

Make sure you sync the tree (and the KDE overlay if you use it) and try to emerge the package again. If it fails, attach the build log.




Comment 7


Steve Kutnar





          2009-05-04 00:04:56 UTC
        

Thought I made a comment in here... the breakage is due to the qca version bump to 2.0.2.




Comment 8


Viktor S





          2009-05-05 18:55:03 UTC
        

This is indeed a bug, and as Comment #7 says all you need to do is to emerge qca as it was revbumped for it to work again. Maybe ksirk should depend on qca 2.0.2 being installed?









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

