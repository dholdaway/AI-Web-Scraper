Title: 126007 – kde-base/kdelibs compiler error: in comptypes
URL: https://bugs.gentoo.org/show_bug.cgi?id=126007

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 126007
kde-base/kdelibs compiler error: in comptypes
Last modified: 2006-03-24 05:46:57 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 126007 
      - kde-base/kdelibs compiler error: in comptypes


Summary:
kde-base/kdelibs compiler error: in comptypes
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-03-12 18:56 UTC by josh snyder





      Modified:
    
2006-03-24 05:46 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


josh snyder





          2006-03-12 18:56:47 UTC
        

kde-base/kdelibs-3.4.3-r1 keeps failing:

Fresh Stage3 install with a 2006 minimal CD. After I installed and reboot I updated to install the new gcc & libs.

 emerge -uav gcc
 gcc-config i686-pc-linux-gnu-3.4.5
 source /etc/profile
 emerge --oneshot -av libtool
 emerge --oneshot sys-libs/libstdc++-v3
 emerge -e system
  <RECOMPILE Kernel>
  <Reboot & emerge kdebase>

The compiler quits with an error message always containing
"internal compiler error: in comptypes, at cp/typeck.c:947"

EXAMPLES
***********************************
/usr/qt/3/include/qmemarray.h: In instantiation of `bool QMemArray<type>::isEmpty() const [with type = char]':
kedittoolbar.cpp:158:   instantiated from here
/usr/qt/3/include/qmemarray.h:68: internal compiler error: in comptypes, at cp/typeck.c:947
Please submit a full bug report,
********************************************
-D_BSD_SOURCE -Wcast-align -Wconversion -Wchar-subscripts -Wall -W -Wpointer-arith -DNDEBUG -DNO_DEBUG -O2 -O2 -march=athlon-xp -fomit-frame-pointer -pipe -Wformat-security -Wmissing-format-attribute -Wno-non-virtual-dtor -fno-exceptions -fno-check-new -fno-common  -DQT_CLEAN_NAMESPACE -DQT_NO_ASCII_CAST -DQT_NO_STL -DQT_NO_COMPAT -DQT_NO_TRANSLATION  -c -o libkfile_la.all_cpp.lo `test -f 'libkfile_la.all_cpp.cpp' || echo './'`libkfile_la.all_cpp.cpp
In file included from libkfile_la.all_cpp.cpp:20:
kimagefilepreview.cpp:67: internal compiler error: in comptypes, at cp/typeck.c:947
Please submit a full bug report,
with preprocessed source if appropriate.
See <URL:http://bugs.gentoo.org/> for instructions.
The bug is not reproducible, so it is likely a hardware or OS problem.
********************************************
-I/usr/qt/3/include -I. -I/usr/kde/3.4/include   -D_LARGEFILE64_SOURCE -DQT_THREAD_SUPPORT  -D_REENTRANT  -Wno-long-long -Wundef -ansi -D_XOPEN_SOURCE=500 -D_BSD_SOURCE -Wcast-align -Wconversion -Wchar-subscripts -Wall -W -Wpointer-arith -DNDEBUG -DNO_DEBUG -O2 -O2 -march=athlon-xp -fomit-frame-pointer -pipe -Wformat-security -Wmissing-format-attribute -Wno-non-virtual-dtor -fno-exceptions -fno-check-new -fno-common  -DQT_CLEAN_NAMESPACE -DQT_NO_ASCII_CAST -DQT_NO_STL -DQT_NO_COMPAT -DQT_NO_TRANSLATION  -c -o libkiocore_la.all_cpp.lo `test -f 'libkiocore_la.all_cpp.cpp' || echo './'`libkiocore_la.all_cpp.cpp
In file included from libkiocore_la.all_cpp.cpp:8:
scheduler.cpp: In member function `void KIO::Scheduler::slotCleanIdleSlaves()':
scheduler.cpp:644: warning: `connection' is deprecated (declared at ./../kio/slave.h:203)
In file included from libksycoca_la.all_cpp.cpp:23:
krun.cpp:1215: internal compiler error: in comptypes, at cp/typeck.c:947
Please submit a full bug report,
with preprocessed source if appropriate.
See <URL:http://bugs.gentoo.org/> for instructions.
In file included from libkiocore_la.all_cpp.cpp:18:
slavebase.cpp: In member function `void KIO::SlaveBase::connectSlave(const QString&)':
slavebase.cpp:328: warning: `__comp_ctor' is deprecated (declared at ../../kdecore/ksock.h:108)
/bin/sh ../../libtool --silent --mode=link --tag=CXX i686-pc-linux-gnu-g++  -Wno-long-long -Wundef -ansi -D_XOPEN_SOURCE=500 -D_BSD_SOURCE -Wcast-align -Wconversion -Wchar-subscripts -Wall -W -Wpointer-arith -DNDEBUG -DNO_DEBUG -O2 -O2 -march=athlon-xp -fomit-frame-pointer -pipe -Wformat-security -Wmissing-format-attribute -Wno-non-virtual-dtor -fno-exceptions -fno-check-new -fno-common  -DQT_CLEAN_NAMESPACE -DQT_NO_ASCII_CAST -DQT_NO_STL -DQT_NO_COMPAT -DQT_NO_TRANSLATION    -o libkiocore.la   libkiocore_la.all_cpp.lo
******************************************************
--------------------------------------------------------------------------
emerge --info
Portage 2.0.54 (default-linux/x86/2006.0, gcc-3.4.5, glibc-2.3.5-r2, 2.6.15-gentoo-r1 i686)
=================================================================
System uname: 2.6.15-gentoo-r1 i686 AMD Athlon(tm) XP 3000+
Gentoo Base System version 1.6.14
dev-lang/python:     2.4.2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=athlon-xp -fomit-frame-pointer -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config /usr/lib/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=athlon-xp -fomit-frame-pointer -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="ftp://ftp.ussg.iu.edu/pub/linux/gentoo"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.namerica.gentoo.org/gentoo-portage"
USE="x86 3dnow X alsa apache2 apm arts audiofile avi berkdb bitmap-fonts bzip2 cli crypt cups dri dvd dvdr eds emboss encode esd expat fam fbcon foomaticdb fortran gdbm gif gpm gstreamer gtk gtk2 howl idn imlib ipv6 java jpeg kde kdeenablefinal lcms libg++ libwww mad mikmod mmx mng motif mp3 mpeg ncurses nls nptl nptlonly ntfs nvidia ogg openal opengl oss pam pcre pdflib perl png python qt quicktime readline sdl spell sse ssl tcpd tiff truetype truetype-fonts type1-fonts udev unicode usb vorbis win32codecs xml xml2 xmms xv zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS
--------------------------------------------------------------------




Comment 1


Caleb Tennis (RETIRED)






          2006-03-14 07:33:23 UTC
        

Does it happen with the same error in the same stop every time?

Looks most likely to be a hardware error - running out of ram, or some bad memory.




Comment 2


josh snyder





          2006-03-14 14:44:12 UTC
        

(In reply to comment #1)
> Does it happen with the same error in the same stop every time?
> 
> Looks most likely to be a hardware error - running out of ram, or some bad
> memory.
> 

Stops in diff places, always errors with cp/typeck.c:947.

I was expecting hardware fault myself, i was suprised when memtest made 8 passes with no errors.

I've began 2 more fresh installs with 2006.0 & i686 stage3-tarball.  I'll see if those machines make it.  Could it even be possible that this error be related to subarc CFLAGS?  This has an Athlon-XP while many machines that I've sucessfully setup so far with the 2006.0 cd have been pentium4.  I'll look deepr into hardware issues and also do some further testing.




Comment 3


Caleb Tennis (RETIRED)






          2006-03-24 05:46:57 UTC
        

Yeah, definitely sounds like some flaky hardware, or possibly just running out of memory.  Could also be the CPU getting too hot.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

