Title: 297445 – sys-libs/db-4.8.24: crash with install docs
URL: https://bugs.gentoo.org/show_bug.cgi?id=297445

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 297445
sys-libs/db-4.8.24: crash with install docs
Last modified: 2014-08-03 23:29:52 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 297445 
      - sys-libs/db-4.8.24: crash with install docs


Summary:
sys-libs/db-4.8.24: crash with install docs
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Core system

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo's Team for Core System packages








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-12-18 16:51 UTC by Atlant





      Modified:
    
2014-08-03 23:29 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



4iter-yes









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




paludis  --info sys-libs/db

              (paludis  --info sys-libs-db.txt,18.39 KB,
                text/plain)

            
2009-12-18 16:54 UTC,

            Atlant




Details





Environment for this package (loadsaveenv)

              (loadsaveenv,260.75 KB,
                text/plain)

            
2009-12-18 17:05 UTC,

            Atlant




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Atlant





          2009-12-18 16:51:15 UTC
        

Installation stops at attempt to establish the documentation.
# paludis  -i1 sys-libs/db
Building target list...
Building dependency list...

These packages will be installed:

* sys-libs/db :4.8 [S 4.8.24] <target>
    -doc -java -nocxx -tcl (-test) build_options: -optional_tests split strip

...........skip messages...............

>>> Done src_compile
>>> Starting builtin_saveenv
>>> Done builtin_saveenv
>>> Completed ebuild phases loadenv compile saveenv
>>> Running ebuild phases loadenv install saveenv as root:root...
>>> Starting builtin_loadenv
>>> Done builtin_loadenv
>>> Starting src_install
make install DESTDIR=/var/ramdisk/paludis/sys-libs-db-4.8.24/image/
Installing DB include files: /var/ramdisk/paludis/sys-libs-db-4.8.24/image//usr/include ...
Installing DB library: /var/ramdisk/paludis/sys-libs-db-4.8.24/image//usr/lib ...
libtool: install: cp -p .libs/libdb-4.8.so /var/ramdisk/paludis/sys-libs-db-4.8.24/image//usr/lib/libdb-4.8.so
libtool: install: cp -p .libs/libdb-4.8.lai /var/ramdisk/paludis/sys-libs-db-4.8.24/image//usr/lib/libdb-4.8.la
libtool: install: cp -p .libs/libdb_cxx-4.8.so /var/ramdisk/paludis/sys-libs-db-4.8.24/image//usr/lib/libdb_cxx-4.8.so
libtool: install: cp -p .libs/libdb_cxx-4.8.lai /var/ramdisk/paludis/sys-libs-db-4.8.24/image//usr/lib/libdb_cxx-4.8.la
libtool: install: cp -p .libs/libdb_stl-4.8.so /var/ramdisk/paludis/sys-libs-db-4.8.24/image//usr/lib/libdb_stl-4.8.so
libtool: install: cp -p .libs/libdb_stl-4.8.lai /var/ramdisk/paludis/sys-libs-db-4.8.24/image//usr/lib/libdb_stl-4.8.la
libtool: install: cp -p .libs/libdb-4.8.a /var/ramdisk/paludis/sys-libs-db-4.8.24/image//usr/lib/libdb-4.8.a
libtool: install: chmod 644 /var/ramdisk/paludis/sys-libs-db-4.8.24/image//usr/lib/libdb-4.8.a
libtool: install: i686-pc-linux-gnu-ranlib /var/ramdisk/paludis/sys-libs-db-4.8.24/image//usr/lib/libdb-4.8.a
libtool: install: cp -p libdb.a /var/ramdisk/paludis/sys-libs-db-4.8.24/image//usr/lib/libdb.a
libtool: install: chmod 644 /var/ramdisk/paludis/sys-libs-db-4.8.24/image//usr/lib/libdb.a
libtool: install: i686-pc-linux-gnu-ranlib /var/ramdisk/paludis/sys-libs-db-4.8.24/image//usr/lib/libdb.a
libtool: install: cp -p .libs/libdb_cxx-4.8.a /var/ramdisk/paludis/sys-libs-db-4.8.24/image//usr/lib/libdb_cxx-4.8.a
libtool: install: chmod 644 /var/ramdisk/paludis/sys-libs-db-4.8.24/image//usr/lib/libdb_cxx-4.8.a
libtool: install: i686-pc-linux-gnu-ranlib /var/ramdisk/paludis/sys-libs-db-4.8.24/image//usr/lib/libdb_cxx-4.8.a
libtool: install: cp -p libdb_cxx.a /var/ramdisk/paludis/sys-libs-db-4.8.24/image//usr/lib/libdb_cxx.a
libtool: install: chmod 644 /var/ramdisk/paludis/sys-libs-db-4.8.24/image//usr/lib/libdb_cxx.a
libtool: install: i686-pc-linux-gnu-ranlib /var/ramdisk/paludis/sys-libs-db-4.8.24/image//usr/lib/libdb_cxx.a
libtool: install: cp -p .libs/libdb_stl-4.8.a /var/ramdisk/paludis/sys-libs-db-4.8.24/image//usr/lib/libdb_stl-4.8.a
libtool: install: chmod 644 /var/ramdisk/paludis/sys-libs-db-4.8.24/image//usr/lib/libdb_stl-4.8.a
libtool: install: i686-pc-linux-gnu-ranlib /var/ramdisk/paludis/sys-libs-db-4.8.24/image//usr/lib/libdb_stl-4.8.a
libtool: install: cp -p libdb_stl.a /var/ramdisk/paludis/sys-libs-db-4.8.24/image//usr/lib/libdb_stl.a
libtool: install: chmod 644 /var/ramdisk/paludis/sys-libs-db-4.8.24/image//usr/lib/libdb_stl.a
libtool: install: i686-pc-linux-gnu-ranlib /var/ramdisk/paludis/sys-libs-db-4.8.24/image//usr/lib/libdb_stl.a
libtool: install: warning: remember to run `libtool --finish /usr/lib'
Installing DB utilities: /var/ramdisk/paludis/sys-libs-db-4.8.24/image//usr/bin ...
libtool: install: cp -p .libs/db_archive /var/ramdisk/paludis/sys-libs-db-4.8.24/image//usr/bin/db_archive
libtool: install: cp -p .libs/db_checkpoint /var/ramdisk/paludis/sys-libs-db-4.8.24/image//usr/bin/db_checkpoint
libtool: install: cp -p .libs/db_deadlock /var/ramdisk/paludis/sys-libs-db-4.8.24/image//usr/bin/db_deadlock
libtool: install: cp -p .libs/db_dump /var/ramdisk/paludis/sys-libs-db-4.8.24/image//usr/bin/db_dump
libtool: install: cp -p .libs/db_hotbackup /var/ramdisk/paludis/sys-libs-db-4.8.24/image//usr/bin/db_hotbackup
libtool: install: cp -p .libs/db_load /var/ramdisk/paludis/sys-libs-db-4.8.24/image//usr/bin/db_load
libtool: install: cp -p .libs/db_printlog /var/ramdisk/paludis/sys-libs-db-4.8.24/image//usr/bin/db_printlog
libtool: install: cp -p .libs/db_recover /var/ramdisk/paludis/sys-libs-db-4.8.24/image//usr/bin/db_recover
libtool: install: cp -p .libs/db_sql /var/ramdisk/paludis/sys-libs-db-4.8.24/image//usr/bin/db_sql
libtool: install: cp -p .libs/db_stat /var/ramdisk/paludis/sys-libs-db-4.8.24/image//usr/bin/db_stat
libtool: install: cp -p .libs/db_upgrade /var/ramdisk/paludis/sys-libs-db-4.8.24/image//usr/bin/db_upgrade
libtool: install: cp -p .libs/db_verify /var/ramdisk/paludis/sys-libs-db-4.8.24/image//usr/bin/db_verify
Installing documentation: /var/ramdisk/paludis/sys-libs-db-4.8.24/image//usr/docs ...
make: *** [install_docs] Error 137
/usr/libexec/paludis/utils/emake: emake returned error 2

!!! ERROR in sys-libs/db-4.8.24:
!!! In src_install at line 6236
!!! (no message provided)

!!! Call stack:
!!!    * src_install (/var/ramdisk/paludis/sys-libs-db-4.8.24/temp/loadsaveenv:6236)
!!!    * ebuild_f_install (/usr/libexec/paludis/0/src_install.bash:46)
!!!    * ebuild_main (/usr/libexec/paludis/ebuild.bash:482)
!!!    * main (/usr/libexec/paludis/ebuild.bash:498)

diefunc: making ebuild PID 16420 exit with error
die trap: exiting with error.

Install error:
  * In program paludis -i1 sys-libs/db:
  * When performing install action from command line:
  * When executing install task:
  * When installing 'sys-libs/db-4.8.24:4.8::gentoo':
  * When running an ebuild command on 'sys-libs/db-4.8.24:4.8::gentoo':
  * Install error: Install failed for 'sys-libs/db-4.8.24:4.8::gentoo'


Output log: /var/log/paludis/1261153861-install-sys-libs_db-4.8.24:4.8::gentoo.out
Messages log: /var/log/paludis/1261153861-install-sys-libs_db-4.8.24:4.8::gentoo.messages

Summary of failures:

* sys-libs/db-4.8.24:4.8::gentoo: failure

Total: 1 package, 0 successes, 0 skipped, 1 failure, 0 unreached

Resume command: paludis --log-level qa --preserve-world --install --serialised 0.25 'package;=sys-libs/db-4.8.24:4.8::gentoo;installed;has_all_deps;P'
!!! Error: Can't load module news
exiting

 * No unread news items found

 * Searching for configuration files requiring action...
 * No configuration file updates required



Reproducible: Always

Steps to Reproduce:
1.paludis  -i1 sys-libs/db
2.
3.




Comment 1


Atlant





          2009-12-18 16:54:19 UTC
        

Created attachment 213399 [details]
paludis  --info sys-libs/db




Comment 2


Atlant





          2009-12-18 17:05:46 UTC
        

Created attachment 213403 [details]
Environment for this package (loadsaveenv)




Comment 3


Robin Johnson









          2010-05-04 01:46:38 UTC
        

I need the complete log, you've removed all the useful parts.
Please attach and reopen.




Comment 4


Atlant





          2010-05-19 06:50:05 UTC
        

[English]
I have found solution!
I used earlier sandbox 2.1 (~). 
And a problem in failure at usage of the command "cp-rp doc_dir_1 doc_dir_2 doc_dir_N/image_directory_with_doc". 
After transition to the version sandbox 2.2 (~) or its stable version 1.2.18.1-r2 the problem does not repeat. 
The request to flag sandbox 2.1 on x86 as non-working!
[Russian]
Я нашел решение!
Я ранее использовал sandbox 2.1(~). 
И проблема в сбое при использование команды "cp -rp doc_dir_1 doc_dir_2 doc_dir_N /image_directory_with_doc". 
После перехода на версию sandbox 2.2(~) или её стабильную версию 1.2.18.1-r2 проблема не повторяется. 
Просьба пометить sandbox 2.1 на x86 как нерабочую!




Comment 5


Atlant





          2010-05-19 06:53:11 UTC
        

// fix
# cp -rp doc_dir_1 doc_dir_2 doc_dir_N  /image_directory_with_doc 




Comment 6


Robin Johnson









          2014-08-03 23:29:52 UTC
        

I can't reproduce with Portage and sandbox.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

