Title: 166810 – Unable to apply gcc-3.3.6-ssp.patch on gcc-3.3.6-r1
URL: https://bugs.gentoo.org/show_bug.cgi?id=166810

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 166810
Unable to apply gcc-3.3.6-ssp.patch on gcc-3.3.6-r1
Last modified: 2007-07-06 07:21:22 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 166810 
      - Unable to apply gcc-3.3.6-ssp.patch on gcc-3.3.6-r1


Summary:
Unable to apply gcc-3.3.6-ssp.patch on gcc-3.3.6-r1
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Core system

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:









Duplicates (1):
    

184385

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2007-02-14 11:43 UTC by amedeo





      Modified:
    
2007-07-06 07:21 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



jiri.pittner









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




gcc-3.3.6-ssp.patch-12722.out file

              (gcc-3.3.6-ssp.patch-12722.out,34.37 KB,
                text/plain)

            
2007-02-14 11:48 UTC,

            amedeo




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


amedeo





          2007-02-14 11:43:17 UTC
        

when i try to install amarok it depends to gcc-3.3.6-r1 and i receive this error on console

>>> Emerging (2 of 23) sys-devel/gcc-3.3.6-r1 to /
 * gcc-3.3.6-patches-1.4.tar.bz2 MD5 ;-) ...                                                                          [ ok ]
 * gcc-3.3.6-patches-1.4.tar.bz2 RMD160 ;-) ...                                                                       [ ok ]
 * gcc-3.3.6-patches-1.4.tar.bz2 SHA1 ;-) ...                                                                         [ ok ]
 * gcc-3.3.6-patches-1.4.tar.bz2 SHA256 ;-) ...                                                                       [ ok ]
 * gcc-3.3.6-patches-1.4.tar.bz2 size ;-) ...                                                                         [ ok ]
 * gcc-3.3.6-uclibc-patches-1.0.tar.bz2 MD5 ;-) ...                                                                   [ ok ]
 * gcc-3.3.6-uclibc-patches-1.0.tar.bz2 RMD160 ;-) ...                                                                [ ok ]
 * gcc-3.3.6-uclibc-patches-1.0.tar.bz2 SHA1 ;-) ...                                                                  [ ok ]
 * gcc-3.3.6-uclibc-patches-1.0.tar.bz2 SHA256 ;-) ...                                                                [ ok ]
 * gcc-3.3.6-uclibc-patches-1.0.tar.bz2 size ;-) ...                                                                  [ ok ]
 * gcc-3.3.6-piepatches-v8.7.8.tar.bz2 MD5 ;-) ...                                                                    [ ok ]
 * gcc-3.3.6-piepatches-v8.7.8.tar.bz2 RMD160 ;-) ...                                                                 [ ok ]
 * gcc-3.3.6-piepatches-v8.7.8.tar.bz2 SHA1 ;-) ...                                                                   [ ok ]
 * gcc-3.3.6-piepatches-v8.7.8.tar.bz2 SHA256 ;-) ...                                                                 [ ok ]
 * gcc-3.3.6-piepatches-v8.7.8.tar.bz2 size ;-) ...                                                                   [ ok ]
 * gcc-3.3.6.tar.bz2 MD5 ;-) ...                                                                                      [ ok ]
 * gcc-3.3.6.tar.bz2 RMD160 ;-) ...                                                                                   [ ok ]
 * gcc-3.3.6.tar.bz2 SHA1 ;-) ...                                                                                     [ ok ]
 * gcc-3.3.6.tar.bz2 SHA256 ;-) ...                                                                                   [ ok ]
 * gcc-3.3.6.tar.bz2 size ;-) ...                                                                                     [ ok ]
 * gcc-3.3.6-ssp-1.0.tar.bz2 MD5 ;-) ...                                                                              [ ok ]
 * gcc-3.3.6-ssp-1.0.tar.bz2 RMD160 ;-) ...                                                                           [ ok ]
 * gcc-3.3.6-ssp-1.0.tar.bz2 SHA1 ;-) ...                                                                             [ ok ]
 * gcc-3.3.6-ssp-1.0.tar.bz2 SHA256 ;-) ...                                                                           [ ok ]
 * gcc-3.3.6-ssp-1.0.tar.bz2 size ;-) ...                                                                             [ ok ]
 * checking ebuild checksums ;-) ...                                                                                  [ ok ]
 * checking auxfile checksums ;-) ...                                                                                 [ ok ]
 * checking miscfile checksums ;-) ...                                                                                [ ok ]
 * checking gcc-3.3.6.tar.bz2 ;-) ...                                                                                 [ ok ]
 * checking gcc-3.3.6-ssp-1.0.tar.bz2 ;-) ...                                                                         [ ok ]
 * checking gcc-3.3.6-uclibc-patches-1.0.tar.bz2 ;-) ...                                                              [ ok ]
 * checking gcc-3.3.6-patches-1.4.tar.bz2 ;-) ...                                                                     [ ok ]
 * checking gcc-3.3.6-piepatches-v8.7.8.tar.bz2 ;-) ...                                                               [ ok ]
>>> Unpacking source...
>>> Unpacking gcc-3.3.6.tar.bz2 to /var/tmp/portage/sys-devel/gcc-3.3.6-r1/work
>>> Unpacking gcc-3.3.6-patches-1.4.tar.bz2 to /var/tmp/portage/sys-devel/gcc-3.3.6-r1/work
>>> Unpacking gcc-3.3.6-uclibc-patches-1.0.tar.bz2 to /var/tmp/portage/sys-devel/gcc-3.3.6-r1/work
>>> Unpacking gcc-3.3.6-ssp-1.0.tar.bz2 to /var/tmp/portage/sys-devel/gcc-3.3.6-r1/work
>>> Unpacking gcc-3.3.6-piepatches-v8.7.8.tar.bz2 to /var/tmp/portage/sys-devel/gcc-3.3.6-r1/work
 * Applying gcc-3.3.6-ssp.patch ...

 * Failed Patch: gcc-3.3.6-ssp.patch !
 *  ( /var/tmp/portage/sys-devel/gcc-3.3.6-r1/work/ssp/gcc-3.3.6-ssp.patch )
 *
 * Include in your bugreport the contents of:
 *
 *   /var/tmp/portage/sys-devel/gcc-3.3.6-r1/temp/gcc-3.3.6-ssp.patch-12722.out


!!! ERROR: sys-devel/gcc-3.3.6-r1 failed.
Call stack:
  ebuild.sh, line 1614:   Called dyn_unpack
  ebuild.sh, line 751:   Called qa_call 'src_unpack'
  environment, line 5294:   Called src_unpack
  gcc-3.3.6-r1.ebuild, line 71:   Called gcc_src_unpack
  toolchain.eclass, line 1029:   Called do_gcc_SSP_patches
  toolchain.eclass, line 1982:   Called epatch '/var/tmp/portage/sys-devel/gcc-3.3.6-r1/work/ssp/gcc-3.3.6-ssp.patch'
  eutils.eclass, line 341:   Called die

!!! Failed Patch: gcc-3.3.6-ssp.patch!
!!! If you need support, post the topmost build error, and the call stack if relevant.
!!! A complete build log is located at '/var/tmp/portage/sys-devel/gcc-3.3.6-r1/temp/build.log'.


Reproducible: Always

Steps to Reproduce:
1.emerge amarok
2.
3.




Comment 1


amedeo





          2007-02-14 11:44:00 UTC
        

cornelius ~ # emerge info
*** Deprecated use of action 'info', use '--info' instead
Portage 2.1.2-r9 (default-linux/x86/2006.1/desktop, gcc-4.1.1, glibc-2.5-r0, 2.6.16.39 i686)
=================================================================
System uname: 2.6.16.39 i686 Genuine Intel(R) CPU           T2400  @ 1.83GHz
Gentoo Base System release 1.12.9
Timestamp of tree: Tue, 13 Feb 2007 22:20:01 +0000
dev-java/java-config: 1.3.7, 2.0.31
dev-lang/python:     2.4.3-r4
dev-python/pycrypto: 2.0.1-r5
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.61
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.14
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.17-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O3 -march=i686 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/java-config/vms/ /etc/terminfo"
CXXFLAGS="-O3 -march=i686 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/"
LINGUAS="it en"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="X aac acl acpi alsa amarok amc amuled arts automount bash-completion berkdb bitmap-fonts bittorrent bluetooth bootsplash bzip2 cairo cdr cdrom cli cracklib crypt cups dbus debug devmap dga dlloader doc dri dv dvb dvd dvdr dvdread eds emboss encode esd examples fam fat fbsplash ffmpeg firefox flac flood fortran gdbm gif gimp gimpprint gmail gmailtimestamps gmp gnome gphoto2 gpm gstreamer gtalk gtk gvim hal iconv imagemagick ipod isdnlog java jpeg kde ldap libcaca libg++ live lm_sensors mad midi mikmod mjpeg mmx mozilla mp3 mp4 mpeg musepack musicbrainz ncurses nls nptl nptlonly ntfs odbc ogg opengl oracle oss pam pcre pdf perl png ppds pppd python qt qt3 qt4 quicktime readline real reflection samba scanner sdl session sms sockets speex spell spl sql ssl sysfs syslog tcpd tga theora truetype truetype-fonts type1-fonts udev unicode usb utf8 v4l v4l2 vanilla vcd vfat vim vorbis watchdog wifi win32codecs wxwindows x264 x86 xanim xml xorg xprint xv xvid xvmc zlib" ALSA_CARDS="hda-intel intel8x0 intel8x0m" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" ELIBC="glibc" INPUT_DEVICES="keyboard mouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="it en" USERLAND="GNU" VIDEO_CARDS="fbdev vesa vga nvidia"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY






Comment 2


amedeo





          2007-02-14 11:48:12 UTC
        

Created attachment 110159 [details]
gcc-3.3.6-ssp.patch-12722.out file

/var/tmp/portage/sys-devel/gcc-3.3.6-r1/temp/gcc-3.3.6-ssp.patch-12722.out

file




Comment 3


Jakub Moc (RETIRED)






          2007-02-14 11:55:37 UTC
        

(In reply to comment #0)
> when i try to install amarok it depends to gcc-3.3.6-r1 and i receive this
> error on console

Uh no, amarok doesn't depend on gcc-3.3.6-r1 at all. gcc-3.3.6 is completely unsupported, don't install such stuff. If some binary-only cruft (not amarok for sure) needs old libstdc++, then install sys-libs/libstdc++-v3 instead; that's what virtual/libstdc++ is about.

http://www.gentoo.org/doc/en/gcc-upgrading.xml

Also, cannot reproduce here at all anyway.

 * Applying stub patch for htb ...                                                                                                       [ ok ]
 * Applying gcc-3.3.6-ssp.patch ...                                                                                                      [ ok ]
 * Updating gcc to use SSP from libc ...






Comment 4


ash





          2007-05-18 00:51:58 UTC
        

I am also having this problem. I'm trying to install gcc-3.3.6-r1 because according to the bugs filed here quakeforge doesn't seem to work right when compiled with gcc-3.4 and up.




Comment 5


Jakub Moc (RETIRED)






          2007-07-06 07:21:22 UTC
        

*** Bug 184385 has been marked as a duplicate of this bug. ***









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

