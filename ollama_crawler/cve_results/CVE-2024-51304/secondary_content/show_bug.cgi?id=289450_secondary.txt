Title: 289450 – x11-plugins/compiz-plugins-unsupported-0.8.4 fails to build
URL: https://bugs.gentoo.org/show_bug.cgi?id=289450

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 289450
x11-plugins/compiz-plugins-unsupported-0.8.4 fails to build
Last modified: 2010-04-16 22:52:12 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 289450 
      - x11-plugins/compiz-plugins-unsupported-0.8.4 fails to build


Summary:
x11-plugins/compiz-plugins-unsupported-0.8.4 fails to build
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Desktop-Effects herd








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-10-17 08:04 UTC by Dawid Stawiarski





      Modified:
    
2010-04-16 22:52 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



levertond
theshadowzero









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




compiz-plugins-unsupported-0.8.2 build.log

              (0.8.2-build.log,59.93 KB,
                text/plain)

            
2009-10-17 21:09 UTC,

            Al




Details





0.8.4 build.log

              (build.log,59.82 KB,
                text/plain)

            
2009-10-17 21:30 UTC,

            Al




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Dawid Stawiarski





          2009-10-17 08:04:40 UTC
        

Updating to latest compiz-plugins-unsupported fails... (struct ElementAnimation and function initiateElement() defined in /usr/include/compiz/compiz-elements.h)

libtool: compile:  x86_64-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I../.. -I/usr/include/libxml2 -I/usr/include/startup-notification-1.0 -I/usr/include/compiz -DDATADIR=\"/usr/share/compiz\" -DLIBDIR=\"/usr/lib64\" -DLOCALEDIR=\"/usr/share/locale\" -DIMAGEDIR=\"/usr/share/compiz\" -I../../include -O2 -pipe -march=athlon64 -fomit-frame-pointer -ftracer -fstack-protector -msse3 -Wall -Wpointer-arith -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wnested-externs -fno-strict-aliasing -MT elements.lo -MD -MP -MF .deps/elements.Tpo -c elements.c  -fPIC -DPIC -o .libs/elements.o
elements.c: In function 'elementTestCreate':
elements.c:99: error: too many arguments to function 'initiateElement'
elements.c: In function 'createElementAnimation':
elements.c:677: error: 'ElementAnimation' has no member named 'rotate'
elements.c:693: error: too many arguments to function 'initiateElement'
elements.c: At top level:
elements.c:1323: error: conflicting types for 'initiateElement'
/usr/include/compiz/compiz-elements.h:121: note: previous declaration of 'initiateElement' was here
elements.c: In function 'updateElementTextures':
elements.c:1503: error: 'ElementAnimation' has no member named 'rotate'
elements.c:1506: error: 'ElementAnimation' has no member named 'rotate'
make[4]: *** [elements.lo] Error 1




Comment 1


Tobias Heinlein (RETIRED)






          2009-10-17 11:00:04 UTC
        

I can confirm this.




Comment 2


Romain Perier (RETIRED)






          2009-10-17 16:40:14 UTC
        

- Please provide the output of emerge --info

weird... it builds just fine here, and it built just fine before I bump it in the main tree...




Comment 3


Ivan Iraci





          2009-10-17 16:46:15 UTC
        

(In reply to comment #1)

> I can confirm this.

Idem 






Comment 4


Al





          2009-10-17 17:06:21 UTC
        

(In reply to comment #3)
> (In reply to comment #1)
> 
> > I can confirm this.
> 
> Idem 
> 

I can confirm the same on 2 machines x86 & x86_64
However I was attracted to this line 
"/usr/include/compiz/compiz-elements.h:121.."
and a 
$ equery b /usr/include/compiz/compiz-elements.h

shows

"x11-plugins/compiz-plugins-unsupported-0.8.2
(/usr/include/compiz/compiz-elements.h)"

So I did an emerge -C compiz-plugins-unsupported followed by an 

emerge compiz-plugins-unsupported

and it compiled OK

Seems of a silly bit of a set setup eh!

Al




Comment 5


Al





          2009-10-17 17:12:49 UTC
        

(In reply to comment #4)
snip
> and it compiled OK

On both machines that is.

Al







Comment 6


Romain Perier (RETIRED)






          2009-10-17 17:56:13 UTC
        

and attach the full build.log too please




Comment 7


Dawid Stawiarski





          2009-10-17 20:02:16 UTC
        

yeap, making 'emerge -C compiz-plugins-unsupported; emerge compiz-plugins-unsupported' solved the problem... anyways, here's my emerge --info:

Portage 2.2_rc46 (default/linux/amd64/2008.0, gcc-4.4.1, glibc-2.10.1-r0, 2.6.31.4 x86_64)
=================================================================
System uname: Linux-2.6.31.4-x86_64-AMD_Athlon-tm-_64_X2_Dual_Core_Processor_3800+-with-gentoo-2.0.1
Timestamp of tree: Sat, 17 Oct 2009 19:15:01 +0000
app-shells/bash:     4.0_p33
dev-java/java-config: 2.1.9-r1
dev-lang/python:     2.6.3, 3.1.1-r1
dev-python/pycrypto: 2.0.1-r8
dev-util/cmake:      2.6.4-r3
sys-apps/baselayout: 2.0.1
sys-apps/openrc:     0.5.1-r1
sys-apps/sandbox:    2.1
sys-devel/autoconf:  2.13, 2.63-r1
sys-devel/automake:  1.4_p6, 1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.2, 1.11
sys-devel/binutils:  2.19.1-r1
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   2.2.6a
virtual/os-headers:  2.6.30-r1
ACCEPT_KEYWORDS="amd64 ~amd64"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -pipe -march=athlon64 -fomit-frame-pointer -ftracer -fstack-protector -msse3"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/revdep-rebuild /etc/sandbox.d /etc/splash /etc/terminfo /etc/udev/rules.d"
CXXFLAGS="-O2 -pipe -march=athlon64 -fomit-frame-pointer -ftracer -fstack-protector -msse3"
DISTDIR="/usr/portage/distfiles"
FEATURES="assume-digests collision-protect distlocks fixpackages news parallel-fetch preserve-libs protect-owned sandbox sfperms strict unmerge-logs unmerge-orphans userfetch"
GENTOO_MIRRORS="http://gentoo.po.opole.pl http://gentoo.prz.rzeszow.pl/ "
LANG="pl_PL"
LC_ALL="pl_PL"
LDFLAGS="-Wl,-O1"
LINGUAS="pl en"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://88.198.224.205/gentoo-portage"
USE="3dnow 3dnowext X Xaw3d a52 aac acpi akonadi alsa amd64 ao asf atk bash-completion berkdb boost bzip2 cairo caps cdparanoia cdr chdir cli consolekit cracklib crypt cups curl dar64 dbus divx dts dvd dvdr dvdread exif expat ffmpeg fltk fontconfig foomaticdb gd gdbm gif glib glitz gnutls gphoto2 gpm graphite gtk hal hardened hpn iconv icu idn ieee1394 imagemagick imlib inotify isdnlog jpeg jpeg2k kde kde4 kipi lame lcms log4j logrotate mad midi mikmod mmap mmx mmxext mng modules mp3 msn mudflap multilib mysql ncurses nls nptl nptlonly nsplugin nvidia ogg openexr opengl openmp pam pango pch pcre pdf perl pic plasma png policykit ppds pppd pth python qt3 qt3support qt4 quicktime readline realmedia reflection rtc ruby scanner seamonkey semantic-desktop session slang smp sndfile spell spl sql sqlite3 sse sse2 ssl svg symlink sysfs tcpd theora threads thumbnail tiff truetype unicode urandom usb vcd vorbis webkit wmf wmp x264 xcb xcomposite xml xorg xpm xscreensaver xv xvid xvmc zlib zrtp" ALSA_CARDS="hda-intel" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CAMERAS="template directory canon ptp2" ELIBC="glibc" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="pl en" SANE_BACKENDS="hp" USERLAND="GNU" VIDEO_CARDS="nvidia nv"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY





Comment 8


Al





          2009-10-17 21:09:39 UTC
        

Created attachment 207424 [details]
compiz-plugins-unsupported-0.8.2 build.log




Comment 9


Al





          2009-10-17 21:29:00 UTC
        

(In reply to comment #8)
> Created an attachment (id=207424) [details]
> compiz-plugins-unsupported-0.8.2 build.log
> 

Didnt have build.log after emerge completed so remerge compiz-plugins-unsupported-0.8.2 and that failed the same way build.log attached.

Was able to remerge remerge compiz-plugins-unsupported-0.8.2 by unmerging 0.8.4.

Remerging 0.8.4 fails again until 0.8.2 is unmerged 0.8.4 build.log attached




Comment 10


Al





          2009-10-17 21:30:37 UTC
        

Created attachment 207426 [details]
0.8.4 build.log




Comment 11


Rodrigo Saboya





          2009-10-17 21:41:09 UTC
        

Duplicate of #289249?




Comment 12


Mars Liu





          2009-10-30 17:38:12 UTC
        

aha, I confirm that "emerge -C =compiz-plugins-unsupported-0.8.2;  emerge compiz-plugins-unsupported" solution works for me.




Comment 13


Sebastian Droppelmann





          2009-11-09 12:45:22 UTC
        

also can confirm that emerge -C compiz-plugins-unsupported;  emerge
compiz-plugins-unsupported works




Comment 14


MiguelDaSilva





          2009-11-27 12:06:41 UTC
        

(In reply to comment #13)
> also can confirm that emerge -C compiz-plugins-unsupported;  emerge
> compiz-plugins-unsupported works
> 

The same solution worked to me.




Comment 15


Daren Hayward





          2009-12-17 20:35:27 UTC
        

I can also confirm that emerge -C 
compiz-plugins-unsupported and then emerge compiz-plugins-unsupported works for me too where as previously I was getting the error detailed here.




Comment 16


Jorge Manuel B. S. Vicetto (RETIRED)






          2010-04-03 07:48:39 UTC
        

Please test with compiz-plugins-unsupported-0.8.4-r1 as it's working here.




Comment 17


Jorge Manuel B. S. Vicetto (RETIRED)






          2010-04-16 22:52:12 UTC
        

Reopen if it fails for you.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

