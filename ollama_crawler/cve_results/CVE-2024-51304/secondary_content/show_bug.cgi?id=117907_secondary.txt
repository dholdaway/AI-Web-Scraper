Title: 117907 – sys-libs/glibc-2.3.5-r2 won't emerge
URL: https://bugs.gentoo.org/show_bug.cgi?id=117907

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 117907
sys-libs/glibc-2.3.5-r2 won't emerge
Last modified: 2006-04-21 23:28:20 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 117907 
      - sys-libs/glibc-2.3.5-r2 won't emerge


Summary:
sys-libs/glibc-2.3.5-r2 won't emerge
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Library

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       critical
      


Assignee:

Gentoo Toolchain Maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-01-05 09:34 UTC by Michele Barboni





      Modified:
    
2006-04-21 23:28 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Michele Barboni





          2006-01-05 09:34:45 UTC
        

I'm trying to emerge glibc-2.3.5-r2 (from emerge --update world) and I get this error:

../sysdeps/unix/sysv/linux/i386/setgroups.c: In function `setgroups':
../sysdeps/unix/sysv/linux/i386/setgroups.c:47: error: `__NR_setgroups32' undeclared (first use in this function)
../sysdeps/unix/sysv/linux/i386/setgroups.c:47: error: (Each undeclared identifier is reported only once
../sysdeps/unix/sysv/linux/i386/setgroups.c:47: error: for each function it appears in.)
make[2]: *** [/var/tmp/portage/glibc-2.3.5-r2/work/build-default-i686-pc-linux-gnu-linuxthreads/grp/setgroups.o] Error 1
make[2]: Leaving directory `/var/tmp/portage/glibc-2.3.5-r2/work/glibc-2.3.5/grp'
make[1]: *** [grp/subdir_lib] Error 2
make[1]: Leaving directory `/var/tmp/portage/glibc-2.3.5-r2/work/glibc-2.3.5'
make: *** [all] Error 2

I'm running this on a "virtualized machine" (virtuozzo), here's an uname -a:
Linux anhost 2.4.20-021stab028.731.777-smp #1 SMP Thu Dec 22 18:14:30 MSK 2005 x86_64 AMD Opteron(tm) Processor 275 AuthenticAMD GNU/Linux

my /etc/make.conf is something like this:

CFLAGS="-O2 -march=i686 -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CXXFLAGS="${CFLAGS}"
USE="-X -gnome -gtk -qt -kde -tcpd nptlonly apache2 bzip2 crypt gnustep gnutls ssl mysql ncurses perl python xml xml2"




Comment 1


Michele Barboni





          2006-01-05 09:35:47 UTC
        

Portage 2.0.53 (default-linux/x86/no-nptl/2.4, gcc-3.3.6, glibc-2.3.4.20040808-r1, 2.4.20-021stab028.731.777-smp x86_64)
=================================================================
System uname: 2.4.20-021stab028.731.777-smp x86_64 AMD Opteron(tm) Processor 275
Gentoo Base System version 1.4.16
dev-lang/python:     2.3.4-r1
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.4
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.10-r4
virtual/os-headers:  2.4.22-r1
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=i686 -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=i686 -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://gentoo.ngi.it"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://gentoo-rsync.ngi.it/gentoo-portage"
USE="x86 alsa apache2 apm arts avi berkdb bitmap-fonts bzip2 crypt cups eds emboss encode expat foomaticdb fortran gdbm gif gnustep gnutls gpm gstreamer gtk2 imlib ipv6 jpeg libg++ libwww mad mikmod motif mp3 mpeg mysql ncurses nls ogg oggvorbis opengl oss pam pdflib perl png python quicktime readline sdl spell ssl truetype truetype-fonts type1-fonts udev vorbis xml xml2 xmms xv zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS, MAKEOPTS, PORTDIR_OVERLAY




Comment 2


Michele Barboni





          2006-01-05 09:56:30 UTC
        

removed the bad USE flag ntplonly, but the error persist.




Comment 3


Jeffery Northcott





          2006-04-03 20:36:44 UTC
        

I did a emerge --update world 

then emerge glibc again and it worked.




Comment 4


SpanKY






          2006-04-21 23:28:20 UTC
        

if it's still failing, update your linux-headers to latest stable, and then run:
emerge glibc >& log

and then post the log as an attachment









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

