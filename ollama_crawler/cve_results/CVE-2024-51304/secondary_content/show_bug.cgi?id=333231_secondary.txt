Title: 333231 – chromium needs alsa-plugins
URL: https://bugs.gentoo.org/show_bug.cgi?id=333231

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 333231
chromium needs alsa-plugins
Last modified: 2010-08-21 02:57:31 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 333231 
      - chromium needs alsa-plugins


Summary:
chromium needs alsa-plugins
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       major
      


Assignee:

Chromium Project








URL:







Whiteboard:
ht-wanted  
  


Keywords:








Depends on:







Blocks:









 





      Reported:
    
2010-08-17 20:40 UTC by Marcel Jaeschke





      Modified:
    
2010-08-21 02:57 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



floppym









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Chromium also-plugins Patch

              (chromium-alsa-plugins.diff,36 bytes,
                patch)

            
2010-08-17 20:41 UTC,

            Marcel Jaeschke




Details
            | Diff





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Marcel Jaeschke





          2010-08-17 20:40:31 UTC
        

I visit http://www.html5video.org today to test the HTML5 video tag. But there was no sound. Chromium print several time the following output:

ALSA lib pcm.c:2171:(snd_pcm_open_conf) Cannot open shared library /usr/lib64/alsa-lib/libasound_module_pcm_pulse.so
[19087:19331:14334566122:ERROR:media/audio/linux/alsa_output.cc(740)] Cannot open audio device (default): No such file or directory

In fact '/usr/lib64/alsa-lib/libasound_module_pcm_pulse.so' doesn't exist on my system. So I emerge alsa-plugins and now i have sound in HTML5 videos. JUHU

I think chromium should have alsa-plugins as a dependency.

Reproducible: Always

Steps to Reproduce:
1. Visit http://www.html5video.org with chromium
2. Play the video

Actual Results:  
NO sound in HTML5 video/audio

Expected Results:  
Sound in HTML5 video/audio

www-client/chromium-6.0.490.1  USE="cups gnome sse2"




Comment 1


Marcel Jaeschke





          2010-08-17 20:41:50 UTC
        

Created attachment 243387 [details, diff]
Chromium also-plugins Patch




Comment 2


Paweł Hajdan, Jr. (RETIRED)






          2010-08-17 21:18:12 UTC
        

Is www-client/chromium-5.0.375.125 affected? How about www-client/chromium-6.0.472.36 and www-client/chromium-bin-5.0.375.125?




Comment 3


Mike Gilbert






          2010-08-19 04:24:56 UTC
        

Just a guess: Do you have alsa configured to use "pulse" as the default sound device?




Comment 4


Marcel Jaeschke





          2010-08-19 09:22:08 UTC
        

(In reply to comment #2)

Sorry for the late response.
chromium-bin-5.0.375.12 only show the snap page when I enter the video page! Don't know why.
chromium-5.0.375.125 and chromium-6.0.472.36 are affected as well.

(In reply to comment #3)
Yes, I do so. Is this a bad idea or outdated?

cat /etc/asound.conf
pcm.pulse {
    type pulse
}
ctl.pulse {
    type pulse
}
pcm.!default {
    type pulse
}
ctl.!default {
    type pulse
}




Comment 5


Mike Gilbert






          2010-08-19 22:31:48 UTC
        

> (In reply to comment #3)
> Yes, I do so. Is this a bad idea or outdated?

I don't think it is a /bad/ idea, but it does mean that you need to have alsa-plugins installed. Basically, your also config depends on alsa-plugins -- chromium has nothing to do with it.

This would explain why Pawel cannot reproduce the error.




Comment 6


Marcel Jaeschke





          2010-08-20 02:38:18 UTC
        

(In reply to comment #5)
Hmm, I see.
But chromium is the first application which really needs alsa-plugins. (just for me right now)

Listen like my "/etc/asound.conf" is not really necessary. If not, it's a missing dependency for pulseaudio!?
I have take a closer look on this, but this has to wait until monday.




Comment 7


Mike Gilbert






          2010-08-20 16:15:29 UTC
        

The first sentence in this wiki article is what I'm working from. I'm not a pulseaudio user myself, so I can't comment from personal experience.

http://en.gentoo-wiki.com/wiki/PulseAudio




Comment 8


Paweł Hajdan, Jr. (RETIRED)






          2010-08-21 02:57:31 UTC
        

I think that it's rather your configuration than chromium that requires alsa-plugins.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

