Title: 888765 – media-gfx/openscad-9999: error: no matching function for call to MessageClass<>::MessageClass(const std::__cxx11::basic_string<char>&)
URL: https://bugs.gentoo.org/show_bug.cgi?id=888765

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 888765
media-gfx/openscad-9999: error: no matching function for call to MessageClass<>::MessageClass(const std::__cxx11::basic_string<char>&)
Last modified: 2023-01-03 04:39:53 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 888765 
      - media-gfx/openscad-9999: error: no matching function for call to MessageClass<>::MessageClass(const std::__cxx11::basic_string<char>&)


Summary:
media-gfx/openscad-9999: error: no matching function for call to MessageClass...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Bernd








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2022-12-28 17:11 UTC by Michael Moon





      Modified:
    
2023-01-03 04:39 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



jstein
proxy-maint









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



build.log

              (deleted)

            
2022-12-28 17:11 UTC,

            Michael Moon




Details





emerge --info

              (emerge-info.txt,11.14 KB,
                text/plain)

            
2022-12-28 17:12 UTC,

            Michael Moon




Details





build.log

              (openscad-build.log,316.24 KB,
                text/plain)

            
2022-12-29 09:50 UTC,

            Michael Moon




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Michael Moon





          2022-12-28 17:11:40 UTC
        

Not sure if this is an upstream issue, a Gentoo patch, or a weird interaction with my system eg dependency version mismatch or gcc-11 thing, so I'm posting here first - happy to take it upstream if that seems appropriate, but I don't see any issues there with these keywords.

This has been happening for at least the past week or two, possibly longer since I haven't been grabbing @smart-live-rebuild regularly.

build.log relevant section :-

FAILED: CMakeFiles/OpenSCAD.dir/src/io/export_3mf.cc.o
/usr/bin/x86_64-pc-linux-gnu-g++ -DBOOST_ATOMIC_DYN_LINK -DBOOST_ATOMIC_NO_LIB -DBOOST_FILESYSTEM_DYN_LINK -DBOOST_FILESYSTEM_NO_LIB -DBOOST_PROGRAM_OPTIONS_DYN_LINK -DBOOST_PROGRAM_OPTIONS_NO_LIB -DBOOST_REGEX_DYN_LINK -DBOOST_REGEX_NO_LIB -DBOOST_SYS
TEM_DYN_LINK -DBOOST_SYSTEM_NO_LIB -DCGAL_DEBUG -DCGAL_USE_CORE=1 -DCGAL_USE_GMPXX -DCGAL_USE_GMPXX=1 -DEIGEN_DONT_ALIGN -DENABLE_CAIRO -DENABLE_CGAL -DENABLE_DBUS -DENABLE_HIDAPI -DENABLE_JOYSTICK -DENABLE_LIB3MF -DENABLE_LIBZIP -DENABLE_OPENCSG -DLIB
3MF_API_2 -DMI_LINK_SHARED -DOPENSCAD_DAY=28 -DOPENSCAD_MONTH=12 -DOPENSCAD_OS=\"Unix\" -DOPENSCAD_SHORTVERSION=2022.12.28 -DOPENSCAD_VERSION=2022.12.28 -DOPENSCAD_YEAR=2022 -DQT_CONCURRENT_LIB -DQT_CORE_LIB -DQT_DBUS_LIB -DQT_GUI_LIB -DQT_MULTIMEDIA_L
IB -DQT_NETWORK_LIB -DQT_NO_DEBUG -DQT_OPENGL_LIB -DQT_SVG_LIB -DQT_WIDGETS_LIB -DSTACKSIZE=8388608 -DUNICODE -DUSE_MIMALLOC -DUSE_QOPENGLWIDGET -D_REENTRANT -D_UNICODE -D__GCC -I/var/tmp/portage/media-gfx/openscad-9999/work/openscad-9999_build -I/var/
tmp/portage/media-gfx/openscad-9999/work/openscad-9999 -I/var/tmp/portage/media-gfx/openscad-9999/work/openscad-9999_build/OpenSCAD_autogen/include -I/var/tmp/portage/media-gfx/openscad-9999/work/openscad-9999/src -I/var/tmp/portage/media-gfx/openscad-
9999/work/openscad-9999/src/core -I/var/tmp/portage/media-gfx/openscad-9999/work/openscad-9999/src/core/customizer -I/var/tmp/portage/media-gfx/openscad-9999/work/openscad-9999/src/ext/json -I/var/tmp/portage/media-gfx/openscad-9999/work/openscad-9999/
src/ext/lexertl/include -I/var/tmp/portage/media-gfx/openscad-9999/work/openscad-9999/src/ext/libtess2/Include -I/var/tmp/portage/media-gfx/openscad-9999/work/openscad-9999/src/geometry -I/var/tmp/portage/media-gfx/openscad-9999/work/openscad-9999/src/
geometry/cgal -I/var/tmp/portage/media-gfx/openscad-9999/work/openscad-9999/src/glview -I/var/tmp/portage/media-gfx/openscad-9999/work/openscad-9999/src/glview/preview -I/var/tmp/portage/media-gfx/openscad-9999/work/openscad-9999/src/glview/cgal -I/var
/tmp/portage/media-gfx/openscad-9999/work/openscad-9999/src/gui -I/var/tmp/portage/media-gfx/openscad-9999/work/openscad-9999/src/io -I/var/tmp/portage/media-gfx/openscad-9999/work/openscad-9999/src/platform -I/var/tmp/portage/media-gfx/openscad-9999/w
ork/openscad-9999/src/utils -isystem /usr/include/eigen3 -isystem /usr/include/harfbuzz -isystem /usr/include/glib-2.0 -isystem /usr/lib64/glib-2.0/include -isystem /usr/include/freetype2 -isystem /usr/include/libxml2 -isystem /usr/include/hidapi -isys
tem /usr/include/cairo -isystem /usr/include/lzo -isystem /usr/include/libpng16 -isystem /usr/include/pixman-1 -isystem /usr/include/lib3mf -isystem /usr/include/qt5 -isystem /usr/include/qt5/QtCore -isystem /usr/lib64/qt5/mkspecs/linux-g++ -isystem /u
sr/include/qt5/QtWidgets -isystem /usr/include/qt5/QtGui -isystem /usr/include/qt5/QtMultimedia -isystem /usr/include/qt5/QtNetwork -isystem /usr/include/qt5/QtOpenGL -isystem /usr/include/qt5/QtConcurrent -isystem /usr/include/qt5/QtSvg -isystem /usr/
include/qt5/QtDBus  -O2 -pipe -march=native -frounding-math -fPIE -frounding-math -fPIC -std=c++17 -MD -MT CMakeFiles/OpenSCAD.dir/src/io/export_3mf.cc.o -MF CMakeFiles/OpenSCAD.dir/src/io/export_3mf.cc.o.d -o CMakeFiles/OpenSCAD.dir/src/io/export_3mf.
cc.o -c /var/tmp/portage/media-gfx/openscad-9999/work/openscad-9999/src/io/export_3mf.cc
In file included from /var/tmp/portage/media-gfx/openscad-9999/work/openscad-9999/src/core/NodeCache.h:7,
from /var/tmp/portage/media-gfx/openscad-9999/work/openscad-9999/src/core/Tree.h:3,
from /var/tmp/portage/media-gfx/openscad-9999/work/openscad-9999/src/io/export.h:9,
from /var/tmp/portage/media-gfx/openscad-9999/work/openscad-9999/src/io/export_3mf.cc:27:
/var/tmp/portage/media-gfx/openscad-9999/work/openscad-9999/src/utils/printutils.h: In instantiation of ‘void LOG(const message_group&, const Location&, const string&, F&&, Args&& ...) [with F = const std::__cxx11::basic_string<char>&; Args = {}; std::
string = std::__cxx11::basic_string<char>]’:
/var/tmp/portage/media-gfx/openscad-9999/work/openscad-9999/src/io/export_3mf.cc:222:6:   required from here
/var/tmp/portage/media-gfx/openscad-9999/work/openscad-9999/src/utils/printutils.h:220:20: error: no matching function for call to ‘MessageClass<>::MessageClass(const std::__cxx11::basic_string<char>&)’
220 |   const auto msg = MessageClass<Args...>(std::forward<F>(f), std::forward<Args>(args)...);
|                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/var/tmp/portage/media-gfx/openscad-9999/work/openscad-9999/src/utils/printutils.h:205:3: note: candidate: ‘template<class ... Args> MessageClass<Ts>::MessageClass(std::string&&, Args&& ...) [with Args = {Args ...}; Ts = {}]’
205 |   MessageClass(std::string&& fmt, Args&&... args) : fmt(std::forward<std::string>(fmt)), args(std::forward<Args>(args)...)
|   ^~~~~~~~~~~~
/var/tmp/portage/media-gfx/openscad-9999/work/openscad-9999/src/utils/printutils.h:205:3: note:   template argument deduction/substitution failed:
/var/tmp/portage/media-gfx/openscad-9999/work/openscad-9999/src/utils/printutils.h:220:20: note:   cannot convert ‘std::forward<const std::__cxx11::basic_string<char>&>((* & f))’ (type ‘const std::__cxx11::basic_string<char>’) to type ‘std::string&&’ {aka ‘std::__cxx11::basic_string<char>&&’}
220 |   const auto msg = MessageClass<Args...>(std::forward<F>(f), std::forward<Args>(args)...);
|                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/var/tmp/portage/media-gfx/openscad-9999/work/openscad-9999/src/utils/printutils.h:179:7: note: candidate: ‘MessageClass<>::MessageClass(const MessageClass<>&)’
179 | class MessageClass
|       ^~~~~~~~~~~~
/var/tmp/portage/media-gfx/openscad-9999/work/openscad-9999/src/utils/printutils.h:179:7: note:   no known conversion for argument 1 from ‘const std::__cxx11::basic_string<char>’ to ‘const MessageClass<>&’
/var/tmp/portage/media-gfx/openscad-9999/work/openscad-9999/src/utils/printutils.h:179:7: note: candidate: ‘MessageClass<>::MessageClass(MessageClass<>&&)’
/var/tmp/portage/media-gfx/openscad-9999/work/openscad-9999/src/utils/printutils.h:179:7: note:   no known conversion for argument 1 from ‘const std::__cxx11::basic_string<char>’ to ‘MessageClass<>&&’
/var/tmp/portage/media-gfx/openscad-9999/work/openscad-9999/src/utils/printutils.h:227:11: error: could not convert ‘{formatted, loc, docPath, msg_grp}’ from ‘<brace-enclosed initializer list>’ to ‘Message’
227 |   Message msgObj = {formatted, loc, docPath, msg_grp};
|           ^~~~~~
|           |
|           <brace-enclosed initializer list>

-------------------

# emerge -pv openscad

These are the packages that would be merged, in order:

[ebuild     U *] media-gfx/openscad-9999::gentoo [2021.01-r4::gentoo] USE="cairo%* dbus%* -emacs -gamepad% -headless% -spacenav%" 0 KiB

Total: 1 package (1 upgrade), Size of downloads: 0 KiB




Comment 1


Michael Moon





          2022-12-28 17:12:28 UTC
        

Created attachment 845477 [details]
emerge --info

emerge --info made comment too long




Comment 2


Bernd





          2022-12-29 09:00:17 UTC
        

Thanks for the report. Are you able to provide a complete build log?
The issue might be related to a big change for clang-tidy which has happened during the last several weeks.




Comment 3


Michael Moon





          2022-12-29 09:50:14 UTC
        

Created attachment 845571 [details]
build.log

Hmm I did attach a build log with my initial report, but it's been deleted for some reason?

Anyway, here's another




Comment 4


Michael Moon





          2023-01-03 04:16:33 UTC
        

This issue seems to have fixed itself after my latest sync, any ideas what changed?




Comment 5


Sam James









          2023-01-03 04:39:53 UTC
        

(In reply to Michael Moon from comment #4)
> This issue seems to have fixed itself after my latest sync, any ideas what
> changed?

https://github.com/openscad/openscad/commit/99c0fecae4ae592f5b9fdcc2bbaef7c71cc84c9a talks about fixing a "conflict" between clang-tidy changes, so probably that.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

