Title: 132860 – Kernel permissions set improperly
URL: https://bugs.gentoo.org/show_bug.cgi?id=132860

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 132860
Kernel permissions set improperly
Last modified: 2006-05-10 14:03:32 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 132860 
      - Kernel permissions set improperly


Summary:
Kernel permissions set improperly
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       minor
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-05-09 22:31 UTC by Kevin Lyles





      Modified:
    
2006-05-10 14:03 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Kevin Lyles





          2006-05-09 22:31:07 UTC
        

When the default permissions line in /etc/profile is set to 077 instead of the default (022), the kernel sources (specifically gentoo-sources) are installed with permissions that do not allow kernel modules such as svgalib, kqemu, and ati-drivers to properly build their kernel modules.  The error messages vary from module to module, but they all say "permission denied" about something.  making a temporary copy of my linux source tree, then changing the permissions to 777 and building from that directory works just fine, at least for the packages mentioned above.

I believe that this change is new to 2.6.16 series kernels, but It may have happened in 2.6.15 as well.  If you need the exact output of any of the builds, I'll be happy to provide it.




Comment 1


Jakub Moc (RETIRED)






          2006-05-10 02:04:50 UTC
        

When messing with default umask, you are on your own...





Comment 2


Kevin Lyles





          2006-05-10 14:03:32 UTC
        

I had hoped that since the 077 was mentioned in a comment in /etc/profile as more secure, that I would receive a little more help with this.

I know how to fix the problem for myself, and I'm fairly certain that most ebuilds specify the permissions for the files they install (although I have not been able to verify this as it is exams week).  Wouldn't it be better to ensure that the kernel sources are installed with permissions that allow these modules to be built?









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

