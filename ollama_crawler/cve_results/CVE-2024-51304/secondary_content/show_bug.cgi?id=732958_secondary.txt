Title: 732958 – sys-devel/gcc-6.5.0-r3 - make[2]: *** [Makefile:19716: compare] Error 1`
URL: https://bugs.gentoo.org/show_bug.cgi?id=732958

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 732958
sys-devel/gcc-6.5.0-r3 - make[2]: *** [Makefile:19716: compare] Error 1`
Last modified: 2020-07-17 11:21:03 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 732958 
      - sys-devel/gcc-6.5.0-r3 - make[2]: *** [Makefile:19716: compare] Error 1`


Summary:
sys-devel/gcc-6.5.0-r3 - make[2]: *** [Makefile:19716: compare] Error 1`
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

HPPA
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Toolchain Maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2020-07-16 21:46 UTC by Jeroen Roovers (RETIRED)





      Modified:
    
2020-07-17 11:21 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



hppa
slyfox









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




sys-devel:gcc-6.5.0-r3:20200716-103433.log.xz

              (sys-devel:gcc-6.5.0-r3:20200716-103433.log.xz,113.33 KB,
                application/x-xz)

            
2020-07-16 21:46 UTC,

            Jeroen Roovers (RETIRED)




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Jeroen Roovers (RETIRED)






          2020-07-16 21:46:06 UTC
        

Created attachment 649586 [details]
sys-devel:gcc-6.5.0-r3:20200716-103433.log.xz

make[3]: Leaving directory '/var/tmp/portage/sys-devel/gcc-6.5.0-r3/work/build'
Comparing stages 2 and 3
warning: gcc/cc1obj-checksum.o differs
warning: gcc/cc1-checksum.o differs
warning: gcc/cc1objplus-checksum.o differs
warning: gcc/cc1plus-checksum.o differs
Bootstrap comparison failure!
[...]
gcc/fortran/openmp.o differs
gcc/fortran/trans-openmp.o differs
gcc/fortran/io.o differs
gcc/alloc-pool.o differs
make[2]: *** [Makefile:19716: compare] Error 1
make[2]: Leaving directory '/var/tmp/portage/sys-devel/gcc-6.5.0-r3/work/build'
make[1]: *** [Makefile:19696: stage3-bubble] Error 2
make[1]: Leaving directory '/var/tmp/portage/sys-devel/gcc-6.5.0-r3/work/build'
make: *** [Makefile:19770: bootstrap-lean] Error 2
 * ERROR: sys-devel/gcc-6.5.0-r3::gentoo failed (compile phase):
 *   emake failed

[ebuild     U  ] sys-devel/gcc-6.5.0-r3:6.5.0::gentoo [6.5.0-r2:6.5.0::gentoo] USE="(cxx) fortran jit nls nptl objc objc++ objc-gc openmp pch (pie) sanitize (-ada) (-altivec) (-awt) (-cilk) -debug -doc (-fixed-point) (-gcj) (-go) -graphite (-hardened) (-libssp) (-mpx) (-multilib) -pgo (-ssp) -test -vanilla (-vtv)" 0
KiB

Thu 16 Jul 23:44:16 CEST 2020
emerge --info =sys-devel/gcc-6.5.0-r3
Portage 2.3.103 (python 3.6.11-final-0, default/linux/hppa/17.0, gcc-10.1.0, glibc-2.31-r5, 5.8.0-rc5-JeR-00048-gf8456690ba8e parisc64)
=================================================================
                         System Settings
=================================================================
System uname: Linux-5.8.0-rc5-JeR-00048-gf8456690ba8e-parisc64-PA8800_-Mako-with-gentoo-2.7
KiB Mem:     8213044 total,   1035856 free
KiB Swap:    2101676 total,   2101156 free
Timestamp of repository gentoo: Thu, 16 Jul 2020 14:30:01 +0000
Head commit of repository gentoo: 8b569aacf9b6aa365f8cbcf3ae502d4abcb54ddf
sh bash 5.0_p18
ld GNU ld (Gentoo 2.34 p4) 2.34.0
distcc[27831] (dcc_mkdir) ERROR: mkdir '/dev/shm/distcc/root/state' failed: No such file or directory [disabled]
ccache version 3.7.10 [disabled]
app-shells/bash:          5.0_p18::gentoo
dev-lang/perl:            5.30.3-r1::gentoo
dev-lang/python:          2.7.18::gentoo, 3.5.9::gentoo, 3.6.11-r1::gentoo, 3.7.8-r1::gentoo, 3.8.4::gentoo, 3.9.0_beta4::gentoo
dev-util/ccache:          3.7.10::gentoo
dev-util/cmake:           3.17.3::gentoo
sys-apps/baselayout:      2.7::gentoo
sys-apps/openrc:          0.42.1::gentoo
sys-apps/sandbox:         2.20::gentoo
sys-devel/autoconf:       2.13-r1::gentoo, 2.69-r5::gentoo
sys-devel/automake:       1.9.6-r3::gentoo, 1.11.6-r3::gentoo, 1.12.6::gentoo, 1.13.4-r2::gentoo, 1.14.1::gentoo, 1.15.1-r2::gentoo, 1.16.2::gentoo
sys-devel/binutils:       2.32-r1::gentoo, 2.33.1-r1::gentoo, 2.34-r1::gentoo
sys-devel/gcc:            6.5.0-r2::gentoo, 7.3.0-r6::gentoo, 8.2.0-r6::gentoo, 8.3.0-r3::gentoo, 9.2.0-r4::gentoo, 9.3.0::gentoo, 10.1.0-r2::gentoo
sys-devel/gcc-config:     2.3.1::gentoo
sys-devel/libtool:        2.4.6-r6::gentoo
sys-devel/make:           4.3::gentoo
sys-kernel/linux-headers: 5.7::gentoo (virtual/os-headers)
sys-libs/glibc:           2.31-r5::gentoo
Repositories:

gentoo
    location: /aches/gentoo/portage
    sync-type: rsync
    sync-uri: rsync://rsync.de.gentoo.org/gentoo-portage
    priority: -1000
    sync-rsync-verify-max-age: 24
    sync-rsync-verify-metamanifest: yes
    sync-rsync-extra-opts: 
    sync-rsync-verify-jobs: 1

JeR
    location: /aches/gentoo/local
    masters: gentoo
    priority: -100

ACCEPT_KEYWORDS="hppa ~hppa"
ACCEPT_LICENSE="*"
CBUILD="hppa2.0-unknown-linux-gnu"
CFLAGS="-mschedule=8000 -march=2.0 -ggdb -Wall -O2 -pipe -fno-common -Wno-comment"
CHOST="hppa2.0-unknown-linux-gnu"
CONFIG_PROTECT="/etc /etc/stunnel/stunnel.conf /usr/lib/distcc/bin /usr/share/easy-rsa /usr/share/gnupg/qualified.txt /var/bind /var/www/localhost/htdocs/wordpress/wp-config.php"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/dconf /etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php7.1/ext-active/ /etc/php/apache2-php7.2/ext-active/ /etc/php/apache2-php7.3/ext-active/ /etc/php/apache2-php7.4/ext-active/ /etc/php/cgi-php7.1/ext-active/ /etc/php/cgi-php7.2/ext-active/ /etc/php/cgi-php7.3/ext-active/ /etc/php/cgi-php7.4/ext-active/ /etc/php/cli-php7.1/ext-active/ /etc/php/cli-php7.2/ext-active/ /etc/php/cli-php7.3/ext-active/ /etc/php/cli-php7.4/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo"
CXXFLAGS="-mschedule=8000 -march=2.0 -ggdb -Wall -O2 -pipe"
DISTDIR="/aches/gentoo/distfiles"
EMERGE_DEFAULT_OPTS="--quiet-build=n --autounmask=n --keep-going --ignore-built-slot-operator-deps=y"
ENV_UNSET="DBUS_SESSION_BUS_ADDRESS DISPLAY GOBIN GOPATH PERL5LIB PERL5OPT PERLPREFIX PERL_CORE PERL_MB_OPT PERL_MM_OPT XAUTHORITY XDG_CACHE_HOME XDG_CONFIG_HOME XDG_DATA_HOME XDG_RUNTIME_DIR"
FCFLAGS=""
FEATURES="assume-digests binpkg-docompress binpkg-dostrip binpkg-logs binpkg-multi-instance buildpkg compressdebug config-protect-if-modified distlocks ebuild-locks fixlafiles ipc-sandbox merge-sync metadata-transfer multilib-strict network-sandbox news notitles parallel-fetch preserve-libs protect-owned qa-unresolved-soname-deps sandbox sfperms splitdebug strict test-fail-continue unknown-features-warn unmerge-logs unmerge-orphans userfetch userpriv usersandbox usersync xattr"
FFLAGS="-mschedule=8000 -march=2.0 -ggdb -Wall -O2 -pipe"
GENTOO_MIRRORS=" 	https://ftp.snt.utwente.nl/pub/os/linux/gentoo 	https://mirror.leaseweb.com/gentoo/ 	https://mirror.netcologne.de/gentoo/ "
LANG="en_GB.utf8"
LC_ALL="en_GB.UTF-8"
LDFLAGS="-Wl,-O1 -Wl,--hash-style=gnu -Wl,--as-needed -Wl,--no-keep-memory"
LINGUAS=" 	de en es fa fr it ja lt nl sv tr zh "
MAKEOPTS="-j3"
PKGDIR="/aches/gentoo/packages/karsten"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --omit-dir-times --compress --force --whole-file --delete --stats --human-readable --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --exclude=/.git"
PORTAGE_TMPDIR="/var/tmp"
USE="256-color X acl alsa amr anacron apng argyllcms audit bash-completion beautifulsoup3 berkdb bfio big-endian bittorrent boost botan bzip2 cairo canberra caps cli coverage crossdev crypt cups custom-cflags cxx dane dbus declarative dirac directfb distinct-l dlz dot dri elogind emacs eselect-ldso exceptions exif expat fbcon ffmpeg filecaps firefox firmware foomaticdb fortran frontend-optional g-sorcery gbm gdbm geoip geoloc glep gles1 gles2 gost gpg gpm gsm gstreamer gtk gudev guile hddtemp hppa http2 hwdb iconv icu idn imlib inotify introspection ipv6 jadetex javascript jingle jit jpeg jpeg2k json kdrive kmod ladspa lasi launch-frontend lensfun libcaca libcanberra libevent libidn2 libopts libsoxr libusb libwww lm-sensors lm_sensors lua lzma lzo mad mng mod modplug mp3 mtp multislot multitarget munge nagios nas natspec ncurses netlink nfs nghttp3 nls nptl objc objc++ objc-gc offensive ofono-headset openexr opengl openmp openrc openvg opus oqgraph osmesa oss pam pcre pcre16 php pic pie pkcs11 png pnm policykit python qt qt3support qt4 raw readline realtime regression-test rtmp rubytests samba sbc schroedinger sctp seccomp smi snappy socks5 speex spell spidermonkey split-usr sqlite ssl svg tcl tcpd tga theora threads tiff tk tokyocabinet truetype unicode unwind v4l vala vim-syntax vorbis vpx wcwidth x264 x265 xattr xcb xft xhtml xkb xvfb xvid zlib zstd" ADA_TARGET="gnat_2018" ALSA_CARDS="ad1889 usb-audio" APACHE2_MODULES="authn_core authz_core socache_shmcb unixd actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cgi cgid dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CALLIGRA_FEATURES="karbon sheets words" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" CURL_SSL="openssl" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock greis isync itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf skytraq superstar2 timing tsip tripmate tnt ublox ubx" INPUT_DEVICES="evdev joystick keyboard mouse acecad aiptek calcomp citron digitaledge dmc dynapro elo2300 elographics fpit hyperpen jamstudio magellan microtouch mutouch palmax penmount spaceorb summa tek4957 tslib ur98 virtualbox libinput void" KERNEL="linux" L10N="de en es fa fr it ja lt nl sv tr zh" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LIBREOFFICE_EXTENSIONS="presenter-console presenter-minimizer" OFFICE_IMPLEMENTATION="libreoffice" PHP_TARGETS="php7-2" POSTGRES_TARGETS="postgres10 postgres11" PYTHON_SINGLE_TARGET="python3_7" PYTHON_TARGETS="python2_7 python3_6 python3_7" RUBY_TARGETS="ruby25 ruby26 ruby27" USERLAND="GNU" VIDEO_CARDS="stifb dummy" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account"
Unset:  CC, CPPFLAGS, CTARGET, CXX, INSTALL_MASK, PORTAGE_BINHOST, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Sergei Trofimovich (RETIRED)






          2020-07-16 22:00:12 UTC
        

Stage comparison failure is bad. That means stage1 and stage2 don't generate identical code with debugging options flipped.

If you still have compiled object files around can you upload them as well? For example the 'gcc/tree-if-conv.o' file. It should be present in a few copies across the build tree.




Comment 2


Jeroen Roovers (RETIRED)






          2020-07-16 22:16:07 UTC
        

(In reply to Sergei Trofimovich from comment #1)
> If you still have compiled object files around can you upload them as well?
> For example the 'gcc/tree-if-conv.o' file. It should be present in a few
> copies across the build tree.

I *just* started another run to see if something random happened the first time, so those files are now lost. I'll see if it happens again and upload those files if it does.




Comment 3


Jeroen Roovers (RETIRED)






          2020-07-17 11:21:03 UTC
        

OK, so the full story is that during the first sys-devel/gcc-6.5.0-r3 build, the kernel suffered a meltdown somewhere in the SCSI code. The second build attempt that is recorded here merely suffered an internal build discrepancy. The third build attempt finished swimmingly, so I guess the three different kernels I was running may have been affecting the outcome in each case.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

