Title: 126908 – dbus-0.61 fails to compile with qt-3.3.6
URL: https://bugs.gentoo.org/show_bug.cgi?id=126908

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 126908
dbus-0.61 fails to compile with qt-3.3.6
Last modified: 2006-03-20 15:07:27 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 126908 
      - dbus-0.61 fails to compile with qt-3.3.6


Summary:
dbus-0.61 fails to compile with qt-3.3.6
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Project Gentopia








URL:







Whiteboard:




Keywords:









Duplicates (1):
    

126909

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2006-03-20 01:28 UTC by Tassilo Horn





      Modified:
    
2006-03-20 15:07 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Tassilo Horn





          2006-03-20 01:28:14 UTC
        

Since I upgraded to qt-3.3.6 dbus often (maybe always) segfaulted when the boot process wants to start it. So I wanted to recompile it, but this fails with this output:

mkdir .libs
i686-pc-linux-gnu-gcc -march=pentium-m -mtune=pentium-m -O2 -pipe -fomit-frame-pointer -Wall -Wchar-subscripts -Wmissing-declarations -Wmissing-prototypes -Wnested-externs -Wpointer-arith -Wcast-align -Wfloat-equal -Wsign-compare -Wl,-O1 -o dbus-launch dbus-launch.o  /usr/lib/libSM.so /usr/lib/libICE.so /usr/lib/libX11.so /usr/lib/libXau.so /usr/lib/libXdmcp.so -ldl -lnsl
i686-pc-linux-gnu-gcc -march=pentium-m -mtune=pentium-m -O2 -pipe -fomit-frame-pointer -Wall -Wchar-subscripts -Wmissing-declarations -Wmissing-prototypes -Wnested-externs -Wpointer-arith -Wcast-align -Wfloat-equal -Wsign-compare -Wl,-O1 -o .libs/dbus-send dbus-print-message.o dbus-send.o  ../dbus/.libs/libdbus-1.so -lnsl
creating dbus-send
DBUS_TOP_BUILDDIR=.. ./run-with-tmp-session-bus.sh ./dbus-send --print-reply=literal --dest=org.freedesktop.DBus /org/freedesktop/DBus org.freedesktop.DBus.Introspectable.Introspect > dbus-bus-introspect.xml.tmp && mv dbus-bus-introspect.xml.tmp dbus-bus-introspect.xml
escaped service dir is: ..\/test\/data\/valid-service-files
Created configuration file ./run-with-tmp-session-bus.conf
Running ../tools/dbus-launch --sh-syntax --config-file=./run-with-tmp-session-bus.conf
EOF in dbus-launch reading address from bus daemon
./run-with-tmp-session-bus.sh: Failed to launch message bus for introspection generation to run
make[2]: *** [dbus-bus-introspect.xml] Fehler 1
make[2]: Leaving directory `/var/tmp/portage/dbus-0.61/work/dbus-0.61/tools'
make[1]: *** [all-recursive] Fehler 1
make[1]: Leaving directory `/var/tmp/portage/dbus-0.61/work/dbus-0.61'
make: *** [all] Fehler 2

!!! ERROR: sys-apps/dbus-0.61 failed.
Call stack:
  ebuild.sh, line 1565:   Called dyn_compile
  ebuild.sh, line 974:   Called src_compile

!!! make failed
!!! If you need support, post the topmost build error, and the call stack if relevant.

I use gcc-4.1.0, but with gcc-3.4.5 I get exactly the same error message. And I have qt-4.1.1 installed beside qt-3.3.6.

emerge --info:
Portage 2.1_pre6-r4 (default-linux/x86/2006.0, gcc-4.1.0, glibc-2.4-r1, 2.6.15-gentoo-r7 i686)
=================================================================
System uname: 2.6.15-gentoo-r7 i686 Genuine Intel(R) CPU           T2300  @ 1.66GHz
Gentoo Base System version 1.12.0_pre16
dev-lang/python:     2.3.5-r2, 2.4.2-r1
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1-r2
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r3
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=pentium-m -mtune=pentium-m -O2 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/kde/3/share/config /usr/share/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c /etc/env.d"
CXXFLAGS="-march=pentium-m -mtune=pentium-m -O2 -pipe -fomit-frame-pointer -fvisibility-inlines-hidden"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks fixpackages metadata-transfer sandbox sfperms strict userpriv usersandbox"
GENTOO_MIRRORS="ftp://sunsite.informatik.rwth-aachen.de/pub/Linux/gentoo ftp://linux.rz.ruhr-uni-bochum.de/gentoo-mirror/ http://ftp.uni-erlangen.de/pub/mirrors/gentoo ftp://ftp.join.uni-muenster.de/pub/linux/distributions/gentoo ftp://ftp.wh2.tu-dresden.de/pub/mirrors/gentoo"
LANG="C"
LC_ALL="C"
LDFLAGS="-Wl,-O1"
LINGUAS="en de"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.de.gentoo.org/gentoo-portage"
USE="x86 X a52 aac accessibility acpi alsa aotuv asf async audiofile avi berkdb boundschecking bzip2 c++ cairo cap caps cdparanoia clamav cli crypt css ctype cups curl dba dbus dga dhcp dio dlloader dri dvd dynamic eap-tls emacs esd expat exscalibar fam fastbuild fbcon ffmpeg fftw finger flac fontconfig foomaticdb force-cgi-redirect ftp gd gdbm gif glut gmp gnutls gpgme gpm graphviz gs gsl gtk gtk2 hal hpn iconv icq idn imagemagick imap imlib imlib2 input_devices_keyboard input_devices_mouse input_devices_synaptics ipv6 jabber jack java javascript jpeg jpeg2k kde kdeenablefinal ldap libedit libg++ libwww live lzo mad maildir memlimit mikmod mime mimencode mjpeg mmx mmxext mng motif mouse mozsvg mp3 mpeg musepack musicbrainz ncurses nls nntp nosrc nptl nptlonly nsplugin nvidia offensive ogg openexr opengl pam pcmcia pcre pdf pdflib pic png pnp posix postgres qt quicktime readline real ruby samba sasl sdl session simplexml slp smp smtp sndfile soap sockets sox speex spell spl sql sse sse2 ssl subversion svg sysfs tcpd tetex theora threads tidy tiff tokenizer truetype truetype-fonts type1-fonts udev unicode usb userlocales uudeview video_cards_nvidia vorbis win32codecs wmf x264 xcomposite xine xinetd xml xosd xpm xprint xscreensaver xsl xv xvid xvmc zeroconf zlib elibc_glibc kernel_linux linguas_en linguas_de userland_GNU"
Unset:  ASFLAGS, CTARGET, EMERGE_DEFAULT_OPTS




Comment 1


Jakub Moc (RETIRED)






          2006-03-20 01:41:45 UTC
        

*** Bug 126909 has been marked as a duplicate of this bug. ***




Comment 2


Tassilo Horn





          2006-03-20 02:21:06 UTC
        

Really strange, but after I recompiled kdelibs-3.5.1-r1 dbus compiled fine.




Comment 3


Doug Goldstein (RETIRED)






          2006-03-20 15:07:27 UTC
        

doesn't look like a qt error... but something is odd there. I can't duplicate it and apparently you no longer can. Closing the bug. Reopen it if it crops up again.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

