Title: 104472 – emerge sandbox fails with error: C compiler cannot create executables
URL: https://bugs.gentoo.org/show_bug.cgi?id=104472

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 104472
emerge sandbox fails with error: C compiler cannot create executables
Last modified: 2005-11-19 04:45:41 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 104472 
      - emerge sandbox fails with error: C compiler cannot create executables


Summary:
emerge sandbox fails with error: C compiler cannot create executables
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Core system

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       major
      


Assignee:

AMD64 Project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-09-01 05:48 UTC by Scott Hathcock





      Modified:
    
2005-11-19 04:45 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Scott Hathcock





          2005-09-01 05:48:11 UTC
        

emerge sandbox fails with error: C compiler cannot create executables. Adding
FEATURES=-sandbox emerge sandbox makes no difference.

Reproducible: Always
Steps to Reproduce:
1. emerge sandbox
2.
3.

Actual Results:  
This file contains any messages produced by compilers while
running configure, to aid debugging if configure makes a mistake.

It was created by sandbox configure 1.2.12, which was
generated by GNU Autoconf 2.59.  Invocation command line was

  $ ./configure --prefix=/usr --host=x86_64-pc-linux-gnu --mandir=/usr/share/man
--infodir=/usr/share/info --datadir=/usr/share --sysconfdir=/etc
--localstatedir=/var/lib --libdir=/usr/lib32

## --------- ##
## Platform. ##
## --------- ##

hostname = phaedrus
uname -m = x86_64
uname -r = 2.6.11-gentoo-r6
uname -s = Linux
uname -v = #1 Tue Apr 12 22:04:37 MDT 2005

/usr/bin/uname -p = AMD Athlon(tm) 64 Processor 3200+
/bin/uname -X     = unknown

/bin/arch              = x86_64
/usr/bin/arch -k       = unknown
/usr/convex/getsysinfo = unknown
hostinfo               = unknown
/bin/machine           = unknown
/usr/bin/oslevel       = unknown
/bin/universe          = unknown
PATH: /sbin
PATH: /usr/sbin
PATH: /usr/lib/portage/bin
PATH: /bin
PATH: /usr/bin
PATH: /opt/bin
PATH: /usr/x86_64-pc-linux-gnu/gcc-bin/3.4.4
PATH: /opt/blackdown-jdk-1.4.2.02/bin
PATH: /opt/blackdown-jdk-1.4.2.02/jre/bin
PATH: /usr/qt/3/bin
PATH: /usr/kde/3.3/sbin
PATH: /usr/kde/3.3/bin
PATH: /usr/kde/3.2/sbin
PATH: /usr/kde/3.2/bin


## ----------- ##
## Core tests. ##
## ----------- ##

configure:1531: checking for a BSD-compatible install
configure:1586: result: /bin/install -c
configure:1597: checking whether build environment is sane
configure:1640: result: yes
configure:1705: checking for gawk
configure:1721: found /bin/gawk
configure:1731: result: gawk
configure:1741: checking whether make sets $(MAKE)
configure:1761: result: yes
configure:1837: checking for x86_64-pc-linux-gnu-strip
configure:1853: found /usr/bin/x86_64-pc-linux-gnu-strip
configure:1863: result: x86_64-pc-linux-gnu-strip
configure:1940: checking for x86_64-pc-linux-gnu-gcc
configure:1956: found /usr/bin/x86_64-pc-linux-gnu-gcc
configure:1966: result: x86_64-pc-linux-gnu-gcc
configure:2248: checking for C compiler version
configure:2251: x86_64-pc-linux-gnu-gcc --version </dev/null >&5
x86_64-pc-linux-gnu-gcc (GCC) 3.4.4 (Gentoo 3.4.4-r1, ssp-3.4.4-1.0, pie-8.7.8)
Copyright (C) 2004 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

configure:2254: $? = 0
configure:2256: x86_64-pc-linux-gnu-gcc -v </dev/null >&5
Reading specs from /usr/lib/gcc/x86_64-pc-linux-gnu/3.4.4/specs
Configured with: /var/tmp/portage/gcc-3.4.4-r1/work/gcc-3.4.4/configure
--prefix=/usr --bindir=/usr/x86_64-pc-linux-gnu/gcc-bin/3.4.4
--includedir=/usr/lib/gcc/x86_64-pc-linux-gnu/3.4.4/include
--datadir=/usr/share/gcc-data/x86_64-pc-linux-gnu/3.4.4
--mandir=/usr/share/gcc-data/x86_64-pc-linux-gnu/3.4.4/man
--infodir=/usr/share/gcc-data/x86_64-pc-linux-gnu/3.4.4/info
--with-gxx-include-dir=/usr/lib/gcc/x86_64-pc-linux-gnu/3.4.4/include/g++-v3
--host=x86_64-pc-linux-gnu --disable-altivec --enable-nls
--without-included-gettext --with-system-zlib --disable-checking
--disable-werror --disable-libunwind-exceptions --enable-multilib
--disable-libgcj --enable-languages=c,c++,f77 --enable-shared
--enable-threads=posix --enable-__cxa_atexit --enable-clocale=gnu
Thread model: posix
gcc version 3.4.4 (Gentoo 3.4.4-r1, ssp-3.4.4-1.0, pie-8.7.8)
configure:2259: $? = 0
configure:2261: x86_64-pc-linux-gnu-gcc -V </dev/null >&5
x86_64-pc-linux-gnu-gcc: `-V' must come at the start of the command line
configure:2264: $? = 1
configure:2287: checking for C compiler default output file name
configure:2290: x86_64-pc-linux-gnu-gcc -march=k8 -O2 -pipe -DSB_HAVE_64BIT_ARCH
  conftest.c  >&5
/usr/lib/gcc/x86_64-pc-linux-gnu/3.4.4/../../../../x86_64-pc-linux-gnu/bin/ld:
cannot find /emul/linux/x86/lib/libc.so.6
collect2: ld returned 1 exit status
configure:2293: $? = 1
configure: failed program was:
| /* confdefs.h.  */
|
| #define PACKAGE_NAME "sandbox"
| #define PACKAGE_TARNAME "sandbox"
| #define PACKAGE_VERSION "1.2.12"
| #define PACKAGE_STRING "sandbox 1.2.12"
| #define PACKAGE_BUGREPORT "dev-portage@gentoo.org"
| #define PACKAGE "sandbox"
| #define VERSION "1.2.12"
| /* end confdefs.h.  */
|
| int
| main ()
| {
|
|   ;
|   return 0;
| }
configure:2332: error: C compiler cannot create executables
See `config.log' for more details.

## ---------------- ##
## Cache variables. ##
## ---------------- ##
ac_cv_env_CC_set=
ac_cv_env_CC_value=
ac_cv_env_CFLAGS_set=set
ac_cv_env_CFLAGS_value='-march=k8 -O2 -pipe -DSB_HAVE_64BIT_ARCH'
ac_cv_env_CPPFLAGS_set=
ac_cv_env_CPPFLAGS_value=
ac_cv_env_CPP_set=
ac_cv_env_CPP_value=
ac_cv_env_CXXCPP_set=
ac_cv_env_CXXCPP_value=
ac_cv_env_LDFLAGS_set=
ac_cv_env_LDFLAGS_value=
ac_cv_env_build_alias_set=
ac_cv_env_build_alias_value=
ac_cv_env_host_alias_set=set
ac_cv_env_host_alias_value=x86_64-pc-linux-gnu
ac_cv_env_target_alias_set=
ac_cv_env_target_alias_value=
ac_cv_path_install='/bin/install -c'
ac_cv_prog_AWK=gawk
ac_cv_prog_CC=x86_64-pc-linux-gnu-gcc
ac_cv_prog_STRIP=x86_64-pc-linux-gnu-strip
ac_cv_prog_make_make_set=yes

## ----------------- ##
## Output variables. ##
## ----------------- ##

ACLOCAL='${SHELL}
/var/tmp/portage/sandbox-1.2.12/work/sandbox-1.2.12-x86/missing --run aclocal-1.9'
ALLOCA=''
AMDEPBACKSLASH=''
AMDEP_FALSE=''
AMDEP_TRUE=''
AMTAR='${SHELL} /var/tmp/portage/sandbox-1.2.12/work/sandbox-1.2.12-x86/missing
--run tar'
AR=''
AUTOCONF='${SHELL}
/var/tmp/portage/sandbox-1.2.12/work/sandbox-1.2.12-x86/missing --run autoconf'
AUTOHEADER='${SHELL}
/var/tmp/portage/sandbox-1.2.12/work/sandbox-1.2.12-x86/missing --run
autoheader'AUTOMAKE='${SHELL}
/var/tmp/portage/sandbox-1.2.12/work/sandbox-1.2.12-x86/missing --run
automake-1.9'AWK='gawk'
CC='x86_64-pc-linux-gnu-gcc'
CCDEPMODE=''
CFLAGS='-march=k8 -O2 -pipe -DSB_HAVE_64BIT_ARCH'
CPP=''
CPPFLAGS=''
CXXCPP=''
CYGPATH_W='echo'
DEFS=''
DEPDIR=''
ECHO='echo'
ECHO_C=''
ECHO_N='-n'
ECHO_T=''
EGREP=''
EXEEXT=''
INSTALL_DATA='${INSTALL} -m 644'
INSTALL_PROGRAM='${INSTALL}'
INSTALL_SCRIPT='${INSTALL}'
INSTALL_STRIP_PROGRAM='${SHELL} $(install_sh) -c -s'
LDFLAGS=''
LIBC_PATH=''
LIBOBJS=''
LIBS=''
LIBTOOL=''
LN_S=''
LTLIBOBJS=''
MAKEINFO='${SHELL}
/var/tmp/portage/sandbox-1.2.12/work/sandbox-1.2.12-x86/missing --run makeinfo'
OBJEXT=''
PACKAGE='sandbox'
PACKAGE_BUGREPORT='dev-portage@gentoo.org'
PACKAGE_NAME='sandbox'
PACKAGE_STRING='sandbox 1.2.12'
PACKAGE_TARNAME='sandbox'
PACKAGE_VERSION='1.2.12'
PATH_SEPARATOR=':'
RANLIB=''
SET_MAKE=''
SHELL='/bin/sh'
STRIP='x86_64-pc-linux-gnu-strip'
VERSION='1.2.12'
ac_ct_AR=''
ac_ct_CC=''
ac_ct_RANLIB=''
ac_ct_STRIP=''
am__fastdepCC_FALSE=''
am__fastdepCC_TRUE=''
am__include=''
am__leading_dot='.'
am__quote=''
am__tar='${AMTAR} chof - "$$tardir"'
am__untar='${AMTAR} xf -'
bindir='${exec_prefix}/bin'
build=''
build_alias=''
build_cpu=''
build_os=''
build_vendor=''
datadir='/usr/share'
exec_prefix='NONE'
host='x86_64-pc-linux-gnu'
host_alias='x86_64-pc-linux-gnu'
host_cpu=''
host_os=''
host_vendor=''
includedir='${prefix}/include'
infodir='/usr/share/info'
install_sh='/var/tmp/portage/sandbox-1.2.12/work/sandbox-1.2.12-x86/install-sh'
libdir='/usr/lib32'
libexecdir='${exec_prefix}/libexec'
localstatedir='/var/lib'
mandir='/usr/share/man'
mkdir_p='mkdir -p --'
oldincludedir='/usr/include'
prefix='/usr'
program_transform_name='s,x,x,'
sbindir='${exec_prefix}/sbin'
sharedstatedir='${prefix}/com'
sysconfdir='/etc'
target_alias=''host_vendor=''
includedir='${prefix}/include'
infodir='/usr/share/info'
install_sh='/var/tmp/portage/sandbox-1.2.12/work/sandbox-1.2.12-x86/install-sh'
libdir='/usr/lib32'
libexecdir='${exec_prefix}/libexec'
localstatedir='/var/lib'
mandir='/usr/share/man'
mkdir_p='mkdir -p --'
oldincludedir='/usr/include'
prefix='/usr'
program_transform_name='s,x,x,'
sbindir='${exec_prefix}/sbin'
sharedstatedir='${prefix}/com'
sysconfdir='/etc'
target_alias=''

## ----------- ##
## confdefs.h. ##
## ----------- ##

#define PACKAGE "sandbox"
#define PACKAGE_BUGREPORT "dev-portage@gentoo.org"
#define PACKAGE_NAME "sandbox"
#define PACKAGE_STRING "sandbox 1.2.12"
#define PACKAGE_TARNAME "sandbox"
#define PACKAGE_VERSION "1.2.12"
#define VERSION "1.2.12"

configure: exit 77




Portage 2.0.51.19 (default-linux/amd64/2005.0, gcc-3.4.4, glibc-2.3.5-r1,
2.6.11-gentoo-r6 x86_64)
=================================================================
System uname: 2.6.11-gentoo-r6 x86_64 AMD Athlon(tm) 64 Processor 3200+
Gentoo Base System version 1.6.12
Python:              dev-lang/python-2.2.3-r5,dev-lang/python-2.3.5 [2.3.5 (#1,
May 14 2005, 13:14:18)]
distcc 2.18.3 x86_64-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
dev-lang/python:     2.2.3-r5, 2.3.5
sys-apps/sandbox:    [Not Present]
sys-devel/autoconf:  2.59-r6, 2.13
sys-devel/automake:  1.5, 1.8.5-r3, 1.6.3, 1.7.9-r1, 1.4_p6, 1.9.6
sys-devel/binutils:  2.15.92.0.2-r10
sys-devel/libtool:   1.5.16
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CFLAGS="-march=k8 -O2 -pipe "
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.2/share/config
/usr/kde/3.3/env /usr/kde/3.3/share/config /usr/kde/3.3/shutdown
/usr/kde/3/share/config /usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref
/usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-march=k8 -O2 -pipe "
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig ccache distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://mirror.datapipe.net/gentoo ftp://gentoo.ccccom.com
http://gentoo.ccccom.com"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="amd64 X alsa arts avi bash-completion berkdb bitmap-fonts bonobo cdio cdr
cpudetection crypt cups curl dvd dvdr dvdread eds emacs encode esd fam
foomaticdb fortran freetype gdbm gif gnome gphoto2 gpm gstreamer gtk gtk2
gtkhtml guile imagemagick imlib ipv6 java jpeg kde lzw lzw-tiff mad motif
mozilla mp3 mpeg ncurses nls ogg opengl pam pdflib perl png ppds python qt
quicktime readline rplay scanner sdl slang spell ssl tcltk tcpd tiff truetype
truetype-fonts type1-fonts unicode usb userlocales vorbis xml xml2 xpm xv zlib
userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CBUILD, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTDIR_OVERLAY




Comment 1


Mike Doty (RETIRED)






          2005-09-01 05:55:17 UTC
        

sounds like multilib isn't working on your system.  to test this do a helloworld
program and compile it for 32bit.

helloworld.c:
#include <stdio.h>
int main(int ac, char** av){
printf("hello world!!!!oneoneone\n");
return 0;
}

compile like this:  gcc -m32 -Wall -o helloworld helloworld.c
and see if it compiles(I suspect it wont)

to fix it, re-emerge glibc




Comment 2


Scott Hathcock





          2005-09-01 12:06:08 UTC
        

(In reply to comment #1)
> sounds like multilib isn't working on your system.  to test this do a helloworld
> program and compile it for 32bit.
> 
> helloworld.c:
> #include <stdio.h>
> int main(int ac, char** av){
> printf("hello world!!!!oneoneone\n");
> return 0;
> }
> 
> compile like this:  gcc -m32 -Wall -o helloworld helloworld.c
> and see if it compiles(I suspect it wont)
> 
> to fix it, re-emerge glibc

The compile works fine and the program runs with the expected output.





Comment 3


Simon Stelling (RETIRED)






          2005-10-04 04:05:16 UTC
        

this bug is quite old, perhaps you already fixed it... if not, try this:

> configure:2290: x86_64-pc-linux-gnu-gcc -march=k8 -O2 -pipe -DSB_HAVE_64BIT_ARCH
>  conftest.c  >&5
> /usr/lib/gcc/x86_64-pc-linux-gnu/3.4.4/../../../../x86_64-pc-linux-gnu/bin/ld:
> cannot find /emul/linux/x86/lib/libc.so.6
> collect2: ld returned 1 exit status

make sure you set the profile to 2004.3 and emerge emul-linux-x86-glibc, then retry




Comment 4


Simon Stelling (RETIRED)






          2005-11-19 04:45:41 UTC
        

didn't get a response, assuming it works now. if not, please reopen









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

