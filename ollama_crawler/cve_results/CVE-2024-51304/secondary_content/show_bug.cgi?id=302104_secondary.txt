Title: 302104 – net-misc/ajaxterm-0.10
URL: https://bugs.gentoo.org/show_bug.cgi?id=302104

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 302104
net-misc/ajaxterm-0.10
Last modified: 2010-07-06 22:09:53 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 302104 
      - net-misc/ajaxterm-0.10


Summary:
net-misc/ajaxterm-0.10
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

No maintainer - Look at https://wiki.gentoo.org/wiki/Project:Proxy_Maintainers if you want to take care of it








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2010-01-24 21:42 UTC by Nico Baggus





      Modified:
    
2010-07-06 22:09 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



felix.schuster









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Nico Baggus





          2010-01-24 21:42:46 UTC
        

During startup of ajaxterm it fails to start with

start-stop-daemon     exits with error 1... resulting in [!!]

After adding the option -o (--oknodo) it does supply a 0 status and leave a running daemon.

Reproducible: Always

Steps to Reproduce:
1.default install 
2.emerge ajaxterm
3./etc/init.d/ajaxterm ...

Actual Results:  
 * Starting AjaxTerm on port 8022 ...    [ !! ]


Expected Results:  
 * Starting AjaxTerm on port 8022 ...     [ ok ]

Involved:
ajaxterm 0.10
baselayout-1.12.13
sysvinit-2.86-r10

It is not a dupe but seems related to http://bugs.gentoo.org/show_bug.cgi?id=290907




Comment 1


Nico Baggus





          2010-01-24 21:43:59 UTC
        

Portage 2.1.6.13 (default/linux/x86/10.0, gcc-4.3.4, glibc-2.10.1-r1, 2.6.31-gentoo-r6 i686)
=================================================================                           
System uname: Linux-2.6.31-gentoo-r6-i686-Intel-R-_Pentium-R-_4_CPU_2.40GHz-with-gentoo-1.12.13
Timestamp of tree: Sun, 24 Jan 2010 21:00:18 +0000                                             
distcc 3.1 i686-pc-linux-gnu [disabled]                                                        
ccache version 2.4 [disabled]                                                                  
app-shells/bash:     4.0_p35                                                                   
dev-java/java-config: 2.1.10                                                                   
dev-lang/python:     2.6.4                                                                     
dev-util/ccache:     2.4-r7                                                                    
dev-util/cmake:      2.6.4-r3                                                                  
sys-apps/baselayout: 1.12.13                                                                   
sys-apps/sandbox:    1.6-r2                                                                    
sys-devel/autoconf:  2.13, 2.63-r1                                                             
sys-devel/automake:  1.4_p6, 1.6.3, 1.8.5-r3, 1.9.6-r2, 1.10.2                                 
sys-devel/binutils:  2.18-r3                                                                   
sys-devel/gcc-config: 1.4.1                                                                    
sys-devel/libtool:   2.2.6b                                                                    
virtual/os-headers:  2.6.30-r1                                                                 
ACCEPT_KEYWORDS="x86"                                                                          
CBUILD="i686-pc-linux-gnu"                                                                     
CFLAGS="-O2 -march=pentium4 -fomit-frame-pointer -pipe -mno-tls-direct-seg-refs -Wl,--as-needed"
CHOST="i686-pc-linux-gnu"                                                                       
CONFIG_PROTECT="/etc /opt/openfire/resources/security/ /usr/lib/fax /usr/share/X11/xkb /var/bind /var/spool/fax/etc"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-O2 -march=pentium4 -fomit-frame-pointer -pipe -mno-tls-direct-seg-refs -Wl,--as-needed"
DISTDIR="/usr/portage/distfiles"
FEATURES="distlocks fixpackages parallel-fetch protect-owned sandbox sfperms strict unmerge-orphans"
GENTOO_MIRRORS="http://ftp.snt.utwente.nl/pub/os/linux/gentoo http://mirror.switch.ch/mirror/gentoo/ http://www.mirrorservice.org/sites/www.ibiblio.org/gentoo/ "
LC_ALL="C"
LDFLAGS="-Wl,-O1"
LINGUAS="en nl en_GB en_US"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/var/portage"
PORTDIR_OVERLAY="/usr/local/portage/layman/armagetron /usr/local/portage/layman/webapps-experimental /usr/local/portage/layman/sipx /usr/local/portage/layman/voip /usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X accessibility acl alsa apache2 asterisk audiofile audit avahi bash-completion berkdb bluetooth bzip2 cairo caps cleartype cli cracklib crypt cscope cups curl cxx dbus dga directfb dri encode exif exiscan exiscan-acl expat fam fastcgi fax fbcon font-server fortran gd gdbm geoip gif glib glut gmp gnutls gpm graphviz gtk hal howl-compat ical iconv idn ieee1394 imap imlib iproute2 ipv6 jabber jadetex java jbig jpeg jpeg2k kerberos ladspa lcms ldap libsamplerate lua lzo memcache mhash mmx mmxext mng modules mp3 mudflap mysql nas ncurses netboot network nls nptl nptlonly nsplugin odbc ogg openexr opengl openmp pam parse-clocks pcre pdf perl php png posix pppd python qt3 qt3support qt4 quotas radius razor readline reflection rle rrdcgi ruby samba sasl session skey slang sndfile snmp sox speex spell spf spl sqlite srs sse sse2 ssl svg svga sysfs syslog tcpd tiff truetype unicode usb vim-syntax vorbis webdav wmf x86 xattr xml xorg xv xvid yaz zeroconf zlib" ALSA_CARDS="intel8x0 usb-audio" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic auth_digest authn_anon authn_dbd authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock dbd deflate dir disk_cache env expires ext_filter file_cache filter headers ident imagemap include info log_config logio mem_cache mime mime_magic negotiation proxy proxy_ajp proxy_balancer proxy_connect proxy_http rewrite setenvif so speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="evdev mouse keyboard joystick" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en nl en_GB en_US" MISDN_CARDS="hfcpci xhfc hfcmulti" RUBY_TARGETS="ruby18" USERLAND="GNU" VIDEO_CARDS="i810 fbdev vga vesa"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LANG, MAKEOPTS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS





Comment 2


Nico Baggus





          2010-06-29 20:20:13 UTC
        

#!/sbin/runscript

# AjaxTerm Gentoo script, 08 May 2006 Mark Gillespie 
# added --oknodo to allow starting the daemon. NB

DAEMON=/usr/bin/python
PORT=8022
PIDFILE=/var/run/ajaxterm.pid 

depend()
{
    need net
}

start()
{
    ebegin "Starting AjaxTerm on port $PORT"
    start-stop-daemon --oknodo --start --exec /usr/share/ajaxterm/ajaxterm.py -- --pidfile $PIDFILE --daemon --port=$PORT --uid=nobody --log /var/log/ajaxterm.log
    eend $?
}

stop()
{
    ebegin "Stopping AjaxTerm"
    start-stop-daemon  --stop --pidfile $PIDFILE 
    rm -f $PIDFILE 
    eend $?
}










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

