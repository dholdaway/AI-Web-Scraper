Title: 628444 – net-wireless/crda-3.18-r1 fails to build
URL: https://bugs.gentoo.org/show_bug.cgi?id=628444

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 628444
net-wireless/crda-3.18-r1 fails to build
Last modified: 2023-08-20 14:21:48 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 628444 
      - net-wireless/crda-3.18-r1 fails to build


Summary:
net-wireless/crda-3.18-r1 fails to build
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Rick Farina (Zero_Chaos)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2017-08-20 22:02 UTC by water.devil





      Modified:
    
2023-08-20 14:21 UTC
      (History)
    




          CC List:
        

4 
          users
          
            (show)
          



anarchy
jstein
water.devil
zerochaos









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge --info

              (emerge--info.txt,7.56 KB,
                text/plain)

            
2017-08-20 22:02 UTC,

            water.devil




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


water.devil





          2017-08-20 22:02:05 UTC
        

Created attachment 489878 [details]
emerge --info

System: Laptop Lenovo Legion Y520 with nVidia GeForce GTX 1050m
uname -a
Linux allengen 4.12.5-gentoo #5 SMP Fri Aug 18 10:14:13 CEST 2017 x86_64 Intel(R) Core(TM) i7-7700HQ CPU @ 2.80GHz GenuineIntel GNU/Linux

equery -l openssl
[IP-] [  ] dev-libs/openssl-1.0.2k:0
[IP-] [  ] dev-python/pyopenssl-16.2.0:0

It makes no difference if emerging with ccache and distcc or without.

emerge --ask --update --newuse --deep @world
or
USE="" emerge openssl m2crypto net-wireless/crda
or
USE="gcrypt" emerge openssl m2crypto net-wireless/crda
or
USE="gcrypt" emerge openssl m2crypto net-wireless/crda

ERROR: net-wireless/crda-3.18-r1::gentoo failed (compile phase):
 *   emake failed

 * Package:    net-wireless/crda-3.18-r1
 * Repository: gentoo
 * Maintainer: gurligebis@gentoo.org zerochaos@gentoo.org
 * USE:        abi_x86_64 amd64 elibc_glibc kernel_linux userland_GNU
 * FEATURES:   ccache distcc distcc-pump preserve-libs sandbox userpriv usersandbox
>>> Unpacking source...
>>> Unpacking crda-3.18.tar.xz to /var/tmp/portage/net-wireless/crda-3.18-r1/work
>>> Source unpacked in /var/tmp/portage/net-wireless/crda-3.18-r1/work
>>> Preparing source in /var/tmp/portage/net-wireless/crda-3.18-r1/work/crda-3.18 ...
 * Applying crda-3.18-no-ldconfig.patch ...
 [ ok ]
 * Applying crda-3.18-no-werror.patch ...
 [ ok ]
 * Applying crda-3.18-openssl.patch ...
 [ ok ]
 * Applying crda-3.18-cflags.patch ...
 [ ok ]
 * Applying crda-3.18-libreg-link.patch ...
 [ ok ]
>>> Source prepared.
>>> Configuring source in /var/tmp/portage/net-wireless/crda-3.18-r1/work/crda-3.18 ...
>>> Source configured.
>>> Compiling source in /var/tmp/portage/net-wireless/crda-3.18-r1/work/crda-3.18 ...
make -j33 -l8 PREFIX=/usr SBINDIR=$(PREFIX)/sbin/ LIBDIR=$(PREFIX)/lib64 UDEV_RULE_DIR=/lib/udev/rules.d REG_BIN=/usr/lib/crda/regulatory.bin USE_OPENSSL=1 CC=x86_64-pc-linux-gnu-gcc V=1 WERROR= all_noverify 
./utils/key2pub.py --ssl pubkeys/linville.key.pub.pem pubkeys/sforshee.key.pub.pem keys-ssl.c
Traceback (most recent call last):
  File "./utils/key2pub.py", line 5, in <module>
    from M2Crypto import RSA
  File "/usr/lib64/python2.7/site-packages/M2Crypto/__init__.py", line 26, in <module>
    from M2Crypto import (ASN1, AuthCookie, BIO, BN, DH, DSA, EVP, Engine, Err,
  File "/usr/lib64/python2.7/site-packages/M2Crypto/ASN1.py", line 128, in <module>
    class ASN1_UTCTIME:
  File "/usr/lib64/python2.7/site-packages/M2Crypto/ASN1.py", line 131, in ASN1_UTCTIME
    m2_asn1_utctime_free = m2.asn1_utctime_free
AttributeError: 'module' object has no attribute 'asn1_utctime_free'
make: *** [Makefile:116: keys-ssl.c] Error 1
 * ERROR: net-wireless/crda-3.18-r1::gentoo failed (compile phase):
 *   emake failed
 * 
 * If you need support, post the output of `emerge --info '=net-wireless/crda-3.18-r1::gentoo'`,
 * the complete build log and the output of `emerge -pqv '=net-wireless/crda-3.18-r1::gentoo'`.
 * The complete build log is located at '/var/log/portage/net-wireless:crda-3.18-r1:20170820-214530.log'.
 * For convenience, a symlink to the build log is located at '/var/tmp/portage/net-wireless/crda-3.18-r1/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/net-wireless/crda-3.18-r1/temp/environment'.
 * Working directory: '/var/tmp/portage/net-wireless/crda-3.18-r1/work/crda-3.18'
 * S: '/var/tmp/portage/net-wireless/crda-3.18-r1/work/crda-3.18'

Maybe a library is missing?




Comment 1


Jory A. Pratt






          2017-08-21 01:56:53 UTC
        

m2crypto appears to be corrupt, please re-emerge it and test again.




Comment 2


water.devil





          2017-08-21 04:56:31 UTC
        

Like a wrote at the beginning I did already

emerge --unmerge m2crypto && emerge -1 m2crypto
emerge --unmerge openssl && emerge -1 openssl
emerge -e crda
emerge -e @world
emerge -e @system









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

