Title: 580692 – sys-apps/dbus-1.10.8-r1 makes systray legacy icons inavailable
URL: https://bugs.gentoo.org/show_bug.cgi?id=580692

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 580692
sys-apps/dbus-1.10.8-r1 makes systray legacy icons inavailable
Last modified: 2017-03-05 09:28:25 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 580692 
      - sys-apps/dbus-1.10.8-r1 makes systray legacy icons inavailable


Summary:
sys-apps/dbus-1.10.8-r1 makes systray legacy icons inavailable
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Freedesktop bugs








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2016-04-20 23:31 UTC by Billy DeVincentis





      Modified:
    
2017-03-05 09:28 UTC
      (History)
    




          CC List:
        

4 
          users
          
            (show)
          



azamat.hackimov
doron.fediuck
kde
zlg









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




dmesg

              (dmesg,24.37 KB,
                text/plain)

            
2016-08-25 01:51 UTC,

            Billy DeVincentis




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Billy DeVincentis





          2016-04-20 23:31:03 UTC
        

Applications that use older style systray icons do not appear, example vmware-workstation and apcupsd. Downgrading to 1.10.6 corrects the problem.




Comment 1


Michael Palimaka (kensington)






          2016-04-21 14:58:28 UTC
        

Do you use prelink?




Comment 2


Billy DeVincentis





          2016-04-21 20:21:14 UTC
        

No I do not.




Comment 3


zlg (RETIRED)






          2016-06-16 23:45:47 UTC
        

The same thing's happening to me. However, by downgrading to 1.10.6, I can't build anything that depends on dbus anymore because it complains about a versioned symbol. PulseAudio in particular is picky about this. So I have to choose between Steam having a tray icon and the ability to update software that depends on dbus.




Comment 4


Billy DeVincentis





          2016-07-03 13:34:30 UTC
        

Okay,
I have some very interesting new info with this problem. With sys-apps/dbus-1.10.8-r1 installed and my system fully rebuilt, I get icons for all legacy apps I have installed (vmware-workstation and apcupsd) but only following a second login. First login will not show the icons leading me to believe that some service is not getting started.




Comment 5


Billy DeVincentis





          2016-08-22 01:59:59 UTC
        

And now I have the reason why this wa happening but it still is a problem. In System Settings, GTK Style, If clearlooks is selected as gtk2 theme, legacy icons only appear after 2nd login. If oxygen-gtk is selected as gtk2 theme, all works as normal. My tests are repeatable.




Comment 6


Azamat H. Hackimov





          2016-08-22 08:53:15 UTC
        

Can you look dmesg output, is there xembedsniproxy segfault messages when using clearlooks?




Comment 7


Billy DeVincentis





          2016-08-25 01:51:23 UTC
        

May have spoken too soon, seems like it is still happening regardless of the theme. I don't see anything in dmesg but I am attaching it here. Maybe you can find something. In any event, 2nd login always works perfect.




Comment 8


Billy DeVincentis





          2016-08-25 01:51:50 UTC
        

Created attachment 444068 [details]
dmesg




Comment 9


Andreas Sturmlechner






          2017-03-04 19:18:29 UTC
        

Is this still a thing? Do you have consolekit/dbus in default runlevel?




Comment 10


zlg (RETIRED)






          2017-03-05 07:34:51 UTC
        

(In reply to Andreas Sturmlechner from comment #9)
> Is this still a thing? Do you have consolekit/dbus in default runlevel?

The program I was having this problem with the most was Steam. Ever since I switched to AnyC's steam-overlay and used games-util/steam-meta + games-util/esteam to update dependencies, the tray icon works as expected. I do have consolekit and dbus in my default runlevel, but they were there when I originally had the problem, too. Perhaps the bug was silently fixed in an update.




Comment 11


Andreas Sturmlechner






          2017-03-05 09:28:25 UTC
        

Thanks for checking back.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

