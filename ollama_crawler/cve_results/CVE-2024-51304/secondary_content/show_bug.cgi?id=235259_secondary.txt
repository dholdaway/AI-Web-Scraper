Title: 235259 – Change needed for bzImage location with 64 bit kernel versions >=2.6.24
URL: https://bugs.gentoo.org/show_bug.cgi?id=235259

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 235259
Change needed for bzImage location with 64 bit kernel versions >=2.6.24
Last modified: 2008-08-31 06:46:49 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 235259 
      - Change needed for bzImage location with 64 bit kernel versions >=2.6.24


Summary:
Change needed for bzImage location with 64 bit kernel versions >=2.6.24
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

[OLD] Docs on www.gentoo.org




Classification:

Unclassified




Component:

Installation Handbook

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
    (vote)
  



Assignee:

Docs Team








URL:







Whiteboard:




Keywords:









Duplicates (1):
    

235263

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2008-08-20 06:02 UTC by Bob Raitz





      Modified:
    
2008-08-31 06:46 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Bob Raitz





          2008-08-20 06:02:09 UTC
        

In kernel version 2.6.24 and above, the default location for bzImage for either 32 bit x86 or x86_64 was changed to /usr/src/<source_dir>/arch/x86/boot. The /usr/src/<source_dir>/arch/i386/boot.and /usr/src/<source_dir>/arch/x86_46/boot directories contain only symlinks.

Reproducible: Always

Actual Results:  
Link to document: 

http://www.gentoo.org/doc/en/handbook/handbook-amd64.xml?part=1&chap=7#doc_chap3

SUGGESTED WORDING:

<snip>
Code Listing 3.8: Installing the kernel

# cp arch/x86/boot/bzImage /boot/kernel-2.6.24-gentoo-r5

Note: bzImage is located in /arch/x86/boot as of 2.6.24. All kernels older contain bzImage in /arch/x86_64/boot.

Now continue with Kernel Modules.<snip>

The above line is now correct, as that is where the user will find the full kernel. There have been problems associated with this reported in the forums. I am just carrying the suggestion to where it will do some good.


Also please note the same revision needs to be made to the x86 handbook as well. That information is also incorrect. I will be posting another bug on that as soon as I send this one and bookmark it.

Blessed be!
Pappy




Comment 1


Bob Raitz





          2008-08-20 06:36:51 UTC
        

Just as a reference, here is the snippet from the change log for 2.6.24:

commit 488288d9f25fbab903bd264bc74f2fad3a7f7a09
Author: Josef 'Jeff' Sipek <jeffpc@josefsipek.net>
Date:   Sat Jan 19 16:04:42 2008 -0500

    arch: Ignore arch/i386 and arch/x86_64
    
    The i386 and x86_64 arch directories contain nothing but a generated symlink
    to arch/x86/boot/bzImage when a tree a built.
    
    Cc: Thomas Gleixner <tglx@linutronix.de>
    Cc: Ingo Molnar <mingo@redhat.com>
    Cc: Peter Anvin <hpa@zytor.com>
    Signed-off-by: Josef 'Jeff' Sipek <jeffpc@josefsipek.net>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>





Comment 2


Jan Kundrát (RETIRED)






          2008-08-30 00:18:44 UTC
        

*** Bug 235263 has been marked as a duplicate of this bug. ***




Comment 3


Jan Kundrát (RETIRED)






          2008-08-30 00:20:13 UTC
        

I vote for WORKSFORME or LATER as the symlinks are in place (and will probably remain so for quite some time).




Comment 4


nm (RETIRED)






          2008-08-30 03:13:26 UTC
        

I agree with Jan. As long as the symlinks are still there, then we'll leave the docs as-is. Thanks for the report, though; first I've heard of the move.




Comment 5


Bob Raitz





          2008-08-30 06:18:26 UTC
        

Excuse me? 

There are noobs who are coming up with grub error 15 because of this inaccuracy, and you're calling this a works for me? Is it that difficult to fix this error? I mean? Send me the file and I'll fix it!

It's bad enough that the GUI installer is what it is. How is it that the prefered and best way to install Gentoo is now allowed to maintain an EASILY corrected error? It's hard to tell a noob how much the Gentoo community cares when something like this happens. It calls Gentoo's collective credibility into question.

I strongly suggest that you reconsider the ramifications of this. I would think you would be all too happy to NOT look like a bunch of second-rate amateurs. 

I'm sorry if that seems extreme, but come on. It's not like I'm asking to revamp every word. I've even offered samples of how I'd do it. You can cut and paste.

Blessed be!
Pappy




Comment 6


Jan Kundrát (RETIRED)






          2008-08-30 09:08:52 UTC
        

(In reply to comment #5)
> Excuse me? 
> 
> There are noobs who are coming up with grub error 15 because of this
> inaccuracy, and you're calling this a works for me? Is it that difficult to fix
> this error? I mean? Send me the file and I'll fix it!

`cp` by default copies the symlink target, not the symlink itself. Therefore, if you execute the command given in the handbook, `cp arch/x86_64/boot/bzImage /boot/kernel-2.6.24-gentoo-r5`, the `cp` binary will follow the symlink and copy the real bzImage data and not the symbolic link.

I'm assuming here that your bugreport tries to say that it creates a broken symbolic link leading somewhere to /usr which is not available to grub when the user has a separate /boot partition. Please correct me if I'm worng in this assumption.

> It's bad enough that the GUI installer is what it is.

If you have any issues with the installer, I'm sure its maintainers will be happy to receive a bugreport describing specific problems. We, the Documentation team, can't fix any bugs in the installer.

> prefered and best way to install Gentoo is now allowed to maintain an EASILY
> corrected error? It's hard to tell a noob how much the Gentoo community cares
> when something like this happens. It calls Gentoo's collective credibility into
> question.

Please tshow us what *exactly* is broken. There are plenty of people running the 2.6.24+ kernels and nobody had any issues with installing a symlink instead of the real bzImage.

> I'm sorry if that seems extreme, but come on. It's not like I'm asking to
> revamp every word. I've even offered samples of how I'd do it. You can cut and
> paste.

You've asked us to make a change and described very well what you want to be changed, but you haven't provided a compelling reason about *why* is that change really needed. Unless you show us what exactly is wrong with current command (which works for us, and yes, we really did try to verify this bug), it will remain the same.

Thanks for understanding.




Comment 7


Bob Raitz





          2008-08-31 06:46:49 UTC
        

As you will.

Blessed be!
Pappy









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

