Title: 88843 – dev-php/php-4.3.11: (minor) odds during install
URL: https://bugs.gentoo.org/show_bug.cgi?id=88843

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 88843
dev-php/php-4.3.11: (minor) odds during install
Last modified: 2005-08-25 10:07:10 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 88843 
      - dev-php/php-4.3.11: (minor) odds during install


Summary:
dev-php/php-4.3.11: (minor) odds during install
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

PHP Bugs








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-04-12 06:23 UTC by Toralf Förster





      Modified:
    
2005-08-25 10:07 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



james









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Patch to resolve snmpapp errors

              (bug32613.patch,663 bytes,
                patch)

            
2005-06-08 09:32 UTC,

            James Gurney




Details
            | Diff





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Toralf Förster






          2005-04-12 06:23:19 UTC
        

From the log:
...
>>> Install php-4.3.11 into /var/tmp/portage/php-4.3.11/image/ category dev-php
 * Running make INSTALL_ROOT=/var/tmp/portage/php-4.3.11/image/ install
Installing PHP CLI binary:        /var/tmp/portage/php-4.3.11/image//usr/bin/
Installing PHP CLI man page:      /var/tmp/portage/php-4.3.11/image//usr/share/man/man1/
Installing shared extensions:     /var/tmp/portage/php-4.3.11/image//usr/lib/php/extensions/no-debug-non-zts-20020429/
Installing PEAR environment:      /var/tmp/portage/php-4.3.11/image//usr/lib/php/php/
[PEAR] Archive_Tar    - installed: 1.1
[PEAR] Console_Getopt - installed: 1.2
[PEAR] PEAR           - installed: 1.3.5
Wrote PEAR system config file at: /var/tmp/portage/php-4.3.11/image///etc/pear.conf
You may want to add: /usr/lib/php/php to your php.ini include_path
No log handling enabled - turning on stderr logging
Cannot rename //var/lib/net-snmp/snmpapp.conf to //var/lib/net-snmp/snmpapp.0.conf
Cannot unlink //var/lib/net-snmp/snmpapp.conf
read_config_store open failure on //var/lib/net-snmp/snmpapp.conf
read_config_store open failure on //var/lib/net-snmp/snmpapp.conf
read_config_store open failure on //var/lib/net-snmp/snmpapp.conf
[PEAR] HTML_Template_IT- installed: 1.1
[PEAR] Net_UserAgent_Detect- installed: 2.0.1
[PEAR] XML_RPC        - installed: 1.2.2
No log handling enabled - turning on stderr logging
Cannot rename //var/lib/net-snmp/snmpapp.conf to //var/lib/net-snmp/snmpapp.0.conf
Cannot unlink //var/lib/net-snmp/snmpapp.conf
read_config_store open failure on //var/lib/net-snmp/snmpapp.conf
read_config_store open failure on //var/lib/net-snmp/snmpapp.conf
read_config_store open failure on //var/lib/net-snmp/snmpapp.conf
Installing build environment:     /var/tmp/portage/php-4.3.11/image//usr/lib/php/build/
Installing header files:          /var/tmp/portage/php-4.3.11/image//usr/include/php/
Installing helper programs:       /var/tmp/portage/php-4.3.11/image//usr/bin/
...
 * Setting correct include_path
patching file php.ini-dist
chmod: cannot access `/var/tmp/portage/php-4.3.11/image//usr/lib/php/run-tests.php': No such file or directory
 * Fixing PEAR cache location
...

and later:

...
 * You cannot use it on a webserver.
md5sum: //root/.pearrc: No such file or directory
>>> Regenerating /etc/ld.so.cache...
...

Reproducible: Always
Steps to Reproduce:
1.
2.
3.




Comment 1


James Gurney





          2005-06-08 09:32:01 UTC
        

Created attachment 60849 [details, diff]
Patch to resolve snmpapp errors




Comment 2


James Gurney





          2005-06-08 09:32:57 UTC
        

You get the same errors at runtime and when apache+mod_php shut down:

read_config_store open failure on /var/lib/net-snmp/snmpapp.conf
Cannot rename /var/lib/net-snmp/snmpapp.conf to /var/lib/net-snmp/snmpapp.0.conf
Cannot unlink /var/lib/net-snmp/snmpapp.conf

See here for the cause of this bug: http://bugs.php.net/bug.php?id=32613

I've attached the patch to resolve the problem.




Comment 3


Luca Longinotti (RETIRED)






          2005-08-25 10:03:52 UTC
        

Works with sandbox 1.2.12. Not reproducible in the new overlay (link:
http://svn.gnqs.org/projects/gentoo-php-overlay/ ), there it works.
PEAR now is installed with a separate package (PEAR-PEAR), no more with the php
one. The SNMP problem seems fixed upstream and I can't reproduce it with PHP
4.4.0 (neither executing php as a non-root user, neither starting/stopping
Apache etc.).




Comment 4


Jakub Moc (RETIRED)






          2005-08-25 10:07:10 UTC
        

Closing.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

