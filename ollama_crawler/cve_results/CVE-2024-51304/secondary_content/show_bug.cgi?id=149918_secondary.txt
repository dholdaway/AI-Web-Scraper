Title: 149918 – running mozilla-firefox-bin 1.5.0.7 fails on missing library libpangoxft-1.0.so.0; emerge of mozilla-firefox-1.5.0.7 fails see config.log in attachment
URL: https://bugs.gentoo.org/show_bug.cgi?id=149918

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 149918
running mozilla-firefox-bin 1.5.0.7 fails on missing library libpangoxft-1.0.so.0; emerge of mozilla-firefox-1.5.0.7 fails see config.log in attachment
Last modified: 2008-06-25 08:06:01 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 149918 
      - running mozilla-firefox-bin 1.5.0.7 fails on missing library libpangoxft-1.0.so.0; emerge of mozilla-firefox-1.5.0.7 fails see config.log in attachment


Summary:
running mozilla-firefox-bin 1.5.0.7 fails on missing library libpangoxft-1.0....
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Library

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-10-02 21:13 UTC by Werner M. Mayer





      Modified:
    
2008-06-25 08:06 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



faraclas
wmm









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Werner M. Mayer





          2006-10-02 21:13:08 UTC
        

Hello, 

I'm installing gentoo on my x86 amd duron 800MHz pc and using mozilla to report 
the bug.

After installation of mozilla-firefox-bin 1.5.0.7 it failed reporting a missing 
library file I couldn't emerge or find elsewhere.

I then tried to install mozilla-firefox 1.5.0.7 but it also failed and I don't 
know how to solve it.

Sorry, this will be long. I 've tried to figure out how to solve this but either
I'm sitting on my eyes or my brain is sucked.

If also tried to emerge pangox but it wasn't found.

Anyway please forgive the long config-posting at the end of the emerge --info.


Portage 2.1-r2 (default-linux/x86/2006.1, gcc-4.1.1, glibc-2.4-r3, 2.6.17-gentoo
-r8 i686)
=================================================================
System uname: 2.6.17-gentoo-r8 i686 AMD Duron(tm) Processor
Gentoo Base System version 1.12.1
ccache version 2.3 [enabled]
app-admin/eselect-compiler: [Not Present]
dev-java/java-config: 1.2.11-r1
dev-lang/python:     2.4.3-r1
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     2.3
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.13-r3
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=i686 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/X11/xkb /usr/share/texmf/dvipdfm/config/ /usr/sh
are/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/te
x/platex/config/ /usr/share/texmf/xdvi/"
CONFIG_PROTECT_MASK="/etc/env.d /etc/gconf /etc/rc.d /etc/revdep-rebuild /etc/te
rminfo /etc/wget"
CXXFLAGS="-O2 -march=i686 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig buildpkg ccache cvs distlocks keeptemp keepwork 
metadata-transfer noclean notitles sandbox sfperms strict userpriv usersandbox"
GENTOO_MIRRORS="http://ftp.snt.utwente.nl/pub/os/linux/gentoo ...
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress 
--force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/d
istfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.de.gentoo.org/gentoo-portage"
USE="x86 X alsa berkdb bitmap-fonts cdparanoia cdr cli crypt cups dbase dlloader
 dri dvd dvdr dvdread encode firefox fortran gd gdbm gif gphoto2 gpm gtk gtk2 im
agemagick ipv6 isdnlog jack java javascript joystick jpeg jpeg2k lesstif libg++ 
mad matrox mikmod mmx mp3 mpeg ncurses nls nptl nptlonly ogg oss pam pcre pdf pe
rl php png ppds pppd prelude python qt4 quicktime readline recode reflection ses
sion smartcard sndfile sox spl ssl svga tcl tcltk tcpd tiff tk truetype truetype
-fonts type1-fonts udev unicode usb v4l vcd videos vorbis win32codecs xine xiner
ama xml xmms xorg xv xvid zlib elibc_glibc input_devices_keyboard input_devices_
mouse input_devices_evdev kernel_linux userland_GNU video_cards_apm video_cards_
ark video_cards_ati video_cards_chips video_cards_cirrus video_cards_cyrix video
_cards_dummy video_cards_fbdev video_cards_glint video_cards_i128 video_cards_i7
40 video_cards_i810 video_cards_imstt video_cards_mga video_cards_neomagic video
_cards_nsc video_cards_nv video_cards_rendition video_cards_s3 video_cards_s3vir
ge video_cards_savage video_cards_siliconmotion video_cards_sis video_cards_sisu
sb video_cards_tdfx video_cards_tga video_cards_trident video_cards_tseng video_
cards_v4l video_cards_vesa video_cards_vga video_cards_via video_cards_vmware vi
deo_cards_voodoo"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGU
AS, PORTAGE_RSYNC_EXTRA_OPTS



After emerge of firefox-bin-1.5.0.7:
/opt/firefox/firefox-bin: error while loading shared libraries: libpangoxft-1.0.so.0: cannot open shared object file: No such file or directory
firefox-bin exited with non-zero status (127)

emerge -v mozilla-firefox:
...
!!! Please attach the following file when filing a report to bugs.gentoo.org:
!!! /var/tmp/portage/mozilla-firefox-1.5.0.7/work/mozilla/config.log

!!! ERROR: www-client/mozilla-firefox-1.5.0.7 failed.
Call stack:
  ebuild.sh, line 1539:   Called dyn_compile
  ebuild.sh, line 939:   Called src_compile
  mozilla-firefox-1.5.0.7.ebuild, line 167:   Called econf
  ebuild.sh, line 541:   Called die

!!! econf failed
!!! If you need support, post the topmost build error, and the call stack if relevant.

See /var/tmp/portage/mozilla-firefox-1.5.0.7/work/mozilla/config.log
in attachment.

...
 configure:12345: checking for pkg-config
 configure:12389: checking for gtk+-2.0 >= 1.3.7
 configure:12396: checking MOZ_GTK2_CFLAGS
 configure:12401: checking MOZ_GTK2_LIBS
 configure:13176: checking for xft
 configure:13183: checking MOZ_XFT_CFLAGS
 configure:13267: checking for pangoxft >= 1.1.0 pangox
                                       ^
                                       |
                                       |
Here this last package makes problems -# . 

The bug is reproducable on my system.




Comment 1


Werner M. Mayer





          2006-10-02 21:57:33 UTC
        

Attachment input failed due to internal error at bugs.gentoo.org web page.
This attachment bug report failure at the website was reproducable via links 
and mozilla input trials at approx. german local time 6:30 am.

Trying to place it here:

Had to shorten the logfile,  hope I didn't delete important stuff, I had
to delete very much to fit it here.
If neccessary, please mail me at wmm@gmx.li for the complete log via mail.
:

 This file contains any messages produced by compilers while
 running configure, to aid debugging if configure makes a mistake.
 
 configure:945: checking host system type
 configure:966: checking target system type
 configure:984: checking build system type
 configure:1059: checking for mawk
 configure:1059: checking for gawk
 configure:1157: checking for nsinstall
 configure:2122: checking for gcc
 configure:2235: checking whether the C compiler (i686-pc-linux-gnu-gcc  -march=i686 -pipe -Wno-return-type -w -freorder-blocks -fno-reorder-functions ) works
 configure:2251: i686-pc-linux-gnu-gcc -o conftest  -march=i686 -pipe -Wno-return-type -w -freorder-blocks -fno-reorder-functions  -DARON_WAS_HERE  conftest.c  1>&5
 configure:2277: checking whether the C compiler (i686-pc-linux-gnu-gcc  -march=i686 -pipe -Wno-return-type -w -freorder-blocks -fno-reorder-functions ) is a cross-compiler
 configure:2282: checking whether we are using GNU C
 configure:2291: i686-pc-linux-gnu-gcc -E conftest.c
 configure:2310: checking whether i686-pc-linux-gnu-gcc accepts -g
 configure:2346: checking for c++
 configure:2378: checking whether the C++ compiler (i686-pc-linux-gnu-g++  -march=i686 -pipe -Wno-return-type -w -freorder-blocks -fno-reorder-functions ) works
 configure:2394: i686-pc-linux-gnu-g++ -o conftest  -march=i686 -pipe -Wno-return-type -w -freorder-blocks -fno-reorder-functions  -DARON_WAS_HERE  conftest.C  1>&5
 configure:2420: checking whether the C++ compiler (i686-pc-linux-gnu-g++  -march=i686 -pipe -Wno-return-type -w -freorder-blocks -fno-reorder-functions ) is a cross-compiler
 configure:2425: checking whether we are using GNU C++
 configure:2434: i686-pc-linux-gnu-g++ -E conftest.C
 configure:2453: checking whether i686-pc-linux-gnu-g++ accepts -g
...

... 
 int main() {
 XieFloGeometry()
 ; return 0; }
 configure:9069: checking for X11/extensions/XIElib.h
 configure:9079: i686-pc-linux-gnu-gcc -E  -DARON_WAS_HERE  conftest.c >/dev/null 2>conftest.out
 configure:9075:35: error: X11/extensions/XIElib.h: No such file or directory
 configure: failed program was:
 #line 9074 "configure"
 #include "confdefs.h"
 #include <X11/extensions/XIElib.h>
 configure:9153: checking for freetype-config
 configure:9189: checking for FreeType - version >= 6.1.0
...
 i686-pc-linux-gnu-gcc -o dummy dummy.c  -march=i686 -pipe -Wno-return-type -w -freorder-blocks -fno-reorder-functions  -DARON_WAS_HERE  -lpthreads  -ldl -lm 
 /usr/lib/gcc/i686-pc-linux-gnu/4.1.1/../../../../i686-pc-linux-gnu/bin/ld: 
cannot find -lpthreads
 collect2: ld returned 1 exit status
 configure:9337: checking for pthread_create in -lpthread
 i686-pc-linux-gnu-gcc -o dummy dummy.c  -march=i686 -pipe -Wno-return-type -w -freorder-blocks -fno-reorder-functions  -DARON_WAS_HERE  -lpthread  -ldl -lm 
 configure:9437: checking whether i686-pc-linux-gnu-gcc accepts -pthread
 configure:9582: checking whether mmap() sees write()s
 configure:9625: i686-pc-linux-gnu-gcc -o conftest  -march=i686 -pipe -Wno-return-type -w -freorder-blocks -fno-reorder-functions -pthread  -DARON_WAS_HERE   conftest.c -ldl -lm  1>&
 5
...
 configure:10269: i686-pc-linux-gnu-g++ -c  -march=i686 -pipe -Wno-return-type -w -freorder-blocks -fno-reorder-functions -fshort-wchar -pthread  -DARON_WAS_HERE  conftest.C 1>&5
 configure: In function 'int main()':
 configure:10263: error: invalid conversion from 'const char**' to 'char**'
 configure:10263: error:   initializing argument 2 of 'size_t iconv(void*, char**, size_t*, char**, size_t*)'
 configure: failed program was:
 #line 10254 "configure"
 #include "confdefs.h"
 
             #include <stdlib.h>
             #include <iconv.h>
             
 int main() {
 
                 const char *input = "testing";
                 iconv_t h = iconv_open("", "");
                 iconv(h, &input, NULL, NULL, NULL);
                 iconv_close(h);
             
 ; return 0; }
 configure:10298: checking for nl_langinfo and CODESET
...
 configure:10911: i686-pc-linux-gnu-g++ -c  -march=i686 -pipe -Wno-return-type -w -freorder-blocks -fno-reorder-functions -fshort-wchar -pthread  -DARON_WAS_HERE  conftest.C 1>&5
 configure:10922: i686-pc-linux-gnu-g++ -c  -march=i686 -pipe -Wno-return-type -w -freorder-blocks -fno-reorder-functions -fshort-wchar -pthread  -DARON_WAS_HERE  conftest.C 1>&5
 configure: In function 'int main()':
 configure:10915: error: 'int A::foo()' is inaccessible
 configure:10918: error: within this context
 configure: failed program was:
 #line 10914 "configure"
 #include "confdefs.h"
 class A { public: int foo() { return 1; } };
                        class B : public A { private: using A::foo; };
 int main() {
 B b; return b.foo();
 ; return 0; }
 configure:10950: checking whether the C++ "using" keyword resolves ambiguity
...
 configure:11159: i686-pc-linux-gnu-g++ -o conftest  -march=i686 -pipe -Wno-return-type -w -freorder-blocks -fno-reorder-functions -fshort-wchar -pthread  -DARON_WAS_HERE   conftest.
 C -ldl -lm  1>&5
 /var/tmp/portage/mozilla-firefox-1.5.0.7/temp/ccK7tO3S.o: In function `X::X()':
 conftest.C:(.text._ZN1XC1Ev[X::X()]+0x4): undefined reference to `vtable for X'
 collect2: ld returned 1 exit status
 configure: failed program was:
 #line 11152 "configure"
 #include "confdefs.h"
 class X {private: virtual void never_called();};
 int main() {
 X x;
 ; return 0; }
 configure:11182: checking for trouble comparing to zero near std::operator!=()
...
 configure:11843: i686-pc-linux-gnu-gcc -o conftest   -march=i686 -pipe -Wno-return-type -w -freorder-blocks -fno-reorder-functions -pthread  -DARON_WAS_HERE  -lz  -lz  conftest.c -l
 png  -ldl -lm  1>&5
 configure:12345: checking for pkg-config
 configure:12389: checking for gtk+-2.0 >= 1.3.7
 configure:12396: checking MOZ_GTK2_CFLAGS
 configure:12401: checking MOZ_GTK2_LIBS
 configure:13176: checking for xft
 configure:13183: checking MOZ_XFT_CFLAGS
 configure:13267: checking for pangoxft >= 1.1.0 pangox
                                       ^
                                       |
                                       |
Here this last package makes problems -# . 

The bug is reproducable on my system./var/tmp/portage/mozilla-firefox-1.5.0.7/work/mozilla/config.log





Comment 2


Werner M. Mayer





          2006-10-02 22:06:18 UTC
        

To give more info, here is what the set command outputs:
BASH=/bin/bash
BASH_ARGC=()
BASH_ARGV=()
BASH_LINENO=()
BASH_SOURCE=()
BASH_VERSINFO=([0]="3" [1]="1" [2]="16" [3]="1" [4]="release" [5]="i686-pc-linux-gnu")
BASH_VERSION='3.1.16(1)-release'
CLASSPATH=.
COLORTERM=1
COLUMNS=182
CONFIG_PROTECT='/usr/share/X11/xkb /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/xdvi/'
CONFIG_PROTECT_MASK='/etc/gconf /etc/terminfo /etc/revdep-rebuild'
CVS_RSH=ssh
DIRSTACK=()
DISPLAY=:0.0
EDITOR=joe
EUID=0
FLTK_DOCDIR=/usr/share/doc/fltk-1.1.7/html
FROM=wmm@gmx.li
GCC_SPECS=
GDK_USE_XFT=1
GROUPS=()
GUILE_LOAD_PATH=/usr/share/guile/1.6
G_BROKEN_FILENAMES=1
G_FILENAME_ENCODING=UTF-8
HISTCONTROL=ignoredups
HISTFILE=/root/.bash_history
HISTFILESIZE=500
HISTSIZE=500
HOME=/my_home
HOSTNAME=my-pc
HOSTTYPE=i686
IFS=$' \t\n'
INFOPATH=/usr/share/info:/usr/share/binutils-data/i686-pc-linux-gnu/2.16.1/info::/usr/share/gcc-data/i686-pc-linux-gnu/4.1.1/info
JAVAC=/opt/blackdown-jdk-1.4.2.03/bin/javac
JAVA_HOME=/opt/blackdown-jdk-1.4.2.03
JDK_HOME=/opt/blackdown-jdk-1.4.2.03
LESS=' -F -I -J -m -R -s'
LESSOPEN='|lesspipe.sh %s'
LINES=63
LOGNAME=my_home
LS_COLORS='no=00:fi=00:di=01;34:ln=01;36:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=01;05;37;41:mi=01;05;37;41:su=37;41:sg=30;43:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arj=01;31:*.taz=01;31:*.lzh=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.gz=01;31:*.bz2=01;31:*.bz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.rar=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.jpg=01;35:*.jpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.qt=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.pdf=00;32:*.ps=00;32:*.txt=00;32:*.patch=00;32:*.diff=00;32:*.log=00;32:*.tex=00;32:*.doc=00;32:*.flac=01;35:*.mp3=01;35:*.mpc=00;36:*.ogg=00;36:*.wav=00;36:*.mid=00;36:*.midi=00;36:*.au=00;36:*.flac=00;36:*.aac=00;36:'
MACHTYPE=i686-pc-linux-gnu
MAILCHECK=60
MANPATH=/usr/local/share/man:/usr/share/man:/usr/share/binutils-data/i686-pc-linux-gnu/2.16.1/man::/usr/share/gcc-data/i686-pc-linux-gnu/4.1.1/man::/opt/blackdown-jdk-1.4.2.03/man:/usr/qt/3/doc/man
MOZILLA_SHARED_REGISTRY=TRUE
OLDPWD=/etc/env.d
OPENGL_PROFILE=xorg-x11
OPTERR=1
OPTIND=1
OSTYPE=linux-gnu
PAGER=less
PATH=/usr/local/sbin:/usr/local/bin:/usr/lib/ccache/bin/:/usr/sbin:/usr/bin:/sbin:/bin:/opt/bin:/usr/i686-pc-linux-gnu/gcc-bin/4.1.1:/usr/i686-pc-linux-gnu/gcc-bin/4.1.1:/opt/blackdown-jdk-1.4.2.03/bin:/opt/blackdown-jdk-1.4.2.03/jre/bin:/usr/qt/3/bin
PIPESTATUS=([0]="0")
PKG_CONFIG_PATH=/usr/qt/3/lib/pkgconfig
PPID=3981
PRINTER=my_printer
PS1='$TTY\[\033[01;36m\]:\[\033[01;32m\]\u\[\033[01;35m\]@\[\033[01;33m\]\h\[\033[01;36m\]: \[\033[01;34m\]`(pwd -P)` \[\033[01;36m\]\$\[\033[00m\]'
PS2='> '
PS4='+ '
PWD=/etc
PYTHONPATH=/usr/lib/portage/pym
QMAKESPEC=linux-g++
QTDIR=/usr/qt/3
SHELL=/bin/bash
SHELLOPTS=braceexpand:emacs:hashall:histexpand:history:interactive-comments:monitor
SHLVL=1
TERM=xterm
TTY=20
UID=102
USER=my_user
XAUTHORITY=/my_home/.xauthehYs33
_=/var/log/portage/




Comment 3


Jakub Moc (RETIRED)






          2006-10-03 01:00:58 UTC
        

# equery b /usr/lib/libpangoxft-1.0.so.0
[ Searching for file(s) /usr/lib/libpangoxft-1.0.so.0 in *... ]
x11-libs/pango-1.12.3 (/usr/lib/libpangoxft-1.0.so.0 -> libpangoxft-1.0.so.0.1201.2)

firefox already depends on gtk+-2* (which depends on x11-libs/pango), no idea why would you miss it.





Comment 4


Werner M. Mayer





          2006-10-03 11:08:47 UTC
        

Well I don't know what's wrong either, but entering your command equery ends up with this result:
11:root@my_pc: /usr/lib #equery b /usr/lib/libpangoxft-1.0.so.0
[ Searching for file(s) /usr/lib/libpangoxft-1.0.so.0 in *... ]
11:root@my_pc: /usr/lib #

I don't get the same output like you even though I reemerged pango package.
Emerging firefox still aborts with error.

The following pango-files exist in my /usr/lib:
lrwxrwxrwx 1 root root     24 Oct  3 19:40 libpango-1.0.so -> libpango-1.0.so.0.1201.2
lrwxrwxrwx 1 root root     24 Oct  3 19:40 libpango-1.0.so.0 -> libpango-1.0.so.0.1201.2
-rwxr-xr-x 1 root root 231000 Oct  3 19:40 libpango-1.0.so.0.1201.2
-rw-r--r-- 1 root root   1185 Oct  3 19:40 libpangocairo-1.0.la
lrwxrwxrwx 1 root root     29 Oct  3 19:40 libpangocairo-1.0.so -> libpangocairo-1.0.so.0.1201.2
lrwxrwxrwx 1 root root     29 Oct  3 19:40 libpangocairo-1.0.so.0 -> libpangocairo-1.0.so.0.1201.2
-rwxr-xr-x 1 root root  29008 Oct  3 19:40 libpangocairo-1.0.so.0.1201.2
-rw-r--r-- 1 root root    834 Oct  3 19:40 libpangoft2-1.0.la
lrwxrwxrwx 1 root root     27 Oct  3 19:40 libpangoft2-1.0.so -> libpangoft2-1.0.so.0.1201.2
lrwxrwxrwx 1 root root     27 Oct  3 19:40 libpangoft2-1.0.so.0 -> libpangoft2-1.0.so.0.1201.2
-rwxr-xr-x 1 root root 151968 Oct  3 19:40 libpangoft2-1.0.so.0.1201.2
11:root@my_pc: /usr/lib #

Please notice the difference:  your file: libpangoxft    my file: libpangoft,   
a missing "x" in my file -------------------------^,
but don't ask me why, I don't know, maybe a config error during installation 
process?

Do you know any other solution?

Bye, Werner.




Comment 5


Werner M. Mayer





          2006-10-03 22:26:59 UTC
        

OK, so I did a emerge -vC mozilla mozilla-bin mozilla-firefox mozilla-firefox-bin
and then emerge -v mozilla and got following reproducable error:
...
checking for png_get_valid in -lpng... yes
checking for pkg-config... /usr/bin/pkg-config
checking for gtk+-2.0 >= 1.3.7... yes
checking MOZ_GTK2_CFLAGS... -I/usr/include/gtk-2.0 -I/usr/lib/gtk-2.0/include -I
/usr/include/atk-1.0 -I/usr/include/cairo -I/usr/include/pango-1.0 -I/usr/includ
e/glib-2.0 -I/usr/lib/glib-2.0/include  
checking MOZ_GTK2_LIBS...   -lgtk-x11-2.0 -lgdk-x11-2.0 -latk-1.0 -lgdk_pixbuf-2
.0 -lm -lpangocairo-1.0 -lpango-1.0 -lcairo -lgobject-2.0 -lgmodule-2.0 -ldl -lg
lib-2.0  
checking for xft pangoxft >= 1.1.0... Package pangoxft was not found in the pkg-
config search path. Perhaps you should add the directory containing `pangoxft.pc
' to the PKG_CONFIG_PATH environment variable No package 'pangoxft' found
configure: error: Library requirements (xft pangoxft >= 1.1.0) not met; consider
 adjusting the PKG_CONFIG_PATH environment variable if your libraries are in a n
onstandard prefix so pkg-config can find them.

!!! Please attach the following file when filing a report to bugs.gentoo.org:
!!! /var/tmp/portage/mozilla-1.7.13/work/mozilla/config.log

!!! ERROR: www-client/mozilla-1.7.13 failed.
Call stack:
  ebuild.sh, line 1546:   Called dyn_compile
  ebuild.sh, line 937:   Called src_compile
  mozilla-1.7.13.ebuild, line 181:   Called econf
  ebuild.sh, line 540:   Called die

!!! econf failed
!!! If you need support, post the topmost build error, and the call stack if rel
evant.

Please notice the above error:  No package 'pangoxft' found
emerge -vp xft says:   [ebuild   R   ] virtual/xft-7.0  0 kB 
emerge -vp pangoxft says: emerge: there are no ebuilds to satisfy "pangoxft"
find /|grep pangoxft.pc outputs:
/var/tmp/portage/pango-1.12.3/work/pango-1.12.3/pangoxft.pc.in
/var/tmp/portage/pango-1.12.3/work/pango-1.12.3/pangoxft.pc

pkg-config --version ->>>  0.20

Old PKG_CONFIG_PATH='/usr/qt/3/lib/pkgconfig'
New PKG_CONFIG_PATH='/usr/qt/3/lib/pkgconfig;/var/tmp/portage/pango-1.12.3/work/pango-1.12.3/pangoxft.pc'
source /etc/profile ;emerge -v gtk mozilla ...

Same reproducable error as above.
It seems in my version of portage there exists no pangoxft package


Also, I ran pkg-config --list-all: Found:
 pango                 Pango - Internationalized text handling
 pangoft2              Pango FT2 - Freetype 2.0 font support for Pango
 pangocairo            Pango Cairo - Cairo rendering support for Pango
 cairo                 cairo - Multi-platform 2D graphics library
 xft                   Xft - X FreeType library

Taking a look at /var/tmp/portage/pango-1.12.3/work/pango-1.12.3/
found files pangoxft-uninstalled.pc pangoxft-uninstalled.pc.in pangoxft.pc pangoxft.pc.in ...

I installed gentoo via gentoo minimal installcd and via net downloading.
I don't know why the package pangoxft can't be emerged, on the other hand
in the above dir the files exist so maybe pango itself made a mistake during
config-guessing and decided to not install pangoxft-files?

I'm not firm to programming gentoo so I can only guess whats going wrong here.
For me the bug still exists. If you have any idea what I can do I'm open for
suggestions, I'd even recompile packages.

Bye, Werner.




Comment 6


Werner M. Mayer





          2006-10-13 13:40:59 UTC
        

OK, I really don't know what exactly was wrong with the pango-package, but after a
removing mozilla, mozilla-bin firefox and firefox-bin packages, I looked into the 
/usr/lib dir and couldn't find any pango-lib-file. I then did a cd to temporary 
portage workdir of the pango package and ran the "sh ./configure", "make" and 
"make install" manually. I saw that the lib-files were installed in /usr/local/lib 
whereas all other portage lib-files were stored at /usr/lib.

I then renamed /usr/local/lib temporarily to /usr/local/unlib , deleted all .* 
files in /var/tmp/portage/pango... except the .unpacked and remerged 
x11-libs/pango package again. I then ran an editor to set the environment variable
"LD_LIBRAY_PATH" to /usr/lib in my /etc/profile.local but didn't save the file yet
(don't know where else to set it) and again don't know why but after doing an
emerge -v x11-libs/pango all the libfiles where emerged to /usr/lib and after
reemerging the mozilla-firefox-bin package again I was able to start /usr/bin/firefox 
but now got error messages in the executing xterm window running firefox command:

"(Gecko:650): Pango-WARNING **: /usr/local/lib/pango/1.5.0/modules/pango-basic-fc
.so: cannot open shared object file: No such file or directory
Failed to load Pango module for id: 'BasicScriptEngineFc'

As I noticed earlier this error is a linking error which is from previous manual
make of pango (notice /usr/local/unlib dir).

So I set the LD_LIBRARY_PATH="/usr/lib" and did an etc-update;source /etc/profile 
(calling /etc/profile.local) and then an env-update and rm in the workdir of the
pango-package .compiled etc. except the .unpacked file and ran 
sh ./configure --libdir=/usr/lib --prefix=/usr and then ran make and make install again amnually.
This time the lib files were installed to /usr/lib and the  module files in
/usr/lib/pango/1.5.0/modules/pango-basic-fc.so was also in the right place.

Still, when executing firefox, I still get: 
Failed to load Pango module for id: 'BasicScriptEngineFc'
(Gecko:4940): Pango-WARNING **: /usr/local/lib/pango/1.5.0/modules/pango-basic-fc.so: cannot open shared object file: No such file or directory

I tried to get rid of the error (Gecko...) many times but eventually I gave up 
due to lack of knowledge and worked around it doing a 

ln -s /usr/lib /usr/local/lib and that finally got rid of Gecko-Errors. 

While experimenting I have set LD_LIBRARY_PATH=/usr/lib and LD_RUN_PATH=/usr/lib .

Maybe this informations help to resolve the problem. I still have a lack of 
knowledge how to get firefox/pango to know and accept that the modules and libs
are really at /usr/lib/pango... and /usr/lib without using the linking workaround.

You can set "Mark bug as CLOSED" now, but I would appreciate it if you could
expand my knowledgebase on how to resolve the Gecko - error without the
workaround.




Comment 7


Jakub Moc (RETIRED)






          2006-12-08 17:15:33 UTC
        

*** Bug 157548 has been marked as a duplicate of this bug. ***




Comment 8


Gentoo Tester





          2008-06-25 08:06:01 UTC
        

Hello, 

I've encountered the same problem. However, after trying "emerge mozilla-firefox", portage told me to re-emerge pango with X-useflag, which I did, and apperantly the libpangoxft-library apperaed in /usr/lib










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

