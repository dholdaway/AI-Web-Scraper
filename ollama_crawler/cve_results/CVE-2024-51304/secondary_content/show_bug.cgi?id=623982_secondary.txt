Title: 623982 – net-fs/samba - Missing "/var/lib/samba/usershares/"
URL: https://bugs.gentoo.org/show_bug.cgi?id=623982

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 623982
net-fs/samba - Missing "/var/lib/samba/usershares/"
Last modified: 2022-07-28 19:53:38 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 623982 
      - net-fs/samba - Missing "/var/lib/samba/usershares/"


Summary:
net-fs/samba - Missing "/var/lib/samba/usershares/"
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo's SAMBA Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2017-07-06 14:44 UTC by Stefan Schmid





      Modified:
    
2022-07-28 19:53 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



bkohler









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Stefan Schmid





          2017-07-06 14:44:48 UTC
        

The ebuild from net-fs/samba should create the folder "/var/lib/samba/usershares/" for make usershares available and prevent the error in Log.

The Directory with right Permissions:
drwxrwx--T  root:users  /var/lib/samba/usershares

The Errors from syslog/journald:
smbd[1911]: [2017/07/06 07:22:54.848570,  0] ../source3/param/loadparm.c:3441(load_usershare_service)
smbd[1911]:   load_usershare_service: stat of /var/lib/samba/usershares failed. Datei oder Verzeichnis nicht gefunden




Comment 1


Ben Kohler






          2019-07-10 19:20:06 UTC
        

What samba version? Does this happen with a default config or with your custom smb.conf ?




Comment 2


Stefan Schmid





          2019-07-11 09:21:39 UTC
        

(In reply to Ben Kohler from comment #1)
> What samba version?
The "usershare" feature is enabled by default in every Samba version.

> Does this happen with a default config or with your custom smb.conf ?
My and the default usershare directory is "/var/lib/samba/usershares" (see manpage), I didn't change that in my smb.conf.




Comment 3


Ben Kohler






          2022-07-28 19:53:38 UTC
        

I do not see this error and afaict from the man page, this feature is not default on.  Please provide your smb.conf if you still want us to work on this.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

