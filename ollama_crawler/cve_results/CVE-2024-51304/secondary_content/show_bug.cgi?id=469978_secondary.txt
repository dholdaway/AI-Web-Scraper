Title: 469978 – gnome-extra/zeitgeist-datasources-0.8.1  Build target (python2_7) not in PYTHON_TARGETS.
URL: https://bugs.gentoo.org/show_bug.cgi?id=469978

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 469978
gnome-extra/zeitgeist-datasources-0.8.1  Build target (python2_7) not in PYTHON_TARGETS.
Last modified: 2013-05-21 18:25:14 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 469978 
      - gnome-extra/zeitgeist-datasources-0.8.1  Build target (python2_7) not in PYTHON_TARGETS.


Summary:
gnome-extra/zeitgeist-datasources-0.8.1  Build target (python2_7) not in PYTH...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Library

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Justin Lecher (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2013-05-15 18:09 UTC by hajo





      Modified:
    
2013-05-21 18:25 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



python









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge --info

              (file_469978.txt,7.11 KB,
                text/plain)

            
2013-05-15 18:09 UTC,

            hajo




Details





emerge --info =gnome-extra/zeitgeist-datasources-0.8.1

              (file_469978.txt,7.28 KB,
                text/plain)

            
2013-05-18 09:12 UTC,

            hajo




Details





emerge -pqv =gnome-extra/zeitgeist-datasources-0.8.1

              (file_469978.txt,374 bytes,
                text/plain)

            
2013-05-18 09:13 UTC,

            hajo




Details





cat /var/log/portage/gnome-extra:zeitgeist-datasources-0.8.1:20130518-085240.log

              (file_469978.txt,1.71 KB,
                text/plain)

            
2013-05-18 09:15 UTC,

            hajo




Details





cat /var/tmp/portage/gnome-extra/zeitgeist-datasources-0.8.1/temp/die.env

              (file_469978.txt,253.51 KB,
                text/plain)

            
2013-05-18 09:20 UTC,

            hajo




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


hajo





          2013-05-15 18:09:56 UTC
        

Created attachment 348410 [details]
emerge --info

tux ~ # emerge -NDuva @world

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild     U ~] gnome-extra/zeitgeist-datasources-0.8.1 [0.8.0.1] USE="firefox%* telepathy -bzr -emacs -geany -mono% -static-libs -thunderbird% -tomboy -vim -xchat (-chromium%*) (-eog%) (-gedit%) (-rhythmbox%) (-totem%*)" PYTHON_SINGLE_TARGET="python2_7%* -python2_6%" PYTHON_TARGETS="-python2_6% -python2_7%" 0 kB

The same error as in Bug 469376 | https://bugs.gentoo.org/show_bug.cgi?id=469376

The Systen:
tux ~ # eselect python list
Available Python interpreters:
  [1]   python2.7 *
  [2]   python3.1
  [3]   python3.2
  [4]   python3.3

pyinotify:
tux ~ # emerge dev-python/pyinotify -pv

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild   R   ~] dev-python/pyinotify-0.9.4-r1  USE="-examples" PYTHON_TARGETS="python2_7 python3_1 python3_2 -pypy1_9 -python2_5 -python2_6 (-python3_3)" 0 kB




Comment 1


Justin Lecher (RETIRED)






          2013-05-16 14:45:07 UTC
        

@python
What is wrong here.




Comment 2


Michał Górny









          2013-05-16 15:11:35 UTC
        

Paste the error message. It's hard to deduce what the 'same error' is if the error was highly package-specific. In any case, did you try the solution from that bug, i.e. keywording a newer version if you're running a stable system?




Comment 3


hajo





          2013-05-18 09:10:39 UTC
        

Sorry for the inconvenience.

The new version Useflags in gnome-extra/zeitgeist-datasources-0.8.1 for PYTHON_TARGETS = not detected. Blocked emerge.
---------------------------------------------

tux ~ # emerge -NDuva world

These are the packages that would be merged, in order:

Calculating dependencies... done!

emerge: there are no ebuilds built with USE flags to satisfy "dev-python/telepathy-python[python_targets_python2_6(-)?,python_targets_python2_7(-)?,python_single_target_python2_6(+)?,python_single_target_python2_7(+)?]".
!!! One of the following packages is required to complete your request:
- gnome-extra/zeitgeist-datasources-0.8.1::gentoo (Change USE: -python_targets_python2_7)
(dependency required by "gnome-extra/zeitgeist-datasources-0.8.1" [ebuild])
(dependency required by "@selected" [set])
(dependency required by "@world" [argument])
---------------------------------------------

If I do this in /etc/portage/package.use
gnome-extra/zeitgeist-datasources -python_targets_python2_7
I get this message:

---------------------------------------------

 emerge -NDuva world

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild     U ~] gnome-extra/zeitgeist-datasources-0.8.1 [0.8.0.1] USE="firefox%* telepathy -bzr -emacs -geany -mono% -static-libs -thunderbird% -tomboy -vim -xchat (-chromium%*) (-eog%) (-gedit%) (-rhythmbox%) (-totem%*)" PYTHON_SINGLE_TARGET="python2_7%* -python2_6%" PYTHON_TARGETS="-python2_6% -python2_7%" 0 kB

Total: 1 package (1 upgrade), Size of downloads: 0 kB

Would you like to merge these packages? [Yes/No]

--------------------------------------------

After a Yes this error appears:

--------------------------------------------
Would you like to merge these packages? [Yes/No] yes

>>> Verifying ebuild manifests

>>> Emerging (1 of 1) gnome-extra/zeitgeist-datasources-0.8.1
 * zeitgeist-datasources-0.8.1.tar.gz SHA256 SHA512 WHIRLPOOL size ;-) ...                                                                                                  [ ok ]
 * The implementation chosen as PYTHON_SINGLE_TARGET must be added
 * to PYTHON_TARGETS as well. This is in order to ensure that
 * dependencies are satisfied correctly. We're sorry
 * for the inconvenience.

 * ERROR: gnome-extra/zeitgeist-datasources-0.8.1 failed (setup phase):
 *   Build target (python2_7) not in PYTHON_TARGETS.
 * 
 * Call stack:
 *                 ebuild.sh, line  93:  Called pkg_setup
 *                 ebuild.sh, line 324:  Called python-single-r1_pkg_setup
 *   python-single-r1.eclass, line 206:  Called die
 * The specific snippet of code:
 *   				die "Build target (${impl}) not in PYTHON_TARGETS."
 * 
 * If you need support, post the output of `emerge --info '=gnome-extra/zeitgeist-datasources-0.8.1'`,
 * the complete build log and the output of `emerge -pqv '=gnome-extra/zeitgeist-datasources-0.8.1'`.
 * The complete build log is located at '/var/log/portage/gnome-extra:zeitgeist-datasources-0.8.1:20130518-085240.log'.
 * For convenience, a symlink to the build log is located at '/var/tmp/portage/gnome-extra/zeitgeist-datasources-0.8.1/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/gnome-extra/zeitgeist-datasources-0.8.1/temp/die.env'.
 * Working directory: '/usr/lib64/portage/pym'
 * S: '/var/tmp/portage/gnome-extra/zeitgeist-datasources-0.8.1/work/zeitgeist-datasources-0.8.1'

>>> Failed to emerge gnome-extra/zeitgeist-datasources-0.8.1, Log file:

>>>  '/var/log/portage/gnome-extra:zeitgeist-datasources-0.8.1:20130518-085240.log'

-------------------------------------------------------------

/var/log/portage/gnome-extra:zeitgeist-datasources-0.8.1:20130518-085240.log shows:
-------------------------------------------------------------

tux ~ # cat /var/log/portage/gnome-extra:zeitgeist-datasources-0.8.1:20130518-085240.log
 * Package:    gnome-extra/zeitgeist-datasources-0.8.1
 * Repository: gentoo
 * Maintainer: jlec@gentoo.org
 * USE:        amd64 elibc_glibc firefox kernel_linux python_single_target_python2_7 telepathy userland_GNU
 * FEATURES:   preserve-libs sandbox splitdebug userpriv
 * The implementation chosen as PYTHON_SINGLE_TARGET must be added
 * to PYTHON_TARGETS as well. This is in order to ensure that
 * dependencies are satisfied correctly. We're sorry
 * for the inconvenience.

 * ERROR: gnome-extra/zeitgeist-datasources-0.8.1 failed (setup phase):
 *   Build target (python2_7) not in PYTHON_TARGETS.
 * 
 * Call stack:
 *                 ebuild.sh, line  93:  Called pkg_setup
 *                 ebuild.sh, line 324:  Called python-single-r1_pkg_setup
 *   python-single-r1.eclass, line 206:  Called die
 * The specific snippet of code:
 *   				die "Build target (${impl}) not in PYTHON_TARGETS."
 * 
 * If you need support, post the output of `emerge --info '=gnome-extra/zeitgeist-datasources-0.8.1'`,
 * the complete build log and the output of `emerge -pqv '=gnome-extra/zeitgeist-datasources-0.8.1'`.
 * The complete build log is located at '/var/log/portage/gnome-extra:zeitgeist-datasources-0.8.1:20130518-085240.log'.
 * For convenience, a symlink to the build log is located at '/var/tmp/portage/gnome-extra/zeitgeist-datasources-0.8.1/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/gnome-extra/zeitgeist-datasources-0.8.1/temp/die.env'.
 * Working directory: '/usr/lib64/portage/pym'
 * S: '/var/tmp/portage/gnome-extra/zeitgeist-datasources-0.8.1/work/zeitgeist-datasources-0.8.1'
-----------------------------------------------------

My System 

tux ~ # eselect python list
Available Python interpreters:
  [1]   python2.7 *
  [2]   python3.1
  [3]   python3.2
  [4]   python3.3


tux ~ # emerge dev-python/pyinotify -pv

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild   R    ] dev-python/pyinotify-0.9.4-r1  USE="-examples" PYTHON_TARGETS="python2_7 python3_1 python3_2 -pypy1_9 -python2_5 -python2_6 (-python3_3)" 0 kB

Total: 1 package (1 reinstall), Size of downloads: 0 kB
-----------------------------------------------------

These are the error messages.

I added the complete build log.

Greetings
Hajo




Comment 4


hajo





          2013-05-18 09:12:15 UTC
        

Created attachment 348594 [details]
emerge --info =gnome-extra/zeitgeist-datasources-0.8.1




Comment 5


hajo





          2013-05-18 09:13:49 UTC
        

Created attachment 348596 [details]
emerge -pqv =gnome-extra/zeitgeist-datasources-0.8.1




Comment 6


hajo





          2013-05-18 09:15:02 UTC
        

Created attachment 348598 [details]
cat /var/log/portage/gnome-extra:zeitgeist-datasources-0.8.1:20130518-085240.log




Comment 7


hajo





          2013-05-18 09:20:41 UTC
        

Created attachment 348600 [details]
cat /var/tmp/portage/gnome-extra/zeitgeist-datasources-0.8.1/temp/die.env




Comment 8


Justin Lecher (RETIRED)






          2013-05-18 10:29:53 UTC
        

I don't see what is wrong. @Python I need your help.




Comment 9


Michał Górny









          2013-05-18 12:25:41 UTC
        

Please paste the output of:

  emerge -1vp dev-python/telepathy-python dev-python/dbus-python dev-python/pygobject




Comment 10


hajo





          2013-05-18 13:44:12 UTC
        

tux ~ # emerge -1vp dev-python/telepathy-python dev-python/dbus-python dev-python/pygobject

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild   R    ] dev-python/dbus-python-1.2.0  USE="-doc -examples {-test}" PYTHON_TARGETS="python2_7 python3_2 -python2_6 (-python3_3)" 0 kB
[ebuild   R   ~] dev-python/pygobject-3.4.2-r1:3  USE="cairo threads -examples {-test}" PYTHON_TARGETS="python2_7 python3_1 python3_2 -python2_6 (-python3_3)" 0 kB
[ebuild   R    ] dev-python/telepathy-python-0.15.19  0 kB

Total: 3 packages (3 reinstalls), Size of downloads: 0 kB




Comment 11


Justin Lecher (RETIRED)






          2013-05-18 13:49:37 UTC
        

(In reply to comment #10)
> [ebuild   R    ] dev-python/telepathy-python-0.15.19  0 kB

if you merge arch with ~arch please try to make sure all necessary packages are keyworded.

You need to use dev-python/telepathy-python-0.15.19-r1.

Please try again.




Comment 12


hajo





          2013-05-18 14:01:38 UTC
        

>>> Installing (1 of 1) dev-python/telepathy-python-0.15.19-r1

>>> Recording dev-python/telepathy-python in "world" favorites file...
>>> Auto-cleaning packages...

>>> No outdated packages were found on your system.

 * GNU info directory index is up-to-date.


tux ~ # emerge -NDuva world

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild     U ~] gnome-extra/zeitgeist-datasources-0.8.1 [0.8.0.1] USE="firefox%* telepathy -bzr -emacs -geany -mono% -static-libs -thunderbird% -tomboy -vim -xchat (-chromium%*) (-eog%) (-gedit%) (-rhythmbox%) (-totem%*)" PYTHON_SINGLE_TARGET="python2_7%* -python2_6%" PYTHON_TARGETS="-python2_6% -python2_7%" 0 kB

Total: 1 package (1 upgrade), Size of downloads: 0 kB

Would you like to merge these packages? [Yes/No] yes

>>> Verifying ebuild manifests

>>> Emerging (1 of 1) gnome-extra/zeitgeist-datasources-0.8.1
 * zeitgeist-datasources-0.8.1.tar.gz SHA256 SHA512 WHIRLPOOL size ;-) ...                                                                                                  [ ok ]
 * The implementation chosen as PYTHON_SINGLE_TARGET must be added
 * to PYTHON_TARGETS as well. This is in order to ensure that
 * dependencies are satisfied correctly. We're sorry
 * for the inconvenience.

 * ERROR: gnome-extra/zeitgeist-datasources-0.8.1 failed (setup phase):
 *   Build target (python2_7) not in PYTHON_TARGETS.
 * 
 * Call stack:
 *                 ebuild.sh, line  93:  Called pkg_setup
 *                 ebuild.sh, line 324:  Called python-single-r1_pkg_setup
 *   python-single-r1.eclass, line 206:  Called die
 * The specific snippet of code:
 *   				die "Build target (${impl}) not in PYTHON_TARGETS."
 * 
 * If you need support, post the output of `emerge --info '=gnome-extra/zeitgeist-datasources-0.8.1'`,
 * the complete build log and the output of `emerge -pqv '=gnome-extra/zeitgeist-datasources-0.8.1'`.
 * The complete build log is located at '/var/log/portage/gnome-extra:zeitgeist-datasources-0.8.1:20130518-135954.log'.
 * For convenience, a symlink to the build log is located at '/var/tmp/portage/gnome-extra/zeitgeist-datasources-0.8.1/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/gnome-extra/zeitgeist-datasources-0.8.1/temp/die.env'.
 * Working directory: '/usr/lib64/portage/pym'
 * S: '/var/tmp/portage/gnome-extra/zeitgeist-datasources-0.8.1/work/zeitgeist-datasources-0.8.1'

>>> Failed to emerge gnome-extra/zeitgeist-datasources-0.8.1, Log file:

>>>  '/var/log/portage/gnome-extra:zeitgeist-datasources-0.8.1:20130518-135954.log'




Comment 13


Justin Lecher (RETIRED)






          2013-05-20 15:53:05 UTC
        

please check that you don't have any special settings for PYTHON_TARGETS in /etc/portage. It seems there is something wrong on your setup.




Comment 14


hajo





          2013-05-21 18:15:43 UTC
        

Yes, you were right. I had forgotten the above entry in /usr/portage/package.use. Now it works.

---------------------------------------------------

tux package.use # emerge -NDuva world

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild     U ~] gnome-extra/zeitgeist-datasources-0.8.1 [0.8.0.1] USE="firefox%* telepathy -bzr -emacs -geany -mono% -static-libs -thunderbird% -tomboy -vim -xchat (-chromium%*) (-eog%) (-gedit%) (-rhythmbox%) (-totem%*)" PYTHON_SINGLE_TARGET="python2_7%* -python2_6%" PYTHON_TARGETS="python2_7%* -python2_6%" 0 kB

Total: 1 package (1 upgrade), Size of downloads: 0 kB

Would you like to merge these packages? [Yes/No] 

---------------------------------------------------
YES
>>> Installing (1 of 1) gnome-extra/zeitgeist-datasources-0.8.1
 * checking 14 files for package collisions
>>> Merging gnome-extra/zeitgeist-datasources-0.8.1 to /
--- /usr/
--- /usr/bin/
>>> /usr/bin/zeitgeist-telepathy-observer
--- /usr/lib64/
--- /usr/lib64/firefox/
--- /usr/lib64/firefox/extensions/
--- /usr/share/
--- /usr/share/doc/
>>> /usr/share/doc/zeitgeist-datasources-0.8.1/
>>> /usr/share/doc/zeitgeist-datasources-0.8.1/TODO.bz2
>>> /usr/share/doc/zeitgeist-datasources-0.8.1/NEWS.bz2
>>> /usr/share/doc/zeitgeist-datasources-0.8.1/README.bz2
--- /usr/share/dbus-1/
--- /usr/share/dbus-1/services/
>>> /usr/share/dbus-1/services/org.freedesktop.Telepathy.Client.Zeitgeist.service
--- /usr/share/telepathy/
--- /usr/share/telepathy/clients/
>>> /usr/share/telepathy/clients/Zeitgeist.client
>>> /usr/share/xpcom-firefox@zeitgeist-project.com/
>>> /usr/share/xpcom-firefox@zeitgeist-project.com/install.rdf
>>> /usr/share/xpcom-firefox@zeitgeist-project.com/chrome.manifest
>>> /usr/share/xpcom-firefox@zeitgeist-project.com/license.txt
>>> /usr/share/xpcom-firefox@zeitgeist-project.com/defaults/
>>> /usr/share/xpcom-firefox@zeitgeist-project.com/defaults/preferences/
>>> /usr/share/xpcom-firefox@zeitgeist-project.com/defaults/preferences/zeitgeist.js
>>> /usr/share/xpcom-firefox@zeitgeist-project.com/chrome/
>>> /usr/share/xpcom-firefox@zeitgeist-project.com/chrome/content/
>>> /usr/share/xpcom-firefox@zeitgeist-project.com/chrome/content/module.js
>>> /usr/share/xpcom-firefox@zeitgeist-project.com/chrome/content/event.js
>>> /usr/share/xpcom-firefox@zeitgeist-project.com/chrome/content/zeitgeist.png
>>> /usr/share/xpcom-firefox@zeitgeist-project.com/chrome/content/zeitgeist.xul
>>> /usr/lib64/firefox/extensions/xpcom-firefox@zeitgeist-project.com -> //usr/share/xpcom-firefox@zeitgeist-project.com
>>> Safely unmerging already-installed instance...
No package files given... Grabbing a set.
--- replaced obj /usr/share/telepathy/clients/Zeitgeist.client
--- replaced dir /usr/share/telepathy/clients
--- replaced dir /usr/share/telepathy
<<<          obj /usr/share/doc/zeitgeist-datasources-0.8.0.1/TODO.bz2
<<<          obj /usr/share/doc/zeitgeist-datasources-0.8.0.1/README.bz2
<<<          obj /usr/share/doc/zeitgeist-datasources-0.8.0.1/NEWS.bz2
--- replaced dir /usr/share/doc
--- replaced obj /usr/share/dbus-1/services/org.freedesktop.Telepathy.Client.Zeitgeist.service
--- replaced dir /usr/share/dbus-1/services
--- replaced dir /usr/share/dbus-1
--- replaced dir /usr/share
<<<          obj /usr/lib64/chromium-browser/resources/zeitgeist_plugin/zeitgeist.js
<<<          obj /usr/lib64/chromium-browser/resources/zeitgeist_plugin/plugin/libzeitgeist-npapi-plugin.so
<<<          obj /usr/lib64/chromium-browser/resources/zeitgeist_plugin/plugin/libzeitgeist-npapi-plugin.la
<<<          obj /usr/lib64/chromium-browser/resources/zeitgeist_plugin/manifest.json
<<<          obj /usr/lib64/chromium-browser/resources/zeitgeist_plugin/content_script.js
<<<          obj /usr/lib64/chromium-browser/resources/zeitgeist_plugin/background.html
--- replaced dir /usr/lib64
<<<          obj /usr/lib/debug/usr/lib64/chromium-browser/resources/zeitgeist_plugin/plugin/libzeitgeist-npapi-plugin.so.debug
--- cfgpro   dir /usr/lib
--- replaced obj /usr/bin/zeitgeist-telepathy-observer
--- replaced dir /usr/bin
--- replaced dir /usr
<<<          dir /usr/share/doc/zeitgeist-datasources-0.8.0.1
<<<          dir /usr/lib64/chromium-browser/resources/zeitgeist_plugin/plugin
<<<          dir /usr/lib64/chromium-browser/resources/zeitgeist_plugin
--- !empty   dir /usr/lib64/chromium-browser/resources
--- !empty   dir /usr/lib64/chromium-browser
<<<          dir /usr/lib/debug/usr/lib64/chromium-browser/resources/zeitgeist_plugin/plugin
<<<          dir /usr/lib/debug/usr/lib64/chromium-browser/resources/zeitgeist_plugin
<<<          dir /usr/lib/debug/usr/lib64/chromium-browser/resources
--- !empty   dir /usr/lib/debug/usr/lib64/chromium-browser
--- !empty   dir /usr/lib/debug/usr/lib64
--- !empty   dir /usr/lib/debug/usr
--- !empty   dir /usr/lib/debug
>>> Regenerating /etc/ld.so.cache...
>>> Original instance of package unmerged safely.
>>> gnome-extra/zeitgeist-datasources-0.8.1 merged.
>>> Auto-cleaning packages...

>>> No outdated packages were found on your system.

 * GNU info directory index is up-to-date.
---------------------------------------------------

You told me, "if you merge arch with ~ arch please try to make sure all packages are keyworded necessary." But, please understand, I am only a user and not a programmer.

As a user, I rely on the advice of the ebulds. 

Thank you that you have spent so much time for me.
Greetings
Hajo

[Solved]









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

