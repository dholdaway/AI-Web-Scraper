Title: 126645 – Nexuiz 1.5 doesn't build with nvidia-glx
URL: https://bugs.gentoo.org/show_bug.cgi?id=126645

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 126645
Nexuiz 1.5 doesn't build with nvidia-glx
Last modified: 2006-03-24 14:03:04 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 126645 
      - Nexuiz 1.5 doesn't build with nvidia-glx


Summary:
Nexuiz 1.5 doesn't build with nvidia-glx
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Games

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

X11 External Driver Maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-03-18 03:49 UTC by Lionel Bouton





      Modified:
    
2006-03-24 14:03 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



brebs









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Lionel Bouton





          2006-03-18 03:49:04 UTC
        

emerge nexuiz fails with the following messages during compilation:

========== darkplaces-glx (release) ==========
make darkplaces-glx \
DP_MAKE_TARGET=linux DP_SOUND_API=ALSA \
CFLAGS="-march=k8 -O2 -pipe   "\
        LDFLAGS=" -lm -ldl -L/usr/X11R6/lib64 -lX11 -lXext -lXxf86dga -lXxf86vm 
-lasound -lm -ldl -lpthread  "
make[2]: Entering directory `/var/tmp/portage/nexuiz-1.5/work/Nexuiz/darkplaces'
cc -march=k8 -O2 -pipe    -c sys_linux.c -o sys_linux.o
cc -march=k8 -O2 -pipe    -c vid_glx.c -o vid_glx.o -I/usr/X11R6/include
In file included from /usr/include/GL/glx.h:27,
                 from vid_glx.c:32:
/usr/include/GL/gl.h:71:22: GL/glext.h: No such file or directory
In file included from vid_glx.c:32:
/usr/include/GL/glx.h:335:23: GL/glxext.h: No such file or directory
make[2]: *** [vid_glx.o] Error 1
make[2]: Leaving directory `/var/tmp/portage/nexuiz-1.5/work/Nexuiz/darkplaces'
make[1]: *** [bin-release] Error 2
make[1]: Leaving directory `/var/tmp/portage/nexuiz-1.5/work/Nexuiz/darkplaces'
make: *** [cl-release] Error 2

##### emerge --info :

Portage 2.0.54 (default-linux/amd64/2005.1, gcc-3.4.4, glibc-2.3.5-r2, 2.6.15-gentoo-r4 x86_64)
=================================================================
System uname: 2.6.15-gentoo-r4 x86_64 AMD Athlon(tm) 64 Processor 3000+
Gentoo Base System version 1.6.14
distcc 2.18.3 x86_64-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
ccache version 2.3 [enabled]
dev-lang/python:     2.3.5-r2, 2.4.2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=k8 -O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-march=k8 -O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache distlocks sandbox sfperms strict userpriv usersandbox"
GENTOO_MIRRORS="http://gentoo.mirror.solnet.ch http://ftp.belnet.be/mirror/rsync.gentoo.org/gentoo/ http://ftp.snt.utwente.nl/pub/os/linux/gentoo"
LINGUAS="fr en"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://quiet.gyver.int/gentoo-portage"
USE="amd64 X a52 aac aalib alsa arts asf audiofile avi bash-completion berkdb bindist bitmap-fonts bzip2 cairo cdparanoia cjk crypt cups curl dga dri dts dvb dvd dvdread eds emacs emboss encode esd exif expat ffmpeg flac foomaticdb gdbm gif gimpprint glut gstreamer gtk gtk2 ieee1394 imagemagick imlib java jikes jpeg lcms ldap libcaca live lzw lzw-tiff mad matroska mikmod mng mod mozdevelop mozilla mozsvg mp3 mpeg ncurses nls nptl nvidia offensive ogg oggvorbis openal opengl pam pdflib perl physfs png postgres ppds python quicktime readline real rtc ruby samba scanner sdl shout sndfile speex spell ssl svg theora threads tiff truetype truetype-fonts type1-fonts udev unicode usb vorbis xine xinerama xml2 xmms xpm xprint xrandr xv xvid xvmc zlib linguas_fr linguas_en userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS




Comment 1


Jakub Moc (RETIRED)






          2006-03-18 05:33:17 UTC
        

Games bugs are never a blocker. Try again after running 'opengl-update xorg-x11' and report back, please. 




Comment 2


Lionel Bouton





          2006-03-18 06:08:33 UTC
        

> "Games bugs are never a blocker".

This is not important but just to make it clear, is it just for games ? I checked the severities' descriptions and didn't find a clear match. From what you wrote and the "blocker"'s description, it seems "blocker" should be reserved to system or important libraries ebuilds.

Anyway, "eselect opengl set xorg-x11" solved the problem.

I guess it is a nvidia-glx bug then... I changed the summary to better reflect this, but should this bug left RESOLVED (there is a workaround, but it still doesn't work out of the box)?




Comment 3


Jakub Moc (RETIRED)






          2006-03-18 06:35:22 UTC
        

(In reply to comment #2)
> > "Games bugs are never a blocker".
> 
> This is not important but just to make it clear, is it just for games ? I
> checked the severities' descriptions and didn't find a clear match. From what
> you wrote and the "blocker"'s description, it seems "blocker" should be
> reserved to system or important libraries ebuilds.

http://www.gentoo.org/proj/en/desktop/games/index.xml#doc_chap5_sect4

> Anyway, "eselect opengl set xorg-x11" solved the problem.
> 
> I guess it is a nvidia-glx bug then... I changed the summary to better reflect
> this, but should this bug left RESOLVED (there is a workaround, but it still
> doesn't work out of the box)?

Re-assigning...




Comment 4


Jeremy Huddleston (RETIRED)






          2006-03-24 14:03:04 UTC
        

If this doesn't work after doing an 'eselect opengl set nvidia' or 'eselect opengl set xorg', please reopen.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

