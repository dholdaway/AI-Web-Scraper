Title: 638980 – libreoffice 5.4.2.2 and 5.4.3.2 do not open docx
URL: https://bugs.gentoo.org/show_bug.cgi?id=638980

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 638980
libreoffice 5.4.2.2 and 5.4.3.2 do not open docx
Last modified: 2017-12-05 18:44:07 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 638980 
      - libreoffice 5.4.2.2 and 5.4.3.2 do not open docx


Summary:
libreoffice 5.4.2.2 and 5.4.3.2 do not open docx
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Office Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2017-11-27 15:45 UTC by WRz





      Modified:
    
2017-12-05 18:44 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Error message while trying to open a docx file

              (lo.txt,20.56 KB,
                text/plain)

            
2017-11-27 15:45 UTC,

            WRz




Details





Example docx causing crash, saved in libreoffice-5.2.7.2

              (test.docx,4.07 KB,
                application/vnd.openxmlformats-officedocument.wordprocessingml.document)

            
2017-11-27 23:11 UTC,

            WRz




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


WRz





          2017-11-27 15:45:15 UTC
        

Created attachment 506828 [details]
Error message while trying to open a docx file

Since last upgrade libreoffice crashes trying to open docx files. I checked on 5.4.2.2 and 5.4.3.2 and also on libreoffice-bin-5.4.2.2 -- all versions currently available in the portage. 

I tried to compile with gcc x86_64-pc-linux-gnu-5.4.0 and x86_64-pc-linux-gnu-6.4.0 with the same result. I also tried to turn on jemalloc USE flag, it also did not help. 

I tried to find help on forum, but it seems nobody knows what to do: https://forums.gentoo.org/viewtopic-p-8147072.html. Unfortunately older versions were conveniently removed, so I'm stuck without any way to open docx files...

The error encountered every time I try to open a docx is in attachment.




Comment 1


Andreas Sturmlechner






          2017-11-27 16:57:02 UTC
        

Please attach a test file that makes your LibreOffice crash.




Comment 2


WRz





          2017-11-27 18:42:48 UTC
        

Take any docx as an example. I wasn't able to open any. For obvious reasons I cannot make my actual documents public.

As to severity lowered from 'major' to 'normal' -- this is about crashing application that renders the business suite useless in significant number of use cases. This is severity 'normal'!? For me actually it's a 'blocker'.




Comment 3


Andreas Sturmlechner






          2017-11-27 18:44:13 UTC
        

(In reply to WRz from comment #2)
> Take any docx as an example. I wasn't able to open any. For obvious reasons
> I cannot make my actual documents public.
Any docx file works fine for me. I'm obviously not asking for your actual documents but for some minimum example file that crashes for you.




Comment 4


WRz





          2017-11-27 18:57:29 UTC
        

I just installed working version of libreoffice with some hacked overlay. To fulfil your request will take ~6h of CPU time and another day without office suite. If you have any other things for me to do with this buggy version better let me know quickly so I can do it all a once...




Comment 5


Andreas Sturmlechner






          2017-11-27 19:13:33 UTC
        

Just quickpkg your current libreoffice install.




Comment 6


WRz





          2017-11-27 19:22:54 UTC
        

Thanks! You just reduced the CPU time by half ;-)




Comment 7


WRz





          2017-11-27 23:11:44 UTC
        

Created attachment 506894 [details]
Example docx causing crash, saved in libreoffice-5.2.7.2




Comment 8


WRz





          2017-11-27 23:16:17 UTC
        

Another example causing crash can be downloaded from this post: https://forums.gentoo.org/viewtopic-p-8147222.html#8147222 (too large for an attachment).




Comment 9


Andreas Sturmlechner






          2017-12-01 09:40:25 UTC
        

Please try to rebuild gpgme and libgpg-error.




Comment 10


WRz





          2017-12-01 16:48:35 UTC
        

(In reply to Andreas Sturmlechner from comment #9)
> Please try to rebuild gpgme and libgpg-error.

I tried and it solved the problem. libreoffice-5.4.2.2 no longer crashes opening docx files! ;-) 

Do you need me to test 5.4.3.2? It will take more time, because I don't have it in binary package, but I can do it tonight.




Comment 11


Andreas Sturmlechner






          2017-12-01 17:35:28 UTC
        

No, not necessary, since there is no issue with LibreOffice.




Comment 12


WRz





          2017-12-01 17:37:03 UTC
        

(In reply to Andreas Sturmlechner from comment #11)
> No, not necessary, since there is no issue with LibreOffice.

OK. 

Thank you for solving the issue! ;-)









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

