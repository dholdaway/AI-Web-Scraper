Title: 156262 – KDE 3.5.5 / CUPS 1.2.7 incompatibility
URL: https://bugs.gentoo.org/show_bug.cgi?id=156262

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 156262
KDE 3.5.5 / CUPS 1.2.7 incompatibility
Last modified: 2007-07-07 00:04:51 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 156262 
      - KDE 3.5.5 / CUPS 1.2.7 incompatibility


Summary:
KDE 3.5.5 / CUPS 1.2.7 incompatibility
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Printing

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       major
      


Assignee:

Printing Team








URL:







Whiteboard:




Keywords:









Duplicates (1):
    

156344

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2006-11-25 16:37 UTC by Dennis Schridde





      Modified:
    
2007-07-07 00:04 UTC
      (History)
    




          CC List:
        

4 
          users
          
            (show)
          



bugs
gentoo.org
giovanni.bobbio
radek.dvorak









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Dennis Schridde





          2006-11-25 16:37:18 UTC
        

When I try to print something after the update of cups I get a message similar to this: "Depending printing process could not be started: [...]"
When I try to execute the shown command I get: "This utility doesn't support printing from STDIN"
I was able to strip this down to a commandline like this: "cupsdoprint -P 'MYPRINTER'"
Where MYPRINTER is the name of my printer.




Comment 1


Stefan Schweizer (RETIRED)






          2006-11-25 16:39:10 UTC
        

Please try to rebuild kdelibs and tell me if it works after that. If not, please reopen.




Comment 2


Jakub Moc (RETIRED)






          2006-11-26 13:31:07 UTC
        

*** Bug 156344 has been marked as a duplicate of this bug. ***




Comment 3


Dennis Schridde





          2006-11-29 11:41:44 UTC
        

It doesn't work. Still the same problem. KDE tries to start cupsdoprint. When I start it manually I am still told that it doesn't support printing from stdin...




Comment 4


Dennis Schridde





          2006-12-04 10:37:13 UTC
        

Should I perhaps also rebuild kdeprint???
Does anyone know why this bug suddenly happened?
Downgrading cups didn't help either... Is this a bug in the Gentoo patches to KDE?




Comment 5


Non_E





          2006-12-04 11:25:58 UTC
        

Dennis Schridde: I have tried rebuilding both cups and kdeprint with no success. Well, we might at least compere each others printer related programs versions; these are mine:

kde-base/kdelibs-3.5.5-r7 (my tip for a culprit)
kde-base/kdeprint-3.5.5
net-print/cups-1.2.7

Btw adding filename as the last parameter to the cupsdoprint command works well for manual printing.




Comment 6


Dennis Schridde





          2007-01-06 17:34:47 UTC
        

Problem persists, no fix found till now.

I am just glad that I didn't have to print something other than PDFs till now (do it via acroread). Otherwise I would have been screwed.

That's the reason why I increased the severity to major. (You could even see it as critical, IMO, because it makes all and every KDE application completely unable to print.)

I am using the same versions:
kde-base/kdelibs-3.5.5-r7
kde-base/kdeprint-3.5.5
net-print/cups-1.2.7




Comment 7


Marcel Meckel





          2007-01-14 15:41:39 UTC
        

Same here, cups 1.2.6, kde 3.5.5 and kdelibs recompiled - still not able to print with kde.




Comment 8


Dennis Schridde





          2007-01-14 16:35:19 UTC
        

Is there actually a maintainer of this bug? Is there even a Gentoo-Printing team? It seems as if no one cares about this problem... :(
Perhaps the assignment should be switched to some other group? KDE maintainers maybe? (Other programs, like AcroRead, GIMP and similar do not have this problem.)




Comment 9


Non_E





          2007-01-14 21:13:36 UTC
        

I tried downgrading kdelibs, cups and kdeprint to a previous version. There were some bockers with kdeprint (3.5.2) therefore I downgraded only kdelibs (to 3.5.5-r6) and cups (to 1.2.6). I rebooted and printing worked again. Then I emerged previously quickpackaged kdelibs-3.5.5-r7, restarted both kde and cupsd and printing still worked.

I am currently re-emerging kdelibs-3.5.5-r7, cups-1.2.6 and kdeprint-3.5.5 from sources to see if downgrading cups was the real solution.




Comment 10


Non_E





          2007-01-14 22:28:25 UTC
        

Well, downgrading cups to version 1.3.6 solved this bug for me.




Comment 11


Dennis Schridde





          2007-01-14 22:37:03 UTC
        

Downgrading to 1.3.6? I guess you mean 1.2.6?
Well, for most of us this didn't help...




Comment 12


Non_E





          2007-01-14 23:02:32 UTC
        

You are right, I meant 1.2.6.

I remember kdelibs and cups were the last packages I emerged before the problem occured. Kdelibs r6 and r7 AFAIK differ only in some xinerama patches therefore cups should be the culprit.

I admit not to understand "the magic behind" but I will provide any information you need. In fact I did nothing more than emerging older cups and re-emerging kdelibs.




Comment 13


mren





          2007-01-15 15:07:58 UTC
        

It seems I have the same problem here. I can't .print pdfs nor send them to fax. But a standard text-file I can print without any problem. With acroread I can print .pdfs as well. So it seems the problem is in the format-changing (from .pdf to .ps I think). I already have recompiled xpdf, cups, kdelibs and kdeprint -- with no success.

Here my versions:
kdelibs-3.5.5-r5
kdeprint-3.5.5
cups-1.2.6
xpdf-3.01-r8




Comment 14


Marcel Meckel





          2007-01-15 15:10:18 UTC
        

i can confirm problem exists with cups-1.2.6 and kdelibs-3.5.5-r5

problem does _not_ exist with cups-1.1.23-r8 and kdelibs-3.5.5-r5

i recompiled kdelibs after downgrading cups but dunno if it's necessary.

at least now my users can print from kde apps.




Comment 15


Dennis Schridde





          2007-01-15 19:59:49 UTC
        

I just tried like you said:
Downgrade to cups 1.2.6 and reemerge kdelibs.
Result: Same as before... Still no printing in KDE. :(




Comment 16


Non_E





          2007-01-16 17:32:05 UTC
        

I admit I have no idea what is it going on. I wanted to test the issue a bit further and therefore did "emerge =cups-1.2.7 && emerge kdelibs kdeprint". I hoped printing will NOT work. I rebooted pc, started kde, started cupsd and printing works.




Comment 17


Non_E





          2007-01-17 22:21:19 UTC
        

(In reply to comment #15)
> I just tried like you said:
> Downgrade to cups 1.2.6 and reemerge kdelibs.
> Result: Same as before... Still no printing in KDE. :(
> 

I have found out that 'emerge =cups-1.2.7 && emerge kdelibs kdeprint' and pc restarted really disables my kde printing while 'emerge =cups-1.2.6 && emerge kdelibs kdeprint' eneables kde printing. I have tested it twice recently.

The working cups 1.2.7 was probably caused by me not restarting cupsd. Sorry for such hoax :-(




Comment 18


Dennis Schridde





          2007-01-26 12:47:49 UTC
        

I have masked 1.2.7 a while ago, without that it would have fixed the problem.
I just have updated to KDE 3.5.6 and the problem still persists...




Comment 19


wilhelm hagg





          2007-04-16 19:45:56 UTC
        

I still have no idea how to enable printing on my machine.

With 
 cups-1.2.6
 kde-base/kdebase-3.5.5-r3
--> printing does not work

Then i went back to
  cups-1.1.23-r8
recompiled kdebase and printing is still not working.

I dont have kde-print explicitly installed, but as printing worked before the update to kde-3.5.5, i guess this is somehow part of kdebase (it is also not possible to emerge kde-printing when kde-base is installed).





Comment 20


Dennis Schridde





          2007-04-16 19:54:57 UTC
        

Print magically works again here (since a while).
kdelibs-3.5.6-r5
kdeprint-3.5.6
cups-1.2.10




Comment 21


Stefan Schweizer (RETIRED)






          2007-07-07 00:04:51 UTC
        

This bug got fixed upstream. it worksforme and I am on KDE: 3.5.7









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

