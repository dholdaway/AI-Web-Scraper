Title: 528850 – linux-mod.eclass - pkg_setup(): Could not find a Makefile in the kernel source directory.
URL: https://bugs.gentoo.org/show_bug.cgi?id=528850

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 528850
linux-mod.eclass - pkg_setup(): Could not find a Makefile in the kernel source directory.
Last modified: 2021-08-24 21:50:49 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 528850 
      - linux-mod.eclass - pkg_setup(): Could not find a Makefile in the kernel source directory.


Summary:
linux-mod.eclass - pkg_setup(): Could not find a Makefile in the kernel sourc...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Eclasses

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Kernel Bug Wranglers and Kernel Maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2014-11-10 16:31 UTC by Toralf Förster





      Modified:
    
2021-08-24 21:50 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




media-video:v4l2loopback-0.8.0:20141109-214444.log

              (media-video:v4l2loopback-0.8.0:20141109-214444.log,2.10 KB,
                text/plain)

            
2014-11-10 16:31 UTC,

            Toralf Förster




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Toralf Förster






          2014-11-10 16:31:35 UTC
        

Created attachment 389012 [details]
media-video:v4l2loopback-0.8.0:20141109-214444.log

happened in an hardened ~amd64 chroot at a ~hardened amd64 hsot :

which is curious b/c the config is there :

# ls -l /mnt/qa/tinderbox/amd64*/usr/src/linux/.config
-rw-r--r-- 1 root root 179564 Nov  7 09:48 /mnt/qa/tinderbox/amd64-hardened/usr/src/linux/.config
-rw-r--r-- 1 root root 176722 Nov  7 09:48 /mnt/qa/tinderbox/amd64/usr/src/linux/.config


 * Package:    media-video/v4l2loopback-0.8.0
 * Repository: gentoo
 * Maintainer: naota@gentoo.org
 * USE:        abi_x86_64 amd64 elibc_glibc kernel_linux userland_GNU
 * FEATURES:   preserve-libs sandbox userpriv usersandbox
 * Determining the location of the kernel source code
 * Found kernel source directory:
 *     /usr/src/linux
 * Could not find a Makefile in the kernel source directory.
 * Please ensure that /usr/src/linux points to a complete set of Linux sources
 * Unable to calculate Linux Kernel version for build, attempting to use running version
 * Could not find a usable .config in the kernel source directory.
 * Please ensure that /usr/src/linux points to a configured set of Linux sources.
 * If you are using KBUILD_OUTPUT, please set the environment var so that
 * it points to the necessary object directory so that it might find .config.
 * ERROR: media-video/v4l2loopback-0.8.0::gentoo failed (setup phase):
 *   Kernel not configured; no .config found in




Comment 1


Mike Pagano






          2021-08-24 21:50:49 UTC
        

I'm going to resolve this as with OR without /usr/src/linux I was able to install this package.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

