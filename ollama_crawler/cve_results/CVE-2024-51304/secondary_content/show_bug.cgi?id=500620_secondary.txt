Title: 500620 – net-misc/networkmanager with sys-apps/systemd fails to detect network interfaces
URL: https://bugs.gentoo.org/show_bug.cgi?id=500620

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 500620
net-misc/networkmanager with sys-apps/systemd fails to detect network interfaces
Last modified: 2014-02-08 17:10:17 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 500620 
      - net-misc/networkmanager with sys-apps/systemd fails to detect network interfaces


Summary:
net-misc/networkmanager with sys-apps/systemd fails to detect network interfaces
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] GNOME

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Linux Gnome Desktop Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2014-02-07 15:00 UTC by adrin





      Modified:
    
2014-02-08 17:10 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge --info

              (emerge.info,4.83 KB,
                text/plain)

            
2014-02-07 15:00 UTC,

            adrin




Details





dmesg

              (dmesg,52.21 KB,
                text/plain)

            
2014-02-07 15:05 UTC,

            adrin




Details





systemctl --all

              (systemctl,28.27 KB,
                text/plain)

            
2014-02-07 15:06 UTC,

            adrin




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


adrin





          2014-02-07 15:00:40 UTC
        

Created attachment 369796 [details]
emerge --info

I migrated to systemd, gnome-3.10. Now the networkmanager seems not to realize that my ethernet card is actually connected to the network.

I don't know what exactly the problem is, but I'll try to attach enough information.

Note that I can successfully call dhclient eth0 and have my eth0 get an IP from the dhcp server. But before and after calling dhclient, the icon on top-right of the screen (gnome) shows a disconnected network icon.

# emerge -pv nm-applet networkmanager

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild   R    ] net-misc/networkmanager-0.9.8.8  USE="avahi bluetooth connection-sharing dhcpcd introspection modemmanager nss ppp resolvconf systemd vala -consolekit -dhclient -gnutls {-test} -wext -wifi" 1,980 kB
[ebuild   R    ] gnome-extra/nm-applet-0.9.8.8-r1  USE="bluetooth introspection -gconf -modemmanager" 1,195 kB

Total: 2 packages (2 reinstalls), Size of downloads: 3,174 kB

# lsusb
Bus 002 Device 003: ID 17ef:1003 Lenovo Integrated Smart Card Reader
Bus 001 Device 005: ID 04f2:b217 Chicony Electronics Co., Ltd Lenovo Integrated Camera (0.3MP)
Bus 001 Device 004: ID 0a5c:217f Broadcom Corp. BCM2045B (BDC-2.1)
Bus 001 Device 003: ID 147e:2016 Upek Biometric Touchchip/Touchstrip Fingerprint Sensor
Bus 004 Device 001: ID 1d6b:0003 Linux Foundation 3.0 root hub
Bus 003 Device 003: ID 0557:2221 ATEN International Co., Ltd Winbond Hermon
Bus 003 Device 002: ID 046d:c52b Logitech, Inc. Unifying Receiver
Bus 003 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
Bus 002 Device 002: ID 8087:0024 Intel Corp. Integrated Rate Matching Hub
Bus 002 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
Bus 001 Device 002: ID 8087:0024 Intel Corp. Integrated Rate Matching Hub
Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub




Comment 1


adrin





          2014-02-07 15:05:50 UTC
        

Created attachment 369798 [details]
dmesg




Comment 2


adrin





          2014-02-07 15:06:38 UTC
        

Created attachment 369800 [details]
systemctl --all




Comment 3


Pacho Ramos






          2014-02-08 11:17:03 UTC
        

You will need to configure your cards again as it is using the upstream keyfile plugin instead of "ifnet" one (that was used for openRC compat)




Comment 4


adrin





          2014-02-08 13:22:43 UTC
        

This is what I understand from your comment:

add plugins=keyfile to the networkmanager config file, restart the service.

I did so, but still no luck.




Comment 5


Pacho Ramos






          2014-02-08 15:45:19 UTC
        

You need to not have any /etc/NetworkManager/NetworkManager.conf and re-emerge networkmanager with systemd USE flag, then, configure your network from control center as done the first time




Comment 6


adrin





          2014-02-08 15:55:06 UTC
        

It seems removing an remerging solution worked.
Thanks.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

