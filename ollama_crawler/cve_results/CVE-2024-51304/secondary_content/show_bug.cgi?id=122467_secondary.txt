Title: 122467 – Banshee crashes when the Metadata Search plugin is enabled
URL: https://bugs.gentoo.org/show_bug.cgi?id=122467

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 122467
Banshee crashes when the Metadata Search plugin is enabled
Last modified: 2006-02-26 13:54:00 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 122467 
      - Banshee crashes when the Metadata Search plugin is enabled


Summary:
Banshee crashes when the Metadata Search plugin is enabled
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Luis Medinas (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-02-11 08:54 UTC by Luchezar Petkov





      Modified:
    
2006-02-26 13:54 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Luchezar Petkov





          2006-02-11 08:54:40 UTC
        

It crashes in two different ways.
1)
-----
...
Querying MusicBrainz for ManOwaR / All Man Play On 10... OK
Querying MusicBrainz for ManOwaR / Fighting The World... 
=================================================================
Got a SIGSEGV while executing native code. This usually indicates
a fatal error in the mono runtime or one of the native libraries 
used by your application.
=================================================================

Stacktrace:

in <0x4> (wrapper managed-to-native) MusicBrainz.Client:mb_QueryWithArgs (System.Runtime.InteropServices.HandleRef,byte[],intptr[])
in <0xfffffd7e> (wrapper managed-to-native) MusicBrainz.Client:mb_QueryWithArgs (System.Runtime.InteropServices.HandleRef,byte[],intptr[])
in <0x5e> MusicBrainz.Client:Query (string,string[])
in <0x110> MusicBrainz.SimpleQuery:FileLookup (MusicBrainz.Client,string,string,string,int,int)
in <0x22d> Banshee.Plugins.MetadataSearch.MetadataSearchPlugin:ProcessTrack (Banshee.Base.LibraryTrackInfo)
in <0xc3> Banshee.Plugins.MetadataSearch.MetadataSearchPlugin:ProcessQueue ()
in <0xfc> Banshee.Plugins.MetadataSearch.MetadataSearchPlugin:ScanLibraryThread ()
in <0xffffff90> (wrapper delegate-invoke) System.MulticastDelegate:invoke_void ()
in <0x5185dab7> (wrapper runtime-invoke) System.Object:runtime_invoke_void (object,intptr,intptr,intptr)

Native stacktrace:

        banshee(mono_handle_native_sigsegv+0xc0) [0x81446a0]
        banshee [0x8130a86]
        /lib/libpthread.so.0 [0xb7e2efe9]
        [0xffffe440]
        /lib/libc.so.6 [0xb7d369e1]
        /lib/libc.so.6(malloc+0x93) [0xb7d35a83]
        /usr/lib/gcc-lib/i686-pc-linux-gnu/3.3.6/libstdc++.so.5(_Znwj+0x2f) [0xb1a7820f]
        /usr/lib/gcc-lib/i686-pc-linux-gnu/3.3.6/libstdc++.so.5(_Znaj+0x1f) [0xb1a7833f]
        /usr/lib/libmusicbrainz.so.4.0.0(_ZN6MBHttp13WriteToBufferEPhj+0x53) [0xb5d264c3]
        /usr/lib/libmusicbrainz.so.4.0.0(_ZN6MBHttp8DownloadERKSsS1_b+0x940) [0xb5d271f0]
        /usr/lib/libmusicbrainz.so.4.0.0(_ZN6MBHttp16DownloadToStringERKSsS1_RSs+0x39) [0xb5d26329]
        /usr/lib/libmusicbrainz.so.4.0.0(_ZN11MusicBrainz5QueryERKSsPSt6vectorISsSaISsEE+0x94b) [0xb5d2b1ab]
        /usr/lib/libmusicbrainz.so.4.0.0(mb_QueryWithArgs+0x11f) [0xb5d1edbf]
        [0xb1468392]
        [0xb1468097]
        [0xb14679f1]
        [0xb5d5f7ee]
        [0xb5d5f10c]
        [0xb5d5ed1d]
        [0xb68d2f40]
        [0xb68d2ea1]
        banshee [0x8130930]
        banshee(mono_runtime_invoke+0x27) [0x80ce3c7]
        banshee(mono_runtime_delegate_invoke+0x38) [0x80cea98]
        banshee [0x80ab3b5]
        banshee [0x80fdb40]
        banshee [0x810bac4]
        /lib/libpthread.so.0 [0xb7e2914d]
        /lib/libc.so.6(__clone+0x5a) [0xb7d8992a]
Xlib: unexpected async reply (sequence 0x2418)!

======================================================================
2)
...
Querying MusicBrainz for ManOwaR / The Dawn of Battle... *** glibc detected *** realloc(): invalid pointer: 0x08ea97d8 ***
===========================================================

#emerge --info
Portage 2.1_pre4-r1 (default-linux/x86/2005.1, gcc-3.3.6, glibc-2.3.5-r2, 2.6.15-gentoo-r1 i686)
=================================================================
System uname: 2.6.15-gentoo-r1 i686 Intel(R) Celeron(R) CPU 2.40GHz
Gentoo Base System version 1.6.14
ccache version 2.3 [enabled]
dev-lang/python:     2.3.5, 2.4.2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O3 -pipe -march=i686"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config /usr/share/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/splash /etc/terminfo /etc/env.d"
CXXFLAGS="-O3 -pipe -march=i686"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig ccache distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LANG="BULGARIAN"
LC_ALL="bg_BG.CP1251"
LINGUAS="bg en"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X alsa apm audio audiofile avi berkdb bitmap-fonts cairo cdr crypt cups dbus eds emboss encode ffmpeg firefox flac foomaticdb fortran gdbm gif glitz gpm gstreamer gtk gtk2 hal imagemagick imlib ipv6 jpeg libg++ libwww mad mikmod mono motif mp3 mpeg musicbrainz ncurses nls ogg oggvorbis opengl oss pam pdflib perl png python quicktime readline sdl sndfile spell ssl symlink tcpd truetype truetype-fonts type1-fonts unicode usb vcd vorbis win32codecs xml2 xv zlib elibc_glibc input_devices_keyboard input_devices_mouse kernel_linux linguas_bg linguas_en userland_GNU video_cards_nv video_cards_nvidia"
Unset:  ASFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, LDFLAGS, PORTDIR_OVERLAY




Comment 1


Luis Medinas (RETIRED)






          2006-02-12 11:48:33 UTC
        

what mono version are you using ? can you try with 1.1.13 ?




Comment 2


Luchezar Petkov





          2006-02-12 21:42:01 UTC
        

Yes, works fine with 1.1.13. Sorry




Comment 3


Luchezar Petkov





          2006-02-18 04:20:19 UTC
        

No, it's still crashing with the same errors... (sorry, next time I'll test more)




Comment 4


Luis Medinas (RETIRED)






          2006-02-18 07:20:13 UTC
        

the debug shows that is a problem with musicbraiz i commited a new version can you try with that new release ?




Comment 5


Luchezar Petkov





          2006-02-18 08:20:37 UTC
        

The same problem ..
*** glibc detected *** free(): invalid pointer: 0x08bb1fb0 ***

If you can't reproduce the bug, probably the problem is in my hardware... I don't know..




Comment 6


Luis Medinas (RETIRED)






          2006-02-26 13:54:00 UTC
        

well maybe musicbrainz servers are down or something this works great on my two machines maybe it's something broken in your system. Closing this bug.

Try with less agressive cflags.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

