Title: 171994 – sys-fs/udev-107 attempts to run non-existant udev_run_devd
URL: https://bugs.gentoo.org/show_bug.cgi?id=171994

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 171994
sys-fs/udev-107 attempts to run non-existant udev_run_devd
Last modified: 2007-03-25 11:00:52 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 171994 
      - sys-fs/udev-107 attempts to run non-existant udev_run_devd


Summary:
sys-fs/udev-107 attempts to run non-existant udev_run_devd
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Core system

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

udev maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-03-24 01:13 UTC by Jose daLuz





      Modified:
    
2007-03-25 11:00 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



ulm









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Jose daLuz





          2007-03-24 01:13:25 UTC
        

After updating udev to 107, during startup and shutdown I get numerous (over 100) messages similar to the following:

udevd-event[3543]: run_program: exec of program '/lib/udev/udev_run_devd' failed
udevd-event[3544]: run_program: exec of program '/lib/udev/udev_run_devd' failed
udevd-event[3551]: run_program: exec of program '/lib/udev/udev_run_devd' failed
udevd-event[3552]: run_program: exec of program '/lib/udev/udev_run_devd' failed
udevd-event[3559]: run_program: exec of program '/lib/udev/udev_run_devd' failed
udevd-event[3560]: run_program: exec of program '/lib/udev/udev_run_devd' failed
udevd-event[3567]: run_program: exec of program '/lib/udev/udev_run_devd' failed
udevd-event[3568]: run_program: exec of program '/lib/udev/udev_run_devd' failed

$ ls -l /lib/udev
total 168
-rwxr-xr-x 1 root root 11488 2007-03-22 19:09 ata_id
-rwxr-xr-x 1 root root 11320 2007-03-22 19:09 cdrom_id
-rwxr-xr-x 1 root root   495 2007-03-01 08:53 check-ptp-camera
-rwxr-xr-x 1 root root 12360 2007-03-22 19:09 create_floppy_devices
drwxr-xr-x 2 root root    88 2007-03-22 19:09 devices
-rwxr-xr-x 1 root root 12888 2007-03-22 19:09 edd_id
-rwxr-xr-x 1 root root    86 2007-03-22 19:09 eventrecorder.sh
-rwxr-xr-x 1 root root   564 2007-03-22 19:09 firmware.sh
-rwxr-xr-x 1 root root   983 2007-03-22 19:09 modprobe.sh
-rwxr-xr-x 1 root root   719 2007-03-22 19:09 net.sh
-rwxr-xr-x 1 root root 11717 2007-03-22 19:09 path_id
-rwxr-xr-x 1 root root  2345 2007-03-22 19:09 rule_generator.functions
-rwxr-xr-x 1 root root 25856 2007-03-22 19:09 scsi_id
drwxr-xr-x 2 root root    88 2007-03-22 19:09 state
-rwxr-xr-x 1 root root 19688 2007-03-22 19:09 usb_id
-rwxr-xr-x 1 root root 18232 2007-03-22 19:09 vol_id
-rwxr-xr-x 1 root root  2634 2007-03-22 19:09 write_cd_rules
-rwxr-xr-x 1 root root  3171 2007-03-22 19:09 write_net_rules

Portage 2.1.2.2 (default-linux/amd64/2006.1/desktop, gcc-4.1.1, glibc-2.5-r0, 2.6.19-gentoo-r4 x86_64)
=================================================================
System uname: 2.6.19-gentoo-r4 x86_64 AMD Athlon(tm) 64 Processor 3000+
Gentoo Base System version 1.13.0_alpha12
Timestamp of tree: Fri, 23 Mar 2007 22:50:01 +0000
ccache version 2.4 [enabled]
dev-java/java-config: 1.3.7, 2.0.31-r5
dev-lang/python:     2.4.4
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     2.4-r6
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.61
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.17
sys-devel/gcc-config: 1.3.15-r1
sys-devel/libtool:   1.5.23b
virtual/os-headers:  2.6.20-r2
ACCEPT_KEYWORDS="amd64 ~amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=k8 -O2 -pipe -ggdb"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c"
CXXFLAGS="-march=k8 -O2 -pipe -ggdb -ffriend-injection"
DISTDIR="/usr/portage/distfiles"
EMERGE_DEFAULT_OPTS=""
FEATURES="autoconfig ccache distlocks fixpackages parallel-fetch sandbox sfperms splitdebug strict"
GENTOO_MIRRORS="http://distro.ibiblio.org/pub/linux/distributions/gentoo/ http://gentoo.osuosl.org/ "
LANG="en_US.UTF-8"
LC_ALL="en_US.UTF-8"
LINGUAS="en"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_EXTRA_OPTS="--timeout=120"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portage/local/layman/sunrise /usr/portage/local/layman/wrobel /usr/portage/local/layman/gnome-experimental /usr/portage/local/layman/break-my-gentoo-main /usr/portage/local/layman/xeffects /usr/local/overlays/myoverlay"
SYNC="rsync://rsync.us.gentoo.org/gentoo-portage"
USE="X a52 aac alsa amd64 amr bash-completion berkdb bitmap-fonts bzip2 cairo cdda cdr cli cracklib crypt css cups dbus debug dri dts dvd dvdr eds emboss encode esd fam ffmpeg firefox flac fortran gdbm gif glitz gnome gpm gstreamer gtk gtk2 hal iconv ipv6 isdnlog java jpeg kde kdehiddenvisibility ldap libg++ libnotify mad midi mikmod mono mp3 mpeg ncurses nls nptl nptlonly ogg opengl pam pcre perl pic png ppds pppd python qt3 qt4 quicktime readline reflection ruby samba sdl session spell spl sqlite ssl tcpd theora tiff truetype truetype-fonts type1-fonts unicode usb userlocales vcd vorbis x264 xml xorg xv xvid zlib" ALSA_CARDS="emu10k1" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" ELIBC="glibc" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en" USERLAND="GNU" VIDEO_CARDS="vesa nvidia"
Unset:  CTARGET, INSTALL_MASK, LDFLAGS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS




Comment 1


Matthias Schwarzott






          2007-03-24 10:28:40 UTC
        

udev-107 does install a rules-file with commented entry to execute udev_run_devd in /etc/udev/rules.d/50-udev.rules.
So it is NOT run by default (and is no longer installed with udev-107).

Perhaps you forgot to update your conf-files by etc-update/dispatch-conf.





Comment 2


Jakub Moc (RETIRED)






          2007-03-24 11:01:03 UTC
        

As said above, the rules entry is commented out, so it definitely doesn't get run if you upgrade udev properly.




Comment 3


Ulrich Müller






          2007-03-25 11:00:52 UTC
        

(In reply to comment #2)
> As said above, the rules entry is commented out, so it definitely doesn't get
> run if you upgrade udev properly.

Same problem here. Honestly, I don't understand what is happening:

# ebuild /usr/portage/sys-fs/udev/udev-107.ebuild install
[...]

# ls -l /etc/udev/rules.d/50-udev.rules /var/tmp/portage/sys-fs/udev-107/image/etc/udev/rules.d/50-udev.rules                                 
-rw-r--r-- 1 root root 11427 Mar 25 12:33 /etc/udev/rules.d/50-udev.rules
-rw-r--r-- 1 root root 11023 Mar 25 12:52 /var/tmp/portage/sys-fs/udev-107/image/etc/udev/rules.d/50-udev.rules

# ebuild /usr/portage/sys-fs/udev/udev-107.ebuild merge
[...]
>>> Merging sys-fs/udev-107 to /
[...]
>>> /etc/udev/rules.d/50-udev.rules
[...]
>>> Safely unmerging already-installed instance...
[...]
--- !mtime obj /etc/udev/rules.d/50-udev.rules
[...]

# ls -l /etc/udev/rules.d/50-udev.rules
-rw-r--r-- 1 root root 11427 Mar 25 12:55 /etc/udev/rules.d/50-udev.rules

# grep udev_run_devd /etc/udev/rules.d/50-udev.rules
RUN+="udev_run_devd $env{SUBSYSTEM}"

# etc-update
Scanning Configuration files...
Exiting: Nothing left to do; exiting. :)










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

