Title: 82992 – vsound doesn't run "error while loading shared libraries"
URL: https://bugs.gentoo.org/show_bug.cgi?id=82992

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 82992
vsound doesn't run "error while loading shared libraries"
Last modified: 2006-06-23 10:41:33 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 82992 
      - vsound doesn't run "error while loading shared libraries"


Summary:
vsound doesn't run "error while loading shared libraries"
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Sound Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-02-22 12:47 UTC by Nick Matteo





      Modified:
    
2006-06-23 10:41 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



amd64









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Nick Matteo





          2005-02-22 12:47:21 UTC
        

I emerged vsound, and it installed fine.  However, when I use it to run any application, I first get errors from the application:

/opt/firefox/firefox-bin: error while loading shared libraries: /usr/lib/vsound/libvsound.so: cannot open shared object file: No such file or directory


After the application exits, I get a vsound error:

Missing file ./vsound11196.au.
This means that the libvsound wrapper did not work correctlty.
Here are some the possible reasons :
 - You are trying to record a stream (RTSP or PNM protocol) from
   the internet. You will need to use the --timing option.
 - The program you are trying to run is setuid. You will need to
   run vsound as root.
 - Vsound was not properly installed and hence won't work at all.


I am not recording an internet stream, and running as root did not help.

Reproducible: Always
Steps to Reproduce:
1. emerge vsound.
2. run with firefox-bin or any application
3.

Actual Results:  
No output  

Expected Results:  
Produced a wave file of sound output




Comment 1


Nick Matteo





          2005-02-22 22:28:36 UTC
        

I think the assignment of this bug to the Mozilla Gentoo Team may be in error; the bug has nothing to to with firefox, it's with vsound, and occurs with any application I try.  Firefox is only an example (because I'm trying to record the sound from a flash file.)

I heard somewhere that vsound may not work well with arts/KDE, but when I tried it outside a KDE environment, I got the same error.




Comment 2


Peter C. Gravelle





          2005-04-23 08:21:27 UTC
        

It is because vsound is a 64-bit binary and firefox-bin is 32-bit. I have the same problem running it with realplay. Perhaps the ebuild could be remade to include 32-bit binaries? or have a 32-bit USE flag for multilib environments?




Comment 3


Nick Matteo





          2005-04-23 09:32:23 UTC
        

I have the same problem with 64-bit binaries, such as XMMS.




Comment 4


Shigeru Akiyama





          2005-07-27 04:06:57 UTC
        

I have the same problem when I use vsound to capture output of RealPlayer from
command-line.

And I also think that this problem should be redirected to other teams.





Comment 5


Jakub Moc (RETIRED)






          2005-12-22 18:22:34 UTC
        

Don't see how mozilla herd would solve this.




Comment 6


Simon Stelling (RETIRED)






          2006-01-27 15:38:48 UTC
        

noone posted his emerge --info. beside that, does the problem even still exist? /usr/bin/vsound has correct paths here, i can't reproduce it. 

please reopen with the needed information




Comment 7


Robin Wood





          2006-03-25 16:38:10 UTC
        

Its still here. This is the exact error:


 vsound --timing realplay 20051005-ao.rm 
About to start the application. The output will not be available
until the application exits.
Warning: LD_PRELOAD="/usr/lib64/vsound/libvsound.so"
ERROR: ld.so: object '/usr/lib64/vsound/libvsound.so' from LD_PRELOAD cannot be preloaded: ignored.
Missing file ./vsound13197.au.
This means that the libvsound wrapper did not work correctlty.
Here are some the possible reasons :
 - You are trying to record a stream (RTSP or PNM protocol) from 
   the internet. You will need to use the --timing option.
 - The program you are trying to run is setuid. You will need to 
   run vsound as root.
 - Vsound was not properly installed and hence won't work at all.

(Same error without the --timing as well)

And the info:

rastlin ~ # emerge --info
Portage 2.0.54 (default-linux/amd64/2005.1, gcc-3.4.4, glibc-2.3.5-r2, 2.6.13-gentoo-r5 x86_64)
=================================================================
System uname: 2.6.13-gentoo-r5 x86_64 AMD Sempron(tm) Processor 3000+
Gentoo Base System version 1.6.14
ccache version 2.3 [enabled]
dev-lang/python:     2.3.5, 2.4.2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=athlon64 -O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-march=athlon64 -O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache distlocks sandbox sfperms strict usersandbox"
GENTOO_MIRRORS="http://gentoo.blueyonder.co.uk ftp://mirrors.blueyonder.co.uk/mirrors/gentoo http://www.mirrorservice.org/sites/www.ibiblio.org/gentoo/ ftp://ftp.mirrorservice.org/sites/www.ibiblio.org/gentoo/"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="amd64 X aalib alsa apache2 audiofile avi berkdb bitmap-fonts bonobo bzip2 cdparanoia cdr cdrom cpudetection crypt cups curl directfb dri dvd dvdr dvdread eds emboss encode esd ethereal exif expat fam font-server foomaticdb fortran gd gif glut gmp gnome gpm gstreamer gtk gtk2 gtkhtml guile idn imagemagick imap imlib ipv6 jpeg kde lcms ldap libclamav libwww lzw lzw-tiff mhash mng motif mp3 mpeg mysql mythtv ncurses nls nvidia offensive ogg opengl pam pcre pda pdflib perl png pop postgres python qt quicktime readline samba sdl slang smime spell ssl svg tcpd theora tiff truetype truetype-fonts type1-fonts udev usb v4l v4l2 vhosts vorbis wmf xml xml2 xmms xpm xv zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTDIR_OVERLAY





Comment 8


Simon Stelling (RETIRED)






          2006-03-26 00:56:49 UTC
        

Do you have the same problem with 64bit applications? it's quite logic that it can't work with 32bit binaries, but we can't help that other than adding it to emul-linux-x86-soundlibs.




Comment 9


Simon Stelling (RETIRED)






          2006-06-23 10:41:33 UTC
        

apparently not









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

