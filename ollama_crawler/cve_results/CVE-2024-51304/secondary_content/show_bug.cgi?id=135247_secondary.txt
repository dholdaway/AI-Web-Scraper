Title: 135247 – kdelibs 3.5.3 fails to compile
URL: https://bugs.gentoo.org/show_bug.cgi?id=135247

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 135247
kdelibs 3.5.3 fails to compile
Last modified: 2006-06-12 05:48:32 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 135247 
      - kdelibs 3.5.3 fails to compile


Summary:
kdelibs 3.5.3 fails to compile
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       major
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-06-02 03:16 UTC by Matteo Settenvini





      Modified:
    
2006-06-12 05:48 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



danijel
pete4abw









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




config.log file

              (config.log.gz,38.90 KB,
                application/x-gzip)

            
2006-06-02 03:27 UTC,

            Peter Hyman




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Matteo Settenvini





          2006-06-02 03:16:10 UTC
        

As per subject, kdelibs-3.5.3 fails with a linking error.

creating libknewstuff_la.all_cpp.cpp ...
/bin/sh ../libtool --silent --tag=CXX --mode=compile i686-pc-linux-gnu-g++ -DHAV E_CONFIG_H -I. -I. -I.. -I../dcop -I../kdecore -I../kio/kssl -I../kjs -I../dcop -I../libltdl -I../kdefx -I../kdecore -I../kdecore -I../kdeui -I../kio -I../kio/k io -I../kio/kfile -I.. -I/usr/qt/3/include -I. -I/usr/kde/3.5/include   -DQT_THR EAD_SUPPORT  -D_REENTRANT  -Wno-long-long -Wundef -ansi -D_XOPEN_SOURCE=500 -D_B SD_SOURCE -Wcast-align -Wconversion -Wchar-subscripts -Wall -W -Wpointer-arith - DNDEBUG -DNO_DEBUG -O2 -O3 -march=pentium4 -pipe -Wformat-security -Wmissing-for mat-attribute -Wno-non-virtual-dtor -fno-exceptions -fno-check-new -fno-common -DQT_CLEAN_NAMESPACE -DQT_NO_ASCII_CAST -DQT_NO_STL -DQT_NO_COMPAT -DQT_NO_TRANS LATION  -c -o libknewstuff_la.all_cpp.lo libknewstuff_la.all_cpp.cpp
/bin/sh ../libtool --silent --tag=CXX --mode=link i686-pc-linux-gnu-g++  -Wno-lo ng-long -Wundef -ansi -D_XOPEN_SOURCE=500 -D_BSD_SOURCE -Wcast-align -Wconversio n -Wchar-subscripts -Wall -W -Wpointer-arith -DNDEBUG -DNO_DEBUG -O2 -O3 -march= pentium4 -pipe -Wformat-security -Wmissing-format-attribute -Wno-non-virtual-dto r -fno-exceptions -fno-check-new -fno-common  -DQT_CLEAN_NAMESPACE -DQT_NO_ASCII _CAST -DQT_NO_STL -DQT_NO_COMPAT -DQT_NO_TRANSLATION   -Wl,--no-as-needed -o lib knewstuff.la -rpath /usr/kde/3.5/lib -L/usr/kde/3.5/lib -L/usr/qt/3/lib -L/usr/l ib    -R /usr/kde/3.5/lib -R /usr/kde/3.5/lib -R /usr/qt/3/lib -R /usr/lib -vers ion-info 1:0 libknewstuff_la.all_cpp.lo  ../kio/libkio.la
i686-pc-linux-gnu-g++: ../kio/.libs/libkio.so: No such file or directory
i686-pc-linux-gnu-g++: /var/tmp/portage/kdelibs-3.5.3/work/kdelibs-3.5.3/dcop/.l ibs/libDCOP.so: No such file or directory
make[2]: *** [libknewstuff.la] Error 1
make[2]: Leaving directory `/var/tmp/portage/kdelibs-3.5.3/work/kdelibs-3.5.3/kn ewstuff'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/kdelibs-3.5.3/work/kdelibs-3.5.3'
make: *** [all] Error 2

!!! ERROR: kde-base/kdelibs-3.5.3 failed.
Call stack:
 [..snipped..]


My emerge --info:

Portage 2.1_rc3-r5 (default-linux/x86/2006.0, gcc-3.4.6, glibc-2.4-r3, 2.6.16-suspend2-r7 i686)
=================================================================
System uname: 2.6.16-suspend2-r7 i686 Intel(R) Pentium(R) 4 CPU 2.40GHz
Gentoo Base System version 1.12.0
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
dev-lang/python:     2.4.3-r1
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r2
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.16
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O3 -march=pentium4 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config /var/bind"
CONFIG_PROTECT_MASK="/etc/env.d/java/ /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/splash /etc/terminfo /etc/texmf/web2c /etc/env.d"
CXXFLAGS="-O3 -march=pentium4 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer parallel-fetch sandbox sfperms strict"
GENTOO_MIRRORS="http://mirror.gentoo.gr.jp ftp://gentoo.netnitco.net/pub/mirrors/gentoo/source/ http://adelie.polymtl.ca/"
LC_ALL="it_IT.UTF-8"
LINGUAS="it"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_EXTRA_OPTS="--exclude-from=/etc/portage/rsync_excludes"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage /usr/local/overlays/php/testing /usr/local/overlays/php/experimental /usr/local/overlays/gentopia /usr/local/overlays/java-experimental /usr/local/overlays/java-migration /usr/local/overlays/gcj"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X acpi alsa apache2 arts avi berkdb bitmap-fonts cairo cdr cli crypt cups dbus dga doc dri dvd eds emacs emboss encode esd fbcon firefox flac foomaticdb fortran gdbm gif gnome gnutls gpm gstreamer gtk gtk2 hal imap imlib ipod ipv6 isdnlog jpeg kde libg++ libwww mad maildir mbox mikmod mmx motif mp3 mpeg musicbrainz mysql ncurses nls nptl ogg opengl oss pam pcmcia pcre pdflib perl png pppd python qt quicktime readline reflection samba sasl sdl session spell spl sse sse2 ssl tcpd theora truetype truetype-fonts type1-fonts udev unicode vorbis xml xml2 xmms xorg xv zlib elibc_glibc input_devices_keyboard input_devices_mouse kernel_linux linguas_it userland_GNU video_cards_i810"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LDFLAGS




Comment 1


Peter Hyman





          2006-06-02 03:24:42 UTC
        

I get this:

config.pl: fast created 206 file(s).
config.status: creating config.h
config.status: creating dcop/dcop-path.h
config.status: error: cannot find input file: dcop/dcop-path.h.in

!!! Please attach the config.log to your bug report:
!!! /mnt/src/var/tmp/portage/kdelibs-3.5.3/work/kdelibs-3.5.3/config.log

!!! ERROR: kde-base/kdelibs-3.5.3 failed.
!!! Function econf, Line 495, Exitcode 0





Comment 2


Peter Hyman





          2006-06-02 03:27:28 UTC
        

Created attachment 88171 [details]
config.log file

as requested by emerge.

mars tmp # emerge info
Portage 2.0.54-r2 (default-linux/x86/2006.0, gcc-3.4.6, glibc-2.3.6-r3, 2.6.16-ck11 i686)
=================================================================
System uname: 2.6.16-ck11 i686 AMD Athlon(tm) XP 2800+
Gentoo Base System version 1.6.14
dev-lang/python:     2.4.2
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1-r2
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r5
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=i686 -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/lib/X11/xkb /usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/"
CONFIG_PROTECT_MASK="/etc/gconf /etc/splash /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=i686 -fomit-frame-pointer"
DISTDIR="/mnt/src/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://mirror.datapipe.net/gentoo ftp://gentoo.mirrors.tds.net/gentoo ftp://206.75.217.180/"
MAKEOPTS="-j2"
PKGDIR="/mnt/src/portage/packages"
PORTAGE_TMPDIR="/mnt/src/var/tmp"
PORTDIR="/mnt/src/portage"
PORTDIR_OVERLAY="/mnt/src/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X alsa apache2 apm arts artswrappersuid audiofile avi berkdb bitmap-fonts bzip2 cdr cli crypt cups curl dri dvd dvdr eds emboss encode esd exif expat fam flac foomaticdb fortran gd gdbm gif glut gmp gnome gpm gstreamer gtk gtk2 gtkhtml idn imagemagick imlib ipv6 isdnlog java jpeg lcms ldap libg++ libwww mad mikmod mng motif mp3 mpeg mysql ncurses nls nptl nsplugin offensive ogg opengl oss pam pcre pdflib perl png pppd python qt quicktime readline recode reflection samba sdl session slang spell spl ssl svga tcltk tcpd tetex tiff truetype truetype-fonts type1-fonts udev usb vorbis win32codecs xine xml xml2 xmms xorg xscreensaver xv zlib userland_GNU kernel_linux elibc_glibc"
Unset:  CTARGET, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTAGE_RSYNC_EXTRA_OPTS, PORTAGE_RSYNC_OPTS




Comment 3


Peter Hyman





          2006-06-02 04:29:50 UTC
        

re-emerging kdelibs manually seemed to have gotten over the configure error mentioned above.




Comment 4


Peter Hyman





          2006-06-02 05:27:06 UTC
        

and it compiled and installed ok. Have no idea what caused the initial error. 




Comment 5


Diego Elio Pettenò (RETIRED)






          2006-06-02 05:29:37 UTC
        

Make sure you do have latest class too and the sync is complete (no kde 3.5.3 in package.mask).





Comment 6


Peter Hyman





          2006-06-02 06:15:02 UTC
        

It went through without doing a resync. Not in package.mask. I have all kde stuff in package.keywords as ~x86 in my case. kde.eclass is from 5/31. Could it have something to do with the fact I first tried it during a emerge -uD world (where arts came first)? The second time (with the environment updated), I did emerge kdelibs. Anyway, hope this information helps. I know, lousy workaround -- try it again!




Comment 7


Matteo Settenvini





          2006-06-03 05:16:19 UTC
        

Emerging kdelibs manually, after an "env-update && source /etc/profile", and in a separate merge than that of arts, solved the issue for me. 
Still not sure about what was the problem in the first place, though.




Comment 8


Gregorio Guidi (RETIRED)






          2006-06-03 06:48:36 UTC
        

Strange non-reproducible errors, closing for now.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

