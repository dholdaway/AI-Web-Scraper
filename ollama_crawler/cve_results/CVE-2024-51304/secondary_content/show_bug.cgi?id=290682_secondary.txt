Title: 290682 – If PORTAGE_BINHOST points to https:// resource (no auth) portage will segfault
URL: https://bugs.gentoo.org/show_bug.cgi?id=290682

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 290682
If PORTAGE_BINHOST points to https:// resource (no auth) portage will segfault
Last modified: 2009-10-28 05:51:27 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 290682 
      - If PORTAGE_BINHOST points to https:// resource (no auth) portage will segfault


Summary:
If PORTAGE_BINHOST points to https:// resource (no auth) portage will segfault
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Portage Development




Classification:

Unclassified




Component:

Binary packages support

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       critical
      


Assignee:

Portage team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-10-27 05:01 UTC by Alexander Dubov





      Modified:
    
2009-10-28 05:51 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Alexander Dubov





          2009-10-27 05:01:43 UTC
        

If "getbinpkg" is requested and BINHOST_PORTAGE points at https:// resource, portage will just crash before doing anything useful. This happens to multiple emerge versions in both 2.1 and 2.2_rcX series. http:// resources work fine.


Reproducible: Always

Steps to Reproduce:
1. Set BINHOST_PORTAGE to point to https://..
2. Enjoy


Actual Results:  
> emerge -dpv portage
myaction None
myopts {'--pretend': True, '--debug': True, '--verbose': True, '--getbinpkg': True, '--usepkg': True}

These are the packages that would be merged, in order:

Calculating dependencies

myparams {'recurse': True}

Segmentation fault

Expected Results:  
Either just work or, at least, complain about an unsupported access method.

My python version string:
Python 2.6.2 (r262:71600, May  8 2009, 16:32:55)
[GCC 4.3.1] on linux2




Comment 1


Zac Medico






          2009-10-27 19:05:37 UTC
        

Is python built with USE=ssl enabled? Maybe try rebuilding openssl and python.




Comment 2


Alexander Dubov





          2009-10-28 03:19:11 UTC
        

Yep.
It seems, rebuilding the python solved the problem.
Sorry for the noise.





Comment 3


Zac Medico






          2009-10-28 05:51:27 UTC
        

No problem.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

