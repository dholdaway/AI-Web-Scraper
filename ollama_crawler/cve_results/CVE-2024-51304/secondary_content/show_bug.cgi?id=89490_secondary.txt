Title: 89490 – tethereal: symbol lookup error: /usr/lib/libethereal.so.0: undefined symbol: pow
URL: https://bugs.gentoo.org/show_bug.cgi?id=89490

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 89490
tethereal: symbol lookup error: /usr/lib/libethereal.so.0: undefined symbol: pow
Last modified: 2006-03-31 13:22:25 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 89490 
      - tethereal: symbol lookup error: /usr/lib/libethereal.so.0: undefined symbol: pow


Summary:
tethereal: symbol lookup error: /usr/lib/libethereal.so.0: undefined symbol: pow
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Netmon project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-04-17 23:28 UTC by Luigi 'Comio' Mantellini





      Modified:
    
2006-03-31 13:22 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




config.log for ethereal-0.10.12

              (config.log,104.03 KB,
                text/plain)

            
2005-07-29 18:52 UTC,

            Marcelo Goes (RETIRED)




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Luigi 'Comio' Mantellini





          2005-04-17 23:28:31 UTC
        

When I execute tethereal I have this error message:

tethereal: symbol lookup error: /usr/lib/libethereal.so.0: undefined symbol: pow

this is the output of the command ldd -r:

# ldd -r   /usr/lib/libethereal.so.0
        linux-gate.so.1 =>  (0xffffe000)
        libgmodule-2.0.so.0 => /usr/lib/libgmodule-2.0.so.0 (0xb7372000)
        libdl.so.2 => /lib/libdl.so.2 (0xb736e000)
        libglib-2.0.so.0 => /usr/lib/libglib-2.0.so.0 (0xb72d0000)
        libpcre.so.0 => /usr/lib/libpcre.so.0 (0xb72be000)
        libz.so.1 => /lib/libz.so.1 (0xb72b0000)
        libpthread.so.0 => /lib/tls/libpthread.so.0 (0xb729d000)
        libc.so.6 => /lib/tls/libc.so.6 (0xb716c000)
        /lib/ld-linux.so.2 (0x80000000)
undefined symbol: pow   (/usr/lib/libethereal.so.0)
undefined symbol: tree_head     (/usr/lib/libethereal.so.0)
undefined symbol: get_tree      (/usr/lib/libethereal.so.0)
undefined symbol: sprint_realloc_by_type        (/usr/lib/libethereal.so.0)
undefined symbol: mib_to_asn_type       (/usr/lib/libethereal.so.0)
undefined symbol: sprint_realloc_objid  (/usr/lib/libethereal.so.0)
undefined symbol: sprint_realloc_value  (/usr/lib/libethereal.so.0)
undefined symbol: register_mib_handlers (/usr/lib/libethereal.so.0)
undefined symbol: read_premib_configs   (/usr/lib/libethereal.so.0)
undefined symbol: init_mib      (/usr/lib/libethereal.so.0)
undefined symbol: read_configs  (/usr/lib/libethereal.so.0)
undefined symbol: shutdown_mib  (/usr/lib/libethereal.so.0)
undefined symbol: netsnmp_ds_set_boolean        (/usr/lib/libethereal.so.0)
undefined symbol: netsnmp_ds_set_int    (/usr/lib/libethereal.so.0)


Reproducible: Always
Steps to Reproduce:
1. execute tethereal
2.
3.

Actual Results:  
Error message: tethereal: symbol lookup error: /usr/lib/libethereal.so.0:
undefined symbol: pow



Portage 2.0.51.19 (default-linux/x86/2005.0, gcc-3.4.3-20050110,
glibc-2.3.4.20050125-r1, 2.6.11-gentoo-r6 i686)
=================================================================
System uname: 2.6.11-gentoo-r6 i686 Intel(R) Pentium(R) 4 CPU 1.70GHz
Gentoo Base System version 1.6.10
Python:              dev-lang/python-2.3.5 [2.3.5 (#1, Apr 15 2005, 11:25:28)]
ccache version 2.4 [enabled]
dev-lang/python:     2.3.5
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.9.5, 1.7.9-r1, 1.5, 1.6.3, 1.4_p6, 1.8.5-r3
sys-devel/binutils:  2.15.92.0.2-r8
sys-devel/libtool:   1.5.14
virtual/os-headers:  2.6.11
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CFLAGS="-march=pentium4 -Os -pipe -fomit-frame-pointer -falign-jumps=4 
-Wl,--as-needed"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env
/usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config
/var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/texmf/web2c /etc/env.d"
CXXFLAGS="-march=pentium4 -Os -pipe -fomit-frame-pointer -falign-jumps=4 
-Wl,--as-needed"
DISTDIR="/data/var/distfiles"
FEATURES="autoaddcvs autoconfig ccache distlocks sandbox sfperms strict"
GENTOO_MIRRORS="ftp://pandemonium.tiscali.de/pub/gentoo/
http://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/
ftp://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/
ftp://mirror.switch.ch/mirror/gentoo/ ftp://ftp.gentoo.mesh-solutions.com/gentoo/"
LANG="it_IT@euro"
LINGUAS="it"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/data/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X X509 a52 aac aalib acl alsa amd apache2 apm arts ati avi
bash-completion berkdb bitmap-fonts bzlib calendar cdb cdda cddb cdr cpdflib
crypt ctype cups curl dba dga dhcp directfb divx4linux dlloader doc dvd emboss
encode esd exif extensions fam fbcon ffmpeg flac flatfile foomaticdb fortran fpx
freetype ftp gd gdbm gif gimpprint gpm graphviz gtk gtk2 hal iconv idea ieee1394
imagemagick imap imlib ipv6 java jpeg jpeg2k junit kde ldap libg++ libwww
lm_sensors lzo mad mcve mhash mikmod mime ming mmx mono motif mozilla mp3 mpeg
mppe-mppc mppemppc mysql ncurses nls nptl oav offensive ogg oggvorbis opengl oss
pam parse-clocks parseclocks pcmcia pdflib perl pic png pnp posix pthreads
python qt quicktime quotas readline ruby samba sdl session simplexml slang snmp
soap sockets socks5 spell spl sse sse2 ssl svg svga tcltk tcpd tetex threads
tiff tokenizer truetype truetype-fonts type1-fonts unicode usb v4l v4l2 vorbis
wmf wxwindows xine xinerama xml2 xmlrpc xosd xpm xprint xscreesaver xsl xv xvid
zeroconf zlib linguas_it"
Unset:  ASFLAGS, CBUILD, CTARGET, LC_ALL, LDFLAGS




Comment 1


Aaron Walker (RETIRED)






          2005-04-18 03:30:12 UTC
        

You left out the most important thing.  Version of ethereal?




Comment 2


Luigi 'Comio' Mantellini





          2005-04-18 05:45:24 UTC
        

ops... sorry!

I have installed ethereal 0.10.10, but I have problem to execute only tethereal.

ciao




Comment 3


Luigi 'Comio' Mantellini





          2005-04-20 12:46:09 UTC
        

any idea?




Comment 4


Diego Elio Pettenò (RETIRED)






          2005-04-24 18:49:45 UTC
        

Remove -Wl,--as-needed from your cflags, rebuild and see if the problem is that.




Comment 5


Luigi 'Comio' Mantellini





          2005-04-27 16:40:20 UTC
        

I tried to compile without -Wl,--as-need cflag. Now seem to work fine... but I have always:

pacinotti comio # ldd -r /usr/lib/libethereal.so.0
        linux-gate.so.1 =>  (0xffffe000)
        libgmodule-2.0.so.0 => /usr/lib/libgmodule-2.0.so.0 (0xb76d5000)
        libdl.so.2 => /lib/libdl.so.2 (0xb76d1000)
        libglib-2.0.so.0 => /usr/lib/libglib-2.0.so.0 (0xb7656000)
        libpcre.so.0 => /usr/lib/libpcre.so.0 (0xb7644000)
        libz.so.1 => /lib/libz.so.1 (0xb7636000)
        libpthread.so.0 => /lib/tls/libpthread.so.0 (0xb7623000)
        libc.so.6 => /lib/tls/libc.so.6 (0xb74f1000)
        /lib/ld-linux.so.2 (0x80000000)
undefined symbol: tree_head     (/usr/lib/libethereal.so.0)
undefined symbol: get_tree      (/usr/lib/libethereal.so.0)
undefined symbol: register_mib_handlers (/usr/lib/libethereal.so.0)
undefined symbol: ceil  (/usr/lib/libethereal.so.0)
undefined symbol: floor (/usr/lib/libethereal.so.0)
undefined symbol: netsnmp_ds_set_int    (/usr/lib/libethereal.so.0)
undefined symbol: read_premib_configs   (/usr/lib/libethereal.so.0)
undefined symbol: sprint_realloc_objid  (/usr/lib/libethereal.so.0)
undefined symbol: shutdown_mib  (/usr/lib/libethereal.so.0)
undefined symbol: netsnmp_ds_set_boolean        (/usr/lib/libethereal.so.0)
undefined symbol: pow   (/usr/lib/libethereal.so.0)
undefined symbol: sprint_realloc_by_type        (/usr/lib/libethereal.so.0)
undefined symbol: init_mib      (/usr/lib/libethereal.so.0)
undefined symbol: mib_to_asn_type       (/usr/lib/libethereal.so.0)
undefined symbol: sprint_realloc_value  (/usr/lib/libethereal.so.0)
undefined symbol: read_configs  (/usr/lib/libethereal.so.0)

It's strange! 

I have recompiled also net-snmp package.

thanks

luigi




Comment 6


Daniel Black (RETIRED)






          2005-06-16 07:27:19 UTC
        

repoduceable in 0.10.11? 




Comment 7


Luigi 'Comio' Mantellini





          2005-06-16 07:32:02 UTC
        

We have recompiled the system and the last version of ethereal. Now it's work
fine... 

ciao

luigi




Comment 8


Luigi 'Comio' Mantellini





          2005-06-16 07:35:45 UTC
        

This is the output of ldd command:

comio@pacinotti ~ $ ldd -r /usr/lib/libethereal.so.0
        linux-gate.so.1 =>  (0xffffe000)
        libgmodule-2.0.so.0 => /usr/lib/libgmodule-2.0.so.0 (0x4da97000)
        libdl.so.2 => /lib/libdl.so.2 (0x4d7e9000)
        libglib-2.0.so.0 => /usr/lib/libglib-2.0.so.0 (0x4db74000)
        libpcre.so.0 => /usr/lib/libpcre.so.0 (0x4e9f1000)
        libz.so.1 => /lib/libz.so.1 (0x4d8dc000)
        libpthread.so.0 => /lib/tls/libpthread.so.0 (0x4d817000)
        libc.so.6 => /lib/tls/libc.so.6 (0x4d6b1000)
        /lib/ld-linux.so.2 (0x80000000)
undefined symbol: ceil  (/usr/lib/libethereal.so.0)
undefined symbol: floor (/usr/lib/libethereal.so.0)
undefined symbol: pow   (/usr/lib/libethereal.so.0)

And this is the version of tethereal:

comio@pacinotti ~ $ tethereal -v
tethereal 0.10.11
Compiled with GLib 2.6.4, with libpcap 0.8.3, with libz 1.2.2, with libpcre 5.0,
without UCD-SNMP or Net-SNMP, without ADNS.
Running with libpcap version 0.8.3 on Linux 2.6.11-reiser4-r5.


I think that math library is not linked... but I'm not a developer!

thanks.

luigi




Comment 9


Daniel Black (RETIRED)






          2005-06-16 14:08:24 UTC
        

yes your right.There should be a libm. 
 
Can you please attach: 
/var/tmp/portage/ethereal-0.10.11/work/ethereal-0.10.11/config.log 
 
and paste emerge info here. 




Comment 10


Luigi 'Comio' Mantellini





          2005-06-26 08:06:27 UTC
        

(sorry for the waiting... I'm not in my home in the last two weeks)

I don't have the directory
/var/tmp/portage/ethereal-0.10.11/work/ethereal-0.10.11/ but the last emerge,  I
have this output of ldd:

        linux-gate.so.1 =>  (0xffffe000)
        libgmodule-2.0.so.0 => /usr/lib/libgmodule-2.0.so.0 (0xb7415000)
        libdl.so.2 => /lib/libdl.so.2 (0xb7411000)
        libglib-2.0.so.0 => /usr/lib/libglib-2.0.so.0 (0xb73a2000)
        libpcre.so.0 => /usr/lib/libpcre.so.0 (0xb7394000)
        libz.so.1 => /lib/libz.so.1 (0xb7385000)
        libpthread.so.0 => /lib/tls/libpthread.so.0 (0xb7372000)
        libc.so.6 => /lib/tls/libc.so.6 (0xb723b000)
        /lib/ld-linux.so.2 (0x80000000)
undefined symbol: pow   (/usr/lib/libethereal.so)


Just pow...

the emerge info output is:

pacinotti comio # emerge info
Portage 2.0.51.22-r1 (default-linux/x86/2005.0, gcc-3.4.4, glibc-2.3.5-r0,
2.6.11-reiser4-r5 i686)
=================================================================
System uname: 2.6.11-reiser4-r5 i686 Intel(R) Pentium(R) 4 CPU 1.70GHz
Gentoo Base System version 1.6.12
ccache version 2.4 [disabled]
dev-lang/python:     2.3.5, 2.4.1-r1
sys-apps/sandbox:    1.2.9
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.5
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.18
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=pentium3 -Os -pipe -fomit-frame-pointer -falign-jumps=4"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env
/usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config
/var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-march=pentium3 -Os -pipe -fomit-frame-pointer -falign-jumps=4"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://www.die.unipd.it/pub/Linux/distributions/gentoo-sources/
ftp://pandemonium.tiscali.de/pub/gentoo/
http://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/
ftp://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/
ftp://mirror.switch.ch/mirror/gentoo/ ftp://ftp.gentoo.mesh-solutions.com/gentoo/"
LANG="it_IT@euro"
LC_ALL="C"
LINGUAS="it"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X X509 a52 aac aalib acl acpi alsa amarok amd apache2 apm audiofile avi
bash-completion berkdb bidi bitmap-fonts bzip2 bzlib calendar cardbus ccache cdb
cdda cddb cdio cdr chroot cpdflib crypt css ctype cups curl dba dga dhcp
divx4linux dlloader doc dts dvb dvd emboss encode exif extensions fam fbcon
ffmpeg flac flatfile foomaticdb fortran fpx freetype ftp gd gdbm gif gimpprint
gpm graphviz gtk gtk2 hal httpd i8x0 iconv idea ieee1394 imagemagick imap imlib
ipv6 ithreads java jpeg jpeg2k junit kde kdeenablefinal kdexdeltas libcaca
libg++ libwww lirc live lm_sensors lzo mad mcve mhash mikmod mime ming mmx mono
motif mozilla mp3 mpeg mppe-mppc mppemppc ncurses network nls nptl oav offensive
ogg oggvorbis opengl pam pam_chroot pam_console pam_timestamp parse-clocks
parseclocks pcmcia pdflib perl pic png pnp posix pthreads python qt quicktime
quotas readline samba sdl session simplexml slang soap sockets spell spl sse
sse2 ssl stream svg svga tcltk tcpd threads tiff tokenizer truetype
truetype-fonts type1-fonts unicode usb v4l v4l2 vcd visualization vlm vorbis
win32codecs wmf wxwindows xine xinerama xml2 xmlrpc xosd xpm xprint xscreesaver
xsl xv xvid zeroconf zlib linguas_it userland_GNU kernel_linux elibc_glibc"





Comment 11


Marcelo Goes (RETIRED)






          2005-07-29 18:34:40 UTC
        

Same in tethereal 0.10.12:

$ ldd -r /usr/lib/libethereal.so.0
undefined symbol: tree_head     (/usr/lib/libethereal.so.0)
...




Comment 12


Marcelo Goes (RETIRED)






          2005-07-29 18:52:47 UTC
        

Created attachment 64695 [details]
config.log for ethereal-0.10.12




Comment 13


Benjamin Smee (strerror) (RETIRED)






          2005-11-26 05:15:03 UTC
        

this is fine for me on 0.10.13. Is this problem fixed in the latest ebuild?




Comment 14


Marcelo Goes (RETIRED)






          2006-01-26 17:13:11 UTC
        

I still have undefined symbols with 0.10.14:

undefined symbol: adns_finish   (/usr/lib/libethereal.so.0)
undefined symbol: adns_init     (/usr/lib/libethereal.so.0)
undefined symbol: pow   (/usr/lib/libethereal.so.0)
undefined symbol: adns_submit   (/usr/lib/libethereal.so.0)
undefined symbol: exp   (/usr/lib/libethereal.so.0)
undefined symbol: adns_check    (/usr/lib/libethereal.so.0)




Comment 15


Markus Ullmann (RETIRED)






          2006-03-31 13:22:25 UTC
        

Ethereal needs your system in a consistent state, try running revdep-rebuild to see if there are some broken libs/deps (at least in comment #14 this looks like the linked adns lib is broken / missing)










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

