Title: 82736 – Ecore fails to emerge due to "too many function arguments"
URL: https://bugs.gentoo.org/show_bug.cgi?id=82736

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 82736
Ecore fails to emerge due to "too many function arguments"
Last modified: 2005-03-13 20:48:20 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 82736 
      - Ecore fails to emerge due to "too many function arguments"


Summary:
Ecore fails to emerge due to "too many function arguments"
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

SpanKY








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-02-20 14:59 UTC by doug whiteley





      Modified:
    
2005-03-13 20:48 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



oliver









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


doug whiteley





          2005-02-20 14:59:10 UTC
        

mkdir .libs
 i686-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I. -I../../.. -I../../../src/lib/ecore -I../../../src/lib/ecore_evas -I../../../src/lib/ecore -I../../../src/lib/ecore_evas -I../../../src/lib/ecore_x -I../../../src/lib/ecore_fb -march=athlon-xp -O2 -pipe -fomit-frame-pointer -Wall -MT ecore_evas_x.lo -MD -MP -MF .deps/ecore_evas_x.Tpo -c ecore_evas_x.c  -fPIC -DPIC -o .libs/ecore_evas_x.o
 i686-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I. -I../../.. -I../../../src/lib/ecore -I../../../src/lib/ecore_evas -I../../../src/lib/ecore -I../../../src/lib/ecore_evas -I../../../src/lib/ecore_x -I../../../src/lib/ecore_fb -march=athlon-xp -O2 -pipe -fomit-frame-pointer -Wall -MT ecore_evas.lo -MD -MP -MF .deps/ecore_evas.Tpo -c ecore_evas.c  -fPIC -DPIC -o .libs/ecore_evas.o
ecore_evas_x.c: In function `_ecore_evas_mouse_move_process':
ecore_evas_x.c:45: error: too many arguments to function `evas_event_feed_mouse_move'
ecore_evas_x.c:47: error: too many arguments to function `evas_event_feed_mouse_move'
ecore_evas_x.c:49: error: too many arguments to function `evas_event_feed_mouse_move'
ecore_evas_x.c:51: error: too many arguments to function `evas_event_feed_mouse_move'
ecore_evas_x.c: In function `_ecore_evas_event_key_down':
ecore_evas_x.c:123: error: too many arguments to function `evas_event_feed_key_down'
ecore_evas_x.c: In function `_ecore_evas_event_key_up':
ecore_evas_x.c:137: error: too many arguments to function `evas_event_feed_key_up'
ecore_evas_x.c: In function `_ecore_evas_event_mouse_button_down':
ecore_evas_x.c:146: error: `Evas_Button_Flags' undeclared (first use in this function)
ecore_evas_x.c:146: error: (Each undeclared identifier is reported only once
ecore_evas_x.c:146: error: for each function it appears in.)
ecore_evas_x.c:146: error: parse error before "flags"
ecore_evas_x.c:153: error: `flags' undeclared (first use in this function)
ecore_evas_x.c:153: error: `EVAS_BUTTON_DOUBLE_CLICK' undeclared (first use in this function)
ecore_evas_x.c:154: error: `EVAS_BUTTON_TRIPLE_CLICK' undeclared (first use in this function)
ecore_evas_x.c:155: error: too many arguments to function `evas_event_feed_mouse_down'
ecore_evas_x.c: In function `_ecore_evas_event_mouse_button_up':
ecore_evas_x.c:170: error: `EVAS_BUTTON_NONE' undeclared (first use in this function)
ecore_evas_x.c:170: error: too many arguments to function `evas_event_feed_mouse_up'
ecore_evas_x.c: In function `_ecore_evas_event_mouse_wheel':
ecore_evas_x.c:188: error: too many arguments to function `evas_event_feed_mouse_wheel'
ecore_evas_x.c: In function `_ecore_evas_event_mouse_in':
ecore_evas_x.c:220: error: too many arguments to function `evas_event_feed_mouse_in'
ecore_evas_x.c: In function `_ecore_evas_event_mouse_out':
ecore_evas_x.c:238: error: too many arguments to function `evas_event_feed_mouse_out'
make[4]: *** [ecore_evas_x.lo] Error 1
make[4]: *** Waiting for unfinished jobs....
ecore_evas.c: In function `ecore_evas_init':
ecore_evas.c:67: warning: implicit declaration of function `evas_init'
 i686-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I. -I../../.. -I../../../src/lib/ecore -I../../../src/lib/ecore_evas -I../../../src/lib/ecore -I../../../src/lib/ecore_evas -I../../../src/lib/ecore_x -I../../../src/lib/ecore_fb -march=athlon-xp -O2 -pipe -fomit-frame-pointer -Wall -MT ecore_evas.lo -MD -MP -MF .deps/ecore_evas.Tpo -c ecore_evas.c -o ecore_evas.o >/dev/null 2>&1
make[4]: Leaving directory `/var/tmp/portage/ecore-1.0.0.20050116_pre7/work/ecore/src/lib/ecore_evas'
make[3]: *** [all-recursive] Error 1
make[3]: Leaving directory `/var/tmp/portage/ecore-1.0.0.20050116_pre7/work/ecore/src/lib'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/var/tmp/portage/ecore-1.0.0.20050116_pre7/work/ecore/src'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/ecore-1.0.0.20050116_pre7/work/ecore'
make: *** [all] Error 2
 * Please do not contact the E team about bugs in Gentoo.
 * Only contact vapier@gentoo.org via e-mail or bugzilla.
 * Remember, this stuff is CVS only code so dont cry when
 * I break you :).

!!! ERROR: x11-libs/ecore-1.0.0.20050116_pre7 failed.
!!! Function enlightenment_die, Line 73, Exitcode 0
!!! emake failed
!!! SEND BUG REPORTS TO vapier@gentoo.org NOT THE E TEAM
!!! If you need support, post the topmost build error, NOT this status message.


Reproducible: Always
Steps to Reproduce:
1.emerge ecore
2.
3.

Actual Results:  
emerge failed

Expected Results:  
ecore gets installed

motoreffect rezza # emerge info
Portage 2.0.51-r15 (default-linux/x86/2004.3, gcc-3.4.3-20050110,
glibc-2.3.4.20050125-r0, 2.6.9-gentoo-r9 i686)
=================================================================
System uname: 2.6.9-gentoo-r9 i686 AMD Athlon(tm) XP 2500+
Gentoo Base System version 1.6.9
Python:              dev-lang/python-2.2.3-r5,dev-lang/python-2.3.5 [2.3.5 (#1,
Feb 19 2005, 12:27:29)]
dev-lang/python:     2.2.3-r5, 2.3.5
sys-devel/autoconf:  2.59-r6, 2.13
sys-devel/automake:  1.7.9-r1, 1.8.5-r3, 1.5, 1.4_p6, 1.6.3, 1.9.4
sys-devel/binutils:  2.15.92.0.2-r1, 2.15.92.0.2-r2
sys-devel/libtool:   1.5.10-r4
virtual/os-headers:  2.6.8.1-r2
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CFLAGS="-march=athlon-xp -O2 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config
/var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-march=athlon-xp -O2 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig candy ccache distlocks prelink sandbox sfperms"
GENTOO_MIRRORS="ftp://212.219.56.162/sites/www.ibiblio.org/gentoo/ 
ftp://ftp.gentoo.mesh-solutions.com/gentoo/ 	http://mir.zyrianes.net/gentoo/ 
ftp://212.219.56.152/sites/www.ibiblio.org/gentoo/ 
http://212.219.56.146/sites/www.ibiblio.org/gentoo/"
LDFLAGS="-Wl,-O1"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage /usr/local/bmg-main"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="x86 3dnow 3dnowex S3TC X Xaw3d a52 aac aalib acpi alsa apache2 atm avi
bash-completion berkdb bitmap-fonts bmp cdparanoia cdr crypt curl dba directfb
droproot dts dvd dvdread edl emboss encode f77 faac faad fam fbcon flac
font-server fortran freetype gd gdbm ggi gif gstreamer gtk gtk2 imagemagick
imlib ipv6 java javascript jpeg libcaca libg++ libwww mad matroska mikmod mmx
mmx2 monkey motif mozilla moznocompose moznoirc mozsvg mpeg mysql ncurses nls
no-old-linux nptl oggvorbis openal opengl operanom2 pcre pdflib perl php pic png
python qemu-fast quicktime readline real rtc ruby samba sdl session slang speex
spell sse ssl svg svga tcltk tcpd theora tidy tiff truetype truetype-fonts
type1-fonts usb videos vim-with-x wmf wxwin wxwindows xanim xchattext xine xml
xml2 xmms xrandr xv xvid xvmc zlib"
Unset:  ASFLAGS, CBUILD, CTARGET, LANG, LC_ALL




Comment 1


SpanKY






          2005-02-20 16:12:45 UTC
        

update your evas to the latest unstable




Comment 2


doug whiteley





          2005-02-20 16:48:49 UTC
        

motoreffect ~ $ sudo emerge -av evas

These are the packages that I would merge, in order:

Calculating dependencies  ...done!
[ebuild   R   ] x11-libs/evas-1.0.0.20050116_pre13  +X -cairo -debug +directfb -doc +fbcon +jpeg +mmx +nls +opengl +png +sse 0 kB 

Total size of downloads: 0 kB

Do you want me to merge these packages? [Yes/No] n

Quitting.


^^ that isn't the latest unstable evas?

motoreffect ~ $ equery list -i -p evas
[ Searching for package 'evas' in all categories among: ]
 * installed packages
[I--] [  ] x11-libs/evas-1.0.0.20050116_pre13 (0)
 * Portage tree (/usr/portage)
[-P-] [  ] x11-libs/evas-1.0.0_pre13 (0)
[-P-] [M-] x11-libs/evas-9999 (0)





Comment 3


Olliver Schinagl





          2005-02-21 10:43:15 UTC
        

Breaks here too, can't find a lib. I don't know if its related to this specific bug.

/bin/sh ../../../libtool --mode=link i686-pc-linux-gnu-gcc  -O3 -march=athlon-xp -mtune=athlon-xp -pipe -fomit-frame-pointer -Wall   -o libecore_evas.la -rpath /usr/lib -version-info 1:0:0 -L../../../src/lib/ecore_x/.libs -L../../../src/lib/ecore_fb/.libs -L../../../src/lib/ecore/.libs ecore_evas.lo ecore_evas_x.lo ecore_evas_fb.lo ecore_evas_buffer.lo ../../../src/lib/ecore_x/libecore_x.la ../../../src/lib/ecore_fb/libecore_fb.la ../../../src/lib/ecore/libecore.la -L/usr/lib -levas 
../../../libtool: line 3136: cd: usr/lib: No such file or directory
libtool: link: warning: cannot determine absolute directory name of `usr/lib'
grep: usr/lib/libGLU.la: No such file or directory
/bin/sed: can't read usr/lib/libGLU.la: No such file or directory
libtool: link: `usr/lib/libGLU.la' is not a valid libtool archive
make[4]: *** [libecore_evas.la] Error 1
make[4]: Leaving directory `/var/tmp/portage/ecore-1.0.0.20050220_pre7/work/ecore/src/lib/ecore_evas'


where I do have a /usr/lib/libGLU.la (ATi drivers)




Comment 4


SpanKY






          2005-02-21 10:49:00 UTC
        

it's unrelated, you hit a xorg-x11 bug

fix your .la files in /usr/lib that include the broken path




Comment 5


Olliver Schinagl





          2005-02-21 12:24:58 UTC
        

Que?

oliver@valexia /usr/lib $ ls -laF libGLU*
-rw-r--r--  1 root root 750678 Feb 11 18:50 libGLU.a
-rw-r--r--  1 root root    751 Feb 11 18:50 libGLU.la
lrwxrwxrwx  1 root root     13 Feb 11 18:50 libGLU.so -> libGLU.so.1.3*
lrwxrwxrwx  1 root root     13 Feb 11 18:50 libGLU.so.1 -> libGLU.so.1.3*
-rwxr-xr-x  1 root root 613946 Feb 11 18:50 libGLU.so.1.3*

So I'm sure you aren't refering to that. Since all this seems to be in order.

I did peek inside libGLU.la and noticed indeed it said libdir='usr/lib'
It does indeed make sense to have libdir='/usr/lib' here.

I hope the ebuild responsible is/will be fixed soon then.

(I merly replied to verify my findings and to help others hitting this thread for some reason : )




Comment 6


Olliver Schinagl





          2005-02-21 12:34:57 UTC
        

and (since there is no edit button : /)

/usr/lib/libevas.la referenced to the wrong path. As it probably just sets the path to libGLU but doesn't actually use it. After these modifications, ecore does build indeed.




Comment 7


doug whiteley





          2005-02-21 19:47:08 UTC
        

Tried with the 1.0.0.20050220_pre13 evas, still gives me the same error.




Comment 8


SpanKY






          2005-03-13 20:48:20 UTC
        

oh well, make sure you're using the latest versions, and if that doesnt work, try re-emerging sub libs with diff USE flags

if you track down the issue, please re-open









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

