Title: 854114 – Cross compiling x11-drivers/xf86-input-libinput-1.2.1 installs libinput-properties.h into /usr/CHOST/usr/CHOST/usr/include/xorg
URL: https://bugs.gentoo.org/show_bug.cgi?id=854114

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 854114
Cross compiling x11-drivers/xf86-input-libinput-1.2.1 installs libinput-properties.h into /usr/CHOST/usr/CHOST/usr/include/xorg
Last modified: 2024-06-13 13:32:10 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 854114 
      - Cross compiling x11-drivers/xf86-input-libinput-1.2.1 installs libinput-properties.h into /usr/CHOST/usr/CHOST/usr/include/xorg


Summary:
Cross compiling x11-drivers/xf86-input-libinput-1.2.1 installs libinput-prope...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo X packagers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2022-06-24 14:46 UTC by Johannes Geiss





      Modified:
    
2024-06-13 13:32 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



cross
johannes.geiss









See Also:


813639

815520





Package list:







Runtime testing required:

---























      Attachments
    




Build log

              (x11-drivers:xf86-input-libinput-1.2.1:20220623-102740.log,40.95 KB,
                text/plain)

            
2022-06-26 05:49 UTC,

            Johannes Geiss




Details





emerge info

              (emerge-info.log,7.96 KB,
                text/plain)

            
2022-06-26 05:52 UTC,

            Johannes Geiss




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Johannes Geiss





          2022-06-24 14:46:37 UTC
        

Cross compiling x11-drivers/xf86-input-libinput-1.2.1 installs libinput-properties.h into /usr/CHOST/usr/CHOST/usr/include/xorg

Reproducible: Always

Steps to Reproduce:
export CT=arm-unknown-linux-gnueabihf
$CT-emerge -av1 --usepkg=n --getbinpkg=n x11-drivers/xf86-input-libinput
Actual Results:  
/usr/arm-unknown-linux-gnueabihf/usr/arm-unknown-linux-gnueabihf/usr/include/xorg/libinput-properties.h

Expected Results:  
/usr/arm-unknown-linux-gnueabihf/usr/include/xorg/libinput-properties.h

Workaround:

CBUILD=x86_64-pc-linux-gnu CHOST=$CT ROOT=/usr/$CT PORTAGE_CONFIGROOT=/usr/$CT ebuild $(portageq get_repo_path / gentoo)/x11-drivers/xf86-input-libinput/xf86-input-libinput-1.2.1.ebuild compile

sed -i "s,sdkdir = /usr/$CT/usr/include/xorg,sdkdir = /usr/include/xorg,g" /usr/$CT/var/tmp/portage/x11-drivers/xf86-input-libinput-1.2.1/work/xf86-input-libinput-1.2.1/include/Makefile

CBUILD=x86_64-pc-linux-gnu CHOST=$CT ROOT=/usr/$CT PORTAGE_CONFIGROOT=/usr/$CT ebuild $(portageq get_repo_path / gentoo)/x11-drivers/xf86-input-libinput/xf86-input-libinput-1.2.1.ebuild merge




Comment 1


Johannes Geiss





          2022-06-24 14:47:27 UTC
        

Similar to
https://bugs.gentoo.org/813639
https://bugs.gentoo.org/815520




Comment 2


Sam James









          2022-06-24 18:54:17 UTC
        

Please always include the full build.log and emerge --info.




Comment 3


Johannes Geiss





          2022-06-26 05:49:29 UTC
        

Created attachment 787670 [details]
Build log

See line #359:
/usr/armv7a-pandora-linux-gnueabihf/usr/armv7a-pandora-linux-gnueabihf/usr/include/xorg/libinput-properties.h




Comment 4


Johannes Geiss





          2022-06-26 05:52:37 UTC
        

Created attachment 787673 [details]
emerge info




Comment 5


Johannes Geiss





          2024-06-13 06:39:07 UTC
        

I tested this issue again and it seems the error is gone. So, this can be closed.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

