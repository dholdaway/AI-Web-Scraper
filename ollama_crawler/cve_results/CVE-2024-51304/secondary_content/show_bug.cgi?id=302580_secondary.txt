Title: 302580 – media-libs/libv4l-0.6.1 (Enhancement: amd64 multilib use flag)
URL: https://bugs.gentoo.org/show_bug.cgi?id=302580

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 302580
media-libs/libv4l-0.6.1 (Enhancement: amd64 multilib use flag)
Last modified: 2010-01-28 09:40:09 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 302580 
      - media-libs/libv4l-0.6.1 (Enhancement: amd64 multilib use flag)


Summary:
media-libs/libv4l-0.6.1 (Enhancement: amd64 multilib use flag)
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       enhancement
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2010-01-28 08:21 UTC by Iskren Slavov





      Modified:
    
2010-01-28 09:40 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




proposed patch for the libv4l-0.6.1.ebuild

              (libv4l-0.6.1-use-multilib.patch,339 bytes,
                patch)

            
2010-01-28 08:22 UTC,

            Iskren Slavov




Details
            | Diff





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Iskren Slavov





          2010-01-28 08:21:22 UTC
        

Ok, let me explain. There are a bunch of web cameras (especially gpsca2-based ones). GPSCA2 is included in video4linux2 into the kernel and the drivers are working great.


Reproducible: Always

Steps to Reproduce:
1. Let's say you'd like to use your gpsca2-based webcam with Skype.
2. You already compiled the driver into the kernel or as a module.
3. You would have to use the following line to to run Skype with v4l1compat library loaded:
LD_PRELOAD="/usr/lib32/libv4l/v4l1compat.so" skype
or your gpsca2-based camera won't work with it.
4. But there is no such file becaus libv4l isn't built with EMULTILIB_PKG="true".

Actual Results:  
When libv4l isn't built with EMULTILIB_PKG="true" there is a 64-bit library in "/usr/lib64/libv4l/v4l1compat.so" but as soon as Skype is a 32-bit application it does not work.

Expected Results:  
I propose to add a use flag for amd64 build of libv4l to enable multilib support. I've already done this in my local overlay and my camera finally works with Skype.

I'm attaching a proposed patch to the latest ebuild of libv4l in portage.




Comment 1


Iskren Slavov





          2010-01-28 08:22:14 UTC
        

Created attachment 217702 [details, diff]
proposed patch for the libv4l-0.6.1.ebuild




Comment 2


Samuli Suominen (RETIRED)






          2010-01-28 09:40:09 UTC
        

# emerge emul-linux-x86-medialibs

app-emulation/emul-linux-x86-medialibs-20091231 (/usr/lib32/libv4l/v4l1compat.so)









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

