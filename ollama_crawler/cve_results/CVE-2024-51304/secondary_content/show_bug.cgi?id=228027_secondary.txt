Title: 228027 – net-p2p/amule-2.2.1 fails to start
URL: https://bugs.gentoo.org/show_bug.cgi?id=228027

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 228027
net-p2p/amule-2.2.1 fails to start
Last modified: 2008-12-30 11:43:18 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 228027 
      - net-p2p/amule-2.2.1 fails to start


Summary:
net-p2p/amule-2.2.1 fails to start
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       major
      


Assignee:

Gentoo net-p2p team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:




239533



 

        Show dependency tree





 





      Reported:
    
2008-06-18 10:05 UTC by Simon Toth





      Modified:
    
2008-12-30 11:43 UTC
      (History)
    




          CC List:
        

3 
          users
          
            (show)
          



gentoo.guillaume
juantxorena
wxwidgets









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Simon Toth





          2008-06-18 10:05:18 UTC
        

Amule fails to start with the following assertion:

Assertion failed: /var/tmp/paludis/x11-libs-wxGTK-2.8.7.1-r2/work/wxPython-src-2.8.7.1/src/common/socket.cpp:Initialize:142: Assertion 'wxIsMainThread()' failed. Call wxSocketBase::Initialize() from the main thread first!


Reproducible: Always

Steps to Reproduce:
1. install amule (+ latest wxGTK maybe)
2. run amule




Comment 1


Jeroen Roovers (RETIRED)






          2008-06-18 14:40:40 UTC
        

Please post your something-resembling-emerge--info and the build log. Oh, and is the output you give there the output of the `amule' command?




Comment 2


Simon Toth





          2008-06-18 16:30:49 UTC
        

(In reply to comment #1)
> Please post your something-resembling-emerge--info and the build log. Oh, and
> is the output you give there the output of the `amule' command?

Yes this is the output of runing amule (the same for amuled).

Amule use flags: daemon debug geoip gtk nls remote stats unicode -upnp

paludis --info:

paludis 0.26.2
Paludis build information:
    Compiler:
        CXX:                   x86_64-pc-linux-gnu-g++ 4.2.4 (Gentoo 4.2.4 p1.0)
        CXXFLAGS:              -march=k8 -msse3 -O2 -pipe
        LDFLAGS:               -Wl,--as-needed
        DATE:                  2008-06-01T18:33:54+0200

    Libraries:
        C++ Library:           GNU libstdc++ 20080519

    Reduced Privs:
        reduced_uid:           101
        reduced_uid->name:     paludisbuild
        reduced_uid->dir:      /dev/null
        reduced_gid:           441
        reduced_gid->name:     paludisbuild

    Paths:
        DATADIR:               /usr/share
        LIBDIR:                /usr/lib64
        LIBEXECDIR:            /usr/libexec
        SYSCONFDIR:            /etc
        PYTHONINSTALLDIR:      /usr/lib64/python2.4/site-packages
        RUBYINSTALLDIR:        /usr/lib64/ruby/site_ruby/1.8/x86_64-linux

Repository virtuals:
    format:                    virtuals

Repository installed-virtuals:
    format:                    installed_virtuals
    root:                      /

Repository gentoo:
    format:                    ebuild
    location:                  /usr/portage
    append_repository_name_to_write_cache: true
    binary_destination:        false
    binary_keywords:
    binary_uri_prefix:
    builddir:                  /var/tmp/paludis
    cache:                     /usr/portage/metadata/cache
    distdir:                   /usr/portage/distfiles
    eapi_when_unknown:         0
    eapi_when_unspecified:     0
    eclassdirs:                /usr/portage/eclass
    ignore_deprecated_profiles: false
    layout:                    traditional
    names_cache:               /usr/portage/.cache/names
    newsdir:                   /usr/portage/metadata/news
    profile_eapi:              0
    profiles:                  /usr/portage/profiles/default-linux/amd64/2007.0/desktop
    securitydir:               /usr/portage/metadata/glsa
    setsdir:                   /usr/portage/sets
    sync:                      rsync://rsync.gentoo.org/gentoo-portage
    sync_options:
    use_manifest:              use
    write_cache:               /var/cache/paludis/metadata

    Package information:
        app-admin/eselect-compiler: (none)
        app-shells/bash:       3.2_p33
        dev-java/java-config:  1.3.7 2.1.6
        dev-lang/python:       2.4.4-r13
        dev-python/pycrypto:   2.0.1-r6
        dev-util/ccache:       2.4-r7
        dev-util/confcache:    (none)
        sys-apps/baselayout:   2.0.0
        sys-apps/openrc:       0.2.5
        sys-apps/sandbox:      1.2.18.1-r2
        sys-devel/autoconf:    2.13 2.61-r1
        sys-devel/automake:    1.10.1 1.5 1.6.3 1.7.9-r1 1.8.5-r3 1.9.6-r2
        sys-devel/binutils:    2.18-r1
        sys-devel/gcc-config:  1.4.0-r4
        sys-devel/libtool:     1.5.26
        virtual/os-headers:    2.6.23-r3 (for sys-kernel/linux-headers::installed)

Repository installed:
    format:                    vdb
    location:                  /var/db/pkg
    builddir:                  /var/tmp/paludis
    names_cache:               /var/db/pkg/.cache/names
    provides_cache:            /var/db/pkg/.cache/provides
    root:                      /

Repository berkano:
    format:                    ebuild
    location:                  /var/paludis/repositories/berkano
    append_repository_name_to_write_cache: true
    binary_destination:        false
    binary_keywords:
    binary_uri_prefix:
    builddir:                  /var/tmp/paludis
    cache:                     /var/empty
    distdir:                   /usr/portage/distfiles
    eapi_when_unknown:         0
    eapi_when_unspecified:     0
    eclassdirs:                /usr/portage/eclass /var/paludis/repositories/berkano/eclass
    ignore_deprecated_profiles: false
    layout:                    traditional
    master_repository:         gentoo
    names_cache:               /var/paludis/repositories/berkano/.cache/names
    newsdir:                   /var/paludis/repositories/berkano/metadata/news
    profile_eapi:              0
    profiles:                  /usr/portage/profiles/default-linux/amd64/2007.0/desktop
    securitydir:               /var/paludis/repositories/berkano/metadata/glsa
    setsdir:                   /var/paludis/repositories/berkano/sets
    sync:                      svn+http://svn.liveforge.org/berkano/trunk
    sync_options:
    use_manifest:              use
    write_cache:               /var/cache/paludis/metadata

Repository kde4-experimental:
    format:                    ebuild
    location:                  /var/paludis/repositories/kde
    append_repository_name_to_write_cache: true
    binary_destination:        false
    binary_keywords:
    binary_uri_prefix:
    builddir:                  /var/tmp/paludis
    cache:                     /var/empty
    distdir:                   /usr/portage/distfiles
    eapi_when_unknown:         0
    eapi_when_unspecified:     0
    eclassdirs:                /usr/portage/eclass /var/paludis/repositories/kde/eclass
    ignore_deprecated_profiles: false
    layout:                    traditional
    master_repository:         gentoo
    names_cache:               /var/cache/paludis/names
    newsdir:                   /var/paludis/repositories/kde/metadata/news
    profile_eapi:              0
    profiles:                  /usr/portage/profiles/default-linux/amd64/2007.0/desktop
    securitydir:               /var/paludis/repositories/kde/metadata/glsa
    setsdir:                   /var/paludis/repositories/kde/sets
    sync:                      git://www2.mailstation.de/git/genkde4svn.git
    sync_options:
    use_manifest:              use
    write_cache:               /var/cache/paludis/cache

Repository paludis-extras:
    format:                    ebuild
    location:                  /var/paludis/repositories/paludis-extras
    append_repository_name_to_write_cache: true
    binary_destination:        false
    binary_keywords:
    binary_uri_prefix:
    builddir:                  /var/tmp/paludis
    cache:                     /var/empty
    distdir:                   /usr/portage/distfiles
    eapi_when_unknown:         0
    eapi_when_unspecified:     0
    eclassdirs:                /usr/portage/eclass /var/paludis/repositories/paludis-extras/eclass
    ignore_deprecated_profiles: false
    layout:                    traditional
    master_repository:         gentoo
    names_cache:               /var/paludis/repositories/paludis-extras/.cache/names
    newsdir:                   /var/paludis/repositories/paludis-extras/metadata/news
    profile_eapi:              0
    profiles:                  /usr/portage/profiles/default-linux/amd64/2007.0/desktop
    securitydir:               /var/paludis/repositories/paludis-extras/metadata/glsa
    setsdir:                   /var/paludis/repositories/paludis-extras/sets
    sync:                      rsync://drzile.dyndns.org/paludis-extras/ rsync://server.guldbrand.net/paludis-extras/ rsync://ns-linux.org/paludis-extras/
    sync_options:
    use_manifest:              use
    write_cache:               /var/cache/paludis/metadata

Repository sunrise:
    format:                    ebuild
    location:                  /var/paludis/repositories/sunrise
    append_repository_name_to_write_cache: true
    binary_destination:        false
    binary_keywords:
    binary_uri_prefix:
    builddir:                  /var/tmp/paludis
    cache:                     /var/empty
    distdir:                   /usr/portage/distfiles
    eapi_when_unknown:         0
    eapi_when_unspecified:     0
    eclassdirs:                /usr/portage/eclass /var/paludis/repositories/sunrise/eclass
    ignore_deprecated_profiles: false
    layout:                    traditional
    master_repository:         gentoo
    names_cache:               /var/paludis/repositories/sunrise/.cache/names
    newsdir:                   /var/paludis/repositories/sunrise/metadata/news
    profile_eapi:              0
    profiles:                  /usr/portage/profiles/default-linux/amd64/2007.0/desktop
    securitydir:               /var/paludis/repositories/sunrise/metadata/glsa
    setsdir:                   /var/paludis/repositories/sunrise/sets
    sync:                      svn+http://overlays.gentoo.org/svn/proj/sunrise/reviewed/
    sync_options:
    use_manifest:              use
    write_cache:               /var/cache/paludis/metadata

Repository overlay-watzke-cz:
    format:                    ebuild
    location:                  /var/paludis/repositories/watzke
    append_repository_name_to_write_cache: true
    binary_destination:        false
    binary_keywords:
    binary_uri_prefix:
    builddir:                  /var/tmp/paludis
    cache:                     /var/empty
    distdir:                   /usr/portage/distfiles
    eapi_when_unknown:         0
    eapi_when_unspecified:     0
    eclassdirs:                /usr/portage/eclass /var/paludis/repositories/watzke/eclass
    ignore_deprecated_profiles: false
    layout:                    traditional
    master_repository:         gentoo
    names_cache:               /var/paludis/repositories/watzke/.cache/names
    newsdir:                   /var/paludis/repositories/watzke/metadata/news
    profile_eapi:              0
    profiles:                  /usr/portage/profiles/default-linux/amd64/2007.0/desktop
    securitydir:               /var/paludis/repositories/watzke/metadata/glsa
    setsdir:                   /var/paludis/repositories/watzke/sets
    sync:                      svn://svn.watzke.cz/dave/overlay
    sync_options:
    use_manifest:              use
    write_cache:               /var/cache/paludis/metadata

Repository zugaina:
    format:                    ebuild
    location:                  /var/paludis/repositories/zugaina
    append_repository_name_to_write_cache: true
    binary_destination:        false
    binary_keywords:
    binary_uri_prefix:
    builddir:                  /var/tmp/paludis
    cache:                     /var/empty
    distdir:                   /usr/portage/distfiles
    eapi_when_unknown:         0
    eapi_when_unspecified:     0
    eclassdirs:                /usr/portage/eclass /var/paludis/repositories/zugaina/eclass
    ignore_deprecated_profiles: false
    layout:                    traditional
    master_repository:         gentoo
    names_cache:               /var/paludis/repositories/zugaina/.cache/names
    newsdir:                   /var/paludis/repositories/zugaina/metadata/news
    profile_eapi:              0
    profiles:                  /usr/portage/profiles/default-linux/amd64/2007.0/desktop
    securitydir:               /var/paludis/repositories/zugaina/metadata/glsa
    setsdir:                   /var/paludis/repositories/zugaina/sets
    sync:                      rsync://gentoo.zugaina.org/zugaina-portage
    sync_options:
    use_manifest:              use
    write_cache:               /var/cache/paludis/metadata


No packages were specified on the command line, so detailed information is not
available (Paludis can display detailed information for both installed and
installable packages).





Comment 3


Raúl Porcel (RETIRED)






          2008-08-01 18:17:25 UTC
        

Still happening?




Comment 4


Simon Toth





          2008-08-02 00:02:11 UTC
        

(In reply to comment #3)
> Still happening?

Yes, exactly the same error. Even with the new rc version. Seems like amule requires different version of wxGTK.




Comment 5


Guillaume ZITTA





          2008-08-06 07:22:57 UTC
        

Do you have the "debug" useflag enabled?
I'had this problem and "USE=debug emerge amule"
made me a working Amule






Comment 6


Simon Toth





          2008-08-07 01:50:40 UTC
        

(In reply to comment #5)
> Do you have the "debug" useflag enabled?
> I'had this problem and "USE=debug emerge amule"
> made me a working Amule

Uhm, yes, as you can clearly see in the third post, i have the debug flag enabled.

I will try to rebuild the wxGTK without debug (should probably remove the assertion) and will report the result.




Comment 7


Simon Toth





          2008-08-08 16:19:39 UTC
        

(In reply to comment #6)
> (In reply to comment #5)
> > Do you have the "debug" useflag enabled?
> > I'had this problem and "USE=debug emerge amule"
> > made me a working Amule
> 
> Uhm, yes, as you can clearly see in the third post, i have the debug flag
> enabled.
> 
> I will try to rebuild the wxGTK without debug (should probably remove the
> assertion) and will report the result.

Turning of the debug USE flag solves the problem (well, it is not a solution, because I need wxGTK with debug flag).





Comment 8


juantxorena@gmail.com





          2008-11-22 12:34:09 UTC
        

Do you have this problem with newer versions of amule and wxgtk?




Comment 9


Simon Toth





          2008-11-22 18:22:42 UTC
        

(In reply to comment #8)
> Do you have this problem with newer versions of amule and wxgtk?

I'm really sorry, but due to recent hard-masks in Gentoo portage I can no longer keep my system up to date and will be switching to a different distribution soon.




Comment 10


Javier Tarifa





          2008-12-29 00:44:13 UTC
        

There was only one person reporting this problem in amule-2.2.1 and it's clear that he's not going to help resolve that possible bug. Can it be closed so we're closer to the stabilization of 2.2.2 ?




Comment 11


Raúl Porcel (RETIRED)






          2008-12-30 11:43:18 UTC
        

WFM.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

