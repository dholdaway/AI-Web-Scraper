Title: 92574 – gaim 1.3.0 segfaults on start on amd64 with ~amd64
URL: https://bugs.gentoo.org/show_bug.cgi?id=92574

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 92574
gaim 1.3.0 segfaults on start on amd64 with ~amd64
Last modified: 2005-11-06 10:59:42 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 92574 
      - gaim 1.3.0 segfaults on start on amd64 with ~amd64


Summary:
gaim 1.3.0 segfaults on start on amd64 with ~amd64
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       critical
      


Assignee:

Gaim Bugs Crew








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-05-14 03:55 UTC by Richard Kirkcaldy





      Modified:
    
2005-11-06 10:59 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



amd64









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Richard Kirkcaldy





          2005-05-14 03:55:38 UTC
        

Gaim segfaults on starting, I recompiled with use=debug and it fails after plugins: probing /usr/lib/gaim/gevolution.so

Reproducible: Always
Steps to Reproduce:
1. emerge gaim with ~amd64
2. start gaim
Actual Results:  
<snip>
plugins: probing /usr/lib/gaim/gevolution.so
Hi, user.  We need to talk.
I think something's gone wrong here.  It's probably my fault.
No, really, it's not you... it's me... no no no, I think we get along well
it's just that.... well, I want to see other people.  I... what?!?  NO!  I haven't
been cheating on you!!  How many times do you want me to tell you?!  And for
thelast time, it's just a rash!
Aborted (core dumped)


Expected Results:  
Gaim runs

emerge info:

Portage 2.0.51.21-r1 (default-linux/amd64/2004.3, gcc-3.4.3-20050110,
glibc-2.3.5-r0, 2.6.9-gentoo-r14 x86_64)
=================================================================
System uname: 2.6.9-gentoo-r14 x86_64 AMD Athlon(tm) 64 Processor 3000+
Gentoo Base System version 1.6.11
distcc 2.18.3 x86_64-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
dev-lang/python:     2.3.5
sys-apps/sandbox:    1.2.5-r1
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.5
sys-devel/binutils:  2.15.92.0.2-r8
sys-devel/libtool:   1.5.16
virtual/os-headers:  2.6.11
ACCEPT_KEYWORDS="amd64 ~amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=athlon64 -O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env
/usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config
/var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-march=athlon64 -O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox strict"
GENTOO_MIRRORS="http://gentoo.blueyonder.co.uk"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="amd64 X acpi alsa berkdb bitmap-fonts bonobo cdr crypt curl dvd eds esd fam
font-server fortran gd gdbm gif gnome gpm gstreamer gtk gtkhtml guile
imagemagick imlib ipv6 java jp2 jpeg libwww lzw lzw-tiff mad motif mozilla mp3
mysql ncurses nls ntpl ogg opengl oss pam perl png python qt readline ruby samba
sdl ssl tcltk tcpd tiff truetype truetype-fonts type1-fonts usb userlocales
vorbis xml xml2 xmms xpm xrandr xv zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS, MAKEOPTS, PORTDIR_OVERLAY


(gdb) backtrace
#0  0x0000002a9741bea9 in kill () from /lib/libc.so.6
#1  0x0000002a96672411 in pthread_kill () from /lib/libpthread.so.0
#2  0x0000002a96672792 in raise () from /lib/libpthread.so.0
#3  0x0000002a9741bbf2 in raise () from /lib/libc.so.6
#4  0x0000002a9741ce32 in abort () from /lib/libc.so.6
#5  0x00000000004a9437 in sighandler ()
#6  0x0000002a96674c47 in __pthread_sighandler () from /lib/libpthread.so.0
#7  0x0000002a9741bc20 in killpg () from /lib/libc.so.6
#8  0x0000000000000000 in ?? ()
#9  0x0000000000000000 in ?? ()
#10 0x0000000000000000 in ?? ()
#11 0x0000000000000002 in ?? ()
#12 0x0000000000000000 in ?? ()
#13 0x0000000000000004 in ?? ()
#14 0x0000000000000003 in ?? ()
#15 0x0000002a97609980 in __malloc_initialize_hook () from /lib/libc.so.6
#16 0x0000000000000000 in ?? ()
#17 0x0000000000000300 in ?? ()
#18 0x0000000000000018 in ?? ()
#19 0x0000000000000001 in ?? ()
#20 0x0000002a96429004 in ?? () from /usr/lib/libglib-2.0.so.0
#21 0x0000000000000000 in ?? ()
#22 0x0000000000000400 in ?? ()
#23 0x0000002a965621e0 in ?? () from /usr/lib/libglib-2.0.so.0
#24 0x00000000006d0080 in ?? ()
#25 0x0000000000000001 in ?? ()
#26 0x0000002a96561a00 in g_thread_use_default_impl () from
/usr/lib/libglib-2.0.so.0
#27 0x0000000000000100 in ?? ()
#28 0x0000007fbfff8da0 in ?? ()
#29 0x0000002a96670a8e in pthread_mutex_lock () from /lib/libpthread.so.0
#30 0x000000000000000e in ?? ()
#31 0x0000000080000000 in ?? ()
#32 0x0000000000000010 in ?? ()
#33 0x0000007fbfff8b20 in ?? ()
#34 0x0000002a9cf01000 in ?? ()
#35 0x0000007fbfff8b60 in ?? ()
#36 0x0000002a9555e74f in _dl_rtld_di_serinfo () from /lib64/ld-linux-x86-64.so.2
Previous frame inner to this frame (corrupt stack?)




Comment 1


Don Seiler (RETIRED)






          2005-05-17 07:05:03 UTC
        

Does it work if you emerge gaim with USE="-eds"?




Comment 2


Richard Kirkcaldy





          2005-05-17 09:25:19 UTC
        

Yes, it works fine with USE="-esd"




Comment 3


Don Seiler (RETIRED)






          2005-08-24 11:19:29 UTC
        

Can someone from amd64 help work out these kinks?




Comment 4


Simon Stelling (RETIRED)






          2005-11-06 10:59:42 UTC
        

1.5.0 works fine here, assume it's fixed in this version. if not, please reopen.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

