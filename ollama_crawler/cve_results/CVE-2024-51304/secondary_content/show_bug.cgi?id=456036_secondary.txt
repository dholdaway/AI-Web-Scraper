Title: 456036 – app-emulation/virtinst-0.600.3: guest kernel panic with virt-install option --cpu {host,core2duo}
URL: https://bugs.gentoo.org/show_bug.cgi?id=456036

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 456036
app-emulation/virtinst-0.600.3: guest kernel panic with virt-install option --cpu {host,core2duo}
Last modified: 2013-02-08 08:50:08 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 456036 
      - app-emulation/virtinst-0.600.3: guest kernel panic with virt-install option --cpu {host,core2duo}


Summary:
app-emulation/virtinst-0.600.3: guest kernel panic with virt-install option -...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Virtualization Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2013-02-07 15:07 UTC by Alexandr Tiurin





      Modified:
    
2013-02-08 08:50 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




kernel panic

              (Screenshot_of_QEMU_(s1).png,13.12 KB,
                image/png)

            
2013-02-07 15:08 UTC,

            Alexandr Tiurin




Details





emerge --info virtinst

              (eminfo,17.69 KB,
                text/plain)

            
2013-02-07 15:11 UTC,

            Alexandr Tiurin




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Alexandr Tiurin





          2013-02-07 15:07:43 UTC
        

Guest kernel panic with virt-install option --cpu host and core2duo

Reproducible: Always

Steps to Reproduce:
1. wget http://mirror.yandex.ru/centos/6.3/isos/x86_64/CentOS-6.3-x86_64-netinstall.iso
2. run virt-install.sh

Actual Results:  
Please see attach. 


cat virt-install.sh

#! /bin/bash 
 
NAME=s1
#CDROM=/home/sanches/sysrescue33.iso
CDROM=/home/sanches/CentOS-6.3-x86_64-netinstall.iso
VNCPORT=5917
OSVAR=virtio26
IP=192.168.0.15
 
virt-install --connect qemu:///system \
-n "$NAME" \
-r 2048 \
--cpu host \
--arch=x86_64 \
--vcpus=2 \
--os-type=linux \
--os-variant=$OSVAR \
--network network=default \
--hvm \
--accelerate \
--graphics vnc,password=123,listen=$IP,port=$VNCPORT \
--cdrom "$CDROM" \
--disk "/var/lib/libvirt/images/$NAME.img",bus=virtio,size=10,format=raw,cache=writeback &

Same issue with SystemRescueCd-x86-3.3.0.




Comment 1


Alexandr Tiurin





          2013-02-07 15:08:20 UTC
        

Created attachment 338240 [details]
kernel panic




Comment 2


Alexandr Tiurin





          2013-02-07 15:11:45 UTC
        

Created attachment 338242 [details]
emerge --info virtinst




Comment 3


Alexandr Tiurin





          2013-02-07 15:14:02 UTC
        

Comment on attachment 338240 [details]
kernel panic

change MIME Type to image/png




Comment 4


Doug Goldstein (RETIRED)






          2013-02-07 21:07:56 UTC
        

virtinst is really just passing this all down to libvirt, which is passing this down to qemu. So I'd really need to know what versions of those you're using. I want to say I vaguely remember seeing something like this a while back.




Comment 5


Alexandr Tiurin





          2013-02-07 22:00:30 UTC
        

I use app-emulation/libvirt-0.10.2.1 and app-emulation/qemu-1.1.2-r2.




Comment 6


Doug Goldstein (RETIRED)






          2013-02-07 22:13:57 UTC
        

(In reply to comment #5)
> I use app-emulation/libvirt-0.10.2.1 and app-emulation/qemu-1.1.2-r2.

Re-test with current stable app-emulation/qemu.




Comment 7


Alexandr Tiurin





          2013-02-08 08:50:08 UTC
        

Opps, I have not noticed update for qemu. After update works fine. Thanks.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

