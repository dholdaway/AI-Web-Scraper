Title: 519908 – x11-apps/xdm and x11-apps/lightdm should depend on x11-base/xorg-server
URL: https://bugs.gentoo.org/show_bug.cgi?id=519908

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 519908
x11-apps/xdm and x11-apps/lightdm should depend on x11-base/xorg-server
Last modified: 2014-08-17 20:21:22 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 519908 
      - x11-apps/xdm and x11-apps/lightdm should depend on x11-base/xorg-server


Summary:
x11-apps/xdm and x11-apps/lightdm should depend on x11-base/xorg-server
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo X packagers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2014-08-14 11:34 UTC by Denis de La Fortelle





      Modified:
    
2014-08-17 20:21 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Denis de La Fortelle





          2014-08-14 11:34:21 UTC
        

In the course to reducing a box to MATE + LightDM + systemd with no trace of gdm, I used the following commands :
   emerge --deselect gdm
   emerge --depclean -a
and I had the surprise to have all the graphics stack packages proposed for removal.
After some thinking, I have done :
   emerge --noreplace xorg-server
   emerge --depclean -a
and this time the list of package proposed was OK for me.

Digging a bit in the xdm and lightdm ebuilds, I found no trace of dependency to xorg-server. It seemed to me that the gdm et kdm depend effectively upon xorg-server.

I suggest to add at least to the xdm and lightdm ebuilds a dependency to xorg-server.

I might be wrong.




Comment 1


Jeroen Roovers (RETIRED)






          2014-08-15 07:41:51 UTC
        

The thing is, neither display manager actually needs a locally installed display server.  Whether to have the display server on the same system is a decision for the system administrator to make.




Comment 2


Denis de La Fortelle





          2014-08-17 20:21:22 UTC
        

This system administration decision could be made dynamically, as an exemple through a /etc.conf.d/ parameter, or statically through a package USE flag.

The last way seems easy, just add a new USE flag "notlocal" and a line in the ebuild RDEPEND like :

    !notlocal? ( x11-base/xorg-server )

I might be wrong (TM).









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

