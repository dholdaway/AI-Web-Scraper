Title: 351130 – app-emulation/virtualbox-bin-4.0.0-r1: Failed to load VMMR0.r0 (VERR_SUPLIB_OWNER_NOT_ROOT).
URL: https://bugs.gentoo.org/show_bug.cgi?id=351130

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 351130
app-emulation/virtualbox-bin-4.0.0-r1: Failed to load VMMR0.r0 (VERR_SUPLIB_OWNER_NOT_ROOT).
Last modified: 2013-10-02 16:07:40 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 351130 
      - app-emulation/virtualbox-bin-4.0.0-r1: Failed to load VMMR0.r0 (VERR_SUPLIB_OWNER_NOT_ROOT).


Summary:
app-emulation/virtualbox-bin-4.0.0-r1: Failed to load VMMR0.r0 (VERR_SUPLIB_O...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Patrick Lauer








URL:



http://www.virtualbox.org/ticket/7889




Whiteboard:




Keywords:









Duplicates (1):
    

415833

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2011-01-08 16:07 UTC by Vasco Gervasi





      Modified:
    
2013-10-02 16:07 UTC
      (History)
    




          CC List:
        

7 
          users
          
            (show)
          



bbutscheidt
bkohler
penetsdorfer
polynomial-c
proxy-maint
rootfavell
swapon









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Vasco Gervasi





          2011-01-08 16:07:04 UTC
        

I have just update virtualbox to the new 4.0 version, but it gives me this strange error, when I start a virtual machine:
Failed to load VMMR0.r0 (VERR_SUPLIB_OWNER_NOT_ROOT).
Unknown error creating VM (VERR_SUPLIB_OWNER_NOT_ROOT).
It works good with 3.2 series.
I have tried to create a new virtual machine, remerge virtualbox-bin and virtualbox-modules, but same result.
I tried to run:
cd /
chown root:root usr
cd usr
chown root:root lib
as said on this page: http://www.virtualbox.org/ticket/7889
But no results.

Thanks

Reproducible: Always

Steps to Reproduce:
1. emerge virtualbox-bin
2. VirtualBox
3. start a virtual machine

Actual Results:  
Doesn't start virtual machine

Expected Results:  
Start virtual machine

Portage 2.2.0_alpha14 (default/linux/amd64/10.0/no-multilib, gcc-4.5.2, glibc-2.12.1-r3, 2.6.37 x86_64)
=================================================================
System uname: Linux-2.6.37-x86_64-AMD_Athlon-tm-_64_X2_Dual_Core_Processor_5000+-with-gentoo-2.0.1
Timestamp of tree: Sat, 08 Jan 2011 11:30:02 +0000
app-shells/bash:     4.1_p9
dev-java/java-config: 2.1.11-r3
dev-lang/python:     2.7.1, 3.1.3
dev-util/cmake:      2.8.3-r1
sys-apps/baselayout: 2.0.1-r1
sys-apps/openrc:     0.6.8
sys-apps/sandbox:    2.4
sys-devel/autoconf:  2.13, 2.68
sys-devel/automake:  1.10.3, 1.11.1
sys-devel/binutils:  2.21
sys-devel/gcc:       4.5.2
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   2.4-r1
sys-devel/make:      3.82
virtual/os-headers:  2.6.36.1 (sys-kernel/linux-headers)
Repositories:

gentoo
    location: /usr/portage/tree
    sync: rsync://rsync.gentoo.org/gentoo-portage
    priority: -1000

rion
    location: /usr/portage/dist/local/layman/rion
    masters: gentoo
    priority: 0

x11
    location: /usr/portage/dist/local/layman/x11
    masters: gentoo
    priority: 1

desktop-effects
    location: /usr/portage/dist/local/layman/desktop-effects
    masters: gentoo
    priority: 2

gamerlay-stable
    location: /usr/portage/dist/local/layman/gamerlay
    masters: gentoo
    priority: 3

local-overlay
    location: /usr/portage/dist/local/local
    masters: gentoo
    priority: 4

ABI="amd64"
ACCEPT_KEYWORDS="amd64 ~amd64"
ACCEPT_LICENSE="*"
ACCEPT_PROPERTIES="*"
ALSA_CARDS="ctxfi"
ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol"
APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cgi cgid dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias"
ARCH="amd64"
ASFLAGS_x86="--32"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CDEFINE_amd64="__x86_64__"
CDEFINE_x86="__i386__"
CFLAGS="-march=native -O2 -pipe -fomit-frame-pointer"
CFLAGS_x86="-m32"
CHOST="x86_64-pc-linux-gnu"
CHOST_amd64="x86_64-pc-linux-gnu"
CHOST_x86="i686-pc-linux-gnu"
CLEAN_DELAY="5"
COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog"
COLLISION_IGNORE="/lib/modules"
COLORTERM="gnome-terminal"
CONFIG_PROTECT="/etc"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo"
CVS_RSH="ssh"
CXXFLAGS="-march=native -O2 -pipe -fomit-frame-pointer"
DEFAULT_ABI="amd64"
DISPLAY=":0.0"
DISTDIR="/usr/portage/dist/distfiles"
EDITOR="/bin/nano"
ELIBC="glibc"
EMERGE_DEFAULT_OPTS="--verbose"
EMERGE_WARNING_DELAY="10"
EPREFIX=""
EROOT="/"
FEATURES="assume-digests binpkg-logs distlocks fixlafiles fixpackages metadata-transfer news parallel-fetch preserve-libs protect-owned sandbox sfperms strict unknown-features-warn unmerge-logs unmerge-orphans userfetch"
FETCHCOMMAND="/usr/bin/wget -t 3 -T 60 --passive-ftp -O "${DISTDIR}/${FILE}" "${URI}""
FETCHCOMMAND_RSYNC="rsync -avP "${URI}" "${DISTDIR}/${FILE}""
FETCHCOMMAND_SFTP="bash -c "x=\${2#sftp://} ; host=\${x%%/*} ; port=\${host##*:} ; host=\${host%:*} ; [[ \${host} = \${port} ]] && port=22 ; exec sftp -P \${port} \"\${host}:/\${x#*/}\" \"\$1\"" sftp "${DISTDIR}/${FILE}" "${URI}""
FETCHCOMMAND_SSH="bash -c "x=\${2#ssh://} ; host=\${x%%/*} ; port=\${host##*:} ; host=\${host%:*} ; [[ \${host} = \${port} ]] && port=22 ; exec rsync --rsh=\"ssh -p\${port}\" -avP \"\${host}:/\${x#*/}\" \"\$1\"" rsync "${DISTDIR}/${FILE}" "${URI}""
GDK_USE_XFT="1"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://open-systems.ufl.edu/mirrors/gentoo http://gentoo.llarian.net/ http://gentoo.binarycompass.org"
GNOME_DESKTOP_SESSION_ID="this-is-deprecated"
GNOME_KEYRING_CONTROL="/tmp/keyring-UqhRNG"
GPG_AGENT_INFO="/tmp/keyring-UqhRNG/gpg:0:1"
GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf superstar2 timing tsip tripmate tnt ubx"
GSETTINGS_BACKEND="gconf"
HG="/usr/bin/hg"
HOME="/root"
HUSHLOGIN="FALSE"
INFOPATH="/usr/share/info:/usr/share/binutils-data/x86_64-pc-linux-gnu/2.21/info:/usr/share/gcc-data/x86_64-pc-linux-gnu/4.5.2/info"
INPUT_DEVICES="evdev"
JAVAC="/etc/java-config-2/current-system-vm/bin/javac"
JAVA_HOME="/etc/java-config-2/current-system-vm"
JDK_HOME="/etc/java-config-2/current-system-vm"
KERNEL="linux"
LANG="it_IT.UTF-8"
LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text"
LC_ALL="it_IT.UTF-8"
LDFLAGS="-Wl,-O1 -Wl,--as-needed -Wl,--hash-style=gnu"
LDFLAGS_x86="-m elf_i386"
LESS="-R -M --shift 5"
LESSOPEN="|lesspipe.sh %s"
LIBDIR_amd64="lib64"
LIBDIR_amd64_fbsd="lib64"
LIBDIR_ppc="lib32"
LIBDIR_ppc64="lib64"
LIBDIR_sparc32="lib32"
LIBDIR_sparc64="lib64"
LIBDIR_x86="lib32"
LIBDIR_x86_fbsd="lib32"
LINGUAS="it"
LOGNAME="root"
LS_COLORS="rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=01;05;37;41:mi=01;05;37;41:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arj=01;31:*.taz=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.dz=01;31:*.gz=01;31:*.lz=01;31:*.xz=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.rar=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.jpg=01;35:*.jpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.axv=01;35:*.anx=01;35:*.ogv=01;35:*.ogx=01;35:*.pdf=00;32:*.ps=00;32:*.txt=00;32:*.patch=00;32:*.diff=00;32:*.log=00;32:*.tex=00;32:*.doc=00;32:*.aac=00;36:*.au=00;36:*.flac=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.axa=00;36:*.oga=00;36:*.spx=00;36:*.xspf=00;36:"
MAIL="/var/mail/vasco"
MAKEOPTS="-j3"
MANPATH="/etc/java-config-2/current-system-vm/man:/usr/local/share/man:/usr/share/man:/usr/share/binutils-data/x86_64-pc-linux-gnu/2.21/man:/usr/share/gcc-data/x86_64-pc-linux-gnu/4.5.2/man:/etc/java-config/system-vm/man/"
MULTILIB_ABIS="amd64"
MULTILIB_STRICT_DENY="64-bit.*shared object"
MULTILIB_STRICT_DIRS="/lib32 /lib /usr/lib32 /usr/lib /usr/kde/*/lib32 /usr/kde/*/lib /usr/qt/*/lib32 /usr/qt/*/lib /usr/X11R6/lib32 /usr/X11R6/lib"
MULTILIB_STRICT_EXEMPT="(perl5|gcc|gcc-lib|binutils|eclipse-3|debug|portage)"
NETBEANS="apisupport cnd groovy gsf harness ide identity j2ee java mobility nb php profiler soa visualweb webcommon websvccommon xml"
OLDPWD="/"
OPENGL_PROFILE="xorg-x11"
ORBIT_SOCKETDIR="/tmp/orbit-root"
PAGER="/usr/bin/less"
PATH="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/bin:/usr/x86_64-pc-linux-gnu/gcc-bin/4.5.2"
PHP_TARGETS="php5-3"
PKGDIR="/usr/portage/packages"
PORTAGE_ARCHLIST="ppc sparc64-freebsd ppc-openbsd x86-openbsd ppc64 x86-winnt x86-fbsd ppc-aix alpha arm x86-freebsd s390 amd64 arm-linux x86-macos x64-openbsd ia64-hpux hppa x86-netbsd x86-cygwin amd64-linux ia64-linux x86 sparc-solaris x64-freebsd sparc64-solaris x86-linux x64-macos sparc m68k-mint ia64 mips ppc-macos x86-interix hppa-hpux amd64-fbsd x64-solaris mips-irix m68k sh x86-solaris sparc-fbsd"
PORTAGE_BINHOST_CHUNKSIZE="3000"
PORTAGE_BIN_PATH="/usr/lib64/portage/bin"
PORTAGE_COMPRESS_EXCLUDE_SUFFIXES="css gif htm[l]? jp[e]?g js pdf png"
PORTAGE_CONFIGROOT="/"
PORTAGE_DEBUG="0"
PORTAGE_DEPCACHEDIR="/var/cache/edb/dep"
PORTAGE_ELOG_CLASSES="log warn error"
PORTAGE_ELOG_MAILFROM="portage@localhost"
PORTAGE_ELOG_MAILSUBJECT="[portage] ebuild log for ${PACKAGE} on ${HOST}"
PORTAGE_ELOG_MAILURI="root"
PORTAGE_ELOG_SYSTEM="save_summary echo"
PORTAGE_FETCH_CHECKSUM_TRY_MIRRORS="5"
PORTAGE_FETCH_RESUME_MIN_SIZE="350K"
PORTAGE_GID="250"
PORTAGE_INST_GID="0"
PORTAGE_INST_UID="0"
PORTAGE_PYM_PATH="/usr/lib64/portage/pym"
PORTAGE_RSYNC_EXTRA_OPTS="--exclude-from=/etc/portage/rsync_excludes"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_RSYNC_RETRIES="-1"
PORTAGE_SANDBOX_COMPAT_LEVEL="22"
PORTAGE_SYNC_STALE="30"
PORTAGE_TMPDIR="/var/tmp/"
PORTAGE_VERBOSE="1"
PORTAGE_WORKDIR_MODE="0700"
PORTDIR="/usr/portage/tree"
PORTDIR_OVERLAY="/usr/portage/dist/local/layman/rion /usr/portage/dist/local/layman/x11 /usr/portage/dist/local/layman/desktop-effects /usr/portage/dist/local/layman/gamerlay /usr/portage/dist/local/local"
PRELINK_PATH_MASK="/usr/lib64/libfreebl3.so:/usr/lib64/libnssdbm3.so:/usr/lib64/libsoftokn3.so"
PROFILE_ONLY_VARIABLES="ARCH ELIBC KERNEL USERLAND"
PWD="/usr"
PYTHONDONTWRITEBYTECODE="1"
RESUMECOMMAND="/usr/bin/wget -c -t 3 -T 60 --passive-ftp -O "${DISTDIR}/${FILE}" "${URI}""
RESUMECOMMAND_RSYNC="rsync -avP "${URI}" "${DISTDIR}/${FILE}""
RESUMECOMMAND_SSH="bash -c "x=\${2#ssh://} ; host=\${x%%/*} ; port=\${host##*:} ; host=\${host%:*} ; [[ \${host} = \${port} ]] && port=22 ; exec rsync --rsh=\"ssh -p\${port}\" -avP \"\${host}:/\${x#*/}\" \"\$1\"" rsync "${DISTDIR}/${FILE}" "${URI}""
ROOT="/"
ROOTPATH="/opt/bin:/usr/x86_64-pc-linux-gnu/gcc-bin/4.5.2"
RPMDIR="/usr/portage/rpm"
RUBY_TARGETS="ruby18"
SESSION_MANAGER="local/yellowhat:@/tmp/.ICE-unix/5131,unix/yellowhat:/tmp/.ICE-unix/5131"
SHELL="/bin/bash"
SHLVL="5"
SSH_AUTH_SOCK="/tmp/keyring-UqhRNG/ssh"
STAGE1_USE="nptl nptlonly unicode"
SYMLINK_LIB="yes"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
TERM="xterm"
USE="3dnow X a52 acl alsa amd64 berkdb branding bzip2 cairo cdda cddb cdr cli cracklib crypt cups cxx dbus dri dvd exif ffmpeg fortran gdbm gif gnome gpm gtk hddtemp iconv ipv6 jpeg lame mad mmx modules mp3 mpeg mudflap nautilus ncurses nls nptl nptlonly ogg opengl openmp pam pcre perl png pppd python quicktime rar readline session smp sse sse2 sse3 ssl svg sysfs tcpd theora tiff twolame udev unicode usb x264 xcb xorg xv xvid zlib" ALSA_CARDS="ctxfi" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cgi cgid dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf superstar2 timing tsip tripmate tnt ubx" INPUT_DEVICES="evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="it" PHP_TARGETS="php5-3" RUBY_TARGETS="ruby18" USERLAND="GNU" VIDEO_CARDS="radeon" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account" 
USER="root"
USERLAND="GNU"
USE_EXPAND="ALSA_CARDS ALSA_PCM_PLUGINS APACHE2_MODULES APACHE2_MPMS CAMERAS COLLECTD_PLUGINS CROSSCOMPILE_OPTS DVB_CARDS ELIBC FCDSL_CARDS FOO2ZJS_DEVICES FRITZCAPI_CARDS GPSD_PROTOCOLS INPUT_DEVICES KERNEL LCD_DEVICES LINGUAS LIRC_DEVICES MISDN_CARDS NETBEANS_MODULES NGINX_MODULES_HTTP NGINX_MODULES_MAIL PHP_TARGETS QEMU_SOFTMMU_TARGETS QEMU_USER_TARGETS RUBY_TARGETS SANE_BACKENDS USERLAND VIDEO_CARDS XFCE_PLUGINS XTABLES_ADDONS"
USE_EXPAND_HIDDEN="CROSSCOMPILE_OPTS ELIBC KERNEL USERLAND"
USE_ORDER="env:pkg:conf:defaults:pkginternal:env.d"
VBOX_APP_HOME="/opt/VirtualBox"
VIDEO_CARDS="radeon"
WINDOWID="48234499"
WINDOWPATH="7"
XAUTHORITY="/tmp/libgksu-uPUFHS/.Xauthority"
XDG_CONFIG_DIRS="/etc/xdg"
XDG_DATA_DIRS="/usr/local/share:/usr/share"
XDG_MENU_PREFIX="gnome-"
XDG_SESSION_COOKIE="ccee0d1ccdc2a2f6ab1721614c2fcf7c-1294501720.726907-2138382062"
XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account"
XZ_OPT="--memory=max"
_="/usr/bin/emerge"




Comment 1


Lars Wendler (Polynomial-C) (RETIRED)






          2011-01-08 16:37:35 UTC
        

Does the command

  find /opt/VirtualBox \! -user root

print any output? If yes please add the output to this bug report.


(In reply to comment #0)
> I tried to run:
> cd /
> chown root:root usr
> cd usr
> chown root:root lib
> as said on this page: http://www.virtualbox.org/ticket/7889
> But no results.

This cannot work as virtualbox-bin gets installed into /opt/VirtualBox




Comment 2


Vasco Gervasi





          2011-01-08 16:48:30 UTC
        

This command : find /opt/VirtualBox \! -user root
Has no output.




Comment 3


Penetsdorfer Martin





          2011-01-10 17:02:43 UTC
        

Follow commands as root fixed this problem:

#chown root:root /usr
#chown root:root /usr/lib

But is this for another program OK ???




Comment 4


Vasco Gervasi





          2011-01-10 17:11:25 UTC
        

Pardon?




Comment 5


Penetsdorfer Martin





          2011-01-10 17:52:52 UTC
        

Oh sorry - I have looked only the Summary

Please try follow:

#chown root:root /usr/share




Comment 6


Vasco Gervasi





          2011-01-10 18:01:34 UTC
        

Nothing same result




Comment 7


Lars Wendler (Polynomial-C) (RETIRED)






          2011-01-11 14:35:13 UTC
        

Alright in case these chown commands really fix the problem for some people I would really like to know what's the ownership of the affected directories _before_ you issued the chown commands.




Comment 8


Lars Wendler (Polynomial-C) (RETIRED)






          2011-01-11 14:36:24 UTC
        

To be more precise, all above mentioned directories should have root:root anyway.




Comment 9


Vasco Gervasi





          2011-01-11 15:34:43 UTC
        

/ # ls -al
totale 60
drwxr-xr-x  21 root  root  4096 10 dic 18.55 .
drwxr-xr-x  21 root  root  4096 10 dic 18.55 ..
drwxr-xr-x   4 root  root  4096  4 gen 22.22 bin
drwxr-xr-x   3 root  root  4096  5 gen 15.50 boot
drwx------   2 root  root     6 10 dic 18.56 Desktop
drwxr-xr-x  16 root  root  3980 11 gen 16.29 dev
drwxr-xr-x  66 root  root  4096 11 gen 16.30 etc
drwx------   2 root  root     6 10 dic 18.56 .gnome-desktop
drwxr-xr-x   3 root  root    30  4 lug  2010 home
lrwxrwxrwx   1 root  root     5  3 lug  2010 lib -> lib64
drwxr-xr-x   2 root  root    38 12 set 12.18 lib32
drwxr-xr-x  11 root  root  8192  9 gen 11.38 lib64
drwxr-xr-x   6 root  root    83 10 gen 21.44 media
drwxr-xr-x   4 root  root    43 17 giu  2010 mnt
drwxr-xr-x   7 vasco vasco   98  8 gen 13.04 opt
dr-xr-xr-x 161 root  root     0 11 gen  2011 proc
drwx------  20 root  root  4096 11 gen 16.31 root
drwxr-xr-x   4 root  root  8192  9 gen 11.38 sbin
drwxr-xr-x  12 root  root     0 11 gen  2011 sys
drwxrwxrwt  11 root  root  4096 11 gen 16.32 tmp
drwxr-xr-x  14 root  root  4096  4 gen 18.20 usr
drwxr-xr-x  13 root  root   144 16 ott 08.24 var

usr # ls -al
totale 244
drwxr-xr-x  14 root  root   4096  4 gen 18.20 .
drwxr-xr-x  21 root  root   4096 10 dic 18.55 ..
drwxr-xr-x   2 vasco vasco 49152 10 gen 17.00 bin
drwxr-x---   3 root  games    16  4 gen 18.20 games
drwxr-xr-x 223 root  root  12288 10 gen 17.00 include
-rw-r--r--   1 root  root      0 17 giu  2010 .keep
lrwxrwxrwx   1 root  root      5  3 lug  2010 lib -> lib64
drwxr-xr-x   2 root  root     31 12 set 12.18 lib32
drwxr-xr-x  89 root  root  69632 10 gen 17.00 lib64
drwxr-xr-x  11 root  root   4096  5 gen 15.17 libexec
drwxr-xr-x   9 root  root    117  6 lug  2010 local
drwxr-xr-x   4 root  root     28  3 lug  2010 portage
drwxr-xr-x   2 root  root   8192  9 gen 11.38 sbin
drwxr-xr-x 147 root  root   4096 10 gen 15.27 share
drwxr-xr-x   3 root  root     49  5 gen 19.40 src
lrwxrwxrwx   1 root  root      8  3 lug  2010 tmp -> /var/tmp
drwxr-xr-x   6 root  root     59 17 giu  2010 x86_64-pc-linux-gnu




Comment 10


Lars Wendler (Polynomial-C) (RETIRED)






          2011-01-11 18:10:23 UTC
        

Well... in your case /opt has strange ownership. Try setting /opt to root:root maybe that fixes your problem.

  chown root:root /opt




Comment 11


Vasco Gervasi





          2011-01-11 18:14:55 UTC
        

Now it works. Thanks very much




Comment 12


Bernd Butscheidt





          2011-01-12 09:08:06 UTC
        

In my case, I have /dev/sda6 mounted to /sources: 

localhost sources # ls -al root
total 0
drwxr-xr-x  4 root    root     96 Oct 23  2008 .
drwxrwxr-x  7 bernd_b portage 224 Aug 15 09:40 ..
drwxr-xr-x 13 root    root    464 Jan 11 15:58 opt
drwxr-xr-x  8 bernd_b portage 408 Jan  6 23:26 src


So the opt directory (where /opt is a symbolic link to /sources/root/opt) seems to have the right permissions to me.

Even though, I got this error. 

Changing /sources with 

localhost / # chown root:root /sources

getting

localhost sources # ls -al root
total 0
drwxr-xr-x  4 root    root     96 Oct 23  2008 .
drwxrwxr-x  7 root    root    224 Aug 15 09:40 ..
drwxr-xr-x 13 root    root    464 Jan 11 15:58 opt
drwxr-xr-x  8 bernd_b portage 408 Jan  6 23:26 src

the Guest starts again. Don't know if this is supposed to be.




Comment 13


Elliott Rezny





          2011-05-04 20:17:01 UTC
        

I am having this issue with 4.0.4 and 4.0.6. /opt/VirtualBox is entirely owned by root with some vboxusers as the group. A few files look like they have goofy permissions, but they are links:
-rw-r--r-- 1 root root 2103128 May  4 14:54 VBoxC.so
lrwxrwxrwx 1 root root      26 May  4 14:54 VBoxDDU.so -> /opt/VirtualBox/VBoxDDU.so
lrwxrwxrwx 1 root root      26 May  4 14:54 VBoxREM.so -> /opt/VirtualBox/VBoxREM.so
lrwxrwxrwx 1 root root      25 May  4 14:54 VBoxRT.so -> /opt/VirtualBox/VBoxRT.so
-rw-r--r-- 1 root root   12088 May  4 14:54 VBoxSVCM.so
lrwxrwxrwx 1 root root      26 May  4 14:54 VBoxVMM.so -> /opt/VirtualBox/VBoxVMM.so
-rw-r--r-- 1 root root   25931 May  4 14:54 VBoxXPCOMBase.xpt
-rw-r--r-- 1 root root  191104 May  4 14:54 VBoxXPCOMIPCC.so
lrwxrwxrwx 1 root root      28 May  4 14:54 VBoxXPCOM.so -> /opt/VirtualBox/VBoxXPCOM.so
-rw-r--r-- 1 root root   42149 May  4 14:54 VirtualBox_XPCOM.xpt

@Penetsdorfer Martin: do you seriously suggest chowning the entire /usr/share? Wouldn't that mess with other packages that put files there?

tried removing write permissions for everyone but owner on the entire /opt/VirtualBox, but that didn't help. I have just in the past hour removed virtualbox-bin, ran a portage sync, and reinstalled it. I don't remember when this broke.




Comment 14


Elliott Rezny





          2011-05-04 21:40:07 UTC
        

(In reply to comment #13)

> tried removing write permissions for everyone but owner on the entire
> /opt/VirtualBox, but that didn't help. 

I found the log file for the machine (~/.VirtualBox/Machines/<Name>/Logs/...) and it gave a slightly more detailed message:

00:00:01.120 pdmR3LoadR0U: pszName="VMMR0.r0" rc=VERR_SUPLIB_OWNER_NOT_ROOT szErr="The owner is not root: '/opt'"
00:00:01.120 VMSetError: /home/vbox/tinderbox/4.0-lnx64-rel/src/VBox/VMM/VMMR3/VM.cpp(579) int vmR3CreateU(UVM*, uint32_t, int (*)(VM*, void*), void*); rc=VERR_SUPLIB_OWNER_NOT_ROOT
00:00:01.120 VMSetError: Failed to load VMMR0.r0
00:00:01.120 VMSetError: /home/vbox/tinderbox/4.0-lnx64-rel/src/VBox/VMM/VMMR3/VM.cpp(350) int VMR3Create(uint32_t, const VMM2USERMETHODS*, void (*)(VM*, void*, int, const char*, unsigned int, const char*, const char*, __va_list_tag*), void*, int (*)(VM*, void*), void*, VM**); rc=VERR_SUPLIB_OWNER_NOT_ROOT
00:00:01.120 VMSetError: Unknown error creating VM
00:00:01.120 ERROR [COM]: aRC=NS_ERROR_FAILURE (0x80004005) aIID={515e8e8d-f932-4d8e-9f32-79a52aead882} aComponent={Console} aText={Failed to load VMMR0.r0 (VERR_SUPLIB_OWNER_NOT_ROOT).
00:00:01.120 Unknown error creating VM (VERR_SUPLIB_OWNER_NOT_ROOT)}, preserve=false
00:00:01.219 Power up failed (vrc=VERR_SUPLIB_OWNER_NOT_ROOT, rc=NS_ERROR_FAILURE (0X80004005))

Which told me exactly what I did wrong. /opt was the only directory in the area that I didn't check explicitly. Changing it's ownership to root seemed to have solved my problems.




Comment 15


Marco Albanese





          2011-07-01 15:42:23 UTC
        

(In reply to comment #14)
> Which told me exactly what I did wrong. /opt was the only directory in the area
> that I didn't check explicitly. Changing it's ownership to root seemed to have
> solved my problems.

Works for me. 
Changing /opt ownership to root Virtualbox solves the problem.

Thank you :)




Comment 16


Lars Wendler (Polynomial-C) (RETIRED)






          2012-05-14 07:40:44 UTC
        

*** Bug 415833 has been marked as a duplicate of this bug. ***




Comment 17


Ben Kohler






          2013-10-02 16:07:40 UTC
        

If there are any other problems here besides bad permissions on /opt, please reopen the bug.

Thanks!









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

