Title: 258157 – x11-misc/googleearth crashes X11 with Intel video adapter
URL: https://bugs.gentoo.org/show_bug.cgi?id=258157

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 258157
x11-misc/googleearth crashes X11 with Intel video adapter
Last modified: 2010-02-19 11:53:44 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 258157 
      - x11-misc/googleearth crashes X11 with Intel video adapter


Summary:
x11-misc/googleearth crashes X11 with Intel video adapter
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Vlastimil Babka (Caster) (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-02-08 16:49 UTC by Tiago Madeira





      Modified:
    
2010-02-19 11:53 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



chris.burroughs
tmadeira









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




glxinfo output

              (glxinfo.log,4.92 KB,
                text/plain)

            
2009-02-08 16:50 UTC,

            Tiago Madeira




Details





startx output (I used 'startx &> xge.log')

              (xge.log,3.58 KB,
                text/plain)

            
2009-02-08 16:50 UTC,

            Tiago Madeira




Details





My xorg.conf

              (xorg.conf,1.69 KB,
                text/plain)

            
2009-02-08 16:51 UTC,

            Tiago Madeira




Details





Xorg.0.log (googleearth-4.3.7284.3916)

              (Xorg.0.log,44.26 KB,
                text/plain)

            
2009-02-10 01:45 UTC,

            Tiago Madeira




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Tiago Madeira





          2009-02-08 16:49:42 UTC
        

Everytime I start Google Earth (5.0.11337.1968_beta) with my Intel GM965/GL960 (8086:2a02) using architeture amd64, when the application opens and the Earth animation begins, X crashes and I have to reboot the system to get X working again.

Reproducible: Always

Steps to Reproduce:
1. Start X (typing startx)
2. Start Google Earth (typing googleearth in a xterm)
Actual Results:  
When the Earth animation begins, X crashes and I have to reboot the computer to start it again.

Expected Results:  
Google Earth should work.

Portage 2.1.6.4 (default/linux/amd64/2008.0, gcc-4.1.2, glibc-2.6.1-r0, 2.6.27-gentoo-r8 x86_64)
=================================================================
System uname: Linux-2.6.27-gentoo-r8-x86_64-Intel-R-_Core-TM-2_Duo_CPU_T5750_@_2.00GHz-with-glibc2.2.5
Timestamp of tree: Sun, 08 Feb 2009 15:30:01 +0000
app-shells/bash:     3.2_p39
dev-lang/python:     2.5.2-r7
dev-util/cmake:      2.4.8
sys-apps/baselayout: 1.12.11.1
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.63
sys-devel/automake:  1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.2
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.27-r2
ACCEPT_KEYWORDS="amd64"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=nocona -O2 -pipe -msse3"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-march=nocona -O2 -pipe -msse3"
DISTDIR="/usr/portage/distfiles"
FEATURES="ccache distlocks fixpackages parallel-fetch protect-owned sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LANG="en_US.UTF-8"
LC_ALL="en_US.UTF-8"
LDFLAGS="-Wl,-O1"
LINGUAS="en_US pt_BR"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X a52 aac acl acpi alsa amd64 apache2 automount bash-completion berkdb bzip2 cairo cddb cdparanoia cdr cli cracklib crypt css cups dbus dri dv dvb dvd dvdr dvdread encode fbcon ffmpeg foomaticdb fortran ftp gd gdbm gif gimp glitz gnome gpm gtk hal iconv id3tag imagemagick ipv6 isdnlog jabber jpeg ladspa lame latex mad midi mmx mng mp2 mp3 mpeg mplayer mudflap multilib mysql ncurses nls nptl nptlonly nsplugin ogg opengl openmp pam pcre pdf perl png pnm postgres ppds pppd python quicktime radio readline reflection ruby samba session smp sox speex spl sqlite sse sse2 ssl ssse3 svg symlink sysfs syslog taglib tcpd theora threads tiff timidity truetype unicode usb v4l v4l2 vcd vim-syntax vorbis wifi x264 xcb xine xorg xulrunner xv xvid zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="keyboard mouse synaptics" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en_US pt_BR" USERLAND="GNU" VIDEO_CARDS="intel"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY




Comment 1


Tiago Madeira





          2009-02-08 16:50:10 UTC
        

Created attachment 181336 [details]
glxinfo output




Comment 2


Tiago Madeira





          2009-02-08 16:50:42 UTC
        

Created attachment 181338 [details]
startx output (I used 'startx &> xge.log')




Comment 3


Tiago Madeira





          2009-02-08 16:51:33 UTC
        

Created attachment 181339 [details]
My xorg.conf




Comment 4


Vlastimil Babka (Caster) (RETIRED)






          2009-02-10 01:11:50 UTC
        

So, does 4.3 or 4.2 work better? And can you post also var/tmp/xorg.0.log after the crash?




Comment 5


Tiago Madeira





          2009-02-10 01:45:55 UTC
        

Created attachment 181505 [details]
Xorg.0.log (googleearth-4.3.7284.3916)

4.3.7284.3916 produces the same error... I think the problem is my videocard (Intel Mobile GM965/GL960 8086:2a02), maybe something related to 3D or AIGLX support.

In fact this card doesn't look very friendly, it's blacklisted in compiz-fusion...




Comment 6


Vlastimil Babka (Caster) (RETIRED)






          2009-02-10 21:05:42 UTC
        

Well I'm afraid I can't do much, because:
a) if it's a bug in googleearth, we can't fix it, it's closed source, you would need to bug google
b) if it's a problem with intel drivers (more likely, as user apps should not crash X or even affect whole system) I have no intel card to test

Tried googling around? Here [1] I saw some xorg.conf lines that are supposed to help (in the device section):

Option "AccelMethod" "exa"
  Option "MigrationHeuristic" "greedy"
  Option "ExaNoComposite" "false

[1] http://forum.kde.org/intel-graphics-vs-google-earth-vs-kde4-t-31363.html




Comment 7


András





          2009-10-18 15:11:25 UTC
        

googleearth-5.1* finally works fine with the current stable versions of
linux kernel release 2.6.30 (with KVM and without intelfb compiled in!),
x11-drivers/xf86-video-intel-2.8.1,
x11-base/xorg-server-1.6.3.901-r2,
media-libs/mesa-7.5.1,
x11-libs/libdrm-2.4.13,
qt-4.5.2 and kde-4.3.1.
(I have an 855GM device.)

That's for the first time since xf86-video-i810-1.7.4, thanks for the hard work, Rémi!

So this bug can now be closed.

Some additional hacking is still needed though, see bug #262780.





Comment 8


Vlastimil Babka (Caster) (RETIRED)






          2010-02-19 11:53:44 UTC
        

Ok, closing.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

