Title: 319001 – net-dns/unbound: python modules do not work because site-packages is not checked for unboundmodule.py
URL: https://bugs.gentoo.org/show_bug.cgi?id=319001

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 319001
net-dns/unbound: python modules do not work because site-packages is not checked for unboundmodule.py
Last modified: 2011-04-11 14:45:16 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 319001 
      - net-dns/unbound: python modules do not work because site-packages is not checked for unboundmodule.py


Summary:
net-dns/unbound: python modules do not work because site-packages is not chec...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       critical
      


Assignee:

MATSUU Takuto (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2010-05-08 22:22 UTC by Robin Johnson





      Modified:
    
2011-04-11 14:45 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Robin Johnson









          2010-05-08 22:22:05 UTC
        

# /usr/sbin/unbound-checkconf
Traceback (most recent call last):
  File "<string>", line 1, in <module>
ImportError: No module named unboundmodule
[1273357208] unbound-checkconf[10449:0] error: pythonmod: cannot initialize core module: unboundmodule.py
[1273357208] unbound-checkconf[10449:0] fatal error: bad config for python module
# equery f unbound |grep unboundmodule.py
/usr/lib64/python2.6/site-packages/unboundmodule.py

# strace -ff /usr/sbin/unbound-checkconf 2>&1 |grep unboundmodule
stat("/usr/lib64/python2.6/unboundmodule", 0x78a3fac348e0) = -1 ENOENT (No such file or directory)
open("/usr/lib64/python2.6/unboundmodule.so", O_RDONLY) = -1 ENOENT (No such file or directory)
open("/usr/lib64/python2.6/unboundmodulemodule.so", O_RDONLY) = -1 ENOENT (No such file or directory)
open("/usr/lib64/python2.6/unboundmodule.py", O_RDONLY) = -1 ENOENT (No such file or directory)
open("/usr/lib64/python2.6/unboundmodule.pyc", O_RDONLY) = -1 ENOENT (No such file or directory)
stat("/usr/lib64/python2.6/plat-linux2/unboundmodule", 0x78a3fac348e0) = -1 ENOENT (No such file or directory)
open("/usr/lib64/python2.6/plat-linux2/unboundmodule.so", O_RDONLY) = -1 ENOENT (No such file or directory)
open("/usr/lib64/python2.6/plat-linux2/unboundmodulemodule.so", O_RDONLY) = -1 ENOENT (No such file or directory)
open("/usr/lib64/python2.6/plat-linux2/unboundmodule.py", O_RDONLY) = -1 ENOENT (No such file or directory)
open("/usr/lib64/python2.6/plat-linux2/unboundmodule.pyc", O_RDONLY) = -1 ENOENT (No such file or directory)
stat("/usr/lib64/python2.6/lib-dynload/unboundmodule", 0x78a3fac348e0) = -1 ENOENT (No such file or directory)
open("/usr/lib64/python2.6/lib-dynload/unboundmodule.so", O_RDONLY) = -1 ENOENT (No such file or directory)
open("/usr/lib64/python2.6/lib-dynload/unboundmodulemodule.so", O_RDONLY) = -1 ENOENT (No such file or directory)
open("/usr/lib64/python2.6/lib-dynload/unboundmodule.py", O_RDONLY) = -1 ENOENT (No such file or directory)
open("/usr/lib64/python2.6/lib-dynload/unboundmodule.pyc", O_RDONLY) = -1 ENOENT (No such file or directory)
stat("./unboundmodule", 0x78a3fac348e0) = -1 ENOENT (No such file or directory)
open("./unboundmodule.so", O_RDONLY)    = -1 ENOENT (No such file or directory)
open("./unboundmodulemodule.so", O_RDONLY) = -1 ENOENT (No such file or directory)
open("./unboundmodule.py", O_RDONLY)    = -1 ENOENT (No such file or directory)
open("./unboundmodule.pyc", O_RDONLY)   = -1 ENOENT (No such file or directory)
stat("/etc/unbound/unboundmodule", 0x78a3fac348e0) = -1 ENOENT (No such file or directory)
open("/etc/unbound/unboundmodule.so", O_RDONLY) = -1 ENOENT (No such file or directory)
open("/etc/unbound/unboundmodulemodule.so", O_RDONLY) = -1 ENOENT (No such file or directory)
open("/etc/unbound/unboundmodule.py", O_RDONLY) = -1 ENOENT (No such file or directory)
open("/etc/unbound/unboundmodule.pyc", O_RDONLY) = -1 ENOENT (No such file or directory)
stat("/etc/unbound/unboundmodule", 0x78a3fac348e0) = -1 ENOENT (No such file or directory)
open("/etc/unbound/unboundmodule.so", O_RDONLY) = -1 ENOENT (No such file or directory)
open("/etc/unbound/unboundmodulemodule.so", O_RDONLY) = -1 ENOENT (No such file or directory)
open("/etc/unbound/unboundmodule.py", O_RDONLY) = -1 ENOENT (No such file or directory)
open("/etc/unbound/unboundmodule.pyc", O_RDONLY) = -1 ENOENT (No such file or directory)
stat("/etc/unbound/unboundmodule", 0x78a3fac348e0) = -1 ENOENT (No such file or directory)
open("/etc/unbound/unboundmodule.so", O_RDONLY) = -1 ENOENT (No such file or directory)
open("/etc/unbound/unboundmodulemodule.so", O_RDONLY) = -1 ENOENT (No such file or directory)
open("/etc/unbound/unboundmodule.py", O_RDONLY) = -1 ENOENT (No such file or directory)
open("/etc/unbound/unboundmodule.pyc", O_RDONLY) = -1 ENOENT (No such file or directory)




Comment 1


MATSUU Takuto (RETIRED)






          2010-06-09 23:59:22 UTC
        

I couldn't reproduce that.
Could you put your build.log?




Comment 2


MATSUU Takuto (RETIRED)






          2010-06-17 23:51:44 UTC
        

My python2 has site-packages in sys.path. Would you puts your result here?

$ python2 -c 'import sys; print(sys.path);' 
['', '/usr/lib64/python26.zip', '/usr/lib64/python2.6', '/usr/lib64/python2.6/plat-linux2', '/usr/lib64/python2.6/lib-tk', '/usr/lib64/python2.6/lib-old', '/usr/lib64/python2.6/lib-dynload', '/usr/lib64/python2.6/site-packages', '/usr/lib64/python2.6/site-packages/PIL', '/usr/lib64/python2.6/site-packages/gst-0.10', '/usr/lib64/python2.6/site-packages/gtk-2.0', '/usr/lib64/portage/pym']





Comment 3


MATSUU Takuto (RETIRED)






          2011-04-11 14:45:16 UTC
        

no response. close.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

