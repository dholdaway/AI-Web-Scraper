Title: 115301 – Wide screen(1680x1050) messed up in X using ati-drivers>=8.19.10
URL: https://bugs.gentoo.org/show_bug.cgi?id=115301

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 115301
Wide screen(1680x1050) messed up in X using ati-drivers>=8.19.10
Last modified: 2006-06-28 02:52:51 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 115301 
      - Wide screen(1680x1050) messed up in X using ati-drivers>=8.19.10


Summary:
Wide screen(1680x1050) messed up in X using ati-drivers>=8.19.10
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       major
      


Assignee:

X11 External Driver Maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-12-12 06:06 UTC by Zhang Le (RETIRED)





      Modified:
    
2006-06-28 02:52 UTC
      (History)
    




          CC List:
        

3 
          users
          
            (show)
          



marcel
mtippett
r0bertz









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Xorg.0.log, take a look at Line 488, lcd was recognized as crt

              (Xorg.0.log.old,87.69 KB,
                text/plain)

            
2006-04-05 18:25 UTC,

            Zhang Le (RETIRED)




Details





Xorg.0.log file.

              (Xorg.0.log,37.03 KB,
                text/plain)

            
2006-04-06 05:04 UTC,

            Marcel Klein




Details





Xorg.0.log 

              (Xorg.0.log,37.47 KB,
                text/plain)

            
2006-05-05 14:05 UTC,

            Andrea Mocci




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Zhang Le (RETIRED)






          2005-12-12 06:06:27 UTC
        

My notebook is wide screen, 1680x1050
When using ati-drivers 8.19.10
If it's in text mode, then everything is OK
If I startx, then screen messed up
Then if I come back to text console by pressing "ctrl-alt-f1"
It's still messed up

Reproducible: Always
Steps to Reproduce:
1.startx, or /etc/init.d/xdm start, and something like that
2.
3.

Actual Results:  
screen messed up

Expected Results:  
display the screen content normally

Portage 2.0.53 (default-linux/x86/2005.1, gcc-3.4.3-20050110, glibc-2.3.5-r0,
2.6.14-nitro2 i686)
=================================================================
System uname: 2.6.14-nitro2 i686 Intel(R) Pentium(R) M processor 1600MHz
Gentoo Base System version 1.12.0_pre11
ccache version 2.4 [enabled]
dev-lang/python:     2.3.5, 2.4.2
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1-r1
sys-devel/libtool:   1.5.20-r1
virtual/os-headers:  2.6.11-r3
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium-m -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.5/env
/usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/share/config /var/bind /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/init.d /etc/splash /etc/terminfo
/etc/texmf/web2c /etc/env.d"
CXXFLAGS="-O2 -march=pentium-m -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache distlocks fixpackages sandbox sfperms strict"
GENTOO_MIRRORS="http://mirror.gentoo.gr.jp"
LANG="en_US"
LINGUAS="zh_CN"
MAKEOPTS="-j1"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/got /usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X aac aalib acl acpi alsa apm arts audiofile avi bash-completion berkdb
bitmap-fonts browserplugin bzip2 bzlib cairo caps cdparanoia cdr cdrom chroot
cjk codecs cpdflib crypt cscope css cups curl curlwrappers dbm dio directfb
divx4linux dri droproot dts dvd dvdr dvdread emboss encode esd ethereal exif
expat fam fax faxonly fb fbcon ffmpeg firefox flac flatfile font-server
foomaticdb fortran fpx freetype ftp ftruncate gdbm gif gimp glitz glut gmp gnome
gnutls gphoto2 gpm gps graphviz gs gtk gtk2 hal iconv idea idn imagemagick imlib
imlib2 immqt-bc inline java joystick jp2 jpeg jpeg2k junit kde kqemu lcms
libcaca libg++ libwww linguas_zh_CN live lzo lzw lzw-tiff mad matroska mbox
md5sum mhash mikmod mime mimencode ming mjpeg mmap mmx mmxext mng motif
mozdevelop moznocompose moznoirc moznomail mozsvg mozxmlterm mp3 mpeg mpeg4
mplayer ncurses net network nls nptl nptlonly nsplugin ntlm offensive ogg
oggvorbis ooo-kde opengl oss pam pcmcia pcre pda pdf pdfkit pdflib perl png pnp
posix python qt quicktime readline real recode rtc ruby samba sdl skey slang
sockets socks5 softmmu speex spell sqlite sse sse2 ssl svg svga symlink szip
tcltk tcpd tetex theora threads tiff timidity truetype truetype-fonts type1
type1-fonts udev unicode usb v4l v4l2 vcd vhosts visualization vnc vorbis
win32codecs wmf wxwindows xanim xine xinerama xinetd xml xml2 xmlrpc xmms xosd
xprint xscreensaver xslt xv xvid xvmc zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LC_ALL, LDFLAGS




Comment 1


Sven Roller





          2005-12-31 05:50:26 UTC
        

Could it be that this is the Problem?

Xorg.0.log with ati-drivers-8.18.8-r1:
[...]
(II) Module ddc: vendor="X.Org Foundation"
	compiled for 7.0.0, module version = 1.0.0
	ABI class: X.Org Video Driver, version 0.8
(II) fglrx(0): Connected Display1: LCD on internal LVDS
(II) fglrx(0):  Display1: No EDID information from DDC.
(II) fglrx(0): Derived EDID from BIOS and internal tables for Display1:
(II) fglrx(0): Display1 EDID data ---------------------------
[...]

Xorg.0.log with ati-drivers-8.20.8:
[...]
(II) Module ddc: vendor="X.Org Foundation"
	compiled for 7.0.0, module version = 1.0.0
	ABI class: X.Org Video Driver, version 0.8
(II) fglrx(0): Primary Controller - CRT on primary DAC
(II) fglrx(0): Internal Desktop Setting: 0x00000001
(II) fglrx(0): POWERplay not supported on this hardware
(**) fglrx(0): Qbs disabled
(==) fglrx(0): FAST_SWAP disabled
[...]
I mean, that my internal LCD is recognized as a CRT?




Comment 2


Zhang Le (RETIRED)






          2006-01-13 09:27:40 UTC
        

(In reply to comment #1)
> Could it be that this is the Problem?
> 
> Xorg.0.log with ati-drivers-8.18.8-r1:
> [...]
> (II) Module ddc: vendor="X.Org Foundation"
>         compiled for 7.0.0, module version = 1.0.0
>         ABI class: X.Org Video Driver, version 0.8
> (II) fglrx(0): Connected Display1: LCD on internal LVDS
> (II) fglrx(0):  Display1: No EDID information from DDC.
> (II) fglrx(0): Derived EDID from BIOS and internal tables for Display1:
> (II) fglrx(0): Display1 EDID data ---------------------------
> [...]
> 
> Xorg.0.log with ati-drivers-8.20.8:
> [...]
> (II) Module ddc: vendor="X.Org Foundation"
>         compiled for 7.0.0, module version = 1.0.0
>         ABI class: X.Org Video Driver, version 0.8
> (II) fglrx(0): Primary Controller - CRT on primary DAC
> (II) fglrx(0): Internal Desktop Setting: 0x00000001
> (II) fglrx(0): POWERplay not supported on this hardware
> (**) fglrx(0): Qbs disabled
> (==) fglrx(0): FAST_SWAP disabled
> [...]
> I mean, that my internal LCD is recognized as a CRT?
> 
The problem remains even I use 8.20.8
The Xorg.0.log shows exactly the same contents as yours
Don't why LCD is recognized as a CRT
BTW, my notebook is HP pavilion zt30000

Also I find that the problem has something to do with the file /usr/lib/modules/drivers/fglrx_drv.o
If I use fglrx_drv.o from 8.18.8-r1, all else from 8.20.8, then I can startx
However, this way DRI can't be enabled due to version mismatch




Comment 3


Marcel Klein





          2006-01-15 03:52:13 UTC
        

I have the same problem. 
The newer ati-drivers doesn't recognize the internal LVDS, only the primary DAC.

I have a HP Pavilion zt3000 series notebook, too.




Comment 4


Marcel Klein





          2006-01-27 11:02:22 UTC
        

I just tried ati-drivers-8.21.7, still the same problem. :(




Comment 5


Zhang Le (RETIRED)






          2006-02-12 00:10:53 UTC
        

(In reply to comment #4)
> I just tried ati-drivers-8.21.7, still the same problem. :(
> 
8.22.5, same story




Comment 6


Zhang Le (RETIRED)






          2006-03-09 21:04:28 UTC
        

8.21.7-r1 still got this problem




Comment 7


Marcel Klein





          2006-03-11 03:00:56 UTC
        

I guess an ATI developer has been added to the CC list, so maybe the problem will 
hopefully be fixed by a patch or at least in the next release. ;)




Comment 8


Zhang Le (RETIRED)






          2006-03-22 17:31:25 UTC
        

(In reply to comment #7)
> I guess an ATI developer has been added to the CC list, so maybe the problem
> will 
> hopefully be fixed by a patch or at least in the next release. ;)
> 
Hope so
BTW, 2.6.16 kernel + 8.23.7 still error





Comment 9


Matthew Tippett





          2006-04-05 13:31:15 UTC
        

Can the people this is affecting please post their XOrg.0.log as an attachment as well as provide as much identifying information as possible in the start of the log file to allow us to determine which laptops are affected.




Comment 10


Zhang Le (RETIRED)






          2006-04-05 18:25:38 UTC
        

Created attachment 84043 [details]
Xorg.0.log, take a look at Line 488, lcd was recognized as crt




Comment 11


Marcel Klein





          2006-04-06 05:04:25 UTC
        

Created attachment 84060 [details]
Xorg.0.log file.

Here is my Xorg.0.log file.




Comment 12


Andrea Mocci





          2006-05-05 14:05:43 UTC
        

Created attachment 86223 [details]
Xorg.0.log 

Same Bug; using Hp Pavillion zt3000 series w/ ati mobility radeon 9200.
LCD recognized as CRT. kernel version is 2.6.16-r3 (gentoo sources), xorg-x11 version is 7.0.0. Reproducible with every working version of ati-drivers with this kernel.
Options in xorg.conf / "Device" section, as you can see also in the log file, such as "MonitorLayout" or "ForceMonitors" seem to be completely ignored.




Comment 13


Zhang Le (RETIRED)






          2006-06-28 02:52:51 UTC
        

(In reply to comment #12)
> Created an attachment (id=86223) [edit]
> My /var/log/Xorg.0.log file . 
> 
> Same Bug; using Hp Pavillion zt3000 series w/ ati mobility radeon 9200.
> LCD recognized as CRT. kernel version is 2.6.16-r3 (gentoo sources), xorg-x11
> version is 7.0.0. Reproducible with every working version of ati-drivers with
> this kernel.
> Options in xorg.conf / "Device" section, as you can see also in the log file,
> such as "MonitorLayout" or "ForceMonitors" seem to be completely ignored.
> 
I switched to open source R200 driver, works fine
Goodbye to ati-driver











Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

