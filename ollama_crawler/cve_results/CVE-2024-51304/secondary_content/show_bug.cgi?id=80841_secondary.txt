Title: 80841 – eclipse-sdk-3.1_pre4 does not like blackdown
URL: https://bugs.gentoo.org/show_bug.cgi?id=80841

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 80841
eclipse-sdk-3.1_pre4 does not like blackdown
Last modified: 2005-02-12 15:02:58 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 80841 
      - eclipse-sdk-3.1_pre4 does not like blackdown


Summary:
eclipse-sdk-3.1_pre4 does not like blackdown
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Development

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Development Tools Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-02-05 03:16 UTC by Kenny Bentley





      Modified:
    
2005-02-12 15:02 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Kenny Bentley





          2005-02-05 03:16:38 UTC
        

I'm not sure what the matter is. I have two boxes. One is a dual PII 350, and the other is my AMD 2500+. Both are running gentoo in ~x86, and the dual PII actually has more extreme cflags than this one (and the same ldflags). eclipse-sdk-3.1_pre4 works fine on the PII, but not on this one. I've tried everything from "emerge -e eclipse-sdk" to fiddling with java-config, etc. The error is so simple, I can't imagine why I'm having so much trouble.

Eclipse 3.0.1 works though.

Reproducible: Always
Steps to Reproduce:
1.
2.
3.

Actual Results:  
BUILD SUCCESSFUL
Total time: 3 seconds
 * Patching gtk+ frontend
 * Patching Motif frontend
 * Set build version in Help->About
>>> Source unpacked.
 * Building resources.core plugin
gcc -fPIC -g -c /opt/blackdown-jdk-1.4.2.01/include
-I/opt/blackdown-jdk-1.4.2.01/include/linux -o core.o core.c
gcc: /opt/blackdown-jdk-1.4.2.01/include: linker input file unused because
linking not done
cc1: /opt/blackdown-jdk-1.4.2.01/include: No such file or directory
make: *** [core] Error 1



localhost ~ # emerge info
Portage 2.0.51-r15 (default-linux/x86/2004.3, gcc-3.4.3,
glibc-2.3.4.20041102-r0, 2.6.10-ck5 i686)
=================================================================
System uname: 2.6.10-ck5 i686 AMD Athlon(tm) XP 2500+
Gentoo Base System version 1.6.9
Python:              dev-lang/python-2.3.4 [2.3.4 (#1, Feb  4 2005, 20:39:19)]
dev-lang/python:     2.3.4
sys-devel/autoconf:  2.59-r6, 2.13
sys-devel/automake:  1.7.9-r1, 1.8.5-r3, 1.5, 1.4_p6, 1.6.3, 1.9.4
sys-devel/binutils:  2.15.92.0.2-r2
sys-devel/libtool:   1.5.10-r4
virtual/os-headers:  2.6.8.1-r2
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CFLAGS="-O3 -march=athlon-xp -fomit-frame-pointer -fmerge-all-constants
-ffast-math -ftracer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.3/env
/usr/kde/3.3/share/config /usr/kde/3.3/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config
/var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O3 -march=athlon-xp -fomit-frame-pointer -fmerge-all-constants
-ffast-math -ftracer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig ccache confcache digest distlocks sandbox sfperms"
GENTOO_MIRRORS="http://gentoo.mirrors.pair.com/"
LDFLAGS="-Wl,-O1 -Wl,--enable-new-dtags -Wl,--sort-common -s"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 3dnow 3dnowex 4kstacks S3TC X aac acl aim alsa amd apm asm blender-game
bzip2 cdda cddb cdr divx4linux eds encode flac fluidsynth font-server freetype
gif gimp ginac glut gmail gmp gnome gps gsl gstreamer gtk gtk2 icq ieee1394 imap
innodb java jikes jpeg kerberos ldap mmx mozcalendar mozdevelop mozilla
moznocompose mp3 mpeg mpeg4 mysql nptl nptlonly ntlm nvidia oav ode ogg
oggvorbis openal opengl openssh pam pda pic png quicktime readline samba shared
sharedmem simplexml sqlite sse tga tidy tiff truetype truetype-fonts usb
userlocales xml xml2 xmms xv xvid zlib"
Unset:  ASFLAGS, CBUILD, CTARGET, LANG, LC_ALL

localhost ~ # ls -Rl /opt/blackdown-jdk-1.4.2.01/include/
/opt/blackdown-jdk-1.4.2.01/include/:
total 144
-rw-r--r--  1 root root  8497 Feb  4 23:35 jawt.h
-rw-r--r--  1 root root 68021 Feb  4 23:35 jni.h
-rw-r--r--  1 root root 39355 Feb  4 23:35 jvmdi.h
-rw-r--r--  1 root root 22210 Feb  4 23:35 jvmpi.h
drwxr-xr-x  2 root root   104 Feb  4 23:36 linux

/opt/blackdown-jdk-1.4.2.01/include/linux:
total 8
-rw-r--r--  1 root root 948 Feb  4 23:35 jawt_md.h
-rw-r--r--  1 root root 453 Feb  4 23:35 jni_md.h


------------------------------------
------------------------------------

just for reference. This one compiles fine:
srv1 ~ # emerge info
Portage 2.0.51-r12 (default-linux/x86/2004.3, gcc-3.4.3,
glibc-2.3.4.20041102-r0, 2.6.8.1-mm4 i686)
=================================================================
System uname: 2.6.8.1-mm4 i686 Pentium II (Deschutes)
Gentoo Base System version 1.6.8
Python:              dev-lang/python-2.3.4 [2.3.4 (#1, Nov 18 2004, 21:17:54)]
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
dev-lang/python:     2.3.4
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.8.5-r2, 1.6.3, 1.9.4, 1.5, 1.7.9
sys-devel/binutils:  2.15.92.0.2-r2
sys-devel/libtool:   1.5.10-r2
virtual/os-headers:  2.6.8.1-r2
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CFLAGS="-O3 -march=pentium2 -fomit-frame-pointer -pipe -ftracer
-fmerge-all-constants -ffast-math -fforce-addr -falign-functions=16
-falign-labels=1 -falign-loops=16 -falign-jumps=16"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.3/env
/usr/kde/3.3/share/config /usr/kde/3.3/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config /var/bind
/var/qmail/alias /var/qmail/control /var/vpopmail/domains /var/vpopmail/etc"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O3 -march=pentium2 -fomit-frame-pointer -pipe -ftracer
-fmerge-all-constants -ffast-math -fforce-addr -falign-functions=16
-falign-labels=1 -falign-loops=16 -falign-jumps=16"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig ccache confcache digest distlocks sandbox sfperms"
GENTOO_MIRRORS="http://gentoo.mirrors.pair.com/ http://gentoo.osuosl.org/"
LDFLAGS="-Wl,-O1 -Wl,--enable-new-dtags -Wl,--sort-common -s"
MAKEOPTS="-j4"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.us.gentoo.org/gentoo-portage"
USE="x86 acl clamav curl dba freetype gd gd-external gdbm gif gmp gtk2
imagemagick imap innodb java jikes jpeg ldap maildir mmx mozcalendar mozilla
mysql nptl nptlonly oav pam php pic png readline samba session sockets
spamassassin sqlite ssl tidy truetype userlocales vhosts xml xml2 xmlrpc"




Comment 1


Kenny Bentley





          2005-02-07 01:56:05 UTC
        

ok, it was the weirdest thing, emerge -e eclipse-sdk (and a reboot) didn't solve the problem... I just tried emerging it again and it worked. The only thing I did different was, I re-emerged util-linux, and a good portion of the system (see below) and then it compiled. I didn't change any configuration options anywhere. I'm looking at my emerge log to see the things I emerged since I filed the bug and now, and it looks like:

patch
bison
sed
texinfo
bzip2
debianutils
gcc
baselayout
grep
flex
xorg
glib
gtk+
sash
jdom
util-linux
mozilla-firefox
coreutils

This is such an obscure bug, I suppose you can close it. I really don't know what went wrong. The only reason why I filed the bug is because emerge -e eclipse-sdk didn't work. Sorry for wasting your time.




Comment 2


Karl Trygve Kalleberg (RETIRED)






          2005-02-12 15:02:58 UTC
        

Cannot reproduce this. But if you can, please reopen and share the secret:)









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

