Title: 184427 – x11-misc/obconf-1.6 does not compile on mixed ~x86/x86 arch (and probably other arches too)
URL: https://bugs.gentoo.org/show_bug.cgi?id=184427

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 184427
x11-misc/obconf-1.6 does not compile on mixed ~x86/x86 arch (and probably other arches too)
Last modified: 2007-07-06 17:06:43 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 184427 
      - x11-misc/obconf-1.6 does not compile on mixed ~x86/x86 arch (and probably other arches too)


Summary:
x11-misc/obconf-1.6 does not compile on mixed ~x86/x86 arch (and probably oth...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       trivial
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-07-06 16:14 UTC by Karsten Baumgarten





      Modified:
    
2007-07-06 17:06 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Karsten Baumgarten





          2007-07-06 16:14:10 UTC
        

obconf-1.6 is incompatible with >=openbox-3.4, but the ebuild doesn't mask those versions. When mixing and matching ~arch and arch, you'll get the following error when you compile obconf-1.6

src/main.c: In function 'main':
src/main.c:70: warning: passing argument 1 of 'parse_load_rc' from incompatible pointer type
src/main.c:70: warning: passing argument 2 of 'parse_load_rc' from incompatible pointer type
src/main.c:70: error: too few arguments to function 'parse_load_rc'
make[1]: *** [src/src_obconf-main.o] Error 1

The signature of 'parse_load_rc' has changed with openbox-3.4 and obconf-1.6 still uses the old one. Changing the RDEPEND section in the obconf-1.6 ebuild as shown below fixes this issue (assuming that openbox-3.4 and lower versions are mutually exclusive):

--- /usr/portage/x11-misc/obconf/obconf-1.6.ebuild      2007-04-22 12:06:14.000000000 +0200
+++ obconf-1.6.ebuild   2007-07-06 16:41:56.000000000 +0200
@@ -14,7 +14,7 @@
 RDEPEND=">=gnome-base/libglade-2
        >=x11-libs/gtk+-2
        x11-libs/startup-notification
-       >=x11-wm/openbox-3.2"
+       <x11-wm/openbox-3.4"
 DEPEND="${RDEPEND}
        dev-util/pkgconfig"




Comment 1


Jakub Moc (RETIRED)






          2007-07-06 17:06:43 UTC
        

Don't mix stable ebuilds with unstable dependencies; not supported.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

