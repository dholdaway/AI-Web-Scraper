Title: 482796 – KDE with systemd: Unit console-kit-daemon.service failed to load
URL: https://bugs.gentoo.org/show_bug.cgi?id=482796

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 482796
KDE with systemd: Unit console-kit-daemon.service failed to load
Last modified: 2013-08-29 08:16:48 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 482796 
      - KDE with systemd: Unit console-kit-daemon.service failed to load


Summary:
KDE with systemd: Unit console-kit-daemon.service failed to load
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2013-08-28 12:28 UTC by Yichao Zhou





      Modified:
    
2013-08-29 08:16 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



systemd









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge info

              (emerge-info.txt,16.92 KB,
                text/plain)

            
2013-08-28 12:28 UTC,

            Yichao Zhou




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Yichao Zhou





          2013-08-28 12:28:04 UTC
        

Created attachment 357238 [details]
emerge info

When I try to login my KDE, I always get error: "Unit console-kit-daemon.service failed to load".  But everything seems work fine.  I'm on stable arch.




Comment 1


Pacho Ramos






          2013-08-28 12:43:11 UTC
        

That is normal since consolekit-0.4.6 dropped unit files by default (you can still install them setting a USE flag), but this shouldn't cause any problem since, when running systemd, consolekit should be useless




Comment 2


Yichao Zhou





          2013-08-28 13:12:57 UTC
        

It seems solved.  The problem is because kdm has consolekit flag enabled through kde profile, though I globally disable consolekit flag.


Really hard to find.  Really user unfriendly.  I also see systemd use flag on kdm 4.11.  So hope this doesn't happen on kde 4.11.  It's really horrible with stable arch and systemd....




Comment 3


Michael Palimaka (kensington)






          2013-08-28 15:21:18 UTC
        

(In reply to Yichao Zhou from comment #2)
> It seems solved.  The problem is because kdm has consolekit flag enabled
> through kde profile, though I globally disable consolekit flag.
As of KDE 4.11, we no longer force the consolekit USE flag on for kdm. See bug #468500.

> Really hard to find.  Really user unfriendly.  I also see systemd use flag
> on kdm 4.11.  So hope this doesn't happen on kde 4.11.  It's really horrible
> with stable arch and systemd....
I am sorry for your negative experience. In my opinion, systemd was stabilised too early as package support is still emerging.

@systemd team, please mark this bug as you see fit.




Comment 4


Pacho Ramos






          2013-08-28 18:25:19 UTC
        

Will close as WORKSFORME as this is already documented in Systemd wiki page and we are trying to work on systemd profiles for solving this kind of issues (but it's hard to do due "systemd" USE flag causing circular dep issues when sys-apps/systemd is still not installed)

Yichao, regarding systemd support on stable, a lot of stuff is going to be stabilized soon to improve the situation, if you want to report any pending problem, please don't hesitate to do




Comment 5


Yichao Zhou





          2013-08-29 02:41:53 UTC
        

(In reply to Pacho Ramos from comment #4)
> Will close as WORKSFORME as this is already documented in Systemd wiki page
> and we are trying to work on systemd profiles for solving this kind of
> issues (but it's hard to do due "systemd" USE flag causing circular dep
> issues when sys-apps/systemd is still not installed)
> 
> Yichao, regarding systemd support on stable, a lot of stuff is going to be
> stabilized soon to improve the situation, if you want to report any pending
> problem, please don't hesitate to do

But wiki page does not tell me to add -consolekit to /etc/portage/profile/use.mask!  Otherwise -consolekit will be overwritten by profile.




Comment 6


Pacho Ramos






          2013-08-29 08:16:48 UTC
        

I am not sure if it's a good policy to suggest people to use.mask flags themselves :/, maybe other option would be to drop the consolekit flag from profile and enable it in exact ebuilds wanting it. And other one would be to live with this as this only results in a warning that is not really hurting :/









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

