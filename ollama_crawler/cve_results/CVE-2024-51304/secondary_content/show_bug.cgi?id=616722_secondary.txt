Title: 616722 – media-sound/amarok-2.8.90-r2 fails to build
URL: https://bugs.gentoo.org/show_bug.cgi?id=616722

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 616722
media-sound/amarok-2.8.90-r2 fails to build
Last modified: 2017-04-29 21:24:22 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 616722 
      - media-sound/amarok-2.8.90-r2 fails to build


Summary:
media-sound/amarok-2.8.90-r2 fails to build
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2017-04-27 11:56 UTC by Till Schäfer





      Modified:
    
2017-04-29 21:24 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build.log

              (build.log.gz,66.32 KB,
                application/gzip)

            
2017-04-27 11:57 UTC,

            Till Schäfer




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Till Schäfer





          2017-04-27 11:56:40 UTC
        

After the GCC:5.4 update, amarok fails to build with thte following error (see build.log for details):

/var/tmp/portage/media-sound/amarok-2.8.0-r3/work/amarok-2.8.0/src/musicbrainz/MusicDNSAudioDecoder.cpp:226:56: error: ‘avcodec_alloc_frame’ was not declared in this scope
decodedFrame = avcodec_alloc_frame();




Comment 1


Till Schäfer





          2017-04-27 11:57:54 UTC
        

Created attachment 471006 [details]
build.log




Comment 2


Andreas Sturmlechner






          2017-04-27 20:54:56 UTC
        

Did you read the news item related to the GCC-5.4 update and rebuild all the C++ packages?




Comment 3


Till Schäfer





          2017-04-28 00:14:51 UTC
        

yes, during the rebuild the error occurred. I have tried it a second time after all other packages had been rebuild.

(command was: revdep-rebuild --library 'libstdc++.so.6' -- --exclude gcc -av)




Comment 4


Andreas Sturmlechner






          2017-04-28 01:13:53 UTC
        

...and the second time all the packages built fine?




Comment 5


Andreas Sturmlechner






          2017-04-28 06:24:46 UTC
        

Please also add emerge.log and show what version of ffmpeg/libav is installed.




Comment 6


Till Schäfer





          2017-04-28 18:06:43 UTC
        

sorry for the confusion, after resuming the rebuild I have re-emerged amarok only (i.e. emerge -1 amarok)

i will add the other infos later (i am currently not at my home pc)




Comment 7


Till Schäfer





          2017-04-29 21:24:22 UTC
        

somehow it is fixed in the meanwhile .. the emerge now went through.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

