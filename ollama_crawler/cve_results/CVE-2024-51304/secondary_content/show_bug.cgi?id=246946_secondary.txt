Title: 246946 – kde-base/kdf 4.1.3 doesn't compile
URL: https://bugs.gentoo.org/show_bug.cgi?id=246946

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 246946
kde-base/kdf 4.1.3 doesn't compile
Last modified: 2008-11-16 07:51:01 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 246946 
      - kde-base/kdf 4.1.3 doesn't compile


Summary:
kde-base/kdf 4.1.3 doesn't compile
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-11-15 16:56 UTC by Patrick ALLAERT





      Modified:
    
2008-11-16 07:51 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Patrick ALLAERT





          2008-11-15 16:56:45 UTC
        

While merging kde-base/kdf-4.1.3, the following error occurs:

[ 80%] Building CXX object kdf/CMakeFiles/kwikdisk.dir/mntconfig.o                                                                                             
/usr/lib/gcc/x86_64-pc-linux-gnu/4.1.2/../../../../x86_64-pc-linux-gnu/bin/ld:CMakeFiles/kdf.dir/kdf_automoc.o: file format not recognized; treating as linker script                                                                                                                                                         
/usr/lib/gcc/x86_64-pc-linux-gnu/4.1.2/../../../../x86_64-pc-linux-gnu/bin/ld:CMakeFiles/kdf.dir/kdf_automoc.o:1: syntax error                                 
collect2: ld a retourné 1 code d'état d'exécution                                                                                                              
make[2]: *** [kdf/kdf] Erreur 1                                                                                                                                
make[1]: *** [kdf/CMakeFiles/kdf.dir/all] Erreur 2                                                                                                             
make[1]: *** Attente des tâches non terminées....                                                                                                              
Linking CXX shared module ../lib/kcm_kdf.so                                                                                                                    
[ 83%] Building CXX object kdf/CMakeFiles/kwikdisk.dir/disklist.o                                                                                              
/usr/include/qt4/Qt3Support/q3glist.h:132: attention : ‘virtual int Q3GList::compareItems(void*, void*)’ was hidden                                            
/var/tmp/portage/kde-base/kdf-4.1.3/work/kdf-4.1.3/kdf/disklist.h:69: attention :   by ‘int Disks::compareItems(DiskEntry, DiskEntry)’                         
[ 87%] Building CXX object kdf/CMakeFiles/kwikdisk.dir/disks.o                                                                                                 
/usr/lib/gcc/x86_64-pc-linux-gnu/4.1.2/../../../../x86_64-pc-linux-gnu/bin/ld:CMakeFiles/kcm_kdf.dir/kcm_kdf_automoc.o: file format not recognized; treating as linker script                                                                                                                                                 
/usr/lib/gcc/x86_64-pc-linux-gnu/4.1.2/../../../../x86_64-pc-linux-gnu/bin/ld:CMakeFiles/kcm_kdf.dir/kcm_kdf_automoc.o:1: syntax error                         
collect2: ld a retourné 1 code d'état d'exécution                                                                                                              
make[2]: *** [lib/kcm_kdf.so] Erreur 1                                                                                                                         
make[1]: *** [kdf/CMakeFiles/kcm_kdf.dir/all] Erreur 2                                                                                                         
[ 90%] Building CXX object kdf/CMakeFiles/kwikdisk.dir/listview.o                                                                                              
/usr/include/qt4/Qt3Support/q3glist.h:132: attention : ‘virtual int Q3GList::compareItems(void*, void*)’ was hidden                                            
/var/tmp/portage/kde-base/kdf-4.1.3/work/kdf-4.1.3/kdf/disklist.h:69: attention :   by ‘int Disks::compareItems(DiskEntry, DiskEntry)’                         
[ 93%] Building CXX object kdf/CMakeFiles/kwikdisk.dir/optiondialog.o                                                                                          
[ 96%] Building CXX object kdf/CMakeFiles/kwikdisk.dir/stdoption.o                                                                                             
[100%] /usr/include/qt4/Qt3Support/q3glist.h:132: attention : ‘virtual int Q3GList::compareItems(void*, void*)’ was hidden                                     
/var/tmp/portage/kde-base/kdf-4.1.3/work/kdf-4.1.3/kdf/disklist.h:69: attention :   by ‘int Disks::compareItems(DiskEntry, DiskEntry)’                         
Building CXX object kdf/CMakeFiles/kwikdisk.dir/kwikdisk_automoc.o                                                                                             
Linking CXX executable kwikdisk                                                                                                                                
/usr/lib/gcc/x86_64-pc-linux-gnu/4.1.2/../../../../x86_64-pc-linux-gnu/bin/ld:CMakeFiles/kwikdisk.dir/kwikdisk_automoc.o: file format not recognized; treating as linker script                                                                                                                                               
/usr/lib/gcc/x86_64-pc-linux-gnu/4.1.2/../../../../x86_64-pc-linux-gnu/bin/ld:CMakeFiles/kwikdisk.dir/kwikdisk_automoc.o:1: syntax error                       
collect2: ld a retourné 1 code d'état d'exécution                                                                                                              
make[2]: *** [kdf/kwikdisk] Erreur 1                                                                                                                           
make[1]: *** [kdf/CMakeFiles/kwikdisk.dir/all] Erreur 2                                                                                                        
make: *** [all] Erreur 2                                                                                                                                       
 *                                                                                                                                                             
 * ERROR: kde-base/kdf-4.1.3 failed.                                                                                                                           
 * Call stack:
 *               ebuild.sh, line   49:  Called src_compile
 *             environment, line 3399:  Called kde4-meta_src_compile
 *             environment, line 2675:  Called kde4-meta_src_make
 *             environment, line 2724:  Called kde4-base_src_make
 *             environment, line 2429:  Called cmake-utils_src_make
 *             environment, line  891:  Called die

emerge --info

Portage 2.2_rc14 (default/linux/amd64/2008.0/desktop, gcc-4.1.2, glibc-2.7-r2, 2.6.25-gentoo-r7 x86_64)
=================================================================                                      
System uname: Linux-2.6.25-gentoo-r7-x86_64-Intel-R-_Core-TM-2_Duo_CPU_T7500_@_2.20GHz-with-glibc2.2.5 
Timestamp of tree: Sat, 15 Nov 2008 15:30:01 +0000                                                     
ccache version 2.4 [enabled]                                                                           
app-shells/bash:     3.2_p33                                                                           
dev-java/java-config: 1.3.7, 2.1.6                                                                     
dev-lang/python:     2.5.2-r7                                                                          
dev-util/ccache:     2.4-r7                                                                            
dev-util/cmake:      2.6.2                                                                             
sys-apps/baselayout: 2.0.0                                                                             
sys-apps/openrc:     0.3.0-r1                                                                          
sys-apps/sandbox:    1.2.18.1-r2                                                                       
sys-devel/autoconf:  2.13, 2.61-r2
sys-devel/automake:  1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.1-r1
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.23-r3
ACCEPT_KEYWORDS="amd64"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=nocona -O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/config"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/splash /etc/terminfo /etc/udev/rules.d"
CXXFLAGS="-march=nocona -O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="ccache distlocks parallel-fetch preserve-libs protect-owned sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://mirror.ovh.net/gentoo-distfiles/ "
LC_ALL="fr_BE.utf8"
LDFLAGS="-Wl,-O1"
LINGUAS="fr"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_EXTRA_OPTS="--exclude-from=/etc/portage/rsync_excludes"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="   "
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="X acl acpi alsa amd64 apache2 avahi bash-completion berkdb bluetooth branding bzip2 cairo cdr cli cracklib crypt cups curl dbus dell dri dvd dvdr dvdreademboss encode esd evo fam ffmpeg firefox flac fortran gdbm gif gpm gstreamer hal htmlhandbook iconv isdnlog jpeg kde kdeenablefinal kdehiddenvisibility ldap libnotify mad midi mikmod mmx mp3 mpeg mudflap multilib mysql ncurses nls nptl nptlonly nsplugin nvidia ogg opengl openmp pam pcre pdf perl png ppds pppd pythonqt3 qt3support qt4 quicktime readline reflection samba sdl session spell spl sse sse2 ssl startup-notification svg sysfs tcpd tiff truetype unicode usb vim-syntax vorbis xcomposite xinerama xml xorg xv zeroconf zlib" ALSA_CARDS="hda-intel" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lockdeflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="keyboard mouse synaptics evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="fr" USERLAND="GNU" VIDEO_CARDS="nvidia"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LANG, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS




Comment 1


Jorge Manuel B. S. Vicetto (RETIRED)






          2008-11-16 03:22:52 UTC
        

Disable ccache and emerge the package again.




Comment 2


Patrick ALLAERT





          2008-11-16 07:51:01 UTC
        

(In reply to comment #1)
> Disable ccache and emerge the package again.
> 

Problem solved!

I thought about changing (LD|C(XX))FLAGS, but it didn't solved the problem, didn't thought about disabling ccache.

Thanks a lot Jorge Manuel!









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

