Title: 151585 – KDE "show Desktop" makes superKaramba themes disappear under Compiz
URL: https://bugs.gentoo.org/show_bug.cgi?id=151585

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 151585
KDE "show Desktop" makes superKaramba themes disappear under Compiz
Last modified: 2007-06-05 10:47:48 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 151585 
      - KDE "show Desktop" makes superKaramba themes disappear under Compiz


Summary:
KDE "show Desktop" makes superKaramba themes disappear under Compiz
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Hanno Böck








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-10-16 06:13 UTC by Robin Bankhead





      Modified:
    
2007-06-05 10:47 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



erik.badman
StormByte









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Robin Bankhead





          2006-10-16 06:13:54 UTC
        

Not sure whether this should be a KDE or compiz assign.  Running the following versions:

kde-base/superkaramba-3.5.5
x11-wm/compiz-0.2.0 (using compiz-aiglx)

Using either KDE's [Kicker button] or compiz's [scale plugin > click on desktop] method of "Show Desktop" action, all superKaramba themes disappear from screen.  The app itself continues running and no error output is generated.  Restarting [uninstalling/reinstalling] individual themes, or restarting sK itself, do not reinstate the visibility; only a reboot can bring them back.

It seems the themes are getting sent a 'minimize' command along with the other windows, as they fade-out in the same manner (though there's no 'genie-effect' as with the other, taskbar-situated windows).

Graphics card is Intel 855GM if that matters.

Emerge --info:
Portage 2.1.2_pre3 (default-linux/x86/2006.1/desktop, gcc-4.1.1, glibc-2.5-r0, 2.6.18-gentoo i686)
=================================================================
System uname: 2.6.18-gentoo i686 Intel(R) Celeron(R) CPU 2.60GHz
Gentoo Base System version 1.12.5
Last Sync: Sat, 14 Oct 2006 11:50:01 +0000
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
ccache version 2.4 [disabled]
app-admin/eselect-compiler: [Not Present]
dev-java/java-config: 1.3.7, 2.0.30
dev-lang/python:     2.4.3-r4
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     2.4-r6
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.60
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.17
sys-devel/gcc-config: 1.3.13-r4
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.17-r1
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium4 -mmmx -msse -msse2 -fomit-frame-pointer -pipe -w"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/NX/etc /usr/NX/home /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config /usr/share/wine"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/terminfo /usr/share/wine/fonts"
CXXFLAGS="-O2 -march=pentium4 -mmmx -msse -msse2 -fomit-frame-pointer -pipe -w"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer nodoc sandbox sfperms strict"
GENTOO_MIRRORS="http://gentoo.blueyonder.co.uk/"
LINGUAS="en_GB"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.uk.gentoo.org/gentoo-portage"
USE="x86 X a52 aac acpi alsa apache2 arts asf avi berkdb bitmap-fonts bluetooth bzip2 cairo cdparanoia cdr cli crypt cups dbus dio dlloader dri dvd dvdr dvdread eds elibc_glibc emboss encode esd fam ffmpeg firefox flac flash foomaticdb fortran gdbm gif gimp glitz gpm gstreamer gtk2 hal i8x0 ieee1394 imagemagick innodb input_devices_keyboard input_devices_mouse input_devices_synaptics isdnlog java javascript jpeg kde kernel_linux ldap libg++ libwww linguas_en_GB mad matroska mikmod mmx mp3 mpeg msn mysql mysqli ncurses nls nptl nptlonly nsplugin odbc ogg opengl oss pam pcmcia pcntl pcre pdf perl php png posix ppds pppd python qt qt3 qt4 quicktime readline reflection samba scanner sdl session sharedmem soap sockets spell spl sse sse2 ssl svg tcpd theora threads tiff truetype truetype-fonts type1-fonts udev unicode usb userland_GNU utf8 vcd vhosts video_cards_fbdev video_cards_i810 video_cards_vesa vorbis wifi win32codecs xcomposite xine xinerama xml xmlrpc xmms xorg xsl xv xvid xvmc zlib"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


egon2003





          2006-10-23 13:00:32 UTC
        

I have the same problem but I am using Beryl from the portage tree.
After each "show desktop" I have to add the themes to the desktop again.




Comment 2


Robin Bankhead





          2006-10-23 13:18:34 UTC
        

Beryl is not in the portage tree yet, is it?

<checks>...no, it isn't.  I assume you're using an unsupported overlay?

Out of interest, though: can you describe the process you have to perform to get them back?  For me, I have to quit sK, logout of KDE (and back in), then relaunch sK and re-add the various themes.




Comment 3


egon2003





          2006-10-24 07:45:11 UTC
        

http://packages.gentoo.org/search/?sstring=beryl

To get the themes back:

I open the Superkaramba window
Click the add theme to desktop button

And its back, I have to repeat this everytime i use show desktop and for every theme that I use.




Comment 4


Robin Bankhead





          2006-10-25 03:37:03 UTC
        

Hmm, that works for me too now (after closing sK completely).  I wonder what caused this change?

That makes life a little less painful not having to log back in to reinstate them, but we still need to stop them from disappearing at all.  I don't know a lot about this subject (well, sod-all really) but I gather that sK is a unique window-type, one of a set that are defined by X.  (You can kinda see this because you can use the compiz fade effect to fade-out the sK themes.)  If it's that simple, it should be simple enough to tell compiz to ignore that window-type when it gets a show-desktop or minimize-all instruction.




Comment 5


David Carlos Manuelda





          2006-12-19 04:10:13 UTC
        

Beryl 1.2 is in tree now, and I have this reported problem too.




Comment 6


Robin Bankhead





          2006-12-19 06:10:47 UTC
        

(In reply to comment #5)
> Beryl 1.2 is in tree now, and I have this reported problem too.
> 

If your bug is about beryl, please open a new bug.

New observation as of compiz-0.3.4, pressing "Show Desktop" a second time reinstates all the windows including sK ones.  (This worked in Beryl too, incidentally.)  Better, but still not quite what we want...




Comment 7


David Carlos Manuelda





          2006-12-19 07:39:34 UTC
        

(In reply to comment #6)
> (In reply to comment #5)
> > Beryl 1.2 is in tree now, and I have this reported problem too.
> > 
> 
> If your bug is about beryl, please open a new bug.
> 

I posted this comment because beryl is a fork of compiz, and to point out that maybe is a xserver or kicker issue because is common in beryl and compiz.




Comment 8


Robin Bankhead





          2007-06-05 10:47:48 UTC
        

It seems there is a way to prevent this with compiz-0.5.0 (maybe was there before?).

Open compiz-settings utility and go into General section at the top. Under Allscreens options, find and un-check "Hide Skip Taskbar Windows".

Or if you only have gconf-editor, open that and go to
/apps/compiz/general/allscreens/options
and un-check hide_skip_taskbar_windows

(I guess you can do this manually by editing files, but don't ask me how.)

Guess this can be closed now?









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

