Title: 255273 – Emerge of  media-video/mplayer-1.0_rc2_p28058-r1 fails
URL: https://bugs.gentoo.org/show_bug.cgi?id=255273

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 255273
Emerge of  media-video/mplayer-1.0_rc2_p28058-r1 fails
Last modified: 2009-01-18 12:48:17 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 255273 
      - Emerge of  media-video/mplayer-1.0_rc2_p28058-r1 fails


Summary:
Emerge of  media-video/mplayer-1.0_rc2_p28058-r1 fails
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       major
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-01-17 14:16 UTC by Paul McDermott





      Modified:
    
2009-01-18 12:48 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Paul McDermott





          2009-01-17 14:16:02 UTC
        

Emerge of media-video/mplayer-1.0_rc2_p28058-r1 fails.
This does not appear (to me) to be the same as the emerge failure people are reporting for the hardened profile, as the characteristic error message is missing.

Previous version of mplayer works fine:
mediacentre paul # mplayer --version
MPlayer dev-SVN-r26753-3.4.6 (C) 2000-2008 MPlayer Team
CPU: AMD Athlon(tm)  (Family: 6, Model: 8, Stepping: 1)
CPUflags:  MMX: 1 MMX2: 1 3DNow: 1 3DNow2: 1 SSE: 1 SSE2: 0
Compiled for x86 CPU with extensions: MMX MMX2 3DNow 3DNowEx SSE
Unknown option on the command line: --version
Error parsing option on the command line: --version


Reproducible: Always

Steps to Reproduce:
1.emerge -auv mplayer
2.
3.

Actual Results:  
ar rc libavcodec.a allcodecs.o audioconvert.o bitstream.o bitstream_filter.o dsputil.o eval.o faanidct.o imgconvert.o jrevdct.o opt.o parser.o raw.o resample.o resample2.o simple_idct.o utils.o aandcttab.o faandct.o jfdctfst.o jfdctint.o fft.o golomb.o mdct.o aac.o aactab.o aasc.o msrledec.o eac3dec.o ac3dec.o ac3tab.o ac3dec_data.o ac3.o ac3enc.o alac.o alacenc.o lpc.o sp5xdec.o mjpegdec.o mjpeg.o apedec.o asv1.o mpeg12data.o atrac3.o avs.o bethsoftvideo.o bfi.o bmp.o bmpenc.o c93.o cavs.o cavsdec.o cavsdsp.o mpegvideo.o cinepak.o cljr.o cook.o cscd.o cyuv.o dca.o dnxhddec.o dnxhddata.o dnxhdenc.o mpegvideo_enc.o motion_est.o ratecontrol.o dsicinav.o dvbsubdec.o dvbsub.o dvdsubdec.o dvdsubenc.o dv.o dxa.o eacmv.o eatgq.o eaidct.o eatgv.o 8bps.o 8svx.o escape124.o ffv1.o rangecoder.o huffyuv.o flac.o flacenc.o flashsv.o flashsvenc.o flicvideo.o h263dec.o h263.o error_resilience.o 4xm.o fraps.o huffman.o gifdec.o lzw.o gif.o h261dec.o h261.o h261enc.o h263_parser.o h264.o h264idct.o h264pred.o h264_parser.o cabac.o idcinvideo.o imc.o indeo2.o indeo3.o dpcm.o interplayvideo.o jpeglsdec.o jpegls.o jpeglsenc.o kmvc.o ljpegenc.o mjpegenc.o loco.o mace.o mimic.o mjpegbdec.o mlpdec.o mlp_parser.o mlp.o mmvideo.o motionpixels.o mpegaudiodec.o mpegaudiodecheader.o mpegaudio.o mpegaudiodata.o mpegaudioenc.o mpeg4audio.o mpc7.o mpc.o mpc8.o mdec.o mpeg12.o mpeg12enc.o mpeg4video_parser.o msmpeg4.o msmpeg4data.o msrle.o msvideo1.o lcldec.o nellymoserdec.o nellymoser.o nellymoserenc.o nuv.o rtjpeg.o pnmenc.o pnm.o pcx.o png.o pngdec.o pngenc.o ptx.o qdm2.o qdrw.o qpeg.o qtrle.o qtrleenc.o ra144.o celp_filters.o ra288.o celp_math.o rawdec.o rawenc.o rl2.o roqvideodec.o roqvideo.o roqvideoenc.o elbg.o roqaudioenc.o rpza.o rv10.o rv40.o rv34.o rv40dsp.o sgidec.o sgienc.o rle.o shorten.o smacker.o smc.o snow.o sonic.o sunrast.o svq1dec.o svq1.o svq1enc.o targa.o targaenc.o vp3.o xiph.o vp3dsp.o tiertexseqv.o tiff.o tiffenc.o lzwenc.o truemotion1.o truemotion2.o truespeech.o tscc.o tta.o txd.o s3tc.o ulti.o vb.o vc1.o vc1data.o vc1dsp.o intrax8.o intrax8dsp.o vcr1.o vmdav.o vmnc.o vorbis_dec.o vorbis.o vorbis_data.o vorbis_enc.o vp5.o vp56.o vp56data.o vp6.o vqavideo.o wavpack.o wmadec.o wma.o wmaenc.o wmv2dec.o wmv2.o wmv2enc.o wnv1.o ws-snd1.o xan.o xl.o xsubdec.o lclenc.o zmbv.o zmbvenc.o pcm.o adpcm.o adxdec.o adxenc.o g726.o libfaac.o libmp3lame.o libxvidff.o libxvid_rc.o aac_parser.o aac_ac3_parser.o ac3_parser.o cavs_parser.o dca_parser.o dirac_parser.o dnxhd_parser.o dvbsub_parser.o dvdsub_parser.o h261_parser.o mjpeg_parser.o mpegaudio_parser.o mpegvideo_parser.o pnm_parser.o vc1_parser.o vp3_parser.o dump_extradata_bsf.o h264_mp4toannexb_bsf.o imx_dump_header_bsf.o mjpega_dump_header_bsf.o movsub_bsf.o mp3_header_compress_bsf.o mp3_header_decompress_bsf.o noise_bsf.o remove_extradata_bsf.o pthread.o xvmcvideo.o i386/cpuid.o i386/dsputil_mmx.o i386/fdct_mmx.o i386/idct_mmx_xvid.o i386/idct_sse2_xvid.o i386/motion_est_mmx.o i386/mpegvideo_mmx.o i386/simple_idct_mmx.o i386/cavsdsp_mmx.o i386/dsputilenc_mmx.o i386/flacdsp_mmx.o i386/idct_mmx.o i386/snowdsp_mmx.o i386/vc1dsp_mmx.o i386/vp3dsp_mmx.o i386/vp3dsp_sse2.o i386/dsputil_yasm.o i386/fft_3dn.o i386/fft_3dn2.o i386/fft_mmx.o i386/fft_sse.o 
true libavcodec.a
make[1]: Leaving directory `/var/tmp/portage/media-video/mplayer-1.0_rc2_p28058-r1/work/mplayer-1.0_rc2_p28058/libavcodec'
touch libavcodec/libavcodec.a
 * 
 * ERROR: media-video/mplayer-1.0_rc2_p28058-r1 failed.
 * Call stack:
 *               ebuild.sh, line   49:  Called src_compile
 *             environment, line 2609:  Called die
 * The specific snippet of code:
 *       emake || die "Failed to build MPlayer!";
 *  The die message:
 *   Failed to build MPlayer!
 * 
 * If you need support, post the topmost build error, and the call stack if relevant.
 * A complete build log is located at '/var/log/portage/media-video:mplayer-1.0_rc2_p28058-r1:20090117-134200.log'.
 * The ebuild environment file is located at '/var/tmp/portage/media-video/mplayer-1.0_rc2_p28058-r1/temp/environment'.
 * 


Expected Results:  
Successful emerge

mediacentre paul # gcc -v
Reading specs from /usr/lib/gcc/i686-pc-linux-gnu/3.4.6/specs
Configured with: /var/tmp/portage/sys-devel/gcc-3.4.6-r2/work/gcc-3.4.6/configure --prefix=/usr --bindir=/usr/i686-pc-linux-gnu/gcc-bin/3.4.6 --includedir=/usr/lib/gcc/i686-pc-linux-gnu/3.4.6/include --datadir=/usr/share/gcc-data/i686-pc-linux-gnu/3.4.6 --mandir=/usr/share/gcc-data/i686-pc-linux-gnu/3.4.6/man --infodir=/usr/share/gcc-data/i686-pc-linux-gnu/3.4.6/info --with-gxx-include-dir=/usr/lib/gcc/i686-pc-linux-gnu/3.4.6/include/g++-v3 --host=i686-pc-linux-gnu --build=i686-pc-linux-gnu --disable-altivec --enable-nls --without-included-gettext --with-system-zlib --disable-checking --disable-werror --enable-secureplt --disable-multilib --enable-java-awt=gtk --with-arch=i686 --enable-languages=c,c++,java,treelang,f77 --enable-shared --enable-threads=posix --enable-__cxa_atexit --enable-clocale=gnu
Thread model: posix
gcc version 3.4.6 (Gentoo 3.4.6-r2 p1.5, ssp-3.4.6-1.0, pie-8.7.10)
mediacentre paul # emerge --info
Portage 2.1.6.4 (default/linux/x86/2008.0/desktop, gcc-3.4.6, glibc-2.6.1-r0, 2.6.20-gentoo-r8 i686)
=================================================================
System uname: Linux-2.6.20-gentoo-r8-i686-AMD_Athlon-tm-with-glibc2.0
Timestamp of tree: Sat, 17 Jan 2009 12:20:01 +0000
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [enabled]
ccache version 2.4 [enabled]
app-shells/bash:     3.2_p39
dev-java/java-config: 1.3.7, 2.1.6
dev-lang/python:     2.4.4-r14, 2.5.2-r7
dev-python/pycrypto: 2.0.1-r6
dev-util/ccache:     2.4-r6
dev-util/cmake:      2.4.6-r1
sys-apps/baselayout: 1.12.11.1
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.61-r2
sys-devel/automake:  1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.1-r1
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.23-r3
ACCEPT_KEYWORDS="x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=athlon-xp -O2 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-march=athlon-xp -O2 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache distcc distlocks fixpackages parallel-fetch protect-owned sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://ftp.snt.utwente.nl/pub/os/linux/gentoo http://www.gigaload.org/gentoo.org/ http://linux.rz.ruhr-uni-bochum.de/download/gentoo-mirror/"
LANG="en_GB.utf8"
LDFLAGS="-Wl,-O1"
LINGUAS="en_GB"
MAKEOPTS="-j5"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="3dfx 3dnowex X acpi alsa bash-completion berkdb bluetooth bonobo branding bzip2 cairo cdr cli cracklib crypt cups dbus directfb divx4linux doc dri dvd dvdr dvdread eds emboss encode esd evo fam fame fbcon firefox font-server fortran gcj gdbm gif gphoto2 gpm gstreamer gtk hal iconv isdnlog java jpeg libnotify lzo mad matrox midi mikmod mmx mmx2 mng mozilla mp3 mpeg mplayer mudflap mysql ncurses nls nptl nptlonly ntfs ogg opengl openmp pam pcre pdf perl png ppds pppd python qt3 qt3support qt4 quicktime quotes readline reflection reiserfs rtc scanner sdl session spell spl sql sse ssl startup-notification svg sysfs tcpd threads tiff truetype unicode usb userlocales vim-syntax vorbis win32codecs wmf x86 xanim xml xorg xulrunner xv xvid xvmc zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1 emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CAMERAS="sony_dscf55" ELIBC="glibc" INPUT_DEVICES="keyboard mouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en_GB" USERLAND="GNU" VIDEO_CARDS="vesa fbdev nvidia"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LC_ALL, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Wormo (RETIRED)






          2009-01-17 23:16:41 UTC
        

It looks like you are using a hardened toolchain, though not a hardened profile. Do you also have gcc-4.1.2 available to try?

Also, please attach the full build log.




Comment 2


Paul McDermott





          2009-01-18 12:48:17 UTC
        

emerge -auv --deep mplayer 

resolved the problem.

I may have a hardened toolchain, as I have experimented with hardened before. How would I know/tell?

I didn't save the full build log, and I am unable to re-create now.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

