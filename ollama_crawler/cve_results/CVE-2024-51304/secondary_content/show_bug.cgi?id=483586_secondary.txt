Title: 483586 – net-misc/openswan - cc1: error: -Werror=cpp: No option -Wcpp
URL: https://bugs.gentoo.org/show_bug.cgi?id=483586

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 483586
net-misc/openswan - cc1: error: -Werror=cpp: No option -Wcpp
Last modified: 2013-09-17 17:01:29 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 483586 
      - net-misc/openswan - cc1: error: -Werror=cpp: No option -Wcpp


Summary:
net-misc/openswan - cc1: error: -Werror=cpp: No option -Wcpp
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Mike Gilbert








URL:



https://lists.openswan.org/pipermail/...
        




Whiteboard:




Keywords:

PATCH







Depends on:







Blocks:









 





      Reported:
    
2013-09-04 11:53 UTC by Joe Kane





      Modified:
    
2013-09-17 17:01 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



gentoobugzilla









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Joe Kane





          2013-09-04 11:53:10 UTC
        

trying to update openswan from 2.6.38 to 2.6.39 generates emake compilation error



Reproducible: Always

Steps to Reproduce:
1. emerge -u openswan

Actual Results:  
make[3]: *** [addrtoa.o] Error 1
make[3]: *** Waiting for unfinished jobs....
cc1: error: -Werror=cpp: No option -Wcpp
make[3]: *** [addrtot.o] Error 1
make[3]: *** wait: No child processes.  Stop.
make[2]: *** [programs] Error 1
make[2]: Leaving directory `/var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39/OBJ.linux.amd64/lib'
make[1]: *** [programs] Error 1
make[1]: Leaving directory `/var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39/OBJ.linux.amd64'
make: *** [programs] Error 2
 * ERROR: net-misc/openswan-2.6.39 failed (compile phase):
 *   emake failed


Expected Results:  
openswan 2.6.39 installed

seems to have been resolved upstream, see following links

https://lists.openswan.org/pipermail/users/2013-July/022536.html

https://lists.openswan.org/pipermail/users/2013-June/022471.html

https://github.com/xelerance/Openswan/commit/31e261a07a1aa6b9de1491e8f6053189aff5554b




Comment 1


Agostino Sarubbo






          2013-09-04 12:40:28 UTC
        

Please post the complete build log and your emerge --info




Comment 2


Joe Kane





          2013-09-04 15:31:04 UTC
        

# emerge --info '=net-misc/openswan-2.6.39'

Portage 2.1.12.2 (default/linux/amd64/13.0, gcc-4.5.4, glibc-2.15-r3, 3.10.7-gentoo x86_64)
=================================================================
                        System Settings
=================================================================
System uname: Linux-3.10.7-gentoo-x86_64-AMD_Athlon-tm-_II_X2_250_Processor-with-gentoo-2.2
KiB Mem:     3802044 total,    299680 free
KiB Swap:          0 total,         0 free
Timestamp of tree: Wed, 04 Sep 2013 02:00:01 +0000
ld GNU ld (GNU Binutils) 2.23.1
app-shells/bash:          4.2_p45
dev-lang/python:          2.7.5-r2, 3.1.4-r3, 3.2.5-r2
dev-util/cmake:           2.8.10.2-r2
dev-util/pkgconfig:       0.28
sys-apps/baselayout:      2.2
sys-apps/openrc:          0.11.8
sys-apps/sandbox:         2.6-r1
sys-devel/autoconf:       2.13, 2.69
sys-devel/automake:       1.9.6-r2, 1.10.3, 1.11.6, 1.12.6
sys-devel/binutils:       2.23.1
sys-devel/gcc:            4.4.5, 4.5.4, 4.6.3
sys-devel/gcc-config:     1.7.3
sys-devel/libtool:        2.4-r1
sys-devel/make:           3.82-r4
sys-kernel/linux-headers: 3.9 (virtual/os-headers)
sys-libs/glibc:           2.15-r3
Repositories: gentoo
ACCEPT_KEYWORDS="amd64"
ACCEPT_LICENSE="* -@EULA"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/gnupg/qualified.txt /var/bind /var/spool/munin-async/.ssh"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/dconf /etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php5.3/ext-active/ /etc/php/apache2-php5.4/ext-active/ /etc/php/apache2-php5.5/ext-active/ /etc/php/cgi-php5.3/ext-active/ /etc/php/cgi-php5.4/ext-active/ /etc/php/cgi-php5.5/ext-active/ /etc/php/cli-php5.3/ext-active/ /etc/php/cli-php5.4/ext-active/ /etc/php/cli-php5.5/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/splash /etc/terminfo"
CXXFLAGS="-O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FCFLAGS="-O2 -pipe"
FEATURES="assume-digests binpkg-logs config-protect-if-modified distlocks ebuild-locks fixlafiles merge-sync news parallel-fetch preserve-libs protect-owned sandbox sfperms strict unknown-features-warn unmerge-logs unmerge-orphans userfetch"
FFLAGS="-O2 -pipe"
GENTOO_MIRRORS="http://mirror.qubenet.net/mirror/gentoo/ ftp://mirror.qubenet.net/mirror/gentoo/ "
LANG="en_GB.UTF-8"
LDFLAGS="-Wl,-O1 -Wl,--as-needed"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --human-readable --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY=""
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="SSL UTF-8 X a52 aac aalib acl alsa amd64 apache2 asterisk authlib bcmath berkdb bind bzip2 calendar cdda cddb cgi clamdtop cli courier cracklib crypt css ctype curl curlwrappers cxx dbm directfb dlz dri dts dvd encode exif extraengine fam fbcon fbcondecor festival ffmpeg flac flatfile fortran freeradius ftp gd gdbm ggi gif gmp gpm httpd iconv ieee1394 imap imlib inifile inotify jack jpeg jpeg2k jpg kernel-patch libcaca libv4l2 libwww lirc live lua maildir matroska metalog midi minizip mmx mod modplug modules mp3 mpeg mtp mudflap multilib mysql mysqli ncurses net-fs/samba network nls nptl ntfsprogs ogg opengl openmp openssl pam pcre perl php png postfix proftp pvr python radius readline rtsp samba sasl sasl2 sdl server session shout smpeg soap sockets spell squid srvdir sse sse2 ssh ssl static-libs stream svg syslog tcpd theora tiff timidity tls tokenizer tools truetype udev unicode v4l v4l2 vaapi vde vhosts vlm vorbis webserver x264 xml xmlreader xpm xvid zip zlib" ABI_X86="64" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" APACHE2_MODULES="auth_basic authn_file authn_default authn_dbd authz_user authz_default authz_host authz_owner filter access auth auth_dbm auth_anon auth_digest alias file-cache echo charset-lite cache disk-cache mem-cache ext-filter case_filter case-filter-in deflate mime-magic cern-meta expires headers usertrack unique-id proxy proxy-connect proxy-ftp proxy-http info include cgi cgid dav dav-fs vhost_alias vhost-alias speling rewrite log_config logio env setenvif mime status autoindex asis negotiation dir imap actions userdir so" CALLIGRA_FEATURES="kexi words flow plan sheets stage tables krita karbon braindump author" CAMERAS="ptp2" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf superstar2 timing tsip tripmate tnt ubx" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LIBREOFFICE_EXTENSIONS="presenter-console presenter-minimizer" OFFICE_IMPLEMENTATION="libreoffice" PHP_TARGETS="php5-5" PYTHON_SINGLE_TARGET="python2_7" PYTHON_TARGETS="python2_7 python3_2" QEMU_SOFTMMU_TARGETS="x86_64" QEMU_USER_TARGETS="x86_64" RUBY_TARGETS="ruby19 ruby18" USERLAND="GNU" VIDEO_CARDS="fbdev glint intel mach64 mga nouveau nv r128 radeon savage sis tdfx trident vesa via vmware dummy v4l" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LC_ALL, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, USE_PYTHON




Comment 3


Joe Kane





          2013-09-04 15:32:08 UTC
        

# cat /var/tmp/portage/net-misc/openswan-2.6.39/temp/build.log

 * Package:    net-misc/openswan-2.6.39
 * Repository: gentoo
 * Maintainer: floppym@gentoo.org
 * USE:        abi_x86_64 amd64 curl elibc_glibc kernel_linux multilib pam ssl userland_GNU
 * FEATURES:   preserve-libs sandbox
 * Determining the location of the kernel source code
 * Found kernel source directory:
 *     /usr/src/linux
 * Found kernel object directory:
 *     /lib/modules/3.10.7-gentoo/build
 * Found sources for kernel version:
 *     3.10.7-gentoo
 * This ebuild will set openswan-2.6.39 to use kernel native IPsec (KAME).
>>> Unpacking source...
>>> Unpacking openswan-2.6.39.tar.gz to /var/tmp/portage/net-misc/openswan-2.6.39/work
>>> Source unpacked in /var/tmp/portage/net-misc/openswan-2.6.39/work
>>> Preparing source in /var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39 ...
 * Applying openswan-2.6.39-gentoo.patch ...                                                                                                                                 [ ok ]
>>> Source prepared.
>>> Configuring source in /var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39 ...
>>> Source configured.
>>> Compiling source in /var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39 ...
make -j3 KERNELSRC=/usr/src/linux FINALEXAMPLECONFDIR=/usr/share/doc/openswan-2.6.39 INC_RCDEFAULT=/etc/init.d INC_USRLOCAL=/usr INC_MANDIR=share/man FINALDOCDIR=/usr/share/doc/openswan-2.6.39/html FINALLIBDIR=/usr/lib64/ipsec DESTDIR=/var/tmp/portage/net-misc/openswan-2.6.39/image/ 'USERCOMPILE=-O2 -pipe -fno-strict-aliasing' 'USERLINK=-Wl,-z,relro -Wl,-O1 -Wl,--as-needed' USE_LIBCAP_NG=false USE_LIBCURL=true USE_LDAP=false USE_XAUTH=true USE_XAUTHPAM=true USE_LIBNSS=false HAVE_OPENSSL=true USE_EXTRACRYPTO=false USE_WEAKSTUFF=false USE_LWRES=false HAVE_THREADS=true programs 
Setting up for OBJDIR=OBJ.linux.amd64
OBJDIR: OBJ.linux.amd64
(cd /var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39/OBJ.linux.amd64 && OBJDIRTOP=/var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39/OBJ.linux.amd64 OBJDIR=/var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39/OBJ.linux.amd64 make programs )
make[1]: Entering directory `/var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39/OBJ.linux.amd64'
make[2]: Entering directory `/var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39/OBJ.linux.amd64/lib'
make[3]: Entering directory `/var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39/OBJ.linux.amd64/lib/libopenswan'
x86_64-pc-linux-gnu-gcc -O2 -pipe -fno-strict-aliasing -DUSE_SHA2 -I/var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39/lib/libcrypto/libsha2  -I/var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39/ports/linux/include  -I/var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39/ports/linux/include  -I/var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39/ports/linux/include  -I. -I/var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39/linux/net/ipsec -I/var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39/linux/include -I/var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39 -DDEBUG -DPFKEYV2 -DKLIPS -DWITH_UDPFROMTO -DHAVE_IP_PKTINFO -I/var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39/include  -I/var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39/ports/linux/include  -I/var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39/ports/linux/include  -I/var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39/ports/linux/include  -O2 -pipe -fno-strict-aliasing  -Wall -Wpointer-arith -Wno-error=cast-qual -Wno-error=cpp -Wstrict-prototypes -Wbad-function-cast -DNAT_TRAVERSAL -DUSE_MODP_RFC5114 -DFINALCONFDIR=\"/etc\" -DFINALCONFDDIR=\"/etc/ipsec.d\" -DFINALCONFFILE=\"/etc/ipsec.conf\" -DFINALVARDIR=\"/var\" -DFINALLIBEXECDIR=\"/usr/libexec/ipsec\" -DFINALLIBDIR=\"/usr/lib64/ipsec\" -DFINALSBINDIR=\"/usr/sbin\"   -c -o addrtoa.o /var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39/linux/net/ipsec/addrtoa.c
x86_64-pc-linux-gnu-gcc -O2 -pipe -fno-strict-aliasing -DUSE_SHA2 -I/var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39/lib/libcrypto/libsha2  -I/var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39/ports/linux/include  -I/var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39/ports/linux/include  -I/var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39/ports/linux/include  -I. -I/var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39/linux/net/ipsec -I/var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39/linux/include -I/var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39 -DDEBUG -DPFKEYV2 -DKLIPS -DWITH_UDPFROMTO -DHAVE_IP_PKTINFO -I/var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39/include  -I/var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39/ports/linux/include  -I/var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39/ports/linux/include  -I/var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39/ports/linux/include  -O2 -pipe -fno-strict-aliasing  -Wall -Wpointer-arith -Wno-error=cast-qual -Wno-error=cpp -Wstrict-prototypes -Wbad-function-cast -DNAT_TRAVERSAL -DUSE_MODP_RFC5114 -DFINALCONFDIR=\"/etc\" -DFINALCONFDDIR=\"/etc/ipsec.d\" -DFINALCONFFILE=\"/etc/ipsec.conf\" -DFINALVARDIR=\"/var\" -DFINALLIBEXECDIR=\"/usr/libexec/ipsec\" -DFINALLIBDIR=\"/usr/lib64/ipsec\" -DFINALSBINDIR=\"/usr/sbin\"   -c -o addrtot.o /var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39/linux/net/ipsec/addrtot.c
cc1: error: -Werror=cpp: No option -Wcpp
x86_64-pc-linux-gnu-gcc -O2 -pipe -fno-strict-aliasing -DUSE_SHA2 -I/var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39/lib/libcrypto/libsha2  -I/var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39/ports/linux/include  -I/var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39/ports/linux/include  -I/var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39/ports/linux/include  -I. -I/var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39/linux/net/ipsec -I/var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39/linux/include -I/var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39 -DDEBUG -DPFKEYV2 -DKLIPS -DWITH_UDPFROMTO -DHAVE_IP_PKTINFO -I/var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39/include  -I/var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39/ports/linux/include  -I/var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39/ports/linux/include  -I/var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39/ports/linux/include  -O2 -pipe -fno-strict-aliasing  -Wall -Wpointer-arith -Wno-error=cast-qual -Wno-error=cpp -Wstrict-prototypes -Wbad-function-cast -DNAT_TRAVERSAL -DUSE_MODP_RFC5114 -DFINALCONFDIR=\"/etc\" -DFINALCONFDDIR=\"/etc/ipsec.d\" -DFINALCONFFILE=\"/etc/ipsec.conf\" -DFINALVARDIR=\"/var\" -DFINALLIBEXECDIR=\"/usr/libexec/ipsec\" -DFINALLIBDIR=\"/usr/lib64/ipsec\" -DFINALSBINDIR=\"/usr/sbin\"   -c -o addrtypeof.o /var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39/linux/net/ipsec/addrtypeof.c
make[3]: *** [addrtoa.o] Error 1
make[3]: *** Waiting for unfinished jobs....
cc1: error: -Werror=cpp: No option -Wcpp
make[3]: *** [addrtot.o] Error 1
make[3]: *** wait: No child processes.  Stop.
make[2]: *** [programs] Error 1
make[2]: Leaving directory `/var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39/OBJ.linux.amd64/lib'
make[1]: *** [programs] Error 1
make[1]: Leaving directory `/var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39/OBJ.linux.amd64'
make: *** [programs] Error 2
 * ERROR: net-misc/openswan-2.6.39 failed (compile phase):
 *   emake failed
 * 
 * If you need support, post the output of `emerge --info '=net-misc/openswan-2.6.39'`,
 * the complete build log and the output of `emerge -pqv '=net-misc/openswan-2.6.39'`.
 * The complete build log is located at '/var/tmp/portage/net-misc/openswan-2.6.39/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/net-misc/openswan-2.6.39/temp/environment'.
 * Working directory: '/var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39'
 * S: '/var/tmp/portage/net-misc/openswan-2.6.39/work/openswan-2.6.39'




Comment 4


Joe Kane





          2013-09-17 17:00:42 UTC
        

updating gcc-config to use x86_64-pc-linux-gnu-4.6.3
will now allow compilation and installation of openswan

resolved.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

