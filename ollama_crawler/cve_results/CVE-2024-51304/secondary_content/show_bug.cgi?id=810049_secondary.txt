Title: 810049 – gui-libs/neatvnc-0.4.0 - ../.../tight.c: error: TJPF_UNKNOWN undeclared (first use in this function)
URL: https://bugs.gentoo.org/show_bug.cgi?id=810049

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 810049
gui-libs/neatvnc-0.4.0 - ../.../tight.c: error: TJPF_UNKNOWN undeclared (first use in this function)
Last modified: 2022-12-24 17:15:21 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 810049 
      - gui-libs/neatvnc-0.4.0 - ../.../tight.c: error: TJPF_UNKNOWN undeclared (first use in this function)


Summary:
gui-libs/neatvnc-0.4.0 - ../.../tight.c: error: TJPF_UNKNOWN undeclared (firs...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

James Le Cuirot








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2021-08-24 16:50 UTC by Toralf Förster





      Modified:
    
2022-12-24 17:15 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



sam









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge-info.txt

              (emerge-info.txt,16.92 KB,
                text/plain)

            
2021-08-24 16:50 UTC,

            Toralf Förster




Details





emerge-history.txt

              (emerge-history.txt,179.53 KB,
                text/plain)

            
2021-08-24 16:50 UTC,

            Toralf Förster




Details





environment

              (environment,91.77 KB,
                text/plain)

            
2021-08-24 16:50 UTC,

            Toralf Förster




Details





etc.portage.tar.bz2

              (etc.portage.tar.bz2,23.83 KB,
                application/x-bzip)

            
2021-08-24 16:50 UTC,

            Toralf Förster




Details





gui-libs:neatvnc-0.4.0:20210824-060157.log

              (gui-libs:neatvnc-0.4.0:20210824-060157.log,12.21 KB,
                text/plain)

            
2021-08-24 16:50 UTC,

            Toralf Förster




Details





logs.tar.bz2

              (logs.tar.bz2,2.41 KB,
                application/x-bzip)

            
2021-08-24 16:50 UTC,

            Toralf Förster




Details





temp.tar.bz2

              (temp.tar.bz2,22.67 KB,
                application/x-bzip)

            
2021-08-24 16:50 UTC,

            Toralf Förster




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Toralf Förster






          2021-08-24 16:50:39 UTC
        

x86_64-pc-linux-gnu-gcc -Ilibneatvnc.so.0.0.0.p -I. -I../neatvnc-0.4.0 -I../neatvnc-0.4.0/include -I/usr/include/pixman-1 -I/usr/include/p11-kit-1 -fdiagnostics-color=always -D_FILE_OFFSET_BITS=64 -Wall -Winvalid-pch -std=gnu11 '-DPROJECT_VERSION="0.4.0"' -D_GNU_SOURCE -fvisibility=hidden -Wmissing-prototypes -DNDEBUG -pipe -march=native -fno-diagnostics-color -O2 -fPIC -MD -MQ libneatvnc.so.0.0.0.p/src_tight.c.o -MF libneatvnc.so.0.0.0.p/src_tight.c.o.d -o libneatvnc.so.0.0.0.p/src_tight.c.o -c ../neatvnc-0.4.0/src/tight.c
../neatvnc-0.4.0/src/tight.c: In function ‘tight_get_jpeg_pixfmt’:
../neatvnc-0.4.0/src/tight.c:297:16: error: ‘TJPF_UNKNOWN’ undeclared (first use in this function); did you mean ‘Z_UNKNOWN’?
  297 |         return TJPF_UNKNOWN;
      |                ^~~~~~~~~~~~
      |                Z_UNKNOWN
../neatvnc-0.4.0/src/tight.c:297:16: note: each undeclared identifier is reported only once for each function it appears in

  -------------------------------------------------------------------

  This is an unstable amd64 chroot image at a tinderbox (==build bot)
  name: 17.1_desktop_plasma-j4-20210822-190004

  -------------------------------------------------------------------

gcc-config -l:
 [1] x86_64-pc-linux-gnu-11.2.0 *
clang version 12.0.1
Target: x86_64-pc-linux-gnu
Thread model: posix
InstalledDir: /usr/lib/llvm/12/bin
/usr/lib/llvm/12
12.0.1
Python 3.9.6
Available Ruby profiles:
  [1]   ruby26 (with Rubygems)
  [2]   ruby30 (with Rubygems) *
Available Rust versions:
  [1]   rust-1.54.0 *
The following VMs are available for generation-2:
*)	AdoptOpenJDK 8.292_p10 [openjdk-bin-8]
Available Java Virtual Machines:
  [1]   openjdk-bin-8  system-vm

The Glorious Glasgow Haskell Compilation System, version 8.10.4

  HEAD of ::gentoo
commit d64d3a60eeeaedbb6ca35239d3648e8ff9d4cf82
Author: Repository mirror & CI <repomirrorci@gentoo.org>
Date:   Tue Aug 24 05:06:29 2021 +0000

    2021-08-24 05:06:28 UTC

emerge -qpvO gui-libs/neatvnc
[ebuild  N    ] gui-libs/neatvnc-0.4.0  USE="jpeg ssl -examples -tracing"




Comment 1


Toralf Förster






          2021-08-24 16:50:40 UTC
        

Created attachment 735727 [details]
emerge-info.txt




Comment 2


Toralf Förster






          2021-08-24 16:50:42 UTC
        

Created attachment 735730 [details]
emerge-history.txt




Comment 3


Toralf Förster






          2021-08-24 16:50:43 UTC
        

Created attachment 735733 [details]
environment




Comment 4


Toralf Förster






          2021-08-24 16:50:44 UTC
        

Created attachment 735736 [details]
etc.portage.tar.bz2




Comment 5


Toralf Förster






          2021-08-24 16:50:45 UTC
        

Created attachment 735739 [details]
gui-libs:neatvnc-0.4.0:20210824-060157.log




Comment 6


Toralf Förster






          2021-08-24 16:50:47 UTC
        

Created attachment 735742 [details]
logs.tar.bz2




Comment 7


Toralf Förster






          2021-08-24 16:50:48 UTC
        

Created attachment 735745 [details]
temp.tar.bz2




Comment 8


Sam James









          2021-10-17 04:03:48 UTC
        

libjpeg-turbo related?




Comment 9


James Le Cuirot






          2022-12-24 17:15:21 UTC
        

0.4.0 works fine here, even with the jpeg flag. I've bumped this to 0.5.4 now.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

