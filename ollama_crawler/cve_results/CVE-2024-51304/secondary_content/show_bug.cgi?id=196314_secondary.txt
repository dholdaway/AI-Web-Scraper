Title: 196314 – dev-lang/mono-1.2.5.1 fails to emerge (segfault)
URL: https://bugs.gentoo.org/show_bug.cgi?id=196314

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 196314
dev-lang/mono-1.2.5.1 fails to emerge (segfault)
Last modified: 2008-03-05 07:59:04 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 196314 
      - dev-lang/mono-1.2.5.1 fails to emerge (segfault)


Summary:
dev-lang/mono-1.2.5.1 fails to emerge (segfault)
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Development

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

dotnet project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-10-18 19:00 UTC by Bartek 'Paczesiowa' Cwiklowski





      Modified:
    
2008-03-05 07:59 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build.log of failed emerge

              (build.log,492.43 KB,
                text/plain)

            
2007-10-18 20:24 UTC,

            Bartek 'Paczesiowa' Cwiklowski




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Bartek 'Paczesiowa' Cwiklowski





          2007-10-18 19:00:08 UTC
        

I can't emerge mono-1.2.5[.1], (or mono-1.2.4 but that gives similar error, and additionally stack trace, I can paste it if needed)

Error: 
make[5]: Entering directory `/var/tmp/portage/dev-lang/mono-1.2.5.1/work/mono-1.2.5.1/mcs'
make[6]: *** [build/deps/basic-profile-check.exe] Error 1
make[6]: Entering directory `/var/tmp/portage/dev-lang/mono-1.2.5.1/work/mono-1.2.5.1/mcs'
*** The compiler 'false' doesn't appear to be usable.
*** Trying the 'monolite' directory.
make[7]: Entering directory `/var/tmp/portage/dev-lang/mono-1.2.5.1/work/mono-1.2.5.1/mcs'
make[8]: *** [build/deps/basic-profile-check.exe] Segmentation fault
make[8]: Entering directory `/var/tmp/portage/dev-lang/mono-1.2.5.1/work/mono-1.2.5.1/mcs'
*** The contents of your 'monolite' directory may be out-of-date
*** You may want to try 'make get-monolite-latest'
make[8]: *** [do-profile-check-monolite] Error 1
make[8]: Leaving directory `/var/tmp/portage/dev-lang/mono-1.2.5.1/work/mono-1.2.5.1/mcs'
make[7]: *** [do-profile-check] Error 2
make[7]: Leaving directory `/var/tmp/portage/dev-lang/mono-1.2.5.1/work/mono-1.2.5.1/mcs'
make[6]: *** [do-profile-check-monolite] Error 2
make[6]: Leaving directory `/var/tmp/portage/dev-lang/mono-1.2.5.1/work/mono-1.2.5.1/mcs'
make[5]: *** [do-profile-check] Error 2
make[5]: Leaving directory `/var/tmp/portage/dev-lang/mono-1.2.5.1/work/mono-1.2.5.1/mcs'
make[4]: *** [profile-do--basic--all] Error 2
make[4]: Leaving directory `/var/tmp/portage/dev-lang/mono-1.2.5.1/work/mono-1.2.5.1/mcs'
make[3]: *** [profiles-do--all] Error 2
make[3]: Leaving directory `/var/tmp/portage/dev-lang/mono-1.2.5.1/work/mono-1.2.5.1/mcs'
make[2]: *** [all-local] Error 2
make[2]: Leaving directory `/var/tmp/portage/dev-lang/mono-1.2.5.1/work/mono-1.2.5.1/runtime'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/dev-lang/mono-1.2.5.1/work/mono-1.2.5.1'
make: *** [all] Error 2
If you are using any hardening features such as
PIE+SSP/SELinux/grsec/PAX then most probably this is the reason
why build has failed. In this case turn any active security
enhancements off and try emerging the package again

ERROR: dev-lang/mono-1.2.5.1 failed.
Call stack:
  ebuild.sh, line 1654:   Called dyn_compile
  ebuild.sh, line 990:   Called qa_call 'src_compile'
  ebuild.sh, line 44:   Called src_compile
  mono-1.2.5.1.ebuild, line 94:   Called die
(no error message)
If you need support, post the topmost build error, and the call stack if relevant.
A complete build log is located at '/var/tmp/portage/dev-lang/mono-1.2.5.1/temp/build.log'.

Reproducible: Always

Steps to Reproduce:
1. emerge mono
2.
3.

Actual Results:  
emerge failed

Expected Results:  
emerge success

emerge --info
Portage 2.1.3.9 (default-linux/x86/2007.0/desktop, gcc-4.2.0, glibc-2.6.1-r0, 2.6.22-kamikaze5 i686)
=================================================================
System uname: 2.6.22-kamikaze5 i686 AMD Athlon XP-M
Timestamp of tree: Thu, 18 Oct 2007 00:50:01 +0000
app-shells/bash:     3.2_p17-r1
dev-java/java-config: 1.3.7, 2.0.33-r1
dev-lang/python:     2.4.4-r4, 2.5.1-r2
dev-python/pycrypto: 2.0.1-r6
sys-apps/baselayout: 1.12.10-r4
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.61-r1
sys-devel/automake:  1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.18
sys-devel/gcc-config: 1.4.0-r2
sys-devel/libtool:   1.5.24
virtual/os-headers:  2.6.22-r2
ACCEPT_KEYWORDS="x86 ~x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=athlon-xp -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/revdep-rebuild /etc/splash /etc/terminfo /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-O2 -march=athlon-xp -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="distlocks metadata-transfer sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://gentoo.intergenia.de http://gentoo.prz.rzeszow.pl"
LANG="pl_PL"
LC_ALL="pl_PL.UTF-8"
LINGUAS="pl"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portage/local/layman/haskell /usr/portage/local/layman/vmware /usr/portage/local/layman/sunrise /usr/portage/local"
SYNC="rsync://192.168.0.1/gentoo-portage"
USE="kdeenablefinal kdehiddenvisibility nls nptl nptlonly unicode x86" ALSA_CARDS="emu10k1x" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" ELIBC="glibc" INPUT_DEVICES="keyboard evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="pl" USERLAND="GNU" VIDEO_CARDS="nvidia"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LDFLAGS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Jakub Moc (RETIRED)






          2007-10-18 19:02:52 UTC
        

> If you need support, post the topmost build error

Either do this, or attach the complete log here. There's nothing useful above.




Comment 2


Bartek 'Paczesiowa' Cwiklowski





          2007-10-18 20:24:49 UTC
        

Created attachment 133812 [details]
build.log of failed emerge




Comment 3


Bartek 'Paczesiowa' Cwiklowski





          2007-10-18 20:26:05 UTC
        

and one more thing: I tried emerging mono with --emptytree, but that didn't help




Comment 4


Bartek 'Paczesiowa' Cwiklowski





          2007-10-29 10:51:45 UTC
        

"./configure && make" does work, so it must be ebuild's error




Comment 5


Bartek 'Paczesiowa' Cwiklowski





          2007-10-31 06:04:06 UTC
        

FEATURES="-sandbox" emerge mono

that fixed my problem. but it should be done in the ebuild so I dont change status of this bug.




Comment 6


Jurek Bartuszek (RETIRED)






          2007-11-16 18:13:14 UTC
        

I have FEATURES="sandbox" enabled and I am able to emerge mono without an error




Comment 7


Jurek Bartuszek (RETIRED)






          2008-01-10 14:17:56 UTC
        

Does this problem persist with latest mono version (1.2.6-r1)?




Comment 8


Bartek 'Paczesiowa' Cwiklowski





          2008-01-11 00:27:33 UTC
        

now it works ok (even old 1.2.5*), maybe I updated sandbox or something.




Comment 9


Jakub Moc (RETIRED)






          2008-03-05 07:59:04 UTC
        

Closing then.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

