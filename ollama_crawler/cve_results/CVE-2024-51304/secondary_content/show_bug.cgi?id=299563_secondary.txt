Title: 299563 – =media-sound/listen-0.6.3 crashes with gstreamer segfault
URL: https://bugs.gentoo.org/show_bug.cgi?id=299563

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 299563
=media-sound/listen-0.6.3 crashes with gstreamer segfault
Last modified: 2010-01-04 09:56:15 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 299563 
      - =media-sound/listen-0.6.3 crashes with gstreamer segfault


Summary:
=media-sound/listen-0.6.3 crashes with gstreamer segfault
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       critical
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2010-01-04 09:11 UTC by Fabian Holler





      Modified:
    
2010-01-04 09:56 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Fabian Holler





          2010-01-04 09:11:45 UTC
        

After starting listen, it crashes after ~10sec when playing an mp3


 ~/Documents $ listen --gst-debug=2
Xlib:  extension "RANDR" missing on display ":0.0".
AttributeError: 'module' object has no attribute 'Element'
0:00:00.006445601  4024       0x9e3800 WARN      GST_PLUGIN_LOADING gstplugin.c:422:gst_plugin_register_func: plugin "/usr/lib64/gstreamer-0.10/libgstpython.so" failed to initialise
location: /usr/lib64/xulrunner-1.9.1/libxpcom.so 
before 3
No avahi support
0:00:00.689271143  4023       0x9e3800 WARN              autodetect gstautovideosink.c:321:gst_auto_video_sink_find_best:<autovideosink0> warning: Failed to find a usable video sink
0:00:00.805083768  4023       0x9e3800 WARN                id3demux id3v2frames.c:408:parse_user_text_identification_frame: Expected 2 fields in TXXX frame, but got 1
0:00:00.814783744  4023       0x9e3800 WARN                    alsa gstalsa.c:124:gst_alsa_detect_formats:<autoaudiosink0-actual-sink-alsa> skipping non-int format
0:00:00.815697129  4023       0x9e3800 WARN                    alsa conf.c:3952:snd_config_expand: alsalib error: Unknown parameters {AES0 0x02 AES1 0x82 AES2 0x00 AES3 0x02}
0:00:00.815709959  4023       0x9e3800 WARN                    alsa pcm.c:2211:snd_pcm_open_noupdate: alsalib error: Unknown PCM iec958:{AES0 0x02 AES1 0x82 AES2 0x00 AES3 0x02}
0:00:00.819040977  4023      0x100bcf0 WARN           basetransform gstbasetransform.c:1048:gst_base_transform_acceptcaps:<audioresample2> transform could not transform audio/x-raw-int, endianness=(int)1234, signed=(boolean)true, width=(int)32, depth=(int)32, rate=(int)44100, channels=(int)2 in anything we support
0:00:00.828266073  4023      0x100bcf0 WARN           basetransform gstbasetransform.c:1048:gst_base_transform_acceptcaps:<audioresample2> transform could not transform audio/x-raw-int, endianness=(int)1234, signed=(boolean)true, width=(int)32, depth=(int)32, rate=(int)44100, channels=(int)2 in anything we support
WARNING  listen.player.fadebin.StreamBin     stream "file:///media/w...20-%20Human%20Tornado.mp3" already blocked
0:00:00.834251898  4023 0x7f4b580409c0 WARN           basetransform gstbasetransform.c:1048:gst_base_transform_acceptcaps:<silencecapsfilter> transform could not transform audio/x-raw-float, endianness=(int)1234, width=(int)64, rate=(int)44100, channels=(int)2 in anything we support
0:00:00.851330719  4023 0x7f4b580409c0 WARN           basetransform gstbasetransform.c:1048:gst_base_transform_acceptcaps:<silencecapsfilter> transform could not transform audio/x-raw-float, endianness=(int)1234, width=(int)64, rate=(int)44100, channels=(int)2 in anything we support

(listen:4023): GStreamer-CRITICAL **: gst_caps_is_fixed: assertion `GST_IS_CAPS (caps)' failed

(listen:4023): GStreamer-CRITICAL **: gst_caps_is_empty: assertion `GST_IS_CAPS (caps)' failed

(listen:4023): GStreamer-CRITICAL **: gst_caps_is_any: assertion `GST_IS_CAPS (caps)' failed

(listen:4023): GStreamer-CRITICAL **: gst_caps_is_empty: assertion `GST_IS_CAPS (caps)' failed

(listen:4023): GStreamer-CRITICAL **: gst_caps_is_any: assertion `GST_IS_CAPS (caps)' failed

(listen:4023): GStreamer-CRITICAL **: gst_caps_copy: assertion `GST_IS_CAPS (caps)' failed
Segmentation fault


Reproducible: Always

Steps to Reproduce:
1. start listen
2. play music file(only tested with mp3)


Actual Results:  
segfault

Expected Results:  
no segfault :-)

Portage 2.2_rc33 (default/linux/amd64/10.0, gcc-4.3.4, glibc-2.9_p20081201-r2, 2.6.31-gentoo-r6 x86_64)
=================================================================
System uname: Linux-2.6.31-gentoo-r6-x86_64-AMD_Phenom-tm-_II_X4_955_Processor-with-gentoo-1.12.13
Timestamp of tree: Sun, 03 Jan 2010 17:30:01 +0000
ccache version 2.4 [enabled]
app-shells/bash:     4.0_p35
dev-java/java-config: 2.1.9-r2
dev-lang/python:     2.6.4
dev-util/ccache:     2.4-r7
dev-util/cmake:      2.6.4-r3
sys-apps/baselayout: 1.12.13
sys-apps/sandbox:    1.6-r2
sys-devel/autoconf:  2.13, 2.63-r1
sys-devel/automake:  1.7.9-r1, 1.9.6-r2, 1.10.2
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   2.2.6b
virtual/os-headers:  2.6.27-r2
ACCEPT_KEYWORDS="amd64"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=amdfam10 -O2 -pipe -fomit-frame-pointer"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config /var/lib/hsqldb"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-march=amdfam10 -O2 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="ccache distlocks fixpackages parallel-fetch preserve-libs protect-owned sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="ftp://ftp.wh2.tu-dresden.de/pub/mirrors/gentoo"
LANG="de_DE.UTF-8"
LDFLAGS="-Wl,-O1"
MAKEOPTS="-j5"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage/layman/akoya"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="3dnow 3dnowext acpi alsa amd64 bash-completion berkdb branding bzip2 cairo cleartype cli cracklib cups cxx dbus dri fontconfig fortran gdbm hal iconv kde mmx mmxext modules mudflap multilib ncurses nls nptl nptlonly opengl openmp pam pcre phonon pppd qt3support readline reflection session spl sse sse2 ssl startup-notification sysfs syslog tcpd threads truetype unicode vim-syntax xinerama xorg zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" RUBY_TARGETS="ruby18" USERLAND="GNU" VIDEO_CARDS="fglrx"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LC_ALL, LINGUAS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Fabian Holler





          2010-01-04 09:56:15 UTC
        

problem seams to be fixed with =media-libs/gstreamer-0.10.25,
no segfault since gstreamer update









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

