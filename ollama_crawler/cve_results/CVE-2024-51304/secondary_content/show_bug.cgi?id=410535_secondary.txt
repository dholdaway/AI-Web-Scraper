Title: 410535 – dev-python/ply-3.4 - (python3.2) TypeError: can't use a bytes pattern on a string-like object
URL: https://bugs.gentoo.org/show_bug.cgi?id=410535

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 410535
dev-python/ply-3.4 - (python3.2) TypeError: can't use a bytes pattern on a string-like object
Last modified: 2012-04-03 14:26:33 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 410535 
      - dev-python/ply-3.4 - (python3.2) TypeError: can't use a bytes pattern on a string-like object


Summary:
dev-python/ply-3.4 - (python3.2) TypeError: can't use a bytes pattern on a st...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Python Gentoo Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2012-04-02 11:11 UTC by Sylvain BERTRAND





      Modified:
    
2012-04-03 14:26 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge --info dev-python/ply

              (info,4.33 KB,
                text/plain)

            
2012-04-02 11:11 UTC,

            Sylvain BERTRAND




Details





emerge --search setuptools

              (setup,404 bytes,
                text/plain)

            
2012-04-02 15:21 UTC,

            Sylvain BERTRAND




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Sylvain BERTRAND





          2012-04-02 11:11:34 UTC
        

Created attachment 307473 [details]
emerge --info dev-python/ply

This is what I get:
Copying ply.egg-info to /var/tmp/portage/dev-python/ply-3.4/temp/images/3.2/usr/lib64/python3.2/site-packages/ply-3.4-py3.2.egg-info
running install_scripts
Traceback (most recent call last):
  File "setup.py", line 29, in <module>
    'Programming Language :: Python :: 2',
  File "/usr/lib64/python3.2/distutils/core.py", line 148, in setup
    dist.run_commands()
  File "/usr/lib64/python3.2/distutils/dist.py", line 917, in run_commands
    self.run_command(cmd)
  File "/usr/lib64/python3.2/distutils/dist.py", line 936, in run_command
    cmd_obj.run()
  File "/usr/lib64/python3.2/site-packages/setuptools/command/install.py", line 53, in run
    return _install.run(self)
  File "/usr/lib64/python3.2/distutils/command/install.py", line 581, in run
    self.run_command(cmd_name)
  File "/usr/lib64/python3.2/distutils/cmd.py", line 313, in run_command
    self.distribution.run_command(command)
  File "/usr/lib64/python3.2/distutils/dist.py", line 936, in run_command
    cmd_obj.run()
  File "/usr/lib64/python3.2/site-packages/setuptools/command/install_scripts.py", line 37, in run
    for args in get_script_args(dist, executable, is_wininst):
  File "/usr/lib64/python3.2/site-packages/setuptools/command/easy_install.py", line 1754, in get_script_args
    header = get_script_header("", executable, wininst)
  File "/usr/lib64/python3.2/site-packages/setuptools/command/easy_install.py", line 1606, in get_script_header
    match = first_line_re.match(first)
TypeError: can't use a bytes pattern on a string-like object
 * ERROR: dev-python/ply-3.4 failed (install phase):




Comment 1


Marien Zwart (RETIRED)






          2012-04-02 12:34:18 UTC
        

Which version of setuptools do you have installed?




Comment 2


Sylvain BERTRAND





          2012-04-02 15:21:55 UTC
        

Created attachment 307517 [details]
emerge --search setuptools

Why those tools were not updated to the latest? Wrong dependency?




Comment 3


Sylvain BERTRAND





          2012-04-02 22:29:03 UTC
        

I forced the update... ply installed ok.

ply should ensure its minium version requierements for setuptools




Comment 4


Marien Zwart (RETIRED)






          2012-04-03 14:23:44 UTC
        

setuptools-0.6.16 (the version you had installed) blocks recent pythons (like the version of python 3.2 you had installed), presumably because of this bug. setuptools-0.6.19 (the oldest version without those blocks) seems to work.

I'm not entirely sure how you got into this situation. Perhaps we need to add some <setuptools-0.6.19 blocks to our python 3 ebuilds? Does portage not notice you have blocking packages installed?




Comment 5


Sylvain BERTRAND





          2012-04-03 14:26:33 UTC
        

Portage did not notice









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

