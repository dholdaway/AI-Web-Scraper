Title: 308113 – x11-libs/qt-gui: /usr/lib64/qt4/libQtGui.so: undefined reference to `QEventDispatcherGlib::hasPendingEvents()'
URL: https://bugs.gentoo.org/show_bug.cgi?id=308113

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 308113
x11-libs/qt-gui: /usr/lib64/qt4/libQtGui.so: undefined reference to `QEventDispatcherGlib::hasPendingEvents()'
Last modified: 2010-03-08 13:39:23 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 308113 
      - x11-libs/qt-gui: /usr/lib64/qt4/libQtGui.so: undefined reference to `QEventDispatcherGlib::hasPendingEvents()'


Summary:
x11-libs/qt-gui: /usr/lib64/qt4/libQtGui.so: undefined reference to `QEventDi...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Qt Bug Alias








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2010-03-06 21:06 UTC by Philip Webb





      Modified:
    
2010-03-08 13:39 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




result of 'emerge --info =kde-base/kdelibs-4.4.1-r1'

              (kdelibs441-d1,3.80 KB,
                text/plain)

            
2010-03-06 21:08 UTC,

            Philip Webb




Details





result of 'emerge -pqv =kde-base/kdelibs-4.4.1-r1'

              (kdelibs441-d2,287 bytes,
                text/plain)

            
2010-03-06 21:10 UTC,

            Philip Webb




Details





build log

              (kdelibs441-d3,247.32 KB,
                text/plain)

            
2010-03-06 21:12 UTC,

            Philip Webb




Details





build environment

              (environment,151.94 KB,
                text/plain)

            
2010-03-06 21:14 UTC,

            Philip Webb




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Philip Webb





          2010-03-06 21:06:05 UTC
        

kdelibs-4.4.1-r1 fails to compile at step 'kcolorutilsdemo'.
I tried with MAKEOPTS="-j1" & the same thing happened.
kdelibs-4.3.5 & 4.3.3 also fail to compile with the same 'Make error',
though not necessarily at the same point.
I also could not compile PyQt4 after updating to qt-4.6.2 (separate bug report).
I just updated Portage to 2.1.7.17 .
I will attach the requested files separately.

Reproducible: Always

Steps to Reproduce:
1. 'emerge kdelibs'
2. wait awhile
3. read error msgs

Actual Results:  
compile failed

Expected Results:  
compile usually succeeds




Comment 1


Philip Webb





          2010-03-06 21:08:24 UTC
        

Created attachment 222341 [details]
result of 'emerge --info =kde-base/kdelibs-4.4.1-r1'




Comment 2


Philip Webb





          2010-03-06 21:10:11 UTC
        

Created attachment 222343 [details]
result of 'emerge -pqv =kde-base/kdelibs-4.4.1-r1'




Comment 3


Philip Webb





          2010-03-06 21:12:47 UTC
        

Created attachment 222345 [details]
build log




Comment 4


Philip Webb





          2010-03-06 21:14:20 UTC
        

Created attachment 222347 [details]
build environment




Comment 5


Samuli Suominen (RETIRED)






          2010-03-06 21:40:12 UTC
        

/usr/lib64/qt4/libQtGui.so: undefined reference to `QEventDispatcherGlib::hasPendingEvents()'

Looks like a bad Qt4 upgrade (or downgrade, which will break for sure)




Comment 6


Philip Webb





          2010-03-07 22:25:08 UTC
        

I filed another bug 308115 re PyQt4 , which led me to the solution.
I remerged all 11 Qt pkgs with USE="exceptions glib"
&  kdelibs-4.1.1-r1  has compiled successfully.

In the course of emerging the Qt pkgs originally,
I encountered a warning that I needed to add "exceptions"
& IIRC another that I needed to add "glib" (there was a choice of some sort).
As a result, I added the USE prefix, but only for those pkgs.

I'm not sure how a user can find out that s/he has to apply these flags
to all the Qt pkgs or face serious problems with other pkgs later.
May I gently suggest that a clearer warning is needed ?
something like "If you compile any Qt package with USE="exceptions glib",
then you must compile all of them with both those flags
or you will run into trouble compiling other packages which depend on them".

On a brighter note, I have discovered that I can live quite easily
without any KDE apps (I use Fluxbox to manage my desktop), if I need to.






Comment 7


Rafał Mużyło





          2010-03-08 13:39:23 UTC
        

Well, the wrong thing that you did was using USE for anything,
but testing. If you'd put it in package.use, 'emerge -upvD world'
would have warned you about the conflict.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

