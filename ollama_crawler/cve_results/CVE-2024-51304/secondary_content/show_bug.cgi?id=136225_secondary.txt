Title: 136225 – [binutils] Audacity-1.3.0b fails to compile due to ld/BFD internal error: elf_link_output_extsym
URL: https://bugs.gentoo.org/show_bug.cgi?id=136225

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 136225
[binutils] Audacity-1.3.0b fails to compile due to ld/BFD internal error: elf_link_output_extsym
Last modified: 2006-06-17 13:52:55 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 136225 
      - [binutils] Audacity-1.3.0b fails to compile due to ld/BFD internal error: elf_link_output_extsym


Summary:
[binutils] Audacity-1.3.0b fails to compile due to ld/BFD internal error: elf...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Toolchain Maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-06-09 13:56 UTC by Steven Altermatt





      Modified:
    
2006-06-17 13:52 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



gent_bz









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




This part of my log from the failed emerge of audacity-1.3.0b

              (partial audacity-1.3.0b.log,13.77 KB,
                text/plain)

            
2006-06-09 14:01 UTC,

            Steven Altermatt




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Steven Altermatt





          2006-06-09 13:56:32 UTC
        

During a emerge -uDav world there was an update for audacity, but it failed with the following: /usr/lib/gcc/i686-pc-linux-gnu/4.1.1/../../../../i686-pc-linux-gnu/bin/ld: BFD 2.16.1 internal error, aborting at /var/tmp/portage/binutils-2.16.1-r2/work/binutils-2.16.1/bfd/elflink.c line 6536 in elf_link_output_extsym

/usr/lib/gcc/i686-pc-linux-gnu/4.1.1/../../../../i686-pc-linux-gnu/bin/ld: Please report this bug.

I checked the reported bugs did not find one like it. I also tried the ebuild and patch found in bug #124120 but the result was the same. I also tried with MAKEOPTS="-j1" as I found another bug with that solution, but it also returned the same error. I had just updated my toolchain and did an -e system and -e world  about two weeks ago and audacity-1.2.4b-r1 emerged just fine. Also I thought perhaps it might be my LDFLAGS, but same result without them.

Steven Altermatt


Gentoo Base System version 1.6.14
Portage 2.0.54-r2 (default-linux/x86/2006.0, gcc-4.1.1, glibc-2.4-r3, 2.6.16-gentoo-r8 i686)
=================================================================
System uname: 2.6.16-gentoo-r8 i686 Intel(R) Pentium(R) 4 CPU 2.40GHz
dev-lang/python:     2.4.2
dev-python/pycrypto: [Not Present]
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1-r2
sys-devel/gcc-config: 2.0.0_rc1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=pentium4 -mtune=pentium4 -pipe -O2 -frename-registers -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/lib/X11/xkb /usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-march=pentium4 -mtune=pentium4 -pipe -O2 -frename-registers -fomit-frame-pointer -fvisibility-inlines-hidden"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://mirror.datapipe.net/gentoo http://mirror.datapipe.net/gentoo ftp://gentoo.ccccom.com http://gentoo.seren.com/gentoo ftp://ftp.snt.utwente.nl/pub/os/linux/gentoo"
LDFLAGS="-Wl,-O1 -Wl,--sort-common"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="16bit X aac aalib acpi activefilter alsa apache2 apm arts audiofile avi berkdb bitmap-fonts browserplugin bzip2 cdb cdda cddb cdparanoia cdr cli crypt cups curl dbus dga directfb divx4linux doc dri eds emboss encode escreen esd exif expat fam fbdev ffmpeg fftw flac foomaticdb fortran gd gdbm gif giff gimp gimp-print gimpprint glut glx gmp gnome gpm gstream gstreamer gtk gtk2 imagemagick imlib ipv6 isdnlog jack java jpeg ladcca lcms lesstif libao libcacalibwww libedit libg++ libwww live lm_sensors mad mikmod miknod mime mmx mmxext mng motif mp3 mpeg mpeg2 mpeg4 mplayer multiprocess nas ncurses network nls nptl nptlonly nsplugin nvidia ogg openal opengl oss pam pcre pdflib perl pic png ppds pppd python qt quicktime readline real recode reflection reiserfs rtc scanner sdl session seti sftp smp sndfile sockets sox spell spl sse sse-filters sse2 ssl svga svgalib sysfs tcltk tcpd tetex tga threads tiff truetype truetype-fonts type1-fonts udev unicode usb userlocales vidix vorbis win32codecs wmf wxwindows x86 xanim xml xml2 xmms xorg xpm xrandr xscreensaver xv xvid xvmc zlib userland_GNU kernel_linux elibc_glibc"
Unset:  CTARGET, INSTALL_MASK, LANG, LC_ALL, LINGUAS, PORTAGE_RSYNC_EXTRA_OPTS, PORTAGE_RSYNC_OPTS




Comment 1


Steven Altermatt





          2006-06-09 14:01:57 UTC
        

Created attachment 88794 [details]
This part of my log from the failed emerge of audacity-1.3.0b




Comment 2


SpanKY






          2006-06-10 02:37:02 UTC
        

try re-emerging it with CFLAGS="-pipe" and LDFLAGS=""




Comment 3


Steven Altermatt





          2006-06-10 07:12:34 UTC
        

(In reply to comment #2)
> try re-emerging it with CFLAGS="-pipe" and LDFLAGS=""
> 

I tried that but the result was the same, same error.Thanks anyhow.




Comment 4


gent_bz





          2006-06-11 18:12:48 UTC
        

From another bug somewhere, I believe the solution is that wxGTK needs to be built with LDFLAGS="" or binutils bumped to a newer (masked) version.




Comment 5


Steven Altermatt





          2006-06-12 04:05:52 UTC
        

(In reply to comment #4)
> From another bug somewhere, I believe the solution is that wxGTK needs to be
> built with LDFLAGS="" or binutils bumped to a newer (masked) version.
> 

I emerged wxGtk as per your suggestion and them emerged audacity with my usual make.conf settings and it completed without errors. So that worked for me. Thanks a lot.

Steven Altermatt




Comment 6


SpanKY






          2006-06-17 13:52:55 UTC
        

sounds good









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

