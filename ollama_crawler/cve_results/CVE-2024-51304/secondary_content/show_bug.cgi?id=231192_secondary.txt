Title: 231192 – openoffice-bin-2.4.1 crashes if launched from gnome-panel
URL: https://bugs.gentoo.org/show_bug.cgi?id=231192

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 231192
openoffice-bin-2.4.1 crashes if launched from gnome-panel
Last modified: 2008-09-15 06:42:37 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 231192 
      - openoffice-bin-2.4.1 crashes if launched from gnome-panel


Summary:
openoffice-bin-2.4.1 crashes if launched from gnome-panel
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Office Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-07-08 16:08 UTC by Marcello Magaldi





      Modified:
    
2008-09-15 06:42 UTC
      (History)
    




          CC List:
        

4 
          users
          
            (show)
          



derek
dsitsolutions
gnome
magowiz









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Marcello Magaldi





          2008-07-08 16:08:17 UTC
        

If I launch oowriter or other ooffice apps it crashes only if I launch it from gnome panel , If I launch oowriter within a gnome-terminal (in a gnome session) it works like a charm 

Reproducible: Always

Steps to Reproduce:
1.Applications->Office->Openoffice Writer
2.
3.




emerge --info
Portage 2.1.4.4 (default/linux/x86/2008.0/desktop, gcc-4.1.2, glibc-2.6.1-r0, 2.6.24-tuxonice-r9 i686)
=================================================================
System uname: 2.6.24-tuxonice-r9 i686 Intel(R) Pentium(R) 4 CPU 3.00GHz
Timestamp of tree: Tue, 08 Jul 2008 07:45:01 +0000
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [enabled]
ccache version 2.4 [enabled]
app-shells/bash:     3.2_p33
dev-java/java-config: 1.3.7, 2.1.6
dev-lang/python:     2.4.4-r13
dev-python/pycrypto: 2.0.1-r6
dev-util/ccache:     2.4-r7
sys-apps/baselayout: 1.12.11.1
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.61-r2
sys-devel/automake:  1.4_p6, 1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.1
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.23-r3
ACCEPT_KEYWORDS="x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-Os -march=pentium4 -pipe -mfpmath=sse -msse2 -msse3 -mmmx"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/splash /etc/terminfo /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-Os -march=pentium4 -pipe -mfpmath=sse -msse2 -msse3 -mmmx"
DISTDIR="/usr/portage/distfiles"
FEATURES="ccache distcc metadata-transfer parallell-fetch sandbox sfperms strict unmerge-orphans userfetch usersandbox"
GENTOO_MIRRORS="http://ftp.uni-erlangen.de/pub/mirrors/gentoo http://mirror.ing.unibo.it/gentoo/ http://mirror.ovh.net/gentoo-distfiles/"
LANG="it_IT@euro"
LC_ALL="it_IT.UTF-8"
LINGUAS="it"
MAKEOPTS="-j8"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portage/local/layman/sunrise /usr/portage/local/layman/initng /usr/portage/local/layman/desktop-effects /usr/portage/local/layman/mpd /usr/portage/local/layman/synce /usr/local/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="X Xaw3d a52 aac aalib acl acpi aim alsa amr amrnb amrwb apache2 apm arts asp aspnet audiofile autoipd avahi avi bash-completion beagle berkdb bitmap-fonts bluetooth bonobo boo branding bzip2 c++ cairo caps cdparanoia cdr cli cracklib crypt css cups curl cxx dba dbus devhelp directfb divx4linux dri dts dvd dvdnav dvdr dvdread eds emboss encode esd evo examples exif fam fbcon ffmpeg firefox flac foomaticdb fortran ftp galago gcj gdbm gif gimp glade glitz gnome gnustep gpm gstreamer gtk gtk2 guile hal howl iconv icq id3tag imagemagick imap imlib ipv6 irda isdnlog jabber jack java javascript jpeg junit kde kerberos latex ldap libg++ libnotify libwww lisa live lzo mad matroska md5sum midi mikmod mime mjpeg mmx mmx2 mono motif mp2 mp3 mpeg msn mudflap musepack mysql nas ncurses nls nptl nptlonly nsplugin obex objc odbc offensive ogg oggvorbis openal opengl openmp oscar oss pam pcmcia pcre pda pdf pdflib perl php png pnm pnp portaudio posix ppds pppd python qt qt3 qt3support qt4 quicktime rar readline real reflection samba scanner sdl sensord session shorten slang sndfile sockets sourceview speex spell spl sqlite sqlite3 srt sse sse2 ssl ssse3 startup-notification subversion svg svga tcltk tcpd tetex theora threads thunderbird tidy tiff tk totem truetype truetype-fonts type1-fonts unicode usb userlocales utf v4l v4l2 valgrind vcd videos vorbis wifi win32codecs wxgtk1 wxwindows x264 x86 xanim xcomposite xine xml xml2 xorg xpm xv xvid yahoo zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1 emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic auth_digest authn_anon authn_dbd authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock dbd deflate dir disk_cache env expires ext_filter file_cache filter headers ident imagemap include info log_config logio mem_cache mime mime_magic negotiation proxy proxy_ajp proxy_balancer proxy_connect proxy_http rewrite setenvif so speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INITNG_PLUGINS="service_file also bash_launcher chdir chroot conflict cpout critical ctrlaltdel daemon_clean debug_commands envparser find fmon fstat history idleprobe initctl interactive iparser last limit lockfile logfile netdev netprobe ngc4 ngcs nge pause provide reload renice rlparser simple_launcher stcmd stdout suid syncron syslog sysreq unneeded usplash" INPUT_DEVICES="keyboard mouse synaptics evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="it" USERLAND="GNU" VIDEO_CARDS="radeon fbdev"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LDFLAGS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS

# emerge -pv openoffice-bin

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild   R   ] app-office/openoffice-bin-2.4.1  USE="gnome java kde" LINGUAS="it -af -as_IN -be_BY -bg -br -bs -ca -cs -da -de -dz -el -en -en_GB -en_ZA -es -et -fi -fr -ga -gl -gu -he -hi_IN -hr -hu -ja -ka -km -ko -lt -mk -ml_IN -mr_IN -nb -ne -nl -nn -nr -ns -or_IN -pa_IN -pl -pt -rw -sh -sk -sl -sr -ss -st -sv -sw_TZ -ta -te_IN -tg -th -ti_ER -tr -ts -uk -ur_IN -ve -vi -xh -zh_CN -zh_TW -zu" 0 kB




Comment 1


Marcello Magaldi





          2008-07-08 16:10:18 UTC
        

I noticed this if I launch with the same arguments of oowriter.desktop file : 
$ oowriter %U
libGL warning: 3D driver claims to not support visual 0x4b

(soffice:18234): GLib-GObject-WARNING **: g_type_instance_get_private() requires a prior call to g_type_class_add_private()
/usr/bin/soffice: line 254: 18234 Segmentation fault      "$sd_prog/$sd_binary" "$@"





Comment 2


Marcello Magaldi





          2008-07-08 16:14:53 UTC
        

I tried also from kde, it works like a charm also if launched from kde menu.




Comment 3


Gilles Dartiguelongue (RETIRED)






          2008-07-08 16:59:19 UTC
        

My launcher has this:

ooffice -writer %U

and it works like a charm... this is with 2.4.1 on ~amd64.




Comment 4


Marcello Magaldi





          2008-07-08 17:06:22 UTC
        

(In reply to comment #3)
> My launcher has this:
> 
> ooffice -writer %U
> 
> and it works like a charm... this is with 2.4.1 on ~amd64.
> 

sorry I made a mistake, also my launcher is like yours : "ooffice -writer %U" , also with this command line my oo.o-bin crashes .




Comment 5


Marcello Magaldi





          2008-07-09 08:03:54 UTC
        

(In reply to comment #4)
> (In reply to comment #3)
> > My launcher has this:
> > 
> > ooffice -writer %U
> > 
> > and it works like a charm... this is with 2.4.1 on ~amd64.
> > 
> 
> sorry I made a mistake, also my launcher is like yours : "ooffice -writer %U" ,
> also with this command line my oo.o-bin crashes .
> 

I tried with openoffice (not the bin package) and it works so I think it is only a bin package issue.




Comment 6


ds





          2008-07-12 16:30:05 UTC
        

I am having the same problem with the openoffice-bin-2.4.1 package.  When I attempt to open the software from the gnome menu, or by double-clicking on an opendocument file in Nautilus it shows the splash screen, pops up a dialog asking me if I want to recover the file "untitled1" then crashes before I have a chance to click on anything.  

If I open gnome terminal and type ooffice it starts fine.  

Here is my emerge --info

htpc ~ # emerge --info
Portage 2.1.4.4 (default-linux/x86/2007.0/desktop, gcc-4.1.2, glibc-2.6.1-r0, 2.6.23-gentoo-r9 i686)
=================================================================
System uname: 2.6.23-gentoo-r9 i686 Intel(R) Pentium(R) 4 CPU 2.40GHz
Timestamp of tree: Sat, 12 Jul 2008 08:17:01 +0000
app-shells/bash:     3.2_p33
dev-java/java-config: 1.3.7, 2.1.6
dev-lang/python:     2.4.4-r13
dev-python/pycrypto: 2.0.1-r6
sys-apps/baselayout: 1.12.11.1
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.61-r2
sys-devel/automake:  1.5, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.1
sys-devel/binutils:  2.18-r3
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.23-r3
ACCEPT_KEYWORDS="x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=i686 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/revdep-rebuild /etc/terminfo /etc/udev/rules.d"
CXXFLAGS="-O2 -march=i686 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="distlocks metadata-transfer sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://gentoo.osuosl.org/ ftp://ftp.ucsb.edu/pub/mirrors/linux/gentoo/ "
LINGUAS="en"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://192.168.0.2/gentoo-portage"
USE="X a52 aac acpi alsa avahi berkdb bidi branding cairo cdda cdio cracklib crypt cups dbus dga doc dri dts dv dvd eds encode evo examples fam ffmpeg firefox flac fortran freetype gdbm gif gnome gnutls gpm gstreamer gtk hal httpd imagemagick java jpeg lirc live mad matroska midi mmx mp3 mpeg mudflap ncurses nls nptl nptlonly nsplugin offensive ogg oggvorbis opengl pam pcre pdf perl png python quicktime readline samba sdl session spell sse sse2 ssl stream svg svga theora tiff truetype unicode v4l v4l2 vcd vlm vorbis win32codecs wxwindows x86 xml xorg xv zlib" ALSA_CARDS="intel8x0" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" ELIBC="glibc" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LINGUAS="en" LIRC_DEVICES="atiusb" USERLAND="GNU" VIDEO_CARDS="nvidia"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY





Comment 7


ds





          2008-07-12 16:39:39 UTC
        

(In reply to comment #6)
> I am having the same problem with the openoffice-bin-2.4.1 package.  

Just FYI, I've downgraded back to openoffice-bin-2.4.0 and the problem has gone away.  So this problem is specific to the 2.4.1 binary package.




Comment 8


Daniel Gryniewicz (RETIRED)






          2008-07-17 18:53:20 UTC
        

oo-bin 2.4.1 works fine here.  I have amd64.  I use it pretty frequently for work.




Comment 9


Marcello Magaldi





          2008-08-20 10:10:55 UTC
        

I recently (2 days ago) switched again from openoffice to openoffice-bin (I switched from oo-bin to oo previously because this bug) and now it works.
I really don't know why since there was a lot of system updates in the meantime (like some xorg drivers,python, gnome and so on ) since I update my system frequently, and I wasn't able to have stacktrace information since I can compile with debug useflag only oo (not bin) and with oo from source I never had problems.

Anyway I'll mark this bug like RESOLVED WORKSFORME, I don't know if I'm doing the right thing in this case (anyway if I'm wrong you should always change resolution or reopen this bug) 




Comment 10


Derek Scherger





          2008-09-15 02:59:14 UTC
        

It crashes for me regardless of whether I launch from the panel or a terminal and it seems that the 2.4.0 ebuild has been removed which is probably a bit aggressive. Would it not be a reasonable policy to keep at least one old version around in case things go bad with newer versions?

I too use this for work and at the moment I'm basically screwed!

I'm "using" openoffice-2.4.1-bin at the moment. I guess I'll be trying the non-bin version to see if that's any better. The only other option sI have are the 3.0rc1 build or a non-portage manual download and install.




Comment 11


Derek Scherger





          2008-09-15 03:11:39 UTC
        

this is possibly related to bug 228703

Attempting to run with LANG=en_CA.utf8 fails
Running with LANG=en_CAN seems to be ok.






Comment 12


Andreas Proschofsky (RETIRED)






          2008-09-15 06:42:37 UTC
        

(In reply to comment #10)
> It crashes for me regardless of whether I launch from the panel or a terminal
> and it seems that the 2.4.0 ebuild has been removed which is probably a bit
> aggressive. Would it not be a reasonable policy to keep at least one old
> version around in case things go bad with newer versions?

The 2.4.0 is gone for security reasons, we don't keep vulnerable versions around









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

