Title: 90039 – Compilations with gcc v3.3.5 require libstdc++.la from gcc-v3.3.4
URL: https://bugs.gentoo.org/show_bug.cgi?id=90039

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 90039
Compilations with gcc v3.3.5 require libstdc++.la from gcc-v3.3.4
Last modified: 2005-05-19 10:51:36 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 90039 
      - Compilations with gcc v3.3.5 require libstdc++.la from gcc-v3.3.4


Summary:
Compilations with gcc v3.3.5 require libstdc++.la from gcc-v3.3.4
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Development

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Toolchain Maintainers








URL:







Whiteboard:




Keywords:









Duplicates (2):
    

92961 93184

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2005-04-22 08:23 UTC by Vincenzo Romano





      Modified:
    
2005-05-19 10:51 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



hdias
ork









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge --info output

              (emerge--info.txt,2.28 KB,
                text/plain)

            
2005-04-22 08:25 UTC,

            Vincenzo Romano




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Vincenzo Romano





          2005-04-22 08:23:16 UTC
        

At the moment at least one ebuild fails: kdelibs-3.3.2-r8. But I'm sure more could fail.
I'm going to attach also my emerge --info details.


Reproducible: Always
Steps to Reproduce:
1. emerge -u =kdelibs-3.3.2-r8

Actual Results:  
The compilation stops with errors like:
...
/bin/sh ../libtool --silent --mode=link --tag=CXX i686-pc-linux-gnu-g++ 
-Wnon-virtual-dtor -Wno-long-long -Wundef -ansi -D_XOPEN_SOURCE=500
-D_BSD_SOURCE -Wcast-align -Wconversion -Wchar-subscripts -Wall -W
-Wpointer-arith -Wwrite-strings -DNDEBUG -DNO_DEBUG -O2 -O3 -march=pentium4
-fomit-frame-pointer -pipe -Wformat-security -Wmissing-format-attribute
-fno-exceptions -fno-check-new -fno-common  -DQT_CLEAN_NAMESPACE
-DQT_NO_ASCII_CAST -DQT_NO_STL -DQT_NO_COMPAT -DQT_NO_TRANSLATION -fexceptions 
 -o kimg_tiff.la -rpath /usr/kde/3.3/lib/kde3 -module -avoid-version
-export-symbols-regex 'kimgio_.*_(read|write)' -no-undefined -Wl,--no-undefined
-Wl,--allow-shlib-undefined -L/usr/lib -L/usr/qt/3/lib -L/usr/kde/3.3/lib 
tiffr.lo -ltiff -ljpeg -lz -lqt-mt  -lz -lpng -lz -lm -lXext -lX11  -lSM -lICE
-lpthread
grep: /usr/lib/gcc-lib/i686-pc-linux-gnu/3.3.4/libstdc++.la: No such file or
directory
/bin/sed: can't read /usr/lib/gcc-lib/i686-pc-linux-gnu/3.3.4/libstdc++.la: No
such file or directory
libtool: link: `/usr/lib/gcc-lib/i686-pc-linux-gnu/3.3.4/libstdc++.la' is not a
valid libtool archive
make[2]: *** [kimg_tiff.la] Error 1
make[2]: *** Waiting for unfinished jobs....
make[2]: Leaving directory
`/var/tmp/portage/kdelibs-3.3.2-r8/work/kdelibs-3.3.2/kimgio'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/kdelibs-3.3.2-r8/work/kdelibs-3.3.2'
make: *** [all] Error 2

!!! ERROR: kde-base/kdelibs-3.3.2-r8 failed.
!!! Function kde_src_compile, Line 166, Exitcode 2
!!! died running emake, kde_src_compile:make
!!! If you need support, post the topmost build error, NOT this status message.


Expected Results:  
A clean compilation or, at least, no dependency with older compiler libraries.




Comment 1


Vincenzo Romano





          2005-04-22 08:25:18 UTC
        

Created attachment 56926 [details]
emerge --info output




Comment 2


Carsten Lohrke (RETIRED)






          2005-04-22 08:38:52 UTC
        

try `fix_libtool_files.sh 3.3.4`




Comment 3


SpanKY






          2005-04-22 21:46:55 UTC
        

what he said




Comment 4


Carsten Lohrke (RETIRED)






          2005-05-17 12:04:47 UTC
        

*** Bug 92961 has been marked as a duplicate of this bug. ***




Comment 5


Carsten Lohrke (RETIRED)






          2005-05-19 04:24:41 UTC
        

*** Bug 93184 has been marked as a duplicate of this bug. ***




Comment 6


Henrique Dias





          2005-05-19 10:51:36 UTC
        

To compile media-libs/tiff-3.7.2

this solve the problem:

# fix_libtool_files.sh 3.3.4











Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

