Title: 81371 – kdeaddons-3.3.2 build fails due to undefined reference in libatlantikui.so
URL: https://bugs.gentoo.org/show_bug.cgi?id=81371

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 81371
kdeaddons-3.3.2 build fails due to undefined reference in libatlantikui.so
Last modified: 2005-02-12 10:37:56 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 81371 
      - kdeaddons-3.3.2 build fails due to undefined reference in libatlantikui.so


Summary:
kdeaddons-3.3.2 build fails due to undefined reference in libatlantikui.so
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-02-09 07:20 UTC by Peter





      Modified:
    
2005-02-12 10:37 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Peter





          2005-02-09 07:20:33 UTC
        

When emerging kdeaddons-3.3.2 build fails:


/bin/sh ../../libtool --silent --mode=link --tag=CXX i686-pc-linux-gnu-g++  -Wnon-virtual-dtor -Wno-long-long -Wundef -ansi -D_XOPEN_SOURCE=500 -D_BSD_SOURCE -Wcast-align -Wconversion -Wchar-subscripts -Wall -W -Wpointer-arith -Wwrite-strings -DNDEBUG -DNO_DEBUG -O2 -O2 -mcpu=i686 -pipe -Wformat-security -Wmissing-format-attribute -fno-exceptions -fno-check-new -fno-common -DQT_CLEAN_NAMESPACE -DQT_NO_ASCII_CAST -DQT_NO_STL -DQT_NO_COMPAT -DQT_NO_TRANSLATION  -L/usr/lib -L/usr/qt/3/lib -L/usr/kde/3.3/lib  -R /usr/kde/3.3/lib -R /usr/qt/3/lib -R /usr/lib  -o atlantikdesigner  boardinfo.o designer.o editor.o main.o group.o -latlantikui -lkdegames -lkio
/usr/kde/3.3/lib/libatlantikui.so: undefined reference to `QWidget::icHolderWidget()'
collect2: ld returned 1 exit status
distcc[1660] ERROR: compile (null) on localhost failed
make[4]: *** [atlantikdesigner] Error 1
make[4]: Leaving directory `/var/tmp/portage/kdeaddons-3.3.2/work/kdeaddons-3.3.2/atlantikdesigner/designer'
make[3]: *** [all-recursive] Error 1
make[3]: Leaving directory `/var/tmp/portage/kdeaddons-3.3.2/work/kdeaddons-3.3.2/atlantikdesigner/designer'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/var/tmp/portage/kdeaddons-3.3.2/work/kdeaddons-3.3.2/atlantikdesigner'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/kdeaddons-3.3.2/work/kdeaddons-3.3.2'
make: *** [all] Error 2

emerge info
Portage 2.0.51-r15 (default-linux/x86/2004.3, gcc-3.4.3, glibc-2.3.4.20041102-r0, 2.6.10-gentoo-r7 i686)
=================================================================
System uname: 2.6.10-gentoo-r7 i686 Pentium III (Katmai)
Gentoo Base System version 1.6.9
Python:              dev-lang/python-2.3.4 [2.3.4 (#1, Sep 14 2004, 23:54:44)]
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [enabled]
ccache version 2.3 [enabled]
dev-lang/python:     2.3.4
sys-devel/autoconf:  2.59-r6, 2.13
sys-devel/automake:  1.7.9-r1, 1.8.5-r3, 1.5, 1.4_p6, 1.6.3, 1.9.4
sys-devel/binutils:  2.15.92.0.2-r2
sys-devel/libtool:   1.5.10-r4
virtual/os-headers:  2.6.8.1-r2
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CFLAGS="-march=pentium3 -O3 -pipe -fomit-frame-pointer -ffast-math -mmmx -msse"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.3/env /usr/kde/3.3/share/config /usr/kde/3.3/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -mcpu=i686 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig ccache distcc distlocks sandbox sfperms"
GENTOO_MIRRORS="ftp://mirror.nutsmaas.nl/gentoo/ http://ftp-mirror.internap.com/pub/gentoo/ http://mirror.datapipe.net/gentoo http://mirror.datapipe.net/gentoo"
MAKEOPTS="-j5"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://192.168.1.3/portage"
USE="x86 X acl alsa apm arts avi berkdb bitmap-fonts bzlib chroot crypt cscope cups encode esd f77 fam flac font-server foomaticdb fortran ftp gdbm gif gpm gtk2 imlib innodb ithreads java jikes jit jpeg junit kde libg++ libwww mad md5sum mikmod mmx motif mpeg mysql ncurses nls nptl nptlonly odbc oggvorbis opengl oss pam pcre pdflib perl png python qt quicktime readline sasl sdl sftplogging skey slang slp speex spell sqlite sse ssl svga tcpd tiff truetype truetype-fonts type1-fonts xml xml2 xmms xv zlib"
Unset:  ASFLAGS, CBUILD, CTARGET, LANG, LC_ALL, LDFLAGS

I tried this last emerge disabling all applicable USE flags.
I've remerged all packages that kdeaddons is dependent on already. fix_libtool_files.sh finds no static linking with kde libraries.

Reproducible: Always
Steps to Reproduce:
1. USE="-arts -esd -sdl -svga -xmms" emerge kdeaddons




Comment 1


Peter





          2005-02-09 10:25:53 UTC
        

After doing:

emerge --nodeps kde-base/kdetoys kde-base/kdenetwork kde-base/kdegames kde-base/kdeedu kde-base/kde

building kdeaddons was successful so there appears to be a problem with either circular dependancies or the order in which the kde-base components that make up the kde package is not correct.




Comment 2


Gregorio Guidi (RETIRED)






          2005-02-12 10:37:56 UTC
        

It's not clear what caused this bug... closing until someone finds a way to 
reproduce it.










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

