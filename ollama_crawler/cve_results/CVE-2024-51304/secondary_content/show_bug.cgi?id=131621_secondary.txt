Title: 131621 – gcc 4.1 fails to build boehm-gc-6.5
URL: https://bugs.gentoo.org/show_bug.cgi?id=131621

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 131621
gcc 4.1 fails to build boehm-gc-6.5
Last modified: 2006-09-02 05:55:11 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 131621 
      - gcc 4.1 fails to build boehm-gc-6.5


Summary:
gcc 4.1 fails to build boehm-gc-6.5
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       major
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:









Duplicates (1):
    

145983

      (view as bug list)
    


Depends on:







Blocks:









 





      Reported:
    
2006-04-28 16:03 UTC by Kristian Gavran





      Modified:
    
2006-09-02 05:55 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



mail
tbscope









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Kristian Gavran





          2006-04-28 16:03:54 UTC
        

cannot emerge boehm-gc with gcc 4.1, emerge quit before the package is build successfully.

### error message:

i686-pc-linux-gnu-g++ -DPACKAGE_NAME=\"gc\" -DPACKAGE_TARNAME=\"gc\" -DPACKAGE_VERSION=\"6.5\" "-DPACKAGE_STRING=\
"gc 6.5\"" -DPACKAGE_BUGREPORT=\"Hans.Boehm@hp.com\" -DGC_VERSION_MAJOR=6 -DGC_VERSION_MINOR=5 -DPACKAGE=\"gc\" -D
VERSION=\"6.5\" -DSTDC_HEADERS=1 -DHAVE_SYS_TYPES_H=1 -DHAVE_SYS_STAT_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STRING_H=1 -DHA
VE_MEMORY_H=1 -DHAVE_STRINGS_H=1 -DHAVE_INTTYPES_H=1 -DHAVE_STDINT_H=1 -DHAVE_UNISTD_H=1 -DHAVE_DLFCN_H=1 -DSILENT
=1 -DNO_SIGNALS=1 -DNO_EXECUTE_PERMISSION=1 -DALL_INTERIOR_POINTERS=1 -DJAVA_FINALIZATION=1 -DGC_GCJ_SUPPORT=1 -DA
TOMIC_UNCOLLECTABLE=1 -I. -I. -I./include -fexceptions -march=pentium3 -O2 -fomit-frame-pointer -fno-ident -pipe -
MT gc_cpp.lo -MD -MP -MF .deps/gc_cpp.Tpo -c gc_cpp.cc  -fPIC -DPIC -o .libs/gc_cpp.lo
i686-pc-linux-gnu-gcc -DPACKAGE_NAME=\"gc\" -DPACKAGE_TARNAME=\"gc\" -DPACKAGE_VERSION=\"6.5\" "-DPACKAGE_STRING=\
"gc 6.5\"" -DPACKAGE_BUGREPORT=\"Hans.Boehm@hp.com\" -DGC_VERSION_MAJOR=6 -DGC_VERSION_MINOR=5 -DPACKAGE=\"gc\" -D
VERSION=\"6.5\" -DSTDC_HEADERS=1 -DHAVE_SYS_TYPES_H=1 -DHAVE_SYS_STAT_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STRING_H=1 -DHA
VE_MEMORY_H=1 -DHAVE_STRINGS_H=1 -DHAVE_INTTYPES_H=1 -DHAVE_STDINT_H=1 -DHAVE_UNISTD_H=1 -DHAVE_DLFCN_H=1 -DSILENT
=1 -DNO_SIGNALS=1 -DNO_EXECUTE_PERMISSION=1 -DALL_INTERIOR_POINTERS=1 -DJAVA_FINALIZATION=1 -DGC_GCJ_SUPPORT=1 -DA
TOMIC_UNCOLLECTABLE=1 -I./include -fexceptions -march=pentium3 -O2 -fomit-frame-pointer -fno-ident -pipe -fexcepti
ons -MT mach_dep.lo -MD -MP -MF .deps/mach_dep.Tpo -c mach_dep.c -o mach_dep.o >/dev/null 2>&1
./include/gc_cpp.h:183: error: extra qualification 'gc::' on member 'operator delete []'
make[1]: *** [gc_cpp.lo] Error 1
make[1]: *** Waiting for unfinished jobs....
mv -f .libs/mach_dep.lo mach_dep.lo
make[1]: Leaving directory `/portage/tmp/portage/boehm-gc-6.5/work/gc6.5'
make: *** [all-recursive] Error 1

!!! ERROR: dev-libs/boehm-gc-6.5 failed.
Call stack:
  ebuild.sh, line 1525:   Called dyn_compile
  ebuild.sh, line 928:   Called src_compile
  boehm-gc-6.5.ebuild, line 43:   Called die

!!! (no error message)
!!! If you need support, post the topmost build error, and the call stack if relevant.



### emerge --info:

Portage 2.1_pre9-r5 (!/usr/portage/profiles/default-linux/x86/2006.0, gcc-4.1.0, glibc-2.3.6-r3, 2.6.16-gentoo-r3-kris i686)
=================================================================
System uname: 2.6.16-gentoo-r3-kris i686 Pentium III (Coppermine)
Gentoo Base System version 1.6.14
ccache version 2.3 [enabled]
dev-lang/python:     2.4.2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.92
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=pentium3 -O2 -fomit-frame-pointer -fno-ident -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/kde/3/share                                     /config /usr/share/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/eselect/compiler /etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-march=pentium3 -O2 -fomit-frame-pointer -fno-ident -pipe"
DISTDIR="/portage/distfiles"
FEATURES="autoconfig ccache distlocks metadata-transfer nodoc noinfo sandbox sfperms strict"
GENTOO_MIRRORS="http://gentoo.mirror.solnet.ch/ http://distfiles.gentoo.org http://www.ibiblio.org/pub/Linux/distributions/gen                                     too"
LDFLAGS="-Wl,-O1 -Wl,--sort-common"
LINGUAS="en de"
MAKEOPTS="-j2"
PKGDIR="/portage/packages"
PORTAGE_TMPDIR="/portage/tmp"
PORTDIR="/portage/portage"
PORTDIR_OVERLAY="/portage/overlay"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="x86 X alsa apache2 apm asf avi bitmap-fonts cairo cli crypt dri eds emboss foomaticdb gif gstreamer gtk gtk2 imlib isdnlo                                     g java jpeg kde kdeenablefinal libg++ libwww mikmod mmx motif mp3 mpeg ncurses nptl nptlonly opengl pcre pdflib perl png pppd                                      python qt quicktime readline reflection samba session spl sse ssl tcpd tiff truetype truetype-fonts type1-fonts udev win32code                                     cs xinerama xml xmms xorg xv zlib elibc_glibc input_devices_keyboard input_devices_mouse kernel_linux linguas_en linguas_de us                                     erland_GNU video_cards_radeon video_cards_i810 video_cards_ati"
Unset:  ASFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL




Comment 1


Jakub Moc (RETIRED)






          2006-04-28 16:07:29 UTC
        

Reopen if you can reproduce the problem w/ 6.7




Comment 2


Elias Probst





          2006-06-07 23:32:59 UTC
        

Confirmation:
6.7 works on gcc-4.1.1, 6.5 didn't.




Comment 3


Pablo Yanez Trujillo





          2006-09-01 13:51:33 UTC
        

I wanted to make a bug report for the same bug. I compiled it with the old gcc (3.4.6) and this gcc was able to compile boehm-gc-6.5. It seems to be a gcc-4.1.1 issue




Comment 4


Jakub Moc (RETIRED)






          2006-09-02 05:55:11 UTC
        

*** Bug 145983 has been marked as a duplicate of this bug. ***









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

