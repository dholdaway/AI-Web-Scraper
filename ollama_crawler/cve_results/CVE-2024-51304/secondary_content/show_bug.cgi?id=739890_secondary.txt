Title: 739890 – Plasma desktop media control: Missing mpris support
URL: https://bugs.gentoo.org/show_bug.cgi?id=739890

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 739890
Plasma desktop media control: Missing mpris support
Last modified: 2020-09-03 20:50:39 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 739890 
      - Plasma desktop media control: Missing mpris support


Summary:
Plasma desktop media control: Missing mpris support
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2020-09-01 13:56 UTC by gerion





      Modified:
    
2020-09-03 20:50 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


gerion





          2020-09-01 13:56:45 UTC
        

When using an audioplayer, often MPRIS (https://specifications.freedesktop.org/mpris-spec/latest/) can be used. Theoretically, KDE Plasma should have support for it. However, on my system the media control plasmoid(?) says: No song playing, while a song is playing.

I tried to find the problem but got not very far:
- The media control plasmoid/widget (I don't know the correct name, in German the panel is called: "Mediawiedergabe") in the system tray always shows: "There are no playing media." (actually it says: "Es werden keine Medien wiedergegeben.")
- The hotkeys on my keyboard for media controls are correctly mapped within the system settings but have no effect.
- My audio player (Strawberry) supports MPRIS. I can control the player correctly with playerctl (https://github.com/altdesktop/playerctl)
- KDE connect recognizes the playing track. Ironically, this means, that I can pause the music with my smartphone with one click but not with my keyboard hotkey.

I'm not sure, what I can do to find the error. I also have an OpenSUSE and there the media controls work with KDE therefore I am reporting this here. Maybe I have only missed to install the correct package.

Additional information:
I'm not using PulseAudio but Jack/ALSA, but that should not be relevant to this issue.
My KDE Plasma version is: 5.19.4, frameworks: 5.73.0




Comment 1


Andreas Sturmlechner






          2020-09-02 10:45:38 UTC
        

MPRIS works for me, but it could also be a bug with your player. Please try with a different one, and make sure that dbus is running.




Comment 2


gerion





          2020-09-02 10:59:41 UTC
        

I have already tested with two different players (Strawberry and mpv with mpv-mpris plugin), both work with playerctl. Also these commands work exactly as expected:
```
qdbus org.mpris.MediaPlayer2.strawberry /org/mpris/MediaPlayer2 org.mpris.MediaPlayer2.Player.PlayPause
qdbus org.mpris.MediaPlayer2.strawberry /org/mpris/MediaPlayer2 org.mpris.MediaPlayer2.Player.PlaybackStatus
```

playerctl also detects Strawberry and mpv via MPRIS/Dbus. I'm pretty sure, KDE connect also uses MPRIS and this works as well.




Comment 3


Andreas Sturmlechner






          2020-09-02 12:53:15 UTC
        

Please upgrade to 5.19.5 then.




Comment 4


gerion





          2020-09-02 23:44:00 UTC
        

I have done that. It shows the exact same behaviour.




Comment 5


gerion





          2020-09-03 20:50:39 UTC
        

I tried to debug this further and remerged plasma-workspace with debug useflag and the error was gone magically. I have remerged _without_ debug useflag then and logged out and in again and it seems to work now. I'm not sure why but will close this bug for now. Will reopen, if it won't persist. Thanks anyway.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

