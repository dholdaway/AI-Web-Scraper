Title: 284615 – akonadi-server-1.2.1 ebuild fails to built target akonadiprivate
URL: https://bugs.gentoo.org/show_bug.cgi?id=284615

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 284615
akonadi-server-1.2.1 ebuild fails to built target akonadiprivate
Last modified: 2010-06-04 21:23:50 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 284615 
      - akonadi-server-1.2.1 ebuild fails to built target akonadiprivate


Summary:
akonadi-server-1.2.1 ebuild fails to built target akonadiprivate
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-09-11 16:01 UTC by Robert Swan





      Modified:
    
2010-06-04 21:23 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---








Flags:

tampakrap:
      Bugday+



















      Attachments
    




build.log

              (build.log,31.27 KB,
                text/plain)

            
2009-09-11 16:01 UTC,

            Robert Swan




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Robert Swan





          2009-09-11 16:01:09 UTC
        

Version:            (using KDE 4.3.1)
Compiler:          gcc (Gentoo 4.3.4 p1.0, pie-10.1.5) 4.3.4  
OS:                Linux
Installed from:    Gentoo Packages

While building the kde:4.3 meta packages (gentoo), the akonadi-server-1.2.1
ebuild fails to built target akonadiprivate.  I have completely cleaned all old
versions of kde, rebuilt all available versions of QT, and verified by
toolchain is correct.  There are no "real" compilation errors found in either
the stderr/out or the build.log file.  See below for make.conf and emerge info,
as well as complete build.log

bob

My make.conf file is:
bigdaddy ~ # cat /etc/make.conf
# These settings were set by the catalyst build script that automatically built
this stage
# Please consult /etc/make.conf.example for a more detailed example
CFLAGS="-O2 -pipe -march=pentium4"
CHOST="i686-pc-linux-gnu"
#CXXFLAGS="${CFLAGS} -fvisibility-inlines-hidden -fvisibility=hidden "
CXXFLAGS="${CFLAGS} "

## Single processor
MAKEOPTS="-j2"
## Dual processor
#MAKEOPTS="-j3"
# This var doesnt work. 
# CMAKE_VERBOSE_MAKEFILE=ON
# if you want to use it, you can specify on the command line like:
# EXTRA_ECONF="-DCMAKE_VERBOSE_MAKEFILE=ON" emerge <package>

USE="-gnome X gtk qt kde mysql mozilla java alsa dvd usb xmms xine win32codecs
pam asf v4l "
ACCEPT_KEYWORDS="~x86"
ALSA_CARDS="emu10k1"

INPUT_DEVICES="evdev keyboard mouse"
#VIDEO_CARDS="nv vesa"
VIDEO_CARDS="nvidia"

GENTOO_MIRRORS="ftp://ftp.ussg.iu.edu/pub/linux/gentoo
http://mirrors.acm.cs.rpi.edu/gentoo/ ftp://ftp.ndlug.nd.edu/pub/gentoo/
http://mirror.utdlug.org/linux/distributions/gentoo/
ftp://mirror.utdlug.org/linux/distributions/gentoo/ "

SYNC="rsync://rsync.namerica.gentoo.org/gentoo-portage"

FEATURES="collision-protect ccache parallel-fetch"
CONFIG_PROTECT="/etc"

PORTAGE_ECLASS_WARNING_ENABLE="0"
source /usr/local/portage/layman/make.conf
bigdaddy ~ # 

My gentoo system information is:
bigdaddy ~ # emerge --info
Portage 2.2_rc23 (default/linux/x86/2008.0/desktop, gcc-4.3.4, glibc-2.10.1-r0,
2.6.30-gentoo-r6 i686)
=================================================================
System uname:
Linux-2.6.30-gentoo-r6-i686-Intel-R-_Pentium-R-_4_CPU_2.60GHz-with-glibc2.1
Timestamp of tree: Fri, 11 Sep 2009 05:45:02 +0000
app-shells/bash:     3.2_p48
dev-java/java-config: 1.3.7-r1, 2.1.9
dev-lang/python:     2.3.6-r2, 2.4.4-r4, 2.5.4-r2
dev-python/pycrypto: 2.0.1-r5
dev-util/cmake:      2.6.4-r2
sys-apps/baselayout: 2.0.0
sys-apps/openrc:     0.4.3-r3
sys-apps/sandbox:    2.0
sys-devel/autoconf:  2.13, 2.63
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.2
sys-devel/binutils:  2.19
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   2.2.6a
virtual/os-headers:  2.6.30-r1
ACCEPT_KEYWORDS="x86 ~x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -pipe -march=pentium4"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.4/env /usr/kde/3.4/share/config
/usr/kde/3.4/shutdown /usr/lib/mozilla/defaults/pref /usr/share/config
/var/lib/hsqldb"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/
/etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release
/etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/
/etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo
/etc/udev/rules.d"
CXXFLAGS="-O2 -pipe -march=pentium4 "
DISTDIR="/usr/portage/distfiles"
FEATURES="ccache collision-protect distlocks fixpackages parallel-fetch
preserve-libs protect-owned sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="ftp://ftp.ussg.iu.edu/pub/linux/gentoo
http://mirrors.acm.cs.rpi.edu/gentoo/ ftp://ftp.ndlug.nd.edu/pub/gentoo/
http://mirror.utdlug.org/linux/distributions/gentoo/
ftp://mirror.utdlug.org/linux/distributions/gentoo/ "
LDFLAGS="-Wl,-O1"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress
--force --whole-file --delete --stats --timeout=180 --exclude=/distfiles
--exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage/layman/kde-testing"
SYNC="rsync://rsync.namerica.gentoo.org/gentoo-portage"
USE="X a52 aac acl acpi alsa asf berkdb bluetooth branding bzip2 cairo cdr cli
cracklib crypt cups dbus dri dts dvd dvdr eds emboss encode esd evo fam firefox
flac fortran gdbm gif gpm gstreamer gtk hal iconv ipv6 isdnlog java jpeg kde
ldap libnotify mad mikmod mozilla mp3 mp4 mpeg mudflap mysql ncurses nls nptl
nptlonly ogg opengl openmp pam pcre pdf perl png ppds pppd python qt qt3
qt3support qt4 quicktime readline reflection sdl session spell spl ssl
startup-notification svg sysfs tcpd thunar tiff truetype unicode usb v4l vorbis
win32codecs x264 x86 xine xml xmms xorg xulrunner xv xvid zlib"
ALSA_CARDS="emu10k1" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop
empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul
mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions
alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file
authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user
autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires
ext_filter file_cache filter headers include info log_config logio mem_cache
mime mime_magic negotiation rewrite setenvif speling status unique_id userdir
usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="evdev keyboard mouse"
KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001
mtxorb ncurses text" USERLAND="GNU" VIDEO_CARDS="nvidia"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LANG,
LC_ALL, LINGUAS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS,
PORTAGE_RSYNC_EXTRA_OPTS

bigdaddy ~ #  


Reproducible: Always

Steps to Reproduce:
1.  emerge =app-office/akonadi-server-1.2.1


Actual Results:  
The compilation fails when trying to build target akonadiprivate

Expected Results:  
I expect the code to compile

I have also filed this bug with KDE as i feel this is a code problem and not a gentoo ebuild problem.  However they immediately close the bug with:
  -------  Comment #1 From  Christophe Giboudeaux   2009-09-11 17:45:38   (-) [reply] -------

Ebuild is a Gentoo tool. Report the issue to Gentoo.




Comment 1


Robert Swan





          2009-09-11 16:01:51 UTC
        

Created attachment 203794 [details]
build.log




Comment 2


Maciej Mrozowski






          2009-09-15 11:41:52 UTC
        

I've seem similar issues already and emerge -vaDu world used to fix them (either updating dependencies or rebuilding them or just fixing stuff after gcc updates).




Comment 3


Robert Swan





          2009-09-15 15:32:25 UTC
        

Not sure if this should "resolve" this issue or not, but i have been able to compile this by first re-emerging boost, and then eselecting it.  As such, i have reduced the severity to normal




Comment 4


Maciej Mrozowski






          2010-06-04 21:23:50 UTC
        

Right, eselect and boost... yeah, I think it classifies this bug as fixed or worksforme.
Now we know what causes those vtable related linking issues.

Thanks for reporting!









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

