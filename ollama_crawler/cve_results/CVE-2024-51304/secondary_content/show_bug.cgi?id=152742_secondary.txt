Title: 152742 – sane-backends wont emerge
URL: https://bugs.gentoo.org/show_bug.cgi?id=152742

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 152742
sane-backends wont emerge
Last modified: 2006-12-09 11:58:54 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 152742 
      - sane-backends wont emerge


Summary:
sane-backends wont emerge
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Printing

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Printing Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-10-24 22:35 UTC by Rick Moynihan





      Modified:
    
2006-12-09 11:58 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



junk.vernerey









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge --info

              (emerge.info,2.60 KB,
                text/plain)

            
2006-12-07 14:19 UTC,

            Luc VERNEREY




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Rick Moynihan





          2006-10-24 22:35:38 UTC
        

When trying to emerge --update sane-backends I get the following problem:

 i686-pc-linux-gnu-gcc -c -DHAVE_CONFIG_H -I. -I. -I../include -I../include -D_REENTRANT -I/usr/include/gphoto2 -DPATH_SANE_CONFIG_DIR=/etc/sane.d -DPATH_SANE_DATA_DIR=/usr/share -DPATH_SANE_LOCK_DIR=/var/lib/lock/sane -DV_MAJOR=1 -DV_MINOR=0 -O2 -march=i686 -fomit-frame-pointer -W -Wall sanei_jpeg.c  -fPIC -DPIC -o .libs/sanei_jpeg.o
make[1]: Leaving directory `/var/tmp/portage/sane-backends-1.0.18-r2/work/sane-backends-1.0.18/sanei'
making all in backend
make[1]: Entering directory `/var/tmp/portage/sane-backends-1.0.18-r2/work/sane-backends-1.0.18/backend'
make[1]: *** No rule to make target `libsane-hpaio.la', needed by `all'.  Stop.
make[1]: Leaving directory `/var/tmp/portage/sane-backends-1.0.18-r2/work/sane-backends-1.0.18/backend'
make: *** [all-recursive] Error 1

!!! ERROR: media-gfx/sane-backends-1.0.18-r2 failed.
Call stack:
  ebuild.sh, line 1546:   Called dyn_compile
  ebuild.sh, line 937:   Called src_compile
  sane-backends-1.0.18-r2.ebuild, line 104:   Called die

!!! (no error message)
!!! If you need support, post the topmost build error, and the call stack if relevant.

The last version of sane-backends to work (and emerge) was version 1.0.15.  I also have net-print/hplip version 1.6.10 emerged.




Comment 1


Greg Watson (linuxkrn)





          2006-11-20 07:38:18 UTC
        

I cannot confirm this bug, as it works for me.  

Can you please post your emerge --info and use flags for this ebuild?
Also, have you tried to revdep-rebuild?

Here is my info

[ebuild   R   ] media-gfx/sane-backends-1.0.18-r2  USE="gphoto2 usb -ipv6 -v4l" 0 kB 

Portage 2.1.2_rc1-r2 (default-linux/x86/2006.0, gcc-4.1.1, glibc-2.5-r0, 2.6.18-gentoo i686)
=================================================================
System uname: 2.6.18-gentoo i686 Intel(R) Xeon(TM) CPU 2.80GHz
Gentoo Base System version 1.12.5
Last Sync: Mon, 20 Nov 2006 12:00:01 +0000
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
ccache version 2.4 [enabled]
app-admin/eselect-compiler: [Not Present]
dev-java/java-config: 1.3.7, 2.0.30
dev-lang/python:     2.4.3-r4
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     2.4-r6
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.60
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.17
sys-devel/gcc-config: 1.3.13-r4
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.17-r1
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium4 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/terminfo"
CXXFLAGS="-O2 -march=pentium4 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache distlocks metadata-transfer parallel-fetch sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LINGUAS="en"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/etc/portage/overlay /etc/portage/xgl-coffee /usr/portage/local/layman/xeffects /usr/portage/local/layman/sunrise"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X a52 alsa apache2 apm arts bash-completion berkdb bitmap-fonts bonobo cli cracklib crypt css cups dbus dlloader dri dvdr eds elibc_glibc emboss encode esd exif ffmpeg foomaticdb fortran gdbm gif gnome gphoto2 gpm gstreamer gtk gtk2 iconv imlib input_devices_evdev input_devices_keyboard input_devices_mouse isdnlog jpeg kde kernel_linux lcms ldap libg++ libwww linguas_en mad mikmod mmx motif mp3 mpeg ncurses nptl nptlonly ogg opengl oss pam pcre pdf perl png ppds pppd python qt3 qt4 quicktime readline reflection sdl session smp spell spl sse sse2 ssl svg tcpd theora tiff truetype truetype-fonts type1-fonts udev usb userland_GNU video_cards_none video_cards_nvidia vorbis win32codecs wmf xinerama xml xorg xprint xv xvid zlib"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, PORTAGE_RSYNC_EXTRA_OPTS





Comment 2


Greg Watson (linuxkrn)





          2006-12-05 13:23:44 UTC
        

Closing bug, reopen with more information if needed.




Comment 3


Luc VERNEREY





          2006-12-07 14:15:13 UTC
        

I have the same bug :

make[1]: Leaving directory `/var/tmp/portage/sane-backends-1.0.18-r2/work/sane-backends-1.0.18/sanei'
making all in backend
make[1]: Entering directory `/var/tmp/portage/sane-backends-1.0.18-r2/work/sane-backends-1.0.18/backend'
make[1]: *** No rule to make target `libsane-sane-snapscan.la', needed by `all'.  Stop.
make[1]: Leaving directory `/var/tmp/portage/sane-backends-1.0.18-r2/work/sane-backends-1.0.18/backend'
make: *** [all-recursive] Error 1

!!! ERROR: media-gfx/sane-backends-1.0.18-r2 failed.
Call stack:
  ebuild.sh, line 1546:   Called dyn_compile
  ebuild.sh, line 937:   Called src_compile
  sane-backends-1.0.18-r2.ebuild, line 104:   Called die

!!! (no error message)
!!! If you need support, post the topmost build error, and the call stack if relevant.


I put the emerge --info as attachment. Ask for more informations if needed.
I'll do a revdep-rebuild to see if it should emerge better after it.




Comment 4


Luc VERNEREY





          2006-12-07 14:19:58 UTC
        

Created attachment 103576 [details]
emerge --info




Comment 5


Luc VERNEREY





          2006-12-07 14:23:17 UTC
        

I can't re-open the bug. I hope someone will read it. If not, I'll re-open another one by cloning this one within a few days...




Comment 6


Greg Watson (linuxkrn)





          2006-12-07 18:19:14 UTC
        

Post again if it still doesn't work after revdep-rebuild and I will re-open.  Also, please post the results of:

emerge -av sane-backends




Comment 7


Luc VERNEREY





          2006-12-09 11:58:54 UTC
        

It doesn't work better after having "revdep-rebuild" the system.

Here is the result of "emerge -av sane-backends" :

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild     U ] media-gfx/sane-backends-1.0.18-r2 [1.0.15] USE="usb -gphoto2 -ipv6 -v4l%" 0 kB

Total size of downloads: 0 kB

Would you like to merge these packages? [Yes/No]


Note : I tried to emerge 1.0.18 AND 1.0.17 and both versions result in the same crash.
Only the 1.0.15 could be emerged flawlessly.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

