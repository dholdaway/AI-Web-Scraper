Title: 134478 – gcc with +doc on amd64 does not install the c++ man pages
URL: https://bugs.gentoo.org/show_bug.cgi?id=134478

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 134478
gcc with +doc on amd64 does not install the c++ man pages
Last modified: 2008-06-15 14:44:58 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 134478 
      - gcc with +doc on amd64 does not install the c++ man pages


Summary:
gcc with +doc on amd64 does not install the c++ man pages
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Toolchain Maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-05-26 23:28 UTC by Neil Skrypuch





      Modified:
    
2008-06-15 14:44 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



amd64
ruud









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Neil Skrypuch





          2006-05-26 23:28:20 UTC
        

On amd64, the doc USE flag does not appear to have any effect on gcc, at least to the extent of installing man pages for C++. On x86, adding the doc USE flag to gcc causes the C++ man pages to be installed.

Also, see http://forums.gentoo.org/viewtopic-t-458384.html for reference.

One would expect that the C++ man pages would be installed for a +doc gcc regardless of arch. This was also present with portage 2.0.54 on amd64 (same machine, tested 3-4 weeks ago)

emerge --info:
Portage 2.1_rc1-r3 (default-linux/amd64/2006.0, gcc-3.4.5, glibc-2.3.6-r3, 2.6.16-gentoo-r7 x86_64)
=================================================================
System uname: 2.6.16-gentoo-r7 x86_64 AMD Athlon(tm) 64 X2 Dual Core Processor 4200+
Gentoo Base System version 1.6.14
dev-lang/python:     2.4.2
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=k8 -O3 -pipe -fomit-frame-pointer"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-march=k8 -O3 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.namerica.gentoo.org/gentoo-portage"
USE="amd64 X a52 aac aalib acpi aim alsa audiofile avi berkdb bitmap-fonts bzip2 cdinstall cdparanoia cdr cli crypt cups curl cvs daap dri dts dvd dvdr dvdread eds emboss emul-linux-x86 encode ethereal exif fbcon ffmpeg flac foomaticdb fortran gif glut gpm icq ieee1394 imagemagick imlib ipv6 isdnlog javascript jpeg jpeg2k kde lm_sensors logitech-mouse lzw lzw-tiff mad mng mp3 mpeg mpg msn ncurses nls nocd nptl nvidia offensive ogg oggvorbis openal opengl oscar pam pcntl pcre pdf pdflib perl php png portaudio posix ppds pppd python qt quicktime readline reflection sdl session shorten smp sndfile spell spl sql ssl subversion svg szip tcpd tetex theora tiff truetype truetype-fonts type1-fonts usb vcd videos vorbis xcomposite xine xorg xpm xv xvid zlib elibc_glibc input_devices_keyboard input_devices_mouse kernel_linux userland_GNU video_cards_nvidia"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


SpanKY






          2006-05-27 02:49:05 UTC
        

install doxygen




Comment 2


Neil Skrypuch





          2006-05-27 12:49:26 UTC
        

Installing doxygen does the trick, but doxygen was *not* installed on the x86 machine, and the man pages were still generated, how does that work?

Furthermore, if doxygen is required to build the docs on amd64, shouldn't a +doc gcc pull in doxygen for amd64?




Comment 3


Ruud Althuizen





          2008-06-15 14:44:58 UTC
        

I found that little oddity as well. I have two x86 machines that I wanted to have the docs installed on. One with doxygen because I need it elsewhere, the other one doesn't have it. So the docs only got installed on one machine.

As found in toolchain.eclass near the end of the function gcc_do_make() there is an ewarn to tell you about the doxygen requirement.

Maybe it's useful to make doxygen a dependency when you enable the doc USE-flag.

I'm also discussing this problem at http://forums.gentoo.org/viewtopic-p-5122427.html









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

