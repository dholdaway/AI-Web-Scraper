Title: 113801 – mesa not compiling on G/FBSD
URL: https://bugs.gentoo.org/show_bug.cgi?id=113801

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 113801
mesa not compiling on G/FBSD
Last modified: 2006-04-12 10:50:23 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 113801 
      - mesa not compiling on G/FBSD


Summary:
mesa not compiling on G/FBSD
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo/Alt




Classification:

Unclassified




Component:

Other

  (show other bugs)



Hardware:

x86
        All
      







Importance:
      
High
       trivial
      


Assignee:

Gentoo/BSD Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-11-28 08:05 UTC by HessIaN





      Modified:
    
2006-04-12 10:50 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




patch for the media-libs/mesa-6.4-r1.ebuild

              (mesa-fbsd-dri.patch,344 bytes,
                patch)

            
2005-11-28 08:11 UTC,

            HessIaN




Details
            | Diff





Previous patch reproduces other error

              (mesa-fbsd-dri.patch,333 bytes,
                patch)

            
2005-11-28 08:22 UTC,

            HessIaN




Details
            | Diff





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


HessIaN





          2005-11-28 08:05:32 UTC
        

Mesa 6.4-r1 wouldn't compile on G/FBSD because in pkg_setup() CONFIG is set to
linux-dri.


Reproducible: Always
Steps to Reproduce:
1.emerge =media-libs/mesa-6.4-r1

Actual Results:  
Mesa wants to compile linux-dri while freebsd-dri is needed


Portage 2.0.53_rc7
(!/usr/local/portage/portage-alt-overlay/profiles/default-bsd/fbsd/5.4/x86,
gcc-, freebsd-lib-5.4-r2, 6.0-RELEASE i386)
=================================================================
System uname: 6.0-RELEASE i386 i386
Gentoo/FreeBSD: FreeBSD version 5.4-RELEASE; Gentoo base version 0.7
ccache version 2.4 [enabled]
dev-lang/python:     2.4.2
sys-apps/sandbox:    1.2.13
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.15
sys-devel/libtool:   1.5.20-r1
virtual/os-headers:  5.4
ACCEPT_KEYWORDS="x86 x86-fbsd ~x86 ~x86-fbsd"
AUTOCLEAN="yes"
CBUILD="i686-gentoo-freebsd5.4"
CFLAGS="-march=pentium3 -mtune=pentium3 -Os -pipe -fomit-frame-pointer
-momit-leaf-frame-pointer -ftracer"
CHOST="i686-gentoo-freebsd5.4"
CONFIG_PROTECT="/etc"
CONFIG_PROTECT_MASK="/etc/terminfo /etc/env.d"
CXXFLAGS="-march=pentium3 -mtune=pentium3 -Os -pipe -fomit-frame-pointer
-momit-leaf-frame-pointer -ftracer -fconserve-space -fvisibility-inlines-hidden"
DISTDIR="/usr/portage/distfiles"
FEATURES="ccache collision-protect distlocks"
GENTOO_MIRRORS="http://ftp.belnet.be/packages/gentoo"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage/portage-alt-overlay"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86-fbsd apache2 freetype ipv6 kerberos mysql mysqli pam perl php python
readline sharedmem ssl sysvipc threads xml2 xmlrpc userland_BSD kernel_FreeBSD
elibc_FreeBSD"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS, MAKEOPTS




Comment 1


HessIaN





          2005-11-28 08:11:07 UTC
        

Created attachment 73742 [details, diff]
patch for the media-libs/mesa-6.4-r1.ebuild




Comment 2


HessIaN





          2005-11-28 08:22:43 UTC
        

Created attachment 73744 [details, diff]
Previous patch reproduces other error

libGL.so doesn't get built with the other patch. Pls use this one




Comment 3


Diego Elio Pettenò (RETIRED)






          2005-11-28 08:24:56 UTC
        

It seems to be fine now.. 









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

