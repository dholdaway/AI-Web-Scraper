Title: 590854 – kde-apps/kross-interpreters-16.07.90 - No rule to make target '/usr/lib64/libruby.so', needed by 'ruby/krossruby.so'.
URL: https://bugs.gentoo.org/show_bug.cgi?id=590854

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 590854
kde-apps/kross-interpreters-16.07.90 - No rule to make target '/usr/lib64/libruby.so', needed by 'ruby/krossruby.so'.
Last modified: 2017-11-16 00:53:59 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 590854 
      - kde-apps/kross-interpreters-16.07.90 - No rule to make target '/usr/lib64/libruby.so', needed by 'ruby/krossruby.so'.


Summary:
kde-apps/kross-interpreters-16.07.90 - No rule to make target '/usr/lib64/lib...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:




582672



Blocks:







 

        Show dependency tree





 





      Reported:
    
2016-08-09 07:43 UTC by Dennis Schridde





      Modified:
    
2017-11-16 00:53 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



timeraider
yamadharma









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build.log

              (build.log,47.48 KB,
                text/plain)

            
2016-08-09 07:43 UTC,

            Dennis Schridde




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Dennis Schridde





          2016-08-09 07:43:31 UTC
        

Created attachment 442830 [details]
build.log

make[2]: *** No rule to make target '/usr/lib64/libruby.so', needed by 'ruby/krossruby.so'.  Stop.
make[2]: Leaving directory '/var/tmp/portage/kde-apps/kross-interpreters-16.07.90/work/kross-interpreters-16.07.90_build'
make[1]: *** [CMakeFiles/Makefile2:207: ruby/CMakeFiles/krossruby.dir/all] Error 2




Comment 1


Dennis Schridde





          2016-08-09 07:45:17 UTC
        

# emerge --info ruby
Portage 2.3.0 (python 2.7.10-final-42, default/linux/amd64/13.0/desktop/plasma/systemd, gcc-5.4.0, glibc-2.23-r2, 4.7.0-gentoo x86_64)
=================================================================
                         System Settings
=================================================================
System uname: Linux-4.7.0-gentoo-x86_64-AMD_A10-7800_Radeon_R7,_12_Compute_Cores_4C+8G-with-gentoo-2.2
KiB Mem:    15381192 total,   3328408 free
KiB Swap:          0 total,         0 free
Timestamp of repository gentoo: Tue, 09 Aug 2016 06:45:01 +0000
sh bash 4.3_p46
ld GNU ld (Gentoo 2.25 p1.2) 2.25
ccache version 3.2.7 [disabled]
app-shells/bash:          4.3_p46::gentoo
dev-java/java-config:     2.2.0-r3::gentoo
dev-lang/perl:            5.24.0-r1::gentoo
dev-lang/python:          2.7.12-r100::sage-on-gentoo, 3.4.5::gentoo
dev-util/ccache:          3.2.7::gentoo
dev-util/cmake:           3.6.1::gentoo
dev-util/pkgconfig:       0.29.1::gentoo
sys-apps/baselayout:      2.2-r1::gentoo
sys-apps/sandbox:         2.10-r2::gentoo
sys-devel/autoconf:       2.13::gentoo, 2.69-r2::gentoo
sys-devel/automake:       1.11.6-r2::gentoo, 1.12.6-r1::gentoo, 1.13.4-r1::gentoo, 1.14.1-r1::gentoo, 1.15-r2::gentoo
sys-devel/binutils:       2.25-r1::gentoo, 2.26.1::gentoo
sys-devel/gcc:            5.4.0::gentoo
sys-devel/gcc-config:     1.8-r1::gentoo
sys-devel/libtool:        2.4.6-r2::gentoo
sys-devel/make:           4.2.1::gentoo
sys-kernel/linux-headers: 4.7::gentoo (virtual/os-headers)
sys-libs/glibc:           2.23-r2::gentoo
Repositories:

gentoo
    location: /var/cache/portage/gentoo
    sync-type: rsync
    sync-uri: rsync://rsync.de.gentoo.org/gentoo-portage
    priority: -1000

kde
    location: /var/lib/layman/kde
    sync-type: laymansync
    sync-uri: git://anongit.gentoo.org/proj/kde.git
    masters: gentoo
    priority: 50

sage-on-gentoo
    location: /var/lib/layman/sage-on-gentoo
    sync-type: laymansync
    sync-uri: git://github.com/cschwan/sage-on-gentoo.git
    masters: gentoo science
    priority: 50

science
    location: /var/lib/layman/science
    sync-type: laymansync
    sync-uri: git://anongit.gentoo.org/proj/sci.git
    masters: gentoo
    priority: 50

local
    location: /var/cache/portage/local
    masters: gentoo
    priority: 100

ACCEPT_KEYWORDS="amd64 ~amd64"
ACCEPT_LICENSE="* -@EULA"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-pipe -O2 -march=bdver3"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/lib64/libreoffice/program/sofficerc /usr/share/config /usr/share/gnupg/qualified.txt"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/dconf /etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php7.0/ext-active/ /etc/php/cgi-php7.0/ext-active/ /etc/php/cli-php7.0/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c"
CXXFLAGS="-pipe -O2 -march=bdver3"
DISTDIR="/var/cache/portage/distfiles"
EMERGE_DEFAULT_OPTS="--keep-going --nospinner"
FCFLAGS="-O2 -pipe"
FEATURES="assume-digests binpkg-logs buildsyspkg cgroup compressdebug config-protect-if-modified distlocks ebuild-locks fixlafiles ipc-sandbox merge-sync network-sandbox news parallel-fetch parallel-install preserve-libs protect-owned sandbox sfperms strict unknown-features-warn unmerge-logs unmerge-orphans userfetch userpriv usersandbox usersync xattr"
FFLAGS="-O2 -pipe"
GENTOO_MIRRORS="http://ftp.spline.inf.fu-berlin.de/mirrors/gentoo/ http://ftp-stud.hs-esslingen.de/pub/Mirrors/gentoo/ http://distfiles.gentoo.org"
LANG="en_GB.UTF-8"
LDFLAGS="-Wl,-O1 -Wl,--as-needed -Wl,--hash-style=gnu"
MAKEOPTS="-j3"
PKGDIR="/var/cache/portage/packages"
PORTAGE_COMPRESS="xz"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --omit-dir-times --compress --force --whole-file --delete --stats --human-readable --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --exclude=/.git"
PORTAGE_TMPDIR="/var/tmp"
USE="X a52 aac aacplus aacs acl acpi alsa amd64 appindicator archive audit avahi bash-completion bdplus berkdb bluetooth bluray branding bzip2 cairo caps cdda cddb cdio cdr celt cjk cli colord conntrack cracklib crypt cups cxx d3d9 dbus declarative dirac dri dts dvb dvd dvdr egl emboss encode exif fam fax ffmpeg firefox flac fontconfig fortran fribidi gdbm geoclue geolocation gif git glamor gles gmp gpm gstreamer gtk gtk3 harfbuzz ibus iconv ipv6 jpeg jpeg2k kde kipi ladspa latex lcms ldap libinput libnotify libproxy libsecret lua_target_lua5-2 lv2 lz4 lzma lzo mad mercurial mjpeg mmx mmxext mng modemmanager modplug modules mp3 mp4 mpeg mplayer mtp multilib multitarget mysql ncurses netlink networkmanager nls nptl ogg openal opencl openexr opengl openmax openmp opus pam pango pcap pch pcre pdf phonon plasma png policykit ppds pulseaudio qml qt3support qt4 qt5 readline rtmp samba scanner schroedinger sctp sdl seccomp semantic-desktop session speex spell sse sse2 ssl startup-notification svg systemd tcpd theora threads tiff truetype udev udisks unicode upnp upnp-av upower usb v4l v4l2 vaapi vdpau vorbis vpx wavpack wayland webp widgets x264 x265 xattr xcb xcomposite xinerama xml xrandr xscreensaver xv xvid xz zeroconf zlib" ABI_X86="64" ALSA_CARDS="hda-intel" APACHE2_MODULES="authn_core authz_core socache_shmcb unixd actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cgi cgid dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CALLIGRA_FEATURES="stage words flow sheets gemini" CAMERAS="ptp2" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" CPU_FLAGS_X86="aes avx fma3 fma4 mmx mmxext popcnt sse sse2 sse3 sse4_1 sse4_2 sse4a ssse3 xop" DRACUT_MODULES="btrfs caps systemd" ELIBC="glibc" ENLIGHTENMENT_MODULES="*" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf superstar2 timing tsip tripmate tnt ublox ubx" GRUB_PLATFORMS="coreboot efi-64 pc" INPUT_DEVICES="joystick" KERNEL="linux" L10N="de en en-GB ar fa tr ja ko zh zh-CN zh-TW" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LIBREOFFICE_EXTENSIONS="presenter-console presenter-minimizer" LINGUAS="de en en_GB ar fa tr" LIRC_DEVICES="devinput" OFFICE_IMPLEMENTATION="libreoffice" PHP_TARGETS="php5-5" PYTHON_SINGLE_TARGET="python2_7" PYTHON_TARGETS="python2_7 python3_4 pypy pypy3" RUBY_TARGETS="ruby20 ruby21" USERLAND="GNU" VIDEO_CARDS="amdgpu radeon radeonsi" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account"
Unset:  CC, CPPFLAGS, CTARGET, CXX, INSTALL_MASK, LC_ALL, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, USE_PYTHON

=================================================================
                        Package Settings
=================================================================

dev-lang/ruby-2.0.0_p648::gentoo was built with the following:
USE="berkdb gdbm ipv6 ncurses rdoc readline ssl -debug -doc -examples -rubytests -socks5 -xemacs" ABI_X86="64" CPU_FLAGS_X86="sse2"
CFLAGS="-pipe -O2 -march=bdver3 -fno-strict-aliasing"
CXXFLAGS="-pipe -O2 -march=bdver3 -fno-strict-aliasing"


dev-lang/ruby-2.1.10::gentoo was built with the following:
USE="berkdb gdbm ipv6 ncurses rdoc readline ssl -debug -doc -examples -rubytests -socks5 -tk -xemacs" ABI_X86="64"
CFLAGS="-pipe -O2 -march=bdver3 -fno-strict-aliasing"
CXXFLAGS="-pipe -O2 -march=bdver3 -fno-strict-aliasing"


dev-lang/ruby-2.2.5::gentoo was built with the following:
USE="berkdb gdbm ipv6 ncurses rdoc readline ssl -debug -doc -examples -jemalloc -libressl -rubytests -socks5 -tk -xemacs" ABI_X86="64"
CFLAGS="-pipe -O2 -march=bdver3 -fno-strict-aliasing"
CXXFLAGS="-pipe -O2 -march=bdver3 -fno-strict-aliasing"


dev-lang/ruby-2.3.1::gentoo was built with the following:
USE="berkdb gdbm ipv6 ncurses rdoc readline ssl -debug -doc -examples -jemalloc -libressl -rubytests -socks5 -tk -xemacs" ABI_X86="64"
CFLAGS="-pipe -O2 -march=bdver3 -fno-strict-aliasing"
CXXFLAGS="-pipe -O2 -march=bdver3 -fno-strict-aliasing"




Comment 2


Michael Palimaka (kensington)






          2016-08-10 15:53:22 UTC
        

Fixing ruby support in this package has been on my todo for a while.




Comment 3


Dennis Schridde





          2016-08-27 16:00:09 UTC
        

I had a dangling symlink: /usr/lib64/libruby.so -> libruby18.so
Deleting it made the package emerge.




Comment 4


A Schenck





          2016-10-27 22:51:35 UTC
        

I have this same problem, my dangling libruby.so symlink is from Mar 18 2009.  Is this something that eselect ruby used to handle but doesn't anymore?  And if so, should we open a bug to request that eselect ruby cleans up old symlinks?




Comment 5


Dennis Schridde





          2016-10-28 04:36:35 UTC
        

(In reply to Andrew Schenck from comment #4)
> I have this same problem, my dangling libruby.so symlink is from Mar 18
> 2009.  Is this something that eselect ruby used to handle but doesn't
> anymore?  And if so, should we open a bug to request that eselect ruby
> cleans up old symlinks?

reopening to investigate this possibility




Comment 6


Torsten Kaiser





          2016-10-28 10:43:46 UTC
        

Just a small note:

-- Found KF5Kross: /usr/lib64/cmake/KF5Kross/KF5KrossConfig.cmake (found version "5.26.0")
CMake Warning at /usr/share/ECM/find-modules/FindKF5.cmake:74 (find_package):
  Could not find a package configuration file provided by
  "KF5KDELibs4Support" (requested version 5.11.0) with any of the following
  names:

    KF5KDELibs4SupportConfig.cmake
    kf5kdelibs4support-config.cmake

-- Could NOT find KF5KDELibs4Support: found neither KF5KDELibs4SupportConfig.cmake nor kf5kde
libs4support-config.cmake
CMake Error at /usr/share/cmake/Modules/FindPackageHandleStandardArgs.cmake:148 (message):
  Could NOT find KF5 (missing: KDELibs4Support) (found suitable version
  "5.26.0", minimum required is "5.11.0")


It seems that an explicit DEPEND on kde-frameworks/kdelibs4support is missing from the kross-interpreters ebuild. I'm currently upgrading from KDE4 to KF5 and this package is not yet installed. But emerge already was trying to build kross-interpreters because of the missing DEPEND and then failed.

If you have the time, please consider to include this DEPEND, so that new installations get the correct package order.
For me: I will just do "emerge -a1v kdelibs4support" and then this should work...




Comment 7


William L. Thomson Jr.





          2016-11-17 17:00:16 UTC
        

Same for me broken /usr/lib/libruby.so -> libruby18.so cause package not to emerge. Removing that file allows merge. I tried to use eselect on another system and it did nothing with the broken link. Seems manual removal is only option.




Comment 8


Andreas Sturmlechner






          2017-11-15 22:40:16 UTC
        

Can we call it fixed?




Comment 9


Dennis Schridde





          2017-11-16 00:53:59 UTC
        

I don't know whether the underlying problem was ever actually fixed, but it works for me now.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

