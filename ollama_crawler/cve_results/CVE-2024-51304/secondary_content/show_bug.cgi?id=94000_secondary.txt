Title: 94000 – libxml fails; missing pgp-error.h
URL: https://bugs.gentoo.org/show_bug.cgi?id=94000

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 94000
libxml fails; missing pgp-error.h
Last modified: 2005-05-26 08:19:35 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 94000 
      - libxml fails; missing pgp-error.h


Summary:
libxml fails; missing pgp-error.h
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Library

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux Gnome Desktop Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-05-25 14:53 UTC by Daniel Lamblin





      Modified:
    
2005-05-26 08:19 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Daniel Lamblin





          2005-05-25 14:53:20 UTC
        

I am emerging ntp; It requires libxml;  this fails to build. due to the 
missing file: pgp-error.h



Reproducible: Always
Steps to Reproduce:
1.emerge libxml

Actual Results:  
 i686-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I. -I.. -I.. -I../libxslt -
I../libexslt -I.. -I../libxslt -I../libexslt -I/usr/include/libxml2 -O2 -
march=i686 -fomit-frame-pointer -Wall -O2 -march=i686 -fomit-frame-pointer -
Wall -MT crypto.lo -MD -MP -MF .deps/crypto.Tpo -c crypto.c  -fPIC -DPIC -
o .libs/crypto.o
 i686-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I. -I.. -I.. -I../libxslt -
I../libexslt -I.. -I../libxslt -I../libexslt -I/usr/include/libxml2 -O2 -
march=i686 -fomit-frame-pointer -Wall -O2 -march=i686 -fomit-frame-pointer -
Wall -MT math.lo -MD -MP -MF .deps/math.Tpo -c math.c  -fPIC -DPIC -
o .libs/math.o
In file included from crypto.c:321:
/usr/include/gcrypt.h:28:23: gpg-error.h: No such file or directory
In file included from crypto.c:321:
/usr/include/gcrypt.h:94: error: syntax error before "gcry_error_t"
/usr/include/gcrypt.h:95: error: syntax error before "gcry_err_code_t"
/usr/include/gcrypt.h:96: error: syntax error before "gcry_err_source_t"
/usr/include/gcrypt.h:98: error: syntax error before "gcry_error_t"
/usr/include/gcrypt.h:99: error: syntax error before "source"
/usr/include/gcrypt.h: In function `gcry_err_make':
/usr/include/gcrypt.h:101: error: `source' undeclared (first use in this 
function)
/usr/include/gcrypt.h:101: error: (Each undeclared identifier is reported only 
once
/usr/include/gcrypt.h:101: error: for each function it appears in.)
/usr/include/gcrypt.h:101: error: `code' undeclared (first use in this 
function)
/usr/include/gcrypt.h: At top level:
/usr/include/gcrypt.h:110: error: syntax error before "gcry_error_t"
/usr/include/gcrypt.h:111: error: syntax error before "code"
/usr/include/gcrypt.h: In function `gcry_error':
/usr/include/gcrypt.h:113: error: `GPG_ERR_SOURCE_USER_1' undeclared (first 
use in this function)
/usr/include/gcrypt.h:113: error: `code' undeclared (first use in this 
function)
/usr/include/gcrypt.h: At top level:
/usr/include/gcrypt.h:116: error: syntax error before "gcry_err_code_t"
/usr/include/gcrypt.h:117: error: syntax error before "err"
/usr/include/gcrypt.h: In function `gcry_err_code':
/usr/include/gcrypt.h:119: error: `err' undeclared (first use in this function)
/usr/include/gcrypt.h: At top level:
/usr/include/gcrypt.h:123: error: syntax error before "gcry_err_source_t"
/usr/include/gcrypt.h:124: error: syntax error before "err"
/usr/include/gcrypt.h: In function `gcry_err_source':
/usr/include/gcrypt.h:126: error: `err' undeclared (first use in this function)
/usr/include/gcrypt.h: At top level:
/usr/include/gcrypt.h:131: error: syntax error before "err"
/usr/include/gcrypt.h:135: error: syntax error before "err"
/usr/include/gcrypt.h:140: error: syntax error 
before "gcry_err_code_from_errno"
/usr/include/gcrypt.h:144: error: syntax error before "code"
/usr/include/gcrypt.h:148: error: syntax error 
before "gcry_err_make_from_errno"
/usr/include/gcrypt.h:148: error: syntax error before "source"
/usr/include/gcrypt.h:151: error: syntax error before "gcry_error_from_errno"
/usr/include/gcrypt.h:332: error: syntax error before "gcry_control"
/usr/include/gcrypt.h:357: error: syntax error before "gcry_sexp_new"
/usr/include/gcrypt.h:363: error: syntax error before "gcry_sexp_create"
/usr/include/gcrypt.h:369: error: syntax error before "gcry_sexp_sscan"
/usr/include/gcrypt.h:374: error: syntax error before "gcry_sexp_build"
/usr/include/gcrypt.h:379: error: syntax error before "gcry_sexp_build_array"
/usr/include/gcrypt.h:388: error: syntax error before "gcry_error_t"
/usr/include/gcrypt.h:517: error: syntax error before "gcry_mpi_scan"
/usr/include/gcrypt.h:526: error: syntax error before "gcry_mpi_print"
/usr/include/gcrypt.h:535: error: syntax error before "gcry_mpi_aprint"
/usr/include/gcrypt.h:763: error: syntax error before "gcry_cipher_open"
/usr/include/gcrypt.h:770: error: syntax error before "gcry_cipher_ctl"
/usr/include/gcrypt.h:774: error: syntax error before "gcry_cipher_info"
/usr/include/gcrypt.h:778: error: syntax error before "gcry_cipher_algo_info"
/usr/include/gcrypt.h:799: error: syntax error before "gcry_cipher_encrypt"
/usr/include/gcrypt.h:804: error: syntax error before "gcry_cipher_decrypt"
/usr/include/gcrypt.h:851: error: syntax error before "gcry_cipher_list"
/usr/include/gcrypt.h:877: error: syntax error before "gcry_pk_encrypt"
/usr/include/gcrypt.h:882: error: syntax error before "gcry_pk_decrypt"
/usr/include/gcrypt.h:887: error: syntax error before "gcry_pk_sign"
/usr/include/gcrypt.h:891: error: syntax error before "gcry_pk_verify"
/usr/include/gcrypt.h:895: error: syntax error before "gcry_pk_testkey"
/usr/include/gcrypt.h:900: error: syntax error before "gcry_pk_genkey"
/usr/include/gcrypt.h:903: error: syntax error before "gcry_pk_ctl"
/usr/include/gcrypt.h:906: error: syntax error before "gcry_pk_algo_info"
/usr/include/gcrypt.h:936: error: syntax error before "gcry_pk_list"
/usr/include/gcrypt.h:987: error: syntax error before "gcry_ac_data_new"
/usr/include/gcrypt.h:993: error: syntax error before "gcry_ac_data_copy"
/usr/include/gcrypt.h:1008: error: syntax error before "gcry_ac_data_set"
/usr/include/gcrypt.h:1014: error: syntax error before "gcry_ac_data_get_name"
/usr/include/gcrypt.h:1021: error: syntax error before "gcry_ac_data_get_index"
/usr/include/gcrypt.h:1026: error: syntax error before "gcry_ac_open"
/usr/include/gcrypt.h:1033: error: syntax error before "gcry_ac_key_init"
/usr/include/gcrypt.h:1041: error: syntax error 
before "gcry_ac_key_pair_generate"
/usr/include/gcrypt.h:1054: error: syntax error before "gcry_ac_key_test"
/usr/include/gcrypt.h:1057: error: syntax error before "gcry_ac_key_get_nbits"
/usr/include/gcrypt.h:1062: error: syntax error before "gcry_ac_key_get_grip"
/usr/include/gcrypt.h:1074: error: syntax error before "gcry_ac_data_encrypt"
/usr/include/gcrypt.h:1083: error: syntax error before "gcry_ac_data_decrypt"
/usr/include/gcrypt.h:1091: error: syntax error before "gcry_ac_data_sign"
/usr/include/gcrypt.h:1099: error: syntax error before "gcry_ac_data_verify"
/usr/include/gcrypt.h:1106: error: syntax error before "gcry_ac_id_to_name"
/usr/include/gcrypt.h:1111: error: syntax error before "gcry_ac_name_to_id"
/usr/include/gcrypt.h:1176: error: syntax error before "gcry_md_open"
/usr/include/gcrypt.h:1182: error: syntax error before "gcry_md_enable"
/usr/include/gcrypt.h:1185: error: syntax error before "gcry_md_copy"
/usr/include/gcrypt.h:1191: error: syntax error before "gcry_md_ctl"
/usr/include/gcrypt.h:1227: error: syntax error before "gcry_md_info"
/usr/include/gcrypt.h:1231: error: syntax error before "gcry_md_algo_info"
/usr/include/gcrypt.h:1245: error: syntax error before "gcry_md_setkey"
/usr/include/gcrypt.h:1290: error: syntax error before "gcry_md_list"
/usr/include/gcrypt.h:1319: error: syntax error before "gcry_random_add_bytes"
/usr/include/gcrypt.h:1372: error: syntax error before "gcry_prime_generate"
/usr/include/gcrypt.h:1385: error: syntax error 
before "gcry_prime_group_generator"
/usr/include/gcrypt.h:1395: error: syntax error before "gcry_prime_check"
In file included from /usr/include/gcrypt.h:1495,
                 from crypto.c:321:
/usr/include/gcrypt-module.h:40: error: syntax error before '*' token
/usr/include/gcrypt-module.h:42: error: `gcry_err_code_t' declared as function 
returning a function
/usr/include/gcrypt-module.h:42: error: `gcry_err_code_t' redeclared as 
different kind of symbol
/usr/include/gcrypt.h:95: error: previous declaration of `gcry_err_code_t'
/usr/include/gcrypt-module.h:81: error: syntax error 
before "gcry_cipher_setkey_t"
/usr/include/gcrypt-module.h:86: error: syntax error before '}' token
/usr/include/gcrypt-module.h:91: error: syntax error 
before "gcry_cipher_register"
/usr/include/gcrypt-module.h:91: error: syntax error before '*' token
/usr/include/gcrypt-module.h:106: error: `gcry_pk_generate_t' declared as 
function returning a function
/usr/include/gcrypt-module.h:110: error: `gcry_pk_check_secret_key_t' declared 
as function returning a function
/usr/include/gcrypt-module.h:117: error: `gcry_pk_encrypt_t' declared as 
function returning a function
/usr/include/gcrypt-module.h:124: error: `gcry_pk_decrypt_t' declared as 
function returning a function
/usr/include/gcrypt-module.h:130: error: `gcry_pk_sign_t' declared as function 
returning a function
/usr/include/gcrypt-module.h:138: error: `gcry_pk_verify_t' declared as 
function returning a function
/usr/include/gcrypt-module.h:166: error: syntax error before "gcry_pk_register"
/usr/include/gcrypt-module.h:211: error: syntax error before "gcry_md_register"
crypto.c: In function `exsltCryptoGcryptRc4Encrypt':
crypto.c:370: error: syntax error before "rc"
crypto.c:374: error: `rc' undeclared (first use in this function)
crypto.c: In function `exsltCryptoGcryptRc4Decrypt':
crypto.c:409: error: syntax error before "rc"
crypto.c:413: error: `rc' undeclared (first use in this function)
make[2]: *** [crypto.lo] Error 1
make[2]: *** Waiting for unfinished jobs....
 i686-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I. -I.. -I.. -I../libxslt -
I../libexslt -I.. -I../libxslt -I../libexslt -I/usr/include/libxml2 -O2 -
march=i686 -fomit-frame-pointer -Wall -O2 -march=i686 -fomit-frame-pointer -
Wall -MT math.lo -MD -MP -MF .deps/math.Tpo -c math.c -o math.o >/dev/null 2>&1
make[2]: Leaving directory `/var/tmp/portage/libxslt-1.1.12/work/libxslt-
1.1.12/libexslt'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/libxslt-1.1.12/work/libxslt-
1.1.12'
make: *** [all] Error 2

Expected Results:  
libxml done




Comment 1


Daniel Lamblin





          2005-05-25 14:54:52 UTC
        

emerge info
Portage 2.0.51.19 (default-linux/x86/2005.0, gcc-3.3.5-20050130, glibc-
2.3.4.20041102-r1, 2.6.11-gentoo-r9 i686)
=================================================================
System uname: 2.6.11-gentoo-r9 i686 Pentium II (Deschutes)
Gentoo Base System version 1.4.16
Python:              dev-lang/python-2.3.5 [2.3.5 (#1, May 20 2005, 10:47:42)]
dev-lang/python:     2.3.5
sys-apps/sandbox:    [Not Present]
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.9.5, 1.5, 1.8.5-r3, 1.6.3, 1.7.9-r1, 1.4_p6
sys-devel/binutils:  2.15.92.0.2-r7
sys-devel/libtool:   1.5.16
virtual/os-headers:  2.6.8.1-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CFLAGS="-O2 -march=i686 -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.3/env /usr/kde/3.3/shar
e/config /usr/kde/3.3/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/sh
are/config /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr
/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share
/texmf/xdvi/ /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=i686 -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig ccache distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://gentoo.osuosl.org/ http://adelie.polymtl.ca/ 
ftp://cs.ubishops.ca/pub/gentoo ftp://ftp.gtlib.cc.gatech.edu/pub/gentoo 
http://csociety-ftp.ecn.purdue.edu/pub/gentoo/ ftp://csociety-
ftp.ecn.purdue.edu/pub/gentoo/ ftp://ftp.ussg.iu.edu/pub/linux/gentoo 
ftp://ftp.ucsb.edu/pub/mirrors/linux/gentoo/ http://gentoo.seren.com/gentoo 
http://gentoo.chem.wisc.edu/gentoo/ ftp://gentoo.chem.wisc.edu/gentoo/"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 .eclass X alsa apache2 apm arts avi berkdb bitmap-fonts bzlib cdr 
crypt cups curl emboss encode esd fam foomaticdb fortran gdbm gif gnome gpm 
gtk gtk2 imagemagick imlib ipv6 jpeg jpg kde ldap libg++ libwww linux-info mad 
mikmod mmx motif mp3 mpeg mysql mysqli ncurses nls ogg oggvorbis opengl oss 
pam pdflib perl php png python qt quicktime readline ruby samba sdl slang 
spell ssl svga tcpd tetex tiff truetype truetype-fonts type1-fonts vorbis xml 
xml2 xmms xv zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CBUILD, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS, 
PORTDIR_OVERLAY






Comment 2


foser (RETIRED)






          2005-05-25 16:47:10 UTC
        

libgcrypt deps on libgpg-error like it should, do you have it now or did you
remove it at some point ?




Comment 3


Daniel Lamblin





          2005-05-26 08:19:35 UTC
        

I did not have libgpg-error  it was not included by portage in the list of 
things to build for ntp or for libgcrypt.

Both items have built successfully now that libgpg-error is built










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

