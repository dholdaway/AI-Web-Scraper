Title: 338854 – >=x11-libs/libX11-1.3.99.902 hangs endless with w3m at Compose/en_US.UTF-8.txt
URL: https://bugs.gentoo.org/show_bug.cgi?id=338854

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 338854
>=x11-libs/libX11-1.3.99.902 hangs endless with w3m at Compose/en_US.UTF-8.txt
Last modified: 2019-06-20 12:00:06 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 338854 
      - >=x11-libs/libX11-1.3.99.902 hangs endless with w3m at Compose/en_US.UTF-8.txt


Summary:
>=x11-libs/libX11-1.3.99.902 hangs endless with w3m at Compose/en_US.UTF-8.txt
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Library

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo X packagers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2010-09-26 21:21 UTC by Juergen Rose





      Modified:
    
2019-06-20 12:00 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



cloos









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Juergen Rose





          2010-09-26 21:21:09 UTC
        

'emerge world' comes until emerging libX11:
...
  GEN    Compose/C.txt
  GEN    Compose/el_GR.UTF-8.txt
  GEN    Compose/en_US.UTF-8.txt

Top shows:
top - 23:15:36 up 11 days,  7:35,  6 users,  load average: 2.18, 2.17, 2.18
Tasks: 237 total,   3 running, 234 sleeping,   0 stopped,   0 zombie
Cpu(s): 99.7%us,  0.3%sy,  0.0%ni,  0.0%id,  0.0%wa,  0.0%hi,  0.0%si,  0.0%st
Mem:   2073532k total,  1907624k used,   165908k free,   422704k buffers
Swap: 12168796k total,    19560k used, 12149236k free,   847976k cached

  PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND                                        
 6786 root      20   0 12440 4604 2288 R   99  0.2 272:49.60 w3m                                             
14789 root      20   0 14284 5056 1692 R   99  0.2   5338:25 w3m                                             



Reproducible: Always




root@vilm:/root(23)# emerge --info
Portage 2.1.9.10 (default/linux/x86/10.0/desktop, gcc-4.4.4, glibc-2.12.1-r1, 2.6.35-gentoo-r6 i686)
=================================================================
System uname: Linux-2.6.35-gentoo-r6-i686-Intel-R-_Pentium-R-_4_CPU_3.00GHz-with-gentoo-2.0.1
Timestamp of tree: Fri, 24 Sep 2010 22:30:19 +0000
ccache version 2.4 [disabled]
app-shells/bash:     4.1_p7
dev-java/java-config: 2.1.11
dev-lang/python:     2.6.5-r3, 3.1.2-r4
dev-util/ccache:     2.4-r8
dev-util/cmake:      2.8.1-r2
sys-apps/baselayout: 2.0.1
sys-apps/openrc:     0.6.3
sys-apps/sandbox:    2.3-r1
sys-devel/autoconf:  2.13, 2.67
sys-devel/automake:  1.4_p6-r1, 1.7.9-r2, 1.8.5-r4, 1.9.6-r3, 1.10.3, 1.11.1
sys-devel/binutils:  2.20.1-r1
sys-devel/gcc:       4.4.4-r2
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   2.2.10
sys-devel/make:      3.81-r2
virtual/os-headers:  2.6.35 (sys-kernel/linux-headers)
ACCEPT_KEYWORDS="x86 ~x86"
ACCEPT_LICENSE="* -@EULA PUEL dlj-1.1 skype-eula googleearth AdobeFlash-10.1 cadsoft"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium4 -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/X11/xkb /usr/share/config /var/bind /var/lib/hsqldb"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/eselect/postgresql /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c"
CXXFLAGS="-O2 -march=pentium4 -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="assume-digests distlocks fixlafiles fixpackages news parallel-fetch protect-owned sandbox sfperms strict unknown-features-warn unmerge-logs unmerge-orphans userfetch"
FFLAGS="-O2 -march=pentium4 -fomit-frame-pointer"
GENTOO_MIRRORS="http://linux.rz.ruhr-uni-bochum.de/download/gentoo-mirror http://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/ rsync://ftp.fi.muni.cz/pub/linux/gentoo ftp://ftp.wh2.tu-dresden.de/pub/mirrors/gentoo rsync://gd.tuwien.ac.at/opsys/linux/gentoo ftp://sunsite.informatik.rwth-aachen.de/pub/Linux/gentoo ftp://ftp.tu-clausthal.de/pub/linux/gentoo http://gentoo.oregonstate.edu"
LANG="en_US.UTF-8"
LDFLAGS="-Wl,-O1 -Wl,--as-needed"
LINGUAS="de fr"
MAKEOPTS="-j1"
PKGDIR="/usr/portage/packages/"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/var/lib/layman/java-overlay /var/lib/layman/science /var/lib/layman/x11 /var/lib/layman/sunrise /var/lib/layman/arcon /usr/local/portage /var/lib/cpan"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="R X Xaw3d a52 aac abiword acl acpi admin afs alsa ao apache2 applet archive arpack asf aspell assistant audacious audiofile automap automount bash-completion beagle berkdb blas blast bluetooth boo boost branding bzip2 cairo cdda cddb cdf cdio cdparanoia cdr cgi chm cli consolekit corba cracklib crypt css cups curl cxx daap db dbase dbi dbm dbus designer devhelp device-mapper dga dia djvu doc dri ds2490 ds9097 ds9097u dts dv dvb dvd dvdr dvi dynamicplugin eds elf emacs emboss empathy encode epiphany evo examples exif expat extensions extra extras fam fame ffmpeg fftw firefox fits flac fltk fontconfig foomaticdb fortran fpx fts3 fuse galago garmin gd gdal gdbm gedit geoip geolocation geos gif gimp ginac git glade glib gml gmp gmtsuppl gnokii gnome gnome-keyring gnome-print gnuplot gnutls gphoto2 gpm grammar graphics graphtft graphviz grass gs gsl gsm gstreamer gtk guile hal harness hddtemp hdf hdf5 hdri hlapi http httpd hvm iconv icq icu id3 ide imagemagick imap innodb inotify ipod ipv6 irda ithreads jabber jadetex java java5 java6 jbig john jpeg jpeg2k kdrive kerberos kpathsea ladspa lame lapack latex latex3 lcms ldap lensfun libffi libgda libnotify libsamplerate lirc lm_sensors lua lzo mad mail maildir mailwrapper mapnik math matroska matrox mikmod mkl mmx mmxext mng modules mono moonlight motif mozdevelop mozilla mp3 mp4 mpeg mpi mplayer mtp mudflap musicbrainz mysql mysqli nautilus ncurses neXt netcdf netpbm network networking networkmanager nfs nls nntp nptl nptlonly nsplugin ntfs ntp numarray numeric obex objc ocaml octave odbc ogdi ogg ole openexr opengl openmp overview pae pam pango pcre pda pdf perl plotutils plugins png podcast policykit posix postgres postscript ppds pppd preview-latex proj projectx pstricks pulseaudio pymol python python-bindings qemu qhull qt3support qt4 quicktime readline reflection reiserfs rle romio rpc rrdcgi rrdtool samba sasl science sdl secure-delete semantic-desktop server session sip slang slp smbclient smp sms sndfile snmp soup sox speex spell sql sqlite sse sse2 ssl startup-notification stlport subtitles subversion suexec svg swig sysfs szip t1lib tcl tcpd tex tex4ht texmacs theora thinkpad threads thunderbird tidy tiff tk tntc tools truetype udev unicode usb userlocales utempter v4l2 virtualbox vorbis wav webdav webdav-serf webkit win32codecs wmf wxwidgets x264 x86 xattr xcb xemacs xext xine xml xmlreader xmlrpc xorg xpm xulrunner xv xvid xvmc zlib zvbi" ALSA_CARDS="intel8x0" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic auth_digest authn_anon authn_dbd authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock dbd deflate dir disk_cache env expires ext_filter file_cache filter headers ident imagemap include info log_config logio mem_cache mime mime_magic negotiation proxy proxy_ajp proxy_balancer proxy_connect proxy_http rewrite setenvif so speling status unique_id userdir usertrack vhost_alias" CAMERAS="canon" ELIBC="glibc" INPUT_DEVICES="keyboard mouse                evdev               " KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="de fr" NETBEANS_MODULES="apisupport cnd dlight enterprise ergonomics groovy gsf harness ide identity j2ee java mobility nb php profiler ruby websvccommon xml" QEMU_SOFTMMU_TARGETS="i386 ppc ppc64 x86_64" QEMU_USER_TARGETS="arm i386 x86_64" RUBY_TARGETS="ruby18 jruby" USERLAND="GNU" VIDEO_CARDS="mga vesa" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account" 
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LC_ALL, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Juergen Rose





          2010-09-26 21:26:53 UTC
        

root@vilm:/root(24)# genlop -t libX11 | tail 

     Wed Jun  9 06:50:34 2010 >>> x11-libs/libX11-1.3.4
       merge time: 5 minutes and 14 seconds.

     Fri Aug 13 05:40:37 2010 >>> x11-libs/libX11-1.3.5
       merge time: 5 minutes and 22 seconds.

     Sun Sep 12 05:46:14 2010 >>> x11-libs/libX11-1.3.99.901
       merge time: 10 minutes and 43 seconds.

root@vilm:/root(25)# emerge -pvD libX11

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild     U ] x11-libs/libX11-1.3.99.902 [1.3.99.901] USE="doc ipv6 -static-libs -test" 0 kB [1]

Total: 1 package (1 upgrade), Size of downloads: 0 kB
Portage tree and overlays:
 [0] /usr/portage
 [1] /var/lib/layman/x11





Comment 2


Juergen Rose





          2010-09-27 08:50:28 UTC
        

Now I found still to other boxes with the same issue:
root@tiger:/root(4)# genlop -c

 Currently merging 3 out of 7

 * x11-libs/libX11-1.3.99.902 

       current merge time: 4 days, 2 hours, 58 minutes and 19 seconds.
       ETA: any time now.
top - 10:34:27 up 122 days, 19:07,  5 users,  load average: 1.07, 1.13, 1.09
Tasks: 183 total,   2 running, 181 sleeping,   0 stopped,   0 zombie
Cpu(s): 22.6%us,  4.2%sy,  0.0%ni, 71.6%id,  1.5%wa,  0.0%hi,  0.0%si,  0.0%st
Mem:   2010128k total,  1226920k used,   783208k free,   754916k buffers
Swap:  1510104k total,    44128k used,  1465976k free,   177980k cached

  PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND                                                        
12994 root      20   0 17852 7276 2320 R 95.9  0.4   5722:22 w3m                                                             


root@cheetah:/root(1)# genlop -c

 Currently merging 3 out of 9

 * x11-libs/libX11-1.3.99.902 

       current merge time: 4 days, 6 hours, 5 minutes and 11 seconds.
       ETA: any time now.

top - 10:38:28 up 89 days, 17:55, 12 users,  load average: 2.29, 1.68, 1.43
Tasks: 227 total,   4 running, 221 sleeping,   0 stopped,   2 zombie
Cpu(s): 29.7%us,  5.9%sy,  0.6%ni, 60.9%id,  1.9%wa,  1.0%hi,  0.0%si,  0.0%st
Mem:   2073420k total,  1813336k used,   260084k free,   612368k buffers
Swap: 29784496k total,   309480k used, 29475016k free,   400828k cached

  PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND                                               
23065 root      20   0 15536 6264 2384 R 66.4  0.3   5617:00 w3m                                                    





Comment 3


Juergen Rose





          2010-10-05 14:34:39 UTC
        

Reemerging w3m seems to solve the issue for me. Now not w3m but xsltproc seems to be called to compose en_US.UTF-8.txt.






Comment 4


Juergen Rose





          2010-10-13 09:25:08 UTC
        

I hit the issue again, 'emerge libX11' hangs at:
...
  GEN    Compose/nokhchi-1.txt
  GEN    Compose/pt_BR.UTF-8.txt

'top' shows me, tha w3m is running several hours with ca. 50% CPU use:
Tasks: 194 total,   4 running, 190 sleeping,   0 stopped,   0 zombie
Cpu(s): 71.3%us, 25.1%sy,  0.0%ni,  0.0%id,  0.0%wa,  0.3%hi,  3.3%si,  0.0%st
Mem:   2073308k total,  1937676k used,   135632k free,   516692k buffers
Swap: 29784496k total,    28840k used, 29755656k free,   881340k cached

  PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND                                                         
18523 root      20   0 14512 5176 1584 R 44.8  0.2 680:29.25 w3m                                                              
17565 root      20   0 84740  29m 7268 R  7.6  1.4  77:27.78 X                                                                

'ps' shows that w3m is working with pt_BR.UTF-8:

rose@cheetah:/home/rose(4)$ ps -ef | grep w3m
rose      5454 18031  0 11:53 pts/3    00:00:00 grep --colour=auto w3m
root     18523 18521 72 Oct11 pts/2    11:21:23 /usr/bin/w3m -T text/html -dump /var/tmp/portage/x11-libs/libX11-1.3.99.902/temp/xmlto.bteOIu/pt_BR.UTF-8.proc

w3m is rather new, it was installed last time at Oct 5th:
rose@cheetah:/home/rose(5)$ genlop -t w3m | tail

     Mon Dec 14 13:24:11 2009 >>> www-client/w3m-0.5.2-r3
       merge time: 2 minutes and 5 seconds.

     Mon Jun 21 13:21:56 2010 >>> www-client/w3m-0.5.2-r4
       merge time: 2 minutes and 9 seconds.

     Tue Oct  5 15:43:12 2010 >>> www-client/w3m-0.5.2-r4
       merge time: 2 minutes and 49 seconds.

If I remove w3m 
root@cheetah:/root(3)# emerge -C w3m && emerge -uvDNe --resume system ,

I can emerge libX11-1.3.99.902. Can anybody explain, why w3m is called emerging libX11?






Comment 5


Andrey Vul





          2010-10-13 22:44:34 UTC
        

Seconded. "!www-client/w3m" should be added in the DEPEND part of the ebuild.




Comment 6


Rémi Cardona (RETIRED)






          2010-10-14 06:21:27 UTC
        

Could *anyone* please attach a full build.log?

Bonus points if someone attaches a full build.log generated using "V=1 emerge ..."

Thanks




Comment 7


James Cloos





          2010-10-14 19:10:31 UTC
        

> "!www-client/w3m" should be added in the DEPEND part of the ebuild.

Blocking w3m is not a useful choice.

The build process wants to create a text version of the documentation and uses a tui web browser to do so.

It is probably xmlto(1) which tries calling w3m, so the real solution is to fix xmlto.

We (xorg) are working on improving the doc generation.





Comment 8


Juergen Rose





          2011-01-17 11:17:20 UTC
        

Now I get the same error with libX11-1.4.1.

'emerge uvDN world' hangs endless at:
  GEN    Compose/am_ET.UTF-8.txt
  GEN    Compose/armscii-8.txt
  GEN    Compose/C.txt
  GEN    Compose/el_GR.UTF-8.txt
  GEN    Compose/en_US.UTF-8.txt


'top' shows:
top - 12:04:44 up 4 days,  9:50, 14 users,  load average: 2.16, 2.33, 2.31
Tasks: 241 total,   3 running, 236 sleeping,   0 stopped,   2 zombie
Cpu(s): 97.4%us,  2.3%sy,  0.0%ni,  0.0%id,  0.0%wa,  0.0%hi,  0.3%si,  0.0%st
Mem:   2073356k total,  2014496k used,    58860k free,   219800k buffers
Swap:  6016304k total,    95032k used,  5921272k free,   833260k cached

PID   USER      PR  NI VIRT   RES SHR  S %CPU %MEM   TIME+   COMMAND
 6953 root      20   0 79752  71m 3280 R 47.4  3.6   0:06.20 emerge
19402 root      20   0 18372 6552 2332 R 47.4  0.3   8:23.53 w3m

root@thinkpad:/root(6)# genlop -c
Currently merging 2 out of 21

 * x11-libs/libX11-1.4.1 

       current merge time: 25 minutes and 59 seconds.
       ETA: 9 minutes and 28 seconds.






Comment 9


Juergen Rose





          2011-01-17 11:24:11 UTC
        

root@thinkpad:/root(7)# emerge --info
Portage 2.1.9.31 (default/linux/x86/10.0/desktop, gcc-4.4.5, glibc-2.12.2-r0, 2.6.37-gentoo i686)
=================================================================
System uname: Linux-2.6.37-gentoo-i686-Intel-R-_Pentium-R-_M_processor_2.00GHz-with-gentoo-2.0.1
Timestamp of tree: Mon, 17 Jan 2011 00:30:22 +0000
ccache version 3.1.4 [disabled]
app-shells/bash:     4.1_p9
dev-java/java-config: 2.1.11-r3
dev-lang/python:     2.7.1, 3.1.3
dev-util/ccache:     3.1.4
dev-util/cmake:      2.8.3-r1
sys-apps/baselayout: 2.0.1-r1
sys-apps/openrc:     0.7.0
sys-apps/sandbox:    2.4
sys-devel/autoconf:  2.13, 2.68
sys-devel/automake:  1.9.6-r3, 1.10.3, 1.11.1
sys-devel/binutils:  2.21
sys-devel/gcc:       4.4.5, 4.5.2
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   2.4-r1
sys-devel/make:      3.82
virtual/os-headers:  2.6.36.1 (sys-kernel/linux-headers)
ACCEPT_KEYWORDS="x86 ~x86"
ACCEPT_LICENSE="* -@EULA PUEL dlj-1.1 skype-eula googleearth AdobeFlash-10.1 cadsoft"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium-m -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/config /usr/share/openvpn/easy-rsa /var/lib/hsqldb"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/eselect/postgresql /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php5.3/ext-active/ /etc/php/cgi-php5.3/ext-active/ /etc/php/cli-php5.3/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c"
CXXFLAGS="-O2 -march=pentium-m -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="assume-digests binpkg-logs distlocks fixlafiles fixpackages news parallel-fetch protect-owned sandbox sfperms strict unknown-features-warn unmerge-logs unmerge-orphans userfetch"
FFLAGS="-O2 -march=pentium-m -fomit-frame-pointer"
GENTOO_MIRRORS="http://linux.rz.ruhr-uni-bochum.de/download/gentoo-mirror http://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/ rsync://ftp.fi.muni.cz/pub/linux/gentoo ftp://ftp.wh2.tu-dresden.de/pub/mirrors/gentoo rsync://gd.tuwien.ac.at/opsys/linux/gentoo ftp://sunsite.informatik.rwth-aachen.de/pub/Linux/gentoo ftp://ftp.tu-clausthal.de/pub/linux/gentoo http://gentoo.oregonstate.edu"
LANG="en_US.UTF-8"
LDFLAGS="-Wl,-O1 -Wl,--as-needed"
LINGUAS="de fr"
MAKEOPTS="-j1"
PKGDIR="/usr/portage/packages/"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/var/lib/layman/arcon /var/lib/layman/java-overlay /var/lib/layman/lordvan /var/lib/layman/pro-audio /var/lib/layman/science /var/lib/layman/sunrise /var/lib/layman/x11 /usr/local/portage /var/lib/cpan /var/lib/g-octave"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="R X Xaw3d a52 aac abiword accessibility acl acpi admin afs alsa amrr ao apache2 applet archive arpack asf aspell assistant audacious audiofile automap automount bash-completion beagle berkdb blas blast bluetooth boo boost branding bzip2 cairo cardbus cdda cddb cdf cdio cdparanoia cdr cgi chm cli consolekit corba cracklib crypt css cups curl cxx daap db dbase dbi dbm dbus designer devhelp device-mapper dga dia djvu doc dri ds2490 ds9097 ds9097u dts dv dvb dvd dvdr dvi dynamicplugin eds elf emacs emboss emf empathy encode epiphany evo examples exif expat extensions extra extras fam fame ffmpeg fftw firefox fits flac fltk fontconfig foomaticdb fortran fpx fts3 fuse galago garmin gd gdal gdbm gdu gedit geoip geolocation geos gfortran gif gimp ginac git glade glib gml gmp gmtsuppl gnokii gnome gnome-keyring gnome-print gnuplot gnutls gphoto2 gpm grammar graphics graphtft graphviz grass gs gsl gsm gstreamer gtk guile hal harness hddtemp hdf hdf5 hdri hlapi http httpd iconv icq icu id3 ide imagemagick imap innodb inotify ipod ipv6 irda ithreads jabber jadetex java java5 java6 jbig john jpeg jpeg2k kdrive kerberos kpathsea ladspa lame lapack laptop latex latex3 lcms ldap lensfun libffi libgda libnotify libsamplerate lirc lua lzo mad madwifi mail maildir mailwrapper mapnik math matroska mikmod mkl mmx mmxext mng modules mono moonlight motif mozdevelop mozilla mp3 mp4 mpeg mpi mplayer mtp mudflap musicbrainz mysql mysqli nautilus ncurses neXt netcdf netpbm network networking networkmanager nfs nls nntp nptl nptlonly nsplugin ntfs ntp numarray numeric obex objc ocaml octave odbc ogdi ogg ole openexr opengl openmp overview pam pango pcre pda pdf perl plotutils plugins png podcast policykit posix postgres postscript ppds pppd preview-latex proj projectx pstricks pulseaudio pymol python python-bindings q16 q32 qemu qhull qt3support qt4 quicktime readline reiserfs reports rle romio rpc rrdcgi rrdtool samba sasl science sdl secure-delete semantic-desktop server session sip slang slp smbclient sms sndfile snmp soup sox speex spell sql sqlite sse sse2 ssl startup-notification stlport subtitles subversion suexec svg swig sysfs szip t1lib tcl tcpd tex tex4ht texmacs theora thinkpad threads thunderbird tidy tiff tk tntc tools truetype udev unicode usb userlocales utempter v4l2 video virtualbox vorbis wav webdav webdav-serf webkit wifi win32codecs wmf wxwidgets x264 x86 xattr xcb xemacs xext xine xml xmlreader xmlrpc xorg xpm xulrunner xv xvid xvmc zlib zvbi" ALSA_CARDS="intel8x0 ac97_codec emu10k1 emu10k1x" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic auth_digest authn_anon authn_dbd authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cgid dav dav_fs dav_lock dbd deflate dir disk_cache env expires ext_filter file_cache filter headers ident imagemap include info log_config logio mem_cache mime mime_magic negotiation proxy proxy_ajp proxy_balancer proxy_connect proxy_http rewrite setenvif so speling status unique_id userdir usertrack vhost_alias" CAMERAS="canon" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" DVB_CARDS="usb-wt220u" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf superstar2 timing tsip tripmate tnt ubx" INPUT_DEVICES="keyboard mouse evdev synaptics" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="de fr" NETBEANS_MODULES="apisupport cnd dlight enterprise ergonomics groovy gsf harness ide identity j2ee java mobility nb php profiler ruby websvccommon xml" PHP_TARGETS="php5-3" QEMU_SOFTMMU_TARGETS="i386 ppc ppc64 x86_64" QEMU_USER_TARGETS="arm i386 x86_64" RUBY_TARGETS="ruby18 jruby" USERLAND="GNU" VIDEO_CARDS="radeon vesa displaylink" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account" 
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LC_ALL, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS






Comment 10


Juergen Rose





          2011-01-17 11:24:50 UTC
        

Please reopen bug.




Comment 11


Juergen Rose





          2011-01-17 11:25:53 UTC
        

xmlto and w3m is installed:

root@thinkpad:/home_thinkpad/rose/Bioinf/test_StackAlign/Results(400)# qlist -Iv xmlto
app-text/xmlto-0.0.23
root@thinkpad:/home_thinkpad/rose/Bioinf/test_StackAlign/Results(401)# qlist -Iv w3m
app-emacs/emacs-w3m-1.4.417_pre20101104
www-client/w3m-0.5.3





Comment 12


Chí-Thanh Christopher Nguyễn






          2011-01-17 12:16:46 UTC
        

Reopening




Comment 13


Juergen Rose





          2011-01-17 12:21:24 UTC
        

reemerging xmlto solved the issue for me.

root@thinkpad:/root(11)# genlop -t xmlto | tail
     Thu Feb  4 06:33:21 2010 >>> app-text/xmlto-0.0.23
       merge time: 39 seconds.
     Mon Sep 20 20:55:04 2010 >>> app-text/xmlto-0.0.23
       merge time: 44 seconds.
     Mon Jan 17 12:21:34 2011 >>> app-text/xmlto-0.0.23
       merge time: 1 minute and 37 seconds.





Comment 14


Juergen Rose





          2011-03-22 13:43:50 UTC
        

Now I hit the issue again with libX11-1.4.2.




Comment 15


Juergen Rose





          2011-03-22 16:00:27 UTC
        

The first lines of top

top - 16:49:40 up 45 days, 19:39,  3 users,  load average: 2.04, 2.09, 2.12
Tasks: 146 total,   3 running, 143 sleeping,   0 stopped,   0 zombie
Cpu(s): 99.2%us,  0.8%sy,  0.0%ni,  0.0%id,  0.0%wa,  0.0%hi,  0.0%si,  0.0%st
Mem:    901252k total,   821196k used,    80056k free,    28244k buffers
Swap:  8388604k total,    21544k used,  8367060k free,   406848k cached

  PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND                                                                        
15843 root      20   0 94776  79m 3720 R  100  9.0   0:08.55 cc1plus                                                                         
31802 root      20   0 12480 5940 2180 R   99  0.7  69:18.70 w3m                                                                             


And reemerging of xmlto did not solve the issue:

root@inspironM12:/root(9)# genlop -t xmlto
 * app-text/xmlto

     Fri Aug 21 19:30:19 2009 >>> app-text/xmlto-0.0.22
       merge time: 1 minute and 8 seconds.

     Thu Dec 17 18:29:04 2009 >>> app-text/xmlto-0.0.22
       merge time: 1 minute and 16 seconds.

     Fri Dec 25 05:27:48 2009 >>> app-text/xmlto-0.0.23
       merge time: 1 minute and 21 seconds.

     Fri Jul 16 04:24:41 2010 >>> app-text/xmlto-0.0.23
       merge time: 1 minute and 29 seconds.

     Tue Mar 22 15:11:32 2011 >>> app-text/xmlto-0.0.23
       merge time: 3 minutes and 14 seconds.




Comment 16


Juergen Rose





          2011-04-07 17:23:59 UTC
        

And now again with libX11-1.4.3, and it happens on almost all of my systems! Nobody else has this issue?




Comment 17


Juergen Rose





          2011-04-11 16:06:16 UTC
        


root@inspironM12:/root(22)# psgrep w3m
USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
root     24795 99.9  0.5  13036  5208 ?        R    Apr09 3672:29 /usr/bin/w3m -T text/html -dump /var/tmp/portage/x11-libs/libX11-1.4.3/temp/xmlto.POBTl4/pt_BR.UTF-8.proc




Comment 18


Juergen Rose





          2011-04-12 18:10:13 UTC
        

The language may vary, where w3m hangs:

root@inspironM12:/root(34)# psgrep w3m
USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
root      5867 99.9  0.5  11672  4636 pts/1    R+   16:48 196:58 /usr/bin/w3m -T text/html -dump /var/tmp/portage/x11-libs/libX11-1.4.3/temp/xmlto.gzQRkH/el_GR.UTF-8.proc


root@tiger:/root(27)# psgrep w3m
USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
root     15737 94.8  0.2  14572  5840 pts/0    R+   16:07 228:13 /usr/bin/w3m -T text/html -dump /var/tmp/portage/x11-libs/libX11-1.4.3/temp/xmlto.9YCIkl/en_US.UTF-8.proc


Also reemerging of w3m and xmlto did not improve the sitation.

Anybody is reading this bug?




Comment 19


Juergen Rose





          2011-04-12 19:29:50 UTC
        

With USE=-doc I can emerge libX11-1.4.3.




Comment 20


Juergen Rose





          2011-08-02 10:07:32 UTC
        

Four month later the same issue with libX11-1.4.4. It seems me that the problem occurs only at my i686 and not at x86_64 system. But all i686 seems to be affected, e.g.:

root@tiger:/root(20)# genlop -c

 Currently merging 2 out of 5

 * x11-libs/libX11-1.4.4 

       current merge time: 2 hours, 51 minutes and 27 seconds.
       ETA: any time now.

root@tiger:/root(22)# ps -ef | grep w3 | grep -v
Usage: grep [OPTION]... PATTERN [FILE]...
Try `grep --help' for more information.
root@tiger:/root(23)# ps -ef | grep w3 | grep -v grep
root     31193 31191 96 09:18 ?        02:35:02 /usr/bin/w3m -T text/html -dump /var/tmp/portage/x11-libs/libX11-1.4.4/temp/xmlto.2dCUme/pt_BR.UTF-8.proc

root@tiger:/root(26)# uname -a
Linux tiger 3.0.0 #1 SMP Sun Jul 24 12:06:11 CEST 2011 i686 Intel(R) Pentium(R) 4 CPU 1.60GHz GenuineIntel GNU/Linux




root@cheetah:/root(3)# genlop -t libX11 | tail

     Wed Feb  2 17:19:59 2011 >>> x11-libs/libX11-1.4.1
       merge time: 18 minutes and 19 seconds.

     Wed Mar 23 06:32:39 2011 >>> x11-libs/libX11-1.4.2
       merge time: 17 minutes and 42 seconds.

     Fri Apr  8 16:08:21 2011 >>> x11-libs/libX11-1.4.3
       merge time: 19 minutes and 42 seconds.

root@cheetah:/root(4)# genlop -c

 Currently merging 42 out of 63

 * x11-libs/libX11-1.4.4 

       current merge time: 28 minutes and 55 seconds.
       ETA: any time now.
root@cheetah:/root(5)# ps -ef | grep w3 | grep -v grep
root     20026 20024 89 11:44 ?        00:16:03 /usr/bin/w3m -T text/html -dump /var/tmp/portage/x11-libs/libX11-1.4.4/temp/xmlto.QFdkDp/pt_BR.UTF-8.proc

root@cheetah:/root(6)# uname -a
Linux cheetah 3.0.0 #1 PREEMPT Fri Jul 22 20:12:23 CEST 2011 i686 AMD Athlon(tm) XP 1800+ AuthenticAMD GNU/Linux




root@inspironM12:/usr/local/portage/sci-libs(60)# genlop -c
 Currently merging 9 out of 14

 * x11-libs/libX11-1.4.4 

       current merge time: 4 hours, 16 minutes and 36 seconds.
       ETA: any time now.

root@inspironM12:/usr/local/portage/sci-libs(61)# ps -ef | grep w3m | grep -v grep
root     20146 20144 99 08:06 ?        03:59:55 /usr/bin/w3m -T text/html -dump /var/tmp/portage/x11-libs/libX11-1.4.4/temp/xmlto.IrMNn5/pt_BR.UTF-8.proc

root@inspironM12:/usr/local/portage/sci-libs(62)# uname -a
Linux inspironM12 2.6.39-gentoo #3 SMP Mon Jun 6 15:50:08 CEST 2011 i686 Intel(R) Atom(TM) CPU Z520 @ 1.33GHz GenuineIntel GNU/Linux




Comment 21


Juergen Rose





          2011-08-02 10:13:12 UTC
        

BTW., why is emerge busy with generation of docs for pt_BR if I have set LINGUAS="de fr" in /etc/make.conf:

root@tiger:/root(28)# grep LING /etc/make.conf
LINGUAS="de fr"

root@cheetah:/root(11)# grep LING /etc/make.conf
LINGUAS="de fr"

root@inspironM12:/usr/local/portage/sci-libs(68)# grep LING /etc/make.conf
LINGUAS="de fr" ?




Comment 22


Juergen Rose





          2011-08-02 19:50:24 UTC
        

I reemerged w3m because it was last emerged before in April, xmlto-0.0.24 was anyway emerged today. But it does not help. The only solution was to remove the doc USE flag from x11-libs/libX11.




Comment 23


Juergen Rose





          2011-10-10 12:53:36 UTC
        

Three month later still the same issue, I can't emerge libX11 with the doc USE flag on i686 machines:

  PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND                                                                              
27153 root      20   0 14836 5576 2220 R 99.1  0.3  20:07.67 w3m




Comment 24


Piotr Karbowski (RETIRED)






          2019-06-20 12:00:06 UTC
        

I cannot reproduce this on the libX11 versions that are currently in portage, and since this has not been updated for years I will assume here that there's no longer problem with USE=doc libX11.

If anyone hit this issue again, feel free to reopen it.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

