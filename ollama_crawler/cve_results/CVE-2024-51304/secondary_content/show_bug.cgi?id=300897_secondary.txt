Title: 300897 – emerge dev-vcs/mercurial-9999 fails: cannot chown
URL: https://bugs.gentoo.org/show_bug.cgi?id=300897

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 300897
emerge dev-vcs/mercurial-9999 fails: cannot chown
Last modified: 2010-06-12 16:15:46 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 300897 
      - emerge dev-vcs/mercurial-9999 fails: cannot chown


Summary:
emerge dev-vcs/mercurial-9999 fails: cannot chown
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

ARM
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Dirkjan Ochtman (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2010-01-13 20:49 UTC by John L. Poole





      Modified:
    
2010-06-12 16:15 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



nelchael









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


John L. Poole





          2010-01-13 20:49:32 UTC
        

* ERROR: dev-util/mercurial-9999 failed.
 * Call stack:
 *               ebuild.sh, line   49:  Called src_unpack
 *             environment, line 3984:  Called mercurial_src_unpack
 *             environment, line 2750:  Called mercurial_fetch
 *             environment, line 2729:  Called die
 * The specific snippet of code:
 *       chmod -f g+rw "${hg_src_dir}/${EHG_PROJECT}" || die "failed to chwon ${EHG_PROJECT}";
 *  The die message:
 *   failed to chwon mercurial

Reproducible: Always

Steps to Reproduce:
1. emerge dev-util/mercurial-9999
2.
3.

Actual Results:  
>>> Emerging (4 of 17) dev-util/mercurial-9999
 * checking ebuild checksums ;-) ...                                     [ ok ]
 * checking auxfile checksums ;-) ...                                    [ ok ]
 * checking miscfile checksums ;-) ...                                   [ ok ]
>>> Unpacking source...
 *
 * ERROR: dev-util/mercurial-9999 failed.
 * Call stack:
 *               ebuild.sh, line   49:  Called src_unpack
 *             environment, line 3984:  Called mercurial_src_unpack
 *             environment, line 2750:  Called mercurial_fetch
 *             environment, line 2729:  Called die
 * The specific snippet of code:
 *       chmod -f g+rw "${hg_src_dir}/${EHG_PROJECT}" || die "failed to chwon ${EHG_PROJECT}";
 *  The die message:
 *   failed to chwon mercurial
 *
 * If you need support, post the topmost build error, and the call stack if relevant.
 * A complete build log is located at '/var/tmp/portage/dev-util/mercurial-9999/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/dev-util/mercurial-9999/temp/environment'.
 *

>>> Failed to emerge dev-util/mercurial-9999, Log file:

>>>  '/var/tmp/portage/dev-util/mercurial-9999/temp/build.log'

 * Messages for package dev-util/mercurial-9999:

 *
 * ERROR: dev-util/mercurial-9999 failed.
 * Call stack:
 *               ebuild.sh, line   49:  Called src_unpack
 *             environment, line 3984:  Called mercurial_src_unpack
 *             environment, line 2750:  Called mercurial_fetch
 *             environment, line 2729:  Called die
 * The specific snippet of code:
 *       chmod -f g+rw "${hg_src_dir}/${EHG_PROJECT}" || die "failed to chwon ${EHG_PROJECT}";
 *  The die message:
 *   failed to chwon mercurial
 *
 * If you need support, post the topmost build error, and the call stack if relevant.
 * A complete build log is located at '/var/tmp/portage/dev-util/mercurial-9999/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/dev-util/mercurial-9999/temp/environment'.
 *

 * Regenerating GNU info directory index...
 * Processed 5 info files.
tiny ~ #


Expected Results:  
staged and proceed with compiling

Here are the directory permissions:
tiny ~ # cd /var/tmp/portage/dev-util/
tiny dev-util # ls -la
total 12
drwxrwxr-x 3 portage portage 4096 Jan 13 12:29 .
drwxrwxr-x 8 portage portage 4096 Jan 13 12:29 ..
drwxrwxr-x 6 portage portage 4096 Jan 13 12:29 mercurial-9999
tiny dev-util # cd mercurial-9999/
tiny mercurial-9999 # ls -la
total 24
drwxrwxr-x 6 portage portage 4096 Jan 13 12:29 .
drwxrwxr-x 3 portage portage 4096 Jan 13 12:29 ..
-rw-r--r-- 1 portage portage    0 Jan 13 12:29 .exit_status
drwxr-xr-x 2 root    portage 4096 Jan 13 12:29 distdir
drwxrwxr-x 2 portage portage 4096 Jan 13 12:29 homedir
drwxrwxr-x 3 portage portage 4096 Jan 13 12:29 temp
drwx------ 2 portage portage 4096 Jan 13 12:29 work
tiny mercurial-9999 #




Comment 1


Dirkjan Ochtman (RETIRED)






          2010-06-07 09:25:28 UTC
        

Hmm, I couldn't reproduce this. Can you try again, and if it still fails attach a full build log (as named in the error message)?




Comment 2


Dirkjan Ochtman (RETIRED)






          2010-06-12 16:15:46 UTC
        

No feedback, closing.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

