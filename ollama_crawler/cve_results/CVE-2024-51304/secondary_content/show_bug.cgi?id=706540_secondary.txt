Title: 706540 – dev-lua/lutok-0.4-r2 : /.../ld: /.../liblua.a(lauxlib.o): relocation R_X86_64_PC32 against symbol stderr@@GLIBC_2.2.5 can not be used when making a shared object
URL: https://bugs.gentoo.org/show_bug.cgi?id=706540

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 706540
dev-lua/lutok-0.4-r2 : /.../ld: /.../liblua.a(lauxlib.o): relocation R_X86_64_PC32 against symbol stderr@@GLIBC_2.2.5 can not be used when making a shared object
Last modified: 2020-02-26 22:20:58 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 706540 
      - dev-lua/lutok-0.4-r2 : /.../ld: /.../liblua.a(lauxlib.o): relocation R_X86_64_PC32 against symbol stderr@@GLIBC_2.2.5 can not be used when making a shared object


Summary:
dev-lua/lutok-0.4-r2 : /.../ld: /.../liblua.a(lauxlib.o): relocation R_X86_64...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Mike Gilbert








URL:







Whiteboard:




Keywords:








Depends on:




706378



Blocks:







 

        Show dependency tree





 





      Reported:
    
2020-01-26 19:51 UTC by Toralf Förster





      Modified:
    
2020-02-26 22:20 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



emilianmedve









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge-info.txt

              (emerge-info.txt,14.48 KB,
                text/plain)

            
2020-01-26 19:51 UTC,

            Toralf Förster




Details





dev-lua:lutok-0.4-r2:20200126-194244.log

              (dev-lua:lutok-0.4-r2:20200126-194244.log,22.17 KB,
                text/plain)

            
2020-01-26 19:51 UTC,

            Toralf Förster




Details





emerge-history.txt

              (emerge-history.txt,10.35 KB,
                text/plain)

            
2020-01-26 19:51 UTC,

            Toralf Förster




Details





environment

              (environment,18.48 KB,
                text/plain)

            
2020-01-26 19:51 UTC,

            Toralf Förster




Details





etc.portage.tbz2

              (etc.portage.tbz2,12.70 KB,
                application/x-bzip)

            
2020-01-26 19:51 UTC,

            Toralf Förster




Details





logs.tbz2

              (logs.tbz2,8.41 KB,
                application/x-bzip)

            
2020-01-26 19:51 UTC,

            Toralf Förster




Details





temp.tbz2

              (temp.tbz2,9.68 KB,
                application/x-bzip)

            
2020-01-26 19:51 UTC,

            Toralf Förster




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Toralf Förster






          2020-01-26 19:51:15 UTC
        

libtool: link: x86_64-pc-linux-gnu-g++  -fPIC -DPIC -shared -nostdlib /usr/lib/gcc/x86_64-pc-linux-gnu/9.2.0/../../../../lib64/crti.o /usr/lib/gcc/x86_64-pc-linux-gnu/9.2.0/crtbeginS.o  .libs/liblutok_la-c_gate.o .libs/liblutok_la-debug.o .libs/liblutok_la-exceptions.o .libs/liblutok_la-operations.o .libs/liblutok_la-stack_cleaner.o .libs/liblutok_la-state.o   -llua -L/usr/lib/gcc/x86_64-pc-linux-gnu/9.2.0 -L/usr/lib/gcc/x86_64-pc-linux-gnu/9.2.0/../../../../lib64 -L/lib/../lib64 -L/usr/lib/../lib64 -L/usr/lib/gcc/x86_64-pc-linux-gnu/9.2.0/../../../../x86_64-pc-linux-gnu/lib -L/usr/lib/gcc/x86_64-pc-linux-gnu/9.2.0/../../.. -lstdc++ -lm -lc -lgcc_s /usr/lib/gcc/x86_64-pc-linux-gnu/9.2.0/crtendS.o /usr/lib/gcc/x86_64-pc-linux-gnu/9.2.0/../../../../lib64/crtn.o  -O2 -march=native -Wl,-O1 -Wl,--as-needed   -Wl,-soname -Wl,liblutok.so.3 -o .libs/liblutok.so.3.0.0
/usr/lib/gcc/x86_64-pc-linux-gnu/9.2.0/../../../../x86_64-pc-linux-gnu/bin/ld: /usr/lib/gcc/x86_64-pc-linux-gnu/9.2.0/../../../../lib64/liblua.a(lauxlib.o): relocation R_X86_64_PC32 against symbol `stderr@@GLIBC_2.2.5' can not be used when making a shared object; recompile with -fPIC
/usr/lib/gcc/x86_64-pc-linux-gnu/9.2.0/../../../../x86_64-pc-linux-gnu/bin/ld: /usr/lib/gcc/x86_64-pc-linux-gnu/9.2.0/../../../../lib64/liblua.a(lbaselib.o): relocation R_X86_64_PC32 against symbol `stdout@@GLIBC_2.2.5' can not be used when making a shared object; recompile with -fPIC
/usr/lib/gcc/x86_64-pc-linux-gnu/9.2.0/../../../../x86_64-pc-linux-gnu/bin/ld: /usr/lib/gcc/x86_64-pc-linux-gnu/9.2.0/../../../../lib64/liblua.a(ldblib.o): relocation R_X86_64_PC32 against symbol `stderr@@GLIBC_2.2.5' can not be used when making a shared object; recompile with -fPIC
/usr/lib/gcc/x86_64-pc-linux-gnu/9.2.0/../../../../x86_64-pc-linux-gnu/bin/ld: /usr/lib/gcc/x86_64-pc-linux-gnu/9.2.0/../../../../lib64/liblua.a(liolib.o): relocation R_X86_64_PC32 against symbol `stdin@@GLIBC_2.2.5' can not be used when making a shared object; recompile with -fPIC

  -------------------------------------------------------------------

  This is an unstable amd64 chroot image at a tinderbox (==build bot)
  name: 17.1_hardened-libressl_test-20200126-104546

  -------------------------------------------------------------------

gcc-config -l:
 [1] x86_64-pc-linux-gnu-9.2.0 *



Available Python interpreters, in order of preference:
  [1]   python3.6
  [2]   python2.7 (fallback)





repository:
==> /var/db/repos/gentoo/metadata/timestamp.chk <==
Sun, 26 Jan 2020 18:26:13 +0000

emerge -qpvO dev-lua/lutok
[ebuild  N    ] dev-lua/lutok-0.4-r2  USE="-test"




Comment 1


Toralf Förster






          2020-01-26 19:51:17 UTC
        

Created attachment 604870 [details]
emerge-info.txt




Comment 2


Toralf Förster






          2020-01-26 19:51:20 UTC
        

Created attachment 604872 [details]
dev-lua:lutok-0.4-r2:20200126-194244.log




Comment 3


Toralf Förster






          2020-01-26 19:51:23 UTC
        

Created attachment 604874 [details]
emerge-history.txt




Comment 4


Toralf Förster






          2020-01-26 19:51:26 UTC
        

Created attachment 604876 [details]
environment




Comment 5


Toralf Förster






          2020-01-26 19:51:29 UTC
        

Created attachment 604878 [details]
etc.portage.tbz2




Comment 6


Toralf Förster






          2020-01-26 19:51:32 UTC
        

Created attachment 604880 [details]
logs.tbz2




Comment 7


Toralf Förster






          2020-01-26 19:51:34 UTC
        

Created attachment 604882 [details]
temp.tbz2




Comment 8


Mike Gilbert






          2020-02-26 22:04:31 UTC
        

This seems like a problem with dev-lang/lua. Does /usr/lib64/liblua.so exist?




Comment 9


Toralf Förster






          2020-02-26 22:06:53 UTC
        

(In reply to Mike Gilbert from comment #8)
> This seems like a problem with dev-lang/lua. Does /usr/lib64/liblua.so exist?

mr-fox ~ # ls -l /usr/lib64/liblua.so*
lrwxrwxrwx 1 root root     15 Jan 27 02:30 /usr/lib64/liblua.so -> liblua.so.5.1.5
lrwxrwxrwx 1 root root     15 Jan 27 02:30 /usr/lib64/liblua.so.5 -> liblua.so.5.1.5
-rwxr-xr-x 1 root root 190168 Jan 27 02:30 /usr/lib64/liblua.so.5.1.5




Comment 10


Mike Gilbert






          2020-02-26 22:20:58 UTC
        

I can't reproduce the problem. I'm not sure why it is trying to use liblua.a instead of liblua.so on your system.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

