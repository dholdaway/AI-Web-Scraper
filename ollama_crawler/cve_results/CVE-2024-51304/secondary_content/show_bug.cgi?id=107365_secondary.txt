Title: 107365 – Cannot emerge media-gfx/hugin-0.5_rc2
URL: https://bugs.gentoo.org/show_bug.cgi?id=107365

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 107365
Cannot emerge media-gfx/hugin-0.5_rc2
Last modified: 2006-01-25 17:39:05 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 107365 
      - Cannot emerge media-gfx/hugin-0.5_rc2


Summary:
Cannot emerge media-gfx/hugin-0.5_rc2
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Mark Loeser (RETIRED)








URL:







Whiteboard:




Keywords:









Duplicates (1):
    

117338

      (view as bug list)
    


Depends on:




105189



Blocks:







 

        Show dependency tree





 





      Reported:
    
2005-09-26 23:47 UTC by Sebastian Bergmann (RETIRED)





      Modified:
    
2006-01-25 17:39 UTC
      (History)
    




          CC List:
        

5 
          users
          
            (show)
          



chriswhite
davidgrant
graphics+disabled
Sander.Sweers
tschenturs









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Logfile

              (hugin.log,68.11 KB,
                text/plain)

            
2005-09-27 22:30 UTC,

            Sebastian Bergmann (RETIRED)




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Sebastian Bergmann (RETIRED)






          2005-09-26 23:47:57 UTC
        

The compilation of media-gfx/hugin-0.5_rc1 fails with

  /usr/lib/gcc/i686-pc-linux-gnu/3.4.4/../../../libwx_gtk2u_core-2.6.so:
  undefined reference to `pango_x_get_context'


Reproducible: Always
Steps to Reproduce:
1. emerge hugin
Actual Results:  
/bin/sh ../../libtool --mode=link i686-pc-linux-gnu-g++ -pthread
-I/usr/include/gtk-2.0 -I/usr/lib/gtk-2.0/include -I/usr/include/atk-1.0
-I/usr/include/cairo -I/usr/include/pango-1.0 -I/usr/include/glib-2.0
-I/usr/lib/glib-2.0/include -DHasPANO  -march=pentium-m -O2 -pipe   -o hugin
-pthread -lwx_gtk2u_xrc-2.6 -lwx_gtk2u_html-2.6 -lwx_gtk2u_adv-2.6
-lwx_gtk2u_core-2.6 -lwx_baseu_xml-2.6 -lwx_baseu_net-2.6 -lwx_baseu-2.6
-pthread -lgtk-x11-2.0 -lgdk-x11-2.0 -latk-1.0 -lgdk_pixbuf-2.0 -lm
-lpangocairo-1.0 -lpango-1.0 -lcairo -lgobject-2.0 -lgmodule-2.0 -ldl
-lgthread-2.0 -lglib-2.0 -ltiff -lpng -ljpeg -lz -lpano12 huginApp.o
ImagesList.o AutoCtrlPointCreator.o MainFrame.o CPImageCtrl.o CPEditorPanel.o
LensPanel.o ImagesPanel.o CommandHistory.o PanoPanel.o NonaStitcherPanel.o
PTStitcherPanel.o PreviewFrame.o PreviewPanel.o ImageCenter.o OptimizePanel.o
RunOptimizerFrame.o RunStitcherFrame.o CPListFrame.o TextKillFocusHandler.o
ImageOrientationPanel.o ImageOrientationFrame.o PanoDruid.o CPZoomDisplayPanel.o
CPFineTuneFrame.o PreferencesDialog.o  ../../src/Panorama/libpanorama.la
../../src/foreign/vigra_impex/libvigra_impex.la ../../src/jhead/libjhead.la
../../src/common/libcommon.la ../../src/vigra_ext/libvigra_ext.la libhuginwxutils.la
i686-pc-linux-gnu-g++ -I/usr/include/gtk-2.0 -I/usr/lib/gtk-2.0/include
-I/usr/include/atk-1.0 -I/usr/include/cairo -I/usr/include/pango-1.0
-I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include -DHasPANO -march=pentium-m
-O2 -pipe -o hugin huginApp.o ImagesList.o AutoCtrlPointCreator.o MainFrame.o
CPImageCtrl.o CPEditorPanel.o LensPanel.o ImagesPanel.o CommandHistory.o
PanoPanel.o NonaStitcherPanel.o PTStitcherPanel.o PreviewFrame.o PreviewPanel.o
ImageCenter.o OptimizePanel.o RunOptimizerFrame.o RunStitcherFrame.o
CPListFrame.o TextKillFocusHandler.o ImageOrientationPanel.o
ImageOrientationFrame.o PanoDruid.o CPZoomDisplayPanel.o CPFineTuneFrame.o
PreferencesDialog.o  -lwx_gtk2u_xrc-2.6 -lwx_gtk2u_html-2.6 -lwx_gtk2u_adv-2.6
-lwx_gtk2u_core-2.6 -lwx_baseu_xml-2.6 -lwx_baseu_net-2.6 -lwx_baseu-2.6
-pthread /usr/lib/libgtk-x11-2.0.so /usr/lib/libgdk-x11-2.0.so
/usr/lib/libatk-1.0.so /usr/lib/libgdk_pixbuf-2.0.so
/usr/lib/libpangocairo-1.0.so /usr/lib/libpangoft2-1.0.so
/usr/lib/libpango-1.0.so /usr/lib/libcairo.so -lXrender -lX11 -lXext -lpng12
/usr/lib/libglitz.so /usr/lib/libfontconfig.so /usr/lib/libexpat.so
/usr/lib/libfreetype.so /usr/lib/libgobject-2.0.so /usr/lib/libgmodule-2.0.so
-ldl /usr/lib/libgthread-2.0.so -lpthread /usr/lib/libglib-2.0.so
../../src/Panorama/.libs/libpanorama.a /usr/lib/libpano12.so
-L/usr/i686-pc-linux-gnu/bin -L/usr/i686-pc-linux-gnu/lib
../../src/foreign/vigra_impex/.libs/libvigra_impex.a -lpng /usr/lib/libtiff.so
/usr/lib/libjpeg.so -lz ../../src/jhead/.libs/libjhead.a
../../src/common/.libs/libcommon.a ../../src/vigra_ext/.libs/libvigra_ext.a
./.libs/libhuginwxutils.a /usr/lib/gcc/i686-pc-linux-gnu/3.4.4/libstdc++.so -lm
-L/usr/lib/gcc/i686-pc-linux-gnu/3.4.4
-L/usr/lib/gcc/i686-pc-linux-gnu/3.4.4/../../../../i686-pc-linux-gnu/lib -lgcc_s -lc
/usr/lib/gcc/i686-pc-linux-gnu/3.4.4/../../../libwx_gtk2u_core-2.6.so: undefined
reference to `pango_x_get_context'
collect2: ld returned 1 exit status
make[3]: *** [hugin] Error 1
make[3]: Leaving directory `/var/tmp/portage/hugin-0.5_rc1/work/hugin-0.5/src/hugin'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/var/tmp/portage/hugin-0.5_rc1/work/hugin-0.5/src/hugin'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/hugin-0.5_rc1/work/hugin-0.5/src'
make: *** [all-recursive] Error 1


Portage 2.0.51.22-r2 (default-linux/x86/2005.1, gcc-3.4.4, glibc-2.3.5-r1,
2.6.13-gentoo-r2 i686)
=================================================================
System uname: 2.6.13-gentoo-r2 i686 Intel(R) Pentium(R) M processor 1500MHz
Gentoo Base System version 1.12.0_pre8
dev-lang/python:     2.4.1-r1
sys-apps/sandbox:    1.2.13
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.20
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=pentium-m -O2 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-march=pentium-m -O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoaddcvs autoconfig cvs digest distlocks fixpackages sandbox sfperms
sign strict"
GENTOO_MIRRORS="ftp://sunsite.informatik.rwth-aachen.de/pub/Linux/gentoo
ftp://trumpetti.atm.tut.fi/gentoo http://gentoo.oregonstate.edu
http://www.ibiblio.org/pub/Linux/distributions/gentoo"
LC_ALL="en_US.utf8"
LINGUAS="de"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X a52 aac acpi alsa avi berkdb bitmap-fonts browserplugin cairo cdr
crypt cups curl dbus divx4linux dvd dvdr dvdread eds emboss encode esd exif fame
firefox flac foomaticdb fortran gdbm gif glitz gnome gpm gstreamer gtk gtk2 hal
imlib ipv6 java jpeg libg++ libwww lzo mad matroska mikmod mjpeg mmx mng mono
moznocompose moznoirc moznomail mp3 mpeg ncurses nls nomotif nptl nvidia ogg
oggvorbis opengl oss pam pdflib perl png python quicktime readline spell sse
sse2 ssl svg tcpd theora tiff truetype truetype-fonts type1-fonts unicode usb
vorbis win32codecs wmf xml2 xv xvid zlib linguas_de userland_GNU kernel_linux
elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LDFLAGS, MAKEOPTS




Comment 1


Chris White (RETIRED)






          2005-09-27 00:02:33 UTC
        

hmm... 
 
chris@main /usr/lib $ readelf -a libpangox-1.0.so | grep pango_x_get_context 
    30: 00003ae5   232 FUNC    GLOBAL DEFAULT   10 pango_x_get_context 
 
is what it needs to link to.  That's a part of: 
 
x11-libs/pango-1.8.2 (/usr/lib/libpangox-1.0.so -> libpangox-1.0.so.0.801.1) 
 
interestingly enough, the actual program links with -lpango... 




Comment 2


Mark Loeser (RETIRED)






          2005-09-27 08:19:39 UTC
        

My libwx_gtk2u_core-2.6 has that symbol.

Try re-emerging wxGTK and then trying hugin again.  I don't think this is a
problem with hugin itself.




Comment 3


Sebastian Bergmann (RETIRED)






          2005-09-27 13:00:37 UTC
        

I did not have wxGTK installed before, it is pulled in by hugin. So reinstalling
wxGTK will not help.




Comment 4


Chris White (RETIRED)






          2005-09-27 13:43:19 UTC
        

Do you have a full log you can attach maybe? 




Comment 5


Mark Loeser (RETIRED)






          2005-09-27 20:11:13 UTC
        

Also, I'm curious what you get for the following command:

halcyon@nest ~ $ pkg-config --libs gtk+-2.0
-lgtk-x11-2.0 -lgdk-x11-2.0 -latk-1.0 -lgdk_pixbuf-2.0 -lm -lpangoxft-1.0
-lpangox-1.0 -lpangoft2-1.0 -lpango-1.0 -lgobject-2.0 -lgmodule-2.0 -ldl -lglib-2.0




Comment 6


Sebastian Bergmann (RETIRED)






          2005-09-27 22:18:38 UTC
        

wopr-mobile ~ # pkg-config --libs gtk+-2.0
-lgtk-x11-2.0 -lgdk-x11-2.0 -latk-1.0 -lgdk_pixbuf-2.0 -lm -lpangocairo-1.0
-lpango-1.0 -lcairo -lgobject-2.0 -lgmodule-2.0 -ldl -lglib-2.0




Comment 7


Sebastian Bergmann (RETIRED)






          2005-09-27 22:30:11 UTC
        

Created attachment 69388 [details]
Logfile




Comment 8


Mark Loeser (RETIRED)






          2005-09-27 22:57:48 UTC
        

What version of GTK+2 do you have?  The masked ones?




Comment 9


Sebastian Bergmann (RETIRED)






          2005-09-27 23:47:00 UTC
        

Yes, I have GNOME 2.12 installed.




Comment 10


Sebastian Bergmann (RETIRED)






          2005-09-27 23:47:43 UTC
        

Sorry, accidently reassigned the bug.




Comment 11


Mark Loeser (RETIRED)






          2005-09-28 23:21:50 UTC
        

This is definitely looking like a problem with the masked GTK ebuilds.  Not sure
what is the best way to fix it yet.  I'll have to clone an install and try them out.




Comment 12


Sebastian Bergmann (RETIRED)






          2005-10-06 07:50:05 UTC
        

Problem persists with media-gfx/hugin-0.5_rc2.




Comment 13


Mark Loeser (RETIRED)






          2005-11-20 01:04:43 UTC
        

Can you still reproduce this?  It seems to have "fixed" itself.




Comment 14


Mark Loeser (RETIRED)






          2005-11-29 06:30:13 UTC
        

WFM now




Comment 15


Karol Wojtaszek (RETIRED)






          2005-12-03 03:02:47 UTC
        

It was wxGTK bug, i've fixed it about 1 week ago ;)




Comment 16


Jakub Moc (RETIRED)






          2006-01-01 05:18:50 UTC
        

*** Bug 117338 has been marked as a duplicate of this bug. ***




Comment 17


David Grant





          2006-01-03 14:45:44 UTC
        

So what is the solution to this bug?




Comment 18


Mark Loeser (RETIRED)






          2006-01-03 16:29:38 UTC
        

(In reply to comment #17)
> So what is the solution to this bug?
> 

The solution is that it wasn't a problem with hugin but with wxGTK, so i'm assuming its fixed in their latest ebuilds.




Comment 19


Sander Sweers





          2006-01-25 17:15:07 UTC
        

(In reply to comment #18)
> (In reply to comment #17)
> > So what is the solution to this bug?
> > 
> 
> The solution is that it wasn't a problem with hugin but with wxGTK, so i'm
> assuming its fixed in their latest ebuilds.
> 
Not really, there is a bug open for it for 5 months now. It has a patch, link to the cvs commits and an ebuild patch.





Comment 20


Marcelo Goes (RETIRED)






          2006-01-25 17:21:51 UTC
        

Bug number please?




Comment 21


Sander Sweers





          2006-01-25 17:31:34 UTC
        

Ah, sorry wanted to do that :) It is bug 105189.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

