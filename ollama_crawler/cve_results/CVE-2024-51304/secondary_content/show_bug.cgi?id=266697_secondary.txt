Title: 266697 – sys-apps/sandbox-1.6-r2 fails ebuild test when upgrading from sys-apps/sandbox-1.2.18.1-r2
URL: https://bugs.gentoo.org/show_bug.cgi?id=266697

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 266697
sys-apps/sandbox-1.6-r2 fails ebuild test when upgrading from sys-apps/sandbox-1.2.18.1-r2
Last modified: 2009-05-26 12:04:28 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 266697 
      - sys-apps/sandbox-1.6-r2 fails ebuild test when upgrading from sys-apps/sandbox-1.2.18.1-r2


Summary:
sys-apps/sandbox-1.6-r2 fails ebuild test when upgrading from sys-apps/sandbo...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Portage Development




Classification:

Unclassified




Component:

Sandbox

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Sandbox Maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-04-18 21:06 UTC by T Chan





      Modified:
    
2009-05-26 12:04 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




testsuite.log

              (testsuite.log,116.03 KB,
                text/plain)

            
2009-04-18 21:10 UTC,

            T Chan




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


T Chan





          2009-04-18 21:06:44 UTC
        

Using FEATURES=-sandbox works. Subsequent re-emerging works. Not sure about intermediate versions, since they're all masked.

Steps to reproduce:
1. emerge -1 =sys-apps/sandbox-1.2.18.1-r2
2. ebuild /usr/portage/sys-apps/sandbox/sandbox-1.6-r2.ebuild test

FEATURES="distlocks fixpackages parallel-fetch protect-owned sandbox sfperms strict test unmerge-orphans userfetch"




Comment 1


T Chan





          2009-04-18 21:10:37 UTC
        

Created attachment 188830 [details]
testsuite.log




Comment 2


SpanKY






          2009-04-18 21:19:47 UTC
        

<sandbox-1.3 has known problems with recursive testing.  not much i can do about it.




Comment 3


T Chan





          2009-04-18 21:43:21 UTC
        

Adding a note in the failure message would help. It currently says
 * If configure failed with a 'cannot run C compiled programs' error, try this:
* FEATURES=-sandbox emerge sandbox

configure obviously didn't fail, but FEATURES=-sandbox still helped.




Comment 4


Jan





          2009-05-26 12:04:28 UTC
        

If "FEATURES=-sandbox" is insufficient, you may be using usersandbox and need to drop that as well. That worked for me:

FEATURES="-sandbox -usersandbox" emerge sandbox










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

