Title: 145457 – arping checking should be optional.
URL: https://bugs.gentoo.org/show_bug.cgi?id=145457

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 145457
arping checking should be optional.
Last modified: 2006-09-02 22:34:01 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 145457 
      - arping checking should be optional.


Summary:
arping checking should be optional.
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] baselayout

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Roy Marples (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-08-29 02:52 UTC by Peter Volkov (RETIRED)





      Modified:
    
2006-09-02 22:34 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Peter Volkov (RETIRED)






          2006-08-29 02:52:41 UTC
        

Hello, Uberlord.

Last time two related features appeared:

1. New versions of dhcpcd no do arping test before setting up interface.
2. Baselayout now also does arping test before setting up interface.

In one of my networking environments I have problems with both. Here we
receive IP address from dhcp server. But to block all other networking
communication we have some server that sends arp reply to all arp requests of
all systems in our subnet. So if somebody connect windows station and
configure it to use static address this will not work with "conflicting IP
address" error message.

Now you see why dhcpcd is not working here. When it find's out it's IP address
it checks if address exist and receive arp reply from that server and hangs
with an error:

Error, requested 195.209.218.XXX address is in use

But I see much more serious problem with arping testing. I have subnet with
about 800 computers (in one local ethernet segment). I use gentoo as an OS on
the servers inside this subnet. So consider how it easy for some silly user to
set it's own IP to server IP! Or user may try to test software like
ip-sentinel or honeyd wich emulates the whole subnets. Now I restart my server
and loose control (!!!) as new baselayout checks if the address exist in
subnet.

Of course it's rather simple to find such silly user. But consider bad user,
that just sits and wait for arping check that will some from my server and
sends one answer... I think apring check should be disabled on all servers!
But right now I did not find any way to make this optional.

Also may be it's good idea to check and to notify user about this, but it's
bad idea to cancel static address configuration.

TIA,
Peter.




Comment 1


Roy Marples (RETIRED)






          2006-09-02 22:34:01 UTC
        

To stop dhcpcd from attempting an arp test, use the -a option
dhcpcd_eth0="-a"

This works on a global scale, but only when baselayout-1.12.5 hits portage (may not be for a while)
dhcpcd="-a"

modules=( "!arping" ) in /etc/conf.d/net solves your other issue









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

