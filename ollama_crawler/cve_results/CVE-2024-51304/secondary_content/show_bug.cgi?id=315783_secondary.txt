Title: 315783 – www-client/chromium-5.0.375.3 compilation failure
URL: https://bugs.gentoo.org/show_bug.cgi?id=315783

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 315783
www-client/chromium-5.0.375.3 compilation failure
Last modified: 2010-04-20 07:53:04 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 315783 
      - www-client/chromium-5.0.375.3 compilation failure


Summary:
www-client/chromium-5.0.375.3 compilation failure
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Bernard Cafarelli








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2010-04-17 20:30 UTC by srunni





      Modified:
    
2010-04-20 07:53 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge --info output

              (emerge_info.log,4.33 KB,
                text/plain)

            
2010-04-17 20:32 UTC,

            srunni




Details





build log

              (build.log,935.54 KB,
                text/plain)

            
2010-04-17 20:35 UTC,

            srunni




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


srunni





          2010-04-17 20:30:52 UTC
        

When I attempt to upgrade to www-client/chromium-5.0.375.3, the compilation fails.

Reproducible: Always

Steps to Reproduce:
1. emerge www-client/chromium-5.0.375.3
2. Observe the build failure




Comment 1


srunni





          2010-04-17 20:32:07 UTC
        

Created attachment 228209 [details]
emerge --info output




Comment 2


srunni





          2010-04-17 20:33:57 UTC
        

$ emerge -pqv =www-client/chromium-5.0.375.3
[ebuild     U ] www-client/chromium-5.0.375.3 [5.0.307.9] USE="mp3%* plugins-symlink x264%* (-ffmpeg%*)" 




Comment 3


srunni





          2010-04-17 20:35:56 UTC
        

Created attachment 228211 [details]
build log




Comment 4


Bernard Cafarelli






          2010-04-18 20:08:35 UTC
        

Looks like some new build scripts use perl now?

Can you try to emerge virtual/perl-version and try again? Thanks




Comment 5


Bartłomiej Majka





          2010-04-18 20:27:33 UTC
        

I think you need to have perl version >= 5.10.0 do compile this version of
chromium.

You will need to unmask a few packages (if you haven't done this before):

echo -e "dev-lang/perl\nsys-devel/libperl\napp-admin/perl-cleaner" >>
/etc/portage/package.keywords

Then install perl 5.10.1 or newer:

emerge -a =perl-5.10.1

After this, try installing chromium again.




Comment 6


srunni





          2010-04-19 01:37:35 UTC
        

(In reply to comment #5)
> I think you need to have perl version >= 5.10.0 do compile this version of
> chromium.
> 
> You will need to unmask a few packages (if you haven't done this before):
> 
> echo -e "dev-lang/perl\nsys-devel/libperl\napp-admin/perl-cleaner" >>
> /etc/portage/package.keywords
> 
> Then install perl 5.10.1 or newer:
> 
> emerge -a =perl-5.10.1
> 
> After this, try installing chromium again.

Thanks a lot, it's working now!

Is there some way to know which versions of dependencies are needed if a package fails to compile like this, or do I just have to look at the build error?





Comment 7


Paweł Hajdan, Jr. (RETIRED)






          2010-04-19 11:57:41 UTC
        

(In reply to comment #5)
> I think you need to have perl version >= 5.10.0 do compile this version of
> chromium.

I have perl-5.8.8 and no virtual/perl-version (and neither perl-core/version), and compile succeeded for me. Maybe you just have broken perl (and the update fixed the mess)?




Comment 8


Bernard Cafarelli






          2010-04-19 12:21:11 UTC
        

After checking, perl-version only became a dual-life module in perl 5.10, so in perl 5.8 you only need perl itself (Pawel can you run a locate on version.pm? you should have one in /usr/lib/perl5/5.8.8 I think)

And in this case that does mean you had a broken perl setup, perl-cleaner can help in cases like that too




Comment 9


Paweł Hajdan, Jr. (RETIRED)






          2010-04-19 19:01:11 UTC
        

(In reply to comment #8)
> After checking, perl-version only became a dual-life module in perl 5.10, so in
> perl 5.8 you only need perl itself (Pawel can you run a locate on version.pm?
> you should have one in /usr/lib/perl5/5.8.8 I think)

According to locate I don't have version.pm on my system.




Comment 10


Bernard Cafarelli






          2010-04-19 21:38:27 UTC
        

Ok so probably a broken perl setup then (failed 5.10 update/perl-cleaner not run maybe?)




Comment 11


Bartłomiej Majka





          2010-04-19 22:43:16 UTC
        

OK, I also installed using perl v5.8.8 today without any problems and without version.pm file :)

The build log says version.pm is needed in this line:

$VERSION = '1.95';

but I see only a declaration here. It means Balanced.pm file which caused the build failure must have had something else in this line.

It is interesting that my Balanced.pm file is located in /usr/lib/perl5/5.8.8/Text directory, and the one from build log is somewhere else.




Comment 12


Paweł Hajdan, Jr. (RETIRED)






          2010-04-20 07:53:04 UTC
        

I'm closing this report, but feel free to re-open if you have more evidence that there is something to fix here.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

