Title: 88733 – perl module DateTime fails in test
URL: https://bugs.gentoo.org/show_bug.cgi?id=88733

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 88733
perl module DateTime fails in test
Last modified: 2005-09-08 04:52:21 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 88733 
      - perl module DateTime fails in test


Summary:
perl module DateTime fails in test
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Library

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Elfyn McBratney (beu) (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-04-11 08:29 UTC by klavs klavsen





      Modified:
    
2005-09-08 04:52 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



perl









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


klavs klavsen





          2005-04-11 08:29:11 UTC
        

Emerge DateTime fails:
..
t/12week................ok
t/13strftime............ok 44/132# New locale: de
t/13strftime............ok 79/132# New locale: it
t/13strftime............ok
t/14locale..............ok
t/15jd..................ok
t/16truncate............ok
t/17set_return..........ok
t/18today...............ok
t/19leap_second.........ok
t/20infinite............NOK 12# Failed test (t/20infinite.t at line 61)
# got: '-1'
# expected: '1'
t/20infinite............NOK 13# Failed test (t/20infinite.t at line 61)
# got: 'nan'
# expected: '1'
t/20infinite............NOK 14# Failed test (t/20infinite.t at line 61)
# got: 'nan'
# expected: '1'
t/20infinite............ok 40/40# Looks like you failed 3 tests of 40.
t/20infinite............dubious
Test returned status 3 (wstat 768, 0x300)
DIED. FAILED tests 12-14
Failed 3/40 tests, 92.50% okay
t/21bad_params..........ok
t/22from_doy............ok
t/23storable............ok
t/24from_object.........ok
t/25add_subtract........ok
t/26dt_leapsecond_pm....ok
t/27delta...............ok
t/28dow.................ok
t/29overload............ok
t/30future_tz...........ok
t/99-pod................ok
6/6 skipped: Test::Pod 0.95 not installed.
Failed Test Stat Wstat Total Fail Failed List of Failed
-------------------------------------------------------------------------------
t/20infinite.t 3 768 40 3 7.50% 12-14
6 subtests skipped.
Failed 1/31 test scripts, 96.77% okay. 3/2743 subtests failed, 99.89% okay.
make: *** [test_dynamic] Error 255

!!! ERROR: dev-perl/DateTime-0.22 failed.
!!! Function perl-module_src_compile, Line 104, Exitcode 2
!!! test failed
!!! If you need support, post the topmost build error, NOT this status message.

Looks like something with locales.. any ideas on how to debug this?



Reproducible: Always
Steps to Reproduce:
1.emerge DateTime
2.
3.




Comment 1


Michael Cummings (RETIRED)






          2005-04-15 17:07:45 UTC
        

What an utterly unusual test to fail in. Can I get the output of perl -V ?




Comment 2


klavs klavsen





          2005-04-16 01:31:18 UTC
        

 # perl -V
Summary of my perl5 (revision 5 version 8 subversion 5) configuration:
  Platform:
    osname=linux, osvers=2.6.9-vs1.9.3, archname=i686-linux
    uname='linux r2d2 2.6.9-vs1.9.3 #1 thu dec 23 11:33:13 cet 2004 i686 intel(r) pentium(r) 4 cpu 2.40ghz genuineintel gnulinux '
    config_args='-des -Darchname=i686-linux -Dcccdlflags=-fPIC -Dccdlflags=-rdynamic -Dcc=gcc -Dprefix=/usr -Dvendorprefix=/usr -Dsiteprefix=/usr -Dlocincpth=  -Doptimize=--param max-unrolled-insns=16 -fsingle-precision-constant -DNO_DEBUG -g0 -funroll-loops -ffast-math -finline-limit=4096 -march=pentium4 -fomit-frame-pointer -pipe -ftracer -O3 -fmerge-all-constants -fprefetch-loop-arrays -fstack-protector -Duselargefiles -Dd_semctl_semun -Dscriptdir=/usr/bin -Dman1dir=/usr/share/man/man1 -Dman3dir=/usr/share/man/man3 -Dinstallman1dir=/usr/share/man/man1 -Dinstallman3dir=/var/tmp/portage/perl-5.8.5-r5/image//usr/share/man/man3 -Dman1ext=1 -Dman3ext=3pm -Dinc_version_list=5.8.0 5.8.0/i686-linux 5.8.2 5.8.2/i686-linux 5.8.4 5.8.4/i686-linux  -Dcf_by=Gentoo -Ud_csh -Di_ndbm -Di_gdbm -Di_db'
    hint=recommended, useposix=true, d_sigaction=define
    usethreads=undef use5005threads=undef useithreads=undef usemultiplicity=undef
    useperlio=define d_sfio=undef uselargefiles=define usesocks=undef
    use64bitint=undef use64bitall=undef uselongdouble=undef
    usemymalloc=n, bincompat5005=undef
  Compiler:
    cc='gcc', ccflags ='-DDEBUGGING -fno-strict-aliasing -pipe -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64',
    optimize='--param max-unrolled-insns=16 -fsingle-precision-constant -DNO_DEBUG -g0 -funroll-loops -ffast-math -finline-limit=4096 -march=pentium4 -fomit-frame-pointer -pipe -ftracer -O3 -fmerge-all-constants -fprefetch-loop-arrays -fstack-protector',
    cppflags='-DPERL5 -DDEBUGGING -fno-strict-aliasing -pipe'
    ccversion='', gccversion='3.4.3 20041125 (Gentoo Hardened Linux 3.4.3-r1, ssp-3.4.3-0, pie-8.7.7)', gccosandvers=''
    intsize=4, longsize=4, ptrsize=4, doublesize=8, byteorder=1234
    d_longlong=define, longlongsize=8, d_longdbl=define, longdblsize=12
    ivtype='long', ivsize=4, nvtype='double', nvsize=8, Off_t='off_t', lseeksize=8
    alignbytes=4, prototype=define
  Linker and Libraries:
    ld='gcc', ldflags =' -L/usr/local/lib'
    libpth=/usr/local/lib /lib /usr/lib
    libs=-lpthread -lnsl -lndbm -lgdbm -ldb -ldl -lm -lcrypt -lutil -lc
    perllibs=-lpthread -lnsl -ldl -lm -lcrypt -lutil -lc
    libc=/lib/libc-2.3.4.so, so=so, useshrplib=false, libperl=libperl.a
    gnulibc_version='2.3.4'
  Dynamic Linking:
    dlsrc=dl_dlopen.xs, dlext=so, d_dlsymun=undef, ccdlflags='-rdynamic'
    cccdlflags='-fPIC', lddlflags='-shared -L/usr/local/lib'


Characteristics of this binary (from libperl):
  Compile-time options: DEBUGGING USE_LARGE_FILES
  Built under linux
  Compiled at Mar 13 2005 20:39:02
  @INC:
    /etc/perl
    /usr/lib/perl5/site_perl/5.8.5/i686-linux
    /usr/lib/perl5/site_perl/5.8.5
    /usr/lib/perl5/site_perl
    /usr/lib/perl5/vendor_perl/5.8.5/i686-linux
    /usr/lib/perl5/vendor_perl/5.8.5
    /usr/lib/perl5/vendor_perl
    /usr/lib/perl5/5.8.5/i686-linux
    /usr/lib/perl5/5.8.5
    /usr/local/lib/site_perl
    .





Comment 3


Jakub Moc (RETIRED)






          2005-09-04 04:12:31 UTC
        

Mass re-assign.




Comment 4


Elfyn McBratney (beu) (RETIRED)






          2005-09-08 04:52:21 UTC
        

Can't reproduce here (dev-lang/perl-5.8.6-r5, dev-perl/DateTime-0.22).  Please
re-open if this is still an issue for you ..









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

