Title: 278850 – x11-libs/pango-1.24.5: emerging fails
URL: https://bugs.gentoo.org/show_bug.cgi?id=278850

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 278850
x11-libs/pango-1.24.5: emerging fails
Last modified: 2009-07-25 07:07:17 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 278850 
      - x11-libs/pango-1.24.5: emerging fails


Summary:
x11-libs/pango-1.24.5: emerging fails
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:

EBUILD







Depends on:







Blocks:









 





      Reported:
    
2009-07-23 17:19 UTC by Marco Kluth





      Modified:
    
2009-07-25 07:07 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



mkluth









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




/var/tmp/portage/x11-libs/pango-1.24.5/temp/build.log

              (build.log,322.75 KB,
                text/plain)

            
2009-07-23 17:25 UTC,

            Marco Kluth




Details





/var/tmp/portage/x11-libs/pango-1.24.5/temp/environment

              (environment,100.87 KB,
                text/plain)

            
2009-07-23 17:27 UTC,

            Marco Kluth




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Marco Kluth





          2009-07-23 17:19:39 UTC
        

A litte (personal) prelude: First I did an "emerge --sync world" and then "emerge --update world". But the update have aborted, while emerging x11-libs/pango-1.24.5. This version is still marked "unstable" in the "Online Package Database" at the gentoo-homepage.


Now I see the following textical output on my monitor:
======================================================

...
libtool: install: warning: remember to run `libtool --finish /usr/lib´
make[4]: Leaving directory `/var/tmp/portage/x11-libs/pango-1.24.5/work/pango-1.24.5/pango´
make[3]: *** [install-am] Fehler 2
make[3]: Leaving directory `/var/tmp/portage/x11-libs/pango-1.24.5/work/pango-1.24.5/pango´
make[2]: *** [install-recursive] Fehler 1
make[2]: Leaving directory `/var/tmp/portage/x11-libs/pango-1.24.5/work/pango-1.24.5/pango´
make[1]: *** [install] Fehler 2
make[1]: Leaving directory `/var/tmp/portage/x11-libs/pango-1.24.5/work/pango-1.24.5/pango´
make: *** [install-recursive] Fehler 1
 *
 * ERROR: x11-libs/pango-1.24.5 failed.
 * Call stack:
 *               ebuild.sh, line   49:  Called src_install
 *             environment, line 2731:  Called gnome2_src_install
 *             environment, line 2100:  Called die
 * The specific snippet of code:
 *           emake DESTDIR="${D}" "scrollkeeper_localstate_dir=${D}${sk_tmp_dir} " "$@" install || die "install failed";
 * The die message:
 *  install failed
 *
 * If you need support, post the topmost build error, and the call stack if relevant.
 * A complete build log is located at ´/var/tmp/portage/x11-libs/pango-1.24.5/temp/build.log´.
 * The ebuild environment file is located at ´/var/tmp/portage/x11-libs/pango-1.24.5/temp/environment´.
 *

>>> Failed to emerge x11-libs/pango-1.24.5; Log file:

>>> '/var/tmp/portage/x11-libs/pango-1.24.5/temp/build.log'

 * Messages for package x11-libs/pango-1.24.5:

 *
 * ERROR: x11-libs/pango-1.24.5 failed.
 * Call stack:
 *               ebuild.sh, line   49:  Called src_install
 *             environment, line 2731:  Called gnome2_src_install
 *             environment, line 2100:  Called die
 * The specific snippet of code:
 *           emake DESTDIR="${D}" "scrollkeeper_localstate_dir=${D}${sk_tmp_dir} " "$@" install || die "install failed";
 * The die message:
 *  install failed
 *
 * If you need support, post the topmost build error, and the call stack if relevant.
 * A complete build log is located at ´/var/tmp/portage/x11-libs/pango-1.24.5/temp/build.log´.
 * The ebuild environment file is located at ´/var/tmp/portage/x11-libs/pango-1.24.5/temp/environment´.
 *


Some closing words of myself: Sadly I find no opportunity to attach some files (/var/tmp/portage/x11-libs/pango-1.24.5/temp/build.log and /var/tmp/portage/x11-libs/pango-1.24.5/temp/environment for instance) in this advanced bug reporting. Please give me a call via the VoIP-number +4932221335346, if you're unlucky with e-mail-correspondence.




Comment 1


Marco Kluth





          2009-07-23 17:25:36 UTC
        

Created attachment 198928 [details]
/var/tmp/portage/x11-libs/pango-1.24.5/temp/build.log




Comment 2


Marco Kluth





          2009-07-23 17:27:17 UTC
        

Created attachment 198930 [details]
/var/tmp/portage/x11-libs/pango-1.24.5/temp/environment




Comment 3


Marco Kluth





          2009-07-23 17:36:38 UTC
        

Portage 2.1.6.13 (default/linux/x86/2008.0, gcc-4.3.3, glibc-2.10.1-r0, 2.6.29-gentoo-r5 i686)
=================================================================
System uname: Linux-2.6.29-gentoo-r5-i686-VIA_Nehemiah-with-gentoo-2.0.1
Timestamp of tree: Thu, 23 Jul 2009 07:45:01 +0000
app-shells/bash:     4.0_p24
dev-java/java-config: 2.1.8-r1
dev-lang/python:     2.5.4-r2, 2.6.2-r1
dev-util/cmake:      2.6.4
sys-apps/baselayout: 2.0.1
sys-apps/openrc:     0.4.3-r3
sys-apps/sandbox:    2.0
sys-devel/autoconf:  2.13, 2.63-r1
sys-devel/automake:  1.5, 1.7.9-r1, 1.9.6-r2, 1.10.2, 1.11
sys-devel/binutils:  2.19.1-r1
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   2.2.6a
virtual/os-headers:  2.6.30
ACCEPT_KEYWORDS="x86 ~x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=c3-2 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /var/lib/hsqldb"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/udev/rules.d"
CXXFLAGS="-O2 -march=c3-2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="distlocks fixpackages parallel-fetch protect-owned sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="ftp://ftp.wh2.tu-dresden.de/pub/mirrors/gentoo http://gentoo.mneisen.org/ "
LANG="de_DE.iso885915@euro"
LDFLAGS="-Wl,-O1"
LINGUAS="de"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="X a52 aac acl acpi alsa apache2 bzip2 cddb cdparanoia cdr cgi clamav cli consolekit cracklib crypt css cups dri dvd fbcon firefox ftp gcj gdbm gif gimp gnome gphoto2 gpm gstreamer gtk gzip h323 iconv imap ipv6 isdnlog java javascript jpeg lame mad midi mime mmx mono mp3 mpeg mudflap mysql mysqli ncurses nls nptl nptlonly odbc ogg opengl openmp pam pcre pdf perl php png pppd python rdesktop readline reflection rss samba scanner session sip snmp spl sse ssl svg sysfs tcpd tiff tokenizer unicode usb vcd vnc wav win32codecs x86 xml xorg zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1 emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" ELIBC="glibc" INPUT_DEVICES="keyboard mouse evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="de" USERLAND="GNU" VIDEO_CARDS="fbdev glint i810 intel mach64 mga neomagic nv r128 radeon savage sis tdfx trident vesa vga via vmware voodoo"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, LC_ALL, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY


P.S.: So, here is the opportunity to attach file! :-) Sorry, I'm a gentoo bugzilla-newbie.




Comment 4


Rafał Mużyło





          2009-07-23 17:58:15 UTC
        

Seeing this:
libtool: link: i686-pc-linux-gnu-gcc -O2 -march=c3-2 -pipe -Wall -Wl,-O1 -o .libs/pango-querymodules querymodules.o  ./.libs/libpangox-1.0.so ./.libs/libpangoxft-1.0.so /var/tmp/portage/x11-libs/pango-1.24.5/work/pango-1.24.5/pango/.libs/libpangoft2-1.0.so /usr/lib/libXft.so /usr/lib/libXrender.so /usr/lib/libX11.so /usr/lib/libXau.so /usr/lib/libXdmcp.so ./.libs/libpangoft2-1.0.so /var/tmp/portage/x11-libs/pango-1.24.5/work/pango-1.24.5/pango/.libs/libpango-1.0.so /usr/lib/libfontconfig.so /usr/lib/libfreetype.so -lz /usr/lib/libexpat.so ./.libs/libpango-1.0.so -lm /usr/lib/libgobject-2.0.so /usr/lib/libgmodule-2.0.so -ldl /usr/lib/libglib-2.0.so
i686-pc-linux-gnu-gcc: ./.libs/libpangox-1.0.so: No such file or directory
make[4]: *** [pango-querymodules] Fehler 1
make[4]: *** Warte auf noch nicht beendete Prozesse...
libtool: relink: echo "{ global:" > .libs/libpangox-1.0.ver
libtool: relink:  cat .libs/libpangox-1.0.exp | sed -e "s/\(.*\)/\1;/" >> .libs/libpangox-1.0.ver
libtool: relink:  echo "local: *; };" >> .libs/libpangox-1.0.ver
libtool: relink:  i686-pc-linux-gnu-gcc -shared  .libs/pangox.o .libs/module-defs-x.o .libs/pangox-fontcache.o .libs/pangox-fontmap.o   -L/var/tmp/portage/x11-libs/pango-1.24.5/image//usr/lib -L/usr/lib -lpango-1.0 -lm -lgobject-2.0 -lgmodule-2.0 -lglib-2.0 -lX11 -lXau -lXdmcp -ldl  -march=c3-2 -Wl,-O1   -Wl,-soname -Wl,libpangox-1.0.so.0 -Wl,-version-script -Wl,.libs/libpangox-1.0.ver -o .libs/libpangox-1.0.so.0.2400.5
libtool: install: /usr/bin/install -c .libs/libpangox-1.0.so.0.2400.5T /var/tmp/portage/x11-libs/pango-1.24.5/image//usr/lib/libpangox-1.0.so.0.2400.5
libtool: install: (cd /var/tmp/portage/x11-libs/pango-1.24.5/image//usr/lib && { ln -s -f libpangox-1.0.so.0.2400.5 libpangox-1.0.so.0 || { rm -f libpangox-1.0.so.0 && ln -s libpangox-1.0.so.0.2400.5 libpangox-1.0.so.0; }; })
libtool: install: (cd /var/tmp/portage/x11-libs/pango-1.24.5/image//usr/lib && { ln -s -f libpangox-1.0.so.0.2400.5 libpangox-1.0.so || { rm -f libpangox-1.0.so && ln -s libpangox-1.0.so.0.2400.5 libpangox-1.0.so; }; })
libtool: install: /usr/bin/install -c .libs/libpangox-1.0.lai /var/tmp/portage/x11-libs/pango-1.24.5/image//usr/lib/libpangox-1.0.la
libtool: install: warning: relinking `libpangoft2-1.0.la'

I'm thinking it's a parallel make problem,
strange though, cause -j2 is fairly low.




Comment 5


Marco Kluth





          2009-07-23 19:27:11 UTC
        

Thanks for your ultra fast reply, Rafał! And your thought is right!

Curiously the command "emerge -j1 x11-libs/pango" aborts with the same error. But after modifying the MAKEOPTS-variable in /etc/make.conf the emerging of pango-1.24.5 works without any problems.




Comment 6


Marco Kluth





          2009-07-25 07:07:17 UTC
        

There is no need to modify /etc/make.conf, if someone's emerging of pango-1.24.5 aborts too. Just type the following command:

MAKEOPTS="-j1" emerge x11-libs/pango

This worked fine on my computer.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

