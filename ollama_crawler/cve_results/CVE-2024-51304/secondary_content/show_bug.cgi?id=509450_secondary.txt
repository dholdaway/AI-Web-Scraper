Title: 509450 – dev-embedded/avr-libc 1.8.0 should build crtm32u4.o
URL: https://bugs.gentoo.org/show_bug.cgi?id=509450

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 509450
dev-embedded/avr-libc 1.8.0 should build crtm32u4.o
Last modified: 2015-11-15 00:41:43 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 509450 
      - dev-embedded/avr-libc 1.8.0 should build crtm32u4.o


Summary:
dev-embedded/avr-libc 1.8.0 should build crtm32u4.o
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Development

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Embedded Team (OBSOLETE)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2014-05-03 11:20 UTC by Roc Vallès





      Modified:
    
2015-11-15 00:41 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



orzel









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Roc Vallès





          2014-05-03 11:20:34 UTC
        

Need to develop for an Atmega 32u4. These chips are relatively new but popular (because of their use in Arduino Leonardo). I hadn't in a long time, so I got myself a new crossdev environment through:

crossdev -t avr

which results in a gcc-4.8.2, avr-libc 1.8.0, binutils 2.24 toolchain.

avr-libc 1.8.0 does build these files for the chips it does support:
(...)
/usr/avr/lib/avr5/crtcan32.o
/usr/avr/lib/avr5/crtm32.o
/usr/avr/lib/avr5/crtm323.o
/usr/avr/lib/avr5/crtm324p.o
/usr/avr/lib/avr5/crtm325.o
/usr/avr/lib/avr5/crtm325p.o
/usr/avr/lib/avr5/crtm3250.o
/usr/avr/lib/avr5/crtm3250p.o
/usr/avr/lib/avr5/crtm328p.o
(...)

But for reasons unknown, it isn't building the one for 32u4, crtm32u4.o, which is supported in avr-libc 1.8.0 and has been for a few versions of avr-libc before that.




Comment 1


Thomas Capricelli





          2015-11-15 00:39:11 UTC
        

at configure time, avr-libc checks for what gcc supports. Like this :

...
checking if avr-gcc has support for atmega32u4... yes
...

Maybe at time of install your gcc was not reporting this chip ?




Comment 2


Thomas Capricelli





          2015-11-15 00:41:43 UTC
        


It seems to work here : 

% equery files cross-avr/avr-libc | grep 32u4
/usr/avr/include/avr/iom32u4.h
/usr/avr/lib/avr5/crtm32u4.o
/usr/lib/debug/usr/avr/lib/avr5/crtm32u4.o.debug









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

