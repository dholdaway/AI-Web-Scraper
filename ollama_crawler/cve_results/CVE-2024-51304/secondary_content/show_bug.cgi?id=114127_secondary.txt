Title: 114127 – vbetool-0.5 compile error
URL: https://bugs.gentoo.org/show_bug.cgi?id=114127

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 114127
vbetool-0.5 compile error
Last modified: 2006-01-31 07:59:47 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 114127 
      - vbetool-0.5 compile error


Summary:
vbetool-0.5 compile error
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Robin Johnson








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-12-01 03:38 UTC by kusi





      Modified:
    
2006-01-31 07:59 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



nefercheprure









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


kusi





          2005-12-01 03:38:34 UTC
        

emerging vbetool 0.5 results in

In file included from /usr/include/stdlib.h:433,
                 from vbetool.c:14:
/usr/include/sys/types.h:62: error: conflicting types for 'dev_t'
/usr/include/linux/types.h:25: error: previous declaration of 'dev_t' was here
/usr/include/sys/types.h:72: error: conflicting types for 'mode_t'
/usr/include/linux/types.h:31: error: previous declaration of 'mode_t' was here
/usr/include/sys/types.h:77: error: conflicting types for 'nlink_t'
/usr/include/linux/types.h:34: error: previous declaration of 'nlink_t' was here
In file included from /usr/include/sys/types.h:133,
                 from /usr/include/stdlib.h:433,
                 from vbetool.c:14:
/usr/include/time.h:104: error: conflicting types for 'timer_t'
/usr/include/linux/types.h:43: error: previous declaration of 'timer_t' was here
In file included from /usr/include/sys/types.h:216,
                 from /usr/include/stdlib.h:433,
                 from vbetool.c:14:
/usr/include/sys/select.h:78: error: conflicting types for 'fd_set'
/usr/include/linux/types.h:22: error: previous declaration of 'fd_set' was here
make[1]: *** [vbetool.o] Error 1
make[1]: *** Waiting for unfinished jobs....
make[1]: Leaving directory `/var/tmp/portage/vbetool-0.5/work/vbetool-0.4'
make: *** [all-recursive] Error 1


Reproducible: Always
Steps to Reproduce:
1. emerge vbetool
2.
3.




Comment 1


kusi





          2005-12-01 03:43:09 UTC
        

emerge info

Portage 2.0.51.22-r2 (default-linux/x86/2005.1, gcc-3.4.4, glibc-2.3.5-r1,
2.6.14-suspend2-r1 i686)
=================================================================
System uname: 2.6.14-suspend2-r1 i686 Intel(R) Pentium(R) M processor 1400MHz
Gentoo Base System version 1.6.13
ccache version 2.3 [enabled]
dev-lang/python:     2.3.5, 2.4.1-r1
sys-apps/sandbox:    1.2.10
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.5
sys-devel/binutils:  2.15.92.0.2-r10
sys-devel/libtool:   1.5.18-r1
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium-m -pipe -ftracer -ffast-math
-momit-leaf-frame-pointer -msse"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.5/env
/usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/kde/3/share/config
/usr/share/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/splash /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=pentium-m -pipe -ftracer -ffast-math
-momit-leaf-frame-pointer -msse"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://mirror.switch.ch/ftp/mirror/gentoo"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portageoverlay /usr/portage-gentopia"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X acpi alsa apm arts audiofile avi berkdb bitmap-fonts bzip2 cdr crypt
cups curl dvd eds emboss encode exif expat fam ffmpeg flac foomaticdb fortran gd
gdbm gif glut gmp gpm gstreamer gtk gtk2 hal idn imagemagick imlib ipv6 java
jpeg kde kdeenablefinal kipi lcms libg++ libwww lirc mad mikmod mmx mng motif
mp3 mpeg mysql ncurses nls nptl nptlonly ogg oggvorbis openal opengl oss pam
pcmcia pcre pdflib perl pic png python qt quicktime readline recode samba sdl
spell sqlite sse sse2 ssl subversion svga tcltk tcpd tiff truetype
truetype-fonts type1-fonts udev usb vorbis xine xinerama xml2 xmms xv xvid zlib
userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS





Comment 2


Jakub Moc (RETIRED)






          2005-12-01 04:06:56 UTC
        

metadata.xml missing...




Comment 3


Robin Johnson









          2005-12-01 09:17:24 UTC
        

upgrade your kernel headers to 2.6.11-r3 and see if it still occurs.





Comment 4


kusi





          2005-12-01 12:08:08 UTC
        

(In reply to comment #3)     
> upgrade your kernel headers to 2.6.11-r3 and see if it still occurs.     
>      
  
my kernel:  
/usr/src/linux -> linux-2.6.14-suspend2-r1   
  
I dont intend to downgrade. or can I mix 2.6.11 headers with a 2.6.14 kernel? 
     




Comment 5


Robin Johnson









          2005-12-01 12:32:53 UTC
        

Your present headers are 2.6.11-r2 unless you've messed with them outside of
portage.

Upgrade them to 2.6.11-r3 and report back to see if the problem goes away.




Comment 6


kusi





          2005-12-02 01:44:48 UTC
        


> 
> Upgrade them to 2.6.11-r3 and report back to see if the problem goes away.

I updated, and I still get the same error. Isn't it a problem to have kernel
headers at 2.6.11 and the source at 2.6.14?





Comment 7


Robin Johnson









          2005-12-02 15:16:43 UTC
        

nope, not a problem at all.
so long as no application mixes the two sets of headers, everything is fine.

i'll try with a 2.6.14 source and see if I can reproruce your failure.




Comment 8


Robin Johnson









          2005-12-11 19:51:03 UTC
        

gentoo-sources-2.6.14-r4 works fine for compiling vbetool.
Please try them, and additionally check that your regular headers haven't been
modified in some strange way.

I'm now strongly inclined to believe something is borked on your system.
Reopen if you can prove otherwise.




Comment 9


nefercheprure





          2006-01-31 07:59:47 UTC
        

I have encountered the same problem today. If the build is fixed by upgrading the os headers, the ebuild shall contain the dependency.

Portage 2.0.54 (default-linux/x86/2005.0, gcc-3.4.4, glibc-2.3.5-r0, 2.6.9-gentoo-r6tma8 i686)
=================================================================
System uname: 2.6.9-gentoo-r6tma8 i686 Intel(R) Pentium(R) M processor 1.60GHz
Gentoo Base System version 1.6.13
ccache version 2.3 [enabled]
dev-lang/python:     2.3.5
sys-apps/sandbox:    1.2.11
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.5
sys-devel/binutils:  2.15.92.0.2-r10
sys-devel/libtool:   1.5.18-r1
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -pipe -march=pentium-m -mtune=pentium-m -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.3/env /usr/kde/3.3/share/config /usr/kde/3.3/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/share/config /usr/share/texmf/dvipdfm/config//usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/ /var/bind /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -pipe -march=pentium-m -mtune=pentium-m -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache distlocks nostrip sandbox sfperms strict"
GENTOO_MIRRORS="ftp://ftp.fi.muni.cz/pub/linux/gentoo/ ftp://ftp.sh.cvut.cz/MIRRORS/gentoo/gentoo/ http://gentoo.osuosl.org http://www.ibiblio.org/pub/Linux/distributions/gentoo"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="x86 X acl acpi alsa apm arts audiofile avi berkdb bidi bitmap-fonts bzip2 bzlib cdr crypt cscope cups curl dga divx4linux doc dvd eds emboss encode esd exif expat fam flac foomaticdb fortran gcj gd gdbm gif glut gphoto2 gpm gstreamer gtk gtk2 gtkhtml guile iconv icq idn imagemagick imlib ipv6 java javascript jikes jpeg kde lcms libg++ libwww mad matroska mhash mikmod mmx mmx2 mng motif mozilla mp3 mpeg mysql ncurses nls nptl nptlonly objc ogg oggvorbis openal opengl oss pam pcmcia pcre pdflib perl png python qt quicktime readline real recode sdl slang spell sse ssl svg svga tcltk tcpd tetex tga tiff truetype truetype-fonts type1-fonts udev unicode usb vorbis xine xml2 xmms xv zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS, MAKEOPTS










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

