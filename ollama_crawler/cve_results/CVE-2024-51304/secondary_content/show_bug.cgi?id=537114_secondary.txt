Title: 537114 – instructions for disabling emerge --sync don't work
URL: https://bugs.gentoo.org/show_bug.cgi?id=537114

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 537114
instructions for disabling emerge --sync don't work
Last modified: 2015-12-09 09:24:31 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 537114 
      - instructions for disabling emerge --sync don't work


Summary:
instructions for disabling emerge --sync don't work
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

[OLD] Docs on www.gentoo.org




Classification:

Unclassified




Component:

Installation Handbook

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
    (vote)
  



Assignee:

Docs Team








URL:



http://wiki.gentoo.org/wiki/Handbook:...
        




Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2015-01-20 10:46 UTC by naduss





      Modified:
    
2015-12-09 09:24 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



maffblaster









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Output of Portage when using GPG and no sync-uri.

              (portage_gpg_output.txt,2.22 KB,
                text/plain)

            
2015-12-09 09:23 UTC,

            Matthew Marchese




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


naduss





          2015-01-20 10:46:41 UTC
        

Following the instruction on http://wiki.gentoo.org/wiki/Handbook:X86/Working/Features#Pulling_validated_portage_tree_snapshots to stop emerge --sync from working.
I didn't have a /etc/portage/repos.conf file or dir. Creating a new one just with the two commented out lines as per the handbook naturally didn't do anything. Next I tried creating a proper new config, didn't work either:

$ cat  /etc/portage/repos.conf/gentoo.conf

main-repo = gentoo

[gentoo]
location = /usr/portage
SYNC=""

Instead I had to edit  /usr/share/portage/config/repos.conf:
[DEFAULT]
main-repo = gentoo

[gentoo]
location = /usr/portage
#sync-type = rsync
#sync-uri = rsync://rsync.gentoo.org/gentoo-portage


Reproducible: Always




Comment 1


naduss





          2015-01-20 10:48:56 UTC
        

Correction, something got lost there, this is what I had:
cat  /etc/portage/repos.conf/gentoo.conf
[DEFAULT]
main-repo = gentoo

[gentoo]
location = /usr/portage
SYNC=""




Comment 2


Matthew Marchese







          2015-12-09 08:13:33 UTC
        

Five months after this bug was created @Dolson made a contribution to the Handbook:Parts/Installation/Media section of the Handbook that most likely resolves this issue. The specific revision that added the additional information can be seen here:

https://wiki.gentoo.org/index.php?diff=309272&oldid=279742

I will attempt to reproduce this issue following the instructions made by the revision above in attempt to reproduce the issue. If I don't experience any problems I'll mark as Fixed/resolved.




Comment 3


Matthew Marchese







          2015-12-09 09:23:46 UTC
        

Created attachment 418828 [details]
Output of Portage when using GPG and no sync-uri.

Portage's warning output and successful sync.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

