Title: 176320 – gnome-extra/gdesklets-core-0.35.4 sandbox violation
URL: https://bugs.gentoo.org/show_bug.cgi?id=176320

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 176320
gnome-extra/gdesklets-core-0.35.4 sandbox violation
Last modified: 2007-05-12 16:41:16 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 176320 
      - gnome-extra/gdesklets-core-0.35.4 sandbox violation


Summary:
gnome-extra/gdesklets-core-0.35.4 sandbox violation
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] GNOME

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

gDesklets packages








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-04-28 05:57 UTC by solar (RETIRED)





      Modified:
    
2007-05-12 16:41 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


solar (RETIRED)






          2007-04-28 05:57:14 UTC
        

x86_64-pc-linux-gnu-gcc -shared  .libs/gtop.o  -lgobject-2.0 -lgtop-2.0 -lglib-2.0  -Wl,-O1 -Wl,-soname -Wl,gtop.so -o .libs/gtop.so
creating gtop.la
(cd .libs && rm -f gtop.la && ln -s ../gtop.la gtop.la)
Making all in controls
--------------------------- ACCESS VIOLATION SUMMARY ---------------------------
LOG FILE = "/var/log/sandbox/sandbox-gnome-extra_-_gdesklets-core-0.35.4-19553.log"

unlink:    /usr/lib64/python2.4/distutils/__init__.pyc
open_wr:   /usr/lib64/python2.4/distutils/__init__.pyc
unlink:    /usr/lib64/python2.4/distutils/sysconfig.pyc
open_wr:   /usr/lib64/python2.4/distutils/sysconfig.pyc
unlink:    /usr/lib64/python2.4/distutils/errors.pyc
open_wr:   /usr/lib64/python2.4/distutils/errors.pyc
unlink:    /usr/lib64/python2.4/distutils/__init__.pyc
open_wr:   /usr/lib64/python2.4/distutils/__init__.pyc
unlink:    /usr/lib64/python2.4/distutils/sysconfig.pyc
open_wr:   /usr/lib64/python2.4/distutils/sysconfig.pyc
unlink:    /usr/lib64/python2.4/distutils/errors.pyc
open_wr:   /usr/lib64/python2.4/distutils/errors.pyc
--------------------------------------------------------------------------------

Package: gnome-extra/gdesklets-core
Herd: gdesklets
Maintainer: nixphoeni@gentoo.org
Location: /usr/portage/gnome-extra/gdesklets-core
Keywords: gdesklets-core-0.35.2-r1:  amd64 
Keywords: gdesklets-core-0.35.3:  ia64 alpha 
Keywords: gdesklets-core-0.35.3-r1:  ~x86 ~ppc 
Keywords: gdesklets-core-0.35.4:  ppc ~amd64 ~ia64 ~alpha ~sparc x86 



hardened/amd64/multilib  bin # emerge --info
Portage 2.1.2.2 (hardened/amd64/multilib, gcc-3.4.6, glibc-2.3.6-r5, 2.6.20-hardened-r2 x86_64)
=================================================================
System uname: 2.6.20-hardened-r2 x86_64 Dual Core AMD Opteron(tm) Processor 280
Gentoo Base System release 1.12.9
Timestamp of tree: Sat, 28 Apr 2007 05:30:01 +0000
distcc 2.18.3 x86_64-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
dev-lang/python:     2.4.3-r4
dev-python/pycrypto: 2.0.1-r5
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.60
sys-devel/automake:  1.4_p6, 1.7.9-r1, 1.9.6-r2, 1.10
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.15-r1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.17-r2
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -pipe -fforce-addr -fomit-frame-pointer"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/X11/xkb /var/bind"
CONFIG_PROTECT_MASK="/etc/env.d /etc/gconf /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c"
CXXFLAGS="-O2 -pipe -fforce-addr"
DISTDIR="/usr/portage/distfiles"
EMERGE_DEFAULT_OPTS="-q"
FEATURES="autoconfig buildpkg distclean distlocks metadata-transfer nodoc noinfo sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LDFLAGS="-Wl,-O1 -Bdirect"
MAKEOPTS="-j8 --quiet"
PKGDIR="/packages/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portage/local"
SYNC="rsync://owl.gentoo.org/gentoo-portage"
USE="alsa amd64 apache2 berkdb bindist boundschecking bzip2 cgi cli crypt dlloader esd hardened jpeg justify midi mp3 mpeg ncurses ogg oss pam pic png readline session snmp ssl sysfs tiff userlocales vcd vorbis xinerama xml xml2 xorg zlib" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" ELIBC="glibc" INPUT_DEVICES="mouse keyboard" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" USERLAND="GNU"
Unset:  CTARGET, INSTALL_MASK, LANG, LC_ALL, LINGUAS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Joe Sapp (RETIRED)






          2007-05-11 03:16:50 UTC
        

I can't reproduce this on my 64-bit machine.  Can you provide any hints?




Comment 2


solar (RETIRED)






          2007-05-12 16:41:16 UTC
        

Well picking one of the files and doing a qfile on it shows us the 
following. dev-lang/python (/usr/lib64/python2.4/distutils/errors.pyc)

Merging it one time without sandbox then allowed the package to be 
reinstalled multiple times without sandbox violations.

I'm not really a python internal guy but I'm guessing python itself 
detected errors.pyc as being invalid and was rebuilding them maybe due
to the use of -O being passed along the way to a python script that got
executed and sandbox detected that and reported a violation.

However testing that idea I was unable to invalidate the py file by 
doing. echo -n 0 > /usr/lib64/python2.4/distutils/errors.pyc and
re-emergeing the pkg. Or adding an extra byte to just the .py file.

If nobody is reporting this error then it was probably just a localized problem.
For now lets close this unless others start reporting sandbox problems in
this pkg.

thanks anyway.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

