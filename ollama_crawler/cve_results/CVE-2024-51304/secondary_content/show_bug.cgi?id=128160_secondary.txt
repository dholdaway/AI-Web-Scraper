Title: 128160 – compile error while emerging x11-themes/baghira-0.6e-r1
URL: https://bugs.gentoo.org/show_bug.cgi?id=128160

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 128160
compile error while emerging x11-themes/baghira-0.6e-r1
Last modified: 2006-04-10 18:25:35 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 128160 
      - compile error while emerging x11-themes/baghira-0.6e-r1


Summary:
compile error while emerging x11-themes/baghira-0.6e-r1
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-03-30 12:28 UTC by Javier Armendáriz





      Modified:
    
2006-04-10 18:25 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



deathwing00









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




'emerge baghira' compile messages

              (error.txt,152.91 KB,
                text/plain)

            
2006-04-05 12:46 UTC,

            Javier Armendáriz




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Javier Armendáriz





          2006-03-30 12:28:40 UTC
        

Steps to reproduce this bug: Just an #emerge baghira

Result: Fails and show an error message like the following:

...... a big bunch of compile error messages ........
{standard input}:1778: Error: symbol `_ZN13BaghiraButton2y2E' is already defined{standard input}:1784: Error: symbol `_ZN13BaghiraButton1bE' is already defined
{standard input}:1790: Error: symbol `_ZN13BaghiraButton4maskE' is already defined
make[3]: *** [baghiraclient.lo] Error 1
make[3]: Leaving directory `/var/tmp/portage/baghira-0.6e-r1/work/baghira-0.6e/deco'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/var/tmp/portage/baghira-0.6e-r1/work/baghira-0.6e/deco'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/baghira-0.6e-r1/work/baghira-0.6e'
make: *** [all] Error 2

!!! ERROR: x11-themes/baghira-0.6e-r1 failed.
!!! Function kde_src_compile, Line 224, Exitcode 2
!!! died running emake, kde_src_compile:make

Reproducible: Always, even with the latest portage snapshot.

My emerge --info *********************************************************
System uname: 2.6.12-gentoo-r10 i686 AMD Athlon(tm) 64 Processor 3200+
Gentoo Base System version 1.6.14
dev-lang/python:     2.3.5, 2.4.2
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=athlon-xp -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/lib/mozilla/defaults/pref /usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/ /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/splash /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -march=athlon-xp -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="ftp://ftp.caliu.info/pub/gentoo/ http://linuv.uv.es/mirror/gentoo/ http://ftp.caliu.info/pub/gentoo/"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="x86 3dnow X alsa apm arts audiofile avi berkdb bitmap-fonts bzip2 cdr crypt cups curl dri dvd dvdr eds emboss encode esd ethereal exif expat fam ffmpeg flac foomaticdb fortran gd gdbm gif glut gnome gphoto2 gpm gstreamer gtk gtk2 gtkhtml idn imagemagick imlib isdnlog java jpeg junit kde kqemu lcms libg++ libwww lua mad mikmod mmap mmx mng motif mozilla mp3 mpeg ncurses nls nptl nptlonly nvidia ogg oggvorbis openal opengl oss pam pcre pdflib perl pic plotutils png pppd python qt quicktime readline recode samba sdl spell sqlite sse sse2 sse3 ssl svg tcltk tcpd tetex tiff truetype truetype-fonts type1-fonts udev usb vorbis win32codecs xml2 xmms xv xvid zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS, MAKEOPTS
*******************************************************************************

Tell me if you need more info.




Comment 1


Ioannis Aslanidis (RETIRED)






          2006-04-01 05:00:58 UTC
        

I couldn't reproduce this, neither with your flags and fetures nor with my heavy flags.

Try to run revdep-rebuild and also to check for CPU overheating or memory problems and try again.

Finally, it could be a flag problem, did you ever use any other type of flag combination?





Comment 2


Javier Armendáriz





          2006-04-05 12:46:10 UTC
        

Created attachment 84013 [details]
'emerge baghira' compile messages




Comment 3


Javier Armendáriz





          2006-04-05 12:46:44 UTC
        

That's so strange... i ran revdep-rebuild, checked CPU temp and memory and everything was OK. In fact, i only have problems compiling baghira :(

I also change my compile flags to a less agressive ones (only -march=athlon-xp for example), but it doesnt work.

Well, i have been watching the error messages (which i attached to this message) and there's the first errors (starting from line 646):

----------------------------------------------------------------------------
make[3]: Entering directory `/var/tmp/portage/baghira-0.6e-r1/work/baghira-0.6e/deco'

/usr/qt/3/bin/moc ./baghiraclient.h -o baghiraclient.moc

/bin/sh ../libtool --silent --mode=compile --tag=CXX i686-pc-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I. -I.. -I/usr/kde/3.5/include -I/usr/qt/3/include -I.  -I/usr/kde/3.5/include -I/usr/kde/3.5/include/kwin  -DQT_THREAD_SUPPORT  -D_REENTRANT  -Wnon-virtual-dtor -Wno-long-long -Wundef -ansi -D_XOPEN_SOURCE=500 -D_BSD_SOURCE -Wcast-align -Wconversion -Wchar-subscripts -Wall -W -Wpointer-arith -Wwrite-strings -DNDEBUG -DNO_DEBUG -O2 -O2 -march=athlon-xp -pipe -Wformat-security -Wmissing-format-attribute -fno-exceptions -fno-check-new -fno-common -DQT_PLUGIN -c -o baghiraclient.lo `test -f 'baghiraclient.cc' || echo './'`baghiraclient.cc

In file included from baghiraclient.cc:32:

baghiraclient.h:32:25: kdecoration.h: No such file or directory

baghiraclient.h:33:32: kdecorationfactory.h: No such file or directory

In file included from baghiraclient.cc:32:
baghiraclient.h:165: error: syntax error before `{' token

baghiraclient.h:168: error: destructors must be member functions

baghiraclient.h:168: error: virtual outside class declaration

baghiraclient.h:169: error: syntax error before `*' token
------------------------------------------------------------------------------

it looks like a missing library... can it be a dependency issue?
i want to help but i dont know where to start from...




Comment 4


Ioannis Aslanidis (RETIRED)






          2006-04-05 13:34:04 UTC
        

Thos files it's complaining about are provided by kdebase. I'd ask you to reinstall kdebase. If that doesn't help, I fear you have a problem with your KDE paths in your system.

Have a look.




Comment 5


Caleb Tennis (RETIRED)






          2006-04-05 14:06:41 UTC
        

do you have kwin installed?  or kdebase ?




Comment 6


Ioannis Aslanidis (RETIRED)






          2006-04-10 08:19:22 UTC
        

We'll proceed on this bug once the user has provided the requested details.




Comment 7


Javier Armendáriz





          2006-04-10 16:11:27 UTC
        

Effectively, it was a KDE path's problem.
I've installed kde 3.4 but for a strange reason the compile scripts tries to find those files on the 3.5/ dir.
******************************************
I refer to this line:
******************************************
/bin/sh ../libtool --silent --mode=compile --tag=CXX i686-pc-linux-gnu-g++
-DHAVE_CONFIG_H -I. -I. -I.. -I/usr/kde/3.5/include -I/usr/qt/3/include -I. 
-I/usr/kde/3.5/include 
******************************************

I think this happen 'cause i've installed 3.5's version of Kopete. So i unmerged kopete and removed everything related to kde 3.5 and now it works. 

thank you so much for your help




Comment 8


Ioannis Aslanidis (RETIRED)






          2006-04-10 18:24:55 UTC
        

Path problem.




Comment 9


Ioannis Aslanidis (RETIRED)






          2006-04-10 18:25:35 UTC
        

Worksforme :)









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

