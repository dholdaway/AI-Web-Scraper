Title: 258271 – [ruby-overlay] sandbox violation by dev-ruby/rake-0.8.3-r30
URL: https://bugs.gentoo.org/show_bug.cgi?id=258271

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 258271
[ruby-overlay] sandbox violation by dev-ruby/rake-0.8.3-r30
Last modified: 2009-02-09 07:51:06 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 258271 
      - [ruby-overlay] sandbox violation by dev-ruby/rake-0.8.3-r30


Summary:
[ruby-overlay] sandbox violation by dev-ruby/rake-0.8.3-r30
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Ruby Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-02-09 01:47 UTC by Maciej Piechotka





      Modified:
    
2009-02-09 07:51 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Maciej Piechotka





          2009-02-09 01:47:06 UTC
        

>>> Install rake-0.8.3-r30 into /var/tmp/portage/dev-ruby/rake-0.8.3-r30/image/ category dev-ruby
 * Installing for ruby18...
Successfully installed rake-0.8.3
1 gem installed
 * Installing for ruby19...
ACCESS DENIED  mkdir:     /usr/lib/ruby/gems/1.9.1
ACCESS DENIED  mkdir:     /usr/lib/ruby/gems/1.9.1
ACCESS DENIED  mkdir:     /usr/lib/ruby/gems/1.9.1
ACCESS DENIED  mkdir:     /usr/lib/ruby/gems/1.9.1
ACCESS DENIED  mkdir:     /usr/lib/ruby/gems/1.9.1
ACCESS DENIED  mkdir:     /usr/lib/ruby/gems/1.9.1
ACCESS DENIED  mkdir:     /usr/lib/ruby/gems/1.9.1
ACCESS DENIED  mkdir:     /usr/lib/ruby/gems/1.9.1
ACCESS DENIED  mkdir:     /usr/lib/ruby/gems/1.9.1
ACCESS DENIED  mkdir:     /usr/lib/ruby/gems/1.9.1
ACCESS DENIED  mkdir:     /usr/lib/ruby/gems/1.9.1
ACCESS DENIED  mkdir:     /usr/lib/ruby/gems/1.9.1
Successfully installed rake-0.8.3
1 gem installed
>>> Completed installing rake-0.8.3-r30 into /var/tmp/portage/dev-ruby/rake-0.8.3-r30/image/

--------------------------- ACCESS VIOLATION SUMMARY ---------------------------
LOG FILE "/var/log/sandbox/sandbox-9691.log"

VERSION 1.0
FORMAT: F - Function called
FORMAT: S - Access Status
FORMAT: P - Path as passed to function
FORMAT: A - Absolute Path (not canonical)
FORMAT: R - Canonical Path
FORMAT: C - Command Line

F: mkdir
S: deny
P: /usr/lib/ruby/gems/1.9.1
A: /usr/lib/ruby/gems/1.9.1
R: /usr/lib/ruby/gems/1.9.1
C: /usr/bin/ruby19 /usr/bin/gem19 env gemdir 

F: mkdir
S: deny
P: /usr/lib/ruby/gems/1.9.1
A: /usr/lib/ruby/gems/1.9.1
R: /usr/lib/ruby/gems/1.9.1
C: /usr/bin/ruby19 /usr/bin/gem19 env gemdir 

F: mkdir
S: deny
P: /usr/lib/ruby/gems/1.9.1
A: /usr/lib/ruby/gems/1.9.1
R: /usr/lib/ruby/gems/1.9.1
C: /usr/bin/ruby19 /usr/bin/gem19 env gemdir 

F: mkdir
S: deny
P: /usr/lib/ruby/gems/1.9.1
A: /usr/lib/ruby/gems/1.9.1
R: /usr/lib/ruby/gems/1.9.1
C: /usr/bin/ruby19 /usr/bin/gem19 env gemdir 

F: mkdir
S: deny
P: /usr/lib/ruby/gems/1.9.1
A: /usr/lib/ruby/gems/1.9.1
R: /usr/lib/ruby/gems/1.9.1
C: /usr/bin/ruby19 /usr/bin/gem install /var/tmp/portage/dev-ruby/rake-0.8.3-r30/distdir/rake-0.8.3 --version 0.8.3 --no-rdoc --no-ri --local --install-dir /var/tmp/portage/dev-ruby/rake-0.8.3-r30/image///usr/lib/ruby/gems/1.9.1 --sandbox-fix --no-user-install 

F: mkdir
S: deny
P: /usr/lib/ruby/gems/1.9.1
A: /usr/lib/ruby/gems/1.9.1
R: /usr/lib/ruby/gems/1.9.1
C: /usr/bin/ruby19 /usr/bin/gem install /var/tmp/portage/dev-ruby/rake-0.8.3-r30/distdir/rake-0.8.3 --version 0.8.3 --no-rdoc --no-ri --local --install-dir /var/tmp/portage/dev-ruby/rake-0.8.3-r30/image///usr/lib/ruby/gems/1.9.1 --sandbox-fix --no-user-install 

F: mkdir
S: deny
P: /usr/lib/ruby/gems/1.9.1
A: /usr/lib/ruby/gems/1.9.1
R: /usr/lib/ruby/gems/1.9.1
C: /usr/bin/ruby19 /usr/bin/gem install /var/tmp/portage/dev-ruby/rake-0.8.3-r30/distdir/rake-0.8.3 --version 0.8.3 --no-rdoc --no-ri --local --install-dir /var/tmp/portage/dev-ruby/rake-0.8.3-r30/image///usr/lib/ruby/gems/1.9.1 --sandbox-fix --no-user-install 

F: mkdir
S: deny
P: /usr/lib/ruby/gems/1.9.1
A: /usr/lib/ruby/gems/1.9.1
R: /usr/lib/ruby/gems/1.9.1
C: /usr/bin/ruby19 /usr/bin/gem install /var/tmp/portage/dev-ruby/rake-0.8.3-r30/distdir/rake-0.8.3 --version 0.8.3 --no-rdoc --no-ri --local --install-dir /var/tmp/portage/dev-ruby/rake-0.8.3-r30/image///usr/lib/ruby/gems/1.9.1 --sandbox-fix --no-user-install 

F: mkdir
S: deny
P: /usr/lib/ruby/gems/1.9.1
A: /usr/lib/ruby/gems/1.9.1
R: /usr/lib/ruby/gems/1.9.1
C: /usr/bin/ruby19 /usr/bin/gem install /var/tmp/portage/dev-ruby/rake-0.8.3-r30/distdir/rake-0.8.3 --version 0.8.3 --no-rdoc --no-ri --local --install-dir /var/tmp/portage/dev-ruby/rake-0.8.3-r30/image///usr/lib/ruby/gems/1.9.1 --sandbox-fix --no-user-install 

F: mkdir
S: deny
P: /usr/lib/ruby/gems/1.9.1
A: /usr/lib/ruby/gems/1.9.1
R: /usr/lib/ruby/gems/1.9.1
C: /usr/bin/ruby19 /usr/bin/gem install /var/tmp/portage/dev-ruby/rake-0.8.3-r30/distdir/rake-0.8.3 --version 0.8.3 --no-rdoc --no-ri --local --install-dir /var/tmp/portage/dev-ruby/rake-0.8.3-r30/image///usr/lib/ruby/gems/1.9.1 --sandbox-fix --no-user-install 

F: mkdir
S: deny
P: /usr/lib/ruby/gems/1.9.1
A: /usr/lib/ruby/gems/1.9.1
R: /usr/lib/ruby/gems/1.9.1
C: /usr/bin/ruby19 /usr/bin/gem install /var/tmp/portage/dev-ruby/rake-0.8.3-r30/distdir/rake-0.8.3 --version 0.8.3 --no-rdoc --no-ri --local --install-dir /var/tmp/portage/dev-ruby/rake-0.8.3-r30/image///usr/lib/ruby/gems/1.9.1 --sandbox-fix --no-user-install 

F: mkdir
S: deny
P: /usr/lib/ruby/gems/1.9.1
A: /usr/lib/ruby/gems/1.9.1
R: /usr/lib/ruby/gems/1.9.1
C: /usr/bin/ruby19 /usr/bin/gem install /var/tmp/portage/dev-ruby/rake-0.8.3-r30/distdir/rake-0.8.3 --version 0.8.3 --no-rdoc --no-ri --local --install-dir /var/tmp/portage/dev-ruby/rake-0.8.3-r30/image///usr/lib/ruby/gems/1.9.1 --sandbox-fix --no-user-install 


Reproducible: Always




Portage 2.2_rc23 (default/linux/x86/2008.0/developer, gcc-4.3.3, glibc-2.9_p20081201-r1, 2.6.28-zen4 i686)
=================================================================
System uname: Linux-2.6.28-zen4-i686-Intel-R-_Celeron-R-_M_processor_1.50GHz-with-gentoo-2.0.0
Timestamp of tree: Sun, 08 Feb 2009 22:10:04 +0000
ccache version 2.4 [enabled]
app-shells/bash:     3.2_p48
dev-java/java-config: 1.3.7-r1, 2.1.7
dev-lang/python:     2.6.1
dev-util/ccache:     2.4-r8
dev-util/cmake:      2.6.2-r1
sys-apps/baselayout: 2.0.0
sys-apps/openrc:     0.4.2
sys-apps/sandbox:    1.3.5
sys-devel/autoconf:  2.13, 2.63
sys-devel/automake:  1.4_p6, 1.5, 1.7.9-r1, 1.9.6-r2, 1.10.2
sys-devel/binutils:  2.19.1
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   2.2.6a
virtual/os-headers:  2.6.28-r1
ACCEPT_KEYWORDS="x86 ~x86"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-Os -mtune=pentium-m -march=pentium-m -mfpmath=sse -pipe -momit-leaf-frame-pointer -ggdb -w -ftree-vectorize -ftree-loop-optimize -freorder-blocks-and-partition -fgcse-sm -fgcse-las -fgcse-after-reload -ftracer -maccumulate-outgoing-args"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /var/lib/hsqldb"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-Os -mtune=pentium-m -march=pentium-m -mfpmath=sse -pipe -momit-leaf-frame-pointer -ggdb -w -ftree-vectorize -ftree-loop-optimize -freorder-blocks-and-partition -fgcse-sm -fgcse-las -fgcse-after-reload -ftracer -maccumulate-outgoing-args -fvisibility-inlines-hidden"
DISTDIR="/var/tmp/distfiles"
FEATURES="ccache collision-protect cvs digest distlocks fixpackages multilib-strict parallel-fetch prelink preserve-libs protect-owned sandbox sfperms sign splitdebug stricter unmerge-orphans userfetch userpriv usersandbox"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LANG="en_US.UTF-8"
LC_ALL="en_US.UTF-8"
LDFLAGS="-Wl,-O1 -Wl,--add-needed -Wl,--as-needed -Wl,--hash-style=both -Wl,--sort-common"
LINGUAS="en_GB en_US pl"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage-crossdev /usr/portage/local/layman/rbu /usr/portage/local/layman/x11 /usr/portage/local/layman/java-overlay /usr/portage/local/layman/my-gnome /usr/portage/local/layman/zen-overlay /usr/portage/local/layman/ruby /usr/portage/local/layman/java-experimental /usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X aac acl acpi alsa applet attr avahi avalon banshee bash-completion berkdb bittorrent boo browseplugin bzip2 c++ cairo calendar caps cddb cdparanoia cdr cdrkit cli clisp consolekit context cracklib crypt cups curl curlwrappers cxx d daap dbus deskbar detex devhelp disk-partition djvu docbook dri dvd dvdnav dvdr dvdread eclipse eds emacs emboss emerald encode eog epiphany esd evo evolution exif expat extra fam ffmpeg flac flash fortran fuse galago gconf gd gdbm gdl gedit gif gimp git glib glut gmail gmp gnome gnome-keyring gnutls gpm groovy gsf gstreamer gtk guile hal iconv idle imap inherit-graph inotify ipod iproute2 ipv6 isdnlog jabber java java5 java6 jingle jpeg jpeg2k jython keyring kpathsea kqemu laptop latex libburn libffi libgda libnotify libsexy logrotate lucene mad maildir mailwrapper mhash midi mikmod mmap mmx mono moonlight mozilla mp3 mpeg mudflap mule musicbrainz nautilus ncurses network networkmanager nls nntp no-old-linux nptl nptlonly nsplugin nss ntpl ogg oggvorbis openal opengl openmp pam pango pbm pccts pch pcre pda pdf perl png policykit pop postgres ppds pppd pulseaudio python qt3support quicktime raw readline reflection regex reiserfs resolvconf rhino ruby samba scanner science sdl session snmp soap soup sourceview spell spl sqlite sqlite3 sse sse2 ssh ssl startup-notification subversion svg symlink sysfs syslog tcpd tetex theora threads threadsafe tiff timidity totem tracker trayicon truetype unicode usb valgrind vim vorbis vte webkit wifi win32codecs wxwindows x86 xattr xcb xforms xhtml xml xml2 xorg xrender xsl xslt xulrunner xv zeroconf zlib" ALSA_CARDS="atiixp" ALSA_PCM_PLUGINS="null empty dmix dshare ioplug" APACHE2_MODULES="actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CAMERAS="panasonic" ELIBC="glibc" INPUT_DEVICES="mouse keyboard evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en_GB en_US pl" NETBEANS_MODULES="ide java websvccommon " USERLAND="GNU" VIDEO_CARDS="radeon"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, MAKEOPTS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Alex Legler (RETIRED)








          2009-02-09 07:50:58 UTC
        

Please sync the overlay and rebuild _ruby_. I fixed the ebuild yesterday.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

