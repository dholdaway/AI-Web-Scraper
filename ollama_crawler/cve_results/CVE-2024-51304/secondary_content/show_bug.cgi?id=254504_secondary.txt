Title: 254504 – openrc: /etc/init.d/keymaps have an issue with kbd utils from busybox
URL: https://bugs.gentoo.org/show_bug.cgi?id=254504

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 254504
openrc: /etc/init.d/keymaps have an issue with kbd utils from busybox
Last modified: 2009-01-12 12:19:41 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 254504 
      - openrc: /etc/init.d/keymaps have an issue with kbd utils from busybox


Summary:
openrc: /etc/init.d/keymaps have an issue with kbd utils from busybox
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] baselayout

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo's Team for Core System packages








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2009-01-11 00:33 UTC by Alexander Weber





      Modified:
    
2009-01-12 12:19 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Alexander Weber





          2009-01-11 00:33:37 UTC
        

kbd_mode from busybox does not support -C parameter. This is current not considered by openrc script /etc/init.d/keymaps.

Reproducible: Always

Steps to Reproduce:
1. Upgrade to openrc/baselayout-2
2. set symlink /bin/sh -> /bin/busybox
3. restart /etc/init.d/keymaps

Actual Results:  
~ # /etc/init.d/keymaps restart
keymaps          |* WARNING: you are stopping a boot service
keymaps          |* Caching service dependencies...                       [ ok ]
keymaps          |* Loading key mappings [de]...                          [ ok ]
keymaps          |* Setting keyboard mode [UTF-8]...
keymaps          |kbd_mode: invalid option -- C
keymaps          |BusyBox v1.11.1 (2008-10-04 05:12:32 CEST) multi-call binary
keymaps          |
keymaps          |Usage: kbd_mode [-a|k|s|u]
keymaps          |
keymaps          |Report or set the keyboard mode
keymaps          |
keymaps          |Options set mode:
keymaps          |	-a	Default (ASCII)
keymaps          |	-k	Medium-raw (keyboard)
keymaps          |	-s	Raw (scancode)
keymaps          |	-u	Unicode (utf-8)
keymaps          |
keymaps          |kbd_mode: invalid option -- C
keymaps          |BusyBox v1.11.1 (2008-10-04 05:12:32 CEST) multi-call binary
keymaps          |
keymaps          |Usage: kbd_mode [-a|k|s|u]
keymaps          |
keymaps          |Report or set the keyboard mode
keymaps          |
keymaps          |Options set mode:
keymaps          |	-a	Default (ASCII)
keymaps          |	-k	Medium-raw (keyboard)
keymaps          |	-s	Raw (scancode)
keymaps          |	-u	Unicode (utf-8)
keymaps          |
keymaps          |kbd_mode: invalid option -- C




Comment 1


Roy Marples





          2009-01-12 11:49:17 UTC
        

busybox upstream have already patched this to allow -C.
Not an OpenRC issue.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

