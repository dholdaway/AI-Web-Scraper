Title: 489092 – media-libs/mesa-9.2.1 - builtin_function.cpp:8222:2: error: #error builtins profile 100es_frag failed to compile
URL: https://bugs.gentoo.org/show_bug.cgi?id=489092

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 489092
media-libs/mesa-9.2.1 - builtin_function.cpp:8222:2: error: #error builtins profile 100es_frag failed to compile
Last modified: 2014-07-17 01:51:57 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 489092 
      - media-libs/mesa-9.2.1 - builtin_function.cpp:8222:2: error: #error builtins profile 100es_frag failed to compile


Summary:
media-libs/mesa-9.2.1 - builtin_function.cpp:8222:2: error: #error builtins p...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Library

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo X packagers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2013-10-23 04:20 UTC by brent





      Modified:
    
2014-07-17 01:51 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



nikoli









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build.log

              (build.log,300.80 KB,
                text/plain)

            
2013-10-23 04:22 UTC,

            brent




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


brent





          2013-10-23 04:20:42 UTC
        

libtool: link: ranlib .libs/libglcpp.a
libtool: link: rm -fr .libs/libglcpp.lax
libtool: link: ( cd ".libs" && rm -f "libglcpp.la" && ln -s "../libglcpp.la" "libglcpp.la" )
Failed to compile builtins with command:
./builtin_compiler/builtin_compiler --dump-hir /var/tmp/portage/media-libs/mesa-9.2.1/work/Mesa-9.2.1-x86/src/glsl/builtins/tools/../glsl/inverse.glsl 
Result:
Failed to compile builtin: /var/tmp/portage/media-libs/mesa-9.2.1/work/Mesa-9.2.1-x86/src/glsl/builtins/tools/../glsl/inverse.glsl
Result:
Failed to compile builtins with command:
./builtin_compiler/builtin_compiler --dump-hir /var/tmp/portage/media-libs/mesa-9.2.1/work/Mesa-9.2.1-x86/src/glsl/builtins/tools/../glsl/determinant.glsl 
Result:
Failed to compile builtin: /var/tmp/portage/media-libs/mesa-9.2.1/work/Mesa-9.2.1-x86/src/glsl/builtins/tools/../glsl/determinant.glsl
Result:
Failed to compile builtins with command:
./builtin_compiler/builtin_compiler --dump-hir /var/tmp/portage/media-libs/mesa-9.2.1/work/Mesa-9.2.1-x86/src/glsl/builtins/tools/../profiles/100es.frag 
Result:
Failed to compile builtins with command:
./builtin_compiler/builtin_compiler --dump-hir /var/tmp/portage/media-libs/mesa-9.2.1/work/Mesa-9.2.1-x86/src/glsl/builtins/tools/../profiles/100es.glsl 
(and many others)

Reproducible: Always

Steps to Reproduce:
attempt to emerge media-libs/mesa-9.2.1
Actual Results:  
emerge fails

Expected Results:  
emerge succeeds

Portage 2.2.7 (default/linux/amd64/13.0/desktop, gcc-4.7.3, glibc-2.17, 3.11.5-gentoo x86_64)
=================================================================
System uname: Linux-3.11.5-gentoo-x86_64-Intel-R-_Core-TM-_i7-2670QM_CPU_@_2.20GHz-with-gentoo-2.2
KiB Mem:     6016748 total,    464312 free
KiB Swap:          0 total,         0 free
Timestamp of tree: Wed, 23 Oct 2013 02:45:01 +0000
ld GNU ld (GNU Binutils) 2.21.1
app-shells/bash:          4.2_p45
dev-java/java-config:     2.2.0
dev-lang/python:          2.7.5-r2, 3.2.5-r2, 3.3.2-r2
dev-util/cmake:           2.8.11.2
dev-util/pkgconfig:       0.28
sys-apps/baselayout:      2.2
sys-apps/openrc:          0.12.1
sys-apps/sandbox:         2.6-r1
sys-devel/autoconf:       2.13, 2.69
sys-devel/automake:       1.9.6-r3, 1.10.3, 1.11.6, 1.12.6, 1.13.4, 1.14
sys-devel/binutils:       2.21.1-r1, 2.22-r1, 2.22.90, 2.23, 2.23.1, 2.23.2
sys-devel/gcc:            4.5.3-r2, 4.6.3, 4.7.2-r1, 4.7.3-r1
sys-devel/gcc-config:     1.8
sys-devel/libtool:        2.4.2
sys-devel/make:           3.82-r4
sys-kernel/linux-headers: 3.11 (virtual/os-headers)
sys-libs/glibc:           2.17
Repositories: gentoo sunrise sabayon x-portage
ACCEPT_KEYWORDS="amd64 ~amd64"
ACCEPT_LICENSE="*"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/config /usr/share/gnupg/qualified.txt /usr/share/polkit-1/actions /var/lib/hsqldb"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/dconf /etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php5.4/ext-active/ /etc/php/apache2-php5.5/ext-active/ /etc/php/cgi-php5.4/ext-active/ /etc/php/cgi-php5.5/ext-active/ /etc/php/cli-php5.4/ext-active/ /etc/php/cli-php5.5/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo"
CXXFLAGS="-O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FCFLAGS="-O2 -pipe"
FEATURES="assume-digests binpkg-logs candy config-protect-if-modified distlocks ebuild-locks fixlafiles merge-sync news parallel-fetch preserve-libs protect-owned sandbox sfperms strict unknown-features-warn unmerge-logs unmerge-orphans userfetch userpriv usersandbox usersync xattr"
FFLAGS="-O2 -pipe"
GENTOO_MIRRORS="http://gentoo.osuosl.org/ ftp://mirror.datapipe.net/gentoo http://mirror.the-best-hosting.net"
LANG="en_US.utf8"
LDFLAGS="-Wl,-O1 -Wl,--as-needed"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --omit-dir-times --compress --force --whole-file --delete --stats --human-readable --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/var/lib/layman/sunrise /var/lib/layman/sabayon /usr/local/portage"
SYNC="rsync://rsync.us.gentoo.org/gentoo-portage"
USE="64bit X a52 aac aalib accessibility acl acpi akamaru alsa amd64 animgif ao applet ares async asyncns atmo automount avahi banshee bash-completion berkdb bidi bluetooth bluez bonjour bookmarks branding bzip2 cairo caps cdda cddax cddb cdinstall cdio cdr cli colordiff cpulimit cracklib crypt css cups curl cxx dbus dc1394 device-mapper dga dirac directfb disk-partition diskio djvu double-precision dri dts dv dvb dvd dvdr dvdread eds elf emboss emerald empathy encode esd evo exif extensible extra-tools extras faac faad fam fbcon fbcondecor festival ffmpeg firefox flac flash fluidsynth fontconfig freetts fuse gajim games gcrypt gdbm gedit ggi gif gimp glamor glitz gnome gnome-keyring gnomecd gnutls gpg gphoto2 gpm gsm gstreamer gtk h323 hdaps hddtemp howl-compat html httpd iconv icu id3tag idn ieee1394 imagemagick imap introspection ipc ipod iproute2 ipv6 irda jack java jpeg jpeg2k kerberos krb5 kvm lame laptop lcms ldap libass libcaca libnotify libsamplerate libssh2 libsysfs libv4l2 libwww live lm_sensors loop-aes lua lzo mad matroska mbrola mdnsresponder-compat mfd-rewrites mikmod mmap mmx mng modplug modules mono motif mp3 mp4 mpeg mudflap multilib multislot musepack nautilus ncurses network nls nntp nptl nsplugin nss offensive ogg openexr opengl openmp openssl openstreetmap optimisememory overlays pam pango pcap pcapnav pcre pda pdf php pic pidgin png policykit ppds pulseaudio pvr qt3 qt3support qt4 quicktime quotas radius raster raw rawio readline remoteosd rtsp samba sasl scanner schroedinger scripting sdl sdl-image seamonkey session shout sip skey skins smbkrb5passwd smp smux sna socks5 sounds speex spell sse sse2 ssl startup-notification stream svg syslog systemd taglib tcpd theora threads tiff timezone tk tools tpctlir truetype twolame udev udisks unicode upnp upower usb utils uxa v4l v4l2 vala vcdinfo vcdx vde videos vim-pager vim-syntax vim-with-x vlm vorbis webkit wicd win32codecs winbind wmf wxwidgets x264 xattr xext xinerama xinetd xml xosd xpm xulrunner xv xvid xvmc zeroconf zlib zsh-completion zvbi" ABI_X86="32 64" APACHE2_MODULES="authn_core authz_core socache_shmcb unixd actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cgi cgid dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CALLIGRA_FEATURES="kexi words flow plan sheets stage tables krita karbon braindump author" CAMERAS="directory enigma13 kodak_dc120 kodak_dc210 kodak_dc240 kodak_dc3200 kodak_ez200" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" CURL_SSL="nss" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf superstar2 timing tsip tripmate tnt ubx" INPUT_DEVICES="evdev keyboard mouse synaptics" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LIBREOFFICE_EXTENSIONS="presenter-console presenter-minimizer" LINGUAS="en_US" OFFICE_IMPLEMENTATION="libreoffice" PHP_TARGETS="php5-5" PYTHON_SINGLE_TARGET="python2_7" PYTHON_TARGETS="python2_7 python3_3" RUBY_TARGETS="ruby19 ruby18" SANE_BACKENDS="apple canon canon630u canon_dr canon_pp cardscan coolscan coolscan2 coolscan3 dc210 dc240 dc25 dell1600n_net epjitsu epson epson2 fujitsu genesys hp hp3500 hp3900 hp4200 hp5400 hp5590 hpljm1005 hpsj5s hs2p ibm kodak lexmark magicolor matsushita microtek microtek2 mustek mustek_pp mustek_usb nec net niash p5 pie pixma plustek plustek_pp qcam ricoh rts8891 s9036 sceptre sharp sm3600 sm3840 snapscan sp15c st400 stv680 tamarack teco1 teco2 teco3 test u12 umax umax1220u umax_pp xerox_mfp" USERLAND="GNU" VIDEO_CARDS="intel i915 i965" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account"
USE_PYTHON="2.7 3.3"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LC_ALL, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS



[ebuild     U  ] media-libs/mesa-9.2.1 [9.2.0] USE="classic egl gallium gbm nptl pic xa xvmc -bindist -debug -gles1 -gles2 -llvm -opencl -openvg -osmesa -pax_kernel -r600-llvm-compiler (-selinux) -vdpau -wayland -xorg" ABI_X86="32%* (64%*) (-x32)" PYTHON_SINGLE_TARGET="(-python2_6%) (-python2_7%*)" PYTHON_TARGETS="(-python2_6%) (-python2_7%*)" VIDEO_CARDS="i915 i965 intel (-freedreno) -ilo -nouveau -r100 -r200 -r300 -r600 -radeon -radeonsi -vmware" 0 kB




Comment 1


brent





          2013-10-23 04:22:12 UTC
        

Created attachment 361680 [details]
build.log

build logfile




Comment 2


Matt Turner






          2013-11-07 18:47:31 UTC
        

I unfortunately don't have any idea why this happened. The good news is that this code doesn't exist in Mesa 10 and has been replaced by something that doesn't require a bootstrap GLSL compiler.




Comment 3


brent





          2013-11-07 23:40:36 UTC
        

is there any way to push forward with mesa 10? i don't even see it in the tree, and this has been blocking the upgrade of many packages for me for quite some time now.




Comment 4


Matt Turner






          2013-11-09 05:16:36 UTC
        

There aren't any release candidates for Mesa 10 yet, but you could try 9.2.2 or add the x11 overlay with layman and build mesa-9999.




Comment 5


Nikoli





          2013-12-31 10:42:21 UTC
        

mesa-10.0.1 is now in tree, any news?









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

