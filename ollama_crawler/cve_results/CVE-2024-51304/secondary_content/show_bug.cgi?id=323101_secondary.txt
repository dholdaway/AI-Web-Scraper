Title: 323101 – media-libs/xine-lib-1.1.18.1 fails to compile
URL: https://bugs.gentoo.org/show_bug.cgi?id=323101

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 323101
media-libs/xine-lib-1.1.18.1 fails to compile
Last modified: 2010-06-09 10:47:48 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 323101 
      - media-libs/xine-lib-1.1.18.1 fails to compile


Summary:
media-libs/xine-lib-1.1.18.1 fails to compile
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Media-video project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2010-06-07 17:27 UTC by Michael P. Soulier





      Modified:
    
2010-06-09 10:47 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build.log

              (build.log,221.77 KB,
                text/plain)

            
2010-06-07 17:33 UTC,

            Michael P. Soulier




Details





environment

              (xine-lib-env,3.85 KB,
                text/plain)

            
2010-06-07 17:33 UTC,

            Michael P. Soulier




Details





environment

              (environment,100.91 KB,
                text/plain)

            
2010-06-07 17:34 UTC,

            Michael P. Soulier




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Michael P. Soulier





          2010-06-07 17:27:28 UTC
        

libtool: compile:  i686-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I../../include -I../.. -I../../include -I../../include -I../../src -I../../src/xine-engine -I../../src/xine-engine -I../../src/xine-utils -I../../src/input -I../../src/input -I../../lib -I../../lib -fvisibility=hidden -D_LARGEFILE64_SOURCE -I/usr/include/alsa -I../../src/input/libdvdnav/ -D_REENTRANT -D_FILE_OFFSET_BITS=64 -DXINE_COMPILE -O2 -march=athlon-xp -pipe -frename-registers -ffunction-sections -Wall -Wchar-subscripts -Wnested-externs -Wcast-align -Wmissing-declarations -Wmissing-prototypes -Wmissing-format-attribute -Wno-pointer-sign -Wformat=2 -Wno-format-zero-length -Wstrict-aliasing=2 -Werror=implicit-function-declaration -DNDEBUG -c input_v4l2.c  -fPIC -DPIC -o .libs/xineplug_inp_v4l2_la-input_v4l2.o
input_v4l2.c: In function 'v4l2_input_open':
input_v4l2.c:113: error: implicit declaration of function '_IOR'
input_v4l2.c:113: warning: nested extern declaration of '_IOR'
input_v4l2.c:113: error: expected expression before 'struct'
input_v4l2.c: In function 'v4l2_input_setup_video_streaming':
input_v4l2.c:162: error: implicit declaration of function '_IOWR'
input_v4l2.c:162: warning: nested extern declaration of '_IOWR'
input_v4l2.c:162: error: expected expression before 'struct'
input_v4l2.c:179: error: expected expression before 'struct'
input_v4l2.c:208: error: expected expression before 'struct'
input_v4l2.c:212: error: implicit declaration of function '_IOW'
input_v4l2.c:212: warning: nested extern declaration of '_IOW'
input_v4l2.c:212: error: expected expression before 'int'
input_v4l2.c: In function 'v4l2_input_dequeue_video_buffer':
input_v4l2.c:283: error: expected expression before 'struct'
input_v4l2.c: In function 'v4l2_input_enqueue_video_buffer':
input_v4l2.c:317: error: expected expression before 'struct'
input_v4l2.c: In function 'v4l2_input_dispose':
input_v4l2.c:326: error: expected expression before 'int'
input_v4l2.c: In function 'v4l2_input_get_mrl':
input_v4l2.c:353: warning: unused variable 'this'
make[3]: *** [xineplug_inp_v4l2_la-input_v4l2.lo] Error 1
make[3]: Leaving directory `/var/tmp/portage/media-libs/xine-lib-1.1.18.1/work/xine-lib-1.1.18.1/src/input'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/var/tmp/portage/media-libs/xine-lib-1.1.18.1/work/xine-lib-1.1.18.1/src/input'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/media-libs/xine-lib-1.1.18.1/work/xine-lib-1.1.18.1/src'
make: *** [all-recursive] Error 1
 * ERROR: media-libs/xine-lib-1.1.18.1 failed:
 *   emake failed
 * 
 * Call stack:
 *     ebuild.sh, line   54:  Called src_compile
 *   environment, line 2671:  Called _eapi2_src_compile
 *     ebuild.sh, line  646:  Called die
 * The specific snippet of code:
 *              emake || die "emake failed"
 * 
 * If you need support, post the output of 'emerge --info =media-libs/xine-lib-1.1.18.1',
 * the complete build log and the output of 'emerge -pqv =media-libs/xine-lib-1.1.18.1'.
 * The complete build log is located at '/var/tmp/portage/media-libs/xine-lib-1.1.18.1/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/media-libs/xine-lib-1.1.18.1/temp/environment'.
 * S: '/var/tmp/portage/media-libs/xine-lib-1.1.18.1/work/xine-lib-1.1.18.1'
sandbox:main  signal SIGQUIT already had a handler ...


>>> Failed to emerge media-libs/xine-lib-1.1.18.1, Log file:

>>>  '/var/tmp/portage/media-libs/xine-lib-1.1.18.1/temp/build.log'


Reproducible: Always

Steps to Reproduce:
Any combination of emerge commands that results in building this ebuild.
Actual Results:  
See above.

Expected Results:  
I expected it to build properly.




Comment 1


Michael P. Soulier





          2010-06-07 17:33:18 UTC
        

Created attachment 234439 [details]
build.log




Comment 2


Michael P. Soulier





          2010-06-07 17:33:48 UTC
        

Created attachment 234441 [details]
environment




Comment 3


Michael P. Soulier





          2010-06-07 17:34:05 UTC
        

Created attachment 234443 [details]
environment




Comment 4


Rafał Mużyło





          2010-06-07 19:03:24 UTC
        

From the first looks, your kernel, kernel headers
and glibc are rather old.




Comment 5


Samuli Suominen (RETIRED)






          2010-06-09 09:48:01 UTC
        

(In reply to comment #4)
> From the first looks, your kernel, kernel headers
> and glibc are rather old.
> 

Yes, see bug 323307. Please upgrade your linux-headers, recompile libv4l, and try again.

And really... upgrade your system too, simple emerge -avDNut world (or system) should do.




Comment 6


Michael P. Soulier





          2010-06-09 10:47:48 UTC
        

As my hardware is aging I don't usually upgrade the lower levels until I must, if everything is working. I'm likely using the wrong distribution for that. 

For the record, gentoo never makes it as easy as a *simple* upgrade.

emerge: there are no ebuilds built with USE flags to satisfy "=dev-lang/python-2.6*[sqlite,threads]".
!!! One of the following packages is required to complete your request:
- dev-lang/python-2.6.4-r1 (Change USE: +sqlite)
(dependency required by "games-kids/gcompris-9.2.2" [ebuild])
(dependency required by "world" [argument])

I'll follow its suggestion. ;-)

Still, if newer kernel headers and a rebuild of libv4l were required, is there no dependency mechanism in ebuilds to detect and suggest that?

Thanks. 









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

