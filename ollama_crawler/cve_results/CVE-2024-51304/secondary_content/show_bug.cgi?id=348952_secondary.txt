Title: 348952 – kde-4.4.5-r1+xorg-7.x+twinview = Chromium won't drag around screens when maximized
URL: https://bugs.gentoo.org/show_bug.cgi?id=348952

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 348952
kde-4.4.5-r1+xorg-7.x+twinview = Chromium won't drag around screens when maximized
Last modified: 2011-03-22 15:06:02 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 348952 
      - kde-4.4.5-r1+xorg-7.x+twinview = Chromium won't drag around screens when maximized


Summary:
kde-4.4.5-r1+xorg-7.x+twinview = Chromium won't drag around screens when maxi...
        









Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       minor
      


Assignee:

Chromium Project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2010-12-17 14:29 UTC by soya





      Modified:
    
2011-03-22 15:06 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


soya





          2010-12-17 14:29:53 UTC
        

After updating Chromium to chromium-7.0.517.44 from portage i can't drag it between different screens when Chromium is maximized/full screen. If i go to Preferencies (Chromium) -> Personal -> Theme and enable "Use borders and title bar" (so it shows kwin) i can move chromium windows between screens as i normally do with any other app. Before the update i was using chromum 7.x from portage and had no issues
I'm a kde user, xinerama enabled everywhere.

Reproducible: Always

Steps to Reproduce:
1.Emerge www-client/chromium-8.0.552.224
2.Open Chromium full screen
3.Try to drag

Actual Results:  
Can't drag around screens.

Expected Results:  
Drag around screens


Today updated xorg to xorg-server-9.x and still fails to drag. It started happening with xorg-7.x That's my xorg.conf:

Section "ServerLayout"
        Identifier      "Layout0"
        Screen 0        "Screen0" 0 0
        Option          "Pixmap" "32"
#       InputDevice    "Keyboard0" "CoreKeyboard"
#       InputDevice    "Mouse0" "CorePointer"
        Option          "AutoAddDevices" "True"
EndSection

Section "ServerFlags"
        Option  "Xinerama"      "0"
        Option  "DontZap"       "false"
EndSection

Section "Module"

        Load    "dbe" # This loads the Double buffer extension module.

        Load    "extmod"
        Load    "type1"
        Load    "speedo"
        Load    "freetype"
#       Load    "fbdevhw"
        Load    "record"
        #Load   "xtt"
        Load    "bitmap"
        Load    "ddc"
        #Load   "pex5"
        #Load   "xie"
        Load    "glx"
        #Load   "GLcore"
#       Disable  "dri2"
#       Disable  "dri"
        Load    "dri" # This loads the DRI module
        Load    "dri2"
        Load    "xtrap"
        Load    "/usr/lib/opengl/nvidia/extensions/libglx.so"

EndSection


Section "Files"
        FontPath        "/usr/share/fonts"
        FontPath        "/usr/share/fonts/100dpi"
        FontPath        "/usr/share/fonts/75dpi"
        FontPath        "/usr/share/fonts/75dpi/:unscaled"
        FontPath        "/usr/share/fonts/100dpi/:unscaled"
        FontPath        "/usr/share/fonts/cyrillic"
        #FontPath       "/usr/share/fonts/default"
        FontPath        "/usr/share/fonts/encodings"
        FontPath        "/usr/share/fonts/freefont-ttf"
        #FontPath       "/usr/share/fonts/local"
        FontPath        "/usr/share/fonts/misc"
        #FontPath       "/usr/share/fonts/truetypefonts"
        #FontPath       "/usr/share/fonts/TTF"
        FontPath        "/usr/share/fonts/ttf-bitstream-vera"
        FontPath        "/usr/share/fonts/Type1"
        FontPath        "/usr/share/fonts/unifont"
        FontPath        "/usr/share/fonts/util"
EndSection


Section "Extensions"
        Option  "Composite"     "Enable"
        Option  "RENDER"        "Enable"
EndSection


Section "Monitor"
        Identifier      "Monitor0"
        VendorName      "LG"
        ModelName       "FLATRON L225WS"
        #DisplaySize
        HorizSync       31.0 - 83
        VertRefresh     56 - 75
        Option          "DPMS"
        modeline  "800x600@56" 36.0 800 824 896 1024 600 601 603 625 +hsync +vsync
        modeline  "800x600@60" 40.0 800 840 968 1056 600 601 605 628 +hsync +vsync
        modeline  "1280x768@60" 80.14 1280 1344 1480 1680 768 769 772 795 -hsync +vsync
        modeline  "1280x720@60" 74.48 1280 1336 1472 1664 720 721 724 746 -hsync +vsync
        modeline  "1280x800@60" 83.46 1280 1344 1480 1680 800 801 804 828 -hsync +vsync
        modeline  "1440x900@60" 106.47 1440 1520 1672 1904 900 901 904 932 -hsync +vsync
        modeline  "1600x1024@60" 136.36 1600 1704 1872 2144 1024 1025 1028 1060 -hsync +vsync
#       modeline  "1680x1050@60" 147.14 1680 1784 1968 2256 1050 1051 1054 1087 -hsync +vsync
        modeline "1680x1050@60"   119.00   1680 1728 1760 1840   1050 1053 1059 1080 +hsync -vsync

        Gamma   1.0
EndSection

Section "Monitor"
        #DisplaySize
    Identifier     "Monitor1"
    VendorName     "Philips"
    ModelName      "Philips 150S"
    HorizSync       30.0 - 61.0
    VertRefresh     56.0 - 76.0
    Gamma           1
    Option         "DPMS"
EndSection

Section "Device"
        Identifier      "Card0"
        Driver          "nvidia"
        VendorName     "NVIDIA Corporation"
        BoardName      "GeForce GTX 260"
        Card            "Geforce GTX 260"
        #ChipSet
        VideoRam        900000
        Option          "RenderAccel" "True"
        Option "ConnectedMonitor" "CRT-1, CRT-0"
        Option "TripleBuffer" "True"
        Option "BackingStore" "True"
        Option "DamageEvents" "True"
        Option "RandRRotation" "True"
        Option          "Overlay" "1"
        Option          "AGPMode" "8"
        Option          "NvAGP" "1"     # 0 : disabled
                                        # 1 : use NVIDIA's internal AGP support, if possible
                                        # 2 : use AGPGART, if possible
                                        # 3 : use any agp support (try AGPGART, then NVIDIA's AGP)
                                        # Please note that NVIDIA's internal AGP support cannot
                                        # work if AGPGART is either statically compiled into your
                                        # kernel or is built as a module, but loaded into your
                                        # kernel (some distributions load AGPGART into the kernel
                                        # at boot up).  Default: 3 (the default was 1 until after 1.0-1251).

        Option          "NVreg_EnableAGPSBA"    "1"
        Option          "AGPSize"               "256"
        Option          "AGPFastWrite"          "True"
        Option          "EnablePageFlip"        "True"
        Option          "RenderAccel"           "1"
        Option          "AllowGLXWithComposite" "1"
        Option          "DRI"                   "True"
#        Option          "DigitalVibrance" "2" #0-255
        #Option         "CIOverlay" "boolean" #0-255
        #Option         "CursorShadowAlpha" "integer" #0-255
        Option          "DynamicTwinView" "True"
        Option          "NoLogo" "True"
        Option          "DPMS"
        Option          "AddARGBGLXVisuals" "True"
        BusID           "PCI:2:0:0"
        Option          "UseFBDev"
        Option          "AddARGBVisuals"        "True"
        Option          "AddARGBGLXVisuals"     "True
#coolbit noddc
EndSection


Section "Screen"
        Identifier      "Screen0"
        Device          "Card0"
        Monitor         "Monitor0"
        DefaultDepth        24
        Option          "AddARGBVisuals" "True"
        Option          "AddARGBGLXVisuals" "True"

        Option          "TwinView" "1"
        Option          "TwinViewXineramaInfoOrder" "CRT-1"
#       Option          "metamodes" "CRT-0: 1024x768@60 +0+0, CRT-1: 1680x900@60 +0+0"
#       Option         "UseEdidFreqs" "False"
       Option         "metamodes" "CRT-0: 1024x768, CRT-1: 1680x1050 +1024+0"
       Option         "UseDisplayDevice" "CRT-1, CRT-0"
       Option         "ConnectedMonitor" "CRT-1, CRT-0"
        Option         "HorizSync"       "CRT-1: 31-83; CRT-0: 30-61"
        Option         "VertRefresh"     "CRT-1: 56-75; CRT-0: 56-76"
#       Option         "TwinViewXineramaInfoOrder" "CRT-1,CRT-0"
       Option         "TwinViewOrientation" "CRT-0 LeftOf CRT-1"
#       Option         "TwinViewXineramaInfoOrder" "CRT-1"
#       Option         "TwinViewOrientation" "LeftOf"

        SubSection "Display"
                Modes           "1680x1050@60" "1440x900" "1280x800" "1280x1024" "1280x960" "1024x768" "800x600" "640x480"
                Depth    16
        EndSubSection   
        SubSection "Display"
                Depth           24
                Option          "rgb bits" "24"
                Option          "backingstore"
                Modes           "1680x1050@60" "1440x900" "1280x768" "1280x1024" "1024x768" "800x600" "640x480"
                ViewPort        0 0
                Virtual         0 0
        EndSubSection
        SubSection "Display"
                Depth 32
                Option          "rgb bits" "24"
                Option          "backingstore"
                Modes           "1680x1050@60" "1440x900" "1280x800" "1280x1024" "1280x960" "1024x768" "800x600" "640x480"
                ViewPort        0 0
                Virtual         0 0
        EndSubSection
EndSection


Section "DRI"
        Mode 0666 # Access to OpenGL ICD is allowed for all users
EndSection




Comment 1


Jeremy Olexa (darkside) (RETIRED)








          2010-12-17 17:56:44 UTC
        

Please provide 'emerge --info chromium'




Comment 2


soya





          2010-12-18 22:42:01 UTC
        

(In reply to comment #1)
> Please provide 'emerge --info chromium'
> 

emerge --info chromium
Portage 2.2.0_alpha8 (default/linux/amd64/10.0/desktop, gcc-4.4.4, glibc-2.11.2-r3, 2.6.36-reiser4-r2 x86_64)
=================================================================
                        System Settings
=================================================================
System uname: Linux-2.6.36-reiser4-r2-x86_64-Intel-R-_Core-TM-_i7_CPU_920_@_2.67GHz-with-gentoo-2.0.1
Timestamp of tree: Fri, 17 Dec 2010 10:00:01 +0000
ccache version 2.4 [disabled]
app-shells/bash:     4.1_p7
dev-java/java-config: 2.1.11-r1
dev-lang/python:     2.6.5-r3, 3.1.2-r4
dev-util/ccache:     2.4-r7
dev-util/cmake:      2.8.1-r2
sys-apps/baselayout: 2.0.1-r1
sys-apps/openrc:     0.6.8
sys-apps/sandbox:    2.4
sys-devel/autoconf:  2.65-r1
sys-devel/automake:  1.11.1
sys-devel/binutils:  2.20.1-r1
sys-devel/gcc:       4.4.4-r2
sys-devel/gcc-config: 1.4.1
sys-devel/libtool:   2.2.10
sys-devel/make:      3.81-r2
virtual/os-headers:  2.6.36.1 (sys-kernel/linux-headers)
Repositories: gentoo java-overlay qting-edge linuxdna kde mozilla systemd geki-overlay Local-Portage
ACCEPT_KEYWORDS="amd64"
ACCEPT_LICENSE="* -@EULA Nero-EULA-US dlj-1.1 sun-bcla-java-vm AdobeFlash-10.1"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=native -O2 -pipe -fomit-frame-pointer -msse4 -msse4.1 -msse4.2"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/X11/xkb /usr/share/config /var/lib/hsqldb"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo"
CXXFLAGS="-march=native -O3 -pipe -fomit-frame-pointer -msse4 -msse4.1 -msse4.2"
DISTDIR="/usr/portage/distfiles"
FEATURES="assume-digests binpkg-logs distlocks fixlafiles fixpackages metadata-transfer news parallel-fetch preserve-libs protect-owned sandbox sfperms strict unknown-features-warn unmerge-logs unmerge-orphans userfetch"
GENTOO_MIRRORS="http://distfiles.gentoo.org"
LANG="es_ES@euro"
LC_ALL="es_ES@euro"
LDFLAGS="-Wl,-O1 -Wl,--hash-style=gnu"
LINGUAS="es es_ES"
MAKEOPTS="-j9"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage/layman/java-overlay /usr/local/portage/layman/qting-edge /usr/local/portage/layman/linuxdna /usr/local/portage/layman/kde /usr/local/portage/layman/mozilla /usr/local/portage/layman/systemd /usr/local/portage/layman/openoffice-geki /usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X a52 aac acpi alsa amd64 bluetooth branding bzip2 cairo cdr cli consolekit cracklib crypt cups custom-cxxflags cxx dbus dri dts dvd dvdr emboss encode exceptions exif fam firefox flac fortran gif gpm gtk gtkstyle hal iconv icu jpeg kde lcms libnotify mad mikmod mmx mmxext mng modules mp3 mp4 mpeg mudflap multilib ncurses nls nptl nptlonly ogg opengl openmp pango pcre pdf pic png ppds pppd qt-copy qt3support qt4 readline samba sdl session spell sse sse2 sse3 ssse3 startup-notification svg sysfs tiff truetype unicode usb v4l v4l2 vorbis webkit x264 xcb xcomposite xinerama xml xorg xulrunner xv xvid zlib" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic authn _alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias filter" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf superstar2 timing tsip tripmate tnt ubx" INPUT_DEVICES="keyboard mouse joystick penmount evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="es es_ES" NETBEANS_MODULES="php ide apisupport harness java nb websvccommon" PHP_TARGETS="php5-2" RUBY_TARGETS="ruby18" USERLAND="GNU" VIDEO_CARDS="nvidia v4l"
XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account" 
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, FFLAGS, INSTALL_MASK, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS

=================================================================
                        Package Settings
=================================================================

www-client/chromium-8.0.552.224 was built with the following:
USE="cups (multilib) -gecko-mediaplayer -gnome -gnome-keyring -system-sqlite (-system-v8)"
CXXFLAGS="-march=native -O3 -pipe -fomit-frame-pointer -msse4 -msse4.1 -msse4.2"
LDFLAGS="-Wl,-O1 -Wl,--hash-style=gnu"





Comment 3


soya





          2010-12-20 05:17:01 UTC
        

I feel like GTK is not able to manage chromium windows to move them around screens. Mabe is a bug or a broken GTK package? or a x11 bug/broken package? Where could should i take a look?




Comment 4


soya





          2010-12-23 09:47:23 UTC
        

(In reply to comment #3)
> I feel like GTK is not able to manage chromium windows to move them around
> screens. Mabe is a bug or a broken GTK package? or a x11 bug/broken package?
> Where could should i take a look?
> 

Is there anyoen taking care of the bug?




Comment 5


Mike Gilbert






          2010-12-23 21:53:51 UTC
        

(In reply to comment #4)
> (In reply to comment #3)
> > I feel like GTK is not able to manage chromium windows to move them around
> > screens. Mabe is a bug or a broken GTK package? or a x11 bug/broken package?
> > Where could should i take a look?
> > 
> 
> Is there anyoen taking care of the bug?
> 

I would love to try and reproduce this, but I lack a second monitor. :(

This sounds like an upstream problem to me. It would be interesting to see if someone on Ubuntu can reproduce this with an official Chrome build; that would help move any upstream bug report along.




Comment 6


Paweł Hajdan, Jr. (RETIRED)






          2011-01-25 11:13:33 UTC
        

(In reply to comment #0)
> After updating Chromium to chromium-7.0.517.44 from portage i can't drag it
> between different screens when Chromium is maximized/full screen. If i go to
> Preferencies (Chromium) -> Personal -> Theme and enable "Use borders and title
> bar" (so it shows kwin) i can move chromium windows between screens as i
> normally do with any other app.

Please update to the latest stable version in portage, and if the issue is still there, report it upstream (http://new.crbug.com), and post the link here.




Comment 7


Julien Sanchez






          2011-01-25 11:24:22 UTC
        

For info if it can help, I have two monitors and i'm using twinview.

I don't have this problem with either system or chromium borders and bar:
-chromium 10 (chromium-9999 ebuild)
-gnome 2.32 (metacity 2.30.3)
-xorg 1.9









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

