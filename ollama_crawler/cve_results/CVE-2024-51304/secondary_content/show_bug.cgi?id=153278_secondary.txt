Title: 153278 – kdemultimedia-kioslaves-3.5.5 won't configure
URL: https://bugs.gentoo.org/show_bug.cgi?id=153278

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 153278
kdemultimedia-kioslaves-3.5.5 won't configure
Last modified: 2006-12-06 05:38:01 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 153278 
      - kdemultimedia-kioslaves-3.5.5 won't configure


Summary:
kdemultimedia-kioslaves-3.5.5 won't configure
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-10-29 04:05 UTC by Michael Cramer





      Modified:
    
2006-12-06 05:38 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



avuton
sound









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




config.log

              (config.log,205.81 KB,
                text/plain)

            
2006-10-29 04:07 UTC,

            Michael Cramer




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Michael Cramer





          2006-10-29 04:05:16 UTC
        

checking for cdparanoia... /usr/bin/cdparanoia
checking cdda_interface.h usability... yes
checking cdda_interface.h presence... yes
checking for cdda_interface.h... yes
checking for cdrom_drive.cdda_device_name in cdda_interface.h... yes
checking for paranoia_init in -lcdda_paranoia... no
configure: error: --with-cdparanoia was given, but test for cdparanoia failed

!!! Please attach the following file when filing a report to bugs.gentoo.org:
!!! /var/tmp/portage/kde-base/kdemultimedia-kioslaves-3.5.5/work/kdemultimedia-kioslaves-3.5.5/config.log

!!! ERROR: kde-base/kdemultimedia-kioslaves-3.5.5 failed.
Call stack:
  ebuild.sh, line 1568:   Called dyn_compile
  ebuild.sh, line 937:   Called src_compile
  kdemultimedia-kioslaves-3.5.5.ebuild, line 39:   Called kde-meta_src_compile 'myconf' 'configure'
  kde-meta.eclass, line 379:   Called kde_src_compile 'myconf' 'configure'
  kde.eclass, line 324:   Called econf '--with-cdparanoia' '--enable-cdparanoia' '--with-vorbis' '--with-flac' '--with-x' '--enable-mitshm' '--with-xinerama' '--with-qt-dir=/usr/qt/3' '--enable-mt' '--with-qt-libraries=/usr/qt/3/lib' '--disable-dependency-tracking' '--disable-debug' '--without-debug' '--enable-final' '--with-arts' '--prefix=/usr/kde/3.5' '--mandir=/usr/kde/3.5/share/man' '--infodir=/usr/kde/3.5/share/info' '--datadir=/usr/kde/3.5/share' '--sysconfdir=/usr/kde/3.5/etc'
  ebuild.sh, line 540:   Called die

!!! econf failed
!!! If you need support, post the topmost build error, and the call stack if relevant.


Portage 2.1.2_rc1-r1 (default-linux/x86/2006.1/desktop, gcc-4.1.1, glibc-2.5-r0, 2.6.18-gentoo-2006.0 i686)
=================================================================
System uname: 2.6.18-gentoo-2006.0 i686 Pentium III (Coppermine)
Gentoo Base System version 1.12.5
Last Sync: Sun, 29 Oct 2006 04:00:01 +0000
app-admin/eselect-compiler: [Not Present]
dev-java/java-config: 1.3.7, 2.0.30
dev-lang/python:     2.4.3-r4
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.60
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.17
sys-devel/gcc-config: 1.3.14
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.18
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium3 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/lib/mozilla/defaults/pref /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/splash /etc/terminfo /etc/texmf/web2c"
CXXFLAGS="-O2 -march=pentium3 -pipe -fomit-frame-pointer"
DISTDIR="/usr/local/portage/distfiles"
EMERGE_DEFAULT_OPTS="--with-bdeps=y"
FEATURES="autoconfig collision-protect distlocks metadata-transfer parallel-fetch sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LANG="C"
LC_ALL="C"
LDFLAGS="-Wl,-O1 -Wl,--sort-common -Wl,--as-needed"
LINGUAS="de en"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 7zip X Xaw3d a52 aac aalib accessibility acl acpi addbookmarks aiglx akode alias alsa amr ao aoss apache2 arts artswrappersuid async audiofile authfile automount autoreplace avahi bcmath bcp beagle berkdb big-tables bitmap-fonts bjam bluetooth bookmarks bzip2 cairo calendar caps cdb cddb cdr cgi chm cjk clamav cli cluster connectionstatus contactnotes cracklib crypt css ctype cups curl curlwrappers cvs dbus dcraw depth32 dga directfb diskio djbfft djvu dlloader dmi dmx doc dri dts dv dvd dvdr dvdread ecc eds elf elibc_glibc emacs emboss encode esd evo examples exif expat extraengine extrafilters faad fam fame fbcon ffmpeg fftw filepro firebird firefox flac flatfile fontconfig fortran fpx ft ftp gadu galago gcj gd gdbm ggi gif glep glibc-omitfp glitz gmp gnokii gnome gnutls gphoto2 gpm graphviz groupwise gs gstreamer gtk gtkhtml guile hal hash hesiod highlight history howl-compat hpn ical iconv idea idled idn ieee1394 ifsession imagemagick imap imlib immqt inifile input_devices_evdev input_devices_keyboard input_devices_mouse ipv6 irc irda isdnlog ithreads jack jack-tmpfs java javascript jbig jce joystick jpeg jpeg2k kcal kde kdeenablefinal kdehiddenvisibility kdrive kerberos kernel_linux keyring kig-scripting latex lcms ldap leim libcaca libg++ libnotify linguas_de linguas_en lirc lirc_devices_serial lm_sensors lua lzo lzw mad max-idx-128 mbrola memlimit mfd-rewrites mhash mikmod mime ming mjpeg mmap mmx mng mono motif mozcalendar mozdevelop mp3 mp4 mpeg mpm-prefork mssql mudflap musepack musicbrainz mysql mysqli nas ncurses neXt netjack netmeeting netpbm network new-login nfs nis nls nntp no-old-linux nowlistening nptl nptlonly nsplugin numeric oav objc objc++ objc-gc ocaml odbc ogg ole openct openexr opengl opensslcrypt oss overlays pam pam_chroot pam_console pam_timestamp pcntl pcre pcsc-lite pda pdf pdo pear perl php physfs pic pike png portaudio posix postgres povray ppds pppd pwdb pyste python qt3 qt4 quicktime quotas rdesktop readline reflection rewrite rle rpm rrdcgi ruby samba sametime sample sasl scanner script sdl seamonkey sensord serial session shaper sharedmem simplexml sitemisc skey slp smartcard sms smux sndfile snmp soap sockets socks5 softquota speex spell spl sql sqlite sqlite3 srp sse ssl statistics subversion svg svga swat symlink sysfs syslog sysvipc tcl tcltk tcpd test tetex texteffect theora threads threadsafe tidy tiff timidity tk tokenizer toolbar tools translator transmitter truetype truetype-fonts type1-fonts ucs2 udev unicode unzip usb userland_GNU utempter vcd video_cards_r128 video_cards_vesa vorbis vorbis-psy vroot wddx webpresence wifi win32codecs winbind winpopup wmf wxwindows x264 xcomposite xinerama xinetd xml xml2 xmldoclet xmlreader xmlrpc xmlwriter xorg xpm xprint xscreensaver xsl xv xvid yaz yv12 zeroconf zip zlib"
Unset:  CTARGET, INSTALL_MASK, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Michael Cramer





          2006-10-29 04:07:00 UTC
        

Created attachment 100700 [details]
config.log




Comment 2


Jakub Moc (RETIRED)






          2006-10-29 04:19:27 UTC
        

<snip>
/usr/lib/libcdda_paranoia.so: undefined reference to `cdda_sector_gettrack'
/usr/lib/libcdda_paranoia.so: undefined reference to `cdda_tracks'
/usr/lib/libcdda_paranoia.so: undefined reference to `cdda_read'
/usr/lib/libcdda_paranoia.so: undefined reference to `cdda_track_lastsector'
/usr/lib/libcdda_paranoia.so: undefined reference to `cdda_track_audiop'
/usr/lib/libcdda_paranoia.so: undefined reference to `cdda_track_firstsector'
/usr/lib/libcdda_paranoia.so: undefined reference to `cdda_disc_firstsector'
/usr/lib/libcdda_paranoia.so: undefined reference to `cdda_disc_lastsector'
</snip>

Re-emerge cdparanoia without --as-needed and try again.





Comment 3


Michael Cramer





          2006-10-29 06:19:36 UTC
        

Re-emerge cdparanoia without --as-needed fixed it, kdemultimedia-kioslaves-3.5.5 configures and compiles then fine




Comment 4


Avuton Olrich





          2006-10-29 21:18:26 UTC
        

Should block 129413, no?




Comment 5


Gerte Hoogewerf





          2006-12-06 05:33:16 UTC
        

Kdebase-kioslaves-3.5.5 really doesn't emerge when --as-needed is set in LDFLAGS. It doesn't matter how cdparanoia is built, --as-needed breaks kdebase-kioslaves-3.5.5!

Please filter this flag in this package.
src_compile() {
filter-ldflags -Wl,--as-needed --as-needed
.....

This is possibly a binutils bug:
http://forums.gentoo.org/viewtopic-p-3765076.html#3765076






Comment 6


Diego Elio Pettenò (RETIRED)






          2006-12-06 05:38:01 UTC
        

No this is all fixed now, and kdebase-kioslaves (and kdemultimedia-kioslaves) build both fine with --as-needed.










Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

