Title: 473256 – app-admin/gkrellm-2.3.5-r2 - Error in `gkrellm': double free or corruption ()
URL: https://bugs.gentoo.org/show_bug.cgi?id=473256

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 473256
app-admin/gkrellm-2.3.5-r2 - Error in `gkrellm': double free or corruption ()
Last modified: 2023-02-03 09:44:15 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 473256 
      - app-admin/gkrellm-2.3.5-r2 - Error in `gkrellm': double free or corruption ()


Summary:
app-admin/gkrellm-2.3.5-r2 - Error in `gkrellm': double free or corruption ()
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

No maintainer - Look at https://wiki.gentoo.org/wiki/Project:Proxy_Maintainers if you want to take care of it








URL:







Whiteboard:




Keywords:

PMASKED







Depends on:







Blocks:









 





      Reported:
    
2013-06-14 10:02 UTC by PM





      Modified:
    
2023-02-03 09:44 UTC
      (History)
    




          CC List:
        

2 
          users
          
            (show)
          



jer
treecleaner









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


PM





          2013-06-14 10:02:33 UTC
        

gkrellm recently started crashing randomly every few hours/days. The backtrace seems to point at /usr/lib64/libnvidia-tls.so.319.23 as the culprit. 

*** Error in `gkrellm': double free or corruption (!prev): 0x0000000000b349c0 ***
======= Backtrace: =========
/lib64/libc.so.6(+0x7e9a6)[0x7fc2028539a6]
/lib64/libc.so.6(+0x7f753)[0x7fc202854753]
/usr/lib64/libGL.so.1(+0xaceac)[0x7fc1fec13eac]
======= Memory map: ========
00400000-004c1000 r-xp 00000000 08:15 1577689                            /usr/bin/gkrellm
006c0000-006c1000 r--p 000c0000 08:15 1577689                            /usr/bin/gkrellm
006c1000-006e1000 rw-p 000c1000 08:15 1577689                            /usr/bin/gkrellm
006e1000-006e5000 rw-p 00000000 00:00 0 
007a0000-00c7a000 rw-p 00000000 00:00 0                                  [heap]
7fc1cde44000-7fc1d8f22000 r--p 00000000 08:15 262438                     /usr/share/icons/oxygen/icon-theme.cache
7fc1d8f22000-7fc1e4000000 r--p 00000000 08:15 262438                     /usr/share/icons/oxygen/icon-theme.cache
7fc1e4000000-7fc1e4022000 rw-p 00000000 00:00 0 
7fc1e4022000-7fc1e8000000 ---p 00000000 00:00 0 
7fc1ec000000-7fc1ec2b2000 rw-p 00000000 00:00 0 
7fc1ec2b2000-7fc1f0000000 ---p 00000000 00:00 0 
7fc1f0bcc000-7fc1f1ce2000 r--p 00000000 08:15 263863                     /usr/share/icons/hicolor/icon-theme.cache (deleted)
7fc1f1ce2000-7fc1f2df8000 r--p 00000000 08:15 263863                     /usr/share/icons/hicolor/icon-theme.cache (deleted)
7fc1f2df8000-7fc1f2df9000 ---p 00000000 00:00 0 
7fc1f2df9000-7fc1f35f9000 rw-p 00000000 00:00 0 
7fc1f35f9000-7fc1f35fe000 r-xp 00000000 08:15 9604426                    /lib64/libnss_dns-2.17.so
7fc1f35fe000-7fc1f37fd000 ---p 00005000 08:15 9604426                    /lib64/libnss_dns-2.17.so
7fc1f37fd000-7fc1f37fe000 r--p 00004000 08:15 9604426                    /lib64/libnss_dns-2.17.so
7fc1f37fe000-7fc1f37ff000 rw-p 00005000 08:15 9604426                    /lib64/libnss_dns-2.17.so
7fc1f37ff000-7fc1f3800000 ---p 00000000 00:00 0 
7fc1f3800000-7fc1f4000000 rw-p 00000000 00:00 0                          [stack:20104]
7fc1f4000000-7fc1f4021000 rw-p 00000000 00:00 0 
7fc1f4021000-7fc1f8000000 ---p 00000000 00:00 0 
7fc1f804b000-7fc1f8054000 rw-p 00000000 00:00 0 
7fc1f8054000-7fc1f8104000 r--p 00000000 08:15 1195662                    /usr/share/fonts/dejavu/DejaVuSans.ttf
7fc1f8104000-7fc1f8117000 rw-p 00000000 00:00 0 
7fc1f8117000-7fc1f8126000 r--p 00000000 08:15 19152                      /usr/share/fonts/ttf-bitstream-vera/VeraSe.ttf
7fc1f8126000-7fc1f8129000 r-xp 00000000 08:15 4072793                    /usr/lib64/pango/1.8.0/modules/pango-basic-fc.so
7fc1f8129000-7fc1f8328000 ---p 00003000 08:15 4072793                    /usr/lib64/pango/1.8.0/modules/pango-basic-fc.so
7fc1f8328000-7fc1f8329000 r--p 00002000 08:15 4072793                    /usr/lib64/pango/1.8.0/modules/pango-basic-fc.so
7fc1f8329000-7fc1f832a000 rw-p 00003000 08:15 4072793                    /usr/lib64/pango/1.8.0/modules/pango-basic-fc.so
7fc1f832a000-7fc1f832d000 r--s 00000000 08:15 19959                      /var/cache/fontconfig/0b1bcc92b4d25cc154d77dafe3bceaa0-le64.cache-3.NEW (deleted)
7fc1f832d000-7fc1f832f000 r--s 00000000 08:15 19958                      /var/cache/fontconfig/711dae798b6bff4224ea2776edcb5c93-le64.cache-3.NEW (deleted)
7fc1f832f000-7fc1f8338000 r--s 00000000 08:15 19956                      /var/cache/fontconfig/acc285bc1956c3c4bc7afb41d537a85a-le64.cache-3.NEW (deleted)
7fc1f8338000-7fc1f833c000 r--s 00000000 08:15 19955                      /var/cache/fontconfig/5dac49e74d8a3622eea6c94592a6c625-le64.cache-3.NEW (deleted)
7fc1f833c000-7fc1f833f000 r--s 00000000 08:15 19954                      /var/cache/fontconfig/76fa4b957c916922374347f144bde9da-le64.cache-3.NEW (deleted)
7fc1f833f000-7fc1f8345000 r--s 00000000 08:15 19953                      /var/cache/fontconfig/4467b976098fb13588b23c76ba4750d8-le64.cache-3.NEW (deleted)
7fc1f8345000-7fc1f834a000 r--s 00000000 08:15 19952                      /var/cache/fontconfig/35283d03f9c424440af18d47c4536b5c-le64.cache-3.NEW (deleted)
7fc1f834a000-7fc1f8360000 r--s 00000000 08:15 19949                      /var/cache/fontconfig/8d4af663993b81a124ee82e610bb31f9-le64.cache-3.NEW (deleted)
7fc1f8360000-7fc1f8364000 r--s 00000000 08:15 19948                      /var/cache/fontconfig/a595ca43be94766bbfe429f07fba82d0-le64.cache-3.NEW (deleted)
7fc1f8364000-7fc1f8366000 r--s 00000000 08:15 19946                      /var/cache/fontconfig/5d5eff56e8f1159b1b4589e2943afc55-le64.cache-3.NEW (deleted)
7fc1f8366000-7fc1f836a000 r--s 00000000 08:15 19944                      /var/cache/fontconfig/580bda594161061e6ef4cc8a4db09662-le64.cache-3.NEW (deleted)
7fc1f836a000-7fc1f83c7000 r--s 00000000 08:15 19240                      /var/cache/fontconfig/17090aa38d5c6f09fb8c5c354938f1d7-le64.cache-3.NEW (deleted)
7fc1f83c7000-7fc1f83cc000 r-xp 00000000 08:15 1580713                    /usr/lib64/gdk-pixbuf-2.0/2.10.0/loaders/libpixbufloader-png.so
7fc1f83cc000-7fc1f85cb000 ---p 00005000 08:15 1580713                    /usr/lib64/gdk-pixbuf-2.0/2.10.0/loaders/libpixbufloader-png.so
7fc1f85cb000-7fc1f85cc000 r--p 00004000 08:15 1580713                    /usr/lib64/gdk-pixbuf-2.0/2.10.0/loaders/libpixbufloader-png.so
7fc1f85cc000-7fc1f85cd000 rw-p 00005000 08:15 1580713                    /usr/lib64/gdk-pixbuf-2.0/2.10.0/loaders/libpixbufloader-png.so
7fc1f85cd000-7fc1f85d2000 r-xp 00000000 08:15 1719688                    /usr/lib64/libcpufreq.so.0.0.0
7fc1f85d2000-7fc1f87d1000 ---p 00005000 08:15 1719688                    /usr/lib64/libcpufreq.so.0.0.0
7fc1f87d1000-7fc1f87d2000 r--p 00004000 08:15 1719688                    /usr/lib64/libcpufreq.so.0.0.0
7fc1f87d2000-7fc1f87d3000 rw-p 00005000 08:15 1719688                    /usr/lib64/libcpufreq.so.0.0.0
7fc1f87d3000-7fc1f87d7000 r-xp 00000000 08:15 171134                     /usr/lib64/gkrellm2/plugins/cpufreq.so
7fc1f87d7000-7fc1f89d6000 ---p 00004000 08:15 171134                     /usr/lib64/gkrellm2/plugins/cpufreq.sogkrellm aborted:  Sensors  (update_monitor)
Przerwane (core dumped)

gdb backtrace:
#0  0x00007fc20280d5b5 in __GI_raise (sig=sig@entry=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56
#1  0x00007fc20280ea38 in __GI_abort () at abort.c:90
#2  0x0000000000418d54 in gkrellm_abort (sig=<optimized out>) at main.c:2061
#3  <signal handler called>
#4  0x00007fc20280d5b5 in __GI_raise (sig=sig@entry=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56
#5  0x00007fc20280ea38 in __GI_abort () at abort.c:90
#6  0x00007fc20284dcbb in __libc_message (do_abort=do_abort@entry=2, fmt=fmt@entry=0x7fc2029435a8 "*** Error in `%s': %s: 0x%s ***\n") at ../sysdeps/unix/sysv/linux/libc_fatal.c:196
#7  0x00007fc2028539a6 in malloc_printerr (action=3, str=0x7fc2029436b0 "double free or corruption (!prev)", ptr=<optimized out>) at malloc.c:4902
#8  0x00007fc202854753 in _int_free (av=<optimized out>, p=0xb349b0, have_lock=0) at malloc.c:3758
#9  0x00007fc1fec13eac in ?? () from /usr/lib64/libGL.so.1
#10 0x00007fc1fd28917a in ?? () from /usr/lib64/libnvidia-tls.so.319.23
#11 0x00007fc2040e467f in g_system_thread_new (thread_func=thread_func@entry=0x7fc20407c160 <g_deprecated_thread_proxy>, stack_size=stack_size@entry=0, error=error@entry=0x0) at gthread-posix.c:1118
#12 0x00007fc2040caea7 in g_thread_new_internal (name=name@entry=0x0, proxy=proxy@entry=0x7fc20407c160 <g_deprecated_thread_proxy>, func=func@entry=0x448730 <read_sensors_thread>, data=data@entry=0x0, 
    stack_size=stack_size@entry=0, error=error@entry=0x0) at gthread.c:882
#13 0x00007fc20407c373 in g_thread_create_full (func=func@entry=0x448730 <read_sensors_thread>, data=data@entry=0x0, stack_size=stack_size@entry=0, joinable=joinable@entry=0, bound=bound@entry=0, 
    priority=priority@entry=G_THREAD_PRIORITY_LOW, error=error@entry=0x0) at deprecated/gthread-deprecated.c:372
#14 0x00007fc20407c3b7 in g_thread_create (func=func@entry=0x448730 <read_sensors_thread>, data=data@entry=0x0, joinable=joinable@entry=0, error=error@entry=0x0) at deprecated/gthread-deprecated.c:342
#15 0x000000000044df06 in run_sensors_thread () at sensors.c:230
#16 update_sensors () at sensors.c:1273
#17 0x000000000041ac1b in update_monitors () at main.c:362
#18 0x00007fc2040a7e6b in g_timeout_dispatch (source=source@entry=0xb069c0, callback=<optimized out>, user_data=<optimized out>) at gmain.c:4026
#19 0x00007fc2040a72e5 in g_main_dispatch (context=0x824710) at gmain.c:2715
#20 g_main_context_dispatch (context=context@entry=0x824710) at gmain.c:3219
#21 0x00007fc2040a7618 in g_main_context_iterate (context=0x824710, block=block@entry=1, dispatch=dispatch@entry=1, self=<optimized out>) at gmain.c:3290
#22 0x00007fc2040a7a12 in g_main_loop_run (loop=0xb011b0) at gmain.c:3484
#23 0x00007fc20522a5d7 in IA__gtk_main () at gtkmain.c:1257
#24 0x00000000004181c5 in main (argc=1, argv=0x7fff48b355c8) at main.c:2345




Comment 1


Jeroen Roovers (RETIRED)






          2013-06-15 14:46:25 UTC
        

Please post your `emerge --info' output in a comment.




Comment 2


PM





          2013-06-15 18:13:54 UTC
        

Sorry, here it is:

Portage 2.2.0_alpha179 (default/linux/amd64/13.0/desktop, gcc-4.8.1, glibc-2.17, 3.9.3-pf x86_64)
=================================================================
System uname: Linux-3.9.3-pf-x86_64-Intel-R-_Core-TM-2_Quad_CPU_Q9450_@_2.66GHz-with-gentoo-2.2
KiB Mem:     4044524 total,    304256 free
KiB Swap:    4095996 total,   3827200 free
Timestamp of tree: Thu, 13 Jun 2013 20:00:01 +0000
ld GNU ld (GNU Binutils) 2.23.1
distcc 3.1 x86_64-pc-linux-gnu [disabled]
app-shells/bash:          4.2_p45
dev-java/java-config:     2.2.0
dev-lang/python:          2.7.5, 3.2.5, 3.3.2
dev-util/cmake:           2.8.11.1
dev-util/pkgconfig:       0.28
sys-apps/baselayout:      2.2
sys-apps/openrc:          0.11.8
sys-apps/sandbox:         2.6-r1
sys-devel/autoconf:       2.13, 2.69
sys-devel/automake:       1.4_p6-r1, 1.9.6-r3, 1.11.6, 1.12.6, 1.13.2
sys-devel/binutils:       2.23.1
sys-devel/gcc:            4.6.4, 4.7.3, 4.8.1
sys-devel/gcc-config:     1.8
sys-devel/libtool:        2.4.2
sys-devel/make:           3.82-r4
sys-kernel/linux-headers: 3.9 (virtual/os-headers)
sys-libs/glibc:           2.17
Repositories: gentoo multimedia sunrise steam-overlay kde roslin dupa
Installed sets: @system
ACCEPT_KEYWORDS="amd64 ~amd64"
ACCEPT_LICENSE="*"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -march=native -pipe -ggdb"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/config /usr/share/gnupg/qualified.txt /usr/share/themes/oxygen-gtk/gtk-2.0 /usr/share/themes/oxygen-gtk/gtk-3.0"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo /etc/texmf/language.dat.d /etc/texmf/language.def.d /etc/texmf/updmap.d /etc/texmf/web2c"
CXXFLAGS="-O2 -march=native -pipe -ggdb"
DISTDIR="/usr/portage/distfiles"
EMERGE_DEFAULT_OPTS="--keep-going --quiet-build=n"
FCFLAGS="-O2 -march=native -pipe -ggdb"
FEATURES="assume-digests binpkg-logs compressdebug config-protect-if-modified distlocks ebuild-locks fixlafiles installsources merge-sync news parallel-fetch preserve-libs protect-owned sandbox sfperms splitdebug strict unknown-features-warn unmerge-logs unmerge-orphans userfetch"
FFLAGS="-O2 -march=native -pipe -ggdb"
GENTOO_MIRRORS="http://ftp-stud.hs-esslingen.de/pub/Mirrors/gentoo/"
LANG="pl_PL.utf8"
LDFLAGS="-Wl,-O1 -Wl,--as-needed"
MAKEOPTS="-j4"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --human-readable --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage/layman/multimedia /usr/local/portage/layman/sunrise /usr/local/portage/layman/steam /usr/local/portage/layman/kde /usr/local/portage/layman/roslin /usr/local/portage/moje"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X Xaw3d a52 aac aalib acl acpi adobe-cff alsa amd64 amr amrnb amrwb apng async audiofile automount avahi avresample bash-completion berkdb bfq bineditor bluetooth bluray branding bzip2 c++0x cairo cdda cddb cdparanoia cdr chdir clang cli consolekit cracklib crypt css cuda cups curl cxx dbus dirac disk-partition divx djvu dri dts dvd dvdr ebook editor emboss emovix enca encode exchange exif faac faad fam fat ffmpeg fftw firefox firefox3 flac fontconfig fortran g3dvl gd gdbm geoip gif glitz gmedia gnuplot gphoto2 gpm gtk hddtemp iconv id3 id3tag imagemagick inotify iostats ipod jpeg kde kde4 kdehiddenvisibility kipi kompare kpathsea kqemu ladspa lame laptop lastfm latex lcms libass libcaca libnotify libsamplerate lm_sensors lto lzma lzo mad matroska midi mjpeg mmap mmx mmxext mng modules moodbar mp3 mp3tunes mp4 mpeg mplayer mtp mudflap multilib musicbrainz ncurses networkmanager nls nptl nsplugin ntfs nvidia ogg okteta openal opencl opencore-amr opengl openmp optimized-qmake pam pango pch pcre pdf plasma png policykit portage ppds private-headers pulseaudio qt3 qt3support qt4 qthelp raster readline realmedia roe scanner schroedinger sdl secure-delete semantic-desktop sensord session shaders slang sndfile solver soundtouch sourceview sparse spell sse sse2 sse3 sse4 sse41 sse4_1 sse4a ssl ssse3 startup-notification steamruntime suid svg swat symlink syslog tcpd theora threads tiff truetype udev udisks unicode upnp upower usb vaapi vamp vcd vdpau vorbis wifi wmf wmp wxwidgets wxwindows x264 xcb xcomposite xml xscreensaver xv xvid xvmc zeroconf zlib" ABI_X86="64" ALSA_CARDS="ali5451 als4000 atiixp atiixp-modem bt87x ca0106 cmipci emu10k1x ens1370 ens1371 es1938 es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx via82xx-modem ymfpci" APACHE2_MODULES="authn_core authz_core socache_shmcb unixd actions alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cgi cgid dav dav_fs dav_lock deflate dir disk_cache env expires ext_filter file_cache filter headers include info log_config logio mem_cache mime mime_magic negotiation rewrite setenvif speling status unique_id userdir usertrack vhost_alias" CALLIGRA_FEATURES="kexi words flow plan sheets stage tables krita karbon braindump author" CAMERAS="ptp2" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf superstar2 timing tsip tripmate tnt ubx" INPUT_DEVICES="evdev" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LIBREOFFICE_EXTENSIONS="presenter-console presenter-minimizer" LINGUAS="pl" OFFICE_IMPLEMENTATION="libreoffice" PHP_TARGETS="php5-3" PYTHON_SINGLE_TARGET="python2_7" PYTHON_TARGETS="python2_7 python3_2" QEMU_SOFTMMU_TARGETS="x86_64 i386" QEMU_USER_TARGETS="x86_64 i386" RUBY_TARGETS="ruby19 ruby18" USERLAND="GNU" VIDEO_CARDS="nvidia" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account"
Unset:  CPPFLAGS, CTARGET, INSTALL_MASK, LC_ALL, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, USE_PYTHON




Comment 3


Pacho Ramos






          2016-01-27 21:42:47 UTC
        

Are you still hitting this on an updated system?




Comment 4


PM





          2016-01-27 21:56:08 UTC
        

I don't use it anymore.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

