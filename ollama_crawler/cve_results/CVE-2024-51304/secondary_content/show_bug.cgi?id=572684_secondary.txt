Title: 572684 – www-client/chromium-48.0.2564.82 build failed
URL: https://bugs.gentoo.org/show_bug.cgi?id=572684

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 572684
www-client/chromium-48.0.2564.82 build failed
Last modified: 2016-07-10 10:14:13 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 572684 
      - www-client/chromium-48.0.2564.82 build failed


Summary:
www-client/chromium-48.0.2564.82 build failed
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Chromium Project








URL:







Whiteboard:




Keywords:








Depends on:




579136



Blocks:







 

        Show dependency tree





 





      Reported:
    
2016-01-23 15:52 UTC by Alex





      Modified:
    
2016-07-10 10:14 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



gokturk









See Also:


571156





Package list:







Runtime testing required:

---























      Attachments
    




Build.log.gz

              (build.log.gz,782.50 KB,
                application/gzip)

            
2016-01-23 15:52 UTC,

            Alex




Details





emerge --info output

              (emerge_info.txt,6.12 KB,
                text/plain)

            
2016-01-23 15:53 UTC,

            Alex




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Alex





          2016-01-23 15:52:18 UTC
        

Created attachment 423674 [details]
Build.log.gz

Hi!

Chromium build failed in my system during regular world update:

[code]
<command-line>:0:0: warning: "_FORTIFY_SOURCE" redefined
<built-in>: note: this is the location of the previous definition
In file included from ../../base/stl_util.h:11:0,
                 from ../../base/memory/scoped_vector.h:14,
                 from ../../extensions/renderer/worker_script_context_set.h:10,
                 from ../../extensions/renderer/worker_script_context_set.cc:5:
/usr/lib/gcc/x86_64-pc-linux-gnu/4.9.3/include/g++-v4/functional:2505:13: error: expected type-specifier before ')' token
     operator==(const function<_Res(_Args...)>& __f, nullptr_t) noexcept
             ^
ninja: build stopped: subcommand failed.
[/code]

The reason is unclear to me.
Previous update was Ok.
"emerge --info" and build logs are attached.

Regards,
Alex




Comment 1


Alex





          2016-01-23 15:53:27 UTC
        

Created attachment 423676 [details]
emerge --info output




Comment 2


Göktürk Yüksek







          2016-01-25 20:39:04 UTC
        

I can confirm the failure.

I bumped dev-libs/re2 to 20151101 in my overlay and merged =app-arch/snappy-1.1.3. chromium compiled successfully.




Comment 3


RB





          2016-02-05 15:16:23 UTC
        

Pretty sure this is a dupe of bug #571156




Comment 4


Alex





          2016-02-05 17:51:32 UTC
        

Strangely, but it successfully compiled with "MAKEOPTS=-j1 emerge chromium".

And even more strange is that single-threaded compilation for chromium (and some other packages) has been set in my system for years, in /etc/portage/env and /etc/portage/package.env, and it's worked out Ok untill the above chromium build.




Comment 5


Paweł Hajdan, Jr. (RETIRED)






          2016-07-10 10:14:13 UTC
        

I couldn't repro this and at this point the bug is rather old.

I think re2 is a red herring. For now we're using the bundled version.

I also don't see how serial or parallel compilation could influence a compile error in a .cc file not involving anything generated.

This is really mysterious.

If it's still happening with new versions, just let me know - either reopen or file new bug.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

