Title: 336399 – media-gfx/xfig-3.2.5b Text entry component cannot find urw fonts
URL: https://bugs.gentoo.org/show_bug.cgi?id=336399

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 336399
media-gfx/xfig-3.2.5b Text entry component cannot find urw fonts
Last modified: 2010-12-20 17:43:08 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 336399 
      - media-gfx/xfig-3.2.5b Text entry component cannot find urw fonts


Summary:
media-gfx/xfig-3.2.5b Text entry component cannot find urw fonts
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Peter Volkov (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2010-09-08 02:00 UTC by David Fellows





      Modified:
    
2010-12-20 17:43 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Revised form of urwfonts.patch

              (xfig-3.2.5b-improved-urwfonts.patch,4.87 KB,
                patch)

            
2010-09-08 02:04 UTC,

            David Fellows




Details
            | Diff





Revised ebuild which applies above patch

              (xfig-3.2.5b-r1.ebuild,2.62 KB,
                text/plain)

            
2010-09-08 02:05 UTC,

            David Fellows




Details





emerge --info output

              (e-info,3.76 KB,
                text/plain)

            
2010-09-08 02:21 UTC,

            David Fellows




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


David Fellows





          2010-09-08 02:00:55 UTC
        

Start xfig
Select Text entry
Select Font
Attempt to select a font from the font selection list.
The result is an error message of the form 
Can't find -*-urw-urw chancery l-medium-i-normal--20-*-*-*-*-*-ISO885........
and a default font is returned.




Comment 1


David Fellows





          2010-09-08 02:04:45 UTC
        

Created attachment 246412 [details, diff]
Revised form of urwfonts.patch

Corrects the error in urwfonts.patch




Comment 2


David Fellows





          2010-09-08 02:05:53 UTC
        

Created attachment 246414 [details]
Revised ebuild which applies above patch




Comment 3


David Fellows





          2010-09-08 02:19:31 UTC
        

The problem is due to bad matching strings in urwfonts.patch.  There is a missing -* on each.
I have rebuilt xfig using the patch and ebuild attached after which most of the fonts can be selected.
However, selecting the last 2 elements in the font selection list results in the error messages:
Can't find -*-urw-urw chancery l-medium-i-normal--20-*-*-*-*-*-ISO8859-*, using 6x13
Can't find -*-urw-dingbats-medium-r-normal--20-*-*-*-*-*-*-*, using 6x13

As far as I can tell both of those fonts are available. 

grep -i chancery /usr/share/fonts/urw-fonts/fonts.dir
z003034l.pfb -urw-urw chancery l-medium-i-normal--0-0-0-0-p-0-adobe-standard
z003034l.pfb -urw-urw chancery l-medium-i-normal--0-0-0-0-p-0-ascii-0
z003034l.pfb -urw-urw chancery l-medium-i-normal--0-0-0-0-p-0-iso10646-1
z003034l.pfb -urw-urw chancery l-medium-i-normal--0-0-0-0-p-0-iso8859-1
z003034l.pfb -urw-urw chancery l-medium-i-normal--0-0-0-0-p-0-iso8859-13
z003034l.pfb -urw-urw chancery l-medium-i-normal--0-0-0-0-p-0-iso8859-15
z003034l.pfb -urw-urw chancery l-medium-i-normal--0-0-0-0-p-0-iso8859-2
z003034l.pfb -urw-urw chancery l-medium-i-normal--0-0-0-0-p-0-iso8859-3
z003034l.pfb -urw-urw chancery l-medium-i-normal--0-0-0-0-p-0-iso8859-5
z003034l.pfb -urw-urw chancery l-medium-i-normal--0-0-0-0-p-0-iso8859-9
z003034l.pfb -urw-urw chancery l-medium-i-normal--0-0-0-0-p-0-koi8-e
z003034l.pfb -urw-urw chancery l-medium-i-normal--0-0-0-0-p-0-koi8-r
z003034l.pfb -urw-urw chancery l-medium-i-normal--0-0-0-0-p-0-microsoft-cp1252

$ grep -i dingbats /usr/share/fonts/urw-fonts/fonts.dir
d050000l.pfb -urw-dingbats-medium-r-normal--0-0-0-0-p-0-adobe-fontspecific






Comment 4


David Fellows





          2010-09-08 02:21:26 UTC
        

Created attachment 246415 [details]
emerge --info output




Comment 5


Peter Volkov (RETIRED)






          2010-12-20 17:43:08 UTC
        

In case I apply your patch I receive following error:
Can't find -*-urw-nimbus roman no9 l-medium-r-normal--13-*-*-*-*-*-ISO8859-*, using 6x13

Note extra -* in the beginning of font name. With patch that is in the tree now everything works fine here. I suspect something else is broken on your system and without additional investigation on your end I'm unsure what to do here.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

