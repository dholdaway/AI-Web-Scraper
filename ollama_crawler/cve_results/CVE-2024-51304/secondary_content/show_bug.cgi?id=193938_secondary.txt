Title: 193938 – synaptics touchpad doesn't resume after a suspend-to-ram
URL: https://bugs.gentoo.org/show_bug.cgi?id=193938

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 193938
synaptics touchpad doesn't resume after a suspend-to-ram
Last modified: 2008-04-19 15:08:11 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 193938 
      - synaptics touchpad doesn't resume after a suspend-to-ram


Summary:
synaptics touchpad doesn't resume after a suspend-to-ram
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] GNOME

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       normal
      


Assignee:

X11 External Driver Maintainers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-09-27 02:47 UTC by Alex Williams





      Modified:
    
2008-04-19 15:08 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Alex Williams





          2007-09-27 02:47:43 UTC
        

On resuming from suspend-to-ram, my laptop's touchpad doesn't work.  The usb mouse, however, works fine both when it's plugged in before going down and resuming, and when it's plugged in after going down and resuming.

The resume is being initiated through the gnome System menu.

Reproducible: Always

Steps to Reproduce:
0.confirm touchpad works
1.suspend to ram
2.resume from ram
3.attempt to use touchpad

Actual Results:  
the touchpad processes no input until the computer is restarted

Expected Results:  
continued to work as before

XOrg.conf:  there is just one mouse section, as this seems to cover any number of mice.  Although, this may be the cause of the bug.  But - if it works before a suspend, it should work after.

Section "Module"
	Load	"dbe"
	SubSection	"extmod"
		Option	"omit xfree86-dga"
	EndSubSection
	Load	"type1"
	Load	"freetype"
	Load	"glx"
	Load	"record"
	Load	"dri"
EndSection
Section "InputDevice"
	Identifier	"Keyboard1"
	Driver	"keyboard"
	Option	"AutoRepeat"	"200 15"
	Option	"XkbModel"	"pc105"
	Option	"XkbLayout"	"uk"
EndSection
Section "InputDevice"
	Identifier	"Mouse1"
	Driver	"mouse"
	#Option	"Protocol"	"auto"
	Option	"Device"	"/dev/psaux"
	Option	"Protocol"	"Auto"
EndSection
Section "Device"
	Identifier	"i810 Device"
	Driver		"i810"
	Option		"AGPMode"	"4"
	Option		"EnablePageFlip" "True"
EndSection
Section "Screen"
	Identifier	"Screen 1"
	Device		"i810 Device"
	Monitor		"Generic Monitor"
	DefaultDepth	24

	#Modeline "1280x800"x60.0   68.90  1280 1301 1333 1408  800 804 808 816 -hsync -vsync (48.9 kHz)
	SubSection "Display"
		Depth		24
		Modes		"1280x800"
	EndSubsection
EndSection
Section "ServerLayout"
	Identifier	"simple layout"
	Screen		"Screen 1"
	InputDevice	"Mouse1" "CorePointer"
	InputDevice	"Keyboard1" "CoreKeyboard"
EndSection




Comment 1


Gilles Dartiguelongue (RETIRED)






          2007-09-27 15:47:02 UTC
        

it occurs to me that synaptics belongs to x11 and as such has nothing to do with gnome (even if you use the gnome menu to suspend, it's unrelated).

I would also add that it sounds like an upstream issue, but I'll let x11 herd decide on that.

Please also specify your driver/xorg version and don't forget to add you emerge --info




Comment 2


Alex Williams





          2007-09-28 17:11:15 UTC
        

Hi, you could well be right on that.

Just for info, I'm using:
  portage-2.1.3.9
  xorg-x11-7.2
  synaptics-0.14.6
  gcc-4.1.2
  gentoo-sources-2.6.22-r5

Since posting the bug, I've also tried (with no luck) changing the driver in xorg.conf to 'synaptics', and creating a new mouse section and linking it with the 'sendcoreevents' option.  But as stated, the problem still exists.


emerge --info is following:

Portage 2.1.3.9 (default-linux/amd64/2007.0, gcc-4.1.2, glibc-2.5-r4, 2.6.22-gentoo-r5 x86_64)
=================================================================
System uname: 2.6.22-gentoo-r5 x86_64 Intel(R) Core(TM)2 CPU T5200 @ 1.60GHz
Timestamp of tree: Fri, 28 Sep 2007 16:50:01 +0000
app-shells/bash:     3.2_p17
dev-java/java-config: 1.3.7, 2.0.33-r1
dev-lang/python:     2.4.4-r5
dev-python/pycrypto: 2.0.1-r6
sys-apps/baselayout: 1.12.9-r2
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.61-r1
sys-devel/automake:  1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10
sys-devel/binutils:  2.17-r1
sys-devel/gcc-config: 1.3.16
sys-devel/libtool:   1.5.24
virtual/os-headers:  2.6.21
ACCEPT_KEYWORDS="amd64"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=nocona -O2 -pipe -fomit-frame-pointer"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/X11/xkb"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/terminfo"
CXXFLAGS="-march=nocona -O2 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="distlocks fixpackages metadata-transfer parallel-fetch sandbox sfperms strict unmerge-orphans userfetch"
GENTOO_MIRRORS="http://10.1.1.6/gentoo/ http://gentoo.virginmedia.com/ http://www.mirrorservice.org/sites/www.ibiblio.org/gentoo/ http://mirror.qubenet.net/mirror/gentoo/ "
LANG="en_GB.UTF-8"
LC_ALL="en_GB"
LINGUAS="en_GB"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages --filter=H_**/files/digest-*"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://10.1.1.6/gentoo-portage"
USE="X a52 acl acpi alsa amd64 apache2 avahi berkdb bitmap-fonts bittorrent bluetooth bzip2 cairo cddb cdr cli cracklib crypt ctype cups dbus directfb dri dvd dvdr exif fam fbcon ffmpeg firefox foomaticfb fortran ftp gdbm gif gimp gnome gpm gstreamer gtk guile hal howl iconv imagemagick imlib java javascript jpeg libnotify libwww lm_sensors mad midi mime mmx mng mp3 mpeg mplayer msn mudflap mysql ncurses nls nntp nptl nptlonly nsplugin ogg opengl openmp pam pcre pdf perl php plotutils png ppds pppd python quicktime rdesktop readline reflection samba scanner sdl session snmp soap sockets spell spl sse sse2 ssl svg symlink tcpd tidy tiff tokenizer truetype truetype-fonts type1-fonts unicode usb v4l2 vcd vhosts videos vorbis wifi wmf xcomposite xml xorg xpm xscreensaver xv xvid zip zlib" ALSA_CARDS="hda-intel" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" ELIBC="glibc" INPUT_DEVICES="keyboard mouse synaptics" KERNEL="linux" LCD_DEVICES="ncurses text" LINGUAS="en_GB" USERLAND="GNU" VIDEO_CARDS="i945 i810 v4l vesa vga intel"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LDFLAGS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY




Comment 3


Bryan Stine (RETIRED)






          2008-04-01 21:45:10 UTC
        

I'm actually unable to reproduce this, even with a simple 'echo mem >/sys/power/state'. It comes back quite well for me.

Are you still experiencing the problem with an up-to-date kernel?

Additionally, I'm unsure of the exact logistics around which S3/suspend-to-RAM will revolve, so I suppose there may be ACPI DSDT issues that could contribute to this.




Comment 4


Alex Williams





          2008-04-19 15:08:11 UTC
        

Hi, neither can I.  Assuming it was a bug rather than a misconfig, it's been fixed or made inapplicable.  I'll mark it as resolved/worksforme - feel free to change that to something more concrete if you ever find out what cause it.
Alex









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

