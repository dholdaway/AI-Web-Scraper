Title: 229771 – gpac fails with nvidia-drivers-96.43 impacts ogmrip-0.12
URL: https://bugs.gentoo.org/show_bug.cgi?id=229771

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 229771
gpac fails with nvidia-drivers-96.43 impacts ogmrip-0.12
Last modified: 2010-03-21 13:00:20 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 229771 
      - gpac fails with nvidia-drivers-96.43 impacts ogmrip-0.12


Summary:
gpac fails with nvidia-drivers-96.43 impacts ogmrip-0.12
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Jeroen Roovers (RETIRED)








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-06-27 15:04 UTC by Guy





      Modified:
    
2010-03-21 13:00 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Guy





          2008-06-27 15:04:49 UTC
        

gpac-0.4.4 will not work with nvidia-drivers-96.43.05. This is because of a mismatch in glx.h.

gpac-0.4.4 is now a requirement for ogmrip as of version ogmrip-0.12.0

Reproducible: Always

Steps to Reproduce:




make[2]: Entering directory `/var/tmp/portage/media-video/gpac-0.4.4/work/gpac/modules/x11_out'
i686-pc-linux-gnu-gcc -O2 -march=i686 -fomit-frame-pointer -pipe -fno-strict-aliasing -Wall -I/var/tmp/portage/media-video/gpac-0.4.4/work/gpac/include -I/usr/X11R6/include -DGPAC_HAS_X11_SHM -DGPAC_HAS_OPENGL -fPIC -DPIC -c x11_out.c -o x11_out.opic
In file included from /usr/X11R6/include/GL/glx.h:351,
                 from x11_out.h:43,
                 from x11_out.c:26:
/usr/X11R6/include/GL/glxext.h:366: error: redefinition of typedef 'GLXPbufferSGIX'
/usr/X11R6/include/GL/glx.h:148: error: previous declaration of 'GLXPbufferSGIX' was here
x11_out.c: In function 'X11_InitBackBuffer':
x11_out.c:554: warning: pointer targets in passing argument 3 of 'XShmCreatePixmap' differ in signedness
x11_out.c:575: warning: pointer targets in assignment differ in signedness
x11_out.c:581: warning: pointer targets in passing argument 6 of 'XCreateImage' differ in signedness
x11_out.c: In function 'X11_LockBackBuffer':
x11_out.c:705: warning: pointer targets in assignment differ in signedness
make[2]: *** [x11_out.opic] Error 1
make[2]: Leaving directory `/var/tmp/portage/media-video/gpac-0.4.4/work/gpac/modules/x11_out'

laplizard ~ # emerge -pv gpac

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild  N    ] media-video/gpac-0.4.4  USE="aac alsa ffmpeg ipv6 javascript jpeg jpeg2k ogg opengl png sdl ssl theora truetype unicode vorbis xml xvid -amr -debug -mad -oss -wxwindows" 0 kB

Total: 1 package (1 new), Size of downloads: 0 kB

laplizard ~ # emerge -pv ogmrip

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild  N    ] media-video/gpac-0.4.4  USE="aac alsa ffmpeg ipv6 javascript jpeg jpeg2k ogg opengl png sdl ssl theora truetype unicode vorbis xml xvid -amr -debug -mad -oss -wxwindows" 0 kB
[ebuild     U ] media-video/ogmrip-0.12.0 [0.11.2-r1] USE="aac dts gtk hal matroska mp3%* mp4%* png%* spell theora vorbis%* x264 xvid%* -debug -doc -libnotify -ogm% -srt (-jpeg%*)" 0 kB

Total: 2 packages (1 upgrade, 1 new), Size of downloads: 0 kB

laplizard ~ # equery b glx.h
[ Searching for file(s) glx.h in *... ]
x11-drivers/nvidia-drivers-96.43.05 (/usr/lib/opengl/nvidia/include/glx.h)
x11-libs/libxcb-1.1 (/usr/include/xcb/glx.h)
media-libs/mesa-7.0.3 (/usr/lib/opengl/xorg-x11/include/glx.h)
laplizard ~ # locate glx.h
/usr/lib/opengl/nvidia/include/glx.h
/usr/lib/opengl/xorg-x11/include/glx.h
/usr/X11R6/include/GL/glx.h
/usr/include/xcb/glx.h
laplizard ~ # ls -l /usr/X11R6/include/GL/glx.h
lrwxrwxrwx 1 root root 38 Jun 18 12:36 /usr/X11R6/include/GL/glx.h -> //usr//lib/opengl/nvidia/include/glx.h
laplizard ~ #




Comment 1


Guy





          2009-04-08 13:42:25 UTC
        

This is still true.

make[2]: Entering directory `/var/tmp/portage/media-video/gpac-0.4.5/work/gpac/modules/x11_out'
i686-pc-linux-gnu-gcc -O2 -march=i686 -fomit-frame-pointer -pipe -fno-strict-aliasing -I/var/tmp/portage/media-video/gpac-0.4.5/work/gpac/include -DGPAC_HAVE_CONFIG_H -I../../ -I/usr/X11R6/include -DGPAC_HAS_X11_XV -DGPAC_HAS_X11_SHM -fPIC -DPIC -c x11_out.c -o x11_out.opic
In file included from /usr/X11R6/include/GL/glx.h:351,
                 from x11_out.h:47,
                 from x11_out.c:26:
/usr/X11R6/include/GL/glxext.h:366: error: redefinition of typedef 'GLXPbufferSGIX'
/usr/X11R6/include/GL/glx.h:148: error: previous declaration of 'GLXPbufferSGIX' was here
make[2]: *** [x11_out.opic] Error 1
make[2]: Leaving directory `/var/tmp/portage/media-video/gpac-0.4.5/work/gpac/modules/x11_out'
make[1]: *** [plugs] Error 2
make[1]: Leaving directory `/var/tmp/portage/media-video/gpac-0.4.5/work/gpac/modules'
make: *** [mods] Error 2
 *
 * ERROR: media-video/gpac-0.4.5 failed.





Comment 2


Guy





          2010-03-21 13:00:20 UTC
        

latest ebuild release {gpac-0.4.5-r1} compiles to completion  in current environment.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

