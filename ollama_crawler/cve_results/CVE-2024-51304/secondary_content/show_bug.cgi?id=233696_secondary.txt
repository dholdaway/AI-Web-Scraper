Title: 233696 – nepomuk-4.0.5 fails to install.
URL: https://bugs.gentoo.org/show_bug.cgi?id=233696

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 233696
nepomuk-4.0.5 fails to install.
Last modified: 2011-06-01 17:48:47 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 233696 
      - nepomuk-4.0.5 fails to install.


Summary:
nepomuk-4.0.5 fails to install.
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] KDE

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo KDE team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-08-02 11:26 UTC by fabiano taioli





      Modified:
    
2011-06-01 17:48 UTC
      (History)
    




          CC List:
        

3 
          users
          
            (show)
          



hcm
leidola
trent









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




A complete build log

              (build.log,4.31 KB,
                text/plain)

            
2008-08-02 11:41 UTC,

            fabiano taioli




Details





The ebuild environment

              (environment,118.40 KB,
                text/plain)

            
2008-08-02 11:42 UTC,

            fabiano taioli




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


fabiano taioli





          2008-08-02 11:26:16 UTC
        

+++ This bug was initially created as a clone of Bug #225441 +++

Updating my KDE4 system to KDE4.0.5 and nepomuk seems to be failing on install.  I cannot emerge it or dolphin which is rather hampering my move back to kde4.

Reproducible: Always

Steps to Reproduce:
1.emerge -u nepomuk
2. emerge fails
3.

Actual Results:  
-----------------------------------------------------------------------------
-- The following external packages were located on your system.
-- This installation will have the extra features provided by these packages.
+ Soprano
Congratulations! All external packages have been found.
-----------------------------------------------------------------------------

-- Configuring done
-- Generating done
-- Build files have been written to: /var/tmp/portage/kde-base/nepomuk-4.0.5/work/nepomuk_build
>>> Source compiled.
>>> Test phase [not enabled]: kde-base/nepomuk-4.0.5

>>> Install nepomuk-4.0.5 into /var/tmp/portage/kde-base/nepomuk-4.0.5/image/ category kde-base
make: *** No rule to make target `install'.  Stop.
 *
 * ERROR: kde-base/nepomuk-4.0.5 failed.
 * Call stack:
 *               ebuild.sh, line   49:  Called src_install
 *             environment, line 2977:  Called kde4-meta_src_install
 *             environment, line 2368:  Called cmake-utils_src_install
 *             environment, line  710:  Called die
 * The specific snippet of code:
 *       emake install DESTDIR="${D}" || die "Make install failed";
 *  The die message:
 *   Make install failed
 *
 * If you need support, post the topmost build error, and the call stack if relevant.
 * A complete build log is located at '/var/tmp/portage/kde-base/nepomuk-4.0.5/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/kde-base/nepomuk-4.0.5/temp/environment'.
 *

 * Messages for package kde-base/nepomuk-4.0.5:

 *
 * ERROR: kde-base/nepomuk-4.0.5 failed.
 * Call stack:
 *               ebuild.sh, line   49:  Called src_install
 *             environment, line 2977:  Called kde4-meta_src_install
 *             environment, line 2368:  Called cmake-utils_src_install
 *             environment, line  710:  Called die
 * The specific snippet of code:
 *       emake install DESTDIR="${D}" || die "Make install failed";
 *  The die message:
 *   Make install failed
 *
 * If you need support, post the topmost build error, and the call stack if relevant.
 * A complete build log is located at '/var/tmp/portage/kde-base/nepomuk-4.0.5/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/kde-base/nepomuk-4.0.5/temp/environment'.


Expected Results:  
nepomuk should install after compile.

What else do I need to give you to get this fixed?




Comment 1


fabiano taioli





          2008-08-02 11:29:10 UTC
        

Hello,
This is a clone of bug 225441, I have got not privileges to reopen it.
I got the sam problem described in the bug 225441.
reemerge strigi with qt4 and dbus use flags dosen't help.
If you need more info or logs please ask me.
Thank you




Comment 2


fabiano taioli





          2008-08-02 11:41:21 UTC
        

Created attachment 161985 [details]
A complete build log

A complete build log




Comment 3


fabiano taioli





          2008-08-02 11:42:08 UTC
        

Created attachment 161986 [details]
The ebuild environment

The ebuild environment




Comment 4


Olaf Leidinger





          2008-08-06 07:52:27 UTC
        

Same problem here, but with nepomuk-4.1.0 from kdesvn overlay.
app-misc/strigi is compiled with use flags: 
  clucene dbus fam inotify qt4 -debug -exiv2 -hyperestraier -test






Comment 5


Olaf Leidinger





          2008-08-06 10:12:27 UTC
        

Sorry, this seems to be another story for me. Still investigating. But I guess  soprano needs to be built before kdelibs in order to include nepomuk support, which is in turn needed for nepmuk to configure correctly. (kdelibs are building again...)




Comment 6


fabiano taioli





          2008-08-06 15:57:48 UTC
        

To bypass the problem and emerge last kde 4 
I have added the line

kde-base/dolphin -semantic-desktop

to the file /etc/portage/package.use

This prevent kde from using nepomuk




Comment 7


Dan Coats





          2008-08-11 13:10:28 UTC
        

Simply rebuilding Strigi solves the issue for me.




Comment 8


fabiano taioli





          2008-08-11 13:26:07 UTC
        

(In reply to comment #7)
> Simply rebuilding Strigi solves the issue for me.
> 

What USE flags have you activeted on strigi ?




Comment 9


fabiano taioli





          2008-08-11 13:44:56 UTC
        

(In reply to comment #7)
> Simply rebuilding Strigi solves the issue for me.
> 

YES, reemergin strigi for the third time worked for me too... strange :P
Thank you




Comment 10


James Wilson





          2008-09-13 23:59:59 UTC
        

(In reply to comment #9)
> (In reply to comment #7)
> > Simply rebuilding Strigi solves the issue for me.
> > 
> 
> YES, reemergin strigi for the third time worked for me too... strange :P
> Thank you
> 

Reemerging strigi alone did not work for me. After strigi I emerged soprano and then kdelibs. Now everything compiles just fine.




Comment 11


Damian Nadales





          2008-09-16 17:48:39 UTC
        

(In reply to comment #10)
> (In reply to comment #9)
> > (In reply to comment #7)
> > > Simply rebuilding Strigi solves the issue for me.
> > > 
> > 
> > YES, reemergin strigi for the third time worked for me too... strange :P
> > Thank you
> > 
> 
> Reemerging strigi alone did not work for me. After strigi I emerged soprano and
> then kdelibs. Now everything compiles just fine.
Yes, that worked for me. Althoug I don't know why :(






Comment 12


James Le Cuirot






          2010-01-02 15:34:54 UTC
        

Well I'm sorry but I'm getting this with nepomuk-4.3.4, I've remerged strigi, soprano, kdelibs, I have dbus and qt4 enabled and it's STILL not working. :(




Comment 13


James Le Cuirot






          2010-01-02 16:25:00 UTC
        

Nevermind. Partially my fault for building on another machine (nfs + chroot) and partially CMake's fault for making stupid assumptions.




Comment 14


Trent Payne





          2010-02-07 10:59:13 UTC
        

Working for me after reading this bug.

Use flags enabled (globally in my case): dbus, qt4
Reinstalled: strigi, soprano, kdelibs, nepomuk





Comment 15


David Heidelberg (okias)





          2011-06-01 15:07:51 UTC
        

Same problem here, solved by recompiling strigi, soprano and kdelibs. Then it works fine.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

