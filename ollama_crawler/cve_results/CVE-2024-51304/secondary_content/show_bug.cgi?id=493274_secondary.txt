Title: 493274 – media-sound/rosegarden-13.10 does not compile with media-libs/liblo-0.27
URL: https://bugs.gentoo.org/show_bug.cgi?id=493274

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 493274
media-sound/rosegarden-13.10 does not compile with media-libs/liblo-0.27
Last modified: 2013-12-04 03:38:59 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 493274 
      - media-sound/rosegarden-13.10 does not compile with media-libs/liblo-0.27


Summary:
media-sound/rosegarden-13.10 does not compile with media-libs/liblo-0.27
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Sound Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2013-12-04 02:41 UTC by Yuan Ye





      Modified:
    
2013-12-04 03:38 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



yuanyelele









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Yuan Ye





          2013-12-04 02:41:31 UTC
        

media-sound/rosegarden-13.10 needs lo_server_thread_* in media-libs/liblo-0.26 (liblo.so.7.0.0), while media-libs/liblo-0.27 (liblo.so.7.1.0) does not have these functions.

src/gui/studio/AudioPluginOSCGUIManager.cpp: In destructor 'virtual Rosegarden::AudioPluginOSCGUIManager::~AudioPluginOSCGUIManager()':
src/gui/studio/AudioPluginOSCGUIManager.cpp:102:45: error: 'lo_server_thread_stop' was not declared in this scope
         lo_server_thread_stop(m_serverThread);
                                             ^
src/gui/studio/AudioPluginOSCGUIManager.cpp: In member function 'void Rosegarden::AudioPluginOSCGUIManager::checkOSCThread()':
src/gui/studio/AudioPluginOSCGUIManager.cpp:111:60: error: 'lo_server_thread_new' was not declared in this scope
     m_serverThread = lo_server_thread_new(NULL, osc_error);
                                                            ^
src/gui/studio/AudioPluginOSCGUIManager.cpp:114:58: error: 'lo_server_thread_add_method' was not declared in this scope
                                 osc_message_handler, this);
                                                          ^
src/gui/studio/AudioPluginOSCGUIManager.cpp:116:42: error: 'lo_server_thread_start' was not declared in this scope
     lo_server_thread_start(m_serverThread);
                                          ^
src/gui/studio/AudioPluginOSCGUIManager.cpp:119:47: error: 'lo_server_thread_get_url' was not declared in this scope
     << lo_server_thread_get_url(m_serverThread) << endl;
                                               ^
src/gui/studio/AudioPluginOSCGUIManager.cpp: In member function 'QString Rosegarden::AudioPluginOSCGUIManager::getOSCUrl(Rosegarden::InstrumentId, int, QString)':
src/gui/studio/AudioPluginOSCGUIManager.cpp:333:62: error: 'lo_server_thread_get_url' was not declared in this scope
     QString baseUrl = lo_server_thread_get_url(m_serverThread);
                                                              ^
Makefile:112: recipe for target 'src/gui/studio/AudioPluginOSCGUIManager.o' failed
make: *** [src/gui/studio/AudioPluginOSCGUIManager.o] Error 1
make: *** Waiting for unfinished jobs....




Comment 1


Yuan Ye





          2013-12-04 02:43:20 UTC
        

Package Manager Information:
    Package Name              paludis
    Package Version           1.4.2
    Build Date                2013-10-26T15:20:19+0800
    Built with CXX            x86_64-pc-linux-gnu-g++ 4.8.1
    Built with CXXFLAGS        -march=native -mtune=native -O2 -pipe -pedantic
    Built with LDFLAGS        -Wl,-O1 -Wl,--as-needed

Environment Information:
    Format                    paludis
    Config dir                /etc/paludis
    Root                      /
    System Root               /
    World file                /var/db/pkg/world

Repository gentoo:
    format                    e
    location                  /usr/portage
    builddir                  /tmp/paludis
    cache                     /usr/portage/metadata/md5-cache
    distdir                   /usr/portage/distfiles
    eapi_when_unknown         0
    eapi_when_unspecified     0
    eclassdirs                /usr/portage/eclass
    layout                    traditional
    manifest_hashes           SHA256 SHA512 WHIRLPOOL
    names_cache               /var/cache/paludis/names
    newsdir                   /usr/portage/metadata/news
    profile_eapi_when_unspecified 0
    profile_layout            traditional
    profiles                  /usr/portage/profiles/default/linux/amd64/13.0
    securitydir               /usr/portage/metadata/glsa
    setsdir                   /usr/portage/sets
    sync                      rsync://rsync.cn.gentoo.org/gentoo-portage/
    sync_options              --rsync-option="--timeout=300"
    thin_manifests            false
    use_manifest              use
    write_cache               /var/empty
    Package information
        app-shells/bash       4.2_p45
        dev-java/java-config  2.1.12-r1
        dev-lang/python       2.7.6 3.3.3
        dev-util/ccache       3.1.9-r3
        dev-util/cmake        2.8.12.1-r1
        dev-util/pkgconfig    0.28
        sys-apps/baselayout   2.2
        sys-apps/openrc       (none)
        sys-apps/sandbox      2.6-r1
        sys-devel/autoconf    2.13 2.69
        sys-devel/automake    1.11.6 1.12.6 1.13.4 1.14
        sys-devel/binutils    2.23.2
        sys-devel/gcc         4.8.1-r1
        sys-devel/gcc-config  1.8
        sys-devel/libtool     2.4.2
        sys-devel/make        4.0
        sys-freebsd/freebsd-lib (none)
        sys-kernel/linux-headers 3.12
        sys-libs/glibc        2.17
        sys-libs/uclibc       (none)

Repository installed:
    format                    vdb
    location                  /var/db/pkg
    builddir                  /var/tmp/paludis
    eapi_when_unknown         0
    names_cache               /var/cache/paludis/names
    root                      /

Repository yuanyelele:
    format                    e
    location                  /var/paludis/repositories/yuanyelele
    builddir                  /tmp/paludis
    cache                     /var/empty
    distdir                   /usr/portage/distfiles
    eapi_when_unknown         0
    eapi_when_unspecified     0
    eclassdirs                /usr/portage/eclass  /var/paludis/repositories/yuanyelele/eclass
    layout                    traditional
    manifest_hashes           SHA256 SHA512 WHIRLPOOL
    master_repository         gentoo
    names_cache               /var/cache/paludis/names
    newsdir                   /var/paludis/repositories/yuanyelele/metadata/news
    profile_eapi_when_unspecified 0
    profile_layout            traditional
    profiles                  /usr/portage/profiles/default/linux/amd64/13.0
    securitydir               /var/paludis/repositories/yuanyelele/metadata/glsa
    setsdir                   /var/paludis/repositories/yuanyelele/sets
    sync                      
    sync_options              
    thin_manifests            false
    use_manifest              use
    write_cache               /var/cache/paludis/metadata

Extra Information for media-libs/liblo-0.26::installed:
        >>> Running ebuild phase killold as yuanyelele:yuanyelele...
        >>> Starting builtin_killold
        >>> Done builtin_killold
        >>> Completed ebuild phase killold
        >>> Running ebuild phases initmisc infovars info as yuanyelele:yuanyelele...
        >>> Starting builtin_initmisc
        >>> Done builtin_initmisc
        >>> Starting builtin_infovars
        ACCEPT_KEYWORDS=amd64
        CBUILD=x86_64-pc-linux-gnu
        CFLAGS=-march=native -mtune=native -O2 -pipe
        CHOST=x86_64-pc-linux-gnu
        CONFIG_PROTECT=/etc 
        CONFIG_PROTECT_MASK=/etc/env.d /etc/gconf 
        CPPFLAGS=
        CTARGET=
        CXXFLAGS=-march=native -mtune=native -O2 -pipe
        DISTDIR=/var/db/pkg/media-libs/liblo-0.26
        FCFLAGS=-O2 -pipe
        FEATURES=
        FFLAGS=-O2 -pipe
        GENTOO_MIRRORS=
        INSTALL_MASK=
        LANG=
        LC_ALL=C
        LDFLAGS=-Wl,-O1 -Wl,--as-needed
        MAKEOPTS=-j2 -l5.0
        PORTAGE_COMPRESS=
        PORTAGE_COMPRESS_FLAGS=
        PORTAGE_CONFIGROOT=
        PORTAGE_RSYNC_EXTRA_OPTS=
        PORTAGE_RSYNC_OPTS=
        PORTAGE_TMPDIR=/tmp/paludis
        PORTDIR=/var/db/pkg/media-libs/liblo-0.26
        PORTDIR_OVERLAY=
        SYNC=
        USE=amd64 abi_x86_64 alsa_cards_hda-intel apache2_modules_actions apache2_modules_alias apache2_modules_auth_basic apache2_modules_authn_alias apache2_modules_authn_anon apache2_modules_authn_core apache2_modules_authn_dbm apache2_modules_authn_default apache2_modules_authn_file apache2_modules_authz_core apache2_modules_authz_dbm apache2_modules_authz_default apache2_modules_authz_groupfile apache2_modules_authz_host apache2_modules_authz_owner apache2_modules_authz_user apache2_modules_autoindex apache2_modules_cache apache2_modules_cgi apache2_modules_cgid apache2_modules_dav apache2_modules_dav_fs apache2_modules_dav_lock apache2_modules_deflate apache2_modules_dir apache2_modules_disk_cache apache2_modules_env apache2_modules_expires apache2_modules_ext_filter apache2_modules_file_cache apache2_modules_filter apache2_modules_headers apache2_modules_include apache2_modules_info apache2_modules_log_config apache2_modules_logio apache2_modules_mem_cache apache2_modules_mime apache2_modules_mime_magic apache2_modules_negotiation apache2_modules_rewrite apache2_modules_setenvif apache2_modules_socache_shmcb apache2_modules_speling apache2_modules_status apache2_modules_unique_id apache2_modules_unixd apache2_modules_userdir apache2_modules_usertrack apache2_modules_vhost_alias calligra_features_author calligra_features_braindump calligra_features_flow calligra_features_karbon calligra_features_kexi calligra_features_krita calligra_features_plan calligra_features_sheets calligra_features_stage calligra_features_tables calligra_features_words cameras_ptp2 collectd_plugins_df collectd_plugins_interface collectd_plugins_irq collectd_plugins_load collectd_plugins_memory collectd_plugins_rrdtool collectd_plugins_swap collectd_plugins_syslog elibc_glibc gpsd_protocols_aivdm gpsd_protocols_ashtech gpsd_protocols_earthmate gpsd_protocols_evermore gpsd_protocols_fv18 gpsd_protocols_garmin gpsd_protocols_garmintxt gpsd_protocols_gpsclock gpsd_protocols_itrax gpsd_protocols_mtk3301 gpsd_protocols_navcom gpsd_protocols_nmea gpsd_protocols_ntrip gpsd_protocols_oceanserver gpsd_protocols_oldstyle gpsd_protocols_oncore gpsd_protocols_rtcm104v2 gpsd_protocols_rtcm104v3 gpsd_protocols_sirf gpsd_protocols_superstar2 gpsd_protocols_timing gpsd_protocols_tnt gpsd_protocols_tripmate gpsd_protocols_tsip gpsd_protocols_ublox gpsd_protocols_ubx input_devices_evdev input_devices_synaptics kernel_linux lcd_devices_bayrad lcd_devices_cfontz lcd_devices_cfontz633 lcd_devices_glk lcd_devices_hd44780 lcd_devices_lb216 lcd_devices_lcdm001 lcd_devices_mtxorb lcd_devices_ncurses lcd_devices_text libreoffice_extensions_presenter-console libreoffice_extensions_presenter-minimizer office_implementation_libreoffice php_targets_php5-4 python_single_target_python2_7 python_targets_python2_7 python_targets_python3_3 ruby_targets_ruby20 userland_GNU video_cards_radeon xtables_addons_account xtables_addons_chaos xtables_addons_condition xtables_addons_delude xtables_addons_dhcpmac xtables_addons_fuzzy xtables_addons_geoip xtables_addons_iface xtables_addons_ipmark xtables_addons_ipp2p xtables_addons_ipset xtables_addons_ipv4options xtables_addons_length2 xtables_addons_logmark xtables_addons_lscan xtables_addons_pknock xtables_addons_psd xtables_addons_quota2 xtables_addons_rawnat xtables_addons_steal xtables_addons_sysrq xtables_addons_tarpit xtables_addons_tee amd64 
        USE_PYTHON=
        >>> Done builtin_infovars
        >>> Starting pkg_info
        >>> Done pkg_info
        >>> Completed ebuild phases initmisc infovars info
        >>> Running ebuild phase tidyup as yuanyelele:yuanyelele...
        >>> Starting builtin_tidyup
        >>> Done builtin_tidyup
        >>> Completed ebuild phase tidyup

Extra Information for media-libs/liblo-0.27:0::gentoo:
        >>> Running ebuild phase killold as yuanyelele:yuanyelele...
        >>> Starting builtin_killold
        >>> Done builtin_killold
        >>> Completed ebuild phase killold
        >>> Running ebuild phases initmisc infovars info as yuanyelele:yuanyelele...
        >>> Starting builtin_initmisc
        >>> Done builtin_initmisc
        >>> Starting builtin_infovars
        ACCEPT_KEYWORDS=amd64
        CBUILD=x86_64-pc-linux-gnu
        CFLAGS=-march=native -mtune=native -O2 -pipe
        CHOST=x86_64-pc-linux-gnu
        CONFIG_PROTECT= 
        CONFIG_PROTECT_MASK= 
        CPPFLAGS=
        CTARGET=
        CXXFLAGS=-march=native -mtune=native -O2 -pipe
        DISTDIR=/usr/portage/distfiles
        FCFLAGS=-O2 -pipe
        FEATURES=
        FFLAGS=-O2 -pipe
        GENTOO_MIRRORS=
        INSTALL_MASK=
        LANG=
        LC_ALL=C
        LDFLAGS=-Wl,-O1 -Wl,--as-needed
        MAKEOPTS=-j2 -l5.0
        PORTAGE_COMPRESS=
        PORTAGE_COMPRESS_FLAGS=
        PORTAGE_CONFIGROOT=
        PORTAGE_RSYNC_EXTRA_OPTS=
        PORTAGE_RSYNC_OPTS=
        PORTAGE_TMPDIR=/tmp/paludis
        PORTDIR=/usr/portage
        PORTDIR_OVERLAY=
        SYNC=
        USE=amd64 elibc_glibc kernel_linux userland_GNU amd64 
        USE_PYTHON=
        >>> Done builtin_infovars
        >>> Starting pkg_info
        >>> Done pkg_info
        >>> Completed ebuild phases initmisc infovars info
        >>> Running ebuild phase tidyup as yuanyelele:yuanyelele...
        >>> Starting builtin_tidyup
        >>> Done builtin_tidyup
        >>> Completed ebuild phase tidyup

Extra Information for media-sound/rosegarden-13.04::installed:
        >>> Running ebuild phase killold as yuanyelele:yuanyelele...
        >>> Starting builtin_killold
        >>> Done builtin_killold
        >>> Completed ebuild phase killold
        >>> Running ebuild phases initmisc infovars info as yuanyelele:yuanyelele...
        >>> Starting builtin_initmisc
        >>> Done builtin_initmisc
        >>> Starting builtin_infovars
        ACCEPT_KEYWORDS=amd64
        CBUILD=x86_64-pc-linux-gnu
        CFLAGS=-march=native -mtune=native -O2 -pipe
        CHOST=x86_64-pc-linux-gnu
        CONFIG_PROTECT=/etc 
        CONFIG_PROTECT_MASK=/etc/env.d /etc/gconf 
        CPPFLAGS=
        CTARGET=
        CXXFLAGS=-march=native -mtune=native -O2 -pipe
        DISTDIR=/var/db/pkg/media-sound/rosegarden-13.04
        FCFLAGS=-O2 -pipe
        FEATURES=
        FFLAGS=-O2 -pipe
        GENTOO_MIRRORS=
        INSTALL_MASK=
        LANG=
        LC_ALL=C
        LDFLAGS=-Wl,-O1 -Wl,--as-needed
        MAKEOPTS=-j2 -l5.0
        PORTAGE_COMPRESS=
        PORTAGE_COMPRESS_FLAGS=
        PORTAGE_CONFIGROOT=
        PORTAGE_RSYNC_EXTRA_OPTS=
        PORTAGE_RSYNC_OPTS=
        PORTAGE_TMPDIR=/tmp/paludis
        PORTDIR=/var/db/pkg/media-sound/rosegarden-13.04
        PORTDIR_OVERLAY=
        SYNC=
        USE=amd64 elibc_glibc kernel_linux userland_GNU amd64 
        USE_PYTHON=
        >>> Done builtin_infovars
        >>> Starting pkg_info
        >>> Done pkg_info
        >>> Completed ebuild phases initmisc infovars info
        >>> Running ebuild phase tidyup as yuanyelele:yuanyelele...
        >>> Starting builtin_tidyup
        >>> Done builtin_tidyup
        >>> Completed ebuild phase tidyup

Extra Information for media-sound/rosegarden-13.10:0::gentoo:
        >>> Running ebuild phase killold as yuanyelele:yuanyelele...
        >>> Starting builtin_killold
        >>> Done builtin_killold
        >>> Completed ebuild phase killold
        >>> Running ebuild phases initmisc infovars info as yuanyelele:yuanyelele...
        >>> Starting builtin_initmisc
        >>> Done builtin_initmisc
        >>> Starting builtin_infovars
        ACCEPT_KEYWORDS=amd64
        CBUILD=x86_64-pc-linux-gnu
        CFLAGS=-march=native -mtune=native -O2 -pipe
        CHOST=x86_64-pc-linux-gnu
        CONFIG_PROTECT= 
        CONFIG_PROTECT_MASK= 
        CPPFLAGS=
        CTARGET=
        CXXFLAGS=-march=native -mtune=native -O2 -pipe
        DISTDIR=/usr/portage/distfiles
        FCFLAGS=-O2 -pipe
        FEATURES=
        FFLAGS=-O2 -pipe
        GENTOO_MIRRORS=
        INSTALL_MASK=
        LANG=
        LC_ALL=C
        LDFLAGS=-Wl,-O1 -Wl,--as-needed
        MAKEOPTS=-j2 -l5.0
        PORTAGE_COMPRESS=
        PORTAGE_COMPRESS_FLAGS=
        PORTAGE_CONFIGROOT=
        PORTAGE_RSYNC_EXTRA_OPTS=
        PORTAGE_RSYNC_OPTS=
        PORTAGE_TMPDIR=/tmp/paludis
        PORTDIR=/usr/portage
        PORTDIR_OVERLAY=
        SYNC=
        USE=amd64 elibc_glibc kernel_linux userland_GNU amd64 
        USE_PYTHON=
        >>> Done builtin_infovars
        >>> Starting pkg_info
        >>> Done pkg_info
        >>> Completed ebuild phases initmisc infovars info
        >>> Running ebuild phase tidyup as yuanyelele:yuanyelele...
        >>> Starting builtin_tidyup
        >>> Done builtin_tidyup
        >>> Completed ebuild phase tidyup




Comment 2


Tim Harder






          2013-12-04 03:38:48 UTC
        

Rebuild liblo, threading has been forced on a while ago to fix issues like this.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

