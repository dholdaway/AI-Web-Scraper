Title: 134679 – media-gfx/gimp-2.2.8-r1 build failure - gcc-4.1.1
URL: https://bugs.gentoo.org/show_bug.cgi?id=134679

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 134679
media-gfx/gimp-2.2.8-r1 build failure - gcc-4.1.1
Last modified: 2006-05-28 16:58:39 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 134679 
      - media-gfx/gimp-2.2.8-r1 build failure - gcc-4.1.1


Summary:
media-gfx/gimp-2.2.8-r1 build failure - gcc-4.1.1
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-05-28 12:28 UTC by Simon Ruggier





      Modified:
    
2006-05-28 16:58 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Simon Ruggier





          2006-05-28 12:28:59 UTC
        

if i686-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I. -I../.. -I../.. -I../../app -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include   -I/usr/include -DG_LOG_DOMAIN=\"Gimp-Composite\"  -DGIMP_DISABLE_DEPRECATED -DGDK_MULTIHEAD_SAFE -DGTK_MULTIHEAD_SAFE  -O2 -pipe -march=athlon-xp -Wall -MT gimp-composite-mmx.o -MD -MP -MF ".deps/gimp-composite-mmx.Tpo" \
  -c -o gimp-composite-mmx.o `test -f 'gimp-composite-mmx.c' || echo './'`gimp-composite-mmx.c; \
then mv -f ".deps/gimp-composite-mmx.Tpo" ".deps/gimp-composite-mmx.Po"; \
else rm -f ".deps/gimp-composite-mmx.Tpo"; exit 1; \
fi
gimp-composite-mmx.c:835: warning: 




Comment 1


Simon Ruggier





          2006-05-28 12:28:59 UTC
        

if i686-pc-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I. -I../.. -I../.. -I../../app -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include   -I/usr/include -DG_LOG_DOMAIN=\"Gimp-Composite\"  -DGIMP_DISABLE_DEPRECATED -DGDK_MULTIHEAD_SAFE -DGTK_MULTIHEAD_SAFE  -O2 -pipe -march=athlon-xp -Wall -MT gimp-composite-mmx.o -MD -MP -MF ".deps/gimp-composite-mmx.Tpo" \
  -c -o gimp-composite-mmx.o `test -f 'gimp-composite-mmx.c' || echo './'`gimp-composite-mmx.c; \
then mv -f ".deps/gimp-composite-mmx.Tpo" ".deps/gimp-composite-mmx.Po"; \
else rm -f ".deps/gimp-composite-mmx.Tpo"; exit 1; \
fi
gimp-composite-mmx.c:835: warning: mmx_op_overlay defined but not used
gimp-composite-mmx.c: In function gimp_composite_burn_rgba8_rgba8_rgba8_mmx:
gimp-composite-mmx.c:149: error: can't find a register in class GENERAL_REGS while reloading asm
make[3]: *** [gimp-composite-mmx.o] Error 1
make[3]: Leaving directory `/var/tmp/portage/gimp-2.2.8-r1/work/gimp-2.2.8/app/composite'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/var/tmp/portage/gimp-2.2.8-r1/work/gimp-2.2.8/app'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/var/tmp/portage/gimp-2.2.8-r1/work/gimp-2.2.8'
make: *** [all] Error 2


my /usr/src/linux is actually sys-kernel/gentoo-sources-2.6.16-r7, but I'm
running emerge while chrooted from Ubuntu Dapper.  So ignore the kernel,
basically.

# emerge --info
Portage 2.0.54-r2 (default-linux/x86/2005.1, gcc-4.1.1, glibc-2.3.6-r3,
2.6.15-23-k7 i686)
=================================================================
System uname: 2.6.15-23-k7 i686 Mobile AMD Athlon(tm) 64 Processor 3400+
Gentoo Base System version 1.6.14
ccache version 2.3 [enabled]
dev-lang/python:     2.4.2
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     2.3
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -pipe -march=athlon-xp"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc"
CONFIG_PROTECT_MASK="/etc/gconf /etc/env.d"
CXXFLAGS="-O2 -pipe -march=athlon-xp"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache distlocks nostrip sandbox sfperms strict"
GENTOO_MIRRORS="http://gentoo.osuosl.org/ http://mirror.datapipe.net/gentoo
http://gentoo.chem.wisc.edu/gentoo/ http://distfiles.gentoo.org/
http://www.ibiblio.org/pub/Linux/distributions/gentoo"
LANG="en_CA.UTF-8"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/etc/portage/overlay"
SYNC="rsync://rsync.namerica.gentoo.org/gentoo-portage"
USE="x86 3dnow 3dnowext X X509 Xaw3d a52 aac aalib acpi alsa apache2 arts asf
asm audiofile avahi avi bash-completion berkdb bitmap-fonts bl bootsplash
branding bzip2 cairo cddb cdparanoia cdr chroot cjk cli cpudetection crypt
cscope ctype cups curl curlwrappers dbus dhcp doc dri dts dv dvd dvdr dvdread
dvi edl eds emboss encode esd exif expat fam fat fbcon ffmpeg firefox flac
foomaticdb fortran ftp gd gdbm gif gimp gimpprint glitz gmp gnome gnutls gpm gs
gstreamer gtk gtk2 gtkhtml hal hfs hpn iconv idn ieee1394 imagemagick imlib
ipv6 isdnlog java javascript jfs joystick jpeg jpeg2k kde kdeenablefinal lcms
ldap libcaca libg++ libwww lirc live logitech-mouse logrotate lua lzo mad
matroska md5sum memlimit mikmod mjpeg mmap mmx mmxext mng motif mp3 mpeg
mplayer multicall musicbrainz mysql nas nautilus ncurses network new-login nfs
nls nntp no-htdocs nptl nptlonly nsplugin ntfs offensive ogg oggvorbis
on-the-fly-crypt openal opengl oss pam pcmcia pcre pda pdf pdflib perl php png
povray ppds pppd python qt quicktime rdesktop readline real reflection reiser4
reiserfs rtc ruby samba sasl scanner sdl session simplexml slp soap sockets
speex spell spl sqlite sse sse2 ssl startup-notification subtitles svg svga
syslog t1lib tcpd tetex tga theora threads tiff tokenizer truetype
truetype-fonts type1-fonts udev unicode usb userlocales v4l v4l2 vcd vidix
vim-with-x vorbis vv wifi win32codecs wmf xanim xcomposite xfs xine xinerama
xml2 xorg xpm xprint xrandr xscreensaver xv xvid xvmc zeroconf zlib
video_cards_ati video_cards_fglrx input_devices_evdev input_devices_joystick
input_devices_keyboard input_devices_mouse input_devices_synaptics userland_GNU
kernel_linux elibc_glibc"
Unset:  CTARGET, INSTALL_MASK, LC_ALL, LDFLAGS, LINGUAS, MAKEOPTS,
PORTAGE_RSYNC_EXTRA_OPTS, PORTAGE_RSYNC_OPTS




Comment 2


Samuli Suominen (RETIRED)






          2006-05-28 12:33:25 UTC
        

Man, you can't expect outdated software to compile with gcc-4.1.1.. it's fixed allready, just use newer version of gimp.




Comment 3


Jakub Moc (RETIRED)






          2006-05-28 12:35:29 UTC
        

Use 2.2.10; in general, only report these bugs if latest available version in portage doesn't work for you.





Comment 4


Simon Ruggier





          2006-05-28 16:58:39 UTC
        

(In reply to comment #2)
> Use 2.2.10; in general, only report these bugs if latest available version in
> portage doesn't work for you.
> 

Sorry, I'll do that from now on.  I wasn't sure whether these (by which I mean all of the bugs I've files that are similar to this one) bugs should have been omitted, since that basically means that mixed stable and unstable packages aren't fully supported.  Perhaps the portage docs somewhere around package.keywords should mention this.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

