Title: 193641 – media-video/kdenlive-0.4 needs automake-1.8
URL: https://bugs.gentoo.org/show_bug.cgi?id=193641

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 193641
media-video/kdenlive-0.4 needs automake-1.8
Last modified: 2008-04-01 11:20:44 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 193641 
      - media-video/kdenlive-0.4 needs automake-1.8


Summary:
media-video/kdenlive-0.4 needs automake-1.8
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       minor
      


Assignee:

No maintainer - Look at https://wiki.gentoo.org/wiki/Project:Proxy_Maintainers if you want to take care of it








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2007-09-24 12:23 UTC by Zdenek Sojka





      Modified:
    
2008-04-01 11:20 UTC
      (History)
    




          CC List:
        

3 
          users
          
            (show)
          



media-video
rbu
toffanin.mauro









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




tail of output of emerge kdenlive

              (asd,2.83 KB,
                text/plain)

            
2007-09-24 12:25 UTC,

            Zdenek Sojka




Details





kdenlive-0.4.ebuild.patch

              (kdenlive-0.4.ebuild.patch,1.62 KB,
                patch)

            
2007-10-25 09:33 UTC,

            MT




Details
            | Diff





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Zdenek Sojka





          2007-09-24 12:23:52 UTC
        

kdenlive-0.4 on ~amd64 fails to compile with automake errors:
(I do not have automake-1.8 installed, but I have some higher version, so >=automake-1.8.3 is satisfied)
When I manually emerge =automake-1.8.5-r3, it compiles fine


Reproducible: Always

Steps to Reproduce:
1. have system without automake-1.8
2. try to emerge kdenlive

Actual Results:  
kdenlive is missing automake-1.8, fails to compile

Expected Results:  
compile flawlessly, automake-1.8 is installed as dependency or is not required by scripts




Comment 1


Zdenek Sojka





          2007-09-24 12:25:23 UTC
        

Created attachment 131773 [details]
tail of output of emerge kdenlive




Comment 2


MT





          2007-10-25 09:33:24 UTC
        

Created attachment 134305 [details, diff]
kdenlive-0.4.ebuild.patch

i have tested kdenlive-0.4 on a clean stage3 and i can confirm the problem reported by @zypherthe.

the problem happen because kde.eclass force the global variable WANT_AUTOMAKE to value 1.9, but kdenlive esplicitely require automake-1.8, so we need to manually override WANT_AUTOMAKE to '1.8', otherwise the configure script fail.

attached there is an ebuild patch.

NOTE: i have done also some improvements to the ebuild itselt:
- x11-libs/libXt, dev-util/pkgconfig and >=sys-devel/autoconf-2.58 are redundant because come from the kde.eclass; there is no need to redeclare
- the minimum version of some of the required libraries are now in portage as STABLE, so there is no need to declare absoluth atoms.

as AT i have tested the ebuild patch on a clean stage3 and all compile and work correctly. I hope it will be usefull.




Comment 3


Robert Buchholz (RETIRED)






          2008-03-31 21:12:41 UTC
        

Just for reference, it builds and runs fine with everything but ffmpeg and mlt. Since mlt depends on all the codecs listed before, I removed these deps.


+*kdenlive-0.5 (31 Mar 2008)
+
+  31 Mar 2008; Robert Buchholz <rbu@gentoo.org> +kdenlive-0.5.ebuild:
+  Non-maintainer-bump (bug #188626), a lot of fixes and new features,
+  including HD support. Thanks to Toffanin, Patrick Huber and Roberto
+  Castagnola for contributions.
+
+  This should also fix bug #193641.
+






Comment 4


Robert Buchholz (RETIRED)






          2008-03-31 21:14:35 UTC
        

Sorry, wrong bug.




Comment 5


Robert Buchholz (RETIRED)






          2008-03-31 21:14:49 UTC
        

Simply adding 
WANT_AUTOMAKE="1.8" # bug 193641
before inherit is usually the way to go on this.

I cannot reproduce this bug with kdenlive-0.5, please try that.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

