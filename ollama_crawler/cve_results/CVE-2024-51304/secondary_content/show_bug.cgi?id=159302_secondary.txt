Title: 159302 – autoconf-2.59-r7: incorrect DEPEND atom for autoconf-wrapper
URL: https://bugs.gentoo.org/show_bug.cgi?id=159302

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 159302
autoconf-2.59-r7: incorrect DEPEND atom for autoconf-wrapper
Last modified: 2006-12-29 15:10:49 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 159302 
      - autoconf-2.59-r7: incorrect DEPEND atom for autoconf-wrapper


Summary:
autoconf-2.59-r7: incorrect DEPEND atom for autoconf-wrapper
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Core system

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo's Team for Core System packages








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-12-28 11:42 UTC by Kevin Parent





      Modified:
    
2006-12-29 15:10 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Kevin Parent





          2006-12-28 11:42:36 UTC
        

I recently downgraded from autoconf-2.60 to autoconf-2.59-r7 to performs some tests.  I needed to manually downgrade to autoconf-wrapper from 3.2-r2 to 3.2 for autoconf-2.59-r7 to work.

autoconf-2.59-r7.ebuild:

DEPEND=">=sys-apps/texinfo-4.3
        sys-devel/autoconf-wrapper
        =sys-devel/m4-1.4*
        dev-lang/perl"

Should have =sys-devel/autoconf-wrapper-3.2

# emerge --info
Portage 2.1.1-r2 (default-linux/x86/2006.1/desktop, gcc-4.1.1, glibc-2.4-r4, 2.6.18-ck1-r2 i686)
=================================================================
System uname: 2.6.18-ck1-r2 i686 AMD Athlon(tm) 64 Processor 3000+
Gentoo Base System version 1.12.6
Last Sync: Fri, 22 Dec 2006 11:50:01 +0000
app-admin/eselect-compiler: [Not Present]
dev-java/java-config: 1.3.7, 2.0.30
dev-lang/python:     2.3.5, 2.4.3-r4
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.60
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.13-r4
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.17-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=athlon-xp -O2 -msse2 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config /var/bind"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/terminfo"
CXXFLAGS="-march=athlon-xp -O2 -msse2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer noclean sandbox sfperms strict"
GENTOO_MIRRORS="http://mirror.datapipe.net/gentoo http://gentoo.chem.wisc.edu/gentoo/"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.narmerica.gentoo.org/gentoo-portage"
USE="x86 3dnow 3dnowext X a52 aac alsa alsa_cards_via82xx alsa_pcm_plugins_adpcm alsa_pcm_plugins_alaw alsa_pcm_plugins_asym alsa_pcm_plugins_copy alsa_pcm_plugins_dmix alsa_pcm_plugins_dshare alsa_pcm_plugins_dsnoop alsa_pcm_plugins_empty alsa_pcm_plugins_extplug alsa_pcm_plugins_file alsa_pcm_plugins_hooks alsa_pcm_plugins_iec958 alsa_pcm_plugins_ioplug alsa_pcm_plugins_ladspa alsa_pcm_plugins_lfloat alsa_pcm_plugins_linear alsa_pcm_plugins_meter alsa_pcm_plugins_mulaw alsa_pcm_plugins_multi alsa_pcm_plugins_null alsa_pcm_plugins_plug alsa_pcm_plugins_rate alsa_pcm_plugins_route alsa_pcm_plugins_share alsa_pcm_plugins_shm alsa_pcm_plugins_softvol apache2 apm audiofile berkdb bitmap-fonts bonobo bzip2 cairo cdparanoia cdr cli cracklib crypt cups curl dga dlloader dri dts dvd dvdr dvdread eds elibc_glibc emboss encode esd ethereal fam fame ffmpeg firefox flac foomaticdb fortran gdbm gif gnome gpm gstreamer gtk gtk2 gtkhtml iconv idn imagemagick imap imlib input_devices_keyboard input_devices_mouse irda irmc isdnlog ithreads java jpeg jpeg2k kernel_linux lcms ldap libg++ lirc lirc_devices_hauppauge logrotate lzo mad maildir mikmod mjpeg mmx mmxext mng motif mozilla mp3 mpeg mysql mythtv ncurses network nls nptl nptlonly nsplugin nvidia oav offensive ogg opengl oss pam pcre pdf perl png posix ppds pppd pthreads python qt3 qt4 quicktime readline reflection rhythmbox samba sdl session slang sndfile spell spl sse sse2 ssl svga tcpd tiff transcode truetype truetype-fonts type1-fonts udev userland_GNU v4l v4l2 vcd video_cards_nvidia vorbis wifi win32codecs xine xml xorg xv xvid xvmc yv12 zlib"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


SpanKY






          2006-12-29 13:56:31 UTC
        

no, latest autoconf-wrapper should work fine with autoconf-2.59




Comment 2


Kevin Parent





          2006-12-29 14:30:48 UTC
        

Well, it didn't.  Reemerging autoconf-wrapper-3.2-r2 after downgrading autoconf to 2.59-r7 didn't help either.  What additional info do you require?




Comment 3


Kevin Parent





          2006-12-29 14:50:23 UTC
        

Is this what you need?

Downgraded to autoconf-2.59-r7

# emerge =autoconf-2.59-r7 autoconf-wrapper -pv

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild   R   ] sys-devel/autoconf-2.59-r7  USE="-emacs" 0 kB 
[ebuild   R   ] sys-devel/autoconf-wrapper-3.2-r2  0 kB

Attempted to compile dspam cvs, but first need to run autogen.sh:

polly dspam # ./autogen.sh 
You should add the contents of `/usr/share/aclocal/libtool.m4' to `aclocal.m4'.
/usr/share/aclocal/pth.m4:43: warning: underquoted definition of _AC_PTH_ERROR
  run info '(automake)Extending aclocal'
  or see http://sources.redhat.com/automake/automake.html#Extending-aclocal
/usr/share/aclocal/pth.m4:55: warning: underquoted definition of _AC_PTH_VERBOSE
/usr/share/aclocal/pth.m4:61: warning: underquoted definition of AC_CHECK_PTH
/usr/share/aclocal/pilot-link.m4:1: warning: underquoted definition of AC_PILOT_LINK_HOOK
/usr/share/aclocal/oaf.m4:4: warning: underquoted definition of AM_PATH_OAF
/usr/share/aclocal/libglade.m4:7: warning: underquoted definition of AM_PATH_LIBGLADE
/usr/share/aclocal/gconf-1.m4:4: warning: underquoted definition of AM_PATH_GCONF
/usr/share/aclocal/gconf-1.m4:71: warning: underquoted definition of AM_GCONF_SOURCE
/usr/share/aclocal/ao.m4:9: warning: underquoted definition of XIPH_PATH_AO
ac-wrapper: /usr/bin/autom4te-2.60 is missing or not executable.
            Please try emerging the correct version of autoconf.
aclocal-1.9: autom4te failed with exit status: 1
autogen.sh: exited by previous error(s), return code was 1

autogen.sh fails with error:

ac-wrapper: /usr/bin/autom4te-2.60 is missing or not executable.
            Please try emerging the correct version of autoconf.

/usr/bin/autom4te-2.59 is present:

# ls -lF /usr/bin/autom4te*
lrwxrwxrwx 1 root root    25 Dec 29 16:41 /usr/bin/autom4te -> ../lib/misc/ac-wrapper.sh*
-rwxr-xr-x 1 root root 30244 Dec 29 16:34 /usr/bin/autom4te-2.59*


Downgraded autoconf-wrapper to 3.2:

# emerge =autoconf-2.59-r7 =autoconf-wrapper-3.2 -pv

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild   R   ] sys-devel/autoconf-2.59-r7  USE="-emacs" 0 kB 
[ebuild   R   ] sys-devel/autoconf-wrapper-3.2  0 kB 


Try autogen.sh again:

polly dspam # ./autogen.sh 
You should add the contents of `/usr/share/aclocal/libtool.m4' to `aclocal.m4'.
/usr/share/aclocal/pth.m4:43: warning: underquoted definition of _AC_PTH_ERROR
  run info '(automake)Extending aclocal'
  or see http://sources.redhat.com/automake/automake.html#Extending-aclocal
/usr/share/aclocal/pth.m4:55: warning: underquoted definition of _AC_PTH_VERBOSE
/usr/share/aclocal/pth.m4:61: warning: underquoted definition of AC_CHECK_PTH
/usr/share/aclocal/pilot-link.m4:1: warning: underquoted definition of AC_PILOT_LINK_HOOK
/usr/share/aclocal/oaf.m4:4: warning: underquoted definition of AM_PATH_OAF
/usr/share/aclocal/libglade.m4:7: warning: underquoted definition of AM_PATH_LIBGLADE
/usr/share/aclocal/gconf-1.m4:4: warning: underquoted definition of AM_PATH_GCONF
/usr/share/aclocal/gconf-1.m4:71: warning: underquoted definition of AM_GCONF_SOURCE
/usr/share/aclocal/ao.m4:9: warning: underquoted definition of XIPH_PATH_AO
configure.ac: installing `./install-sh'
configure.ac: installing `./missing'
src/Makefile.am: installing `./compile'
src/Makefile.am: installing `./depcomp'


autogen.sh completes sucessfully.








Comment 4


SpanKY






          2006-12-29 15:10:49 UTC
        

autoconf-wrapper-4 already fixes this









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

