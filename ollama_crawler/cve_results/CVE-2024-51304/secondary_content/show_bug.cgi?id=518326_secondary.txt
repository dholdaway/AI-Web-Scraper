Title: 518326 – www-client/firefox-bin-31.0: Errors on loading embded WebM video
URL: https://bugs.gentoo.org/show_bug.cgi?id=518326

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 518326
www-client/firefox-bin-31.0: Errors on loading embded WebM video
Last modified: 2014-10-19 18:59:45 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 518326 
      - www-client/firefox-bin-31.0: Errors on loading embded WebM video


Summary:
www-client/firefox-bin-31.0: Errors on loading embded WebM video
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       major
      


Assignee:

Mozilla Gentoo Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2014-07-27 14:43 UTC by Amadeusz Żołnowski (RETIRED)





      Modified:
    
2014-10-19 18:59 UTC
      (History)
    




          CC List:
        

4 
          users
          
            (show)
          



alexander
gentoo.bugzilla
gstreamer
mozilla









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




emerge --info www-client/firefox-bin

              (emerge.info,5.91 KB,
                application/x-info)

            
2014-07-27 14:44 UTC,

            Amadeusz Żołnowski (RETIRED)




Details





emerge --info media-plugins/gst-plugins-ffmpeg

              (emerge.info,5.53 KB,
                application/x-info)

            
2014-07-27 14:46 UTC,

            Amadeusz Żołnowski (RETIRED)




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Amadeusz Żołnowski (RETIRED)






          2014-07-27 14:43:33 UTC
        

Output from stdin/err:

$ firefox-bin

(process:6322): GLib-CRITICAL **: g_slice_set_config: assertion 'sys_page_size == 0' failed
autosizer-bs: bootstrap.js loaded.
autosizer-bs: Importing Autosizer.
autosizer-bs: Autosizer imported.

ERROR: Caught a segmentation fault while loading plugin file:
/usr/lib64/gstreamer-0.10/libgstffmpeg.so

Please either:
- remove it and restart.
- run with --gst-disable-segtrap --gst-disable-registry-fork and debug.
[6392] ###!!! ABORT: Aborting on channel error.: file /builds/slave/rel-m-rel-l64_bld-000000000000/build/ipc/glue/MessageChannel.cpp, line 1531
[6392] ###!!! ABORT: Aborting on channel error.: file /builds/slave/rel-m-rel-l64_bld-000000000000/build/ipc/glue/MessageChannel.cpp, line 1531

Reproducible: Always

Steps to Reproduce:
1. Turn HTML5 player in YouTube
2. Go to some video on YouTube

Actual Results:  
An immediate crash of Firefox




Comment 1


Amadeusz Żołnowski (RETIRED)






          2014-07-27 14:44:07 UTC
        

Created attachment 381650 [details]
emerge --info www-client/firefox-bin




Comment 2


Amadeusz Żołnowski (RETIRED)






          2014-07-27 14:46:27 UTC
        

Created attachment 381652 [details]
emerge --info media-plugins/gst-plugins-ffmpeg




Comment 3


Amadeusz Żołnowski (RETIRED)






          2014-07-27 14:53:56 UTC
        

It's just a matter of rebuilding media-plugins/gst-plugins-ffmpeg. But why the rebuild hasn't been triggered with upgrade of ffmpeg?




Comment 4


Amadeusz Żołnowski (RETIRED)






          2014-07-27 14:59:54 UTC
        

Hm, the problem hasn't been solved, actually. I still get errors on stdin/err, but Firefox no longer crashes after rebuild of gst-plugins-ffmpeg:


(process:27975): GLib-CRITICAL **: g_slice_set_config: assertion 'sys_page_size == 0' failed
autosizer-bs: bootstrap.js loaded.
autosizer-bs: Importing Autosizer.
autosizer-bs: Autosizer imported.

ERROR: Caught a segmentation fault while loading plugin file:
/usr/lib64/gstreamer-0.10/libgstffmpeg.so

Please either:
- remove it and restart.
- run with --gst-disable-segtrap --gst-disable-registry-fork and debug.

ERROR: Caught a segmentation fault while loading plugin file:
/usr/lib64/gstreamer-0.10/libgstffmpeg.so

Please either:
- remove it and restart.
- run with --gst-disable-segtrap --gst-disable-registry-fork and debug.




Comment 5


Ian Stakenvicius (RETIRED)






          2014-07-28 14:40:21 UTC
        

Interesting; I haven't had any crashes with ff-bin-31, however crashes with firefox-31 (from source) is why i haven't committed that ebuild to the tree yet.

I also haven't had any issues with WebM, however h264 has been broken for me whenever gst-plugins-vaapi has been installed.

I'll continue to look into this.  Thanks for reporting!




Comment 6


LE GARREC Vincent





          2014-07-29 21:16:26 UTC
        

Dear,
I just had exactly the same problem with media-plugins/gst-plugins-libav.
Same problem :
ERROR: Caught a segmentation fault while loading plugin file:
/usr/lib64/gstreamer-1.0/libgstlibav.so

Please either:
- remove it and restart.
- run with --gst-disable-segtrap --gst-disable-registry-fork and debug.
[29826] ###!!! ABORT: Aborting on channel error.: file /home/legarrec/info/portage/www-client/firefox-31.0/work/mozilla-release/ipc/glue/MessageChannel.cpp, line 1531

Same solution : recompile the plugin (still error message but no crashes)




Comment 7


LE GARREC Vincent





          2014-07-29 21:17:25 UTC
        

And the web page was : https://www.ifixit.com/Teardown/Amazon+Fire+Phone+Teardown/27458




Comment 8


pierigno





          2014-07-31 21:23:27 UTC
        

I'm currently using both firefox-bin-31 and firefox-31 compiled with gstreamer enabled and am not experiencing these crashes. Does the issue also occour playing videos at http://www.quirksmode.org/html5/tests/video.html ?

my current setup is:

distro: sabayon
x11-libs/libva-1.3.1
x11-libs/libva-intel-driver-1.3.2
x11-dirvers/xf86-video-intel-2.99.914




Comment 9


Amadeusz Żołnowski (RETIRED)






          2014-08-01 09:02:01 UTC
        

Hm, I no longer see error messages. Strange thing is that I did nothing which could fix the problem.




Comment 10


occ1701





          2014-08-01 20:26:13 UTC
        

Not sure if this is related to this bug but the source version www-client/firefox-31.0 with gstreamer USE crashes with a segfault when accessing any newsstream on http://www.tagesschau.de/




Comment 11


Ian Stakenvicius (RETIRED)






          2014-08-01 20:37:21 UTC
        

(In reply to occ1701 from comment #10)
> Not sure if this is related to this bug but the source version
> www-client/firefox-31.0 with gstreamer USE crashes with a segfault when
> accessing any newsstream on http://www.tagesschau.de/

Not related to this bug.  Could be related to bug 514356 , or bug 518528 and others mentioned within..  i thought there was another bug relating to firefox-31 crashes on gstreamer-rendered content but I can't seem to find it at the moment.




Comment 12


Ian Stakenvicius (RETIRED)






          2014-10-18 03:56:48 UTC
        

Anybody having these issues with firefox or firefox-bin , either 31.2 or 33 ?




Comment 13


Amadeusz Żołnowski (RETIRED)






          2014-10-19 08:57:05 UTC
        

I don't see these error when browsing youtube/html5 anymore.




Comment 14


Ian Stakenvicius (RETIRED)






          2014-10-19 18:59:45 UTC
        

Thanks!  Closing.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

