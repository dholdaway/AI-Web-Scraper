Title: 584978 – dev-libs/quazip: fails to build when CFLAGS/CXXFLAGS has newlines/tabs
URL: https://bugs.gentoo.org/show_bug.cgi?id=584978

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 584978
dev-libs/quazip: fails to build when CFLAGS/CXXFLAGS has newlines/tabs
Last modified: 2021-02-20 22:26:13 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 584978 
      - dev-libs/quazip: fails to build when CFLAGS/CXXFLAGS has newlines/tabs


Summary:
dev-libs/quazip: fails to build when CFLAGS/CXXFLAGS has newlines/tabs
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] Library

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Science Related Packages








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2016-06-04 03:08 UTC by Luke-Jr





      Modified:
    
2021-02-20 22:26 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




build.log

              (build.log,5.91 KB,
                text/plain)

            
2016-06-04 19:30 UTC,

            Luke-Jr




Details





emerge --info

              (emerge--info,20.88 KB,
                text/plain)

            
2016-06-04 20:26 UTC,

            Luke-Jr




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Luke-Jr





          2016-06-04 03:08:06 UTC
        

For clarity, my CFLAGS/CXXFLAGS spans multiple lines of make.conf. quazip apparently tries to do some magic to pass this into qmake, but fails to properly escape the unexpected whitespace.




Comment 1


Coacher





          2016-06-04 13:27:17 UTC
        

What is your problem exactly? Build error, runtime error, QA warnings re CFLAGS?




Comment 2


Luke-Jr





          2016-06-04 19:30:29 UTC
        

Created attachment 436478 [details]
build.log

Compile error: ***Unknown option -march=haswell 

Full build.log attached




Comment 3


Coacher





          2016-06-04 19:56:53 UTC
        

Please also attach the output of `emerge --info'.




Comment 4


Luke-Jr





          2016-06-04 20:26:32 UTC
        

Created attachment 436486 [details]
emerge --info




Comment 5


Andreas Sturmlechner






          2016-12-12 09:56:56 UTC
        

Still happening with 0.7.2?




Comment 6


Luke-Jr





          2016-12-12 10:40:40 UTC
        

(In reply to Andreas Sturmlechner from comment #5)
> Still happening with 0.7.2?

0.7.2 doesn't build (linking fails) for me, but I think it's unrelated to this bug.

/usr/lib/gcc/x86_64-pc-linux-gnu/4.9.3/../../../../x86_64-pc-linux-gnu/bin/ld: CMakeFiles/quazip.dir/JlCompress.cpp.o: warning: relocation against `_ZN10JlCompress11extractFileER6QuaZip7QStringS2_' in readonly section `.text'.
/usr/lib/gcc/x86_64-pc-linux-gnu/4.9.3/../../../../x86_64-pc-linux-gnu/bin/ld: CMakeFiles/quazip.dir/unzip.c.o: relocation R_X86_64_PC32 against symbol `unzGoToFirstFile' can not be used when making a shared object; recompile with -fPIC
/usr/lib/gcc/x86_64-pc-linux-gnu/4.9.3/../../../../x86_64-pc-linux-gnu/bin/ld: final link failed: Bad value




Comment 7


Andreas Sturmlechner






          2016-12-23 10:09:16 UTC
        

fwiw, I can't reproduce that last error of yours (also GCC-4.9.3).









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

