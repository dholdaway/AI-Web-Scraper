Title: 134154 – nvu segfaults in Gnome
URL: https://bugs.gentoo.org/show_bug.cgi?id=134154

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 134154
nvu segfaults in Gnome
Last modified: 2006-11-12 07:38:01 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 134154 
      - nvu segfaults in Gnome


Summary:
nvu segfaults in Gnome
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       major
      


Assignee:

Mozilla Gentoo Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-05-23 15:13 UTC by Marek Kowerski





      Modified:
    
2006-11-12 07:38 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Backtrace of nvu while traying to start on Gnome

              (nvu-backtrace,7.31 KB,
                text/plain)

            
2006-05-24 14:05 UTC,

            Marek Kowerski




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Marek Kowerski





          2006-05-23 15:13:12 UTC
        

nvu 0.9-r2 doesn't work on gentoo amd64 and gnome. It fails to show GUI. Works properly on the same machine with KDE.

emerge info 

Portage 2.0.54-r2 (default-linux/amd64/2005.0, gcc-3.3.4, glibc-2.3.6-r3, 2.6.15-gentoo-r7 x86_64)
=================================================================
System uname: 2.6.15-gentoo-r7 x86_64 AMD Athlon(tm) 64 Processor 3500+
Gentoo Base System version 1.6.14
dev-lang/python:     2.4.2
dev-python/pycrypto: [Not Present]
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.3/env /usr/kde/3.3/share/config /usr/kde/3.3/shutdown /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config /usr/lib/X11/xkb /usr/lib64/mozilla/defaults/pref /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/eselect/compiler /etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://gentoo.zie.pg.gda.pl http://gentoo.po.opole.pl http://gentoo.prz.rzeszow.pl http://src.gentoo.pl"
LINGUAS="pl"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X aalib acl alsa amd64 apache2 arts audiofile avi berkdb bidi bitmap-fonts bzip2 cdr cli crypt cups curl dri dts dvd eds emboss encode esd ethereal exif expat faad fam ffmpeg flac foomaticdb fortran gd gdbm ggi gif glut gmp gnome gpm gstreamer gtk gtk2 gtkhtml hardened idn imap imlib ipv6 isdnlog java jpeg kde lcms libcaca libwww lirc lzw lzw-tiff mad maildir matroska mhash mikmod milter mime mng motif mozilla mp3 mpeg mysql ncurses nls ogg opengl pam pcre pdflib perl pic pie png postgres ppds pppd python qt quicktime readline reflection samba sasl sdl session speex spell spl ssl tcltk tcpd tiff truetype truetype-fonts type1-fonts udev unicode usb vorbis wxwindows xml2 xmms xorg xpm xv zlib linguas_pl userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, MAKEOPTS, PORTAGE_RSYNC_EXTRA_OPTS, PORTAGE_RSYNC_OPTS, PORTDIR_OVERLAY




Comment 1


Marek Kowerski





          2006-05-23 15:30:32 UTC
        

After restart of Gnome nvu shows this message in the terminal window.

/usr/lib/nvu/run-mozilla.sh: line 159: 12466 Segmentation fault      "$prog" ${1+"$@"}






Comment 2


Jakub Moc (RETIRED)






          2006-05-23 15:41:37 UTC
        

Sorry, this bug is not useful without a backtrace...

http://www.gentoo.org/proj/en/qa/backtraces.xml

Reopen once you've attached the needed info.




Comment 3


Marek Kowerski





          2006-05-24 14:05:12 UTC
        

Created attachment 87437 [details]
Backtrace of nvu while traying to start on Gnome

I don't know if this is right, but I wasn't able to get segmentation fault message again. Nvu just stops while started from command line, only the cursor is blinking. I had to breake the program inside gdb to produce this backtrace.
If it is not sufficient please give me some hint what should I do to produce a proper one. This one was made with help of the link you posted.




Comment 4


Marek Kowerski





          2006-05-24 14:08:06 UTC
        

Backtrace attached, reopening bug as asked.




Comment 5


Jory A. Pratt





          2006-06-24 18:28:25 UTC
        

re-emerge gtk+-2 and nvu. this should solve your problem.




Comment 6


Marek Kowerski





          2006-07-03 13:12:26 UTC
        

I did emerge x11-libs/gtk+ nvu, and it didn't help.
Nvu still hangs in Gnome.

emerge --info:
Portage 2.1-r1 (default-linux/amd64/2005.0, gcc-3.3.4, glibc-2.3.6-r4, 2.6.16-gentoo-r9 x86_64)
=================================================================
System uname: 2.6.16-gentoo-r9 x86_64 AMD Athlon(tm) 64 Processor 3500+
Gentoo Base System version 1.6.15
dev-lang/python:     2.4.2
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     [Not Present]
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.13-r2
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.3/env /usr/kde/3.3/share/config /usr/kde/3.3/shutdown /usr/kde/3.4/env /usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/lib64/mozilla/defaults/pref /usr/share/X11/xkb /usr/share/config"
CONFIG_PROTECT_MASK="/etc/env.d /etc/gconf /etc/revdep-rebuild /etc/terminfo"
CXXFLAGS="-O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://gentoo.zie.pg.gda.pl http://gentoo.po.opole.pl http://gentoo.prz.rzeszow.pl http://src.gentoo.pl"
LINGUAS="pl"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X acl alsa amd64 apache2 avi berkdb bidi bitmap-fonts cdr cli crypt cups dlloader dri dvd eds emboss encode faad foomaticdb fortran gif gnome gpm gstreamer gtk gtk2 hardened imap imlib ipv6 isdnlog jpeg kde lzw lzw-tiff maildir matroska milter mime mp3 mpeg ncurses nls opengl pam pcre pdflib perl pic pie png ppds pppd python qt qt3 qt4 quicktime readline reflection sasl sdl session spell spl ssl symlink tcpd tiff truetype truetype-fonts type1-fonts unicode usb wxwindows xorg xpm xv zlib elibc_glibc input_devices_keyboard input_devices_mouse input_devices_evdev kernel_linux linguas_pl userland_GNU"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, MAKEOPTS, PORTAGE_RSYNC_EXTRA_OPTS, PORTDIR_OVERLAY




Comment 7


Jakub Moc (RETIRED)






          2006-11-12 07:38:01 UTC
        

If you can still reproduce this the issue w/ up-to-date toolchain, then file a new bug. Noone can reproduce this and we don't support gcc-3.3.x any more.

http://www.gentoo.org/doc/en/gcc-upgrading.xml









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

