Title: 419333 – sys-apps/openrc-0.9.8.4 fails to make pid for background app
URL: https://bugs.gentoo.org/show_bug.cgi?id=419333

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 419333
sys-apps/openrc-0.9.8.4 fails to make pid for background app
Last modified: 2012-06-04 17:38:58 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 419333 
      - sys-apps/openrc-0.9.8.4 fails to make pid for background app


Summary:
sys-apps/openrc-0.9.8.4 fails to make pid for background app
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Hosted Projects




Classification:

Unclassified




Component:

OpenRC

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

OpenRC Team








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2012-06-02 10:05 UTC by Alexander Vershilov (RETIRED)





      Modified:
    
2012-06-04 17:38 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




patch that will fix this behaviour

              (openrc.patch,733 bytes,
                patch)

            
2012-06-02 10:06 UTC,

            Alexander Vershilov (RETIRED)




Details
            | Diff





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Alexander Vershilov (RETIRED)






          2012-06-02 10:05:03 UTC
        

stable version of openrc has incorrect behaviour in case of background command,
it provides option "--pidfile" instead of "--make-pidfile"

Reproducible: Always

Steps to Reproduce:
1. create new initscript with command_background="yes" and pidfile is set
2. /etc/init.d/myservice start
3.
Actual Results:  
pid file will not be created

Expected Results:  
pidfile ${pidfile} should be created

this behavior is fixed in unstable openrc, but stable version that are in latest stage-3 has this bug.




Comment 1


Alexander Vershilov (RETIRED)






          2012-06-02 10:06:02 UTC
        

Created attachment 313925 [details, diff]
patch that will fix this behaviour

this patch fixes situation (taken from latest openrc)




Comment 2


William Hubbs






          2012-06-04 17:22:07 UTC
        

Since this is fixed in the current ~arch version of openrc, I don't see
doing a backport. It will be included when that version goes stable.




Comment 3


William Hubbs






          2012-06-04 17:28:38 UTC
        

I read the bug wrong. You stated that this patch was taken from the
latest openrc. It sounded like we had already done the fix in the latest
version. Sorry about that.




Comment 4


William Hubbs






          2012-06-04 17:38:58 UTC
        

Ok, after checking the bug again, comment #0 states that this is in fact
fixed in ~arch. So, the fix will come to stable when the ~arch version
of openrc hits stable.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

