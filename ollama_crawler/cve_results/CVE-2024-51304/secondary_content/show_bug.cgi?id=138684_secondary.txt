Title: 138684 – cannot emerge x11-libs/libXdmcp-1.0.1
URL: https://bugs.gentoo.org/show_bug.cgi?id=138684

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 138684
cannot emerge x11-libs/libXdmcp-1.0.1
Last modified: 2006-07-01 15:24:23 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 138684 
      - cannot emerge x11-libs/libXdmcp-1.0.1


Summary:
cannot emerge x11-libs/libXdmcp-1.0.1
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

x86
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo X packagers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2006-07-01 03:49 UTC by Felix Hammer





      Modified:
    
2006-07-01 15:24 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



juantxorena









See Also:






Package list:







Runtime testing required:

---























      Attachments
    




compile output

              (libXdmcp_compile_error,18.81 KB,
                application/octet-stream)

            
2006-07-01 10:35 UTC,

            juantxorena@gmail.com




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Felix Hammer





          2006-07-01 03:49:04 UTC
        

i tried to compile libXdmcp and get this error: 

./include/X11/Xdmcp.h:112: error: syntax error before '}' token
./include/X11/Xdmcp.h:112: warning: data definition has no type or storage class
./include/X11/Xdmcp.h:115: error: syntax error before "BYTE"
./include/X11/Xdmcp.h:115: warning: no semicolon at end of struct or union
./include/X11/Xdmcp.h:116: warning: data definition has no type or storage class
./include/X11/Xdmcp.h:124: error: syntax error before "buffer"
./include/X11/Xdmcp.h:125: error: syntax error before "buffer"
./include/X11/Xdmcp.h:126: error: syntax error before "buffer"
./include/X11/Xdmcp.h:127: error: syntax error before "buffer"
./include/X11/Xdmcp.h:128: error: syntax error before "buffer"
./include/X11/Xdmcp.h:129: error: syntax error before "buffer"
./include/X11/Xdmcp.h:130: error: syntax error before "buffer"
./include/X11/Xdmcp.h:131: error: syntax error before "buffer"
./include/X11/Xdmcp.h:133: error: syntax error before "XdmcpBufferPtr"
./include/X11/Xdmcp.h:135: error: syntax error before "buffer"
./include/X11/Xdmcp.h:136: error: syntax error before "buffer"
./include/X11/Xdmcp.h:137: error: syntax error before "buffer"
./include/X11/Xdmcp.h:138: error: syntax error before "buffer"
./include/X11/Xdmcp.h:139: error: syntax error before "buffer"
./include/X11/Xdmcp.h:140: error: syntax error before "buffer"
./include/X11/Xdmcp.h:141: error: syntax error before "buffer"
./include/X11/Xdmcp.h:142: error: syntax error before "buffer"
./include/X11/Xdmcp.h:144: error: syntax error before "XdmcpBufferPtr"
./include/X11/Xdmcp.h:146: error: syntax error before "buffer"
./include/X11/Xdmcp.h:148: error: syntax error before "array"
./include/X11/Xdmcp.h:149: error: syntax error before "array"
./include/X11/Xdmcp.h:150: error: syntax error before "array"
./include/X11/Xdmcp.h:151: error: syntax error before "array"
./include/X11/Xdmcp.h:153: error: syntax error before "src"
./include/X11/Xdmcp.h:155: error: syntax error before "array1"
./include/X11/Xdmcp.h:157: error: syntax error before "key"
./include/X11/Xdmcp.h:158: error: syntax error before "key"
./include/X11/Xdmcp.h:159: error: syntax error before "key"
./include/X11/Xdmcp.h:176: error: syntax error before "a"
./include/X11/Xdmcp.h:178: error: syntax error before "array"
./include/X11/Xdmcp.h:179: error: syntax error before "array"
./include/X11/Xdmcp.h:180: error: syntax error before "array"
./include/X11/Xdmcp.h:181: error: syntax error before "array"
./include/X11/Xdmcp.h:183: error: syntax error before "array"
./include/X11/Xdmcp.h:184: error: syntax error before "array"
./include/X11/Xdmcp.h:185: error: syntax error before "array"
./include/X11/Xdmcp.h:186: error: syntax error before "array"
In file included from /usr/include/stdlib.h:33,
                 from Alloc.c:41:
/usr/lib/gcc/i686-pc-linux-gnu/3.4.6/include/stddef.h:213: error: syntax error before "typedef"
make[1]: *** [AA8.lo] Fehler 1
make[1]: *** [Alloc.lo] Fehler 1
make[1]: Leaving directory `/var/tmp/portage/libXdmcp-1.0.1/work/libXdmcp-1.0.1'
make: *** [all] Fehler 2

!!! ERROR: x11-libs/libXdmcp-1.0.1 failed.
Call stack:
  ebuild.sh, line 1539:   Called dyn_compile
  ebuild.sh, line 939:   Called src_compile
  ebuild.sh, line 1248:   Called x-modular_src_compile
  x-modular.eclass, line 327:   Called x-modular_src_make
  x-modular.eclass, line 322:   Called die

!!! emake failed
!!! If you need support, post the topmost build error, and the call stack if relevant.



here my emerge --info:

emerge --info
Portage 2.1-r1 (default-linux/x86/2006.0, gcc-3.4.6, glibc-2.3.6-r4, 2.6.16-gentoo-r9 i686)
=================================================================
System uname: 2.6.16-gentoo-r9 i686 Intel(R) Pentium(R) 4 CPU 3.20GHz
Gentoo Base System version 1.6.15
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
ccache version 2.3 [disabled]
dev-lang/python:     2.4.3-r1
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     2.3
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.13-r2
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-O2 -march=pentium4 -pipe"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/lib/X11/xkb /usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/"
CONFIG_PROTECT_MASK="/etc/env.d /etc/gconf /etc/revdep-rebuild /etc/splash /etc/terminfo"
CXXFLAGS="-O2 -march=pentium4 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks metadata-transfer sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LANG="de_DE@euro"
LC_ALL="de_DE@euro"
LINGUAS="de"
MAKEOPTS="-j5"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="x86 X a52 aac aalib alsa apache2 apm asf audiofile avi berkdb bitmap-fonts cdparanoia cli crypt cups curl directfb divx4linux dri dssi dv dvd dvdr dvdread emboss encode exif faad ffmpeg flash foomaticdb fortran gdbm gif gphoto2 gpm gstreamer gtk2 i8x0 ieee1394 imlib innodb ipv6 isdnlog jack jackmidi jpeg kde libg++ libwww lzo mad mikmod mmx motif mp3 mpeg mysql ncurses nls nptl nvidia ogg opengl oscar pam pcre pda pdflib perl php png ppds pppd python qt qt3 qt4 quicktime readline real reflection sdl session sms sndfile spell spl ssl sysfs tcpd tetex theora truetype truetype-fonts type1-fonts udev unicode usb v4l v4l2 vidix visualization vorbis vst win32codecs wxgtk1 xine xml xml2 xmms xorg xprint xv xvid yahoo zlib elibc_glibc input_devices_keyboard input_devices_mouse input_devices_evdev kernel_linux linguas_de userland_GNU video_cards_nvidia"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LDFLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


juantxorena@gmail.com





          2006-07-01 05:39:44 UTC
        

I have the same problem, with this emerge --info:

Gentoo Base System version 1.6.15
Portage 2.1-r1 (default-linux/amd64/2006.0, gcc-3.4.6, glibc-2.4-r3, 2.6.17-gentoo x86_64)
=================================================================
System uname: 2.6.17-gentoo x86_64 AMD Athlon(tm) 64 Processor 3500+
distcc 2.18.3 x86_64-pc-linux-gnu (protocols 1 and 2) (default port 3632) [disabled]
ccache version 2.3 [enabled]
dev-lang/python:     2.4.2
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     2.3
dev-util/confcache:  0.4.2-r1
sys-apps/sandbox:    1.2.17
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r3
sys-devel/gcc-config: 1.3.13-r2
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=k8 -O2 -pipe"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/lib/X11/xkb /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/"
CONFIG_PROTECT_MASK="/etc/env.d /etc/gconf /etc/revdep-rebuild /etc/splash /etc/terminfo"
CXXFLAGS="-march=k8 -O2 -pipe"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig ccache confache distlocks metadata-transfer parallel-fetch sandbox sfperms strict"
GENTOO_MIRRORS="http://linuv.uv.es/mirror/gentoo/"
LC_ALL="es_ES.utf8"
LINGUAS="es"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage"
SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage"
USE="amd64 7zip X a52 aac aalib acpi alsa artworkextra asf audiofile avi beagle berkdb bitmap-fonts browserplugin bzip2 cdparanoia cdr cjk cli crypt cups curl dlloader doc dri dts dvd dvdr eds emboss encode esd fat ffmpeg firefox flac foomaticdb fortran gcj gd gdbm gif gimpprint glibc-omitfp glut gnome gpm gstreamer gtk gtk2 gtkhtml guile hal howl html i8x0 idn imagemagick imlib ipv6 isdnlog java jpeg lcms libcaca lm_sensors lzw lzw-tiff mad mng motif mozilla mp3 mpeg musepack nautilus ncurses nls nptl nptlonly nsplugin ntfs nvidia objc ogg oggvorbis openal opengl pam pcre pdflib perl png pppd python qt3 qt4 quicktime readline reflection reiserfs ruby sdl session speex spell spl sqlite ssl svg tcltk tcpd tetex theora tiff truetype truetype-fonts type1-fonts unicode usb userlocales vcd vorbis wma wmf xanim xml xml2 xmms xorg xpm xv xvid zlib elibc_glibc input_devices_keyboard input_devices_mouse kernel_linux linguas_es userland_GNU video_cards_nv video_cards_nvidia video_cards_vesa"
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LDFLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 2


Joshua Baergen (RETIRED)






          2006-07-01 09:00:08 UTC
        

Please attach the entire output of the compile.




Comment 3


juantxorena@gmail.com





          2006-07-01 10:35:20 UTC
        

Created attachment 90632 [details]
compile output

Compile output is too long to writing it down, I attach it.




Comment 4


Joshua Baergen (RETIRED)






          2006-07-01 10:48:40 UTC
        

Try re-emerging x11-proto/xproto.




Comment 5


juantxorena@gmail.com





          2006-07-01 11:07:31 UTC
        

It works. I suposse some dependencies must be corrected.




Comment 6


juantxorena@gmail.com





          2006-07-01 11:15:14 UTC
        

It compiles libXdmcp, but now libX11 fails. Upgrading to modular X.org is becoming a pain in the ass.




Comment 7


Jakub Moc (RETIRED)






          2006-07-01 11:48:02 UTC
        

Closing.




Comment 8


Joshua Baergen (RETIRED)






          2006-07-01 15:24:23 UTC
        

The dependencies are fine.  I've installed X from scratch at least two or three times without a problem.  Some people's systems aren't resolving the dependencies correctly for some reason that we can't determine yet.

'emerge -e xorg-x11' might solve your problem overnight, but no guarantees.  It'll be a long compile, but you have a fast machine.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

