Title: 225379 – app-shells/fish-1.22.1 fails to compile with MAKEOPTS=-j3
URL: https://bugs.gentoo.org/show_bug.cgi?id=225379

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 225379
app-shells/fish-1.22.1 fails to compile with MAKEOPTS=-j3
Last modified: 2009-07-16 16:08:17 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 225379 
      - app-shells/fish-1.22.1 fails to compile with MAKEOPTS=-j3


Summary:
app-shells/fish-1.22.1 fails to compile with MAKEOPTS=-j3
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       minor
      


Assignee:

No maintainer - Look at https://wiki.gentoo.org/wiki/Project:Proxy_Maintainers if you want to take care of it








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2008-06-08 15:56 UTC by John Whitlock





      Modified:
    
2009-07-16 16:08 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




Failed build log with MAKEOPTS=-j3

              (build-j3.log.bz2,3.42 KB,
                application/x-bzip2)

            
2008-06-08 15:58 UTC,

            John Whitlock




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


John Whitlock





          2008-06-08 15:56:59 UTC
        

app-shells/fish-1.22.1 fails to compile with MAKEOPTS=-j3, because of a poorly written makefile.  If MAKEOPTS=-j1, it compiles.  Will attach failing build log.

Reproducible: Always

Steps to Reproduce:
1. run `"MAKEOPTS=-j3" emerge fish` on a dual-core system.  Emerge fails
2. run `"MAKEOPTS=-j1" emerge fish`.  Emerge suceeds




Portage 2.1.4.4 (default-linux/amd64/2006.1/desktop, gcc-4.1.2, glibc-2.6.1-r0, 2.6.23-gentoo-r8 x86_64)
=================================================================
System uname: 2.6.23-gentoo-r8 x86_64 Intel(R) Core(TM)2 CPU 6400 @ 2.13GHz
Timestamp of tree: Sat, 07 Jun 2008 08:00:01 +0000
ccache version 2.4 [enabled]
app-shells/bash:     3.2_p33
dev-java/java-config: 1.3.7, 2.1.6
dev-lang/python:     2.4.4-r9
dev-python/pycrypto: 2.0.1-r6
dev-util/ccache:     2.4-r7
sys-apps/baselayout: 1.12.11.1
sys-apps/sandbox:    1.2.18.1-r2
sys-devel/autoconf:  2.13, 2.61-r1
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2, 1.10.1
sys-devel/binutils:  2.18-r1
sys-devel/gcc-config: 1.4.0-r4
sys-devel/libtool:   1.5.26
virtual/os-headers:  2.6.23-r3
ACCEPT_KEYWORDS="amd64"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=nocona -O2 -pipe -ggdb"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config /var/lib/hsqldb"
CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/php/apache2-php5/ext-active/ /etc/php/cgi-php5/ext-active/ /etc/php/cli-php5/ext-active/ /etc/revdep-rebuild /etc/terminfo /etc/texmf/web2c /etc/udev/rules.d"
CXXFLAGS="-march=nocona -O2 -pipe -ggdb"
DISTDIR="/usr/portage/distfiles"
FEATURES="ccache collision-protect distlocks installsources metadata-transfer parallel-fetch sandbox sfperms splitdebug strict unmerge-orphans userfetch userpriv usersandbox"
GENTOO_MIRRORS="http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo"
LINGUAS="en"
MAKEOPTS="-j3"
PKGDIR="/usr/portage/packages"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/portage/local/layman/marineam-xen /usr/portage/local/layman/xwing /usr/local/portage-secondlife /usr/local/portage-mine"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="X aac aalib accessibility acl acpi akode alsa amd64 apache2 arts asf bash-completion berkdb branding bzip2 cairo caps cdparanoia cdr cli contactnotes cracklib crypt css cups curl dbus directfb doc dri dvd dvdr dvdread emacs emboss encode exif expat fam fastcgi fbcon ffmpeg fftw firefox flac flash fortran ftp gcj gd gdbm gif gpm graphviz gstreamer gtk gtk2 guile hal hbci iconv icq imagemagick imap imlib ipv6 isdnlog jabber java jikes jpeg jpeg2k kde kdeenablefinal kdehiddenvisibility kerberos ldap libwww mad maildir max memlimit mhash midi mikmod mime ming mp3 mpeg mplayer mudflap musepack musicbrainz mysql ncurses nls no-htdocs nptl nptlonly nsplugin nvidia oav ofx ogg opengl openmp oss pam pcre pda perl php png postgres ppds pppd python qmail qt3 qt4 quicktime rdesktop readline realmedia reflection rss samba sasl sdl session soap speex spell spl sqlite sqlite3 ssl startup-notification subversion svg swat sysfs tcl tcltk tcpd tetex tidy tiff tk truetype unicode usb utempter vim-syntax vnc vorbis xml xmlrpc xorg xscreensaver xv xvid xvmc yahoo zeroconf zip zlib" ALSA_CARDS="hda-intel" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic auth_digest authn_anon authn_dbd authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock dbd deflate dir disk_cache env expires ext_filter file_cache filter headers ident imagemap include info log_config logio mem_cache mime mime_magic negotiation proxy proxy_ajp proxy_balancer proxy_connect proxy_http rewrite setenvif so speling status unique_id userdir usertrack vhost_alias" CAMERAS="canon ptp2" ELIBC="glibc" INPUT_DEVICES="keyboard mouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en" USERLAND="GNU" VIDEO_CARDS="fbdev vesa nvidia"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


John Whitlock





          2008-06-08 15:58:46 UTC
        

Created attachment 155969 [details]
Failed build log with MAKEOPTS=-j3




Comment 2


Víctor Ostorga (RETIRED)






          2009-07-16 16:08:17 UTC
        

app-shells/fish-1.22.1 since 10 Feb 2009 is no longer in the tree.
I've tested the current version in the tree ( fish-1.23.0 ) and this issue appears to be solved.

Please reopen if the issue appear in the current version.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

