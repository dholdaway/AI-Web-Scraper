Title: 406603 – =www-client/firefox-10.0.1[webm] fails to build with =media-libs/libvpx-1.0.0
URL: https://bugs.gentoo.org/show_bug.cgi?id=406603

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 406603
=www-client/firefox-10.0.1[webm] fails to build with =media-libs/libvpx-1.0.0
Last modified: 2012-03-02 15:24:19 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 406603 
      - =www-client/firefox-10.0.1[webm] fails to build with =media-libs/libvpx-1.0.0


Summary:
=www-client/firefox-10.0.1[webm] fails to build with =media-libs/libvpx-1.0.0
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       normal
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2012-03-02 14:21 UTC by Matthew Schultz





      Modified:
    
2012-03-02 15:24 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    




environment-10.0.1

              (environment,260.62 KB,
                text/plain)

            
2012-03-02 14:23 UTC,

            Matthew Schultz




Details





build.log-10.0.1

              (build.log,24.53 KB,
                text/plain)

            
2012-03-02 14:24 UTC,

            Matthew Schultz




Details





View All

Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Matthew Schultz





          2012-03-02 14:21:58 UTC
        

Both 10.0.1 and 10.0.1-r1 firefox fail to build.  It appears to look for libvpx version >= v0.9.7 when it is configuring and is unable to find it in which it then fails.  The problem is I have libvpx-1.0.0 installed so this should not be a problem.

Reproducible: Always

Actual Results:  
checking for vpx/vpx_decoder.h... yes
checking for vpx_codec_dec_init_ver in -lvpx... yes
checking for libvpx version >= v0.9.7... no
configure: error: --with-system-libvpx requested but it is not v0.9.7 or later
*** Fix above errors and then restart with               "make -f client.mk build"
make[2]: *** [configure] Error 1
make[2]: Leaving directory `/var/tmp/portage/www-client/firefox-10.0.1/work/mozilla-release'
make[1]: *** [obj-i686-pc-linux-gnu/Makefile] Error 2
make[1]: Leaving directory `/var/tmp/portage/www-client/firefox-10.0.1/work/mozilla-release'
make: *** [profiledbuild] Error 2
emake failed



emerge --info
Portage 2.1.10.44 (default/linux/x86/10.0, gcc-4.5.3, glibc-2.13-r4, 3.2.6-gentoo i686)
=================================================================
System uname: Linux-3.2.6-gentoo-i686-AMD_Opteron-tm-_Processor_144-with-gentoo-2.1
Timestamp of tree: Wed, 29 Feb 2012 14:30:01 +0000
app-shells/bash:          4.1_p9
dev-java/java-config:     2.1.11-r3
dev-lang/python:          2.7.2-r3, 3.1.4-r3
dev-util/cmake:           2.8.6-r4
dev-util/pkgconfig:       0.26
sys-apps/baselayout:      2.1
sys-apps/openrc:          0.9.9.2
sys-apps/sandbox:         2.5
sys-devel/autoconf:       2.13, 2.68
sys-devel/automake:       1.11.1
sys-devel/binutils:       2.21.1-r1
sys-devel/gcc:            4.5.3-r2
sys-devel/gcc-config:     1.4.1-r1
sys-devel/libtool:        2.4-r1
sys-devel/make:           3.82-r1
sys-kernel/linux-headers: 3.1 (virtual/os-headers)
sys-libs/glibc:           2.13-r4
Repositories: gentoo sunrise x-portage mythtv
ACCEPT_KEYWORDS="x86"
ACCEPT_LICENSE="*"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=opteron -O2 -pipe -fomit-frame-pointer"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/share/config /usr/share/gnupg/qualified.txt"
CONFIG_PROTECT_MASK="/etc/ca-certificates.conf /etc/env.d /etc/env.d/java/ /etc/fonts/fonts.conf /etc/gconf /etc/gentoo-release /etc/php/apache2-php5.3/ext-active/ /etc/php/cgi-php5.3/ext-active/ /etc/php/cli-php5.3/ext-active/ /etc/revdep-rebuild /etc/sandbox.d /etc/terminfo"
CXXFLAGS="-march=opteron -O2 -pipe -fomit-frame-pointer"
DISTDIR="/usr/portage/distfiles"
FEATURES="assume-digests binpkg-logs distlocks ebuild-locks fixlafiles news parallel-fetch protect-owned sandbox sfperms strict unknown-features-warn unmerge-logs unmerge-orphans userfetch"
FFLAGS=""
GENTOO_MIRRORS="http://portage.home http://gentoo.cites.uiuc.edu/pub/gentoo/ http://gentoo.mirrors.easynews.com/linux/gentoo/ http://mirror.phy.olemiss.edu/mirror/gentoo"
LANG="en_US.utf8"
LC_ALL="en_US.utf8"
LDFLAGS="-Wl,-O1 -Wl,--as-needed"
LINGUAS="en ru"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_CONFIGROOT="/"
PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --stats --timeout=180 --exclude=/distfiles --exclude=/local --exclude=/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/var/lib/layman/sunrise /usr/local/portage /usr/local/mythtv_portage/Gentoo"
SYNC="rsync://server.home/gentoo-portage"
USE="3dnow 3dnowext X a52 aac acl acpi adns alsa apache2 audiofile avi bcmath bdf berkdb bluetooth bzip2 cairo calendar caps cdda cdr chardet cjk clamav cli consolekit cracklib crypt css ctype cups curl curlwrappers cxx dbus declarative device-mapper dga directfb dri dts dvb dvd dvdread enca encode exif fbcon ffmpeg flac foomaticdb fortran ftp fts3 gd gdbm gif gmp gnutls gpm gsm gtk gtk2 gzip hal hash hbci iconv ieee1394 imagemagick imap imlib innodb ipv6 java java6 javascript jpeg jpeg2k json kde kipi lcms libcaca libnotify lm_sensors logrotate lzma lzo mad matroska mcal mhash mime mjpeg mmx mmxext mng modules mp3 mp4 mpeg mplayer msession mudflap mysql mysqli mythtv ncurses network nls nptl nptlonly nsplugin nss nvidia offensive ofx ogg openal opengl openmp osc oss pam pcntl pcre pdf pdo pear perl pgo php png policykit posix ppds pppd python qt qt3 qt3support qt4 quicktime readline reflection rtc samba sasl sdl semantic-desktop session simplexml soap sockets spell spl sql sqlite sse sse2 ssl subversion suhosin svg sysfs syslog tcpd theora thumbnail tidy tiff tokenizer transcode truetype udev unicode usb utempter v4l v4l2 vaapi vcd vorbis vpx wddx webkit win32codecs wxwindows x264 x86 xcb xcomposite xforms xine xinerama xml xorg xpm xsl xv xvfb xvid xvmc zip zlib" ALSA_CARDS="emu10k1" ALSA_PCM_PLUGINS="adpcm alaw asym copy dmix dshare dsnoop empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul mulaw multi null plug rate route share shm softvol" APACHE2_MODULES="actions alias auth_basic auth_digest authn_anon authn_dbd authn_dbm authn_default authn_file authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache dav dav_fs dav_lock dbd deflate dir disk_cache env expires ext_filter file_cache filter headers ident imagemap include info log_config logio mem_cache mime mime_magic negotiation proxy proxy_ajp proxy_balancer proxy_connect proxy_http rewrite setenvif so speling status unique_id userdir usertrack vhost_alias" CALLIGRA_FEATURES="kexi words flow plan stage tables krita karbon braindump" CAMERAS="ptp2" COLLECTD_PLUGINS="df interface irq load memory rrdtool swap syslog" ELIBC="glibc" GPSD_PROTOCOLS="ashtech aivdm earthmate evermore fv18 garmin garmintxt gpsclock itrax mtk3301 nmea ntrip navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf superstar2 timing tsip tripmate tnt ubx" INPUT_DEVICES="evdev keyboard mouse" KERNEL="linux" LCD_DEVICES="bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses text" LINGUAS="en ru" PHP_TARGETS="php5-3" RUBY_TARGETS="ruby18 ruby19" USERLAND="GNU" VIDEO_CARDS="nvidia nouveau nv vesa fbdev v4l" XTABLES_ADDONS="quota2 psd pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account"
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS, PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS




Comment 1


Matthew Schultz





          2012-03-02 14:23:40 UTC
        

Created attachment 303989 [details]
environment-10.0.1




Comment 2


Matthew Schultz





          2012-03-02 14:24:00 UTC
        

Created attachment 303991 [details]
build.log-10.0.1




Comment 3


Ben Kohler






          2012-03-02 14:28:39 UTC
        

This has been fixed in the tree, please sync and try again.




Comment 4


Matthew Schultz





          2012-03-02 15:24:19 UTC
        

I saw the new libvpx patch in the latest sync.  That fixed it.  Thanks.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

