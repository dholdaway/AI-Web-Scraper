Title: 103916 – sys-devel/gcc-3.4.4-r1 failed on compile on AMD64
URL: https://bugs.gentoo.org/show_bug.cgi?id=103916

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 103916
sys-devel/gcc-3.4.4-r1 failed on compile on AMD64
Last modified: 2005-08-28 16:40:35 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 103916 
      - sys-devel/gcc-3.4.4-r1 failed on compile on AMD64


Summary:
sys-devel/gcc-3.4.4-r1 failed on compile on AMD64
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

[OLD] GCC Porting

  (show other bugs)



Hardware:

AMD64
        Linux
      







Importance:
      
High
       major
      


Assignee:

Please assign to toolchain








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-08-27 06:26 UTC by Peter M.





      Modified:
    
2005-08-28 16:40 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Peter M.





          2005-08-27 06:26:02 UTC
        

I try to keep my system updated daily, by "emerge sync"ing and then "emerge -Du
world" on a daily or bi-daily basis.  On 8-27-05 I sync'ed and then ran a -Du
world, resulting in the updating of "sys-devel/gcc-3.4.4-r1".  After several
minuets my terminal was left the following test (please excuse any extra text,
I'm fairly new to gentoo and this is my first bug.

insn-attrtab.c: In function `insn_default_latency':
insn-attrtab.c:7293: internal compiler error: Segmentation fault
Please submit a full bug report,
with preprocessed source if appropriate.
See <URL:http://bugs.gentoo.org/> for instructions.
The bug is not reproducible, so it is likely a hardware or OS problem.
make[2]: *** [insn-attrtab.o] Error 1
make[2]: Leaving directory `/var/tmp/portage/gcc-3.4.4-r1/work/build/gcc'
make[1]: *** [stagefeedback_build] Error 2
make[1]: Leaving directory `/var/tmp/portage/gcc-3.4.4-r1/work/build/gcc'
make: *** [profiledbootstrap] Error 2

!!! ERROR: sys-devel/gcc-3.4.4-r1 failed.
!!! Function gcc_do_make, Line 1214, Exitcode 2
!!! emake failed with profiledbootstrap

Reproducible: Didn't try
Steps to Reproduce:
1.
2.
3.




localhost keiron # emerge info
Portage 2.0.51.22-r2 (default-linux/amd64/2005.1, gcc-3.4.4, glibc-2.3.5-r1,
2.6.12-gentoo-r6 x86_64)
=================================================================
System uname: 2.6.12-gentoo-r6 x86_64 AMD Athlon(tm) 64 Processor 3200+
Gentoo Base System version 1.6.13
dev-lang/python:     2.3.5
sys-apps/sandbox:    1.2.12
sys-devel/autoconf:  2.13, 2.59-r6
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6
sys-devel/binutils:  2.15.92.0.2-r10
sys-devel/libtool:   1.5.18-r1
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="amd64"
AUTOCLEAN="yes"
CBUILD="x86_64-pc-linux-gnu"
CFLAGS="-march=k8 -pipe -msse3 -O2"
CHOST="x86_64-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env
/usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/lib64/mozilla/defaults/pref /usr/share/config
/var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-march=k8 -pipe -msse3 -O2"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig distlocks sandbox sfperms strict"
GENTOO_MIRRORS="http://distfiles.gentoo.org
http://distro.ibiblio.org/pub/Linux/distributions/gentoo"
MAKEOPTS="-j2"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync.gentoo.org/gentoo-portage"
USE="amd64 X alsa avi bash-completion berkdb bitmap-fonts bzip2 cdr crypt cups
dvd dvdr dvdread eds encode esd fam foomaticdb fortran gif gnome gpm gstreamer
gtk gtk2 imlib ipv6 java jpeg junit kde lzw lzw-tiff mad mozilla mp3 mpeg mysql
ncurses nls opengl pam pdflib perl png python qt quicktime readline sdl spel
spell ssl tcpd tiff truetype-fonts type1-fonts usb userlocales xine xml2 xmms
xpm xv zlib userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LDFLAGS, LINGUAS, PORTDIR_OVERLAY

My hardware is the following:
DFI UT Ultra-D, Venice 3200+ (socket 939), OCZ El Plat Rev 2 ram running dual
channel totaling to 1 GB of DDR400, OCZ 520W Powerstream PSU, MSI 6600GT
Video-card, and a Western Digital 80GB hard drive.  I have verified that the ram
is functional (13 passes of memtest come up clean) and the system is running
completely at stock.  At the time of the failed compile, I had KDE running, as
well as Gaim, OpenOffice writer, two copies of Konqueror, Thunderbird, three
copies of Firefox, SSH (was ssh'ed into a stage 2 gentoo compile), and two
gnome-terminal windows open (one was the ssh into the other machine and one was
the one in which was the "emerge -Du world"). 
I apologize if this bug report isn't formatted properly, I tried checking in IRC
if anyone had any tips, but people just seemed mildly annoyed I was asking and
ignored me.




Comment 1


Peter M.





          2005-08-28 16:40:35 UTC
        

By removing -msse3 from my cflags and adding sse3 to my use flags, I was able to
compile gcc properly.  Lesson learnt, Venice cores (that do support SSE3) do not
like the -msse3 cflag.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

