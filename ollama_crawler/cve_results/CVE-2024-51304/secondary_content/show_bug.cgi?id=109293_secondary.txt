Title: 109293 – screen 4.0.2 in xwindows doesnt work correctly
URL: https://bugs.gentoo.org/show_bug.cgi?id=109293

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 109293
screen 4.0.2 in xwindows doesnt work correctly
Last modified: 2007-04-01 23:45:13 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 109293 
      - screen 4.0.2 in xwindows doesnt work correctly


Summary:
screen 4.0.2 in xwindows doesnt work correctly
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

New packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
High
       normal
      


Assignee:

Gentoo Shell Tools project








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2005-10-14 12:25 UTC by barthek





      Modified:
    
2007-04-01 23:45 UTC
      (History)
    




          CC List:
        

0 
          users
        








See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


barthek





          2005-10-14 12:25:46 UTC
        

when i run screen from withing xterm or rxvt window as a regular user i get:
/var/run/screen/S-doli/7513.pts-1.1g: No such file or directory
if i run it as root everything works smoothly.
on top of that, screen works smoothly under 'regular' shell from outside of xwindows

doli@1g ~ $ ls -l `which screen`
-rwxr-s--x  1 root utmp 506952 Oct 14 21:16 /usr/bin/screen

doli@1g ~ $ ls -l /var/run | grep screen
drwxrwxr-x  4 root   utmp    120 Oct 14 21:16 screen

any idea whats wrong with this?

my emerge info:
Portage 2.0.53_rc5 (default-linux/x86/2005.0, gcc-3.4.4, glibc-2.3.5-r2,
2.6.12-gentoo-r6 i686)
=================================================================
System uname: 2.6.12-gentoo-r6 i686 Pentium III (Katmai)
Gentoo Base System version 1.12.0_pre9
distcc 2.18.3 i686-pc-linux-gnu (protocols 1 and 2) (default port 3632) [enabled]
dev-lang/python:     2.4.2
sys-apps/sandbox:    1.2.13
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.20
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-pipe -march=pentium3 -O3 -fstack-protector -funroll-all-loops"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/share/config
 /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-pipe -march=pentium3 -O3 -fstack-protector -funroll-all-loops"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig collision-protect distcc distlocks sandbox sfperms strict
userpriv usersandbox"
GENTOO_MIRRORS="http://gentoo.mirror.solnet.ch
http://trumpetti.atm.tut.fi/gentoo/ http://linux.rz.ruhr
-uni-bochum.de/download/gentoo-mirror"
LDFLAGS="-Wl,-O1"
MAKEOPTS="-j4"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
SYNC="rsync://rsync3.se.gentoo.org/gentoo-portage"
USE="x86 X berkdb bitmap-fonts caps chroot crypt eds emboss gd glibc-omitfp gpm
gstreamer gtk gtk2 hard
ened hpn jpeg minimal mmx mp3 ncurses nptl nptlonly ogg pam pam_chroot
pam_timestamp perl png pthreads 
python readline sftplogging slang speex sse ssl symlink tcpd threads truetype
type1-fonts vorbis zlib u
serland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LANG, LC_ALL, LINGUAS, PORTDIR_OVERLAY




Comment 1


barthek





          2005-10-18 01:44:34 UTC
        

additional info

if i su to root and then back to issuing user, like this:

su -
su - user
screen

then screen runs with no problems at all - the only thing is that i have to set
up  x display again.

i also tried doing:
bash --login
screen

but with same as reported earlier effect.




Comment 2


Ira Snyder





          2005-10-22 12:37:49 UTC
        

I'm having the same error. It works just fine as root, and if I su from root to
my normal user, it also works.

2Additionally (probably related?) the title of the terminal I am using changes
to: "Could not write /var/run/utmp: No such process"

Here is my emerge info:
irasnyd@yuki ~ $ emerge info
Portage 2.0.53_rc6 (default-linux/x86/2005.0, gcc-3.4.4, glibc-2.3.5-r2,
2.6.13-archck7 i686)
=================================================================
System uname: 2.6.13-archck7 i686 AMD Athlon(tm) XP 3000+
Gentoo Base System version 1.12.0_pre9
ccache version 2.4 [disabled]
dev-lang/python:     2.4.2
sys-apps/sandbox:    1.2.13
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r1
sys-devel/binutils:  2.16.1
sys-devel/libtool:   1.5.20
virtual/os-headers:  2.6.11-r2
ACCEPT_KEYWORDS="x86 ~x86"
AUTOCLEAN="yes"
CBUILD="i686-pc-linux-gnu"
CFLAGS="-march=athlon-xp -O2 -fomit-frame-pointer -pipe -fforce-addr -fweb
-ftracer -funit-at-a-time"
CHOST="i686-pc-linux-gnu"
CONFIG_PROTECT="/etc /usr/kde/2/share/config /usr/kde/3.4/env
/usr/kde/3.4/share/config /usr/kde/3.4/shutdown /usr/kde/3/share/config
/usr/lib/X11/xkb /usr/share/config /var/qmail/control"
CONFIG_PROTECT_MASK="/etc/gconf /etc/terminfo /etc/env.d"
CXXFLAGS="-march=athlon-xp -O2 -fomit-frame-pointer -pipe -fforce-addr -fweb
-ftracer -funit-at-a-time -fvisibility-inlines-hidden"
DISTDIR="/usr/portage/distfiles"
FEATURES="autoconfig candy distlocks fixpackages sandbox sfperms strict userpriv
usersandbox"
GENTOO_MIRRORS="http://gentoo.ccccom.com http://gentoo.llarian.net/
http://gentoo.osuosl.org/ http://gentoo.oregonstate.edu
http://www.ibiblio.org/pub/Linux/distributions/gentoo"
LANG="en_US.UTF-8"
LC_ALL="en_US.UTF-8"
LDFLAGS="-Wl,-O1 -Wl,--sort-common -s"
PKGDIR="/usr/portage/packages"
PORTAGE_TMPDIR="/var/tmp"
PORTDIR="/usr/portage"
PORTDIR_OVERLAY="/usr/local/portage /usr/local/gentopia"
SYNC="rsync://rsync.namerica.gentoo.org/gentoo-portage"
USE="x86 3dnow 3dnowext X a52 aac alsa ao apm avi berkdb bzip2 cdr crypt cups
curl dbus dvd dvdr dvdread emboss fam fbcon ffmpeg flac freetype gdbm gif
gimpprint glitz gphoto2 gpm gstreamer gtk gtk2 gtkhtml hal imagemagick imlib
java jpeg kde kdeenablefinal libg++ libwww mad matroska mikmod mmap mmx mmxext
mozilla mp3 mpeg ncurses no_wxgtk1 nowebdav nptl nptlonly offensive ogg
oggvorbis opengl pam pcre pdflib perl png python qt quicktime readline real sdl
slang spell sse ssl tcpd theora threads truetype truetype-fonts udev unicode usb
userlocales vorbis win32codecs wxwindows xine xml2 xmms xprint xv xvid zlib
userland_GNU kernel_linux elibc_glibc"
Unset:  ASFLAGS, CTARGET, LINGUAS, MAKEOPTS

This is using app-misc/screen-4.0.2-r4

Thanks!




Comment 3


Jakub Moc (RETIRED)






          2007-04-01 23:45:13 UTC
        

Works just fine here w/ 4.0.3.









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

