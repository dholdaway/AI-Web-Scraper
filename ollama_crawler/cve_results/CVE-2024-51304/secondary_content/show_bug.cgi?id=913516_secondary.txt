Title: 913516 – emerge x11-themes/sound-theme-freedesktop failed configure phase
URL: https://bugs.gentoo.org/show_bug.cgi?id=913516

Go to: 
		Gentoo Home
Documentation
Forums
Lists
Bugs
Planet
Store
Wiki
Get Gentoo!





Gentoo's Bugzilla – Bug 913516
emerge x11-themes/sound-theme-freedesktop failed configure phase
Last modified: 2023-09-02 16:49:53 UTC node [vulture]


Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]













Bug 913516 
      - emerge x11-themes/sound-theme-freedesktop failed configure phase


Summary:
emerge x11-themes/sound-theme-freedesktop failed configure phase
    








Status:
    

RESOLVED
          WORKSFORME
      






Alias:


        None
    





Product:

Gentoo Linux




Classification:

Unclassified




Component:

Current packages

  (show other bugs)



Hardware:

All
        Linux
      







Importance:
      
Normal
       blocker
      


Assignee:

Gentoo Linux bug wranglers








URL:







Whiteboard:




Keywords:








Depends on:







Blocks:









 





      Reported:
    
2023-09-02 16:31 UTC by Gioacchino Mazzurco





      Modified:
    
2023-09-02 16:49 UTC
      (History)
    




          CC List:
        

1 
          user
          
            (show)
          



gio









See Also:






Package list:







Runtime testing required:

---























      Attachments
    



Add an attachment
        (proposed patch, testcase, etc.)
    








Note
              You need to
              log in
              before you can comment on or make changes to this bug.
            

















Description


Gioacchino Mazzurco





          2023-09-02 16:31:33 UTC
        

I am attempting to install my usual desktop environement (KDE plus a few things more), some package in my set depends on x11-themes/sound-theme-freedesktop, but when emerge reach that point it always fail with this message

----------------------------------------------------------------
 * Messages for package x11-themes/sound-theme-freedesktop-0.8:                                                                                                                          
                                                                                                                                                                                         
 * ERROR: x11-themes/sound-theme-freedesktop-0.8::gentoo failed (configure phase):                                                                                                       
 *   econf failed                                                                                                                                                                        
 *                                                                                                                                                                                       
 * Call stack:                                                                                                                                                                           
 *               ebuild.sh, line 136:  Called src_configure                                                                                                                              
 *             environment, line 490:  Called default                                                                                                                                    
 *      phase-functions.sh, line 872:  Called default_src_configure                                                                                                                      
 *      phase-functions.sh, line 907:  Called __eapi2_src_configure                                                                                                                      
 *        phase-helpers.sh, line 851:  Called econf
 *        phase-helpers.sh, line 732:  Called __helpers_die 'econf failed'
 *   isolated-functions.sh, line 112:  Called die
 * The specific snippet of code:
 *              die "$@"
 * 
 * If you need support, post the output of `emerge --info '=x11-themes/sound-theme-freedesktop-0.8::gentoo'`,
 * the complete build log and the output of `emerge -pqv '=x11-themes/sound-theme-freedesktop-0.8::gentoo'`.
 * The complete build log is located at '/var/tmp/portage/x11-themes/sound-theme-freedesktop-0.8/temp/build.log'.
 * The ebuild environment file is located at '/var/tmp/portage/x11-themes/sound-theme-freedesktop-0.8/temp/environment'.
 * Working directory: '/var/tmp/portage/x11-themes/sound-theme-freedesktop-0.8/work/sound-theme-freedesktop-0.8'
 * S: '/var/tmp/portage/x11-themes/sound-theme-freedesktop-0.8/work/sound-theme-freedesktop-0.8'
----------------------------------------------------------------


# emerge --info '=x11-themes/sound-theme-freedesktop-0.8::gentoo' | wgetpaste 
Your paste can be seen here: https://bpa.st/BVGDQ
# emerge -pqv '=x11-themes/sound-theme-freedesktop-0.8::gentoo' | wgetpaste 
Your paste can be seen here: https://bpa.st/XXARA
# cat /var/tmp/portage/x11-themes/sound-theme-freedesktop-0.8/temp/build.log | wgetpaste 
Your paste can be seen here: https://bpa.st/ULARW
# cat /var/tmp/portage/x11-themes/sound-theme-freedesktop-0.8/temp/environment | wgetpaste 
Your paste can be seen here: https://bpa.st/W62TY
# cat /var/tmp/portage/x11-themes/sound-theme-freedesktop-0.8/work/sound-theme-freedesktop-0.8/config.log | wgetpaste 
Your paste can be seen here: https://bpa.st/ZRKKO

I have also found someone else on the internet apparently affected by the same problem

https://www.linuxquestions.org/questions/linux-software-2/failing-to-emerge-x11-themes-sound-theme-freedesktop-due-to-econf-failing-in-configure-phase-on-gentoo-4175728316/

The apparently relevant part of the error message seems the same

checking for XML::Parser... configure: error: XML::Parser perl module is required for intltool

but in my case that perl module seems already installed!

# eix dev-perl/XML-Parser                                                                                                                                                        
[I] dev-perl/XML-Parser                                                                                                                                                                  
     Available versions:  2.460.0-r2                                                                                                                                                     
     Installed versions:  2.460.0-r2(01:39:01 AM 08/14/2023)                                                                                                                             
     Homepage:            https://metacpan.org/release/XML-Parser                                                                                                                        
     Description:         A perl module for parsing XML documents


Any suggestion?
Cheers!




Comment 1


Sam James









          2023-09-02 16:33:16 UTC
        

Please run 'perl-cleaner --all'.




Comment 2


Gioacchino Mazzurco





          2023-09-02 16:34:59 UTC
        

Thanks, I am running it now ;)

I forgot to say this is a fresh installed system!




Comment 3


Sam James









          2023-09-02 16:37:39 UTC
        

It's hard to say how your system got into this state without a list of steps you've followed, but if I had to guess, it'd be something like an emerge got interrupted during Perl rebuilds (perl 5.38 just got stabled) or some USE flag was enabled on Perl which requires perl-cleaner --all afterwards.




Comment 4


Gioacchino Mazzurco





          2023-09-02 16:41:09 UTC
        

A package required perl useflag change

--------------------------------------------------
# required by media-sound/cantata-2.5.0::gentoo                                                                                                                                          
# required by @plasma-g10h4ck (argument)                                                                                                                                                 
>=dev-lang/perl-5.36.1-r3 ithreads                                                                                                                                                       
media-sound/cantata -cdda
--------------------------------------------------

Maybe I didn't read well, but I don't remember any of the messages mentioned that perl cleaning was needed, but yes I remember to read somewhere that ithreads useflag was disabled by default because of compatibility issues




Comment 5


Sam James









          2023-09-02 16:41:22 UTC
        

My guess is something like libxcrypt rebuild failing because I forgot bug 913517.




Comment 6


Sam James









          2023-09-02 16:41:43 UTC
        

(In reply to Gioacchino Mazzurco from comment #4)
> A package required perl useflag change
> 
> --------------------------------------------------
> # required by media-sound/cantata-2.5.0::gentoo                             
> 
> # required by @plasma-g10h4ck (argument)                                    
> 
> >=dev-lang/perl-5.36.1-r3 ithreads                                                                                                                                                       
> media-sound/cantata -cdda
> --------------------------------------------------
> 
> Maybe I didn't read well, but I don't remember any of the messages mentioned
> that perl cleaning was needed, but yes I remember to read somewhere that
> ithreads useflag was disabled by default because of compatibility issues

That'd do it! :D

Yeah, Perl gives you a message after setting certain flags (ithreads is one of them) to tell you to run perl-cleaner --all, but it might have got buried for you.




Comment 7


Gioacchino Mazzurco





          2023-09-02 16:49:53 UTC
        

Running `perl-cleaner --all` before running emerge again fixed the problem.

Thanks!









Format For Printing
 - XML
 - Clone This Bug
 - Clone In The Same 
                        Product
 - Top of page 







Home
| New–[Ex]
| Browse
| Search
| Privacy Policy

| 





[?]
| Reports

| 
Requests

| 
Help


| 
New Account


| 
Log In





[x]



| 
Forgot Password

Login:




[x]

